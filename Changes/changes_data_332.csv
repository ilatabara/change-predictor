id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fnova~master~I985b870759d6c21ef9357b04f39099c02354f135,openstack/nova,master,I985b870759d6c21ef9357b04f39099c02354f135,doc: fix and clarify --block-device usage in user docs,MERGED,2018-10-03 14:30:45.000000000,2019-11-08 15:48:17.000000000,2019-02-21 00:29:11.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-03 14:30:45.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/16027094ebabc5cd9f2e766431f18aadeff54a40', 'message': 'doc: fix and clarify --block-device usage in user docs\n\nThe docs on create a volume-backed server from the command\nline were wrong in a few ways:\n\n* The openstack server create command does not currently allow\n  booting from a volume where a source image is provided and\n  nova creates the volume from the image and uses that volume\n  as the root disk. The nova boot command supports that, so the\n  docs are updated to call out the nova boot command since that\n  is the appropriate command in this case (even the syntax with\n  the openstack server create --block-device was wrong).\n\n* When creating a server from a bootable volume with the OSC CLI,\n  either the --volume or --block-device options should be used\n  for a single volume, but not both. The docs were using both, so\n  the latter is dropped and a note is added which links to the CLI\n  documentation for more details on --block-device option usage.\n\nChange-Id: I985b870759d6c21ef9357b04f39099c02354f135\nCloses-Bug: #1794827\n'}]",4,607589,16027094ebabc5cd9f2e766431f18aadeff54a40,15,10,1,6873,,,0,"doc: fix and clarify --block-device usage in user docs

The docs on create a volume-backed server from the command
line were wrong in a few ways:

* The openstack server create command does not currently allow
  booting from a volume where a source image is provided and
  nova creates the volume from the image and uses that volume
  as the root disk. The nova boot command supports that, so the
  docs are updated to call out the nova boot command since that
  is the appropriate command in this case (even the syntax with
  the openstack server create --block-device was wrong).

* When creating a server from a bootable volume with the OSC CLI,
  either the --volume or --block-device options should be used
  for a single volume, but not both. The docs were using both, so
  the latter is dropped and a note is added which links to the CLI
  documentation for more details on --block-device option usage.

Change-Id: I985b870759d6c21ef9357b04f39099c02354f135
Closes-Bug: #1794827
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/607589/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,16027094ebabc5cd9f2e766431f18aadeff54a40,bug/1794827," this volume, use the ``--block-device`` parameter with the ``nova boot`` command. $ nova boot --flavor FLAVOR --block-device \ See the `nova boot`_ command documentation and :doc:`block-device-mapping` for more details on these parameters. .. note:: As of the Stein release, the ``openstack server create`` command does not support creating a volume-backed server from a source image like the ``nova boot`` command. The next steps will show how to create a bootable volume from an image and then create a server from that boot volume using the ``openstack server create`` command. .. note:: The example here uses the ``--volume`` option for simplicity. The ``--block-device`` option could also be used for more granular control over the parameters. See the `openstack server create`_ documentation for details. $ openstack server create --flavor 2 --volume VOLUME_ID myInstanceFromVolume.. _nova boot: https://docs.openstack.org/python-novaclient/latest/cli/nova.html#nova-boot .. _openstack server create: https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/server.html#server-create "," this volume, use the ``--block-device`` parameter. $ openstack server create --flavor FLAVOR --block-device \ See :doc:`block-device-mapping` for more details on these parameters. $ openstack server create --flavor 2 --volume VOLUME_ID \ --block-device source=volume,id=$VOLUME_ID,dest=volume,size=10,shutdown=preserve,bootindex=0 \ myInstanceFromVolume",20,6
openstack%2Fcharm-nova-cell-controller~stable%2F19.10~Ib3937915c5195b5e031d5056959932849012fc23,openstack/charm-nova-cell-controller,stable/19.10,Ib3937915c5195b5e031d5056959932849012fc23,Add train template and train functional tests,MERGED,2019-11-07 13:25:21.000000000,2019-11-08 15:44:34.000000000,2019-11-08 15:44:34.000000000,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/1af918068efdca6ffd6d4b8e02861dcd94f5e119', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-11-07 16:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/e926b00d7779f4f8445963356cad05054a53af5e', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-11-08 13:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/de4538e73ccde93e910042a1c393ac6abe691ec6', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nDepends-On: https://review.opendev.org/#/c/693535/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-11-08 13:19:54.000000000', 'files': ['src/reactive/nova_cell_controller_handlers.py', 'unit_tests/test_nova_cell_controller_handlers.py', 'src/metadata.yaml', 'src/lib/charm/openstack/nova_cell_controller.py', 'src/templates/train/nova.conf', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/846db3dc23ed0c3f89b0fca4a5a203fba7e90454', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nDepends-On: https://review.opendev.org/#/c/693535/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,693353,846db3dc23ed0c3f89b0fca4a5a203fba7e90454,17,5,4,11805,,,0,"Add train template and train functional tests

A train template is added which pulls in sectional
placement config from charm-layer-openstack.

This requires adding identity-credentials as a required
interface for train and above.

This patch also updates the smoke test to run train.

Closes-Bug: 1850691
Depends-On: https://review.opendev.org/#/c/692426/
Depends-On: https://review.opendev.org/#/c/693535/
Change-Id: Ib3937915c5195b5e031d5056959932849012fc23
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/53/693353/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/nova_cell_controller_handlers.py', 'unit_tests/test_nova_cell_controller_handlers.py', 'src/lib/charm/openstack/nova_cell_controller.py', 'src/metadata.yaml', 'src/templates/train/nova.conf', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml']",8,1af918068efdca6ffd6d4b8e02861dcd94f5e119,bug/1850691,"series: bionic relations: - - nova-cloud-controller:nova-cell-api - nova-cell-controller-cell2:nova-cell-compute - - nova-cloud-controller:shared-db-cell - mysql-cell2:shared-db - - nova-cloud-controller:amqp-cell - rabbitmq-server-nova-cell2:amqp - - nova-compute-cell2:amqp - rabbitmq-server-nova-cell2:amqp - - neutron-gateway:amqp - rabbitmq-server-neutron:amqp - - neutron-gateway:amqp-nova - rabbitmq-server-nova:amqp - - keystone:shared-db - mysql:shared-db - - nova-cloud-controller:identity-service - keystone:identity-service - - glance:identity-service - keystone:identity-service - - neutron-api:identity-service - keystone:identity-service - - neutron-openvswitch:neutron-plugin-api - neutron-api:neutron-plugin-api - - neutron-api:shared-db - mysql:shared-db - - neutron-api:amqp - rabbitmq-server-neutron:amqp - - neutron-gateway:neutron-plugin-api - neutron-api:neutron-plugin-api - - glance:shared-db - mysql:shared-db - - glance:amqp - rabbitmq-server-neutron:amqp - - nova-cloud-controller:image-service - glance:image-service - - nova-compute-cell2:image-service - glance:image-service - - nova-cell-controller-cell2:cloud-compute - nova-compute-cell2:cloud-compute - - nova-cell-controller-cell2:identity-credentials - keystone:identity-credentials - - nova-cloud-controller:amqp - rabbitmq-server-nova:amqp - - nova-cell-controller-cell2:amqp - rabbitmq-server-nova-cell2:amqp - - nova-cloud-controller:quantum-network-service - neutron-gateway:quantum-network-service - - nova-compute-cell2:neutron-plugin - neutron-openvswitch:neutron-plugin - - neutron-openvswitch:amqp - rabbitmq-server-neutron:amqp - - nova-cloud-controller:shared-db - mysql:shared-db - - nova-cell-controller-cell2:shared-db - mysql-cell2:shared-db - - nova-cloud-controller:neutron-api - neutron-api:neutron-api - - nova-compute-cell2:cloud-credentials - keystone:identity-credentials - - ntp:juju-info - nova-compute-cell2:juju-info - - ntp:juju-info - neutron-gateway:juju-info - - placement:identity-service - keystone:identity-service - - placement:shared-db - mysql:shared-db - - nova-cloud-controller:placement - placement:placement applications: glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: cloud:bionic-train worker-multiplier: 0.25 keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: admin-password: openstack openstack-origin: cloud:bionic-train worker-multiplier: 0.25 mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 mysql-cell2: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: cloud:bionic-train worker-multiplier: 0.25 neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: cloud:bionic-train worker-multiplier: 0.25 neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: cloud:bionic-train worker-multiplier: 0.25 debug: true nova-cell-controller-cell2: charm: nova-cell-controller series: bionic num_units: 1 options: openstack-origin: cloud:bionic-train worker-multiplier: 0.25 debug: true cell-name: ""cell2"" nova-compute-cell2: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 constraints: mem=4G options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: cloud:bionic-train debug: true ntp: charm: cs:ntp-24 num_units: 0 rabbitmq-server-nova: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 rabbitmq-server-nova-cell2: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 rabbitmq-server-neutron: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 placement: charm: cs:~openstack-charmers-next/placement num_units: 1 constraints: mem=1G options: openstack-origin: cloud:bionic-train debug: true ",,253,7
openstack%2Fopenstack-helm~master~I4e8411033bbc27dd872f97bd0633871698eb98aa,openstack/openstack-helm,master,I4e8411033bbc27dd872f97bd0633871698eb98aa,[DNM] test,ABANDONED,2019-11-07 15:32:42.000000000,2019-11-08 15:42:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 29144}]","[{'number': 1, 'created': '2019-11-07 15:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/685daf1f22c16d6e9e91ca6cb531959439f43680', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}, {'number': 2, 'created': '2019-11-07 16:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8885c311fad8922e7dc07d8ecda541aad3abe9b3', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}, {'number': 3, 'created': '2019-11-07 17:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/703ab4bcf1a8bc2390d64c4fe38252716a8765ea', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}, {'number': 4, 'created': '2019-11-07 17:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edee6420446de46bb891820c400c08174bbca526', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}, {'number': 5, 'created': '2019-11-07 21:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2b22f5d0b94e252227104a8467a87220e3be976', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}, {'number': 6, 'created': '2019-11-07 22:18:08.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/55908c05c7c397d29752034ebba67954422bac8e', 'message': '[DNM] test\n\nChange-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa\n'}]",0,693376,55908c05c7c397d29752034ebba67954422bac8e,13,2,6,29144,,,0,"[DNM] test

Change-Id: I4e8411033bbc27dd872f97bd0633871698eb98aa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/693376/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values.yaml']",2,685daf1f22c16d6e9e91ca6cb531959439f43680,, container: neutron_openvswitch_agent_kernel_modules: capabilities: add: - SYS_MODULE runAsUser: 0 readOnlyRootFilesystem: true,,8,5
openstack%2Fnova~master~Ic98e01ef5385606792f25f261e36f551386033ae,openstack/nova,master,Ic98e01ef5385606792f25f261e36f551386033ae,Introduce the PENDING instance state,ABANDONED,2018-05-06 19:48:15.000000000,2019-11-08 14:52:33.000000000,,"[{'_account_id': 136}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-06 19:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e95bc0e6963cafb38fb3338eac291347d253d717', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.conductor.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 2, 'created': '2018-12-05 10:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca0c18647e213cb2bdef1f8e5c9a3a1f53fe376f', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 3, 'created': '2018-12-14 11:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7921d3c9d599e27b92c9310cd32aa1f30f4b854b', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 4, 'created': '2019-01-24 15:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44812470253aaf192ffa027b9221a959fd7fdf71', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 5, 'created': '2019-02-18 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ec50f910c2cbdc4d4d257a5b1d2dc965540ffd2', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 6, 'created': '2019-02-18 20:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e907e6ad76a094d30ef2bc20a71cd42d6bd5b4e6', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 7, 'created': '2019-02-24 22:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d406b687bc85844070bb256273e88e6cb025499b', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 8, 'created': '2019-02-26 23:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3492c4cd3fd69a25c018e5a8cf99fe869a3f378a', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 9, 'created': '2019-03-01 10:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec306ab2c97c17ae8a77d2220971eb5fddd80c30', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 10, 'created': '2019-04-05 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d00842de04eaa25f55f4a3a66150918c6d86578c', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 11, 'created': '2019-04-09 12:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba53e82477365b4d46674bcfcc6b0f60a56d6489', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 12, 'created': '2019-04-13 12:25:23.000000000', 'files': ['nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/api/openstack/common.py', 'doc/notification_samples/common_payloads/InstanceActionRebuildPayload.json', 'doc/api_samples/versions/v21-version-get-resp.json', 'doc/notification_samples/common_payloads/InstanceExistsPayload.json', 'nova/compute/vm_states.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/notification_samples/common_payloads/InstanceUpdatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionVolumeSwapPayload.json', 'nova/notifications/objects/compute_task.py', 'nova/notifications/objects/instance.py', 'doc/notification_samples/common_payloads/InstanceActionVolumePayload.json', 'nova/objects/fields.py', 'doc/notification_samples/common_payloads/InstancePayload.json', 'doc/notification_samples/common_payloads/InstanceActionSnapshotPayload.json', 'doc/notification_samples/common_payloads/InstanceActionPayload.json', 'doc/notification_samples/common_payloads/InstanceCreatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionResizePrepPayload.json', 'nova/conf/base.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'doc/notification_samples/common_payloads/ComputeTaskPayload.json', 'doc/notification_samples/common_payloads/InstanceActionRescuePayload.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/60b2ac422a25a9207a838fb52ca46764523e4061', 'message': 'Introduce the PENDING instance state\n\nThe instances that failed to schedule due to NoValidHost, are set to\nPENDING, instead of ERROR, if the operator enables the config option\nCONF.use_pending_state.\n\nIn the scope of this change a new API microversion is added. For all\nrequests to previous microversions the PENDING state is mapped to the\nERROR state.\n\nChange-Id: Ic98e01ef5385606792f25f261e36f551386033ae\nImplements: blueprint introduce-pending-vm-state\n'}]",6,566473,60b2ac422a25a9207a838fb52ca46764523e4061,122,19,12,27057,,,0,"Introduce the PENDING instance state

The instances that failed to schedule due to NoValidHost, are set to
PENDING, instead of ERROR, if the operator enables the config option
CONF.use_pending_state.

In the scope of this change a new API microversion is added. For all
requests to previous microversions the PENDING state is mapped to the
ERROR state.

Change-Id: Ic98e01ef5385606792f25f261e36f551386033ae
Implements: blueprint introduce-pending-vm-state
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/566473/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/conductor.py', 'doc/notification_samples/common_payloads/InstanceActionVolumeSwapPayload.json', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'doc/notification_samples/common_payloads/InstanceActionVolumePayload.json', 'nova/api/openstack/common.py', 'nova/objects/fields.py', 'doc/notification_samples/common_payloads/InstancePayload.json', 'doc/notification_samples/common_payloads/InstanceActionSnapshotPayload.json', 'doc/notification_samples/common_payloads/InstanceActionPayload.json', 'doc/notification_samples/common_payloads/InstanceCreatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionResizePrepPayload.json', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/vm_states.py', 'nova/conductor/manager.py', 'doc/notification_samples/common_payloads/InstanceUpdatePayload.json', 'doc/notification_samples/common_payloads/InstanceActionRescuePayload.json']",22,e95bc0e6963cafb38fb3338eac291347d253d717,bp/introduce-pending-vm-state," ""nova_object.version"": ""1.2"""," ""nova_object.version"": ""1.1""",130,37
openstack%2Fcloudkitty~master~I3384ce9d03429d6eaa86c2121bfbae7101380fdc,openstack/cloudkitty,master,I3384ce9d03429d6eaa86c2121bfbae7101380fdc,Make cloudkitty build reproducible.,MERGED,2019-11-07 21:04:26.000000000,2019-11-08 14:49:34.000000000,2019-11-08 14:48:18.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-11-07 21:04:26.000000000', 'files': ['cloudkitty/orchestrator.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1948308523e5ea6680226a59dd353f96e1f129a0', 'message': ""Make cloudkitty build reproducible.\n\nWhilst working on the Reproducible Builds effort [0] we noticed\nthat cloudkitty could not be built reproducibly.\n\nThis is because it embeds the number of CPUs of the build host in the\nsample configuration. Patch attached that uses oslo-config's\nsample_default instead.\n\n [0] https://reproducible-builds.org/\n\nSee also Debian bug: https://bugs.debian.org/942847\n\nChange-Id: I3384ce9d03429d6eaa86c2121bfbae7101380fdc\n""}]",0,693428,1948308523e5ea6680226a59dd353f96e1f129a0,7,2,1,6476,,,0,"Make cloudkitty build reproducible.

Whilst working on the Reproducible Builds effort [0] we noticed
that cloudkitty could not be built reproducibly.

This is because it embeds the number of CPUs of the build host in the
sample configuration. Patch attached that uses oslo-config's
sample_default instead.

 [0] https://reproducible-builds.org/

See also Debian bug: https://bugs.debian.org/942847

Change-Id: I3384ce9d03429d6eaa86c2121bfbae7101380fdc
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/28/693428/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/orchestrator.py'],1,1948308523e5ea6680226a59dd353f96e1f129a0,reproducibe," sample_default=4, sample_default=20,",,2,0
openstack%2Fossa~master~I6914dc0799538fe4d8106593f414e5bfbaf65137,openstack/ossa,master,I6914dc0799538fe4d8106593f414e5bfbaf65137,Refresh public OpenPGP key for Jeremy Stanley,MERGED,2019-11-07 22:53:25.000000000,2019-11-08 14:29:22.000000000,2019-11-08 14:28:20.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 22:53:25.000000000', 'files': ['doc/source/_static/0x97ae496fc02dec9fc353b2e748f9961143495829.txt'], 'web_link': 'https://opendev.org/openstack/ossa/commit/cb1ae0756e8a05079b67a5ba255d9685b4ba9c2c', 'message': 'Refresh public OpenPGP key for Jeremy Stanley\n\nI explicitly maintain a <= 1 year expiration on my public OpenPGP\nkey and bump it periodically. As a result, the convenience export we\npublish should also be refreshed with some regularity so that an old\nexpired version is not served in error. Update my key here with a\nmore recent export.\n\nChange-Id: I6914dc0799538fe4d8106593f414e5bfbaf65137\n'}]",0,693440,cb1ae0756e8a05079b67a5ba255d9685b4ba9c2c,7,2,1,5263,,,0,"Refresh public OpenPGP key for Jeremy Stanley

I explicitly maintain a <= 1 year expiration on my public OpenPGP
key and bump it periodically. As a result, the convenience export we
publish should also be refreshed with some regularity so that an old
expired version is not served in error. Update my key here with a
more recent export.

Change-Id: I6914dc0799538fe4d8106593f414e5bfbaf65137
",git fetch https://review.opendev.org/openstack/ossa refs/changes/40/693440/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/0x97ae496fc02dec9fc353b2e748f9961143495829.txt'],1,cb1ae0756e8a05079b67a5ba255d9685b4ba9c2c,key-refresh,pub rsa4096/0x48F9961143495829 2010-06-12 [SC] [expires: 2020-11-06]sub rsa4096/0x17FC38FB4C6A6B3D 2010-06-12 [E] [expires: 2020-11-06]WCkFAl3EnmcFCROSMeMACgkQSPmWEUNJWCmf+xAAiGQnOsoIwWXNdCo9X9Hctd3q EaCFzLOdwBcaDltdsjaVjwXR5oeJnU9H9DsEJN7F+PuhKtB9JJzc4FnlsDHRHCLy Ix107CNMAhVQL31P9erDyyTDfQcRDBxZdSA9EqppCS2ZYksQRbY+4AYOD2gHIhYr DJ4Oe/RwoGo5VFX0hV/dpH+4Av0bm0ogDwuOWc7rF4p07GepxfQOa1xGNCY6KTOR IFRPYL45FnnR8zZYGKq6LzKoSqhsc+Nk89M/4JkBYCszLIkCSRMXYQxrfkV73jrA Ff/g/Ll8DdEHRTN+Bjf+Y20b7u1P8H8dR4aQRgXLjV0BF1k/upUqELLL569Gtt14 Ll445bzuYvYj5zH/0sI158MIoxm2hHbnHR3qJMlnAprVJzVgMYGbcdBlh8btd+Ce ChTV/E4H4lY3FkfYr2J1at9bM2d1GxEegajkhPStkHXSqPCUVESeXeaUqzpPYxAV i3QE3kLWGmP83MuaG5zedQgA3qpyBLVpGJDozLgCp0zpAp2q0HZjvpqp5FV5R67U ZrswOp+GKzhnh2OI4qeh5ahbEDX9P5xZgnGtvDCimHhAkpOVn+XJlfd7kRiafoSp RgDRk3cmG+vWBV/vanyBU+kBfdbMwP+9MABtxmYhcj6RGJBHEJe4RIdTWyEYUHOt sVLRPL511qXuD6WH0vK0IktpbnJ1aSA8a2lucnVpQGthdGFyc2lzLm11ZHB5Lm9yb8At7J/DU7LnSPmWEUNJWCkFAl3Enm4FCROSMeMACgkQSPmWEUNJWCn1vRAAxLIv Rc3YZLdeMfN+wTS7zPR24PFv55+7puf9HIxPTknZ0Dqxt2eTDw9SVt2y+Yf4Kw+b 5KVuqXUKpb9KXAjc5Smu1Y/jwkEDPf0551Yp36zYlg4Fcg7/BTNrhZBGHkJkZJ7E rlZAQnKEXTbN4iu+tZbOCoF390DN4etlVj3YxBgMekXX6NvdBydoW2cGhbWmecS4 1Ji2c0h/PqEvkx0glDeJOFfRvQKO6ARUBLeE7JWuQCYcEI+KkuuyHI6msuwQ7n9V xM9NG4htYY9HMM77B6YzUSUUo78HS5/MUSYut+NJTi1uYrLQ+g53U3ukQ554X7Xp lLiqIyGK90dpUvDFUcsaLEUYkETFkKyAiTctLC2CYj8F5vcgaw/5ND50uQmwnGDj y67NNtCYWVk2DG/HQbUbL48sAHF8rASTjqcKxUG86xwND/rs+yXhamQuPzaSDMLy ho0sV9MoHLAj7XiVueYBjaOekS69JoFpHJSSkajpDQmtLaJrBucJFeZBSRNh38SN 6CiV05BHZzVwbhkTfRGikfxoyqb+m/cNw/tzhzlOQKYsUFio1wNL09Y5eOFbBP/h Vwe7r2/aAUBkml0UszhuIF6vcNDJ9LTmi7BEB29mMUSZoeFv7lIwZ77cjQqoDw3u k2EZ9DDZkswUZrJydasF3MgTkg8TqVBJVQbmv8S0JUplcmVteSBTdGFubGV5IDxqAQACHgECF4AWIQSXrklvwC3sn8NTsudI+ZYRQ0lYKQUCXcSebgUJE5Ix4wAKCRBI +ZYRQ0lYKa80D/9b43vZi35KyrUxRc7lM4PFY5CR9fIYLp4FlCkFktvEDnSuDGGv kXwjDnT7qruQPyhTARBLr4AAZ+9Exr0SwboGkqmywKohDXfi9n1IQEcNLFR5Ah2u pmLqSHJAaJumCDDbz+wbeNnJ/epFfuD/FuoiAXdf7DYFNgVLzZNYfgN+Gwt7HZGA qihLuRkZf7JlsMtyKXcyGezazui2v6V9ssUKr+SxH/XTp9IknmXNMkyym9ZG/Wok hHmSdUaqk0r9rmaACWjheM7ZseZ7/NEb8Yj3Hj1qmQeYkaUH4Nh3dUfgW7rYZrJ3 8WMDunUoRtfgCdJqkKq5JmlCIBekt6bIw0E8sYt8K0B4jrS2nfzVG46EPcK1XUDM xUJ1KM/JLjszBpiTiv3fLnpjz5wvM1r/Lz0dbF31cv+eBKb9NCuC8K0ixL/mwRAZ WBNUfHES4DB+P0OotTy1ICZZfn8Ax4KPmQ0zYehPyo8uZMBeNDJ4j4F9GPTlDF+5 A6vM2x4BhMJGh1vuE6sx3yYgvip9MVmJknXP7hUoZezQKjmmj55KlkoTreLlyzKa OhNy1dlnEanEqES3/mLpDa8c3AYgEm9ibNV1umYEZJG4Fs3P9GU4zQHwKuoSwZ/4 8vAxQDL+IlvkNiyJcwHosnsRfaj2OjvTfe1D9RU2l55Eu5D/vXUToaGy7bkCDQRMr5DWCKYbfS6XqdcKYtuyWjCjPWSEJ3KK5LwLqnWkgdwL8CE3lS0AEQEAAYkCPAQY AQoAJgIbDBYhBJeuSW/ALeyfw1Oy50j5lhFDSVgpBQJdxJ56BQkTkjH2AAoJEEj5 lhFDSVgpBYoQANON373w+kd9oLuEEfuoJKWAGlxskqw7Vlujzv/NHMHePtkFE8Ho 0gTyQkFmJ1PqMWteH6ujyBrj6uv0ObFcxN6REfMgcV5P9rS94qfuUVzpo00G5VHZ kmjdn1mb4JSPWLamIueVcutna2wAzXvc0JPJ5hDJZqI7DDlWKqVH68ccVnVsVBzt cGCvAq5n6AZgGqhueMYUHp1L5Bc59POcs1CeZemLGZR2D9jyAilmGF0tSkdYeWGA HEla6tmW43lHxQYvKN5OayPLC5Ewdeed7HjIM7Sn2DSNl5ALa22PtHHPV3yc+tGw NtakO6fD30rMrJSpcJVuYaeYMvMmQMpCbcgDm+5Bit9Zxw53DDJipwBGDCeGo7RP /fPMK0d5aoT9rzaKZpskkVu4Nl9KiAx8S8UO+Bo5Vxy7Yd5DuzJ2HvfO6UuEhlr3 q5kI+KcS6oW9GDOK+G7V/baIjim8sJA9mwVkHw6GkCdA9TteVRhV5pWAEMOlFj1r pVHZ9RjVpSzTrzYNJv/f7HiYkKi1HujvBik4c03Hd89erPK5pjGPSsAjniC23Ses UdsD9QchmPsx4iRY5qAC8yr7ZpzUJC/H8n/qNIaRb3SgxkCC5ETg1T0vCd+m6Ex6 yewJD3UHeRzhoOJPwHVHB7sNvIRIZFPc7SMJ0LRoGfP/aFXp8LAQyZEi =zyXl,pub rsa4096/0x48F9961143495829 2010-06-12 [SC] [expires: 2019-08-24]sub rsa4096/0x17FC38FB4C6A6B3D 2010-06-12 [E] [expires: 2019-08-24]WCkFAluARygFCRFN2qQACgkQSPmWEUNJWCkkPw/8D45ArCAO/yAq/Ec+a95lwNxM i+s/Gq5KclBEexKDyWNSpbiW0cNCq+VQSGmcevRk2J9nlBAfhatCKNX5uCcMGUkI 13SkbjpjvPgtemt3fWB3eZou395wKRC30TnnvliOKfd7xV40Qr/ANZmfSinosgL6 Qm0NwuW0iTME7IH/U5ZkVzSYouaJZ2p8a2P/9ZYHCbCflIJyPyW7nhXM5b1hO+4n ZB0VcjJKOH1mGKvb93XPlmdVc3CpZSGFyvKUWZjr8t80cYT1fBO8C9NGJwFwxsca oiL4B/wlC4pVowpFCEMSyNnV84LEaigQU+FZRJMPktQaBfP7G0TKxUu0ku/NEo08 Risg2KxwUJVW/T/zKV7Y/Ub6N2ALFjKEI9af3AugPmZddmx3lD4x5r/uNbMOE2cx y5DfofoGdEdzIeyVUegrtIFoxgXxYP5kTRsv1DUy2Clw2VGeJcsKORyu9VaZfq4L ctdD478w6hROZO9cf8ZK5T+Sxb0bp0LaV+dJk+YZznX7fUk5zHzlvbENiw/1ynWh /T7nFk7LbyNVu224Inuy5usPol72paZhnFRCEfJrlQ0bXjPrc60U4ET0nn228jyo W2JxPKr0VXb8vacUVNSNuL3YBJ0Dx/9toCarNdrQktACjsvVrdQEy+XbeOH5BiDe Zc9VLzukGTIijBvKBe+0IktpbnJ1aSA8a2lucnVpQGthdGFyc2lzLm11ZHB5Lm9yb8At7J/DU7LnSPmWEUNJWCkFAluARy8FCRFN2qQACgkQSPmWEUNJWClIFw/9FrLg qmozMzrjcl8VlUeaL/SRJDxjvKGo58v79pGFfXN14lTtxtJsyFCKgLj5xmYHWRJ4 NkLUIidDcOs3qvc41DD9L3F+xz05rTpxCWD+xFA6ZSfT3xICbS4rIypezSh8Urea V1bpHUTsuIczkRv2bkWy4flmvBZGSLPsbC+YMv3cHyJo0TNc/BJcLqzU7iVkfzTn CVHbR9XlQUE+3dASaiD4wKxQrEQd94AuRsLIBphRbNpWxGe36DEXxZ/nlFirbRBF W6UWqQxIjhtRPoDs4OtO2qtX2MIm5t+n9e/9FU1JyYzB0BwfzgikalIRLQ+f/khn dtJJ7KssqTKW7CFlQrTRNRMyJWEL++FQ5tcbxGkDpNPVR8M4+fwkOGVePGbxFTR0 n6T+jYTMfhvqVgK33R9DHh5ZdbwINcniiiRDIupvDNondWsBxzJBh0f9zy9QYrc3 7duS29N7mIbcGJRkZuWchO/CWHw68oPsDVRxDDaU1NHtbVYs9nLGUDTVHpYs7kg3 qhHgJIX/H0fvDkZLINWchjGECOASu03GCIyF79Qv031HU7D/MWbgjJileSfpssqj x11Sd4tAp3+o6L2IpvaKhqv9pRdd64ouyqV8ZYuzTt3cOkyzGdrSOb/qrFiGhjAm 3/kfVpl/67hx+p0NpGx+gHCNTh2pWEzwdN3haeO0JUplcmVteSBTdGFubGV5IDxqAQACHgECF4AWIQSXrklvwC3sn8NTsudI+ZYRQ0lYKQUCW4BHLwUJEU3apAAKCRBI +ZYRQ0lYKcskD/9WTr89T7nqwh4i8rwv/q8qOVsdGtadvaboJWv+48axeDfALM2A xs9JBaYpwt3mzB4T2Y+DBTNJSw+2dhFNyhmKxKVORazvrCzi6QZLpN9ACEKENLcg fEc4HiXioMIm8ce0eWF3wldpxHieMWSUSbxSsnPzwahEg5N3meUtNB0de5st8ir4 HDjYIAd/e3Kl8CDRphumL8Um6PiThJeh6pA8RzZF7VRCsCHxSvjlZBWLc+SqyZSL lVsaGGAx7ne7ToUiqTVauLj8+Jj2iTFT6Hrw1PaiE9v9LZ762olxDcmqX319T12O PdUT+Tw+GDBFUtNusSJSAAcyXPYI5S5HcLm69fWZhOkqCrAaTOjMQq2URS/Kdalx RVsA1CJVUf6tEHcgdEp89Udk4TCsRhu4d0a9yAbBvRlX2c2R8OlHEk2yeen5k53F UIHAJ6ibhN5ZYvFrG7dehFdXvdOoWqetAuF952UxvxzsLdDT5ZMU9tG77p2defeQ ckqYaiRQ9+7Q6n20QymCtremsaunAtqFN+PDSA8vIUAzIo9IxYFrOOZxfGttR5G1 uFZ6frA/1lDZFR3NHBa1lMJLpU/svoaDnKuDbIhm2hVnaz7jjrwHRCSIJF1eNmWq psQt7gWrt0Q/9hscy7k05PsjJg//QsqMVf8Cf+I7PdTz1PitjQUkMUoauLkCDQRMr5DWCKYbfS6XqdcKYtuyWjCjPWSEJ3KK5LwLqnWkgdwL8CE3lS0AEQEAAYkCJQQY AQoADwIbDAUCV37IwAUJDUxcPAAKCRBI+ZYRQ0lYKYYvD/9Jx6ijSklHUNZeKtuN DFH8jzYmBR2TIEouZW7OB+7gBw6P2vL+8Nj+O1hfkrlpQnRdvMtixBk9pcPDzrm6 WWcjGTcrY5lNhBi8/XZe7nE65Kk/Y/ENMJjXAYijX5FUTyq9yM3VmiHgBNTBHbLe Y8cilwBaxklmB1uNlo5fJW6CnQ76APa8wn74APykgdEjxT8SErBnhxw+5PmDAwFc bwgfvsJojuxVpBNdjiJPTuR+UQNkrRR1oN2TTvaCO55ktdm8afSnefJc6wCd2uHJ 8a8zxRV2zX1sEDy+scqYiZo+7s6l9ee5mJZIrMzKYcEBTIPl525c5+ghPU6EX+0H HQtMKYBHz/tCwxPAAemLEyxGUmAxgMxtOss+WZTAo6bZdO6yz0lQwyfAHuEU/SZq zQ5fJGoyeus987zOyZvzggVX1TS3ky+5cqwaJO0Xy4n5j//RVYC/GGR+HP+kPIaT juzCcwmIMy70Bv7d0vz/M7AfHqJP8r3qvsSYUG2jfZUeLjHuK53R7NZu4lcLu5YY 6PDztMmQ6L8Ndx8DuammFwph2ePtHUFeZkkE3/mVhssC44LTtzbg6y5/1viqac1v PY+xyvYG4XozA8PHV7i+Fqj2GnzvANyAxV7piNbKH6JGfg5sd+LVcDDgBEfdSP22 I12wOtyFSNjInBD3F0V1j4WR3YkCJQQYAQoADwIbDAUCWUqbZAUJDxgu4AAKCRBI +ZYRQ0lYKYARD/42EZ7tKfS0GqxzuogKv1C4x56c+HU5IQyTMNwB5vhlCMLbjmRf 2+xeJZf5DXOBCSW4HKZFa9sGK5MN0IijbSPd64FYyeu4JqW7GIxDAq46HCOIRVjQ BW7INZiHOzdMeeyLYHf+4AbNfKwhhh8SSxgcUvkhPBiYJtsyx5nZR8FWS/Xs0W0y jeDJ2+GKbSfSh2k8XVX78V45Dvo6RRLpZJ1QIBlYXvti+1t//hS/voKRYdysGrQX GOIpM2y8+BPFWA/B0m9n/DkqYBBtGnOfIw/FL1ygAKfnIokUJmSYpGd1Ygx/7SjF eBYeEpsn2AmiA5Jb7Ud84qtjIvPnZObun3FfVf/Jdr1Wg/hwpR9VyyWoa1VFuU8i iF4UztxWwqNhs/l3Jc4wrAlMooRmv2sHETMNZn5WxAlgUmtin6qbGLTcxje/On52 7zoSGN6OWv78O4wJvJUGhJvA4D4kof+YY8h5+M1n2CAxmVbgAlkH/Rhhv4FjzfJh oJspElQsIZ2AqgEc3Bp2V9BOJwG2BnY3fOIYzs+LODrFfJxJzgO2fhHSnExYKVTv hI7APIzxDU+H7ogBWCmHVVWr1Sxzj32KRPZeYxUz4a5jHSzWQXoeDO20oybFa06W EZmLmXGU/QG7g/aLhx/KS1hSOJ+VUzXrQjYBXMoOecRwOrPMAUCyqha4EYkCPAQY AQoAJgIbDBYhBJeuSW/ALeyfw1Oy50j5lhFDSVgpBQJbEWB+BQkQ3vP6AAoJEEj5 lhFDSVgpuFwP/0G4YrqHSg0muqKcXVW9RjnEmddZJY8yHDt6bfhCUEUgQrtvJtb5 EiVa3LOd0DbjH9vuIK1XrdwtwT32LftzfAXvEnCxaaM5FXuq8JgBG0Gl/VVlsL2O 7XmPZwhyzbtzoEIQ9Kz2CnFnyAd6IvygOwNK+3gMi2IgbV078n5KkKUP6jx9r40h i/wfOInpSEDUMOyI4JGY58Eu5TIAL7S791lsJFvEUz++IzCUJn7oRe5rMTH3ufKl 131bNHRBWF5tiywVXHFqtM8dogoXEb0iAWv+tJOI/dvyErEm08Lz/VMGg7B3yZgd xkDkzWTCOUgLxteP2NzcGtHuf1kqUkWVUQGlzi7i1Qknsx5JBkyCsUlPIs0+uNja igz5D2hX5bT/dW2NAQQHQkdBWKGwlLD1KXoZQmS0apCXH+OanVi7OO69v6FhrWLP zpjaxqr4j4AaolsFmyykjs3EIb6Ep4c7LUuGaD9daTvJfluS9549h5viAzFvZ+dr tcPCmFGwhNBjJysFu1yk7RmJNcOGxysKxhehWeHu4q3Ke1Vb9r+tHyMZ68nd79gO QTFrYyQlqrlgAt2ygUo+PAedspPDIy1WhkyMbVirqqLPPixcE7/wrWlQDucPCrYS 7lUonPTl5DOqYtAQ4gTcjdXnBrnPOnFxZt1myKJsBqvg8UbhumCbYsmziQI8BBgB CgAmAhsMFiEEl65Jb8At7J/DU7LnSPmWEUNJWCkFAluARzcFCRFN2rMACgkQSPmW EUNJWCmyQxAAkfwBoMYrMmS0cdBD2b2ApVrf5nxuJyuLJwzaBfTFTjmEkkvtzwmD kWn6KRrLjdIl8GqTFIXTyDW/HnA59gcw3iGtn18Bg4E8a7fyvuhqGSalpkstpGrJ VlIdd67EELwRiABQQ5hNIxUMHkQ2LmgtH0YY7xKoDwrS7IgmcWUET96/gbmt/DBn +u/arhGPxbxfQzjML2AUXhPI43pBVODkd2irt4Au3/VIsf0IZ8qKcpiozKCcL7uw +clTox0cjoZ16ykMxdSy7hbtNLuKgM36K8fr7S/2eQwtEdrIOtqBN56It2lomIe0 Io7BH4GLEFLy1ybNQ46RcG/7fbffVV/E6KVSAjx07/cV67yGe6v9PBIvoSk+Jkjm weJYkRzroOFTOO2Tfn7vcFsM5cXO7r0nbqvDY55hTxFWcxaNoBwLIKd2w7dbtZAI QYnHHmHmDRQMNQvMioMQugw8lqy4LwbajDVhv37QGo7FS0OFjmhQ7bkJfKmPsgxm cM1lzknTAiLjI1Wvu5Zyd1F7tOh+1VHOMz8+gLWmLJovWyhBVRmHugdruEnPqBer osfnX7GOZgwkM64asEMuL259dX4wawNjb7s2zmkHGr+zQvTw6JFBXPOiIZZakNnL /RZj3eSjikYCJbCAD+rmX6DVO8ZZTGYp2WGOb2zp5IAEVigy3dOq6Pg= =zxBo,52,87
openstack%2Fswift~master~I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a,openstack/swift,master,I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a,print deleted flag in account and container info cli,MERGED,2019-11-08 04:19:05.000000000,2019-11-08 14:24:24.000000000,2019-11-08 14:22:57.000000000,"[{'_account_id': 10068}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 04:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/797c3991eab1571c69c11cb7d2c2003063ffcd21', 'message': 'print deleted flag in account and container info cli\n\nChange-Id: I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a\n'}, {'number': 2, 'created': '2019-11-08 06:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f81abe036829fc155fe74d513fe036c329b6a95', 'message': 'print deleted flag in account and container info cli\n\nChange-Id: I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a\n'}, {'number': 3, 'created': '2019-11-08 12:03:54.000000000', 'files': ['swift/cli/info.py', 'test/unit/cli/test_info.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3de330ead3d5f68bcd04844ed9616456ee3ebe73', 'message': 'print deleted flag in account and container info cli\n\nChange-Id: I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a\n'}]",2,693475,3de330ead3d5f68bcd04844ed9616456ee3ebe73,13,3,3,31256,,,0,"print deleted flag in account and container info cli

Change-Id: I37c76e0c58a3d12b2062d5a6dbda2bf074f8bc9a
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/693475/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/cli/test_info.py']",2,797c3991eab1571c69c11cb7d2c2003063ffcd21,printDeletedFlag," 'is_deleted': False, Deleted: False is_root=True, is_deleted=False, hash='abaddeadbeefcafe', id='abadf100d0ddba11') Deleted: False info = { 'account': 'acct', 'is_deleted': True, 'created_at': 100.1, 'put_timestamp': 106.3, 'delete_timestamp': 107.9, 'status_changed_at': 108.3, 'container_count': '3', 'object_count': '20', 'bytes_used': '42', 'hash': 'abaddeadbeefcafe', 'id': 'abadf100d0ddba11', } md = {'x-account-meta-mydata': ('swift', '0000000000.00000'), 'x-other-something': ('boo', '0000000000.00000')} out = StringIO() with mock.patch('sys.stdout', out): print_db_info_metadata('account', info, md) exp_out = '''Path: /acct Account: acct Deleted: True Account Hash: dc5be2aa4347a22a0fee6bc7de505b47 Metadata: Created at: 1970-01-01T00:01:40.100000 (100.1) Put Timestamp: 1970-01-01T00:01:46.300000 (106.3) Delete Timestamp: 1970-01-01T00:01:47.900000 (107.9) Status Timestamp: 1970-01-01T00:01:48.300000 (108.3) Container Count: 3 Object Count: 20 Bytes Used: 42 Chexor: abaddeadbeefcafe UUID: abadf100d0ddba11 X-Other-Something: boo No system metadata found in db file User Metadata: {'x-account-meta-mydata': 'swift'}''' self.assertEqual(sorted(out.getvalue().strip().split('\n')), sorted(exp_out.split('\n'))) shard_ranges=shard_ranges, is_deleted=False, hash='abaddeadbeefcafe', id='abadf100d0ddba11') Deleted: False info['is_deleted'] = False Deleted: False", is_root=True) info['hash'] = 'abaddeadbeefcafe' info['id'] = 'abadf100d0ddba11' shard_ranges=shard_ranges) info['hash'] = 'abaddeadbeefcafe' info['id'] = 'abadf100d0ddba11',57,6
openstack%2Fcharm-nova-cloud-controller~master~I57dd970ea762c2e94148b1c2c00421dd769054c5,openstack/charm-nova-cloud-controller,master,I57dd970ea762c2e94148b1c2c00421dd769054c5,Update for Python 3 execution,ABANDONED,2017-11-15 09:58:10.000000000,2019-11-08 14:21:33.000000000,,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28608}]","[{'number': 1, 'created': '2017-11-15 09:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/fb0b33fd2c422d2da9ea649a35cac3e11db0e812', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 2, 'created': '2017-11-15 10:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/121b99c81bf1591249a9b4b73b8b84b39eea8765', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 3, 'created': '2017-11-15 10:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3aa0c34eee3acc820979660d274941533a14e91a', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 4, 'created': '2017-11-16 13:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6ed68632067db184ddab605e8af04aea416315c6', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 5, 'created': '2017-11-16 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a375fca1a4a515f6a5f70292ee98727aae776f71', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 6, 'created': '2017-11-20 11:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a0a9393b3af39c915c94a9625e580b105feaa4d4', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 7, 'created': '2017-11-21 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6a5ce34b06b2556cf3f4955868cbd67af46fffbc', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 8, 'created': '2017-11-21 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3c1633eebe1c6d53db6b53bbae2e7bc5fa2c2adf', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 9, 'created': '2017-11-22 10:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/746c328bc6f61d7624f0e107f11376751fb7a5b1', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 10, 'created': '2017-11-22 10:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/01201876f197ce2294a2962ca7a2accd92409767', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 11, 'created': '2017-11-22 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4c34448d72d7a38db9d3be76f85cfc9fae72fb01', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 12, 'created': '2018-08-02 11:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/612863177bdae3f796ff18d30546af5c11115a59', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 13, 'created': '2018-08-02 13:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/7627ae4e5eab0c4cbd59d1d1890ddea0d0814a5c', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nDrop install shim as Python 3 is always present >= trusty.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 14, 'created': '2018-08-03 13:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/068e7d0f3ecb4bb86b928e751362579258b9a3e3', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 15, 'created': '2018-08-03 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1a79311c5a4f11f15feb2e1626d96d43006badd3', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}, {'number': 16, 'created': '2018-09-12 20:23:15.000000000', 'files': ['test-requirements.txt', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'hooks/nova_cc_context.py', 'templates/icehouse/nova.conf', 'unit_tests/test_nova_cc_contexts.py', 'actions/actions.py', 'templates/ocata/nova.conf', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'templates/parts/section-database', 'unit_tests/test_nova_cc_utils.py', 'templates/kilo/nova.conf', 'hooks/install', 'hooks/nova_cc_hooks.py', 'templates/mitaka/nova.conf', 'templates/liberty/nova.conf', '.zuul.yaml', 'unit_tests/__init__.py', 'templates/parts/database-v2', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'hooks/nova_cc_utils.py', 'templates/parts/database-api', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/646c783db9309139ed72797882967310f7a1be52', 'message': 'Update for Python 3 execution\n\nUpdate codebase and unit tests to default to execution\nunder Python 3.\n\nCharmhelper sync to pickup fixes\n\nNOTE: As discussed with jamespage & beisner failing deploy from\nsource unit test dropped\n\nChange-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5\n'}]",0,520031,646c783db9309139ed72797882967310f7a1be52,60,5,16,12549,,,0,"Update for Python 3 execution

Update codebase and unit tests to default to execution
under Python 3.

Charmhelper sync to pickup fixes

NOTE: As discussed with jamespage & beisner failing deploy from
source unit test dropped

Change-Id: I57dd970ea762c2e94148b1c2c00421dd769054c5
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/31/520031/6 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'templates/juno/nova.conf', 'hooks/nova_cc_context.py', 'hooks/charmhelpers/contrib/storage/linux/lvm.py', 'unit_tests/test_nova_cc_contexts.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-cache', 'templates/ocata/nova.conf', 'unit_tests/test_utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/files/check_haproxy.sh', 'templates/parts/section-database', 'unit_tests/test_nova_cc_utils.py', 'templates/kilo/nova.conf', 'hooks/charmhelpers/contrib/openstack/alternatives.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/install', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/nova_cc_hooks.py', 'templates/mitaka/nova.conf', 'hooks/charmhelpers/core/unitdata.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/storage/linux/utils.py', 'templates/liberty/nova.conf', 'hooks/charmhelpers/contrib/__pycache__/__init__.py', 'hooks/charmhelpers/fetch/snap.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'unit_tests/__init__.py', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/__pycache__/__init__.py', 'hooks/charmhelpers/contrib/python/__pycache__/__init__.py', 'templates/parts/database-v2', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', 'hooks/charmhelpers/contrib/network/__pycache__/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_actions.py', 'hooks/nova_cc_utils.py', 'templates/parts/database-api', 'tox.ini']",47,fb0b33fd2c422d2da9ea649a35cac3e11db0e812,ensure-py3,"envlist = pep8,py27,py35# temporarily disable py27 commands = /bin/truebasepython = python3","envlist = pep8,py27basepython = python3.5",499,278
openstack%2Fcharm-cinder~master~Ib9b78bd60b08f803c482aa7119cc0b12969fe56a,openstack/charm-cinder,master,Ib9b78bd60b08f803c482aa7119cc0b12969fe56a,Update to run under Python 3,ABANDONED,2017-11-15 14:44:10.000000000,2019-11-08 14:21:24.000000000,,"[{'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28608}]","[{'number': 1, 'created': '2017-11-15 14:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f204076a4f0a9c61056ca63baf0c09d42a535af2', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 2, 'created': '2017-11-16 13:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b1724bb85a551b53edc0603570454ed05fcdada8', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 3, 'created': '2017-11-16 13:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d4d2a71b1557c4d627d3094b3f310a150f025cae', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 4, 'created': '2017-11-20 11:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/59feb582bb47db401d1d8383ae58de2d5bfe2921', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 5, 'created': '2017-11-21 20:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1eb41b6c08bc3c92c1b8e69915165beb95d42cbf', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 6, 'created': '2018-08-02 09:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/83bef5d9e91247694778ed03b1b93bfdcadc1aba', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 7, 'created': '2018-08-03 07:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6dc2b1db90d7897ff175019959fa86c8cc02f6b9', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}, {'number': 8, 'created': '2018-08-06 12:03:57.000000000', 'files': ['unit_tests/test_cinder_hooks.py', 'unit_tests/test_cinder_utils.py', '.gitignore', 'test-requirements.txt', 'actions/cinder_manage.py', 'unit_tests/__init__.py', 'unit_tests/test_cinder_contexts.py', 'templates/liberty/cinder.conf', 'templates/kilo/cinder.conf', 'actions/actions.py', 'actions/openstack_upgrade.py', 'unit_tests/test_utils.py', 'templates/mitaka/cinder.conf', 'templates/icehouse/cinder.conf', 'hooks/cinder_hooks.py', 'hooks/cinder_utils.py', 'templates/ocata/cinder.conf', 'hooks/install', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b7341d01108e5fbcb7e23927805f2ce40188b0ec', 'message': 'Update to run under Python 3\n\nUpdating charm to support execution under Python 3.\n\nChange-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a\n'}]",0,520094,b7341d01108e5fbcb7e23927805f2ce40188b0ec,38,5,8,12549,,,0,"Update to run under Python 3

Updating charm to support execution under Python 3.

Change-Id: Ib9b78bd60b08f803c482aa7119cc0b12969fe56a
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/94/520094/6 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_hooks.py', '.gitignore', 'test-requirements.txt', 'unit_tests/test_cinder_contexts.py', 'templates/liberty/cinder.conf', 'tests/charmhelpers/core/hookenv.py', 'tests/charmhelpers/core/strutils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'templates/kilo/cinder.conf', 'unit_tests/test_utils.py', 'templates/icehouse/cinder.conf', 'hooks/cinder_utils.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/install', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/openstack/templates/ceph.conf', 'unit_tests/test_cinder_utils.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'unit_tests/__init__.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'templates/mitaka/cinder.conf', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/cinder_hooks.py', 'templates/ocata/cinder.conf', 'hooks/charmhelpers/core/strutils.py', 'tox.ini']",26,f204076a4f0a9c61056ca63baf0c09d42a535af2,ensure-py3,"envlist = pep8,py27,py35# temporarily disable py27 commands = /bin/truebasepython = python3","envlist = pep8,py27basepython = python3.5",203,68
openstack%2Fcharm-cinder~master~If58a8b548ae2135871bac845e9a74578d7294540,openstack/charm-cinder,master,If58a8b548ae2135871bac845e9a74578d7294540,Target zaza back at master,ABANDONED,2019-05-24 12:46:58.000000000,2019-11-08 14:20:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 12:46:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/38849583b46d0908c127e4a3fd6105af95dd5995', 'message': 'Target zaza back at master\n\nChange-Id: If58a8b548ae2135871bac845e9a74578d7294540\n'}]",0,661268,38849583b46d0908c127e4a3fd6105af95dd5995,4,2,1,12549,,,0,"Target zaza back at master

Change-Id: If58a8b548ae2135871bac845e9a74578d7294540
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/68/661268/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,38849583b46d0908c127e4a3fd6105af95dd5995,fix-test-req,git+https://github.com/openstack-charmers/zaza.git#egg=zaza,git+https://github.com/openstack-charmers/zaza.git@remove-namespaced-tests#egg=zaza,1,1
openstack%2Fcharm-keystone~master~I4d461fec1a20972090d237531dfcf160f14e012c,openstack/charm-keystone,master,I4d461fec1a20972090d237531dfcf160f14e012c,Add bionic-train test,ABANDONED,2019-10-01 13:15:39.000000000,2019-11-08 14:19:52.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 13:15:39.000000000', 'files': ['tests/bundles/bionic-train.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/952074f72baf05dfa428b958082f22dca9984e70', 'message': 'Add bionic-train test\n\nChange-Id: I4d461fec1a20972090d237531dfcf160f14e012c\n'}]",0,685969,952074f72baf05dfa428b958082f22dca9984e70,6,3,1,12549,,,0,"Add bionic-train test

Change-Id: I4d461fec1a20972090d237531dfcf160f14e012c
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/69/685969/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/bionic-train.yaml', 'tests/tests.yaml']",2,952074f72baf05dfa428b958082f22dca9984e70,add-dev-train,- bionic-train,- bionic-stein,42,1
openstack%2Fmistral~master~Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d,openstack/mistral,master,Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d,Fix task expression context,MERGED,2019-11-07 09:10:03.000000000,2019-11-08 14:14:35.000000000,2019-11-08 14:13:18.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-11-07 09:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/046df5702dc28197c0045972562f9ccef6834ea2', 'message': 'WIP: fix task expression context\n\nChange-Id: Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d\n'}, {'number': 2, 'created': '2019-11-07 09:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b84feaad07896e39c9cf1b373947ca61d43f4a0f', 'message': 'WIP: fix task expression context\n\nChange-Id: Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d\n'}, {'number': 3, 'created': '2019-11-07 10:54:01.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_dataflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/fd24972befeb4988f09b20bd4a95dd1f2d9a8dbf', 'message': 'Fix task expression context\n\n* When Mistral prepares a context view to evaluate a YAQL/Jinja\n  expression it needs to put ""task_ex.in_contex"" before\n  ""wf_ex.context"" because the first one should take higher priority.\n  For example, if a workflow declares a variable (via the ""var""\n  keyword) and then this variable is updated by one of the workflow\n  branches then it should shadow the initial value of the variable\n  when evaluating an expression (e.g. in the action input).\n* We also don\'t need to use ""ctx or self.ctx"" in the modified\n  _evaluate_expression() function because ""self.ctx"" always becomes\n  ""task_ex.in_context"" when a task execution is created.\n* Added one more test to check data flow correctness.\n\nChange-Id: Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d\n'}]",0,693321,fd24972befeb4988f09b20bd4a95dd1f2d9a8dbf,15,7,3,8731,,,0,"Fix task expression context

* When Mistral prepares a context view to evaluate a YAQL/Jinja
  expression it needs to put ""task_ex.in_contex"" before
  ""wf_ex.context"" because the first one should take higher priority.
  For example, if a workflow declares a variable (via the ""var""
  keyword) and then this variable is updated by one of the workflow
  branches then it should shadow the initial value of the variable
  when evaluating an expression (e.g. in the action input).
* We also don't need to use ""ctx or self.ctx"" in the modified
  _evaluate_expression() function because ""self.ctx"" always becomes
  ""task_ex.in_context"" when a task execution is created.
* Added one more test to check data flow correctness.

Change-Id: Ib9a0e2b3f5cc686cbc53d9e6c049ad7fdc12c76d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/21/693321/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/tests/unit/engine/test_dataflow.py']",2,046df5702dc28197c0045972562f9ccef6834ea2,fix_task_expression_context," def test_linear_data_with_input_expressions(self): wf_text = """"""--- version: '2.0' wf: tasks: task1: action: std.echo input: output: key1: value1 key2: value2 publish: res1: <% task(task1).result %> on-success: - task2 task2: action: std.echo output=<% $.res1.key2 %> publish: res2: <% task().result %> """""" wf_service.create_workflows(wf_text) # Start workflow. wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) tasks = wf_ex.task_executions task1 = self._assert_single_item( tasks, name='task1', state=states.SUCCESS ) task2 = self._assert_single_item( tasks, name='task2', state=states.SUCCESS ) self.assertDictEqual( { 'key1': 'value1', 'key2': 'value2' }, task1.published['res1'] ) self.assertEqual('value2', task2.published['res2']) ",,57,1
openstack%2Fopenstack-ansible-os_nova~master~I709230061de4a743e1efc50ee3dd8d3c3465f10b,openstack/openstack-ansible-os_nova,master,I709230061de4a743e1efc50ee3dd8d3c3465f10b,Add auth_type to the ironic section of nova.conf,MERGED,2019-11-07 15:20:55.000000000,2019-11-08 14:09:11.000000000,2019-11-08 00:20:19.000000000,"[{'_account_id': 13095}, {'_account_id': 14552}, {'_account_id': 21314}, {'_account_id': 21714}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-07 15:20:55.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c0f95b09ac3ed9a0ca41d4efae5b9491707ef432', 'message': 'Add auth_type to the ironic section of nova.conf\n\nWithout auth_type, nova cannot authenticate to keystone to see\navailable ironic hypervisors/create new baremetal boots.\n\nChange-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b\n'}]",0,693371,c0f95b09ac3ed9a0ca41d4efae5b9491707ef432,15,6,1,21314,,,0,"Add auth_type to the ironic section of nova.conf

Without auth_type, nova cannot authenticate to keystone to see
available ironic hypervisors/create new baremetal boots.

Change-Id: I709230061de4a743e1efc50ee3dd8d3c3465f10b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/71/693371/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,c0f95b09ac3ed9a0ca41d4efae5b9491707ef432,,auth_type = {{ nova_keystone_auth_plugin }},,1,0
openstack%2Fcharm-nova-cell-controller~stable%2F19.10~Iff66b8c473f4d184982593f70fe9ca9769069006,openstack/charm-nova-cell-controller,stable/19.10,Iff66b8c473f4d184982593f70fe9ca9769069006,Use absolute path for charm location.,MERGED,2019-11-08 13:12:03.000000000,2019-11-08 13:56:46.000000000,2019-11-08 13:56:46.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 13:12:03.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/d34ab2fe056abd02400971dd45016f473150e412', 'message': 'Use absolute path for charm location.\n\nFor compatibility with Juju 2.7 use an absolute path to point at\nthe local charm. This is essentially the same fix as the one landed\nin zaza by fnordahl *1. The local overlay needs to be retained here\nbecause the deployed service has different name to the charm.\n\n*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824\n\nChange-Id: Iff66b8c473f4d184982593f70fe9ca9769069006\n'}]",0,693535,d34ab2fe056abd02400971dd45016f473150e412,7,3,1,12549,,,0,"Use absolute path for charm location.

For compatibility with Juju 2.7 use an absolute path to point at
the local charm. This is essentially the same fix as the one landed
in zaza by fnordahl *1. The local overlay needs to be retained here
because the deployed service has different name to the charm.

*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824

Change-Id: Iff66b8c473f4d184982593f70fe9ca9769069006
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/35/693535/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/local-charm-overlay.yaml.j2'],1,d34ab2fe056abd02400971dd45016f473150e412,bug/fix-for-juju-2.7-stable/19.10, charm: {{ charm_location }}, charm: ../../../nova-cell-controller,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,stable/train,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 23:16:22.000000000,2019-11-08 13:35:15.000000000,2019-11-08 13:35:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 23:16:22.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/manila/manila-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8f5427d3ea6ca5e74f63a1a2a89bbe2623a0a6e', 'message': 'Fix debug hiera keys\n\nThe correct key to configure mistral debug is mistral::logging::debug\nnot mistral::debug. The same is true for heat, manila and sahara.\n\nChange-Id: I382b472185f445e5d81077bc50b4c9cb65285530\nCloses-Bug: #1851667\n(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)\n'}]",0,693444,b8f5427d3ea6ca5e74f63a1a2a89bbe2623a0a6e,7,3,1,14985,,,0,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
(cherry picked from commit cf3fa9d77dff583ba62484f21d1ca150cfb73ecf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/693444/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/manila/manila-base.yaml']",4,b8f5427d3ea6ca5e74f63a1a2a89bbe2623a0a6e,bug/1851667-stable/train, manila::logging::debug:, manila::debug:,4,4
openstack%2Fcharm-nova-cell-controller~master~Iff66b8c473f4d184982593f70fe9ca9769069006,openstack/charm-nova-cell-controller,master,Iff66b8c473f4d184982593f70fe9ca9769069006,Use absolute path for charm location.,MERGED,2019-11-08 11:11:26.000000000,2019-11-08 13:15:46.000000000,2019-11-08 13:15:45.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 11:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/a34b6cb60f331d32ecd452d798de2a4e274de1f1', 'message': 'Stop using explicit local overlay\n\nThe local overlay shipped with the charm is a duplicate of the one\nin zaza but without the 2.7 fix fnordahl landed *1. Switch to using\nthe overlay from zaza instead to make the tests compatible with\nJuju 2.7.\n\n*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824\n\nChange-Id: Iff66b8c473f4d184982593f70fe9ca9769069006\n'}, {'number': 2, 'created': '2019-11-08 11:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/a665bb147c0e0410f37f00d55d3741bbe4a22f2f', 'message': 'Use absulte path for charm location.\n\nFor compatability with Juju 2.7 use an absolute path to point at\nthe local charm. This is essentially the same fix as the one landed\nin zaza by fnordahl *1. The local overlay needs to be retained here\nbecause the deployed service has different name to the charm.\n\n*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824\n\nChange-Id: Iff66b8c473f4d184982593f70fe9ca9769069006\n'}, {'number': 3, 'created': '2019-11-08 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/cb57bbab7fa6ffb47a8dd53335c1ef282ad65660', 'message': 'Use absolute path for charm location.\n\nFor compatibility with Juju 2.7 use an absolute path to point at\nthe local charm. This is essentially the same fix as the one landed\nin zaza by fnordahl *1. The local overlay needs to be retained here\nbecause the deployed service has different name to the charm.\n\n*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824\n\nChange-Id: Iff66b8c473f4d184982593f70fe9ca9769069006\n'}, {'number': 4, 'created': '2019-11-08 12:01:55.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/746fb28c3b39fa410db2da58c94f5b50527f8884', 'message': 'Use absolute path for charm location.\n\nFor compatibility with Juju 2.7 use an absolute path to point at\nthe local charm. This is essentially the same fix as the one landed\nin zaza by fnordahl *1. The local overlay needs to be retained here\nbecause the deployed service has different name to the charm.\n\n*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824\n\nChange-Id: Iff66b8c473f4d184982593f70fe9ca9769069006\n'}]",0,693524,746fb28c3b39fa410db2da58c94f5b50527f8884,15,3,4,12549,,,0,"Use absolute path for charm location.

For compatibility with Juju 2.7 use an absolute path to point at
the local charm. This is essentially the same fix as the one landed
in zaza by fnordahl *1. The local overlay needs to be retained here
because the deployed service has different name to the charm.

*1 https://github.com/openstack-charmers/zaza/commit/af7f8d6ca3171051507c530f03350fea6620c824

Change-Id: Iff66b8c473f4d184982593f70fe9ca9769069006
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/24/693524/4 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/local-charm-overlay.yaml.j2'],1,a34b6cb60f331d32ecd452d798de2a4e274de1f1,bug/fix-for-juju-2.7,, applications: nova-cell-controller-cell2: charm: ../../../nova-cell-controller ,0,4
openstack%2Fkolla~master~I144234aa8699ec3e8148209c8b2762efbe20d268,openstack/kolla,master,I144234aa8699ec3e8148209c8b2762efbe20d268,WIP: Allow simple building of stable tarballs based source images,ABANDONED,2019-08-05 13:41:25.000000000,2019-11-08 13:10:54.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-05 13:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75ccb8d0a4d78cf6ee801a802cb6bcf1a6c8719a', 'message': 'WIP: Add openstack_release var\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 2, 'created': '2019-08-05 16:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dad0b2ca20658fac7c1827d9d411d2ea94c6666e', 'message': 'WIP: Add openstack_release var\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 3, 'created': '2019-08-05 17:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/45ec4effdbfeb7f9cec619959e63d6b4f56bb47b', 'message': 'Add openstack_release var to kolla-build\n\nIntroduce a variable that will point to OpenStack release being built.\nIt will ease administrative burden when creating new release branches\nand can be used in non OpenStack Dockerfiles (eg. kolla-toolbox) to download\nupper-constraints.txt from respective release.\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 4, 'created': '2019-08-05 17:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7f7ac2e27d7bdaeb1bb8d2ea05564a3cffac40bd', 'message': 'Add openstack_release var to kolla-build\n\nIntroduce a variable that will point to OpenStack release being built.\nIt will ease administrative burden when creating new release branches\nand can be used in non OpenStack Dockerfiles (eg. kolla-toolbox) to download\nupper-constraints.txt from respective release.\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 5, 'created': '2019-08-05 18:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcf5c48a0cb0d6fe48464c66512ca9e88af6583c', 'message': 'Add openstack_release var to kolla-build\n\nIntroduce a variable that will point to OpenStack release being built.\nIt will ease administrative burden when creating new release branches\nand can be used in non OpenStack Dockerfiles (eg. kolla-toolbox) to download\nupper-constraints.txt from respective release.\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 6, 'created': '2019-08-05 18:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec471e915babc5050d6c30d9ef1f3a15fd0468d0', 'message': 'Add openstack_release var to kolla-build\n\nIntroduce a variable that will point to OpenStack release being built.\nIt will ease administrative burden when creating new release branches\nand can be used in non OpenStack Dockerfiles (eg. kolla-toolbox) to download\nupper-constraints.txt from respective release.\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n'}, {'number': 7, 'created': '2019-08-06 09:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e023d0c850af6890bd8564b9b93f7e802706203f', 'message': ""WIP: Allow simple building of stable tarballs based source images\n\nIntroduce two variables:\n* openstack_release - points to OpenStack release being built\n* openstack_release_type - 'stable' for using stable tarballs\n  (not point releases) or 'point' for point releases\n\nSplit the variables amongst multiple files in var/ subdir for easier\nmanagement:\n* base.py - base vars\n* users.py - user and UID/GID allocation\n* sources_stable.py - sources urls when openstack_release_type=stable\n* sources_point.py - sources urls when openstack_release_type=point\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n""}, {'number': 8, 'created': '2019-08-06 09:09:14.000000000', 'files': ['kolla/common/vars/__init__.py', 'kolla/common/vars/base.py', 'kolla/common/vars/sources_point.py', 'kolla/common/vars/sources_stable.py', 'kolla/common/vars/users.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d452a62a946c23f241dd89f5ad10eefe852475d8', 'message': ""WIP: Allow simple building of stable tarballs based source images\n\nIntroduce two variables:\n* openstack_release - points to OpenStack release being built\n* openstack_release_type - 'stable' for using stable tarballs\n  (not point releases) or 'point' for point releases\n\nSplit the variables amongst multiple files in var/ subdir for easier\nmanagement:\n* base.py - base vars\n* users.py - user and UID/GID allocation\n* sources_stable.py - sources urls when openstack_release_type=stable\n* sources_point.py - sources urls when openstack_release_type=point\n\nChange-Id: I144234aa8699ec3e8148209c8b2762efbe20d268\n""}]",10,674608,d452a62a946c23f241dd89f5ad10eefe852475d8,25,5,8,22629,,,0,"WIP: Allow simple building of stable tarballs based source images

Introduce two variables:
* openstack_release - points to OpenStack release being built
* openstack_release_type - 'stable' for using stable tarballs
  (not point releases) or 'point' for point releases

Split the variables amongst multiple files in var/ subdir for easier
management:
* base.py - base vars
* users.py - user and UID/GID allocation
* sources_stable.py - sources urls when openstack_release_type=stable
* sources_point.py - sources urls when openstack_release_type=point

Change-Id: I144234aa8699ec3e8148209c8b2762efbe20d268
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/674608/4 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,75ccb8d0a4d78cf6ee801a802cb6bcf1a6c8719a,feature/add_release_var,"OPENSTACK_RELEASE = 'master' cfg.StrOpt('openstack_release', default=OPENSTACK_RELEASE. help='OpenStack release for fetching tarballs'), cfg.StrOpt('openstack-release', default=OPENSTACK_RELEASE, help='OpenStack release to use for fetching source tarballs') 'requirements-$openstack_release.tar.gz')},"," 'requirements-master.tar.gz')},",7,1
openstack%2Fmagnum~master~If242c2bd1b0c3b7a05447eae92f11ee64eba08ea,openstack/magnum,master,If242c2bd1b0c3b7a05447eae92f11ee64eba08ea,Code clean up for better legibility,ABANDONED,2019-01-22 14:29:16.000000000,2019-11-08 12:35:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-22 14:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/46ba06130fde70feae131d47c0ca47e3c01ed0e2', 'message': 'Cleanup configure-kubernetes-master.sh format\n\n* Code clean up for better arg legibility\n\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\nChange-Id: If242c2bd1b0c3b7a05447eae92f11ee64eba08ea\n'}, {'number': 2, 'created': '2019-01-22 14:40:39.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ad9f584524f38a627c150f90d911994db4e4dfd0', 'message': 'Code clean up for better legibility\n\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\nChange-Id: If242c2bd1b0c3b7a05447eae92f11ee64eba08ea\n'}]",0,632476,ad9f584524f38a627c150f90d911994db4e4dfd0,4,1,2,29425,,,0,"Code clean up for better legibility

Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
Change-Id: If242c2bd1b0c3b7a05447eae92f11ee64eba08ea
",git fetch https://review.opendev.org/openstack/magnum refs/changes/76/632476/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'],1,46ba06130fde70feae131d47c0ca47e3c01ed0e2,feature/configure_kubernetes_master-cleanup,"if [ ""${NETWORK_DRIVER}"" = ""flannel"" ]; then /^KUBE_ALLOW_PRIV=/ s/=.*/=""--allow-privileged='""${KUBE_ALLOW_PRIV}""'""/KUBE_API_ARGS="" --runtime-config=api/all=true \ --kubelet-preferred-address-types=InternalIP,Hostname,ExternalIP \ ${KUBEAPI_OPTIONS}"" if [ ""${TLS_DISABLED}"" == ""True"" ]; then KUBE_API_ADDRESS="" \ --insecure-bind-address=0.0.0.0 \ --insecure-port=${KUBE_API_PORT}"" KUBE_API_ADDRESS=""--bind-address=0.0.0.0 --secure-port=${KUBE_API_PORT}"" KUBE_API_ADDRESS=""${KUBE_API_ADDRESS} \ --authorization-mode=Node,RBAC \ --client-ca-file=${CERT_DIR}/ca.crt \ --insecure-bind-address=127.0.0.1 \ --insecure-port=8080 \ --kubelet-certificate-authority=${CERT_DIR}/ca.crt \ --kubelet-client-certificate=${CERT_DIR}/server.crt \ --kubelet-client-key=${CERT_DIR}/server.key --kubelet-https=true \ --service-account-key-file=${CERT_DIR}/service_account.key \ --tls-cert-file=${CERT_DIR}/server.crt \ --tls-private-key-file=${CERT_DIR}/server.key""if [ -n ""${TRUST_ID}"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_API_ARGS=""${KUBE_API_ARGS} --cloud-provider=external""if [ ""${KEYSTONE_AUTH_ENABLED}"" == ""True"" ]; thenecho ""Writing File: ${KEYSTONE_WEBHOOK_CONFIG}"" KUBE_API_ARGS=""${KUBE_API_ARGS} \ --authentication-token-webhook-config-file=/etc/kubernetes/keystone_webhook_config.yaml \ --authorization-webhook-config-file=/etc/kubernetes/keystone_webhook_config.yaml""KUBE_CONTROLLER_MANAGER_ARGS="" --cluster-name=${CLUSTER_UUID} \ --leader-elect=true \ ${KUBE_CONTROLLER_MANAGER_ARGS} \ ${KUBECONTROLLER_OPTIONS} "" KUBE_CONTROLLER_MANAGER_ARGS=""${KUBE_CONTROLLER_MANAGER_ARGS} \ --service-account-private-key-file=${CERT_DIR}/service_account_private.key \ --root-ca-file=${CERT_DIR}/ca.crt""if [ -n ""${TRUST_ID}"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_CONTROLLER_MANAGER_ARGS=""${KUBE_CONTROLLER_MANAGER_ARGS} \ --cloud-config=/etc/kubernetes/cloud-config \ --cloud-provider=external \ --external-cloud-volume-plugin=openstack""if [ ""$(echo ${CERT_MANAGER_API} | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_CONTROLLER_MANAGER_ARGS=""${KUBE_CONTROLLER_MANAGER_ARGS} \ --cluster-signing-cert-file=${CERT_DIR}/ca.crt \ --cluster-signing-key-file=${CERT_DIR}/ca.key""KUBELET_ARGS="" --cadvisor-port=0 --hostname-override=${HOSTNAME_OVERRIDE} \ --cluster_dns=${DNS_SERVICE_IP} \ --cluster_domain=${DNS_CLUSTER_DOMAIN} \ --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.0 \ --pod-manifest-path=/etc/kubernetes/manifests \ --register-node=true \ --volume-plugin-dir=/var/lib/kubelet/volumeplugins \ ${KUBELET_OPTIONS}"" if [ -n ""${TRUST_ID}"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; thenif [ ""${NETWORK_DRIVER}"" = ""calico"" ]; then KUBELET_ARGS=""${KUBELET_ARGS} \ --cni-bin-dir=/opt/cni/bin \ --cni-conf-dir=/etc/cni/net.d \ --network-plugin=cni""KUBELET_ARGS=""${KUBELET_ARGS} \ --register-with-taints=CriticalAddonsOnly=True:NoSchedule,dedicated=master:NoSchedule \ --node-labels=node-role.kubernetes.io/master=\""\""""KUBELET_ARGS=""${KUBELET_ARGS} \ --client-ca-file=${CERT_DIR}/ca.crt \ --tls-cert-file=${CERT_DIR}/kubelet.crt \ --tls-private-key-file=${CERT_DIR}/kubelet.key \ --kubeconfig ${KUBELET_KUBECONFIG}"" sed -i ""s/\(native.cgroupdriver=\)\w\+/\1${CGROUP_DRIVER}/"" \KUBELET_ARGS=""${KUBELET_ARGS} \ --address=${KUBE_NODE_IP} \ --anonymous-auth=false \ --authentication-token-webhook=true \ --authorization-mode=Webhook \ --port=10250 \ --read-only-port=0""","if [ ""$NETWORK_DRIVER"" = ""flannel"" ]; then /^KUBE_ALLOW_PRIV=/ s/=.*/=""--allow-privileged='""$KUBE_ALLOW_PRIV""'""/KUBE_API_ARGS=""--runtime-config=api/all=true"" KUBE_API_ARGS=""$KUBE_API_ARGS --kubelet-preferred-address-types=InternalIP,Hostname,ExternalIP"" KUBE_API_ARGS=""$KUBE_API_ARGS $KUBEAPI_OPTIONS"" if [ ""$TLS_DISABLED"" == ""True"" ]; then KUBE_API_ADDRESS=""--insecure-bind-address=0.0.0.0 --insecure-port=$KUBE_API_PORT"" KUBE_API_ADDRESS=""--bind-address=0.0.0.0 --secure-port=$KUBE_API_PORT"" KUBE_API_ADDRESS=""$KUBE_API_ADDRESS --insecure-bind-address=127.0.0.1 --insecure-port=8080"" KUBE_API_ARGS=""$KUBE_API_ARGS --authorization-mode=Node,RBAC --tls-cert-file=$CERT_DIR/server.crt"" KUBE_API_ARGS=""$KUBE_API_ARGS --tls-private-key-file=$CERT_DIR/server.key"" KUBE_API_ARGS=""$KUBE_API_ARGS --client-ca-file=$CERT_DIR/ca.crt"" KUBE_API_ARGS=""$KUBE_API_ARGS --service-account-key-file=${CERT_DIR}/service_account.key"" KUBE_API_ARGS=""$KUBE_API_ARGS --kubelet-certificate-authority=${CERT_DIR}/ca.crt --kubelet-client-certificate=${CERT_DIR}/server.crt --kubelet-client-key=${CERT_DIR}/server.key --kubelet-https=true""if [ -n ""$TRUST_ID"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_API_ARGS=""$KUBE_API_ARGS --cloud-provider=external""if [ ""$KEYSTONE_AUTH_ENABLED"" == ""True"" ]; thenecho ""Writing File: $KEYSTONE_WEBHOOK_CONFIG"" KUBE_API_ARGS=""$KUBE_API_ARGS --authentication-token-webhook-config-file=/etc/kubernetes/keystone_webhook_config.yaml --authorization-webhook-config-file=/etc/kubernetes/keystone_webhook_config.yaml""KUBE_CONTROLLER_MANAGER_ARGS=""--leader-elect=true"" KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS --cluster-name=${CLUSTER_UUID}"" KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS $KUBECONTROLLER_OPTIONS"" KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS --service-account-private-key-file=$CERT_DIR/service_account_private.key --root-ca-file=$CERT_DIR/ca.crt""if [ -n ""$TRUST_ID"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS --cloud-provider=external"" KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS --external-cloud-volume-plugin=openstack --cloud-config=/etc/kubernetes/cloud-config""if [ ""$(echo $CERT_MANAGER_API | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; then KUBE_CONTROLLER_MANAGER_ARGS=""$KUBE_CONTROLLER_MANAGER_ARGS --cluster-signing-cert-file=$CERT_DIR/ca.crt --cluster-signing-key-file=$CERT_DIR/ca.key""KUBELET_ARGS=""--register-node=true --pod-manifest-path=/etc/kubernetes/manifests --cadvisor-port=0 --hostname-override=${HOSTNAME_OVERRIDE}"" KUBELET_ARGS=""${KUBELET_ARGS} --pod-infra-container-image=${CONTAINER_INFRA_PREFIX:-gcr.io/google_containers/}pause:3.0"" KUBELET_ARGS=""${KUBELET_ARGS} --cluster_dns=${DNS_SERVICE_IP} --cluster_domain=${DNS_CLUSTER_DOMAIN}"" KUBELET_ARGS=""${KUBELET_ARGS} --volume-plugin-dir=/var/lib/kubelet/volumeplugins"" KUBELET_ARGS=""${KUBELET_ARGS} ${KUBELET_OPTIONS}"" if [ -n ""$TRUST_ID"" ] && [ ""$(echo ""${CLOUD_PROVIDER_ENABLED}"" | tr '[:upper:]' '[:lower:]')"" = ""true"" ]; thenif [ ""$NETWORK_DRIVER"" = ""calico"" ]; then KUBELET_ARGS=""${KUBELET_ARGS} --network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin""KUBELET_ARGS=""${KUBELET_ARGS} --register-with-taints=CriticalAddonsOnly=True:NoSchedule,dedicated=master:NoSchedule"" KUBELET_ARGS=""${KUBELET_ARGS} --node-labels=node-role.kubernetes.io/master=\""\""""KUBELET_ARGS=""${KUBELET_ARGS} --client-ca-file=${CERT_DIR}/ca.crt --tls-cert-file=${CERT_DIR}/kubelet.crt --tls-private-key-file=${CERT_DIR}/kubelet.key --kubeconfig ${KUBELET_KUBECONFIG}"" sed -i ""s/\(native.cgroupdriver=\)\w\+/\1$CGROUP_DRIVER/"" \KUBELET_ARGS=""${KUBELET_ARGS} --address=${KUBE_NODE_IP} --port=10250 --read-only-port=0 --anonymous-auth=false --authorization-mode=Webhook --authentication-token-webhook=true""",77,42
openstack%2Fopenstack-ansible-os_zun~master~I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,openstack/openstack-ansible-os_zun,master,I43fb85532d1bbf0316a10664116a3bbbd9fdc66a,PDF Documentation Build tox target,MERGED,2019-10-18 15:25:53.000000000,2019-11-08 11:56:14.000000000,2019-11-07 23:57:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 15:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/94d9e7527af82a6472266b96b8fe63603ef10504', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 15:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/b4419deeb8bb21560e88488898cec3ee91f39360', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a\nStory: 2006105\n'}, {'number': 3, 'created': '2019-11-07 15:01:00.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/c462c02e38cda38ad76dd0dd7204dbc107e00ce6', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a\nStory: 2006105\n'}]",0,689521,c462c02e38cda38ad76dd0dd7204dbc107e00ce6,16,4,3,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I43fb85532d1bbf0316a10664116a3bbbd9fdc66a
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/21/689521/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,94d9e7527af82a6472266b96b8fe63603ef10504,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_zun~master~Idf31f0a3cda2932ba041defef803ac66c88a2e8e,openstack/openstack-ansible-os_zun,master,Idf31f0a3cda2932ba041defef803ac66c88a2e8e,Allow venv python interpreter to be overridden,MERGED,2019-09-11 21:03:03.000000000,2019-11-08 11:55:38.000000000,2019-11-07 23:46:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-11 21:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/69c743a9b887b3b52e5ee25d92089b8db33f0d65', 'message': 'Allow venv python interpreter to be overridden\n\nChange-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e\n'}, {'number': 2, 'created': '2019-11-07 14:59:14.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a', 'message': 'Allow venv python interpreter to be overridden\n\nChange-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e\n'}]",0,681608,5425851cf3ba5f3ad2dc8aa262cdea3eaf8f778a,11,3,2,25023,,,0,"Allow venv python interpreter to be overridden

Change-Id: Idf31f0a3cda2932ba041defef803ac66c88a2e8e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/08/681608/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,69c743a9b887b3b52e5ee25d92089b8db33f0d65,osa-py3,"#python venv executable zun_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}"" ",,4,0
openstack%2Fopenstack-ansible~master~I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3,openstack/openstack-ansible,master,I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3,Imported Translations from Zanata,MERGED,2019-11-07 09:37:47.000000000,2019-11-08 11:52:44.000000000,2019-11-08 11:50:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-07 09:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d836b7a426512659d282e2afbc129564b7ab2343', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3\n'}, {'number': 2, 'created': '2019-11-08 09:40:46.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1aa0aad4ccbc8ebdccdb46b5133e56bf905bbc9d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3\n'}]",0,693325,1aa0aad4ccbc8ebdccdb46b5133e56bf905bbc9d,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I07e2eaeaa7405c7b5819b8bd7aa4a4fd08e8bfc3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/693325/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc.po']",2,d836b7a426512659d282e2afbc129564b7ab2343,zanata/translations,"""POT-Creation-Date: 2019-11-04 23:23+0000\n""""PO-Revision-Date: 2019-11-06 02:38+0000\n""msgid ""OpenStack-Ansible Ussuri is currently in development."" msgstr ""OpenStack-Ansible Ussuri saat ini dalam pengembangan."" msgid ""Pike: Extended Maintenance"" msgstr ""Pike: Extended Maintenance"" msgid ""Queens: Extended Maintenance"" msgstr ""Queens: Extended Maintenance"" msgid ""Train: Release Candidate"" msgstr ""Train: Release Candidate"" msgid ""Ussuri: Under development"" msgstr ""Ussuri: Sedang dikembangkan"" msgid ""`OpenStack-Ansible Train Documentation`_"" msgstr ""`OpenStack-Ansible Train Documentation`_"" msgid ""`OpenStack-Ansible Train series release notes`_"" msgstr ""`OpenStack-Ansible Train series release notes`_""","""POT-Creation-Date: 2019-10-25 20:46+0000\n""""PO-Revision-Date: 2019-08-26 03:22+0000\n""",506,4
openstack%2Fkolla-ansible~master~I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff,openstack/kolla-ansible,master,I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff,swift: Remove unused config from [filter:authtoken] in proxy-server.conf.j2,ABANDONED,2019-11-06 14:56:33.000000000,2019-11-08 11:41:43.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27330}]","[{'number': 1, 'created': '2019-11-06 14:56:33.000000000', 'files': ['ansible/roles/swift/templates/proxy-server.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7165d7117dccf5a8ba09e67decd7294c4f6f0c6f', 'message': 'swift: Remove unused config from [filter:authtoken] in proxy-server.conf.j2\n\nThere are some undocumented [1] memcache-related keys in\n[filter:authtoken] and the cache key is not set.\n\nThis patch removes the undocumented keys and sets the cache as per the\ndocumentation [1].\n\n[1]: https://docs.openstack.org/swift/latest/overview_auth.html#configuring-swift-to-use-keystone\n\nChange-Id: I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff\nCloses-Bug: 1849572\n'}]",0,693192,7165d7117dccf5a8ba09e67decd7294c4f6f0c6f,6,3,1,27330,,,0,"swift: Remove unused config from [filter:authtoken] in proxy-server.conf.j2

There are some undocumented [1] memcache-related keys in
[filter:authtoken] and the cache key is not set.

This patch removes the undocumented keys and sets the cache as per the
documentation [1].

[1]: https://docs.openstack.org/swift/latest/overview_auth.html#configuring-swift-to-use-keystone

Change-Id: I3ccc193f7b6bb2c1485cb45e2743cb645533b8ff
Closes-Bug: 1849572
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/693192/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/templates/proxy-server.conf.j2'],1,7165d7117dccf5a8ba09e67decd7294c4f6f0c6f,bug/1849572,cache = swift.cache," memcache_security_strategy = ENCRYPT memcache_secret_key = {{ memcache_secret_key }} memcached_servers = {% for host in groups['memcached'] %}{{ 'api' | kolla_address(host) | put_address_in_context('memcache') }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %} ",1,5
openstack%2Fswift~stable%2Frocky~I79d20209cea70a6447c4e94941e5e854889cbec5,openstack/swift,stable/rocky,I79d20209cea70a6447c4e94941e5e854889cbec5,reconciler: Enqueue right work for shard containers,MERGED,2019-10-23 20:38:02.000000000,2019-11-08 11:01:02.000000000,2019-11-08 11:01:02.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 20:38:02.000000000', 'files': ['test/unit/container/test_replicator.py', 'swift/container/reconciler.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/52b3bae44e0c41b7f29f2a871c3c78c608a9d0f6', 'message': ""reconciler: Enqueue right work for shard containers\n\nThis fixes newly-enqueued work going forward, but doesn't offer anything\nto try to parse existing bad work items or even to kick shards so they\nreset their reconciler high-water marks.\n\nChange-Id: I79d20209cea70a6447c4e94941e5e854889cbec5\nCloses-Bug: 1836082\n(cherry picked from commit f4bb1bea28640dc603da891559387d6b15f1f2da)\n(cherry picked from commit 74368ee70b5d922abb69ddb214369fb4afb76cec)\n""}]",0,690736,52b3bae44e0c41b7f29f2a871c3c78c608a9d0f6,10,2,1,15343,,,0,"reconciler: Enqueue right work for shard containers

This fixes newly-enqueued work going forward, but doesn't offer anything
to try to parse existing bad work items or even to kick shards so they
reset their reconciler high-water marks.

Change-Id: I79d20209cea70a6447c4e94941e5e854889cbec5
Closes-Bug: 1836082
(cherry picked from commit f4bb1bea28640dc603da891559387d6b15f1f2da)
(cherry picked from commit 74368ee70b5d922abb69ddb214369fb4afb76cec)
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/690736/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'swift/container/reconciler.py']",2,52b3bae44e0c41b7f29f2a871c3c78c608a9d0f6,bug/1836082, account = broker.root_account container = broker.root_container, account = broker.account container = broker.container,87,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,openstack/tripleo-ansible,stable/train,I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,Add support for --limit option into ceph-ansible call,MERGED,2019-11-07 15:27:55.000000000,2019-11-08 10:40:47.000000000,2019-11-08 10:40:46.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-11-07 15:27:55.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0764fc8f17a022cda6e906b444bc9bcde9d21cdd', 'message': ""Add support for --limit option into ceph-ansible call\n\nThis will be useful when executing playbooks which can't run against\nall nodes. For example the newly introduced docker-to-podman playbook\nmeant to migrate systemd units from docker to podman for compatibility\nwith newer CentOS versions.\n\nChange-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n(cherry picked from commit bd6975a2735942956f0e22d805baf18959d39ebd)\n""}]",0,693373,0764fc8f17a022cda6e906b444bc9bcde9d21cdd,8,4,1,6796,,,0,"Add support for --limit option into ceph-ansible call

This will be useful when executing playbooks which can't run against
all nodes. For example the newly introduced docker-to-podman playbook
meant to migrate systemd units from docker to podman for compatibility
with newer CentOS versions.

Change-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
(cherry picked from commit bd6975a2735942956f0e22d805baf18959d39ebd)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/693373/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,0764fc8f17a022cda6e906b444bc9bcde9d21cdd,, - '{% if ceph_ansible_limit is defined and ceph_ansible_limit|length > 0 %}--limit {{ ceph_ansible_limit }}{% endif %}',,1,0
openstack%2Fpython-saharaclient~master~Iea45bfed3b7df01f3272600d4e213588d663aab1,openstack/python-saharaclient,master,Iea45bfed3b7df01f3272600d4e213588d663aab1,Switch to Ussuri jobs,MERGED,2019-10-22 06:28:25.000000000,2019-11-08 10:30:21.000000000,2019-11-08 10:28:01.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-22 06:28:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/ca99e621fdc7c42dce42ae998216c4249e380110', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iea45bfed3b7df01f3272600d4e213588d663aab1\n'}]",0,689971,ca99e621fdc7c42dce42ae998216c4249e380110,8,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Iea45bfed3b7df01f3272600d4e213588d663aab1
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/71/689971/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca99e621fdc7c42dce42ae998216c4249e380110,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,stable/train,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 23:22:00.000000000,2019-11-08 10:21:07.000000000,2019-11-08 10:21:07.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 23:22:00.000000000', 'files': ['elements/overcloud-base/post-install.d/51-enable-network-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2ad3189cf86a484cc502fc37797e83ab0e70868a', 'message': 'Use chkconfig\n\nThe network.service is a legacy config. Use chkconfig directly instead\nof the systemctl version.\n\nDepends-On: https://review.opendev.org/#/c/693379/\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)\n'}]",0,693446,2ad3189cf86a484cc502fc37797e83ab0e70868a,7,3,1,14985,,,0,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/46/693446/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/post-install.d/51-enable-network-service'],1,2ad3189cf86a484cc502fc37797e83ab0e70868a,bug/1851274-stable/train,chkconfig network on,systemctl enable network systemctl start network,1,2
openstack%2Ftripleo-puppet-elements~stable%2Fstein~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,stable/stein,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 23:22:12.000000000,2019-11-08 10:21:06.000000000,2019-11-08 10:21:06.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 23:22:12.000000000', 'files': ['elements/overcloud-base/post-install.d/51-enable-network-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/78f7e7f6d926b27cd4025fa7c28a7d84d01813f2', 'message': 'Use chkconfig\n\nThe network.service is a legacy config. Use chkconfig directly instead\nof the systemctl version.\n\nDepends-On: https://review.opendev.org/#/c/693379/\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)\n'}]",0,693447,78f7e7f6d926b27cd4025fa7c28a7d84d01813f2,7,3,1,14985,,,0,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
(cherry picked from commit 63859da17b4f4e25b4817950544a5daf50270e8a)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/47/693447/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/post-install.d/51-enable-network-service'],1,78f7e7f6d926b27cd4025fa7c28a7d84d01813f2,bug/1851274-stable/stein,chkconfig network on,systemctl enable network systemctl start network,1,2
openstack%2Fnetworking-baremetal~master~I92221290bdb471e1c9e0130b08f812e0e9313ab5,openstack/networking-baremetal,master,I92221290bdb471e1c9e0130b08f812e0e9313ab5,fixed review link.,MERGED,2019-11-08 03:24:52.000000000,2019-11-08 10:17:00.000000000,2019-11-08 10:15:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 03:24:52.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/2295fedb21b5878a0032e1b991b9c4653fe388a6', 'message': 'fixed review link.\n\nChange-Id: I92221290bdb471e1c9e0130b08f812e0e9313ab5\n'}]",0,693470,2295fedb21b5878a0032e1b991b9c4653fe388a6,7,2,1,30717,,,0,"fixed review link.

Change-Id: I92221290bdb471e1c9e0130b08f812e0e9313ab5
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/70/693470/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,2295fedb21b5878a0032e1b991b9c4653fe388a6,," https://review.opendev.org/#/q/status:open+project:openstack/networking-baremetal,n,z"," https://review.openstack.org/#/q/status:open+project:openstack/networking-baremetal,n,z",1,1
openstack%2Fcharm-percona-cluster~master~I6e40970423acb6f70dcc3b91f8b5109de6f46bfc,openstack/charm-percona-cluster,master,I6e40970423acb6f70dcc3b91f8b5109de6f46bfc,Guard yaml load of grastate on cold boot,MERGED,2019-11-06 23:43:12.000000000,2019-11-08 10:16:10.000000000,2019-11-08 10:16:10.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 23:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/c765148eee3f2dc8d9d85ef34201107bce60a1b5', 'message': 'Update tests to use TEST_ variables\n\nUpdate percona to use TEST_ variables\nFix HA overlays\nUse updated Zaza tests\n\nChange-Id: I6e40970423acb6f70dcc3b91f8b5109de6f46bfc\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/107\n'}, {'number': 2, 'created': '2019-11-07 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/34a3faf38e215058b68be708af1ef8c810908c31', 'message': 'Guard yaml load of grastate on cold boot\n\nOccasionally after cold boot yaml load of grastate will be throw an\nexception. Do not error out in this instance.\nUpdate percona to use TEST_ variables\nFix HA overlays\n\nChange-Id: I6e40970423acb6f70dcc3b91f8b5109de6f46bfc\n'}, {'number': 3, 'created': '2019-11-07 23:58:40.000000000', 'files': ['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'unit_tests/test_percona_utils.py', 'tests/bundles/overlays/bionic-ha.yaml.j2', 'tests/basic_deployment.py', 'tests/bundles/overlays/xenial-ha.yaml', 'tests/bundles/overlays/ha.yaml', 'tests/bundles/overlays/disco-ha.yaml.j2', 'tests/bundles/overlays/disco-ha.yaml', 'hooks/percona_utils.py', 'tests/bundles/overlays/xenial-ha.yaml.j2'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/d8b13606e4498f27be63e12400af30908ddee4a9', 'message': 'Guard yaml load of grastate on cold boot\n\nOccasionally after cold boot yaml load of grastate will be throw an\nexception. Do not error out in this instance.\nUpdate percona to use TEST_ variables\nFix HA overlays\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/116\nChange-Id: I6e40970423acb6f70dcc3b91f8b5109de6f46bfc\n'}]",0,693271,d8b13606e4498f27be63e12400af30908ddee4a9,23,4,3,20805,,,0,"Guard yaml load of grastate on cold boot

Occasionally after cold boot yaml load of grastate will be throw an
exception. Do not error out in this instance.
Update percona to use TEST_ variables
Fix HA overlays

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/116
Change-Id: I6e40970423acb6f70dcc3b91f8b5109de6f46bfc
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/71/693271/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/overlays/local-charm-overlay.yaml.j2', 'tests/bundles/overlays/bionic-ha.yaml.j2', 'tests/basic_deployment.py', 'tests/bundles/overlays/xenial-ha.yaml', 'tests/bundles/overlays/ha.yaml', 'tests/bundles/overlays/disco-ha.yaml.j2', 'tests/bundles/overlays/disco-ha.yaml', 'tests/bundles/overlays/xenial-ha.yaml.j2']",8,c765148eee3f2dc8d9d85ef34201107bce60a1b5,test-updates,,,1,430
openstack%2Fkolla~master~I5f23da932df70bf17d09d42420ac408221d0e02f,openstack/kolla,master,I5f23da932df70bf17d09d42420ac408221d0e02f,tox: use Python 3 where possible,MERGED,2019-11-01 14:12:17.000000000,2019-11-08 10:07:05.000000000,2019-11-08 10:05:37.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-01 14:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e5b044ed05333e66e902dd16fa1a5dd63f992d1', 'message': 'tox: use Python 3 where possible\n\nTime to say goodbye for Python 2\n\nChange-Id: I5f23da932df70bf17d09d42420ac408221d0e02f\n'}, {'number': 2, 'created': '2019-11-06 08:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/161cba2eb3ff96405133abd3085d6889384cceac', 'message': 'tox: use Python 3 where possible\n\nTime to say goodbye for Python 2\n\nChange-Id: I5f23da932df70bf17d09d42420ac408221d0e02f\n'}, {'number': 3, 'created': '2019-11-06 09:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd09761e0b9ad386bdc7aa336a636b93c09ca7c9', 'message': 'tox: use Python 3 where possible\n\nTime to say goodbye for Python 2\n\nDepends-On: https://review.opendev.org/#/c/691486/\n\nChange-Id: I5f23da932df70bf17d09d42420ac408221d0e02f\n'}, {'number': 4, 'created': '2019-11-07 15:58:36.000000000', 'files': ['tools/setup_RedHat.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d1dead8901b988f2f0f7da42357e8e04d70de4e', 'message': 'tox: use Python 3 where possible\n\nTime to say goodbye for Python 2\n\nDepends-On: https://review.opendev.org/693356\n\nChange-Id: I5f23da932df70bf17d09d42420ac408221d0e02f\n'}]",2,692549,8d1dead8901b988f2f0f7da42357e8e04d70de4e,19,6,4,24072,,,0,"tox: use Python 3 where possible

Time to say goodbye for Python 2

Depends-On: https://review.opendev.org/693356

Change-Id: I5f23da932df70bf17d09d42420ac408221d0e02f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/692549/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2e5b044ed05333e66e902dd16fa1a5dd63f992d1,drop-py2,"envlist = pep8,py37,pypybasepython = python3[testenv:py27] basepython = python2.7 [testenv:py36] basepython = python3.6 [testenv:py37] basepython = python3.7 [testenv:pypy] basepython = pypy ","envlist = pep8,py27,py37,pypybasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",14,9
openstack%2Fnetworking-hyperv~master~I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf,openstack/networking-hyperv,master,I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf,Drop python 2.7 support and testing,MERGED,2019-10-30 04:01:27.000000000,2019-11-08 09:53:22.000000000,2019-11-08 09:50:24.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 04:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/ca2fdb65a35885db412127adfa3dfa9aaecd3317', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-hyperv is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf\n'}, {'number': 2, 'created': '2019-10-30 06:11:49.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-6a6064fa098195f0.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/41cdef26ab201e68b815238b83e8123c495f4067', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nnetworking-hyperv is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf\n'}]",0,692016,41cdef26ab201e68b815238b83e8123c495f4067,11,2,2,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

networking-hyperv is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I6b4e16bc7daeb77e4953a7c0b273ef6e618eedbf
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/16/692016/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-6a6064fa098195f0.yaml', 'setup.cfg', 'tox.ini']",5,ca2fdb65a35885db412127adfa3dfa9aaecd3317,drop-py27-support,"envlist = py37,pep8","envlist = py27,py37,pep8",7,5
openstack%2Fopenstack-ansible-repo_server~master~I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,openstack/openstack-ansible-repo_server,master,I8dcb3c97e9593877a4a420bd32b50ae29d9d311c,Add possibility to overwrite nginx public repo,MERGED,2019-11-04 19:19:21.000000000,2019-11-08 09:47:33.000000000,2019-11-08 03:03:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 19:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/6936ec58402bfce8d8272d42372894b580acc2c5', 'message': 'Add possibility to overwrite nginx public repo\n\nFor Centos, nginx uses nginx.org repo. This patch allows you to change\nthis behaviour with nginx_yum_repo and gpg url with nginx_key.\n\nChange-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c\n'}, {'number': 2, 'created': '2019-11-05 06:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/7e549dcf273accec385a3799f7b68e0d4c952c16', 'message': 'Add possibility to overwrite nginx public repo\n\nFor Centos, we use by default public repo for nginx and shibboleth,\nyou can change this behaviour with these role-wide variables:\n- repo_centos_nginx_mirror\n- repo_centos_nginx_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c\n'}, {'number': 3, 'created': '2019-11-05 09:11:51.000000000', 'files': ['tasks/repo_install.yml', 'vars/redhat.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/bd8a24716c519badc985aceb08d00b113ab5f857', 'message': 'Add possibility to overwrite nginx public repo\n\nFor Centos, we use by default public repo for nginx. You can change this\nbehaviour with these role-wide variables:\n- repo_centos_nginx_mirror\n- repo_centos_nginx_key\n\nOr with these osa-wide variables:\n- centos_nginx_mirror\n- centos_nginx_key\n\nChange-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c\n'}]",1,692874,bd8a24716c519badc985aceb08d00b113ab5f857,24,4,3,23182,,,0,"Add possibility to overwrite nginx public repo

For Centos, we use by default public repo for nginx. You can change this
behaviour with these role-wide variables:
- repo_centos_nginx_mirror
- repo_centos_nginx_key

Or with these osa-wide variables:
- centos_nginx_mirror
- centos_nginx_key

Change-Id: I8dcb3c97e9593877a4a420bd32b50ae29d9d311c
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/74/692874/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'vars/redhat.yml']",2,6936ec58402bfce8d8272d42372894b580acc2c5,Offline_repo,"repo_nginx_yum_repo: ""{{ nginx_yum_repo | default('http://nginx.org/packages/centos/7/$basearch/') }}"" repo_nginx_key: ""{{ nginx_key | default('http://nginx.org/keys/nginx_signing.key') }}""",repo_nginx_repo: http://nginx.org/packages/centos/7/$basearch/ repo_nginx_gpg_key: http://nginx.org/keys/nginx_signing.key,4,4
openstack%2Fos-win~master~I9fe9bc0335624f25d5cfb22b53e5af54a9117d29,openstack/os-win,master,I9fe9bc0335624f25d5cfb22b53e5af54a9117d29,Drop python 2.7 support and testing,MERGED,2019-10-30 03:55:17.000000000,2019-11-08 09:45:23.000000000,2019-11-08 09:43:19.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 03:55:17.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-3849027908cd8717.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/9c9fd20fce0b581ef7c4969e19ca44384fd1ede3', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nos-win is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I9fe9bc0335624f25d5cfb22b53e5af54a9117d29\n'}]",0,692015,9c9fd20fce0b581ef7c4969e19ca44384fd1ede3,8,2,1,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

os-win is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I9fe9bc0335624f25d5cfb22b53e5af54a9117d29
",git fetch https://review.opendev.org/openstack/os-win refs/changes/15/692015/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'releasenotes/notes/drop-py-2-7-3849027908cd8717.yaml', 'tox.ini']",4,9c9fd20fce0b581ef7c4969e19ca44384fd1ede3,drop-py27-support,"envlist = py37,pep8","envlist = py27,py37,pep8",8,5
openstack%2Fcompute-hyperv~master~I58d4843f05703b62db94220965980612f803fd9e,openstack/compute-hyperv,master,I58d4843f05703b62db94220965980612f803fd9e,Drop python 2.7 support and testing,MERGED,2019-10-30 04:10:47.000000000,2019-11-08 09:44:22.000000000,2019-11-08 09:44:22.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 04:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0926908bc585a90608685ed4794fa7ffb7d58ef8', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncompute-hyperv is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I58d4843f05703b62db94220965980612f803fd9e\n'}, {'number': 2, 'created': '2019-10-30 06:11:03.000000000', 'files': ['setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-5cd36052d5c2e594.yaml'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e8d536108c1b0e3369259a34aaae4d1cba975371', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\ncompute-hyperv is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I58d4843f05703b62db94220965980612f803fd9e\n'}]",0,692018,e8d536108c1b0e3369259a34aaae4d1cba975371,9,2,2,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

compute-hyperv is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I58d4843f05703b62db94220965980612f803fd9e
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/18/692018/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg', 'tox.ini', 'releasenotes/notes/drop-py-2-7-5cd36052d5c2e594.yaml']",4,0926908bc585a90608685ed4794fa7ffb7d58ef8,drop-py27-support,--- upgrade: - | Python 2.7 support has been dropped. Last release of compute-hyperv to support py2.7 is OpenStack Train. The minimum version of Python now supported by compute-hyperv is Python 3.6. ,,7,4
openstack%2Fdesignate~master~I1fc06616ed410b473c587253f774ea0a13961707,openstack/designate,master,I1fc06616ed410b473c587253f774ea0a13961707,Renamed enable_host_header by default reno,MERGED,2019-10-22 17:36:56.000000000,2019-11-08 09:34:11.000000000,2019-11-08 09:32:45.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-22 17:36:56.000000000', 'files': ['releasenotes/notes/enable-host-header-d759b65d8b0e67a1.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/30d454a223463878e8321c3cc2331e77c113e13e', 'message': 'Renamed enable_host_header by default reno\n\nChange-Id: I1fc06616ed410b473c587253f774ea0a13961707\n'}]",0,690141,30d454a223463878e8321c3cc2331e77c113e13e,8,3,1,22623,,,0,"Renamed enable_host_header by default reno

Change-Id: I1fc06616ed410b473c587253f774ea0a13961707
",git fetch https://review.opendev.org/openstack/designate refs/changes/41/690141/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/enable-host-header-d759b65d8b0e67a1.yaml'],1,30d454a223463878e8321c3cc2331e77c113e13e,fix_reno_name,,,0,0
openstack%2Foctavia-tempest-plugin~master~I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17,openstack/octavia-tempest-plugin,master,I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17,Remove act-stdby-iptables scenario jobs in Stein+,MERGED,2019-10-07 15:51:23.000000000,2019-11-08 09:20:22.000000000,2019-11-08 09:16:56.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 15:51:23.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f6ec94576b1cf1b27ef712e660038630976d3462', 'message': 'Remove act-stdby-iptables scenario jobs in Stein+\n\nIPtables-based active-standby scenario test is deprecated from Stein\nrelease to Amphora stats-based active-standby scenario test.\n\nChange-Id: I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17\n'}]",0,687086,f6ec94576b1cf1b27ef712e660038630976d3462,8,3,1,6469,,,0,"Remove act-stdby-iptables scenario jobs in Stein+

IPtables-based active-standby scenario test is deprecated from Stein
release to Amphora stats-based active-standby scenario test.

Change-Id: I18ba73be30ee4d18d01ebf9e7affbb46a86e0d17
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/86/687086/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,f6ec94576b1cf1b27ef712e660038630976d3462,,, name: octavia-v2-act-stdby-iptables-dsvm-scenario-stable-train parent: octavia-v2-act-stdby-iptables-dsvm-scenario override-checkout: stable/train - job: name: octavia-v2-act-stdby-iptables-dsvm-scenario-stable-stein parent: octavia-v2-act-stdby-iptables-dsvm-scenario override-checkout: stable/stein - job:,0,20
openstack%2Fpuppet-nova~master~I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd,openstack/puppet-nova,master,I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd,Allow passing $aliases in ::nova::compute class,ABANDONED,2019-11-08 08:42:27.000000000,2019-11-08 08:54:05.000000000,,[],"[{'number': 1, 'created': '2019-11-08 08:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1c379999cbcf19d510d9bc115ca39a4cd63c0741', 'message': ""Allow passing $aliases in ::nova::compute class\n\nCurrently, the class ::nova::pci is included from ::nova::compute.\nThis means it's not possible to pass a custom parameter to it for\nthe $alias parameter.\n\nThis patch adds a $alias parameter to ::nova::compute so it is forwarded\nto the ::nova::pci class.\n\nChange-Id: I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd\n""}, {'number': 2, 'created': '2019-11-08 08:42:57.000000000', 'files': ['manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a51f11acaec99db3ecd7d0958953639c8966e943', 'message': ""Allow passing $aliases in ::nova::compute class\n\nCurrently, the class ::nova::pci is included from ::nova::compute.\nThis means it's not possible to pass a custom parameter to it for\nthe $aliases parameter.\n\nThis patch adds a $aliases parameter to ::nova::compute so it is\nforwarded to the ::nova::pci class.\n\nChange-Id: I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd\n""}]",0,693501,a51f11acaec99db3ecd7d0958953639c8966e943,3,0,2,6476,,,0,"Allow passing $aliases in ::nova::compute class

Currently, the class ::nova::pci is included from ::nova::compute.
This means it's not possible to pass a custom parameter to it for
the $aliases parameter.

This patch adds a $aliases parameter to ::nova::compute so it is
forwarded to the ::nova::pci class.

Change-Id: I11c31d8d17806dd8b49aaa72462e6fe11fb9a5dd
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/01/693501/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute.pp'],1,1c379999cbcf19d510d9bc115ca39a4cd63c0741,,"# [*aliases*] # (optional) A list of pci alias hashes # Defaults to $::os_service_default # Example: # [{""vendor_id"" => ""1234"", ""product_id"" => ""5678"", ""name"" => ""default""}, # {""vendor_id"" => ""1234"", ""product_id"" => ""6789"", ""name"" => ""other""}] # $aliases = $::os_service_default, class { '::nova::pci': aliases => $aliases, }", include ::nova::pci,11,1
openstack%2Foctavia-tempest-plugin~master~I0c6437930ef9bedc418fb0fe56c424badb9315d0,openstack/octavia-tempest-plugin,master,I0c6437930ef9bedc418fb0fe56c424badb9315d0,Enable tempest jobs for stable/train,MERGED,2019-10-04 10:26:14.000000000,2019-11-08 08:38:27.000000000,2019-11-08 08:35:49.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-04 10:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/51baf272337126cdfe6909325eb3f5bf4cff713c', 'message': 'Enable tempest jobs from stable/train\n\nChange-Id: I0c6437930ef9bedc418fb0fe56c424badb9315d0\n'}, {'number': 2, 'created': '2019-10-05 09:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e48c619523a21adb46a5d937e4d6bf678784b25e', 'message': 'Enable tempest jobs for stable/train\n\nChange-Id: I0c6437930ef9bedc418fb0fe56c424badb9315d0\n'}, {'number': 3, 'created': '2019-10-07 14:31:36.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/abb87c5e553ff5f67c05eb86c1d8536da4a618f1', 'message': 'Enable tempest jobs for stable/train\n\nChange-Id: I0c6437930ef9bedc418fb0fe56c424badb9315d0\n'}]",0,686565,abb87c5e553ff5f67c05eb86c1d8536da4a618f1,22,5,3,6469,,,0,"Enable tempest jobs for stable/train

Change-Id: I0c6437930ef9bedc418fb0fe56c424badb9315d0
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/65/686565/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,51baf272337126cdfe6909325eb3f5bf4cff713c,, name: octavia-v2-dsvm-noop-api-stable-train parent: octavia-v2-dsvm-noop-api override-checkout: stable/train - job: name: octavia-v2-dsvm-scenario-stable-train parent: octavia-v2-dsvm-scenario override-checkout: stable/train - job: name: octavia-v2-dsvm-tls-barbican-stable-train parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/train - job: name: octavia-v2-dsvm-spare-pool-stable-train parent: octavia-v2-dsvm-spare-pool override-checkout: stable/train - job: name: octavia-v2-act-stdby-iptables-dsvm-scenario-stable-train parent: octavia-v2-act-stdby-iptables-dsvm-scenario override-checkout: stable/train - job:,,35,0
openstack%2Fswift~stable%2Fstein~I58236b65802012da94a41b9dac85aa00a081de0e,openstack/swift,stable/stein,I58236b65802012da94a41b9dac85aa00a081de0e,Authors/changelog for 2.21.1,MERGED,2019-10-23 17:51:16.000000000,2019-11-08 08:37:06.000000000,2019-11-08 08:34:02.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 17:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/55b7d1aec2926975f89384944fc7d1cca89d5601', 'message': 'Authors/changelog for 2.21.1\n\nChange-Id: I58236b65802012da94a41b9dac85aa00a081de0e\n'}, {'number': 2, 'created': '2019-11-06 02:46:35.000000000', 'files': ['CHANGELOG', 'AUTHORS', 'releasenotes/notes/2_21_1_release-17495ac2786ba682.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/522823548a61745b95f079ed092ba80d57265b1c', 'message': 'Authors/changelog for 2.21.1\n\nChange-Id: I58236b65802012da94a41b9dac85aa00a081de0e\n'}]",0,690699,522823548a61745b95f079ed092ba80d57265b1c,13,2,2,15343,,,0,"Authors/changelog for 2.21.1

Change-Id: I58236b65802012da94a41b9dac85aa00a081de0e
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/690699/1 && git format-patch -1 --stdout FETCH_HEAD,"['CHANGELOG', 'AUTHORS', 'releasenotes/notes/2_21_1_release-17495ac2786ba682.yaml']",3,55b7d1aec2926975f89384944fc7d1cca89d5601,release-2_21_1,"--- fixes: - | Sharding improvements * The ``container-replicator`` now only attempts to fetch shard ranges if the remote indicates that it has shard ranges. Further, it does so with a timeout to prevent the process from hanging in certain cases. * The ``container-replicator`` now correctly enqueues ``container-reconciler`` work for sharded containers. * Container metadata related to sharding are now removed when no longer needed. - | S3 API improvements * Unsigned payloads work with v4 signatures once more. * Multipart upload parts may now be copied from other multipart uploads. * CompleteMultipartUpload requests with a ``Content-MD5`` now work. * ``Content-Type`` can now be updated when copying an object. * Fixed v1 listings that end with a non-ASCII object name. - | Background corruption-detection improvements * Detect and remove invalid entries from ``hashes.pkl`` * When object path is not a directory, just quarantine it, rather than the whole suffix. - | Static Large Object sizes in listings for versioned containers are now more accurate. - | When refetching Static Large Object manifests, non-manifest responses are now handled better. - | Cross-account symlinks now store correct account information in container listings. This was previously fixed in 2.22.0. - | Requesting multiple ranges from a Dynamic Large Object now returns the entire object instead of incorrect data. This was previously fixed in 2.23.0. - | When making backend requests, the ``proxy-server`` now ensures query parameters are always properly quoted. Previously, the proxy would encounter an error on Python 2.7.17 if the client included non-ASCII query parameters in object requests. This was previously fixed in 2.23.0. ",,117,0
openstack%2Fpython-swiftclient~master~I558dbf9a657d442e6e19468e543bbec855129eeb,openstack/python-swiftclient,master,I558dbf9a657d442e6e19468e543bbec855129eeb,"Rename ""tests"" directory to be ""test"" like in the swift repo",MERGED,2019-10-10 04:09:10.000000000,2019-11-08 08:19:31.000000000,2019-11-08 08:18:10.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 04:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/cf56add4a70e0be87f3c28d39e0b5f26765d8bc3', 'message': 'Actually run tempauth tests in swiftclient dsvm jobs\n\nThe job definition (over in the swift repo) specifies test/sample.conf,\nwhich does not exist in this repo. As a result, those tests would skip\nwith\n\n    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG\n\nChange-Id: I558dbf9a657d442e6e19468e543bbec855129eeb\n'}, {'number': 2, 'created': '2019-10-11 00:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/66a52c5b963a4bf0ba2662c6b082528811ec2871', 'message': 'Actually run tempauth tests in swiftclient dsvm jobs\n\nThe job definition (over in the swift repo) specifies test/sample.conf,\nwhich does not exist in this repo. As a result, those tests would skip\nwith\n\n    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG\n\nChange-Id: I558dbf9a657d442e6e19468e543bbec855129eeb\n'}, {'number': 3, 'created': '2019-11-06 03:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/4c67727c2eda33159d4ea78d6727b4daa5b22ba4', 'message': 'Rename ""tests"" directory to be ""test"" like in the swift repo\n\nIn addition to being less confusing for devs, this lets us actually run\ntempauth tests in swiftclient dsvm jobs.\n\nThe job definition (over in the swift repo) specifies test/sample.conf,\nwhich does not exist in this repo. As a result, those tests would skip\nwith\n\n    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG\n\nChange-Id: I558dbf9a657d442e6e19468e543bbec855129eeb\n'}, {'number': 4, 'created': '2019-11-06 04:04:36.000000000', 'files': ['.functests', 'test/unit/utils.py', '.unittests', 'test/sample.conf', 'test/unit/__init__.py', 'test/functional/test_swiftclient.py', 'test/unit/test_authv1.py', 'test/__init__.py', 'test/unit/test_command_helpers.py', 'test/unit/test_multithreading.py', 'test/unit/test_swiftclient.py', 'test/unit/test_service.py', 'test/functional/__init__.py', 'test/unit/test_utils.py', 'test/unit/test_shell.py', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/1eda8f9f3eac55953b3d54e32754e2ec312ab348', 'message': 'Rename ""tests"" directory to be ""test"" like in the swift repo\n\nIn addition to being less confusing for devs, this lets us actually run\ntempauth tests in swiftclient dsvm jobs.\n\nThe job definition (over in the swift repo) specifies test/sample.conf,\nwhich does not exist in this repo. As a result, those tests would skip\nwith\n\n    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG\n\nChange-Id: I558dbf9a657d442e6e19468e543bbec855129eeb\n'}]",1,687773,1eda8f9f3eac55953b3d54e32754e2ec312ab348,13,3,4,15343,,,0,"Rename ""tests"" directory to be ""test"" like in the swift repo

In addition to being less confusing for devs, this lets us actually run
tempauth tests in swiftclient dsvm jobs.

The job definition (over in the swift repo) specifies test/sample.conf,
which does not exist in this repo. As a result, those tests would skip
with

    SKIPPING FUNCTIONAL TESTS DUE TO NO CONFIG

Change-Id: I558dbf9a657d442e6e19468e543bbec855129eeb
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/73/687773/1 && git format-patch -1 --stdout FETCH_HEAD,['test/sample.conf'],1,cf56add4a70e0be87f3c28d39e0b5f26765d8bc3,687774,tests/sample.conf,,1,0
openstack%2Fopenstack-ansible-os_zun~master~I2efc775d7e38019eb39ca85b6135b8506fc76c52,openstack/openstack-ansible-os_zun,master,I2efc775d7e38019eb39ca85b6135b8506fc76c52,Add uwsgi role into local a-r-r and test placement,MERGED,2019-10-18 15:42:49.000000000,2019-11-08 08:00:34.000000000,2019-11-07 23:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 15:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3c896f3f231416c8a67352bad08fefc1e3edf404', 'message': 'Add uwsgi role into local a-r-r\n\nChange-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52\n'}, {'number': 2, 'created': '2019-10-18 17:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f89e19e94882fdc89931566ac564069362659ffa', 'message': 'Add uwsgi role into local a-r-r and test placement\n\nChange-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52\n'}, {'number': 3, 'created': '2019-10-18 18:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/8923041a20848f36a4101cafb8f3ca931e9dd84d', 'message': 'Add uwsgi role into local a-r-r and test placement\n\nChange-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52\n'}, {'number': 4, 'created': '2019-11-07 14:57:27.000000000', 'files': ['tests/inventory', 'tests/ansible-role-requirements.yml', 'tests/test.yml', 'tests/test-install-placement.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/7cb2d444c06cb9306d4e1d045603635cd8d8870d', 'message': 'Add uwsgi role into local a-r-r and test placement\n\nChange-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52\n'}]",0,689528,7cb2d444c06cb9306d4e1d045603635cd8d8870d,16,4,4,28619,,,0,"Add uwsgi role into local a-r-r and test placement

Change-Id: I2efc775d7e38019eb39ca85b6135b8506fc76c52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/28/689528/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,3c896f3f231416c8a67352bad08fefc1e3edf404,zun_tests,- name: uwsgi src: https://opendev.org/openstack/ansible-role-uwsgi scm: git version: master,,4,0
openstack%2Fswift~stable%2Frocky~I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,openstack/swift,stable/rocky,I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,versioned_writes: checks for SLO object before copy,MERGED,2019-10-23 20:42:21.000000000,2019-11-08 07:45:11.000000000,2019-11-08 07:45:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30970}]","[{'number': 1, 'created': '2019-10-23 20:42:21.000000000', 'files': ['swift/common/middleware/versioned_writes.py', 'test/functional/test_versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f68bbae9ced96bdde2a3f2d19d343e6f71073f52', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n(cherry picked from commit b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0)\n(cherry picked from commit a556c2b5f739db863c1bcb8cea2dc6c31144ff13)\n""}]",0,690739,f68bbae9ced96bdde2a3f2d19d343e6f71073f52,6,3,1,15343,,,0,"versioned_writes: checks for SLO object before copy

Previously, versioned_writes middleware copy an already existing
object using PUT. However, SLO requires the additional query
to properly update the object size when listing.

Propose fix: In _put_versioned_obj - which is called when on
creating version obj and also on restoring obj,
if 'X-Object-Sysmeta-Slo-Size' header is present it will
add needed headers for container to update obj size

Added a new functional test case with size assertion for slo

Change-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc
Closes-Bug: #1840322
(cherry picked from commit b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0)
(cherry picked from commit a556c2b5f739db863c1bcb8cea2dc6c31144ff13)
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/690739/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/versioned_writes.py', 'test/functional/test_versioned_writes.py']",2,f68bbae9ced96bdde2a3f2d19d343e6f71073f52,bug/1840322," def test_slo_manifest_version_size(self): file_item = self._create_manifest('a') # sanity check: read the manifest, then the large object self._assert_is_manifest(file_item, 'a') self._assert_is_object(file_item, b'a') # original manifest size primary_list = self.container.files(parms={'format': 'json'}) self.assertEqual(1, len(primary_list)) org_size = primary_list[0]['bytes'] # upload new manifest file_item = self._create_manifest('b') # sanity check: read the manifest, then the large object self._assert_is_manifest(file_item, 'b') self._assert_is_object(file_item, b'b') versions_list = self.versions_container.files(parms={'format': 'json'}) self.assertEqual(1, len(versions_list)) version_file = self.versions_container.file(versions_list[0]['name']) version_file_size = versions_list[0]['bytes'] # check the version is still a manifest self._assert_is_manifest(version_file, 'a') self._assert_is_object(version_file, b'a') # check the version size is correct self.assertEqual(version_file_size, org_size) # delete the newest manifest file_item.delete() # expect the original manifest file to be restored self._assert_is_manifest(file_item, 'a') self._assert_is_object(file_item, b'a') primary_list = self.container.files(parms={'format': 'json'}) self.assertEqual(1, len(primary_list)) primary_file_size = primary_list[0]['bytes'] # expect the original manifest file size to be the same self.assertEqual(primary_file_size, org_size)",,47,1
openstack%2Fneutron~master~Id5f6b7767dbeee47143e2ca44cdaf11c4182399f,openstack/neutron,master,Id5f6b7767dbeee47143e2ca44cdaf11c4182399f,Add binding_index to NetworkDhcpAgentBinding,ABANDONED,2019-10-29 11:47:31.000000000,2019-11-08 07:36:04.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17491}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-29 11:47:31.000000000', 'files': ['neutron/objects/network.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/scheduler/base_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/scheduler/dhcp_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c690306dbb133663ea8dc98988c7e8893234487', 'message': 'Add binding_index to NetworkDhcpAgentBinding\n\nThe patch proposes adding a new binding_index to the\nNetworkDhcpAgentBinding table, with an additional Unique\nConstraint that enforces a single <network_id, binding_index>\nper network.\n\n1. When a network is triggered to be auto-scheduled to DHCP\nagents, the number of DHCP agents is constrained by\ndhcp_agents_per_network in neutron.conf. This prevents\ntoo many DHCP agents from being scheduled in the first place.\n\n2. If users manually schedule a network to specific DHCP\nagents, the binding_index increments to show the number of\nDHCP agents hosting this network.\n\nIn order to make binding_index an autoincrement field it was\nadded as a primary key. New unique constraint was added to\npreserve uniqueness of network-agent pairs.\n\nChange-Id: Id5f6b7767dbeee47143e2ca44cdaf11c4182399f\nCo-Authored-By: Oleg Bondarev <obondarev@mirantis.com>\nCloses-Bug: #1535554\n'}]",2,691852,0c690306dbb133663ea8dc98988c7e8893234487,8,8,1,5948,,,0,"Add binding_index to NetworkDhcpAgentBinding

The patch proposes adding a new binding_index to the
NetworkDhcpAgentBinding table, with an additional Unique
Constraint that enforces a single <network_id, binding_index>
per network.

1. When a network is triggered to be auto-scheduled to DHCP
agents, the number of DHCP agents is constrained by
dhcp_agents_per_network in neutron.conf. This prevents
too many DHCP agents from being scheduled in the first place.

2. If users manually schedule a network to specific DHCP
agents, the binding_index increments to show the number of
DHCP agents hosting this network.

In order to make binding_index an autoincrement field it was
added as a primary key. New unique constraint was added to
preserve uniqueness of network-agent pairs.

Change-Id: Id5f6b7767dbeee47143e2ca44cdaf11c4182399f
Co-Authored-By: Oleg Bondarev <obondarev@mirantis.com>
Closes-Bug: #1535554
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/691852/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/network.py', 'neutron/tests/functional/scheduler/test_dhcp_agent_scheduler.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/scheduler/base_scheduler.py', 'neutron/db/agentschedulers_db.py', 'neutron/tests/unit/scheduler/test_dhcp_agent_scheduler.py', 'neutron/tests/unit/objects/test_network.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/scheduler/dhcp_agent_scheduler.py']",13,0c690306dbb133663ea8dc98988c7e8893234487,bug/1535554,"from neutron.db.network_dhcp_agent_binding import models as ndab_model bindings_to_add.append( (dhcp_agent, net_id, is_routed_network)) for agent, net_id, is_routed_network in bindings_to_add: self.resource_filter.bind( context, [agent], net_id, force_scheduling=is_routed_network) def get_vacant_network_dhcp_agent_binding_index( self, context, network_id, force_scheduling): """"""Return a vacant binding_index to use and whether or not it exists. Each NetworkDhcpAgentBinding has a binding_index which is unique per network_id, and when creating a single binding we require to find a 'vacant' binding_index which isn't yet used - for example if we have bindings with indices 1 and 3, then clearly binding_index == 2 is free. :returns: binding_index. """""" num_agents = agent_obj.Agent.count( context, agent_type=constants.AGENT_TYPE_DHCP) num_agents = min(num_agents, cfg.CONF.dhcp_agents_per_network) bindings = network.NetworkDhcpAgentBinding.get_objects( context, network_id=network_id) binding_indices = [b.binding_index for b in bindings] all_indices = set(range(ndab_model.LOWEST_BINDING_INDEX, num_agents + 1)) open_slots = sorted(list(all_indices - set(binding_indices))) if open_slots: return open_slots[0] # Last chance: if this is a manual scheduling, we're gonna allow # creation of a binding_index even if it will exceed # max_l3_agents_per_router. if force_scheduling: return max(all_indices) + 1 return -1 def bind(self, context, agents, network_id, force_scheduling=False): binding_index = self.get_vacant_network_dhcp_agent_binding_index( context, network_id, force_scheduling) if binding_index < ndab_model.LOWEST_BINDING_INDEX: LOG.debug('Unable to find a vacant binding_index for ' 'network %(network_id)s and agent %(agent_id)s', {'network_id': network_id, 'agent_id': agent.id}) continue network_id=network_id, binding_index=binding_index).create() 'hosted by DHCP agent %(agent_id)s with binding_index ' '%(binding_index)d', 'agent_id': agent_id, 'binding_index': binding_index})"," bindings_to_add.append((dhcp_agent, net_id)) for agent, net_id in bindings_to_add: self.resource_filter.bind(context, [agent], net_id) def bind(self, context, agents, network_id): network_id=network_id).create() 'hosted by DHCP agent %(agent_id)s', 'agent_id': agent_id})",307,71
openstack%2Ftripleo-docs~master~I37593a817776dee4ed8eb20e186dc637bbd3088c,openstack/tripleo-docs,master,I37593a817776dee4ed8eb20e186dc637bbd3088c,Fix wrong information about the Validations CLI,MERGED,2019-11-07 16:30:17.000000000,2019-11-08 07:35:57.000000000,2019-11-08 07:34:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-07 16:30:17.000000000', 'files': ['deploy-guide/source/post_deployment/validations/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b07118b8ad7b5f9967a5bd09339e3376e6691d33', 'message': 'Fix wrong information about the Validations CLI\n\nThe TripleO Validator CLI has appeared in Stein and not in Rocky.\n\nChange-Id: I37593a817776dee4ed8eb20e186dc637bbd3088c\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,693383,b07118b8ad7b5f9967a5bd09339e3376e6691d33,8,5,1,11491,,,0,"Fix wrong information about the Validations CLI

The TripleO Validator CLI has appeared in Stein and not in Rocky.

Change-Id: I37593a817776dee4ed8eb20e186dc637bbd3088c
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/83/693383/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/post_deployment/validations/index.rst'],1,b07118b8ad7b5f9967a5bd09339e3376e6691d33,,"Stein, it is possible to run the validations using the TripleO",Rocky is possible to run the validations using the TripleO,1,1
openstack%2Ftripleo-common~master~Ief83030835fa7e8c76ca2607135a4f840782bbb9,openstack/tripleo-common,master,Ief83030835fa7e8c76ca2607135a4f840782bbb9,Stop logging manifest in debug,MERGED,2019-11-06 20:14:30.000000000,2019-11-08 07:09:05.000000000,2019-11-07 22:54:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 20:14:30.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/958937eb67e289f5da7e790d47dcd69011732a50', 'message': ""Stop logging manifest in debug\n\nIt's excessively verbose and is a json object which leads to the log\nlines not being individual lines. We don't really need to be printing\nthis anymore.\n\nChange-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9\n""}]",0,693249,958937eb67e289f5da7e790d47dcd69011732a50,11,4,1,14985,,,0,"Stop logging manifest in debug

It's excessively verbose and is a json object which leads to the log
lines not being individual lines. We don't really need to be printing
this anymore.

Change-Id: Ief83030835fa7e8c76ca2607135a4f840782bbb9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/693249/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,958937eb67e289f5da7e790d47dcd69011732a50,logging-improvements,," LOG.debug('[%s] Current image manifest: [%s]' % (image, json.dumps(manifest, indent=4)))",0,2
openstack%2Ftripleo-heat-templates~master~I1d24dce0ff9c88380e8769593d619a9e4e944e40,openstack/tripleo-heat-templates,master,I1d24dce0ff9c88380e8769593d619a9e4e944e40,Define ovn_dbs_image fact for upgrades.,MERGED,2019-11-07 15:37:27.000000000,2019-11-08 07:07:11.000000000,2019-11-07 23:18:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-11-07 15:37:27.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/460d4771a6be1b7aebc8c86263149e2835cad654', 'message': 'Define ovn_dbs_image fact for upgrades.\n\nThe ovn upgrade_tasks make use of a block which belongs\nto the update_tasks. In that block, the ovs_dbs_image\nvariable is being referenced. However, the fact is set\nin a step before the block invoked.\n\nThis patch sets ovn_dbs_image fact in step0 for upgrade\ntasks and fixes a small typo with the bundle.\n\nChange-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40\nCloses-Bug: #1851669\n'}]",0,693377,460d4771a6be1b7aebc8c86263149e2835cad654,11,8,1,26343,,,0,"Define ovn_dbs_image fact for upgrades.

The ovn upgrade_tasks make use of a block which belongs
to the update_tasks. In that block, the ovs_dbs_image
variable is being referenced. However, the fact is set
in a step before the block invoked.

This patch sets ovn_dbs_image fact in step0 for upgrade
tasks and fixes a small typo with the bundle.

Change-Id: I1d24dce0ff9c88380e8769593d619a9e4e944e40
Closes-Bug: #1851669
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/693377/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,460d4771a6be1b7aebc8c86263149e2835cad654,, ovn_dbs_image: {get_param: ContainerOvnDbsImage} resource: ovn-dbs-bundle, resource: ovn-dbs-bindle,2,1
openstack%2Ftripleo-heat-templates~master~I354c2fedafb88bb363321d1338c39d479560fc3e,openstack/tripleo-heat-templates,master,I354c2fedafb88bb363321d1338c39d479560fc3e,Fix typo in OVN upgrade tasks.,MERGED,2019-11-07 14:21:14.000000000,2019-11-08 07:05:53.000000000,2019-11-07 23:07:53.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-11-07 14:21:14.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eda88f0c7142ae22d2b252956fcaf461eb7e99b6', 'message': 'Fix typo in OVN upgrade tasks.\n\nChange-Id: I354c2fedafb88bb363321d1338c39d479560fc3e\nCloses-Bug: #1851660\n'}]",0,693359,eda88f0c7142ae22d2b252956fcaf461eb7e99b6,11,8,1,26343,,,0,"Fix typo in OVN upgrade tasks.

Change-Id: I354c2fedafb88bb363321d1338c39d479560fc3e
Closes-Bug: #1851660
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/693359/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,eda88f0c7142ae22d2b252956fcaf461eb7e99b6,," ovn_dbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}"""," ovndbs_pcs_res: ""{{ ovn_dbs_pcs_result.rc == 0 }}""",1,1
openstack%2Fopenstack-manuals~master~I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,openstack/openstack-manuals,master,I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2,Fix the outdated security url,ABANDONED,2019-10-29 01:58:47.000000000,2019-11-08 07:00:58.000000000,,"[{'_account_id': 6547}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-29 01:58:47.000000000', 'files': ['www/templates/footer.tmpl', 'www/templates/header.tmpl'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/dd6ea136cd0d306e769f170764fc950ca29da276', 'message': 'Fix the outdated security url\n\nChange-Id: I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2\n'}]",1,691799,dd6ea136cd0d306e769f170764fc950ca29da276,5,3,1,19779,,,0,"Fix the outdated security url

Change-Id: I43984ba8d02a5675f1a2bc4f6f8fe4a7b95e4fd2
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/99/691799/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/templates/footer.tmpl', 'www/templates/header.tmpl']",2,dd6ea136cd0d306e769f170764fc950ca29da276,rm/security,," <li role=""presentation""><a role=""menuitem"" tabindex=""-1"" href=""https://www.openstack.org/software/security/"">Security</a></li>",1,2
openstack%2Fkuryr-kubernetes~master~Ic3bc5bb567fd31b191948437bd98820dccd1b1b6,openstack/kuryr-kubernetes,master,Ic3bc5bb567fd31b191948437bd98820dccd1b1b6,"Fix the misspelling of ""openvswitch""",MERGED,2018-12-26 11:38:12.000000000,2019-11-08 06:31:31.000000000,2019-11-08 06:29:31.000000000,"[{'_account_id': 10068}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-26 11:38:12.000000000', 'files': ['doc/source/installation/devstack/ovn_support.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fcf0d8ddcae831cb022e5289774328bd62d24d44', 'message': 'Fix the misspelling of ""openvswitch""\n\nChange-Id: Ic3bc5bb567fd31b191948437bd98820dccd1b1b6\n'}]",0,627388,fcf0d8ddcae831cb022e5289774328bd62d24d44,8,3,1,29721,,,0,"Fix the misspelling of ""openvswitch""

Change-Id: Ic3bc5bb567fd31b191948437bd98820dccd1b1b6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/627388/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/devstack/ovn_support.rst'],1,fcf0d8ddcae831cb022e5289774328bd62d24d44,,"is different from the default one (i.e., /var/run/openvswitch).","is different from the default one (i.e., /var/run/openvswtich).",1,1
openstack%2Fpython-neutronclient~master~Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd,openstack/python-neutronclient,master,Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd,Correcting typo in environment spelling,ABANDONED,2019-07-31 10:21:34.000000000,2019-11-08 06:31:05.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 10:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/426b3fc09ccc2446c91950760568d321ba1768d8', 'message': 'Correcting typo in environment spelling\n\nThere is a typo mistake in relnotes-from-3.0.0-d7306f5af5e3868d.yaml file in python-neutronclient. Corrected spelling from kyestone to keystone.\n\nChange-Id: Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd\n'}, {'number': 2, 'created': '2019-07-31 10:35:38.000000000', 'files': ['releasenotes/notes/relnotes-from-3.0.0-d7306f5af5e3868d.yaml'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/97112ac22055b8a7e509db307c10aa3ba4582490', 'message': 'Correcting typo in environment spelling\n\nThere is a typo mistake in relnotes-from-3.0.0-d7306f5af5e3868d.yaml\nfile in python-neutronclient. Corrected spelling from kyestone to keystone.\n\nChange-Id: Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd\n'}]",0,673779,97112ac22055b8a7e509db307c10aa3ba4582490,8,3,2,29597,,,0,"Correcting typo in environment spelling

There is a typo mistake in relnotes-from-3.0.0-d7306f5af5e3868d.yaml
file in python-neutronclient. Corrected spelling from kyestone to keystone.

Change-Id: Ib691a9d7c91219223eb2e78ca1d08bc6e3d671fd
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/79/673779/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/relnotes-from-3.0.0-d7306f5af5e3868d.yaml'],1,426b3fc09ccc2446c91950760568d321ba1768d8,fix-keystone-spelling, - Support keystoneauth1 library which brings us better keystone v3 support., - Support keystoneauth1 library which brings us better kyestone v3 support.,1,1
openstack%2Fsahara~master~Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7,openstack/sahara,master,Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7,fix invaild link of installation guide in Sahara UI User Guide,MERGED,2019-10-24 09:48:29.000000000,2019-11-08 06:29:26.000000000,2019-11-08 06:23:17.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-24 09:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1e7997d64abe2ef95f5f69e411d8524d5c386965', 'message': 'fix invaild link of installation guide in Sahara UI User Guide page,and\nupdate links in devstack docs\n\nChange-Id: Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7\n'}, {'number': 2, 'created': '2019-10-24 10:10:58.000000000', 'files': ['doc/source/contributor/devstack.rst', 'doc/source/user/dashboard-user-guide.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/9cf30f600372272736691bf4c777afc2bdfa26d8', 'message': 'fix invaild link of installation guide in Sahara UI User Guide\n\nupdate unsuitable links with the proper ones\n\nChange-Id: Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7\n'}]",0,690895,9cf30f600372272736691bf4c777afc2bdfa26d8,10,3,2,30814,,,0,"fix invaild link of installation guide in Sahara UI User Guide

update unsuitable links with the proper ones

Change-Id: Ib7516bea5b6ce8bfaf816c9b0cfdf547babddea7
",git fetch https://review.opendev.org/openstack/sahara refs/changes/95/690895/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/devstack.rst', 'doc/source/user/dashboard-user-guide.rst']",2,1e7997d64abe2ef95f5f69e411d8524d5c386965,,`installation guide <../install/installation-guide.html>`_.,`installation guide <../install/installation-guide-html>`_.,3,3
openstack%2Fsahara~master~Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407,openstack/sahara,master,Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407,Switch to Ussuri jobs,MERGED,2019-10-22 07:57:40.000000000,2019-11-08 06:26:47.000000000,2019-11-08 06:23:16.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-22 07:57:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/f9f246e8a020cde210570ea262589c147db9096a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407\n'}]",0,690000,f9f246e8a020cde210570ea262589c147db9096a,8,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ia8fe329b4e474db2d0c61f9d9b9fc742a67ad407
",git fetch https://review.opendev.org/openstack/sahara refs/changes/00/690000/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9f246e8a020cde210570ea262589c147db9096a,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fkuryr-kubernetes~master~I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f,openstack/kuryr-kubernetes,master,I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f,Update and add the docstrings to the functions,ABANDONED,2018-12-27 10:49:57.000000000,2019-11-08 06:19:38.000000000,,"[{'_account_id': 11600}, {'_account_id': 14570}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-27 10:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9911529ceed92be94d0cdbb34bd873e1f1809305', 'message': 'Update and add the docstrings to the functions\n\nUpdates to the current docstrigs and added missing docstrings\nto the remaining functions.\n\nChange-Id: I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f\n'}, {'number': 2, 'created': '2019-02-08 06:32:49.000000000', 'files': ['kuryr_kubernetes/os_vif_util.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4e58728976c2413b93039530a2357a800d628123', 'message': 'Update and add the docstrings to the functions\n\nUpdates to the current docstrigs and added missing docstrings\nto the remaining functions.\n\nChange-Id: I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f\n'}]",2,627511,4e58728976c2413b93039530a2357a800d628123,10,3,2,14570,,,0,"Update and add the docstrings to the functions

Updates to the current docstrigs and added missing docstrings
to the remaining functions.

Change-Id: I20f82e8c10d86f0824e3e02c305d74b65ed1cd0f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/11/627511/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/os_vif_util.py'],1,9911529ceed92be94d0cdbb34bd873e1f1809305,code-cleanup," 'host_routes' attribute in 'show_subnet' :param vif_translator: name of the translator for the os-vif plugin to use """""" Get Neutron subnet ID to fixed IP mappings, if available. :param subnets: subnet mapping as returned by PodSubnetsDriver.get_subnets :return: list of subnet id to fixed IP mapping if present, else subnet ids """""" """""" Get Neutron network ID for given subnets. :param subnets: subnet mapping as returned by PodSubnetsDriver.get_subnets :return: Network ID for given subnets """"""", 'show_subnet' in 'host_routes' attribute :param vif_translator: name of the traslator for the os-vif plugin to use,13,2
openstack%2Fkuryr-kubernetes~master~I125e3d130513b3107869d9a0bd07a45d578adefd,openstack/kuryr-kubernetes,master,I125e3d130513b3107869d9a0bd07a45d578adefd,Set *octavia-py36 gate as non-voting,ABANDONED,2019-01-14 09:08:16.000000000,2019-11-08 06:18:50.000000000,,"[{'_account_id': 6598}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-14 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f78d5a56cf3b947d15dd5c165e8f6de87636ce60', 'message': 'Set daemon-containerized-octavia-py36 gate as nv\n\nThis commit sets daemon-containerized-octavia-py36 as non voting until\nfurther debugging on the upstream gate and CI is done, as its flakyness\nis blocking some patches to get merged.\n\nChange-Id: I125e3d130513b3107869d9a0bd07a45d578adefd\n'}, {'number': 2, 'created': '2019-01-14 13:24:53.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/722a90f96ee3e62c090f3a956de540592c21c017', 'message': 'Set *octavia-py36 gate as non-voting\n\nThis commit sets *-octavia-py36 as non voting until further debugging on the\nupstream gate and CI is done, as its flakiness is blocking some patches\nto get merged.\n\nChange-Id: I125e3d130513b3107869d9a0bd07a45d578adefd\n'}]",0,630629,722a90f96ee3e62c090f3a956de540592c21c017,8,3,2,14885,,,0,"Set *octavia-py36 gate as non-voting

This commit sets *-octavia-py36 as non voting until further debugging on the
upstream gate and CI is done, as its flakiness is blocking some patches
to get merged.

Change-Id: I125e3d130513b3107869d9a0bd07a45d578adefd
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/630629/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,f78d5a56cf3b947d15dd5c165e8f6de87636ce60,daemon-containerized-octavia-non-voting, voting: false, voting: true,1,1
openstack%2Fkuryr-kubernetes~master~I20cd2d299765615009efe28dbc09c22a9d2ac6c9,openstack/kuryr-kubernetes,master,I20cd2d299765615009efe28dbc09c22a9d2ac6c9,Update hacking version to latest,ABANDONED,2019-01-06 08:28:56.000000000,2019-11-08 06:18:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-06 08:28:56.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73ef08543ad613a6b2bec92253470d595a6e719f', 'message': 'Update hacking version to latest\n\nChange-Id: I20cd2d299765615009efe28dbc09c22a9d2ac6c9\n'}]",0,628759,73ef08543ad613a6b2bec92253470d595a6e719f,3,1,1,17130,,,0,"Update hacking version to latest

Change-Id: I20cd2d299765615009efe28dbc09c22a9d2ac6c9
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/59/628759/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,73ef08543ad613a6b2bec92253470d595a6e719f,,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fkuryr-kubernetes~master~I8daa700fd49bfc7200ee805272f6bb26443e4f52,openstack/kuryr-kubernetes,master,I8daa700fd49bfc7200ee805272f6bb26443e4f52,"Fix the misspelling of ""openvswitch""",ABANDONED,2018-12-26 07:20:25.000000000,2019-11-08 06:17:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-26 07:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b8f0f15e5222853995bb2f502e34f46baaa7cf65', 'message': 'Fix the misspelling of default\n\nChange-Id: I8daa700fd49bfc7200ee805272f6bb26443e4f52\n'}, {'number': 2, 'created': '2018-12-26 10:47:41.000000000', 'files': ['doc/source/installation/devstack/ovn_support.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4efc6f40827ef8d1fae2d170e3ceed7b652e080b', 'message': 'Fix the misspelling of ""openvswitch""\n\nChange-Id: I8daa700fd49bfc7200ee805272f6bb26443e4f52\n'}]",0,627356,4efc6f40827ef8d1fae2d170e3ceed7b652e080b,5,1,2,29465,,,0,"Fix the misspelling of ""openvswitch""

Change-Id: I8daa700fd49bfc7200ee805272f6bb26443e4f52
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/56/627356/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation/devstack/ovn_support.rst'],1,b8f0f15e5222853995bb2f502e34f46baaa7cf65,,"is different from the default one (i.e., /var/run/openvswitch).","is different from the default one (i.e., /var/run/openvswtich).",1,1
openstack%2Fswift~stable%2Frocky~I0f5e0e410c8297a4898caae00c196fa3b3862100,openstack/swift,stable/rocky,I0f5e0e410c8297a4898caae00c196fa3b3862100,Only url-quote Keys when encoding-type=url,MERGED,2019-11-05 03:04:00.000000000,2019-11-08 06:16:58.000000000,2019-11-08 06:16:58.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 03:04:00.000000000', 'files': ['test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/etree.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/controllers/bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/345f2b542bd307ee039141ee6e535653f3d7a2be', 'message': ""Only url-quote Keys when encoding-type=url\n\nPreviously, we'd even url-quote ETags, leading to weird things like\n\n    <ETag>%22a27a822070b843ed6407f4f38afdaa20%22</ETag>\n\nin listings, where those '%22's should be double quotes.\n\nChange-Id: I0f5e0e410c8297a4898caae00c196fa3b3862100\n(cherry picked from commit c1c65a7e9f43f1395c63fb7bf22f812962b53714)\n""}]",0,692942,345f2b542bd307ee039141ee6e535653f3d7a2be,8,2,1,15343,,,0,"Only url-quote Keys when encoding-type=url

Previously, we'd even url-quote ETags, leading to weird things like

    <ETag>%22a27a822070b843ed6407f4f38afdaa20%22</ETag>

in listings, where those '%22's should be double quotes.

Change-Id: I0f5e0e410c8297a4898caae00c196fa3b3862100
(cherry picked from commit c1c65a7e9f43f1395c63fb7bf22f812962b53714)
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/692942/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/etree.py', 'test/unit/common/middleware/s3api/test_bucket.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/controllers/bucket.py']",4,345f2b542bd307ee039141ee6e535653f3d7a2be,,"from six.moves.urllib.parse import quote name = objects[-1]['name'] else: name = objects[-1]['subdir'] if encoding_type == 'url': name = quote(name) SubElement(elem, 'NextMarker').text = name if encoding_type == 'url': name = o['name'] if encoding_type == 'url': name = quote(name) SubElement(contents, 'Key').text = name name = o['subdir'] if encoding_type == 'url': name = quote(name) SubElement(common_prefixes, 'Prefix').text = name body = tostring(elem)"," SubElement(elem, 'NextMarker').text = \ objects[-1]['name'] if 'subdir' in objects[-1]: SubElement(elem, 'NextMarker').text = \ objects[-1]['subdir'] if encoding_type is not None: SubElement(contents, 'Key').text = o['name'] SubElement(common_prefixes, 'Prefix').text = o['subdir'] body = tostring(elem, encoding_type=encoding_type)",59,27
openstack%2Fkuryr-kubernetes~master~I7b1d8b40a4d89052981ecaed9c69320f0103ae4f,openstack/kuryr-kubernetes,master,I7b1d8b40a4d89052981ecaed9c69320f0103ae4f,Amend the spelling error of a word,ABANDONED,2018-06-06 09:24:18.000000000,2019-11-08 06:16:55.000000000,,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 25747}]","[{'number': 1, 'created': '2018-06-06 09:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fcf40fe6e080e3ebb6ca61ac6662e9e8dd9eda78', 'message': 'Amend the spelling error of a word\n\nChange-Id: I7b1d8b40a4d89052981ecaed9c69320f0103ae4f\n'}, {'number': 2, 'created': '2018-12-07 15:36:52.000000000', 'files': ['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/cni/handlers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a637d15c91e0108e1c8e1a8984b9459d40145c7', 'message': 'Amend the spelling error of a word\n\nChange-Id: I7b1d8b40a4d89052981ecaed9c69320f0103ae4f\n'}]",1,572710,3a637d15c91e0108e1c8e1a8984b9459d40145c7,8,4,2,27549,,,0,"Amend the spelling error of a word

Change-Id: I7b1d8b40a4d89052981ecaed9c69320f0103ae4f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/10/572710/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'doc/source/devref/health_manager.rst', 'kuryr_kubernetes/cni/handlers.py']",3,fcf40fe6e080e3ebb6ca61ac6662e9e8dd9eda78,, VIFs received are marked active, VIFs recieved are marked active,3,3
openstack%2Fkuryr-kubernetes~master~Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb,openstack/kuryr-kubernetes,master,Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb,Remove non-containerized/daemon gates,ABANDONED,2018-12-07 10:50:15.000000000,2019-11-08 06:16:41.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 10:50:15.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05db87e15587404590ed257e7a355f0706ecffe7', 'message': ""Remove non-containerized/daemon gates\n\nThis commit moves all non-containerized/daemonized gatest to the\nexperimental queue. Containerized and daemonized installation has been\nthe default for quite some time and we'll need to perform a maintanance\ncleanup on our pipelines.\n\nChange-Id: Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb\n""}]",6,623444,05db87e15587404590ed257e7a355f0706ecffe7,5,3,1,14885,,,0,"Remove non-containerized/daemon gates

This commit moves all non-containerized/daemonized gatest to the
experimental queue. Containerized and daemonized installation has been
the default for quite some time and we'll need to perform a maintanance
cleanup on our pipelines.

Change-Id: Idb9940c382853fd5f3b1d9246fe33dbf5f1c68bb
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/44/623444/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,05db87e15587404590ed257e7a355f0706ecffe7,remove_non_containerized_nor_daemonized_gates, - kuryr-kubernetes-tempest-octavia - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-openshift-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-daemon-octavia-py36 - kuryr-kubernetes-tempest-octavia-centos-7 - kuryr-kubernetes-tempest-multinode-octavia, - kuryr-kubernetes-tempest-octavia - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-openshift-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-multinode-octavia - kuryr-kubernetes-tempest-octavia - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-lbaasv2 - kuryr-kubernetes-tempest-daemon-octavia-py36,7,9
openstack%2Fkuryr-kubernetes~master~Iea93143656212bf44371d50491f342baa2d941d5,openstack/kuryr-kubernetes,master,Iea93143656212bf44371d50491f342baa2d941d5,Add containerized gate for openshift Routes,ABANDONED,2018-10-04 15:30:06.000000000,2019-11-08 06:16:10.000000000,,"[{'_account_id': 21041}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-10-04 15:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3186be76150b4d7ccfbddb545ab31311d964afe3', 'message': 'Add containerized gate for openshift Routes\n\nThis patch should be depend on patch that will update\nKuryr controller ServiceAccount to support Routes\nresources.\n\nChange-Id: Iea93143656212bf44371d50491f342baa2d941d5\n'}, {'number': 2, 'created': '2018-10-07 06:41:36.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18cf744e296dcaf7c21347a31ddca086e9943773', 'message': 'Add containerized gate for openshift Routes\n\nThis patch should be depend on patch that will update\nKuryr controller ServiceAccount to support Routes\nresources.\n\nDepends-On: Ifd0322b0ec7951d281fdae6e9e08c4356177b06d\nChange-Id: Iea93143656212bf44371d50491f342baa2d941d5\n'}]",2,607992,18cf744e296dcaf7c21347a31ddca086e9943773,11,3,2,21041,,,0,"Add containerized gate for openshift Routes

This patch should be depend on patch that will update
Kuryr controller ServiceAccount to support Routes
resources.

Depends-On: Ifd0322b0ec7951d281fdae6e9e08c4356177b06d
Change-Id: Iea93143656212bf44371d50491f342baa2d941d5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/92/607992/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/octavia.yaml']",2,3186be76150b4d7ccfbddb545ab31311d964afe3,ingress_cont_gate," - job: name: kuryr-kubernetes-tempest-daemon-containerized-openshift-octavia-ingress parent: kuryr-kubernetes-tempest-daemon-containerized-openshift-octavia description: | Kuryr-Kubernetes tempest job using octavia, ingress controller and OpenShift vars: devstack_localrc: KURYR_ENABLE_INGRESS: true KURYR_ENABLED_HANDLERS: vif,lb,lbaasspec,namespace,ocproute,ingresslb voting: false",,12,0
openstack%2Fkuryr-kubernetes~master~I613f737923fbc73d858262efcd7ce026483dfdc0,openstack/kuryr-kubernetes,master,I613f737923fbc73d858262efcd7ce026483dfdc0,Set handler health even in _sleep exception,ABANDONED,2018-09-27 08:49:03.000000000,2019-11-08 06:15:50.000000000,,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-09-27 08:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2b72fde71ba58ce3f35a21e2c0d1b4e02d23280c', 'message': 'Set handler health even in _sleep exception\n\nReraise would hide the complexity of this error handling and we were not\nsetting the handler to be in unhealthy state if any problem happened\nduring the exponential sleep.\n\nChange-Id: I613f737923fbc73d858262efcd7ce026483dfdc0\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 2, 'created': '2018-09-27 08:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/32121cd920c09b3b6f4bd0692d489f18bdef7877', 'message': 'Set handler health even in _sleep exception\n\nReraise would hide the complexity of this error handling and we were not\nsetting the handler to be in unhealthy state if any problem happened\nduring the exponential sleep.\n\nChange-Id: I613f737923fbc73d858262efcd7ce026483dfdc0\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 3, 'created': '2018-09-27 09:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e61d545b39b6d5b7682056ce28266e873b1b3876', 'message': 'Set handler health even in _sleep exception\n\nReraise would hide the complexity of this error handling and we were not\nsetting the handler to be in unhealthy state if any problem happened\nduring the exponential sleep.\n\nChange-Id: I613f737923fbc73d858262efcd7ce026483dfdc0\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 4, 'created': '2018-09-27 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/40ad81d73791eeae7cce6193040b291db80e4874', 'message': 'Set handler health even in _sleep exception\n\nReraise would hide the complexity of this error handling and we were not\nsetting the handler to be in unhealthy state if any problem happened\nduring the exponential sleep.\n\nChange-Id: I613f737923fbc73d858262efcd7ce026483dfdc0\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}, {'number': 5, 'created': '2018-10-02 10:34:16.000000000', 'files': ['kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/handlers/retry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c0032b23186b3c8f345ab68b8076eaff8f1eb5e6', 'message': 'Set handler health even in _sleep exception\n\nReraise would hide the complexity of this error handling and we were not\nsetting the handler to be in unhealthy state if any problem happened\nduring the exponential sleep.\n\nChange-Id: I613f737923fbc73d858262efcd7ce026483dfdc0\nSigned-off-by: Antoni Segura Puimedon <celebdor@gmail.com>\n'}]",2,605620,c0032b23186b3c8f345ab68b8076eaff8f1eb5e6,10,3,5,14352,,,0,"Set handler health even in _sleep exception

Reraise would hide the complexity of this error handling and we were not
setting the handler to be in unhealthy state if any problem happened
during the exponential sleep.

Change-Id: I613f737923fbc73d858262efcd7ce026483dfdc0
Signed-off-by: Antoni Segura Puimedon <celebdor@gmail.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/605620/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/handlers/retry.py']",2,2b72fde71ba58ce3f35a21e2c0d1b4e02d23280c,drop_reraise,"import six import sysimport traceback except self._exceptions: # Caught expected exception (type_, value, tb) = sys.exc_info() try: self._sleep(deadline, attempt, value): except exceptions.HandlerTimeout: self._handler.set_health_status(healthy=False) raise except: LOG.info('Unexpected retry handling exception occurred in ' 'handler %s. Original expected exception: %s', self._handler, traceback.format_exception(type_, value, tb)) self._handler.set_health_status(healthy=False) raise except Exception: LOG.exception('Unexpected handling exception occurred. Report ' 'handler unhealthy %s', self._handler) def _sleep(self, deadline, attempt, exc_type, exc_value, exc_tb): """"""Returns the amount of time it slept Raises a timeoutError when the deadline is over"""""" LOG.debug('Handler %s failed with expected exception. ' '(attempt %s; %s)', self._handler, attempt, traceback.format_exception(exc_type, exc_value, exc_tb)) ""and exceeded its retry timeout (%s seconds)"", self._handler, attempt, traceback.format_exception(exc_type, exc_value, exc_tb), raise exceptions.HandlerTimeout()"," except self._exceptions: with excutils.save_and_reraise_exception() as ex: if self._sleep(deadline, attempt, ex.value): ex.reraise = False else: LOG.debug('Report handler unhealthy %s', self._handler) self._handler.set_health_status(healthy=False) except Exception: LOG.exception('Report handler unhealthy %s', self._handler) def _sleep(self, deadline, attempt, exception): LOG.debug(""Handler %s failed (attempt %s; %s)"", self._handler, attempt, exceptions.format_msg(exception)) ""timeout exceeded (%s seconds)"", self._handler, attempt, exceptions.format_msg(exception), return 0",34,18
openstack%2Fkuryr-kubernetes~master~I6668c50ce8906f3eca1f7a95cbaf47694d42079d,openstack/kuryr-kubernetes,master,I6668c50ce8906f3eca1f7a95cbaf47694d42079d,Add openstack-three-node nodeset,ABANDONED,2018-09-04 13:59:18.000000000,2019-11-08 06:15:37.000000000,,"[{'_account_id': 4727}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2018-09-04 13:59:18.000000000', 'files': ['.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/77bc529d85856dc6382dd6b099aa869376d83cc1', 'message': 'Add openstack-three-node nodeset\n\nThis commit adds a new nodeset fot the kuryr-kubernetes CI, which would\nallow one controller + 2 compute setup to be used for the pipelines.\n\nChange-Id: I6668c50ce8906f3eca1f7a95cbaf47694d42079d\n'}]",1,599608,77bc529d85856dc6382dd6b099aa869376d83cc1,5,7,1,14885,,,0,"Add openstack-three-node nodeset

This commit adds a new nodeset fot the kuryr-kubernetes CI, which would
allow one controller + 2 compute setup to be used for the pipelines.

Change-Id: I6668c50ce8906f3eca1f7a95cbaf47694d42079d
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/08/599608/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/base.yaml'],1,77bc529d85856dc6382dd6b099aa869376d83cc1,add_openstack_three_node, - nodeset: name: openstack-three-node nodes: - name: controller label: ubuntu-xenial - name: compute1 label: ubuntu-xenial - name: compute2 label: ubuntu-xenial groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute1 - compute2 # Nodes that are not the controller - name: subnode nodes: - compute1 - compute2 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute1 - compute2,,35,0
openstack%2Fkuryr-kubernetes~master~Idc4a095e0ef15ca7784b76e8833fd2f730f5983a,openstack/kuryr-kubernetes,master,Idc4a095e0ef15ca7784b76e8833fd2f730f5983a,OCP-Router:  Add support for HTTPS-PT routes,ABANDONED,2018-07-23 15:11:55.000000000,2019-11-08 06:15:05.000000000,,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-23 15:11:55.000000000', 'files': ['kuryr_kubernetes/controller/ingress/ingress_ctl.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/tests/unit/test_object.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/tests/unit/platform/ocp/controller/handlers/test_route.py', 'kuryr_kubernetes/platform/ocp/controller/handlers/route.py', 'kuryr_kubernetes/controller/handlers/ingress_lbaas.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_ingress_lbaas.py', 'kuryr_kubernetes/objects/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d621c937338c0a469ea9295b6dafac68cb2125a8', 'message': 'OCP-Router:  Add support for HTTPS-PT routes\n\nSecured ocp routes specify the TLS termination of the route and,\noptionally, provide a key and certificate(s).\nWith passthrough termination, encrypted traffic is sent straight\nto the destination without the router providing TLS termination.\nTherefore no key or certificate is required.\nThis patch extends ocp-route capability to support HTTPS terminated\nroutes.\n\nChange-Id: Idc4a095e0ef15ca7784b76e8833fd2f730f5983a\nCloses-Bug: 1783073\n'}]",8,584930,d621c937338c0a469ea9295b6dafac68cb2125a8,8,4,1,21041,,,0,"OCP-Router:  Add support for HTTPS-PT routes

Secured ocp routes specify the TLS termination of the route and,
optionally, provide a key and certificate(s).
With passthrough termination, encrypted traffic is sent straight
to the destination without the router providing TLS termination.
Therefore no key or certificate is required.
This patch extends ocp-route capability to support HTTPS terminated
routes.

Change-Id: Idc4a095e0ef15ca7784b76e8833fd2f730f5983a
Closes-Bug: 1783073
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/584930/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/ingress/ingress_ctl.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/tests/unit/test_object.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/tests/unit/platform/ocp/controller/handlers/test_route.py', 'kuryr_kubernetes/platform/ocp/controller/handlers/route.py', 'kuryr_kubernetes/controller/handlers/ingress_lbaas.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_ingress_lbaas.py', 'kuryr_kubernetes/objects/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",12,d621c937338c0a469ea9295b6dafac68cb2125a8,bug/1783073," {'port': 1, 'name': None, 'protocol': 'TCP', 'targetPort': 1}, {'port': 2, 'name': 'X', 'protocol': 'UDP', 'targetPort': 2}] {'port': 1, 'name': 'X', 'protocol': 'TCP', 'targetPort': 801}, obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1, targetPort=801), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2, targetPort=802), {'port': 1, 'name': 'X', 'protocol': 'TCP', 'targetPort': 801}, {'port': 2, 'name': 'Y', 'protocol': 'TCP', 'targetPort': 802} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1, targetPort=801), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2, targetPort=802), {'port': 1, 'name': 'X', 'protocol': 'TCP', 'targetPort': 801}, {'port': 2, 'name': 'Y', 'protocol': 'TCP', 'targetPort': 802} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1, targetPort=801), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2, targetPort=802), {'port': 1, 'name': 'X', 'protocol': 'TCP', 'targetPort': 801}, {'port': 2, 'name': 'Y', 'protocol': 'UDP', 'targetPort': 802} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1, targetPort=801), obj_lbaas.LBaaSPortSpec(name='Y', protocol='UDP', port=2, targetPort=802), def get_pools_by_name_prefix(self, name_prefix, project_id): pass port=port, targetPort=port)"," {'port': 1, 'name': None, 'protocol': 'TCP'}, {'port': 2, 'name': 'X', 'protocol': 'UDP'}] {'port': 1, 'name': 'X', 'protocol': 'TCP'}, obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2), {'port': 1, 'name': 'X', 'protocol': 'TCP'}, {'port': 2, 'name': 'Y', 'protocol': 'TCP'} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2), {'port': 1, 'name': 'X', 'protocol': 'TCP'}, {'port': 2, 'name': 'Y', 'protocol': 'TCP'} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1), obj_lbaas.LBaaSPortSpec(name='Y', protocol='TCP', port=2), {'port': 1, 'name': 'X', 'protocol': 'TCP'}, {'port': 2, 'name': 'Y', 'protocol': 'UDP'} obj_lbaas.LBaaSPortSpec(name='X', protocol='TCP', port=1), obj_lbaas.LBaaSPortSpec(name='Y', protocol='UDP', port=2), port=port)",243,51
openstack%2Fnova~master~I06f5caed77f1639db029410866b7afef37611964,openstack/nova,master,I06f5caed77f1639db029410866b7afef37611964,Use API calls to force down compute in func test,ABANDONED,2019-10-31 08:47:21.000000000,2019-11-08 06:14:15.000000000,,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-31 08:47:21.000000000', 'files': ['nova/tests/functional/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56b664c780c3f9e6855b3babf97498afb6592cf0', 'message': 'Use API calls to force down compute in func test\n\nFunctional test should not call nova service internals. If possible it\nshould use the REST API instead. This patch replace the internal call\nthat forces down a compute with REST API call that does the same.\n\nChange-Id: I06f5caed77f1639db029410866b7afef37611964\n'}]",1,692291,56b664c780c3f9e6855b3babf97498afb6592cf0,11,9,1,9708,,,0,"Use API calls to force down compute in func test

Functional test should not call nova service internals. If possible it
should use the REST API instead. This patch replace the internal call
that forces down a compute with REST API call that does the same.

Change-Id: I06f5caed77f1639db029410866b7afef37611964
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/692291/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_server_group.py'],1,56b664c780c3f9e6855b3babf97498afb6592cf0,," def _set_forced_down(self, hostname, forced_down): with utils.temporary_mutation(self.admin_api, microversion='2.53'): source_compute_id = self.admin_api.get_services( host=hostname, binary='nova-compute')[0]['id'] self.admin_api.put_service( source_compute_id, {'forced_down': forced_down}) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True) self._set_forced_down(servers[1]['OS-EXT-SRV-ATTR:host'], True)"," @staticmethod def _set_forced_down(service, forced_down): service.service_ref.forced_down = forced_down service.service_ref.save() host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True) host = self._get_compute_service_by_host_name( servers[1]['OS-EXT-SRV-ATTR:host']) self._set_forced_down(host, True)",13,25
openstack%2Fstorlets~master~I9ec5cc107459266de509d3c444c5294f965dd749,openstack/storlets,master,I9ec5cc107459266de509d3c444c5294f965dd749,PY3: skip jupyter notebook test,MERGED,2019-11-08 04:03:40.000000000,2019-11-08 06:14:07.000000000,2019-11-08 06:10:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 04:03:40.000000000', 'files': ['tests/functional/ipython/test_jupyter_execution.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/8ec7ae5edc31fe0b1b8536b163e989524abd222b', 'message': 'PY3: skip jupyter notebook test\n\nbecause the notebook is strictly tightened to python2.\nRe-writing the python2 notebook in python3 will cause\nan error or a failure in python2 functional test, so\nadd skipTest check for now.\n\nIn the future, we could switch the available version\nor have a couple of tests for both versions.\n\nChange-Id: I9ec5cc107459266de509d3c444c5294f965dd749\n'}]",0,693473,8ec7ae5edc31fe0b1b8536b163e989524abd222b,7,2,1,4608,,,0,"PY3: skip jupyter notebook test

because the notebook is strictly tightened to python2.
Re-writing the python2 notebook in python3 will cause
an error or a failure in python2 functional test, so
add skipTest check for now.

In the future, we could switch the available version
or have a couple of tests for both versions.

Change-Id: I9ec5cc107459266de509d3c444c5294f965dd749
",git fetch https://review.opendev.org/openstack/storlets refs/changes/73/693473/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/ipython/test_jupyter_execution.py'],1,8ec7ae5edc31fe0b1b8536b163e989524abd222b,," if six.PY3: self.skipTest(""notebook incompatible with python3"")",,2,0
openstack%2Fkuryr-kubernetes~stable%2Fpike~I744429990fbc9171d3f43aa26b61ec85785664f6,openstack/kuryr-kubernetes,stable/pike,I744429990fbc9171d3f43aa26b61ec85785664f6,Updated from global requirements,ABANDONED,2017-08-26 11:49:08.000000000,2019-11-08 06:13:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-08-26 11:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b67ba1eb22e7a9144007eebc00912f13793e77e', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 2, 'created': '2017-09-06 21:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/21e8f51d50a7d2c1933ca470ce0f632a99a901c9', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 3, 'created': '2017-09-21 00:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1e4ec7a71af54b7b3825e78efc49e49a838421eb', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 4, 'created': '2017-09-27 14:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a18abdf49a7d5f2c93c02b0771c0800087eee7fa', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 5, 'created': '2017-09-27 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b9e29abc32221a407416f77013bfb1d4f5650f85', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 6, 'created': '2017-09-27 14:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73f6725fe372e460b83d7c45c44d5e98763bd9cb', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 7, 'created': '2017-09-27 14:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cfed35da332f988ba5fcbc7d4de2e9408b348bc8', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 8, 'created': '2017-09-27 15:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6900daf994b889e72e169b87728b00c2c446c704', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 9, 'created': '2017-09-27 17:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f752f2b76d19348795600f4e9e65465d3bd532d3', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 10, 'created': '2017-09-28 06:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f7e3bfb59a557d1edb032af54a6028d30f451e2a', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 11, 'created': '2017-09-28 06:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/50a8b64e253f8cb22ae6292185abe85418042db3', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 12, 'created': '2017-10-04 22:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2df384e261b3b9971f7e9424514c5338613f5a90', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 13, 'created': '2017-10-04 23:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7c8788d705b250ec0a25bbedc89c336038c872f5', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 14, 'created': '2017-10-05 05:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e9193e659d3dca5a0db98a722455cdaef88e72ef', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 15, 'created': '2017-10-05 06:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/124949111eb46a0f0bd90201cdb97e988f3c788e', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 16, 'created': '2017-10-10 20:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4e9963a7f50ff156e4bae629dafa5964950c4662', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 17, 'created': '2017-10-11 00:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec64705858b955aae5d617f170cc2f34a7b02ccb', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 18, 'created': '2017-10-11 00:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c0679909151ef229beecfe0375cfeb81a0856ec9', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 19, 'created': '2017-10-11 00:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c4faa236c5624d9c94b391fc1fdbfadbcf8051f2', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 20, 'created': '2017-10-27 13:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/160161390dbc57c13ddebb056458f4026a19433e', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 21, 'created': '2017-10-27 14:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f9103f4395d8eef1dbff1369e9d3f658832f3691', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 22, 'created': '2017-10-27 21:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/46cf660be04ce0448d8c69a726957bac287f404d', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 23, 'created': '2017-11-02 03:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/27e8277d749de0575c9f1e6d3356c65df7180958', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 24, 'created': '2017-11-06 03:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a2ae0767b6660f223244b133ed569d3a1b177e7', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 25, 'created': '2017-11-06 03:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05f2fcaf86a0e5861b9524ebd5255f8317fffe44', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 26, 'created': '2017-11-06 03:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/116054a07d84084f9c0b54b5df203135890bfe81', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 27, 'created': '2017-11-06 03:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/644a6dc425141812aceb6100b225dc8ad9ed4f8e', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 28, 'created': '2017-11-06 03:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/35dd98fdb21150195aaf4e54c4f8db62a29f3dff', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 29, 'created': '2017-11-14 20:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/426478d7000cfe5c27d800f255755fe9d424bc05', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 30, 'created': '2017-11-15 01:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/739c2037acab6586b48f7d306d3f9c206bb27565', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}, {'number': 31, 'created': '2017-11-15 01:37:08.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f69fc167dad042ae8bce3aca0be8a1cac0c778ae', 'message': 'Updated from global requirements\n\nChange-Id: I744429990fbc9171d3f43aa26b61ec85785664f6\n'}]",0,498171,f69fc167dad042ae8bce3aca0be8a1cac0c778ae,53,1,31,11131,,,0,"Updated from global requirements

Change-Id: I744429990fbc9171d3f43aa26b61ec85785664f6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/71/498171/20 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5b67ba1eb22e7a9144007eebc00912f13793e77e,openstack/requirements,openstackdocstheme>=1.16.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fstorlets~master~Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973,openstack/storlets,master,Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973,Decrease fuctional test timeout,MERGED,2019-11-08 04:10:37.000000000,2019-11-08 05:32:59.000000000,2019-11-08 05:31:01.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 04:10:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/839d1750a7a921b4a90e514ff1fcddcaac3d58d6', 'message': 'Decrease fuctional test timeout\n\nDue to the change https://review.opendev.org/#/c/693309/\nthe functional test takes around 20 minutes-ish so that\nwe can decrease the timeout as 30 minutes.\n\nChange-Id: Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973\n'}]",0,693474,839d1750a7a921b4a90e514ff1fcddcaac3d58d6,7,2,1,4608,,,0,"Decrease fuctional test timeout

Due to the change https://review.opendev.org/#/c/693309/
the functional test takes around 20 minutes-ish so that
we can decrease the timeout as 30 minutes.

Change-Id: Ic82decc34e5fa5a4049a08b95a8e8f606d9cd973
",git fetch https://review.opendev.org/openstack/storlets refs/changes/74/693474/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,839d1750a7a921b4a90e514ff1fcddcaac3d58d6,, timeout: 1800 timeout: 1800, timeout: 3600 timeout: 3600,2,2
openstack%2Fopenstack-ansible-os_murano~master~I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2,openstack/openstack-ansible-os_murano,master,I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2,Fix a typo in main.yml,MERGED,2019-11-04 08:31:29.000000000,2019-11-08 05:20:47.000000000,2019-11-08 05:19:44.000000000,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 08:31:29.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/bb18ed2e2285ea7723fa64439a9e81e00195b188', 'message': 'Fix a typo in main.yml\n\nFix the error word ""successfull"" to ""successful"".\n\nChange-Id: I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2\n'}]",0,692772,bb18ed2e2285ea7723fa64439a9e81e00195b188,15,4,1,23317,,,0,"Fix a typo in main.yml

Fix the error word ""successfull"" to ""successful"".

Change-Id: I66f2d65bb1a69ee45bb2077fc3901c74748a9ae2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/72/692772/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,bb18ed2e2285ea7723fa64439a9e81e00195b188,fix,# after the first successful run.,# after the first successfull run.,1,1
openstack%2Fsahara-plugin-cdh~master~I165d5b71dca7679cd2cff2e7776c17f4facb0b1a,openstack/sahara-plugin-cdh,master,I165d5b71dca7679cd2cff2e7776c17f4facb0b1a,Switch to Ussuri jobs,MERGED,2019-10-25 07:02:04.000000000,2019-11-08 04:40:00.000000000,2019-11-08 04:37:37.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:02:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/389b98b5cc4f9560eceb2d7a1d65c5a15c4f1162', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I165d5b71dca7679cd2cff2e7776c17f4facb0b1a\n'}]",0,691226,389b98b5cc4f9560eceb2d7a1d65c5a15c4f1162,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I165d5b71dca7679cd2cff2e7776c17f4facb0b1a
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/26/691226/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,389b98b5cc4f9560eceb2d7a1d65c5a15c4f1162,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsahara-plugin-mapr~master~Ie649c182c0de2eb822a55695af10f8043205107c,openstack/sahara-plugin-mapr,master,Ie649c182c0de2eb822a55695af10f8043205107c,Switch to Ussuri jobs,MERGED,2019-10-25 07:03:29.000000000,2019-11-08 04:40:00.000000000,2019-11-08 04:37:30.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:03:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/a36a1945088d3c1603ab52ffe61fb9d6e6469164', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie649c182c0de2eb822a55695af10f8043205107c\n'}]",0,691227,a36a1945088d3c1603ab52ffe61fb9d6e6469164,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ie649c182c0de2eb822a55695af10f8043205107c
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/27/691227/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a36a1945088d3c1603ab52ffe61fb9d6e6469164,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsahara-plugin-spark~master~I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab,openstack/sahara-plugin-spark,master,I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab,Switch to Ussuri jobs,MERGED,2019-10-25 07:04:42.000000000,2019-11-08 04:39:55.000000000,2019-11-08 04:37:29.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:04:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/7f01e5fea423be3629d14fbb533650346f26a3a0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab\n'}]",0,691229,7f01e5fea423be3629d14fbb533650346f26a3a0,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I43d9ac4f9ddd467b8b9e93db85ed804e06b684ab
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/29/691229/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7f01e5fea423be3629d14fbb533650346f26a3a0,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsahara-plugin-storm~master~I20284bb9713dac3b44170da9204dd3b71bbdc7cc,openstack/sahara-plugin-storm,master,I20284bb9713dac3b44170da9204dd3b71bbdc7cc,Switch to Ussuri jobs,MERGED,2019-10-25 07:06:57.000000000,2019-11-08 04:39:53.000000000,2019-11-08 04:37:28.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:06:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/4721c156716495729c66f6f1a569d917107304b7', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I20284bb9713dac3b44170da9204dd3b71bbdc7cc\n'}]",0,691231,4721c156716495729c66f6f1a569d917107304b7,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I20284bb9713dac3b44170da9204dd3b71bbdc7cc
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/31/691231/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4721c156716495729c66f6f1a569d917107304b7,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsahara-plugin-ambari~master~I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a,openstack/sahara-plugin-ambari,master,I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a,Switch to Ussuri jobs,MERGED,2019-10-25 07:00:18.000000000,2019-11-08 04:39:50.000000000,2019-11-08 04:37:38.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:00:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/6df263b4af33d706c2cbc69c9087a6251a9c9d5d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a\n'}]",0,691225,6df263b4af33d706c2cbc69c9087a6251a9c9d5d,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I5cfeaeb9a77b51df60da5bdf228f80e3af8c7e8a
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/25/691225/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6df263b4af33d706c2cbc69c9087a6251a9c9d5d,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsahara-plugin-vanilla~master~I317ec040153b89ffd17a66bba9ac390f3bff4be6,openstack/sahara-plugin-vanilla,master,I317ec040153b89ffd17a66bba9ac390f3bff4be6,Switch to Ussuri jobs,MERGED,2019-10-25 07:08:01.000000000,2019-11-08 04:39:47.000000000,2019-11-08 04:37:28.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-25 07:08:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/d84c60d3fd30d9d163a5294eb561d36ce4788734', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I317ec040153b89ffd17a66bba9ac390f3bff4be6\n'}]",0,691232,d84c60d3fd30d9d163a5294eb561d36ce4788734,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I317ec040153b89ffd17a66bba9ac390f3bff4be6
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/32/691232/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d84c60d3fd30d9d163a5294eb561d36ce4788734,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-heat-templates~master~I4b6f7d73cf76954e93760c59d522d485187157cf,openstack/tripleo-heat-templates,master,I4b6f7d73cf76954e93760c59d522d485187157cf,Move KernelArgs and OvS-DPDK deployment to ansible role,MERGED,2019-08-21 13:30:26.000000000,2019-11-08 04:36:06.000000000,2019-11-04 17:09:19.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-21 13:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7afd7870db05259278684c8a1553841abe1430f3', 'message': 'WIP: Move OvS-DPDK deployment to ansible role\n\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n'}, {'number': 2, 'created': '2019-08-21 13:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7b6bd4a2f63b3ce3b3e00c9acd9021ef4f20ceb', 'message': 'WIP: Move OvS-DPDK deployment to ansible role\n\nDepends-On: https://review.opendev.org/#/c/677712/\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n'}, {'number': 3, 'created': '2019-09-03 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fe330fc9cc0aa1ee74cc7f93d994b11b18c206a', 'message': 'WIP: Move OvS-DPDK deployment to ansible role\n\nDepends-On: https://review.opendev.org/#/c/677712/\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n'}, {'number': 4, 'created': '2019-10-04 12:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb070e3997f4c89b08f579c5dd4e0b12c8f1d0d1', 'message': 'WIP: Move OvS-DPDK deployment to ansible role\n\nDepends-On: https://review.opendev.org/#/c/679809\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n'}, {'number': 5, 'created': '2019-10-14 11:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcc13574c17fba281bbd0723efcbdd9eb5fa856c', 'message': ""Move KernelArgs and OvS-DPDK deployment to ansible role\n\nEalier, KernelArgs had been configured using ansible\ntasks part of THT repo. Thoese ansiblet asks has been\nmoved to tripleo-kernel role of tripleo-ansible. This\nrole will be invoked from the boot-params-service.\nboot-params-service has been moved from pre network to\nthe deployment/kernel directory.\n\nOvS-DPDK configuration was done using puppet-vswitch\nmodule by invoking puppet in PreNetworkConfig's\nExtraConfig script. A new ansible role tripleo-ovs-dpdk\nhas been created to apply the DPDK configurations via\nansible instead of puppet. This role will be common\nfor both ml2-ovs and ml2-ovn. Common parameter merging\nhas been enhanced to provide common deploy steps.\n\nODL is not validated as it has been deprecated and\ncurrently no active usage or development.\n\nDepends-On: https://review.opendev.org/#/c/679809\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n""}, {'number': 6, 'created': '2019-10-16 11:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8aa32cab6dc2b8521da70a02a80bc637fbbf740e', 'message': ""Move KernelArgs and OvS-DPDK deployment to ansible role\n\nEalier, KernelArgs had been configured using ansible\ntasks part of THT repo. Thoese ansiblet asks has been\nmoved to tripleo-kernel role of tripleo-ansible. This\nrole will be invoked from the boot-params-service.\nboot-params-service has been moved from pre network to\nthe deployment/kernel directory.\n\nOvS-DPDK configuration was done using puppet-vswitch\nmodule by invoking puppet in PreNetworkConfig's\nExtraConfig script. A new ansible role tripleo-ovs-dpdk\nhas been created to apply the DPDK configurations via\nansible instead of puppet. This role will be common\nfor both ml2-ovs and ml2-ovn. Common parameter merging\nhas been enhanced to provide common deploy steps.\n\nODL is not validated as it has been deprecated and\ncurrently no active usage or development.\n\nDepends-On: https://review.opendev.org/#/c/688864/\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n""}, {'number': 7, 'created': '2019-10-23 04:44:01.000000000', 'files': ['environments/host-config-and-reboot.j2.yaml', 'extraconfig/pre_network/boot-params-service.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'common/deploy-steps.j2', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'tools/yaml-validate.py', 'extraconfig/pre_network/boot_param_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16679d0ec43d14536cf96e21f0d47863a64cdb5c', 'message': ""Move KernelArgs and OvS-DPDK deployment to ansible role\n\nEalier, KernelArgs had been configured using ansible\ntasks part of THT repo. Thoese ansiblet asks has been\nmoved to tripleo-kernel role of tripleo-ansible. This\nrole will be invoked from the boot-params-service.\nboot-params-service has been moved from pre network to\nthe deployment/kernel directory.\n\nOvS-DPDK configuration was done using puppet-vswitch\nmodule by invoking puppet in PreNetworkConfig's\nExtraConfig script. A new ansible role tripleo-ovs-dpdk\nhas been created to apply the DPDK configurations via\nansible instead of puppet. This role will be common\nfor both ml2-ovs and ml2-ovn. Common parameter merging\nhas been enhanced to provide common deploy steps.\n\nODL is not validated as it has been deprecated and\ncurrently no active usage or development.\n\nDepends-On: https://review.opendev.org/#/c/688864/\nChange-Id: I4b6f7d73cf76954e93760c59d522d485187157cf\n""}]",5,677728,16679d0ec43d14536cf96e21f0d47863a64cdb5c,38,6,7,18575,,,0,"Move KernelArgs and OvS-DPDK deployment to ansible role

Ealier, KernelArgs had been configured using ansible
tasks part of THT repo. Thoese ansiblet asks has been
moved to tripleo-kernel role of tripleo-ansible. This
role will be invoked from the boot-params-service.
boot-params-service has been moved from pre network to
the deployment/kernel directory.

OvS-DPDK configuration was done using puppet-vswitch
module by invoking puppet in PreNetworkConfig's
ExtraConfig script. A new ansible role tripleo-ovs-dpdk
has been created to apply the DPDK configurations via
ansible instead of puppet. This role will be common
for both ml2-ovs and ml2-ovn. Common parameter merging
has been enhanced to provide common deploy steps.

ODL is not validated as it has been deprecated and
currently no active usage or development.

Depends-On: https://review.opendev.org/#/c/688864/
Change-Id: I4b6f7d73cf76954e93760c59d522d485187157cf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/677728/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/host-config-and-reboot.j2.yaml', 'extraconfig/pre_network/host_config_and_reboot.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/deprecated/openvswitch/openvswitch-baremetal-puppet.yaml']",6,7afd7870db05259278684c8a1553841abe1430f3,boot_params,,,253,159
openstack%2Fsahara-dashboard~master~I59010772a9790d9211934586c44256e63b69068b,openstack/sahara-dashboard,master,I59010772a9790d9211934586c44256e63b69068b,fix invaild urls in CONTRIBUTING.rst,MERGED,2019-10-24 09:21:06.000000000,2019-11-08 04:33:50.000000000,2019-11-08 04:33:50.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-24 09:21:06.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/69fa2d1372681777cbf89f4675eebf44f9625d9f', 'message': 'fix invaild urls in CONTRIBUTING.rst\n\nChange-Id: I59010772a9790d9211934586c44256e63b69068b\n'}]",0,690891,69fa2d1372681777cbf89f4675eebf44f9625d9f,7,3,1,30814,,,0,"fix invaild urls in CONTRIBUTING.rst

Change-Id: I59010772a9790d9211934586c44256e63b69068b
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/91/690891/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,69fa2d1372681777cbf89f4675eebf44f9625d9f,, https://docs.openstack.org/sahara/latest/contributor/how-to-participate.html, https://docs.openstack.org/sahara/latest/devref/how_to_participate.html,1,1
openstack%2Fstorlets~master~I8a0e22f57255ee7b011d660e19e4ffa664b94d23,openstack/storlets,master,I8a0e22f57255ee7b011d660e19e4ffa664b94d23,Fix CI to collect the all logs,MERGED,2019-11-08 02:57:17.000000000,2019-11-08 04:14:44.000000000,2019-11-08 04:13:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-08 02:57:17.000000000', 'files': ['playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/post-py3.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/b0aa01f116a087d3ea7b1aff1e516b3f3e2fcee5', 'message': 'Fix CI to collect the all logs\n\nCurrently, the CI may loose the swift proxy error logs\nif previous task collecting the func test tox logs failed.\nThat makes us hard to dig out what happens actually.\n\nThis patch attempts to ignore the error and reach out whole\nworthful tasks in the post job.\n\nChange-Id: I8a0e22f57255ee7b011d660e19e4ffa664b94d23\n'}]",0,693466,b0aa01f116a087d3ea7b1aff1e516b3f3e2fcee5,7,2,1,4608,,,0,"Fix CI to collect the all logs

Currently, the CI may loose the swift proxy error logs
if previous task collecting the func test tox logs failed.
That makes us hard to dig out what happens actually.

This patch attempts to ignore the error and reach out whole
worthful tasks in the post job.

Change-Id: I8a0e22f57255ee7b011d660e19e4ffa664b94d23
",git fetch https://review.opendev.org/openstack/storlets refs/changes/66/693466/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/storlets-functional/post.yaml', 'playbooks/storlets-functional/post-py3.yaml']",2,b0aa01f116a087d3ea7b1aff1e516b3f3e2fcee5,, ignore_errors: yes ignore_errors: yes,,4,0
openstack%2Ftripleo-heat-templates~master~Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8,openstack/tripleo-heat-templates,master,Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8,WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment,ABANDONED,2019-09-18 09:53:11.000000000,2019-11-08 03:55:33.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 09:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e37a3d80b0058536df6aa9b80ee868599977baab', 'message': 'WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment\n\nThe THT parameter ``NeutronSriovNumVFs`` is deprecated and hence\nthe relevent scripts for persistence of numvfs shall be cleaned\nduring upgrades/updates.\n\nChange-Id: Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8\n'}, {'number': 2, 'created': '2019-09-18 09:54:22.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fadcfef3473ecef6fb6c7e3430c0a3b76692fba9', 'message': 'WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment\n\nThe THT parameter ``NeutronSriovNumVFs`` is deprecated and hence\nthe relevent scripts for persistence of numvfs shall be cleaned\nduring upgrades/updates.\n\nChange-Id: Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8\n'}]",0,682851,fadcfef3473ecef6fb6c7e3430c0a3b76692fba9,5,4,2,18904,,,0,"WIP: Remove the allocate_vfs during update/upgrades for SR-IOV deployment

The THT parameter ``NeutronSriovNumVFs`` is deprecated and hence
the relevent scripts for persistence of numvfs shall be cleaned
during upgrades/updates.

Change-Id: Iadb79bf91a36c7f0d3634aca3a5ac250097e71f8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/682851/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,e37a3d80b0058536df6aa9b80ee868599977baab,skip_allocate_vfs," - name: ""Deleting allocate_vfs"" lineinfile: path: /etc/sysconfig/network-scripts/ifup-local state: absent regexp: '/etc/sysconfig/allocate_vfs'",,5,0
openstack%2Foctavia~stable%2Fstein~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/stein,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:49:19.000000000,2019-11-08 03:54:39.000000000,2019-11-08 03:53:14.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 16:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f1df4b201b8b0a37be20ea5e3c6241aed31c915a', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n""}, {'number': 2, 'created': '2019-11-07 20:39:06.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f652a7d1b58456aece8f88881d95c2e4496c6e50', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)\n""}]",0,693392,f652a7d1b58456aece8f88881d95c2e4496c6e50,10,3,2,28502,,,0,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/693392/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,f1df4b201b8b0a37be20ea5e3c6241aed31c915a,ipvsadm-exact-stats-stable/stein," # use --exact to ensure output is integer only if is_stats_cmd: cmd_list += ['--stats', '--exact']", if is_stats_cmd: cmd_list.append('--stats'),2,1
openstack%2Foctavia~stable%2Frocky~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/rocky,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:49:32.000000000,2019-11-08 03:54:36.000000000,2019-11-08 03:53:18.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3d8d1c9dae6236d485b358aad4e417be0af6495b', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n""}, {'number': 2, 'created': '2019-11-07 20:39:57.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5aba906a1105018d222ccfb61716f15518cb072', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)\n""}]",0,693393,d5aba906a1105018d222ccfb61716f15518cb072,10,3,2,28502,,,0,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/93/693393/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,3d8d1c9dae6236d485b358aad4e417be0af6495b,ipvsadm-exact-stats-stable/rocky," # use --exact to ensure output is integer only if is_stats_cmd: cmd_list += ['--stats', '--exact']", if is_stats_cmd: cmd_list.append('--stats'),2,1
openstack%2Foctavia~stable%2Ftrain~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,stable/train,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-07 16:48:59.000000000,2019-11-08 03:45:28.000000000,2019-11-08 03:44:09.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 16:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d78a5ee4bd188dc07a93de3bd7b966c380b51a9e', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n""}, {'number': 2, 'created': '2019-11-07 20:38:35.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/192c85b3d1752c25129e59059dda4b34a8b4ab2f', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)\n""}]",0,693391,192c85b3d1752c25129e59059dda4b34a8b4ab2f,12,3,2,28502,,,0,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
(cherry picked from commit 0682fb977a76d356ede20f516c849298d34eb7fc)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/693391/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,d78a5ee4bd188dc07a93de3bd7b966c380b51a9e,ipvsadm-exact-stats-stable/train," # use --exact to ensure output is integer only if is_stats_cmd: cmd_list += ['--stats', '--exact']", if is_stats_cmd: cmd_list.append('--stats'),2,1
openstack%2Fcharm-ceph-mon~master~Id5023785fc748e44978b669db5b79c6c40e88de5,openstack/charm-ceph-mon,master,Id5023785fc748e44978b669db5b79c6c40e88de5,Sync charms.ceph to add new permission request to broker,MERGED,2019-10-16 12:01:09.000000000,2019-11-08 03:42:09.000000000,2019-11-08 03:22:36.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 12:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/721412351767053f0cca905833fde3eb036b0c1b', 'message': 'Sync charms.ceph to add new permission request to broker\n\nChange-Id: Id5023785fc748e44978b669db5b79c6c40e88de5\n'}, {'number': 2, 'created': '2019-10-18 10:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/dafee8ac8e7b5729efa43a455deb96f330bed31e', 'message': 'Sync charms.ceph to add new permission request to broker\n\nChange-Id: Id5023785fc748e44978b669db5b79c6c40e88de5\n'}, {'number': 3, 'created': '2019-10-21 15:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fb577ffd8668f657b81b891937df51d1dcaa62c8', 'message': 'Sync charms.ceph to add new permission request to broker\n\nChange-Id: Id5023785fc748e44978b669db5b79c6c40e88de5\n'}, {'number': 4, 'created': '2019-10-21 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/15d463cf5fdf8e67f9c78a3b369b3d627ce4a49b', 'message': 'Sync charms.ceph to add new permission request to broker\n\nChange-Id: Id5023785fc748e44978b669db5b79c6c40e88de5\nDepends-On: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 5, 'created': '2019-10-22 16:17:15.000000000', 'files': ['lib/ceph/broker.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b72936d72792dc28c3fcf6cf27da9a2b423d0207', 'message': 'Sync charms.ceph to add new permission request to broker\n\nChange-Id: Id5023785fc748e44978b669db5b79c6c40e88de5\nDepends-On: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}]",0,688910,b72936d72792dc28c3fcf6cf27da9a2b423d0207,25,4,5,20634,,,0,"Sync charms.ceph to add new permission request to broker

Change-Id: Id5023785fc748e44978b669db5b79c6c40e88de5
Depends-On: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/10/688910/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceph/broker.py', 'lib/ceph/crush_utils.py', 'lib/ceph/utils.py']",3,721412351767053f0cca905833fde3eb036b0c1b,charm-cephfs-manila," if (cmp_pkgrevno('ceph', '0.56.6') >= 0 and cmp_pkgrevno('ceph', '14.2.0') < 0): # Use ceph-disk activate for directory based OSD's for dev_or_path in devices: if os.path.exists(dev_or_path) and os.path.isdir(dev_or_path): subprocess.check_call( ['ceph-disk', 'activate', dev_or_path]) return os.path.exists( '/var/lib/ceph/mon/ceph-{}/done'.format(socket.gethostname())) if cmp_pkgrevno('ceph', '14.0.0') >= 0: log(""Directory backed OSDs can not be created on Nautilus"", level=WARNING) return for t in ['upstart', 'systemd']: if os.path.exists(os.path.join(path, t)): log('Path {} is already used as an OSD dir - bailing'.format(path)) return"," if cmp_pkgrevno('ceph', ""0.56.6"") >= 0: # Use ceph-disk activate for directory based OSD's for dev_or_path in devices: if os.path.exists(dev_or_path) and os.path.isdir(dev_or_path): subprocess.check_call(['ceph-disk', 'activate', dev_or_path])_bootstrap_keyring = ""/var/lib/ceph/bootstrap-osd/ceph.keyring"" _upgrade_keyring = ""/var/lib/ceph/osd/ceph.client.osd-upgrade.keyring"" return os.path.exists(_client_admin_keyring)def import_osd_bootstrap_key(key): if not os.path.exists(_bootstrap_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _bootstrap_keyring, '--create-keyring', '--name=client.bootstrap-osd', '--add-key={}'.format(key) ] subprocess.check_call(cmd) def import_osd_upgrade_key(key): if not os.path.exists(_upgrade_keyring): cmd = [ ""sudo"", ""-u"", ceph_user(), 'ceph-authtool', _upgrade_keyring, '--create-keyring', '--name=client.osd-upgrade', '--add-key={}'.format(key) ] subprocess.check_call(cmd) if os.path.exists(os.path.join(path, 'upstart')): log('Path {} is already configured as an OSD - bailing'.format(path)) return ('luminous', 'nautilus'),",30,43
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,openstack/tripleo-heat-templates,stable/stein,I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,Fix container-puppet tool standalone for podman,MERGED,2019-11-06 14:15:54.000000000,2019-11-08 03:36:22.000000000,2019-11-08 03:36:22.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-06 14:15:54.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0313b9e3c648b98030d9594c89a2d5467fe3f782', 'message': 'Fix container-puppet tool standalone for podman\n\nDo not repeat volume mounts twice, do not use network, when it is not\nrequired. Make podman CLI happy with defaults, when running the tool\nwith a minimalistic environment, like:\n\nSTEP=2 DEBUG=true CONFIG=foo-tasks.json ./common/container-puppet.py\n\nChange-Id: I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCloses-Bug: #1851511\n(cherry picked from commit b1fda5e8bb90e6aa505d9989b31574fcd5defe31)\n'}]",0,693184,0313b9e3c648b98030d9594c89a2d5467fe3f782,20,7,1,28223,,,0,"Fix container-puppet tool standalone for podman

Do not repeat volume mounts twice, do not use network, when it is not
required. Make podman CLI happy with defaults, when running the tool
with a minimalistic environment, like:

STEP=2 DEBUG=true CONFIG=foo-tasks.json ./common/container-puppet.py

Change-Id: I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Closes-Bug: #1851511
(cherry picked from commit b1fda5e8bb90e6aa505d9989b31574fcd5defe31)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/693184/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,0313b9e3c648b98030d9594c89a2d5467fe3f782,happy-podman-stable/stein,"PUPPETS = '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro' cli_dcmd = ['--volume', PUPPETS] '--volume', PUPPETS]if (os.environ.get('MOUNT_HOST_PUPPET', 'true') == 'true' and PUPPETS not in cli_dcmd): cli_dcmd.extend(['--volume', PUPPETS]) else: log.debug('running without containers Networking') dcmd.extend(['--net', 'none'])"," cli_dcmd = ['--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro'] '--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro']if os.environ.get('MOUNT_HOST_PUPPET', 'true') == 'true': cli_dcmd.extend(['--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro'])",10,4
openstack%2Fkuryr-tempest-plugin~master~I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a,openstack/kuryr-tempest-plugin,master,I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a,Skip Namespace isolation when NP is enabled,MERGED,2019-10-29 09:25:00.000000000,2019-11-08 03:25:43.000000000,2019-11-08 03:24:44.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-29 09:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5f3a039eb1a6c7c9756464cb98da4099dd70925c', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\n'}, {'number': 2, 'created': '2019-10-29 10:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d9ec84f2a4b48b603e2a40af636c2044108fad99', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\n'}, {'number': 3, 'created': '2019-10-30 12:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/163f2f95ec391583473bc66822d095bf54dce007', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}, {'number': 4, 'created': '2019-10-31 08:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/03b1889aedeb30c6c76e1f452f3bcf23c343905a', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}, {'number': 5, 'created': '2019-10-31 09:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6c74dbd4b3572c57598ad44aebf05d440d93315f', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}, {'number': 6, 'created': '2019-11-04 08:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4eeba2fa2db0c4c18cdf765ed08f02ce0fcc6c7e', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}, {'number': 7, 'created': '2019-11-04 08:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e44c108e022a4c95eedb9ccd04fcaa55024f7c09', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}, {'number': 8, 'created': '2019-11-07 11:35:24.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ffae68805fac442a0d3fa1db08d25957c0741646', 'message': 'Skip Namespace isolation when NP is enabled\n\nChange-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a\nDepends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578\n'}]",10,691830,ffae68805fac442a0d3fa1db08d25957c0741646,61,6,8,4727,,,0,"Skip Namespace isolation when NP is enabled

Change-Id: I113bc0e365eb40d7ae5f306516bfc1dc0a718c8a
Depends-On: I5b6b9a908a48eef9aa7cb08ca3a95269b1300578
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/30/691830/5 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,5f3a039eb1a6c7c9756464cb98da4099dd70925c,isolation, if CONF.kuryr_kubernetes.network_policy_enabled: raise self.skipException('Network policy should not be enabled for' ' Namespace isolation tests to run') if CONF.kuryr_kubernetes.network_policy_enabled: raise self.skipException('Network policy should not be enabled for' ' Namespace isolation tests to run'),,6,0
openstack%2Fstorlets~master~Iff0b60cd53281c999c930a4e789aaaab360b1c7a,openstack/storlets,master,Iff0b60cd53281c999c930a4e789aaaab360b1c7a,Migrate detailed implementation from __init__.py,MERGED,2019-11-07 06:12:00.000000000,2019-11-08 03:25:17.000000000,2019-11-08 03:24:13.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 06:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/95585af7a7b9cc6f0d7bef4ffc636cba8dee1483', 'message': ""Migrate detailed implementation from __init__.py\n\n... as we don't expect long codes are included in __init__.py .\nThis patch migrate these implementation to another independent\nfile, with keeping alias so that we can import with the same\npath.\n\nChange-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a\n""}, {'number': 2, 'created': '2019-11-07 06:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/9ac43b8f31ce28ba3f508cc778e34e7588638f3e', 'message': ""Migrate detailed implementation from __init__.py\n\n... as we don't expect long codes are included in __init__.py .\nThis patch migrates these implementations to new independent\nfiles, with keeping alias so that we can import things with\nthe same path.\n\nChange-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a\n""}, {'number': 3, 'created': '2019-11-07 06:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e56b263dff2e9a7fa6c6361b2080a7381e5ff178', 'message': ""Migrate detailed implementation from __init__.py\n\n... as we don't expect long codes are included in __init__.py .\nThis patch migrates these implementations to new independent\nfiles, with keeping alias so that we can import things with\nthe same path.\n\nChange-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a\n""}, {'number': 4, 'created': '2019-11-07 07:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/69077f9b335875a96071f4fa2e4c7bf31bb4faab', 'message': ""Migrate detailed implementation from __init__.py\n\n... as we don't expect long codes are included in __init__.py .\nThis patch migrates these implementations to new independent\nfiles, with keeping alias so that we can import things with\nthe same path.\n\nChange-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a\n""}, {'number': 5, 'created': '2019-11-08 02:08:02.000000000', 'files': ['storlets/sbus/__init__.py', 'tests/unit/sbus/client/test_client.py', 'storlets/sbus/client/__init__.py', 'storlets/sbus/client/client.py', 'storlets/sbus/sbus.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/8e31cdc7ba95c3f9214c44b9ea875689a7d70784', 'message': ""Migrate detailed implementation from __init__.py\n\n... as we don't expect long codes are included in __init__.py .\nThis patch migrates these implementations to new independent\nfiles, with keeping alias so that we can import things with\nthe same path.\n\nChange-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a\n""}]",0,693292,8e31cdc7ba95c3f9214c44b9ea875689a7d70784,13,2,5,9816,,,0,"Migrate detailed implementation from __init__.py

... as we don't expect long codes are included in __init__.py .
This patch migrates these implementations to new independent
files, with keeping alias so that we can import things with
the same path.

Change-Id: Iff0b60cd53281c999c930a4e789aaaab360b1c7a
",git fetch https://review.opendev.org/openstack/storlets refs/changes/92/693292/1 && git format-patch -1 --stdout FETCH_HEAD,"['storlets/sbus/__init__.py', 'storlets/sbus/client/__init__.py', 'storlets/sbus/client/client.py', 'storlets/sbus/sbus.py']",4,95585af7a7b9cc6f0d7bef4ffc636cba8dee1483,avoid-init,"# Copyright (c) 2015, 2016 OpenStack Foundation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from ctypes import c_char_p, c_int, CDLL, POINTER from storlets.sbus.datagram import build_datagram_from_raw_message class SBus(object): """""" Wrapper class for low level C-API for SBus functionality """""" SBUS_SO_NAME = '/usr/local/lib/storlets/libsbus.so' def __init__(self): # load the C-library self.sbus_back_ = CDLL(SBus.SBUS_SO_NAME) # create SBus self.sbus_back_.sbus_create.argtypes = [c_char_p] self.sbus_back_.sbus_create.restype = c_int # listen to SBus self.sbus_back_.sbus_listen.argtypes = [c_int] self.sbus_back_.sbus_listen.restype = c_int # send message self.sbus_back_.sbus_send_msg.argtypes = [c_char_p, POINTER(c_int), c_int, c_char_p, c_int, c_char_p, c_int] self.sbus_back_.sbus_send_msg.restype = c_int # receive message self.sbus_back_.sbus_recv_msg.argtypes = [c_int, POINTER(POINTER(c_int)), POINTER(c_int), POINTER(c_char_p), POINTER(c_int), POINTER(c_char_p), POINTER(c_int)] self.sbus_back_.sbus_recv_msg.restype = c_int @staticmethod def start_logger(str_log_level='DEBUG', container_id=None): # load the C-library sbus_back_ = CDLL(SBus.SBUS_SO_NAME) sbus_back_.sbus_start_logger.argtypes = [c_char_p, c_char_p] sbus_back_.sbus_start_logger(str_log_level, container_id) @staticmethod def stop_logger(): # load the C-library sbus_back_ = CDLL(SBus.SBUS_SO_NAME) sbus_back_.sbus_stop_logger() def create(self, sbus_name): return self.sbus_back_.sbus_create(sbus_name) def listen(self, sbus_handler): return self.sbus_back_.sbus_listen(sbus_handler) def receive(self, sbus_handler): ph_files = POINTER(c_int)() pp_metadata = (c_char_p)() pp_params = (c_char_p)() pn_files = (c_int)() pn_metadata = (c_int)() pn_params = (c_int)() # Invoke C function n_status = self.sbus_back_.sbus_recv_msg(sbus_handler, ph_files, pn_files, pp_metadata, pn_metadata, pp_params, pn_params) if n_status < 0: return None # The invocation was successful. # De-serialize the data # Aggregate file descriptors n_files = pn_files.value h_files = [] for i in range(n_files): h_files.append(ph_files[i]) # Extract Python strings n_metadata = pn_metadata.value str_metadata = pp_metadata.value n_params = pn_params.value str_params = pp_params.value # Trim the junk out if 0 < n_metadata: str_metadata = str_metadata[0:n_metadata] str_params = str_params[0:n_params] # Construct actual result datagram return build_datagram_from_raw_message( h_files, str_metadata, str_params) @staticmethod def send(sbus_name, datagram): # Serialize the datagram into JSON strings and C integer array str_json_params = datagram.serialized_cmd_params p_params = c_char_p(str_json_params) n_params = c_int(len(str_json_params)) n_files = c_int(0) h_files = None n_metadata = c_int(0) p_metadata = None if datagram.num_fds > 0: str_json_metadata = datagram.serialized_metadata p_metadata = c_char_p(str_json_metadata) n_metadata = c_int(len(str_json_metadata)) n_fds = datagram.num_fds n_files = c_int(n_fds) file_fds = datagram.fds h_files = (c_int * n_fds)() for i in range(n_fds): h_files[i] = file_fds[i] # Invoke C function sbus = SBus() n_status = sbus.sbus_back_.sbus_send_msg(sbus_name, h_files, n_files, p_metadata, n_metadata, p_params, n_params) return n_status ",,293,254
openstack%2Fstorlets~master~Id91acedbc144913769d0b5ced6a6acfc3268d826,openstack/storlets,master,Id91acedbc144913769d0b5ced6a6acfc3268d826,Use smaller file for functional tests,MERGED,2019-11-07 08:09:59.000000000,2019-11-08 03:24:22.000000000,2019-11-08 03:23:10.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 08:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/952004e6182cfccaa67fe3b63feb435191924b12', 'message': 'Use smaller file for functional tests\n\n1GB and 512MB are too large to test chunked read, and 10MB should\nbe enough.\n\nChange-Id: Id91acedbc144913769d0b5ced6a6acfc3268d826\n'}, {'number': 2, 'created': '2019-11-07 08:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/e829aa06a133625417af97e56e020c53aa78d4fb', 'message': 'Use smaller file for functional tests\n\n1GB and 512MB are too large to test chunked read, and 10MB should\nbe enough.\n\nChange-Id: Id91acedbc144913769d0b5ced6a6acfc3268d826\n'}, {'number': 3, 'created': '2019-11-08 02:12:15.000000000', 'files': ['tests/functional/java/test_identity_storlet.py', 'tests/functional/python/test_simple_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/dfbdd27bd8aa6ba7dd0d0bfc1490373bb2151359', 'message': 'Use smaller file for functional tests\n\n1GB and 512MB are too large to test chunked read, and 10MB should\nbe enough.\n\nChange-Id: Id91acedbc144913769d0b5ced6a6acfc3268d826\n'}]",0,693309,dfbdd27bd8aa6ba7dd0d0bfc1490373bb2151359,12,2,3,9816,,,0,"Use smaller file for functional tests

1GB and 512MB are too large to test chunked read, and 10MB should
be enough.

Change-Id: Id91acedbc144913769d0b5ced6a6acfc3268d826
",git fetch https://review.opendev.org/openstack/storlets refs/changes/09/693309/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/java/test_identity_storlet.py', 'tests/functional/python/test_simple_storlet.py']",2,952004e6182cfccaa67fe3b63feb435191924b12,smaller-file," def test_put_10MB_file(self): for _ in range(10): wf.write('1' * (1 * 1024 * 1024)) 10 * 1024 * 1024, None, None,"," def test_put_512MB_file(self): for _ in range(128): wf.write('1' * (4 * 1024 * 1024)) 512 * 1024 * 1024, None, None,",12,12
openstack%2Fcinder~master~I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959,openstack/cinder,master,I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959,Add a backend driver of Pengyun Zettastor iSCSI storge.,ABANDONED,2019-11-01 02:25:58.000000000,2019-11-08 03:18:41.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30499}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-11-01 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d2bfddc3580a894885099a0f9628968261c7d5c', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 2, 'created': '2019-11-01 02:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d08bc139e672542a89cacecca38e5ab3c180308', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\nAdd opts.py\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 3, 'created': '2019-11-04 09:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fcc54a16bc9c856830f4b8f013db9a80e736c99', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\nAdd opts.py\nModify codes as suggestion.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 4, 'created': '2019-11-05 02:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06131e7c92b5461c18f0e242b85e972bcbba419b', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\nAdd opts.py\nModify codes as suggestion.\nFix doc issue and remove commented codes.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 5, 'created': '2019-11-05 06:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bd751a70a38da89c1832a56cd0dc7f29f292b2e', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nAdd opts.py\n\nModify codes as suggestion.\n\nFix doc issue and remove commented codes.\n\nFix unuseful log info and modify blank line.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 6, 'created': '2019-11-05 09:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c503aa3f60a24d13845cb1e13734f43eb224d26', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nAdd opts.py\n\nModify codes as suggestion.\n\nFix doc issue and remove commented codes.\n\nFix unuseful log info and modify blank line.\n\nModify variable name according to openstack style.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 7, 'created': '2019-11-06 08:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e045416e21c2e97a37e602359d62b2bdc0a6961d', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nAdd opts.py, modify codes as code review suggestion, fix doc issue\nand remove commented codes, remove unuseful log info and modify\nblank line. Modify variable name according to openstack style.\nModify pycharm note for dict and list.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 8, 'created': '2019-11-06 08:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22120b2078e6449194ea79f242dff3ab2a66f99b', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nThis adds a new driver for Pengyun Zettastor storage. Zettastor is\na distributed storage system that provides a virtual storage pool\nutilizing internal disks in commodity servers.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 9, 'created': '2019-11-07 03:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ab4d5a066700bf8ab9a0f7680c5036687563187', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nAdd opts.py, modify codes as code review suggestion, fix doc issue\nand remove commented codes, remove unuseful log info and modify\nblank line. Modify variable name according to openstack style.\nModify pycharm note for dict and list. Fix create_cloned_volume\nreturn value issue.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 10, 'created': '2019-11-07 03:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07cc74321d082de36b6962116a0ec93d114cd171', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nThis adds a new driver for Pengyun Zettastor storage. Zettastor is\na distributed storage system that provides a virtual storage pool\nutilizing internal disks in commodity servers.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}, {'number': 11, 'created': '2019-11-07 06:16:55.000000000', 'files': ['doc/source/configuration/block-storage/drivers/zettastor-volume-driver.rst', 'cinder/volume/drivers/pengyun/pengyun_utils.py', 'cinder/tests/unit/volume/drivers/pengyun/test_pengyun_driver.py', 'releasenotes/notes/pengyun_zettastor_volume_driver-e341668a153690b8.yaml', 'cinder/volume/drivers/pengyun/rest_client.py', 'cinder/volume/drivers/pengyun/constants.py', 'cinder/volume/drivers/pengyun/pengyun_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/195319cd6706da11908a378d0beca74552310c43', 'message': 'Add a backend driver of Pengyun Zettastor iSCSI storge.\n\nThis adds a new driver for Pengyun Zettastor storage. Zettastor is\na distributed storage system that provides a virtual storage pool\nutilizing internal disks in commodity servers.\n\nChange-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959\n'}]",19,692479,195319cd6706da11908a378d0beca74552310c43,174,25,11,30499,,,0,"Add a backend driver of Pengyun Zettastor iSCSI storge.

This adds a new driver for Pengyun Zettastor storage. Zettastor is
a distributed storage system that provides a virtual storage pool
utilizing internal disks in commodity servers.

Change-Id: I94eb9f44c69e0cf86289c5616fb7ba9c0ac11959
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/692479/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pengyun/pengyun_utils.py', 'doc/source/configuration/block-storage/drivers/zettastor-volume-driver.rst', 'cinder/tests/unit/volume/drivers/pengyun/test_pengyun_driver.py', 'cinder/volume/drivers/pengyun/rest_client.py', 'releasenotes/notes/pengyun_zettastor_volume_driver-e341668a153690b8.yaml', 'cinder/volume/drivers/pengyun/constants.py', 'cinder/volume/drivers/pengyun/pengyun_driver.py']",7,7d2bfddc3580a894885099a0f9628968261c7d5c,ussuri-drivers,"# Copyright (c) 2019 Pengyun Network Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Driver for Pengyun Zettastor storage."""""" from functools import wraps import time from os_brick.initiator import connector from oslo_concurrency import processutils as putils from oslo_config import cfg from oslo_log import log as logging from oslo_utils import units from cinder import exception from cinder.i18n import _ from cinder import interface from cinder import utils from cinder.volume import configuration from cinder.volume import driver from cinder.volume.drivers.pengyun import constants from cinder.volume.drivers.pengyun import pengyun_utils from cinder.volume.drivers.pengyun import rest_client LOG = logging.getLogger(__name__) zettastor_opts = [ cfg.StrOpt('san_ip', default='', help='IP address of SAN controller'), cfg.StrOpt('san_login', default='admin', help='Username for SAN controller'), cfg.StrOpt('san_password', default='', help='Password for SAN controller', secret=True), ] CONF = cfg.CONF CONF.register_opts(zettastor_opts, group=configuration.SHARED_CONF_GROUP) def _retries(delay=1, retries=4): def retry_decorator(f): @wraps(f) def f_retry(*args, **kwargs): opt_dict = {'retries': retries, 'delay': delay} while opt_dict['retries'] > 1: try: return f(*args, **kwargs) except exception.VolumeDriverException as e: LOG.debug('Retrying in %(delay)s seconds...', {'delay': delay}) time.sleep(opt_dict['delay']) opt_dict['retries'] -= 1 return f(*args, **kwargs) return f_retry return retry_decorator @interface.volumedriver class PengyunISCSIDriver(driver.ISCSIDriver): """"""ISCSI driver for Pengyun ZettaStor storage system. Version history: .. code-block:: none 1.0.0 - Initial driver. Provide Cinder minimum features """""" VERSION = '1.0.0' # ThirdPartySystems wiki page CI_WIKI_NAME = 'Pengyun_Cinder_CI' def __init__(self, *args, **kwargs): """"""Init PENGYUNISCSIDriver class."""""" super(PengyunISCSIDriver, self).__init__(*args, **kwargs) @staticmethod def get_driver_options(): """"""Get driver options."""""" return zettastor_opts def do_setup(self, context): """"""Check that we have all configuration details from the storage."""""" LOG.debug(""restful server: %(RESTServer)s\n"" ""auth user: %(authUser)s\n"" ""auth passwd: %(authPasswd)s\n"", {'RESTServer': CONF.backend_defaults.san_ip, 'authUser': CONF.backend_defaults.san_login, 'authPasswd': CONF.backend_defaults.san_password}) self.client = rest_client.RestClient( CONF.backend_defaults.san_ip, CONF.backend_defaults.san_login, CONF.backend_defaults.san_password) self.connector = connector.ISCSIConnector(utils.get_root_helper()) def check_for_setup_error(self): """"""Check for setup error."""""" self.client.get_segment_size() def clone_image(self, context, volume, image_location, image_meta, image_service): """"""Clone image."""""" start_time = time.time() LOG.debug('in clone_image') LOG.debug('Clone image location: %(image_location)s, ' 'meta: %(image_meta)s.', {'image_location': image_location, 'image_meta': image_meta}) volumeId = image_meta['id'] srcVolume = {} srcVolume['id'] = volumeId try: model_update = self.create_cloned_volume(volume, srcVolume) result_size = model_update['size'] except Exception as err: msg = ('Create volume error. ') LOG.debug(msg) return ({}, False) elapsed_time = time.time() - start_time LOG.debug('clone_image elapsed_time: %s', elapsed_time) if result_size is not None: return {'size': result_size}, True else: return {'provider_location': None}, True def create_volume(self, volume): """"""Create volume."""""" start_time = time.time() LOG.debug('in create_volume') LOG.info('create volume,volume: %(display_name)s.', {'display_name': volume['display_name']}) volume_id = pengyun_utils.gen_id_from(volume['id']) if not volume['display_name']: volume_name = str(volume['id']) else: volume_name = volume['display_name'] volume_size = volume['size'] * units.Ki try: LOG.debug(""create volume "" ""display_name: %(display_name)s, "" ""volume_id: %(volume_id)s, "" ""volume_size: %(volume_size)s"", {'display_name': volume_name, 'volume_id': volume_id, 'volume_size': volume_size}) domain_id = self.client.list_domain() pool_id = self.client.list_pools(domain_id) self.client.create_volume(volume_id, volume_name, volume_size, domain_id, pool_id) except Exception as e: raise exception.VolumeDriverException(message=e) volume_status = ['Available', 'Deleting', 'Deleted', 'Stable'] current_status = self.client.poll_volume_have_status(volume_id, volume_status) LOG.info(""current_status: %(current_status)s"", {'current_status': current_status}) elapsed_time = time.time() - start_time LOG.debug('create_volume elapsed_time: %s', elapsed_time) if current_status not in ['Stable', 'Available']: msg = _('Failed to create volume %s due to ' 'error volume status.') % volume_name LOG.error(msg) raise exception.VolumeDriverException(message=msg) def extend_volume(self, volume, new_size): """"""Extend volume."""""" start_time = time.time() LOG.debug('in extend_volume') new_size_mib = new_size * units.Ki volume_id = pengyun_utils.gen_id_from(volume['id']) volume_name = volume['display_name'] volume_size = volume['size'] * units.Ki extending_size = new_size_mib - volume_size try: LOG.debug(""Extend volume "" ""display_name: %(display_name)s, "" ""volume_id: %(volume_id)s, "" ""extending_size: %(extending_size)s"", {'display_name': volume_name, 'volume_id': volume_id, 'extending_size': extending_size}) self.client.extend_volume(volume_id, extending_size) except Exception as err: msg = _('Extend volume error. Because %s.') % err raise exception.VolumeDriverException(message=msg) volume_status = ['Available', 'Stable'] current_status = self.client.poll_volume_have_status(volume_id, volume_status) elapsed_time = time.time() - start_time LOG.debug('extend_volume elapsed_time: %s', elapsed_time) if current_status is not None: LOG.debug(""Succeed extended volume,volume: %s."", volume_name) else: msg = _('Extend volume %s error.') % volume_name LOG.error(msg) raise exception.VolumeDriverException(message=msg) def delete_volume(self, volume): """"""Delete volume."""""" start_time = time.time() LOG.debug('in delete_volume') volume_id = pengyun_utils.gen_id_from(volume['id']) volume_name = volume['display_name'] try: if self.client.volume_not_found(volume_id): return LOG.debug(""Try to delete volume: %s"", volume_name) self.client.delete_volume(volume_id, volume_name) if self.client.volume_not_found(volume_id): elapsed_time = time.time() - start_time LOG.debug('delete_volume elapsed_time: %s', elapsed_time) return else: LOG.debug('Fail to delete volume %s.', volume_name) raise exception.VolumeDriverException('Fail to delete volume') except Exception as err: msg = _('Delete volume error. Because %s.') % err raise exception.VolumeDriverException(message=msg) def create_snapshot(self, snapshot): """"""Create snapshot."""""" start_time = time.time() LOG.debug('in create_snapshot') snapshot_name = snapshot['display_name'] if len(snapshot_name) > 31: snapshot_name = 'ss' + snapshot_name[-20:] volume_id = pengyun_utils.gen_id_from(snapshot['volume_id']) snapshot_id = pengyun_utils.gen_int_id_from(snapshot['id']) try: self.client.create_snapshot(volume_id, snapshot_name, str(snapshot_id)) except Exception as err: msg = _('Create snapshot error. Because %s.') % err raise exception.VolumeDriverException(message=msg) elapsed_time = time.time() - start_time LOG.debug('create_snapshot elapsed_time: %s', elapsed_time) def delete_snapshot(self, snapshot): """"""Delete snapshot."""""" start_time = time.time() LOG.debug('in delete_snapshot') volume_id = pengyun_utils.gen_id_from(snapshot['volume_id']) try: snapshot_id = self.client.snapshot_id_of( volume_id, str(pengyun_utils.gen_int_id_from(snapshot['id']))) if not snapshot_id: LOG.debug('Snapshot not found.') return LOG.debug(""Try to delete snapshot %(snapshot_id)s"" "" of volume %(volume_id)s."", {'snapshot_id': snapshot_id, 'volume_id': volume_id}) self.client.delete_snapshot(volume_id, snapshot_id) except Exception as err: msg = _('Delete snapshot error. Because %s.') % err raise exception.VolumeDriverException(message=msg) elapsed_time = time.time() - start_time LOG.debug('delete_snapshot elapsed_time: %s', elapsed_time) def create_volume_from_snapshot(self, volume, snapshot): """"""Create volume from snapshot."""""" start_time = time.time() LOG.debug('in create_volume_from_snapshot') volume_id = pengyun_utils.gen_id_from(volume['id']) if not volume['display_name']: volume_name = str(volume['id']) else: volume_name = volume['display_name'] dst_volume_size = volume['size'] * units.Gi snapshot_volume_id = pengyun_utils.gen_id_from(snapshot['volume_id']) if self.client.volume_not_found(snapshot_volume_id): msg = _('volume not found for snapshot.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) try: domain_id, pool_id = self.client.get_volume_domain_pool( snapshot_volume_id) if domain_id == 0: msg = _('Error to get domain_id.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) snapshot_id = self.client.snapshot_id_of( snapshot_volume_id, str(pengyun_utils.gen_int_id_from(snapshot['id']))) self.client.clone_volume_from_snapshot(snapshot_volume_id, snapshot_id, domain_id, pool_id, volume_name, volume_id) except Exception as err: msg = _('Create volume from snapshot error. Because %s.') % err raise exception.VolumeDriverException(message=msg) volume_status = ['Available', 'Deleting', 'Deleted', 'Stable'] current_status, size = self.client.poll_volume_have_status_size( volume_id, volume_status) LOG.debug('snapshot volume id: %(volume_id)s,' 'current_status: %(current_status)s', {'volume_id': snapshot_volume_id, 'current_status': current_status}) if current_status not in ['Stable', 'Available']: msg = _('Fail to create volume %s.') % volume['display_name'] LOG.error(msg) raise exception.VolumeDriverException(message=msg) current_size = size * units.Mi model_update = {} metadata = {'pyname': 'nj'} model_update = {'metadata': metadata} model_update['provider_location'] = 'world' model_update['size'] = size / units.Ki if dst_volume_size > current_size: new_size = volume['size'] volume['size'] = size / units.Ki self.extend_volume(volume, new_size) model_update['size'] = new_size elapsed_time = time.time() - start_time LOG.debug('create_volume_from_snapshot elapsed_time: %s', elapsed_time) return model_update def create_cloned_volume(self, volume, src_vref): """"""Create cloned volume."""""" start_time = time.time() LOG.debug('in create_cloned_volume') volume_id = pengyun_utils.gen_id_from(volume['id']) if not volume['display_name']: volume_name = str(volume['id']) else: volume_name = volume['display_name'] if self.client.volume_not_found( pengyun_utils.gen_id_from(src_vref['id'])): msg = _('volume not found.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) dst_volume_size = volume['size'] * units.Gi try: domain_id, pool_id = self.client.get_volume_domain_pool( pengyun_utils.gen_id_from(src_vref['id'])) if domain_id == 0: msg = _('Error to get domain_id.') LOG.error(msg) raise exception.VolumeDriverException(message=msg) LOG.debug('Clone volume: %(display_name)s', {'display_name': volume['display_name']}) self.client.clone_volume(pengyun_utils.gen_id_from( src_vref['id']), domain_id, pool_id, volume_name, volume_id) except Exception as err: msg = _('Create cloned volume error. Because %s.') % err raise exception.VolumeDriverException(message=msg) volume_status = ['Available', 'Deleting', 'Deleted', 'Stable'] current_status, size = self.client.poll_volume_have_status_size( volume_id, volume_status) LOG.info(""current_status: %(current_status)s"", {'current_status': current_status}) if current_status not in ['Stable', 'Available']: msg = _('Failed to create cloned volume %s.') % volume['id'] raise exception.VolumeDriverException(message=msg) current_size = size * units.Mi model_update = {} metadata = {'pyname': 'nj'} model_update = {'metadata': metadata} model_update['provider_location'] = 'world' if dst_volume_size > current_size: new_size = volume['size'] volume['size'] = size / units.Ki self.extend_volume(volume, new_size) LOG.debug(""volume extend from %(old_size)s to %(new size)s."", {'old_size': size, 'new_size': new_size}) model_update['size'] = new_size return model_update elapsed_time = time.time() - start_time LOG.debug('create_cloned_volume elapsed_time: %s', elapsed_time) def _update_volume_stats(self): """"""Update volume stats."""""" backend_name = 'zettastor' stats = { 'vendor_name': 'Pengyun', 'storage_protocol': 'iSCSI', 'driver_version': self.VERSION, 'free_capacity_gb': 'unknown', 'total_capacity_gb': 'unknown', 'reserved_percentage': 0, 'volume_backend_name': backend_name, 'pools': [] } try: domain_id = self.client.list_domain() pools = self.client.list_pools_capacity(domain_id) except Exception as err: msg = _('update volume stats error. Because %s.') % err raise exception.VolumeDriverException(message=msg) free_capcacity_gb = 0 total_capacity_gb = 0 for id in range(len(pools)): pool = { 'pool_name': pools[id]['poolName'], 'total_capacity_gb': int(pools[id]['totalSpace']) / units.Gi, 'free_capacity_gb': int(pools[id]['freeSpace']) / units.Gi, 'reserved_percentage': 0, 'QoS_support': False } free_capcacity_gb += int(pools[id]['freeSpace']) / units.Gi total_capacity_gb += int(pools[id]['totalSpace']) / units.Gi stats['pools'].append(pool) stats['free_capacity_gb'] = free_capcacity_gb stats['total_capacity_gb'] = total_capacity_gb self._stats = stats def get_volume_stats(self, refresh=False): """"""Get volume status"""""" if refresh: self._update_volume_stats() LOG.debug(""Current volume stats: %s"", self._stats) return self._stats def ensure_export(self, context, volume): pass def create_export(self, context, volume, connector): """"""Create export."""""" start_time = time.time() LOG.debug('in create_export') LOG.debug('volume: %s', volume.__dict__) LOG.debug('connector: %s', connector) volume_id = pengyun_utils.gen_id_from(volume['id']) volume_name = volume['display_name'] if len(volume['display_name']) == 0: volume_name = str(volume_id) LOG.warning(""no display name, use volume id as name: %s."", volume_name) if self.client.volume_not_found(volume_id): msg = _(""can not create export due to volume not found."") raise exception.VolumeDriverException(message=msg) try: LOG.debug(""Create export for volume: %(display_name)s"", {'display_name': volume['display_name']}) self.client.create_export(volume_id, volume_name) except Exception as err: err_msg = _(""Failed to create export for volume: %s"") % err raise exception.VolumeDriverException(message=err_msg) current_status, export_info = self.client.pull_export_info( volume_id, volume_name, ['LAUNCHED', 'ERROR']) if current_status == 'ERROR': LOG.warning(""Export is in error state, remove it."") try: self.remove_export(context, volume) except Exception as err: LOG.debug('Unable to remove error export.' ' Reason: %(err)s', {'err': err}) msg = _('Fail to create export.') raise exception.VolumeDriverException(message=msg) try: self._apply_access_rule(export_info, connector['initiator']) time.sleep(3) except Exception as err: msg = _('Apply acl error. Because %s.') % err raise exception.VolumeDriverException(message=msg) elapsed_time = time.time() - start_time LOG.debug('create_export elapsed_time: %s', elapsed_time) @_retries(delay=2, retries=15) def _remove_export(self, volume, volume_id): export_from_remote = self.client.pull_exports(volume_id) if not export_from_remote: LOG.info(""Export for volume: %(display_name)s "" ""removed yet"", {'display_name': volume['display_name']}) return exist_client = False for id in range(len(export_from_remote)): if len(export_from_remote[id]['driverClientInfoList']) > 0: connection_data = {} target_portal = '%s:%s' % (export_from_remote[id]['host'], str(constants.ISCSI_PORT)) connection_data['target_portal'] = target_portal connection_data['volume_id'] = volume['id'] connection_data['target_discovered'] = True connection_data['target_iqn'] = ( pengyun_utils.gen_iscsi_iqn(volume_id)) connection_data['target_lun'] = constants.TARGET_LUN_ID if self.configuration.use_chap_auth: connection_data['auth_method'] = 'CHAP' connection_data['auth_username'] = ( self.configuration.chap_username) connection_data['auth_password'] = ( self.configuration.chap_password) self.connector.disconnect_volume(connection_data, volume) exist_client = True if exist_client: time.sleep(2) msg = _('Need to retry.') raise exception.VolumeDriverException(message=msg) LOG.debug('Remove export of volume: %(display_name)s', {'display_name': volume['display_name']}) for id in range(len(export_from_remote)): if export_from_remote[id]['status'] == 'LAUNCHED': LOG.debug('Existing export for volume %s', volume['display_name']) self.client.remove_export(volume_id) msg = _('Need to retry.') raise exception.VolumeDriverException(message=msg) def remove_export(self, context, volume): """"""Remove export."""""" start_time = time.time() LOG.debug('in remove_export') LOG.debug('volume: %s', volume.__dict__) volume_id = pengyun_utils.gen_id_from(volume['id']) if self.client.volume_not_found(volume_id): return self._remove_export(volume, volume_id) elapsed_time = time.time() - start_time LOG.debug('remove_export elapsed_time: %s', elapsed_time) @utils.synchronized('pengyun', external=True) def initialize_connection(self, volume, connector, initiator_data=None): """"""initialize connection."""""" start_time = time.time() LOG.debug('in initialize_connection') LOG.debug('volume: %(volume)s, connector: %(connector)s' ', initiator_data: %(initiator_data)s', {'volume': volume.__dict__, 'connector': connector, 'initiator_data': initiator_data}) volume_id = pengyun_utils.gen_id_from(volume['id']) try: export_info = self.client.pull_exports(volume_id) if not export_info: err_msg = ('No export binding volume %s' % volume['display_name']) raise exception.VolumeDriverException(message=err_msg) except Exception as err: raise properties = self._get_iscsi_properties(volume, export_info[0]['host'], constants.ISCSI_PORT) elapsed_time = time.time() - start_time LOG.debug('initialize_connection elapsed_time: %s', elapsed_time) LOG.debug('initialize_connection volid:' ' %(volid)s, properties: %(prop)s', {'volid': volume['id'], 'prop': properties}) return {'driver_volume_type': 'iscsi', 'data': properties} def _do_iscsi_discovery(self, volume_id, hostname, port): """"""Do iscsi discovery."""""" LOG.debug('in _do_iscsi_discovery') iscsi_target_address = '%s:%s' % (hostname, str(port)) LOG.debug(""iscsi discovery target address: %(target)s"", {'target': iscsi_target_address}) try: (targets, _err) = self._execute('iscsiadm', '-m', 'discovery', '-t', 'sendtargets', '-p', iscsi_target_address, attempts=10, run_as_root=True, root_helper='sudo') if _err: LOG.warning(""Something wrong on iscsi discovery: %(err)s"", {'err': _err}) LOG.info('ISCSI discovery: %(targets)s', {'targets': targets}) if targets: target_list = targets.splitlines() for target in target_list: LOG.debug(""Check target: %(target)s, "" ""volume_id: %(volume_id)s, "" ""hostname: %(hostname)s, "" ""port: %(port)s"", {'target': target, 'volume_id': volume_id, 'hostname': hostname, 'port': port}) if (str(volume_id) in target and hostname in target and str(port) in target): return target except putils.ProcessExecutionError as exc: LOG.error(""Something wrong when discovery iscsi target."") raise exc def _get_iscsi_properties(self, volume, hostname, port): """"""Get ISCSI Properties."""""" LOG.debug('in _get_iscsi_properties') LOG.debug(""Get iscsi properties for target on "" ""hostname: %(hostname)s, port: %(port)s"", {'hostname': hostname, 'port': port}) properties = {} volume_id = pengyun_utils.gen_id_from(volume['id']) location = self._do_iscsi_discovery(volume_id, hostname, port) if not location: msg = ('iscsi export for %(display_name)s not found' % volume['display_name']) raise exception.VolumeDriverException(message=msg) properties['target_discovered'] = True results = location.split("" "") target_portal = results[0].split("","")[0] target_iqn = results[1].rstrip('\n') LOG.debug(""ISCSI target_portal: %(target_portal)s, "" ""ISCSI target_iqn: %(target_iqn)s"", {'target_portal': target_portal, 'target_iqn': target_iqn}) volume['provider_location'] = location properties['target_portal'] = target_portal properties['target_iqn'] = target_iqn properties['target_lun'] = constants.TARGET_LUN_ID properties['volume_id'] = volume['id'] if self.configuration.use_chap_auth: properties['auth_method'] = ""CHAP"" properties['auth_username'] = self.configuration.chap_username properties['auth_password'] = self.configuration.chap_password LOG.debug(""Initialized properties: %s"", properties) return properties def _apply_access_rule(self, export_info, initiator): """"""Apply access rule."""""" start_time = time.time() LOG.debug('in apply_access_rule') try: existing_acls = self.client.list_iscsi_acl() if existing_acls == '': LOG.debug(""no acl now."") existing_acls = None rules_to_apply = [] creationFlag = True if existing_acls: for rule in existing_acls: if rule['initiatorName'] == initiator: rule_to_apply = rule['ruleId'] creationFlag = False break if creationFlag: LOG.debug('create iscsi acl for initiator [%s]', initiator) rule_to_apply = self.client.create_iscsi_acl( initiator, self.configuration.chap_username, self.configuration.chap_password) rules_to_apply.append(int(rule_to_apply)) self.client.apply_iscsi_acl( rules_to_apply, export_info['volumeId'], export_info['snapshotId'], export_info['driverContainerId'], export_info['driverType']) except Exception as err: msg = _('Fail to apply access rule. Because %s.') % err raise exception.VolumeDriverException(message=msg) LOG.info(""Succeed to apply acl."") elapsed_time = time.time() - start_time LOG.debug('apply_access_rule elapsed_time: %s', elapsed_time) ",,1987,0
openstack%2Fswift~master~I97cb090820b4099944ba49eaeb5b02f9bbcf1d58,openstack/swift,master,I97cb090820b4099944ba49eaeb5b02f9bbcf1d58,Add delete_account in InternalClient,MERGED,2019-11-07 07:35:36.000000000,2019-11-08 02:53:50.000000000,2019-11-08 02:05:42.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 23279}]","[{'number': 1, 'created': '2019-11-07 07:35:36.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7f6b09dc930706d63a943dc239dff84ddae52014', 'message': 'Add delete_account in InternalClient\n\nCurrently, The internal client module is missing a delete_account method.\nI added a delete_account in InternalClient\n\nChange-Id: I97cb090820b4099944ba49eaeb5b02f9bbcf1d58\nCloses-Bug: #1680377\n'}]",0,693305,7f6b09dc930706d63a943dc239dff84ddae52014,19,3,1,23279,,,0,"Add delete_account in InternalClient

Currently, The internal client module is missing a delete_account method.
I added a delete_account in InternalClient

Change-Id: I97cb090820b4099944ba49eaeb5b02f9bbcf1d58
Closes-Bug: #1680377
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/693305/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,7f6b09dc930706d63a943dc239dff84ddae52014,," def delete_account(self, account, acceptable_statuses=(2, HTTP_NOT_FOUND)): """""" Deletes an account. :param account: Account to delete. :param acceptable_statuses: List of status for valid responses, defaults to (2, HTTP_NOT_FOUND). :raises UnexpectedResponse: Exception raised when requests fail to get a response with an acceptable status :raises Exception: Exception is raised when code fails in an unexpected way. """""" path = self.make_path(account) self.make_request('DELETE', path, {}, acceptable_statuses) ",,23,0
openstack%2Fpython-karborclient~master~I3b6aaead255b51c742e8602d09b4b3f7f152ec6c,openstack/python-karborclient,master,I3b6aaead255b51c742e8602d09b4b3f7f152ec6c,Add unit test for triggers,MERGED,2019-11-07 01:36:19.000000000,2019-11-08 02:44:06.000000000,2019-11-08 02:42:57.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 01:36:19.000000000', 'files': ['karborclient/tests/unit/v1/test_triggers.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/56681c318e4a02d8b556105d19190aef5587cb1f', 'message': 'Add unit test for triggers\n\nChange-Id: I3b6aaead255b51c742e8602d09b4b3f7f152ec6c\n'}]",0,693275,56681c318e4a02d8b556105d19190aef5587cb1f,7,2,1,29272,,,0,"Add unit test for triggers

Change-Id: I3b6aaead255b51c742e8602d09b4b3f7f152ec6c
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/75/693275/1 && git format-patch -1 --stdout FETCH_HEAD,['karborclient/tests/unit/v1/test_triggers.py'],1,56681c318e4a02d8b556105d19190aef5587cb1f,unit_test_triggers," def test_list_triggers(self, mock_request): mock_request.return_value = mock_request_return cs.triggers.list() mock_request.assert_called_with( 'GET', '/triggers', headers={}) @mock.patch('karborclient.common.http.HTTPClient.json_request') def test_list_triggers_with_all_tenants(self, mock_request): mock_request.return_value = mock_request_return cs.triggers.list(search_opts={'all_tenants': 1}) mock_request.assert_called_with( 'GET', '/triggers?all_tenants=1', headers={}) @mock.patch('karborclient.common.http.HTTPClient.json_request') def test_update_trigger_with_invalid_window(self): trigger_id = '123' self.assertRaises(exceptions.CommandError, cs.triggers.update, trigger_id, {'properties': {'window': 'fake'}})",,22,0
openstack%2Fstorlets~master~I31f12bedf77163c8756fecb5000885d01ddbf0e6,openstack/storlets,master,I31f12bedf77163c8756fecb5000885d01ddbf0e6,Be explicit about which python3 to use for py36 and py37 tox envs,MERGED,2019-11-07 23:46:59.000000000,2019-11-08 02:39:06.000000000,2019-11-08 02:38:05.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 23:46:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/3369c8b613ed54df96f66e20a52cf8fc740951d4', 'message': ""Be explicit about which python3 to use for py36 and py37 tox envs\n\nI saw some warnings locally like\n\n    /usr/local/lib/python3.6/dist-packages/tox/config/__init__.py:581:\n    UserWarning: conflicting basepython version (set 3.6, should be 3.7)\n    for env 'py37';resolve conflict or set ignore_basepython_conflict\n\nSeems like that may happen in the gate, too?\n\nChange-Id: I31f12bedf77163c8756fecb5000885d01ddbf0e6\n""}]",0,693451,3369c8b613ed54df96f66e20a52cf8fc740951d4,7,2,1,15343,,,0,"Be explicit about which python3 to use for py36 and py37 tox envs

I saw some warnings locally like

    /usr/local/lib/python3.6/dist-packages/tox/config/__init__.py:581:
    UserWarning: conflicting basepython version (set 3.6, should be 3.7)
    for env 'py37';resolve conflict or set ignore_basepython_conflict

Seems like that may happen in the gate, too?

Change-Id: I31f12bedf77163c8756fecb5000885d01ddbf0e6
",git fetch https://review.opendev.org/openstack/storlets refs/changes/51/693451/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3369c8b613ed54df96f66e20a52cf8fc740951d4,,basepython = python3.6basepython = python3.7,basepython = python3basepython = python3,2,2
openstack%2Fnetworking-onos~stable%2Ftrain~I75533dbcac482d8fcf91360e94947e9abee747bb,openstack/networking-onos,stable/train,I75533dbcac482d8fcf91360e94947e9abee747bb,Stop using common db mixin,MERGED,2019-11-04 09:21:15.000000000,2019-11-08 02:28:58.000000000,2019-11-08 02:28:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 26288}]","[{'number': 1, 'created': '2019-11-04 09:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/34e2670a4ce5459a4415113ff5b6134fafe963d5', 'message': 'Stop using common db mixin\n\nChange-Id: I75533dbcac482d8fcf91360e94947e9abee747bb\n'}, {'number': 2, 'created': '2019-11-04 09:37:40.000000000', 'files': ['networking_onos/plugins/l3/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/4d697fc17bee0dda02af575c2034a22581350092', 'message': 'Stop using common db mixin\n\nChange-Id: I75533dbcac482d8fcf91360e94947e9abee747bb\n'}]",0,692783,4d697fc17bee0dda02af575c2034a22581350092,8,3,2,28180,,,0,"Stop using common db mixin

Change-Id: I75533dbcac482d8fcf91360e94947e9abee747bb
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/83/692783/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_onos/plugins/l3/driver.py'],1,34e2670a4ce5459a4415113ff5b6134fafe963d5,,"class ONOSL3Plugin(extraroute_db.ExtraRoute_db_mixin,","try: from neutron.db.db_base_plugin_v2 import common_db_mixin except ImportError as e: from neutron.db import common_db_mixin class ONOSL3Plugin(common_db_mixin.CommonDbMixin, extraroute_db.ExtraRoute_db_mixin,",1,8
openstack%2Fnetworking-onos~master~I75533dbcac482d8fcf91360e94947e9abee747bb,openstack/networking-onos,master,I75533dbcac482d8fcf91360e94947e9abee747bb,Stop using common db mixin,MERGED,2019-11-04 09:20:55.000000000,2019-11-08 02:26:18.000000000,2019-11-08 02:26:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25575}, {'_account_id': 26288}]","[{'number': 1, 'created': '2019-11-04 09:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/9639a6dd68381676e84313287de7864e1cd8c65d', 'message': 'Stop using common db mixin\n\nChange-Id: I75533dbcac482d8fcf91360e94947e9abee747bb\n'}, {'number': 2, 'created': '2019-11-04 09:37:08.000000000', 'files': ['networking_onos/plugins/l3/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/f9c4c29a90eb7e9cca518957795d32d22f3f9315', 'message': 'Stop using common db mixin\n\nChange-Id: I75533dbcac482d8fcf91360e94947e9abee747bb\n'}]",0,692782,f9c4c29a90eb7e9cca518957795d32d22f3f9315,9,3,2,28180,,,0,"Stop using common db mixin

Change-Id: I75533dbcac482d8fcf91360e94947e9abee747bb
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/82/692782/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_onos/plugins/l3/driver.py'],1,9639a6dd68381676e84313287de7864e1cd8c65d,,"class ONOSL3Plugin(extraroute_db.ExtraRoute_db_mixin,","try: from neutron.db.db_base_plugin_v2 import common_db_mixin except ImportError as e: from neutron.db import common_db_mixin class ONOSL3Plugin(common_db_mixin.CommonDbMixin, extraroute_db.ExtraRoute_db_mixin,",1,8
openstack%2Fkuryr-kubernetes~master~Ic187d5974da1d9d481f04a45190e3ad756430a31,openstack/kuryr-kubernetes,master,Ic187d5974da1d9d481f04a45190e3ad756430a31,Adds an additional sample local.conf file for ONOS,ABANDONED,2018-05-21 09:22:49.000000000,2019-11-08 02:21:21.000000000,,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 25575}]","[{'number': 1, 'created': '2018-05-21 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/660db7b67be030294d4abbbbb07cc6cdd849505b', 'message': 'Adds an additional sample local.conf file for ONOS\n\nChange-Id: Ic187d5974da1d9d481f04a45190e3ad756430a31\n'}, {'number': 2, 'created': '2018-05-23 01:45:46.000000000', 'files': ['devstack/local.conf.onos.sample'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4497ef8494c1ab1e59efe0b86b0f2bda78f53fff', 'message': 'Adds an additional sample local.conf file for ONOS\n\nChange-Id: Ic187d5974da1d9d481f04a45190e3ad756430a31\n'}]",2,569756,4497ef8494c1ab1e59efe0b86b0f2bda78f53fff,11,6,2,25575,,,0,"Adds an additional sample local.conf file for ONOS

Change-Id: Ic187d5974da1d9d481f04a45190e3ad756430a31
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/56/569756/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.onos.sample'],1,660db7b67be030294d4abbbbb07cc6cdd849505b,sample_conf_onos,"[[local|localrc]] HOST_IP=10.1.1.22 SERVICE_HOST=10.1.1.22 RABBIT_HOST=10.1.1.22 DATABASE_HOST=10.1.1.22 Q_HOST=10.1.1.22 enable_plugin kuryr-kubernetes \ https://git.openstack.org/openstack/kuryr-kubernetes # If you do not want stacking to clone new versions of the enabled services, # like for example when you did local modifications and need to ./unstack.sh # and ./stack.sh again, uncomment the following # RECLONE=""no"" # Log settings for better readability LOGFILE=devstack.log LOG_COLOR=False # Credentials ADMIN_PASSWORD=pass DATABASE_PASSWORD=pass RABBIT_PASSWORD=pass SERVICE_PASSWORD=pass SERVICE_TOKEN=pass # Enable Keystone v3 IDENTITY_API_VERSION=3 # In pro of speed and being lightweight, we will be explicit in regards to # which services we enable ENABLED_SERVICES=n-cpu,placement-client,neutron,q-svc,n-cpu,key,nova,n-api,n-cond,n-sch,n-novnc,n-cauth,placement-api,g-api,g-reg,q-svc,horizon,rabbit,mysql # Networks Q_ML2_TENANT_NETWORK_TYPE=vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS=onos_ml2 ML2_L3_PLUGIN=onos_router NEUTRON_CREATE_INITIAL_NETWORKS=False enable_plugin networking-onos https://github.com/openstack/networking-onos.git ONOS_MODE=allinone NEUTRON_CREATE_INITIAL_NETWORKS=True NOVA_VNC_ENABLED=True VNCSERVER_PROXYCLIENT_ADDRESS=$HOST_IP VNCSERVER_LISTEN=$HOST_IP LIBVIRT_TYPE=qemu enable_plugin neutron-lbaas \ git://git.openstack.org/openstack/neutron-lbaas enable_service q-lbaasv2 NEUTRON_LBAAS_SERVICE_PROVIDERV2=""LOADBALANCERV2:Haproxy:neutron_lbaas.drivers.haproxy.plugin_driver.HaproxyOnHostPluginDriver:default"" # By default use all the services from the kuryr-kubernetes plugin # Etcd # ==== # The default is for devstack to run etcd for you. enable_service etcd3 # You can also run the deprecated etcd containerized and select the image and # version of it by commenting the etcd3 service enablement and uncommenting # # enable legacy_etcd # # You can also modify the following defaults. # KURYR_ETCD_IMAGE=""quay.io/coreos/etcd"" # KURYR_ETCD_VERSION=""v3.0.8"" # # You can select the listening and advertising client and peering Etcd # addresses by uncommenting and changing from the following defaults: # KURYR_ETCD_ADVERTISE_CLIENT_URL=http://my_host_ip:2379} # KURYR_ETCD_ADVERTISE_PEER_URL=http://my_host_ip:2380} # KURYR_ETCD_LISTEN_CLIENT_URL=http://0.0.0.0:2379} # KURYR_ETCD_LISTEN_PEER_URL=http://0.0.0.0:2380} # # If you already have an etcd cluster configured and running, you can just # comment out the lines enabling legacy_etcd and etcd3 # then uncomment and set the following line: # KURYR_ETCD_CLIENT_URL=""http://etcd_ip:etcd_client_port"" # Kubernetes # ========== # # Kubernetes is run from the hyperkube docker image # If you already have a Kubernetes deployment, you can use it instead and omit # enabling the Kubernetes service (except Kubelet, which must be run by # devstack so that it uses our development CNI driver. # # The default is, again, for devstack to run the Kubernetes services: enable_service kubernetes-api enable_service kubernetes-controller-manager enable_service kubernetes-scheduler # We use hyperkube to run the services. You can select the hyperkube image and/ # or version by uncommenting and setting the following ENV vars different # to the following defaults: # KURYR_HYPERKUBE_IMAGE=""gcr.io/google_containers/hyperkube-amd64"" # KURYR_HYPERKUBE_VERSION=""v1.6.2"" # # If you have the 8080 port already bound to another service, you will need to # have kubernetes API server bind to another port. In order to do that, # uncomment and set a different port number in: # KURYR_K8S_API_PORT=""8080"" # # If you want to test with a different range for the Cluster IPs uncomment and # set the following ENV var to a different CIDR # KURYR_K8S_CLUSTER_IP_RANGE=""10.10.0.0/24"" # # If, however, you are reusing an existing deployment, you should uncomment and # set an ENV var so that the Kubelet devstack runs can find the API server: # KURYR_K8S_API_URL=""http (or https, if K8S is SSL/TLS enabled)://k8s_api_ip:k8s_api_port"" # # If kubernetes API server is 'https' enabled, set path of the ssl cert files # KURYR_K8S_API_CERT=""/etc/kubernetes/certs/kubecfg.crt"" # KURYR_K8S_API_KEY=""/etc/kubernetes/certs/kubecfg.key"" # KURYR_K8S_API_CACERT=""/etc/kubernetes/certs/ca.crt"" # Kubelet # ======= # # Kubelet should almost invariably be run by devstack enable_service kubelet # You can specify a different location for the hyperkube binary that will be # extracted from the hyperkube container into the Host filesystem: # KURYR_HYPERKUBE_BINARY=/usr/local/bin/hyperkube # # NOTE: KURYR_HYPERKUBE_IMAGE, KURYR_HYPERKUBE_VERSION also affect which # the selected binary for the Kubelet. # Kuryr watcher # ============= # # Just like the Kubelet, you'll want to have the watcher enabled. It is the # part of the codebase that connects to the Kubernetes API server to read the # resource events and convert them to Neutron actions enable_service kuryr-kubernetes # Kuryr Daemon # ============ # # Kuryr can run CNI plugin in daemonized way - i.e. kubelet will run kuryr CNI # driver and the driver will pass requests to Kuryr daemon running on the node, # instead of processing them on its own. This limits the number of Kubernetes # API requests (as only Kuryr Daemon will watch for new pod events) and should # increase scalability in environments that often delete and create pods. # To enable kuryr-daemon uncomment next line. enable_service kuryr-daemon # Containerized Kuryr # =================== # # Kuryr can be installed on Kubernetes as a pair of Deployment # (kuryr-controller) and DaemonSet (kuryr-cni). If you want DevStack to deploy # Kuryr services as pods on Kubernetes uncomment next line. # networking-onos all-in-one mode installs docker by defult, and please uncomment # next line when you use onos all-in-one mode. # KURYR_K8S_CONTAINERIZED_DEPLOYMENT=True # Kuryr POD VIF Driver # ==================== # # Set up the VIF Driver to be used. The default one is the neutron-vif, but if # a nested deployment is desired, the corresponding driver need to be set, # e.g.: nested-vlan or nested-macvlan #KURYR_POD_VIF_DRIVER=neutron-vif # Kuryr Ports Pools # ================= # # To speed up containers boot time the kuryr ports pool driver can be enabled # by uncommenting the next line, so that neutron port resources are precreated # and ready to be used by the pods when needed # KURYR_USE_PORTS_POOLS=True # # By default the pool driver is noop, i.e., there is no pool. If pool # optimizations want to be used you need to set it to 'neutron' for the # baremetal case, or to 'nested' for the nested case # KURYR_VIF_POOL_DRIVER=noop # # There are extra configuration options for the pools that can be set to decide # on the minimum number of ports that should be ready to use at each pool, the # maximum (0 to unset), and the batch size for the repopulation actions, i.e., # the number of neutron ports to create in bulk operations. Finally, the update # frequency between actions over the pool can be set too # KURYR_VIF_POOL_MIN=5 # KURYR_VIF_POOL_MAX=0 # KURYR_VIF_POOL_BATCH=10 # KURYR_VIF_POOL_UPDATE_FREQ=20 # Kuryr VIF Pool Manager # ====================== # # Uncomment the next line to enable the pool manager. Note it requires the # nested-vlan pod vif driver, as well as the ports pool being enabled and # configured with the nested driver # KURYR_VIF_POOL_MANAGER=True # ADDONS KURYR_NEUTRON_DEFAULT_SUBNETPOOL_ID=""shared-default-subnetpool-v4"" ",,206,0
openstack%2Fstorlets~master~I4379dba7629cfc0d928c1adda587ca400a38d227,openstack/storlets,master,I4379dba7629cfc0d928c1adda587ca400a38d227,PY3: decode subprocess output if it's bytes,MERGED,2019-11-06 01:39:55.000000000,2019-11-08 01:59:18.000000000,2019-11-08 01:58:02.000000000,"[{'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 01:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c0f2bf5804087e2fee2ab2a68b26cf4ae4ea1cbc', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}, {'number': 2, 'created': '2019-11-06 01:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/1935ed495b1fb939d3a8f81b6719c0cea3bc3c0b', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}, {'number': 3, 'created': '2019-11-06 02:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/038a164a51371fa36cca70bb630c8d0cb22b2508', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}, {'number': 4, 'created': '2019-11-07 04:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/673cf6a6bf2f77528682b72f3245676036c83503', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}, {'number': 5, 'created': '2019-11-07 08:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7d9322ffb135d689a531a9f722f2af055833243c', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}, {'number': 6, 'created': '2019-11-07 23:50:40.000000000', 'files': ['storlets/gateway/gateways/docker/runtime.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/c72226b6549d928fdb6845fce0d1495cfb4e9609', 'message': ""PY3: decode subprocess output if it's bytes\n\nOtherwise, the logger will cause errors for the output.\n\nChange-Id: I4379dba7629cfc0d928c1adda587ca400a38d227\n""}]",1,693106,c72226b6549d928fdb6845fce0d1495cfb4e9609,17,3,6,4608,,,0,"PY3: decode subprocess output if it's bytes

Otherwise, the logger will cause errors for the output.

Change-Id: I4379dba7629cfc0d928c1adda587ca400a38d227
",git fetch https://review.opendev.org/openstack/storlets refs/changes/06/693106/3 && git format-patch -1 --stdout FETCH_HEAD,['storlets/gateway/gateways/docker/runtime.py'],1,c0f2bf5804087e2fee2ab2a68b26cf4ae4ea1cbc,693291," if not isinstance(stdout, str): stdout = stdout.decode(""utf-8"") if not isinstance(stderr, str): stderr = stderr.decode(""utf-8"")",,4,0
openstack%2Fstorlets~master~I542db555798e7ef67bf0db9d98d1c14578118f86,openstack/storlets,master,I542db555798e7ef67bf0db9d98d1c14578118f86,PY3: ensure bytes format in sbus conversation,MERGED,2019-11-04 22:47:54.000000000,2019-11-08 01:54:41.000000000,2019-11-08 01:52:39.000000000,"[{'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 22:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d2acbf816c58a0d1c0cc8f171814816684adeb29', 'message': 'WIP: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 2, 'created': '2019-11-05 00:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a718fdf413a451d1fc61afc27e3eefcbf6dbe0fa', 'message': 'WIP: Use c_wchar_p for str object\n\nStorlets metadata, command, and path are handled as str.\nAnd, in python3, str is not compatible with bytes. That\ncauses type mismatch in the ctypes translation.\n\nThis patch changes the type from c_char_p (expects bytes)\nto c_wchar_p (expects str) that allows str object in args\nin both py2 and py3.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 3, 'created': '2019-11-06 01:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/b1a16ec525a8d40a00487435377dbd5b0c95d52f', 'message': 'WIP: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 4, 'created': '2019-11-06 01:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/39673ff184f6932f1cdbe56f8d94c47b894834e5', 'message': 'PY3: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 5, 'created': '2019-11-06 02:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/cabc68675af25719e69511938676efe966de0008', 'message': 'PY3: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 6, 'created': '2019-11-07 04:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d149727c8a70fc7408b0a5762c2aa591b76d8bd5', 'message': 'PY3: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 7, 'created': '2019-11-07 08:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/7c6cd97db933d27ab1c2d9108b0c041bedd991b1', 'message': 'PY3: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}, {'number': 8, 'created': '2019-11-07 23:50:40.000000000', 'files': ['storlets/sbus/__init__.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/89fd96b9ffc3dabd580cfa243349927c42876ddc', 'message': 'PY3: ensure bytes format in sbus conversation\n\nOriginally, that was just str, that can be compatible with\nchar in python c_types. However, in python3, str is not a\nbyte format but bytes. This patch is intended to encupsulate\nany data format (path name, metadata) into SBus module that\ntranforms them from str to bytes at the send time. (receive\nwill work as well from bytes to str) Thus, any other storlet\nmodules are able to use them as str as well as ever.\n\nChange-Id: I542db555798e7ef67bf0db9d98d1c14578118f86\n'}]",1,692922,89fd96b9ffc3dabd580cfa243349927c42876ddc,22,3,8,4608,,,0,"PY3: ensure bytes format in sbus conversation

Originally, that was just str, that can be compatible with
char in python c_types. However, in python3, str is not a
byte format but bytes. This patch is intended to encupsulate
any data format (path name, metadata) into SBus module that
tranforms them from str to bytes at the send time. (receive
will work as well from bytes to str) Thus, any other storlet
modules are able to use them as str as well as ever.

Change-Id: I542db555798e7ef67bf0db9d98d1c14578118f86
",git fetch https://review.opendev.org/openstack/storlets refs/changes/22/692922/1 && git format-patch -1 --stdout FETCH_HEAD,['storlets/sbus/__init__.py'],1,d2acbf816c58a0d1c0cc8f171814816684adeb29,693291," # NOTE: because the storlets container may not have # six module inside. Just check the type, not the python # version. Anyway, the value should be bytes but python2 # can assume the bytes as str. str_metadata = pp_metadata.value.decode(""utf-8"") \ if not isinstance(pp_metadata.value, str) else pp_metadata.value str_params = pp_params.value.decode(""utf-8"") \ if not isinstance(pp_params.value, str) else pp_params.value p_params = c_char_p(str_json_params.encode(""utf-8"")) p_metadata = c_char_p(str_json_metadata.encode(""utf-8""))", str_metadata = pp_metadata.value str_params = pp_params.value p_params = c_char_p(str_json_params) p_metadata = c_char_p(str_json_metadata),10,4
openstack%2Fstorlets~master~I834b29886a18269de2745ffe584291491e80f9eb,openstack/storlets,master,I834b29886a18269de2745ffe584291491e80f9eb,PY3: Fix file open to read/write the data as bytes,MERGED,2019-11-01 09:45:49.000000000,2019-11-08 01:53:41.000000000,2019-11-08 01:52:39.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 09:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a58a79a46a990ae7bcd22d3f673b7a72ae7bd7a9', 'message': 'PY3: Fix file opening to read the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 2, 'created': '2019-11-01 11:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/05b14f9d329fb6b2be5b35900e35d027be4f93e2', 'message': 'PY3: Fix file opening to read the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 3, 'created': '2019-11-02 23:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eb79bfda72bda0aecdedddbfc93bd1d761806b75', 'message': 'PY3: Fix file openi to read the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 4, 'created': '2019-11-04 02:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c022184f4fb55b5c87ba3b76d98543153c4103b2', 'message': 'PY3: Fix file open to read the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 5, 'created': '2019-11-04 06:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/44256e391cd401f63706e18b32a3fc10f79872bb', 'message': 'PY3: Fix file open to read the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 6, 'created': '2019-11-04 06:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/39284464e7c6381e3e23f6016c44a07ae03dedfc', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 7, 'created': '2019-11-04 07:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/0af7a1822876f666b55534d6854aba63c762a6fc', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 8, 'created': '2019-11-06 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4e56499627148db565bb7e2e33993c1fbb99555a', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 9, 'created': '2019-11-07 03:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/13e0d252528abb87e0236a610e4d19fae376acd8', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 10, 'created': '2019-11-07 07:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/052a81ba6115ee1c18cddaaa0c2bbc12910771d5', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 11, 'created': '2019-11-07 08:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/fb6fc7474373cbcfbf8dac0dc7073a0a1858f977', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}, {'number': 12, 'created': '2019-11-07 16:47:34.000000000', 'files': ['storlets/agent/daemon/server.py', 'tests/functional/java/test_identity_storlet.py', 'tests/functional/python/test_simple_storlet.py', 'tests/unit/gateway/gateways/docker/test_gateway.py', 'storlets/tools/utils.py', 'tests/functional/common/mixins.py', 'storlets/tools/extensions/ipython.py', 'tests/functional/python/test_SLO.py', 'doc/source/archive/invoking_storlets.rst', 'storlets/agent/daemon_factory/server.py', 'storlets/gateway/gateways/docker/runtime.py', 'storlets/agent/common/server.py', 'doc/source/writing_and_deploying_storlets.rst', 'tests/functional/java/test_thumbnail_storlet.py', 'storlets/gateway/gateways/docker/gateway.py', 'storlets/agent/daemon/files.py', 'tests/functional/java/test_SLO.py', 'tests/unit/agent/daemon/test_files.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/84421c93d044078f0975dfb4025111b133d26482', 'message': 'PY3: Fix file open to read/write the data as bytes\n\nBecause swiftclient.put_object assumes it as bytes object.\nOnly ZipFile is not suppoting rb mode so leave it as it is.\nIt should be okay because Storlets use it just to pick up\nthe filnames that should be string instead of bytes.\n\nChange-Id: I834b29886a18269de2745ffe584291491e80f9eb\n'}]",26,692522,84421c93d044078f0975dfb4025111b133d26482,39,4,12,4608,,,0,"PY3: Fix file open to read/write the data as bytes

Because swiftclient.put_object assumes it as bytes object.
Only ZipFile is not suppoting rb mode so leave it as it is.
It should be okay because Storlets use it just to pick up
the filnames that should be string instead of bytes.

Change-Id: I834b29886a18269de2745ffe584291491e80f9eb
",git fetch https://review.opendev.org/openstack/storlets refs/changes/22/692522/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/java/test_identity_storlet.py', 'storlets/gateway/gateways/docker/gateway.py', 'tests/functional/python/test_simple_storlet.py', 'storlets/tools/utils.py', 'storlets/tools/extensions/ipython.py', 'tests/functional/python/test_SLO.py', 'doc/source/archive/invoking_storlets.rst', 'doc/source/writing_and_deploying_storlets.rst', 'storlets/tools/deploy_storlet.py', 'tests/functional/java/test_SLO.py', 'tests/functional/java/test_thumbnail_storlet.py']",11,a58a79a46a990ae7bcd22d3f673b7a72ae7bd7a9,692522," with open(source_file, 'rb') as f:"," with open(source_file, 'r') as f:",16,16
openstack%2Fstorlets~master~I0dacb4bd2054f81f0330039aea0df2fe8194abff,openstack/storlets,master,I0dacb4bd2054f81f0330039aea0df2fe8194abff,PY3: encode SBUS command as bytes,ABANDONED,2019-11-06 03:28:19.000000000,2019-11-08 01:52:28.000000000,,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 03:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/a8dfc3b0337c36b525ad0d948885e0b5b6742a87', 'message': ""PY3: set SBUS commands as bytes\n\nBecause it's used by unix domain socket conversation\ndefined as c_char_p.\n\nChange-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff\n""}, {'number': 2, 'created': '2019-11-06 05:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/2bbc74a20289480c7f995884c72a341c6da9799f', 'message': ""PY3: encode SBUS command as bytes\n\nBecause it's used by unix domain socket conversation\ndefined as c_char_p.\n\nChange-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff\n""}, {'number': 3, 'created': '2019-11-07 04:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d13491ddc7078260f0df72d1093cf6512a0c4354', 'message': ""PY3: encode SBUS command as bytes\n\nBecause it's used by unix domain socket conversation\ndefined as c_char_p.\n\nChange-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff\n""}, {'number': 4, 'created': '2019-11-07 08:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/8da53d194be279ea681d65f9c41b049927887294', 'message': ""PY3: encode SBUS command as bytes\n\nBecause it's used by unix domain socket conversation\ndefined as c_char_p.\n\nChange-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff\n""}, {'number': 5, 'created': '2019-11-07 23:50:40.000000000', 'files': ['storlets/sbus/client/__init__.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/450546e945795b8549f70d817cdea994de8c2183', 'message': ""PY3: encode SBUS command as bytes\n\nBecause it's used by unix domain socket conversation\ndefined as c_char_p.\n\nChange-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff\n""}]",2,693113,450546e945795b8549f70d817cdea994de8c2183,15,4,5,4608,,,0,"PY3: encode SBUS command as bytes

Because it's used by unix domain socket conversation
defined as c_char_p.

Change-Id: I0dacb4bd2054f81f0330039aea0df2fe8194abff
",git fetch https://review.opendev.org/openstack/storlets refs/changes/13/693113/3 && git format-patch -1 --stdout FETCH_HEAD,['storlets/sbus/command.py'],1,a8dfc3b0337c36b525ad0d948885e0b5b6742a87,693291,SBUS_CMD_PREFIX = b'SBUS_CMD_' SBUS_CMD_HALT = b'SBUS_CMD_HALT' SBUS_CMD_EXECUTE = b'SBUS_CMD_EXECUTE' SBUS_CMD_START_DAEMON = b'SBUS_CMD_START_DAEMON' SBUS_CMD_STOP_DAEMON = b'SBUS_CMD_STOP_DAEMON' SBUS_CMD_DAEMON_STATUS = b'SBUS_CMD_DAEMON_STATUS' SBUS_CMD_STOP_DAEMONS = b'SBUS_CMD_STOP_DAEMONS' SBUS_CMD_PING = b'SBUS_CMD_PING' SBUS_CMD_CANCEL = b'SBUS_CMD_CANCEL' SBUS_CMD_NOP = b'SBUS_CMD_NOP',SBUS_CMD_PREFIX = 'SBUS_CMD_' SBUS_CMD_HALT = 'SBUS_CMD_HALT' SBUS_CMD_EXECUTE = 'SBUS_CMD_EXECUTE' SBUS_CMD_START_DAEMON = 'SBUS_CMD_START_DAEMON' SBUS_CMD_STOP_DAEMON = 'SBUS_CMD_STOP_DAEMON' SBUS_CMD_DAEMON_STATUS = 'SBUS_CMD_DAEMON_STATUS' SBUS_CMD_STOP_DAEMONS = 'SBUS_CMD_STOP_DAEMONS' SBUS_CMD_PING = 'SBUS_CMD_PING' SBUS_CMD_CANCEL = 'SBUS_CMD_CANCEL' SBUS_CMD_NOP = 'SBUS_CMD_NOP',10,10
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9711ef977d045f1dbcdc631fe2655294109031b8,openstack/tripleo-heat-templates,stable/train,I9711ef977d045f1dbcdc631fe2655294109031b8,Remove OpenDaylight templates and environments,MERGED,2019-11-06 06:19:15.000000000,2019-11-08 01:46:53.000000000,2019-11-08 01:45:28.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 06:19:15.000000000', 'files': ['environments/services-baremetal/neutron-bgpvpn-opendaylight.yaml', 'environments/services/neutron-opendaylight-sriov.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/services-baremetal/neutron-l2gw-opendaylight.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'network/endpoints/endpoint_map.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'capabilities-map.yaml', 'sample-env-generator/undercloud-minion.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'environments/services/neutron-l2gw-opendaylight.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'environments/services/neutron-sfc-opendaylight.yaml', 'roles/Compute.yaml', 'sample-env-generator/ssl.yaml', 'environments/odl-dscp-marking-inheritance.yaml', 'releasenotes/notes/remove-odl-735ca4129c2a450e.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/undercloud/undercloud-minion.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/services/neutron-opendaylight-dpdk.yaml', 'environments/services/neutron-opendaylight.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-bgpvpn-opendaylight.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d1ddeafb9bf6d1ca6ca31d276ca8d1fc79f69cf', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n(cherry picked from commit 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3)\n'}]",0,693123,6d1ddeafb9bf6d1ca6ca31d276ca8d1fc79f69cf,10,5,1,18575,,,0,"Remove OpenDaylight templates and environments

OpenDaylight deployment has been deprecated in Stein. In Train,
the tempaltes are removed.

Change-Id: I9711ef977d045f1dbcdc631fe2655294109031b8
(cherry picked from commit 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/693123/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/neutron-bgpvpn-opendaylight.yaml', 'environments/services/neutron-opendaylight-sriov.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/services-baremetal/neutron-l2gw-opendaylight.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'network/endpoints/endpoint_map.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'capabilities-map.yaml', 'sample-env-generator/undercloud-minion.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'environments/services/neutron-l2gw-opendaylight.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'environments/services/neutron-sfc-opendaylight.yaml', 'roles/Compute.yaml', 'sample-env-generator/ssl.yaml', 'environments/odl-dscp-marking-inheritance.yaml', 'releasenotes/notes/remove-odl-735ca4129c2a450e.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/undercloud/undercloud-minion.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/services/neutron-opendaylight-dpdk.yaml', 'environments/services/neutron-opendaylight.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-bgpvpn-opendaylight.yaml', 'roles/Networker.yaml']",66,6d1ddeafb9bf6d1ca6ca31d276ca8d1fc79f69cf,remove_odl-stable/train,, - OS::TripleO::Services::OpenDaylightOvs,5,1366
openstack%2Fcyborg-tempest-plugin~master~Ic3a21c810040bac30c81030078d69079f3577567,openstack/cyborg-tempest-plugin,master,Ic3a21c810040bac30c81030078d69079f3577567,Add cyborg-tempest-py3 job according [1],ABANDONED,2019-11-05 01:48:19.000000000,2019-11-08 01:32:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 11878}, {'_account_id': 14131}, {'_account_id': 22306}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26490}, {'_account_id': 27458}, {'_account_id': 30380}, {'_account_id': 30623}]","[{'number': 1, 'created': '2019-11-05 01:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/2c7fa794c8a5ca592436bd52be0154c9b779a732', 'message': 'Add cyborg-tempest-py3 job according [1]\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: Ic3a21c810040bac30c81030078d69079f3577567\n'}, {'number': 2, 'created': '2019-11-05 01:51:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/c7de83e906cb70b52b55f6db066d7e832c2b2cc1', 'message': 'Add cyborg-tempest-py3 job according [1]\n\n[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html\n\nChange-Id: Ic3a21c810040bac30c81030078d69079f3577567\n'}]",0,692937,c7de83e906cb70b52b55f6db066d7e832c2b2cc1,6,10,2,30395,,,0,"Add cyborg-tempest-py3 job according [1]

[1] https://governance.openstack.org/tc/resolutions/20180529-python2-deprecation-timeline.html

Change-Id: Ic3a21c810040bac30c81030078d69079f3577567
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/37/692937/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c7fa794c8a5ca592436bd52be0154c9b779a732,drop-python2-support," name: cyborg-tempest-py3 voting: true parent: devstack-tempest timeout: 7800 required-projects: &base_required_projects - openstack/cyborg - openstack/python-cyborgclient - openstack/tempest - openstack/cyborg-tempest-plugin vars: &base_vars devstack_plugins: cyborg: https://opendev.org/openstack/cyborg devstack_services: tempest: true s-account: false s-container: false s-object: false s-proxy: false tls-proxy: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/cyborg-tempest-plugin"" tempest_test_regex: cyborg_tempest_plugin tox_envlist: all irrelevant-files: &base_irrelevant_files - ^.*\.rst$ - ^doc/.*$ - ^setup.cfg$ - ^releasenotes/.*$ - ^(test-|)requirements.txt$ - ^.git.*$ - ^tox.ini$ - job:",,33,0
openstack%2Fdevstack~master~Ife215db3f59f011574a50b0d1cbd5565a7408dfe,openstack/devstack,master,Ife215db3f59f011574a50b0d1cbd5565a7408dfe,Add override variable for LIBVIRT_TYPE,MERGED,2019-10-03 23:32:41.000000000,2019-11-08 01:32:05.000000000,2019-11-08 01:30:31.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 23:32:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c6b3c32791f6a1b6e3646e739d41ae86d866d45', 'message': 'Add override variable for LIBVIRT_TYPE\n\nAllow jobs to set LIBVIRT_TYPE, but retain the current default.  This\nis for testing nested virt.\n\nChange-Id: Ife215db3f59f011574a50b0d1cbd5565a7408dfe\n'}]",0,686509,5c6b3c32791f6a1b6e3646e739d41ae86d866d45,15,3,1,7118,,,0,"Add override variable for LIBVIRT_TYPE

Allow jobs to set LIBVIRT_TYPE, but retain the current default.  This
is for testing nested virt.

Change-Id: Ife215db3f59f011574a50b0d1cbd5565a7408dfe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/09/686509/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5c6b3c32791f6a1b6e3646e739d41ae86d866d45,nested-kvm," # Gate jobs can't deal with nested virt. Disable it by default. LIBVIRT_TYPE: '{{ devstack_libvirt_type | default(""qemu"") }}'", # Gate jobs can't deal with nested virt. Disable it. LIBVIRT_TYPE: qemu,2,2
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,openstack/tripleo-heat-templates,stable/rocky,Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,"Add ""radvd_user"" config parameter to Neutron L3 container",MERGED,2019-11-05 11:57:08.000000000,2019-11-08 01:27:29.000000000,2019-11-08 01:26:01.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 11:57:08.000000000', 'files': ['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'docker/services/neutron-l3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe39ce3095df7abc3d00d1750183e3cd43b91a97', 'message': 'Add ""radvd_user"" config parameter to Neutron L3 container\n\nThe username passed to radvd, used to drop root privileges and change\nuser ID to username and group ID to the primary group of username. If no\nuser specified, the user executing the L3 agent will be passed. If ""root""\nspecified, because radvd is spawned as root, no ""username"" parameter\nwill be passed\n\nConflicts:\n      docker/services/neutron-l3.yaml\n\nChange-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a\nCloses-Bug: #1844688\n(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)\n(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)\n(cherry picked from commit 98032a162d086328ca13056ed3f7dd5d1486c43f)\n'}]",0,692987,fe39ce3095df7abc3d00d1750183e3cd43b91a97,8,3,1,16688,,,0,"Add ""radvd_user"" config parameter to Neutron L3 container

The username passed to radvd, used to drop root privileges and change
user ID to username and group ID to the primary group of username. If no
user specified, the user executing the L3 agent will be passed. If ""root""
specified, because radvd is spawned as root, no ""username"" parameter
will be passed

Conflicts:
      docker/services/neutron-l3.yaml

Change-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a
Closes-Bug: #1844688
(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)
(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)
(cherry picked from commit 98032a162d086328ca13056ed3f7dd5d1486c43f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/692987/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'docker/services/neutron-l3.yaml']",2,fe39ce3095df7abc3d00d1750183e3cd43b91a97,bug/1844688," NeutronL3AgentRadvdUser: default: ""root"" description: | The username passed to radvd, used to drop root privileges and change user ID to username and group ID to the primary group of username. If no user specified, the user executing the L3 agent will be passed. If ""root"" specified, because radvd is spawned as root, no ""username"" parameter will be passed type: string - neutron::agents::l3::radvd_user: {get_param: NeutronL3AgentRadvdUser}",,17,0
openstack%2Ftripleo-image-elements~master~Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f,openstack/tripleo-image-elements,master,Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f,tox: Keeping going with docs,MERGED,2019-11-02 18:38:11.000000000,2019-11-08 01:27:15.000000000,2019-11-08 01:26:03.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/255cf1786ea86289f91acececb8a64ec6f20e4c8', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f\n'}, {'number': 2, 'created': '2019-11-02 18:47:04.000000000', 'files': ['tools/releasenotes_tox.sh', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4595436ee3580dc54e1f82ef7a17902f235768c5', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f\n'}]",0,692686,4595436ee3580dc54e1f82ef7a17902f235768c5,10,4,2,30356,,,0,"tox: Keeping going with docs

Change-Id: Id3d18ba8c9b3b87d62fb1e3adca00a96d83c1e4f
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/86/692686/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,255cf1786ea86289f91acececb8a64ec6f20e4c8,,"sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Ftripleo-puppet-elements~master~I8351af94c728a26ac3c2d67176c3279348264922,openstack/tripleo-puppet-elements,master,I8351af94c728a26ac3c2d67176c3279348264922,tox: Keeping going with docs,MERGED,2019-11-02 18:38:09.000000000,2019-11-08 01:27:13.000000000,2019-11-08 01:26:04.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/2bfc3fd19b9abc87123c86fcce0025e5b5e4f052', 'message': 'tox: Keeping going with docs\n\nChange-Id: I8351af94c728a26ac3c2d67176c3279348264922\n'}, {'number': 2, 'created': '2019-11-02 18:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9d5b8e29c19579ac4007c520749634a2e81fe95f', 'message': 'tox: Keeping going with docs\n\nChange-Id: I8351af94c728a26ac3c2d67176c3279348264922\n'}, {'number': 3, 'created': '2019-11-02 18:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8766895d2d2fe3857f36f4a6c971be41dad8b0e4', 'message': 'tox: Keeping going with docs\n\nChange-Id: I8351af94c728a26ac3c2d67176c3279348264922\n'}, {'number': 4, 'created': '2019-11-02 18:55:14.000000000', 'files': ['requirements.txt', 'tools/releasenotes_tox.sh', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/583a788cd475c3e4ff5980169f480a23398fe91e', 'message': 'tox: Keeping going with docs\n\nChange-Id: I8351af94c728a26ac3c2d67176c3279348264922\n'}]",0,692684,583a788cd475c3e4ff5980169f480a23398fe91e,12,4,4,30356,,,0,"tox: Keeping going with docs

Change-Id: I8351af94c728a26ac3c2d67176c3279348264922
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/84/692684/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2bfc3fd19b9abc87123c86fcce0025e5b5e4f052,,"sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Ftripleo-repos~master~Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45,openstack/tripleo-repos,master,Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45,tox: Keeping going with docs,MERGED,2019-11-02 18:38:06.000000000,2019-11-08 01:26:05.000000000,2019-11-08 01:26:05.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 18:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/65bed0524608a8b49a5c63526743639270c33440', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45\n'}, {'number': 2, 'created': '2019-11-02 18:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/868608f56267cfd3aac1006f26787b93e0aa37bb', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45\n'}, {'number': 3, 'created': '2019-11-02 18:59:13.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2655019cd8854e59bd1890679c04bf42ea37d1a0', 'message': 'tox: Keeping going with docs\n\nChange-Id: Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45\n'}]",0,692680,2655019cd8854e59bd1890679c04bf42ea37d1a0,10,3,3,30356,,,0,"tox: Keeping going with docs

Change-Id: Id753ce2621c3a1dc01df2ebcd4f72fd961e79e45
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/80/692680/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,65bed0524608a8b49a5c63526743639270c33440,,"sphinx>=1.8.0,<2.0.0;python_version=='2.7' # BSD sphinx>=1.8.0,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Fdiskimage-builder~master~Ia04f7a77935c20e4d6b3f179f1d3c380d123482e,openstack/diskimage-builder,master,Ia04f7a77935c20e4d6b3f179f1d3c380d123482e,WIP: Docker matrix build,NEW,2016-12-22 22:58:33.000000000,2019-11-08 01:20:32.000000000,,"[{'_account_id': 3}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 14288}, {'_account_id': 21741}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2016-12-22 22:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7a2fa36370965cb39439a6d197284f3350789801', 'message': 'dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 2, 'created': '2016-12-23 11:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b3736e3fa6f331e11ccdb82a5fbc100665adbb7', 'message': 'dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 3, 'created': '2016-12-23 13:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/894b43f576a96dcabf35a5e7fa3823509a74fb76', 'message': 'WIP! dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 4, 'created': '2016-12-23 14:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/de3c007912b013561588ac0b08ccf093711b02f1', 'message': 'WIP! dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 5, 'created': '2016-12-23 14:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f9a13fed62d961441d94f5cf2cd78d094890bca5', 'message': 'WIP! dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 6, 'created': '2016-12-23 19:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3f58cf3de2d32386e73100f6da9936982399eabe', 'message': 'WIP! dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 7, 'created': '2016-12-23 20:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/523ac63a97f3fa464b570cf76534ee0d2799db0d', 'message': 'WIP! dibdevel: new element\n\nThe dibdevel and dibdevel-minimal elements enable to easily setup a\n(minimal) development environment for dib itself.\n\nThese elements can be used to run tests like generating a development\nVM and run dib inside.\n\nThey can also server for all who needs a complete and working\ndevelopment environment based on one of the supported distributions.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 8, 'created': '2016-12-23 23:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a839a873de6486e95222ceffdbecf838c98de601', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 9, 'created': '2016-12-24 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9dc940678bd39a4925b63e987b1c771c1b0bdf52', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 10, 'created': '2016-12-24 12:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6d740cd902ced0ed8137e192eccb81821787179e', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 11, 'created': '2016-12-24 12:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e35494348d15c742f7fb9b9f61052e636e7c4d76', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 12, 'created': '2016-12-24 13:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e02c7992271e1ea4e304e1a79950828d68d2a232', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 13, 'created': '2016-12-24 15:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3c346b29558818a2a42d4c2bacc4b8d956c440ab', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 14, 'created': '2016-12-25 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7067434ad9c622089a81286aa98b6b21d05d9c2a', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 15, 'created': '2016-12-26 12:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/74a162834ee0c4f2dcf303c614f43b96175ff7ec', 'message': 'WIP! Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 16, 'created': '2016-12-30 00:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d51e7f41ca4c50418843e1438bf513b2c421d7e', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 17, 'created': '2016-12-30 11:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b9d3f89390c85ef6c06ed5b99270380b8682bb3', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 18, 'created': '2016-12-30 15:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c51b2fb75a98406adbe23790af832aeefeee3766', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 19, 'created': '2017-01-01 13:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f2000c26558501372ab4b8f8e06b670bd35837bf', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 20, 'created': '2017-01-01 19:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0776b80f3ae10a8622036ce730c900ba9013377e', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 21, 'created': '2017-01-05 08:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca206ecfe2d76b19a33f2115b6246f6fc08932ba', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 22, 'created': '2017-01-06 08:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b485435508e49fcbf20bfaa8ee67cd799b41fa13', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 23, 'created': '2017-01-12 23:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f8c5dfad2f35a81122f4fc39a7c9b2be5fefbbed', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 24, 'created': '2017-02-09 06:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fb56ecb7e852c49d9f38d3a2e2f729899bdf4469', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 25, 'created': '2017-02-09 19:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e9d2a36403e7dec93d2a9f1d83e0e767e3250fdc', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 26, 'created': '2017-04-01 08:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ae7ed960a12a19193ce97bb698bb71e9b6469fa2', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 27, 'created': '2017-07-06 07:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/442ddaa03b30ddf4012c42472fd3e8dc724a6dd1', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 28, 'created': '2017-07-07 04:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/58112082f0ba451d8f3b2b687b205a7a251da9f3', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 29, 'created': '2017-07-07 05:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c7872f6f5a5846edaebffc1bef5413c44ed88f68', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 30, 'created': '2017-07-07 05:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4f815933d3cafdfb88d40c40b5fcb1e30539c2c6', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 31, 'created': '2017-09-25 18:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/09c26f2c615d5458ecb19f3e67cc8981ae716674', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 32, 'created': '2017-10-23 05:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0733b62ad7421470163064e1b2d94afe2104bb46', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 33, 'created': '2017-11-30 04:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a02c7421b62f21607dfbb2a49fc9aeb639f53d2b', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 34, 'created': '2017-12-09 07:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/98e04a233618866f9f31687dfbc406450c5a08b1', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 35, 'created': '2017-12-09 07:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e9b9d7f878064b8921bf477c9f4e0250cdc10509', 'message': 'Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nThis patch introduces (and uses) the dibdevel and dibdevel-minimal\nelements that enable easy setup of a (minimal) development environment\nfor dib itself.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 36, 'created': '2018-04-22 09:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/45e4daaded60fd3e8fa03392205df4ed924f29b7', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 37, 'created': '2018-04-22 11:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cf2dec3d9a82e9bc2e1fbf36f43a0ae23bdc14c5', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 38, 'created': '2018-04-22 12:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e26d7d08010e12e20aeab26f1b5721094924bee7', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 39, 'created': '2018-04-22 12:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/122e4359cddfe4b216412dffdd8bc316db8bc705', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 40, 'created': '2018-04-22 12:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6667cb9d2f6ec433ffcbe9f472d8ed003bdf5abc', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 41, 'created': '2018-04-22 12:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6429f303441787c3cfe590eefe26010fb3cbfaf', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 42, 'created': '2018-04-22 15:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9620f268e68a49378b9ed6739446b699744a2bde', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 43, 'created': '2018-04-22 20:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/534ba6668b68202b1ea62df422bcff0e2f435452', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 44, 'created': '2018-04-22 20:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3bf1d8d74dee50e37f55d6067b7c2ef96e1abf82', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 45, 'created': '2018-04-22 20:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3f2d032af33b1f1298421d99dd9688ed0df2018e', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 46, 'created': '2018-04-22 20:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/be847e65027e46b2c117ff64f36c783b01982106', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 47, 'created': '2018-04-23 04:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b51f8b4d56f25142f18e91e2d1f636cbab91ab3d', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 48, 'created': '2018-04-23 06:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/de3650d184b5bf21cd37848d704c08445e1d226d', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 49, 'created': '2018-04-23 06:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/bb90e75fcad4cce0e6355aed3452021782c328f5', 'message': 'IP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 50, 'created': '2018-04-23 07:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eebec1bd40893b13dcc5fa6c060e6b176512577c', 'message': 'IP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 51, 'created': '2018-04-23 07:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b9c93e9582fedfe2b84cc764606b2bdc0ed0f7c', 'message': 'IP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 52, 'created': '2018-04-24 06:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a4f6fdeea5e93495952271dca094e6bf363287e2', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 53, 'created': '2018-05-04 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d28a39a7d2a1e148efee344ee8a989b14a2de3d3', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}, {'number': 54, 'created': '2019-11-07 23:58:34.000000000', 'files': ['tests/elements/dibdevel/install.d/60-install-setup', 'tests/elements/dibdevel-minimal/Readme.rst', '.gitignore', 'tests/docker_matrix_build_collect.py', 'playbooks/matrix/dib-matrix-build-amd64/post.yaml', 'tests/elements/dibdevel-minimal/package-installs.yaml', 'tests/README.rst', 'tests/elements/dibdevel-minimal/element-deps', 'tests/elements/dibdevel/Readme.rst', 'tests/elements/dibdevel/package-installs.yaml', 'tests/elements/dibdevel/pkg-map', 'tests/docker_matrix_build_run.sh', 'tests/elements/dibdevel-minimal/environment.d/05-set-environment', 'tests/supported_distros.yaml', 'playbooks/matrix/dib-matrix-build-amd64/run.yaml', 'tests/docker_matrix_build_gen.py', 'tests/elements/dibdevel-minimal/pre-install.d/10-portage-adaptions', 'tests/elements/dibdevel/element-deps', 'releasenotes/notes/element_dibdevel-minimal_initial-0d813e851bffbcfe.yaml', 'tests/elements/dibdevel-minimal/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2f915c373274b36002c7bb2544cc9639ebca4405', 'message': 'WIP: Docker matrix build\n\nAdd a new test set:\nall supported target distributions and releases are build\nwithin each supported build distribution and release.\n\nChange-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e\nSigned-off-by: Andreas Florath <andreas@florath.net>\n'}]",4,414347,2f915c373274b36002c7bb2544cc9639ebca4405,176,8,54,21741,,,0,"WIP: Docker matrix build

Add a new test set:
all supported target distributions and releases are build
within each supported build distribution and release.

Change-Id: Ia04f7a77935c20e4d6b3f179f1d3c380d123482e
Signed-off-by: Andreas Florath <andreas@florath.net>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/47/414347/53 && git format-patch -1 --stdout FETCH_HEAD,"['tests/elements/dibdevel/install.d/60-install-setup', 'tests/elements/dibdevel-minimal/Readme.rst', 'tests/elements/dibdevel-minimal/environment.d/05-set-environment', 'tests/elements/dibdevel-minimal/package-installs.yaml', 'tests/elements/dibdevel-minimal/element-deps', 'tests/elements/dibdevel/Readme.rst', 'tests/elements/dibdevel/package-installs.yaml', 'tests/elements/dibdevel/element-deps', 'releasenotes/notes/element_dibdevel-minimal_initial-0d813e851bffbcfe.yaml']",9,7a2fa36370965cb39439a6d197284f3350789801,matrix_build_002,--- features: - Element dibdevel-minimal can be used for setting up a environments for tests to run dib itself. - Element dibdevel can be used to set up a complete development environment VM. ,,145,0
openstack%2Fopenstack-ansible~master~Ieb28562c125e6d198f951b4d0354c3cfb28d0e87,openstack/openstack-ansible,master,Ieb28562c125e6d198f951b4d0354c3cfb28d0e87,Switch upgrade jobs to Ussuri cycle,MERGED,2019-11-01 07:49:16.000000000,2019-11-08 01:15:00.000000000,2019-11-08 01:11:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-01 07:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4dc199e59649328e976191068e4a5cc001c7064f', 'message': 'Switch upgrade jobs to Ussuri cycle\n\nChange-Id: Ieb28562c125e6d198f951b4d0354c3cfb28d0e87\n'}, {'number': 2, 'created': '2019-11-05 16:34:05.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/035136af6cc7a4634d6693421f94b706140b6fe1', 'message': 'Switch upgrade jobs to Ussuri cycle\n\nDepends-On: https://review.opendev.org/693043\nChange-Id: Ieb28562c125e6d198f951b4d0354c3cfb28d0e87\n'}]",0,692509,035136af6cc7a4634d6693421f94b706140b6fe1,14,4,2,28619,,,0,"Switch upgrade jobs to Ussuri cycle

Depends-On: https://review.opendev.org/693043
Change-Id: Ieb28562c125e6d198f951b4d0354c3cfb28d0e87
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/692509/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,4dc199e59649328e976191068e4a5cc001c7064f,add-upgrade-jobs,export UPGRADE_SOURCE_BRANCH=${UPGRADE_SOURCE_BRANCH:-'stable/train'},export UPGRADE_SOURCE_BRANCH=${UPGRADE_SOURCE_BRANCH:-'stable/stein'},1,1
openstack%2Fopenstack-ansible~master~If267932f31c2f78bbb271f3d7891cf86b00611c6,openstack/openstack-ansible,master,If267932f31c2f78bbb271f3d7891cf86b00611c6,Bump SHAs for master,MERGED,2019-11-06 12:13:04.000000000,2019-11-08 01:13:38.000000000,2019-11-08 01:11:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-06 12:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13d6063a8bf7cf815b2f758b27d31afb110f6d5c', 'message': 'Bump SHAs for master\n\nChange-Id: If267932f31c2f78bbb271f3d7891cf86b00611c6\n'}, {'number': 2, 'created': '2019-11-06 12:17:41.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7175343560b42baeab483f46cb5dcb62fd781384', 'message': 'Bump SHAs for master\n\nChange-Id: If267932f31c2f78bbb271f3d7891cf86b00611c6\n'}]",0,693163,7175343560b42baeab483f46cb5dcb62fd781384,9,3,2,28619,,,0,"Bump SHAs for master

Change-Id: If267932f31c2f78bbb271f3d7891cf86b00611c6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/693163/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",4,13d6063a8bf7cf815b2f758b27d31afb110f6d5c,bump_osa,tempest_git_install_branch: 9cdd5250615bb6ab26a1a9a80743a03cc81b3b4a # HEAD as of 06.11.2019,tempest_git_install_branch: 52d7083f76c3b48650a7e6cda5fdad03332b51ed # HEAD as of 24.10.2019,48,48
openstack%2Freleases~master~I5142a359198d8e147e2b2d8ec64dc9444b75d3aa,openstack/releases,master,I5142a359198d8e147e2b2d8ec64dc9444b75d3aa,Add Ussuri cycle schedule for keystone,MERGED,2019-10-18 17:04:46.000000000,2019-11-08 01:03:16.000000000,2019-11-08 01:03:16.000000000,"[{'_account_id': 308}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-18 17:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7e8c60e8115b7e9ff73e6807cd7b240d01858777', 'message': 'Add Ussuri cycle schedule for keystone\n\nChange-Id: I5142a359198d8e147e2b2d8ec64dc9444b75d3aa\n'}, {'number': 2, 'created': '2019-10-22 16:11:30.000000000', 'files': ['doc/source/ussuri/schedule.rst', 'doc/source/ussuri/schedule.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f6a70ce94dce297598ea02ca4b52f165ed5287e8', 'message': 'Add Ussuri cycle schedule for keystone\n\nChange-Id: I5142a359198d8e147e2b2d8ec64dc9444b75d3aa\n'}]",1,689549,f6a70ce94dce297598ea02ca4b52f165ed5287e8,13,6,2,16465,,,0,"Add Ussuri cycle schedule for keystone

Change-Id: I5142a359198d8e147e2b2d8ec64dc9444b75d3aa
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/689549/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ussuri/schedule.yaml', 'doc/source/stein/schedule.rst']",2,7e8c60e8115b7e9ff73e6807cd7b240d01858777,keystone-schedule," Keystone -------- .. _u-keystone-spec-proposal-freeze: Keystone Spec Proposal Freeze ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ All Keystone specs targeted to Ussuri must be submitted to the keystone-specs repository by the end of the week. .. _u-keystone-spec-freeze: Keystone Spec Freeze ^^^^^^^^^^^^^^^^^^^^ All Keystone specs targeted to Ussuri must be approved by the end of the week. .. _u-keystone-fpfreeze: Keystone Feature Proposal Freeze ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ All new Keystone features must be proposed and substantially completed, with unit tests and documentation by the end of the week. .. _u-keystone-ffreeze: Keystone Feature Freeze ^^^^^^^^^^^^^^^^^^^^^^^ All new Keystone features must be merged by the end of the week.",,37,0
openstack%2Foslo.context~master~Ic724128e1f087f4f19ec3519ab7d7a3174e35f60,openstack/oslo.context,master,Ic724128e1f087f4f19ec3519ab7d7a3174e35f60,Blacklist sphinx 2.1.0 (autodoc bug),ABANDONED,2019-10-10 06:22:42.000000000,2019-11-08 00:57:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-10 06:22:42.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/327cd7d2a1a31629e97c64abbbba9ad91fe2bc12', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Ic724128e1f087f4f19ec3519ab7d7a3174e35f60\n'}]",0,687784,327cd7d2a1a31629e97c64abbbba9ad91fe2bc12,4,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Ic724128e1f087f4f19ec3519ab7d7a3174e35f60
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/84/687784/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,327cd7d2a1a31629e97c64abbbba9ad91fe2bc12,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fvitrage-dashboard~master~Ifd42e568604a4c5e96494eede1197392f4d1fc70,openstack/vitrage-dashboard,master,Ifd42e568604a4c5e96494eede1197392f4d1fc70,Stop testing python2.7,ABANDONED,2019-10-28 06:53:30.000000000,2019-11-08 00:52:06.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-28 06:53:30.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/4fae3aea87835bb0f35818ac0f5e5ae1be1c06fc', 'message': 'Stop testing python2.7\n\nChange-Id: Ifd42e568604a4c5e96494eede1197392f4d1fc70\n'}]",0,691613,4fae3aea87835bb0f35818ac0f5e5ae1be1c06fc,5,3,1,30384,,,0,"Stop testing python2.7

Change-Id: Ifd42e568604a4c5e96494eede1197392f4d1fc70
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/13/691613/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,4fae3aea87835bb0f35818ac0f5e5ae1be1c06fc,,"envlist = py37,pep8,npm","envlist = py27,py37,pep8,npm",1,3
openstack%2Fpuppet-tripleo~master~Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6,openstack/puppet-tripleo,master,Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6,Latest redis version requires 'connect' argument before proceeding,ABANDONED,2019-11-07 21:50:57.000000000,2019-11-08 00:51:15.000000000,,"[{'_account_id': 7130}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 21:50:57.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b6e0057df97c107d3e9c0ecdd2cb49a3a89d321e', 'message': ""Latest redis version requires 'connect' argument before proceeding\n\nLatest redis version requires 'connect' argument before proceeding\n\nChange-Id: Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6\n""}]",3,693434,b6e0057df97c107d3e9c0ecdd2cb49a3a89d321e,7,4,1,7130,,,0,"Latest redis version requires 'connect' argument before proceeding

Latest redis version requires 'connect' argument before proceeding

Change-Id: Idd6d03f144d8c732c51f787b0d48d1afcd22f4c6
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/34/693434/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,b6e0057df97c107d3e9c0ecdd2cb49a3a89d321e,," 'tcp-check' => union($redis_tcp_check_options, ['connect', 'send PING\r\n',"," 'tcp-check' => union($redis_tcp_check_options, ['send PING\r\n',",2,1
openstack%2Frequirements~master~Icd7dcb67102c2ac6137d7307c071315e9f680358,openstack/requirements,master,Icd7dcb67102c2ac6137d7307c071315e9f680358,Stop testing python2.7,ABANDONED,2019-10-28 06:14:29.000000000,2019-11-08 00:51:14.000000000,,"[{'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 06:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/45fea11ee0ac959c5c894b06896069010373ecbb', 'message': 'Stop testing python2.7\n\nChange-Id: Icd7dcb67102c2ac6137d7307c071315e9f680358\n'}, {'number': 2, 'created': '2019-10-29 00:53:02.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f4837ad2181a9cb7d57b9c79af16e176f9eeffa8', 'message': 'Stop testing python2.7\n\nChange-Id: Icd7dcb67102c2ac6137d7307c071315e9f680358\n'}]",1,691596,f4837ad2181a9cb7d57b9c79af16e176f9eeffa8,10,3,2,30384,,,0,"Stop testing python2.7

Change-Id: Icd7dcb67102c2ac6137d7307c071315e9f680358
",git fetch https://review.opendev.org/openstack/requirements refs/changes/96/691596/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,45fea11ee0ac959c5c894b06896069010373ecbb,,"envlist = validate,py37,pep8,pip-install","envlist = validate,py27,py37,pep8,pip-install",1,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,openstack/tripleo-heat-templates,stable/stein,Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,"Add ""radvd_user"" config parameter to Neutron L3 container",MERGED,2019-11-05 11:52:25.000000000,2019-11-08 00:41:29.000000000,2019-11-08 00:40:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 11:52:25.000000000', 'files': ['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98032a162d086328ca13056ed3f7dd5d1486c43f', 'message': 'Add ""radvd_user"" config parameter to Neutron L3 container\n\nThe username passed to radvd, used to drop root privileges and change\nuser ID to username and group ID to the primary group of username. If no\nuser specified, the user executing the L3 agent will be passed. If ""root""\nspecified, because radvd is spawned as root, no ""username"" parameter\nwill be passed\n\nConflicts:\n      deployment/neutron/neutron-l3-container-puppet.yaml\n\nChange-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a\nCloses-Bug: #1844688\n(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)\n(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)\n'}]",0,692986,98032a162d086328ca13056ed3f7dd5d1486c43f,13,4,1,16688,,,0,"Add ""radvd_user"" config parameter to Neutron L3 container

The username passed to radvd, used to drop root privileges and change
user ID to username and group ID to the primary group of username. If no
user specified, the user executing the L3 agent will be passed. If ""root""
specified, because radvd is spawned as root, no ""username"" parameter
will be passed

Conflicts:
      deployment/neutron/neutron-l3-container-puppet.yaml

Change-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a
Closes-Bug: #1844688
(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)
(cherry picked from commit c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/692986/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml']",2,98032a162d086328ca13056ed3f7dd5d1486c43f,bug/1844688," NeutronL3AgentRadvdUser: default: ""root"" description: | The username passed to radvd, used to drop root privileges and change user ID to username and group ID to the primary group of username. If no user specified, the user executing the L3 agent will be passed. If ""root"" specified, because radvd is spawned as root, no ""username"" parameter will be passed type: string - neutron::agents::l3::radvd_user: {get_param: NeutronL3AgentRadvdUser}",,17,0
openstack%2Ftripleo-common~master~Ia9e291d476d3143b194ce06002a0c1745cf3ef94,openstack/tripleo-common,master,Ia9e291d476d3143b194ce06002a0c1745cf3ef94,"Revert ""Set display_skipped_host to no""",MERGED,2019-11-05 21:45:17.000000000,2019-11-08 00:21:04.000000000,2019-11-08 00:19:28.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 21:45:17.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/efe21cdecbba5a17dfe805e238865c8fd696c39d', 'message': 'Revert ""Set display_skipped_host to no""\n\ndisplay_skipped_hosts=no has the unfortunate side effect of not showing\nthe running task name until the task has returned. The reason is b/c the\ntask name won\'t be shown at all if all hosts are skipped, but that won\'t\nbe known until the task returns.\n\nFor long running tasks, this can be quite misleading as the running task\nname is not seen until it returns. This makes debugging difficult, and users\ndon\'t know what task is actually running until it\'s completed.\n\nThere is an option to show the task name as soon as it starts executing,\nbut it was not added until ansible-2.9:\nhttps://github.com/ansible/ansible/pull/53819\n\nSee also https://github.com/ansible/ansible/issues/51042\n\nThis reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.\n\nChange-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94\n'}]",2,693086,efe21cdecbba5a17dfe805e238865c8fd696c39d,11,5,1,7144,,,0,"Revert ""Set display_skipped_host to no""

display_skipped_hosts=no has the unfortunate side effect of not showing
the running task name until the task has returned. The reason is b/c the
task name won't be shown at all if all hosts are skipped, but that won't
be known until the task returns.

For long running tasks, this can be quite misleading as the running task
name is not seen until it returns. This makes debugging difficult, and users
don't know what task is actually running until it's completed.

There is an option to show the task name as soon as it starts executing,
but it was not added until ansible-2.9:
https://github.com/ansible/ansible/pull/53819

See also https://github.com/ansible/ansible/issues/51042

This reverts commit 403535c5722cda7cdc7573b009046fb0c2f86c7c.

Change-Id: Ia9e291d476d3143b194ce06002a0c1745cf3ef94
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/693086/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,efe21cdecbba5a17dfe805e238865c8fd696c39d,,," # suppress tasks if all hosts skip, was previously full_skip callback config.set('defaults', 'display_skipped_hosts', 'no')",0,2
openstack%2Fopenstack-ansible-os_zun~master~Iddd3f069e9a52364b6d9b9697d080b03920f573a,openstack/openstack-ansible-os_zun,master,Iddd3f069e9a52364b6d9b9697d080b03920f573a,Update master for stable/train,MERGED,2019-10-22 19:03:06.000000000,2019-11-07 23:48:06.000000000,2019-11-07 23:46:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-22 19:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4939a480dfe10ff565d643968d953a4edc767609', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iddd3f069e9a52364b6d9b9697d080b03920f573a\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-11-07 16:00:46.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/c526498354b9e32c29273bb141a4c7046a157328', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iddd3f069e9a52364b6d9b9697d080b03920f573a\nSem-Ver: feature\n'}]",0,690310,c526498354b9e32c29273bb141a4c7046a157328,10,3,2,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iddd3f069e9a52364b6d9b9697d080b03920f573a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/10/690310/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,4939a480dfe10ff565d643968d953a4edc767609,reno-train, train,,7,0
openstack%2Fopenstack-ansible-os_zun~master~I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5,openstack/openstack-ansible-os_zun,master,I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5,Updated from OpenStack Ansible Tests,MERGED,2019-10-23 17:26:41.000000000,2019-11-07 23:46:12.000000000,2019-11-07 23:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-23 17:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/51ea56367ca03f48ba52f1a5d0a5acb2cace6b74', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5\n'}, {'number': 2, 'created': '2019-11-07 16:01:18.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/f365d731d452130b39e18fd981d5b3ed34a1e334', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5\n'}]",0,690691,f365d731d452130b39e18fd981d5b3ed34a1e334,11,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I3a3c7bbccba4ebb9c176081e1f71e7d44d606fa5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/91/690691/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,51ea56367ca03f48ba52f1a5d0a5acb2cace6b74,openstack/openstack-ansible-tests/sync-tests,"sphinx>=1.8.0,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD sphinxcontrib-svg2pdfconverter>=0.1.0 # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",2,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I30142db8bfa55412b8c8224aeb05916184117666,openstack/puppet-tripleo,stable/queens,I30142db8bfa55412b8c8224aeb05916184117666,Qdr: InternalTLS support.,MERGED,2019-10-29 16:15:20.000000000,2019-11-07 23:31:44.000000000,2019-11-07 23:31:44.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-10-29 16:15:20.000000000', 'files': ['files/certmonger-metrics-qdr-refresh.sh', 'manifests/profile/base/metrics/qdr.pp', 'manifests/certmonger/metrics_qdr.pp', 'manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ffdfe7b2c2d51a157e056825045fb45a050784fc', 'message': 'Qdr: InternalTLS support.\n\nConfiguration changes to provide Internal TLS support\nfor Qdr.\n\nChange-Id: I30142db8bfa55412b8c8224aeb05916184117666\n(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)\n(cherry picked from commit 6192a54b6c882c8b27e72559bdc6582269d11174)\n'}]",0,691907,ffdfe7b2c2d51a157e056825045fb45a050784fc,10,6,1,5241,,,0,"Qdr: InternalTLS support.

Configuration changes to provide Internal TLS support
for Qdr.

Change-Id: I30142db8bfa55412b8c8224aeb05916184117666
(cherry picked from commit be82c8690678e199e5fe95242c884f943531597b)
(cherry picked from commit 6192a54b6c882c8b27e72559bdc6582269d11174)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/07/691907/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-metrics-qdr-refresh.sh', 'manifests/profile/base/metrics/qdr.pp', 'manifests/certmonger/metrics_qdr.pp', 'manifests/profile/base/certmonger_user.pp']",4,ffdfe7b2c2d51a157e056825045fb45a050784fc,missing-patch,"# [*qdr_certificate_specs*] # (Optional) The specifications to give to certmonger fot the certificate(s) # it will create. # Defaults to hiera('tripleo::profile::base::metrics::qdr::certificate_specs', {}). # $qdr_certificate_specs = hiera('tripleo::profile::base::metrics::qdr::certificate_specs', {}), unless empty($qdr_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::metrics_qdr', $qdr_certificate_specs) }",,135,0
openstack%2Ftripleo-puppet-elements~master~I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,openstack/tripleo-puppet-elements,master,I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb,Use chkconfig,MERGED,2019-11-07 15:19:33.000000000,2019-11-07 23:22:12.000000000,2019-11-07 23:18:48.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 15:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e6c55c51014afe033d6cf0ced8a6a4e490b57b18', 'message': ""Add chkconfig requirement\n\nThe network.service is a legacy config that requires /etc/rc0.d exists.\nThis is provided by chkconfig so let's make sure that's installed before\nwe try and enable the service.\n\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n""}, {'number': 2, 'created': '2019-11-07 16:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/659c343d4c8470a06377772535fcf93ce4f3f624', 'message': ""Add chkconfig requirement\n\nThe network.service is a legacy config that requires /etc/rc0.d exists.\nThis is provided by chkconfig so let's make sure that's installed before\nwe try and enable the service.\n\nDepends-On: https://review.opendev.org/#/c/693379/\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n""}, {'number': 3, 'created': '2019-11-07 19:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8286d2cf8ec773af95cf94ee8c609e26016752fd', 'message': 'Use chkconfig\n\nThe network.service is a legacy config. Use chkconfig directly instead\nof the systemctl version.\n\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n'}, {'number': 4, 'created': '2019-11-07 19:28:09.000000000', 'files': ['elements/overcloud-base/post-install.d/51-enable-network-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/63859da17b4f4e25b4817950544a5daf50270e8a', 'message': 'Use chkconfig\n\nThe network.service is a legacy config. Use chkconfig directly instead\nof the systemctl version.\n\nDepends-On: https://review.opendev.org/#/c/693379/\nChange-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb\nCloses-Bug: #1851274\n'}]",0,693370,63859da17b4f4e25b4817950544a5daf50270e8a,18,5,4,14985,,,0,"Use chkconfig

The network.service is a legacy config. Use chkconfig directly instead
of the systemctl version.

Depends-On: https://review.opendev.org/#/c/693379/
Change-Id: I1614da55b3e76ef8cca715cd3e1897bc76a2a3fb
Closes-Bug: #1851274
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/70/693370/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map']",2,e6c55c51014afe033d6cf0ced8a6a4e490b57b18,bug/1851274," ""chkconfig"": ""chkconfig"",",,2,0
openstack%2Ftripleo-heat-templates~master~I382b472185f445e5d81077bc50b4c9cb65285530,openstack/tripleo-heat-templates,master,I382b472185f445e5d81077bc50b4c9cb65285530,Fix debug hiera keys,MERGED,2019-11-07 15:32:33.000000000,2019-11-07 23:16:29.000000000,2019-11-07 23:16:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 15:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d87d54f9ac9faaa55c2d635853f12bfa6fa8bcf', 'message': 'Fix mistral debug hiera key\n\nThe correct key to configure mistral debug is mistral::logging::debug\nnot mistral::debug.\n\nChange-Id: I382b472185f445e5d81077bc50b4c9cb65285530\nCloses-Bug: #1851667\n'}, {'number': 2, 'created': '2019-11-07 15:40:15.000000000', 'files': ['deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/manila/manila-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf3fa9d77dff583ba62484f21d1ca150cfb73ecf', 'message': 'Fix debug hiera keys\n\nThe correct key to configure mistral debug is mistral::logging::debug\nnot mistral::debug. The same is true for heat, manila and sahara.\n\nChange-Id: I382b472185f445e5d81077bc50b4c9cb65285530\nCloses-Bug: #1851667\n'}]",0,693375,cf3fa9d77dff583ba62484f21d1ca150cfb73ecf,13,5,2,14985,,,0,"Fix debug hiera keys

The correct key to configure mistral debug is mistral::logging::debug
not mistral::debug. The same is true for heat, manila and sahara.

Change-Id: I382b472185f445e5d81077bc50b4c9cb65285530
Closes-Bug: #1851667
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/693375/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-base.yaml'],1,3d87d54f9ac9faaa55c2d635853f12bfa6fa8bcf,bug/1851667, mistral::logging::debug:, mistral::debug:,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/stein,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:46:21.000000000,2019-11-07 23:07:56.000000000,2019-11-07 23:07:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 14:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/858f9b642ab560e0f2112dd13b018e104b66c750', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nConflicts:\n        deployment/keystone/keystone-container-puppet.yaml\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}, {'number': 2, 'created': '2019-11-06 14:47:12.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f29003fa18d301803cc66734616af5e374bfe7fa', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nConflicts:\n        deployment/keystone/keystone-container-puppet.yaml\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}]",0,693188,f29003fa18d301803cc66734616af5e374bfe7fa,14,5,2,14985,,,0,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        deployment/keystone/keystone-container-puppet.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/693188/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,858f9b642ab560e0f2112dd13b018e104b66c750,bug/1811005," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] environment: KOLLA_BOOTSTRAP: true KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ] keystone_cron: start_order: 4 image: *keystone_image user: root net: host privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron keystone' command: ['/bin/bash', '-c', '/usr/local/bin/kolla_set_configs && /usr/sbin/crond -n'] volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS",7,19
openstack%2Ftripleo-common~master~I4821b7ca0260e4dfd1717ba976cef700d160f84f,openstack/tripleo-common,master,I4821b7ca0260e4dfd1717ba976cef700d160f84f,WIP - Implement tripleo-systemd-wrapper role,ABANDONED,2018-11-12 19:30:47.000000000,2019-11-07 23:07:47.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7385}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2018-11-12 19:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44b12c37bd620031dbcc1a8b957e9e49af82536c', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 2, 'created': '2018-11-12 23:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab89bf8342fcaa2f55761ee566187a0bd887f6e7', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 3, 'created': '2018-11-12 23:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a7269a3597404f855405be184d85dbefdca0aa79', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 4, 'created': '2018-11-13 13:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/17d01f0dce1047542688e7141f8cd28cf6dbca92', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 5, 'created': '2018-11-13 14:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7582603425932cde17130955b595641e7bc0f82f', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 6, 'created': '2018-11-13 17:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1521f80cc9955c34cc9534cd572aa66c3965dc95', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 7, 'created': '2018-11-13 17:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be8ab0cb8e3efa93eac1ff2c620031043775ecc3', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 8, 'created': '2018-11-13 23:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2f87babc5e2e11642e568735a950812f8354c9fa', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 9, 'created': '2018-11-14 19:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01c2e591d55b8e5f4634988605b2485d74f3a4b7', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 10, 'created': '2018-11-16 19:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1a0fd026f6f075f2ea1978275a1f8b7ce165f1af', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 11, 'created': '2018-11-16 19:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2f2edcaa879594b40dde60be624ee6f8f1b56235', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 12, 'created': '2018-11-16 20:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/da79d7bfdcad11b29515069b40319f359d6b4d24', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 13, 'created': '2018-11-16 20:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e0a867ea8526e8fef6261ffdfa3025ca7230342', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 14, 'created': '2018-11-16 22:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03dd27bf140b3373843f3b1b75ee9a62ddd5d46d', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 15, 'created': '2018-11-19 12:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62bc831dbdffa3da080e169536fec9709b8eb441', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}, {'number': 16, 'created': '2018-11-19 12:53:38.000000000', 'files': ['roles/tripleo-systemd-wrapper/templates/service.service.j2', 'releasenotes/notes/tripleo-systemd-wrapper-eef011097e6aba42.yaml', 'roles/tripleo-systemd-wrapper/templates/service_wrapper.j2', 'roles/tripleo-systemd-wrapper/defaults/main.yaml', 'roles/tripleo-systemd-wrapper/templates/service.path.j2', 'roles/tripleo-systemd-wrapper/tasks/main.yaml', 'roles/tripleo-systemd-wrapper/templates/service_sync.j2', 'roles/tripleo-systemd-wrapper/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d220329050b1f04f3a2b06d7683385819532d7f', 'message': 'WIP - Implement tripleo-systemd-wrapper role\n\nThis patch adds a new role that will be used to manage side containers\nwith SystemD instead of docker.socket or nsenter.\nThe main use case here is Neutron, although this role is designed to\nwork with any service.\n\nIt is highly work in progress right now.\n\nChange-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f\nCo-Authored-By: Dan Prince <dprince@redhat.com>\n'}]",17,617377,2d220329050b1f04f3a2b06d7683385819532d7f,41,9,16,3153,,,0,"WIP - Implement tripleo-systemd-wrapper role

This patch adds a new role that will be used to manage side containers
with SystemD instead of docker.socket or nsenter.
The main use case here is Neutron, although this role is designed to
work with any service.

It is highly work in progress right now.

Change-Id: I4821b7ca0260e4dfd1717ba976cef700d160f84f
Co-Authored-By: Dan Prince <dprince@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/617377/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-systemd-wrapper/templates/service.service.j2', 'releasenotes/notes/tripleo-systemd-wrapper-eef011097e6aba42.yaml', 'roles/tripleo-systemd-wrapper/templates/service_wrapper.j2', 'roles/tripleo-systemd-wrapper/defaults/main.yaml', 'roles/tripleo-systemd-wrapper/templates/service.path.j2', 'roles/tripleo-systemd-wrapper/tasks/main.yaml', 'roles/tripleo-systemd-wrapper/templates/service_sync.j2', 'roles/tripleo-systemd-wrapper/README.md']",8,44b12c37bd620031dbcc1a8b957e9e49af82536c,systemd-wrappers,tripleo-systemd-wrapper ======================= An Ansible role to manage systemd wrappers in TripleO. Requirements ------------ It requires systemd on the host. This role isn't designed nor tested to run within a container. Role variables -------------- - systemd_wrapper_service_name: -- Name of the service to wrap in Systemd. - systemd_wrapper_service_dir: -- Directory where state files will be created. Example Playbook ---------------- Sample playbook to call the role: - name: Create Neutron dnsmasq SystemD wrapper hosts: all roles: - tripleo-systemd-wrapper vars: systemd_wrapper_service_name: neutron-dnsmasq systemd_wrapper_service_dir: /var/lib/neutron License ------- Free software: Apache License (2.0) Author Information ------------------ OpenStack TripleO team ,,146,0
openstack%2Ftripleo-ci~master~I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2,openstack/tripleo-ci,master,I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2,Remove all prepopulated repos on base image,MERGED,2019-11-07 14:41:51.000000000,2019-11-07 22:54:28.000000000,2019-11-07 22:54:28.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 14:41:51.000000000', 'files': ['roles/build-containers/templates/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e5fee134e6e521f4ebe74e59ee3c2546b8d0061', 'message': 'Remove all prepopulated repos on base image\n\nChange-Id: I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2\n'}]",0,693365,5e5fee134e6e521f4ebe74e59ee3c2546b8d0061,8,4,1,10969,,,0,"Remove all prepopulated repos on base image

Change-Id: I3a77c1087d1e2cf8603261d161c3ad18bb28d1b2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/65/693365/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/Dockerfile.j2'],1,5e5fee134e6e521f4ebe74e59ee3c2546b8d0061,rhui,RUN rm -f /etc/yum.repos.d/delorean*,,1,0
openstack%2Ftripleo-ci~master~Ic856ce498cc6aacdf0ba2539a468c7972fa6596c,openstack/tripleo-ci,master,Ic856ce498cc6aacdf0ba2539a468c7972fa6596c,Rename delorean deps repo according to new name,MERGED,2019-11-07 15:41:44.000000000,2019-11-07 22:54:27.000000000,2019-11-07 22:54:27.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 15:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f4a65e63800d6cc0a25ad3946b375432b2e9feba', 'message': 'Rename delorean deps repo according to new name\n\nChange-Id: Ic856ce498cc6aacdf0ba2539a468c7972fa6596c\n'}, {'number': 2, 'created': '2019-11-07 16:22:22.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3b20929814dbbbe1813eb8707228433c733287c8', 'message': 'Rename delorean deps repo according to new name\n\nChange-Id: Ic856ce498cc6aacdf0ba2539a468c7972fa6596c\n'}]",0,693379,3b20929814dbbbe1813eb8707228433c733287c8,13,4,2,10969,,,0,"Rename delorean deps repo according to new name

Change-Id: Ic856ce498cc6aacdf0ba2539a468c7972fa6596c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/693379/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,f4a65e63800d6cc0a25ad3946b375432b2e9feba,newrepo," dib_yum_repo_conf: "" /etc/yum.repos.d/delorean.repo /etc/yum.repos.d/delorean-rhel8-{{ release|default('master') }}-deps.repo /etc/yum.repos.d/rh-cloud.repo """," dib_yum_repo_conf: "" /etc/yum.repos.d/delorean.repo /etc/yum.repos.d/rhel8-{{ release|default('master') }}-deps.repo /etc/yum.repos.d/rh-cloud.repo """,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,openstack/tripleo-heat-templates,stable/train,Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,Do not run rendering all_nodes data as group_vars in check mode,MERGED,2019-11-06 15:07:10.000000000,2019-11-07 22:54:25.000000000,2019-11-07 22:54:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 15:07:10.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04e2bb933c1dab90d1cfa6d3b822dbb11a62710e', 'message': 'Do not run rendering all_nodes data as group_vars in check mode\n\nWe don\'t want to run the ""Render all_nodes data as group_vars for overcloud""\ntasks in check mode, since it relies on the command ""whoami""; which\ndoesn\'t execute in check mode.\n\nChange-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f\n(cherry picked from commit 427e54164dd1369502aaca8993ec24671e192913)\n'}]",0,693194,04e2bb933c1dab90d1cfa6d3b822dbb11a62710e,13,5,1,3153,,,0,"Do not run rendering all_nodes data as group_vars in check mode

We don't want to run the ""Render all_nodes data as group_vars for overcloud""
tasks in check mode, since it relies on the command ""whoami""; which
doesn't execute in check mode.

Change-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f
(cherry picked from commit 427e54164dd1369502aaca8993ec24671e192913)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/693194/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,04e2bb933c1dab90d1cfa6d3b822dbb11a62710e,check-stable/train, when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool when: not ansible_check_mode|bool,,7,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/rocky,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:31:19.000000000,2019-11-07 22:54:24.000000000,2019-11-07 22:54:23.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 08:31:19.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d6051512982083e2012f183f2da99ce7892be6e', 'message': 'Mode 0750 for /var/log/containers\n\nLogs should not be world-readable, they contain sensitive informations.\n\nChange-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f\n(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)\n'}]",0,693314,1d6051512982083e2012f183f2da99ce7892be6e,10,5,1,3153,,,0,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/693314/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,1d6051512982083e2012f183f2da99ce7892be6e,rocky/logs, mode: 0750,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/queens,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:31:57.000000000,2019-11-07 22:54:22.000000000,2019-11-07 22:54:22.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 08:31:57.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f681baf4aedfd8754063236814e66fd3825d62ca', 'message': 'Mode 0750 for /var/log/containers\n\nLogs should not be world-readable, they contain sensitive informations.\n\nChange-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f\n(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)\n'}]",0,693315,f681baf4aedfd8754063236814e66fd3825d62ca,9,5,1,3153,,,0,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit de92a638f8bc8194024f5d6d8cd8352a3406dd5e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/693315/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,f681baf4aedfd8754063236814e66fd3825d62ca,rocky/logs-stable/queens, mode: 0750,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I05f27a40b52305759533ad0cac8d79a15448852e,openstack/tripleo-heat-templates,stable/stein,I05f27a40b52305759533ad0cac8d79a15448852e,Simplify and correct how we provide the undercloud.conf to mistral,MERGED,2019-11-07 10:48:08.000000000,2019-11-07 22:54:21.000000000,2019-11-07 22:54:20.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 10:48:08.000000000', 'files': ['deployment/mistral/mistral-executor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fec5139e5d9f126d4d0cf029aa5213eec2330f74', 'message': 'Simplify and correct how we provide the undercloud.conf to mistral\n\nBind-mounting a file from /home subdir is wrong. In addition, there\nwere some useless steps for the container configuration, like copying\nthe undercloud.conf to its final destination.\n\nThis patch intends to simplify those steps, and prevents SELinux issues.\n\nRelated change: If061d496a26c84e5027916c0d8f9153b129b451a\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n(cherry picked from commit 096816a238a861c986ec6697d012fa8d9e86156b)\n'}]",0,693334,fec5139e5d9f126d4d0cf029aa5213eec2330f74,9,6,1,28223,,,0,"Simplify and correct how we provide the undercloud.conf to mistral

Bind-mounting a file from /home subdir is wrong. In addition, there
were some useless steps for the container configuration, like copying
the undercloud.conf to its final destination.

This patch intends to simplify those steps, and prevents SELinux issues.

Related change: If061d496a26c84e5027916c0d8f9153b129b451a

Change-Id: I05f27a40b52305759533ad0cac8d79a15448852e
(cherry picked from commit 096816a238a861c986ec6697d012fa8d9e86156b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/693334/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-executor-container-puppet.yaml'],1,fec5139e5d9f126d4d0cf029aa5213eec2330f74,mistral_executor/undercloud.conf-stable/stein," undercloud_cfg_file: {get_param: UndercloudConfigFilePath} - name: copy undercloud.conf to /var/lib/mistral/ when: undercloud_cfg_file != '' copy: src: ""{{ undercloud_cfg_file }}"" dest: /var/lib/mistral/undercloud.conf mode: 0444 setype: svirt_sandbox_file_t"," undercloud_config_file_path_unset: {equals : [{get_param: UndercloudConfigFilePath}, '']} - if: - undercloud_config_file_path_unset - null - - source: '/var/lib/undercloud.conf' dest: '/var/lib/mistral/undercloud.conf' merge: true preserve_properties: true - if: - undercloud_config_file_path_unset - null - - list_join: - ':' - - {get_param: UndercloudConfigFilePath} - '/var/lib/undercloud.conf' - 'ro,z'",8,16
openstack%2Fopenstack-ansible-ops~master~I41b5d746a8f31018e15bd282b7a358d50610eabb,openstack/openstack-ansible-ops,master,I41b5d746a8f31018e15bd282b7a358d50610eabb,Update MNAIO to use python3,MERGED,2019-11-07 16:37:37.000000000,2019-11-07 22:44:12.000000000,2019-11-07 22:42:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-07 16:37:37.000000000', 'files': ['multi-node-aio/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/aa2522129829a0f702beb25afd7c941f09c8e6fa', 'message': 'Update MNAIO to use python3\n\nThis patch updates the bootstrap script for the MNAIO to use python3\nrather than python2.7. This only impacts the deploy node and not\ndeployed VMs.\n\nChange-Id: I41b5d746a8f31018e15bd282b7a358d50610eabb\n'}]",0,693388,aa2522129829a0f702beb25afd7c941f09c8e6fa,8,3,1,16011,,,0,"Update MNAIO to use python3

This patch updates the bootstrap script for the MNAIO to use python3
rather than python2.7. This only impacts the deploy node and not
deployed VMs.

Change-Id: I41b5d746a8f31018e15bd282b7a358d50610eabb
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/88/693388/1 && git format-patch -1 --stdout FETCH_HEAD,['multi-node-aio/bootstrap.sh'],1,aa2522129829a0f702beb25afd7c941f09c8e6fa,python3-support, sudo apt-get update && sudo apt-get install -y python3-dev lsb-release# Install pip3 if ! which pip3 &>/dev/null; then https://bootstrap.pypa.io/3.4/get-pip.py | sudo python3sudo pip3 install 'bindep>=2.4.0' tox sudo pip3 install ndg-httpsclientsudo pip3 install -r https://opendev.org/openstack/openstack-ansible-tests/raw/branch/${OSA_DEPS_BRANCH}/test-ansible-deps.txt, sudo apt-get update && sudo apt-get install -y python-dev lsb-release# Install pip if ! which pip &>/dev/null; then https://bootstrap.pypa.io/3.2/get-pip.py | sudo python2.7sudo pip install 'bindep>=2.4.0' tox sudo pip install ndg-httpsclientsudo pip install -r https://opendev.org/openstack/openstack-ansible-tests/raw/branch/${OSA_DEPS_BRANCH}/test-ansible-deps.txt,7,7
openstack%2Fnova~master~I39d93dbf8552605e34b9f146e3613e6af62a1774,openstack/nova,master,I39d93dbf8552605e34b9f146e3613e6af62a1774,Adjust log style and remove ocata support,MERGED,2018-06-19 09:43:34.000000000,2019-11-07 22:38:42.000000000,2018-07-17 00:46:29.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-06-19 09:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62161bdb02aa80f4ea9021d0d7b1f0f7807263ab', 'message': 'Adjust log style and remove ocata support\n\nwe already passed Pike cycle and should require compute to have\nPike+ version, the backport to Ocata can be removed.\n\nChange-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774\n'}, {'number': 2, 'created': '2018-06-20 06:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f869f9a393243a9c6b921c4b483931bae99daf3', 'message': 'Adjust log style and remove ocata support\n\nwe already passed Pike cycle and should require compute to have\nPike+ version, the backport to Ocata can be removed.\n\nChange-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774\n'}, {'number': 3, 'created': '2018-07-02 04:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e9e8a00c7bb1db00fb8942a371eaa1d955eb164', 'message': 'Adjust log style and remove ocata support\n\nwe already passed Pike cycle and should require compute to have\nPike+ version, the backport to Ocata can be removed.\n\nChange-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774\n'}, {'number': 4, 'created': '2018-07-16 06:55:56.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9602c431f3f348f2e6ff15973cdf13ab2aead20c', 'message': 'Adjust log style and remove ocata support\n\nwe already passed Pike cycle and should require compute to have\nPike+ version, the backport to Ocata can be removed.\n\nChange-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774\n'}]",7,576462,9602c431f3f348f2e6ff15973cdf13ab2aead20c,58,17,4,6062,,,0,"Adjust log style and remove ocata support

we already passed Pike cycle and should require compute to have
Pike+ version, the backport to Ocata can be removed.

Change-Id: I39d93dbf8552605e34b9f146e3613e6af62a1774
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/576462/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,62161bdb02aa80f4ea9021d0d7b1f0f7807263ab,remove_ocata," require_allocation_refresh = self.driver.requires_allocation_refresh if require_allocation_refresh: msg_allocation_refresh = ( ""Compute driver requires allocation refresh. "" else: msg_allocation_refresh = ( ""Compute driver doesn't require allocation refresh and we're "" ""on a compute host in a deployment that only has compute"" ""hosts with Nova versions >=16 (Pike). Skipping "" ""of auto-correction allocations. "") LOG.debug(msg_allocation_refresh)"," compute_version = objects.Service.get_minimum_version( context, 'nova-compute') has_ocata_computes = compute_version < 22 require_allocation_refresh = ( has_ocata_computes or self.driver.requires_allocation_refresh) msg_allocation_refresh = ( ""Compute driver doesn't require allocation refresh and we're on a "" ""compute host in a deployment that only has compute hosts with "" ""Nova versions >=16 (Pike). Skipping auto-correction of "" ""allocations. "") if require_allocation_refresh: if self.driver.requires_allocation_refresh: msg_allocation_refresh = ( ""Compute driver requires allocation refresh. "") elif has_ocata_computes: msg_allocation_refresh = ( ""We're on a compute host from Nova version >=16 (Pike or "" ""later) in a deployment with at least one compute host "" ""version <16 (Ocata or earlier). "") msg_allocation_refresh += ( if msg_allocation_refresh: LOG.debug(msg_allocation_refresh) msg_allocation_refresh = False",10,23
openstack%2Fnova~master~Ic0e93149d159ec2f4c15e6de006785f246c11b65,openstack/nova,master,Ic0e93149d159ec2f4c15e6de006785f246c11b65,Smaller project quota than user quota shouldn't be set,NEW,2019-08-23 08:56:23.000000000,2019-11-07 21:33:30.000000000,,"[{'_account_id': 4690}, {'_account_id': 8878}, {'_account_id': 9732}, {'_account_id': 10115}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23717}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-23 08:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8118652b41ca3b6a0039252406a3861f48fcd38d', 'message': ""Smaller project quota value than user quota value can't be set\n\nNormally, project quota can not be set smaller value than user\nquota, however this operation can be succeeded when previous\nproject quota value is unlimited.\nThis patch tries to fix this inconsistency and added some\ntest cases related to unlimited quota values.\n\nChange-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65\nCloses-Bug: #1841128\n""}, {'number': 2, 'created': '2019-08-23 08:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46090e09c59c70fff1fb7444ee1ca7095019615c', 'message': ""Smaller project quota value than user quota value can't be set\n\nNormally, project quota can not be set smaller value than user\nquota, however this operation can be succeeded when previous\nproject quota value is unlimited.\nThis patch tries to fix this inconsistency and added some\ntest cases related to unlimited quota values.\n\nChange-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65\nCloses-Bug: #1841128\n""}, {'number': 3, 'created': '2019-08-23 09:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07c98af2e1dc4e9248225f453826091ab55fe250', 'message': ""Smaller project quota than user quota shouldn't be set\n\nNormally, project quota can't be set smaller value than user\nquota, however this operation can be succeeded when previous\nproject quota value is unlimited.\nThis patch tries to fix this inconsistency and added some\ntest cases related to unlimited quota values.\n\nChange-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65\nCloses-Bug: #1841128\n""}, {'number': 4, 'created': '2019-08-24 16:31:38.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86e91a95995ee79ad63e0fdb9b0b176057dc0d0e', 'message': ""Smaller project quota than user quota shouldn't be set\n\nNormally, project quota can't be set smaller value than user\nquota, however this operation can be succeeded when previous\nproject quota value is unlimited.\nThis patch tries to fix this inconsistency and added some\ntest cases related to unlimited quota values.\n\nChange-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65\nCloses-Bug: #1841128\n""}]",6,678183,86e91a95995ee79ad63e0fdb9b0b176057dc0d0e,36,16,4,10115,,,0,"Smaller project quota than user quota shouldn't be set

Normally, project quota can't be set smaller value than user
quota, however this operation can be succeeded when previous
project quota value is unlimited.
This patch tries to fix this inconsistency and added some
test cases related to unlimited quota values.

Change-Id: Ic0e93149d159ec2f4c15e6de006785f246c11b65
Closes-Bug: #1841128
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/678183/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_quota.py', 'nova/quota.py']",2,8118652b41ca3b6a0039252406a3861f48fcd38d,bug/1841128," modified_quotas[resource.name].update(remains=limit, total_hard_limit=0 ) if not self._is_unlimited_value( modified_quotas[quota.resource]['limit']): modified_quotas[quota.resource]['remains'] -= \ quota.hard_limit else: # If the limit is unlimited, we can't use limit for calculation # Instead, we use total of hard_limit which user modified for # each resource to define minimum value of resources. _hard_limit = self._is_unlimited_value(quota.hard_limit) _total_hard_limit = self._is_unlimited_value( modified_quotas[quota.resource]['total_hard_limit']) if (not _hard_limit and not _total_hard_limit): modified_quotas[quota.resource]['total_hard_limit'] += \ quota.hard_limit else: modified_quotas[quota.resource]['total_hard_limit'] = \ self.UNLIMITED_VALUE int(value.get('total_hard_limit', 0)), ", modified_quotas[resource.name].update(remains=limit) modified_quotas[quota.resource]['remains'] -= \ quota.hard_limit ,66,22
openstack%2Fnova~stable%2Fstein~Idb205ab5b16bbf96965418cd544016fa9cc92de9,openstack/nova,stable/stein,Idb205ab5b16bbf96965418cd544016fa9cc92de9,Remove redundant call to get/create default security group,MERGED,2019-11-04 21:30:52.000000000,2019-11-07 21:32:49.000000000,2019-11-07 21:28:43.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a26d2cdb97c359d42b4081d3b5e87f6e898980', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}, {'number': 2, 'created': '2019-11-04 23:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/896e91a9172e72af51bb987432b44ec53a096768', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}, {'number': 3, 'created': '2019-11-05 03:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2921db824da7c4f0645054baf6e79f48504927f5', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}, {'number': 4, 'created': '2019-11-05 17:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac8eb5e2afbe72e1beb9c10b16e2f8cdc4636101', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\n Conflicts:\n\tgate/post_test_hook.sh\n\nNOTE(melwitt): The conflict is because of the difference from Train in\nthe patch below this one where we need to pass the cell1 config to the\narchive command because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}, {'number': 5, 'created': '2019-11-05 21:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52676aa57ce1e30d6d76b9db74e802fe02e2d5ae', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\n Conflicts:\n\tgate/post_test_hook.sh\n\nNOTE(melwitt): The conflict is because of the difference from Train in\nthe patch below this one where we need to pass the cell1 config to the\narchive command because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}, {'number': 6, 'created': '2019-11-05 23:39:29.000000000', 'files': ['gate/post_test_hook.sh', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a80eb82f675ae4c933158fc097094cbbbb96f9dd', 'message': ""Remove redundant call to get/create default security group\n\nIn the instance_create DB API method, it ensures the (legacy) default\nsecurity group gets created for the specified project_id if it does\nnot already exist. If the security group does not exist, it is created\nin a separate transaction.\n\nLater in the instance_create method, it reads the default security group\nback that it wrote earlier (via the same ensure default security group\ncode). But since it was written in a separate transaction, the current\ntransaction will not be able to see it and will get back 0 rows. So, it\ncreates a duplicate default security group record if project_id=NULL\n(which it will be, if running nova-manage db online_data_migrations,\nwhich uses an anonymous RequestContext with project_id=NULL). This\nsucceeds despite the unique constraint on project_id because in MySQL,\nunique constraints are only enforced on non-NULL values [1].\n\nTo avoid creation of a duplicate default security group for\nproject_id=NULL, we can use the default security group object that was\nreturned from the first security_group_ensure_default call earlier in\ninstance_create method and remove the second, redundant call.\n\nThis also breaks out the security groups setup code from a nested\nmethod as it was causing confusion during code review and is not being\nused for any particular purpose. Inspection of the original commit\nwhere it was added in 2012 [2] did not contain any comments about the\nnested method and it appeared to either be a way to organize the code\nor a way to reuse the 'models' module name as a local variable name.\n\nCloses-Bug: #1824435\n\n[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique\n[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339\n\n Conflicts:\n\tgate/post_test_hook.sh\n\nNOTE(melwitt): The conflict is because of the difference from Train in\nthe patch below this one where we need to pass the cell1 config to the\narchive command because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.\n\nChange-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9\n(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)\n(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)\n""}]",0,692907,a80eb82f675ae4c933158fc097094cbbbb96f9dd,36,8,6,4690,,,0,"Remove redundant call to get/create default security group

In the instance_create DB API method, it ensures the (legacy) default
security group gets created for the specified project_id if it does
not already exist. If the security group does not exist, it is created
in a separate transaction.

Later in the instance_create method, it reads the default security group
back that it wrote earlier (via the same ensure default security group
code). But since it was written in a separate transaction, the current
transaction will not be able to see it and will get back 0 rows. So, it
creates a duplicate default security group record if project_id=NULL
(which it will be, if running nova-manage db online_data_migrations,
which uses an anonymous RequestContext with project_id=NULL). This
succeeds despite the unique constraint on project_id because in MySQL,
unique constraints are only enforced on non-NULL values [1].

To avoid creation of a duplicate default security group for
project_id=NULL, we can use the default security group object that was
returned from the first security_group_ensure_default call earlier in
instance_create method and remove the second, redundant call.

This also breaks out the security groups setup code from a nested
method as it was causing confusion during code review and is not being
used for any particular purpose. Inspection of the original commit
where it was added in 2012 [2] did not contain any comments about the
nested method and it appeared to either be a way to organize the code
or a way to reuse the 'models' module name as a local variable name.

Closes-Bug: #1824435

[1] https://dev.mysql.com/doc/refman/8.0/en/create-index.html#create-index-unique
[2] https://review.opendev.org/#/c/8973/2/nova/db/sqlalchemy/api.py@1339

 Conflicts:
	gate/post_test_hook.sh

NOTE(melwitt): The conflict is because of the difference from Train in
the patch below this one where we need to pass the cell1 config to the
archive command because change
If133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.

Change-Id: Idb205ab5b16bbf96965418cd544016fa9cc92de9
(cherry picked from commit 6ea945e3b126879a86fe78d9c0537f5d258cf91a)
(cherry picked from commit 416290f1938631a95aaaf92a41f455ebf75b0732)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/692907/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/post_test_hook.sh', 'nova/db/sqlalchemy/api.py']",2,65a26d2cdb97c359d42b4081d3b5e87f6e898980,bug/1824435," default_group = security_group_ensure_default(context) # Gather the security groups for the instance sg_models = [] if 'default' in security_groups: sg_models.append(default_group) # Generate a new list, so we don't modify the original security_groups = [x for x in security_groups if x != 'default'] if security_groups: sg_models.extend(_security_group_get_by_names( context, security_groups)) instance_ref.security_groups = sg_models"," security_group_ensure_default(context) def _get_sec_group_models(security_groups): models = [] default_group = _security_group_ensure_default(context) if 'default' in security_groups: models.append(default_group) # Generate a new list, so we don't modify the original security_groups = [x for x in security_groups if x != 'default'] if security_groups: models.extend(_security_group_get_by_names( context, security_groups)) return models instance_ref.security_groups = _get_sec_group_models(security_groups)",12,19
openstack%2Fnova~stable%2Fstein~I204361d6ff7c2323bc744878d8a9fa2d20a480b1,openstack/nova,stable/stein,I204361d6ff7c2323bc744878d8a9fa2d20a480b1,Add regression test for bug 1824435,MERGED,2019-11-04 21:30:52.000000000,2019-11-07 21:31:23.000000000,2019-11-07 21:28:38.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e745f088e0b2d28221f7d56450e0d3a7f83137fd', 'message': 'Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\n Conflicts:\n\tgate/post_test_hook.sh\n\nNOTE(melwitt): The conflict is due to change\nIf86e4796a9db3020d4fdb751e8bc771c6f98aa47 which is not in Stein.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n'}, {'number': 2, 'created': '2019-11-04 23:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1dafb4162528cb630ff76d89420f24ce8538a47', 'message': 'Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\nNOTE(melwitt): The difference from the Train change is because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n'}, {'number': 3, 'created': '2019-11-05 03:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67f5fd333deb65c761fb8e72781443fd3a11888e', 'message': 'Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\nNOTE(melwitt): The difference from the Train change is because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n'}, {'number': 4, 'created': '2019-11-05 17:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee47d2851831afc2c56c2c074fa804866fca8de4', 'message': ""Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\nNOTE(melwitt): The differences from the Train change is because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein. We need to\npass the cell1 config to the archive command because we don't have\n--all-cells.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n""}, {'number': 5, 'created': '2019-11-05 21:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66be50200ba17a0902d206f168675c7cf7045b05', 'message': ""Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\nNOTE(melwitt): The differences from the Train change is because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein. We need to\npass the cell1 config to the archive command because we don't have\n--all-cells.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n""}, {'number': 6, 'created': '2019-11-05 23:39:29.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/844209b064ab4fd4d66ec8d9fc7dc106ae6d6d4b', 'message': ""Add regression test for bug 1824435\n\nThis adds a regression test in our post test hook. We are not able to\ndo a similar test in the unit or functional tests because SQLite does\nnot provide any isolation between transactions on the same database\nconnection [1] and the bug can only be reproduced with the isolation\nthat is present when using a real MySQL database.\n\nRelated-Bug: #1824435\n\n[1] https://www.sqlite.org/isolation.html\n\nNOTE(melwitt): The differences from the Train change is because change\nIf133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein. We need to\npass the cell1 config to the archive command because we don't have\n--all-cells.\n\nChange-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1\n(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)\n(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)\n""}]",9,692906,844209b064ab4fd4d66ec8d9fc7dc106ae6d6d4b,41,8,6,4690,,,0,"Add regression test for bug 1824435

This adds a regression test in our post test hook. We are not able to
do a similar test in the unit or functional tests because SQLite does
not provide any isolation between transactions on the same database
connection [1] and the bug can only be reproduced with the isolation
that is present when using a real MySQL database.

Related-Bug: #1824435

[1] https://www.sqlite.org/isolation.html

NOTE(melwitt): The differences from the Train change is because change
If133b12bf02d708c099504a88b474dce0bdb0f00 is not in Stein. We need to
pass the cell1 config to the archive command because we don't have
--all-cells.

Change-Id: I204361d6ff7c2323bc744878d8a9fa2d20a480b1
(cherry picked from commit 7c41365f193fd5b08d0174b6cd8e349ac95b7907)
(cherry picked from commit 73b6cb897ecbfe95e50eee632e5e6f5b5c29f7c4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/692906/4 && git format-patch -1 --stdout FETCH_HEAD,['gate/post_test_hook.sh'],1,e745f088e0b2d28221f7d56450e0d3a7f83137fd,bug/1824435," # When i = 1, we only archive cell0 (without --all-cells), so run at # least twice to ensure --all-cells are archived before considering # archiving complete. elif [[ $RET -eq 0 && $i -gt 1 ]]; then echo ""Verifying online_data_migrations idempotence"" # We will re-use the server created earlier for this test. (A server needs to # be present during the run of online_data_migrations and archiving). # Run the online data migrations before archiving. $MANAGE db online_data_migrations # We need to archive the deleted marker instance used by the # fill_virtual_interface_list online data migration in order to trigger # creation of a new deleted marker instance. set +e archive_deleted_rows # Verify whether online data migrations run after archiving will succeed. # See for more details: https://bugs.launchpad.net/nova/+bug/1824435 $MANAGE db online_data_migrations rc=$? set -e if [[ $rc -ne 2 ]]; then echo ""Expected return code 2 from online_data_migrations until bug 1824435 is fixed"" exit 2 fi", elif [[ $RET -eq 0 ]]; then,27,1
openstack%2Fopenstack-zuul-jobs~master~Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a,openstack/openstack-zuul-jobs,master,Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a,docs sitemap generation automation,NEW,2017-12-02 11:33:22.000000000,2019-11-07 21:05:18.000000000,,"[{'_account_id': 2472}, {'_account_id': 10278}, {'_account_id': 15334}, {'_account_id': 20156}, {'_account_id': 22348}, {'_account_id': 24728}, {'_account_id': 27609}]","[{'number': 1, 'created': '2017-12-02 11:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0aaa7f7ce9e2d167d1ba3bd163cfc6b74b85521d', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nAdditional tasks to be completed:\n  - edge case testing and resulting debug of current functionality\n  - addition of utilities which update the openstack-manuals\n    sitemap index\n  - addition of functionality which rsyncs the new sitemap up to\n    the webserver and removes any files which are not listed in\n    the updated sitemap.\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 2, 'created': '2017-12-02 16:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f19d420285c51f37a71648d00a4fefd004b1a877', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nAdditional tasks to be completed:\n  - edge case testing and resulting debug of current functionality\n  - addition of utilities which update the openstack-manuals\n    sitemap index\n  - addition of functionality which rsyncs the new sitemap up to\n    the webserver and removes any files which are not listed in\n    the updated sitemap.\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 3, 'created': '2017-12-02 16:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a27b05ef542540f82430a0e635e480114f16dc91', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nAdditional tasks to be completed:\n  - edge case testing and resulting debug of current functionality\n  - addition of utilities which update the openstack-manuals\n    sitemap index\n  - addition of functionality which rsyncs the new sitemap up to\n    the webserver and removes any files which are not listed in\n    the updated sitemap.\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 4, 'created': '2017-12-19 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f3ff73cdf591a11a0de8d77c4e1c14813b56cc9e', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 5, 'created': '2017-12-22 03:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d4ada28f952d74df6d32e4078dec08088768cff3', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 6, 'created': '2017-12-24 07:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c1791c46510ec16e2012ad03c90c3d7c8d75e99e', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 7, 'created': '2018-01-05 06:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4c9d8b070578546d743a6448ebb88a8eca884d3b', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 8, 'created': '2018-01-09 07:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c585453ca11499901bf66532237f2ffa23694216', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 9, 'created': '2018-01-12 05:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2bff5ef4f562692e17708b1dbade6c96e3e3ff0a', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 10, 'created': '2018-01-13 02:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/47f4ca2854cf28c954a7dbfd653585ee3d98b4bf', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 11, 'created': '2018-01-15 20:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c3efbf20980727bc109f4246ec0d3c18afa212f1', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 12, 'created': '2018-01-15 21:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0260f2c5bf2893738744e4692d01ad959e504822', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 13, 'created': '2018-01-15 21:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7efd259229d4418cf4e69850b61db11726a62853', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 14, 'created': '2018-01-15 22:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e72ff0bc4b3f4695d8a5888c46ada75bf9453f8c', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 15, 'created': '2018-01-15 22:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c3f9d36cbc636c457bc66fa21f3ddb84050e5eb7', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 16, 'created': '2018-01-15 23:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d6980219fa94bf0ea506a5bd147bb17c3bc840f0', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 17, 'created': '2018-01-16 13:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/288ea381ed5a9c0919d873a0f60f7eeeb680873c', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 18, 'created': '2018-01-16 14:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/28d51a8a0dbb4606ec270c54bbaf0ac6b9ae5472', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 19, 'created': '2018-01-16 16:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d52fea73060e07b44cc1229200f173bfd3f87fd3', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 20, 'created': '2018-01-16 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4c7ce503cc78d7e9c146a477a73ab3b2d00babbd', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 21, 'created': '2018-02-02 00:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2e3fee7737f0d7ea9f43587f2f8e128a002b6bc9', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 22, 'created': '2018-02-03 07:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/593458580a03252dbefcd2e2374d8ed64f97f6ee', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 23, 'created': '2018-02-04 21:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3d00969021bb57533973d79d8881386398487a91', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 24, 'created': '2018-02-04 22:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/042c93a14a52adab6e4d610914c7530d7a75d398', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 25, 'created': '2018-02-06 16:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4b852f851618d3d25a5e2434072f61f06e5caa1f', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 26, 'created': '2018-02-16 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c5df4a366db48d96f7701f83e7d23d0993575921', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 27, 'created': '2018-02-16 19:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c5bae40bd4106d50bf3b1e0e929e0c23d4f71109', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 28, 'created': '2018-02-16 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bdd188334c26256464eddb0278d8add473987060', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 29, 'created': '2018-02-16 20:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d6ad26d848d07d143ab909aed5ad7454078c445d', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 30, 'created': '2018-02-16 21:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1f00c51296fc091b65c5c41b840b20a184f71616', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 31, 'created': '2018-02-16 21:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d85f88746088896312504080009c380b481cdaf4', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 32, 'created': '2018-02-16 21:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4d48980bc2f2803c8d57af7dac743cbdf56139b1', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 33, 'created': '2018-02-16 21:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/368b2c337ba33eee1febf371a8b27518d8d52189', 'message': 'docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 34, 'created': '2018-02-20 00:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4f4568bd5ea6a95a3bda42ffd2a2a4a78ad503c2', 'message': '[WIP] docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}, {'number': 35, 'created': '2018-05-24 20:09:23.000000000', 'files': ['playbooks/sphinx-docs/generate-sitemap.yaml', 'roles/sitemap-generation/defaults/main.yaml', 'roles/sitemap-generation/files/sitemap_gen.py', 'roles/sitemap-generation/tasks/main.yml', 'roles/sitemap-generation/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0e03e5b43e6d1f1dece9354a5eacc5283af61968', 'message': 'docs sitemap generation automation\n\nStill largely a WIP, but this is the first piece of what needs\ndoing. Currently runs the script that generates a sitemap that\nreflects the current contents of the docs/build directory of\nthe specified project.\n\nThis work will be paired with a patch in the openstack-manuals\nrepo that will allow the sitemap index to create a sitemaps\nindex. This patch is still to be pushed\n\nThese action items are a result of ongoing discussion surrounding\nthe automation of the sitemap generation process, and may, as a\nresult of continued discussion and issue resolution, be subject\nto change.\n\nChange-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a\n'}]",81,524862,0e03e5b43e6d1f1dece9354a5eacc5283af61968,103,7,35,24728,,,0,"docs sitemap generation automation

Still largely a WIP, but this is the first piece of what needs
doing. Currently runs the script that generates a sitemap that
reflects the current contents of the docs/build directory of
the specified project.

This work will be paired with a patch in the openstack-manuals
repo that will allow the sitemap index to create a sitemaps
index. This patch is still to be pushed

These action items are a result of ongoing discussion surrounding
the automation of the sitemap generation process, and may, as a
result of continued discussion and issue resolution, be subject
to change.

Change-Id: Idf6fdef6a8d3d1ff3fbfffbc3042e62d3d2cd38a
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/62/524862/32 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/sphinx-docs/run.yaml', 'roles/sitemap-generation/defaults/main.yaml', 'roles/sitemap-generation/vars/main.yml', 'roles/sitemap-generation/files/sitemap_gen.py', 'roles/sitemap-generation/tasks/main.yml', 'roles/sitemap-generation/README.rst']",6,0aaa7f7ce9e2d167d1ba3bd163cfc6b74b85521d,sitemaps_generation,Sitemap Generation ================== This role is intended update a project's sitemaps any time new documentation is built and created. .. zuul:rolevar:: src_project_root :default: {{ zuul.project.src_dir }} Directory to build sitemap in .. zuul:rolevar:: webserver ,,159,0
openstack%2Ftempest~master~Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f,openstack/tempest,master,Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f,Make the interop-tempest-consistency job voting,ABANDONED,2018-10-26 23:24:20.000000000,2019-11-07 21:05:07.000000000,,"[{'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-10-26 23:24:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b38e7d4fb11e23b7cf5b3010e7af930aea1ecf7e', 'message': 'Make the interop-tempest-consistency job voting\n\nAfter a period of stability testing from the first introduction\nof this job, the interop-tempest-consistency gate has been stable.\nTo prevent future inconsistencies between the tempest and the\ninterop repositories, make this job gating so that breaking\ncross-project changes can not be merged.\n\nChange-Id: Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f\n'}]",1,613707,b38e7d4fb11e23b7cf5b3010e7af930aea1ecf7e,6,4,1,7822,,,0,"Make the interop-tempest-consistency job voting

After a period of stability testing from the first introduction
of this job, the interop-tempest-consistency gate has been stable.
To prevent future inconsistencies between the tempest and the
interop repositories, make this job gating so that breaking
cross-project changes can not be merged.

Change-Id: Ifb33a76ef8ba6db34f68b83e9fa7eff5c5442e7f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/07/613707/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b38e7d4fb11e23b7cf5b3010e7af930aea1ecf7e,make-interop-gating-voting,, voting: false,0,1
openstack%2Floci~master~I0fcf9587aba02cef0bcb58a82f3b15e884fb6100,openstack/loci,master,I0fcf9587aba02cef0bcb58a82f3b15e884fb6100,Make Python3 the default interpreter,ABANDONED,2019-06-13 17:29:47.000000000,2019-11-07 21:04:14.000000000,,"[{'_account_id': 7822}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 17:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ecebbf05e6c16b66ef00b89cb154b5b013a19e32', 'message': 'Make Python3 the default interpreter\n\nPython2 is going away. Make Python3 the default build interpreter\nfor Loci.\n\nChange-Id: I0fcf9587aba02cef0bcb58a82f3b15e884fb6100\n'}, {'number': 2, 'created': '2019-06-18 09:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/59386f3a34e93fae5a07b83abfbaa5dc916b86c8', 'message': 'Make Python3 the default interpreter\n\nPython2 is going away. Make Python3 the default build interpreter\nfor Loci.\n\nChange-Id: I0fcf9587aba02cef0bcb58a82f3b15e884fb6100\n'}, {'number': 3, 'created': '2019-07-18 11:14:38.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/loci/commit/56c19fa28911d5c3d87683fd1545354b4e2981f7', 'message': 'Make Python3 the default interpreter\n\nPython2 is going away. Make Python3 the default build interpreter\nfor Loci.\n\nChange-Id: I0fcf9587aba02cef0bcb58a82f3b15e884fb6100\n'}]",0,665187,56c19fa28911d5c3d87683fd1545354b4e2981f7,10,3,3,7822,,,0,"Make Python3 the default interpreter

Python2 is going away. Make Python3 the default build interpreter
for Loci.

Change-Id: I0fcf9587aba02cef0bcb58a82f3b15e884fb6100
",git fetch https://review.opendev.org/openstack/loci refs/changes/87/665187/3 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,ecebbf05e6c16b66ef00b89cb154b5b013a19e32,,ARG PYTHON3=yes,ARG PYTHON3=no,1,1
openstack%2Fnova~master~I2254e36407c9f9ff674eaec44c115d7516421de3,openstack/nova,master,I2254e36407c9f9ff674eaec44c115d7516421de3,Refresh instance in MigrationTask.execute Exception handler,MERGED,2019-07-04 01:05:27.000000000,2019-11-07 20:58:10.000000000,2019-11-07 20:54:20.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a363f926c0e1ec41197817ea17f9c8858791203d', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 2, 'created': '2019-07-05 22:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15022041f51a6a16cc9b012e20b8688b26b82675', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 3, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/975b1f0b2e978b7643734ca63e023b351bd2c031', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 4, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b23c3617755aa135e3ae7cfa9091130da5dfa462', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 5, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/482f9d3aeecd038f71d04b2d8efa57d58af59060', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 6, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37a1c79d9efcde070d85cda836db4c9eaa06a8a2', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 7, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71feaf38aaea1e6e5f7ba82689835cb22def7fac', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 8, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/937c3d35ac317d4255f5ebd33ef990917df71896', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 9, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a8dc1403c657b806bafb926a41a2eda031b6c78', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 10, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ef6205ed0b30754be84cf0296a16be2e4678e8c', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 11, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95674ee205160ab8f58473cae480b526ba27ab1e', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 12, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bddd99a3568301ecd07b413e8a7dbfd372ba7df', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 13, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4007501e52be0984b6999889db69f8ddb5ed28ad', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 14, 'created': '2019-10-16 01:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dc15b4f1f09385d10a79119ec718c0628e030e3', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 15, 'created': '2019-10-21 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2633eaf1d20b0c2ba9f389b13faa5b8117ee022f', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 16, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/742518cb70f1813350b629ad799f8042682a4757', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 17, 'created': '2019-11-04 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92ffa4be1261d56a2a00e639acf13209053116c7', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 18, 'created': '2019-11-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/935f1f597c2f2b2e982de7d893c59db4be3003fd', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}, {'number': 19, 'created': '2019-11-05 19:24:41.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/462d0d813e504df6b3a28db7655eb57ec2839422', 'message': ""Refresh instance in MigrationTask.execute Exception handler\n\nCross-cell resize is a synchronous operation from the MigrationTask\nwhich means if something fails on the compute and sets the instance\nto ERROR, the Exception block in _cold_migrate in conductor can\nblindly reset the vm_state to ACTIVE because it is using a stale\ncopy of the instance.\n\nThis change refreshes the instance before calling _set_vm_state_and_notify\nso we don't overwrite the current vm_state. This is not really a\nproblem for same-cell resize because prep_resize is an RPC cast to\nthe destination compute so any failures there will be persisted\nseparately from the Exception block in the _cold_migrate method.\n\nChange-Id: I2254e36407c9f9ff674eaec44c115d7516421de3\n""}]",8,669012,462d0d813e504df6b3a28db7655eb57ec2839422,190,17,19,6873,,,0,"Refresh instance in MigrationTask.execute Exception handler

Cross-cell resize is a synchronous operation from the MigrationTask
which means if something fails on the compute and sets the instance
to ERROR, the Exception block in _cold_migrate in conductor can
blindly reset the vm_state to ACTIVE because it is using a stale
copy of the instance.

This change refreshes the instance before calling _set_vm_state_and_notify
so we don't overwrite the current vm_state. This is not really a
problem for same-cell resize because prep_resize is an RPC cast to
the destination compute so any failures there will be persisted
separately from the Exception block in the _cold_migrate method.

Change-Id: I2254e36407c9f9ff674eaec44c115d7516421de3
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/669012/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",3,a363f926c0e1ec41197817ea17f9c8858791203d,bp/cross-cell-resize, # Refresh the instance so we don't overwrite vm_state changes # set after we executed the task. instance.refresh() # Passing vm_state is kind of silly but it's expected in # set_vm_state_and_notify.,,16,6
openstack%2Fopenstack-ansible-repo_server~master~I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea,openstack/openstack-ansible-repo_server,master,I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea,Make sure nginx is running,ABANDONED,2018-07-30 07:45:02.000000000,2019-11-07 20:57:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-07-30 07:45:02.000000000', 'files': ['tasks/repo_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/436ece35372090baf4cd3ca46a96b6bd23a41c02', 'message': ""Make sure nginx is running\n\nIf at some point during deployment nginx doesn't start up when the\nrepo_servers handlers 'restart nginx', the next time you re-run with\nno configuration changes, the nginx instance will remain dead.\n\nChange-Id: I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea\n""}]",0,586963,436ece35372090baf4cd3ca46a96b6bd23a41c02,3,1,1,25600,,,0,"Make sure nginx is running

If at some point during deployment nginx doesn't start up when the
repo_servers handlers 'restart nginx', the next time you re-run with
no configuration changes, the nginx instance will remain dead.

Change-Id: I7ab2e5401d20ffa0843fee87ef9320ab4d1ce0ea
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/63/586963/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_post_install.yml'],1,436ece35372090baf4cd3ca46a96b6bd23a41c02,,"- name: Make sure nginx is running service: name: ""nginx"" enabled: yes state: started daemon_reload: ""{{ (ansible_service_mgr == 'systemd') | ternary('yes', omit) }}"" register: _start until: _start | success retries: 5 delay: 2",,10,0
openstack%2Frequirements~stable%2Frocky~Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb,openstack/requirements,stable/rocky,Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb,update constraint for python-openstackclient to new release 3.16.3,MERGED,2019-11-07 09:18:09.000000000,2019-11-07 20:54:12.000000000,2019-11-07 20:54:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 09:18:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d4f6a08eef526a6af777b2abc99633e912e351d', 'message': 'update constraint for python-openstackclient to new release 3.16.3\n\nChange-Id: Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb\nmeta:version: 3.16.3\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: melanie witt <melwittt@gmail.com>\nmeta:release:Commit: melanie witt <melwittt@gmail.com>\nmeta:release:Change-Id: I696eb335682a58eb989d5d854b415f8e3c624982\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,693322,6d4f6a08eef526a6af777b2abc99633e912e351d,6,2,1,11131,,,0,"update constraint for python-openstackclient to new release 3.16.3

Change-Id: Ia4bc606eb0c7b55c8532b8940d6266b09427a5eb
meta:version: 3.16.3
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: melanie witt <melwittt@gmail.com>
meta:release:Commit: melanie witt <melwittt@gmail.com>
meta:release:Change-Id: I696eb335682a58eb989d5d854b415f8e3c624982
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/693322/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6d4f6a08eef526a6af777b2abc99633e912e351d,new-release,python-openstackclient===3.16.3,python-openstackclient===3.16.2,1,1
openstack%2Foctavia~master~I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,openstack/octavia,master,I2e8c0be2221c0c23b752fdf2cdff065cddf830a5,ipvsadm '--exact' arg to ensure outputs are ints,MERGED,2019-11-06 17:33:53.000000000,2019-11-07 20:37:34.000000000,2019-11-07 20:35:53.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-11-06 17:33:53.000000000', 'files': ['octavia/amphorae/backends/utils/keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0682fb977a76d356ede20f516c849298d34eb7fc', 'message': ""ipvsadm '--exact' arg to ensure outputs are ints\n\nCurrently the keepalivedlvs_query script calls ipvsadm -Ln --stats\nto query the local lvs for connection information. If any of these\nvalues grow large enough they will be abbreviated with human-\nfriendly suffixes (K, M, G) and cause the get_ipvsadm_info func\nto raise an exception when it receives a non-integer value from\nits command output. By using the --exact argument in addition to\nthe existing arguments, we can ensure the output is always expanded\nnumbers, per the ipvsadm man page, and will only ever offer integer\noutputs to the get_ipvsadm_info command.\n\nChange-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5\nStory: 2006791\nTask: 37331\n""}]",0,693224,0682fb977a76d356ede20f516c849298d34eb7fc,17,4,1,28502,,,0,"ipvsadm '--exact' arg to ensure outputs are ints

Currently the keepalivedlvs_query script calls ipvsadm -Ln --stats
to query the local lvs for connection information. If any of these
values grow large enough they will be abbreviated with human-
friendly suffixes (K, M, G) and cause the get_ipvsadm_info func
to raise an exception when it receives a non-integer value from
its command output. By using the --exact argument in addition to
the existing arguments, we can ensure the output is always expanded
numbers, per the ipvsadm man page, and will only ever offer integer
outputs to the get_ipvsadm_info command.

Change-Id: I2e8c0be2221c0c23b752fdf2cdff065cddf830a5
Story: 2006791
Task: 37331
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/693224/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/utils/keepalivedlvs_query.py'],1,0682fb977a76d356ede20f516c849298d34eb7fc,ipvsadm-exact-stats," # use --exact to ensure output is integer only if is_stats_cmd: cmd_list += ['--stats', '--exact']", if is_stats_cmd: cmd_list.append('--stats'),2,1
openstack%2Ftripleo-ansible~master~I4006db3f5e3092aefeb8a0e50819dda11931630b,openstack/tripleo-ansible,master,I4006db3f5e3092aefeb8a0e50819dda11931630b,tripleo-container-manage: some nits fixed,MERGED,2019-11-06 09:42:28.000000000,2019-11-07 20:06:00.000000000,2019-11-07 20:06:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 09:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b234f254c86c7a9adbbe4ed1da1ff23078072c37', 'message': 'tripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n'}, {'number': 2, 'created': '2019-11-06 10:19:40.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73e49888f7daba4a348aefaa0631fc2cb0ff6cbe', 'message': 'tripleo-container-manage: some nits fixed\n\nChange-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b\n'}]",1,693145,73e49888f7daba4a348aefaa0631fc2cb0ff6cbe,15,6,2,3153,,,0,"tripleo-container-manage: some nits fixed

Change-Id: I4006db3f5e3092aefeb8a0e50819dda11931630b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/693145/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'],1,b234f254c86c7a9adbbe4ed1da1ff23078072c37,improves," env: ""{{ container_data.environment | default({}, true) }}"" etc_hosts: ""{{ container_data.extra_hosts | default(omit) }}"" volumes_from: ""{{ container_data.volumes_from | default(omit) }}"""," env: ""{{ container_data.environment if container_data.environment is defined and container_data.environment else {} }}"" etc_hosts: ""{{ container_data.extra_hosts | default({}) }}"" volumes_from: ""{{ container_data.volumes_from | default([]) }}""",3,3
openstack%2Ftripleo-common~master~Icfd0be4aff2de88346cfe380c29f28d16538733c,openstack/tripleo-common,master,Icfd0be4aff2de88346cfe380c29f28d16538733c,tox: Keeping going with docs,MERGED,2019-11-02 18:22:17.000000000,2019-11-07 20:04:13.000000000,2019-11-07 20:02:10.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 18:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/614eb62fedea02ca4eb47a1e9f8cf8f7a836b405', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Icfd0be4aff2de88346cfe380c29f28d16538733c\n""}, {'number': 2, 'created': '2019-11-02 18:36:58.000000000', 'files': ['tools/releasenotes_tox.sh', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4478e12f920461e179e0d59240b5c482d92b36b8', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Icfd0be4aff2de88346cfe380c29f28d16538733c\n""}]",0,692678,4478e12f920461e179e0d59240b5c482d92b36b8,10,4,2,30356,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Icfd0be4aff2de88346cfe380c29f28d16538733c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/692678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/releasenotes_tox.sh', 'test-requirements.txt', 'lower-constraints.txt']",3,614eb62fedea02ca4eb47a1e9f8cf8f7a836b405,,Sphinx==1.8.0,Sphinx==1.6.2,4,4
openstack%2Ftripleo-heat-templates~master~I806842ce6d2522deab060f5e9ef6607a1e919dbf,openstack/tripleo-heat-templates,master,I806842ce6d2522deab060f5e9ef6607a1e919dbf,tox: Keeping going with docs,MERGED,2019-11-02 18:39:13.000000000,2019-11-07 20:03:29.000000000,2019-11-07 20:02:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 18:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/814a0c58ca9dfec8609c538b983fa44ff14b7c90', 'message': 'tox: Keeping going with docs\n\nChange-Id: I806842ce6d2522deab060f5e9ef6607a1e919dbf\n'}, {'number': 2, 'created': '2019-11-02 18:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ef5bf12dd7c6f33ba71b5b029adf3ffff6d110e', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I806842ce6d2522deab060f5e9ef6607a1e919dbf\n""}, {'number': 3, 'created': '2019-11-02 18:45:19.000000000', 'files': ['tools/releasenotes_tox.sh', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfa44f0bbec16807d228777f0babc438372b25ec', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I806842ce6d2522deab060f5e9ef6607a1e919dbf\n""}]",0,692687,bfa44f0bbec16807d228777f0babc438372b25ec,11,4,3,30356,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I806842ce6d2522deab060f5e9ef6607a1e919dbf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/692687/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,814a0c58ca9dfec8609c538b983fa44ff14b7c90,,Sphinx==1.8.0Sphinx==1.8.0,oslosphinx==4.7.0Sphinx==1.6.2,4,4
openstack%2Ftripleo-heat-templates~stable%2Fstein~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/stein,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-07 08:27:53.000000000,2019-11-07 20:02:07.000000000,2019-11-07 20:02:07.000000000,"[{'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-07 08:27:53.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de92a638f8bc8194024f5d6d8cd8352a3406dd5e', 'message': 'Mode 0750 for /var/log/containers\n\nLogs should not be world-readable, they contain sensitive informations.\n\nChange-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f\n(cherry picked from commit 57afa87fd970f879b64233d2c79e946f2afcd2ef)\n'}]",0,693311,de92a638f8bc8194024f5d6d8cd8352a3406dd5e,9,4,1,3153,,,0,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit 57afa87fd970f879b64233d2c79e946f2afcd2ef)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/693311/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,de92a638f8bc8194024f5d6d8cd8352a3406dd5e,stein/logs, mode: 0750,,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/train,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:44:21.000000000,2019-11-07 20:02:05.000000000,2019-11-07 20:02:05.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c8108a5befca8fc5370e4ab9dce71611aa92651', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}, {'number': 2, 'created': '2019-11-06 17:06:27.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdc08ebba17f2c4859647bf358649bc9522c97b1', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}]",0,693187,fdc08ebba17f2c4859647bf358649bc9522c97b1,12,4,2,14985,,,0,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/693187/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,6c8108a5befca8fc5370e4ab9dce71611aa92651,bug/1811005," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ]",6,1
openstack%2Fcharm-manila~master~I28a56a7ea4cb9679b6000a6e22a6e938eed8551f,openstack/charm-manila,master,I28a56a7ea4cb9679b6000a6e22a6e938eed8551f,Add new remote-manila-plugin interface,MERGED,2019-09-27 09:51:13.000000000,2019-11-07 19:09:07.000000000,2019-11-07 19:09:07.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 09:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/a681b52488d9f4a7a094d0a1e3e3805a730f6c74', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 2, 'created': '2019-09-27 15:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/e9228bd8e3d6caf9d5ab8b30c3c473c9e00504ea', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 3, 'created': '2019-10-08 06:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/0832ccd04167b97706ae95214f09084c05b8e7bb', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 4, 'created': '2019-10-16 06:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/19f804aa095202530394e2d1cdddf9e435dea0dc', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 5, 'created': '2019-10-18 06:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/37872625072080f6ed19e7641df41cbd6ec45b26', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 6, 'created': '2019-10-22 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/8d968d05af5e00100a5c2a8b06566d944990e173', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 7, 'created': '2019-10-22 14:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/191f3ac3aa10b07bb77613568348f0fe231484fc', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 8, 'created': '2019-10-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/e71293b0e07b72758bdecd5f6dce7419aee1ccac', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 9, 'created': '2019-10-28 10:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d507807a07ffd5c0388defda5f14e303f0710348', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}, {'number': 10, 'created': '2019-11-07 11:57:51.000000000', 'files': ['unit_tests/test_manila_handlers.py', 'src/reactive/manila_handlers.py', 'src/templates/rocky/manila.conf', 'src/metadata.yaml', 'src/lib/charm/openstack/manila.py', 'unit_tests/test_lib_charm_openstack_manila.py'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/4480456e15fcfecf65b05067aeb9325be6c0552d', 'message': 'Add new remote-manila-plugin interface\n\nThis change adds the new interface remote-manila-plugin\nwhich is treated in the same way as the existing\nmanila-plugin interface, except that the remote version\nwill disable the manila-share service\n\nChange-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f\n'}]",4,685304,4480456e15fcfecf65b05067aeb9325be6c0552d,44,7,10,20634,,,0,"Add new remote-manila-plugin interface

This change adds the new interface remote-manila-plugin
which is treated in the same way as the existing
manila-plugin interface, except that the remote version
will disable the manila-share service

Change-Id: I28a56a7ea4cb9679b6000a6e22a6e938eed8551f
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/04/685304/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_manila_handlers.py', 'src/reactive/manila_handlers.py', 'src/metadata.yaml', 'src/lib/charm/openstack/manila.py', 'unit_tests/test_lib_charm_openstack_manila.py']",5,a681b52488d9f4a7a094d0a1e3e3805a730f6c74,charm-cephfs-manila," self.assertEqual(self.var, 'remote-manila-plugin.available') self.assertEqual(self.var, 'remote-manila-plugin.available')"," self.assertEqual(self.var, 'manila-plugin.available') self.assertEqual(self.var, 'manila-plugin.available')",42,17
openstack%2Fnova~master~I9358cc3cff44b81b5ce8f9917417282f83860c5b,openstack/nova,master,I9358cc3cff44b81b5ce8f9917417282f83860c5b,Add scheduling notification,ABANDONED,2018-05-06 18:32:57.000000000,2019-11-07 18:17:00.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}]","[{'number': 1, 'created': '2018-05-06 18:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c99400cf74e98a8bb7e940c01c09f52347d42160', 'message': 'Add scheduling notification\n\nAdds a new versioned notification that contains information about\nthe scheduling of instances. Specifically, the payload contains the\nrequest spec, the instance uuids and the exception that caused the\nfailure. The notification is emitted by the conductor manager.\n\nChange-Id: I9358cc3cff44b81b5ce8f9917417282f83860c5b\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 2, 'created': '2018-05-08 10:59:09.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'doc/notification_samples/common_payloads/RequestSpecPayload.json', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/objects/fields.py', 'doc/notification_samples/instance-schedule-end.json', 'doc/notification_samples/common_payloads/InstanceSchedulingPayload.json', 'nova/notifications/objects/cell_mapping.py', 'nova/notifications/objects/request_spec.py', 'nova/notifications/objects/base.py', 'nova/conductor/manager.py', 'nova/tests/unit/fake_request_spec.py', 'nova/tests/functional/notification_sample_tests/test_server_group.py', 'doc/notification_samples/instance-schedule-error.json', 'nova/tests/unit/notifications/objects/test_request_spec.py', 'doc/notification_samples/instance-schedule-start.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/b11afe6c211e825169dc6c32a75c691007b03481', 'message': 'Add scheduling notification\n\nAdds a new versioned notification that contains information about\nthe scheduling of instances. Specifically, the payload contains the\nrequest spec, the instance uuids and the exception in case of failure.\nThe notifications are emitted by the conductor manager.\n\nChange-Id: I9358cc3cff44b81b5ce8f9917417282f83860c5b\nImplements: blueprint introduce-pending-vm-state\n'}]",16,566470,b11afe6c211e825169dc6c32a75c691007b03481,26,14,2,27057,,,0,"Add scheduling notification

Adds a new versioned notification that contains information about
the scheduling of instances. Specifically, the payload contains the
request spec, the instance uuids and the exception in case of failure.
The notifications are emitted by the conductor manager.

Change-Id: I9358cc3cff44b81b5ce8f9917417282f83860c5b
Implements: blueprint introduce-pending-vm-state
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/566470/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/request_spec.py', 'nova/notifications/objects/base.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/conductor/manager.py', 'nova/objects/fields.py', 'nova/tests/unit/fake_request_spec.py', 'nova/tests/unit/notifications/objects/test_request_spec.py']",9,c99400cf74e98a8bb7e940c01c09f52347d42160,bp/introduce-pending-vm-state,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.notifications.objects import flavor as flavor_notification from nova.notifications.objects import request_spec as req_spec_payload from nova import test from nova.tests.unit import fake_request_spec class TestRequestSpecPayload(test.TestCase): def setUp(self): super(TestRequestSpecPayload, self).setUp() def test_request_spec_payload(self): # Test the generation of the request spec payload req_spec = fake_request_spec.fake_spec_obj(with_destination=True) payload = req_spec_payload.RequestSpecPayload(req_spec) self.assertEqual(payload.id, req_spec.id) self.assertEqual(payload.project_id, req_spec.project_id) self.assertEqual(payload.availability_zone, req_spec.availability_zone) self.assertEqual(payload.num_instances, req_spec.num_instances) self.assertEqual(payload.ignore_hosts, req_spec.ignore_hosts) self.assertEqual(payload.force_hosts, req_spec.force_hosts) self.assertEqual(payload.force_nodes, req_spec.force_nodes) self.assertEqual(payload.scheduler_hints, req_spec.scheduler_hints) self.assertEqual(payload.instance_uuid, req_spec.instance_uuid) self.assertIsInstance(payload.flavor, flavor_notification.FlavorPayload) self.assertIsInstance(payload.requested_destination, req_spec_payload.DestinationPayload) dest_payload = payload.requested_destination destination = req_spec.requested_destination self.assertEqual(dest_payload.host, destination.host) self.assertEqual(dest_payload.node, destination.node) self.assertEqual(dest_payload.aggregates, destination.aggregates) self.assertIsInstance(dest_payload.cell, req_spec_payload.CellMappingPayload) cell_mapping_payload = dest_payload.cell cell_mapping = destination.cell self.assertEqual(cell_mapping_payload.id, cell_mapping.id) self.assertEqual(cell_mapping_payload.uuid, cell_mapping.uuid) self.assertEqual(cell_mapping_payload.name, cell_mapping.name) self.assertEqual(cell_mapping_payload.transport_url, cell_mapping.transport_url) self.assertEqual(cell_mapping_payload.database_connection, cell_mapping.database_connection) self.assertEqual(cell_mapping_payload.disabled, cell_mapping.disabled) ",,327,9
openstack%2Fnova~master~If1acc9892713942fa3854b6a274c30b046b929fd,openstack/nova,master,If1acc9892713942fa3854b6a274c30b046b929fd,Allow rebuild for instances in PENDING state,ABANDONED,2019-02-18 16:47:41.000000000,2019-11-07 18:16:41.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}]","[{'number': 1, 'created': '2019-02-18 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7295048de9578175eff626ddda86732eb3476e5', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 2, 'created': '2019-02-18 20:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa75b7a7369ccecd61b2b55223c148114e02b7c7', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 3, 'created': '2019-02-24 22:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f49a1c1a56d5c21a04c5de91243ef216c393bc17', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 4, 'created': '2019-02-26 23:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c1a8a85524ded28f4bf303d26684ca4b07528c', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 5, 'created': '2019-03-01 10:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7812ff98d095be5bd0b249eba6eb32aceb704da4', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 6, 'created': '2019-04-05 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17f5b0bf0430e1f02f36fdca6a710aa0a7436582', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 7, 'created': '2019-04-09 12:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d4447ab59684c8f66ecfe8a34fb8c01c5b29255', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 8, 'created': '2019-04-13 12:25:23.000000000', 'files': ['nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42a9bdeb65d99ec29f3be92e6fed9b744e80c616', 'message': 'Allow rebuild for instances in PENDING state\n\nThis change adds the PENDING state in the list of allowed states\nfor rebuild. This way, users will be able to rebuild instances set\nin the new PENDING state as the ones set to ERROR.\n\nChange-Id: If1acc9892713942fa3854b6a274c30b046b929fd\nImplements: blueprint introduce-pending-vm-state\n'}]",0,637585,42a9bdeb65d99ec29f3be92e6fed9b744e80c616,71,14,8,27057,,,0,"Allow rebuild for instances in PENDING state

This change adds the PENDING state in the list of allowed states
for rebuild. This way, users will be able to rebuild instances set
in the new PENDING state as the ones set to ERROR.

Change-Id: If1acc9892713942fa3854b6a274c30b046b929fd
Implements: blueprint introduce-pending-vm-state
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/637585/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_servers.py', 'nova/compute/api.py']",2,d7295048de9578175eff626ddda86732eb3476e5,bp/introduce-pending-vm-state," vm_states.ERROR, vm_states.PENDING])", vm_states.ERROR]),12,1
openstack%2Fnova~master~I9a1a14f604c5f369fdb671a6f71f124f06f2beab,openstack/nova,master,I9a1a14f604c5f369fdb671a6f71f124f06f2beab,Enable rebuild for instances in cell0,ABANDONED,2018-05-23 13:54:58.000000000,2019-11-07 18:16:33.000000000,,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}]","[{'number': 1, 'created': '2018-05-23 13:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c3e19a12981174266ef965d2abdda3aac322f53', 'message': '[WIP] Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 2, 'created': '2018-12-14 16:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2873b0ec5f93174ad459e1a7c14bb9da65dfdc6f', 'message': '[WIP] Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 3, 'created': '2019-01-23 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0848f6df74fa44f16e3fa6cefaad5a8eb2493c6d', 'message': '[WIP] Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 4, 'created': '2019-01-28 16:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a307cfee323d8e0b50594c1f890fe20608762235', 'message': '[WIP] Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 5, 'created': '2019-02-18 16:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfc75321f8166b95b2292d5357f66ee62363d8c0', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 6, 'created': '2019-02-24 22:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e59d371257e103bee5f9911c946518cb36350161', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 7, 'created': '2019-02-26 13:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/762963bc9fd526c8c9a19f86c2f29fca52546b3c', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 8, 'created': '2019-02-26 23:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc973ca59ec78f3fc9d64eb94e8e7e0da74d2f36', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 9, 'created': '2019-03-01 10:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0af6b76311351d39e30bde0f97b34afade387c45', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 10, 'created': '2019-03-05 17:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd3f96a1f8cd23764e68fa29f8a7a1b843ddc7b', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nsoft deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 11, 'created': '2019-03-06 17:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8376cfc2afb0bb4173c6e3592ad9f678d9d9108a', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nsoft deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 12, 'created': '2019-04-05 08:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be4b481d43fed49da95fa6aee5cf59b646cbcfd8', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 13, 'created': '2019-04-09 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59944e0b5bf8b36c0ae01f7e29e9efa59a38660d', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 14, 'created': '2019-04-12 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/367948efc74cd14502aac9adac0a34d991b9c1c7', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 15, 'created': '2019-04-13 12:18:22.000000000', 'files': ['nova/conductor/api.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_access_ips.py', 'nova/conductor/rpcapi.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/conductor/manager.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f77bdbd17537f1801800d3ae90e3bade1da2259', 'message': 'Enable rebuild for instances in cell0\n\nThis adds support for rebuilding instances that failed to be\nscheduled and were mapped to cell0. Specifically, the instance is\nhard deleted from the cell0 and then goes through scheduling again.\n\nChange-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}]",86,570203,2f77bdbd17537f1801800d3ae90e3bade1da2259,165,18,15,27057,,,0,"Enable rebuild for instances in cell0

This adds support for rebuilding instances that failed to be
scheduled and were mapped to cell0. Specifically, the instance is
hard deleted from the cell0 and then goes through scheduling again.

Change-Id: I9a1a14f604c5f369fdb671a6f71f124f06f2beab
Implements: blueprint enable-rebuild-for-instances-in-cell0
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/570203/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/api.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/unit/api/openstack/compute/test_access_ips.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/conductor/rpcapi.py', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/tests/unit/api/openstack/compute/test_disk_config.py', 'nova/compute/api.py']",14,3c3e19a12981174266ef965d2abdda3aac322f53,bp/enable-rebuild-for-instances-in-cell0," vm_states.ERROR], must_have_launched=False) if not instance.launched_at: inst_mapping = objects.InstanceMapping.get_by_instance_uuid( context, [instance.uuid]) if not inst_mapping.cell_mapping.is_cell0(): # Continue to fail if the instance never has launched and is # in cell0. raise exception.InstanceInvalidState( attr='launched_at', instance_uuid=instance.uuid, state=instance.launched_at, method=self.rebuild.__name__) if not instance.launched_at: if request_spec is None: # NOTE(ttsiouts): we should fail here. No way to know about # the RequestedNetworks raise exception.NovaException( _('Unable to rebuild an instance in cell0 without the ' 'RequestSpec.')) # Delete the instance from cell0 self._remove_instance_from_cell(context, instance, bdms) # Update the instance here to reuse it instance.update({'task_state': task_states.REBUILDING}) instance.deleted = False # Create a new build request for the instance build_request = objects.BuildRequest(context, instance=instance, instance_uuid=instance.uuid, project_id=instance.project_id, block_device_mappings=bdms, tags=instance.tags) build_request.create() # Fetch the requsested networks from the RequestSpec requested_networks = request_spec.requested_networks # Call conductor to rebuild in cell0 self.compute_task_api.rebuild_instance_in_cell0( context, build_requests=[build_request], request_spec=[request_spec], image=image, admin_password=admin_password, injected_files=files_to_inject, requested_networks=requested_networks, block_device_mapping=bdms, tags=instance.tags) # Since the instance is deleted, when the API tries to get it from # the DB it won't be found as it will be created again after # scheduling. To cope with race, we return instance here. return instance def _remove_instance_from_cell(context, instance, bdms): # Now we udpate the InstanceMapping for the server to not point to # cell0 inst_mapping = objects.InstanceMapping.get_by_instance_uuid( context, [instance.uuid]) inst_mapping.cell_mapping = None inst_mapping.save() # Destroy instance's block device mappings for bdm in bdms: backup_device_name = bdm.device_name bdm.destroy() bdm.deleted = False bdm.device_name = backup_device_name backup_tags = instance.tags instance.destroy_hard() instance.tags = backup_tags @staticmethod", vm_states.ERROR]),205,15
openstack%2Fnova~master~I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1,openstack/nova,master,I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1,Add requested_networks to RequestSpec,ABANDONED,2018-05-23 13:54:58.000000000,2019-11-07 18:16:29.000000000,,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27057}, {'_account_id': 27076}]","[{'number': 1, 'created': '2018-05-23 13:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d032c0b49066d1e77dcc2b6546820743c85f7b', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks in the RequestSpec. The change is\nneeded because there is no way to retrieve the requested networks when\ntrying to rebuild instances burried in Cell0.\n\nThe new attribute will be used to store a nova.NetworkRequestList\nobject containing the networks that the user requests while building\nthe instance.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 2, 'created': '2018-12-14 16:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0d58592050e10aa913c22feb2c3578a1f51f7bf', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks in the RequestSpec. The change is\nneeded because there is no way to retrieve the requested networks when\ntrying to rebuild instances burried in Cell0.\n\nThe new attribute will be used to store a nova.NetworkRequestList\nobject containing the networks that the user requests while building\nthe instance.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 3, 'created': '2019-01-23 11:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1416812efa300c2363fceb17ce3afdfc5d8aa00f', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 4, 'created': '2019-01-28 16:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0ad862226a3d9b36d22aaa9fa762f93aa99c903', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 5, 'created': '2019-02-18 16:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bcac2314750af9d6a33a23cf575d19bdaf38256', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 6, 'created': '2019-02-24 22:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a80132a39b8ca5c609a69f7506c91c89e05e8ba1', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 7, 'created': '2019-02-26 13:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec5542836cc0bb807ac71d5efe59ccbbab77d071', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 8, 'created': '2019-02-26 23:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7aa651c70dcc048e2731868aa25d4305e2145a7', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 9, 'created': '2019-03-01 10:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd00469b2cd369b8ea42d1669dc43d23ea733742', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances burried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets burried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 10, 'created': '2019-03-05 17:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eeeb84104fe02033a6bdfe9a9bc2b5b2ede0304', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 11, 'created': '2019-03-06 17:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e87e40c2c603e5d4d3e71d7c93de250d822c683', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 12, 'created': '2019-04-05 08:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31c36266bd6b5b42f61527b1327db8e3012408d2', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 13, 'created': '2019-04-09 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d77a5fffcbb2dca5189ebb5ba24b4c1e6caebe5', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 14, 'created': '2019-04-12 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa9d375ea723500748f5b0e679520624c5127693', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}, {'number': 15, 'created': '2019-04-13 12:18:22.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/unit/fake_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f55217f5218cb9ae25d24da930473e871687f526', 'message': 'Add requested_networks to RequestSpec\n\nThis adds the requested_networks field in the RequestSpec object.\nThe change is needed because currently, there was no way to retrieve\nthe requested networks when trying to rebuild instances buried in\ncell0.\n\nWhen an instance fails to be scheduled and it gets buried in cell0,\nwe will use the new field in the RequestSpec object to store a\nNetworkRequestList containing the networks requested by the user.\nThis way, when we try to rebuild the instance we can retrieve this\ninfo from the request spec.\n\nChange-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1\nImplements: blueprint enable-rebuild-for-instances-in-cell0\n'}]",12,570201,f55217f5218cb9ae25d24da930473e871687f526,160,24,15,27057,,,0,"Add requested_networks to RequestSpec

This adds the requested_networks field in the RequestSpec object.
The change is needed because currently, there was no way to retrieve
the requested networks when trying to rebuild instances buried in
cell0.

When an instance fails to be scheduled and it gets buried in cell0,
we will use the new field in the RequestSpec object to store a
NetworkRequestList containing the networks requested by the user.
This way, when we try to rebuild the instance we can retrieve this
info from the request spec.

Change-Id: I983e5d8b07b4c67f9afb8f4d570df7aa4d9b62f1
Implements: blueprint enable-rebuild-for-instances-in-cell0
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/570201/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/fake_request_spec.py', 'nova/compute/api.py']",6,f6d032c0b49066d1e77dcc2b6546820743c85f7b,bp/enable-rebuild-for-instances-in-cell0," key_pair, tags, requested_networks, supports_multiattach=False): security_groups=security_groups, requested_networks=requested_networks) filter_properties, key_pair, tags, requested_networks, supports_multiattach)"," key_pair, tags, supports_multiattach=False): security_groups=security_groups) filter_properties, key_pair, tags, supports_multiattach)",59,19
openstack%2Fnova~stable%2Fpike~I9e3bcc8d5c73063885e0222361ed9bd103b9dc54,openstack/nova,stable/pike,I9e3bcc8d5c73063885e0222361ed9bd103b9dc54,[Stable Only] libvirt: Handle volume API failure in post_live_migration,ABANDONED,2019-07-10 09:08:46.000000000,2019-11-07 18:11:42.000000000,,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 12404}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 14819}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23676}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 09:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a81e77f7d979442fbcf7a887d10471a20e21e841', 'message': ""[Stable Only] libvirt: Handle volume API failure in post_live_migration\n\nIn commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder API\ncalls of manager's _post_live_migration in a try/except, and logs the\nexception instead of blowing up.\nIn stable/pike, there also has a Cinder API call in libvirt driver's\npost_live_migration method. We should also wrap this Cinder API call\nin stable pike.\n\nChange-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54\nPartial-bug: 1628606\n""}, {'number': 2, 'created': '2019-07-10 09:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823ab39f953da89f059eaf2fbc3ab84cbd87d11e', 'message': ""[Stable Only] libvirt: Handle volume API failure in post_live_migration\n\nIn commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder\nAPI calls of manager's _post_live_migration in a try/except, and logs\nthe exception instead of blowing up.\nIn stable/pike, there also has a Cinder API call in libvirt driver's\npost_live_migration method. We should also wrap this Cinder API call\nin stable pike.\n\nChange-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54\nPartial-bug: 1628606\n""}, {'number': 3, 'created': '2019-07-10 11:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69acd1ef059dc5cafaf976cdfbe2c3fd577a5e26', 'message': ""[Stable Only] libvirt: Handle volume API failure in post_live_migration\n\nIn commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder\nAPI calls of manager's _post_live_migration in a try/except, and logs\nthe exception instead of blowing up.\nIn stable/pike, there also has a Cinder API call in libvirt driver's\npost_live_migration method. We should also wrap this Cinder API call\nin stable pike.\n\nChange-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54\nPartial-bug: 1628606\n""}, {'number': 4, 'created': '2019-07-11 06:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114c0c74f42d165139da5a49386f999d4ec37830', 'message': ""[Stable Only] libvirt: Handle volume API failure in post_live_migration\n\nIn commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder\nAPI calls of manager's _post_live_migration in a try/except, and logs\nthe exception instead of blowing up.\nIn stable/pike, there also has a Cinder API call in libvirt driver's\npost_live_migration method. We should also wrap this Cinder API call\nin stable pike.\n\nChange-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54\nPartial-bug: 1628606\n""}, {'number': 5, 'created': '2019-07-11 07:41:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b41bca6500e9a3216333256fad2d4f020debef0', 'message': ""[Stable Only] libvirt: Handle volume API failure in post_live_migration\n\nIn commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder\nAPI calls of manager's _post_live_migration in a try/except, and logs\nthe exception instead of blowing up.\nIn stable/pike, there also has a Cinder API call in libvirt driver's\npost_live_migration method. We should also wrap this Cinder API call\nin stable pike.\n\nChange-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54\nPartial-bug: 1628606\n""}]",4,670016,0b41bca6500e9a3216333256fad2d4f020debef0,22,19,5,26286,,,0,"[Stable Only] libvirt: Handle volume API failure in post_live_migration

In commit 5513f48dea529fe4e690f50a462300129594210c, we wrap the Cinder
API calls of manager's _post_live_migration in a try/except, and logs
the exception instead of blowing up.
In stable/pike, there also has a Cinder API call in libvirt driver's
post_live_migration method. We should also wrap this Cinder API call
in stable pike.

Change-Id: I9e3bcc8d5c73063885e0222361ed9bd103b9dc54
Partial-bug: 1628606
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/670016/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a81e77f7d979442fbcf7a887d10471a20e21e841,bug/1628606," def test_post_live_migration_with_cinder_exception(self): vol = {'block_device_mapping': [ {'connection_info': { 'data': {'multipath_id': 'dummy1'}, 'serial': 'fake_serial1'}, 'mount_device': '/dev/sda', }, {'connection_info': { 'data': {}, 'serial': 'fake_serial2'}, 'mount_device': '/dev/sdb', }]} drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) fake_connector = {'host': 'fake'} inst_ref = {'id': 'foo'} cntx = context.get_admin_context() # Set up the mock expectations with test.nested( mock.patch.object(driver, 'block_device_info_get_mapping', return_value=vol['block_device_mapping']), mock.patch.object(drvr, ""get_volume_connector"", return_value=fake_connector), mock.patch.object(drvr._volume_api, ""initialize_connection"", side_effect=exception.CinderConnectionFailed( reason='error')), mock.patch.object(drvr, '_disconnect_volume') ) as (block_device_info_get_mapping, get_volume_connector, initialize_connection, _disconnect_volume): drvr.post_live_migration(cntx, inst_ref, vol) block_device_info_get_mapping.assert_has_calls([ mock.call(vol)]) get_volume_connector.assert_has_calls([ mock.call(inst_ref)]) _disconnect_volume.assert_has_calls([ mock.call({'serial': 'fake_serial1', 'data': {'multipath_id': 'dummy1'}}, 'sda', inst_ref), mock.call({'serial': 'fake_serial2', 'data': {}}, 'sdb', inst_ref)]) ",,62,3
openstack%2Fneutron-tempest-plugin~master~I050aacbc1bacbadbd94359c1ab8f1ac721b90a12,openstack/neutron-tempest-plugin,master,I050aacbc1bacbadbd94359c1ab8f1ac721b90a12,Fix errors in designate scenarios jobs,MERGED,2019-09-27 11:14:39.000000000,2019-11-07 17:38:58.000000000,2019-11-07 17:38:58.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 11:14:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/53cc0c3da57b0d7b14ba36d62ec4a3b7251a1080', 'message': 'Fix errors in designate scenarios jobs\n\nEven though we do not test any actual port bindings, the lack of a\nproperly configured agent leads to errors in the server logs that may\ncause confusion when trying to debug real issues.\n\nSo copy the setup from the openvswitch scenario jobs, which is the most\nsimple one.\n\nChange-Id: I050aacbc1bacbadbd94359c1ab8f1ac721b90a12\n'}]",0,685321,53cc0c3da57b0d7b14ba36d62ec4a3b7251a1080,23,5,1,13252,,,0,"Fix errors in designate scenarios jobs

Even though we do not test any actual port bindings, the lack of a
properly configured agent leads to errors in the server logs that may
cause confusion when trying to debug real issues.

So copy the setup from the openvswitch scenario jobs, which is the most
simple one.

Change-Id: I050aacbc1bacbadbd94359c1ab8f1ac721b90a12
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/21/685321/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53cc0c3da57b0d7b14ba36d62ec4a3b7251a1080,fix-designate-scenario," Q_AGENT: openvswitch devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_dvr: false # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: agent: tunnel_types: vxlan,gre ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex",,15,0
openstack%2Fpython-manilaclient~master~I1dd8271bed80a727901a4ee98182b4790790931e,openstack/python-manilaclient,master,I1dd8271bed80a727901a4ee98182b4790790931e,Add more detail to API introduction,MERGED,2019-11-06 06:24:27.000000000,2019-11-07 17:07:35.000000000,2019-11-07 17:05:11.000000000,"[{'_account_id': 16643}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 06:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/6076ed2bcc0f623f02c694067e722fe60bd4a6a8', 'message': 'Add more detail to API introduction\n\nCreating a share in Manila requires an existing share-type\nso this change adds a deeper usage example that includes\ncreation of a share-type, allowing share access to an IP\nrange, and demonstrates reading export_locations from a share\n\nChange-Id: I1dd8271bed80a727901a4ee98182b4790790931e\n'}, {'number': 2, 'created': '2019-11-07 12:10:00.000000000', 'files': ['doc/source/user/api.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c07a11194f09704c726f0d3e763abc018af855cc', 'message': 'Add more detail to API introduction\n\nCreating a share in Manila requires an existing share-type\nso this change adds a deeper usage example that includes\ncreation of a share-type, allowing share access to an IP\nrange, and demonstrates reading export_locations from a share\n\nChange-Id: I1dd8271bed80a727901a4ee98182b4790790931e\n'}]",1,693124,c07a11194f09704c726f0d3e763abc018af855cc,11,3,2,20634,,,0,"Add more detail to API introduction

Creating a share in Manila requires an existing share-type
so this change adds a deeper usage example that includes
creation of a share-type, allowing share access to an IP
range, and demonstrates reading export_locations from a share

Change-Id: I1dd8271bed80a727901a4ee98182b4790790931e
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/24/693124/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/api.rst'],1,6076ed2bcc0f623f02c694067e722fe60bd4a6a8,,"In addition to creating and deleting shares, the manilaclient can manage share-types, access controls, and more! Using CephFS with Ganesha for NFS support as an example (assuumes this continues from the above initialization):: >>> share_type = client.share_types.create( >>> name=""cephfsnfstype"", spec_driver_handles_share_servers=False, >>> extra_specs={ >>> 'vendor_name': 'Ceph', >>> 'storage_protocol': 'NFS', >>> 'snapshot_support': False, >>> }) >>> share_type <ShareType: cephfsnfstype> >>> share = client.shares.create( >>> share_type='cephfsnfstype', name='cephnfsshare1', >>> share_proto=""nfs"", size=1) >>> share.allow(access_type='ip', access=""192.168.0.0/24"", access_level='rw') {'id': '29bc4b66-d55d-424d-8107-aee96d1c562b', 'share_id': '0ac95dd2-afba-4ba3-8934-721b29492f04', 'access_level': 'rw', 'access_to': '192.168.0.0/24', 'access_type': 'ip', 'state': 'new'} >>> share.export_locations ['10.5.0.22:/volumes/_nogroup/cf0451b6-0a95-4982-a801-2e212e9c9b96'] In the above example, Manila will be setup with an NFS share type, backed by CephFS. A share is then created, and then access controls are added giving the 192.168.0.0 subnet read/write access to the share.",,24,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,openstack/tripleo-heat-templates,stable/stein,I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,Fix duplicate mount point in neutron_dhcp,MERGED,2019-11-07 07:26:36.000000000,2019-11-07 17:05:03.000000000,2019-11-07 17:05:03.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-11-07 07:26:36.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1919a6961f65473a8c463f47d5511e9706bfd07f', 'message': 'Fix duplicate mount point in neutron_dhcp\n\npodman >= 1.4.x bails out when duplicate mount points are passed to it\nand with tls-everywhere the neutron_dhcp container will fail with:\n\n2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1\n\n ""b\'Error: /etc/ipa/ca.crt: duplicate mount destination\\\\n\'\n\nThat is because the /etc/ipa/ca.crt is provided by both\n[ContainersCommon, volumes] and the step_4/neutron_dhcp itself\n\nWe can simply remove it from the neutron_dhcp container.\n\nChange-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68\nCloses-Bug: #1850663\n(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)\n'}]",0,693302,1919a6961f65473a8c463f47d5511e9706bfd07f,7,4,1,20172,,,0,"Fix duplicate mount point in neutron_dhcp

podman >= 1.4.x bails out when duplicate mount points are passed to it
and with tls-everywhere the neutron_dhcp container will fail with:

2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1

 ""b'Error: /etc/ipa/ca.crt: duplicate mount destination\\n'

That is because the /etc/ipa/ca.crt is provided by both
[ContainersCommon, volumes] and the step_4/neutron_dhcp itself

We can simply remove it from the neutron_dhcp container.

Change-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68
Closes-Bug: #1850663
(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/693302/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,1919a6961f65473a8c463f47d5511e9706bfd07f,fix_neutron_dhcp_agent_tls-stable/train-stable/stein,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,openstack/tripleo-heat-templates,stable/train,I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,Fix duplicate mount point in neutron_dhcp,MERGED,2019-11-06 19:06:20.000000000,2019-11-07 17:05:02.000000000,2019-11-07 17:05:02.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-11-06 19:06:20.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b74f3a11c67ebc6dfd761b16ed4c7b5d33861e7', 'message': 'Fix duplicate mount point in neutron_dhcp\n\npodman >= 1.4.x bails out when duplicate mount points are passed to it\nand with tls-everywhere the neutron_dhcp container will fail with:\n\n2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1\n\n ""b\'Error: /etc/ipa/ca.crt: duplicate mount destination\\\\n\'\n\nThat is because the /etc/ipa/ca.crt is provided by both\n[ContainersCommon, volumes] and the step_4/neutron_dhcp itself\n\nWe can simply remove it from the neutron_dhcp container.\n\nChange-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68\nCloses-Bug: #1850663\n(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)\n'}]",0,693230,1b74f3a11c67ebc6dfd761b16ed4c7b5d33861e7,12,5,1,20172,,,0,"Fix duplicate mount point in neutron_dhcp

podman >= 1.4.x bails out when duplicate mount points are passed to it
and with tls-everywhere the neutron_dhcp container will fail with:

2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1

 ""b'Error: /etc/ipa/ca.crt: duplicate mount destination\\n'

That is because the /etc/ipa/ca.crt is provided by both
[ContainersCommon, volumes] and the step_4/neutron_dhcp itself

We can simply remove it from the neutron_dhcp container.

Change-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68
Closes-Bug: #1850663
(cherry picked from commit 1b718b2cab925037671e10aa41ce3de5aa30959d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/693230/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,1b74f3a11c67ebc6dfd761b16ed4c7b5d33861e7,fix_neutron_dhcp_agent_tls-stable/train,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Fnetworking-sfc~master~I3aa83d85858cbf1bc97444e900c3521e3152ec5d,openstack/networking-sfc,master,I3aa83d85858cbf1bc97444e900c3521e3152ec5d,Switch to Ussuri jobs,MERGED,2019-10-25 06:49:49.000000000,2019-11-07 17:03:30.000000000,2019-11-07 17:00:33.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 06:49:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5417e6cf8d25ba7ea760710560a9ccb6507f2dbb', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I3aa83d85858cbf1bc97444e900c3521e3152ec5d\n'}]",0,691221,5417e6cf8d25ba7ea760710560a9ccb6507f2dbb,7,2,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I3aa83d85858cbf1bc97444e900c3521e3152ec5d
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/21/691221/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,5417e6cf8d25ba7ea760710560a9ccb6507f2dbb,ussuri, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fneutron-lib~master~Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,openstack/neutron-lib,master,Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29,Add setproctitle support to the workers module,MERGED,2019-02-15 03:28:16.000000000,2019-11-07 16:59:51.000000000,2019-02-20 10:03:26.000000000,"[{'_account_id': 9531}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-15 03:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/39bbffbe9b1d70b8a0b9de7f7a44327d2ee90d8b', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 2, 'created': '2019-02-15 05:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1776d461b1e6494d96e00251a5e8f8f0439b2b0', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 3, 'created': '2019-02-16 02:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/89724108c8bef58d540273b5a92cadf2def1b6c7', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 4, 'created': '2019-02-16 05:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f66f4ef32c94cd73c9b151d00de536cc9313815e', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 5, 'created': '2019-02-18 05:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/217440dab8c92a9e0ba99113af29815b7775e8ff', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 6, 'created': '2019-02-18 16:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/222412f16de8a46fe38134bc33b696dcd94133d9', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 7, 'created': '2019-02-18 20:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/411179cd398b2b820fbac3c4f1401d18a0c44a49', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nPartially-closes-bug: #1816485\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}, {'number': 8, 'created': '2019-02-18 20:39:01.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/worker.py', 'releasenotes/notes/setproctitle_for_workers-e8805fcaf34026ab.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2c1e09bfd5a275c74213d200a7455bbf46893a1a', 'message': 'Add setproctitle support to the workers module\n\n- Set the process name of child neutron-servers to be something more\n  readily identifiable than today.\n- Enable by default for all users of the workers module, neutron will\n  have a conf setting for its workers.\n\nMatching neutron change:\nhttps://review.openstack.org/637019\n\nPartial-Bug: #1816485\nDepends-On: https://review.openstack.org/637024\nChange-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29\n'}]",9,637119,2c1e09bfd5a275c74213d200a7455bbf46893a1a,28,5,8,10980,,,0,"Add setproctitle support to the workers module

- Set the process name of child neutron-servers to be something more
  readily identifiable than today.
- Enable by default for all users of the workers module, neutron will
  have a conf setting for its workers.

Matching neutron change:
https://review.openstack.org/637019

Partial-Bug: #1816485
Depends-On: https://review.openstack.org/637024
Change-Id: Ic6eca08f2ccacb3f8bf741c47a45e88cd3877b29
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/19/637119/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron_lib/tests/unit/test_worker.py', 'neutron_lib/worker.py', 'releasenotes/notes/setproctitle_for_workers-e8805fcaf34026ab.yaml']",4,39bbffbe9b1d70b8a0b9de7f7a44327d2ee90d8b,bug/1816485,"features: - | ``neutron_lib.worker.BaseWorker`` will now set the process title on process start, if it is a new process. By default, the name will be ""neutron-server"", and the description will be the name of the worker class. Both fields are customizable via the ``name`` and ``desc`` arguments to ``BaseWorker.start()``, and the change can be disabled via the ``set_proctitle`` argument to the ``__init__`` function. ``neutron.conf`` will have a setting for disabling this functionality for all in-tree workers, but by default, all out of tree plugin workers will set their name at fork time. ",,94,2
openstack%2Fkolla-ansible~master~I65ca794955a1b1419853bf63be36cb0d1f2d2345,openstack/kolla-ansible,master,I65ca794955a1b1419853bf63be36cb0d1f2d2345,CI: use become to install python3,MERGED,2019-11-07 13:44:09.000000000,2019-11-07 16:33:10.000000000,2019-11-07 16:31:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-07 13:44:09.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16ff0ae13984e30d55a5995e39ee8a4010cee145', 'message': 'CI: use become to install python3\n\nCommit 73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4 added installation of\nPython 3 package. But without root permissions it fails.\n\nChange-Id: I65ca794955a1b1419853bf63be36cb0d1f2d2345\n'}]",0,693356,16ff0ae13984e30d55a5995e39ee8a4010cee145,10,5,1,24072,,,0,"CI: use become to install python3

Commit 73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4 added installation of
Python 3 package. But without root permissions it fails.

Change-Id: I65ca794955a1b1419853bf63be36cb0d1f2d2345
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/693356/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,16ff0ae13984e30d55a5995e39ee8a4010cee145,691486, become: true,,1,0
openstack%2Fnova~master~Ic9133f6bc14d4fe766d37a438bf52c33e89da768,openstack/nova,master,Ic9133f6bc14d4fe766d37a438bf52c33e89da768,Improve error log when snapshot fails,MERGED,2016-08-16 15:44:05.000000000,2019-11-07 16:30:09.000000000,2019-11-07 03:07:19.000000000,"[{'_account_id': 2271}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 17292}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2016-08-16 15:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45c872d10cf62bf63e5ef027c391d0d5072626ac', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space, we want\nto have a clearer error message.\n\nCloses-Bug: #1613770\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\n\n'}, {'number': 2, 'created': '2016-08-29 20:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3761ecccf54291156dea70c7639715f92fb66ce', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space, we want\nto have a clearer error message.\n\nCloses-Bug: #1613770\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\n\n'}, {'number': 3, 'created': '2019-10-07 10:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e40ee8d3382964b72396e43e0bda75a623d8b532', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space or over\nquota, we want to have a clearer error message.\n\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\nCloses-Bug: #1613770\n'}, {'number': 4, 'created': '2019-11-06 22:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c9c131ee1ec6fc8ad93713b90ffd33be81dd6b', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space or over\nquota, we want to have a clearer error message.\n\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\nCloses-Bug: #1613770\n'}, {'number': 5, 'created': '2019-11-06 22:54:07.000000000', 'files': ['nova/exception.py', 'nova/image/glance.py', 'nova/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/024bf10d8aec5e58111793a9652b16682eb61b7c', 'message': 'Improve error log when snapshot fails\n\nIf snapshot creation via glance fails due to lack of space or over\nquota, we want to have a clearer error message.\n\nChange-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768\nCloses-Bug: #1613770\n'}]",4,356020,024bf10d8aec5e58111793a9652b16682eb61b7c,65,24,5,21718,,,0,"Improve error log when snapshot fails

If snapshot creation via glance fails due to lack of space or over
quota, we want to have a clearer error message.

Change-Id: Ic9133f6bc14d4fe766d37a438bf52c33e89da768
Closes-Bug: #1613770
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/356020/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/image/glance.py']",2,45c872d10cf62bf63e5ef027c391d0d5072626ac,bug/1613770," if isinstance(exc_value, glanceclient.exc.HTTPOverLimit): return exception.ImageStorageMediaFull(image_id=image_id)",,6,0
openstack%2Fkuryr-kubernetes~master~Iafa873e9363a0a5388aa3162fbf8456b7184f583,openstack/kuryr-kubernetes,master,Iafa873e9363a0a5388aa3162fbf8456b7184f583,Remove comment about Amphora building being broken,MERGED,2019-10-31 09:19:18.000000000,2019-11-07 16:25:43.000000000,2019-11-07 16:23:36.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-31 09:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7905259280bed0f46e8428bf4bff8ef67137e028', 'message': 'Remove comment about Amphora building being broken\n\nTrivialFix\n\nChange-Id: Iafa873e9363a0a5388aa3162fbf8456b7184f583\n'}, {'number': 2, 'created': '2019-11-07 11:35:05.000000000', 'files': ['devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'devstack/local.conf.sample', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9a214d2f6bdb958c49cc1fa91617a65864205b48', 'message': 'Remove comment about Amphora building being broken\n\nTrivialFix\n\nChange-Id: Iafa873e9363a0a5388aa3162fbf8456b7184f583\n'}]",0,692296,9a214d2f6bdb958c49cc1fa91617a65864205b48,18,5,2,11600,,,0,"Remove comment about Amphora building being broken

TrivialFix

Change-Id: Iafa873e9363a0a5388aa3162fbf8456b7184f583
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/96/692296/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'devstack/local.conf.sample', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample']",4,7905259280bed0f46e8428bf4bff8ef67137e028,remove-false-broken-octavia,# In order to skip building the Octavia Amphora image you can fetch a # precreated qcow image from here [1] and set up octavia to use it by # uncommenting the following lines. # [1] https://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2,# Current Octavia image generation using diskimage-builder is broken ATM # You can fetch a precreated qcow image from here [1] and set up octavia to # use it by uncommenting the following lines. # [1] https://tarballs.openstack.org/octavia/test-images/ # test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2,16,20
openstack%2Ftripleo-common~stable%2Fstein~I1f15441ef31f530758f1588e8006cc6b17d3aeaf,openstack/tripleo-common,stable/stein,I1f15441ef31f530758f1588e8006cc6b17d3aeaf,Fix dynamic executor appending to objects,MERGED,2019-11-06 15:14:46.000000000,2019-11-07 16:25:09.000000000,2019-11-07 16:22:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 15:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0839265ac8e33970d9049a14de1db927ff9948e7', 'message': 'Fix dynamic executor appending to objects\n\nSet() has no the append() method.\nUnify the _objects to be always assigned a list.\nTake the safer remove() approach for the non-unique locks,\nif any happened in the image uploader locks manager.\n\nChange-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 0b77267d5e974fcb1b759410a94bdb236e96852d)\n'}, {'number': 2, 'created': '2019-11-06 15:15:46.000000000', 'files': ['tripleo_common/utils/locks/threadinglock.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/962f0a33adf236a20f3b6803e63f755ba0622a8b', 'message': 'Fix dynamic executor appending to objects\n\nSet() has no the append() method.\nUnify the _objects to be always assigned a list.\nTake the safer remove() approach for the non-unique locks,\nif any happened in the image uploader locks manager.\n\nCloses-Bug: #1851502\nChange-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 0b77267d5e974fcb1b759410a94bdb236e96852d)\n'}]",0,693196,962f0a33adf236a20f3b6803e63f755ba0622a8b,10,4,2,14985,,,0,"Fix dynamic executor appending to objects

Set() has no the append() method.
Unify the _objects to be always assigned a list.
Take the safer remove() approach for the non-unique locks,
if any happened in the image uploader locks manager.

Closes-Bug: #1851502
Change-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 0b77267d5e974fcb1b759410a94bdb236e96852d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/693196/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/image_uploader.py', 'tripleo_common/utils/locks/threadinglock.py']",2,0839265ac8e33970d9049a14de1db927ff9948e7,bug/1847225-stable/stein, self._objects = [], self._objects = set(),2,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/queens,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:58:26.000000000,2019-11-07 16:22:59.000000000,2019-11-07 16:22:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 14:58:26.000000000', 'files': ['docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/669f60260440914d60d55453c07ba2b0751e8cb2', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nConflicts:\n        puppet/services/keystone.yaml\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}]",0,693193,669f60260440914d60d55453c07ba2b0751e8cb2,10,5,1,14985,,,0,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        puppet/services/keystone.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/693193/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/keystone.yaml'],1,669f60260440914d60d55453c07ba2b0751e8cb2,bug/1811005," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] environment: KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ]",7,1
openstack%2Fkuryr-kubernetes~master~I18e0729d2762c68cb604f46e9c6e974c1020b945,openstack/kuryr-kubernetes,master,I18e0729d2762c68cb604f46e9c6e974c1020b945,Better log message for pools re-population,MERGED,2019-10-28 16:49:37.000000000,2019-11-07 16:16:11.000000000,2019-11-07 16:14:36.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-28 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa4d38078ece36bf12716f56318f3393c5fea8cc', 'message': 'Better log message for pools re-population\n\nChange-Id: I18e0729d2762c68cb604f46e9c6e974c1020b945\n'}, {'number': 2, 'created': '2019-11-07 11:33:02.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf64e959d40fb814b9e103409461e1883156a4ca', 'message': 'Better log message for pools re-population\n\nChange-Id: I18e0729d2762c68cb604f46e9c6e974c1020b945\n'}]",0,691718,bf64e959d40fb814b9e103409461e1883156a4ca,17,5,2,23567,,,0,"Better log message for pools re-population

Change-Id: I18e0729d2762c68cb604f46e9c6e974c1020b945
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/18/691718/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,aa4d38078ece36bf12716f56318f3393c5fea8cc,pool-warning," LOG.debug(""Ports pool does not have available ports: %s"", pool_key)"," LOG.warning(""Ports pool does not have available ports!"")",2,1
openstack%2Fcharms.openstack~master~I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe,openstack/charms.openstack,master,I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe,Use reactive flags for pause/resume/series-upgrade,MERGED,2019-11-06 16:35:16.000000000,2019-11-07 16:11:54.000000000,2019-11-07 16:11:53.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 16:35:16.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/3a7e0976f19425b13cefb9c1d391714319ac9aaa', 'message': 'Use reactive flags for pause/resume/series-upgrade\n\nCurrently when a unit is paused, resumed or series upgrade commands are\nrun there are calls out to charmhelpers which uses local kv store to set\nstate.\n\nThere is currently no way to use a reactive handler (when, when_not) to\ndetermine these states.\n\nThis change adds the reactive handler flags while maintaining the\nprevious method.\n\nChange-Id: I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe\n'}]",0,693219,3a7e0976f19425b13cefb9c1d391714319ac9aaa,6,2,1,20805,,,0,"Use reactive flags for pause/resume/series-upgrade

Currently when a unit is paused, resumed or series upgrade commands are
run there are calls out to charmhelpers which uses local kv store to set
state.

There is currently no way to use a reactive handler (when, when_not) to
determine these states.

This change adds the reactive handler flags while maintaining the
previous method.

Change-Id: I1b27ebeced1ee56f1133b8b34806571ad1b6c9fe
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/19/693219/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,3a7e0976f19425b13cefb9c1d391714319ac9aaa,reactive-handlers," reactive.set_flag(""charm.paused"") reactive.clear_flag(""charm.paused"") reactive.set_flag(""charm.series-upgrading"") reactive.set_flag(""charm.paused"") reactive.clear_flag(""charm.series-upgrading"") reactive.clear_flag(""charm.paused"")",,6,0
openstack%2Fnova~master~If47ed9dcb0c1a8278ba87af884351ab9411175af,openstack/nova,master,If47ed9dcb0c1a8278ba87af884351ab9411175af,Don't take a lock when fetching a cached cell mapping,NEW,2019-10-11 13:25:29.000000000,2019-11-07 16:08:42.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28614}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-11 13:25:29.000000000', 'files': ['nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d450e8bf5d909f883964415eb44eb5098c8c95e1', 'message': 'Don\'t take a lock when fetching a cached cell mapping\n\nWe call set_target_cell quite a lot. Each invocation generates the\nfollowing 2 log messages:\n\nDEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" acquired by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:273\nDEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" released by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:285\n\nIt\'s useful but not entirely obvious that the lock here happens to be\nthe cell uuid, so I\'ve added a shorter, more obvious log message to\nreplace the above.\n\nChange-Id: If47ed9dcb0c1a8278ba87af884351ab9411175af\n'}]",7,688122,d450e8bf5d909f883964415eb44eb5098c8c95e1,27,16,1,9555,,,0,"Don't take a lock when fetching a cached cell mapping

We call set_target_cell quite a lot. Each invocation generates the
following 2 log messages:

DEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" acquired by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: waited 0.000s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:273
DEBUG oslo_concurrency.lockutils [req-XXX] Lock ""<Cell UUID>"" released by ""nova.context.get_or_set_cached_cell_and_set_connections"" :: held 0.001s inner /usr/lib/python2.7/site-packages/oslo_concurrency/lockutils.py:285

It's useful but not entirely obvious that the lock here happens to be
the cell uuid, so I've added a shorter, more obvious log message to
replace the above.

Change-Id: If47ed9dcb0c1a8278ba87af884351ab9411175af
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/688122/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/context.py'],1,d450e8bf5d909f883964415eb44eb5098c8c95e1,noisy_cell_selection," def get_cell_connections(): try: (db_connection, mq_connection) = CELL_CACHE[cell_mapping.uuid] db_connection = db.create_context_manager(db_connection_string) if not cell_mapping.transport_url.startswith('none'): mq_connection = rpc.create_transport( cell_mapping.transport_url) else: mq_connection = context.mq_connection CELL_CACHE[cell_mapping.uuid] = (db_connection, mq_connection) return (db_connection, mq_connection) try: # NOTE(mdbooth): Try without taking a lock first. This is primarily # to avoid log noise from utils.synchronized when simply reading a # previously cached value, which is the common operation. The # overhead of the locks themselves is assumed to be trivial. (db_connection, mq_connection) = CELL_CACHE[cell_mapping.uuid] except KeyError: (db_connection, mq_connection) = get_cell_connections() LOG.debug('Setting context for cell %(cell)s', {'cell': cell_mapping.uuid}) context.db_connection = db_connection context.mq_connection = mq_connection context.cell_uuid = cell_mapping.uuid else: LOG.debug('Untargetting context') "," def get_or_set_cached_cell_and_set_connections(): try: cell_tuple = CELL_CACHE[cell_mapping.uuid] context.db_connection = db.create_context_manager( db_connection_string) if not cell_mapping.transport_url.startswith('none'): context.mq_connection = rpc.create_transport( cell_mapping.transport_url) context.cell_uuid = cell_mapping.uuid CELL_CACHE[cell_mapping.uuid] = (context.db_connection, context.mq_connection) else: context.db_connection = cell_tuple[0] context.mq_connection = cell_tuple[1] context.cell_uuid = cell_mapping.uuid get_or_set_cached_cell_and_set_connections() else:",30,15
openstack%2Fcharm-heat~master~Ia607dc9120cfb03902efb019041b43cf12ade2d3,openstack/charm-heat,master,Ia607dc9120cfb03902efb019041b43cf12ade2d3,Policyd override implementation,MERGED,2019-11-06 11:49:11.000000000,2019-11-07 15:59:24.000000000,2019-11-07 15:59:24.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 11:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/ee41d58f8be34a405c7bba77bcebf6480d4a833b', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for heat.  It uses the\ncode in charmhelpers.\n\nIt also fixes a bug in the actions/domain-setup where it assumes that\nthe python2 version of openstackclient should be installed, and corrects\nthis via code in hooks/install and hooks/upgrade-charm.\n\nA sync of charm-helpers is included to bring the latest policyd changes\nthrough to the charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/111\n\nChange-Id: Ia607dc9120cfb03902efb019041b43cf12ade2d3\nClosed-Bug: #1741723\n'}, {'number': 2, 'created': '2019-11-06 16:12:52.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/context.py', 'actions/domain-setup', 'unit_tests/test_heat_relations.py', 'README.md', 'hooks/heat_relations.py', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'hooks/upgrade-charm.real', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'hooks/charmhelpers/core/hookenv.py', 'hooks/install', 'hooks/upgrade-charm', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/98de623820f58dc562ba770431e3464193d15a27', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for heat.  It uses the\ncode in charmhelpers.\n\nIt also fixes a bug in the actions/domain-setup where it assumes that\nthe python2 version of openstackclient should be installed, and corrects\nthis via code in hooks/install and hooks/upgrade-charm.\n\nA sync of charm-helpers is included to bring the latest policyd changes\nthrough to the charm.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/111\n\nChange-Id: Ia607dc9120cfb03902efb019041b43cf12ade2d3\nClosed-Bug: #1741723\n'}]",0,693162,98de623820f58dc562ba770431e3464193d15a27,15,4,2,20870,,,0,"Policyd override implementation

This patchset implements policy overrides for heat.  It uses the
code in charmhelpers.

It also fixes a bug in the actions/domain-setup where it assumes that
the python2 version of openstackclient should be installed, and corrects
this via code in hooks/install and hooks/upgrade-charm.

A sync of charm-helpers is included to bring the latest policyd changes
through to the charm.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/111

Change-Id: Ia607dc9120cfb03902efb019041b43cf12ade2d3
Closed-Bug: #1741723
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/62/693162/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/context.py', 'actions/domain-setup', 'unit_tests/test_heat_relations.py', 'README.md', 'hooks/heat_relations.py', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'hooks/upgrade-charm.real', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'hooks/charmhelpers/core/hookenv.py', 'hooks/install', 'hooks/upgrade-charm', 'metadata.yaml']",17,ee41d58f8be34a405c7bba77bcebf6480d4a833b,policy-overrides,resources: policyd-override: type: file filename: policyd-override.zip description: The policy.d overrides file,,295,84
openstack%2Ftripleo-ci~master~I4b18b09f9c60992056f54d1949ae38dde8618185,openstack/tripleo-ci,master,I4b18b09f9c60992056f54d1949ae38dde8618185,Fix rhel8 build containers for patch and periodic,MERGED,2019-11-05 16:42:58.000000000,2019-11-07 15:44:50.000000000,2019-11-06 18:55:46.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 16:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e30e9cff126de392be3df8c2cbb78538537dfafd', 'message': 'WIP: rhel8 build containers for patch and periodic\n\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}, {'number': 2, 'created': '2019-11-05 19:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df245302cf9b413d4dc44ef681e1022a36e190ac', 'message': 'RHEL-8 build containers for patch and periodic\n\n1. Train branch doesn\'t exist in kolla yet and\n""hacking"" patch exists in master only, so rebase on\nmaster always.\n2. First patch will not be listed in git remote-ls\nthat\'s why it never worked on first run and doesn\'t\npick up changes. Change it to rebase on patch always\nwhen zuul.ref if defined.\n\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}, {'number': 3, 'created': '2019-11-06 10:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ecc1044deac59276b215442a210343cb1c80b4f', 'message': 'WIP: rhel8 build containers for patch and periodic\n\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}, {'number': 4, 'created': '2019-11-06 11:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c52d0a390f0dd79e2f9e6e349a38b62bafa0d4b8', 'message': 'Fix rhel8 build containers for patch and periodic\n\nAdd also train branch\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}, {'number': 5, 'created': '2019-11-06 11:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d147c767abd15f35e58db3c5a35b8e52b0db8e5', 'message': 'Fix rhel8 build containers for patch and periodic\n\nAdd also train branch\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}, {'number': 6, 'created': '2019-11-06 11:59:29.000000000', 'files': ['roles/build-containers/vars/common.yaml', 'roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ddb5f89674b6812ff49ea8780e19b9f6b698bfb', 'message': 'Fix rhel8 build containers for patch and periodic\n\nAdd also train branch\nChange-Id: I4b18b09f9c60992056f54d1949ae38dde8618185\n'}]",3,693048,9ddb5f89674b6812ff49ea8780e19b9f6b698bfb,27,4,6,10969,,,0,"Fix rhel8 build containers for patch and periodic

Add also train branch
Change-Id: I4b18b09f9c60992056f54d1949ae38dde8618185
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/693048/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,e30e9cff126de392be3df8c2cbb78538537dfafd,testr8," {% if zuul.ref is defined and zuul.ref and zuul.pipeline in ['check', 'openstack-check'] %} git_rebase_branch={{ zuul.ref }} git pull --rebase upstream $git_rebase_branch {% else %} git pull --rebase upstream master"," {% if zuul.ref is defined and zuul.pipeline in ['check', 'openstack-check'] %} if git ls-remote https://review.opendev.org/openstack/kolla | grep -q {{ zuul.ref }} ; then git_rebase_branch={{ zuul.ref }} fi git pull --rebase upstream $git_rebase_branch",5,5
openstack%2Fnova~stable%2Fstein~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,stable/stein,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-06 19:47:13.000000000,2019-11-07 15:41:33.000000000,2019-11-07 15:38:59.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-06 19:47:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23ed1d47a84476576d9dd3dfc9a45f55149cc2b4', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n'}, {'number': 2, 'created': '2019-11-07 12:45:50.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f2d6dbd77144caf561615d0f552f4e2dc94b7d19', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)\n'}]",2,693242,f2d6dbd77144caf561615d0f552f4e2dc94b7d19,14,4,2,27478,,,0,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)
(cherry picked from commit 47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/693242/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,23ed1d47a84476576d9dd3dfc9a45f55149cc2b4,bug/1851425,:command:`nova boot` command: - nova boot parameter $ nova boot --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Property | Value | ``--block-device-mapping`` option could also be used for more granular control,:command:`openstack server create` command: - openstack server create parameter $ openstack server create --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Field | Value | ``--block-device`` option could also be used for more granular control,5,5
openstack%2Ftripleo-heat-templates~master~I99bc5342360e307a9ee499cde5f2a0b5d78170f8,openstack/tripleo-heat-templates,master,I99bc5342360e307a9ee499cde5f2a0b5d78170f8,Adds ceph-systemd tag in external_upgrade_tasks for systemd units,MERGED,2019-10-25 15:45:20.000000000,2019-11-07 15:28:05.000000000,2019-10-31 22:25:30.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-25 15:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9975f49cfa13534552d4792a9a43ae5468fe161e', 'message': ""Adds ceph-systemd tag in external_upgrade_tasks for systemd units\n\nWhen upgrading the host operating system we'll also replace docker\nwith podman; ceph-ansible provides for a special playbook meant\nto refresh the systemd units to work with podman.\n\nThis change adds a task which on upgrade will execute the special\nplaybook. It requires ceph_ansible_limit to be set by the user as\nthat gets translated into a --limit option for the playbook execution\nso that it runs only against a specific node undergoing upgrade\nof the host operating system.\n\nChange-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8\nDepends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n""}, {'number': 2, 'created': '2019-10-30 11:58:35.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8048707f7a56e52d8664ece8a4adbf958c0001e', 'message': ""Adds ceph-systemd tag in external_upgrade_tasks for systemd units\n\nWhen upgrading the host operating system we'll also replace docker\nwith podman; ceph-ansible provides for a special playbook meant\nto refresh the systemd units to work with podman.\n\nThis change adds a task which on upgrade will execute the special\nplaybook. It requires ceph_ansible_limit to be set by the user as\nthat gets translated into a --limit option for the playbook execution\nso that it runs only against a specific node undergoing upgrade\nof the host operating system.\n\nChange-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8\nDepends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n""}]",1,691380,e8048707f7a56e52d8664ece8a4adbf958c0001e,22,8,2,6796,,,0,"Adds ceph-systemd tag in external_upgrade_tasks for systemd units

When upgrading the host operating system we'll also replace docker
with podman; ceph-ansible provides for a special playbook meant
to refresh the systemd units to work with podman.

This change adds a task which on upgrade will execute the special
playbook. It requires ceph_ansible_limit to be set by the user as
that gets translated into a --limit option for the playbook execution
so that it runs only against a specific node undergoing upgrade
of the host operating system.

Change-Id: I99bc5342360e307a9ee499cde5f2a0b5d78170f8
Depends-On: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/691380/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,9975f49cfa13534552d4792a9a43ae5468fe161e,," tags: ceph-systemd block: - name: stop if _limit is unset fail: msg: The ceph-ansible systemd units migration playbook limit is not set; please use -e ceph_ansible_limit=##nodename## when: (ceph_ansible_limit is not defined) or (ceph_ansible_limit|length == 0) - name: set ceph_ansible_playbooks_default set_fact: ceph_ansible_playbooks_default: [""/usr/share/ceph-ansible/infrastructure-playbooks/docker-to-podman.yml""]",,9,0
openstack%2Ftripleo-ansible~master~I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,openstack/tripleo-ansible,master,I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0,Add support for --limit option into ceph-ansible call,MERGED,2019-10-25 15:42:13.000000000,2019-11-07 15:27:55.000000000,2019-10-30 00:05:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-25 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10fb308690ba393a289b19093b6fcf7a8bc5eb2d', 'message': ""Add support for --limit option into ceph-ansible call\n\nThis will be useful when executing playbooks which can't run against\nall nodes. For example the newly introduced docker-to-podman playbook\nmeant to migrate systemd units from docker to podman for compatibility\nwith newer CentOS versions.\n\nChange-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n""}, {'number': 2, 'created': '2019-10-28 13:17:28.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd6975a2735942956f0e22d805baf18959d39ebd', 'message': ""Add support for --limit option into ceph-ansible call\n\nThis will be useful when executing playbooks which can't run against\nall nodes. For example the newly introduced docker-to-podman playbook\nmeant to migrate systemd units from docker to podman for compatibility\nwith newer CentOS versions.\n\nChange-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0\n""}]",3,691379,bd6975a2735942956f0e22d805baf18959d39ebd,23,10,2,6796,,,0,"Add support for --limit option into ceph-ansible call

This will be useful when executing playbooks which can't run against
all nodes. For example the newly introduced docker-to-podman playbook
meant to migrate systemd units from docker to podman for compatibility
with newer CentOS versions.

Change-Id: I4538d64ed49b4a6e4670d1e1d050fc5443e2edb0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/691379/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,10fb308690ba393a289b19093b6fcf7a8bc5eb2d,, - '{% if ceph_ansible_limit is defined and ceph_ansible_limit|length > 0%}--limit {{ ceph_ansible_limit }}{% endif %}',,1,0
openstack%2Fopenstack-ansible-os_zun~master~Ibce6dafbcc8a047f957aa679f44643f4f8838c85,openstack/openstack-ansible-os_zun,master,Ibce6dafbcc8a047f957aa679f44643f4f8838c85,Allow venv python interpreter to be overridden,ABANDONED,2019-11-07 14:31:04.000000000,2019-11-07 14:48:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-07 14:31:04.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/42f243002f40620a312b54057b7f66c61213a9e6', 'message': 'Allow venv python interpreter to be overridden\n\nChange-Id: Ibce6dafbcc8a047f957aa679f44643f4f8838c85\n'}]",0,693361,42f243002f40620a312b54057b7f66c61213a9e6,3,1,1,28619,,,0,"Allow venv python interpreter to be overridden

Change-Id: Ibce6dafbcc8a047f957aa679f44643f4f8838c85
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/61/693361/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,42f243002f40620a312b54057b7f66c61213a9e6,osa-py3,"# Set interpreter zun_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}"" ",,4,0
openstack%2Fmistral~stable%2Frocky~I2571246947ab5ae06731fc7d35de7a5954325a82,openstack/mistral,stable/rocky,I2571246947ab5ae06731fc7d35de7a5954325a82,Add release note for fix error of cron trigger run,MERGED,2019-11-05 14:37:51.000000000,2019-11-07 14:42:03.000000000,2019-11-07 08:38:01.000000000,"[{'_account_id': 8731}, {'_account_id': 21032}, {'_account_id': 22348}, {'_account_id': 28691}]","[{'number': 1, 'created': '2019-11-05 14:37:51.000000000', 'files': ['releasenotes/notes/fix_error_validate_token_when_run_cron_trigger-7beffc06b75294fb.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/eab767f3ed1a6dfd4f50b214556142346c830c35', 'message': 'Add release note for fix error of cron trigger run\n\nIt relates to the change I793fbfec03032d9ff7137c11becb6d1c18ec54bc,\ncommit 51b7dd0c6d.\n\nChange-Id: I2571246947ab5ae06731fc7d35de7a5954325a82\n(cherry picked from commit 948ceb150b66b86ba56b11821e1bb9cb8a7209cc)\n'}]",0,693019,eab767f3ed1a6dfd4f50b214556142346c830c35,13,4,1,31093,,,0,"Add release note for fix error of cron trigger run

It relates to the change I793fbfec03032d9ff7137c11becb6d1c18ec54bc,
commit 51b7dd0c6d.

Change-Id: I2571246947ab5ae06731fc7d35de7a5954325a82
(cherry picked from commit 948ceb150b66b86ba56b11821e1bb9cb8a7209cc)
",git fetch https://review.opendev.org/openstack/mistral refs/changes/19/693019/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix_error_validate_token_when_run_cron_trigger-7beffc06b75294fb.yaml'],1,eab767f3ed1a6dfd4f50b214556142346c830c35,releasenote-bug-1843175-stable/rocky,--- fixes: - | Fix error validate token when run cron trigger. The problem is that a trust client can't do validate token when run cron trigger. ,,5,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fstein~I4d846b7704e22d1ae58163d413c86dd01ff3563c,openstack/openstack-ansible-rabbitmq_server,stable/stein,I4d846b7704e22d1ae58163d413c86dd01ff3563c,Ansible  'search' is a test not a filter,MERGED,2019-11-06 13:14:07.000000000,2019-11-07 14:27:41.000000000,2019-11-07 14:26:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-06 13:14:07.000000000', 'files': ['tests/test-rabbitmq-functional.yml', 'tasks/rabbitmq_upgrade_check.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/84d8bd67825dbc7447f5155bb07d1ffa8ae66f40', 'message': ""Ansible  'search' is a test not a filter\n\nOlder ansible versions used search as a filter but this is no longer\nvalid, and search should be used as a test\n\nChange-Id: I4d846b7704e22d1ae58163d413c86dd01ff3563c\n(cherry picked from commit 95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0)\n""}]",0,693178,84d8bd67825dbc7447f5155bb07d1ffa8ae66f40,8,3,1,25023,,,0,"Ansible  'search' is a test not a filter

Older ansible versions used search as a filter but this is no longer
valid, and search should be used as a test

Change-Id: I4d846b7704e22d1ae58163d413c86dd01ff3563c
(cherry picked from commit 95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/78/693178/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-rabbitmq-functional.yml', 'tasks/rabbitmq_upgrade_check.yml']",2,84d8bd67825dbc7447f5155bb07d1ffa8ae66f40,, - not installed_rabbitmq.stdout is search(rabbitmq_package_version), - not installed_rabbitmq.stdout | search(rabbitmq_package_version),2,2
openstack%2Fnova~master~If9e2eb3bbda53c71846e8a08ad507d3faa07722d,openstack/nova,master,If9e2eb3bbda53c71846e8a08ad507d3faa07722d,Remove unused 'nova-dsvm-base' job,MERGED,2019-10-14 11:35:39.000000000,2019-11-07 14:11:10.000000000,2019-11-07 07:47:56.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-14 11:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20cc32f406e35cfa03ac695f256eb83517c82b9f', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-14 11:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20227987ec27f7096766609c3c0cda87c2ee8aec', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-14 15:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bae472e6e5aa957f3a1bd837eb0d18317cc29355', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-14 15:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62d80fbb1a2ede9b9d095cdb4e289bc1475a2e3f', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-10-15 10:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd6fdc2878ff26e2cf9cddea0492969347f96c06', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-11-06 22:01:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e1680cc71de8d2ed65ebf98493b84b29bd8f85a', 'message': ""Remove unused 'nova-dsvm-base' job\n\nThis has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,\nwhich converted the 'nova-lvm' job to zuul v3 native format.\n\nChange-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,688389,3e1680cc71de8d2ed65ebf98493b84b29bd8f85a,63,13,6,15334,,,0,"Remove unused 'nova-dsvm-base' job

This has been unused since I4630066731f12c42091ddf9dd3159e0494df88b1,
which converted the 'nova-lvm' job to zuul v3 native format.

Change-Id: If9e2eb3bbda53c71846e8a08ad507d3faa07722d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/688389/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,20cc32f406e35cfa03ac695f256eb83517c82b9f,drop-python2-support,, name: nova-dsvm-base parent: legacy-dsvm-base description: | The base job definition for nova devstack/tempest jobs. Contains common configuration. timeout: 10800 required-projects: - openstack/devstack-gate - openstack/nova - openstack/tempest irrelevant-files: &dsvm-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - job:,0,26
openstack%2Ftripleo-heat-templates~stable%2Frocky~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,stable/rocky,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-06 14:56:30.000000000,2019-11-07 13:56:50.000000000,2019-11-07 13:56:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 14:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52bade5b813901ba688949b210c70be307585d7c', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nConflicts:\n        puppet/services/keystone.yaml\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}, {'number': 2, 'created': '2019-11-06 14:58:03.000000000', 'files': ['docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7cafbc50007690681d3d4eebcb169fcd6e17ed2', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nConflicts:\n        puppet/services/keystone.yaml\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)\n'}]",0,693191,a7cafbc50007690681d3d4eebcb169fcd6e17ed2,9,4,2,14985,,,0,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Conflicts:
        puppet/services/keystone.yaml

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
(cherry picked from commit 068527d139b4b521782873fdd97ac46cb10b0885)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/693191/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/keystone.yaml'],1,52bade5b813901ba688949b210c70be307585d7c,bug/1811005," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] environment: KOLLA_BOOTSTRAP: true KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ]",8,1
openstack%2Fkolla-ansible~stable%2Fstein~I7601bb710097a78f6b29bc4018c71f2c6283eef2,openstack/kolla-ansible,stable/stein,I7601bb710097a78f6b29bc4018c71f2c6283eef2,Wait for MariaDB to be accessible via HAProxy,MERGED,2019-11-05 14:17:10.000000000,2019-11-07 13:51:20.000000000,2019-11-07 13:49:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}, {'_account_id': 29543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8eb4077da1a0ee6f672abeb9bc8de9eeeaae8fb', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nCloses-Bug: #1840145\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)\n'}, {'number': 2, 'created': '2019-11-07 10:31:03.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d03d2e28f1d37b3eb21386bd6b1a9665d560b4b', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nCloses-Bug: #1840145\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)\n'}]",0,693014,0d03d2e28f1d37b3eb21386bd6b1a9665d560b4b,14,6,2,14826,,,0,"Wait for MariaDB to be accessible via HAProxy

Explicitly wait for the database to be accessible via the load balancer.
Sometimes it can reject connections even when all database services are up,
possibly due to the health check polling in HAProxy.

Closes-Bug: #1840145
Change-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2
(cherry picked from commit 03cd7eb3563788ca1ffd7b19130f18614887a546)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/693014/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml']",3,d8eb4077da1a0ee6f672abeb9bc8de9eeeaae8fb,bug/1840145,- import_tasks: wait_for_loadbalancer.yml ,,20,0
openstack%2Fkolla-ansible~master~I64e250eb15882f50ecbbc57b87e036f5772f7e3a,openstack/kolla-ansible,master,I64e250eb15882f50ecbbc57b87e036f5772f7e3a,CI: install Python 3 package,MERGED,2019-10-26 18:09:12.000000000,2019-11-07 13:39:35.000000000,2019-11-07 12:52:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-26 18:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4c4608fb6c8996a6b40c6d2252b90bfbaaafc2e', 'message': 'CI: install Python 3 package\n\nNeeded for https://review.opendev.org/#/c/691316\n\nChange-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a\n'}, {'number': 2, 'created': '2019-11-07 09:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7cabaa28dc2bfca50a8715d1f431f86ed7ae9449', 'message': 'CI: install Python 3 package\n\nNeeded for https://review.opendev.org/#/c/691316\n\nChange-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a\n'}, {'number': 3, 'created': '2019-11-07 09:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb3a297f7e2c7290f2ded9143d43e6071fe88b30', 'message': 'CI: install Python 3 package\n\nNeeded for https://review.opendev.org/#/c/691316\n\nChange-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a\n'}, {'number': 4, 'created': '2019-11-07 09:41:25.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4', 'message': 'CI: install Python 3 package\n\nNeeded for https://review.opendev.org/#/c/691316\n\nChange-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a\n'}]",5,691486,73b6a66fd4db4345e5c1ed8acf2f3d10170bfdd4,18,5,4,24072,,,0,"CI: install Python 3 package

Needed for https://review.opendev.org/#/c/691316

Change-Id: I64e250eb15882f50ecbbc57b87e036f5772f7e3a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/691486/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbook-setup-nodes.yml'],1,f4c4608fb6c8996a6b40c6d2252b90bfbaaafc2e,691486, - name: Install Python 3 package package: name=python3 ,,3,0
openstack%2Fcharm-nova-cell-controller~master~Ib3937915c5195b5e031d5056959932849012fc23,openstack/charm-nova-cell-controller,master,Ib3937915c5195b5e031d5056959932849012fc23,Add train template and train functional tests,MERGED,2019-10-18 12:25:58.000000000,2019-11-07 13:30:56.000000000,2019-11-07 13:30:56.000000000,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/96ed18917c180216ae46c36d59307c9a16de569c', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-10-30 08:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/eb677ef93caf7c6784f5877172129b163e5f2e30', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-10-31 18:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/cf37fcfee4e90abf70a322ec54c3abe4883321e8', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-10-31 18:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/dce45c34a32342692a601aa12a2011ffa1dca732', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 5, 'created': '2019-11-05 23:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/fa3b854d78fcc8a680b688effd4cc82df293ec2d', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 6, 'created': '2019-11-06 15:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/e40e59db3a02fd5b83278ee5d7410c0e947a82bb', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 7, 'created': '2019-11-06 18:00:36.000000000', 'files': ['src/reactive/nova_cell_controller_handlers.py', 'unit_tests/test_nova_cell_controller_handlers.py', 'src/metadata.yaml', 'src/lib/charm/openstack/nova_cell_controller.py', 'src/templates/train/nova.conf', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/1625884690b04902737508e9ebdc21a7745d03a8', 'message': 'Add train template and train functional tests\n\nA train template is added which pulls in sectional\nplacement config from charm-layer-openstack.\n\nThis requires adding identity-credentials as a required\ninterface for train and above.\n\nThis patch also updates the smoke test to run train.\n\nCloses-Bug: 1850691\nDepends-On: https://review.opendev.org/#/c/692426/\nChange-Id: Ib3937915c5195b5e031d5056959932849012fc23\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",3,689439,1625884690b04902737508e9ebdc21a7745d03a8,47,6,7,7730,,,0,"Add train template and train functional tests

A train template is added which pulls in sectional
placement config from charm-layer-openstack.

This requires adding identity-credentials as a required
interface for train and above.

This patch also updates the smoke test to run train.

Closes-Bug: 1850691
Depends-On: https://review.opendev.org/#/c/692426/
Change-Id: Ib3937915c5195b5e031d5056959932849012fc23
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/39/689439/6 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml']",2,96ed18917c180216ae46c36d59307c9a16de569c,bug/1850691,"series: bionic relations: - - nova-cloud-controller:nova-cell-api - nova-cell-controller-cell2:nova-cell-compute - - nova-cloud-controller:shared-db-cell - mysql-cell2:shared-db - - nova-cloud-controller:amqp-cell - rabbitmq-server-nova-cell2:amqp - - nova-compute-cell2:amqp - rabbitmq-server-nova-cell2:amqp - - neutron-gateway:amqp - rabbitmq-server-neutron:amqp - - neutron-gateway:amqp-nova - rabbitmq-server-nova:amqp - - keystone:shared-db - mysql:shared-db - - nova-cloud-controller:identity-service - keystone:identity-service - - glance:identity-service - keystone:identity-service - - neutron-api:identity-service - keystone:identity-service - - neutron-openvswitch:neutron-plugin-api - neutron-api:neutron-plugin-api - - neutron-api:shared-db - mysql:shared-db - - neutron-api:amqp - rabbitmq-server-neutron:amqp - - neutron-gateway:neutron-plugin-api - neutron-api:neutron-plugin-api - - glance:shared-db - mysql:shared-db - - glance:amqp - rabbitmq-server-neutron:amqp - - nova-cloud-controller:image-service - glance:image-service - - nova-compute-cell2:image-service - glance:image-service - - nova-cell-controller-cell2:cloud-compute - nova-compute-cell2:cloud-compute - - nova-cloud-controller:amqp - rabbitmq-server-nova:amqp - - nova-cell-controller-cell2:amqp - rabbitmq-server-nova-cell2:amqp - - nova-cloud-controller:quantum-network-service - neutron-gateway:quantum-network-service - - nova-compute-cell2:neutron-plugin - neutron-openvswitch:neutron-plugin - - neutron-openvswitch:amqp - rabbitmq-server-neutron:amqp - - nova-cloud-controller:shared-db - mysql:shared-db - - nova-cell-controller-cell2:shared-db - mysql-cell2:shared-db - - nova-cloud-controller:neutron-api - neutron-api:neutron-api - - nova-compute-cell2:cloud-credentials - keystone:identity-credentials - - ntp:juju-info - nova-compute-cell2:juju-info - - ntp:juju-info - neutron-gateway:juju-info applications: glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: cloud:bionic-train worker-multiplier: 0.25 keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: admin-password: openstack openstack-origin: cloud:bionic-train worker-multiplier: 0.25 mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 mysql-cell2: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: innodb-buffer-pool-size: 256M max-connections: 1000 neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: cloud:bionic-train worker-multiplier: 0.25 neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: cloud:bionic-train worker-multiplier: 0.25 neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch num_units: 0 nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: cloud:bionic-train worker-multiplier: 0.25 debug: true nova-cell-controller-cell2: charm: nova-cell-controller series: bionic num_units: 1 options: openstack-origin: cloud:bionic-train worker-multiplier: 0.25 debug: true cell-name: ""cell2"" nova-compute-cell2: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 constraints: mem=4G options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: cloud:bionic-train debug: true ntp: charm: cs:ntp-24 num_units: 0 rabbitmq-server-nova: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 rabbitmq-server-nova-cell2: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 rabbitmq-server-neutron: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 ",,148,1
openstack%2Fswift~feature%2Flosf~I618f061511b65cd9b820f8e995e6605562a82acd,openstack/swift,feature/losf,I618f061511b65cd9b820f8e995e6605562a82acd,Erase object header if we fail to register it to the index-server,MERGED,2019-11-06 07:11:25.000000000,2019-11-07 13:11:23.000000000,2019-11-07 13:10:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 07:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c2fb9b93e02e733d8bfb145b5a76489316732617', 'message': 'Erase object header if we fail to register it to the index-server\n\nWhen we commit a file, we write an object header, the swift metadata,\nand register the object in the index server. If that last steps fails, an\nexception is raised and the commit fails.\n\nWithout this patch, the object header remains in the volume. If a power loss\nor crash occurs before that header is overwritten by a new object, the\nvolume-check script will pick up the object when the machine is rebooted.\n\nWith the patch, the header is overwritten with null bytes. (Punching a hole\nis slower and will create an extent).\n\nWhile doing this, add a constant for the maximum serialized header length\n\nChange-Id: I618f061511b65cd9b820f8e995e6605562a82acd\n'}, {'number': 2, 'created': '2019-11-06 08:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be6f2b81df79d167e9f3592745e4439aaf3f9a18', 'message': 'Erase object header if we fail to register it to the index-server\n\nWhen we commit a file, we write an object header, the swift metadata,\nand register the object in the index server. If that last steps fails, an\nexception is raised and the commit fails.\n\nWithout this patch, the object header remains in the volume. If a power loss\nor crash occurs before that header is overwritten by a new object, the\nvolume-check script will pick up the object when the machine is rebooted.\n\nWith the patch, the header is overwritten with null bytes. (Punching a hole\nis slower and will create an extent).\n\nWhile doing this, add a constant for the maximum serialized header length\n\nChange-Id: I618f061511b65cd9b820f8e995e6605562a82acd\n'}, {'number': 3, 'created': '2019-11-07 02:08:33.000000000', 'files': ['swift/obj/vfile.py', 'swift/obj/header.py', 'test/unit/obj/test_vfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0102cfe77af4cb4f362907040c30a1d7088930b1', 'message': 'Erase object header if we fail to register it to the index-server\n\nWhen we commit a file, we write an object header, the swift metadata,\nand register the object in the index server. If that last steps fails, an\nexception is raised and the commit fails.\n\nWithout this patch, the object header remains in the volume. If a power loss\nor crash occurs before that header is overwritten by a new object, the\nvolume-check script will pick up the object when the machine is rebooted.\n\nWith the patch, the header is overwritten with null bytes. (Punching a hole\nis slower and will create an extent).\n\nWhile doing this, add a constant for the maximum serialized header length\n\nChange-Id: I618f061511b65cd9b820f8e995e6605562a82acd\n'}]",7,693127,0102cfe77af4cb4f362907040c30a1d7088930b1,15,2,3,25251,,,0,"Erase object header if we fail to register it to the index-server

When we commit a file, we write an object header, the swift metadata,
and register the object in the index server. If that last steps fails, an
exception is raised and the commit fails.

Without this patch, the object header remains in the volume. If a power loss
or crash occurs before that header is overwritten by a new object, the
volume-check script will pick up the object when the machine is rebooted.

With the patch, the header is overwritten with null bytes. (Punching a hole
is slower and will create an extent).

While doing this, add a constant for the maximum serialized header length

Change-Id: I618f061511b65cd9b820f8e995e6605562a82acd
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/693127/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/vfile.py', 'swift/obj/header.py', 'test/unit/obj/test_vfile.py']",3,c2fb9b93e02e733d8bfb145b5a76489316732617,header_erase,"from swift.obj.header import ObjectHeader, STATE_OBJ_FILE, MAX_HEADER_LEN serialized_header = vol_file.read(MAX_HEADER_LEN) @mock.patch(""swift.obj.rpc_http.register_object"") def test_commit_register_fail(self, m_register_object): """""" Check that the header object is erased if commit() fails to register the object on the index server. """""" m_register_object.side_effect = RpcError(""failed to register object"", StatusCode.Unavailable) offset = 4096 metadata_reserve = 500 vfile_writer, vol_file = self._get_vfile_writer( offset=offset, metadata_reserve=metadata_reserve) content = ""dummy data"" os.write(vfile_writer.fd, content) filename = ""dummy-filename"" metadata = {""dummy"": ""metadata""} self.assertRaises(RpcError, vfile_writer.commit, filename, metadata) # check the header was erased vol_file.seek(offset) serialized_header = vol_file.read(MAX_HEADER_LEN) self.assertEqual(serialized_header, ""\x00"" * MAX_HEADER_LEN) # check we did not write past the header by checking the file data data_offset = (offset + len(ObjectHeader( version=header.OBJECT_HEADER_VERSION)) + metadata_reserve) vol_file.seek(data_offset) data = vol_file.read(len(content)) self.assertEqual(data, content) ","from swift.obj.header import ObjectHeader, STATE_OBJ_FILE serialized_header = vol_file.read(512)",64,13
openstack%2Fcharms.ceph~master~Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba,openstack/charms.ceph,master,Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba,Add new permission request to broker,MERGED,2019-10-16 11:57:36.000000000,2019-11-07 13:04:22.000000000,2019-11-07 13:04:22.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 11:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/2baeef28ce7a74189d5dd4136f1119d2d78394eb', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 2, 'created': '2019-10-18 10:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/481ae2d61ecfc1c5604662d3ef761f0406d36334', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 3, 'created': '2019-10-21 15:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/265573763efa417d05eb6e411240f0944e8d1173', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 4, 'created': '2019-10-21 15:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/fe3b81fe6210652dde37f6813820cebb897a0c12', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 5, 'created': '2019-10-23 12:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/d88b13af75da396336965e399744b9fa91a74803', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}, {'number': 6, 'created': '2019-11-07 12:08:03.000000000', 'files': ['ceph/broker.py', 'unit_tests/test_broker.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/bb708ad4c497dad7b1ecbadf17ae93c78503e1e1', 'message': 'Add new permission request to broker\n\nChange-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba\n'}]",2,688909,bb708ad4c497dad7b1ecbadf17ae93c78503e1e1,18,3,6,20634,,,0,"Add new permission request to broker

Change-Id: Ifd341bd80833d4a7fd62e89e3c0e2b7fd64fafba
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/09/688909/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/broker.py', 'unit_tests/test_broker.py']",2,2baeef28ce7a74189d5dd4136f1119d2d78394eb,charm-cephfs-manila," @patch.object(ceph.broker, 'handle_set_key_permissions') @patch.object(ceph.broker, 'log') def test_process_requests_set_perms(self, mock_log, handle_set_key_permissions): request = { ""api-version"": 1, ""request-id"": ""0155c14b"", ""ops"": [ { ""name"": ""manila-ganesha"", ""op"": ""set-key-permissions"", ""permissions"": ""mds 'allow *' osd 'allow rw'"", } ] } reqs = json.dumps(request) rc = ceph.broker.process_requests(reqs) handle_set_key_permissions.assert_called_once_with( request={ u'name': u'manila-ganesha', u'op': u'set-key-permissions', u'permissions': u""mds 'allow *' osd 'allow rw'""}, service='admin') self.assertEqual( json.loads(rc), {'exit-code': 0, u'request-id': u'0155c14b'}) ",,39,0
openstack%2Fcinder~master~Ie06276e221ee664f2862ba562c570c12192678cd,openstack/cinder,master,Ie06276e221ee664f2862ba562c570c12192678cd,Reserve migrations for DB backports,MERGED,2019-10-25 21:01:59.000000000,2019-11-07 12:25:35.000000000,2019-11-07 11:46:55.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-25 21:01:59.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/134_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/135_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/133_placeholder.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aedd8b5bf3736508d2f0af5e475e73b2f3d62770', 'message': 'Reserve migrations for DB backports\n\nReserve migrations in case we need to backport DB changes to the\nstable/train branch.\n\nChange-Id: Ie06276e221ee664f2862ba562c570c12192678cd\n'}]",0,691431,aedd8b5bf3736508d2f0af5e475e73b2f3d62770,106,35,1,5314,,,0,"Reserve migrations for DB backports

Reserve migrations in case we need to backport DB changes to the
stable/train branch.

Change-Id: Ie06276e221ee664f2862ba562c570c12192678cd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/691431/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/134_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/135_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/133_placeholder.py']",3,aedd8b5bf3736508d2f0af5e475e73b2f3d62770,reserve-migrations,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Train backports. # Do not use this number for new Ussuri work. New work starts after all the # placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",,66,0
openstack%2Ftripleo-ci~master~Ifae8b03297ba2a8428e448981b76c600a650222f,openstack/tripleo-ci,master,Ifae8b03297ba2a8428e448981b76c600a650222f,DNM: Add repo for build containers,ABANDONED,2019-11-06 18:14:55.000000000,2019-11-07 11:48:20.000000000,,"[{'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 18:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9f1c425a8ae406fcd93ea6dd6a061098639e631a', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 2, 'created': '2019-11-06 18:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2e3d3d270a13f2100b9a981f50d6139f1b6ae42', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 3, 'created': '2019-11-06 18:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/53928992045d659f35668b28edbf86790fd66333', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 4, 'created': '2019-11-06 19:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/889b1fb697201547ffa6392a76d9dbd20ce8511e', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 5, 'created': '2019-11-07 00:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/937ad32cff4f8ff7b1b2ee52b548ec74aa26eb34', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 6, 'created': '2019-11-07 09:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/03d739ecbfdd9b4135c400d347db6e45173d7756', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}, {'number': 7, 'created': '2019-11-07 10:13:40.000000000', 'files': ['roles/build-containers/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d248a304c6ed20133ca4975d3afd8a0828b2abf3', 'message': 'DNM: Add repo for build containers\n\nChange-Id: Ifae8b03297ba2a8428e448981b76c600a650222f\n'}]",0,693228,d248a304c6ed20133ca4975d3afd8a0828b2abf3,14,3,7,10969,,,0,"DNM: Add repo for build containers

Change-Id: Ifae8b03297ba2a8428e448981b76c600a650222f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/693228/7 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,9f1c425a8ae406fcd93ea6dd6a061098639e631a,693228, sudo cat <<EOF >/etc/yum.repos.d/ EOF ,,6,0
openstack%2Frally-openstack~master~I1393b41570c5316fe0012cb059b9cb64d5854aab,openstack/rally-openstack,master,I1393b41570c5316fe0012cb059b9cb64d5854aab,Fixes missing project ID when running a octavia task.,MERGED,2019-10-30 19:52:01.000000000,2019-11-07 11:40:26.000000000,2019-11-07 11:40:26.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 30657}]","[{'number': 1, 'created': '2019-10-30 19:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/90decfc682a1fd4d9052c9641387e5c89f7712e1', 'message': 'Fixes missing project ID when running a octavia task.\nCloses-Bug: #1833235\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\n'}, {'number': 2, 'created': '2019-11-01 08:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/de041ba1db0561a3c825bba97fe9e4a90add2458', 'message': 'Fixes missing project ID when running a octavia task.\nCloses-Bug: #1833235\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\n'}, {'number': 3, 'created': '2019-11-01 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9fcbd1ac7c067b6306c2e7e71ed779d866f20c4d', 'message': 'Fixes missing project ID when running a octavia task.\nCloses-Bug: #1833235\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\n'}, {'number': 4, 'created': '2019-11-01 09:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f38b336d55918100a6dc0e3b22b0d2c7f0567772', 'message': 'Fixes missing project ID when running a octavia task.\nCloses-Bug: #1833235\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\n'}, {'number': 5, 'created': '2019-11-06 12:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cf0367627f614b5935d05e3ff721ce3cc51aebf6', 'message': 'Fixes missing project ID when running a octavia task.\nCloses-Bug: #1833235\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\n'}, {'number': 6, 'created': '2019-11-06 12:08:12.000000000', 'files': ['tests/unit/scenarios/loadbalancer/test_pools.py', 'rally_openstack/services/loadbalancer/octavia.py', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'tests/unit/services/loadbalancer/test_octavia.py', 'rally_openstack/scenarios/octavia/pools.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/65341e1531246f7842e95cde252292c6971af25f', 'message': 'Fixes missing project ID when running a octavia task.\n\nChange-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab\nCloses-Bug: #1833235\n'}]",1,692214,65341e1531246f7842e95cde252292c6971af25f,19,3,6,30657,,,0,"Fixes missing project ID when running a octavia task.

Change-Id: I1393b41570c5316fe0012cb059b9cb64d5854aab
Closes-Bug: #1833235
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/14/692214/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/services/loadbalancer/octavia.py', 'rally_openstack/scenarios/octavia/loadbalancers.py', 'rally_openstack/scenarios/octavia/pools.py']",3,90decfc682a1fd4d9052c9641387e5c89f7712e1,octavia_fix_missing_project_id," project_id = self.context[""tenant""][""id""] project_id=project_id, project_id = self.context[""tenant""][""id""] project_id=project_id, project_id = self.context[""tenant""][""id""] project_id=project_id, project_id = self.context[""tenant""][""id""] project_id=project_id,",,38,11
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,openstack/tripleo-ansible,stable/train,Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,Fix the filter plugin location for triple-ovs-dpdk role,MERGED,2019-11-06 06:16:19.000000000,2019-11-07 11:34:57.000000000,2019-11-07 11:34:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 06:16:19.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/cpu_mask.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3cfe52a05fd265c967e8393010f171660d3ccf71', 'message': 'Fix the filter plugin location for triple-ovs-dpdk role\n\nMove the cpu_mask filter plugin to the common filter plugins\ndirectory of the project.\n\nChange-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b\n(cherry picked from commit 0cc956ed10073fcc1b9bc91965e01892d6aae173)\n'}]",0,693122,3cfe52a05fd265c967e8393010f171660d3ccf71,7,4,1,18575,,,0,"Fix the filter plugin location for triple-ovs-dpdk role

Move the cpu_mask filter plugin to the common filter plugins
directory of the project.

Change-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b
(cherry picked from commit 0cc956ed10073fcc1b9bc91965e01892d6aae173)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/693122/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/cpu_mask.py'],1,3cfe52a05fd265c967e8393010f171660d3ccf71,fix_directory_cpu_mask-stable/train,,,0,0
openstack%2Frequirements~master~I2091519f2527bdacb60cff39acf3092072d0f419,openstack/requirements,master,I2091519f2527bdacb60cff39acf3092072d0f419,"Revert ""update constraint for python-novaclient to new release 16.0.0""",ABANDONED,2019-11-06 11:39:52.000000000,2019-11-07 10:55:07.000000000,,"[{'_account_id': 6873}, {'_account_id': 7186}, {'_account_id': 11131}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-11-06 11:39:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab2528cd6718219fc830261dbf9fd505dbee49fb', 'message': 'Revert ""update constraint for python-novaclient to new release 16.0.0""\n\nThis breaks heat breaking openstacksdk tests, see e.g. https://zuul.opendev.org/t/openstack/build/2c83d0168fda4384837b676d336694ed/log/controller/logs/screen-h-eng.txt.gz#1379-1410\n\nThis reverts commit 7ff8d5d71481bd964c12f8639b5d49695af6252c.\n\nChange-Id: I2091519f2527bdacb60cff39acf3092072d0f419\n'}]",0,693161,ab2528cd6718219fc830261dbf9fd505dbee49fb,4,8,1,13252,,,0,"Revert ""update constraint for python-novaclient to new release 16.0.0""

This breaks heat breaking openstacksdk tests, see e.g. https://zuul.opendev.org/t/openstack/build/2c83d0168fda4384837b676d336694ed/log/controller/logs/screen-h-eng.txt.gz#1379-1410

This reverts commit 7ff8d5d71481bd964c12f8639b5d49695af6252c.

Change-Id: I2091519f2527bdacb60cff39acf3092072d0f419
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/693161/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ab2528cd6718219fc830261dbf9fd505dbee49fb,new-release,python-novaclient===15.1.0,python-novaclient===16.0.0,1,1
openstack%2Ftripleo-heat-templates~master~I05f27a40b52305759533ad0cac8d79a15448852e,openstack/tripleo-heat-templates,master,I05f27a40b52305759533ad0cac8d79a15448852e,Simplify and correct how we provide the undercloud.conf to mistral,MERGED,2019-04-15 09:19:58.000000000,2019-11-07 10:48:08.000000000,2019-04-25 01:38:01.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-15 09:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9061a5dce300b423b40dd85fb6a371bfe75f4f09', 'message': 'Copy and mount undercloud.conf instead of bind-mount from /home\n\nMounting things from /home location inside a container is wrong, especially\nif the container are running in root namespace, with dedicated service user.\n\nCopying in another, ""container-friendly"" location helps preventing SELinux\nissues, and allows to avoid some funky rights issues in the /home directory.\n\nWe copy the file in any cases, but mount it if and only if it\'s needed.\nNote that /var/lib/mistral is mounted in the container, so the file will be\navailable in any cases.\n\nA possible follow-up is to change mistral config in order to make it point to\n/var/lib/mistral/undercloud.conf instead of /var/lib/undercloud.conf.\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}, {'number': 2, 'created': '2019-04-15 09:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2435110c75ac868ce867ec89e9c8554452f6c62d', 'message': 'Copy and mount undercloud.conf instead of bind-mount from /home\n\nMounting things from /home location inside a container is wrong, especially\nif the container are running in root namespace, with dedicated service user.\n\nCopying in another, ""container-friendly"" location helps preventing SELinux\nissues, and allows to avoid some funky rights issues in the /home directory.\n\nA possible follow-up is to change mistral config in order to make it point to\n/var/lib/mistral/undercloud.conf instead of /var/lib/undercloud.conf in order\nto avoid the bind-mount\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}, {'number': 3, 'created': '2019-04-15 11:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b813d4569af9c5346352b4b77ad877421cd7335c', 'message': 'Copy and mount undercloud.conf instead of bind-mount from /home\n\nMounting things from /home location inside a container is wrong, especially\nif the container are running in root namespace, with dedicated service user.\n\nCopying in another, ""container-friendly"" location helps preventing SELinux\nissues, and allows to avoid some funky rights issues in the /home directory.\n\nA possible follow-up is to change mistral config in order to make it point to\n/var/lib/mistral/undercloud.conf instead of /var/lib/undercloud.conf in order\nto avoid the bind-mount\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}, {'number': 4, 'created': '2019-04-16 07:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0e760ed4763a483abc9a5c76239f697ba02a0ef', 'message': 'Simplify and correct how we provide the undercloud.conf to mistral\n\nBind-mounting a file from /home subdir is wrong. In addition, there\nwere some useless steps for the container configuration, like copying\nthe undercloud.conf to its final destination.\n\nThis patch intends to simplify those steps, and prevents SELinux issues.\n\nRelated change: If061d496a26c84e5027916c0d8f9153b129b451a\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}, {'number': 5, 'created': '2019-04-16 14:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26afbab92cb8490fc394a118daca9cccd4226627', 'message': 'Simplify and correct how we provide the undercloud.conf to mistral\n\nBind-mounting a file from /home subdir is wrong. In addition, there\nwere some useless steps for the container configuration, like copying\nthe undercloud.conf to its final destination.\n\nThis patch intends to simplify those steps, and prevents SELinux issues.\n\nRelated change: If061d496a26c84e5027916c0d8f9153b129b451a\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}, {'number': 6, 'created': '2019-04-24 07:47:22.000000000', 'files': ['deployment/mistral/mistral-executor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/096816a238a861c986ec6697d012fa8d9e86156b', 'message': 'Simplify and correct how we provide the undercloud.conf to mistral\n\nBind-mounting a file from /home subdir is wrong. In addition, there\nwere some useless steps for the container configuration, like copying\nthe undercloud.conf to its final destination.\n\nThis patch intends to simplify those steps, and prevents SELinux issues.\n\nRelated change: If061d496a26c84e5027916c0d8f9153b129b451a\n\nChange-Id: I05f27a40b52305759533ad0cac8d79a15448852e\n'}]",3,652599,096816a238a861c986ec6697d012fa8d9e86156b,29,10,6,28223,,,0,"Simplify and correct how we provide the undercloud.conf to mistral

Bind-mounting a file from /home subdir is wrong. In addition, there
were some useless steps for the container configuration, like copying
the undercloud.conf to its final destination.

This patch intends to simplify those steps, and prevents SELinux issues.

Related change: If061d496a26c84e5027916c0d8f9153b129b451a

Change-Id: I05f27a40b52305759533ad0cac8d79a15448852e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/652599/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/mistral/mistral-executor-container-puppet.yaml'],1,9061a5dce300b423b40dd85fb6a371bfe75f4f09,mistral_executor/undercloud.conf, - - '/var/lib/mistral/undercloud.conf' - 'ro' - name: copy undercloud.conf to /var/lib/mistral/ copy: src: {get_param: UndercloudConfigFilePath} dest: /var/lib/mistral/undercloud.conf mode: 0444 setype: svirt_sandbox_file_t," - - {get_param: UndercloudConfigFilePath} - 'ro,z'",8,2
openstack%2Fkolla-ansible~stable%2Fstein~Id52b9b1f7b013277e401b1f6b8aed34473d2b2c4,openstack/kolla-ansible,stable/stein,Id52b9b1f7b013277e401b1f6b8aed34473d2b2c4,Use mariabackup for database backups,MERGED,2019-11-05 14:49:48.000000000,2019-11-07 10:29:21.000000000,2019-11-07 10:27:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-05 14:49:48.000000000', 'files': ['ansible/roles/mariadb/templates/mariabackup.json.j2', 'ansible/roles/mariadb/tasks/backup.yml', 'releasenotes/notes/mariabackup-bd3b238823e589da.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/group_vars/all.yml', 'ansible/mariadb_backup.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/mariadb/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de730a4cb4397d9914403578c832199fa4aa4367', 'message': 'Use mariabackup for database backups\n\nCurrently, Xtrabackup is used for database backups. However, Xtrabackup\nis not compatible with MariaDB 10.3. This change switches to use\nmariabackup [1], which is available in the mariadb image.\n\nThe documented full and incremental restore procedures have been\nmodified to use mariabackup, following [2] and [3].\n\n[1] https://mariadb.com/kb/en/library/mariabackup-overview/\n[2] https://mariadb.com/kb/en/library/full-backup-and-restore-with-mariabackup/\n[3] https://mariadb.com/kb/en/library/incremental-backup-and-restore-with-mariabackup/\n\nChange-Id: Id52b9b1f7b013277e401b1f6b8aed34473d2b2c4\nCloses-Bug: #1843043\nDepends-On: https://review.opendev.org/692996\n(cherry picked from commit 7f47ddf7f4933357769a715a2f8b3fb2157a7dd0)\n'}]",0,693023,de730a4cb4397d9914403578c832199fa4aa4367,8,3,1,14826,,,0,"Use mariabackup for database backups

Currently, Xtrabackup is used for database backups. However, Xtrabackup
is not compatible with MariaDB 10.3. This change switches to use
mariabackup [1], which is available in the mariadb image.

The documented full and incremental restore procedures have been
modified to use mariabackup, following [2] and [3].

[1] https://mariadb.com/kb/en/library/mariabackup-overview/
[2] https://mariadb.com/kb/en/library/full-backup-and-restore-with-mariabackup/
[3] https://mariadb.com/kb/en/library/incremental-backup-and-restore-with-mariabackup/

Change-Id: Id52b9b1f7b013277e401b1f6b8aed34473d2b2c4
Closes-Bug: #1843043
Depends-On: https://review.opendev.org/692996
(cherry picked from commit 7f47ddf7f4933357769a715a2f8b3fb2157a7dd0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/693023/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/templates/mariabackup.json.j2', 'ansible/roles/mariadb/tasks/backup.yml', 'releasenotes/notes/mariabackup-bd3b238823e589da.yaml', 'doc/source/admin/mariadb-backup-and-restore.rst', 'ansible/group_vars/all.yml', 'ansible/mariadb_backup.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/config.yml', 'etc/kolla/globals.yml', 'ansible/roles/mariadb/tasks/register.yml']",10,de730a4cb4397d9914403578c832199fa4aa4367,bug/1843043,- name: Creating the Mariabackup database - enable_mariabackup | bool - enable_mariabackup | bool - name: Granting permissions on Mariabackup database to backup user - enable_mariabackup | bool,- name: Creating the Percona XtraBackup database - enable_xtrabackup | bool - enable_xtrabackup | bool - name: Granting permissions on XtraBackup database to backup user - enable_xtrabackup | bool,114,53
openstack%2Fkolla-ansible~stable%2Fstein~I12f8de53724c3f24832df83597f36f9614af8e75,openstack/kolla-ansible,stable/stein,I12f8de53724c3f24832df83597f36f9614af8e75,Swift: compute the list of containers dynamically in the reconfigure task,MERGED,2019-11-05 14:44:03.000000000,2019-11-07 10:28:01.000000000,2019-11-07 10:28:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 31012}]","[{'number': 1, 'created': '2019-11-05 14:44:03.000000000', 'files': ['ansible/roles/swift/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f126ef93b3e5ff639a794b2a351559f6a9440cf9', 'message': 'Swift: compute the list of containers dynamically in the reconfigure task\n\nIf swift_has_replication_network is false some containers do not exist on the\ntarget node.\nThis commit adds steps to compute the final list of containers to act on.\n\nChange-Id: I12f8de53724c3f24832df83597f36f9614af8e75\nCloses-Bug: #1849189\n(cherry picked from commit 9622ab96937dccea2f5b0d97ffc674ce10359cb7)\n'}]",0,693022,f126ef93b3e5ff639a794b2a351559f6a9440cf9,7,4,1,14826,,,0,"Swift: compute the list of containers dynamically in the reconfigure task

If swift_has_replication_network is false some containers do not exist on the
target node.
This commit adds steps to compute the final list of containers to act on.

Change-Id: I12f8de53724c3f24832df83597f36f9614af8e75
Closes-Bug: #1849189
(cherry picked from commit 9622ab96937dccea2f5b0d97ffc674ce10359cb7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/693022/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/tasks/reconfigure.yml'],1,f126ef93b3e5ff639a794b2a351559f6a9440cf9,swift_reconfigure_containers-stable/stein,"- name: Prepare Swift containers list set_fact: swift_containers: - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } swift_replication_server_containers: - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_object_replication_server, group: swift-object-server } - name: Add _replication_server containers to the list set_fact: swift_containers: ""{{ swift_containers + swift_replication_server_containers }}"" when: swift_has_replication_network - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"""," - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - [{ name: swift_account_server, group: swift-account-server }, { name: swift_account_auditor, group: swift-account-server }, { name: swift_account_replication_server, group: swift-account-server }, { name: swift_account_replicator, group: swift-account-server }, { name: swift_account_reaper, group: swift-account-server }, { name: swift_rsyncd, group: swift-account-server }, { name: swift_container_server, group: swift-container-server }, { name: swift_container_auditor, group: swift-container-server }, { name: swift_container_replication_server, group: swift-container-server }, { name: swift_container_replicator, group: swift-container-server }, { name: swift_container_updater, group: swift-container-server }, { name: swift_rsyncd, group: swift-container-server }, { name: swift_object_server, group: swift-object-server }, { name: swift_object_auditor, group: swift-object-server }, { name: swift_object_replication_server, group: swift-object-server }, { name: swift_object_replicator, group: swift-object-server }, { name: swift_object_updater, group: swift-object-server }, { name: swift_object_expirer, group: swift-object-server }, { name: swift_rsyncd, group: swift-object-server }, { name: swift_proxy_server, group: swift-proxy-server }] - [{ name: swift_account_server, group: swift-account-server }, { name: swift_account_auditor, group: swift-account-server }, { name: swift_account_replication_server, group: swift-account-server }, { name: swift_account_replicator, group: swift-account-server }, { name: swift_account_reaper, group: swift-account-server }, { name: swift_rsyncd, group: swift-account-server }, { name: swift_container_server, group: swift-container-server }, { name: swift_container_auditor, group: swift-container-server }, { name: swift_container_replication_server, group: swift-container-server }, { name: swift_container_replicator, group: swift-container-server }, { name: swift_container_updater, group: swift-container-server }, { name: swift_rsyncd, group: swift-container-server }, { name: swift_object_server, group: swift-object-server }, { name: swift_object_auditor, group: swift-object-server }, { name: swift_object_replication_server, group: swift-object-server }, { name: swift_object_replicator, group: swift-object-server }, { name: swift_object_updater, group: swift-object-server }, { name: swift_object_expirer, group: swift-object-server }, { name: swift_rsyncd, group: swift-object-server }, { name: swift_proxy_server, group: swift-proxy-server }]",35,100
openstack%2Fsearchlight-specs~master~I8e4f3898699cd26343e9b598021bb6e42c4a5ddb,openstack/searchlight-specs,master,I8e4f3898699cd26343e9b598021bb6e42c4a5ddb,Add PDF generation,MERGED,2019-10-25 04:01:34.000000000,2019-11-07 10:24:09.000000000,2019-11-07 10:22:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}, {'_account_id': 28743}, {'_account_id': 29313}, {'_account_id': 31197}]","[{'number': 1, 'created': '2019-10-25 04:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/98548825600fb168c8106e18e2812140003a3e76', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\n'}, {'number': 2, 'created': '2019-10-25 04:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/ecd697f2bc9089332793b56d0b5b1fe8bb42997f', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\n'}, {'number': 3, 'created': '2019-10-25 04:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/51454072ff54e4cc59ec38f7421be8099ad1b961', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 4, 'created': '2019-10-25 04:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/f18e6d78880394b59597c188fb04dc5888c6ba10', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 5, 'created': '2019-10-25 04:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/e8fb6edc28606083b3c2962667bb78ef2e103794', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 6, 'created': '2019-10-25 05:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/a0a2da738a4c76e4a94a6d13a5d7cf71c2b29793', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 7, 'created': '2019-10-25 05:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/096a6086f8c7cbe09f318fc40a7b0eb676b020f5', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 8, 'created': '2019-10-29 13:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/1d6318e44d7d9ac6cef19b974da7c10a080377ba', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 9, 'created': '2019-10-30 07:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/3a94a96ef84822108eba8bed7fb4380b6acf2b1d', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}, {'number': 10, 'created': '2019-11-07 10:05:53.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/750cb63113bb3faa3e0e532acd814339c558d019', 'message': 'Add PDF generation\n\nChange-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb\nSigned-off-by: sonpn13 <sonpn13@viettel.com.vn>\nStory: #2006118\nTask: #35500\n'}]",4,691177,750cb63113bb3faa3e0e532acd814339c558d019,40,5,10,31197,,,0,"Add PDF generation

Change-Id: I8e4f3898699cd26343e9b598021bb6e42c4a5ddb
Signed-off-by: sonpn13 <sonpn13@viettel.com.vn>
Story: #2006118
Task: #35500
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/77/691177/1 && git format-patch -1 --stdout FETCH_HEAD,"['test.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,98548825600fb168c8106e18e2812140003a3e76,build-pdf-docs, sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html [testenv:pdf-docs] basepython = python3 deps = -r{toxinidir}/doc/requirements.txt envdir = {toxworkdir}/docs whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf, sphinx-build -W -b html doc/source doc/build/html,29,10
openstack%2Fsecurity-doc~master~If141d25f5683927bca4bb864253f29abebbaea4f,openstack/security-doc,master,If141d25f5683927bca4bb864253f29abebbaea4f,Imported Translations from Zanata,MERGED,2019-11-07 09:08:09.000000000,2019-11-07 10:22:57.000000000,2019-11-07 10:21:18.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 09:08:09.000000000', 'files': ['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/63e626f0f818e3cea1c464bd403298f090ed2eea', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If141d25f5683927bca4bb864253f29abebbaea4f\n'}]",0,693320,63e626f0f818e3cea1c464bd403298f090ed2eea,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If141d25f5683927bca4bb864253f29abebbaea4f
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/20/693320/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/locale/id/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/ja/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/tr_TR/LC_MESSAGES/security-guide.po', 'security-guide/source/locale/de/LC_MESSAGES/security-guide.po']",4,63e626f0f818e3cea1c464bd403298f090ed2eea,zanata/translations,"""POT-Creation-Date: 2019-11-05 03:53+0000\n""","""POT-Creation-Date: 2019-09-24 07:52+0000\n""""`Security in MySQL <http://downloads.mysql.com/docs/mysql-security-"" ""excerpt-5.1-en.pdf>`__"" msgstr """" ""`Sicherheit in MySQL <http://downloads.mysql.com/docs/mysql-security-"" ""excerpt-5.1-en.pdf>`__"" msgid """"",7,30
openstack%2Frpm-packaging~stable%2Fnewton~Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393,openstack/rpm-packaging,stable/newton,Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393,oslo.utils: add patch to support newer setuptools,MERGED,2019-11-04 16:59:19.000000000,2019-11-07 10:07:05.000000000,2019-11-07 10:07:05.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 12542}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-04 16:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1c950dbd4fc43bf8f4e5197bdec3eeb6f02bafd7', 'message': 'Backport of https://review.opendev.org/#/c/554053/\n\nThis commit adds the stable/newton backport of\nhttps://review.opendev.org/#/c/554053/ to the oslo.utils\npackage. This is necessary for SUSE flavored distributions\nsince SLE 12 SP2 recently began to ship a more recent\npython-setuptools package that will trigger this bug on Newton\nbased SUSE.\n\nNote: this backport has not been submitted against oslo.utils\nitself since Newton is end-of-life already which makes the\nbackport unlikely to get accepted at this point in time.\n\nChange-Id: Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393\n'}, {'number': 2, 'created': '2019-11-05 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/546836807f60dc3e5ee975e32939c9b3458db3f2', 'message': 'oslo.utils: add patch to support newer setuptools\n\nThis commit adds adjust-to-setuptools-8-plus.patch, a\nstable/newton backport of https://review.opendev.org/#/c/554053/\nto the oslo.utils package. This is necessary for SUSE flavored\ndistributions since SLE 12 SP2 recently began to ship a more\nrecent python-setuptools package that will trigger this bug on\nNewton based SUSE.\n\nNote: this backport has not been submitted against oslo.utils\nitself since Newton is end-of-life already which makes the\nbackport unlikely to get accepted at this point in time.\n\nChange-Id: Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393\n'}, {'number': 3, 'created': '2019-11-07 04:26:00.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/oslo.utils/adjust-to-setuptools-8-plus.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a6bb53d26d04b19b7eaf4ae4802e4e5ba66b6bc3', 'message': 'oslo.utils: add patch to support newer setuptools\n\nThis commit adds adjust-to-setuptools-8-plus.patch, a\nstable/newton backport of https://review.opendev.org/#/c/554053/\nto the oslo.utils package. This is necessary for SUSE flavored\ndistributions since SLE 12 SP2 recently began to ship a more\nrecent python-setuptools package that will trigger this bug on\nNewton based SUSE.\n\nNote: this backport has not been submitted against oslo.utils\nitself since Newton is end-of-life already which makes the\nbackport unlikely to get accepted at this point in time.\n\nChange-Id: Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393\n'}]",6,692853,a6bb53d26d04b19b7eaf4ae4802e4e5ba66b6bc3,22,7,3,12542,,,0,"oslo.utils: add patch to support newer setuptools

This commit adds adjust-to-setuptools-8-plus.patch, a
stable/newton backport of https://review.opendev.org/#/c/554053/
to the oslo.utils package. This is necessary for SUSE flavored
distributions since SLE 12 SP2 recently began to ship a more
recent python-setuptools package that will trigger this bug on
Newton based SUSE.

Note: this backport has not been submitted against oslo.utils
itself since Newton is end-of-life already which makes the
backport unlikely to get accepted at this point in time.

Change-Id: Ib736bf7093e5e3f58ac6d8a106e3f6703be9a393
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/692853/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,1c950dbd4fc43bf8f4e5197bdec3eeb6f02bafd7,adjust-to-setuptools-8-plus,Patch1: adjust-to-setuptools-8-plus.patch%patch1 -p 1,,2,0
openstack%2Fcharm-octavia~master~I4dd055d43e62556692dca3f58f255769dab95287,openstack/charm-octavia,master,I4dd055d43e62556692dca3f58f255769dab95287,Add legacy configure_ssl,MERGED,2019-11-06 16:23:17.000000000,2019-11-07 10:03:41.000000000,2019-11-07 10:03:41.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 16:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9272e933446aa2126f59884d1f13bd2a314817d9', 'message': 'Add legacy configure_ssh\n\nAdd legacy configure_ssh to octavia_handlers\n\nChange-Id: I4dd055d43e62556692dca3f58f255769dab95287\n'}, {'number': 2, 'created': '2019-11-06 16:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/125d4634a5e371f60a68b6ea44d6ef82a7fe42e6', 'message': 'Add legacy configure_ssh\n\nAdd legacy configure_ssh to octavia_handlers\n\nCloses-Bug: 1851487\nChange-Id: I4dd055d43e62556692dca3f58f255769dab95287\n'}, {'number': 3, 'created': '2019-11-06 16:36:47.000000000', 'files': ['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/0b31603894f2d7d409ec390ee2bfb965c7e995b4', 'message': 'Add legacy configure_ssl\n\nAdd legacy configure_ssl to octavia_handlers\nPin pyparsing to 2.4.2 in wheelhouse.txt\nUpdate render unit test\n\nCloses-Bug: 1851487\nChange-Id: I4dd055d43e62556692dca3f58f255769dab95287\n'}]",0,693214,0b31603894f2d7d409ec390ee2bfb965c7e995b4,14,4,3,22799,,,0,"Add legacy configure_ssl

Add legacy configure_ssl to octavia_handlers
Pin pyparsing to 2.4.2 in wheelhouse.txt
Update render unit test

Closes-Bug: 1851487
Change-Id: I4dd055d43e62556692dca3f58f255769dab95287
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/14/693214/3 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/octavia_handlers.py'],1,9272e933446aa2126f59884d1f13bd2a314817d9,bug/1851487, octavia_charm.configure_ssl(),,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iedc8a93cdd3e1abf1257a45b0fd37ce1e768a7de,openstack/tripleo-heat-templates,stable/train,Iedc8a93cdd3e1abf1257a45b0fd37ce1e768a7de,remove SensuClient from ComputeSriovIB role,MERGED,2019-11-04 10:54:12.000000000,2019-11-07 10:02:54.000000000,2019-11-07 10:02:54.000000000,"[{'_account_id': 3153}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}, {'_account_id': 25241}]","[{'number': 1, 'created': '2019-11-04 10:54:12.000000000', 'files': ['roles/ComputeSriovIB.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6393f55c2ccef1bcfc4ab5186d5cb1d24b3c1e35', 'message': 'remove SensuClient from ComputeSriovIB role\n\nSensu is deprecated so remove it from ComputeSriovIB\n\nChange-Id: Iedc8a93cdd3e1abf1257a45b0fd37ce1e768a7de\n(cherry picked from commit 4495c14c2771f2f39d123f10de0dfcb0fb6f5472)\n'}]",0,692798,6393f55c2ccef1bcfc4ab5186d5cb1d24b3c1e35,11,8,1,22948,,,0,"remove SensuClient from ComputeSriovIB role

Sensu is deprecated so remove it from ComputeSriovIB

Change-Id: Iedc8a93cdd3e1abf1257a45b0fd37ce1e768a7de
(cherry picked from commit 4495c14c2771f2f39d123f10de0dfcb0fb6f5472)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/692798/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ComputeSriovIB.yaml'],1,6393f55c2ccef1bcfc4ab5186d5cb1d24b3c1e35,remove SensuClient from ComputeSriovIB role-stable/train,, - OS::TripleO::Services::SensuClient,0,1
openstack%2Fkolla~stable%2Fstein~Idf1aed905a7d9ad461dd6fe17ed199c8d60370e6,openstack/kolla,stable/stein,Idf1aed905a7d9ad461dd6fe17ed199c8d60370e6,Stein: support mariabackup for backups,MERGED,2019-11-05 12:33:48.000000000,2019-11-07 09:49:46.000000000,2019-11-07 09:48:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-05 12:33:48.000000000', 'files': ['docker/mariadb/backup.sh', 'docker/mariadb/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/25890a485b20f9530f769c23af841d6a50593b37', 'message': ""Stein: support mariabackup for backups\n\nThis is a combination of 3 commits from Train. Rather than dropping\nxtrabackup, we are keeping it in addition to adding support for\nbackups using mariabackup.\n\n1. Drop Percona XtraBackup in favour of MariaDB Backup\n\nXtraBackup started failing to install on Ubuntu and does not support\nMariaDB 10.3 version.\n\nRelated-Bug: #1843043\n\nI9cf62c8e03a02574d85e5349df1d23a51d4c99be\n\n2. Fix mariabackup arguments\n\nAfter switching from innobackupex to mariabackup [1] for database\nbackups, the kolla_mariadb_backup.sh script was not modified to account\nfor the difference in arguments between innobackupex and mariabackup.\nThere is a compatibility mode, the documentation [2] for which covers\nsome of the differences.\n\nThe following have been changed:\n\n- Add explicit --backup argument, now required\n- Remove './' positional argument - not required with --stream\n- Remove --no-timestamp argument - only supported in innobackupex\n  compatibility mode\n- Remove --incremental argument - implied by --incremental-history-name\n- Remove deprecated --compress argument, which requires qpress to be\n  installed (it is not). The stream is now passed through gzip instead\n  [3]\n\n[1] https://mariadb.com/kb/en/library/mariabackup-overview/\n[2] https://mariadb.com/kb/en/library/mariabackup-options/#-innobackupex\n[3] https://mariadb.com/kb/en/library/using-encryption-and-compression-tools-with-mariabackup/\n\nI67cff47cbf56570b8eaeb66092dd87c2769fc8a6\nCloses-Bug: #1843043\n(cherry picked from commit 65b27d772be32738a8508ea8e6c07f74f229cdb7)\n\n3. Set pipefail in kolla_mariadb_backup.sh\n\nWithout this, a failure in mariabackup would be ignored due to the pipe\nto gzip.\n\nI84536b302991e8fb04d5fa67ea266bc428437ce1\nRelated-Bug: #1843043\n\nChange-Id: Idf1aed905a7d9ad461dd6fe17ed199c8d60370e6\n""}]",0,692996,25890a485b20f9530f769c23af841d6a50593b37,8,3,1,14826,,,0,"Stein: support mariabackup for backups

This is a combination of 3 commits from Train. Rather than dropping
xtrabackup, we are keeping it in addition to adding support for
backups using mariabackup.

1. Drop Percona XtraBackup in favour of MariaDB Backup

XtraBackup started failing to install on Ubuntu and does not support
MariaDB 10.3 version.

Related-Bug: #1843043

I9cf62c8e03a02574d85e5349df1d23a51d4c99be

2. Fix mariabackup arguments

After switching from innobackupex to mariabackup [1] for database
backups, the kolla_mariadb_backup.sh script was not modified to account
for the difference in arguments between innobackupex and mariabackup.
There is a compatibility mode, the documentation [2] for which covers
some of the differences.

The following have been changed:

- Add explicit --backup argument, now required
- Remove './' positional argument - not required with --stream
- Remove --no-timestamp argument - only supported in innobackupex
  compatibility mode
- Remove --incremental argument - implied by --incremental-history-name
- Remove deprecated --compress argument, which requires qpress to be
  installed (it is not). The stream is now passed through gzip instead
  [3]

[1] https://mariadb.com/kb/en/library/mariabackup-overview/
[2] https://mariadb.com/kb/en/library/mariabackup-options/#-innobackupex
[3] https://mariadb.com/kb/en/library/using-encryption-and-compression-tools-with-mariabackup/

I67cff47cbf56570b8eaeb66092dd87c2769fc8a6
Closes-Bug: #1843043
(cherry picked from commit 65b27d772be32738a8508ea8e6c07f74f229cdb7)

3. Set pipefail in kolla_mariadb_backup.sh

Without this, a failure in mariabackup would be ignored due to the pipe
to gzip.

I84536b302991e8fb04d5fa67ea266bc428437ce1
Related-Bug: #1843043

Change-Id: Idf1aed905a7d9ad461dd6fe17ed199c8d60370e6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/692996/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/mariadb/backup.sh', 'docker/mariadb/Dockerfile.j2']",2,25890a485b20f9530f769c23af841d6a50593b37,bug/1843043,COPY backup.sh /usr/local/bin/kolla_mariadb_backup.sh RUN chmod 755 /usr/local/bin/kolla_mariadb_backup.sh ,,51,0
openstack%2Fkolla~stable%2Fstein~I7bbdcbd5c60f654a484a872209e0537e3950346c,openstack/kolla,stable/stein,I7bbdcbd5c60f654a484a872209e0537e3950346c,get 'apt_*' options of kolla-build.conf working again,MERGED,2019-11-05 12:20:02.000000000,2019-11-07 09:47:44.000000000,2019-11-07 09:46:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-05 12:20:02.000000000', 'files': ['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f320e34ea3e5f1b8dcc188a082071be7a49c1d0', 'message': ""get 'apt_*' options of kolla-build.conf working again\n\nWe broke 'apt_sources_list' and 'apt_preferences' options quite a while\nago. Turned out that fix is quite simple.\n\nThis change adds empty sources.list and apt-preferences files which are\nalways added into images. If kolla-build.conf will use any of APT\nrelated options then those files will be replaced with provided ones.\n\nChange-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c\nCloses-bug: #1706549\n(cherry picked from commit bf20b41e7dea702b693fa98ea27822c8a33a5591)\n""}]",0,692993,0f320e34ea3e5f1b8dcc188a082071be7a49c1d0,8,3,1,14826,,,0,"get 'apt_*' options of kolla-build.conf working again

We broke 'apt_sources_list' and 'apt_preferences' options quite a while
ago. Turned out that fix is quite simple.

This change adds empty sources.list and apt-preferences files which are
always added into images. If kolla-build.conf will use any of APT
related options then those files will be replaced with provided ones.

Change-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c
Closes-bug: #1706549
(cherry picked from commit bf20b41e7dea702b693fa98ea27822c8a33a5591)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/93/692993/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences']",3,0f320e34ea3e5f1b8dcc188a082071be7a49c1d0,686963-stable/stein,# used for adding custom options by 'apt_preferences' option of kolla-build.conf ,,4,0
openstack%2Fkolla~stable%2Frocky~I7bbdcbd5c60f654a484a872209e0537e3950346c,openstack/kolla,stable/rocky,I7bbdcbd5c60f654a484a872209e0537e3950346c,get 'apt_*' options of kolla-build.conf working again,MERGED,2019-11-05 12:20:08.000000000,2019-11-07 09:46:16.000000000,2019-11-07 09:46:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-05 12:20:08.000000000', 'files': ['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences'], 'web_link': 'https://opendev.org/openstack/kolla/commit/954c32f8b964a7f52f7f778efab2c02b8f1fe99d', 'message': ""get 'apt_*' options of kolla-build.conf working again\n\nWe broke 'apt_sources_list' and 'apt_preferences' options quite a while\nago. Turned out that fix is quite simple.\n\nThis change adds empty sources.list and apt-preferences files which are\nalways added into images. If kolla-build.conf will use any of APT\nrelated options then those files will be replaced with provided ones.\n\nChange-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c\nCloses-bug: #1706549\n(cherry picked from commit bf20b41e7dea702b693fa98ea27822c8a33a5591)\n""}]",0,692994,954c32f8b964a7f52f7f778efab2c02b8f1fe99d,7,3,1,14826,,,0,"get 'apt_*' options of kolla-build.conf working again

We broke 'apt_sources_list' and 'apt_preferences' options quite a while
ago. Turned out that fix is quite simple.

This change adds empty sources.list and apt-preferences files which are
always added into images. If kolla-build.conf will use any of APT
related options then those files will be replaced with provided ones.

Change-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c
Closes-bug: #1706549
(cherry picked from commit bf20b41e7dea702b693fa98ea27822c8a33a5591)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/692994/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences']",3,954c32f8b964a7f52f7f778efab2c02b8f1fe99d,686963-stable/rocky,# used for adding custom options by 'apt_preferences' option of kolla-build.conf ,,4,0
openstack%2Fnetworking-powervm~master~Ic60993c2315e8b10da8abb1fb02e33151a1e2b98,openstack/networking-powervm,master,Ic60993c2315e8b10da8abb1fb02e33151a1e2b98,Enable support for both python3.6 and python3.7,MERGED,2019-09-12 14:24:16.000000000,2019-11-07 09:39:10.000000000,2019-11-07 09:39:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2019-09-12 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/651f235629193459e6016d2c5bbca3928ca92749', 'message': 'Enable support for both python3.6 and python3.7\n\nChange-Id: Ic60993c2315e8b10da8abb1fb02e33151a1e2b98\n'}, {'number': 2, 'created': '2019-09-17 04:12:16.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/74215aceb83c6390c3b48a6ca0afacdf24d2b4dc', 'message': 'Enable support for both python3.6 and python3.7\n\nChange-Id: Ic60993c2315e8b10da8abb1fb02e33151a1e2b98\n'}]",0,681763,74215aceb83c6390c3b48a6ca0afacdf24d2b4dc,12,2,2,28063,,,0,"Enable support for both python3.6 and python3.7

Change-Id: Ic60993c2315e8b10da8abb1fb02e33151a1e2b98
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/63/681763/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,651f235629193459e6016d2c5bbca3928ca92749,,"envlist = py27,py36,py37,pep8","envlist = py36,py27,pep8",2,1
openstack%2Fnova-powervm~master~I014c4ed3e8d8347b521afcd72748b62d57931661,openstack/nova-powervm,master,I014c4ed3e8d8347b521afcd72748b62d57931661,Merge:,ABANDONED,2019-07-21 12:03:32.000000000,2019-11-07 09:29:30.000000000,,"[{'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-21 12:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4a4a288d84824de47f7f91bee97010e47051725e', 'message': 'Updated necessary depencency packages to be in sync\nwith the in-tree nova changes.\n\nChange-Id: I014c4ed3e8d8347b521afcd72748b62d57931661\n'}, {'number': 2, 'created': '2019-07-21 16:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5f0f190d6bfc21c91f899c1e9acfe802317b3b33', 'message': 'Merge:\n\nAdded image type capability flags\n\nChange-Id: I014c4ed3e8d8347b521afcd72748b62d57931661\n'}, {'number': 3, 'created': '2019-07-22 13:45:48.000000000', 'files': ['requirements.txt', 'nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/152eb687ed7634924457c0ffad9ee88eb8fead65', 'message': 'Merge:\n\nAdded image type capability flags\nFixed UT Issue\nChange-Id: I014c4ed3e8d8347b521afcd72748b62d57931661\n'}]",0,671928,152eb687ed7634924457c0ffad9ee88eb8fead65,12,3,3,28063,,,0,"Merge:

Added image type capability flags
Fixed UT Issue
Change-Id: I014c4ed3e8d8347b521afcd72748b62d57931661
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/28/671928/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,4a4a288d84824de47f7f91bee97010e47051725e,,libxml2-python==2.6.21 lxml==4.3.4cryptography==2.1.4enum34==1.0.4eventlet==0.20.0futurist==1.8.0jsonpath-rw-ext==1.1.3keystonemiddleware==4.20.0msgpack-python==0.5.6os-brick==2.6.1os-resource-classes==0.1.0os-traits==0.12.0 os-vif==1.14.0oslo.config==6.1.0oslo.db==4.44.0oslo.messaging==7.0.0oslo.privsep==1.32.0oslo.serialization==2.21.1 oslo.service==1.34.0 oslo.upgradecheck==0.1.1oslo.versionedobjects==1.35.0ovs==2.10.0 ovsdbapp==0.15.0pyasn1-modules==0.2.1pycodestyle==2.0.0pyroute2==0.5.4 PyJWT==1.7.0python-ironicclient==2.7.0requests-mock==1.2.0rfc3986==1.1.0sortedcontainers==2.1.0 SQLAlchemy==1.0.10,enum34==1.0.4cryptography==2.1eventlet==0.18.2futurist==1.6.0jsonpath-rw-ext==1.1.3keystonemiddleware==4.17.0os-brick==2.5.0os-resource-classes==0.1.0 # Apache-2.0os-traits==0.4.0 os-vif==1.7.0oslo.config==5.2.0oslo.db==4.27.0oslo.messaging==6.3.0oslo.privsep==1.23.0oslo.serialization==2.18.0 oslo.service==1.24.0oslo.versionedobjects==1.31.2pyasn1-modules==0.2.1pycodestyle==2.0.0pyroute2==0.4.21python-ironicclient==2.3.0requests-mock==1.2.0rfc3986==0.3.1SQLAlchemy==1.0.10,34,26
openstack%2Fgovernance-sigs~master~Id945e16ae7810bf9b5e9a01aededef9dbeaddbc9,openstack/governance-sigs,master,Id945e16ae7810bf9b5e9a01aededef9dbeaddbc9,Turn PowerVMStackers team into a SIG,ABANDONED,2019-10-18 08:16:03.000000000,2019-11-07 09:27:24.000000000,,"[{'_account_id': 308}, {'_account_id': 13637}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 08:16:03.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/c57615298925d93c43e1bb73461d86ba927f401c', 'message': 'Turn PowerVMStackers team into a SIG\n\nThis patch add PowerVMStacker project team info to SIG\n\nChange-Id: Id945e16ae7810bf9b5e9a01aededef9dbeaddbc9\n'}]",0,689333,c57615298925d93c43e1bb73461d86ba927f401c,5,4,1,28063,,,0,"Turn PowerVMStackers team into a SIG

This patch add PowerVMStacker project team info to SIG

Change-Id: Id945e16ae7810bf9b5e9a01aededef9dbeaddbc9
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/33/689333/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,c57615298925d93c43e1bb73461d86ba927f401c,," PowerVMStacker: chairs: - name: Veda Annayappa irc: VedaAnnayappa email: va00121481@techmahindra.com - name: Anurag Mahanto irc: anuragmahanto67 email: Anurag.Mahanto@TechMahindra.com scope: > The scope of the PowerVMStacker is to provide OpenStack support for the POWER CPU architecture on the PowerVM hypervisor. This enables support of Linux, AIX and IBM i for PowerVM systems. There are currently three supported components of the PowerVM driver - nova-powervm  Support for Nova use cases. ceilometer-powervm  Gathers instance/VM statistics. networking-powervm  An optional Neutron ML2 agent that supports PowerVM Shared Ethernet Adapters (SEAs). Users should utilize this if their environment requires Shared Ethernet. However, they may also use the standard Open vSwitch agent from the Neutron project to support advanced functions such as Security Groups, Quality of Service (QoS), overlay networks (VXLANs) and more. status: active url: https://wiki.openstack.org/wiki/PowerVM ",,24,0
openstack%2Fswift~stable%2Frocky~I35eb16f568c00d973eb089aedd0e5a5619c25a2f,openstack/swift,stable/rocky,I35eb16f568c00d973eb089aedd0e5a5619c25a2f,Fix quarantine when object path is not a directory,MERGED,2019-10-23 20:40:48.000000000,2019-11-07 09:09:24.000000000,2019-11-07 09:09:24.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2019-10-23 20:40:48.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b3cd51008d4cb043ad29cd8865e17a4e9e79ed5d', 'message': 'Fix quarantine when object path is not a directory\n\nIn the diskfile module, there are a couple of cases where we would\nquarantine the suffix dir if a single object within is not a directory.\n\nChange the code so that we quarantine only the object.\n\nChange-Id: I35eb16f568c00d973eb089aedd0e5a5619c25a2f\n(cherry picked from commit 6008b0a83f862b2396ad6642b7863a30a258520b)\n(cherry picked from commit 43046cdd4325c88bc17fe0af1b317fbbff55787d)\n'}]",0,690738,b3cd51008d4cb043ad29cd8865e17a4e9e79ed5d,14,3,1,15343,,,0,"Fix quarantine when object path is not a directory

In the diskfile module, there are a couple of cases where we would
quarantine the suffix dir if a single object within is not a directory.

Change the code so that we quarantine only the object.

Change-Id: I35eb16f568c00d973eb089aedd0e5a5619c25a2f
(cherry picked from commit 6008b0a83f862b2396ad6642b7863a30a258520b)
(cherry picked from commit 43046cdd4325c88bc17fe0af1b317fbbff55787d)
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/690738/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,b3cd51008d4cb043ad29cd8865e17a4e9e79ed5d,," # The made-up filename is so that the eventual dirpath() # will result in this object directory that we care about. # Some failures will result in an object directory # becoming a file, thus causing the parent directory to # be qarantined. quar_path = quarantine_renamer(device_path, join(hsh_path, ""made-up-filename"")) # The made-up filename is so that the eventual dirpath() # will result in this object directory that we care about. # Some failures will result in an object directory # becoming a file, thus causing the parent directory to # be qarantined. quar_path = self.quarantine_renamer(dev_path, join(object_path, ""made-up-filename""))"," quar_path = quarantine_renamer(device_path, hsh_path) quar_path = self.quarantine_renamer(dev_path, object_path)",18,4
openstack%2Freleases~master~I696eb335682a58eb989d5d854b415f8e3c624982,openstack/releases,master,I696eb335682a58eb989d5d854b415f8e3c624982,python-openstackclient: release rocky 3.16.3,MERGED,2019-10-26 05:18:11.000000000,2019-11-07 09:07:35.000000000,2019-11-07 09:07:35.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-26 05:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ba578d7159389ba2022e0c0422365112978f97d6', 'message': ""python-openstackclient: release rocky 3.16.3\n\nThis release contains bug fixes:\n\n$ git log --no-merges --oneline 3.16.2..\n72922ae Document 2.53 behavior for compute service list/delete\nfc5f297 Fix compute service set handling for 2.53+\n9698c66 Fix BFV server list handling with --name-lookup-one-by-one\ndda007b Add --name-lookup-one-by-one option to server list\nbb7f491 Fix bug in endpoint group deletion\n7882463 Fix: Restore output 'VolumeBackupsRestore' object is not iterable\nfa48085 Stable branch combination fix\nd57ca32 OpenDev Migration Patch\n21abb43 Remove str() when setting network objects names\n42155fa Don't display router's is_ha and is_distributed attributes always\n\nChange-Id: I696eb335682a58eb989d5d854b415f8e3c624982\n""}, {'number': 2, 'created': '2019-10-26 05:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d7c3b535e352150d1acaab13553d4bbf5b04c453', 'message': ""python-openstackclient: release rocky 3.17.0\n\nThis release contains bug fixes and one feature,\n--name-lookup-one-by-one:\n\n$ git log --no-merges --oneline 3.16.2..\n72922ae Document 2.53 behavior for compute service list/delete\nfc5f297 Fix compute service set handling for 2.53+\n9698c66 Fix BFV server list handling with --name-lookup-one-by-one\ndda007b Add --name-lookup-one-by-one option to server list\nbb7f491 Fix bug in endpoint group deletion\n7882463 Fix: Restore output 'VolumeBackupsRestore' object is not iterable\nfa48085 Stable branch combination fix\nd57ca32 OpenDev Migration Patch\n21abb43 Remove str() when setting network objects names\n42155fa Don't display router's is_ha and is_distributed attributes always\n\nChange-Id: I696eb335682a58eb989d5d854b415f8e3c624982\n""}, {'number': 3, 'created': '2019-10-26 06:14:23.000000000', 'files': ['deliverables/rocky/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/257ccf7dc06bee5e3c4d7c0bfe574d90d9c0fb69', 'message': ""python-openstackclient: release rocky 3.16.3\n\nThis release contains bug fixes and one new option,\n--name-lookup-one-by-one:\n\n$ git log --no-merges --oneline 3.16.2..\n72922ae Document 2.53 behavior for compute service list/delete\nfc5f297 Fix compute service set handling for 2.53+\n9698c66 Fix BFV server list handling with --name-lookup-one-by-one\ndda007b Add --name-lookup-one-by-one option to server list\nbb7f491 Fix bug in endpoint group deletion\n7882463 Fix: Restore output 'VolumeBackupsRestore' object is not iterable\nfa48085 Stable branch combination fix\nd57ca32 OpenDev Migration Patch\n21abb43 Remove str() when setting network objects names\n42155fa Don't display router's is_ha and is_distributed attributes always\n\nChange-Id: I696eb335682a58eb989d5d854b415f8e3c624982\n""}]",1,691465,257ccf7dc06bee5e3c4d7c0bfe574d90d9c0fb69,17,6,3,4690,,,0,"python-openstackclient: release rocky 3.16.3

This release contains bug fixes and one new option,
--name-lookup-one-by-one:

$ git log --no-merges --oneline 3.16.2..
72922ae Document 2.53 behavior for compute service list/delete
fc5f297 Fix compute service set handling for 2.53+
9698c66 Fix BFV server list handling with --name-lookup-one-by-one
dda007b Add --name-lookup-one-by-one option to server list
bb7f491 Fix bug in endpoint group deletion
7882463 Fix: Restore output 'VolumeBackupsRestore' object is not iterable
fa48085 Stable branch combination fix
d57ca32 OpenDev Migration Patch
21abb43 Remove str() when setting network objects names
42155fa Don't display router's is_ha and is_distributed attributes always

Change-Id: I696eb335682a58eb989d5d854b415f8e3c624982
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/691465/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/python-openstackclient.yaml'],1,ba578d7159389ba2022e0c0422365112978f97d6,rocky-openstackclient-3.16.3, - projects: - repo: openstack/python-openstackclient hash: 3fe5d27a4df00280d00cc9041b99911b3d576eef version: 3.16.3,,4,0
openstack%2Fneutron~stable%2Fstein~Ifc565feb98c7f02df5c2831a3607c3e526a2e703,openstack/neutron,stable/stein,Ifc565feb98c7f02df5c2831a3607c3e526a2e703,Retry creating iptables managers and adding metering rules,MERGED,2019-11-06 14:11:38.000000000,2019-11-07 08:57:20.000000000,2019-11-07 08:54:43.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28655}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-11-06 14:11:38.000000000', 'files': ['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/services/metering/drivers/noop/noop_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff07bacc9080ab5d904f4b82f5d16da4fd61df6e', 'message': 'Retry creating iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n(cherry picked from commit 9f541521bbbcf36325bfc250e3ce27a138ddef3c)\n'}]",0,693183,ff07bacc9080ab5d904f4b82f5d16da4fd61df6e,10,6,1,30609,,,0,"Retry creating iptables managers and adding metering rules

This change makes the metering agent retry creating the iptables
managers for each router and applying the metering rules.
This is needed in case the metering agent starts before some or all of
the namespaces are created.

Change-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703
Closes-Bug: #1807153
(cherry picked from commit 9f541521bbbcf36325bfc250e3ce27a138ddef3c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/693183/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/services/metering/drivers/noop/noop_driver.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py']",6,ff07bacc9080ab5d904f4b82f5d16da4fd61df6e,fix-race-condition-in-metering-stable/stein," def test_sync_router_namespaces(self): routers = TEST_DVR_ROUTER[:1] self.metering._process_ns_specific_metering_label = mock.Mock() self.namespace_exists.return_value = False self.metering.add_metering_label(None, routers) rm = self.metering.routers[routers[0]['id']] self.assertEqual( 0, self.metering._process_ns_specific_metering_label.call_count) self.assertIsNone(rm.snat_iptables_manager) self.assertIsNone(rm.iptables_manager) self.namespace_exists.side_effect = [True, False] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNone(rm.iptables_manager) self.assertEqual( 1, self.metering._process_ns_specific_metering_label.call_count) self.namespace_exists.side_effect = [True] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNotNone(rm.iptables_manager) self.assertEqual( 3, self.metering._process_ns_specific_metering_label.call_count) # syncing again should have no effect self.namespace_exists.side_effect = [RuntimeError('Unexpected call')] self.metering.sync_router_namespaces(None, routers) self.assertIsNotNone(rm.snat_iptables_manager) self.assertIsNotNone(rm.iptables_manager) self.assertEqual( 3, self.metering._process_ns_specific_metering_label.call_count)",,114,18
openstack%2Fcloudkitty-specs~master~I6d88b6c4bc674fb5dab145e05b6b512c443f5e56,openstack/cloudkitty-specs,master,I6d88b6c4bc674fb5dab145e05b6b512c443f5e56,Spec: Optimize driver loading in v2 API,MERGED,2019-10-03 12:42:31.000000000,2019-11-07 08:51:34.000000000,2019-11-07 08:50:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}, {'_account_id': 30960}]","[{'number': 1, 'created': '2019-10-03 12:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ded3eef077c77478716848b4087543102e836cbf', 'message': 'Spec: Optimize driver loading in v2 API\n\nSee specs/ussuri/optimize_driver_loading_in_v2_api.rst for details.\n\nStory: 2006654\nTask 36904\n\nChange-Id: I6d88b6c4bc674fb5dab145e05b6b512c443f5e56\n'}, {'number': 2, 'created': '2019-10-18 08:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/6397bdb4adf9b3adf59c8789186592208886c66f', 'message': 'Spec: Optimize driver loading in v2 API\n\nSee specs/ussuri/optimize_driver_loading_in_v2_api.rst for details.\n\nStory: 2006654\nTask 36904\n\nChange-Id: I6d88b6c4bc674fb5dab145e05b6b512c443f5e56\n'}, {'number': 3, 'created': '2019-11-07 08:35:06.000000000', 'files': ['specs/ussuri/optimize_driver_loading_in_v2_api.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/2879fead750ec7065d750cba1077257ace94ded3', 'message': 'Spec: Optimize driver loading in v2 API\n\nSee specs/ussuri/optimize_driver_loading_in_v2_api.rst for details.\n\nStory: 2006654\nTask 36904\n\nChange-Id: I6d88b6c4bc674fb5dab145e05b6b512c443f5e56\n'}]",4,686391,2879fead750ec7065d750cba1077257ace94ded3,17,4,3,23060,,,0,"Spec: Optimize driver loading in v2 API

See specs/ussuri/optimize_driver_loading_in_v2_api.rst for details.

Story: 2006654
Task 36904

Change-Id: I6d88b6c4bc674fb5dab145e05b6b512c443f5e56
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/91/686391/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/optimize_driver_loading_in_v2_api.rst'],1,ded3eef077c77478716848b4087543102e836cbf,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Optimize driver loading in v2 API ================================= https://storyboard.openstack.org/#!/story/2006654 Problem Description =================== Currently, required drivers are loaded in the ``__init__`` method of v2 API resources. However, ``flask_restful`` instanciates resources on `each request`_, meaning that drivers are also loaded on each request. This leads to sub-optimal performance. .. _`each request`: https://github.com/flask-restful/flask-restful/blob/20b220e9c4690a7a25474b6521ead342aaed0235/flask_restful/__init__.py#L465 Proposed Change =============== Implement two new classmethods in ``cloudkitty.api.v2.base.BaseResource``: * ``reload``: Reloads all required drivers. * ``load``: Loads all required drivers by calling ``reload``. In case the drivers are already loaded, does nothing In order to be able to persist drivers between class instanciations, they will be set as class attributes. Alternatives ------------ None. Data model impact ----------------- None. REST API impact --------------- None. Security impact --------------- None. Notifications Impact -------------------- None. Other end user impact --------------------- The average response time for v2 API endpoints will be reduced. Performance Impact ------------------ Loading the drivers only once will result in a performance gain. Other deployer impact --------------------- Log messages that appear on driver instanciation will appear only once rather than on each request. Developer impact ---------------- Driver loading will have to be done in the ``reload`` method rather than in ``__init__``. Implementation ============== Assignee(s) ----------- Primary assignee: <lukapeschke/peschk_l> Work Items ---------- * Implement the ``reload`` and ``load`` methods. Dependencies ============ None. Testing ======= Existing unit tests for the v2 API along with planned tempest tests will test this. Documentation Impact ==================== The developer documentation for the v2 API will be updated to include information about the ``load`` and ``reload`` methods References ========== None. ",,117,0
openstack%2Fcinder~master~Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5,openstack/cinder,master,Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5,Fujitsu Driver: Multiple pools support,MERGED,2019-10-08 08:17:29.000000000,2019-11-07 08:42:11.000000000,2019-11-05 03:59:04.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 25837}, {'_account_id': 26077}, {'_account_id': 26387}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30566}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-08 08:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d52d1eaadfaac25444463667e6f91f8792bf3aa', 'message': 'Fujitsu Driver: Multiple pools support\n\nAdd multiple pools support for Fujitsu driver.\n\nChange-Id: Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5\n'}, {'number': 2, 'created': '2019-10-17 05:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56df92c81477751b9c057b819032611aaf278710', 'message': 'Fujitsu Driver: Multiple pools support\n\nAdd multiple pools support for Fujitsu driver.\n\nChange-Id: Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5\n'}, {'number': 3, 'created': '2019-10-28 03:09:26.000000000', 'files': ['releasenotes/notes/fujitsu-multiple-pools-a0dd9197b16b3122.yaml', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'doc/source/configuration/block-storage/drivers/fujitsu-eternus-dx-driver.rst', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d988ee346880bbef62aa11367196c873ba6b3b59', 'message': 'Fujitsu Driver: Multiple pools support\n\nAdd multiple pools support for Fujitsu driver.\n\nChange-Id: Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5\n'}]",5,687233,d988ee346880bbef62aa11367196c873ba6b3b59,135,37,3,26387,,,0,"Fujitsu Driver: Multiple pools support

Add multiple pools support for Fujitsu driver.

Change-Id: Icb8e04a0b623d46ec97c85bfe61d466ff983d9e5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/687233/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/volume/drivers/fujitsu/eternus_dx/constants.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py']",3,3d52d1eaadfaac25444463667e6f91f8792bf3aa,fujitsu-driver-update,"from cinder.volume import volume_utils eternus_pool = volume_utils.extract_host(volume['host'], 'pool') def create_pool_info(self, pool_instance, volume_count, pool_type): """"""Create pool information from pool instance."""""" LOG.debug('create_pool_info, pool_instance: %(pool)s, ' 'volume_count: %(volcount)s, pool_type: %(ptype)s.', {'pool': pool_instance, 'volcount': volume_count, 'ptype': pool_type}) if pool_type not in CONSTANTS.POOL_TYPE_list: msg = (_('Invalid pool type was specified : %s.') % pool_type) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) total_gb = pool_instance['TotalManagedSpace'] / units.Gi free_gb = pool_instance['RemainingManagedSpace'] / units.Gi if hasattr(pool_instance, 'provisioned_capacity_gb'): prov_gb = pool_instance.provisioned_capacity_gb else: prov_gb = total_gb - free_gb if pool_type == 'RAID': useable_gb = free_gb else: max_capacity = total_gb * float( self.configuration.max_over_subscription_ratio) useable_gb = max_capacity - prov_gb pool = { 'name': pool_instance['ElementName'], 'path': pool_instance.path, 'total_capacity_gb': total_gb, 'free_capacity_gb': free_gb, 'type': pool_type, 'volume_count': volume_count, 'provisioned_capacity_gb': prov_gb, 'useable_capacity_gb': useable_gb } LOG.debug('create_pool_info, pool: %s.', pool) return pool pool_name, pool = self._find_pool_from_volume(vol_instance) % {'eternus_pool': pool_name}) if not configservice: 'eternus_pool': pool_name}) 'eternus_pool': pool_name, 'eternus_pool': pool_name, return pool_name """"""Get pool capacity."""""" poolname_list = self._get_drvcfg('EternusPool', multiple=True) self._find_pools(poolname_list, self.conn) return (self.stats, poolname_list) """"""Read from driver configuration file."""""" if not filename: # Set default configuration file name. def _find_pools(self, poolname_list, conn): """"""Find Instance or InstanceName of pool by pool name on ETERNUS."""""" LOG.debug('_find_pool, pool name: %s.', poolname_list) target_poolname = list(poolname_list) pools = [] # Get pools info form CIM instance(include info about instance path). try: tppoollist = self._enum_eternus_instances( 'FUJITSU_ThinProvisioningPool', conn=conn) rgpoollist = self._enum_eternus_instances( 'FUJITSU_RAIDStoragePool', conn=conn) except Exception: msg = (_('_find_pool, ' 'eternus_pool:%(eternus_pool)s, ' 'EnumerateInstances, ' 'cannot connect to ETERNUS.') % {'eternus_pool': target_poolname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Make total pools list. tppools = [(tppool, 'TPP') for tppool in tppoollist] rgpools = [(rgpool, 'RAID') for rgpool in rgpoollist] poollist = tppools + rgpools # One eternus backend has only one special pool name # so just use pool name can get the target pool. for pool, ptype in poollist: poolname = pool['ElementName'] LOG.debug('_find_pools, ' 'pool: %(pool)s, ptype: %(ptype)s.', {'pool': poolname, 'ptype': ptype}) if poolname in target_poolname: try: volume_list = self._assoc_eternus_names( pool.path, conn=conn, AssocClass='FUJITSU_AllocatedFromStoragePool', ResultClass='FUJITSU_StorageVolume') volume_count = len(volume_list) except Exception: msg = (_('_find_pools, ' 'poolname: %(poolname)s, ' 'pooltype: %(ptype)s, ' 'Associator Names, ' 'cannot connect to ETERNUS.') % {'ptype': ptype, 'poolname': poolname}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) poolinfo = self.create_pool_info(pool, volume_count, ptype) target_poolname.remove(poolname) pools.append((poolinfo, poolname)) if not target_poolname: break if not pools: LOG.warning('_find_pools, all the EternusPools in driver ' 'configuration file are not exist. ' 'Please edit driver configuration file.') # Sort pools in the order defined in driver configuration file. sorted_pools = ( [pool for name in poolname_list for pool, pname in pools if name == pname]) LOG.debug('_find_pools, ' 'pools: %(pools)s, ' 'notfound_pools: %(notfound_pools)s.', {'pools': pools, 'notfound_pools': target_poolname}) pools_stats = {'pools': []} for pool in sorted_pools: single_pool = {} if pool['type'] == 'TPP': thin_enabled = True max_ratio = self.configuration.max_over_subscription_ratio else: thin_enabled = False max_ratio = 1 single_pool.update(dict( path=pool['path'], pool_name=pool['name'], total_capacity_gb=pool['total_capacity_gb'], total_volumes=pool['volume_count'], free_capacity_gb=pool['free_capacity_gb'], provisioned_capacity_gb=pool['provisioned_capacity_gb'], useable_capacity_gb=pool['useable_capacity_gb'], thin_provisioning_support=thin_enabled, thick_provisioning_support=not thin_enabled, max_over_subscription_ratio=max_ratio, )) single_pool['multiattach'] = False pools_stats['pools'].append(single_pool) self.stats['shared_targets'] = True self.stats['backend_state'] = 'up' self.stats['pools'] = pools_stats['pools'] return self.stats, target_poolname rc = None retdata = None def _enum_eternus_instances(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.EnumerateInstances(classname, **param_dict) def _assoc_eternus(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.Associators(classname, **param_dict) def _assoc_eternus_names(self, classname, conn=None, **param_dict): if not conn: conn = self.conn ret = conn.AssociatorNames(classname, **param_dict) def _find_pool_from_volume(self, vol_instance, manage_type='volume'): """"""Find Instance or InstanceName of pool by volume instance."""""" LOG.debug('_find_pool_from_volume, volume: %(volume)s.', {'volume': vol_instance}) poolname = None target_pool = None filename = None conn = self.conn # Get poolname of volume on Eternus. try: pools = self._assoc_eternus( vol_instance.path, conn=conn, AssocClass='FUJITSU_AllocatedFromStoragePool', ResultClass='CIM_StoragePool') except Exception: msg = (_('_find_pool_from_volume, ' 'vol_instance: %s, ' 'Associators: FUJITSU_AllocatedFromStoragePool, ' 'cannot connect to ETERNUS.') % vol_instance.path) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if not pools: msg = (_('_find_pool_from_volume, ' 'vol_instance: %s, ' 'pool not found.') % vol_instance.path) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) # Get poolname from driver configuration file. if manage_type == 'volume': cfgpool_list = list(self._get_drvcfg('EternusPool', filename=filename, multiple=True)) elif manage_type == 'snapshot': cfgpool_list = list(self._get_drvcfg('EternusSnapPool', filename=filename, multiple=True)) LOG.debug('_find_pool_from_volume, cfgpool_list: %(cfgpool_list)s.', {'cfgpool_list': cfgpool_list}) for pool in pools: if pool['ElementName'] in cfgpool_list: poolname = pool['ElementName'] target_pool = pool.path break if not target_pool: msg = (_('_find_pool_from_volume, ' 'vol_instance: %s, ' 'the pool of volume not in driver configuration file.') % vol_instance.path) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) LOG.debug('_find_pool_from_volume, poolname: %(poolname)s, ' 'target_pool: %(target_pool)s.', {'poolname': poolname, 'target_pool': target_pool}) return poolname, target_pool"," 'free_capacity_gb': 0, 'reserved_percentage': 0, 'total_capacity_gb': 0, eternus_pool = self._get_drvcfg('EternusPool') eternus_pool = self._get_drvcfg('EternusPool') # Check the existence of volume. pool = self._find_pool(eternus_pool) % {'eternus_pool': eternus_pool}) if configservice is None: 'eternus_pool': eternus_pool}) 'eternus_pool': eternus_pool, 'eternus_pool': eternus_pool, return eternus_pool """"""get pool capacity."""""" eternus_pool = self._get_drvcfg('EternusPool') LOG.debug('update_volume_stats, pool name: %s.', eternus_pool) pool = self._find_pool(eternus_pool, True) if pool: # pool is found self.stats['total_capacity_gb'] = ( pool['TotalManagedSpace'] / units.Gi) self.stats['free_capacity_gb'] = ( pool['RemainingManagedSpace'] / units.Gi) else: # if pool information is unknown, set 0 GB to capacity information LOG.warning('update_volume_stats, ' 'eternus_pool:%(eternus_pool)s, ' 'specified pool is not found.', {'eternus_pool': eternus_pool}) self.stats['total_capacity_gb'] = 0 self.stats['free_capacity_gb'] = 0 self.stats['multiattach'] = False LOG.debug('update_volume_stats, ' 'eternus_pool:%(eternus_pool)s, ' 'total capacity[%(total)s], ' 'free capacity[%(free)s].', {'eternus_pool': eternus_pool, 'total': self.stats['total_capacity_gb'], 'free': self.stats['free_capacity_gb']}) return (self.stats, eternus_pool) """"""read from driver configuration file."""""" if filename is None: # set default configuration file name ret = None def _enum_eternus_instances(self, classname): ret = self.conn.EnumerateInstances(classname) def _assoc_eternus(self, classname, **param_dict): ret = self.conn.Associators(classname, **param_dict) def _assoc_eternus_names(self, classname, **param_dict): ret = self.conn.AssociatorNames(classname, **param_dict)",491,99
openstack%2Fstorlets~master~Ifa7ac6f86219001c692d713a006c91bf593f6280,openstack/storlets,master,Ifa7ac6f86219001c692d713a006c91bf593f6280,Switch to Ussuri jobs,MERGED,2019-10-25 07:11:31.000000000,2019-11-07 08:24:58.000000000,2019-11-07 08:22:53.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 07:11:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/926b4bc64ee4d35da49afbf959e1e8863b695eb0', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ifa7ac6f86219001c692d713a006c91bf593f6280\n'}]",0,691236,926b4bc64ee4d35da49afbf959e1e8863b695eb0,7,2,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ifa7ac6f86219001c692d713a006c91bf593f6280
",git fetch https://review.opendev.org/openstack/storlets refs/changes/36/691236/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,926b4bc64ee4d35da49afbf959e1e8863b695eb0,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftraining-guides~master~I54a8be841c6544cef9df1254f58ec4f22e6b6f4f,openstack/training-guides,master,I54a8be841c6544cef9df1254f58ec4f22e6b6f4f,Imported Translations from Zanata,MERGED,2019-11-07 07:27:37.000000000,2019-11-07 08:02:47.000000000,2019-11-07 07:58:27.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 07:27:37.000000000', 'files': ['doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/77211fa11f308ddb7ee917f89307605214281db7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I54a8be841c6544cef9df1254f58ec4f22e6b6f4f\n'}]",0,693304,77211fa11f308ddb7ee917f89307605214281db7,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I54a8be841c6544cef9df1254f58ec4f22e6b6f4f
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/04/693304/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",5,77211fa11f308ddb7ee917f89307605214281db7,zanata/translations,"""POT-Creation-Date: 2019-11-03 08:42+0000\n""","""POT-Creation-Date: 2019-10-21 06:58+0000\n""msgid ""Image: http://bit.ly/vm-2019-denver-v1"" msgstr ""Abbild: http://bit.ly/vm-2019-denver-v1"" msgid ""Look at the `Zuul <http://status.openstack.org/zuul>`_ status page"" msgstr """" ""Schauen Sie auf die Zuul <http://status.openstack.org/zuul> `_ status Seite"" msgid """" ""Open the `training etherpad <https://etherpad.openstack.org/p/upstream-"" ""institute-berlin-2018>`_ for team work"" msgstr """" ""ffnen Sie das `Training Etherpad <https://etherpad.openstack.org/p/upstream-"" ""institute-berlin-2018>`_ fr Teamarbeit"" ",14,52
openstack%2Fnova~master~I4d37d6b093e56f85a5a5de8d81b6bb0411a8f73c,openstack/nova,master,I4d37d6b093e56f85a5a5de8d81b6bb0411a8f73c,cleanup to objects.fields,MERGED,2019-10-15 02:05:00.000000000,2019-11-07 07:58:43.000000000,2019-11-07 07:54:28.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-15 02:05:00.000000000', 'files': ['nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8d4e191dbfaad3fc6d6330f601bd4548be7e73c', 'message': ""cleanup to objects.fields\n\nSince 'AutoTypedField' has been redefined in scope of objects.fields,\nwe should use local definitions.\nThis is better for code consistence by using same coding style.\n\nChange-Id: I4d37d6b093e56f85a5a5de8d81b6bb0411a8f73c\n""}]",1,688600,b8d4e191dbfaad3fc6d6330f601bd4548be7e73c,38,12,1,30209,,,0,"cleanup to objects.fields

Since 'AutoTypedField' has been redefined in scope of objects.fields,
we should use local definitions.
This is better for code consistence by using same coding style.

Change-Id: I4d37d6b093e56f85a5a5de8d81b6bb0411a8f73c
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/688600/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/fields.py'],1,b8d4e191dbfaad3fc6d6330f601bd4548be7e73c,trival/fields,class ListOfListsOfStringsField(AutoTypedField):class DictOfSetOfIntegersField(AutoTypedField):,class ListOfListsOfStringsField(fields.AutoTypedField):class DictOfSetOfIntegersField(fields.AutoTypedField):,2,2
openstack%2Fcontributor-guide~master~I96461386c76184af40305c5e33fade757e79b6d5,openstack/contributor-guide,master,I96461386c76184af40305c5e33fade757e79b6d5,Imported Translations from Zanata,MERGED,2019-11-07 06:34:49.000000000,2019-11-07 07:58:20.000000000,2019-11-07 07:54:34.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 06:34:49.000000000', 'files': ['doc/source/locale/id/LC_MESSAGES/doc-common.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/67f4894028138b0abb2846c0d6a19d6477c71009', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I96461386c76184af40305c5e33fade757e79b6d5\n'}]",0,693294,67f4894028138b0abb2846c0d6a19d6477c71009,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I96461386c76184af40305c5e33fade757e79b6d5
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/94/693294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/id/LC_MESSAGES/doc-common.po'],1,67f4894028138b0abb2846c0d6a19d6477c71009,zanata/translations,"""POT-Creation-Date: 2019-10-28 15:46+0000\n""""PO-Revision-Date: 2019-11-06 02:29+0000\n""""`cycle-automatic <https://releases.openstack.org/reference/release_models."" ""html#cycle-automatic>`_"" msgstr """" ""`cycle-automatic <https://releases.openstack.org/reference/release_models."" ""html#cycle-automatic>`_"" msgid """"","""POT-Creation-Date: 2019-07-28 00:24+0000\n""""PO-Revision-Date: 2019-07-17 07:09+0000\n""",9,2
openstack%2Fswift~feature%2Flosf~Ia00756dd4bd513b340f22a4342894d144369b30d,openstack/swift,feature/losf,Ia00756dd4bd513b340f22a4342894d144369b30d,Merge remote-tracking branch 'gerrit/master' into feature/losf,MERGED,2019-11-07 03:22:48.000000000,2019-11-07 07:57:49.000000000,2019-11-07 07:54:33.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 03:22:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/dbfb6a6fc90cb3367ed2248572089ee3cbafc15a', 'message': ""Merge remote-tracking branch 'gerrit/master' into feature/losf\n\nChange-Id: Ia00756dd4bd513b340f22a4342894d144369b30d\n""}]",0,693283,dbfb6a6fc90cb3367ed2248572089ee3cbafc15a,7,2,1,15343,,,0,"Merge remote-tracking branch 'gerrit/master' into feature/losf

Change-Id: Ia00756dd4bd513b340f22a4342894d144369b30d
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/693283/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dbfb6a6fc90cb3367ed2248572089ee3cbafc15a,merge-from-master, name: swift-tox-func-losf-py27 - swift-tox-func-losf-py27: - swift-tox-func-losf-py27,"<<<<<<< HEAD (7d2d59 Merge ""EC frags are the ones with the #"" into feature/losf) name: swift-tox-func-losf name: swift-tox-func-ec-centos-7 parent: swift-tox-func-ec =======>>>>>>> BRANCH (7cb928 Fix bug internal client's delete_object logs 499) - swift-tox-func-losf:",3,7
openstack%2Fneutron~stable%2Fstein~Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,openstack/neutron,stable/stein,Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,Log OVS firewall conjunction creation,MERGED,2019-10-31 12:01:45.000000000,2019-11-07 07:57:41.000000000,2019-11-07 07:54:24.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 12:01:45.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3b9cbae23e196265bab829125e2e8a9f819b081', 'message': 'Log OVS firewall conjunction creation\n\nIn order to assist debugging of OVS flows involving conjunctions, log\nthe conjunction ID and other pertinent details.  Without this, there is\nno good way to verify the port was added to the correct conjunction.\n\nChange-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f\n(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)\n'}]",0,692353,f3b9cbae23e196265bab829125e2e8a9f819b081,29,6,1,13995,,,0,"Log OVS firewall conjunction creation

In order to assist debugging of OVS flows involving conjunctions, log
the conjunction ID and other pertinent details.  Without this, there is
no good way to verify the port was added to the correct conjunction.

Change-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f
(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/692353/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,f3b9cbae23e196265bab829125e2e8a9f819b081,log_conjunction_id-stable/stein," LOG.debug(""Created conjunction %(conj_id)s for SG %(sg_id)s "" ""referencing remote SG ID %(remote_sg_id)s on port "" ""%(port_id)s."", {'conj_id': conj_id, 'sg_id': sec_group_id, 'remote_sg_id': rule['remote_group_id'], 'port_id': port.id})",,7,0
openstack%2Fcyborg-tempest-plugin~master~I486ba39a3ee182c177bcfb76bcd969c9afb162c7,openstack/cyborg-tempest-plugin,master,I486ba39a3ee182c177bcfb76bcd969c9afb162c7,Make cyborg-tempest job voting,MERGED,2019-09-20 03:03:40.000000000,2019-11-07 07:56:18.000000000,2019-11-07 07:56:18.000000000,"[{'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-09-20 03:03:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/daa4741b4fdc74f516621eb2f2fe1e91dafa55c7', 'message': 'Make cyborg-tempest job voting\n\nSince cyborg-tempest is stable and already have some tests,\nwe should make cyborg-tempest job voting to avoid invole\nnew errors in the next development.\n\nChange-Id: I486ba39a3ee182c177bcfb76bcd969c9afb162c7\n'}]",0,683271,daa4741b4fdc74f516621eb2f2fe1e91dafa55c7,8,4,1,14107,,,0,"Make cyborg-tempest job voting

Since cyborg-tempest is stable and already have some tests,
we should make cyborg-tempest job voting to avoid invole
new errors in the next development.

Change-Id: I486ba39a3ee182c177bcfb76bcd969c9afb162c7
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/71/683271/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,daa4741b4fdc74f516621eb2f2fe1e91dafa55c7,,, voting: false,0,1
openstack%2Fnova-specs~master~Ic42d00d910bde712ed0ab0cb8ff5d01063403e3d,openstack/nova-specs,master,Ic42d00d910bde712ed0ab0cb8ff5d01063403e3d,Count quota based on resource class,ABANDONED,2018-05-17 04:46:35.000000000,2019-11-07 07:54:14.000000000,,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 10343}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26936}, {'_account_id': 27961}]","[{'number': 1, 'created': '2018-05-17 04:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/7370adf671671471896f465053a7544bd5cf8cf8', 'message': 'Count quota based on resource class\n\nThis spec is about BP count-quota-base-on-resource-class\n\nChange-Id: Ic42d00d910bde712ed0ab0cb8ff5d01063403e3d\n'}, {'number': 2, 'created': '2018-05-21 11:52:46.000000000', 'files': ['specs/rocky/approved/count-quota-based-on-resource-class.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/722a4d3eb11b793a629ad91c18982f547307324e', 'message': 'Count quota based on resource class\n\nThis spec is about BP count-quota-base-on-resource-class\n\nChange-Id: Ic42d00d910bde712ed0ab0cb8ff5d01063403e3d\n'}]",66,569011,722a4d3eb11b793a629ad91c18982f547307324e,29,13,2,5754,,,0,"Count quota based on resource class

This spec is about BP count-quota-base-on-resource-class

Change-Id: Ic42d00d910bde712ed0ab0cb8ff5d01063403e3d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/11/569011/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/count-quota-based-on-resource-class.rst'],1,7370adf671671471896f465053a7544bd5cf8cf8,bp/count-quota-base-on-resource-class,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Count Quota Based on Resource Class =================================== https://blueprints.launchpad.net/nova/+spec/count-quota-base-on-resource-class This spec proposes to add the ability to count the quota based on any resource class other than just Nova built-in resources. Problem description =================== Currently, Nova only supports few built-in resources, like instances, cores, ram, and disk, etc. Since Placement was introduced, Nova is more flexible to manage more kind of resources in the cluster, Like GPU, PCI/SRIOV device, and custom resources etc. But there is no way to count quota for those resources in Nova. For example, for an end user, it is allowed to create 100 instances, but the operator wants to limit the end user on the number of VGPU created to 20. Currently, there is no way to limit that, the end user can choose the flavor which has VGPU and created 100 instances. Use Cases --------- * The operator wants to limit the VGPU consuming for each single end user. * The operator wants to limit the custom resources consuming for each single end user. * The bare-metal operator wants to limit specific kind of bare-metal node consuming for each single end user. Proposed change =============== Proposes to change the `os-quota-sets` and `os-quota-class-sets` APIs to allow the operator to create a quota for any resource class. The quota of resource class will be stored in the existed quota DB tables. The `os-quota-class-sets` API allows the operator to create default quota on a specific resource class. Then using the `os-quota-sets` API to set a quota value for a specific project or a specific user. When instance booting, only the resource class which has a quota limit and requested in the flavor will be counted. The quota usage is counting by the placement `GET /usages` API. Alternatives ------------ The keystone limits support a unified way defined quota for all the OpenStack projects. But keystone limits is still under development. And in the first implementation, there are no user quota supports which is needed by Nova. So it still needs a little time to reach that. Data model impact ----------------- N/A REST API impact --------------- Allows the `PUT /os-quota-sets/{project_id}` and `PUT /os-quota-class-sets/{quota_class}` APIs to accept resource class as quota name. The `PUT /os-quota-sets/{project_id}` API's JSON schema as below:: { 'type': 'object', 'properties': { 'type': 'object', 'quota_set': { 'patternProperties': { '^[A-Za-z0-9_]+$': common_quota } 'additionalProperties': False, }, }, 'required': ['quota_set'], 'additionalProperties': False, } The `PUT /os-quota-class-sets/{quota_class}` API's JSON schema is basically same as above. The valid quota will be checked by the API layer python code. Only the valid resource class and built-in resource are allowed, otherwise, the `HTTPBadRequest 400` will be returned. The above API change needs new microversion. When booting new instance, the resource class which is required by the flavor and has quota limit in the DB, it will be checked by the quota limit. If it's over the quota, the instance booting will be failed, the `HTTPForbidden 403` will be returned. This doesn't require new microversion, since this is en existed API behavior. Security impact --------------- The operator can get granular control on the quota. Notifications impact -------------------- N/A Other end user impact --------------------- The python-novaclient should be changed to match the quota API change. Performance Impact ------------------ The Placement `GET /usages` API will return all the resource class consuming in a single call. So the performance won't be changed by the number of quotas counted. Other deployer impact --------------------- There is no default quota value in the configure options, like built-in quota resources. The operator can create default quota value by the quota class API. Developer impact ---------------- N/A Upgrade impact -------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: Alex Xu <hejie.xu@intel.com> Other contributors: Lei Zhang <lei.a.zhang@intel.com> Work Items ---------- * Create PlacementCountableResource class for counting the usage of a resource class. * Enable quota-sets/quota-class API to accept resource class as quota name. * Counting resource class quota when booting instance. Dependencies ============ This may or may not depend on the proposal https://review.openstack.org/509042. These two proposals have the same problem needs to be addressed, it is how to figure out the consumer type, and they should have the same common change in the code also. But https://review.openstack.org/509042 is focusing on built-in resource quota check on the placement. This spec is more about non-built-in resource quota check on the placement. Testing ======= The unit tests and functional tests should be added. Documentation Impact ==================== The API and administrator document should be changed to introduce this new feature. References ========== N/A History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,202,0
openstack%2Fneutron~stable%2Ftrain~Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,openstack/neutron,stable/train,Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,Log OVS firewall conjunction creation,MERGED,2019-10-31 14:40:04.000000000,2019-11-07 07:52:43.000000000,2019-11-07 07:47:52.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 14:40:04.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e7e37c4a97143e0f5af993d10bea0a04b061892', 'message': 'Log OVS firewall conjunction creation\n\nIn order to assist debugging of OVS flows involving conjunctions, log\nthe conjunction ID and other pertinent details.  Without this, there is\nno good way to verify the port was added to the correct conjunction.\n\nChange-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f\n(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)\n'}]",0,692384,2e7e37c4a97143e0f5af993d10bea0a04b061892,30,5,1,13995,,,0,"Log OVS firewall conjunction creation

In order to assist debugging of OVS flows involving conjunctions, log
the conjunction ID and other pertinent details.  Without this, there is
no good way to verify the port was added to the correct conjunction.

Change-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f
(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/692384/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,2e7e37c4a97143e0f5af993d10bea0a04b061892,log_conjunction_id-stable/train," LOG.debug(""Created conjunction %(conj_id)s for SG %(sg_id)s "" ""referencing remote SG ID %(remote_sg_id)s on port "" ""%(port_id)s."", {'conj_id': conj_id, 'sg_id': sec_group_id, 'remote_sg_id': rule['remote_group_id'], 'port_id': port.id})",,7,0
openstack%2Fstorlets~master~I717686c7d63bb0b21d25f534ba439e611ea2f5bc,openstack/storlets,master,I717686c7d63bb0b21d25f534ba439e611ea2f5bc,Enable unit tests related to internal_client,MERGED,2019-10-25 01:59:03.000000000,2019-11-07 07:51:33.000000000,2019-11-07 07:50:21.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 01:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/9d06819d40a35b3d86679375c8be0749025e0bf5', 'message': 'DNM: Try to enable unit tests related to internal_client\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n'}, {'number': 2, 'created': '2019-10-25 02:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eeb78086b7b2b78b95d4416b6ca43aadb4721955', 'message': 'DNM: Try to enable unit tests related to internal_client\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n'}, {'number': 3, 'created': '2019-11-07 05:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/c3a479540113a33ea71794af1fbfb9002df9c131', 'message': 'DNM: Try to enable unit tests related to internal_client\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n'}, {'number': 4, 'created': '2019-11-07 05:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/de0a6ed7f398dd78183f4a27893f47ae16428a8b', 'message': ""Enable unit tests related to internal_client\n\nThese tests are skipped because we use swift codes which wasn't\ncompatible with Py2, but now we are ready to use it in Py3.\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n""}, {'number': 5, 'created': '2019-11-07 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/d08d0baa26c1ebe1770021e51b558df0316d43ff', 'message': ""Enable unit tests related to internal_client\n\nThese tests are skipped because we use swift codes which wasn't\ncompatible with Py2, but now we are ready to use it in Py3.\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n""}, {'number': 6, 'created': '2019-11-07 05:53:03.000000000', 'files': ['tests/unit/gateway/gateways/docker/test_gateway.py', 'storlets/gateway/common/stob.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/12bc89be869c30562444eeac2532c7ff212b7ba8', 'message': ""Enable unit tests related to internal_client\n\nThese tests are skipped because we use swift codes which weren't\ncompatible with Py2, but now we are ready to use them in Py3.\n\nChange-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc\n""}]",0,691143,12bc89be869c30562444eeac2532c7ff212b7ba8,14,2,6,9816,,,0,"Enable unit tests related to internal_client

These tests are skipped because we use swift codes which weren't
compatible with Py2, but now we are ready to use them in Py3.

Change-Id: I717686c7d63bb0b21d25f534ba439e611ea2f5bc
",git fetch https://review.opendev.org/openstack/storlets refs/changes/43/691143/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/gateway/gateways/docker/test_gateway.py'],1,9d06819d40a35b3d86679375c8be0749025e0bf5,py3-internal-client,," if six.PY3: self.skipTest( ""swift.common.internal_client.InternalClient for testing"" ""doesn't suppoert py3 yet"")",0,4
openstack%2Fswift~master~I3787200dd89831854ee8ef04dd6c3b8f8404f576,openstack/swift,master,I3787200dd89831854ee8ef04dd6c3b8f8404f576,WIP: Add TLO middleware,NEW,2017-08-30 19:05:17.000000000,2019-11-07 07:45:38.000000000,,"[{'_account_id': 6968}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26946}]","[{'number': 1, 'created': '2017-08-30 19:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b16fd46f1af7c3f1ab178ce2dcac4c6297a4a51', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 2, 'created': '2017-09-21 13:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f1b9def838e53786a8774fdb87df448af0f54209', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 3, 'created': '2017-09-21 13:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5376a9555e18269693551a7836c6dd5ada19aea4', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 4, 'created': '2017-10-10 18:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b7c9a65d6b9a7bb07a679b964fcaddc13b56454', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 5, 'created': '2017-12-31 11:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/551a347df2560627a4ec4b515429b7ef499b4593', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 6, 'created': '2018-01-19 20:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f335d8b5d5fd2bc0d0d3aa756364ed3027caf084', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 7, 'created': '2018-01-19 22:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/655e000cde63f428d83ac6a1f92316ef19f6bb16', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 8, 'created': '2019-10-10 05:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c502eb3326be79e6e972fafdd571be9c1f04e70', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}, {'number': 9, 'created': '2019-11-05 07:17:45.000000000', 'files': ['swift/common/middleware/tlo.py', 'test/functional/test_tlo.py', 'etc/proxy-server.conf-sample', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/2f6685a53de54c67897a6768d41e1e8651bd91f1', 'message': 'WIP: Add TLO middleware\n\nThis patch introduces a middleware for creating tar objects\nwith a middleware in a similar style to SLO. The only\nactions this middleware performs are to transform a tar\nmanifest into an SLO manifest that makes use of preamble\nand postamble data for the tar headers and padding.\n\nChange-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576\n'}]",23,499260,2f6685a53de54c67897a6768d41e1e8651bd91f1,27,5,9,9216,,,0,"WIP: Add TLO middleware

This patch introduces a middleware for creating tar objects
with a middleware in a similar style to SLO. The only
actions this middleware performs are to transform a tar
manifest into an SLO manifest that makes use of preamble
and postamble data for the tar headers and padding.

Change-Id: I3787200dd89831854ee8ef04dd6c3b8f8404f576
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/499260/9 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/tlo.py'],1,4b16fd46f1af7c3f1ab178ce2dcac4c6297a4a51,tlo,"# Copyright (c) 2016 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """""" Middleware that will provide Tar Large Object (TLO) support. This feature builds upon the preamble and postamble support in SLO to provide the capability for a user to upload a manifest that allows multiple objects to be downloaded as a tarball. ---------------------- Uploading the Manifest ---------------------- After the user has uploaded the objects to be downloaded, a manifest is uploaded. The request must be a PUT with the query parameter:: ?tar-manifest=put The body of this request will be an ordered list of object descriptions in JSON format. The data to be supplied for each segment is: =========== ======================================================== Key Description =========== ======================================================== path the path to the object (not including account) /container/object_name size the size of the object in bytes etag (optional) the ETag given back when the object was PUT range (optional) the (inclusive) range within the object to use as a file in the tarball. If omitted, the entire object is used name (optional) the name that should be presented by the tarball for the object. If omitted, the object path will be used (not including account or leading slash) mode (optional) the mode that should be presented by the tarball for the object. If omitted, the file mode will default to 0o644. =========== ======================================================== The format of the list will be: .. code:: [ { ""path"": ""/cont/object"", ""etag"": ""etagoftheobject"", ""size"": 10485760, ""range"": ""1048576-2097151"", ""name"": ""object.name"", ""mode"": ""0644"" }, ... ] The number of object segments is limited by the settings for SLO, larger tarballs can be created with a concatenation request (see below for details). -------------- Deleting a TLO -------------- Much like SLO, a DELETE request will just delete the manifest object itself. A DELETE with a query parameter:: ?tar-manifest=delete will delete all the objects referenced in the manifest and then the manifest itself. The failure response will be similar to the bulk delete middleware. ------------------------ Modifying a Large Object ------------------------ PUTs / POSTs will work as expected, PUTs will just overwrite the manifest object for example. ------------------ Container Listings ------------------ In a container listing the size listed for TLO manifest objects will be the total_size of the concatenated segments in the manifest along. The overall X-Container-Bytes-Used for the container (and subsequently for the account) will not reflect total_size of the manifest but the actual size of the json data stored. The reason for this somewhat confusing discrepancy is we want the container listing to reflect the size of the manifest object when it is downloaded. We do not, however, want to count the bytes-used twice (for both the manifest and the segments it's referring to) in the container and account metadata which can be used for stats purposes. """""" import base64 import json import mimetypes import six import tarfile import time from swift.common.swob import ( Request, HTTPBadRequest, HTTPRequestEntityTooLarge, HTTPLengthRequired, HTTPException ) from swift.common.utils import get_logger, split_path, register_swift_info from swift.common.middleware.slo import ( DEFAULT_MAX_MANIFEST_SEGMENTS, DEFAULT_MAX_MANIFEST_SIZE ) REQUIRED_TLO_KEYS = set(['path', 'size_bytes']) OPTIONAL_TLO_KEYS = set([ 'range', 'etag', 'size_bytes', 'name', 'uid', 'gid', 'mode' ]) ALLOWED_TLO_KEYS = REQUIRED_TLO_KEYS | OPTIONAL_TLO_KEYS def _tar_padding(size): """""" Given a size of bytes, create a tar padding to a complete block """""" _bs = tarfile.BLOCKSIZE return base64.b64encode('\x00' * (_bs - (size - 1) % _bs - 1)) def _tar_header(name, size, mode=0o644): """""" Build a tar header for a given file name, size and mode """""" info = tarfile.TarInfo(name=name) info.size = size info.type = tarfile.REGTYPE info.mode = mode info.mtime = time.time() return base64.b64encode(info.tobuf(format=tarfile.GNU_FORMAT)) def parse_and_validate_input(req_body, req_path): """""" Given a request body, parses it and returns a list of dictionaries. The input structure is described above, and the output structure is a valid SLO manifest including preamble and postamble data containing encoded tar header and footer data. :raises: HTTPException on parse errors or semantic errors (e.g. missing JSON keys, bad JSON value types...) :returns: a list of dictionaries on success """""" slo_data = [] try: parsed_data = json.loads(req_body) except ValueError: raise HTTPBadRequest(""Manifest must be valid JSON.\n"") if not isinstance(parsed_data, list): raise HTTPBadRequest(""Manifest must be a list.\n"") # If we got here, req_path refers to an object, so this won't ever raise # ValueError. vrs, account, _junk = split_path(req_path, 3, 3, True) errors = [] for seg_index, seg_dict in enumerate(parsed_data): if not isinstance(seg_dict, dict): errors.append(""Index %d: not a JSON object"" % seg_index) continue missing_keys = [k for k in REQUIRED_TLO_KEYS if k not in seg_dict] if missing_keys: errors.append( ""Index %d: missing keys %s"" % ( seg_index, "", "".join('""%s""' % (mk,) for mk in sorted(missing_keys)) ) ) continue extraneous_keys = [k for k in seg_dict if k not in ALLOWED_TLO_KEYS] if extraneous_keys: errors.append( ""Index %d: extraneous keys %s"" % ( seg_index, "", "".join( '""%s""' % (ek,) for ek in sorted(extraneous_keys) ) ) ) continue if not isinstance(seg_dict['path'], six.string_types): errors.append(""Index %d: \""path\"" must be a string"" % seg_index) continue # We validate the size here because this is optional in SLO seg_size = seg_dict.get('size_bytes') if seg_size is None: errors.append(""Index %d: a valid tar object size is required"") else: try: seg_size = int(seg_size) seg_dict['size_bytes'] = seg_size except (TypeError, ValueError): errors.append(""Index %d: invalid size_bytes"" % seg_index) continue seg_name = seg_dict.get('name', seg_dict.get['path']) if not isinstance(seg_name, six.string_types): errors.append( ""Index %d: invalid tar name specified for object"" % seg_index ) continue else: # Don't allow dangerous tarballs seg_name = seg_name.lstrip('/') seg_mode = seg_dict.get('mode') if seg_mode is None: seg_mode = 0o644 try: seg_mode = int(seg_mode, 8) except (TypeError, ValueError): errors.append(""Index %d: invalid mode"" % seg_index) continue seg_data = { ""path"": ""/cont/object"", ""size_bytes"": seg_size, } optional_seg_data = { k: seg_dict[k] for k in ['range', 'etag'] if k in seg_dict } seg_data.extend(optional_seg_data) slo_data.append(seg_data) if errors: error_message = """".join(e + ""\n"" for e in errors) raise HTTPBadRequest( error_message, headers={""Content-Type"": ""text/plain""} ) return slo_data class TarLargeObject(object): """""" TarLargeObject Middleware See above for a full description. The proxy logs created for any subrequests made will have swift.source set to ""TLO"". :param app: The next WSGI filter or app in the paste.deploy chain. :param conf: The configuration dict for the middleware. """""" def __init__( self, app, conf, max_manifest_segments=DEFAULT_MAX_MANIFEST_SEGMENTS, max_manifest_size=DEFAULT_MAX_MANIFEST_SIZE ): self.conf = conf self.app = app self.logger = get_logger(conf, log_route='tlo') self.max_manifest_segments = max_manifest_segments self.max_manifest_size = max_manifest_size @staticmethod def _process_seg_dict(seg_dict): """""" TODO: Add support for inline sub-tars """""" processed = { k: seg_dict[k] for k in seg_dict if k in ['path', 'etag', 'size', 'range'] and seg_dict[k] } seg_name = seg_dict['name'] seg_size = seg_dict['size'] seg_mode = seg_dict['mode'] processed.update({ ""preamble"": _tar_header(seg_name, seg_size, seg_mode), ""postamble"": _tar_padding(seg_size) }) return processed def handle_tar_put(self, req, start_response): """""" Will handle the PUT of a TLO manifest. Creates the relevant SLO manifest based on the TLO manifest contents and passes the request on to the SLO middleware. Uses WSGIContext to call self and start_response and returns a WSGI iterator. :params req: a swob.Request with an obj in path :raises: HttpException on errors """""" try: vrs, account, container, obj = req.split_path(1, 4, True) except ValueError: return self.app(req.environ, start_response) if ( req.content_length is None and req.headers.get('transfer-encoding', '').lower() != 'chunked' ): raise HTTPLengthRequired(request=req) parsed_data = parse_and_validate_input( req.body_file.read(self.max_manifest_size), req.path ) if len(parsed_data) > self.max_manifest_segments: raise HTTPRequestEntityTooLarge( 'Number of segments must be <= %d' % self.max_manifest_segments ) processed_data = [] for seg_dict in parsed_data: processed_data.append(self._process_seg_dict(seg_dict)) # TODO: Append 2*tar block padding json_data = json.dumps(processed_data) if six.PY3: json_data = json_data.encode('utf-8') req.body = json_data req.params.pop('tar-manifest') req.params['multipart-manifest'] = 'put' env = req.environ # TODO: update content type to be tar if not env.get('CONTENT_TYPE'): guessed_type, _junk = mimetypes.guess_type(req.path_info) env['CONTENT_TYPE'] = guessed_type or 'application/octet-stream' return self.app(env, start_response) def __call__(self, env, start_response): """""" WSGI entry point """""" if env.get('swift.slo_override'): return self.app(env, start_response) req = Request(env) try: vrs, account, container, obj = req.split_path(4, 4, True) except ValueError: return self.app(env, start_response) try: if ( req.method == 'PUT' and req.params.get('tar-manifest') == 'put' ): return self.handle_tar_put(req, start_response) if 'X-Tar-Large-Object' in req.headers: raise HTTPBadRequest( request=req, body='X-Tar-Large-Object is a reserved header. ' 'To create a tar large object add query param ' 'tar-manifest=put.') except HTTPException as err_resp: return err_resp(env, start_response) return self.app(env, start_response) def filter_factory(global_conf, **local_conf): conf = global_conf.copy() conf.update(local_conf) max_manifest_segments = int(conf.get( 'max_manifest_segments', DEFAULT_MAX_MANIFEST_SEGMENTS )) max_manifest_size = int(conf.get( 'max_manifest_size', DEFAULT_MAX_MANIFEST_SIZE )) register_swift_info('tlo') def tlo_filter(app): return TarLargeObject( app, conf, max_manifest_segments=max_manifest_segments, max_manifest_size=max_manifest_size) return tlo_filter ",,407,0
openstack%2Fcharm-guide~master~Idcfb0aeacdf1d298a95ed61ab3861091becf6766,openstack/charm-guide,master,Idcfb0aeacdf1d298a95ed61ab3861091becf6766,Update charm release scheduled based on Ussuri,MERGED,2019-10-30 20:44:26.000000000,2019-11-07 07:06:55.000000000,2019-11-07 07:05:31.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 20:44:26.000000000', 'files': ['doc/source/release-schedule.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/de0381a5708709d4733eeafa1ae6465550409bdd', 'message': 'Update charm release scheduled based on Ussuri\n\nChange-Id: Idcfb0aeacdf1d298a95ed61ab3861091becf6766\n'}]",0,692221,de0381a5708709d4733eeafa1ae6465550409bdd,8,3,1,20635,,,0,"Update charm release scheduled based on Ussuri

Change-Id: Idcfb0aeacdf1d298a95ed61ab3861091becf6766
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/21/692221/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-schedule.rst'],1,de0381a5708709d4733eeafa1ae6465550409bdd,update-rel-sched,"20.05 Stable Charm Release| Freeze | Fri, May 8, 2020 || Release | Wed, May 20, 2020 |20.02 Stable Charm Release| Freeze | Fri, Jan 31, 2020 || Release | Wed, Feb 12, 2020 |","20.04 Stable Charm Release| Freeze | Tue, Apr 14, 2020 || Release | Thu, Apr 23, 2020 |20.01 Stable Charm Release| Freeze | Tue, Jan 21, 2020 || Release | Thu, Jan 30, 2020 |",6,6
openstack%2Fstorlets~master~If6a41b27dcda4c556d9b0ca7da58b847dc606f5c,openstack/storlets,master,If6a41b27dcda4c556d9b0ca7da58b847dc606f5c,PY3: Fix urllib path to be compatible with py3,MERGED,2019-11-01 08:57:28.000000000,2019-11-07 06:23:05.000000000,2019-11-07 06:20:42.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 08:57:28.000000000', 'files': ['tests/functional/python/test_simple_storlet.py', 'tests/functional/java/test_thumbnail_storlet.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/9eb84a2282fe8b040310da7f7a9d916c1a43161e', 'message': 'PY3: Fix urllib path to be compatible with py3\n\nChange-Id: If6a41b27dcda4c556d9b0ca7da58b847dc606f5c\n'}]",3,692515,9eb84a2282fe8b040310da7f7a9d916c1a43161e,10,4,1,4608,,,0,"PY3: Fix urllib path to be compatible with py3

Change-Id: If6a41b27dcda4c556d9b0ca7da58b847dc606f5c
",git fetch https://review.opendev.org/openstack/storlets refs/changes/15/692515/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/functional/python/test_simple_storlet.py', 'tests/functional/java/test_thumbnail_storlet.py']",2,9eb84a2282fe8b040310da7f7a9d916c1a43161e,,"from six.moves.urllib.request import Request, urlopen req = Request(url, headers=headers) conn = urlopen(req, timeout=10)","from eventlet.green import urllib2 req = urllib2.Request(url, headers=headers) conn = urllib2.urlopen(req, timeout=10)",6,6
openstack%2Fkolla~stable%2Fstein~I1c3b817712ae10edd45de01382b044af2fb728bd,openstack/kolla,stable/stein,I1c3b817712ae10edd45de01382b044af2fb728bd,Add effective and permitted capability to blackbox exporter,MERGED,2019-11-05 12:03:44.000000000,2019-11-07 06:18:18.000000000,2019-11-07 06:16:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 29543}]","[{'number': 1, 'created': '2019-11-05 12:03:44.000000000', 'files': ['docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e712fadd3d7e12163455a74a8076791d925de11', 'message': ""Add effective and permitted capability to blackbox exporter\n\nThe ICMP probe in the Prometheus blackbox exporter requires\nelevated privileges to function. Linux root user or CAP_NET_RAW\ncapability is required. Can be set by executing setcap\ncap_net_raw+ep blackbox_exporter. This change also bumps the version\nof the blackbox exporter to the next minor version to allow for this\nsupport.\n\n'+ep' means we're adding the capability as effective and permitted.\n\nSee: https://github.com/prometheus/blackbox_exporter\n\nChange-Id: I1c3b817712ae10edd45de01382b044af2fb728bd\nCloses-Bug: #1840631\nCo-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>\n(cherry picked from commit b5a4478b0fa9b775a9b5c45545e78e9215a50588)\n""}]",0,692988,8e712fadd3d7e12163455a74a8076791d925de11,8,4,1,14826,,,0,"Add effective and permitted capability to blackbox exporter

The ICMP probe in the Prometheus blackbox exporter requires
elevated privileges to function. Linux root user or CAP_NET_RAW
capability is required. Can be set by executing setcap
cap_net_raw+ep blackbox_exporter. This change also bumps the version
of the blackbox exporter to the next minor version to allow for this
support.

'+ep' means we're adding the capability as effective and permitted.

See: https://github.com/prometheus/blackbox_exporter

Change-Id: I1c3b817712ae10edd45de01382b044af2fb728bd
Closes-Bug: #1840631
Co-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>
(cherry picked from commit b5a4478b0fa9b775a9b5c45545e78e9215a50588)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/692988/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2'],1,8e712fadd3d7e12163455a74a8076791d925de11,bug/1840631-stable/stein,"{% import ""macros.j2"" as macros with context %} ENV blackbox_exporter_version=0.14.0{% if base_package_type == 'rpm' %} {% set blackbox_packages = [ 'libcap' ] %} {% elif base_package_type == 'deb' %} {% set blackbox_packages = [ 'libcap2-bin' ] %} {% endif %} {{ macros.install_packages(blackbox_packages | customizable(""packages"")) }} RUN setcap cap_net_raw+ep /opt/blackbox_exporter/blackbox_exporter",ENV blackbox_exporter_version=0.13.0,16,1
openstack%2Fstorlets~master~I3f32d6c8eeb48ada979b4308e459ed8370843c4a,openstack/storlets,master,I3f32d6c8eeb48ada979b4308e459ed8370843c4a,"WIP: fix non-serializable object, params",ABANDONED,2019-11-06 08:11:33.000000000,2019-11-07 05:32:01.000000000,,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 08:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/4e23a1dc8a0c0651427eb254534d3102d17d560b', 'message': 'WIP: fix non-serializable object, params\n\nChange-Id: I3f32d6c8eeb48ada979b4308e459ed8370843c4a\n'}, {'number': 2, 'created': '2019-11-07 04:17:58.000000000', 'files': ['storlets/sbus/datagram.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/3ebe1b1fa26db9fd3f5584e299bf49a8baf3f7c0', 'message': 'WIP: fix non-serializable object, params\n\nChange-Id: I3f32d6c8eeb48ada979b4308e459ed8370843c4a\n'}]",0,693130,3ebe1b1fa26db9fd3f5584e299bf49a8baf3f7c0,6,2,2,4608,,,0,"WIP: fix non-serializable object, params

Change-Id: I3f32d6c8eeb48ada979b4308e459ed8370843c4a
",git fetch https://review.opendev.org/openstack/storlets refs/changes/30/693130/2 && git format-patch -1 --stdout FETCH_HEAD,['storlets/sbus/datagram.py'],1,4e23a1dc8a0c0651427eb254534d3102d17d560b,," # FIXME: I'm not entirly sure what params whould be bytes # but, to resolve the json error on values, change all # values as str if params: for key in params: if not isinstance(params[key], str): params[key] = params[key].encode('utf-8') ",,8,0
openstack%2Ftripleo-heat-templates~master~I6eb7c873cc9a4b7d765e745dc260475bff7b268a,openstack/tripleo-heat-templates,master,I6eb7c873cc9a4b7d765e745dc260475bff7b268a,Ansible lint check in THT,MERGED,2019-10-09 08:22:56.000000000,2019-11-07 05:10:29.000000000,2019-11-07 05:08:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25877}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-09 08:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e16a7947166d163992454854c71257917fc3d955', 'message': ""WIP - Molecule Ansible lint\n\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 2, 'created': '2019-10-09 15:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7255afe3bad07c1cd3cb2e75ba6ff1df1bb3820e', 'message': ""WIP - Molecule Ansible lint\n\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 3, 'created': '2019-10-09 19:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/222eafc9900676a5d20821d80c93ee26f7a97743', 'message': ""WIP - Molecule Ansible lint\n\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 4, 'created': '2019-10-10 13:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86f86e13c6fcacae569270244d10d8ec04bd2ace', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 5, 'created': '2019-10-10 13:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8d482edce045d044349e3a8d1a11a1450aef6b9', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 6, 'created': '2019-10-10 14:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a11137ce236704ff68b7b1a3dd9bd030c5382c6e', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 7, 'created': '2019-10-10 15:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d7d9ef9069a28bce2a9599f4bae6434cdbd4049', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 8, 'created': '2019-10-10 17:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffa271a6ca7d14935c893b1de346154b4ead1e4f', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 9, 'created': '2019-10-10 17:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6697496ce6ce77eff19be07fccf16e05c7c5c220', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 10, 'created': '2019-10-10 18:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/243678b3c0e1f4bce95c3a2cbffa1c3a5d07b541', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 11, 'created': '2019-10-11 07:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/741bd6066f176d3d726293c27c86aa928e8d3178', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 12, 'created': '2019-10-11 09:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0cc2229b09f9b6d85dcd51e792bce52d5c0457', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 13, 'created': '2019-10-11 09:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba77b8609d084ebcd3ee521d77dfcde2370957fc', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 14, 'created': '2019-10-11 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/578a9512e0e6898c086a1e6239938ef1ea3c2e5d', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 15, 'created': '2019-10-11 15:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9da6e3ae0bb990347371b2666422f2fb2a49d544', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 16, 'created': '2019-10-11 16:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6a57afc0a82bf84816cab5433ad9af9d24d5380', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 17, 'created': '2019-10-11 16:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71800cc2da7afbdb2e893b27df1ab62e70e595c3', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 18, 'created': '2019-10-11 18:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9444289a1611d23197ef6edd761477f295f0a041', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 19, 'created': '2019-10-12 08:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8424f8c431270cb7eea7a7b699c2a5027b144c68', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 20, 'created': '2019-10-12 08:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be72489c60d847769562dee4957fa0b9dfe790e7', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 21, 'created': '2019-10-12 08:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ceb8cdb0e5cfa2a93dcf47f7094d500e1195bb9', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 22, 'created': '2019-10-12 10:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56b1b11e1e6b9bf3f50bee53cbc961055a90a466', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 23, 'created': '2019-10-12 16:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b08a68f329f6e2059f2a66c4e40ecdb1c51802b3', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 24, 'created': '2019-10-21 08:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18941a89d44b4d490876d266b8bdf81e4b5c61d3', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 25, 'created': '2019-10-21 08:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84d9e1c105712afab16fb448c12e730417231299', 'message': ""Molecule Ansible lint\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 26, 'created': '2019-10-24 08:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25cef200dcbc3edc2add719f92839c5a6acabdd5', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nDepends-On: https://review.opendev.org/#/c/688050\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 27, 'created': '2019-10-24 08:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48a07a68d0944edf4298d5ee80d8f7d82cdec1c8', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 28, 'created': '2019-10-24 08:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83394eff1e4f1d8b358d84fd0735594de564188a', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 29, 'created': '2019-10-24 09:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b40a890f8eae4e408c7dae8728151fb838644260', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 30, 'created': '2019-10-24 10:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ff90b24a27a655643204f0699dea2640a6cb68d', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 31, 'created': '2019-10-24 10:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d05ab84ba43eafa637560c47b86cb14145daec0', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 32, 'created': '2019-10-24 12:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/627f16c18fcefc847e09210d285d2fcf9fc32e17', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 33, 'created': '2019-10-24 12:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4eaff4743c2b358e39fee52633c9204e91a3fe2e', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 34, 'created': '2019-10-24 14:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd8190850ae4ea9cb5ce040d4bfda963a203a528', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 35, 'created': '2019-10-24 14:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca1caac1993801d1a0f3e171fde68bb4b1926ddc', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 36, 'created': '2019-10-24 14:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b281745587ec5b05381428b64eadeee7d256618b', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 37, 'created': '2019-10-25 06:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c459dc12060c99aee9091b1edf2a607be402b8b', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 38, 'created': '2019-10-25 09:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a8de9674974887f8acebe6f0be91c29197336fa', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 39, 'created': '2019-10-25 10:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83fa1c6bf6016c21455c68e7ab48c892e3643c6d', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 40, 'created': '2019-10-25 10:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe682d18916691577d3013626bea79430d166400', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 41, 'created': '2019-10-25 11:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1cfb5e40166d733b3faa06f3f1bdbf435dedd6b', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 42, 'created': '2019-10-25 12:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f293879564928c4f92bc21ba5f08363c4441045', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 43, 'created': '2019-10-25 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/066591b7f60d9bbc0c783de55fdcf76b176fb671', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 44, 'created': '2019-10-28 09:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d322a53fe31639b09e6b19ccc70c4a5607685dfb', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 45, 'created': '2019-10-28 12:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1741cf15287e711348d34f1bcf56d78e0d790526', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 46, 'created': '2019-10-29 12:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/037915a1c5335d647beeaaba47e9f24365a4e88f', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}, {'number': 47, 'created': '2019-10-30 08:56:14.000000000', 'files': ['tools/render-ansible-tasks.py', 'test-ansible-requirements.txt', 'test-requirements.txt', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.py', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'lower-constraints.txt', 'zuul.d/layout.yaml', 'tripleo_heat_templates/tests/tht-role-requirements.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0de387ee3cab5084eabb9377f80209f197f6418f', 'message': ""Ansible lint check in THT\n\nUntil now if there is a nit inside any\nAnsible task part of tripleo-heat-templates we will\nneed to wait until the end-to-end test imports\nthe actual tasks to fail.\n\nThis submission adds the hability to run a syntax\ncheck for any Ansible task part of any role\ndefined by default in the resource registry.\n\nAlso it will allow to reduce the CI CO2 footprint\nby not executing unneeded jobs meant to fail.\nLet's save the planet and some CI cycles.\n\nChange-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a\n""}]",29,687479,0de387ee3cab5084eabb9377f80209f197f6418f,152,14,47,20775,,,0,"Ansible lint check in THT

Until now if there is a nit inside any
Ansible task part of tripleo-heat-templates we will
need to wait until the end-to-end test imports
the actual tasks to fail.

This submission adds the hability to run a syntax
check for any Ansible task part of any role
defined by default in the resource registry.

Also it will allow to reduce the CI CO2 footprint
by not executing unneeded jobs meant to fail.
Let's save the planet and some CI cycles.

Change-Id: I6eb7c873cc9a4b7d765e745dc260475bff7b268a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/687479/37 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/default/prepare.yml', 'molecule/molecule-requirements.txt', 'molecule/tests/test_molecule.py', 'molecule/ansible-role-requirements.yml', 'molecule/ansible_plugins/.gitignore', 'molecule/default/verify.yml', 'zuul.d/playbooks/run.yml', 'molecule/default/test.yaml', 'molecule/tests/conftest.py', 'molecule/default/Dockerfile.j2', 'zuul.d/playbooks/run-local.yml', 'molecule/scripts/bindep-install', 'molecule/ansible-test-env.rc', 'zuul.d/playbooks/pre.yml', 'molecule/default/molecule.yml', 'zuul.d/playbooks/prepare-test-host.yml', 'library/get_ansible_tasks.py', 'molecule/roles.galaxy/.gitignore', 'zuul.d/layout.yaml', 'molecule/bindep.txt', 'molecule/scripts/run-local-test', 'molecule/tests/hosts.ini', 'molecule/default/playbook.yml']",23,e16a7947166d163992454854c71257917fc3d955,ansible-syntax-check,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all roles: - tripleo-upgrade ",,843,0
openstack%2Fceilometermiddleware~master~I48f75b701ecc4eee3134473bc854a0825b705203,openstack/ceilometermiddleware,master,I48f75b701ecc4eee3134473bc854a0825b705203,Drop python 2.7 support and testing,MERGED,2019-10-30 07:57:09.000000000,2019-11-07 04:59:47.000000000,2019-11-07 04:57:53.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 07:57:09.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-21178ddd27b28806.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/ea270ed5828a4827389583794858543140803165', 'message': 'Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nceilometermiddleware is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/\n\nChange-Id: I48f75b701ecc4eee3134473bc854a0825b705203\n'}]",0,692065,ea270ed5828a4827389583794858543140803165,7,2,1,8556,,,0,"Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

ceilometermiddleware is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal - https://review.opendev.org/#/c/691178/

Change-Id: I48f75b701ecc4eee3134473bc854a0825b705203
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/65/692065/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-py-2-7-21178ddd27b28806.yaml', 'setup.cfg', 'tox.ini']",4,ea270ed5828a4827389583794858543140803165,drop-py27-support,"envlist = py37,pypy,pep8,releasenotes","envlist = py27,py37,pypy,pep8,releasenotes",7,4
openstack%2Fdiskimage-builder~master~I90d708762e2b91d1a16e265ff0de7ffeec1d0777,openstack/diskimage-builder,master,I90d708762e2b91d1a16e265ff0de7ffeec1d0777,[dnm] testing dnf copr repo for f30 build,ABANDONED,2019-10-14 22:21:40.000000000,2019-11-07 04:13:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 22:21:40.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0378e006196757e7c650883564c38ee324abc6b8', 'message': '[dnm] testing dnf copr repo for f30 build\n\nChange-Id: I90d708762e2b91d1a16e265ff0de7ffeec1d0777\n'}]",0,688580,0378e006196757e7c650883564c38ee324abc6b8,4,2,1,7118,,,0,"[dnm] testing dnf copr repo for f30 build

Change-Id: I90d708762e2b91d1a16e265ff0de7ffeec1d0777
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/80/688580/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', '.zuul.d/project.yaml']",2,0378e006196757e7c650883564c38ee324abc6b8,dnf-copr, - dib-nodepool-functional-openstack-fedora-30-src, templates: - openstack-cover-jobs - check-requirements - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python35-jobs - release-notes-jobs - tripleo-buildimage-jobs - openstack-tox-pylint - dib-nodepool-functional-openstack-centos-7-src - dib-nodepool-functional-openstack-centos-8-src - dib-nodepool-functional-openstack-fedora-29-src - dib-nodepool-functional-openstack-fedora-30-src: voting: false - dib-nodepool-functional-openstack-opensuse-15-src - dib-nodepool-functional-openstack-ubuntu-trusty-src - dib-nodepool-functional-openstack-ubuntu-xenial-src - dib-nodepool-functional-openstack-ubuntu-bionic - dib-nodepool-functional-openstack-ubuntu-bionic-src - dib-functests-centos7-python2 - dib-functests-centos7-python2-image - dib-functests-centos7-python2-extras - dib-functests-trusty-python2 - dib-functests-trusty-python2-image - dib-functests-trusty-python2-extras - dib-functests-xenial-python3 - dib-functests-xenial-python3-image - dib-functests-xenial-python3-extras - dib-functests-xenial-python3-containers - dib-functests-bionic-python3 - dib-functests-bionic-python3-image - dib-functests-bionic-python3-extras - dib-functests-bionic-python3-containers,2,33
openstack%2Fswift~master~I112bef1cf44c7d6eeaacd30cea27cb71fb2e2406,openstack/swift,master,I112bef1cf44c7d6eeaacd30cea27cb71fb2e2406,Get rid of _delete_db,MERGED,2019-11-07 00:22:48.000000000,2019-11-07 04:05:29.000000000,2019-11-07 04:04:05.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-07 00:22:48.000000000', 'files': ['swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/30d99f514071a9272caa018d140c9f7a367a7b6f', 'message': 'Get rid of _delete_db\n\nIt was parctically the same between both, only the table name was\ndifferent -- and we already have a way to accomodate that.\n\nChange-Id: I112bef1cf44c7d6eeaacd30cea27cb71fb2e2406\n'}]",0,693273,30d99f514071a9272caa018d140c9f7a367a7b6f,7,2,1,15343,,,0,"Get rid of _delete_db

It was parctically the same between both, only the table name was
different -- and we already have a way to accomodate that.

Change-Id: I112bef1cf44c7d6eeaacd30cea27cb71fb2e2406
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/693273/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/account/backend.py', 'swift/common/db.py', 'test/unit/common/test_db.py', 'swift/container/backend.py']",4,30d99f514071a9272caa018d140c9f7a367a7b6f,,," def _delete_db(self, conn, timestamp): """""" Mark the DB as deleted :param conn: DB connection object :param timestamp: timestamp to mark as deleted """""" conn.execute("""""" UPDATE container_stat SET delete_timestamp = ?, status = 'DELETED', status_changed_at = ? WHERE delete_timestamp < ? """""", (timestamp, timestamp, timestamp)) ",39,49
openstack%2Ftacker~master~I18f9dd381fcf32bb60331127848bf6ff8edda670,openstack/tacker,master,I18f9dd381fcf32bb60331127848bf6ff8edda670,Add Admin guide and Contributing notes link to README,NEW,2019-10-05 03:31:18.000000000,2019-11-07 03:55:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-10-05 03:31:18.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/acd64821a962744bff17b49128614620c5eed70b', 'message': 'Add Admin guide and Contributing notes link to README\n\nChange-Id: I18f9dd381fcf32bb60331127848bf6ff8edda670\n'}]",0,686861,acd64821a962744bff17b49128614620c5eed70b,3,2,1,27190,,,0,"Add Admin guide and Contributing notes link to README

Change-Id: I18f9dd381fcf32bb60331127848bf6ff8edda670
",git fetch https://review.opendev.org/openstack/tacker refs/changes/61/686861/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,acd64821a962744bff17b49128614620c5eed70b,,* Tacker Admin guide: https://docs.openstack.org/tacker/latest/admin/index.html * Tacker Contributing: https://docs.openstack.org/tacker/latest/contributor/index.html ,,4,0
openstack%2Fheat~master~Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79,openstack/heat,master,Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79,Remove nova api extension checks,MERGED,2019-11-06 12:26:38.000000000,2019-11-07 03:10:49.000000000,2019-11-07 03:09:13.000000000,"[{'_account_id': 4257}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 12404}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 12:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2d667445210341810faee14632b3b324b3efddae', 'message': 'Remove nova api extension checks\n\nEntire api extension concept has been removed from nova. API bindings\nwhich have been deprecated since Train release has been removed with\nhttps://review.opendev.org/#/c/686516/.\n\nChange-Id: Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79\n'}, {'number': 2, 'created': '2019-11-06 12:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/36a617810a2c22224962dafd4da95700337dbc38', 'message': 'Remove nova api extension checks\n\nEntire api extension concept has been removed from nova. API bindings\nwhich have been deprecated since Train release are removed with\nhttps://review.opendev.org/#/c/686516/.\n\nChange-Id: Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79\n'}, {'number': 3, 'created': '2019-11-06 14:54:10.000000000', 'files': ['heat/tests/openstack/nova/test_server_group.py', 'heat/tests/openstack/nova/fakes.py', 'heat/engine/resources/openstack/nova/flavor.py', 'heat/tests/openstack/nova/test_keypair.py', 'heat/engine/resources/openstack/nova/host_aggregate.py', 'releasenotes/notes/remove-nova-api-extension-934f8389ea42e9e4.yaml', 'heat/engine/resources/openstack/nova/floatingip.py', 'heat/engine/resources/openstack/nova/server_group.py', 'heat/engine/resources/openstack/nova/server_network_mixin.py', 'heat/tests/openstack/nova/test_quota.py', 'heat/tests/openstack/nova/test_server.py', 'heat/engine/clients/os/nova.py', 'heat/engine/resources/openstack/nova/quota.py', 'heat/tests/openstack/nova/test_flavor.py', 'heat/tests/openstack/nova/test_host_aggregate.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/clients/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/49a2a1e55ad8e723ba774abe90c249e52697e358', 'message': 'Remove nova api extension checks\n\nEntire api extension concept has been removed from nova. API bindings\nwhich have been deprecated since Train release are removed with\nhttps://review.opendev.org/#/c/686516/.\n\nChange-Id: Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79\n'}]",6,693165,49a2a1e55ad8e723ba774abe90c249e52697e358,16,9,3,8833,,,0,"Remove nova api extension checks

Entire api extension concept has been removed from nova. API bindings
which have been deprecated since Train release are removed with
https://review.opendev.org/#/c/686516/.

Change-Id: Ifd318a54ef01eb500cebbc11e642b3ae62e5fc79
",git fetch https://review.opendev.org/openstack/heat refs/changes/65/693165/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/nova/test_server_group.py', 'heat/tests/openstack/nova/fakes.py', 'heat/tests/openstack/nova/test_keypair.py', 'releasenotes/notes/remove-nova-api-extension-934f8389ea42e9e4.yaml', 'heat/engine/resources/openstack/nova/server_group.py', 'heat/engine/resources/openstack/nova/server_network_mixin.py', 'heat/tests/openstack/nova/test_quota.py', 'heat/tests/openstack/nova/test_server.py', 'heat/engine/clients/os/nova.py', 'heat/engine/resources/openstack/nova/quota.py', 'heat/tests/openstack/nova/test_flavor.py', 'heat/tests/openstack/nova/test_host_aggregate.py', 'heat/engine/resources/openstack/nova/keypair.py', 'heat/tests/clients/test_nova_client.py']",14,2d667445210341810faee14632b3b324b3efddae,fix_nova_extension,," ext_mock = self.patchobject(nc, 'discover_extensions') ext_mock.assert_called_once_with('2.53') ext_mock = self.patchobject(nc, 'discover_extensions') ext_mock.assert_called_once_with('2.26') self.patchobject(nc, 'discover_extensions') class NovaClientPluginExtensionsTest(NovaClientPluginTestCase): """"""Tests for extensions in novaclient."""""" def test_has_no_extensions(self): self.nova_client.list_extensions.show_all.return_value = [] self.assertFalse(self.nova_plugin.has_extension( ""os-virtual-interfaces"")) def test_has_no_interface_extensions(self): mock_extension = mock.Mock() p = mock.PropertyMock(return_value='os-xxxx') type(mock_extension).alias = p self.nova_client.list_extensions.show_all.return_value = [ mock_extension] self.assertFalse(self.nova_plugin.has_extension( ""os-virtual-interfaces"")) def test_has_os_interface_extension(self): mock_extension = mock.Mock() p = mock.PropertyMock(return_value='os-virtual-interfaces') type(mock_extension).alias = p self.nova_client.list_extensions.show_all.return_value = [ mock_extension] self.assertTrue(self.nova_plugin.has_extension( ""os-virtual-interfaces""))",19,98
openstack%2Ftripleo-heat-templates~master~I9034c1bce9c296ff183f0d7f2e22df187699fa04,openstack/tripleo-heat-templates,master,I9034c1bce9c296ff183f0d7f2e22df187699fa04,Override policy for undercloud novajoin,MERGED,2019-09-23 22:30:30.000000000,2019-11-07 01:59:37.000000000,2019-11-07 01:59:37.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-23 22:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/834ab98f1cc59373ba829ca227d0f2279535fcad', 'message': 'Override policy for undercloud novajoin\n\nThe default policy compute_service_user[1] limits novajoin calls to\nthe nova user. This prevents novajoin being called from a mistral\nworkflow, which is required for a nova-less undercloud.\n\nThis change overrides this policy so that any user with the admin role\ncan call novajoin. Service users including the nova user have the\nadmin role, so this should not affect the existing nova based novajoin\ncalls.\n\n[1] https://opendev.org/x/novajoin/src/branch/master/novajoin/policy.py#L39\nChange-Id: I9034c1bce9c296ff183f0d7f2e22df187699fa04\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-09-24 23:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46560de5fc3b3d6ca8d8ecb4c627878899dfaea0', 'message': 'Override policy for undercloud novajoin\n\nThe default policy compute_service_user[1] limits novajoin calls to\nthe nova user. This prevents novajoin being called from a mistral\nworkflow, which is required for a nova-less undercloud.\n\nThis change overrides this policy so that any user with the admin role\ncan call novajoin. Service users including the nova user have the\nadmin role, so this should not affect the existing nova based novajoin\ncalls.\n\n[1] https://opendev.org/x/novajoin/src/branch/master/novajoin/policy.py#L39\nDepends-On: https://review.opendev.org/#/c/684435/\nChange-Id: I9034c1bce9c296ff183f0d7f2e22df187699fa04\nBlueprint: nova-less-deploy\n'}, {'number': 3, 'created': '2019-09-30 23:32:05.000000000', 'files': ['environments/undercloud.yaml', 'deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39517657e81d09c364d490a15ad38b4225ec93e4', 'message': 'Override policy for undercloud novajoin\n\nThe default policy compute_service_user[1] limits novajoin calls to\nthe nova user. This prevents novajoin being called from a mistral\nworkflow, which is required for a nova-less undercloud.\n\nThis change overrides this policy so that any user with the admin role\ncan call novajoin. Service users including the nova user have the\nadmin role, so this should not affect the existing nova based novajoin\ncalls.\n\n[1] https://opendev.org/x/novajoin/src/branch/master/novajoin/policy.py#L39\nDepends-On: https://review.opendev.org/#/c/684435/\nChange-Id: I9034c1bce9c296ff183f0d7f2e22df187699fa04\nBlueprint: nova-less-deploy\n'}]",1,684142,39517657e81d09c364d490a15ad38b4225ec93e4,38,6,3,4571,,,0,"Override policy for undercloud novajoin

The default policy compute_service_user[1] limits novajoin calls to
the nova user. This prevents novajoin being called from a mistral
workflow, which is required for a nova-less undercloud.

This change overrides this policy so that any user with the admin role
can call novajoin. Service users including the nova user have the
admin role, so this should not affect the existing nova based novajoin
calls.

[1] https://opendev.org/x/novajoin/src/branch/master/novajoin/policy.py#L39
Depends-On: https://review.opendev.org/#/c/684435/
Change-Id: I9034c1bce9c296ff183f0d7f2e22df187699fa04
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/684142/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'deployment/nova/novajoin-container-puppet.yaml']",2,834ab98f1cc59373ba829ca227d0f2279535fcad,bp/nova-less-deploy, NovajoinPolicies: description: | A hash of policies to configure for Novajoin. default: {} type: json nova::policy::policies: {get_param: NovajoinPolicies} nova::policy::policy_path: /etc/novajoin/policy.json,,11,0
openstack%2Fnova~stable%2Ftrain~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,stable/train,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-06 19:46:48.000000000,2019-11-07 01:56:01.000000000,2019-11-07 01:54:14.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-06 19:46:48.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)\n'}]",0,693241,47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90,10,3,1,27478,,,0,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
(cherry picked from commit aa39641182e32b86d3585dfa69cf0862610968b6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/693241/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,47e5e89ceaad94e2fbf67f46e7e2efcfb6e7be90,bug/1851425,:command:`nova boot` command: - nova boot parameter $ nova boot --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Property | Value | ``--block-device-mapping`` option could also be used for more granular control,:command:`openstack server create` command: - openstack server create parameter $ openstack server create --flavor 2 --image 98901246-af91-43d8-b5e6-a4506aa8f369 \ | Field | Value | ``--block-device`` option could also be used for more granular control,5,5
openstack%2Freleases~master~I0c281b0a62f2739bddfb4c35de3572d255eb3306,openstack/releases,master,I0c281b0a62f2739bddfb4c35de3572d255eb3306,Add cycle-highlights for Magnum Train 9.1.0,MERGED,2019-10-29 18:54:33.000000000,2019-11-07 01:55:51.000000000,2019-11-07 01:55:51.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-29 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f7748c122cc7543c8b7682c0fb24b6524c231647', 'message': 'Add cycle-highlights for Magnum Train 9.1.0\n\nChange-Id: I0c281b0a62f2739bddfb4c35de3572d255eb3306\n'}, {'number': 2, 'created': '2019-10-30 09:38:30.000000000', 'files': ['deliverables/train/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c4b4bbc4a739a102bcc4b18d0bba832b202be6f7', 'message': 'Add cycle-highlights for Magnum Train 9.1.0\n\nChange-Id: I0c281b0a62f2739bddfb4c35de3572d255eb3306\n'}]",0,691945,c4b4bbc4a739a102bcc4b18d0bba832b202be6f7,11,5,2,28022,,,0,"Add cycle-highlights for Magnum Train 9.1.0

Change-Id: I0c281b0a62f2739bddfb4c35de3572d255eb3306
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/691945/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/magnum.yaml'],1,f7748c122cc7543c8b7682c0fb24b6524c231647,,"cycle-highlights: - Fedora CoreOS driver is now available which we are please to offer since Fedora Atomic will be end of life at the end of this November. We welcome users to test and provide feedback for this driver. - Node groups now allow users to create clusters with groups of nodes with different specs, e.g. GPU node groups and high memory node groups. Thanks for the great work from CERN team and StackHPC. - Rolling upgrade is available for both Kubernetes version and the node operating system with minimal downtime. - Auto healing can be deployed on Kubernetes cluster to monitor the cluster health and replace broken nodes when failure is detected. - Boot Kubernetes cluster from volumes and configurable volume types. They can even set the volume type etcd volumes. This may be useful for cloud providers who want to use SSDs, NVMEs, etc. - Private cluster can be created following best security practices, isolating Kubernetes clusters from Internet access. This may be a desirable feature for enterprise users. Now they have the flexibility to choose between a private cluster by default and only allow access to the API exposed on Internet or make it fully accessible.",,19,0
openstack%2Freleases~master~I124b096185d9c02b1f8e3c4c55eff4fe31c40260,openstack/releases,master,I124b096185d9c02b1f8e3c4c55eff4fe31c40260,Transition Keystone to Queens EM,MERGED,2019-10-25 14:04:39.000000000,2019-11-07 01:55:22.000000000,2019-11-07 01:55:22.000000000,"[{'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-25 14:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/324e948696ea326d41433d4bbe864973ae22c024', 'message': 'Transition Keystone to Queens EM\n\nChange-Id: I124b096185d9c02b1f8e3c4c55eff4fe31c40260\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-10-30 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6b7b365ff094df661c5694f417e53ee181f8043f', 'message': 'Transition Keystone to Queens EM\n\nChange-Id: I124b096185d9c02b1f8e3c4c55eff4fe31c40260\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-10-31 21:05:53.000000000', 'files': ['deliverables/queens/keystone.yaml', 'deliverables/queens/pycadf.yaml', 'deliverables/queens/python-keystoneclient.yaml', 'deliverables/queens/ldappool.yaml', 'deliverables/queens/keystoneauth.yaml', 'deliverables/queens/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a20ef0a7e743810e5348f654df3f6eb49e6fefa1', 'message': 'Transition Keystone to Queens EM\n\nChange-Id: I124b096185d9c02b1f8e3c4c55eff4fe31c40260\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,691331,a20ef0a7e743810e5348f654df3f6eb49e6fefa1,16,5,3,11904,,,0,"Transition Keystone to Queens EM

Change-Id: I124b096185d9c02b1f8e3c4c55eff4fe31c40260
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/691331/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/keystone.yaml', 'deliverables/queens/pycadf.yaml', 'deliverables/queens/ldappool.yaml', 'deliverables/queens/python-keystoneclient.yaml', 'deliverables/queens/keystoneauth.yaml', 'deliverables/queens/keystonemiddleware.yaml']",6,324e948696ea326d41433d4bbe864973ae22c024,queens-em, - version: queens-em projects: - repo: openstack/keystonemiddleware hash: f1f2c4a0c56f24dd70b62cd800495011345c000b,,24,0
openstack%2Fswift~stable%2Frocky~I106b94c77da220c762869aa800c31b87c3dffeeb,openstack/swift,stable/rocky,I106b94c77da220c762869aa800c31b87c3dffeeb,slo: Better handle non-manifest responses when refetching manifest,MERGED,2019-10-23 20:42:39.000000000,2019-11-07 01:54:12.000000000,2019-11-07 01:54:11.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 20:42:39.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/187380e604dd1a4e533deae62de68a00dddb8661', 'message': ""slo: Better handle non-manifest responses when refetching manifest\n\nPreviously, we never checked whether the response we get when refetching\nis even successful, much less whether it's still coming from an SLO.\n\nNow, if the refetched data is newer, act on it. If it's older, 503.\n\nCloses-Bug: #1837270\nChange-Id: I106b94c77da220c762869aa800c31b87c3dffeeb\n(cherry picked from commit ef5a37c2bf5a32b0fa6404974aa76332a88c0841)\n(cherry picked from commit f353b78b92ad7a3f15aa6b21d1f8be592e8ca212)\n""}]",0,690740,187380e604dd1a4e533deae62de68a00dddb8661,10,2,1,15343,,,0,"slo: Better handle non-manifest responses when refetching manifest

Previously, we never checked whether the response we get when refetching
is even successful, much less whether it's still coming from an SLO.

Now, if the refetched data is newer, act on it. If it's older, 503.

Closes-Bug: #1837270
Change-Id: I106b94c77da220c762869aa800c31b87c3dffeeb
(cherry picked from commit ef5a37c2bf5a32b0fa6404974aa76332a88c0841)
(cherry picked from commit f353b78b92ad7a3f15aa6b21d1f8be592e8ca212)
",git fetch https://review.opendev.org/openstack/swift refs/changes/40/690740/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,187380e604dd1a4e533deae62de68a00dddb8661,bug/1837270," def test_range_get_beyond_manifest_refetch_fails(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_finds_old(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1233'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_small_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '416 Requested Range Not Satisfiable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_big_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'x' * 1024 * 1024])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '200 OK') # NOT 416 or 206! self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(len(body), 1024 * 1024) self.assertEqual(body, b'x' * 1024 * 1024) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_tombstone(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {'X-Backend-Timestamp': '1345'}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '404 Not Found') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) ",,196,5
openstack%2Freleases~master~Ib9c0fb75258fa4490f59ffe16fae1dfbc0161f6f,openstack/releases,master,Ib9c0fb75258fa4490f59ffe16fae1dfbc0161f6f,Transition Octavia to Queens EM,MERGED,2019-10-25 14:04:56.000000000,2019-11-07 01:51:35.000000000,2019-11-07 01:51:35.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30619}]","[{'number': 1, 'created': '2019-10-25 14:04:56.000000000', 'files': ['deliverables/queens/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/queens/neutron-lbaas-dashboard.yaml', 'deliverables/queens/octavia-dashboard.yaml', 'deliverables/queens/neutron-lbaas.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a1d722e8cde797aa547bc455f71340507987df94', 'message': 'Transition Octavia to Queens EM\n\nChange-Id: Ib9c0fb75258fa4490f59ffe16fae1dfbc0161f6f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,691340,a1d722e8cde797aa547bc455f71340507987df94,11,7,1,11904,,,0,"Transition Octavia to Queens EM

Change-Id: Ib9c0fb75258fa4490f59ffe16fae1dfbc0161f6f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/691340/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/queens/neutron-lbaas-dashboard.yaml', 'deliverables/queens/octavia-dashboard.yaml', 'deliverables/queens/neutron-lbaas.yaml']",5,a1d722e8cde797aa547bc455f71340507987df94,queens-em, - version: queens-em projects: - repo: openstack/neutron-lbaas hash: 4cf67c4898ba104c430a6c0da4b5e13801e6722e,,20,0
openstack%2Frequirements~master~Ica0cc41508895f5126b70533212c809f2c828c8a,openstack/requirements,master,Ica0cc41508895f5126b70533212c809f2c828c8a,Updated from generate-constraints,MERGED,2019-11-05 06:48:14.000000000,2019-11-07 01:39:09.000000000,2019-11-07 01:37:55.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 06:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/58bb7152b7419feb683afe871c655c3e05782419', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica0cc41508895f5126b70533212c809f2c828c8a\n'}, {'number': 2, 'created': '2019-11-06 06:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f8ecf5f8a64fba4690565f47a929b097a056d97', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica0cc41508895f5126b70533212c809f2c828c8a\n'}, {'number': 3, 'created': '2019-11-06 19:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f28c6b186f0b67edddefe244fef10be211a9ba47', 'message': 'Updated from generate-constraints\n\nChange-Id: Ica0cc41508895f5126b70533212c809f2c828c8a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2019-11-06 21:08:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/18a00a34e21c2fd1dcc3f2f060f99bc2794e94f7', 'message': 'Updated from generate-constraints\n\nboto is capping deps agian https://github.com/boto/botocore/issues/1872\n\nChange-Id: Ica0cc41508895f5126b70533212c809f2c828c8a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,692951,18a00a34e21c2fd1dcc3f2f060f99bc2794e94f7,14,2,4,11131,,,0,"Updated from generate-constraints

boto is capping deps agian https://github.com/boto/botocore/issues/1872

Change-Id: Ica0cc41508895f5126b70533212c809f2c828c8a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/692951/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,58bb7152b7419feb683afe871c655c3e05782419,openstack/requirements/constraints/noclob,networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'google-auth===1.7.0amqp===2.5.2tinyrpc===1.0.4boto3===1.10.9psutil===5.6.4pysaml2===4.9.0pyparsing===2.4.3botocore===1.13.9Django===1.11.26;python_version=='2.7'APScheduler===3.6.2,networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'google-auth===1.6.3amqp===2.5.1tinyrpc===1.0.3boto3===1.10.8psutil===5.6.3pysaml2===4.8.0pyparsing===2.4.2botocore===1.13.8Django===1.11.25;python_version=='2.7'APScheduler===3.6.1,14,14
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,stable/train,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-06 09:44:33.000000000,2019-11-07 00:51:36.000000000,2019-11-07 00:51:36.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 09:44:33.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36ddd6f13c9b47df4151cd23cc93bd92ad342e20', 'message': 'Mode 0750 for /var/log/containers\n\nLogs should not be world-readable, they contain sensitive informations.\n\nChange-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f\n(cherry picked from commit 57afa87fd970f879b64233d2c79e946f2afcd2ef)\n'}]",0,693147,36ddd6f13c9b47df4151cd23cc93bd92ad342e20,13,3,1,3153,,,0,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
(cherry picked from commit 57afa87fd970f879b64233d2c79e946f2afcd2ef)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/693147/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,36ddd6f13c9b47df4151cd23cc93bd92ad342e20,logs-stable/train, mode: 0750,,1,0
openstack%2Ftripleo-heat-templates~master~I4538b58334af80cb2c9bd1233e122e3f73e7988c,openstack/tripleo-heat-templates,master,I4538b58334af80cb2c9bd1233e122e3f73e7988c,Move globals into main level 0 case,MERGED,2019-09-20 16:54:19.000000000,2019-11-07 00:49:19.000000000,2019-11-07 00:49:19.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-20 16:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8391329b19c53cf480280ab97dc06777cbf59777', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-09-23 12:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/778b21a6fc575f0e678311e54c589e88be3235e0', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-09-24 01:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7031c8b5e9ac9cdd8443246eea95d93a3a5d1090', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-09-24 13:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaec475a65d12fc6ad14b3325597cd74d086aa53', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-09-25 12:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/62979277907afb40ba30e1ff953f8527a6b9479e', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-10-07 20:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0621575535570622fd41e919e83c9fe374305cb', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-10-17 02:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bdf5dbe8aa4bfa57ded360ed9a5316ee687c062', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-10-24 06:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea1f76fc4e6f86b12d8258a1180c8ef8632a01cf', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-10-30 22:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2d1de98659809313bdbd2e8de8bcd09c84a9f2f', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-10-31 23:29:58.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d4f3ad4a615117530bac75f4e612dfdd1edc2b7', 'message': 'Move globals into main level 0 case\n\nThis change moves all of the global content into a main\ncase, which, in a follow on review, will allow us to\nfuther refactor the content into better documented\nmethods, ansible modules, etc.\n\nChange-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,683590,5d4f3ad4a615117530bac75f4e612dfdd1edc2b7,50,7,10,7353,,,0,"Move globals into main level 0 case

This change moves all of the global content into a main
case, which, in a follow on review, will allow us to
futher refactor the content into better documented
methods, ansible modules, etc.

Change-Id: I4538b58334af80cb2c9bd1233e122e3f73e7988c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/683590/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,8391329b19c53cf480280ab97dc06777cbf59777,deconstruct/container-puppet,"if __name__ == '__main__': PUPPETS = ( '/usr/share/openstack-puppet/modules/:' '/usr/share/openstack-puppet/modules/:ro' ) SH_SCRIPT = '/var/lib/container-puppet/container-puppet.sh' CONTAINER_CLI = os.environ.get('CONTAINER_CLI', 'podman') CONTAINER_LOG_STDOUT_PATH = os.environ.get( 'CONTAINER_LOG_STDOUT_PATH', '/var/log/containers/stdouts' ) CLI_CMD = '/usr/bin/' + CONTAINER_CLI LOG = get_logger() LOG.info('Running container-puppet') CONFIG_VOLUME_PREFIX = os.path.abspath( os.environ.get( 'CONFIG_VOLUME_PREFIX', '/var/lib/config-data' ) ) CHECK_MODE = int(os.environ.get('CHECK_MODE', 0)) LOG.debug('CHECK_MODE: %s' % CHECK_MODE) if CONTAINER_CLI == 'docker': CLI_DCMD = ['--volume', PUPPETS] ENV = {} RUNNER = containers_runner.DockerRunner( 'container-puppet', cont_cmd='docker', log=LOG ) elif CONTAINER_CLI == 'podman': # podman doesn't allow relabeling content in /usr and # doesn't support named volumes CLI_DCMD = [ '--security-opt', 'label=disable', '--volume', PUPPETS ] # podman need to find dependent binaries that are in environment ENV = {'PATH': os.environ['PATH']} RUNNER = containers_runner.PodmanRunner( 'container-puppet', cont_cmd='podman', log=LOG ) else: LOG.error('Invalid CONTAINER_CLI: %s' % CONTAINER_CLI) raise SystemExit() config_file = os.environ.get( 'CONFIG', '/var/lib/container-puppet/container-puppet.json' ) LOG.debug('CONFIG: %s' % config_file) # If specified, only this config_volume will be used CONFIG_VOLUME_ONLY = os.environ.get('CONFIG_VOLUME', None) with open(config_file) as f: JSON_DATA = json.load(f) # To save time we support configuring 'shared' services at the same # time. For example configuring all of the heat services # in a single container pass makes sense and will save some time. # To support this we merge shared settings together here. # # We key off of config_volume as this should be the same for a # given group of services. We are also now specifying the container # in which the services should be configured. This should match # in all instances where the volume name is also the same. CONFIGS = {} for service in (JSON_DATA or []): if service is None: continue if isinstance(service, dict): service = [ service.get('config_volume'), service.get('puppet_tags'), service.get('step_config'), service.get('config_image'), service.get('volumes', []), service.get('privileged', False), ] CONFIG_VOLUME = service[0] or '' PUPPET_TAGS = service[1] or '' MANIFEST = service[2] or '' CONFIG_IMAGE = service[3] or '' VOLUMES = service[4] if len(service) > 4 else [] if not MANIFEST or not CONFIG_IMAGE: continue LOG.debug('config_volume %s' % CONFIG_VOLUME) LOG.debug('puppet_tags %s' % PUPPET_TAGS) LOG.debug('manifest %s' % MANIFEST) LOG.debug('config_image %s' % CONFIG_IMAGE) LOG.debug('volumes %s' % VOLUMES) LOG.debug('privileged %s' % service[5] if len(service) > 5 else False) # We key off of config volume for all configs. if CONFIG_VOLUME in CONFIGS: # Append puppet tags and manifest. LOG.debug(""Existing service, appending puppet tags and manifest"") if PUPPET_TAGS: CONFIGS[CONFIG_VOLUME][1] = '%s,%s' % ( CONFIGS[CONFIG_VOLUME][1], PUPPET_TAGS ) if MANIFEST: CONFIGS[CONFIG_VOLUME][2] = '%s\n%s' % ( CONFIGS[CONFIG_VOLUME][2], MANIFEST ) if CONFIGS[CONFIG_VOLUME][3] != CONFIG_IMAGE: LOG.warning(""Config containers do not match even though"" "" shared volumes are the same!"") if VOLUMES: CONFIGS[CONFIG_VOLUME][4].extend(VOLUMES) else: if not CONFIG_VOLUME_ONLY or (CONFIG_VOLUME_ONLY == CONFIG_VOLUME): LOG.debug(""Adding new service"") CONFIGS[CONFIG_VOLUME] = service else: LOG.debug( ""Ignoring %s due to $CONFIG_VOLUME=%s"" % ( CONFIG_VOLUME, CONFIG_VOLUME_ONLY ) ) LOG.info('Service compilation completed.') # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. This creates a list of arguments for the above function # to consume. PROCESS_MAP = [] for config_volume in CONFIGS: SERVICE = CONFIGS[config_volume] PUPPET_TAGS = SERVICE[1] or '' if PUPPET_TAGS: PUPPET_TAGS = ""file,file_line,concat,augeas,cron,%s"" % PUPPET_TAGS else: PUPPET_TAGS = ""file,file_line,concat,augeas,cron"" PROCESS_ITEM = [ config_volume, PUPPET_TAGS, SERVICE[2] or '', SERVICE[3] or '', SERVICE[4] if len(SERVICE) > 4 else [], SERVICE[5] if len(SERVICE) > 5 else False, CHECK_MODE ] PROCESS_MAP.append(PROCESS_ITEM) LOG.debug('- %s' % PROCESS_ITEM) # Fire off processes to perform each configuration. Defaults # to the number of CPUs on the system. PROCESS = multiprocessing.Pool(int(os.environ.get('PROCESS_COUNT', 2))) RETURNCODES = list(PROCESS.map(mp_puppet_config, PROCESS_MAP)) CONFIG_VOLUMES = [pm[0] for pm in PROCESS_MAP] SUCCESS = True for returncode, config_volume in zip(RETURNCODES, CONFIG_VOLUMES): if returncode not in [0, 2]: LOG.error('ERROR configuring %s' % config_volume) SUCCESS = False # Update the startup configs with the config hash we generated above STARTUP_CONFIGS = os.environ.get( 'STARTUP_CONFIG_PATTERN', '/var/lib/tripleo-config/docker-container-startup-config-step_*.json' ) LOG.debug('STARTUP_CONFIG_PATTERN: %s' % STARTUP_CONFIGS) # Run infile processing infile_processing(infiles=glob.glob(STARTUP_CONFIGS)) if not SUCCESS: raise SystemExit()","PUPPETS = ( '/usr/share/openstack-puppet/modules/:' '/usr/share/openstack-puppet/modules/:ro' ) SH_SCRIPT = '/var/lib/container-puppet/container-puppet.sh' CONTAINER_CLI = os.environ.get('CONTAINER_CLI', 'podman') CONTAINER_LOG_STDOUT_PATH = os.environ.get( 'CONTAINER_LOG_STDOUT_PATH', '/var/log/containers/stdouts' ) CLI_CMD = '/usr/bin/' + CONTAINER_CLI LOG = get_logger() LOG.info('Running container-puppet') CONFIG_VOLUME_PREFIX = os.path.abspath( os.environ.get( 'CONFIG_VOLUME_PREFIX', '/var/lib/config-data' ) ) CHECK_MODE = int(os.environ.get('CHECK_MODE', 0)) LOG.debug('CHECK_MODE: %s' % CHECK_MODE) if CONTAINER_CLI == 'docker': CLI_DCMD = ['--volume', PUPPETS] ENV = {} RUNNER = containers_runner.DockerRunner( 'container-puppet', cont_cmd='docker', log=LOG ) elif CONTAINER_CLI == 'podman': # podman doesn't allow relabeling content in /usr and # doesn't support named volumes CLI_DCMD = [ '--security-opt', 'label=disable', '--volume', PUPPETS ] # podman need to find dependent binaries that are in environment ENV = {'PATH': os.environ['PATH']} RUNNER = containers_runner.PodmanRunner( 'container-puppet', cont_cmd='podman', log=LOG ) else: LOG.error('Invalid CONTAINER_CLI: %s' % CONTAINER_CLI) raise SystemExit() config_file = os.environ.get( 'CONFIG', '/var/lib/container-puppet/container-puppet.json' ) LOG.debug('CONFIG: %s' % config_file) # If specified, only this config_volume will be used CONFIG_VOLUME_ONLY = os.environ.get('CONFIG_VOLUME', None) with open(config_file) as f: JSON_DATA = json.load(f) # To save time we support configuring 'shared' services at the same # time. For example configuring all of the heat services # in a single container pass makes sense and will save some time. # To support this we merge shared settings together here. # # We key off of config_volume as this should be the same for a # given group of services. We are also now specifying the container # in which the services should be configured. This should match # in all instances where the volume name is also the same. CONFIGS = {} for service in (JSON_DATA or []): if service is None: continue if isinstance(service, dict): service = [ service.get('config_volume'), service.get('puppet_tags'), service.get('step_config'), service.get('config_image'), service.get('volumes', []), service.get('privileged', False), ] CONFIG_VOLUME = service[0] or '' PUPPET_TAGS = service[1] or '' MANIFEST = service[2] or '' CONFIG_IMAGE = service[3] or '' VOLUMES = service[4] if len(service) > 4 else [] if not MANIFEST or not CONFIG_IMAGE: continue LOG.debug('config_volume %s' % CONFIG_VOLUME) LOG.debug('puppet_tags %s' % PUPPET_TAGS) LOG.debug('manifest %s' % MANIFEST) LOG.debug('config_image %s' % CONFIG_IMAGE) LOG.debug('volumes %s' % VOLUMES) LOG.debug('privileged %s' % service[5] if len(service) > 5 else False) # We key off of config volume for all configs. if CONFIG_VOLUME in CONFIGS: # Append puppet tags and manifest. LOG.debug(""Existing service, appending puppet tags and manifest"") if PUPPET_TAGS: CONFIGS[CONFIG_VOLUME][1] = '%s,%s' % (CONFIGS[CONFIG_VOLUME][1], PUPPET_TAGS) if MANIFEST: CONFIGS[CONFIG_VOLUME][2] = '%s\n%s' % (CONFIGS[CONFIG_VOLUME][2], MANIFEST) if CONFIGS[CONFIG_VOLUME][3] != CONFIG_IMAGE: LOG.warning(""Config containers do not match even though"" "" shared volumes are the same!"") if VOLUMES: CONFIGS[CONFIG_VOLUME][4].extend(VOLUMES) else: if not CONFIG_VOLUME_ONLY or (CONFIG_VOLUME_ONLY == CONFIG_VOLUME): LOG.debug(""Adding new service"") CONFIGS[CONFIG_VOLUME] = service else: LOG.debug( ""Ignoring %s due to $CONFIG_VOLUME=%s"" % ( CONFIG_VOLUME, CONFIG_VOLUME_ONLY ) ) LOG.info('Service compilation completed.') # Holds all the information for each process to consume. # Instead of starting them all linearly we run them using a process # pool. This creates a list of arguments for the above function # to consume. PROCESS_MAP = [] for config_volume in CONFIGS: SERVICE = CONFIGS[config_volume] PUPPET_TAGS = SERVICE[1] or '' if PUPPET_TAGS: PUPPET_TAGS = ""file,file_line,concat,augeas,cron,%s"" % PUPPET_TAGS else: PUPPET_TAGS = ""file,file_line,concat,augeas,cron"" PROCESS_ITEM = [ config_volume, PUPPET_TAGS, SERVICE[2] or '', SERVICE[3] or '', SERVICE[4] if len(SERVICE) > 4 else [], SERVICE[5] if len(SERVICE) > 5 else False, CHECK_MODE ] PROCESS_MAP.append(PROCESS_ITEM) LOG.debug('- %s' % PROCESS_ITEM) # Fire off processes to perform each configuration. Defaults # to the number of CPUs on the system. PROCESS = multiprocessing.Pool(int(os.environ.get('PROCESS_COUNT', 2))) RETURNCODES = list(PROCESS.map(mp_puppet_config, PROCESS_MAP)) CONFIG_VOLUMES = [pm[0] for pm in PROCESS_MAP] SUCCESS = True for returncode, config_volume in zip(RETURNCODES, CONFIG_VOLUMES): if returncode not in [0, 2]: LOG.error('ERROR configuring %s' % config_volume) SUCCESS = False # Update the startup configs with the config hash we generated above STARTUP_CONFIGS = os.environ.get( 'STARTUP_CONFIG_PATTERN', '/var/lib/tripleo-config/docker-container-startup-config-step_*.json' ) LOG.debug('STARTUP_CONFIG_PATTERN: %s' % STARTUP_CONFIGS) # Run infile processing infile_processing(infiles=glob.glob(STARTUP_CONFIGS)) if not SUCCESS: raise SystemExit()",176,176
openstack%2Ftripleo-heat-templates~master~I0531fdb2e9c07767dbd11919cefc8e7f8ff59262,openstack/tripleo-heat-templates,master,I0531fdb2e9c07767dbd11919cefc8e7f8ff59262,Convert subprocess to a reusable method,MERGED,2019-09-20 15:40:41.000000000,2019-11-07 00:49:17.000000000,2019-11-07 00:49:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-20 15:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/baa7ac43ac87b9191a2837edb5d2b27d0c744e0e', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-09-20 16:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2e4be40f713ff8e20175191e7ce79ac051ce852', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-09-20 16:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61410a465fa2ac1b4d0f12bb9b63bd6a872ec252', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-09-23 12:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5cf3c1e5335ff4e950eb5da357fd581af4e1525', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-09-24 01:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/836501855d78f34193c2fe97ce6759b20b0fe2b4', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-09-24 13:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/307dcb9a4c27c2b835ee959dcd93d39167660c36', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-09-25 12:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/745cf96b75bcf2a206e2692f829826d5741e1f04', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-10-07 20:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42e79d4c0d2ae8065c3a3010358d88092357a3d5', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-10-17 02:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb974a17b55a2a1af6ac3845baaf9b7ba0a6455c', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-10-24 06:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30141501bef6ef3f559d4a964408ea15a8cd51c4', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 11, 'created': '2019-10-30 22:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1c5f69fa10d162acb430dff8b1f246155c28f3c', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2019-10-31 23:29:50.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99c7e2afa010244d360a5a0da1673f5fed8b52ab', 'message': 'Convert subprocess to a reusable method\n\nWe were calling subprocess numerous times throught this script\nusing mostly copy and paste code. This change updates the\nscript to use a reusable method.\n\nChange-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,683429,99c7e2afa010244d360a5a0da1673f5fed8b52ab,57,11,12,7353,,,0,"Convert subprocess to a reusable method

We were calling subprocess numerous times throught this script
using mostly copy and paste code. This change updates the
script to use a reusable method.

Change-Id: I0531fdb2e9c07767dbd11919cefc8e7f8ff59262
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/683429/5 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,baa7ac43ac87b9191a2837edb5d2b27d0c744e0e,deconstruct/container-puppet,"def local_subprocess_call(cmd): """"""General run method for subprocess calls. :param cmd: list returns: tuple """""" subproc = subprocess.Popen( cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True ) stdout, stderr = subproc.communicate() return stdout, stderr, subproc.returncode _, _, rc = local_subprocess_call(cmd=[CLI_CMD, 'inspect', name]) if rc == 0: stdout, stderr, retval = local_subprocess_call( cmd=[CLI_CMD, 'pull', name] ) LOG.warning('%s pull failed: %s' % (CONTAINER_CLI, stderr)) if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call( cmd=[CLI_CMD, 'diff', name] ) if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call( cmd=rm_cli_cmd ) if stdout: LOG.debug(stdout) if stderr and 'Error response from daemon' in stderr: LOG.debug(stderr) stdout, stderr, retval = local_subprocess_call(cmd=cmd) if stdout: LOG.debug('%s run succeeded: %s' % (cmd, stdout)) if stderr: LOG.warning(stderr) stderr, if stdout: LOG.debug(stdout) if stderr: LOG.debug(stderr)"," subproc = subprocess.Popen([CLI_CMD, 'inspect', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode if retval == 0: subproc = subprocess.Popen([CLI_CMD, 'pull', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode LOG.warning('%s pull failed: %s' % (CONTAINER_CLI, cmd_stderr)) if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen([CLI_CMD, 'diff', name], stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen(rm_cli_cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr and 'Error response from daemon' in cmd_stderr: LOG.debug(cmd_stderr) subproc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE, env=ENV, universal_newlines=True) cmd_stdout, cmd_stderr = subproc.communicate() retval = subproc.returncode if cmd_stdout: LOG.debug('%s run succeeded: %s' % (cmd, cmd_stdout)) if cmd_stderr: LOG.warning(cmd_stderr) cmd_stderr, if cmd_stdout: LOG.debug(cmd_stdout) if cmd_stderr: LOG.debug(cmd_stderr)",50,52
openstack%2Fmanila-ui~master~I0440bfa1b182330020f8cb3c37d33e226801f3e9,openstack/manila-ui,master,I0440bfa1b182330020f8cb3c37d33e226801f3e9,Drop snapshot_support param from share_type_create,MERGED,2019-10-30 09:07:44.000000000,2019-11-06 23:54:40.000000000,2019-11-06 23:53:06.000000000,"[{'_account_id': 841}, {'_account_id': 6413}, {'_account_id': 10068}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-30 09:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/846b8730cd5e4237e841b56b0f4039ddb7fecb84', 'message': 'Create share type with snashot_support=False\n\nWe were incorrectly seeting snapshot_support=True by default.\nNot all backends support this, so the right thing do to is to\nuse False as default.\n\nChange-Id: I0440bfa1b182330020f8cb3c37d33e226801f3e9\nCloses-Bug: #1685655\n'}, {'number': 2, 'created': '2019-11-02 11:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/e8c5c31eceb169bd60cd2bc586ddce90a181d5a4', 'message': 'Drop snapshot_support param from share_type_create\n\nThis patch set drops the snapshot_support param from the\nshare_type_create command. Considering that the manila scheduler\nworks as follow:\n\n- If ""snapshot_support"" in a share type is set to True, the\n  scheduler will only match backends that allow taking snapshots.\n- If ""snapshot_support"" in a share type is set to False, the\n  scheduler will only match backends that do not support snapshots.\n- If ""snapshot_support"" is not set in a share type, the scheduler\n  places the share on any backend irrespective of whether snapshots\n  or supported or not. However, users will be prevented from taking\n  snapshots of such shares.\n\nWe want to mimic the third behavior of the scheduler. That means,\nwe expect administrators to specify wheter the backend has or not\nsnapshot_support.\n\nChange-Id: I0440bfa1b182330020f8cb3c37d33e226801f3e9\nCloses-Bug: #1685655\n'}, {'number': 3, 'created': '2019-11-04 17:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/bf1041d635071593eeca4c53892cfc309809d780', 'message': 'Drop snapshot_support param from share_type_create\n\nThis patch set drops the snapshot_support param from the\nshare_type_create command. Considering that the manila scheduler\nworks as follow:\n\n- If ""snapshot_support"" in a share type is set to True, the\n  scheduler will only match backends that allow taking snapshots.\n- If ""snapshot_support"" in a share type is set to False, the\n  scheduler will only match backends that do not support snapshots.\n- If ""snapshot_support"" is not set in a share type, the scheduler\n  places the share on any backend irrespective of whether snapshots\n  or supported or not. However, users will be prevented from taking\n  snapshots of such shares.\n\nWe want to mimic the third behavior of the scheduler. That means,\nwe expect administrators to specify wheter the backend has or not\nsnapshot_support.\n\nChange-Id: I0440bfa1b182330020f8cb3c37d33e226801f3e9\nCloses-Bug: #1685655\n'}, {'number': 4, 'created': '2019-11-06 23:01:28.000000000', 'files': ['manila_ui/tests/dashboards/admin/share_types/test_forms.py', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py', 'releasenotes/notes/bug-1685655-drop-snapshot-support-param-a4e7c7ee068c8bc9.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7d3eb82eb85b2cdd175b5091fe7b99f4547c6aae', 'message': 'Drop snapshot_support param from share_type_create\n\nThis patch set drops the snapshot_support param from the\nshare_type_create command. Considering that the manila scheduler\nworks as follow:\n\n- If ""snapshot_support"" in a share type is set to True, the\n  scheduler will only match backends that allow taking snapshots.\n- If ""snapshot_support"" in a share type is set to False, the\n  scheduler will only match backends that do not support snapshots.\n- If ""snapshot_support"" is not set in a share type, the scheduler\n  places the share on any backend irrespective of whether snapshots\n  or supported or not. However, users will be prevented from taking\n  snapshots of such shares.\n\nWe want to mimic the third behavior of the scheduler. That means,\nwe expect administrators to specify wheter the backend has or not\nsnapshot_support.\n\nChange-Id: I0440bfa1b182330020f8cb3c37d33e226801f3e9\nCloses-Bug: #1685655\n'}]",5,692081,7d3eb82eb85b2cdd175b5091fe7b99f4547c6aae,29,6,4,31213,,,0,"Drop snapshot_support param from share_type_create

This patch set drops the snapshot_support param from the
share_type_create command. Considering that the manila scheduler
works as follow:

- If ""snapshot_support"" in a share type is set to True, the
  scheduler will only match backends that allow taking snapshots.
- If ""snapshot_support"" in a share type is set to False, the
  scheduler will only match backends that do not support snapshots.
- If ""snapshot_support"" is not set in a share type, the scheduler
  places the share on any backend irrespective of whether snapshots
  or supported or not. However, users will be prevented from taking
  snapshots of such shares.

We want to mimic the third behavior of the scheduler. That means,
we expect administrators to specify wheter the backend has or not
snapshot_support.

Change-Id: I0440bfa1b182330020f8cb3c37d33e226801f3e9
Closes-Bug: #1685655
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/81/692081/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/tests/dashboards/admin/share_types/test_forms.py', 'manila_ui/api/manila.py', 'manila_ui/tests/api/test_manila.py']",3,846b8730cd5e4237e841b56b0f4039ddb7fecb84,bug/1685655," spec_snapshot_support=False,"," spec_snapshot_support=True,",5,5
openstack%2Ftripleo-quickstart~master~Ib98d7b082115db8b6787ff502e09e9945fd0996b,openstack/tripleo-quickstart,master,Ib98d7b082115db8b6787ff502e09e9945fd0996b,Match RHEL 8 images to containers used,MERGED,2019-11-05 18:40:31.000000000,2019-11-06 23:36:39.000000000,2019-11-06 23:35:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2019-11-05 18:40:31.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c74b7c21d5da65072dba3ccdaafca297189e28d9', 'message': 'Match RHEL 8 images to containers used\n\nRHEL 8 should use the current-tripleo tagged image\nif pulling current-tripleo tagged containers -\nas CentOS does.\n\nChange-Id: Ib98d7b082115db8b6787ff502e09e9945fd0996b\n'}]",3,693066,c74b7c21d5da65072dba3ccdaafca297189e28d9,17,8,1,9976,,,0,"Match RHEL 8 images to containers used

RHEL 8 should use the current-tripleo tagged image
if pulling current-tripleo tagged containers -
as CentOS does.

Change-Id: Ib98d7b082115db8b6787ff502e09e9945fd0996b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/66/693066/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/train.yml']",2,c74b7c21d5da65072dba3ccdaafca297189e28d9,fix-rhel-image-links,"overcloud_image_url: ""http://38.145.34.141/rcm-guest/images/rhel8/{{ release }}/rdo_trunk/current-tripleo/overcloud-full.tar"" ipa_image_url: ""http://38.145.34.141/rcm-guest/images/rhel8/{{ release }}/rdo_trunk/current-tripleo/ironic-python-agent.tar""","overcloud_image_url: ""http://38.145.34.141/rcm-guest/images/rhel8/{{ release }}/rdo_trunk/tripleo-ci-testing/overcloud-full.tar"" ipa_image_url: ""http://38.145.34.141/rcm-guest/images/rhel8/{{ release }}/rdo_trunk/tripleo-ci-testing/ironic-python-agent.tar""",4,4
openstack%2Ftripleo-heat-templates~stable%2Fstein~I716aaa0be7b23bc3be2b1b755c75bd9173930da0,openstack/tripleo-heat-templates,stable/stein,I716aaa0be7b23bc3be2b1b755c75bd9173930da0,Disable haproxy when using external LB,MERGED,2019-11-05 16:46:23.000000000,2019-11-06 23:29:51.000000000,2019-11-06 23:29:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2019-11-05 16:46:23.000000000', 'files': ['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03c614653a06d4e57f9782bf12746dae791d8cde', 'message': 'Disable haproxy when using external LB\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)\n'}]",0,693051,03c614653a06d4e57f9782bf12746dae791d8cde,11,6,1,3153,,,0,"Disable haproxy when using external LB

This change ensures the update_tasks.yaml is
generated without the haproxy sections which will cause issues since
there is no haproxy-bundle resource in external LB environments.

Change-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0
Closes-Bug: #1851297
(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/693051/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml']",3,03c614653a06d4e57f9782bf12746dae791d8cde,, # We need to also disable the haproxy resource when using external lb OS::TripleO::Services::HAproxy: OS::Heat::None,,6,0
openstack%2Fnetworking-ovn~stable%2Frocky~I4fae3b1e629400c641bc73547b78c4c80ddcd09c,openstack/networking-ovn,stable/rocky,I4fae3b1e629400c641bc73547b78c4c80ddcd09c,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-01 21:23:18.000000000,2019-11-06 23:20:09.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 21:23:18.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4a820699ceefaa3c2ef5dd5e8c9a789cecf5242f', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit b56b3da2b28b12552682997244f925068dcafa12)\n'}]",0,692619,4a820699ceefaa3c2ef5dd5e8c9a789cecf5242f,5,2,1,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
(cherry picked from commit b56b3da2b28b12552682997244f925068dcafa12)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/19/692619/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,4a820699ceefaa3c2ef5dd5e8c9a789cecf5242f,bug/1834637," for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",12,6
openstack%2Fnetworking-ovn~master~I50c8905a62b52105b1fec8602e795d5501a3e2cd,openstack/networking-ovn,master,I50c8905a62b52105b1fec8602e795d5501a3e2cd,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-10-29 15:54:07.000000000,2019-11-06 23:20:02.000000000,,"[{'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-29 15:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e8d097417fea9c53339b80cff95fc602d73eb637', 'message': 'WIP: Set binding profile directly from OVNTrunkDriver (redo2)\n\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 2, 'created': '2019-10-31 10:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/93ea4da82be96fc616ae5abf237467e084459a71', 'message': 'WIP: Set binding profile directly from OVNTrunkDriver (redo2)\n\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 3, 'created': '2019-10-31 10:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58dce385327e007b2c1bd59a62199a80c79e15f3', 'message': 'WIP: Set binding profile directly from OVNTrunkDriver (redo2)\n\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 4, 'created': '2019-10-31 11:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35efae9de1d2084f538de82f5f1b02cb90d940e0', 'message': 'Set binding profile directly from OVNTrunkDriver (cont.)\n\nThis is a tweak to changes done for bug 1834637 to handle\nscaling. On previous change, we had changes to all OVN\nsub-ports performed as a single transaction. While that\nwas a good choice for performance, it did not account for\nrace-condition on neutron DB queries.\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 5, 'created': '2019-10-31 11:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6e50659fb03d9c50086ab9c5beff83812893890e', 'message': 'Set binding profile directly from OVNTrunkDriver (cont.)\n\nThis is a tweak to changes done for bug 1834637 to handle\nscaling. On previous change, we had changes to all OVN\nsub-ports performed as a single transaction. While that\nwas a good choice for performance, it did not account for\nrace-condition on neutron DB queries.\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 6, 'created': '2019-10-31 14:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1c2678d2a78cb541a4ea782e0c0b003fdca6ec0b', 'message': 'Set binding profile directly from OVNTrunkDriver (cont.)\n\nThis is a tweak to changes done for bug 1834637 to handle\nscaling. On previous change, we had changes to all OVN\nsub-ports performed as a single transaction. While that\nwas a good choice for performance, it did not account for\nrace-condition on neutron DB queries.\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 7, 'created': '2019-10-31 18:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c08775585dba877346cd5cfa22b0bcada2e20ff5', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the time\ntransactions penalty is not affected (or even a little better):\n\nfrom 35.6 sec to 36.8 for 95%ile\nfrom 34.2 sec to 31.1 for 50%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 8, 'created': '2019-10-31 20:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/57548b3ccd3d446f047053182948540b2682a3ac', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the time\ntransactions penalty is not affected (or even a little better):\n\nfrom 35.6 sec to 36.8 for 95%ile\nfrom 34.2 sec to 31.1 for 50%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 9, 'created': '2019-11-01 09:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5d20ee13406b53a0d0da06dd6c26105bbe698a93', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 10, 'created': '2019-11-01 14:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/11e605643e2e06d4fbda9c9d40454b11859d1992', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n'}, {'number': 11, 'created': '2019-11-01 21:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fcde000bad42ca0a336dde46c8d15fb54c9b1f4e', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n(cherry picked from commit 92388edb37792a3b3c16e08d3622b4ef5b4bec2e)\n'}, {'number': 12, 'created': '2019-11-01 21:44:08.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/41036d684d49be3042abb52e255ec5df3005349c', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\nChange-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd\n(cherry picked from commit 7b35016e1f3a0df99c2c625e1bca489436f16a1c)\n'}]",7,691892,41036d684d49be3042abb52e255ec5df3005349c,30,5,12,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
Change-Id: I50c8905a62b52105b1fec8602e795d5501a3e2cd
(cherry picked from commit 7b35016e1f3a0df99c2c625e1bca489436f16a1c)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/691892/5 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,e8d097417fea9c53339b80cff95fc602d73eb637,bug/1834637," for port in subports: with context.session.begin(subtransactions=True): self._set_binding_profile(context, port, parent_port) for port in subports: with context.session.begin(subtransactions=True): self._unset_binding_profile(context, port) def _set_binding_profile(self, context, subport, parent_port): self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id) def _unset_binding_profile(self, context, subport): self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])"," txn = self.plugin_driver._nb_ovn.transaction with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(context, port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(context, port, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, ovn_txn): ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, context, subport, ovn_txn): ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[]))",17,21
openstack%2Fnetworking-ovn~stable%2Fstein~I4fae3b1e629400c641bc73547b78c4c80ddcd09c,openstack/networking-ovn,stable/stein,I4fae3b1e629400c641bc73547b78c4c80ddcd09c,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-01 21:25:16.000000000,2019-11-06 23:19:54.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 21:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/00f88d6478be231777a2c2158680710ac26b5819', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit b56b3da2b28b12552682997244f925068dcafa12)\n'}, {'number': 2, 'created': '2019-11-01 21:39:35.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0654ed466cf50d4d1dcc186930de63b51a90f47f', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 4a820699ceefaa3c2ef5dd5e8c9a789cecf5242f)\n'}]",0,692620,0654ed466cf50d4d1dcc186930de63b51a90f47f,6,2,2,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
(cherry picked from commit 4a820699ceefaa3c2ef5dd5e8c9a789cecf5242f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/20/692620/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,00f88d6478be231777a2c2158680710ac26b5819,bug/1834637," for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",12,6
openstack%2Fnetworking-ovn~stable%2Ftrain~I4fae3b1e629400c641bc73547b78c4c80ddcd09c,openstack/networking-ovn,stable/train,I4fae3b1e629400c641bc73547b78c4c80ddcd09c,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-01 21:27:12.000000000,2019-11-06 23:19:45.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 21:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/92388edb37792a3b3c16e08d3622b4ef5b4bec2e', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit b56b3da2b28b12552682997244f925068dcafa12)\n'}, {'number': 2, 'created': '2019-11-01 21:42:27.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b35016e1f3a0df99c2c625e1bca489436f16a1c', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 0654ed466cf50d4d1dcc186930de63b51a90f47f)\n'}]",0,692621,7b35016e1f3a0df99c2c625e1bca489436f16a1c,6,2,2,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
(cherry picked from commit 0654ed466cf50d4d1dcc186930de63b51a90f47f)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/692621/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,92388edb37792a3b3c16e08d3622b4ef5b4bec2e,bug/1834637," for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",12,6
openstack%2Fnetworking-ovn~stable%2Fqueens~I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e,openstack/networking-ovn,stable/queens,I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-06 02:04:19.000000000,2019-11-06 23:19:37.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-11-06 02:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e36d885724fcbfb0474ae9d16fb35de9389cb52', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n'}, {'number': 2, 'created': '2019-11-06 02:16:56.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/27a8f17cfa1e1a2ea9ae77f9439f320a12fd3929', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n'}]",2,693108,27a8f17cfa1e1a2ea9ae77f9439f320a12fd3929,8,3,2,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/08/693108/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,2e36d885724fcbfb0474ae9d16fb35de9389cb52,bug/1834637,"from neutron_lib.db import api as db_api from sqlalchemy.orm import exc as sql_exc for try_cnt in range(db_api.MAX_RETRIES): try: self._set_sub_ports_try(parent_port, subports) break except sql_exc.StaleDataError as e: if try_cnt < db_api.MAX_RETRIES - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _set_sub_ports_try(self, parent_port, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for try_cnt in range(db_api.MAX_RETRIES): try: self._unset_sub_ports_try(subports) break except sql_exc.StaleDataError as e: if try_cnt < db_api.MAX_RETRIES - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _unset_sub_ports_try(self, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",42,6
openstack%2Fnetworking-ovn~stable%2Fqueens~I4fae3b1e629400c641bc73547b78c4c80ddcd09c,openstack/networking-ovn,stable/queens,I4fae3b1e629400c641bc73547b78c4c80ddcd09c,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-01 20:34:41.000000000,2019-11-06 23:19:07.000000000,,"[{'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-11-01 20:34:41.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b56b3da2b28b12552682997244f925068dcafa12', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n'}]",1,692610,b56b3da2b28b12552682997244f925068dcafa12,8,4,1,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/692610/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,b56b3da2b28b12552682997244f925068dcafa12,bug/1834637," for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",12,6
openstack%2Fnetworking-ovn~master~I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e,openstack/networking-ovn,master,I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-06 23:17:37.000000000,2019-11-06 23:18:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-06 23:17:37.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a9bd99db3cd4f7006f24cb71a7ae1a01482fc10f', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n'}]",0,693268,a9bd99db3cd4f7006f24cb71a7ae1a01482fc10f,3,1,1,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I7fc9c39d1a8346938de5bbae8178f9f49fc3ef4e
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/68/693268/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,a9bd99db3cd4f7006f24cb71a7ae1a01482fc10f,,"from sqlalchemy.orm import exc as sql_exc tries = 10 for try_cnt in range(tries): try: self._set_sub_ports_try(parent_port, subports) break except sql_exc.StaleDataError as e: if try_cnt < tries - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _set_sub_ports_try(self, parent_port, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: tries = 10 for try_cnt in range(tries): try: self._unset_sub_ports_try(subports) break except sql_exc.StaleDataError as e: if try_cnt < tries - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _unset_sub_ports_try(self, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id) def _update_trunk_status(self, trunk): tries = 10 for try_cnt in range(tries): try: trunk.update(status=trunk_consts.ACTIVE_STATUS) break except sql_exc.StaleDataError as e: if try_cnt < tries - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise self._update_trunk_status(trunk) self._update_trunk_status(trunk) self._update_trunk_status(trunk)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS) trunk.update(status=trunk_consts.ACTIVE_STATUS)",59,9
openstack%2Fmanila-ui~master~Ifa495c844881d76a31c51eae5a847bcd2d9da5dd,openstack/manila-ui,master,Ifa495c844881d76a31c51eae5a847bcd2d9da5dd,Change Ussuri python jobs template,MERGED,2019-11-06 21:05:07.000000000,2019-11-06 23:10:00.000000000,2019-11-06 23:08:09.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-11-06 21:05:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b0b454892ae779f655998ee02bd7d989aa9f96c9', 'message': 'Change Ussuri python jobs template\n\nThe repo must be testing master with\n""openstack-python3-ussuri-jobs-horizon""\ninstead of ""openstack-python3-ussuri-jobs"".\n\nChange-Id: Ifa495c844881d76a31c51eae5a847bcd2d9da5dd\n'}]",0,693253,b0b454892ae779f655998ee02bd7d989aa9f96c9,8,3,1,16643,,,0,"Change Ussuri python jobs template

The repo must be testing master with
""openstack-python3-ussuri-jobs-horizon""
instead of ""openstack-python3-ussuri-jobs"".

Change-Id: Ifa495c844881d76a31c51eae5a847bcd2d9da5dd
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/53/693253/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b0b454892ae779f655998ee02bd7d989aa9f96c9,ci-breakfix, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-ussuri-jobs,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I716aaa0be7b23bc3be2b1b755c75bd9173930da0,openstack/tripleo-heat-templates,stable/train,I716aaa0be7b23bc3be2b1b755c75bd9173930da0,Disable haproxy when using external LB,MERGED,2019-11-05 16:46:16.000000000,2019-11-06 22:59:18.000000000,2019-11-06 22:59:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2019-11-05 16:46:16.000000000', 'files': ['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4e4c1bbe04ebef0bb81250890b90ef6eaabd296', 'message': 'Disable haproxy when using external LB\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)\n'}]",0,693050,d4e4c1bbe04ebef0bb81250890b90ef6eaabd296,16,6,1,3153,,,0,"Disable haproxy when using external LB

This change ensures the update_tasks.yaml is
generated without the haproxy sections which will cause issues since
there is no haproxy-bundle resource in external LB environments.

Change-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0
Closes-Bug: #1851297
(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/693050/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml']",3,d4e4c1bbe04ebef0bb81250890b90ef6eaabd296,, # We need to also disable the haproxy resource when using external lb OS::TripleO::Services::HAproxy: OS::Heat::None,,6,0
openstack%2Fopenstack-helm-infra~master~Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b,openstack/openstack-helm-infra,master,Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b,Adding missing readOnlyRootFilesystem flag for container security context,MERGED,2019-11-04 15:50:11.000000000,2019-11-06 22:50:37.000000000,2019-11-06 22:49:34.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29298}, {'_account_id': 30784}]","[{'number': 1, 'created': '2019-11-04 15:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee802143d2a610847783a408b7b89f80714adf93', 'message': 'Adding missing readOnlyRootFilesystem flag for container security context\n\nChange-Id: Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b\n'}, {'number': 2, 'created': '2019-11-04 16:55:47.000000000', 'files': ['mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9d808c96fa5974841d089496aef06850f561a851', 'message': 'Adding missing readOnlyRootFilesystem flag for container security context\n\nChange-Id: Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b\n'}]",0,692845,9d808c96fa5974841d089496aef06850f561a851,13,7,2,29161,,,0,"Adding missing readOnlyRootFilesystem flag for container security context

Change-Id: Ibc8e259dabad9a162f43df0b7eb4d94e3f3e5c9b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/692845/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/values.yaml'],1,ee802143d2a610847783a408b7b89f80714adf93,, readOnlyRootFilesystem: true readOnlyRootFilesystem: true readOnlyRootFilesystem: true,,3,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,openstack/tripleo-heat-templates,stable/train,Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a,"Add ""radvd_user"" config parameter to Neutron L3 container",MERGED,2019-11-05 09:56:44.000000000,2019-11-06 22:23:31.000000000,2019-11-06 22:22:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 09:56:44.000000000', 'files': ['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49', 'message': 'Add ""radvd_user"" config parameter to Neutron L3 container\n\nThe username passed to radvd, used to drop root privileges and change\nuser ID to username and group ID to the primary group of username. If no\nuser specified, the user executing the L3 agent will be passed. If ""root""\nspecified, because radvd is spawned as root, no ""username"" parameter\nwill be passed\n\nChange-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a\nCloses-Bug: #1844688\n(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)\n'}]",0,692964,c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49,16,4,1,16688,,,0,"Add ""radvd_user"" config parameter to Neutron L3 container

The username passed to radvd, used to drop root privileges and change
user ID to username and group ID to the primary group of username. If no
user specified, the user executing the L3 agent will be passed. If ""root""
specified, because radvd is spawned as root, no ""username"" parameter
will be passed

Change-Id: Ie9f16f3117e6531f4ef1e4973e61c72dbf904b8a
Closes-Bug: #1844688
(cherry picked from commit fb53535ca57adc6f1c53915a1cf4f6f4afe4bdaf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/692964/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/l3_agent_radvd_user-1814df18745101d6.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml']",2,c37c7bd0ca047aeb9c53a8fbe94af45cb6bf9b49,bug/1844688," NeutronL3AgentRadvdUser: default: ""root"" description: | The username passed to radvd, used to drop root privileges and change user ID to username and group ID to the primary group of username. If no user specified, the user executing the L3 agent will be passed. If ""root"" specified, because radvd is spawned as root, no ""username"" parameter will be passed type: string - neutron::agents::l3::radvd_user: {get_param: NeutronL3AgentRadvdUser}",,17,0
openstack%2Ftripleo-common~stable%2Ftrain~I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4,openstack/tripleo-common,stable/train,I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4,[Train-Only] Switch container images to train namespace,MERGED,2019-11-06 13:41:10.000000000,2019-11-06 21:55:03.000000000,2019-11-06 21:53:45.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 13:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/feb6427dd831bcd39214ae7d4fbc73a3033001e8', 'message': 'Train containers are published to tripleotrain namespace,\nso consume tripleotrain namespace by default.\n\nChange-Id: I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4\n'}, {'number': 2, 'created': '2019-11-06 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f16650e0b8aae0cf9eef138bdae58cccfa6ecbc4', 'message': 'Train containers are published to tripleotrain namespace,\nso consume tripleotrain namespace by default.\n\nChange-Id: I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4\n'}, {'number': 3, 'created': '2019-11-06 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/007fd2e6aa711a214a654d9874021fefd642f3fb', 'message': '[Train-Only] Switch container images to train namespace\n\nTrain containers are published to tripleotrain namespace,\nso consume tripleotrain namespace by default.\n\nChange-Id: I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4\n'}, {'number': 4, 'created': '2019-11-06 13:52:49.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/fakes.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7ecdc77ec360c612bbad73687fca5586ae1fbd3f', 'message': '[Train-Only] Switch container images to train namespace\n\nTrain containers are published to tripleotrain namespace,\nso consume tripleotrain namespace by default.\n\nChange-Id: I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4\n'}]",0,693181,7ecdc77ec360c612bbad73687fca5586ae1fbd3f,13,5,4,16690,,,0,"[Train-Only] Switch container images to train namespace

Train containers are published to tripleotrain namespace,
so consume tripleotrain namespace by default.

Change-Id: I3c0e9412e7455c6a1fcae7f42e7684e87cc6c0c4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/81/693181/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,feb6427dd831bcd39214ae7d4fbc73a3033001e8,Switch container images to train namespace,,,0,0
openstack%2Fpython-openstackclient~master~I426261eb1d86bcc68656aabd61f10b7f082da402,openstack/python-openstackclient,master,I426261eb1d86bcc68656aabd61f10b7f082da402,neutron: autogenerate docs,MERGED,2019-10-28 22:31:24.000000000,2019-11-06 21:48:52.000000000,2019-11-05 00:41:31.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 970}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2019-10-28 22:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8f8e393f28287b8930be40f6a4d75f05bc5133e3', 'message': 'WIP: neutron: autogenerate docs\n\n$namespace = openstack.network.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nChange-Id: I426261eb1d86bcc68656aabd61f10b7f082da402\nWIP: Only got partway through this so far.\n'}, {'number': 2, 'created': '2019-10-31 21:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6e187eb3067d6984ed37c397ee54e46acb010327', 'message': 'neutron: autogenerate docs\n\n$namespace = openstack.network.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis one turned out to be quite involved, because we support both\nneutron and nova-network. When running in a real cloud, the command\nclasses detect whether the neutron service is present, assume\nnova-network if that service is not found, and only add parser options\nrelevant to the detected service. But the docs need to present both sets\nof options. This was easy enough when they were hardcoded, but required\na bit of additional infrastructure for generated docs.\n\nChange-Id: I426261eb1d86bcc68656aabd61f10b7f082da402\n'}, {'number': 3, 'created': '2019-11-01 19:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5ad635ccb8f78504d0ee8b1790abfaedbc34fdc5', 'message': 'neutron: autogenerate docs\n\n$namespace = openstack.network.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis one turned out to be quite involved, because we support both\nneutron and nova-network. When running in a real cloud, the command\nclasses detect whether the neutron service is present, assume\nnova-network if that service is not found, and only add parser options\nrelevant to the detected service. But the docs need to present both sets\nof options. This was easy enough when they were hardcoded, but required\na bit of additional infrastructure for generated docs.\n\nChange-Id: I426261eb1d86bcc68656aabd61f10b7f082da402\n'}, {'number': 4, 'created': '2019-11-01 19:25:56.000000000', 'files': ['doc/source/cli/command-objects/security-group-rule.rst', 'doc/source/cli/command-objects/subnet-pool.rst', 'doc/source/cli/command-objects/network-qos-rule-type.rst', 'openstackclient/network/v2/network.py', 'doc/source/cli/command-objects/ip-availability.rst', 'doc/source/cli/command-objects/network-auto-allocated-topology.rst', 'openstackclient/identity/common.py', 'doc/source/cli/command-objects/router.rst', 'openstackclient/network/v2/security_group.py', 'openstackclient/network/v2/security_group_rule.py', 'doc/source/cli/command-objects/address-scope.rst', 'doc/source/cli/command-objects/network-qos-rule.rst', 'openstackclient/network/v2/floating_ip.py', 'doc/source/cli/command-objects/subnet.rst', 'openstackclient/network/v2/_tag.py', 'doc/source/cli/command-objects/network_segment_range.rst', 'doc/source/cli/command-objects/floating-ip-port-forwarding.rst', 'doc/source/cli/command-objects/floating-ip-pool.rst', 'doc/source/cli/command-objects/network-rbac.rst', 'doc/source/cli/command-objects/network-flavor.rst', 'doc/source/cli/command-objects/floating-ip.rst', 'doc/source/cli/command-objects/network-meter.rst', 'doc/source/cli/command-objects/security-group.rst', 'doc/source/cli/command-objects/network-qos-policy.rst', 'doc/source/cli/command-objects/network-service-provider.rst', 'doc/source/cli/command-objects/network-flavor-profile.rst', 'doc/source/cli/command-objects/network.rst', 'doc/source/cli/command-objects/network-agent.rst', 'doc/source/cli/command-objects/network-segment.rst', 'doc/source/cli/command-objects/network-meter-rule.rst', 'doc/source/cli/command-objects/port.rst', 'openstackclient/network/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cd6c285cc6c2274e6b42cc452ba4a61a3487ca23', 'message': 'neutron: autogenerate docs\n\n$namespace = openstack.network.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis one turned out to be quite involved, because we support both\nneutron and nova-network. When running in a real cloud, the command\nclasses detect whether the neutron service is present, assume\nnova-network if that service is not found, and only add parser options\nrelevant to the detected service. But the docs need to present both sets\nof options. This was easy enough when they were hardcoded, but required\na bit of additional infrastructure for generated docs.\n\nChange-Id: I426261eb1d86bcc68656aabd61f10b7f082da402\n'}]",13,691767,cd6c285cc6c2274e6b42cc452ba4a61a3487ca23,30,7,4,14070,,,0,"neutron: autogenerate docs

$namespace = openstack.network.v2

The subcommand documents for $namespace were hardcoded and thus prone to
drift over time. This commit removes the hardcoded content and uses the
autoprogram-cliff directive to generate them automatically from the
subcommand configuration classes.

This one turned out to be quite involved, because we support both
neutron and nova-network. When running in a real cloud, the command
classes detect whether the neutron service is present, assume
nova-network if that service is not found, and only add parser options
relevant to the detected service. But the docs need to present both sets
of options. This was easy enough when they were hardcoded, but required
a bit of additional infrastructure for generated docs.

Change-Id: I426261eb1d86bcc68656aabd61f10b7f082da402
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/67/691767/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/address-scope.rst', 'doc/source/cli/command-objects/ip-availability.rst', 'doc/source/conf.py', 'doc/source/cli/command-objects/floating-ip-port-forwarding.rst', 'doc/source/cli/command-objects/network-auto-allocated-topology.rst', 'doc/source/cli/command-objects/floating-ip-pool.rst', 'openstackclient/network/common.py', 'doc/source/cli/command-objects/floating-ip.rst', 'doc/source/cli/command-objects/network-agent.rst']",9,8f8e393f28287b8930be40f6a4d75f05bc5133e3,generate-docs,.. autoprogram-cliff:: openstack.network.v2 :command: network agent *,"network agent add network ------------------------- Add network to an agent .. program:: network agent add network .. code:: bash openstack network agent add network [--dhcp] <agent-id> <network> .. option:: --dhcp Add a network to DHCP agent .. describe:: <agent-id> Agent to which a network is added (ID only) .. describe:: <network> Network to be added to an agent (name or ID) network agent add router ------------------------ Add router to an agent .. program:: network agent add router .. code:: bash openstack network agent add router [--l3] <agent-id> <router> .. option:: --l3 Add router to an L3 agent .. _network_agent_add_router-agent-id: .. describe:: <agent-id> Agent to which a router is added (ID only) .. _network_agent_add_router-router: .. describe:: <router> Router to be added to an agent (name or ID) network agent delete -------------------- Delete network agent(s) .. program:: network agent delete .. code:: bash openstack network agent delete <network-agent> [<network-agent> ...] .. _network_agent_delete-network-agent: .. describe:: <network-agent> Network agent(s) to delete (ID only) network agent list ------------------ List network agents .. program:: network agent list .. code:: bash openstack network agent list [--agent-type <agent-type>] [--host <host>] [--network <network> | --router <router>] [--long] .. option:: --agent-type <agent-type> List only agents with the specified agent type. The supported agent types are: dhcp, open-vswitch, linux-bridge, ofa, l3, loadbalancer, metering, metadata, macvtap, nic. .. option:: --host <host> List only agents running on the specified host .. option:: --network <network> List agents hosting a network (name or ID) .. option:: --router <router> List agents hosting this router (name or ID) .. option:: --long List additional fields in output network agent remove network ---------------------------- Remove network from an agent .. program:: network agent remove network .. code:: bash openstack network agent remove network [--dhcp] <agent-id> <network> .. option:: --dhcp Remove network from DHCP agent .. _network_agent_remove_network-agent-id: .. describe:: <agent-id> Agent to which a network is removed (ID only) .. _network_agent_remove_network-network: .. describe:: <network> Network to be removed from an agent (name or ID) network agent remove router --------------------------- Remove router from an agent .. program:: network agent remove router .. code:: bash openstack agent remove router [--l3] <agent-id> <router> .. option:: --l3 Remove router from an L3 agent .. _network_agent_remove_router-agent-id: .. describe:: <agent-id> Agent from which router will be removed (ID only) .. _network_agent_remove_router-router: .. describe:: <router> Router to be removed from an agent (name or ID) network agent set ----------------- Set network agent properties .. program:: network agent set .. code:: bash openstack network agent set [--description <description>] [--enable | --disable] <network-agent> .. option:: --description <description> Set network agent description .. option:: --enable Enable network agent .. option:: --disable Disable network agent .. _network_agent_set-network-agent: .. describe:: <network-agent> Network agent to modify (ID only) network agent show ------------------ Display network agent details .. program:: network agent show .. code:: bash openstack network agent show <network-agent> .. _network_agent_show-network-agent: .. describe:: <network-agent> Network agent to display (ID only)",46,923
openstack%2Fpython-novaclient~master~I32f9eca87c90211b0172b040649aad105298846b,openstack/python-novaclient,master,I32f9eca87c90211b0172b040649aad105298846b,doc: Fix supported version descriptions,MERGED,2019-11-05 23:05:31.000000000,2019-11-06 21:30:33.000000000,2019-11-06 21:29:16.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 23:05:31.000000000', 'files': ['doc/source/cli/nova.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ed98fdba412593ff3374e97327f40260d79f76bd', 'message': ""doc: Fix supported version descriptions\n\nFix the version that the 'nova server-topology' command was added.\nAdd some missing descriptions about supported versions.\n\nChange-Id: I32f9eca87c90211b0172b040649aad105298846b\nCloses-Bug: #1851443\n""}]",2,693097,ed98fdba412593ff3374e97327f40260d79f76bd,8,3,1,7634,,,0,"doc: Fix supported version descriptions

Fix the version that the 'nova server-topology' command was added.
Add some missing descriptions about supported versions.

Change-Id: I32f9eca87c90211b0172b040649aad105298846b
Closes-Bug: #1851443
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/97/693097/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova.rst'],1,ed98fdba412593ff3374e97327f40260d79f76bd,bug/1851443, (Supported by API versions '2.81' - '2.latest') (Supported by API versions '2.78' - '2.latest')(Supported by API versions '2.81' - '2.latest') .. versionadded:: 16.0.0.. versionadded:: 15.1.0,.. versionadded:: 16.0.0,6,1
openstack%2Fsahara~stable%2Frocky~I23c8d14dce45d003fdfb58fed6591e937b27abab,openstack/sahara,stable/rocky,I23c8d14dce45d003fdfb58fed6591e937b27abab,Fixing image creation,MERGED,2019-11-06 16:32:02.000000000,2019-11-06 20:39:04.000000000,2019-11-06 20:39:04.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 16:32:02.000000000', 'files': ['sahara/plugins/mapr/resources/images/image.yaml', 'sahara/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2377f5071d52d6a649c2b589c4bf45767faeb3fb', 'message': 'Fixing image creation\n\nUpdating image creation to keep compatibility with some package changes.\n\nStory: #2006752\nTask: #37236\nChange-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab\n(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)\n'}]",0,693218,2377f5071d52d6a649c2b589c4bf45767faeb3fb,9,3,1,10459,,,0,"Fixing image creation

Updating image creation to keep compatibility with some package changes.

Story: #2006752
Task: #37236
Change-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab
(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/18/693218/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/mapr/resources/images/image.yaml', 'sahara/plugins/mapr/resources/images/centos/configure_hue']",2,2377f5071d52d6a649c2b589c4bf45767faeb3fb,, rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-compat-$MARIADB_VERSION-1.el7.centos.x86_64.rpm fi , rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi,2,3
openstack%2Fsahara~stable%2Frocky~I20eeac76373058eca0c33da11eb1e9dfce91de54,openstack/sahara,stable/rocky,I20eeac76373058eca0c33da11eb1e9dfce91de54,Check MariaDB installation,MERGED,2019-11-06 16:32:02.000000000,2019-11-06 20:39:01.000000000,2019-11-06 20:39:00.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 16:32:02.000000000', 'files': ['sahara/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara/commit/e4a97d1592cdaccea5dd0f555ee762135d53122e', 'message': 'Check MariaDB installation\n\nChecking if MariaDB is installed before trying to install it.\n\nStory: #2005902\nTask: #33764\n\nChange-Id: I20eeac76373058eca0c33da11eb1e9dfce91de54\n(cherry picked from commit 7df4957949fed406b708b850677a4a41d7926690)\n'}]",0,693217,e4a97d1592cdaccea5dd0f555ee762135d53122e,10,3,1,10459,,,0,"Check MariaDB installation

Checking if MariaDB is installed before trying to install it.

Story: #2005902
Task: #33764

Change-Id: I20eeac76373058eca0c33da11eb1e9dfce91de54
(cherry picked from commit 7df4957949fed406b708b850677a4a41d7926690)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/17/693217/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/plugins/mapr/resources/images/centos/configure_hue'],1,e4a97d1592cdaccea5dd0f555ee762135d53122e,,"INSTALLED=$(rpm -qa | grep -i mariadb-compat-${MARIADB_VERSION}-) if [[ -z ""$INSTALLED"" ]]; then rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi", rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm ,4,1
openstack%2Frpm-packaging~stable%2Fnewton~Ia532342861dd9f0b23ef20d7667381abcb0f9788,openstack/rpm-packaging,stable/newton,Ia532342861dd9f0b23ef20d7667381abcb0f9788,drop the changes files,MERGED,2019-11-06 15:12:24.000000000,2019-11-06 20:31:41.000000000,2019-11-06 20:31:41.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-11-06 15:12:24.000000000', 'files': ['openstack/openstack-macros/openstack-macros.changes'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ccab53b54e96bbca634704fd91a59f01f49e19b6', 'message': 'drop the changes files\n\nwe do not track changes to packages in the repo\n\nThis also fails the source_validator as osc tries to put changes the\nchangelog\n\nChange-Id: Ia532342861dd9f0b23ef20d7667381abcb0f9788\n(cherry picked from commit 4ab230fde5729cfb6a937788e87f478433e0ec9d)\n'}]",0,693195,ccab53b54e96bbca634704fd91a59f01f49e19b6,7,4,1,6593,,,0,"drop the changes files

we do not track changes to packages in the repo

This also fails the source_validator as osc tries to put changes the
changelog

Change-Id: Ia532342861dd9f0b23ef20d7667381abcb0f9788
(cherry picked from commit 4ab230fde5729cfb6a937788e87f478433e0ec9d)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/693195/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/openstack-macros.changes'],1,ccab53b54e96bbca634704fd91a59f01f49e19b6,,,------------------------------------------------------------------- Thu Sep 3 12:04:45 UTC 2015 - dmueller@suse.com - Initial package ,0,5
openstack%2Fswift~stable%2Frocky~I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376,openstack/swift,stable/rocky,I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376,Fix stable gate,MERGED,2019-11-06 00:42:35.000000000,2019-11-06 20:18:40.000000000,2019-11-06 20:16:51.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 00:42:35.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/52fa1a65a686bb0b65dd8df5687b180bac7a2f34', 'message': 'Fix stable gate\n\nThis is a combination of 2 commits.\n\n==========\n\nMake our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\n(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)\n\n----------\n\npin lower-constraints to run against python 2.7\n\n(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)\n\n==========\n\nChange-Id: I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376\n(cherry picked from commit 56ae0c7debd174bd5676ce937482bf9414efa3de)\n'}]",0,693102,52fa1a65a686bb0b65dd8df5687b180bac7a2f34,15,3,1,15343,,,0,"Fix stable gate

This is a combination of 2 commits.

==========

Make our py2 func tests more explicitly py2

...because otherwise, I think they might be running under py3 right now.

(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)

----------

pin lower-constraints to run against python 2.7

(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)

==========

Change-Id: I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376
(cherry picked from commit 56ae0c7debd174bd5676ce937482bf9414efa3de)
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/693102/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,52fa1a65a686bb0b65dd8df5687b180bac7a2f34,,basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,,29,24
openstack%2Fansible-role-tripleo-modify-image~master~I020854e313b0eec3f61fc51c4fb2d63b756ca9e1,openstack/ansible-role-tripleo-modify-image,master,I020854e313b0eec3f61fc51c4fb2d63b756ca9e1,WIP propose interface for a command_run.yml task,ABANDONED,2019-03-11 22:01:15.000000000,2019-11-06 20:07:06.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-03-11 22:01:15.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/2670f5e46bb25eb18f411e46d28f1916e6b70ce6', 'message': 'WIP propose interface for a command_run.yml task\n\nThis task has the potential to be as flexible as modify_image.yml\nwithout having to supply a whole Dockerfile. The buildah version will\nbe implemented with individual buildah commands, and will bind-mount\nin the paths. The Docker version will copy the files into the image.\n\nChange-Id: I020854e313b0eec3f61fc51c4fb2d63b756ca9e1\n'}]",1,642584,2670f5e46bb25eb18f411e46d28f1916e6b70ce6,5,3,1,4571,,,0,"WIP propose interface for a command_run.yml task

This task has the potential to be as flexible as modify_image.yml
without having to supply a whole Dockerfile. The buildah version will
be implemented with individual buildah commands, and will bind-mount
in the paths. The Docker version will copy the files into the image.

Change-Id: I020854e313b0eec3f61fc51c4fb2d63b756ca9e1
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/84/642584/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,2670f5e46bb25eb18f411e46d28f1916e6b70ce6,command-run,**Variables used for rpm install** | Name | Default Value | Description | |-------------------|---------------------|----------------------| | `source_image` | `[undefined]` | See modify image variables | | `modified_append_tag` | `date +-modified-%Y%m%d%H%M%S` | See modify image variables | | `target_image` | `''` | See modify image variables | | `rpms_path` | `[undefined]` Path to directory containing RPM files to install | | `container_build_tool` | `docker` | See modify image variables | **Variables used for command run** | Name | Default Value | Description | |-------------------|---------------------|----------------------| | `source_image` | `[undefined]` | See modify image variables | | `modified_append_tag` | `date +-modified-%Y%m%d%H%M%S` | See modify image variables | | `target_image` | `''` | See modify image variables | | `host_image_paths` | `{}` Map of host file paths to image file paths. Each entry will be bind-mounted (buildah) or copied (docker) into the image before the command is run | | `run_command` | `[undefined]` Command to run inside the image | | `container_build_tool` | `docker` | See modify image variables | ### Command run ### The following playbook will bind-mount (or copy when using docker) a repo file and a script before executing the script. - hosts: localhost connection: local tasks: - name: add plugins to heat-engine image import_role: name: tripleo-modify-image vars: tasks_from: command_run.yml source_image: docker.io/tripleomaster/centos-binary-heat-engine:current-tripleo modified_append_tag: -custom-plugins host_image_paths: /path/to/plugins.repo: /etc/yum.repos.d/plugins.repo /path/to/install_script.sh: /tmp/install_script.sh run_command: /tmp/install_script.sh ,,43,0
openstack%2Ftripleo-ci~master~I045f69d6fa379fda9596b32cf8e0ac88a842ddc7,openstack/tripleo-ci,master,I045f69d6fa379fda9596b32cf8e0ac88a842ddc7,Ensure cirros-0.3.6 is referenced consistently,ABANDONED,2019-02-25 04:46:41.000000000,2019-11-06 20:06:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-02-25 04:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ae718b7b8d40bb07ce07a1b3c851f621f1876c9', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\n'}, {'number': 2, 'created': '2019-02-26 01:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bc1d1b3257c1c0b6b0d045ad947473f345cde3d', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}, {'number': 3, 'created': '2019-03-29 20:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5812fa337f889613a0efcd2e9c0d50d3c7036b01', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}, {'number': 4, 'created': '2019-04-11 15:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b13a0efafd01206c38a67a07abcf9b06a3b09962', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}, {'number': 5, 'created': '2019-04-11 15:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f7cb0c29bd6bb8c564ac1e55a0b38d01dc7da85e', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nCloses-Bug: #1824243\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}, {'number': 6, 'created': '2019-04-12 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa1c1d0a39c56b8c9fbc61698b561020cb2dda81', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nCloses-Bug: #1824243\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}, {'number': 7, 'created': '2019-06-11 09:07:46.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml', 'scripts/tripleo.sh', 'toci-quickstart/config/testenv/multinode-rdocloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ebbb799ec5eea50c53e07296c61ade61d1ced3fa', 'message': 'Ensure cirros-0.3.6 is referenced consistently\n\nThis change fixes an error where reproducer-quickstart.sh environments\nfail because the cached image file is cirros-0.3.6 (set by\ntripleo-quickstart-extras) but cirros-0.3.5 is expected.\n\nThis change updates references to all cirros images.\n\nCloses-Bug: #1824243\nChange-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7\nDepends-On: https://review.openstack.org/639006\nDepends-On: https://review.openstack.org/639005\n'}]",5,639008,ebbb799ec5eea50c53e07296c61ade61d1ced3fa,35,13,7,4571,,,0,"Ensure cirros-0.3.6 is referenced consistently

This change fixes an error where reproducer-quickstart.sh environments
fail because the cached image file is cirros-0.3.6 (set by
tripleo-quickstart-extras) but cirros-0.3.5 is expected.

This change updates references to all cirros images.

Closes-Bug: #1824243
Change-Id: I045f69d6fa379fda9596b32cf8e0ac88a842ddc7
Depends-On: https://review.openstack.org/639006
Depends-On: https://review.openstack.org/639005
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/639008/5 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/multinode.yml', 'toci-quickstart/config/testenv/ovb.yml', 'scripts/tripleo.sh', 'toci-quickstart/config/testenv/multinode-rdocloud.yml']",6,5ae718b7b8d40bb07ce07a1b3c851f621f1876c9,cirros-0.3.6,tempest_test_image_path: /opt/cache/files/cirros-0.3.6-x86_64-disk.img,tempest_test_image_path: /opt/cache/files/cirros-0.3.5-x86_64-disk.img,8,8
openstack%2Ftripleo-common~master~I73bbb4d62ad6ee1cc4c884227367cf1d374392e7,openstack/tripleo-common,master,I73bbb4d62ad6ee1cc4c884227367cf1d374392e7,WIP delete overcloud_containers.yaml,ABANDONED,2018-09-18 21:55:50.000000000,2019-11-06 20:06:23.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11082}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-18 21:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c2bc772dec10b1cd0908d5fadcc26ee9f1adef5', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 2, 'created': '2018-10-18 21:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/20b8a5bec8648f7f5a02aa687139e2348c778d1f', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 3, 'created': '2019-02-27 17:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fbfb38e1d67da76ace1a3be69c4f423fdbb42105', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 4, 'created': '2019-02-27 21:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b542271d734707625ee11833fa6e54d41a8266c5', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 5, 'created': '2019-02-27 22:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7bc5692fe99bee74a372a6f7f44d031a907a688d', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 6, 'created': '2019-02-28 00:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b68eb320167e15ec70c8546573b3fe688c7be2ff', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 7, 'created': '2019-02-28 15:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/009256069c065bce3ffc933179d1dc1a37d2cb43', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 8, 'created': '2019-03-12 18:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5ab9062b632c3d951e026c923ec3ba4bee597c7', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 9, 'created': '2019-03-12 18:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d01eb4f5945328decc68cddef33753ed0997bda', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 10, 'created': '2019-03-15 16:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9047f39a811e41c0a8b389991da60152f979db0', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nDepends-On: https://review.openstack.org/#/c/639849/\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 11, 'created': '2019-04-04 15:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f76082aad78366cacc18bfe1fea5e189d2e2cd54', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}, {'number': 12, 'created': '2019-04-04 15:00:19.000000000', 'files': ['container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/12a2d7a5f6513b800fde3f94d0d9b42894556a3d', 'message': 'WIP delete overcloud_containers.yaml\n\nThis file has been deprecated for over one cycle and is quite a burden\nto keep in sync with the overcloud_containers.yaml.j2 that can\ngenerate it.\n\nMarked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare\ncommand to generate an equivalent file.\n\n[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build\n\nChange-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7\n'}]",1,603505,12a2d7a5f6513b800fde3f94d0d9b42894556a3d,45,10,12,4571,,,0,"WIP delete overcloud_containers.yaml

This file has been deprecated for over one cycle and is quite a burden
to keep in sync with the overcloud_containers.yaml.j2 that can
generate it.

Marked as WIP until ansible-role-rdo-kolla-build[1] can run the prepare
command to generate an equivalent file.

[1] https://github.com/rdo-infra/ansible-role-rdo-kolla-build

Change-Id: I73bbb4d62ad6ee1cc4c884227367cf1d374392e7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/603505/12 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'tripleo_common/tests/image/test_kolla_builder.py']",2,2c2bc772dec10b1cd0908d5fadcc26ee9f1adef5,yaml_prepare_defaults,,"import sys def _test_container_images_yaml_in_sync_helper(self, neutron_driver=None, remove_images=[]): '''Confirm overcloud_containers.tpl.yaml equals overcloud_containers.yaml TODO(sbaker) remove when overcloud_containers.yaml is deleted ''' mod_dir = os.path.dirname(sys.modules[__name__].__file__) project_dir = os.path.abspath(os.path.join(mod_dir, '../../../')) files_dir = os.path.join(project_dir, 'container-images') oc_tmpl_file = os.path.join(files_dir, 'overcloud_containers.yaml.j2') tmpl_builder = kb.KollaImageBuilder([oc_tmpl_file]) def ffunc(entry): if 'params' in entry: del(entry['params']) if 'services' in entry: del(entry['services']) return entry result = tmpl_builder.container_images_from_template( filter=ffunc, neutron_driver=neutron_driver) oc_yaml_file = os.path.join(files_dir, 'overcloud_containers.yaml') yaml_builder = kb.KollaImageBuilder([oc_yaml_file]) container_images = yaml_builder.load_config_files( yaml_builder.CONTAINER_IMAGES) # remove image references from overcloud_containers.yaml specified # in remove_images param. for image in remove_images: container_images.remove(image) self.assertSequenceEqual(container_images, result) def test_container_images_yaml_in_sync(self): remove_images = [ {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server-opendaylight:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server-ovn:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-ovn-base:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-opendaylight:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-ovn-northd:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'controller:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'nb-db-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'sb-db-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-metadata-agent-ovn:current-tripleo'}] self._test_container_images_yaml_in_sync_helper( remove_images=remove_images) def test_container_images_yaml_in_sync_for_odl(self): # remove neutron-server image reference from overcloud_containers.yaml remove_images = [ {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server-ovn:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-ovn-base:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-ovn-northd:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'controller:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'nb-db-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary-ovn-' 'sb-db-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-metadata-agent-ovn:current-tripleo'}] self._test_container_images_yaml_in_sync_helper( neutron_driver='odl', remove_images=remove_images) def test_container_images_yaml_in_sync_for_ovn(self): # remove neutron-server image reference from overcloud_containers.yaml remove_images = [ {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-neutron-server-opendaylight:current-tripleo'}, {'imagename': 'docker.io/tripleomaster/centos-binary' '-opendaylight:current-tripleo'}] self._test_container_images_yaml_in_sync_helper( neutron_driver='ovn', remove_images=remove_images) ",0,214
openstack%2Fnova~master~I8e400da9445101b9ff5240511c56105e26e16e4c,openstack/nova,master,I8e400da9445101b9ff5240511c56105e26e16e4c,"Revert ""openstack server create"" to ""nova boot"" in nova docs",MERGED,2019-11-05 18:39:10.000000000,2019-11-06 19:46:48.000000000,2019-11-06 16:51:10.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27478}, {'_account_id': 31033}]","[{'number': 1, 'created': '2019-11-05 18:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c874c6c3d7a95f7928c0dfa9b0e130637306e9e3', 'message': 'Fix block-device-mapping parameter naming\n\nIn launch-instance-from-volume.rst doc, the naming of a parameter is incorrect.\nUpdating it to the correct one, block-device-mapping from block-device\n\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\n'}, {'number': 2, 'created': '2019-11-05 20:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0253a22dbf72576db3f6158f7fea9aae0bc06d6', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 3, 'created': '2019-11-05 21:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1315b69293ff08a0c6d1f731cbb17b38b14a8ced', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 4, 'created': '2019-11-05 21:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a15a7c10e975bd640384955e1129336166a1705c', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 5, 'created': '2019-11-05 21:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20a94aac4dafea97ca9594ae815b889a3a5050ae', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 6, 'created': '2019-11-05 21:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/708984860bc4635cc31c92f5601f0d8cea4533f8', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 7, 'created': '2019-11-06 02:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/011acf8a31ee9b78ad3099b337e9f3e02a20c542', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}, {'number': 8, 'created': '2019-11-06 16:25:54.000000000', 'files': ['doc/source/user/launch-instance-from-volume.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa39641182e32b86d3585dfa69cf0862610968b6', 'message': 'Revert ""openstack server create"" to ""nova boot"" in nova docs\n\nWhen this patch [1] was introduced, it didn\'t take into consideration,\nthe updated/changed/modified parameters when using OSC vs nova CLI, so not\nevery option can be used in ""openstack server create"" which was used in ""nova boot""\nand vice versa. This bug would track reverting some of these incorrect commands usage.\n\nFor example- ""nova boot --block device <params1>"" can be translated as\n""openstack server create --block-device-mapping <params2>"" where params1 and\nparams2 are formatted differently (hence needs more than a simple search/replace)\n\n[1] https://review.opendev.org/#/c/404623/\n\nRelated-To: https://review.opendev.org/#/c/404623/\nChange-Id: I8e400da9445101b9ff5240511c56105e26e16e4c\nCloses-Bug: #1851425\n'}]",20,693065,aa39641182e32b86d3585dfa69cf0862610968b6,53,12,8,27478,,,0,"Revert ""openstack server create"" to ""nova boot"" in nova docs

When this patch [1] was introduced, it didn't take into consideration,
the updated/changed/modified parameters when using OSC vs nova CLI, so not
every option can be used in ""openstack server create"" which was used in ""nova boot""
and vice versa. This bug would track reverting some of these incorrect commands usage.

For example- ""nova boot --block device <params1>"" can be translated as
""openstack server create --block-device-mapping <params2>"" where params1 and
params2 are formatted differently (hence needs more than a simple search/replace)

[1] https://review.opendev.org/#/c/404623/

Related-To: https://review.opendev.org/#/c/404623/
Change-Id: I8e400da9445101b9ff5240511c56105e26e16e4c
Closes-Bug: #1851425
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/693065/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/launch-instance-from-volume.rst'],1,c874c6c3d7a95f7928c0dfa9b0e130637306e9e3,bug/1851425," - ``--block-device-mapping`` - ``--block-device-mapping`` - ``--block-device-mapping`` --block-device-mapping source=volume,id=d620d971-b160-4c4e-8652-2513d74e2080,dest=volume,shutdown=preserve \ this volume, use the ``--block-device-mapping`` parameter with the ``nova boot`` $ nova boot --flavor FLAVOR --block-device-mapping \ - ``--block-device-mapping`` ``--block-device-mapping`` option could also be used for more granular control"," - ``--block-device`` - ``--block-device`` - ``--block-device`` --block-device source=volume,id=d620d971-b160-4c4e-8652-2513d74e2080,dest=volume,shutdown=preserve \ this volume, use the ``--block-device`` parameter with the ``nova boot`` $ nova boot --flavor FLAVOR --block-device \ - ``--block-device`` ``--block-device`` option could also be used for more granular control",8,8
openstack%2Ftripleo-heat-templates~master~I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,openstack/tripleo-heat-templates,master,I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68,Fix duplicate mount point in neutron_dhcp,MERGED,2019-10-30 16:08:20.000000000,2019-11-06 19:06:20.000000000,2019-11-06 18:55:43.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 31196}]","[{'number': 1, 'created': '2019-10-30 16:08:20.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b718b2cab925037671e10aa41ce3de5aa30959d', 'message': 'Fix duplicate mount point in neutron_dhcp\n\npodman >= 1.4.x bails out when duplicate mount points are passed to it\nand with tls-everywhere the neutron_dhcp container will fail with:\n\n2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1\n\n ""b\'Error: /etc/ipa/ca.crt: duplicate mount destination\\\\n\'\n\nThat is because the /etc/ipa/ca.crt is provided by both\n[ContainersCommon, volumes] and the step_4/neutron_dhcp itself\n\nWe can simply remove it from the neutron_dhcp container.\n\nChange-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68\nCloses-Bug: #1850663\n'}]",1,692182,1b718b2cab925037671e10aa41ce3de5aa30959d,16,7,1,20172,,,0,"Fix duplicate mount point in neutron_dhcp

podman >= 1.4.x bails out when duplicate mount points are passed to it
and with tls-everywhere the neutron_dhcp container will fail with:

2019-10-25 09:43:06.168 117719 DEBUG paunch [ ] $ podman create --name neutron_dhcp --label config_id=tripleo_step4 --label container_name=neutron_dhcp --label managed_by=paunch --label config_data={""depends_on"": [""openvswitch""], ""environment"": [""KOLLA_CONFIG_STRATEGY=COPY_ALWAYS"", ""TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af""], ""healthcheck"": {""test"": ""/openstack/healthcheck 5672""}, ""image"": ""192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1"", ""net"": ""host"", ""pid"": ""host"", ""privileged"": true, ""restart"": ""always"", ""security_opt"": ""label=disable"", ""start_order"": 10, ""ulimit"": [""nofile=16384""], ""volumes"": [""/etc/hosts:/etc/hosts:ro"", ""/etc/localtime:/etc/localtime:ro"", ""/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro"", ""/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro"", ""/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro"", ""/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro"", ""/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro"", ""/dev/log:/dev/log"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro"", ""/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro"", ""/etc/puppet:/etc/puppet:ro"", ""/var/log/containers/neutron:/var/log/neutron:z"", ""/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro"", ""/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro"", ""/lib/modules:/lib/modules:ro"", ""/run/openvswitch:/run/openvswitch:shared,z"", ""/var/lib/neutron:/var/lib/neutron:shared,z"", ""/run/netns:/run/netns:shared"", ""/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro"", ""/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro"", ""/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro"", ""/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro"", ""/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro""]} --conmon-pidfile=/var/run/neutron_dhcp.pid --detach=true --log-driver k8s-file --log-opt path=/var/log/containers/stdouts/neutron_dhcp.log --env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS --env=TRIPLEO_CONFIG_HASH=553e07d2d41900907a6cb501d10e15af --net=host --pid=host --ulimit=nofile=16384 --privileged=true --volume=/etc/hosts:/etc/hosts:ro --volume=/etc/localtime:/etc/localtime:ro --volume=/etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro --volume=/etc/pki/ca-trust/source/anchors:/etc/pki/ca-trust/source/anchors:ro --volume=/etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro --volume=/etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro --volume=/etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro --volume=/dev/log:/dev/log --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --volume=/etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro --volume=/etc/puppet:/etc/puppet:ro --volume=/var/log/containers/neutron:/var/log/neutron:z --volume=/var/lib/kolla/config_files/neutron_dhcp.json:/var/lib/kolla/config_files/config.json:ro --volume=/var/lib/config-data/puppet-generated/neutron/:/var/lib/kolla/config_files/src:ro --volume=/lib/modules:/lib/modules:ro --volume=/run/openvswitch:/run/openvswitch:shared,z --volume=/var/lib/neutron:/var/lib/neutron:shared,z --volume=/run/netns:/run/netns:shared --volume=/var/lib/neutron/dnsmasq_wrapper:/usr/local/bin/dnsmasq:ro --volume=/var/lib/neutron/dhcp_haproxy_wrapper:/usr/local/bin/haproxy:ro --volume=/etc/pki/tls/certs/neutron.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/neutron.crt:ro --volume=/etc/pki/tls/private/neutron.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/neutron.key:ro --volume=/etc/ipa/ca.crt:/etc/ipa/ca.crt:ro --security-opt=label=disable --cpuset-cpus=0,1,2,3 192.168.24.1:8787/rh-osbs/rhosp15-openstack-neutron-dhcp-agent:20191022.1

 ""b'Error: /etc/ipa/ca.crt: duplicate mount destination\\n'

That is because the /etc/ipa/ca.crt is provided by both
[ContainersCommon, volumes] and the step_4/neutron_dhcp itself

We can simply remove it from the neutron_dhcp container.

Change-Id: I99fd308e7e63699cb9deac1d0a4ace5cd4f43c68
Closes-Bug: #1850663
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/692182/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,1b718b2cab925037671e10aa41ce3de5aa30959d,fix_neutron_dhcp_agent_tls,, - list_join: - ':' - - {get_param: InternalTLSCAFile} - {get_param: InternalTLSCAFile} - 'ro',0,5
openstack%2Ftripleo-ci~master~I8a1704f503355b69be682d3bd70290d947ac57f5,openstack/tripleo-ci,master,I8a1704f503355b69be682d3bd70290d947ac57f5,Turn on debugging for image builds,MERGED,2019-11-05 22:51:24.000000000,2019-11-06 18:55:45.000000000,2019-11-06 18:55:45.000000000,"[{'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 22:51:24.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/292a8cfbc4bac1b4f4da50a447909aeaca457c4c', 'message': 'Turn on debugging for image builds\n\nIt is recommended to keep DIB debugging on to aid\nin failure detection when building images.\n\nChange-Id: I8a1704f503355b69be682d3bd70290d947ac57f5\nRelated-Bug: #1851274\n'}]",1,693093,292a8cfbc4bac1b4f4da50a447909aeaca457c4c,10,6,1,9976,,,0,"Turn on debugging for image builds

It is recommended to keep DIB debugging on to aid
in failure detection when building images.

Change-Id: I8a1704f503355b69be682d3bd70290d947ac57f5
Related-Bug: #1851274
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/693093/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,292a8cfbc4bac1b4f4da50a447909aeaca457c4c,bug1851274,export DIB_DEBUG_TRACE=1 ,,2,0
openstack%2Fopenstack-ansible~stable%2Ftrain~I616ae06d1434ace1a41efb12d03de89123401c65,openstack/openstack-ansible,stable/train,I616ae06d1434ace1a41efb12d03de89123401c65,Bump rabbitmq_server role SHA,ABANDONED,2019-11-01 19:47:53.000000000,2019-11-06 17:33:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-01 19:47:53.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75729173f8c20f7cfbab5f60d70b76c6bb599d32', 'message': 'Bump rabbitmq_server role SHA\n\nBump this role SHA to include [0] when the stable/train branch of\nOSA is checked out.\n\n[0] https://review.opendev.org/#/c/691437/\n\nChange-Id: I616ae06d1434ace1a41efb12d03de89123401c65\n'}]",0,692607,75729173f8c20f7cfbab5f60d70b76c6bb599d32,14,4,1,25023,,,0,"Bump rabbitmq_server role SHA

Bump this role SHA to include [0] when the stable/train branch of
OSA is checked out.

[0] https://review.opendev.org/#/c/691437/

Change-Id: I616ae06d1434ace1a41efb12d03de89123401c65
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/07/692607/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,75729173f8c20f7cfbab5f60d70b76c6bb599d32,, version: 5a040a60cc7c97f61d260d7b62031f27bcb49775, version: 2332b70d4d1eec224aa833848fd2e7803ef07257,1,1
openstack%2Fkolla~master~I6c8ce65d4cb2f3a5f889ade4eae42f8de485d7d6,openstack/kolla,master,I6c8ce65d4cb2f3a5f889ade4eae42f8de485d7d6,DNM: test 3party first patch,ABANDONED,2019-11-06 11:25:41.000000000,2019-11-06 16:43:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 11:25:41.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/13c6dc9ee18560d5dcc6ee1f660da39e75456fd4', 'message': 'DNM: test 3party first patch\n\nDepends-On: https://review.opendev.org/#/c/693048\nChange-Id: I6c8ce65d4cb2f3a5f889ade4eae42f8de485d7d6\n'}]",0,693158,13c6dc9ee18560d5dcc6ee1f660da39e75456fd4,4,2,1,10969,,,0,"DNM: test 3party first patch

Depends-On: https://review.opendev.org/#/c/693048
Change-Id: I6c8ce65d4cb2f3a5f889ade4eae42f8de485d7d6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/693158/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2']",4,13c6dc9ee18560d5dcc6ee1f660da39e75456fd4,test4,RUN touch /tmp/something,,3,206
openstack%2Fkeystone-specs~master~I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3,openstack/keystone-specs,master,I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3,Functional testing setup,ABANDONED,2016-04-18 16:49:57.000000000,2019-11-06 16:41:43.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 11022}, {'_account_id': 13055}, {'_account_id': 13478}, {'_account_id': 15699}, {'_account_id': 16465}, {'_account_id': 17860}]","[{'number': 1, 'created': '2016-04-18 16:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/aeb8a1cd37ac9ca04944fa951a817596b42ad0c3', 'message': 'Functional testing setup\n\nbp functional-testing-setup\n\nChange-Id: I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3\n'}, {'number': 2, 'created': '2016-04-19 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/17297d0c429691f57a86efb48d54e997fdecc0d4', 'message': 'Functional testing setup\n\nbp functional-testing-setup\n\nChange-Id: I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3\n'}, {'number': 3, 'created': '2016-04-28 11:36:03.000000000', 'files': ['specs/keystone/backlog/functional-testing-setup.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84101a0a3281b50c6ca864df175641f632db97a4', 'message': 'Functional testing setup\n\nbp functional-testing-setup\n\nChange-Id: I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3\n'}]",22,307371,84101a0a3281b50c6ca864df175641f632db97a4,19,8,3,13478,,,0,"Functional testing setup

bp functional-testing-setup

Change-Id: I6c7737a9c166d0093d6aafb01bdcf1b2ccac7db3
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/71/307371/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/backlog/functional-testing-setup.rst'],1,aeb8a1cd37ac9ca04944fa951a817596b42ad0c3,bp/functional-testing-setup,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Federation Testing Setup ======================== `bp functional-testing-setup <https://blueprints.launchpad.net/keystone/+spec/functional-testing-setup>`_ The new direction for functional testing is to `move`_ it out of tempest and into the projects. .. _move: http://lists.openstack.org/pipermail/openstack-dev/2014-July/041188.html Problem Description =================== Federation needs to be tested in gates. We've decided to use Tempest to run functional tests. For federation, there are several components which need to be installed and configured. Right now, there is no such mechanism. Proposed Change =============== Basic idea ---------- Devstack has a defined interface for `plugins`_. It expects that a plugin lives in a git repository and has a defined structure. We have implemented a Tempest plugin. Tests of Tempest plugin run automatically with all Tempest tests. There is also an ability to run tests only from a plugin. The idea is to implement a devstack plugin in a new repository ``openstack/devstack-plugin-federation-tests``, which will be maintained by the Keystone team. This plugin will use devstack hooks to configure Federation bits. In the gates the plugin will be enabled using ``DEVSTACK_LOCAL_CONFIG``. The plugin will configure Keystone to be Identity Provider and Service Provider at the same time on the same node. It will: 1. Configure Keystone as an IdP 2. Set up Shibboleth and Apache 3. Set up Keystone as a SP As the plugin evolves, we can add an ability to use other tools as Identity Providers, such as pysaml2, or run Federation tests on multiple nodes. .. _plugins: http://docs.openstack.org/developer/devstack/plugins.html Alternatives ------------ * Try to implement a framework for setting up federation and other configurations. This was started in `functional-testing-setup`_. However, this is too complex for the task and is destructive for existing devstack configurations. * Do not create a new repository and make the code live in directory /devstack of openstack/keystone tree. * Do not create a devstack plugin at all. Instead, use ``extras.d``. It has a similar interface and can do the job. However, to use it in the gates, ``pre_test_hook`` needs to be used to copy the plugin and required files to ``extras.d``. .. _functional-testing-setup: https://github.com/openstack/keystone-specs/blob/ef34e8035876d8a8287765de743161c835b2fa76/superseded/functional-testing-setup.rst Security Impact --------------- None. This is about test environments and doesn't directly impact production code. Notifications Impact -------------------- None. This is about test environments and doesn't directly impact production code. Other End User Impact --------------------- None. This is about test environments and doesn't directly impact production code. Performance Impact ------------------ None. This is about test environments and doesn't directly impact production code. Other Deployer Impact --------------------- None. This is about test environments and doesn't directly impact production code. Developer Impact ---------------- Developers will have to learn and understand devstack/devstack-gate to some extent if they wish to use the bundled configurations for functional testing. Implementation ============== Assignee(s) ----------- Primary assignee: breton Other contributors: <anyone> Work Items ---------- 1. Set up a repository 2. Add code to the repository. `Code by David Stanek`_ can be heavily re-used. 3. create experimental gate jobs for both configurations .. _`Code by David Stanek`: https://review.openstack.org/#/c/139137/ Dependencies ============ None at the first stage, pysaml2 might be needed in the future. Documentation Impact ==================== Document what variables the devstack plugin uses. References ========== devstack-gate * https://github.com/openstack-infra/devstack-gate devstack plugins * http://docs.openstack.org/developer/devstack/plugins.html ",,154,0
openstack%2Fkeystone~master~I30b30c05e3d7d1cb1b55572faa41f69912960399,openstack/keystone,master,I30b30c05e3d7d1cb1b55572faa41f69912960399,Use migration_cli for db migrations,ABANDONED,2015-01-15 15:03:45.000000000,2019-11-06 16:41:21.000000000,,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 7491}, {'_account_id': 8871}, {'_account_id': 9751}, {'_account_id': 13478}, {'_account_id': 16523}, {'_account_id': 17860}]","[{'number': 1, 'created': '2015-01-15 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91da14aedbd3e274e6a0a88d85f84b11f63520a5', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic.\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 2, 'created': '2015-01-21 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8025c1184fa2078c163c51984fa73af9350f5716', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 3, 'created': '2015-01-21 16:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0a0fc460245c7fe267ebd82cc783ec6f541137c4', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 4, 'created': '2015-01-22 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48777b1245d7427a080d8037ddda61eaafc23d5c', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 5, 'created': '2015-01-22 15:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1dad7d215207ecd4f46fc0e5aabfaa7a44c95009', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 6, 'created': '2015-01-23 16:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e413f2e82c154505d2afb8d98316465a56d3a41d', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 7, 'created': '2015-01-23 16:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc5594ed67625340d19b9b4bdd443a89edb401e0', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 8, 'created': '2015-01-23 17:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a89943c025a68ca3a9ff7f6ab25128be44aa7795', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 9, 'created': '2015-04-24 12:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5b830418769a1cbfe420c99e886b173209dc3515', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 10, 'created': '2015-05-13 13:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/998c15ac8c3769242dff599adc5d848ad8f6ecf8', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}, {'number': 11, 'created': '2015-07-13 18:09:05.000000000', 'files': ['keystone/common/sql/migration_helpers.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6a900dcb543509f09e72c84486d325c1256790e0', 'message': 'Use migration_cli for db migrations\n\nThe patch adds migration_cli usage to migration helpers. The use of the\ninterface is required for smooth transition to Alembic. It also changes\ntests to comply with new interface.\n\nImplements-blueprint: cli-db-commands\n\nChange-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399\n'}]",8,147548,6a900dcb543509f09e72c84486d325c1256790e0,44,8,11,13478,,,0,"Use migration_cli for db migrations

The patch adds migration_cli usage to migration helpers. The use of the
interface is required for smooth transition to Alembic. It also changes
tests to comply with new interface.

Implements-blueprint: cli-db-commands

Change-Id: I30b30c05e3d7d1cb1b55572faa41f69912960399
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/147548/6 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migration_helpers.py', 'keystone/cli.py']",2,91da14aedbd3e274e6a0a88d85f84b11f63520a5,bp/cli-db-commands," @classmethod def add_argument_parser(cls, subparsers): parser = super(DbSync, cls).add_argument_parser(subparsers) parser.add_argument('version', nargs='?', help=cls.help_for_version) return parser @classmethod def main(cls): version = CONF.command.version extension = CONF.command.extension migration_helpers.sync_database_to_version(cls.name, version, extension) class DbUpgrade(DbSync): name = 'upgrade' help_for_version = ('Upgrade the database up to a specified ' 'version. If not provided, upgrade will ' 'migrate the database to the latest known ' 'version.') class DbDowngrade(DbSync): name = 'downgrade' help_for_version = ('Downgrade the database up to a specified ' 'version. If not provided, downgrade will ' 'migrate the database to the initial version ') class DbVersion(BaseApp): name = 'version' @staticmethod def main(): extension = CONF.command.extension migration_helpers.print_db_version(extension) class DbStamp(BaseApp): name = 'stamp' @classmethod def add_argument_parser(cls, subparsers): parser = super(DbStamp, cls).add_argument_parser(subparsers) parser.add_argument('version', help=('Stamp the revision table to a specified ' 'version; don\'t run any migrations.')) return parser @staticmethod def main(): version = CONF.command.version extension = CONF.command.extension # NOTE(breton): oslo_db.migration_cli throws NotImplementedError if # stamp is called for sqlalchemy-migrate-only repos. It can be safely # ignored. try: migration_helpers.stamp(version, extension) except NotImplementedError: print('Could not run on sqlalchemy-migrate repo, quitting') class DbRevision(BaseApp): """"""Create a new revision file."""""" name = 'revision' @staticmethod def main(): extension = CONF.command.extension print('Revision', extension) class DbManager(BaseApp): """"""Db migration utilities"""""" name = 'db' @classmethod def add_argument_parser(cls, subparsers): parser = subparsers.add_parser(cls.name, help=cls.__doc__) subparsers = parser.add_subparsers(title='commands') command_classes = [DbUpgrade, DbDowngrade, DbVersion, DbStamp, DbRevision] for command_class in command_classes: command_parser = command_class.add_argument_parser(subparsers) command_parser.add_argument( '--extension', help=('Run the command for the specified extension. If not ' 'provided, the command will be ran on common ' 'repository.')) return parser class _DbSync(BaseApp): parser = super(_DbSync, cls).add_argument_parser(subparsers)class _DbVersion(BaseApp): parser = super(_DbVersion, cls).add_argument_parser(subparsers) DbManager,"," parser = super(DbSync, cls).add_argument_parser(subparsers)class DbVersion(BaseApp): parser = super(DbVersion, cls).add_argument_parser(subparsers) DbSync, DbVersion,",165,64
openstack%2Fnova~master~Ib31691dca7b1374512fe5e577e46c9e3e223d608,openstack/nova,master,Ib31691dca7b1374512fe5e577e46c9e3e223d608,Pass exception through TaskBase.rollback,MERGED,2019-11-02 23:56:54.000000000,2019-11-06 16:25:04.000000000,2019-11-06 16:22:41.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23950}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-02 23:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f544188c3001d728ca26b7710cf21e8f53d34e5a', 'message': 'Pass exception through TaskBase.rollback\n\nThis modifies the TaskBase.rollback method to pass the\nhandled exception through so implementations of the\nrollback method can use the exception for things like\nadding an instance fault, notifications, etc.\n\nChange-Id: Ib31691dca7b1374512fe5e577e46c9e3e223d608\n'}, {'number': 2, 'created': '2019-11-04 21:24:50.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/tasks/base.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/conductor/tasks/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/accdc16947ba453f7a1bb64a6b2e688bccaef687', 'message': 'Pass exception through TaskBase.rollback\n\nThis modifies the TaskBase.rollback method to pass the\nhandled exception through so implementations of the\nrollback method can use the exception for things like\nadding an instance fault, notifications, etc.\n\nChange-Id: Ib31691dca7b1374512fe5e577e46c9e3e223d608\n'}]",0,692689,accdc16947ba453f7a1bb64a6b2e688bccaef687,56,15,2,6873,,,0,"Pass exception through TaskBase.rollback

This modifies the TaskBase.rollback method to pass the
handled exception through so implementations of the
rollback method can use the exception for things like
adding an instance fault, notifications, etc.

Change-Id: Ib31691dca7b1374512fe5e577e46c9e3e223d608
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/692689/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/tasks/migrate.py', 'nova/conductor/tasks/base.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/conductor/tasks/test_base.py']",7,f544188c3001d728ca26b7710cf21e8f53d34e5a,bp/cross-cell-resize, fake_rollback.assert_called_once_with(test.MatchType(Exception)), fake_rollback.assert_called_once_with(),23,23
openstack%2Fpuppet-tripleo~master~Ic081428a5147504734e319fac890b51b90499751,openstack/puppet-tripleo,master,Ic081428a5147504734e319fac890b51b90499751,Insert the description of the change.,ABANDONED,2019-06-27 09:24:22.000000000,2019-11-06 16:22:36.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-27 09:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/57003b8e694c7fa16444475f5594b4ba4cb27483', 'message': 'Insert the description of the change.\n\nChange-Id: Ic081428a5147504734e319fac890b51b90499751\n'}]",0,667829,57003b8e694c7fa16444475f5594b4ba4cb27483,6,4,1,16690,,,0,"Insert the description of the change.

Change-Id: Ic081428a5147504734e319fac890b51b90499751
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/29/667829/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,57003b8e694c7fa16444475f5594b4ba4cb27483,remove debug at,,,0,0
openstack%2Ftripleo-heat-templates~master~I280a28a9400161a8f38ac72eae71f0df1f13b1b2,openstack/tripleo-heat-templates,master,I280a28a9400161a8f38ac72eae71f0df1f13b1b2,Move basic global functions into ansible tasks,MERGED,2019-09-20 05:15:30.000000000,2019-11-06 16:08:28.000000000,2019-11-06 16:08:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-09-20 05:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad27c4b6cc43fc0f5efa6b6efd4a561261e72f39', 'message': 'Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-09-20 14:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca9c04fe8b9dc854436c707458f4d700877d4ab5', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-09-20 16:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58ded7a39b3f67579cf8260ed56de51c28dfabe2', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2019-09-23 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/323171858e410239d343642bee782333861118d3', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 5, 'created': '2019-09-24 01:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98a7b3a5bce5c14217cf43f36d5ec6cc2118667', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2019-09-24 13:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9cc99e9dd9f5efff3743ed1b3a526c6f6c615d8', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 7, 'created': '2019-09-25 12:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32a4d9d5122063140761ba69a784e96bad4d4870', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 8, 'created': '2019-10-07 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1efe5d959c838201563718212db10dab0aa8e904', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat its more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 9, 'created': '2019-10-09 19:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b74ad67e11af45daf99b5cafd62e0a504423289a', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 10, 'created': '2019-10-17 02:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebd275feb2dc47dee3fd1a0bd238ac3a0078a79b', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 11, 'created': '2019-10-24 06:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4de298541f937e53366bcb06c2d3823a58bb08b', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 12, 'created': '2019-10-30 22:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74f9f759a0c15741bb067ba0d3235ce84ed2e43e', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 13, 'created': '2019-10-31 14:34:55.000000000', 'files': ['common/container-puppet.py', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7282c11285b457980f79a7c372e4b3e874e66288', 'message': ""Move basic global functions into ansible tasks\n\nBasic global functions have been moved out of the container-puppet\nscript and into ansible tasks. While this change should not have\nany notable performance improvements, it continues the ongoing\neffort to deconstruct / refactor the container puppet process so\nthat it is more managable, and maintainable.\n\nIn order to make the code more legible all of the pep8 vilolations\nhave been resolved. While the pep8 fixes are mostly cosmetic,\nthey're being done so, myself, and others, can better underand\nwhat all is going on so we can work better future solutions.\n\nThis change consolodates all file options into a single task. By\nconsolodating we're reduce the number of tasks being run which\nimproves reliability and performance.\n\nChange-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",17,683286,7282c11285b457980f79a7c372e4b3e874e66288,61,8,13,7353,,,0,"Move basic global functions into ansible tasks

Basic global functions have been moved out of the container-puppet
script and into ansible tasks. While this change should not have
any notable performance improvements, it continues the ongoing
effort to deconstruct / refactor the container puppet process so
that it is more managable, and maintainable.

In order to make the code more legible all of the pep8 vilolations
have been resolved. While the pep8 fixes are mostly cosmetic,
they're being done so, myself, and others, can better underand
what all is going on so we can work better future solutions.

This change consolodates all file options into a single task. By
consolodating we're reduce the number of tasks being run which
improves reliability and performance.

Change-Id: I280a28a9400161a8f38ac72eae71f0df1f13b1b2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/683286/6 && git format-patch -1 --stdout FETCH_HEAD,"['common/container-puppet.py', 'common/deploy-steps-tasks.yaml']",2,ad27c4b6cc43fc0f5efa6b6efd4a561261e72f39,deconstruct/container-puppet," - name: Create /var/lib/config-data directory file: path: '/var/lib/config-data{{ ansible_check_mode | bool | ternary(""/check-mode"", """") }}' state: directory setype: svirt_sandbox_file_t selevel: s0 recurse: true tags: - container_config PROCESS_COUNT: ""{{ ansible_processor_vcpus }}"" SHORT_HOSTNAME: ""{{ ansible_hostname }}"" SHORT_HOSTNAME: ""{{ ansible_hostname }}"" PROCESS_COUNT: ""{{ ansible_processor_vcpus }}""", PROCESS_COUNT: '{{ docker_puppet_process_count }}',22,22
openstack%2Ftripleo-ansible~master~I60a14721ed978dddbebfd28f830fb2c50f326ce0,openstack/tripleo-ansible,master,I60a14721ed978dddbebfd28f830fb2c50f326ce0,tripleo-container-manage: fix log_opt,MERGED,2019-11-01 21:15:06.000000000,2019-11-06 16:05:44.000000000,2019-11-06 16:05:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 21:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77ca32cd4f01b89a01fd879ac9ccd40651042921', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 2, 'created': '2019-11-01 21:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30c42d48bed2ce6e99ee43915d44f51da1a95229', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 3, 'created': '2019-11-01 21:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f87dc7cce42cac8942b2a48c1ac36b8dfdb02dce', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 4, 'created': '2019-11-02 13:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94ebb926f8aee0fac936b309c5aa5dc3306730a5', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 5, 'created': '2019-11-02 16:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c13fab9410b61867236e4272e2a328a848707698', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 6, 'created': '2019-11-02 19:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3299c47a93452b61ed093c476b8148eb07dcaa32', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 7, 'created': '2019-11-04 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e5b696c67370896332189a2484ea623e4d65d48', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 8, 'created': '2019-11-04 15:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f448db0d1e5c0c984c742db8c88499c9f415789', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 9, 'created': '2019-11-04 20:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7320f82d28d6f9a6b5f099ad5f1b7a0b3a88804', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 10, 'created': '2019-11-04 20:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/683c59cd2bbb749c0c40f42da5bf4a7f0a13abf1', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 11, 'created': '2019-11-04 20:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/476973560381b8f8a8255e68b66a7a0b050f24dc', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 12, 'created': '2019-11-04 21:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/efe64da27ff22cd4c28310662b7a75a85884f8af', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 13, 'created': '2019-11-05 06:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44ea490aad034e65eda12edd6f1eda95bbddd7c1', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 14, 'created': '2019-11-05 07:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9088c9aa671d813623dd15c81dccfffae02282e', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 15, 'created': '2019-11-05 09:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71d56e50729691153f58179946760ba6007b4da5', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 16, 'created': '2019-11-05 10:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73e3c465035a7acf6be2bf6ee993ff699d70a756', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 17, 'created': '2019-11-05 21:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a90a6891613cd0113299e035ee3d08bb77817b7d', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}, {'number': 18, 'created': '2019-11-05 23:45:22.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7f71c352e306bceeec97d734cd7228c75b12522', 'message': 'tripleo-container-manage: fix log_opt\n\nPut the right variables to have proper logging.\n\nChange-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0\n'}]",3,692616,e7f71c352e306bceeec97d734cd7228c75b12522,46,6,18,3153,,,0,"tripleo-container-manage: fix log_opt

Put the right variables to have proper logging.

Change-Id: I60a14721ed978dddbebfd28f830fb2c50f326ce0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/16/692616/17 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/create_podman.yaml'],1,77ca32cd4f01b89a01fd879ac9ccd40651042921,log/opt," log_opt: ""path={{ tripleo_container_manage_log_path }}/{{ item.0 }}"""," # log_opt: | # ""{{ 'path=' if tripleo_container_manage_log_path is defined else '' }} # {{ tripleo_container_manage_log_path | default('') }} # {{ '/' if tripleo_container_manage_log_path is defined else '' }} # {{ item.0 if tripleo_container_manage_log_path is defined else '' }}""",1,5
openstack%2Ftripleo-ansible~master~I1e5e941558c492b050e4db542703e322707dbbbd,openstack/tripleo-ansible,master,I1e5e941558c492b050e4db542703e322707dbbbd,tripleo-container-manage: introduce concurrency,MERGED,2019-11-01 23:56:25.000000000,2019-11-06 16:05:43.000000000,2019-11-06 16:05:43.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 23:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b61967fe6943d3ee9554048f254df90869989b17', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 2, 'created': '2019-11-02 00:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc4ebb3653680a8aecce8d3d60ab5985c09c2e7f', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 3, 'created': '2019-11-02 00:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bf4c6d17fa42c65c04ed3c9fde2e5c327ccfada', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 4, 'created': '2019-11-02 13:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb5f4ae01dd72910445880913c9067aca663e8e4', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 5, 'created': '2019-11-02 14:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/510cad837b38d54fed03b6c278f77d618bafdf54', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 6, 'created': '2019-11-02 15:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4da989c3cb8fc7aea0485fe75e08cf9c3f89c0b2', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 7, 'created': '2019-11-02 19:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da3a8139503867946e94b940df2b18f7de6d0ebf', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 8, 'created': '2019-11-02 19:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff874ed23d856fad0075d2bc898ebb9fb6cbe912', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 9, 'created': '2019-11-04 15:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c09ec925393d7a65f0d5e79a30a417d8334581a', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 10, 'created': '2019-11-04 15:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/756c3fd103eb29d4a3589d636862ee3dd38eb07f', 'message': ""WIP - tripleo-container-manage: introduce concurrency\n\nWIP to have concurrency when managing containers within a same\nstart_order.\nI'll help to deploy the containers faster, multiple at the same time\ninstead of in serial.\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n""}, {'number': 11, 'created': '2019-11-04 20:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a23cd8b463c4d9524bfba58e1fa71d02bb0b80e8', 'message': 'tripleo-container-manage: introduce concurrency\n\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 12, 'created': '2019-11-04 20:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f847deb43d6e3872ba2b554eedfde81a55b1f0e6', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 13, 'created': '2019-11-05 06:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f872f22a01d301eb4bdf8c7fc4cfe7ae063635e3', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 14, 'created': '2019-11-05 06:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3b25258cf2e1f61d0967832f18503be1e894e856', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 15, 'created': '2019-11-05 07:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e44057748f7fb5533cd703869e4fc0cd372a395', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 16, 'created': '2019-11-05 10:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9a06b93769c2fd5003faac048c9d226ff634333c', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 17, 'created': '2019-11-05 21:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbae780fa202bd8f64a74c20bd809ad1d9967886', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 18, 'created': '2019-11-05 21:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0e33a4f0690e46d8ee0ea3c478567ec49c26ee1', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}, {'number': 19, 'created': '2019-11-05 23:45:01.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-service.j2', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/start_order.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-timer.j2', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f8f0fc027ee2a03eef812d452746986ac7e57be', 'message': 'tripleo-container-manage: introduce concurrency\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nChange-Id: I1e5e941558c492b050e4db542703e322707dbbbd\n'}]",1,692629,2f8f0fc027ee2a03eef812d452746986ac7e57be,46,4,19,3153,,,0,"tripleo-container-manage: introduce concurrency

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Change-Id: I1e5e941558c492b050e4db542703e322707dbbbd
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/692629/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",5,b61967fe6943d3ee9554048f254df90869989b17,async," `null_value`. The returned dictionary will be composed of keys per attribute instance, where each key containing list of values with that attribute. This makes it possible to return a sorted list of items per attribute. ordered_dict = {} for d in dict_to_sort.items(): if d[1][attribute] not in ordered_dict: ordered_dict[d[1][attribute]] = [] ordered_dict[d[1][attribute]].append({d[0]: d[1]}) ordered_dict.items(), key=lambda x: x[0]"," `null_value`. This makes it possible to sort all items equally. dict_to_sort.items(), key=lambda x: x[1][attribute]",18,6
openstack%2Fmonasca-persister~master~Iae25b34ea282fcc3e7cf01147fd3e9093ee9a8a0,openstack/monasca-persister,master,Iae25b34ea282fcc3e7cf01147fd3e9093ee9a8a0,Support multiple kafka consumers,MERGED,2019-10-09 07:52:46.000000000,2019-11-06 15:47:57.000000000,2019-11-06 15:47:57.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-10-09 07:52:46.000000000', 'files': ['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ce964e4f8da4d31210673b7c8d2484af7e23d36e', 'message': 'Support multiple kafka consumers\n\nWe ues two monasca-persister components and two influxdb nodes.one\nfor collecting metrics and another for backup db.so kafka consumer\nshould hava different groupid option.\n\nChange-Id: Iae25b34ea282fcc3e7cf01147fd3e9093ee9a8a0\n'}]",0,687470,ce964e4f8da4d31210673b7c8d2484af7e23d36e,8,4,1,29970,,,0,"Support multiple kafka consumers

We ues two monasca-persister components and two influxdb nodes.one
for collecting metrics and another for backup db.so kafka consumer
should hava different groupid option.

Change-Id: Iae25b34ea282fcc3e7cf01147fd3e9093ee9a8a0
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/70/687470/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2']",3,ce964e4f8da4d31210673b7c8d2484af7e23d36e,kafka-consumer-multigroup,group_id = {{ KAFKA_ALARM_HISTORY_GROUP_ID }}group_id = {{ KAFKA_METRICS_GROUP_ID }},group_id = 1_alarm-state-transitionsgroup_id = 1_metrics,6,2
openstack%2Ftripleo-common~master~I1f15441ef31f530758f1588e8006cc6b17d3aeaf,openstack/tripleo-common,master,I1f15441ef31f530758f1588e8006cc6b17d3aeaf,Fix dynamic executor appending to objects,MERGED,2019-10-09 12:59:32.000000000,2019-11-06 15:14:46.000000000,2019-10-14 14:23:54.000000000,"[{'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-09 12:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8cc8e11cc3d92b66ddf3f911af1a154d2f2dd098', 'message': 'Fix dynamic executor appending to objects\n\nSet() has no the append() method.\nUnify the _objects to be always assigned a set and use add()\nin the image uploader locks manager.\n\nChange-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-10-09 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8568874238ef42853f96a5fb5d1765cd4f859e6a', 'message': 'Fix dynamic executor appending to objects\n\nSet() has no the append() method.\nUnify the _objects to be always assigned a set and use add()\nin the image uploader locks manager.\n\nChange-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-10-11 13:59:29.000000000', 'files': ['tripleo_common/utils/locks/threadinglock.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0b77267d5e974fcb1b759410a94bdb236e96852d', 'message': 'Fix dynamic executor appending to objects\n\nSet() has no the append() method.\nUnify the _objects to be always assigned a list.\nTake the safer remove() approach for the non-unique locks,\nif any happened in the image uploader locks manager.\n\nChange-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",7,687548,0b77267d5e974fcb1b759410a94bdb236e96852d,29,8,3,6926,,,0,"Fix dynamic executor appending to objects

Set() has no the append() method.
Unify the _objects to be always assigned a list.
Take the safer remove() approach for the non-unique locks,
if any happened in the image uploader locks manager.

Change-Id: I1f15441ef31f530758f1588e8006cc6b17d3aeaf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/687548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/locks/processlock.py', 'tripleo_common/image/image_uploader.py']",2,8cc8e11cc3d92b66ddf3f911af1a154d2f2dd098,bug/1847225, lock.objects().add(layer), lock.objects().append(layer),2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I027c64aefcc4715da17836a5cf0141152cf146aa,openstack/tripleo-heat-templates,stable/stein,I027c64aefcc4715da17836a5cf0141152cf146aa,Install and start Rsyslog on the Undercloud & Standalone,MERGED,2019-11-04 21:43:41.000000000,2019-11-06 15:07:22.000000000,2019-11-06 15:06:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 21:43:41.000000000', 'files': ['sample-env-generator/standalone.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'environments/undercloud.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'environments/standalone/standalone-tripleo.yaml', 'releasenotes/notes/rsyslog-5dc93db5eb8fc953.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'roles/Undercloud.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42ba2c65ef574603d7833b847d83356c4605d005', 'message': ""Install and start Rsyslog on the Undercloud & Standalone\n\nCreate a new Rsyslog service that is deployed on the host (not in a\ncontainer) and with Ansible.\n\nMake it so it's deployed by default on Undercloud & Standalone setups.\nAlso move the tasks that configure rsyslogd for HAproxy & Swift to be\nexecuted after the host prep tasks (using deploy step tasks).\n\nChange-Id: I027c64aefcc4715da17836a5cf0141152cf146aa\nCloses-Bug: #1850562\n(cherry picked from commit 5ff628f1cfb72a88e7414370e0f9083a206eb710)\n""}]",0,692912,42ba2c65ef574603d7833b847d83356c4605d005,17,5,1,3153,,,0,"Install and start Rsyslog on the Undercloud & Standalone

Create a new Rsyslog service that is deployed on the host (not in a
container) and with Ansible.

Make it so it's deployed by default on Undercloud & Standalone setups.
Also move the tasks that configure rsyslogd for HAproxy & Swift to be
executed after the host prep tasks (using deploy step tasks).

Change-Id: I027c64aefcc4715da17836a5cf0141152cf146aa
Closes-Bug: #1850562
(cherry picked from commit 5ff628f1cfb72a88e7414370e0f9083a206eb710)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/692912/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'sample-env-generator/standalone.yaml', 'environments/undercloud.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'environments/standalone/standalone-tripleo.yaml', 'releasenotes/notes/rsyslog-5dc93db5eb8fc953.yaml', 'deployment/logging/rsyslog-baremetal-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'roles/Undercloud.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",11,42ba2c65ef574603d7833b847d83356c4605d005,rsyslog, deploy_steps_tasks: - name: Configure rsyslog for swift-proxy when: step|int == 1 block: - name: Check if rsyslog exists shell: systemctl list-unit-files --type=service | grep -q rsyslog register: rsyslog_config failed_when: rsyslog_config.rc == 2 - block: - name: Forward logging to swift.log file copy: content: | # Fix for https://bugs.launchpad.net/tripleo/+bug/1776180 local2.* /var/log/containers/swift/swift.log & stop dest: /etc/rsyslog.d/openstack-swift.conf register: logconfig - name: Restart rsyslogd service after logging conf change service: name=rsyslog state=restarted when: - logconfig is changed when: - rsyslog_config is changed - rsyslog_config.rc == 0, - name: Check if rsyslog exists shell: systemctl list-unit-files --type=service | grep -q rsyslog register: rsyslog_config failed_when: rsyslog_config.rc == 2 - block: - name: Forward logging to swift.log file copy: content: | # Fix for https://bugs.launchpad.net/tripleo/+bug/1776180 local2.* /var/log/containers/swift/swift.log & stop dest: /etc/rsyslog.d/openstack-swift.conf register: logconfig - name: Restart rsyslogd service after logging conf change service: name=rsyslog state=restarted when: - logconfig is changed when: - rsyslog_config is changed - rsyslog_config.rc == 0,174,90
openstack%2Ftripleo-heat-templates~master~Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,openstack/tripleo-heat-templates,master,Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f,Do not run rendering all_nodes data as group_vars in check mode,MERGED,2019-11-05 13:13:29.000000000,2019-11-06 15:07:10.000000000,2019-11-06 15:06:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 13:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23555d8571e3462f2506c2a95132c1898b50d2e2', 'message': 'check_mode to false for rendering all_nodes data as group_vars\n\nWe don\'t want to run the ""Render all_nodes data as group_vars for overcloud""\ntasks in check mode, since it relies on the command ""whoami""; which\ndoesn\'t execute in check mode.\n\nChange-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f\n'}, {'number': 2, 'created': '2019-11-05 13:21:43.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/427e54164dd1369502aaca8993ec24671e192913', 'message': 'Do not run rendering all_nodes data as group_vars in check mode\n\nWe don\'t want to run the ""Render all_nodes data as group_vars for overcloud""\ntasks in check mode, since it relies on the command ""whoami""; which\ndoesn\'t execute in check mode.\n\nChange-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f\n'}]",0,692999,427e54164dd1369502aaca8993ec24671e192913,15,5,2,3153,,,0,"Do not run rendering all_nodes data as group_vars in check mode

We don't want to run the ""Render all_nodes data as group_vars for overcloud""
tasks in check mode, since it relies on the command ""whoami""; which
doesn't execute in check mode.

Change-Id: Ia8df4794fcf8eff9a2d5a8a7e99e0e5ebf1f8e1f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/692999/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,23555d8571e3462f2506c2a95132c1898b50d2e2,check, check_mode: false check_mode: false check_mode: false check_mode: false check_mode: false check_mode: false check_mode: false,,7,0
openstack%2Fpython-tripleoclient~master~I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,openstack/python-tripleoclient,master,I1a6b4df073b39924e6855ea865cfc856a1bdfe6b,Support undercloud fake-hardware ironic driver,MERGED,2019-10-08 01:44:20.000000000,2019-11-06 15:03:12.000000000,2019-11-05 05:34:34.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-08 01:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cf0240067b08be065d2631a3a8ae6fdd9e101196', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\n""}, {'number': 2, 'created': '2019-10-30 22:50:06.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3657d1dc8deb77a097d591cc30bfed89292265fa', 'message': ""Support undercloud fake-hardware ironic driver\n\nWhen including fake-hardware in the undercloud.conf\nenabled_hardware_types, some of the fake-hardware default interfaces\nare not enabled so it can't be used.\n\nThis change allows nodes to be created with driver fake-hardware. If\nthis proves useful for development or some scale testing then it might\nbe desirable to add fake-hardware by default to the\nenabled_hardware_types list.\n\nChange-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b\n""}]",3,687195,3657d1dc8deb77a097d591cc30bfed89292265fa,31,7,2,4571,,,0,"Support undercloud fake-hardware ironic driver

When including fake-hardware in the undercloud.conf
enabled_hardware_types, some of the fake-hardware default interfaces
are not enabled so it can't be used.

This change allows nodes to be created with driver fake-hardware. If
this proves useful for development or some scale testing then it might
be desirable to add fake-hardware by default to the
enabled_hardware_types list.

Change-Id: I1a6b4df073b39924e6855ea865cfc856a1bdfe6b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/687195/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,cf0240067b08be065d2631a3a8ae6fdd9e101196,fake-hardware," 'IronicEnabledDeployInterfaces': ['direct', 'iscsi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi'], 'irmc', 'xclarity', 'fake-hardware'] 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledDeployInterfaces': ['direct', 'fake', 'iscsi'],"," 'irmc', 'xclarity'] 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'],",16,6
openstack%2Fpython-novaclient~master~I8e6edf1e4c1bf12d51ed993363129b4f4c3aa36c,openstack/python-novaclient,master,I8e6edf1e4c1bf12d51ed993363129b4f4c3aa36c,Remove cells v1 and extension commands and APIs,MERGED,2019-10-04 01:13:23.000000000,2019-11-06 15:01:25.000000000,2019-10-09 18:01:16.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 01:13:23.000000000', 'files': ['novaclient/v2/cells.py', 'novaclient/v2/list_extensions.py', 'novaclient/tests/unit/v2/test_list_extensions.py', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/v2/shell.py', 'releasenotes/notes/remove-deprecated-cellsv1-extentions-commands-4b26c826ad5194ca.yaml', 'novaclient/v2/client.py', 'novaclient/tests/unit/v2/test_cells.py', 'doc/source/cli/nova.rst', 'novaclient/tests/functional/v2/legacy/test_readonly_nova.py', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/364cad41912e2c0f99a30f78b2835f3480a18d6e', 'message': 'Remove cells v1 and extension commands and APIs\n\nThe following CLIs and their backing API bindings\nwhich have been deprecated since 20.0.0 Train release\nhave now been removed.\n\n- list-extensions\n- cell-capacities\n- cell-show\n\nChange-Id: I8e6edf1e4c1bf12d51ed993363129b4f4c3aa36c\n'}]",2,686516,364cad41912e2c0f99a30f78b2835f3480a18d6e,13,4,1,7634,,,0,"Remove cells v1 and extension commands and APIs

The following CLIs and their backing API bindings
which have been deprecated since 20.0.0 Train release
have now been removed.

- list-extensions
- cell-capacities
- cell-show

Change-Id: I8e6edf1e4c1bf12d51ed993363129b4f4c3aa36c
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/16/686516/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/cells.py', 'novaclient/v2/list_extensions.py', 'novaclient/tests/unit/v2/test_list_extensions.py', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/v2/shell.py', 'releasenotes/notes/remove-deprecated-cellsv1-extentions-commands-4b26c826ad5194ca.yaml', 'novaclient/v2/client.py', 'novaclient/tests/unit/v2/test_cells.py', 'doc/source/cli/nova.rst', 'novaclient/tests/functional/v2/legacy/test_readonly_nova.py', 'novaclient/tests/unit/v2/test_shell.py']",11,364cad41912e2c0f99a30f78b2835f3480a18d6e,remove_deprecated_command,," def test_cell_show(self): _, err = self.run_command('cell-show child_cell') self.assert_called('GET', '/os-cells/child_cell') self.assertIn( 'The cells v1 interface has been deprecated. This command will be ' 'removed in the first major release after the Nova server 20.0.0 ' 'Train release.', err) def test_cell_capacities_with_cell_name(self): _, err = self.run_command('cell-capacities --cell child_cell') self.assert_called('GET', '/os-cells/child_cell/capacities') self.assertIn( 'The cells v1 interface has been deprecated. This command will be ' 'removed in the first major release after the Nova server 20.0.0 ' 'Train release.', err) def test_cell_capacities_without_cell_name(self): _, err = self.run_command('cell-capacities') self.assert_called('GET', '/os-cells/capacities') self.assertIn( 'The cells v1 interface has been deprecated. This command will be ' 'removed in the first major release after the Nova server 20.0.0 ' 'Train release.', err) ",8,421
openstack%2Fopenstack-ansible-repo_server~master~I2f15c009ea66e4e7b7459cfddfe85fb22d00e693,openstack/openstack-ansible-repo_server,master,I2f15c009ea66e4e7b7459cfddfe85fb22d00e693,Fix the format of the bugs link,MERGED,2019-11-04 08:48:59.000000000,2019-11-06 14:56:10.000000000,2019-11-06 14:55:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 08:48:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/9c6034d351b6264c2c1a5730a2f2adb59fcb459f', 'message': 'Fix the format of the bugs link\n\nFix the format of the bugs link to keep pace with other links.\n\nChange-Id: I2f15c009ea66e4e7b7459cfddfe85fb22d00e693\n'}]",0,692774,9c6034d351b6264c2c1a5730a2f2adb59fcb459f,9,3,1,23317,,,0,"Fix the format of the bugs link

Fix the format of the bugs link to keep pace with other links.

Change-Id: I2f15c009ea66e4e7b7459cfddfe85fb22d00e693
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/74/692774/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,9c6034d351b6264c2c1a5730a2f2adb59fcb459f,,`<https://bugs.launchpad.net/openstack-ansible/>`_,`<https://bugs.launchpad.net/openstack-ansible/>`,1,1
openstack%2Fopenstack-ansible-pip_install~master~I3f2f5894c9b35f7e9b4173f6e9c44332fe8020eb,openstack/openstack-ansible-pip_install,master,I3f2f5894c9b35f7e9b4173f6e9c44332fe8020eb,Update the source link to the lastest one,MERGED,2019-11-04 09:02:29.000000000,2019-11-06 14:53:43.000000000,2019-11-06 14:52:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 09:02:29.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/32046d423ec0b0bb36a447718f426def05a00ced', 'message': 'Update the source link to the lastest one\n\nChange-Id: I3f2f5894c9b35f7e9b4173f6e9c44332fe8020eb\n'}]",0,692776,32046d423ec0b0bb36a447718f426def05a00ced,8,3,1,23317,,,0,"Update the source link to the lastest one

Change-Id: I3f2f5894c9b35f7e9b4173f6e9c44332fe8020eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/76/692776/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,32046d423ec0b0bb36a447718f426def05a00ced,fix,"#pip_install_upper_constraints: ""https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt""","#pip_install_upper_constraints: ""http://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt""",1,1
openstack%2Fopenstack-ansible-nspawn_container_create~master~I489f7c180feb31b67fbb6d37b5ee5bc410e3a585,openstack/openstack-ansible-nspawn_container_create,master,I489f7c180feb31b67fbb6d37b5ee5bc410e3a585,Fix typos in the yml files,MERGED,2019-11-04 08:40:58.000000000,2019-11-06 14:53:30.000000000,2019-11-06 14:51:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-04 08:40:58.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/de324b2319ad9b7cb518d5a02408ddf80dbe3e07', 'message': 'Fix typos in the yml files\n\nChange-Id: I489f7c180feb31b67fbb6d37b5ee5bc410e3a585\n'}]",0,692773,de324b2319ad9b7cb518d5a02408ddf80dbe3e07,8,3,1,23317,,,0,"Fix typos in the yml files

Change-Id: I489f7c180feb31b67fbb6d37b5ee5bc410e3a585
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/73/692773/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,de324b2319ad9b7cb518d5a02408ddf80dbe3e07,fix,# pseudo variables are used to capture the container host,# psuedo variables are used to capture the container host,2,2
openstack%2Freleases~master~I27ffe8c69b1386aac70980df0b6849aeff4d39a0,openstack/releases,master,I27ffe8c69b1386aac70980df0b6849aeff4d39a0,Release mistral-lib for Ussuri,ABANDONED,2019-11-06 12:45:00.000000000,2019-11-06 14:49:02.000000000,,"[{'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 12:45:00.000000000', 'files': ['deliverables/ussuri/mistral-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c01431b8463ccd32d2d6192bf25c9ddee61d5e58', 'message': 'Release mistral-lib for Ussuri\n\nChange-Id: I27ffe8c69b1386aac70980df0b6849aeff4d39a0\n'}]",0,693174,c01431b8463ccd32d2d6192bf25c9ddee61d5e58,4,2,1,9712,,,0,"Release mistral-lib for Ussuri

Change-Id: I27ffe8c69b1386aac70980df0b6849aeff4d39a0
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/693174/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/mistral-lib.yaml'],1,c01431b8463ccd32d2d6192bf25c9ddee61d5e58,bug/1850843,releases: - version: 1.3.0 projects: - repo: openstack/mistral-lib hash: 283e064a4cd82ad9fef2e1643e371f2ba14a7ac9,,5,0
openstack%2Fopenstack-ansible-os_cinder~master~I0d113aa3d1c1eb89ce98f1cbc6febf9ac3173a7c,openstack/openstack-ansible-os_cinder,master,I0d113aa3d1c1eb89ce98f1cbc6febf9ac3173a7c,Fix typos in the yml files,MERGED,2019-11-05 08:33:38.000000000,2019-11-06 14:46:40.000000000,2019-11-06 14:45:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-11-05 08:33:38.000000000', 'files': ['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'releasenotes/notes/cinder-init-config-overrides-9e495aee023deed6.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/453166431ad317a7b5cfd814667a074e38c9b265', 'message': 'Fix typos in the yml files\n\nChange-Id: I0d113aa3d1c1eb89ce98f1cbc6febf9ac3173a7c\n'}]",0,692956,453166431ad317a7b5cfd814667a074e38c9b265,8,3,1,23317,,,0,"Fix typos in the yml files

Change-Id: I0d113aa3d1c1eb89ce98f1cbc6febf9ac3173a7c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/56/692956/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'releasenotes/notes/cinder-init-config-overrides-9e495aee023deed6.yaml']",2,453166431ad317a7b5cfd814667a074e38c9b265,fix, load extra options into the defaults and pollute the generic, load extra options into the defaults and polute the generic,2,2
openstack%2Ftripleo-heat-templates~master~I03754206781bc8f62d143b2c541f594ca3207a0f,openstack/tripleo-heat-templates,master,I03754206781bc8f62d143b2c541f594ca3207a0f,Move bootstrap password to an environment var,MERGED,2019-11-05 00:02:16.000000000,2019-11-06 14:44:21.000000000,2019-11-06 06:27:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 00:02:16.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/068527d139b4b521782873fdd97ac46cb10b0885', 'message': 'Move bootstrap password to an environment var\n\nCurrently if you try to use a space in the keystone password, the\nbootstrap process fails due to the password being evaulated as command\nline arguments. We can work around this by using an environment var to\npass the password to the script that needs to be run.\n\nChange-Id: I03754206781bc8f62d143b2c541f594ca3207a0f\nCloses-Bug: #1811005\n'}]",0,692932,068527d139b4b521782873fdd97ac46cb10b0885,12,5,1,14985,,,0,"Move bootstrap password to an environment var

Currently if you try to use a space in the keystone password, the
bootstrap process fails due to the password being evaulated as command
line arguments. We can work around this by using an environment var to
pass the password to the script that needs to be run.

Change-Id: I03754206781bc8f62d143b2c541f594ca3207a0f
Closes-Bug: #1811005
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/692932/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,068527d139b4b521782873fdd97ac46cb10b0885,bug/1811005," # NOTE(mwhahaha): We use $$ because we're executing in python to # call as shell script and passing the command to run as arguments # to that shell script. So when it is called via eval, the escaped # $ properly evaulates command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', '$$KEYSTONE_BOOTSTRAP_PASSWORD' ] KEYSTONE_BOOTSTRAP_PASSWORD: {get_param: AdminPassword}"," command: [ 'keystone', '/usr/bin/bootstrap_host_exec', 'keystone' ,'keystone-manage', 'bootstrap', '--bootstrap-password', {get_param: AdminPassword} ]",6,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I28eaf9be8c422622a6ad2e61d4952d32226037bf,openstack/openstack-ansible,stable/train,I28eaf9be8c422622a6ad2e61d4952d32226037bf,Bump SHAs for stable/train,MERGED,2019-11-05 14:06:30.000000000,2019-11-06 14:19:05.000000000,2019-11-06 14:16:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 14:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f144bd780d747cbe4805e46b141c385635549640', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I28eaf9be8c422622a6ad2e61d4952d32226037bf\n'}, {'number': 2, 'created': '2019-11-05 16:55:09.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce1287aaecfbe62c3cd93490ccf8d1a6c5331314', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I28eaf9be8c422622a6ad2e61d4952d32226037bf\n'}]",0,693008,ce1287aaecfbe62c3cd93490ccf8d1a6c5331314,9,3,2,28619,,,0,"Bump SHAs for stable/train

Change-Id: I28eaf9be8c422622a6ad2e61d4952d32226037bf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/693008/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'ansible-role-requirements.yml']",5,f144bd780d747cbe4805e46b141c385635549640,bump_osa, version: bcc01356db1c94076fb986c88ed90b64d833623a version: a7b0ff27a6ca51c54461343cfb2035fcb6b68ca9 version: 420f532335230992052289a2abbee5380174b9af version: 2eb65510149a1fe83d706bbfe761336ebc795903 version: 59da7636d67915d5294f5cd609f7c642df260c44 version: c4649da9ccc8a26f0716b485e2a0de11e6185a66 version: 1c62afa2937452eb469d841590988b92abcf6c24 version: 346a4cc81a82793f083d55cf5cd0aa440ddb8b22 version: 69103ff82ba7acaa6b51ffce96d1f67e2b398664 version: bf3e7da31e0574d25b94ea965a3896e6a4043e84 version: d9dfb711ee631da07d34667b9b0022c92b7492b9 version: ddd55f0f1e40d14369579c1a415b4118a946959e version: 61d74c3b78fb96fdfd8e9ccd954b91a477a0b285 version: cf60654911ef2e55e869f06b4b0630b5d1a9acd2 version: 48a8471c2818dcdfe366e900509a65a943f17658 version: b98ec2d9b3f1027f377bd9b4c219579203dc7b57 version: 52f76e7f8b6a29d28a2256a61a151487c2bb7306 version: ddfc8881f415e484f86838140799cec8c80f11c2 version: 3f86ed39429807691877d115bca53ea898c4cd99 version: 6a150661420a0d92dde28ab18fd201ef1835fcd8 version: 2c21a4c4c86369691bcf91d563b2b3e8d9f7d4ed version: 9e4109ea28e97a926b6c8c2679aae77893cc5209 version: f0ba5301bf15eb22a3d97a1e93d4c2e9e739cb3d version: 0cae2f05943c67bfcf559cd6325b548cfbed8c10 version: ba59391eca583d5608df19c5aa1ed604fbdc6d7d version: e43877e11c3ec97b745f7335dfe3aedefc6edba6 version: 03d7b7d987b652e512e91aa874fed9b54bcbea0b version: 50d45d0fd676b5974707c12f9d8a94432e26b87c version: 3d5a5164ff6883161b035e9b18510532be9d612a version: a1f8a11ad0aa9921da59a0d3578b01b4f5ee586a version: e649dd6620bb25d041262f1893022394db0690e5 version: 61eb9edeb25243059462a999b428baa18fe782fe version: 2b88b811159ce3f9f51f1bdf39c211b38bf7f83a version: c42b0d95ff4ab8c4ca00404df04f2eaaff431c9c version: ab6e854f772c832132c8652e66015e8bda181a47 version: fa3a79dc4779f07cf068a880225e6d309d73fa35 version: ba565d0a072c7e1fd6efafa928940744e4bca882 version: 455d7ac65e2589142fe2d25e8a8ff90e160cdfd8 version: 3085786a60ef7a675fd9e829674fe46019d914a8 version: 25823d8e8268392c93320d2512bd3e4a6f8d3151 version: 6a3f43cceb9b15a39b16f7dc9e73b2e7a69bce6d version: a339b1a6d4da8561850d87264929c9979c2746dd version: 5a040a60cc7c97f61d260d7b62031f27bcb49775 version: a70e012d1cb88b0fbc59d49cc96eee2e410ba2e0 version: 606f752cf61f3c48af1f624ad440d117c14546cf version: f419bf780884f5c7b56558fc7a37de34405a23df version: 54365389f816ec9285063a5d976c6d9ac350afa0 version: a88a076b60882671b82e2631915478dea739e810 version: 508700cd8afe80460cf0ef515cf740586e2d78e9 version: 66c43f1702d162ca5223773b71f8e7613dde7321 version: 56a432a4dac9001d3a511414a4f2764f9fd587e0 version: 43da0e9d58e65043358b260949c6b18baac63288 version: bbcdac0f267a0915fa4a4eeacad7ccf61a24ec44 version: 07dca947a723d8f7a67ce0adc56b3ed75c25b7ae, version: 9cfc60f3072558e54231d978e5c49b514ffcfa03 version: c469744a99fc8c6f13af2692df46c920d46d9693 version: c0f11db478985619cab26b8a6b3193cb86b7fcaa version: 7132d760bee431635855559596803a6f80aa3090 version: 21f85fae9a8d3113137acef81c728fd347688d7a version: 500398b8195fed344ed376f7c518e8cf7bae56c2 version: 8bbfc283d9bc07fb7ae63168844a01146d4f8697 version: a53247e5a8177f77a575196502396fd0012a5c74 version: 23c6e8525986b0635f0d8c55a3757ec57fb1b29e version: 88bc0fade74cb2eae04ff50e6b11b1e326bf66de version: d71b439ba2708dc333a2733dbc1a828ee75b4137 version: aac229121fe87422b018716f6e04ad235d8a695e version: c24af1a2b9c228e2b0a3b54d5e70fed3ca35217d version: b633e2127bf3e548a73155e7d3598adb52f60aa4 version: 1c6095ff02e2c19cc7445ad5fc485e366fcbbaaa version: 23ed64b6fce0af1ba9e6290a1fdd8544ea98e089 version: 9906ecd5bdf592a2233ffdcce4bcc35931488724 version: 402f4f43f4401539c6ba8354ec4e39802abca891 version: 6ff69c6f5632f00258e06f137b3cd83c1e31ac47 version: 629a0e00cbe2ca8836c52d90036fe249d2426519 version: d1c03539b8e4969a27047c416de09a835945dd9d version: e4babdd7c838e3a26c15daa84c9c0f0391c307d8 version: 728666c9de1f835ecc2648a2a1abb43e47501031 version: b7d1f7e26115758507e649e8542cc9d126fe152e version: 089a1bd3455052be2f0b65cffda814bafc8933f7 version: abb576246cfa2802719914355e35928ec85a6ec2 version: acc94725e34122496b602709213a5eef9c8e8690 version: f5c1defc5a7387dee55470f18d7195937fb014c0 version: fd002ac32bf989f90d1614dfb93b4848d4ff001d version: 2f1b789e06b3e91201ca312c81c9d2a17fc322f8 version: 8bd5fda366680682163aad65bce02deab36c436b version: 942a245af6cea7de2c056ad1fe6178b61a812908 version: bf7140aa240537d0964c32b6a3b36ff2b2a98d07 version: 34d33864b67da87f3d5659bacbaaa71264e59d20 version: 2e31110da3c2bbd520b94c4a9c2d454b00f8b268 version: 1f404d558cfb1235dc7e5c91cefba3ee390081dc version: 97790114dc89ed1b726b396dc37a2240b2508350 version: fbb709dc96909697ae28b7a4c4bfcfa2beb4f19e version: b0faac7e9ebb23109077d1ca7687fb939019b870 version: 96821b4ba9ceda23d990422fda508f65be23242d version: 24fe4789c89ca822bea3b3f01fa889f6b32002e4 version: 99d0f00060b67498b20e8e7588156592dfa427ec version: 2332b70d4d1eec224aa833848fd2e7803ef07257 version: 03ce118a8d3a1ddcf41bb8267e2056419bd2e6b5 version: bd77b290e5112fbffc5983424603764d294b91c5 version: df00bf7f03858915833bcf1b31b78f9e3f1d76d9 version: 021c55530765395b6291c0befc7feaccb46546ca version: b7861939fe58dd87d386c43a26b584e1a4488bf8 version: 11594a85aeb82159b5f5e267b861c8f6374e50c1 version: 83bff1a16ff2a182943bdc1c6157ee6b0823ad3f version: 6acf8cb6589ce3e04511c3e8d2484d118c12e8f0 version: 658b32023d08e525e7b40b30c1b2dd8e41f9ed71 version: 8e13d0d0144cd5ad45b2ac4cd8381174be435d82 version: b88d50704b9912011ef039a3c62808c228e4d4b8,105,100
openstack%2Fopenstack-ansible~stable%2Fstein~I64eb813984b3cd880750f1c7e229eed99784b871,openstack/openstack-ansible,stable/stein,I64eb813984b3cd880750f1c7e229eed99784b871,Bump SHAs for stable/stein,MERGED,2019-11-05 13:33:14.000000000,2019-11-06 14:18:52.000000000,2019-11-06 14:16:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 13:33:14.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6c3170d691f93549061b20235f07db9df32c7312', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I64eb813984b3cd880750f1c7e229eed99784b871\n'}]",0,693002,6c3170d691f93549061b20235f07db9df32c7312,11,4,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: I64eb813984b3cd880750f1c7e229eed99784b871
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/693002/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'releasenotes/notes/keystone-openrc-v2-show-0bbfc8ab1dba8bd6.yaml', 'ansible-role-requirements.yml']",6,6c3170d691f93549061b20235f07db9df32c7312,bump_osa, version: 1c62afa2937452eb469d841590988b92abcf6c24 version: fef5f363a026e8aec7ea36cc73dcf441e34a19de version: 7781f24af089276d7fb1252ccaead6b6a9afa355 version: 526ec716bc6095c42cb15c99833c484e4e341063 version: c7ffaaafb416b697af1f67ef985f012db3078f53 version: 283a521d926f67da6c1208723a5e3739e0209068 version: 09dd59c605177db5b9c9a334368cc7920b53600a version: a9b62692412426cc3e3f0f296c02f531a6c51d3c version: 1e9804858ae52ce7e8edc1cf9684e45343783e84 version: b774f0e62f17d0337cc401ad69664bccc48a8813 version: 4f7f314985fd50b6dc82806ba739b1c299a29758 version: 8722c79429b772eac70b4fe25ffbb5900d252be6 version: 7316b92e6ab0ad5030297f95a46400f68013f1d9 version: 665d1a36017da9d67f3aca4085afa1c626999236 version: 63718a4b3adac3668c7c3bc8f16d0ba988a9283c version: e8ed6655f3e5ce9e13216ec7663fe40f1197f9b7, version: 8bbfc283d9bc07fb7ae63168844a01146d4f8697 version: 32ede70043039fca1e5ac2e966d07d827e43a14f version: 7b7eb80326e775d0b40800e582918d96ff124061 version: 9ce64abdba5e4dd75c68802b6b8fde0b467477cb version: 8cff00487f2ece76bcb8ccb36b6645eb76da35df version: eccb5c13fec9d9efcccb821dbcf0f344cd515eec version: 362f638334bf52110199fb9778c7206872d90dcd version: d47ff1dc7e216c1bb626382ecdd8d6d4e4e43a08 version: e1f942c7651cb7c062a9d633cf42a16358684e59 version: 565df6e3941330da908373e9c1c757a9ff7565ba version: 813328058f29a0853f37b100c1164553e9220bcf version: e5a093e019c86400c6f280f358cdb0d04f6857d7 version: 4e30ba6692337d02632b1749b97a5b563f11ff8a version: 922f2d79d78ea1396db1b317259a0dfd687218f2 version: d456e24f7469c3072bfe81bbd06630afc8c517e5 version: 52bba29a7ff953a69a73f7bb994bb46f1d02919c,75,65
openstack%2Fopenstack-ansible~stable%2Fpike~Ie847c61e03d23c2d2af66d9250e5862fe82bdd02,openstack/openstack-ansible,stable/pike,Ie847c61e03d23c2d2af66d9250e5862fe82bdd02,Bump SHAs for stable/pike,MERGED,2019-10-20 15:15:29.000000000,2019-11-06 14:16:38.000000000,2019-11-06 14:16:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-10-20 15:15:29.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d0ea106810a9ead5a92403a7bbe16a5b1d46141', 'message': 'Bump SHAs for stable/pike\n\nChange-Id: Ie847c61e03d23c2d2af66d9250e5862fe82bdd02\n'}]",0,689652,9d0ea106810a9ead5a92403a7bbe16a5b1d46141,11,3,1,17068,,,0,"Bump SHAs for stable/pike

Change-Id: Ie847c61e03d23c2d2af66d9250e5862fe82bdd02
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/689652/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,9d0ea106810a9ead5a92403a7bbe16a5b1d46141,bump_osa, version: 72ac0ad58642528bf7bccde799f7456a1079ab68 version: d72772b4aefab352eeb7f6f25764059b15ecedfb version: 3674d03d97b5cf65fa07b0325bc06397953b3585 version: 54c67bc17e78c68922604088a0634b0eec2f8f9b version: 6cb02e317cf723686e99e4985770d23bcac0c898 version: be247ba507ccbfec6c71e964ea35dc450f9708b9 version: eda0e0d8c035932568cb70619712aa2f6237647c version: 28b28d54316a2c56fe5b5035236438a7aa3e8fdd version: 0168d5b607cb5ae34684b0835432a6f51d43b88e version: fb078647cb81433f8136281d5d83ce953e8fa175 version: 7640644df40b32fa7007251def780558a134808d version: 0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e version: b8c07ccbe929adb4da6125a32a0523c52f70c90b version: 5276faa18427171fc1e6530acb1e0a8ab0f8bed1 version: cf5c79a760e711e7fd47ed960b2577e2104cf768 version: 3ce8acdd1637992c8c9abdd82f05c2069eea04c4 version: e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3 version: 7248c8acdf453e0393b730817660479c0cc180f1 version: 6cfced89d58f47c5057cd7122746a4c063252278 version: ee662941d5db670f358b4e09e7df731d799e6884 version: 8904b23a051d24cd4ef6ed7b5a33efe42ba3186b version: cc7849bd0ecfee4a8907f71a91313c66427a3ce3 version: 30155d70aa659e6177b79244f69e5839d1f6e550 version: 7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516 version: 86567389c10f02038e0f020c0d6cb326a771fbac version: 71f737efc55c7589ec47ba3520539fe0fd0be1b9 version: 857f2eb12a0bc35c9e5c1a513965018d806e5c96 version: e0996d29ddef9537c46616ab3053e3502207c030 version: 895560c9603626c243185dbf6540b7bc14412908 version: 2c2dfceec20042c97bbad6a4a52034bca2136d56, version: d1cff88d86447ba73dee92804d2d288da26be465 version: 3a8015ebd28155334a791348dab5333243721e5f version: e346cad7ed8a99bc07e65e8d98df24b3c7570e8b version: b59c907f641ecd066fa0c8c3d842444b7175ff80 version: 1204cbb1637dc039c545f8317079faeeb892ec2d version: a90c8153233dc992255e1cd4ad3ffd1ffd3acf7a version: 12793c336ba7680fe35f93c56552942761fb50d9 version: 5ab3049dbb0ab19ef6f67cf4a63080cd7b691a7b version: c5253cc68a8e3bfb8f97372dd76734c1aa7f6e97 version: a026d7e5bf266f1099e38b360419492c56e60f30 version: 5cc082ecf981f1443f34a7bf685f63532415b0b4 version: 8df05d94f2b1a9bcd89e24903514fb8569b8b1af version: b4acc75816e8481adb5cfc006a5e8b1299e25e76 version: 9c8768dc5382052d0a6b0d95fc7406bdb875be2a version: d903264841508ec99800356c9cf43ec7800a33ad version: 7f3a396e379931c6d8ac66d77e96d88c1a29e5e8 version: 52b6c4f034d9b34b1a758fbbae17c321ed926781 version: 953ac1e89a367909bbefc1b88ed7d2f6464b1d33 version: 97f141c959305f840eb51504ab6e7b037e90ab55 version: 8eacf470aef0ccaac2c6adb01dd5fe4c2d101732 version: 954a16fd64fddcca6ab1ed4af790a7063f5beb6d version: 1ed8ebd92dc4de95d554b0743860dc0abc155915 version: 8c7201b204288ff9edaee6f6889ac414f86b0311 version: b76e77672bcdef2adb32d56b8a51b41f4c578606 version: dae3c01b63b1a2e64e74a8fabda664e00ff1c095 version: aabf16c83c8442cad1a79e0285abe8d1e85af4ef version: 4dcdeb18ce21b781782fd09d8380d228b80acd9b version: 76b627988d1562719443a85517c425f209ca908d version: d11d1d6f564c3f9b624f8c4021b06e7c6a161178 version: e30379a6e2410dd08a34f0dcc44e8402837bc2c7,63,63
openstack%2Ftripleo-heat-templates~master~I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,openstack/tripleo-heat-templates,master,I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe,Fix container-puppet tool standalone for podman,MERGED,2019-07-10 14:21:17.000000000,2019-11-06 14:15:54.000000000,2019-07-11 16:37:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-10 14:21:17.000000000', 'files': ['common/container-puppet.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1fda5e8bb90e6aa505d9989b31574fcd5defe31', 'message': 'Fix container-puppet tool standalone for podman\n\nDo not repeat volume mounts twice, do not use network, when it is not\nrequired. Make podman CLI happy with defaults, when running the tool\nwith a minimalistic environment, like:\n\nSTEP=2 DEBUG=true CONFIG=foo-tasks.json ./common/container-puppet.py\n\nChange-Id: I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,670069,b1fda5e8bb90e6aa505d9989b31574fcd5defe31,13,8,1,6926,,,0,"Fix container-puppet tool standalone for podman

Do not repeat volume mounts twice, do not use network, when it is not
required. Make podman CLI happy with defaults, when running the tool
with a minimalistic environment, like:

STEP=2 DEBUG=true CONFIG=foo-tasks.json ./common/container-puppet.py

Change-Id: I8392dc3452ff71bf9ae4aea7ef36a26ffca9b5fe
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/670069/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.py'],1,b1fda5e8bb90e6aa505d9989b31574fcd5defe31,happy-podman,"PUPPETS = '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro' cli_dcmd = ['--volume', PUPPETS] '--volume', PUPPETS]if (os.environ.get('MOUNT_HOST_PUPPET', 'true') == 'true' and PUPPETS not in cli_dcmd): cli_dcmd.extend(['--volume', PUPPETS]) else: log.debug('running without containers Networking') dcmd.extend(['--net', 'none'])"," cli_dcmd = ['--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro'] '--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro']if os.environ.get('MOUNT_HOST_PUPPET', 'true') == 'true': cli_dcmd.extend(['--volume', '/usr/share/openstack-puppet/modules/:/usr/share/openstack-puppet/modules/:ro'])",10,4
openstack%2Fneutron~master~Ifc565feb98c7f02df5c2831a3607c3e526a2e703,openstack/neutron,master,Ifc565feb98c7f02df5c2831a3607c3e526a2e703,Retry creating iptables managers and adding metering rules,MERGED,2019-06-22 21:53:54.000000000,2019-11-06 14:11:38.000000000,2019-07-19 19:33:04.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28655}]","[{'number': 1, 'created': '2019-06-22 21:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dab6c11372c44f15bb2879d74dbd3208e98a4110', 'message': 'Retry creatingg iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n'}, {'number': 2, 'created': '2019-07-06 15:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cf109ddc59e05f92d1b62313eb3e9e58df3a3d6', 'message': 'Retry creatingg iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n'}, {'number': 3, 'created': '2019-07-09 08:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07427a3f99cbc25ec93f10c2493d5c1b96c04ee4', 'message': 'Retry creating iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n'}, {'number': 4, 'created': '2019-07-13 12:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37205dc992417d0ef29b4cfc0efa8d006dbf8fb1', 'message': 'Retry creating iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n'}, {'number': 5, 'created': '2019-07-13 13:10:46.000000000', 'files': ['neutron/services/metering/drivers/abstract_driver.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/services/metering/drivers/iptables/iptables_driver.py', 'neutron/services/metering/drivers/noop/noop_driver.py', 'neutron/tests/unit/services/metering/drivers/test_iptables.py', 'neutron/tests/unit/services/metering/agents/test_metering_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f541521bbbcf36325bfc250e3ce27a138ddef3c', 'message': 'Retry creating iptables managers and adding metering rules\n\nThis change makes the metering agent retry creating the iptables\nmanagers for each router and applying the metering rules.\nThis is needed in case the metering agent starts before some or all of\nthe namespaces are created.\n\nChange-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703\nCloses-Bug: #1807153\n'}]",4,666970,9f541521bbbcf36325bfc250e3ce27a138ddef3c,33,7,5,28655,,,0,"Retry creating iptables managers and adding metering rules

This change makes the metering agent retry creating the iptables
managers for each router and applying the metering rules.
This is needed in case the metering agent starts before some or all of
the namespaces are created.

Change-Id: Ifc565feb98c7f02df5c2831a3607c3e526a2e703
Closes-Bug: #1807153
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/666970/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/metering/drivers/iptables/iptables_driver.py'],1,dab6c11372c44f15bb2879d74dbd3208e98a4110,fix-race-condition-in-metering," self.metering_labels = {} self.create_iptables_managers() def create_iptables_managers(self): """"""Creates iptables managers if the are not already created Returns True if any manager is created """""" created = False if self.router['distributed'] and self.snat_iptables_manager is None: created = True if self.iptables_manager is None: # Check of namespace existence before we assign the # iptables_manager # NOTE(Swami): If distributed routers, all external traffic on a # compute node will flow through the rfp interface in the router # namespace. if ip_lib.network_namespace_exists(self.ns_name): self.iptables_manager = iptables_manager.IptablesManager( namespace=self.ns_name, binary_name=WRAP_NAME, state_less=True, use_ipv6=ipv6_utils.is_enabled_and_bind_by_default()) created = True return created # In case the selected manager is None pick another one. # This is not ideal sometimes. old_rm_im = (old_rm_im or old_rm.snat_iptables_manager or old_rm.iptables_manager) if old_rm_im: with IptablesManagerTransaction(old_rm_im): self._process_disassociate_metering_label(router) if gw_port_id: self._process_associate_metering_label(router) # NOTE(bno1): Sometimes a router is added before its namespaces are # created. The metering agent has to periodically check if the # namespaces for the missing iptables managers have appearead and # create the managers for them. When a new manager is created, the # metering rules have to be added to it. if rm.create_iptables_managers(): self._process_associate_metering_label(router) "," if self.router['distributed']: # Check of namespace existence before we assign the iptables_manager # NOTE(Swami): If distributed routers, all external traffic on a # compute node will flow through the rfp interface in the router # namespace. if ip_lib.network_namespace_exists(self.ns_name): self.iptables_manager = iptables_manager.IptablesManager( namespace=self.ns_name, binary_name=WRAP_NAME, state_less=True, use_ipv6=ipv6_utils.is_enabled_and_bind_by_default()) self.metering_labels = {} with IptablesManagerTransaction(old_rm_im): self._process_disassociate_metering_label(router) if gw_port_id: self._process_associate_metering_label(router)",51,16
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I523743d2b7cbfb906a30c91c232d3bb937907456,openstack/tripleo-heat-templates,stable/train,I523743d2b7cbfb906a30c91c232d3bb937907456,"Fix ""neutron-mlnx-agent.yaml"" to use the new Role ComputeSriovIB",MERGED,2019-11-04 10:54:06.000000000,2019-11-06 13:59:05.000000000,2019-11-06 13:59:05.000000000,"[{'_account_id': 3153}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}, {'_account_id': 25241}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-04 10:54:06.000000000', 'files': ['environments/services/neutron-mlnx-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbbac78df0c4ed8b1e02a1a7544df98c052dca3b', 'message': 'Fix ""neutron-mlnx-agent.yaml"" to use the new Role ComputeSriovIB\n\nChange-Id: I523743d2b7cbfb906a30c91c232d3bb937907456\n(cherry picked from commit 98eeb132803dd7517d73f0a325c47984908c5bb4)\n'}]",0,692797,dbbac78df0c4ed8b1e02a1a7544df98c052dca3b,16,8,1,22948,,,0,"Fix ""neutron-mlnx-agent.yaml"" to use the new Role ComputeSriovIB

Change-Id: I523743d2b7cbfb906a30c91c232d3bb937907456
(cherry picked from commit 98eeb132803dd7517d73f0a325c47984908c5bb4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/692797/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/neutron-mlnx-agent.yaml'],1,dbbac78df0c4ed8b1e02a1a7544df98c052dca3b,, ComputeSriovIBParameters:, ComputeSriovParameters:,1,1
openstack%2Fsahara-plugin-mapr~stable%2Fstein~I23c8d14dce45d003fdfb58fed6591e937b27abab,openstack/sahara-plugin-mapr,stable/stein,I23c8d14dce45d003fdfb58fed6591e937b27abab,Fixing image creation,MERGED,2019-11-06 13:35:46.000000000,2019-11-06 13:55:15.000000000,2019-11-06 13:54:12.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-06 13:35:46.000000000', 'files': ['sahara_plugin_mapr/plugins/mapr/resources/images/image.yaml', 'sahara_plugin_mapr/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/24e39c247da67b92393df7c0eafa44aac73e02d5', 'message': 'Fixing image creation\n\nUpdating image creation to keep compatibility with some package changes.\n\nStory: #2006752\nTask: #37236\nChange-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab\n(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)\n'}]",0,693180,24e39c247da67b92393df7c0eafa44aac73e02d5,7,2,1,10459,,,0,"Fixing image creation

Updating image creation to keep compatibility with some package changes.

Story: #2006752
Task: #37236
Change-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab
(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/80/693180/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_mapr/plugins/mapr/resources/images/image.yaml', 'sahara_plugin_mapr/plugins/mapr/resources/images/centos/configure_hue']",2,24e39c247da67b92393df7c0eafa44aac73e02d5,, rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-compat-$MARIADB_VERSION-1.el7.centos.x86_64.rpm fi , rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi,2,3
openstack%2Fsahara-plugin-mapr~stable%2Ftrain~I23c8d14dce45d003fdfb58fed6591e937b27abab,openstack/sahara-plugin-mapr,stable/train,I23c8d14dce45d003fdfb58fed6591e937b27abab,Fixing image creation,MERGED,2019-11-04 23:45:45.000000000,2019-11-06 13:28:44.000000000,2019-11-06 13:27:35.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-11-04 23:45:45.000000000', 'files': ['sahara_plugin_mapr/plugins/mapr/resources/images/image.yaml', 'sahara_plugin_mapr/plugins/mapr/resources/images/centos/configure_hue'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/a7b37aac861c515aa073d02fe34f06e497ca4acb', 'message': 'Fixing image creation\n\nUpdating image creation to keep compatibility with some package changes.\n\nStory: #2006752\nTask: #37236\nChange-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab\n(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)\n'}]",0,692925,a7b37aac861c515aa073d02fe34f06e497ca4acb,9,3,1,10459,,,0,"Fixing image creation

Updating image creation to keep compatibility with some package changes.

Story: #2006752
Task: #37236
Change-Id: I23c8d14dce45d003fdfb58fed6591e937b27abab
(cherry picked from commit 2cf6806c1829bf1ac0915f78ec319f07967f254b)
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/25/692925/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_mapr/plugins/mapr/resources/images/image.yaml', 'sahara_plugin_mapr/plugins/mapr/resources/images/centos/configure_hue']",2,a7b37aac861c515aa073d02fe34f06e497ca4acb,fix_image_creation, rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-compat-$MARIADB_VERSION-1.el7.centos.x86_64.rpm fi , rpm -ivh --nodeps http://yum.mariadb.org/$MARIADB_VERSION/rhel7-amd64/rpms/MariaDB-$MARIADB_VERSION-centos73-x86_64-compat.rpm fi,2,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~I4d846b7704e22d1ae58163d413c86dd01ff3563c,openstack/openstack-ansible-rabbitmq_server,master,I4d846b7704e22d1ae58163d413c86dd01ff3563c,Ansible  'search' is a test not a filter,MERGED,2019-11-05 17:55:01.000000000,2019-11-06 13:13:57.000000000,2019-11-06 13:08:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 17:55:01.000000000', 'files': ['tests/test-rabbitmq-functional.yml', 'tasks/rabbitmq_upgrade_check.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0', 'message': ""Ansible  'search' is a test not a filter\n\nOlder ansible versions used search as a filter but this is no longer\nvalid, and search should be used as a test\n\nChange-Id: I4d846b7704e22d1ae58163d413c86dd01ff3563c\n""}]",0,693061,95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0,9,3,1,28619,,,0,"Ansible  'search' is a test not a filter

Older ansible versions used search as a filter but this is no longer
valid, and search should be used as a test

Change-Id: I4d846b7704e22d1ae58163d413c86dd01ff3563c
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/61/693061/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-rabbitmq-functional.yml', 'tasks/rabbitmq_upgrade_check.yml']",2,95bd648ef0d34b3b690cc378fc1cd1b5f41c95f0,, - not installed_rabbitmq.stdout is search(rabbitmq_package_version), - not installed_rabbitmq.stdout | search(rabbitmq_package_version),2,2
openstack%2Fopenstack-ansible-galera_server~master~I23811cfaf23007c5da1860e78397be380d67403b,openstack/openstack-ansible-galera_server,master,I23811cfaf23007c5da1860e78397be380d67403b,Restart mysql when package is installed,MERGED,2019-11-05 16:32:04.000000000,2019-11-06 12:45:01.000000000,2019-11-06 12:43:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 16:32:04.000000000', 'files': ['tasks/galera_install_yum.yml', 'tasks/galera_install_zypper.yml', 'tasks/galera_install_portage.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/efc965f00fc515a46d03fcf22270ebc7bb8e4791', 'message': ""Restart mysql when package is installed\n\nWhen running galera_server role with galera_upgrade=true\nit uninstalls mariadb and installs again. In some distros, like CentOS,\nmariadb don't start automatically after installation, so upgrade fails.\n\nThis patch adds handler on packsage installation, which will be\ntriggered when package state is changed.\n\nChange-Id: I23811cfaf23007c5da1860e78397be380d67403b\nRelated-bug: 1628720\n""}]",0,693043,efc965f00fc515a46d03fcf22270ebc7bb8e4791,12,4,1,28619,,,0,"Restart mysql when package is installed

When running galera_server role with galera_upgrade=true
it uninstalls mariadb and installs again. In some distros, like CentOS,
mariadb don't start automatically after installation, so upgrade fails.

This patch adds handler on packsage installation, which will be
triggered when package state is changed.

Change-Id: I23811cfaf23007c5da1860e78397be380d67403b
Related-bug: 1628720
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/43/693043/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_install_yum.yml', 'tasks/galera_install_zypper.yml', 'tasks/galera_install_portage.yml', 'tasks/galera_install_apt.yml']",4,efc965f00fc515a46d03fcf22270ebc7bb8e4791,bugs/1628720, notify: - Manage LB - Restart all mysql ,,13,0
openstack%2Fkolla~stable%2Ftrain~If6f05237c2512c643857765eecf452f5416b3d60,openstack/kolla,stable/train,If6f05237c2512c643857765eecf452f5416b3d60,Limit centos repo disable to centos hosts only,MERGED,2019-11-06 10:17:07.000000000,2019-11-06 12:30:31.000000000,2019-11-06 12:28:04.000000000,"[{'_account_id': 10969}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-06 10:17:07.000000000', 'files': ['docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4a97f3507aca21c73d09624bb48307b39d66a10f', 'message': 'Limit centos repo disable to centos hosts only\n\nRun dnf or yum to disable centos repos only if used on centos\nmachine.\n\nCloses-Bug: #1851135\nChange-Id: If6f05237c2512c643857765eecf452f5416b3d60\n(cherry picked from commit e4b37201a596dbe242887ba51d7092eaed11a0cf)\n'}]",0,693150,4a97f3507aca21c73d09624bb48307b39d66a10f,8,4,1,14826,,,0,"Limit centos repo disable to centos hosts only

Run dnf or yum to disable centos repos only if used on centos
machine.

Closes-Bug: #1851135
Change-Id: If6f05237c2512c643857765eecf452f5416b3d60
(cherry picked from commit e4b37201a596dbe242887ba51d7092eaed11a0cf)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/693150/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/qdrouterd/Dockerfile.j2'],1,4a97f3507aca21c73d09624bb48307b39d66a10f,bug/1851135,{% if base_distro in ['centos'] %}{% endif %},,2,0
openstack%2Fkolla~stable%2Ftrain~I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396,openstack/kolla,stable/train,I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396,Fix centos qdrouterd for centos > 7,MERGED,2019-11-06 10:15:47.000000000,2019-11-06 12:29:29.000000000,2019-11-06 12:28:03.000000000,"[{'_account_id': 10969}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-11-06 10:15:47.000000000', 'files': ['docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b17bb2d3658ee5fccfc9e69f1ab1278a2452a29', 'message': ""Fix centos qdrouterd for centos > 7\n\nYum doesn't present in centos/rhel version 8, we'll need to\nuse dnf in that case.\n\nChange-Id: I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396\nCloses-Bug: #1851135\n(cherry picked from commit 31a061099b0c518fc43ded1e1a675ad257b6d57d)\n""}]",0,693149,6b17bb2d3658ee5fccfc9e69f1ab1278a2452a29,10,4,1,14826,,,0,"Fix centos qdrouterd for centos > 7

Yum doesn't present in centos/rhel version 8, we'll need to
use dnf in that case.

Change-Id: I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396
Closes-Bug: #1851135
(cherry picked from commit 31a061099b0c518fc43ded1e1a675ad257b6d57d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/693149/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/qdrouterd/Dockerfile.j2'],1,6b17bb2d3658ee5fccfc9e69f1ab1278a2452a29,,RUN {% if distro_package_manager == 'dnf' %}dnf config-manager{% else %}yum-config-manager{% endif %} --disable epel centos-release-opstools extras,RUN yum-config-manager --disable epel centos-release-opstools extras,1,1
openstack%2Fdevstack~master~I784822467b6024038693c48c810ea877175a808f,openstack/devstack,master,I784822467b6024038693c48c810ea877175a808f,pip_install: use UPPER_CONSTRAINTS_FILE value if possible,ABANDONED,2019-11-05 18:36:18.000000000,2019-11-06 12:21:54.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-05 18:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/55dfda3651efb22bd7ab6b8934e3296b7db1bd1f', 'message': 'pip_install: use UPPER_CONSTRAINTS_FILE value if possible\n\nExtend pip_install to use UPPER_CONSTRAINTS_FILE instead of\nREQUIREMENTS_DIR, if that is available.\n\nChange-Id: I784822467b6024038693c48c810ea877175a808f\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2019-11-05 21:48:05.000000000', 'files': ['inc/python'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c0d6a213341aedcb0dfd5d6bb7733711d11e8ce8', 'message': 'pip_install: use UPPER_CONSTRAINTS_FILE value if possible\n\nExtend pip_install to use UPPER_CONSTRAINTS_FILE instead of\nREQUIREMENTS_DIR, if that is available.\n\nChange-Id: I784822467b6024038693c48c810ea877175a808f\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",2,693064,c0d6a213341aedcb0dfd5d6bb7733711d11e8ce8,8,3,2,11952,,,0,"pip_install: use UPPER_CONSTRAINTS_FILE value if possible

Extend pip_install to use UPPER_CONSTRAINTS_FILE instead of
REQUIREMENTS_DIR, if that is available.

Change-Id: I784822467b6024038693c48c810ea877175a808f
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/693064/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/python'],1,55dfda3651efb22bd7ab6b8934e3296b7db1bd1f,," if [ -n ""$UPPER_CONSTRAINTS_FILE"" ]; then cmd_pip=""$cmd_pip -c $UPPER_CONSTRAINTS_FILE"" else cmd_pip=""$cmd_pip -c $REQUIREMENTS_DIR/upper-constraints.txt"" fi"," cmd_pip=""$cmd_pip -c $REQUIREMENTS_DIR/upper-constraints.txt""",5,1
openstack%2Ftripleo-ansible~master~I79d48fef7552f72c8fc0ebbad35d98cfc618b114,openstack/tripleo-ansible,master,I79d48fef7552f72c8fc0ebbad35d98cfc618b114,tripleo-container-manage: include_tasks to speed things up,MERGED,2019-11-01 18:28:48.000000000,2019-11-06 12:21:36.000000000,2019-11-06 12:21:35.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 18:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6171f3b588c304478db80c06f15f9e2488f2545f', 'message': 'WIP: Try include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 2, 'created': '2019-11-01 21:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7458ff99492f93ceb13cfafcafe5af9f9204bb82', 'message': 'WIP: Try include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 3, 'created': '2019-11-01 21:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af64aca94ee47ebf4fa59a1b93334cc7dadd06fe', 'message': 'WIP: Try include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 4, 'created': '2019-11-01 21:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07f9bcf04aaa872ef4db1d55eb11788e62a54783', 'message': 'WIP: Try include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 5, 'created': '2019-11-02 13:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71254c3e0c19cb91f21b0e406ce3c80ed84719b8', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 6, 'created': '2019-11-02 13:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cadb27bb01a5e75c839563fd0887c124d4aadb6f', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 7, 'created': '2019-11-02 15:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2307c475365b1308a33990bdd4401e5af1f9995b', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 8, 'created': '2019-11-02 15:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cebc62a6bd28a52cf10ea415293780e41925b4d5', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 9, 'created': '2019-11-02 16:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/072c66b1c3faddf63cd70c765567f04485146898', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 10, 'created': '2019-11-02 16:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85114f45d793e572c4109e2733bb32f03be43acd', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 11, 'created': '2019-11-02 16:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8baf16d1cd15f42b9223956667f17d8fdad1eecd', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 12, 'created': '2019-11-02 19:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b13c32ff6753e07ae6ba1310b5b3fc4edb02730', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 13, 'created': '2019-11-04 14:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a16063f44f28b188361cb5495f2981c6fb493a22', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 14, 'created': '2019-11-04 14:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc16fe4850721cf53356d42caac1834887f51368', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 15, 'created': '2019-11-04 15:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b1bce833030765d4b4f13fa983ca1544302684e', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 16, 'created': '2019-11-04 20:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff1622561b658a68a7626f9d2e18b8b00ebfea66', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}, {'number': 17, 'created': '2019-11-05 06:44:31.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/create_podman.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/delete.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57411934b7a1a5486c001699c9ed4d8d486cbd7d', 'message': 'tripleo-container-manage: include_tasks to speed things up\n\nChange-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114\n'}]",11,692600,57411934b7a1a5486c001699c9ed4d8d486cbd7d,42,4,17,14985,,,0,"tripleo-container-manage: include_tasks to speed things up

Change-Id: I79d48fef7552f72c8fc0ebbad35d98cfc618b114
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/692600/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/create_podman.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml']",3,6171f3b588c304478db80c06f15f9e2488f2545f,config_data,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: ""Check if {{ item.1.command.0 }} container exists"" command: ""{{ tripleo_container_manage_cli }} container exists {{ item.1.command.0 }}"" - name: ""Check if {{ item.1.command.0 }} container is running"" block: - name: ""Fail if {{ item.1.command.0 }} is not running"" fail: msg: ""Can't run container exec for {{ item.0 }}, {{ item.1.command.0 }} is not running"" when: - not podman_containers.ansible_facts.podman_containers.0.State.Running - name: ""Prepare the exec command for {{ item.0 }}"" set_fact: cmd_template: - ""{{ tripleo_container_manage_cli }}"" - ""exec"" - ""-u"" - ""{{ item.1.user if item.1.user is defined else 'root' }}"" - name: ""Run the container exec for {{ item.0 }}"" command: argv: ""{{ cmd_template + item.1.command }}"" ",,114,83
openstack%2Ftripleo-ansible~master~I5081c918b47dcb9f3629a3649fdf33d17668c1ff,openstack/tripleo-ansible,master,I5081c918b47dcb9f3629a3649fdf33d17668c1ff,tripleo-container-manage - first support for idempotency,MERGED,2019-10-17 14:18:04.000000000,2019-11-06 12:21:32.000000000,2019-11-06 12:21:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 14:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdd9d3c9e7d11828e7322ba6ae4372f471e80f53', 'message': 'WIP - handle config_data changes in tripleo-container-manage\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 2, 'created': '2019-10-18 02:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b768373b722711d08314fbc22cf2e3159e61a2e', 'message': 'WIP - handle config_data changes in tripleo-container-manage\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 3, 'created': '2019-10-18 13:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c46e4e6a3137a6b18754f8aeda3ea91b0408a96', 'message': 'WIP - handle config_data changes in tripleo-container-manage\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 4, 'created': '2019-10-19 21:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41ce27604f3d8e5ef3e5f2c63130ac3798c52c1f', 'message': 'WIP - handle config_data changes in tripleo-container-manage\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 5, 'created': '2019-10-20 07:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2343276dda618e9cd9d4887e0121af0456b89dcf', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 6, 'created': '2019-10-20 08:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62b93925274d3e4a5c908c85089e66dace215888', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 7, 'created': '2019-10-20 08:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af3c3956e33237f6a5f8d2193c06f935db7e3e9b', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 8, 'created': '2019-10-21 15:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9498893663a62dd7c5cbc1ea1e10c88db36e2c8', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 9, 'created': '2019-10-21 21:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f86206fb57536efc969a68cd5ad4090c185fd13c', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 10, 'created': '2019-10-22 15:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5de56ab4fb97b51083febd1cafb2a1c2e94ab809', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 11, 'created': '2019-10-23 15:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ba12fc06e1fad32dfdd869bb93e5c01f22f2122', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 12, 'created': '2019-10-23 20:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb17952c8a579fbe8ba74fe1df17b992262693ba', 'message': 'WIP - handle config_data changes and clean unneeded containers\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 13, 'created': '2019-10-24 10:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2991766a607a93d6fb471c74a689148922d4b022', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 14, 'created': '2019-10-26 21:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3016e452fca4529ea028d1a95b6f521ce07daab2', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 15, 'created': '2019-10-26 21:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e9a302e43a40b449a375b7414fffceeff8f9e6b', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 16, 'created': '2019-10-27 21:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7462e3dfc2c69e3ee70b65c102e90a7568f02c9a', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 17, 'created': '2019-10-27 21:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcb2ecc04d84807b23152e2a97f32b3abf8f9c02', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 18, 'created': '2019-10-28 12:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88810af474883f6d57e05e88bb3ac3fb4554234b', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 19, 'created': '2019-10-28 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7789802aa1d856ce39bc98475442edcbfc545a98', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 20, 'created': '2019-10-28 16:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/825c53be43b8d5d19f86e82f5f2c85efcf01dc0d', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 21, 'created': '2019-10-28 21:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50e762f06a5f4cb9820258c73762b5b543b4ccf9', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 22, 'created': '2019-10-28 21:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8a3aa42cc42910f7ae33720455463480de53f31', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 23, 'created': '2019-10-28 22:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/897d7377c1f87b1f8f0558785ce0cc82234393c0', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 24, 'created': '2019-10-29 10:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc0534a7468ce8317b6499c420c06cb6b82dd92a', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 25, 'created': '2019-10-29 14:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9531b89fe01cce33dace8f353a725161a86ee12', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 26, 'created': '2019-10-29 14:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/949624cd017d9b53b7eb24adc1162e5dbfd93f70', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 27, 'created': '2019-10-29 14:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59a3e46e663ee10a04405b66eccfa5641581e311', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 28, 'created': '2019-10-30 20:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b0e2eed5f8a93240a691a7b97975c57b93ea8a6', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 29, 'created': '2019-10-31 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd8bdc9b95d7af37b17b4e4ab0bfa04d7b7709bd', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 30, 'created': '2019-11-01 09:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd6d78fe9c497cf34910f8474b9b9ecb08c30e3e', 'message': 'WIP - tripleo-container-manage - support container updates & cleanup\n\nWork in progress to address the updates & cleanup of containers managed\nby podman without paunch.\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n'}, {'number': 31, 'created': '2019-11-01 11:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4328fbff17d3979bf50ebf29c88ec5b6d4b560b', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 32, 'created': '2019-11-01 15:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d917a050222d1d26f3ff762fe9ae63a430f0ed7', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 33, 'created': '2019-11-01 15:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d569a3da4bd92bce04a99b6c9b6b890717a1ba8', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 34, 'created': '2019-11-02 13:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d857ee8272f236febdefae040f55cd96f4971a36', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 35, 'created': '2019-11-02 15:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20a6f9d15658066be89a3ab1cdad45d70e8cd6ee', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 36, 'created': '2019-11-04 11:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c051916d4768a313f85cfd70620da035a0669508', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 37, 'created': '2019-11-04 14:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e94c949e1dee9ede8914328892a92e41df516bfa', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 38, 'created': '2019-11-04 14:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34b98da3e3d1db1169b8f956f79d5f837f689c57', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 39, 'created': '2019-11-04 20:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc6b6a0a8a3d69fb7324209b7a87b990f43c7e04', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}, {'number': 40, 'created': '2019-11-05 06:44:18.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/create_podman.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-healthcheck.j2', 'tripleo_ansible/ansible_plugins/filter/helpers.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/delete_podman.yaml', 'tripleo_ansible/roles/tripleo-container-manage/templates/systemd-timer.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e41e0642de46e9c410278afc4ad150ce551fe88', 'message': ""tripleo-container-manage - first support for idempotency\n\n- Implements a new helper to figure out if the existing containers on\n  the hosts need to be removed (and re-created later).\n  The helper will remove the container if:\n    - the container is managed by tripleo_ansible (+ other conditions later)\n    - a running container isn't in the config\n    - the container has no config_data Label\n    - the config_data changed for the container\n\n- Restart the systemd service for the container if the podman_container\n  module reported as changed (note the podman_container isn't yet\n  idempotent but we're working on it in a separated patch)\n\n- Fix the healthcheck & timer systemd files to be attached to the right\n  service (with tripleo_ prefix)\n\nStory: #2006732\nTask: #37163\nChange-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff\n""}]",39,689172,7e41e0642de46e9c410278afc4ad150ce551fe88,114,7,40,3153,,,0,"tripleo-container-manage - first support for idempotency

- Implements a new helper to figure out if the existing containers on
  the hosts need to be removed (and re-created later).
  The helper will remove the container if:
    - the container is managed by tripleo_ansible (+ other conditions later)
    - a running container isn't in the config
    - the container has no config_data Label
    - the config_data changed for the container

- Restart the systemd service for the container if the podman_container
  module reported as changed (note the podman_container isn't yet
  idempotent but we're working on it in a separated patch)

- Fix the healthcheck & timer systemd files to be attached to the right
  service (with tripleo_ prefix)

Story: #2006732
Task: #37163
Change-Id: I5081c918b47dcb9f3629a3649fdf33d17668c1ff
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/689172/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman.yaml'],1,fdd9d3c9e7d11828e7322ba6ae4372f471e80f53,config_data,"- name: ""Check if {{ item.0 }} needs to be restarted"" block: - name: ""Gather podman infos for {{ item.0 }}"" podman_container_info: name: ""{{ item.0 }}"" register: podman_container - set_fact: tripleo_container_old_config_data: | ""{{ podman_container.ansible_facts.podman_containers[0].Config.Labels.config_data if podman_container.ansible_facts.podman_containers[0].Config.Labels.config_data is defined else {} }}"" "," - name: ""Gather podman infos for {{ item.1['command'][0] }}"" podman_container_info: name: ""{{ item.1['command'][0] }}"" register: podman_containers",11,4
openstack%2Fswift~master~I6d170fead798d0d539c69d27a6fa8a2d0123ca99,openstack/swift,master,I6d170fead798d0d539c69d27a6fa8a2d0123ca99,Fix bug internal client's delete_object logs 499,MERGED,2019-11-06 07:40:25.000000000,2019-11-06 12:15:42.000000000,2019-11-06 12:14:28.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 23279}]","[{'number': 1, 'created': '2019-11-06 07:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cb061dbb28d0c433f302a1d857d542e12ee23628', 'message': ""Fix bug internal client's delete_object logs 499\n\nInternal Client's doest not read body for 404.\nSo, When internal deleing object that not existed, proxy-server logs its response\ncode to 499.\n\nIn this patch, add a code that drain the reponse body to prevent\nunexpected disconnect in proxy-server\n\nChange-Id: I6d170fead798d0d539c69d27a6fa8a2d0123ca99\nCloses-Bug: #1835324\n""}, {'number': 2, 'created': '2019-11-06 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47b5252bcf69a042adbec9b498d6b0e1ac7f465c', 'message': ""Fix bug internal client's delete_object logs 499\n\nInternal Client's doest not read body for 404.\nSo, When internal deleing object that not existed, proxy-server logs\nits response code to 499.\n\nIn this patch, add a code that drain the reponse body to prevent\nunexpected disconnect in proxy-server\n\nChange-Id: I6d170fead798d0d539c69d27a6fa8a2d0123ca99\nCloses-Bug: #1835324\n""}, {'number': 3, 'created': '2019-11-06 08:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf21a8f273de91853c19b13cc91eaf78adefe59b', 'message': ""Fix bug internal client's delete_object logs 499\n\nInternal Client's doest not read body for 404.\nSo, When internal deleing object that not existed, proxy-server logs\nits response code to 499.\n\nIn this patch, add a code that drain the reponse body to prevent\nunexpected disconnect in proxy-server\n\nChange-Id: I6d170fead798d0d539c69d27a6fa8a2d0123ca99\nCloses-Bug: #1835324\n""}, {'number': 4, 'created': '2019-11-06 09:49:07.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7cb92810acfd3cd598860aefadff8fba47e3efdd', 'message': ""Fix bug internal client's delete_object logs 499\n\nInternal Client's doest not read body for 404.\nSo, When internal deleing object that not existed, proxy-server logs\nits response code to 499.\n\nIn this patch, add a code that drain the reponse body to prevent\nunexpected disconnect in proxy-server\n\nChange-Id: I6d170fead798d0d539c69d27a6fa8a2d0123ca99\nCloses-Bug: #1835324\n""}]",3,693128,7cb92810acfd3cd598860aefadff8fba47e3efdd,15,4,4,23279,,,0,"Fix bug internal client's delete_object logs 499

Internal Client's doest not read body for 404.
So, When internal deleing object that not existed, proxy-server logs
its response code to 499.

In this patch, add a code that drain the reponse body to prevent
unexpected disconnect in proxy-server

Change-Id: I6d170fead798d0d539c69d27a6fa8a2d0123ca99
Closes-Bug: #1835324
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/693128/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,cb061dbb28d0c433f302a1d857d542e12ee23628,, # Drain the response body to prevent unexpected disconnect # in proxy-server with closing_if_possible(resp.app_iter): for iter_body in resp.app_iter: pass ,,15,20
openstack%2Fopenstack-ansible~master~I04d4418e15a1e7dbc286b8daf55935dade0bbd26,openstack/openstack-ansible,master,I04d4418e15a1e7dbc286b8daf55935dade0bbd26,Bump SHAs for master,ABANDONED,2019-10-20 15:15:15.000000000,2019-11-06 12:13:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-20 15:15:15.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/horizon_haproxy_conflict-27955d6b7c1a6d30.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'releasenotes/notes/app-credentials-709e7ae0573b4955.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6e4e926ef4945e4e8b2c8db23674970271b8fd6', 'message': 'Bump SHAs for master\n\nChange-Id: I04d4418e15a1e7dbc286b8daf55935dade0bbd26\n'}]",0,689649,f6e4e926ef4945e4e8b2c8db23674970271b8fd6,4,2,1,17068,,,0,"Bump SHAs for master

Change-Id: I04d4418e15a1e7dbc286b8daf55935dade0bbd26
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/689649/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/horizon_haproxy_conflict-27955d6b7c1a6d30.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'releasenotes/notes/app-credentials-709e7ae0573b4955.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",7,f6e4e926ef4945e4e8b2c8db23674970271b8fd6,bump_osa,tempest_git_install_branch: 7fdd39c6dbde37bccd419c4037e1e352a5189c5a # HEAD as of 20.10.2019,tempest_git_install_branch: de20df69549d9aa8fc13554dc196deac60f2e34b # HEAD as of 30.09.2019,70,47
openstack%2Fkolla-ansible~stable%2Fstein~Ie5278832e293364c66d53ddb07dff9c5409f0cc6,openstack/kolla-ansible,stable/stein,Ie5278832e293364c66d53ddb07dff9c5409f0cc6,Fix empty match while setting supported_policy_files,MERGED,2019-11-05 12:04:15.000000000,2019-11-06 12:09:36.000000000,2019-11-06 12:06:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 12:04:15.000000000', 'files': ['ansible/roles/horizon/tasks/policy_item.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9df6ee216a30111e744d1a5bce2eea1238b7694f', 'message': 'Fix empty match while setting supported_policy_files\n\nWhen supported_policy_files gets set under python 3.7 [1], the regex \'(.*)\'\nmatches twice, once for the policy file name and once more for the empty string\nthat follows the policy file name. This is new behavior under python\n3.7. [2]\n\nThis leads to the replacement string being written out twice resulting\nin something like this: ""nova_policy.yamlnova_"".\n\nThis patch changes the regex to \'(.+)\' ensuring there is no match success\nagainst the empty string.\n\n[1]:\n- set_fact:\n    supported_policy_files: ""{{ supported_policy_format_list | map(\'regex_replace\', \'(.*)\', \'{{ project_name }}_\\\\1\') | list }}""\n\n[2]: https://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: Ie5278832e293364c66d53ddb07dff9c5409f0cc6\nCloses-Bug: 1851249\n(cherry picked from commit 9d0ccad15aa358cdc6dc2f690bf181cb8354d150)\n'}]",0,692989,9df6ee216a30111e744d1a5bce2eea1238b7694f,10,3,1,27330,,,0,"Fix empty match while setting supported_policy_files

When supported_policy_files gets set under python 3.7 [1], the regex '(.*)'
matches twice, once for the policy file name and once more for the empty string
that follows the policy file name. This is new behavior under python
3.7. [2]

This leads to the replacement string being written out twice resulting
in something like this: ""nova_policy.yamlnova_"".

This patch changes the regex to '(.+)' ensuring there is no match success
against the empty string.

[1]:
- set_fact:
    supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.*)', '{{ project_name }}_\\1') | list }}""

[2]: https://docs.python.org/3/library/re.html#re.sub

Change-Id: Ie5278832e293364c66d53ddb07dff9c5409f0cc6
Closes-Bug: 1851249
(cherry picked from commit 9d0ccad15aa358cdc6dc2f690bf181cb8354d150)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/692989/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/tasks/policy_item.yml'],1,9df6ee216a30111e744d1a5bce2eea1238b7694f,bug/1851249-stable/stein," supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.+)', '{{ project_name }}_\\1') | list }}"""," supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.*)', '{{ project_name }}_\\1') | list }}""",1,1
openstack%2Fkolla-ansible~stable%2Fstein~I12fa6ae8dcec79485c30c4fea2977875aa8f4fae,openstack/kolla-ansible,stable/stein,I12fa6ae8dcec79485c30c4fea2977875aa8f4fae,Fix haproxy deploy for external mariadb cluster,MERGED,2019-11-04 17:55:49.000000000,2019-11-06 12:08:32.000000000,2019-11-06 12:06:40.000000000,"[{'_account_id': 22165}, {'_account_id': 22206}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 17:55:49.000000000', 'files': ['ansible/site.yml', 'ansible/roles/mariadb/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5598fa107dc13ebc5a7ac5dd388ad7064ec55a73', 'message': 'Fix haproxy deploy for external mariadb cluster\n\nChange-Id: I12fa6ae8dcec79485c30c4fea2977875aa8f4fae\nCloses-Bug: #1850792\n(cherry picked from commit 0a7d189d05f6a34dbda713dbed723a03237e5ce4)\n'}]",0,692860,5598fa107dc13ebc5a7ac5dd388ad7064ec55a73,9,4,1,14826,,,0,"Fix haproxy deploy for external mariadb cluster

Change-Id: I12fa6ae8dcec79485c30c4fea2977875aa8f4fae
Closes-Bug: #1850792
(cherry picked from commit 0a7d189d05f6a34dbda713dbed723a03237e5ce4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/692860/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/site.yml', 'ansible/roles/mariadb/defaults/main.yml']",2,5598fa107dc13ebc5a7ac5dd388ad7064ec55a73,bug_1850792-stable/stein," enabled: ""{{ enable_external_mariadb_load_balancer|bool }}"""," enabled: ""{{ enable_mariadb|bool and enable_external_mariadb_load_balancer|bool }}""",2,2
openstack%2Fkolla-ansible~stable%2Frocky~I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,openstack/kolla-ansible,stable/rocky,I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,Remove Heat environment file disabling deprecated plugins,MERGED,2019-11-05 14:24:34.000000000,2019-11-06 12:07:48.000000000,2019-11-06 12:06:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 14:24:34.000000000', 'files': ['releasenotes/notes/remove-heat-engine-environment-file-5f1320011b00099d.yaml', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/heat/templates/_deprecated.yaml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/heat/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01d758344101e445f4085b22105341e7eb41b371', 'message': 'Remove Heat environment file disabling deprecated plugins\n\nCommit d68644386f5c159ac646f70883ecf1349c153c76 disabled these\ndeprecated plugins more than three years ago.\n\nChange-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc\nCloses-Bug: #1839172\n(cherry picked from commit c9d13858d6824e2b2b1d6da6fe235dde8190611b)\n'}]",0,693016,01d758344101e445f4085b22105341e7eb41b371,8,4,1,14826,,,0,"Remove Heat environment file disabling deprecated plugins

Commit d68644386f5c159ac646f70883ecf1349c153c76 disabled these
deprecated plugins more than three years ago.

Change-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc
Closes-Bug: #1839172
(cherry picked from commit c9d13858d6824e2b2b1d6da6fe235dde8190611b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/693016/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-heat-engine-environment-file-5f1320011b00099d.yaml', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/heat/templates/_deprecated.yaml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/heat/tasks/config.yml']",5,01d758344101e445f4085b22105341e7eb41b371,bug/1839172-stable/rocky,,"- name: Copying over the heat-engine environment file become: true template: src: ""_deprecated.yaml"" dest: ""{{ node_config_directory }}/{{ item }}/_deprecated.yaml"" mode: ""0660"" with_items: - ""heat-engine"" ",14,20
openstack%2Fkolla-ansible~stable%2Fstein~I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,openstack/kolla-ansible,stable/stein,I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,Remove Heat environment file disabling deprecated plugins,MERGED,2019-11-05 14:24:13.000000000,2019-11-06 12:06:43.000000000,2019-11-06 12:06:43.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 14:24:13.000000000', 'files': ['releasenotes/notes/remove-heat-engine-environment-file-5f1320011b00099d.yaml', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/heat/templates/_deprecated.yaml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/heat/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bba529fec69a49fc805c214912e40f9f13bc4114', 'message': 'Remove Heat environment file disabling deprecated plugins\n\nCommit d68644386f5c159ac646f70883ecf1349c153c76 disabled these\ndeprecated plugins more than three years ago.\n\nChange-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc\nCloses-Bug: #1839172\n(cherry picked from commit c9d13858d6824e2b2b1d6da6fe235dde8190611b)\n'}]",0,693015,bba529fec69a49fc805c214912e40f9f13bc4114,7,4,1,14826,,,0,"Remove Heat environment file disabling deprecated plugins

Commit d68644386f5c159ac646f70883ecf1349c153c76 disabled these
deprecated plugins more than three years ago.

Change-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc
Closes-Bug: #1839172
(cherry picked from commit c9d13858d6824e2b2b1d6da6fe235dde8190611b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/693015/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-heat-engine-environment-file-5f1320011b00099d.yaml', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/heat/templates/_deprecated.yaml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/heat/tasks/config.yml']",5,bba529fec69a49fc805c214912e40f9f13bc4114,bug/1839172-stable/stein,,"- name: Copying over the heat-engine environment file become: true template: src: ""_deprecated.yaml"" dest: ""{{ node_config_directory }}/{{ item }}/_deprecated.yaml"" mode: ""0660"" with_items: - ""heat-engine"" ",14,20
openstack%2Fkolla~master~I67ebbbbcb63c8edef77a4cf38348e50feea96fbb,openstack/kolla,master,I67ebbbbcb63c8edef77a4cf38348e50feea96fbb,DNM: test 3party with patch,ABANDONED,2019-11-05 17:02:47.000000000,2019-11-06 11:56:46.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 17:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5eb3a7b3490acf05aa282a66eec7ecf6e67942c8', 'message': 'DNM: test 3party with patch\n\nDepends-On: https://review.opendev.org/693048\nChange-Id: I67ebbbbcb63c8edef77a4cf38348e50feea96fbb\n'}, {'number': 2, 'created': '2019-11-06 10:41:17.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3a4056079b14fce8229c2f10e09278b2b2ad019f', 'message': 'DNM: test 3party with patch\n\nDepends-On: https://review.opendev.org/693048\nChange-Id: I67ebbbbcb63c8edef77a4cf38348e50feea96fbb\n'}]",0,693056,3a4056079b14fce8229c2f10e09278b2b2ad019f,11,3,2,10969,,,0,"DNM: test 3party with patch

Depends-On: https://review.opendev.org/693048
Change-Id: I67ebbbbcb63c8edef77a4cf38348e50feea96fbb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/693056/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2']",4,5eb3a7b3490acf05aa282a66eec7ecf6e67942c8,test3,RUN touch /tmp/something,,3,206
openstack%2Ftripleo-heat-templates~stable%2Frocky~I716aaa0be7b23bc3be2b1b755c75bd9173930da0,openstack/tripleo-heat-templates,stable/rocky,I716aaa0be7b23bc3be2b1b755c75bd9173930da0,Disable haproxy when using external LB,MERGED,2019-11-05 16:46:37.000000000,2019-11-06 11:54:51.000000000,2019-11-06 11:54:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2019-11-05 16:46:37.000000000', 'files': ['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9293a673e536929e49460e297bfb5413b0534191', 'message': 'Disable haproxy when using external LB\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)\n'}]",0,693052,9293a673e536929e49460e297bfb5413b0534191,8,5,1,3153,,,0,"Disable haproxy when using external LB

This change ensures the update_tasks.yaml is
generated without the haproxy sections which will cause issues since
there is no haproxy-bundle resource in external LB environments.

Change-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0
Closes-Bug: #1851297
(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/693052/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml']",3,9293a673e536929e49460e297bfb5413b0534191,, # We need to also disable the haproxy resource when using external lb OS::TripleO::Services::HAproxy: OS::Heat::None,,6,0
openstack%2Ftelemetry-specs~master~I3b1f29ccce3d7638172f68008d5e5e361a15808a,openstack/telemetry-specs,master,I3b1f29ccce3d7638172f68008d5e5e361a15808a,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 11:46:55.000000000,2019-11-06 11:52:06.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27078}, {'_account_id': 28543}]","[{'number': 1, 'created': '2018-12-04 11:46:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/7c3411242cf95360071e6e37421b327cb6140c3f', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I3b1f29ccce3d7638172f68008d5e5e361a15808a\n'}]",0,622248,7c3411242cf95360071e6e37421b327cb6140c3f,7,5,1,26297,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I3b1f29ccce3d7638172f68008d5e5e361a15808a
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/48/622248/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7c3411242cf95360071e6e37421b327cb6140c3f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Ffaafo~master~I1a2009df329153788ba87b842c41f9744271ec35,openstack/faafo,master,I1a2009df329153788ba87b842c41f9744271ec35,Update home-page,ABANDONED,2019-01-12 10:06:10.000000000,2019-11-06 11:51:43.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-12 10:06:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/faafo/commit/4a629d0b98d210ea48fb1ccf6f3a4c9e5d37b59f', 'message': 'Update home-page\n\nChange-Id: I1a2009df329153788ba87b842c41f9744271ec35\n'}]",0,630444,4a629d0b98d210ea48fb1ccf6f3a4c9e5d37b59f,6,4,1,26297,,,0,"Update home-page

Change-Id: I1a2009df329153788ba87b842c41f9744271ec35
",git fetch https://review.opendev.org/openstack/faafo refs/changes/44/630444/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4a629d0b98d210ea48fb1ccf6f3a4c9e5d37b59f,,home-page = https://docs.openstack.org/faafo/latest/,home-page = http://docs.openstack.org/developer/faafo/,1,1
openstack%2Ftripleo-heat-templates~master~Ieb932cfacaef5b3a23b7e67c100dd0caa6fa8290,openstack/tripleo-heat-templates,master,Ieb932cfacaef5b3a23b7e67c100dd0caa6fa8290,[WiP] Fix Error: /etc/ipa/ca.crt: duplicate mount destination,ABANDONED,2019-09-30 09:25:53.000000000,2019-11-06 11:48:49.000000000,,"[{'_account_id': 9914}, {'_account_id': 11589}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-30 09:25:53.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/636882169f3bfccdf98a0dcbcf27f1ad9d8e14ce', 'message': '[WiP] Fix Error: /etc/ipa/ca.crt: duplicate mount destination\n\nInternalTLSCAFile is already mounted in containers-common.yaml.\n\nChange-Id: Ieb932cfacaef5b3a23b7e67c100dd0caa6fa8290\n'}]",0,685665,636882169f3bfccdf98a0dcbcf27f1ad9d8e14ce,5,5,1,14250,,,0,"[WiP] Fix Error: /etc/ipa/ca.crt: duplicate mount destination

InternalTLSCAFile is already mounted in containers-common.yaml.

Change-Id: Ieb932cfacaef5b3a23b7e67c100dd0caa6fa8290
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/685665/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-pacemaker-puppet.yaml'],1,636882169f3bfccdf98a0dcbcf27f1ad9d8e14ce,fix_feauterset39, - - get_param: HAProxyInternalTLSKeysDirectory, InternalTLSCAFile: default: '/etc/ipa/ca.crt' type: string description: Specifies the default CA cert to use if TLS is used for services in the internal network. - - get_param: InternalTLSCAFile - get_param: HAProxyInternalTLSKeysDirectory,1,7
openstack%2Fui-cookiecutter~master~Ibb84c16106abfd4a9d264bdf038b9916e2d1a33a,openstack/ui-cookiecutter,master,Ibb84c16106abfd4a9d264bdf038b9916e2d1a33a,Update home-page,NEW,2019-01-11 12:40:29.000000000,2019-11-06 11:47:42.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 12:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/e91842a6f13c95d08204996cb84d54feac1b28a6', 'message': 'Update home-page\n\nChange-Id: Ibb84c16106abfd4a9d264bdf038b9916e2d1a33a\n'}, {'number': 2, 'created': '2019-11-06 11:31:28.000000000', 'files': ['{{cookiecutter.repo_name}}/setup.cfg'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/d6503648d839de508078bfaaee4c9ec17f83d727', 'message': 'Update home-page\n\nChange-Id: Ibb84c16106abfd4a9d264bdf038b9916e2d1a33a\n'}]",1,630203,d6503648d839de508078bfaaee4c9ec17f83d727,6,3,2,26297,,,0,"Update home-page

Change-Id: Ibb84c16106abfd4a9d264bdf038b9916e2d1a33a
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/03/630203/2 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/setup.cfg'],1,e91842a6f13c95d08204996cb84d54feac1b28a6,,home-page = https://git.openstack.org/cgit/openstack/ui-cookiecutter,home-page = http://www.openstack.org/,1,1
openstack%2Fadjutant-ui~master~I1e9d96ad3a187720eac160bd0f908e1f90816f9f,openstack/adjutant-ui,master,I1e9d96ad3a187720eac160bd0f908e1f90816f9f,fix tox python3 overrides,ABANDONED,2018-06-08 05:47:34.000000000,2019-11-06 11:41:52.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-06-08 05:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/eccfb8ec04317ce27224a74fb3f022fd6ab1ed64', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1e9d96ad3a187720eac160bd0f908e1f90816f9f\n'}, {'number': 2, 'created': '2018-06-11 08:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/132aabbf989f9e758432511bf11c49f41f07e80c', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1e9d96ad3a187720eac160bd0f908e1f90816f9f\n'}, {'number': 3, 'created': '2019-01-24 08:46:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/78022491bdb4e95f37f8fb13e3bdd6b0c0070866', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I1e9d96ad3a187720eac160bd0f908e1f90816f9f\n'}]",0,573533,78022491bdb4e95f37f8fb13e3bdd6b0c0070866,10,5,3,26297,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I1e9d96ad3a187720eac160bd0f908e1f90816f9f
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/33/573533/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eccfb8ec04317ce27224a74fb3f022fd6ab1ed64,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,basepython = python2.7,8,1
openstack%2Frequirements~master~I413265a2ef080304723e1a56a031c29a60d1a707,openstack/requirements,master,I413265a2ef080304723e1a56a031c29a60d1a707,update constraint for python-novaclient to new release 16.0.0,MERGED,2019-10-22 14:57:42.000000000,2019-11-06 11:39:52.000000000,2019-11-05 02:06:57.000000000,"[{'_account_id': 6873}, {'_account_id': 7186}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-22 14:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f36953354ab36910ae16a99b3c16c176229f114', 'message': 'update constraint for python-novaclient to new release 16.0.0\n\nChange-Id: I413265a2ef080304723e1a56a031c29a60d1a707\nmeta:version: 16.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: zhangbailin <zhangbailin@inspur.com>\nmeta:release:Commit: Brin Zhang <zhangbailin@inspur.com>\nmeta:release:Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2019-10-23 01:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc3f99802610d9c4b2fa8922bfbfcdb7b05d4b58', 'message': 'update constraint for python-novaclient to new release 16.0.0\n\nDepends-On: https://review.opendev.org/690134\n\nChange-Id: I413265a2ef080304723e1a56a031c29a60d1a707\nmeta:version: 16.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: zhangbailin <zhangbailin@inspur.com>\nmeta:release:Commit: Brin Zhang <zhangbailin@inspur.com>\nmeta:release:Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 3, 'created': '2019-10-24 18:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6b6564c98de7b8c6785bd50284577135f3870618', 'message': 'update constraint for python-novaclient to new release 16.0.0\n\nDepends-On: https://review.opendev.org/690134\nDepends-On: https://review.opendev.org/691039\n\nChange-Id: I413265a2ef080304723e1a56a031c29a60d1a707\nmeta:version: 16.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: zhangbailin <zhangbailin@inspur.com>\nmeta:release:Commit: Brin Zhang <zhangbailin@inspur.com>\nmeta:release:Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 4, 'created': '2019-10-29 09:31:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ff8d5d71481bd964c12f8639b5d49695af6252c', 'message': 'update constraint for python-novaclient to new release 16.0.0\n\nDepends-On: https://review.opendev.org/690134\nDepends-On: https://review.opendev.org/691039\n\nChange-Id: I413265a2ef080304723e1a56a031c29a60d1a707\nmeta:version: 16.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: zhangbailin <zhangbailin@inspur.com>\nmeta:release:Commit: Brin Zhang <zhangbailin@inspur.com>\nmeta:release:Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,690097,7ff8d5d71481bd964c12f8639b5d49695af6252c,37,6,4,11131,,,0,"update constraint for python-novaclient to new release 16.0.0

Depends-On: https://review.opendev.org/690134
Depends-On: https://review.opendev.org/691039

Change-Id: I413265a2ef080304723e1a56a031c29a60d1a707
meta:version: 16.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: zhangbailin <zhangbailin@inspur.com>
meta:release:Commit: Brin Zhang <zhangbailin@inspur.com>
meta:release:Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/690097/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4f36953354ab36910ae16a99b3c16c176229f114,new-release,python-novaclient===16.0.0,python-novaclient===15.1.0,1,1
openstack%2Fi18n-specs~master~I72799a691ebd8a3f9833b9853048f322ff33fd9b,openstack/i18n-specs,master,I72799a691ebd8a3f9833b9853048f322ff33fd9b,Update home-page,ABANDONED,2019-01-11 12:38:17.000000000,2019-11-06 11:39:39.000000000,,"[{'_account_id': 17499}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 12:38:17.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/i18n-specs/commit/60e2136b80f8e9d23614df4e76f8d07fca134d53', 'message': 'Update home-page\n\nChange-Id: I72799a691ebd8a3f9833b9853048f322ff33fd9b\n'}]",0,630202,60e2136b80f8e9d23614df4e76f8d07fca134d53,7,5,1,26297,,,0,"Update home-page

Change-Id: I72799a691ebd8a3f9833b9853048f322ff33fd9b
",git fetch https://review.opendev.org/openstack/i18n-specs refs/changes/02/630202/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,60e2136b80f8e9d23614df4e76f8d07fca134d53,,home-page = https://git.openstack.org/cgit/openstack/i18n-specsupload-dir = doc/build/html ,home-page = http://www.openstack.org/upload-dir = doc/build/html,2,2
openstack%2Fzaqar-tempest-plugin~master~Ic630358b6e6d6b47da11a17862ad61d9a69733f5,openstack/zaqar-tempest-plugin,master,Ic630358b6e6d6b47da11a17862ad61d9a69733f5,Update home-page,ABANDONED,2019-01-11 17:14:58.000000000,2019-11-06 11:39:24.000000000,,"[{'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27078}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-01-11 17:14:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/affd1fe6b40139cec54835b0da07e4b5789c8c96', 'message': 'Update home-page\n\nChange-Id: Ic630358b6e6d6b47da11a17862ad61d9a69733f5\n'}]",0,630345,affd1fe6b40139cec54835b0da07e4b5789c8c96,7,5,1,26297,,,0,"Update home-page

Change-Id: Ic630358b6e6d6b47da11a17862ad61d9a69733f5
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/45/630345/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,affd1fe6b40139cec54835b0da07e4b5789c8c96,,home-page = https://git.openstack.org/cgit/openstack/zaqar-tempest-plugin,home-page = http://www.openstack.org/,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I716aaa0be7b23bc3be2b1b755c75bd9173930da0,openstack/tripleo-heat-templates,stable/queens,I716aaa0be7b23bc3be2b1b755c75bd9173930da0,Disable haproxy when using external LB,MERGED,2019-11-05 16:46:44.000000000,2019-11-06 11:34:28.000000000,2019-11-06 11:34:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29268}, {'_account_id': 30073}]","[{'number': 1, 'created': '2019-11-05 16:46:44.000000000', 'files': ['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674a79c7e8bbe1aecac54052ce6de43ddb6142a6', 'message': 'Disable haproxy when using external LB\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)\n'}]",0,693053,674a79c7e8bbe1aecac54052ce6de43ddb6142a6,9,6,1,3153,,,0,"Disable haproxy when using external LB

This change ensures the update_tasks.yaml is
generated without the haproxy sections which will cause issues since
there is no haproxy-bundle resource in external LB environments.

Change-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0
Closes-Bug: #1851297
(cherry picked from commit 14228a33d5b0cdbc69bdf805786bb1046711627a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/693053/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml']",3,674a79c7e8bbe1aecac54052ce6de43ddb6142a6,, # We need to also disable the haproxy resource when using external lb OS::TripleO::Services::HAproxy: OS::Heat::None,,6,0
openstack%2Fkolla-ansible~master~Ic03aba436a4f3c775ff8e815c93e1d52250d5411,openstack/kolla-ansible,master,Ic03aba436a4f3c775ff8e815c93e1d52250d5411,Fix defaults filename of module-load role,MERGED,2019-11-05 17:29:34.000000000,2019-11-06 11:31:03.000000000,2019-11-06 11:29:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-11-05 17:29:34.000000000', 'files': ['ansible/roles/module-load/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3a6d15329cfd6fe1c0337b41815425efcaf5967', 'message': 'Fix defaults filename of module-load role\n\nAll other roles also use defaults/main.yml.\n\nChange-Id: Ic03aba436a4f3c775ff8e815c93e1d52250d5411\n'}]",0,693058,d3a6d15329cfd6fe1c0337b41815425efcaf5967,10,5,1,167,,,0,"Fix defaults filename of module-load role

All other roles also use defaults/main.yml.

Change-Id: Ic03aba436a4f3c775ff8e815c93e1d52250d5411
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/693058/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/module-load/defaults/main.yml'],1,d3a6d15329cfd6fe1c0337b41815425efcaf5967,fix-defaults-filename,,,0,0
openstack%2Fkolla~master~Ie021e656be02c24fa84ec9ea4993c2a9550827b7,openstack/kolla,master,Ie021e656be02c24fa84ec9ea4993c2a9550827b7,DNM: test 3party first patch,ABANDONED,2019-11-06 10:36:18.000000000,2019-11-06 11:25:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-06 10:36:18.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c7592b62dd169c163054e53ab24439c1361f963', 'message': 'DNM: test 3party first patch\n\nDepends-On: https://review.opendev.org/#/c/693048\nChange-Id: Ie021e656be02c24fa84ec9ea4993c2a9550827b7\n'}]",0,693153,2c7592b62dd169c163054e53ab24439c1361f963,4,2,1,10969,,,0,"DNM: test 3party first patch

Depends-On: https://review.opendev.org/#/c/693048
Change-Id: Ie021e656be02c24fa84ec9ea4993c2a9550827b7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/693153/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2']",4,2c7592b62dd169c163054e53ab24439c1361f963,test2,RUN touch /tmp/something,,3,206
openstack%2Fbifrost~stable%2Frocky~I07ecdde3986f7b9720f0e83c47135846cafff2de,openstack/bifrost,stable/rocky,I07ecdde3986f7b9720f0e83c47135846cafff2de,Mark discovery ramdisk to have an initrd,MERGED,2019-11-05 17:45:49.000000000,2019-11-06 11:20:16.000000000,2019-11-06 11:20:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-05 17:45:49.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3c2091b0a9d63a884b2a52be1a2a8d0b135b32fb', 'message': ""Mark discovery ramdisk to have an initrd\n\nSeems tinycore's kernel needs an indicator that the\ninstance is booting with a ramdisk. CoreOS's builds seemed\nto tolerate this without issue when it was originally developed.\n\n:(\n\nChange-Id: I07ecdde3986f7b9720f0e83c47135846cafff2de\n(cherry picked from commit 6fcdfcf9bbcb86412581587152c52c86b13c7774)\n""}]",0,693059,3c2091b0a9d63a884b2a52be1a2a8d0b135b32fb,7,4,1,14826,,,0,"Mark discovery ramdisk to have an initrd

Seems tinycore's kernel needs an indicator that the
instance is booting with a ramdisk. CoreOS's builds seemed
to tolerate this without issue when it was originally developed.

:(

Change-Id: I07ecdde3986f7b9720f0e83c47135846cafff2de
(cherry picked from commit 6fcdfcf9bbcb86412581587152c52c86b13c7774)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/59/693059/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'],1,3c2091b0a9d63a884b2a52be1a2a8d0b135b32fb,,kernel {{ ipa_kernel_url }} ipa-inspection-callback-url=http://{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface ]['ipv4']['address'] }}:5050/v1/continue systemd.journald.forward_to_console=yes ip=${ip}:${next-server}:${gateway}:${netmask} BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }} initrd=ipa.initramfs,kernel {{ ipa_kernel_url }} ipa-inspection-callback-url=http://{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface ]['ipv4']['address'] }}:5050/v1/continue systemd.journald.forward_to_console=yes ip=${ip}:${next-server}:${gateway}:${netmask} BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }},1,1
openstack%2Fneutron~master~I27b27ee48b8bb5b23a1fd05a97fe8d8f437d1b55,openstack/neutron,master,I27b27ee48b8bb5b23a1fd05a97fe8d8f437d1b55,"""_find_available_ips"" should not return broadcast nor network address",ABANDONED,2019-11-05 16:27:07.000000000,2019-11-06 11:18:06.000000000,,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-11-05 16:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/290246bfe64644f0d4b736f3f4bbf179e31ab26a', 'message': '""_find_available_ips"" should not return broadcast address\n\nA bug was introduced in [1]. The network broadcast address cannot be\nused. The initial possition to retrieve a list of IP addresses in\nthe IPSet previously defined, should be reduced by one.\n\n[1] https://review.opendev.org/#/c/684279/\n\nChange-Id: I27b27ee48b8bb5b23a1fd05a97fe8d8f437d1b55\nRelated-Bug: #1808595\n'}, {'number': 2, 'created': '2019-11-05 17:13:43.000000000', 'files': ['neutron/tests/fullstack/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c87e59d94bd9d37651d8fa03b75b606f60d77d8', 'message': '""_find_available_ips"" should not return broadcast nor network address\n\nA bug was introduced in [1]. The network address or the broadcast\naddress of a CIDR cannot be used.\n\n[1] https://review.opendev.org/#/c/684279/\n\nChange-Id: I27b27ee48b8bb5b23a1fd05a97fe8d8f437d1b55\nRelated-Bug: #1808595\n'}]",7,693041,5c87e59d94bd9d37651d8fa03b75b606f60d77d8,11,7,2,16688,,,0,"""_find_available_ips"" should not return broadcast nor network address

A bug was introduced in [1]. The network address or the broadcast
address of a CIDR cannot be used.

[1] https://review.opendev.org/#/c/684279/

Change-Id: I27b27ee48b8bb5b23a1fd05a97fe8d8f437d1b55
Related-Bug: #1808595
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/693041/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/base.py'],1,290246bfe64644f0d4b736f3f4bbf179e31ab26a,bug/1808595," initial = random.randint(0, min(valid_ips.size - num - 1, 1000))"," initial = random.randint(0, min(valid_ips.size - num, 1000))",1,1
openstack%2Fnetworking-calico~master~I2b59ae5baf76cbf4850db06f2b70d870f702300f,openstack/networking-calico,master,I2b59ae5baf76cbf4850db06f2b70d870f702300f,Suppress spurious DHCP agent scheduling WARNINGs,MERGED,2017-02-22 12:41:54.000000000,2019-11-06 10:52:34.000000000,2019-11-06 10:52:34.000000000,"[{'_account_id': 13734}, {'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-02-22 12:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/e8bf5d1c3bb22db6a878c08d69de2240e7536669', 'message': 'Switch off DHCP network scheduling\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 2, 'created': '2017-02-22 14:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ec82fbb68e3832ea36f845dc05dd43affc0ce5af', 'message': 'Switch off DHCP network scheduling\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 3, 'created': '2017-02-22 15:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/8f344e7a5ab403f3a1b3b0ad01d474805f167ade', 'message': 'Switch off DHCP network scheduling\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 4, 'created': '2017-02-22 16:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/84fcb104d127ab6d84ac05510f5deced7ef786f5', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment that\nuses the Calico DHCP agent, suppresses periodic Neutron server WARNING logs\nlike these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 5, 'created': '2017-02-22 16:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/8172c3d0dd6abae752b03aa575e9ddf48bd7f809', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 6, 'created': '2017-02-22 17:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/50ad0ccc126d1b25650e88605a28007fbaec7759', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 7, 'created': '2017-10-06 13:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/0e6b6686dfbbc0874741bebd8ece1fd82de7f6c1', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 8, 'created': '2017-12-26 13:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/cdebcb52e5de3eb654c71c8e606cfe9a071a526d', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 9, 'created': '2018-03-06 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/c339c383050fdd30da5c7d8e21ca612d496b6ca1', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 10, 'created': '2019-11-05 14:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/33f3287cdb01ad2471342963be89228430c7dc89', 'message': 'Allow suppression of spurious DHCP agent scheduling WARNINGs\n\nSetting dhcp_agents_per_network to 0, in a Calico/OpenStack deployment\nthat uses the Calico DHCP agent, suppresses periodic Neutron server\nWARNING logs like these:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}, {'number': 11, 'created': '2019-11-05 16:39:15.000000000', 'files': ['networking_calico/plugins/calico/plugin.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/36fde2c1a4401e5d8c955caa0b73c4e8b8200568', 'message': 'Suppress spurious DHCP agent scheduling WARNINGs\n\nThis change suppresses periodic Neutron server WARNING logs like\nthese:\n\nneutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents\nneutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.\n\n(In Calico for OpenStack we use a Calico-specific DHCP agent that does\nnot report to the Neutron server and does not require scheduling.)\n\nChange-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f\n'}]",1,436908,36fde2c1a4401e5d8c955caa0b73c4e8b8200568,36,3,11,13734,,,0,"Suppress spurious DHCP agent scheduling WARNINGs

This change suppresses periodic Neutron server WARNING logs like
these:

neutron.scheduler.dhcp_agent_scheduler [REQ-ID - admin] No more DHCP agents
neutron.api.rpc.agentnotifiers.dhcp_rpc_agent_api [REQ-ID - admin] Unable to schedule network NET-ID: no agents available; will retry on subsequent port and subnet creation events.

(In Calico for OpenStack we use a Calico-specific DHCP agent that does
not report to the Neutron server and does not require scheduling.)

Change-Id: I2b59ae5baf76cbf4850db06f2b70d870f702300f
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/08/436908/7 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e8bf5d1c3bb22db6a878c08d69de2240e7536669,no-dhcp-schedule," # Configure the Neutron server not to do DHCP network # scheduling. We don't need this, so we can save some # cycles and warnings logs. iniset $NEUTRON_CONF DEFAULT network_auto_schedule false",,5,0
openstack%2Fkolla~master~I3ea5ab6d94b159145db13cbc2419a293712ccc6d,openstack/kolla,master,I3ea5ab6d94b159145db13cbc2419a293712ccc6d,DNM: test 3party,ABANDONED,2019-11-05 16:57:16.000000000,2019-11-06 10:36:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 16:57:16.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/90ad2ff1177558d240cc58a1e7d4c6bee3548b1e', 'message': 'DNM: test 3party\n\nChange-Id: I3ea5ab6d94b159145db13cbc2419a293712ccc6d\n'}]",0,693055,90ad2ff1177558d240cc58a1e7d4c6bee3548b1e,4,2,1,10969,,,0,"DNM: test 3party

Change-Id: I3ea5ab6d94b159145db13cbc2419a293712ccc6d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/693055/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2']",4,90ad2ff1177558d240cc58a1e7d4c6bee3548b1e,test2,RUN touch /tmp/something,,3,206
openstack%2Fkolla~stable%2Ftrain~I9ec8f9640299d88c0ff4d8a5850689c0a9e35b62,openstack/kolla,stable/train,I9ec8f9640299d88c0ff4d8a5850689c0a9e35b62,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-11-06 01:15:22.000000000,2019-11-06 10:29:43.000000000,2019-11-06 10:28:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-06 01:15:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5c491b81b4a9526b3c1f0cdf0fe14958dbd3870', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9ec8f9640299d88c0ff4d8a5850689c0a9e35b62\n'}]",0,693104,b5c491b81b4a9526b3c1f0cdf0fe14958dbd3870,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9ec8f9640299d88c0ff4d8a5850689c0a9e35b62
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/693104/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5c491b81b4a9526b3c1f0cdf0fe14958dbd3870,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fkolla~master~Ie4b644a206fafcda69bdff9864c8bb1d70791531,openstack/kolla,master,Ie4b644a206fafcda69bdff9864c8bb1d70791531,Update master for stable/train,MERGED,2019-11-06 01:15:26.000000000,2019-11-06 10:29:31.000000000,2019-11-06 10:28:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-06 01:15:26.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a17ec861adc94ef6cc2c5192a18ebdf3317ff3e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ie4b644a206fafcda69bdff9864c8bb1d70791531\nSem-Ver: feature\n'}]",0,693105,2a17ec861adc94ef6cc2c5192a18ebdf3317ff3e,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ie4b644a206fafcda69bdff9864c8bb1d70791531
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/693105/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,2a17ec861adc94ef6cc2c5192a18ebdf3317ff3e,reno-train, train,,7,0
openstack%2Fdevstack~master~I85cbd390bb1070bc78b0f2f0c10ca510ea09ba68,openstack/devstack,master,I85cbd390bb1070bc78b0f2f0c10ca510ea09ba68,worlddump: network_dump: do not assume brctl is installed,ABANDONED,2019-11-05 18:53:34.000000000,2019-11-06 10:25:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 18:53:34.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d27381f30356c1a0738d0744940bd9f3cc47c969', 'message': 'worlddump: network_dump: do not assume brctl is installed\n\nCheck and see if brctl is installed before trying to invoke it.\n\nChange-Id: I85cbd390bb1070bc78b0f2f0c10ca510ea09ba68\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",0,693068,d27381f30356c1a0738d0744940bd9f3cc47c969,7,5,1,11952,,,0,"worlddump: network_dump: do not assume brctl is installed

Check and see if brctl is installed before trying to invoke it.

Change-Id: I85cbd390bb1070bc78b0f2f0c10ca510ea09ba68
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/693068/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,d27381f30356c1a0738d0744940bd9f3cc47c969,," if _find_cmd('brctl'): _dump_cmd(""brctl show"")"," _dump_cmd(""brctl show"")",2,1
openstack%2Fkolla~master~I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396,openstack/kolla,master,I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396,Fix centos qdrouterd for centos > 7,MERGED,2019-11-04 10:37:30.000000000,2019-11-06 10:15:47.000000000,2019-11-04 14:52:53.000000000,"[{'_account_id': 4264}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0ca8c8e677fe6d563dde07b9461ae7b5facba0cf', 'message': ""Fix centos qdrouterd for centos > 7\n\nYum doesn't present in centos/rhel version 8, we'll need to\nuse dnf in that case. Make dnf first option with fallback to yum.\n\nChange-Id: I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396\nCloses-Bug: #1851135\n""}, {'number': 2, 'created': '2019-11-04 11:00:17.000000000', 'files': ['docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/31a061099b0c518fc43ded1e1a675ad257b6d57d', 'message': ""Fix centos qdrouterd for centos > 7\n\nYum doesn't present in centos/rhel version 8, we'll need to\nuse dnf in that case.\n\nChange-Id: I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396\nCloses-Bug: #1851135\n""}]",3,692796,31a061099b0c518fc43ded1e1a675ad257b6d57d,25,9,2,10969,,,0,"Fix centos qdrouterd for centos > 7

Yum doesn't present in centos/rhel version 8, we'll need to
use dnf in that case.

Change-Id: I2ccbfe4ae55c6a3653d8c03a12e6bca64e58d396
Closes-Bug: #1851135
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/692796/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/qdrouterd/Dockerfile.j2'],1,0ca8c8e677fe6d563dde07b9461ae7b5facba0cf,,RUN dnf config-manager --disable epel centos-release-opstools extras || \ yum-config-manager --disable epel centos-release-opstools extras,RUN yum-config-manager --disable epel centos-release-opstools extras,2,1
openstack%2Fkolla~stable%2Ftrain~Ib4a8e8760700060333d5d1082ab8a729e942f593,openstack/kolla,stable/train,Ib4a8e8760700060333d5d1082ab8a729e942f593,Update .gitreview for stable/train,MERGED,2019-11-06 01:15:19.000000000,2019-11-06 10:11:28.000000000,2019-11-06 10:10:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-11-06 01:15:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kolla/commit/afff258522c7aab966237ad0c55f9cd73f7a6f17', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ib4a8e8760700060333d5d1082ab8a729e942f593\n'}]",0,693103,afff258522c7aab966237ad0c55f9cd73f7a6f17,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ib4a8e8760700060333d5d1082ab8a729e942f593
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/693103/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,afff258522c7aab966237ad0c55f9cd73f7a6f17,create-train,defaultbranch=stable/train,,1,0
openstack%2Foslo.config~master~If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7,openstack/oslo.config,master,If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7,fix: fix float opt min and max value format errror,MERGED,2019-11-01 03:22:55.000000000,2019-11-06 09:58:15.000000000,2019-11-06 09:57:08.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28706}, {'_account_id': 29549}]","[{'number': 1, 'created': '2019-11-01 03:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/75348c3bf2f350d276e7dcb208ccbb3a9dbe8f0a', 'message': 'fix: fix float opt min and max value format errror\n\nIssue: 1850879\nChange-Id: If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7\n'}, {'number': 2, 'created': '2019-11-04 01:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/d3cb0a937ccbf2394f6b8cc4302e46ce417c5776', 'message': 'fix: fix float opt min and max value format errror\n\n""%d"" will truncate float and generates wrong format message,\nuse ""format"" to handle floats correctly.\n\nClose-Bug: 1850879\nChange-Id: If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7\n'}, {'number': 3, 'created': '2019-11-04 01:51:01.000000000', 'files': ['oslo_config/generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/561db7ac328417cb9091a21798b8b9e9def35e6a', 'message': 'fix: fix float opt min and max value format errror\n\n""%d"" will truncate float and generates wrong format message,\nuse ""format"" to handle floats correctly.\n\nCloses-Bug: 1850879\nChange-Id: If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7\n'}]",3,692480,561db7ac328417cb9091a21798b8b9e9def35e6a,18,5,3,29549,,,0,"fix: fix float opt min and max value format errror

""%d"" will truncate float and generates wrong format message,
use ""format"" to handle floats correctly.

Closes-Bug: 1850879
Change-Id: If0dd3933695ac84f0e9cacefd28a9d7a60dd88d7
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/80/692480/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/generator.py'],1,75348c3bf2f350d276e7dcb208ccbb3a9dbe8f0a,bug/1850879, lines.append('# Minimum value: {}\n'.format(opt.type.min)) lines.append('# Maximum value: {}\n'.format(opt.type.max)), lines.append('# Minimum value: %d\n' % opt.type.min) lines.append('# Maximum value: %d\n' % opt.type.max),2,2
openstack%2Ftripleo-heat-templates~master~I97bdc6344816ca04e9afaeb939690aa367d4b33f,openstack/tripleo-heat-templates,master,I97bdc6344816ca04e9afaeb939690aa367d4b33f,Mode 0750 for /var/log/containers,MERGED,2019-11-04 10:07:43.000000000,2019-11-06 09:44:33.000000000,2019-11-04 21:17:09.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-04 10:07:43.000000000', 'files': ['common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57afa87fd970f879b64233d2c79e946f2afcd2ef', 'message': 'Mode 0750 for /var/log/containers\n\nLogs should not be world-readable, they contain sensitive informations.\n\nChange-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f\n'}]",1,692791,57afa87fd970f879b64233d2c79e946f2afcd2ef,9,4,1,3153,,,0,"Mode 0750 for /var/log/containers

Logs should not be world-readable, they contain sensitive informations.

Change-Id: I97bdc6344816ca04e9afaeb939690aa367d4b33f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/692791/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-1.yaml'],1,57afa87fd970f879b64233d2c79e946f2afcd2ef,logs, mode: 0750,,1,0
openstack%2Fopenstack-ansible-os_glance~master~I16df6895014f74f7e3d89489b10e91681511faa9,openstack/openstack-ansible-os_glance,master,I16df6895014f74f7e3d89489b10e91681511faa9,Drop common-db tag from db_sync task,MERGED,2019-10-30 14:45:03.000000000,2019-11-06 09:42:47.000000000,2019-11-05 23:04:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-30 14:45:03.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/351f02646c573f8de2039bbc8f80a74b2493edd5', 'message': 'Drop common-db tag from db_sync task\n\ngalnce_db_sync has no relation to common-db, and independent step\nduring glance configuration. common-db tag should be applied only\nto the common tasks\n\nChange-Id: I16df6895014f74f7e3d89489b10e91681511faa9\n'}]",0,692161,351f02646c573f8de2039bbc8f80a74b2493edd5,13,4,1,28619,,,0,"Drop common-db tag from db_sync task

galnce_db_sync has no relation to common-db, and independent step
during glance configuration. common-db tag should be applied only
to the common tasks

Change-Id: I16df6895014f74f7e3d89489b10e91681511faa9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/61/692161/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,351f02646c573f8de2039bbc8f80a74b2493edd5,common_tags,, - common-db,0,1
openstack%2Fcharm-ceph-mon~master~I260b3eef85465293cc7ec554913dc66d9a4b7ee4,openstack/charm-ceph-mon,master,I260b3eef85465293cc7ec554913dc66d9a4b7ee4,"Revert ""Remove explicit fsid charm config option""",MERGED,2019-10-16 14:27:51.000000000,2019-11-06 09:41:26.000000000,2019-11-06 09:41:26.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 14:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a1ddecd65ae5e909ce9b027e91618205d43ce5db', 'message': 'Revert ""Remove explicit fsid charm config option""\n\nThis reverts commit 54c3f2122119f7425e1e629a41759b80b87acc83.\n\nChange-Id: I260b3eef85465293cc7ec554913dc66d9a4b7ee4\nCloses-Bug: 1846337\n'}, {'number': 2, 'created': '2019-10-16 14:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d25a42a0000352f1ad1ddcc2d2a08ede8099c3f2', 'message': 'Revert ""Remove explicit fsid charm config option""\n\nRevert the removal of the fsid charm configuration option.\n\nThis is required for the in-place migration of an existing Ceph\ndeployment into a Charm managed deployment.\n\nThis reverts commit 54c3f2122119f7425e1e629a41759b80b87acc83.\n\nChange-Id: I260b3eef85465293cc7ec554913dc66d9a4b7ee4\nCloses-Bug: 1846337\n'}, {'number': 3, 'created': '2019-10-25 10:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4e1b31f6bdc1453fb51b110220cd7955f036db3f', 'message': 'Revert ""Remove explicit fsid charm config option""\n\nRevert the removal of the fsid charm configuration option.\n\nThis is required for the in-place migration of an existing Ceph\ndeployment into a Charm managed deployment.\n\nThis reverts commit 54c3f2122119f7425e1e629a41759b80b87acc83.\n\nChange-Id: I260b3eef85465293cc7ec554913dc66d9a4b7ee4\nCloses-Bug: 1846337\n'}, {'number': 4, 'created': '2019-10-25 11:39:46.000000000', 'files': ['hooks/ceph_hooks.py', 'tests/tests.yaml', 'tests/bundles/bionic-train-with-fsid.yaml', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/15e158f6ebb270639ec3a69633ca44d199b6ac60', 'message': 'Revert ""Remove explicit fsid charm config option""\n\nRevert the removal of the fsid charm configuration option.\n\nThis is required for the in-place migration of an existing Ceph\ndeployment into a Charm managed deployment.\n\nThis reverts commit 54c3f2122119f7425e1e629a41759b80b87acc83.\n\nChange-Id: I260b3eef85465293cc7ec554913dc66d9a4b7ee4\nCloses-Bug: 1846337\n'}]",0,688942,15e158f6ebb270639ec3a69633ca44d199b6ac60,20,4,4,935,,,0,"Revert ""Remove explicit fsid charm config option""

Revert the removal of the fsid charm configuration option.

This is required for the in-place migration of an existing Ceph
deployment into a Charm managed deployment.

This reverts commit 54c3f2122119f7425e1e629a41759b80b87acc83.

Change-Id: I260b3eef85465293cc7ec554913dc66d9a4b7ee4
Closes-Bug: 1846337
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/42/688942/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'config.yaml']",2,a1ddecd65ae5e909ce9b027e91618205d43ce5db,bug/1846337," fsid: type: string default: description: | The unique identifier (fsid) of the Ceph cluster. . To generate a suitable value use `uuidgen`. If left empty, an fsid will be generated. . NOTE: Changing this configuration after deployment is not supported and new service units will not be able to join the cluster.",,15,1
openstack%2Ftripleo-upgrade~master~I4307e3fd136b75a805a988aa9fff069bcbe72fe4,openstack/tripleo-upgrade,master,I4307e3fd136b75a805a988aa9fff069bcbe72fe4,Use python -m pip instead pip command.,ABANDONED,2019-11-06 08:43:33.000000000,2019-11-06 09:22:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-06 08:43:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ef192abaeb66f0a8cb0429692e8c118ebf435e66', 'message': ""Use python -m pip instead pip command.\n\nIt's recommand to use this way. With tox is not really necessary to do\nit but it can be good to use it. See this article:\n\nhttps://snarky.ca/why-you-should-use-python-m-pip/\n\nFor example python -m pip executes pip using the Python interpreter\nyou specified as python.\n\nChange-Id: I4307e3fd136b75a805a988aa9fff069bcbe72fe4\n""}]",0,693135,ef192abaeb66f0a8cb0429692e8c118ebf435e66,3,1,1,29222,,,0,"Use python -m pip instead pip command.

It's recommand to use this way. With tox is not really necessary to do
it but it can be good to use it. See this article:

https://snarky.ca/why-you-should-use-python-m-pip/

For example python -m pip executes pip using the Python interpreter
you specified as python.

Change-Id: I4307e3fd136b75a805a988aa9fff069bcbe72fe4
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/35/693135/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ef192abaeb66f0a8cb0429692e8c118ebf435e66,use_pip_as_module,install_command = python -m pip install {opts} {packages},install_command = pip install {opts} {packages},1,1
openstack%2Ffreezer-api~master~I9dad0cc9aee7a8f35e4759fa10225e0f0883c484,openstack/freezer-api,master,I9dad0cc9aee7a8f35e4759fa10225e0f0883c484,Update tox.ini,MERGED,2019-11-04 07:55:15.000000000,2019-11-06 09:07:47.000000000,2019-11-06 09:06:39.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 07:55:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/0ed03921faba36e5c0dc89c668462cd6404fb2d8', 'message': 'Update tox.ini\n\nAdd py36 in test envlist.\n\nChange-Id: I9dad0cc9aee7a8f35e4759fa10225e0f0883c484\n'}]",0,692770,0ed03921faba36e5c0dc89c668462cd6404fb2d8,7,2,1,21069,,,0,"Update tox.ini

Add py36 in test envlist.

Change-Id: I9dad0cc9aee7a8f35e4759fa10225e0f0883c484
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/70/692770/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0ed03921faba36e5c0dc89c668462cd6404fb2d8,,"envlist = py27,py36,py37,pep8,pylint","envlist = py27,py37,pep8,pylint",1,1
openstack%2Fcloudkitty~stable%2Fstein~I34895da263b03943acadacbcbce11f05a38f7136,openstack/cloudkitty,stable/stein,I34895da263b03943acadacbcbce11f05a38f7136,Fix section name in config file generation,MERGED,2019-11-05 12:39:01.000000000,2019-11-06 08:46:21.000000000,2019-11-06 08:45:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-11-05 12:39:01.000000000', 'files': ['doc/source/admin/configuration/storage.rst', 'cloudkitty/common/config.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d1b924660f782a06771deb1e33b25e8f81374a22', 'message': 'Fix section name in config file generation\n\nThis changes the wrong ""storage_influx"" section name\nto ""storage_influxdb"".\n\nChange-Id: I34895da263b03943acadacbcbce11f05a38f7136\n(cherry picked from commit b70b7484ddc6da5e56419b767c7f50c60a7272f1)\n'}]",0,692997,d1b924660f782a06771deb1e33b25e8f81374a22,7,2,1,14826,,,0,"Fix section name in config file generation

This changes the wrong ""storage_influx"" section name
to ""storage_influxdb"".

Change-Id: I34895da263b03943acadacbcbce11f05a38f7136
(cherry picked from commit b70b7484ddc6da5e56419b767c7f50c60a7272f1)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/97/692997/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/storage.rst', 'cloudkitty/common/config.py']",2,d1b924660f782a06771deb1e33b25e8f81374a22,," ('storage_influxdb', list(itertools.chain("," ('storage_influx', list(itertools.chain(",2,2
openstack%2Fkayobe~stable%2Fqueens~I39b59e3fed94d4fc56514c98ae1d9d1c0ad6bebc,openstack/kayobe,stable/queens,I39b59e3fed94d4fc56514c98ae1d9d1c0ad6bebc,Example should use hyphen instead of underscore,MERGED,2019-10-25 17:43:56.000000000,2019-11-06 08:34:20.000000000,2019-11-06 08:34:20.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 17:43:56.000000000', 'files': ['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-build/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a9a34fffddc9255037ab5f2726a186b03fb6e5cb', 'message': 'Example should use hyphen instead of underscore\n\nAs per the kolla_sources documentation:\nhttps://docs.openstack.org/kayobe/latest/configuration/kolla.html#source-code-locations\n\nChange-Id: I39b59e3fed94d4fc56514c98ae1d9d1c0ad6bebc\n(cherry picked from commit 9c9e45600664664737b2e3790bef92373aedd278)\n'}]",0,691406,a9a34fffddc9255037ab5f2726a186b03fb6e5cb,10,3,1,28022,,,0,"Example should use hyphen instead of underscore

As per the kolla_sources documentation:
https://docs.openstack.org/kayobe/latest/configuration/kolla.html#source-code-locations

Change-Id: I39b59e3fed94d4fc56514c98ae1d9d1c0ad6bebc
(cherry picked from commit 9c9e45600664664737b2e3790bef92373aedd278)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/691406/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/kolla', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-build/defaults/main.yml']",3,a9a34fffddc9255037ab5f2726a186b03fb6e5cb,underscore-stable/queens,# ironic-base:,# ironic_base:,3,3
openstack%2Ftripleo-docs~master~I8287072a02b9e5dcf7eaacdcd1448286f9344328,openstack/tripleo-docs,master,I8287072a02b9e5dcf7eaacdcd1448286f9344328,Remove the container image upload.,ABANDONED,2019-08-12 12:20:38.000000000,2019-11-06 08:28:17.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-12 12:20:38.000000000', 'files': ['doc/source/upgrade/minor_update.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2717d650a06303af2276029258bcbb327c62cfc2', 'message': ""Remove the container image upload.\n\nRemove the container image upload from stein. It's only required for\nrocky.\n\nChange-Id: I8287072a02b9e5dcf7eaacdcd1448286f9344328\n""}]",0,675883,2717d650a06303af2276029258bcbb327c62cfc2,5,3,1,29222,,,0,"Remove the container image upload.

Remove the container image upload from stein. It's only required for
rocky.

Change-Id: I8287072a02b9e5dcf7eaacdcd1448286f9344328
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/83/675883/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade/minor_update.rst'],1,2717d650a06303af2276029258bcbb327c62cfc2,container_image_upload," In Rocky, we'll need to upload the container images to the local registry at this point. Run:"," In Rocky and beyond, we'll need to upload the container images to the local registry at this point. Run:",2,2
openstack%2Ftripleo-quickstart~master~Iaf93a5e39edd547e00660c8c3b69c4bbb285f88a,openstack/tripleo-quickstart,master,Iaf93a5e39edd547e00660c8c3b69c4bbb285f88a,[Documentation] Migrate to list table.,ABANDONED,2018-10-19 13:30:07.000000000,2019-11-06 08:27:56.000000000,,"[{'_account_id': 8367}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-10-19 13:30:07.000000000', 'files': ['doc/source/feature-configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fa524163a38bd5875531cabab5ccbc054fb6e826', 'message': '[Documentation] Migrate to list table.\n\nThe first table is really big and is not easy to maintain and editing.\nThat will be more easy with a list table. The result is the same, same\ndisplay.\n\nChange-Id: Iaf93a5e39edd547e00660c8c3b69c4bbb285f88a\n'}]",0,611871,fa524163a38bd5875531cabab5ccbc054fb6e826,8,5,1,29222,,,0,"[Documentation] Migrate to list table.

The first table is really big and is not easy to maintain and editing.
That will be more easy with a list table. The result is the same, same
display.

Change-Id: Iaf93a5e39edd547e00660c8c3b69c4bbb285f88a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/611871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/feature-configuration.rst'],1,fa524163a38bd5875531cabab5ccbc054fb6e826,migrate_to_list_table,".. list-table:: :widths: 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 :header-rows: 1 * - FS - cnf-dl - ipv6 - SSL UC - SSL Int - SSL Ext - NI SN - NI MN - NI BOND - introsp - UC idem - cont UC - cont OC - OC upg - UC upg - OC upd - FF OC upg - SA - validations - ping - tempest - sc000 - sc001 - sc002 - sc003 - sc004 - sc005 - sc006 - sc007 - sc008 - sc010 - nonha - ceph - PM - HC - IPSec - Browbeat - HA validation * - 001_ - X - - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - - - * - 002_ - X - - - X - X - - X - - X - - - - - - - - - - X - - - - - - - - - - - - - - - - - - * - 003_ - - - - - - - - - - X - - - - - - - - - - - - - - - - - - - - - - - - - - - * - 004_ - - - - - - - - - - - - - - - - - - X - - - - - - - - - - - - - X - - - - - - * - 005_ - - - - - - - - - - - - - - - - - - X - X - - - X - - - - - - - - - - - X - - - - * - 006_ - - - - - - - - - - - - - - - - - - X - - X - - - X - - - - - - - - - - X - - - - * - 007_ - - - - - - - - - - - - - - - - - - X - - X - - - - X - - - - - - - - - X - - - - * - 008_ - - - - - - - - - - - - - - - - - - X - - X - - - - - X - - - - - - - - X - - - - * - 009_ - - - - - - - - - - - - - - - - - - - X - - - - - - - X - - - - - - - X - - - - * - 010_ - X - - - - - - - - - - - X - - - - - - - - X - - - - - - - - - - - X - - - - - - * - 011_ - - - - - - - - - - - - - X - - - - - - X - - - - - - - - - - - - X - - - - - - * - 012_ - - - - - - - - - - - - - X - - - - - - X - - - X - - - - - - - - - X - - X - - - - * - 013_ - - - - - - - - - - - - - X - - - - - - X - - - - X - - - - - - - - X - - X - - - - * - 014_ - - - - - - - - - - - - - X - - - - - - X - - - - - X - - - - - - - X - - X - - - - * - 015_ - - - - - - - - - - - - - X - - - - - - X - - - - - - X - - - - - - X - - X - - - - * - 016_ - - - - - - - - - - - - X - - - - - - - - X - - X - - - - - - - - - X - - X - - - - * - 017_ - X - - - - - - - - - - - X - - - - - - - - X - - - X - - - - - - - - X - - X - - - - * - 018_ - X - - - - - - - - - - - X - - - - - - - - X - - - - X - - - - - - - X - - X - - - - * - 019_ - - - - - - - - - - - - X - - - - - - - - X - - - - - X - - - - - - X - - X - - - - * - 020_ - X - - - - - - - - - - - - - - - - - - - X - - - - - - - - - - - X - - - - - - * - 021_ - - - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - - - * - 022_ - - - - X - - - - - X - - - X - - - - - - - X - - - - - - - - - - - - X - - - - - - * - 024_ - - X - - X - - - X - - X - - - - - - - - - - X - - - - - - - - - - - - - X - - - - - * - 025_ - - - - X - X - - X - - X - - - - - - - - - - X - - - - - - - - - - - - - - - X - - - * - 026_ - - - - - - - - - - - - X - - - - - - - - - - - - - - - X - - - - - - - - - - * - 027_ - - - X - - - - - - - - X - - - - - - - - - X - - - - - - - - - - - - - - - - - * - 028_ - - - - - - - - - - - - - - - - - - - X - X - - - - - - - - X - - - - - - - - - * - 030_ - X - - - - - - - - - - - X - - - - - - - X - X - - - - - - - - X - - - - - X - - - - * - 031_ - - - - - - - - - - - - - - - - - - - X - - - - - - - - - - X - - - - - - - - * - 032_ - - - - - - - - - - - - X - - - - - - - - - - - - - - - - - - - - - X - - - - * - 033_ - - - - - - - - - - - - X - - - - - - - - - - - - - - - X - - - - - - - - - - * - 035_ - X - X - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - - - * - 036_ - - - - X - - - - - - - - - - - - X - - - - - - X - - - - - - - - - - - - - X - - * - 037_ - - - - X - - - - - - - - - - - X - - - - - - X - X - - - - - - - - - - - - - X - - * - 038_ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - X - - - - - - - * - 039_ - - - - X - X - - X - - - - - - - - - - - - X - - - - - - - - - - - - - - X - - - - * - 041_ - X - - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - - - X * - 042_ - X - - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - X - - * - 047_ - - - - - - - - - - - - - - X - - - - - - - - - - - - - - - - - - - - - - - * - 048_ - - - - X - - - - - X - - - X - - - - - - - X - - - - - - - - - - - - X - - - - - - * - 049_ - - - - - - X - - - - - - X - - - - - - - - - - - - - - - - - - - - X - X - - - - * - 050_ - - - - - - - - - - - X - - - X - - - - - - - - - - - - - - - - - - - - - - - * - 051_ - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - * - 052_ - - - - - - - - - - - - - - - - - X - - - - X - - - - - - - - - - - - - - - - * - 053_ - X - - - X - X - - X - - X - - - - - - - - - - - X - - - - - - - - - - - - - - - - X - * - 055_ - X - - - - - - - - - - - X - - - - - - - - X - - - - - - - - - - - X - - - - - -.. list-table:: :widths: 50 50 :header-rows: 1 * - Acroynm - Definition * - FS - Featureset * - UC - TripleO Undercloud * - OC - TripleO Overcloud * - NI SN - network isolation single network interface card * - NI MN - network isolation multiple network interface card * - NI BOND - network isolation bonded network interfaces * - ping - deploy test heat stack, ping and ssh tests launched test instance * - idem - idempotency test * - cont - containerized * - cnf-dl - config-download is enabled * - upg - major upgrade * - upd - minor upgrade * - FF - Fast Forward * - sc<number> - scenario * - ceph - ceph enabled * - PM - pacemaker enabled, topology determines the number of controllers * - HC - Heat Convergence is enabled * - IPSec - IPSec tunnels for the overcloud are enabled * - Int - Internal traffic (undercloud) * - Ext - External traffic (overcloud) * - Browbeat - Performance testing","+------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | FS | cnf-dl | ipv6 | SSL UC | SSL Int | SSL Ext | NI SN | NI MN | NI BOND | introsp | UC idem | cont UC | cont OC | OC upg | UC upg | OC upd | FF OC upg | SA | validations | ping | tempest | sc000 | sc001 | sc002 | sc003 | sc004 | sc005 | sc006 | sc007 | sc008 | sc010 |nonha | ceph | PM | HC | IPSec | Browbeat | HA validation | +======+========+======+=========+=========+=========+=======+=======+=========+=========+=========+=========+=========+==========+=========+=========+===========+=======+=============+======+=========+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+========+======+====+====+=======+==========+===============+ | 001_ | X | | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 002_ | X | | | X | X | | X | | X | | | | | | | | | | X | | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 003_ | | | | | | | | | | X | | | | | | | | | | | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 004_ | | | | | | | | | | | | | | | | | | X | | | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 005_ | | | | | | | | | | | | | | | | | | X | X | | | X | | | | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 006_ | | | | | | | | | | | | | | | | | | X | | X | | | X | | | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 007_ | | | | | | | | | | | | | | | | | | X | | X | | | | X | | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 008_ | | | | | | | | | | | | | | | | | | X | | X | | | | | X | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 009_ | | | | | | | | | | | | | | | | | | | X | | | | | | | X | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 010_ | X | | | | | | | | | | | X | | | | | | | | X | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 011_ | | | | | | | | | | | | | X | | | | | | X | | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 012_ | | | | | | | | | | | | | X | | | | | | X | | | X | | | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 013_ | | | | | | | | | | | | | X | | | | | | X | | | | X | | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 014_ | | | | | | | | | | | | | X | | | | | | X | | | | | X | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 015_ | | | | | | | | | | | | | X | | | | | | X | | | | | | X | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 016_ | | | | | | | | | | | | X | | | | | | | | X | | X | | | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 017_ | X | | | | | | | | | | | X | | | | | | | | X | | | X | | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 018_ | X | | | | | | | | | | | X | | | | | | | | X | | | | X | | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 019_ | | | | | | | | | | | | X | | | | | | | | X | | | | | X | | | | | | X | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 020_ | X | | | | | | | | | | | | | | | | | | | X | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 021_ | | | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+------------+-------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 022_ | | | | X | | | | | X | | | X | | | | | | | X | | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 024_ | | X | | X | | | X | | X | | | | | | | | | | X | | | | | | | | | | | | | X | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 025_ | | | | X | X | | X | | X | | | | | | | | | | X | | | | | | | | | | | | | | | X | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 026_ | | | | | | | | | | | | X | | | | | | | | | | | | | | | X | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 027_ | | | X | | | | | | | | X | | | | | | | | | X | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 028_ | | | | | | | | | | | | | | | | | | | X | X | | | | | | | | X | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 030_ | X | | | | | | | | | | | X | | | | | | | X | X | | | | | | | | X | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 031_ | | | | | | | | | | | | | | | | | | | X | | | | | | | | | | X | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 032_ | | | | | | | | | | | | X | | | | | | | | | | | | | | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 033_ | | | | | | | | | | | | X | | | | | | | | | | | | | | | X | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 035_ | X | X | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 036_ | | | | X | | | | | | | | | | | | X | | | | | | X | | | | | | | | | | | | | X | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 037_ | | | | X | | | | | | | | | | | X | | | | | | X | X | | | | | | | | | | | | | X | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 038_ | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | X | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 039_ | | | | X | X | | X | | | | | | | | | | | | X | | | | | | | | | | | | | | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 041_ | X | | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | | | X | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 042_ | X | | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | X | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 047_ | | | | | | | | | | | | | | X | | | | | | | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 048_ | | | | X | | | | | X | | | X | | | | | | | X | | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 049_ | | | | | | X | | | | | | X | | | | | | | | | | | | | | | | | | | | X | X | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 050_ | | | | | | | | | | | X | | | X | | | | | | | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 051_ | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 052_ | | | | | | | | | | | | | | | | | X | | | | X | | | | | | | | | | | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 053_ | X | | | X | X | | X | | X | | | | | | | | | | | X | | | | | | | | | | | | | | | | X | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------+ | 055_ | X | | | | | | | | | | | X | | | | | | | | X | | | | | | | | | | | X | | | | | | | +------+--------+------+---------+---------+---------+-------+-------+---------+---------+---------+---------+---------+----------+---------+---------+-----------+-------+-------------+------+---------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+--------+------+----+----+-------+----------+---------------++--------------+-------------------------------------------------------------------+ | Acroynm | Definition | +==============+===================================================================+ | FS | Featureset | +--------------+-------------------------------------------------------------------+ | UC | TripleO Undercloud | +--------------+-------------------------------------------------------------------+ | OC | TripleO Overcloud | +--------------+-------------------------------------------------------------------+ | NI SN | network isolation single network interface card | +--------------+-------------------------------------------------------------------+ | NI MN | network isolation multiple network interface card | +--------------+-------------------------------------------------------------------+ | NI BOND | network isolation bonded network interfaces | +--------------+-------------------------------------------------------------------+ | ping | deploy test heat stack, ping and ssh tests launched test instance | +--------------+-------------------------------------------------------------------+ | idem | idempotency test | +--------------+-------------------------------------------------------------------+ | cont | containerized | +--------------+-------------------------------------------------------------------+ | cnf-dl | config-download is enabled | +--------------+-------------------------------------------------------------------+ | upg | major upgrade | +--------------+-------------------------------------------------------------------+ | upd | minor upgrade | +--------------+-------------------------------------------------------------------+ | FF | Fast Forward | +--------------+-------------------------------------------------------------------+ | sc<number> | scenario | +--------------+-------------------------------------------------------------------+ | ceph | ceph enabled | +--------------+-------------------------------------------------------------------+ | PM | pacemaker enabled, topology determines the number of controllers | +--------------+-------------------------------------------------------------------+ | HC | Heat Convergence is enabled | +--------------+-------------------------------------------------------------------+ | IPSec | IPSec tunnels for the overcloud are enabled | +--------------+-------------------------------------------------------------------+ | Int | Internal traffic (undercloud) | +--------------+-------------------------------------------------------------------+ | Ext | External traffic (overcloud) | +--------------+-------------------------------------------------------------------+ | Browbeat | Performance testing | +--------------+-------------------------------------------------------------------+",1838,140
openstack%2Foslo.db~master~Idaca0bc97e33e0a080de612420177b5e102c628c,openstack/oslo.db,master,Idaca0bc97e33e0a080de612420177b5e102c628c,tox: Keeping going with docs,MERGED,2019-10-24 06:10:55.000000000,2019-11-06 08:18:31.000000000,2019-11-06 08:16:50.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6cc6a3102a988354deba6be0aae4fa309fe6a267', 'message': 'tox: Keeping going with docs\n\nChange-Id: Idaca0bc97e33e0a080de612420177b5e102c628c\n'}, {'number': 2, 'created': '2019-10-24 06:28:55.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9a5f153c4b3fc51f4bdf3d96965bdd25a2f45f92', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Idaca0bc97e33e0a080de612420177b5e102c628c\n""}]",0,690830,9a5f153c4b3fc51f4bdf3d96965bdd25a2f45f92,13,5,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Idaca0bc97e33e0a080de612420177b5e102c628c
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/30/690830/2 && git format-patch -1 --stdout FETCH_HEAD,"['RELEASENOTES.rst', 'releasenotes/notes/reno.cache', 'doc/requirements.txt', 'tox.ini']",4,6cc6a3102a988354deba6be0aae4fa309fe6a267,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,40,4
openstack%2Foslo.privsep~master~I07c753f5070fe887faf4f103b3f46bff59e3d1be,openstack/oslo.privsep,master,I07c753f5070fe887faf4f103b3f46bff59e3d1be,tox: Keeping going with docs,MERGED,2019-10-24 06:10:18.000000000,2019-11-06 06:58:26.000000000,2019-11-06 06:57:08.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/0d10e5009dd63e0f5f2161a1135fb15fa42b28ba', 'message': 'tox: Keeping going with docs\n\nChange-Id: I07c753f5070fe887faf4f103b3f46bff59e3d1be\n'}, {'number': 2, 'created': '2019-10-24 07:11:15.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/b99765fd6cee3646c17267e5c27880a4dc409368', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I07c753f5070fe887faf4f103b3f46bff59e3d1be\n""}]",0,690817,b99765fd6cee3646c17267e5c27880a4dc409368,13,4,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I07c753f5070fe887faf4f103b3f46bff59e3d1be
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/17/690817/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,0d10e5009dd63e0f5f2161a1135fb15fa42b28ba,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Ftripleo-ci~master~I0a1c4ab1d43a37d69a3817c4a659b287e1815cc3,openstack/tripleo-ci,master,I0a1c4ab1d43a37d69a3817c4a659b287e1815cc3,Add /toci-quickstart/config/testenv settings for vexxhost,MERGED,2019-11-05 20:21:21.000000000,2019-11-06 06:35:13.000000000,2019-11-06 06:35:13.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-11-05 20:21:21.000000000', 'files': ['toci-quickstart/config/testenv/singlenode-vexxhost.yml', 'toci-quickstart/config/testenv/standalone-vexxhost.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5fabc0b1ce52d07feb70b58e058116f93007368', 'message': 'Add /toci-quickstart/config/testenv settings for vexxhost\n\nGate josb running on vexxhost are failing looking for specific\nenv settings files because vexxhost is classed as a rh-cloud.\n\nThis review add those files and symlinks.\n\nChange-Id: I0a1c4ab1d43a37d69a3817c4a659b287e1815cc3\nCloses-Bug: #1851426\n'}]",0,693077,d5fabc0b1ce52d07feb70b58e058116f93007368,9,10,1,9976,,,0,"Add /toci-quickstart/config/testenv settings for vexxhost

Gate josb running on vexxhost are failing looking for specific
env settings files because vexxhost is classed as a rh-cloud.

This review add those files and symlinks.

Change-Id: I0a1c4ab1d43a37d69a3817c4a659b287e1815cc3
Closes-Bug: #1851426
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/77/693077/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/singlenode-vexxhost.yml', 'toci-quickstart/config/testenv/standalone-vexxhost.yml', 'toci-quickstart/config/testenv/multinode-vexxhost.yml']",3,d5fabc0b1ce52d07feb70b58e058116f93007368,bug1851426,"--- # TRIPLEO-CI environment settings cloudenv: ""vexxhost"" undercloud_user: ""{{ lookup('env','USER') }}"" non_root_user: ""{{ undercloud_user }}"" extra_args: > -e {{ tripleo_root }}/tripleo-ci/test-environments/worker-config.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/debug.yaml --overcloud-ssh-user {{ undercloud_user }} # ara install and config undercloud_ansible_cfg: false toci_vxlan_networking: true toci_vxlan_networking_multinode: true vxlan_mtu: 1350 hostname_correction: true # workaround restriction on toci images mtu: ""{{ vxlan_mtu }}"" undercloud_local_mtu: ""{{ mtu }}"" minion_local_mtu: ""{{ mtu }}"" overcloud_neutron_global_physnet_mtu: ""{{ mtu }}"" ceph_use_fqdn: true # environment settings, not TRIPLEO-CI specific undercloud_local_interface: ""br-ex"" # related to osinfra network configuration minion_local_interface: ""br-ex"" # related to osinfra network configuration flavor_args: """" undercloud_conf_extras: ""net_config_override = /opt/stack/new/tripleo-ci/undercloud-configs/net-config-multinode.json.template"" generate_pingtest_subunit: true # Images settings image_cache_dir_cleanup: true # user home (working_dir default) is the base dir for all images operations # if it's changed, nothing will work build_image_isolated: false build_undercloud: false # We don't need to cleanup TripleO CI tempest_track_resources: false # Use cirros cached image tempest_test_image_path: /opt/cache/files/cirros-0.3.5-x86_64-disk.img # Container update settings update_containers: >- {% if containerized_overcloud|bool or containerized_undercloud|bool -%} true {%- endif -%} # Tempestmail settings tempestmail_log_server: http://logs.rdoproject.org #build-test packages artg_repos_dir: ""{{ tripleo_root }}"" # disable disk cleaning before starting installation undercloud_clean_nodes: false # InfluxDB module settings influxdb_only_successful_tasks: true influxdb_measurement: job influxdb_url: https://influxdb.review.rdoproject.org influxdb_port: 8086 influxdb_user: tripleo_ci influxdb_password: influxdb_dbname: tripleo_ci influxdb_data_file_path: ""{{ artcl_collect_dir }}/influxdb_data"" influxdb_create_data_file: true # Browbeat settings cloud_name: vexxhost elastic_host: browbeat.test.com grafana_host: browbeat.test.com ",,74,0
openstack%2Fmistral~master~I54e9dd4e9c21fd83a23f1796263838b6dd6fec6e,openstack/mistral,master,I54e9dd4e9c21fd83a23f1796263838b6dd6fec6e,Add Source links to readme,MERGED,2019-10-18 04:42:25.000000000,2019-11-06 06:33:00.000000000,2019-11-06 06:29:02.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 04:42:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/510713f20bd3d7649e017d4d933d61027f01c3b9', 'message': 'Add Source links to readme\n\nChange-Id: I54e9dd4e9c21fd83a23f1796263838b6dd6fec6e\n'}]",0,689302,510713f20bd3d7649e017d4d933d61027f01c3b9,8,3,1,30384,,,0,"Add Source links to readme

Change-Id: I54e9dd4e9c21fd83a23f1796263838b6dd6fec6e
",git fetch https://review.opendev.org/openstack/mistral refs/changes/02/689302/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,510713f20bd3d7649e017d4d933d61027f01c3b9,, * Source for the project can be found at: https://opendev.org/openstack/mistral,,3,0
openstack%2Fdiskimage-builder~master~Iffd9dab1ca54f27390ec7850093e828ca7576e98,openstack/diskimage-builder,master,Iffd9dab1ca54f27390ec7850093e828ca7576e98,vhd-util : note on Xen/RAX images,MERGED,2019-10-30 21:36:54.000000000,2019-11-06 06:32:10.000000000,2019-11-06 06:30:20.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 21:36:54.000000000', 'files': ['doc/source/developer/index.rst', 'doc/source/developer/vhd_creation.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6758849b66aafb13e56888105a58393b22fbb7df', 'message': ""vhd-util : note on Xen/RAX images\n\nAdd a note covering what we've discovered about creating RAX/Xenserver\ncompatible images over the last few days.\n\nChange-Id: Iffd9dab1ca54f27390ec7850093e828ca7576e98\n""}]",0,692234,6758849b66aafb13e56888105a58393b22fbb7df,7,2,1,7118,,,0,"vhd-util : note on Xen/RAX images

Add a note covering what we've discovered about creating RAX/Xenserver
compatible images over the last few days.

Change-Id: Iffd9dab1ca54f27390ec7850093e828ca7576e98
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/34/692234/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/index.rst', 'doc/source/developer/vhd_creation.rst']",2,6758849b66aafb13e56888105a58393b22fbb7df,vhd-note,"vhd creation ============ There is currently a hard dependency on the patched version of ``vhd-utils`` to create Xenserver VHD compatible images. The main target for these images is the Rackspace Public Cloud. This note should explain the current issues. The patch to include ``convert`` as an option to ``vhd-utils``, avaialble at https://github.com/citrix-openstack/xenserver-utils/, is built by infra into a PPA available at https://launchpad.net/~openstack-ci-core/+archive/ubuntu/vhd-util. Upstream Xen has actually removed all the code related to ``blktap2`` with https://xenbits.xen.org/gitweb/?p=xen.git;a=commit;h=5c883cf036cf5ab8b1b79390549e2475f7a568dd. The tools have been removed from Debuntu with https://bugs.debian.org/917907. So this patch is even less trivial to apply; the project has seemingly been split into https://github.com/xapi-project/blktap/ but support status is unclear. It is tempting to use ``qemu-img`` image conversion routines. Indeed this supports converting RAW images to VPC output. However, VPC is a fairly flexible standard across a number of different hypervisors. The main standard is available from Microsoft at https://www.microsoft.com/en-us/download/confirmation.aspx?id=23850 and is what ``qemu-img`` impelements. However, trying to boot an image created with this results in a ""resize"" error. This is described in https://bugs.launchpad.net/nova/+bug/862653 but comes down to the following in https://github.com/xapi-project/blktap/blob/master/vhd/lib/vhd-util-resize.c#L1055:: if (!vhd_creator_tapdisk(&vhd)) { printf(""%s not created by xen; resize not supported\n"", name); err = -EINVAL; } It seems that Xen will refuse to grow a image without a creator ``tap\0``. It is tempting to patch ``qemu-img`` to do this (patch follows for those interested). However, if you look at the output with ``vhd-util read -p -n ./<file>.vhd`` you will notice it complains about an invalid ``batmap``. The ``batmap`` appears to be a Xen extension to the VPC standard. Checking ``vhd_has_batmap`` at https://github.com/xen-project/xen/blob/365aabb6e5023cee476adf81106729efd49c644f/tools/blktap2/vhd/lib/libvhd.c#L1193 it seems we can fool Xen by setting the vhd version tags low enough that it thinks the image doesn't have a ``batmap`` (i.e. presumably created with tools before ``batmap``'s existed). Side note: there is a bunch of qemu work to implement overlay VHD disks with https://patchwork.ozlabs.org/project/qemu-devel/list/?submitter=64750 which has never merged. This also seems to include a ``batmap`` implementation. With the full patch applied below, we get images that appear fairly similar from (patched) ``vhd-util`` and ``qemu-img``; generated from the same ``.raw`` file. qemu-img output:: VHD Footer Summary: ------------------- Cookie : conectix Features : (0x00000002) <RESV> File format version : Major: 1, Minor: 0 Data offset : 512 Timestamp : Wed Oct 30 06:25:41 2019 Creator Application : 'tap' Creator version : Major: 1, Minor: 0 Creator OS : Unknown! Original disk size : 16667 MB (17477591040 Bytes) Current disk size : 16667 MB (17477591040 Bytes) Geometry : Cyl: 33865, Hds: 16, Sctrs: 63 : = 16667 MB (17477591040 Bytes) Disk type : Dynamic hard disk Checksum : 0xffffec8c|0xffffec8c (Good!) UUID : 1bfda481-dd4d-43aa-8f3a-84689b5ab3d7 Saved state : No Hidden : 0 VHD Header Summary: ------------------- Cookie : cxsparse Data offset (unusd) : 18446744073709 Table offset : 1536 Header version : 0x00010000 Max BAT size : 8334 Block size : 2097152 (2 MB) Parent name : Parent UUID : 00000000-0000-0000-0000-000000000000 Parent timestamp : Sat Jan 1 00:00:00 2000 Checksum : 0xfffff3c9|0xfffff3c9 (Good!) vhd-utils output:: VHD Footer Summary: ------------------- Cookie : conectix Features : (0x00000002) <RESV> File format version : Major: 1, Minor: 0 Data offset : 512 Timestamp : Tue Oct 8 09:18:54 2019 Creator Application : 'tap' Creator version : Major: 1, Minor: 3 Creator OS : Unknown! Original disk size : 16668 MB (17477664768 Bytes) Current disk size : 16668 MB (17477664768 Bytes) Geometry : Cyl: 33865, Hds: 16, Sctrs: 63 : = 16667 MB (17477591040 Bytes) Disk type : Dynamic hard disk Checksum : 0xffffeebb|0xffffeebb (Good!) UUID : 14f2710a-b9b8-48f7-94bb-005ba6d566b2 Saved state : No Hidden : 0 VHD Header Summary: ------------------- Cookie : cxsparse Data offset (unusd) : 18446744073709 Table offset : 1536 Header version : 0x00010000 Max BAT size : 8334 Block size : 2097152 (2 MB) Parent name : Parent UUID : 00000000-0000-0000-0000-000000000000 Parent timestamp : Sat Jan 1 00:00:00 2000 Checksum : 0xfffff3c9|0xfffff3c9 (Good!) VHD Batmap Summary: ------------------- Batmap offset : 35840 Batmap size (secs) : 3 Batmap version : 0x00010002 Checksum : 0xfffbf214|0xfffbf214 (Good!) This does upload and boot in RAX, but the root disk does not appear to grow correctly. Emperically, it also seems that fixed sized disks (generated with ``subformat=fixed``) will not import (at least into Rackspace). I also tried resizing the dynamic ``vhd`` (with ``vhd-util resize --debug -n ./test.vhd -s $((32 * 1024 * 1024 )) -j resize.log``), which looked correct in ``vhd-util`` output (``Current disk size`` grew) but Rackspace would not import this image. qemu patch ========== Applies against qemu at HEAD ``16884391c750d0c5e863f55ad7aaaa146fc5181e`` :: diff --git a/block/vpc.c b/block/vpc.c index a655502..d1716f0 100644 --- a/block/vpc.c +++ b/block/vpc.c @@ -60,6 +60,7 @@ enum vhd_type { #define VHD_MAX_GEOMETRY (VHD_CHS_MAX_C * VHD_CHS_MAX_H * VHD_CHS_MAX_S) #define VPC_OPT_FORCE_SIZE ""force_size"" +#define VPC_OPT_XENSERVER_COMPAT ""xenserver_compat"" /* always big-endian */ typedef struct vhd_footer { @@ -1042,12 +1043,16 @@ static int coroutine_fn vpc_co_create(BlockdevCreateOptions *opts, memset(buf, 0, 1024); memcpy(footer->creator, ""conectix"", 8); - if (vpc_opts->force_size) { + if (vpc_opts->xenserver_compat) { + memcpy(footer->creator_app, ""tap\0"", 4); + memcpy(footer->creator_os, ""\0\0\0\0"", 4); + } else if (vpc_opts->force_size) { memcpy(footer->creator_app, ""qem2"", 4); + memcpy(footer->creator_os, ""Wi2k"", 4); } else { memcpy(footer->creator_app, ""qemu"", 4); + memcpy(footer->creator_os, ""Wi2k"", 4); } - memcpy(footer->creator_os, ""Wi2k"", 4); footer->features = cpu_to_be32(0x02); footer->version = cpu_to_be32(0x00010000); @@ -1058,9 +1063,14 @@ static int coroutine_fn vpc_co_create(BlockdevCreateOptions *opts, } footer->timestamp = cpu_to_be32(time(NULL) - VHD_TIMESTAMP_BASE); - /* Version of Virtual PC 2007 */ - footer->major = cpu_to_be16(0x0005); - footer->minor = cpu_to_be16(0x0003); + if (vpc_opts->xenserver_compat) { + footer->major = cpu_to_be16(0x0001); + footer->minor = cpu_to_be16(0x0000); + } else { + /* Version of Virtual PC 2007 */ + footer->major = cpu_to_be16(0x0005); + footer->minor = cpu_to_be16(0x0003); + } footer->orig_size = cpu_to_be64(total_size); footer->current_size = cpu_to_be64(total_size); footer->cyls = cpu_to_be16(cyls); @@ -1101,6 +1111,7 @@ static int coroutine_fn vpc_co_create_opts(const char *filename, static const QDictRenames opt_renames[] = { { VPC_OPT_FORCE_SIZE, ""force-size"" }, + { VPC_OPT_XENSERVER_COMPAT, ""xenserver-compat"" }, { NULL, NULL }, }; @@ -1220,6 +1231,11 @@ static QemuOptsList vpc_create_opts = { ""specified, rather than using the nearest CHS-based "" ""calculation"" }, + { + .name = VPC_OPT_XENSERVER_COMPAT, + .type = QEMU_OPT_BOOL, + .help = ""Set creator to tap"" + }, { /* end of list */ } } }; diff --git a/qapi/block-core.json b/qapi/block-core.json index aa97ee2..68daa3c 100644 --- a/qapi/block-core.json +++ b/qapi/block-core.json @@ -4669,6 +4669,7 @@ # @force-size Force use of the exact byte size instead of rounding to the # next size that can be represented in CHS geometry # (default: false) +# @xenserver-compat Xenserver comapt # # Since: 2.12 ## @@ -4676,7 +4677,9 @@ 'data': { 'file': 'BlockdevRef', 'size': 'size', '*subformat': 'BlockdevVpcSubformat', - '*force-size': 'bool' } } + '*force-size': 'bool', + '*xenserver-compat': 'bool' + } } ## # @BlockdevCreateOptions: ",,249,0
openstack%2Fmistral~master~I194d17b64a953ed0497da02b9ec079a536965668,openstack/mistral,master,I194d17b64a953ed0497da02b9ec079a536965668,adjust doc string to correct key,MERGED,2019-10-21 07:14:54.000000000,2019-11-06 06:31:20.000000000,2019-11-06 06:29:01.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 26693}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-10-21 07:14:54.000000000', 'files': ['mistral/actions/openstack/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f6ec559cac46ebe1e4edd2166328794d201b802b', 'message': 'adjust doc string to correct key\n\nChange-Id: I194d17b64a953ed0497da02b9ec079a536965668\n'}]",0,689680,f6ec559cac46ebe1e4edd2166328794d201b802b,15,5,1,26693,,,0,"adjust doc string to correct key

Change-Id: I194d17b64a953ed0497da02b9ec079a536965668
",git fetch https://review.opendev.org/openstack/mistral refs/changes/80/689680/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/actions.py'],1,f6ec559cac46ebe1e4edd2166328794d201b802b,fix-docstring2, :type secret_ref: string, :type name: string,1,1
openstack%2Foctavia-tempest-plugin~master~I61a202a2c1a6d15d714464d519de39f5f2acb2a6,openstack/octavia-tempest-plugin,master,I61a202a2c1a6d15d714464d519de39f5f2acb2a6,Add an option to reuse connections,MERGED,2019-07-26 13:12:15.000000000,2019-11-06 06:27:38.000000000,2019-11-06 06:25:30.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-07-26 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bd560d73188eaf0b4ca70e4b73394a64bc290e1b', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 2, 'created': '2019-07-29 11:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/76bb39daba230a1ca44cf7cca1d493594c44d92a', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 3, 'created': '2019-08-05 08:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/dfee10a8950f4278aa28f817634a5977f6f88a3b', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 4, 'created': '2019-08-06 08:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/16ebf7bcacd2abbe10fdf24abad2c35fdce2f147', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 5, 'created': '2019-09-30 13:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6880a3d1df1e48859ed6359333b7c903dadd71b6', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 6, 'created': '2019-10-03 09:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b005f63748ed078333bc5affbbc45eeef45cdc0e', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 7, 'created': '2019-10-14 09:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8a589b3f81eb19c110739b623e93b3f8f09cda59', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}, {'number': 8, 'created': '2019-10-24 11:29:35.000000000', 'files': ['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6a508ce44a6f65164ba6fb867354116625258f7c', 'message': 'Add an option to reuse connections\n\nWhile using requests.session TCP connections are\nreused. OVN Load Balancing algorithm uses hash with source port\nto route clients requests. In that terms if connection is reused\nthe load is not spread across members. This patch adds an option\nto disable reusing connections.\n\nChange-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6\nStory: 2006264\nTask: 35992\n'}]",0,672976,6a508ce44a6f65164ba6fb867354116625258f7c,47,11,8,24791,,,0,"Add an option to reuse connections

While using requests.session TCP connections are
reused. OVN Load Balancing algorithm uses hash with source port
to route clients requests. In that terms if connection is reused
the load is not spread across members. This patch adds an option
to disable reusing connections.

Change-Id: I61a202a2c1a6d15d714464d519de39f5f2acb2a6
Story: 2006264
Task: 35992
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/76/672976/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/test_base.py']",2,bd560d73188eaf0b4ca70e4b73394a64bc290e1b,source_ip_port_octavia_ovn," handler = requests if CONF.load_balancer.test_reuse_connection: handler = requests.Session() r = handler.get('{0}://{1}'.format(protocol, vip_address),"," session = requests.Session() r = session.get('{0}://{1}'.format(protocol, vip_address),",7,2
openstack%2Fpaunch~master~Ie75bc2e2e7a4edc8af1bda6e0522f2ad4964ab9c,openstack/paunch,master,Ie75bc2e2e7a4edc8af1bda6e0522f2ad4964ab9c,Switch to Ussuri jobs,MERGED,2019-10-24 06:51:27.000000000,2019-11-06 06:24:53.000000000,2019-11-06 06:22:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:51:27.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/0b53dc7183aa398b0e419135ab8b1fbdcef01876', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie75bc2e2e7a4edc8af1bda6e0522f2ad4964ab9c\n'}]",0,690864,0b53dc7183aa398b0e419135ab8b1fbdcef01876,10,5,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Ie75bc2e2e7a4edc8af1bda6e0522f2ad4964ab9c
",git fetch https://review.opendev.org/openstack/paunch refs/changes/64/690864/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0b53dc7183aa398b0e419135ab8b1fbdcef01876,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-heat-templates~master~I9711ef977d045f1dbcdc631fe2655294109031b8,openstack/tripleo-heat-templates,master,I9711ef977d045f1dbcdc631fe2655294109031b8,Remove OpenDaylight templates and environments,MERGED,2019-09-17 12:35:11.000000000,2019-11-06 06:19:15.000000000,2019-10-23 04:22:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-09-17 12:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8f7b0c37359b1016cc39e2a13f144158873f0b2', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 2, 'created': '2019-09-17 17:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/436ae7a425a137b8121727e2b579081f4c6a6707', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 3, 'created': '2019-09-19 02:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0b3b5a494d0a9340d0820d6592b9d1f9898708f', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 4, 'created': '2019-10-09 08:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1b1190631ddf8f87d499cac42779ca2978677c0', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 5, 'created': '2019-10-11 10:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5707be98ba191ccb745a9173f36e24105a1f072d', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 6, 'created': '2019-10-14 09:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3091d9cc78eb306c293a202e516889f4fae5d4c3', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}, {'number': 7, 'created': '2019-10-18 06:11:04.000000000', 'files': ['environments/services-baremetal/neutron-bgpvpn-opendaylight.yaml', 'environments/services/neutron-opendaylight-sriov.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'environments/services-baremetal/neutron-l2gw-opendaylight.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'network/endpoints/endpoint_map.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'capabilities-map.yaml', 'sample-env-generator/undercloud-minion.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'environments/services/neutron-l2gw-opendaylight.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'environments/services/neutron-sfc-opendaylight.yaml', 'roles/Compute.yaml', 'sample-env-generator/ssl.yaml', 'environments/odl-dscp-marking-inheritance.yaml', 'releasenotes/notes/remove-odl-735ca4129c2a450e.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'environments/undercloud/undercloud-minion.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/services/neutron-opendaylight-dpdk.yaml', 'environments/services/neutron-opendaylight.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-bgpvpn-opendaylight.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3', 'message': 'Remove OpenDaylight templates and environments\n\nOpenDaylight deployment has been deprecated in Stein. In Train,\nthe tempaltes are removed.\n\nChange-Id: I9711ef977d045f1dbcdc631fe2655294109031b8\n'}]",0,682630,9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3,48,9,7,18575,,,0,"Remove OpenDaylight templates and environments

OpenDaylight deployment has been deprecated in Stein. In Train,
the tempaltes are removed.

Change-Id: I9711ef977d045f1dbcdc631fe2655294109031b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/682630/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services-baremetal/neutron-bgpvpn-opendaylight.yaml', 'environments/services/neutron-opendaylight-sriov.yaml', 'environments/services/neutron-opendaylight-dpdk.yaml', 'environments/services/neutron-opendaylight.yaml', 'environments/services-baremetal/neutron-l2gw-opendaylight.yaml', 'deployment/logging/files/opendaylight-api.yaml', 'environments/services/neutron-sfc-opendaylight.yaml', 'releasenotes/notes/remove-odl-735ca4129c2a450e.yaml', 'capabilities-map.yaml', 'ci/environments/scenario008-multinode-containers.yaml', 'deployment/neutron/neutron-plugin-ml2-odl.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/services/neutron-l2gw-opendaylight.yaml', 'deployment/deprecated/opendaylight/opendaylight-ovs-baremetal-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight-sriov.yaml', 'environments/services/neutron-bgpvpn-opendaylight.yaml', 'deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml', 'environments/services-baremetal/neutron-opendaylight.yaml']",18,d8f7b0c37359b1016cc39e2a13f144158873f0b2,remove_odl,,"# A Heat environment that can be used to deploy OpenDaylight with L3 DVR using Docker containers resource_registry: OS::TripleO::Services::NeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronOvsAgent: OS::Heat::None OS::TripleO::Services::ComputeNeutronCorePlugin: OS::Heat::None OS::TripleO::Services::OVNDBs: OS::Heat::None OS::TripleO::Services::OVNController: OS::Heat::None OS::TripleO::Services::OpenDaylightApi: ../../deployment/deprecated/opendaylight/opendaylight-api-container-puppet.yaml OS::TripleO::Services::OpenDaylightOvs: ../../puppet/services/opendaylight-ovs.yaml OS::TripleO::Services::NeutronL3Agent: OS::Heat::None OS::TripleO::Docker::NeutronMl2PluginBase: ../../deployment/neutron/neutron-plugin-ml2-odl.yaml parameter_defaults: NeutronEnableForceMetadata: true NeutronPluginExtensions: 'port_security' NeutronMechanismDrivers: 'opendaylight_v2' NeutronServicePlugins: 'odl-router_v2,trunk' ",5,1019
openstack%2Ftripleo-ansible~master~Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,openstack/tripleo-ansible,master,Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b,Fix the filter plugin location for triple-ovs-dpdk role,MERGED,2019-10-16 07:31:19.000000000,2019-11-06 06:16:19.000000000,2019-10-23 01:18:30.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-16 07:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e07890c7a37d043dfaa9a9a3c2f7a0a72c67b3f8', 'message': 'Fix the filter plugin location for triple-ovs-dpdk role\n\nUnlike the plugins directory, filter plugins in a role\nhas to be associated with filter_plugins directory insted\nof plugins/filter directory. Moved cpu_mask filter to\nthe filter_plugins directory in tripleo-ovs-dpdk role.\n\nChange-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b\n'}, {'number': 2, 'created': '2019-10-18 07:14:23.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/cpu_mask.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cc956ed10073fcc1b9bc91965e01892d6aae173', 'message': 'Fix the filter plugin location for triple-ovs-dpdk role\n\nMove the cpu_mask filter plugin to the common filter plugins\ndirectory of the project.\n\nChange-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b\n'}]",0,688864,0cc956ed10073fcc1b9bc91965e01892d6aae173,14,5,2,18575,,,0,"Fix the filter plugin location for triple-ovs-dpdk role

Move the cpu_mask filter plugin to the common filter plugins
directory of the project.

Change-Id: Ibcbcdda9112f438324e8b7cbf911ecf9c1eb813b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/688864/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ovs-dpdk/filter_plugins/cpu_mask.py'],1,e07890c7a37d043dfaa9a9a3c2f7a0a72c67b3f8,fix_directory_cpu_mask,,,0,0
openstack%2Fpython-openstackclient~master~I0d7432f13642fbccd5ca79da9c76adfcbabb5fa9,openstack/python-openstackclient,master,I0d7432f13642fbccd5ca79da9c76adfcbabb5fa9,Refactor AggregateTests,MERGED,2019-11-05 19:37:10.000000000,2019-11-06 06:00:56.000000000,2019-11-06 05:59:24.000000000,"[{'_account_id': 970}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 19:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/df2f7a912ffc0e295c0808879b209fff39216cb9', 'message': 'Refactor AggregateTests\n\nWhile investigating the referenced story/bug I noticed that\nwait_for_status in\nopenstackclient.tests.functional.compute.v2.test_aggregate.AggregateTests\nwas doing a lot more than it should ever need to (it probably got copied\nin from somewhere). The two places calling it only need to a) check the\noutput of `openstack aggregate show`, and b) try once -- since they just\ngot done creating the aggregate synchronously, there should never be a\nneed to delay/retry. So this commit removes the helper method and just\ninlines the check.\n\nAt the same time, the addCleanup(aggregate delete) directives are moved\nabove their respective creates. This is a defensive best practice which\nmakes sure cleanup happens even if something fails very soon after the\nactual back-end create (as was in fact the case with the referenced\nbug/story).\n\nIt is unknown whether this will impact the referenced bug.\n\nChange-Id: I0d7432f13642fbccd5ca79da9c76adfcbabb5fa9\nStory: 2006811\nRelated-Bug: #1851391\n'}, {'number': 2, 'created': '2019-11-05 21:32:17.000000000', 'files': ['openstackclient/tests/functional/compute/v2/test_aggregate.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3b409e4d0e136380042a59a421ec4c4dc5b95c18', 'message': 'Refactor AggregateTests\n\nWhile investigating the referenced story/bug I noticed that\nwait_for_status in\nopenstackclient.tests.functional.compute.v2.test_aggregate.AggregateTests\nwas doing a lot more than it should ever need to (it probably got copied\nin from somewhere). The two places calling it only need to a) check the\noutput of `openstack aggregate show`, and b) try once -- since they just\ngot done creating the aggregate synchronously, there should never be a\nneed to delay/retry. So this commit removes the helper method and just\ninlines the check.\n\nAt the same time, the addCleanup(aggregate delete) directives are moved\nabove their respective creates. This is a defensive best practice which\nmakes sure cleanup happens even if something fails very soon after the\nactual back-end create (as was in fact the case with the referenced\nbug/story).\n\nIt is unknown whether this will impact the referenced bug.\n\nChange-Id: I0d7432f13642fbccd5ca79da9c76adfcbabb5fa9\nStory: 2006811\nRelated-Bug: #1851391\n'}]",2,693073,3b409e4d0e136380042a59a421ec4c4dc5b95c18,17,3,2,14070,,,0,"Refactor AggregateTests

While investigating the referenced story/bug I noticed that
wait_for_status in
openstackclient.tests.functional.compute.v2.test_aggregate.AggregateTests
was doing a lot more than it should ever need to (it probably got copied
in from somewhere). The two places calling it only need to a) check the
output of `openstack aggregate show`, and b) try once -- since they just
got done creating the aggregate synchronously, there should never be a
need to delay/retry. So this commit removes the helper method and just
inlines the check.

At the same time, the addCleanup(aggregate delete) directives are moved
above their respective creates. This is a defensive best practice which
makes sure cleanup happens even if something fails very soon after the
actual back-end create (as was in fact the case with the referenced
bug/story).

It is unknown whether this will impact the referenced bug.

Change-Id: I0d7432f13642fbccd5ca79da9c76adfcbabb5fa9
Story: 2006811
Related-Bug: #1851391
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/73/693073/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/compute/v2/test_aggregate.py'],1,df2f7a912ffc0e295c0808879b209fff39216cb9,bug/1851391," self.addCleanup( self.openstack, 'aggregate delete ' + name1, fail_ok=True, ) cmd_output = json.loads(self.openstack( 'aggregate show -f json ' + name1)) self.assertEqual(name1, cmd_output['name']) self.addCleanup( self.openstack, 'aggregate delete ' + name2, fail_ok=True, ) cmd_output = json.loads(self.openstack( 'aggregate show -f json ' + name2)) self.assertEqual(name2, cmd_output['name']) self.addCleanup( self.openstack, 'aggregate delete ' + name3, fail_ok=True, ) self.addCleanup(self.openstack, 'aggregate delete ' + name)"," def wait_for_status(self, check_type, check_name, desired_status, wait=120, interval=5, failures=None): current_status = ""notset"" if failures is None: failures = ['error'] total_sleep = 0 while total_sleep < wait: output = json.loads(self.openstack( check_type + ' show -f json ' + check_name)) current_status = output['name'] if (current_status == desired_status): print('{} {} now has status {}' .format(check_type, check_name, current_status)) return print('Checking {} {} Waiting for {} current status: {}' .format(check_type, check_name, desired_status, current_status)) if current_status in failures: raise Exception( 'Current status {} of {} {} is one of failures {}' .format(current_status, check_type, check_name, failures)) time.sleep(interval) total_sleep += interval self.assertOutput(desired_status, current_status) self.wait_for_status('aggregate', name1, name1) self.addCleanup( self.openstack, 'aggregate delete ' + name1, fail_ok=True, ) self.wait_for_status('aggregate', name2, name2) self.addCleanup( self.openstack, 'aggregate delete ' + name2, fail_ok=True, ) self.addCleanup( self.openstack, 'aggregate delete ' + name3, fail_ok=True, ) self.addCleanup(self.openstack, 'aggregate delete ' + name)",22,43
openstack%2Fkarbor~master~I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51,openstack/karbor,master,I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51,Imported Translations from Zanata,MERGED,2019-11-02 09:18:54.000000000,2019-11-06 05:00:37.000000000,2019-11-06 04:59:31.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 09:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/529887908dda41e50427166f8d72ecb0a6accdec', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51\n'}, {'number': 2, 'created': '2019-11-04 09:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ddac62bf48eb4b2db4c7974611e488299de01cd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51\n'}, {'number': 3, 'created': '2019-11-05 09:07:35.000000000', 'files': ['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d8749ff6401166aa192334ed11e03a2eb6316f23', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51\n'}]",0,692648,d8749ff6401166aa192334ed11e03a2eb6316f23,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I63ef76eaa7bc22c62bc99bd0fcc9a3e2adec0f51
",git fetch https://review.opendev.org/openstack/karbor refs/changes/48/692648/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po'],1,529887908dda41e50427166f8d72ecb0a6accdec,zanata/translations,"# Hongjae Kim <neo415ha@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-11-01 01:29+0000\n""""PO-Revision-Date: 2019-11-02 08:11+0000\n"" ""Last-Translator: Hongjae Kim <neo415ha@gmail.com>\n""msgid ""0.2.0"" msgstr ""0.2.0"" msgid ""1.2.0"" msgstr ""1.2.0"" msgid ""Add support for listing checkpoints by admin with all_tenants."" msgstr ""all_tenants      ."" msgid ""Add support for using S3 comptatible storage as bank plugin."" msgstr ""S3        ."" msgid ""Added RFC2445 (iCal) format for time triggers."" msgstr ""   RFC2445(iCal)  ."" msgid ""Added new tool ``karbor-status upgrade check``."" msgstr ""  \""   \"" ."" msgid ""Added support for checkpoint state reset by admin and owner."" msgstr ""        ."" msgid ""Bug Fixes"" msgstr "" "" msgid ""Deprecation Notes"" msgstr "" "" msgid """" ""Fix checkpoint listing bug, which caused results to be not filtered "" ""correctly according to set filters."" msgstr """" ""          "" ""."" msgid """" ""New framework for ``karbor-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Karbor "" ""upgrade to ensure if the upgrade can be performed safely."" msgstr """" ""``karbor-status upgrade check\""    .  "" ""         "" ""         ."" msgid """" ""Old Protection Plugin interface and BaseProtectionPlugin are deprecated."" msgstr """" ""    BaseProtectionPlugin    "" ""."" msgid """" ""Operator can now use new CLI tool ``karbor-status upgrade check`` to check "" ""if Karbor deployment can be safely upgraded from N-1 to N release."" msgstr """" ""   CLI  \""karbor-status upgrade check\""  "" ""  N-1 N        ."" msgid ""Prelude"" msgstr """" msgid """" ""Restore auth parameters now reside in restore_auth instead of restore "" ""parameters."" msgstr """" ""         restore_auth  ."" msgid """" ""Revised Cinder protection plugin, which takes a snapshot, backs up from the "" ""snapshot, and deletes the snapshot afterwards."" msgstr """" ""         Cinder "" "" "" msgid """" ""Revised Glance protection plugin, which uploads the glance image in chunks "" ""to the bank."" msgstr ""        ."" msgid """" ""Revised Protection Plugin interface which now supports multiple hooks for "" ""each operation. Hooks dictate when specific parts of the protection plugin "" ""code runs in relation to the operation phase and other resource's state."" msgstr """" ""           "" ""            "" ""   ."" msgid ""Upgrade Notes"" msgstr "" "" ","""POT-Creation-Date: 2018-03-15 03:41+0000\n""""PO-Revision-Date: 2017-08-09 01:00+0000\n"" ""Last-Translator: SEOKJAE BARK <sj.bark@samsung.com>\n""",93,3
openstack%2Fmistral-lib~master~If3d3b044a0455000c80bea4e6240ad98d74cc540,openstack/mistral-lib,master,If3d3b044a0455000c80bea4e6240ad98d74cc540,Wrong call to super,MERGED,2019-10-30 12:20:48.000000000,2019-11-06 04:57:32.000000000,2019-11-06 04:57:31.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-10-30 12:20:48.000000000', 'files': ['mistral_lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/85022089b2db97c49a2aafea427c990463c4eb81', 'message': 'Wrong call to super\n\nChange-Id: If3d3b044a0455000c80bea4e6240ad98d74cc540\n'}]",0,692121,85022089b2db97c49a2aafea427c990463c4eb81,7,3,1,19134,,,0,"Wrong call to super

Change-Id: If3d3b044a0455000c80bea4e6240ad98d74cc540
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/21/692121/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_lib/exceptions.py'],1,85022089b2db97c49a2aafea427c990463c4eb81,eyalb/exception," super(MistralExceptionBase, self).__init__("," super(MistralError, self).__init__(",1,1
openstack%2Fpython-karborclient~master~I812ccf4ac1e5ab3f3d2402bcf9a9dd5b88781513,openstack/python-karborclient,master,I812ccf4ac1e5ab3f3d2402bcf9a9dd5b88781513,Add unit test for operation logs,MERGED,2019-11-05 06:45:21.000000000,2019-11-06 04:56:32.000000000,2019-11-06 04:55:31.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 06:45:21.000000000', 'files': ['karborclient/tests/unit/v1/test_operation_logs.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/5bd1b2feeb41fdaf65365b4c85376ba741b2ef7c', 'message': 'Add unit test for operation logs\n\nChange-Id: I812ccf4ac1e5ab3f3d2402bcf9a9dd5b88781513\n'}]",0,692950,5bd1b2feeb41fdaf65365b4c85376ba741b2ef7c,7,2,1,29272,,,0,"Add unit test for operation logs

Change-Id: I812ccf4ac1e5ab3f3d2402bcf9a9dd5b88781513
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/50/692950/1 && git format-patch -1 --stdout FETCH_HEAD,['karborclient/tests/unit/v1/test_operation_logs.py'],1,5bd1b2feeb41fdaf65365b4c85376ba741b2ef7c,unit_test_operation_logs," def test_list_operation_logs(self, mock_request): mock_request.return_value = mock_request_return cs.operation_logs.list() mock_request.assert_called_with( 'GET', '/operation_logs', headers={}) @mock.patch('karborclient.common.http.HTTPClient.json_request') def test_list_operation_logs_with_all_tenants(self, mock_request): mock_request.return_value = mock_request_return cs.operation_logs.list(search_opts={'all_tenants': 1}) mock_request.assert_called_with( 'GET', '/operation_logs?all_tenants=1', headers={}) @mock.patch('karborclient.common.http.HTTPClient.json_request')",,16,0
openstack%2Fkarbor~master~Ie35cc9150f654f2382336eeef23823eb9d766bd7,openstack/karbor,master,Ie35cc9150f654f2382336eeef23823eb9d766bd7,Correct spelling errors in test_quota_classes,MERGED,2019-06-26 02:10:48.000000000,2019-11-06 04:55:57.000000000,2019-11-06 04:54:39.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}, {'_account_id': 29451}]","[{'number': 1, 'created': '2019-06-26 02:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/fe712271017ab8a0ae50f5863d8a58ea5c0676fb', 'message': 'Correct spelling errors in test_quota_classes\n\nChange-Id: Ie35cc9150f654f2382336eeef23823eb9d766bd7\n'}, {'number': 2, 'created': '2019-08-20 03:00:09.000000000', 'files': ['karbor/tests/unit/api/v1/test_restores.py', 'karbor/tests/unit/api/v1/test_providers.py', 'karbor/tests/unit/api/v1/test_plans.py', 'karbor/tests/unit/api/v1/test_quota_classes.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7dfb09b147d29a20d12280fc25cd5d889a9eabc1', 'message': 'Correct spelling errors in test_quota_classes\n\nChange-Id: Ie35cc9150f654f2382336eeef23823eb9d766bd7\n'}]",0,667492,7dfb09b147d29a20d12280fc25cd5d889a9eabc1,13,4,2,29451,,,0,"Correct spelling errors in test_quota_classes

Change-Id: Ie35cc9150f654f2382336eeef23823eb9d766bd7
",git fetch https://review.opendev.org/openstack/karbor refs/changes/92/667492/2 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/api/v1/test_quota_classes.py'],1,fe712271017ab8a0ae50f5863d8a58ea5c0676fb,correct_spelling_errors," def test_quota_show(self, mock_quota_get): self.assertTrue(mock_quota_get.called)"," def test_quota_show(self, moak_quota_get): self.assertTrue(moak_quota_get.called)",2,2
openstack%2Ftripleo-heat-templates~master~I5c99a72ccdf70e4bfa6f1d16ea7a000f861747c4,openstack/tripleo-heat-templates,master,I5c99a72ccdf70e4bfa6f1d16ea7a000f861747c4,Pass server metadata to ansible group vars,MERGED,2019-10-15 12:58:19.000000000,2019-11-06 04:39:17.000000000,2019-11-06 04:39:16.000000000,"[{'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 12:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12f84a0be10b5e46f6b293ee057fc61f0c95fc47', 'message': '[WiP] pass server metadata to ansible group vars\n\nChange-Id: I5c99a72ccdf70e4bfa6f1d16ea7a000f861747c4\n'}, {'number': 2, 'created': '2019-10-17 08:17:55.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6353a6cbc369012510339812308d4415e33222aa', 'message': 'Pass server metadata to ansible group vars\n\nChange-Id: I5c99a72ccdf70e4bfa6f1d16ea7a000f861747c4\n'}]",0,688702,6353a6cbc369012510339812308d4415e33222aa,17,5,2,14250,,,0,"Pass server metadata to ansible group vars

Change-Id: I5c99a72ccdf70e4bfa6f1d16ea7a000f861747c4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/688702/1 && git format-patch -1 --stdout FETCH_HEAD,['common/services/role.role.j2.yaml'],1,12f84a0be10b5e46f6b293ee057fc61f0c95fc47,novajoin_removal," ansible_group_vars: map_merge: - {get_attr: [AnsibleGroupVars, value]} - {get_attr: [ServiceServerMetadataHook, metadata]}"," ansible_group_vars: {get_attr: [AnsibleGroupVars, value]}",4,1
openstack%2Ftripleo-heat-templates~master~I0bca04cd4883a1bf61b06a0828e323bc388a95be,openstack/tripleo-heat-templates,master,I0bca04cd4883a1bf61b06a0828e323bc388a95be,Set ServerDeletionPolicy during upgrade prepare and converge,MERGED,2019-11-04 20:15:41.000000000,2019-11-06 04:39:14.000000000,2019-11-06 04:39:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 20:15:41.000000000', 'files': ['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab958c2f3e7d836b5095f234103e6b30525de9f0', 'message': ""Set ServerDeletionPolicy during upgrade prepare and converge\n\nThis change will always set ServerDeletionPolicy to 'retain' during\nupgrade prepare, and back to the default 'delete' during the converge.\n\nFor a normal upgrade this will have no effect since scale-down is not\nrecommended during an upgrade.\n\nFor a transition from nova based undercloud to nova-less, this allows\nthe following steps to work:\n1. operator builds a valid deployed-server environment file by running\n   'openstack overcloud node extract provisioned'[1]\n2. running 'openstack overcloud upgrade prepare' will prevent the next\n   stack update from deleting any nova servers\n3. running 'openstack overcloud upgrade converge' with the environment\n   from 1. will replace nova heat resources with deployed server\n   resources which are managed directly with the provision/unprovision\n   commands\n\nThis approach is an alternative to preventing the heat nova resource\nfrom ever deleting a nova server after the undercloud upgrade[2]\n\n[1] https://review.opendev.org/#/c/674141/\n[2] https://review.opendev.org/#/c/675498/\nBlueprint: bp/nova-less-deploy\n\nChange-Id: I0bca04cd4883a1bf61b06a0828e323bc388a95be\n""}]",0,692899,ab958c2f3e7d836b5095f234103e6b30525de9f0,14,6,1,4571,,,0,"Set ServerDeletionPolicy during upgrade prepare and converge

This change will always set ServerDeletionPolicy to 'retain' during
upgrade prepare, and back to the default 'delete' during the converge.

For a normal upgrade this will have no effect since scale-down is not
recommended during an upgrade.

For a transition from nova based undercloud to nova-less, this allows
the following steps to work:
1. operator builds a valid deployed-server environment file by running
   'openstack overcloud node extract provisioned'[1]
2. running 'openstack overcloud upgrade prepare' will prevent the next
   stack update from deleting any nova servers
3. running 'openstack overcloud upgrade converge' with the environment
   from 1. will replace nova heat resources with deployed server
   resources which are managed directly with the provision/unprovision
   commands

This approach is an alternative to preventing the heat nova resource
from ever deleting a nova server after the undercloud upgrade[2]

[1] https://review.opendev.org/#/c/674141/
[2] https://review.opendev.org/#/c/675498/
Blueprint: bp/nova-less-deploy

Change-Id: I0bca04cd4883a1bf61b06a0828e323bc388a95be
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/692899/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/upgrade-converge.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,ab958c2f3e7d836b5095f234103e6b30525de9f0,bp/nova-less-deploy, ServerDeletionPolicy: retain,,2,0
openstack%2Fmistral-lib~stable%2Fstein~I544d3c172f2dea02c62c49c311c4b5954413ae15,openstack/mistral-lib,stable/stein,I544d3c172f2dea02c62c49c311c4b5954413ae15,Ensure we mask sensitive data from Mistral Action logs,MERGED,2019-11-05 10:41:52.000000000,2019-11-06 04:39:08.000000000,2019-11-06 04:39:08.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-05 10:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/618ea1e3e847956d0b4c922f0d1acf0628e10bb1', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit f51d2a21c0e75fe0e20990877e0615d4ace6af89)\n'}, {'number': 2, 'created': '2019-11-05 11:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/da624d93c63428e0d98337866019d65e648fb92f', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit f51d2a21c0e75fe0e20990877e0615d4ace6af89)\n'}, {'number': 3, 'created': '2019-11-05 12:31:24.000000000', 'files': ['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/bb41d4d6852db966f24ecf38e4750baa870a422a', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit f51d2a21c0e75fe0e20990877e0615d4ace6af89)\n'}]",0,692974,bb41d4d6852db966f24ecf38e4750baa870a422a,11,3,3,9712,,,0,"Ensure we mask sensitive data from Mistral Action logs

Mistral didn't make use of the oslo_utils ""mask_password"" methods,
leading in sensitive data leakage in its logs.

This patch corrects this security issue.
Note that it depends on oslo_utils patch adding new patterns, and
ensuring it's case-insensitive.

Change-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15
Related-Bug: #1850843
Co-Authored-By: Dougal Matthews <dougal@redhat.com>
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit f51d2a21c0e75fe0e20990877e0615d4ace6af89)
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/74/692974/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py']",4,618ea1e3e847956d0b4c922f0d1acf0628e10bb1,bug/1850843," _data = utils.mask_data(self.data) _error = utils.mask_data(self.error) _cancel = utils.mask_data(self.cancel) utils.cut(_data), utils.cut(_error), str(_cancel)"," utils.cut(self.data), utils.cut(self.error), str(self.cancel)",34,1
openstack%2Fmistral-lib~stable%2Ftrain~I544d3c172f2dea02c62c49c311c4b5954413ae15,openstack/mistral-lib,stable/train,I544d3c172f2dea02c62c49c311c4b5954413ae15,Ensure we mask sensitive data from Mistral Action logs,MERGED,2019-11-05 10:05:24.000000000,2019-11-06 04:39:07.000000000,2019-11-06 04:39:07.000000000,"[{'_account_id': 3153}, {'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-05 10:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/0493f675c8f5b0c5540e035341e6dd0763e50356', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nDepends-On: https://review.opendev.org/#/c/692965/\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}, {'number': 2, 'created': '2019-11-05 10:37:43.000000000', 'files': ['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/4bac2b282e3a01e7a9a035d8b8c921024ecb6261', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}]",0,692970,4bac2b282e3a01e7a9a035d8b8c921024ecb6261,10,4,2,9712,,,0,"Ensure we mask sensitive data from Mistral Action logs

Mistral didn't make use of the oslo_utils ""mask_password"" methods,
leading in sensitive data leakage in its logs.

This patch corrects this security issue.
Note that it depends on oslo_utils patch adding new patterns, and
ensuring it's case-insensitive.

Change-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15
Related-Bug: #1850843
Co-Authored-By: Dougal Matthews <dougal@redhat.com>
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/70/692970/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py']",4,0493f675c8f5b0c5540e035341e6dd0763e50356,bug/1850843," _data = utils.mask_data(self.data) _error = utils.mask_data(self.error) _cancel = utils.mask_data(self.cancel) utils.cut(_data), utils.cut(_error), str(_cancel)"," utils.cut(self.data), utils.cut(self.error), str(self.cancel)",36,1
openstack%2Foslo.policy~master~I9af0e8323b85d47983274b4d45b27f6c036ea5a8,openstack/oslo.policy,master,I9af0e8323b85d47983274b4d45b27f6c036ea5a8,tox: Keeping going with docs,MERGED,2019-10-24 06:10:31.000000000,2019-11-06 04:26:53.000000000,2019-11-06 04:25:47.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/3f58693f759af62c24d5ae77a4f434488774f65e', 'message': 'tox: Keeping going with docs\n\nChange-Id: I9af0e8323b85d47983274b4d45b27f6c036ea5a8\n'}, {'number': 2, 'created': '2019-10-24 06:54:54.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e6fe8b29ec2aa0277c4a140c07878f764ebbb08c', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I9af0e8323b85d47983274b4d45b27f6c036ea5a8\n""}]",0,690823,e6fe8b29ec2aa0277c4a140c07878f764ebbb08c,10,4,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I9af0e8323b85d47983274b4d45b27f6c036ea5a8
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/23/690823/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,3f58693f759af62c24d5ae77a4f434488774f65e,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Foslo.context~master~I07690fb61001eb282d895fbbac4cd856defe6581,openstack/oslo.context,master,I07690fb61001eb282d895fbbac4cd856defe6581,tox: Keeping going with docs,MERGED,2019-10-24 06:10:47.000000000,2019-11-06 04:19:45.000000000,2019-11-06 04:18:32.000000000,"[{'_account_id': 6928}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/5ae3c4a1a5e2151e7fa4db8922d61cee5a98ad54', 'message': 'tox: Keeping going with docs\n\nChange-Id: I07690fb61001eb282d895fbbac4cd856defe6581\n'}, {'number': 2, 'created': '2019-10-24 06:31:03.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/5c5df03d0bd11177ce9fb250724e2e84d7a02f0e', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I07690fb61001eb282d895fbbac4cd856defe6581\n""}]",0,690829,5c5df03d0bd11177ce9fb250724e2e84d7a02f0e,12,5,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I07690fb61001eb282d895fbbac4cd856defe6581
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/29/690829/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,5ae3c4a1a5e2151e7fa4db8922d61cee5a98ad54,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.utils~master~I7d39be84c5c8bd730119220720d2d33cb9e4ef62,openstack/oslo.utils,master,I7d39be84c5c8bd730119220720d2d33cb9e4ef62,tox: Keeping going with docs,MERGED,2019-10-24 06:10:37.000000000,2019-11-06 04:10:17.000000000,2019-11-06 04:09:01.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/9bb15f82908cdf098e2752ffa5f504d6181bd48e', 'message': 'tox: Keeping going with docs\n\nChange-Id: I7d39be84c5c8bd730119220720d2d33cb9e4ef62\n'}, {'number': 2, 'created': '2019-10-24 06:49:07.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/dad48cabbe91ab6f4a4c511d39f9bfd5c2c0fc17', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I7d39be84c5c8bd730119220720d2d33cb9e4ef62\n""}]",0,690826,dad48cabbe91ab6f4a4c511d39f9bfd5c2c0fc17,10,4,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I7d39be84c5c8bd730119220720d2d33cb9e4ef62
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/26/690826/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,9bb15f82908cdf098e2752ffa5f504d6181bd48e,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.cache~master~I91ed3b79467683cfca34ef7d79afeb3e6d966f86,openstack/oslo.cache,master,I91ed3b79467683cfca34ef7d79afeb3e6d966f86,tox: Keeping going with docs,MERGED,2019-10-24 06:10:25.000000000,2019-11-06 04:08:40.000000000,2019-11-06 04:07:40.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-24 06:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/de95ab8fbedef698ebcfe6a01776539a710acdf1', 'message': 'tox: Keeping going with docs\n\nChange-Id: I91ed3b79467683cfca34ef7d79afeb3e6d966f86\n'}, {'number': 2, 'created': '2019-10-24 07:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5180791a1a3858825c310aeeefa152e05e161486', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I91ed3b79467683cfca34ef7d79afeb3e6d966f86\n""}, {'number': 3, 'created': '2019-10-24 07:01:55.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/29098ac5f19acfe58f3fd72027a50809406af880', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I91ed3b79467683cfca34ef7d79afeb3e6d966f86\n""}]",0,690820,29098ac5f19acfe58f3fd72027a50809406af880,13,5,3,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I91ed3b79467683cfca34ef7d79afeb3e6d966f86
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/20/690820/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,de95ab8fbedef698ebcfe6a01776539a710acdf1,, sphinx-build --keep-going -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.middleware~master~Ic68b7acf92512255d4e1e3c2e5d3b6ff795e1354,openstack/oslo.middleware,master,Ic68b7acf92512255d4e1e3c2e5d3b6ff795e1354,tox: Keeping going with docs,MERGED,2019-10-24 06:10:28.000000000,2019-11-06 04:07:01.000000000,2019-11-06 04:05:58.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-24 06:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/60365cbb4732925621259f93de12bf20fe0d5715', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ic68b7acf92512255d4e1e3c2e5d3b6ff795e1354\n'}, {'number': 2, 'created': '2019-10-24 06:58:50.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/31abe71ff6991a95750c436fdbcc9313341e4a65', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ic68b7acf92512255d4e1e3c2e5d3b6ff795e1354\n""}]",0,690821,31abe71ff6991a95750c436fdbcc9313341e4a65,9,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ic68b7acf92512255d4e1e3c2e5d3b6ff795e1354
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/21/690821/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,60365cbb4732925621259f93de12bf20fe0d5715,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.i18n~master~If8c19a7d5d2a6ca089efb6c19d81a277aba7f06d,openstack/oslo.i18n,master,If8c19a7d5d2a6ca089efb6c19d81a277aba7f06d,tox: Keeping going with docs,MERGED,2019-10-24 06:10:30.000000000,2019-11-06 04:04:27.000000000,2019-11-06 04:03:21.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/b5124bb6456440c0611647c34a918f9075d3ff8e', 'message': 'tox: Keeping going with docs\n\nChange-Id: If8c19a7d5d2a6ca089efb6c19d81a277aba7f06d\n'}, {'number': 2, 'created': '2019-10-24 06:56:38.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/0d76d2cb30fdaa0adbb151ecb4129789334b7beb', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If8c19a7d5d2a6ca089efb6c19d81a277aba7f06d\n""}]",0,690822,0d76d2cb30fdaa0adbb151ecb4129789334b7beb,11,5,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If8c19a7d5d2a6ca089efb6c19d81a277aba7f06d
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/22/690822/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,b5124bb6456440c0611647c34a918f9075d3ff8e,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Foslo.reports~master~Ied545a35429a87dc32b746ed54595311d903fea2,openstack/oslo.reports,master,Ied545a35429a87dc32b746ed54595311d903fea2,tox: Keeping going with docs,MERGED,2019-10-24 06:10:34.000000000,2019-11-06 03:57:48.000000000,2019-11-06 03:56:44.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/40e3118089c01e580fb8172a35df5f6955f4a97d', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ied545a35429a87dc32b746ed54595311d903fea2\n'}, {'number': 2, 'created': '2019-10-24 06:53:16.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/8a37087388a36471c13b2998f8a80ca99914349f', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ied545a35429a87dc32b746ed54595311d903fea2\n""}]",0,690824,8a37087388a36471c13b2998f8a80ca99914349f,11,5,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ied545a35429a87dc32b746ed54595311d903fea2
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/24/690824/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,40e3118089c01e580fb8172a35df5f6955f4a97d,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fpython-openstackclient~master~I65c4960856985d71076291f175df17f27a5ab8cc,openstack/python-openstackclient,master,I65c4960856985d71076291f175df17f27a5ab8cc,Deflate .htaccess,MERGED,2019-11-05 00:01:07.000000000,2019-11-06 03:57:13.000000000,2019-11-06 03:55:03.000000000,"[{'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 00:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29e77cad6fb0b65516a401386c4cc277a17501b0', 'message': 'Deflate .htaccess\n\nUse some regexes to reduce the number of lines in .htaccess and\nhopefully make it slightly clearer which groupings of files redirect to\nwhich new locations.\n\nAlso collapse one redundant double-redirect.\n\nChange-Id: I65c4960856985d71076291f175df17f27a5ab8cc\n'}, {'number': 2, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2d8dc0f1c33613c56da37758d73d63b550642c0', 'message': 'Deflate .htaccess\n\nUse some regexes to reduce the number of lines in .htaccess and\nhopefully make it slightly clearer which groupings of files redirect to\nwhich new locations.\n\nAlso collapse one redundant double-redirect.\n\nChange-Id: I65c4960856985d71076291f175df17f27a5ab8cc\n'}]",0,692930,e2d8dc0f1c33613c56da37758d73d63b550642c0,9,2,2,14070,,,0,"Deflate .htaccess

Use some regexes to reduce the number of lines in .htaccess and
hopefully make it slightly clearer which groupings of files redirect to
which new locations.

Also collapse one redundant double-redirect.

Change-Id: I65c4960856985d71076291f175df17f27a5ab8cc
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/30/692930/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,29e77cad6fb0b65516a401386c4cc277a17501b0,generate-docs,redirectmatch 301 ^/python-openstackclient/([^/]+)/(authentication|backward-incompatible|command-list|commands|decoder|interactive).html$ /python-openstackclient/$1/cli/$2.html redirectmatch 301 ^/python-openstackclient/([^/]+)/plugin-commands.html$ /python-openstackclient/$1/cli/plugin-commands/index.htmlredirectmatch 301 ^/python-openstackclient/([^/]+)/(command-(beta|errors|logs|options|wrappers)|developing|humaninterfaceguide|plugins).html$ /python-openstackclient/$1/contributor/$2.html,redirectmatch 301 ^/python-openstackclient/([^/]+)/authentication.html$ /python-openstackclient/$1/cli/authentication.html redirectmatch 301 ^/python-openstackclient/([^/]+)/backward-incompatible.html$ /python-openstackclient/$1/cli/backward-incompatible.html redirectmatch 301 ^/python-openstackclient/([^/]+)/command-list.html$ /python-openstackclient/$1/cli/command-list.html redirectmatch 301 ^/python-openstackclient/([^/]+)/commands.html$ /python-openstackclient/$1/cli/commands.html redirectmatch 301 ^/python-openstackclient/([^/]+)/decoder.html$ /python-openstackclient/$1/cli/decoder.html redirectmatch 301 ^/python-openstackclient/([^/]+)/interactive.html$ /python-openstackclient/$1/cli/interactive.html redirectmatch 301 ^/python-openstackclient/([^/]+)/plugin-commands.html$ /python-openstackclient/$1/cli/plugin-commands.htmlredirectmatch 301 ^/python-openstackclient/([^/]+)/command-beta.html$ /python-openstackclient/$1/contributor/command-beta.html redirectmatch 301 ^/python-openstackclient/([^/]+)/command-errors.html$ /python-openstackclient/$1/contributor/command-errors.html redirectmatch 301 ^/python-openstackclient/([^/]+)/command-logs.html$ /python-openstackclient/$1/contributor/command-logs.html redirectmatch 301 ^/python-openstackclient/([^/]+)/command-options.html$ /python-openstackclient/$1/contributor/command-options.html redirectmatch 301 ^/python-openstackclient/([^/]+)/command-wrappers.html$ /python-openstackclient/$1/contributor/command-wrappers.html redirectmatch 301 ^/python-openstackclient/([^/]+)/developing.html$ /python-openstackclient/$1/contributor/developing.html redirectmatch 301 ^/python-openstackclient/([^/]+)/humaninterfaceguide.html$ /python-openstackclient/$1/contributor/humaninterfaceguide.html redirectmatch 301 ^/python-openstackclient/([^/]+)/plugins.html$ /python-openstackclient/$1/contributor/plugins.html,4,16
openstack%2Foslo.service~master~I7b4cc4b171e5605f2967378e9949d31ac0e1290c,openstack/oslo.service,master,I7b4cc4b171e5605f2967378e9949d31ac0e1290c,tox: Keeping going with docs,MERGED,2019-10-24 05:36:51.000000000,2019-11-06 03:56:38.000000000,2019-11-06 03:55:29.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-24 05:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/02732896a83ef23d0aab0848da91c528a977fa50', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I7b4cc4b171e5605f2967378e9949d31ac0e1290c\n""}, {'number': 2, 'created': '2019-10-24 05:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d1382fad53e2ab062217b14d9940b1cc6bb96f72', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I7b4cc4b171e5605f2967378e9949d31ac0e1290c\n""}, {'number': 3, 'created': '2019-10-25 15:26:44.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/4a78c31863f6bc4d2bba11564c985c9c54460be3', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I7b4cc4b171e5605f2967378e9949d31ac0e1290c\n""}]",2,690804,4a78c31863f6bc4d2bba11564c985c9c54460be3,17,7,3,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I7b4cc4b171e5605f2967378e9949d31ac0e1290c
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/04/690804/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,02732896a83ef23d0aab0848da91c528a977fa50,, sphinx-build -W --keep-going -b html doc/source doc/build/html {posargs}commands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/html {posargs}commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fpython-openstackclient~master~Ib6cc2953f0fd774de3c3a0c8a2bd6cff49667c14,openstack/python-openstackclient,master,Ib6cc2953f0fd774de3c3a0c8a2bd6cff49667c14,Add redirect testing,MERGED,2019-11-05 00:01:07.000000000,2019-11-06 03:56:23.000000000,2019-11-06 03:55:02.000000000,"[{'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 00:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/847e3ea147fd03274e30e0a8fcb8547ed522e5af', 'message': 'Add redirect testing\n\nAdds a dependency on and invocation of the `whereto` command to validate\nredirects in the .htaccess file during doc builds.\n\nChange-Id: Ib6cc2953f0fd774de3c3a0c8a2bd6cff49667c14\n'}, {'number': 2, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/requirements.txt', 'doc/test/redirect-tests.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6f07828bf044e5eda53037e986d9ae642ee499af', 'message': 'Add redirect testing\n\nAdds a dependency on and invocation of the `whereto` command to validate\nredirects in the .htaccess file during doc builds.\n\nChange-Id: Ib6cc2953f0fd774de3c3a0c8a2bd6cff49667c14\n'}]",0,692929,6f07828bf044e5eda53037e986d9ae642ee499af,9,2,2,14070,,,0,"Add redirect testing

Adds a dependency on and invocation of the `whereto` command to validate
redirects in the .htaccess file during doc builds.

Change-Id: Ib6cc2953f0fd774de3c3a0c8a2bd6cff49667c14
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/29/692929/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'doc/test/redirect-tests.txt', 'tox.ini']",3,847e3ea147fd03274e30e0a8fcb8547ed522e5af,generate-docs, # Validate redirects (must be done after the docs build whereto doc/build/html/.htaccess doc/test/redirect-tests.txt,,23,0
openstack%2Fbifrost~master~Idb1094395938cbf5c04b181f93042736a21ce082,openstack/bifrost,master,Idb1094395938cbf5c04b181f93042736a21ce082,Switch to cirros 0.4.0,MERGED,2019-11-04 15:21:40.000000000,2019-11-06 03:52:06.000000000,2019-11-06 03:51:02.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-11-04 15:21:40.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'doc/source/install/offline-install.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a8adb3596463ab2a23e0fcbf6d751b0935748bc9', 'message': 'Switch to cirros 0.4.0\n\nChange-Id: Idb1094395938cbf5c04b181f93042736a21ce082\n'}]",0,692843,a8adb3596463ab2a23e0fcbf6d751b0935748bc9,8,3,1,10239,,,0,"Switch to cirros 0.4.0

Change-Id: Idb1094395938cbf5c04b181f93042736a21ce082
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/43/692843/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'doc/source/install/offline-install.rst']",3,a8adb3596463ab2a23e0fcbf6d751b0935748bc9,cirros, cirros_deploy_image_upstream_url: file:///vagrant/cirros-0.4.0-x86_64-disk.img, cirros_deploy_image_upstream_url: file:///vagrant/cirros-0.3.4-x86_64-disk.img,3,3
openstack%2Foslo.service~master~Ic8d4ff14f0b44cea3d60e4e188d80567bd64d048,openstack/oslo.service,master,Ic8d4ff14f0b44cea3d60e4e188d80567bd64d048,Switch to official Ussuri jobs,MERGED,2019-10-11 15:40:39.000000000,2019-11-06 03:46:59.000000000,2019-11-06 03:45:12.000000000,"[{'_account_id': 6928}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-10-11 15:40:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/1bf863a296ffbbcbb32b6952d47a6ff32159ace5', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: Ic8d4ff14f0b44cea3d60e4e188d80567bd64d048\n'}]",0,688152,1bf863a296ffbbcbb32b6952d47a6ff32159ace5,12,7,1,22165,,,0,"Switch to official Ussuri jobs

Change-Id: Ic8d4ff14f0b44cea3d60e4e188d80567bd64d048
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/52/688152/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1bf863a296ffbbcbb32b6952d47a6ff32159ace5,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fptgbot~master~I42eee55d01da20a6e6bdc17081b99473ceb44c41,openstack/ptgbot,master,I42eee55d01da20a6e6bdc17081b99473ceb44c41,Add update instructions to etherpads page,MERGED,2019-10-31 15:18:36.000000000,2019-11-06 03:46:15.000000000,2019-11-06 03:46:15.000000000,"[{'_account_id': 5263}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 15:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/d9cb43903d1819158578f2370da73fbcd32ec287', 'message': 'Add update instructions to etherpads page\n\nIt is unclear that the etherpads page is driven by the ptgbot.\nAdd instructions on the page pointing to the ptgbot doc.\n\nChange-Id: I42eee55d01da20a6e6bdc17081b99473ceb44c41\n'}, {'number': 2, 'created': '2019-11-06 02:22:10.000000000', 'files': ['html/etherpads.html'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/198570abdfff005e1722d6d5618be7b61c4c67f7', 'message': 'Add update instructions to etherpads page\n\nIt is unclear that the etherpads page is driven by the ptgbot.\nAdd instructions on the page pointing to the ptgbot doc.\n\nChange-Id: I42eee55d01da20a6e6bdc17081b99473ceb44c41\n'}]",1,692393,198570abdfff005e1722d6d5618be7b61c4c67f7,11,3,2,308,,,0,"Add update instructions to etherpads page

It is unclear that the etherpads page is driven by the ptgbot.
Add instructions on the page pointing to the ptgbot doc.

Change-Id: I42eee55d01da20a6e6bdc17081b99473ceb44c41
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/93/692393/1 && git format-patch -1 --stdout FETCH_HEAD,['html/etherpads.html'],1,d9cb43903d1819158578f2370da73fbcd32ec287,add-instructions,"<p class=""text-muted"">You can update the URL for your etherpad through the <a href=""https://opendev.org/openstack/ptgbot/src/branch/master/README.rst"">openstackptg bot</a> on the <a href=""http://eavesdrop.openstack.org/irclogs/%23openstack-ptg/"">#openstack-ptg IRC channel</a>.</p>",,1,0
openstack%2Foslo.versionedobjects~master~Ifa4706d1191d56899e06ff77ea7b12936aac0328,openstack/oslo.versionedobjects,master,Ifa4706d1191d56899e06ff77ea7b12936aac0328,tox: Keeping going with docs,MERGED,2019-10-24 06:10:58.000000000,2019-11-06 03:43:03.000000000,2019-11-06 03:41:50.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/5533879dc1c258f1f1db1f5c412137f65cfb1ff4', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ifa4706d1191d56899e06ff77ea7b12936aac0328\n'}, {'number': 2, 'created': '2019-10-24 06:26:14.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/e63e75e938d68e7cd6cb41521d55167cde114ba3', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ifa4706d1191d56899e06ff77ea7b12936aac0328\n""}]",0,690831,e63e75e938d68e7cd6cb41521d55167cde114ba3,11,5,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ifa4706d1191d56899e06ff77ea7b12936aac0328
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/31/690831/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,5533879dc1c258f1f1db1f5c412137f65cfb1ff4,,commands = sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Foslo.upgradecheck~master~I2831ab17d943638062b709882c7a1cc481e46476,openstack/oslo.upgradecheck,master,I2831ab17d943638062b709882c7a1cc481e46476,tox: Keeping going with docs,MERGED,2019-10-24 06:10:16.000000000,2019-11-06 02:38:19.000000000,2019-11-06 02:37:13.000000000,"[{'_account_id': 6928}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-24 06:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/53159f333ad73cc6ad3907e5cbc4c5baf0613654', 'message': 'tox: Keeping going with docs\n\nChange-Id: I2831ab17d943638062b709882c7a1cc481e46476\n'}, {'number': 2, 'created': '2019-10-24 07:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/86d7f2d0bfe53e5824ce2a0c588f944e403a0f51', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2831ab17d943638062b709882c7a1cc481e46476\n""}, {'number': 3, 'created': '2019-10-25 16:07:31.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/9e70fdadee5ce346d4b8ad21be8192400e1bf3ae', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2831ab17d943638062b709882c7a1cc481e46476\n""}]",0,690816,9e70fdadee5ce346d4b8ad21be8192400e1bf3ae,15,5,3,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I2831ab17d943638062b709882c7a1cc481e46476
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/16/690816/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,53159f333ad73cc6ad3907e5cbc4c5baf0613654,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Fansible-role-container-registry~master~I43b97e2b5e447041bfa9c6451b5069c17c9cd627,openstack/ansible-role-container-registry,master,I43b97e2b5e447041bfa9c6451b5069c17c9cd627,import zuul job settings from project-config,ABANDONED,2018-08-09 06:03:44.000000000,2019-11-06 02:18:53.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-08-09 06:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/c488c254b78028fbfe338384572b85216c12c524', 'message': 'import zuul job settings from project-config\n\nChange-Id: I43b97e2b5e447041bfa9c6451b5069c17c9cd627\n'}, {'number': 2, 'created': '2019-01-12 03:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/c28f6b6b0b4ac788567aea950a5a738d23060b7d', 'message': 'import zuul job settings from project-config\n\nChange-Id: I43b97e2b5e447041bfa9c6451b5069c17c9cd627\n'}, {'number': 3, 'created': '2019-01-14 20:48:42.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/bfa6c673f5de5b78977833b488f8c12adcbf6e4f', 'message': 'import zuul job settings from project-config\n\nChange-Id: I43b97e2b5e447041bfa9c6451b5069c17c9cd627\n'}]",0,590110,bfa6c673f5de5b78977833b488f8c12adcbf6e4f,22,7,3,26297,,,0,"import zuul job settings from project-config

Change-Id: I43b97e2b5e447041bfa9c6451b5069c17c9cd627
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/10/590110/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c488c254b78028fbfe338384572b85216c12c524,,- project: check: jobs: - openstack-tox-lower-constraints gate: jobs: - openstack-tox-lower-constraints templates: - openstack-python-jobs - openstack-python35-jobs - publish-openstack-docs-pti - check-requirements - lib-forward-testing - release-notes-jobs-python3 - periodic-stable-jobs ,,15,0
openstack%2Ftripleo-heat-templates~master~I9fe9380e6d69d4ff49d21669bd31de926d23ff40,openstack/tripleo-heat-templates,master,I9fe9380e6d69d4ff49d21669bd31de926d23ff40,Trivial updates for deploy-steps.j2,ABANDONED,2019-05-28 18:56:34.000000000,2019-11-06 02:18:51.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 18:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1813d666c2f3227f82c3d64e44ff1df9656a7bc', 'message': 'Trivial updates for deploy-steps.j2\n\nThese change update the deploy steps template for readability\nand consistency.\n\n* Jinja loops and nested structure all start at the far left, structure\n  is provided using spacing inside the brackets.\n* Comments regarding specific jinja syntax has been changed to use the\n  jinja2 comment structure.\n* Jinja variables are all now using a single space between the double\n  brackets following the typical jinja2 style guide.\n\nChange-Id: I9fe9380e6d69d4ff49d21669bd31de926d23ff40\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-05-28 20:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36c94f329494347eb9a22deff727bb4f7d807db9', 'message': ""Trivial updates for deploy-steps.j2\n\nThese change update the deploy steps template for readability\nand consistency.\n\n* Jinja loops and nested structure all start at the far left, structure\n  is provided using spacing inside the brackets.\n* Comments regarding specific jinja syntax has been changed to use the\n  jinja2 comment structure.\n* Jinja variables are all now using a single space between the double\n  brackets following the typical jinja2 style guide.\n* Jinja math is now type safe and will ensure we're only ever dealing\n  with integers.\n\nChange-Id: I9fe9380e6d69d4ff49d21669bd31de926d23ff40\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-06-01 18:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2de7ee6727807102240f5330c4935fd615951e41', 'message': ""Trivial updates for deploy-steps.j2\n\nThese change update the deploy steps template for readability\nand consistency.\n\n* Jinja loops and nested structure all start at the far left, structure\n  is provided using spacing inside the brackets.\n* Comments regarding specific jinja syntax has been changed to use the\n  jinja2 comment structure.\n* Jinja variables are all now using a single space between the double\n  brackets following the typical jinja2 style guide.\n* Jinja math is now type safe and will ensure we're only ever dealing\n  with integers.\n\nChange-Id: I9fe9380e6d69d4ff49d21669bd31de926d23ff40\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2019-06-19 22:32:47.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f6c22982669a71e97af26394a2bcdb3fad56941', 'message': ""Trivial updates for deploy-steps.j2\n\nThese change update the deploy steps template for readability\nand consistency.\n\n* Jinja loops and nested structure all start at the far left, structure\n  is provided using spacing inside the brackets.\n* Comments regarding specific jinja syntax has been changed to use the\n  jinja2 comment structure.\n* Jinja variables are all now using a single space between the double\n  brackets following the typical jinja2 style guide.\n* Jinja math is now type safe and will ensure we're only ever dealing\n  with integers.\n* The Jinja RAW function is now used instead of doing replacement\n  brackets to generate raw variables.\n\nChange-Id: I9fe9380e6d69d4ff49d21669bd31de926d23ff40\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",3,661829,5f6c22982669a71e97af26394a2bcdb3fad56941,17,7,4,7353,,,0,"Trivial updates for deploy-steps.j2

These change update the deploy steps template for readability
and consistency.

* Jinja loops and nested structure all start at the far left, structure
  is provided using spacing inside the brackets.
* Comments regarding specific jinja syntax has been changed to use the
  jinja2 comment structure.
* Jinja variables are all now using a single space between the double
  brackets following the typical jinja2 style guide.
* Jinja math is now type safe and will ensure we're only ever dealing
  with integers.
* The Jinja RAW function is now used instead of doing replacement
  brackets to generate raw variables.

Change-Id: I9fe9380e6d69d4ff49d21669bd31de926d23ff40
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/661829/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,e1813d666c2f3227f82c3d64e44ff1df9656a7bc,container-puppet-port,"{# certain initialization steps (run in a container) will occur #} {# on the role marked as primary controller or the first role listed #} {% if enabled_roles is not defined or enabled_roles == [] -%} {# On upgrade certain roles can be disabled for operator driven upgrades #} {# See major_upgrade_steps.j2.yaml and post-upgrade.j2.yaml #} {% set enabled_roles = roles -%} {% endif -%} {% set primary_role = [enabled_roles[0]] -%} {% for role in enabled_roles -%} {% if 'primary' in role.tags and 'controller' in role.tags -%} {% set _ = primary_role.pop() -%} {% set _ = primary_role.append(role) -%} {% endif -%} {% endfor -%} {% set primary_role_name = primary_role[0].name -%} {# primary role is: {{ primary_role_name }} #} {{ role.name }}Count: description: Number of {{ role.name }} nodes to deploy default: {{ role.CountDefault|default(0) }} {{ role.name }}NonZero: - {get_param: {{ role.name }}Count}{% for role in enabled_roles %} - get_param: [role_data, {{ role.name }}, external_deploy_tasks] {% endfor %}{% for role in enabled_roles %} - get_param: [role_data, {{ role.name }}, external_post_deploy_tasks] {% endfor %}{% for role in enabled_roles %} - get_param: [role_data, {{ role.name }}, scale_tasks] {% endfor %}{% for role in enabled_roles %} - get_param: [role_data, {{ role.name }}, external_update_tasks] {% endfor %}{% for role in enabled_roles %} - get_param: [role_data, {{ role.name }}, external_upgrade_tasks] {% endfor %} data: {get_param: [servers, {{ primary_role_name }}]} # Prepare host tasks for {{ role.name }} {{ role.name }}ArtifactsConfig: {{ role.name }}ArtifactsDeploy: condition: {{ role.name }}NonZero properties: name: {{ role.name }}ArtifactsDeploy servers: {get_param: [servers, {{ role.name }}]} config: {get_resource: {{ role.name }}ArtifactsConfig} # Ensure that all {{ role.name }}ExtraConfigPost steps are executed {{ role.name }}ExtraConfigPost: condition: {{ role.name }}NonZero servers: {get_param: [servers, {{ role.name }}]} # The {{ role.name }}PostConfig steps are in charge of {{ role.name }}PostConfig: condition: {{ role.name }}NonZero type: OS::TripleO::Tasks::{{ role.name }}PostConfig depends_on: {% for dep in enabled_roles %} - {{ dep.name }}ExtraConfigPost {% endfor %} deploy_steps_max: {{ deploy_steps_max }} - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST - import_tasks: {{ role.name }}/deploy_steps_tasks.yaml when: tripleo_role_name == '{{ role.name }}' - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST with_items: ""{{ '{{ ' }} lookup('vars', tripleo_role_name + '_pre_deployments')|default([]) {{ ' }}' }}"" - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST - import_tasks: {{ role.name }}/host_prep_tasks.yaml when: tripleo_role_name == '{{ role.name }}'{% for step in range(1,deploy_steps_max) %} name: External deployment step {{ step }} step: '{{ step }}' - step{{ step }} - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST name: Overcloud deploy step tasks for {{ step }} step: '{{ step }}' - name: Write the config_step hieradata for the deploy step {{ step }} tasks copy: content: ""{{ '{{ ' }} dict(step=step|int) | to_json {{ ' }}' }}"" - import_tasks: {{ role.name }}/deploy_steps_tasks.yaml when: tripleo_role_name == '{{ role.name }}' - step{{ step }} - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST name: Overcloud common deploy step tasks {{ step }} step: '{{ step }}' - step{{ step }} - hosts: {{ primary_role_name }}:DEPLOY_TARGET_HOST with_items: ""{{ '{{ ' }} lookup('vars', tripleo_role_name + '_post_deployments')|default([]) {{ ' }}' }}"" - import_tasks: {{ role.name }}/update_tasks.yaml when: tripleo_role_name == '{{ role.name }}' serial: {{ deploy_serial | default(1) }} with_sequence: start=0 end={{ update_steps_max-1 }} - import_tasks: {{ role.name }}/host_prep_tasks.yaml when: tripleo_role_name == '{{ role.name }}' with_sequence: start=1 end={{ deploy_steps_max-1 }} with_sequence: start=0 end={{ post_update_steps_max-1 }} with_sequence: start=0 end={{ external_update_steps_max-1 }} with_sequence: start=1 end={{ deploy_steps_max-1 }} - import_tasks: {{ role.name }}/pre_upgrade_rolling_tasks.yaml when: tripleo_role_name == '{{ role.name }}' with_sequence: start=0 end={{ pre_upgrade_rolling_steps_max-1 }}{% for step in range(0,upgrade_steps_max) %} name: Upgrade tasks for step {{ step }} step: '{{ step }}'{%- for role in roles %} - import_tasks: {{ role.name }}/upgrade_tasks_step{{ step }}.yaml when: tripleo_role_name == '{{ role.name }}'{%- endfor %} - upgrade_step{{ step }} - import_tasks: {{ role.name }}/post_upgrade_tasks.yaml when: tripleo_role_name == '{{ role.name }}' with_sequence: start=0 end={{ post_upgrade_steps_max-1 }} with_sequence: start=0 end={{ external_upgrade_steps_max-1 }} with_sequence: start=1 end={{ deploy_steps_max-1 }} with_sequence: start=0 end={{ scale_steps_max }} ffu_releases: ""{{ releases | difference( releases | last ) }}"" with_items: '{{ ffu_releases }}' - set_fact: release: ""{{ releases | last }}"" os-apply-config -m /var/lib/os-collect-config/{{ role.deprecated_server_resource_name|default(role.name) }}Deployment.json when: tripleo_role_name == '{{ role.name }}' name: Run Fast Forward Upgrade Prep Workarounds for {{ role.name }} with_sequence: start=0 end={{ fast_forward_upgrade_prep_steps_max }} - include_tasks: {{ role.name }}/fast_forward_post_upgrade_tasks.yaml when: tripleo_role_name == '{{ role.name }}' - include_tasks: {{ role.name }}/fast_forward_upgrade_tasks.yaml when: tripleo_role_name == '{{ role.name }}' with_sequence: start={{ fast_forward_upgrade_prep_steps_max+1 }} end={{ fast_forward_upgrade_steps_max }} - include_tasks: {{ role.name }}/fast_forward_upgrade_tasks.yaml when: - tripleo_role_name == '{{ role.name }}' - import_tasks: {{ role.name }}/post_update_tasks.yaml when: tripleo_role_name == '{{ role.name }}'","# certain initialization steps (run in a container) will occur # on the role marked as primary controller or the first role listed {%- if enabled_roles is not defined or enabled_roles == [] -%} # On upgrade certain roles can be disabled for operator driven upgrades # See major_upgrade_steps.j2.yaml and post-upgrade.j2.yaml {%- set enabled_roles = roles -%} {%- endif -%} {%- set primary_role = [enabled_roles[0]] -%} {%- for role in enabled_roles -%} {%- if 'primary' in role.tags and 'controller' in role.tags -%} {%- set _ = primary_role.pop() -%} {%- set _ = primary_role.append(role) -%} {%- endif -%} {%- endfor -%} {%- set primary_role_name = primary_role[0].name -%} # primary role is: {{primary_role_name}} {{role.name}}Count: description: Number of {{role.name}} nodes to deploy default: {{role.CountDefault|default(0)}} {{role.name}}NonZero: - {get_param: {{role.name}}Count} {%- for role in enabled_roles %} - get_param: [role_data, {{role.name}}, external_deploy_tasks] {%- endfor %} {%- for role in enabled_roles %} - get_param: [role_data, {{role.name}}, external_post_deploy_tasks] {%- endfor %} {%- for role in enabled_roles %} - get_param: [role_data, {{role.name}}, scale_tasks] {%- endfor %} {%- for role in enabled_roles %} - get_param: [role_data, {{role.name}}, external_update_tasks] {%- endfor %} {%- for role in enabled_roles %} - get_param: [role_data, {{role.name}}, external_upgrade_tasks] {%- endfor %} data: {get_param: [servers, {{primary_role_name}}]} # Prepare host tasks for {{role.name}} {{role.name}}ArtifactsConfig: {{role.name}}ArtifactsDeploy: condition: {{role.name}}NonZero properties: name: {{role.name}}ArtifactsDeploy servers: {get_param: [servers, {{role.name}}]} config: {get_resource: {{role.name}}ArtifactsConfig} # Ensure that all {{role.name}}ExtraConfigPost steps are executed {{role.name}}ExtraConfigPost: condition: {{role.name}}NonZero servers: {get_param: [servers, {{role.name}}]} # The {{role.name}}PostConfig steps are in charge of {{role.name}}PostConfig: condition: {{role.name}}NonZero type: OS::TripleO::Tasks::{{role.name}}PostConfig depends_on: {%- for dep in enabled_roles %} - {{dep.name}}ExtraConfigPost {%- endfor %} deploy_steps_max: {{deploy_steps_max}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST - import_tasks: {{role.name}}/deploy_steps_tasks.yaml when: tripleo_role_name == '{{role.name}}' - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST with_items: ""{{ '{{' }} lookup('vars', tripleo_role_name + '_pre_deployments')|default([]) {{ '}}' }}"" - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST - import_tasks: {{role.name}}/host_prep_tasks.yaml when: tripleo_role_name == '{{role.name}}'{%- for step in range(1,deploy_steps_max) %} name: External deployment step {{step}} step: '{{step}}' - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud deploy step tasks for {{step}} step: '{{step}}' - name: Write the config_step hieradata for the deploy step {{step}} tasks copy: content: ""{{ '{{' }} dict(step=step|int) | to_json {{ '}}' }}"" - import_tasks: {{role.name}}/deploy_steps_tasks.yaml when: tripleo_role_name == '{{role.name}}' - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common deploy step tasks {{step}} step: '{{step}}' - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST with_items: ""{{ '{{' }} lookup('vars', tripleo_role_name + '_post_deployments')|default([]) {{ '}}' }}"" - import_tasks: {{role.name}}/update_tasks.yaml when: tripleo_role_name == '{{role.name}}' serial: {{ deploy_serial | default(1) }} with_sequence: start=0 end={{update_steps_max-1}} - import_tasks: {{role.name}}/host_prep_tasks.yaml when: tripleo_role_name == '{{role.name}}' with_sequence: start=1 end={{deploy_steps_max-1}} with_sequence: start=0 end={{post_update_steps_max-1}} with_sequence: start=0 end={{external_update_steps_max-1}} with_sequence: start=1 end={{deploy_steps_max-1}} - import_tasks: {{role.name}}/pre_upgrade_rolling_tasks.yaml when: tripleo_role_name == '{{role.name}}' with_sequence: start=0 end={{pre_upgrade_rolling_steps_max-1}}{%- for step in range(0,upgrade_steps_max) %} name: Upgrade tasks for step {{step}} step: '{{step}}'{%- for role in roles %} - import_tasks: {{role.name}}/upgrade_tasks_step{{step}}.yaml when: tripleo_role_name == '{{role.name}}'{%- endfor %} - upgrade_step{{step}} - import_tasks: {{role.name}}/post_upgrade_tasks.yaml when: tripleo_role_name == '{{role.name}}' with_sequence: start=0 end={{post_upgrade_steps_max-1}} with_sequence: start=0 end={{external_upgrade_steps_max-1}} with_sequence: start=1 end={{deploy_steps_max-1}} with_sequence: start=0 end={{scale_steps_max}} ffu_releases: ""{{ releases | difference( releases | last )}}"" with_items: '{{ ffu_releases }}' - set_fact: release: ""{{ releases | last }}"" os-apply-config -m /var/lib/os-collect-config/{{role.deprecated_server_resource_name|default(role.name)}}Deployment.json when: tripleo_role_name == '{{role.name}}' name: Run Fast Forward Upgrade Prep Workarounds for {{role.name}} with_sequence: start=0 end={{fast_forward_upgrade_prep_steps_max}} - include_tasks: {{role.name}}/fast_forward_post_upgrade_tasks.yaml when: tripleo_role_name == '{{role.name}}' - include_tasks: {{role.name}}/fast_forward_upgrade_tasks.yaml when: tripleo_role_name == '{{role.name}}' with_sequence: start={{fast_forward_upgrade_prep_steps_max+1}} end={{fast_forward_upgrade_steps_max}} - include_tasks: {{role.name}}/fast_forward_upgrade_tasks.yaml when: - tripleo_role_name == '{{role.name}}' - import_tasks: {{role.name}}/post_update_tasks.yaml when: tripleo_role_name == '{{role.name}}'",125,127
openstack%2Ftripleo-common~stable%2Fqueens~I0454792d19470b61cfa603f4882f26b45dfa5bb1,openstack/tripleo-common,stable/queens,I0454792d19470b61cfa603f4882f26b45dfa5bb1,Designate implementation into stable/queens,ABANDONED,2019-06-06 11:18:09.000000000,2019-11-06 02:18:49.000000000,,"[{'_account_id': 7144}, {'_account_id': 7233}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-06 11:18:09.000000000', 'files': ['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f0a143a007a6cbd1facd781b3bf496393e29b2d', 'message': 'Designate implementation into stable/queens\n\nChange-Id: I0454792d19470b61cfa603f4882f26b45dfa5bb1\n'}]",0,663604,8f0a143a007a6cbd1facd781b3bf496393e29b2d,7,5,1,22993,,,0,"Designate implementation into stable/queens

Change-Id: I0454792d19470b61cfa603f4882f26b45dfa5bb1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/663604/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/overcloud_containers.yaml', 'container-images/overcloud_containers.yaml.j2']",2,8f0a143a007a6cbd1facd781b3bf496393e29b2d,,"- imagename: ""{{namespace}}/{{name_prefix}}designate-api{{name_suffix}}:{{tag}}"" params: - DockerDesignateApiImage services: - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - imagename: ""{{namespace}}/{{name_prefix}}designate-backend-bind9{{name_suffix}}:{{tag}}"" params: - DockerDesignateBackendBIND9Image services: - OS::TripleO::Services::DesignateWorker - imagename: ""{{namespace}}/{{name_prefix}}designate-central{{name_suffix}}:{{tag}}"" params: - DockerDesignateCentralImage services: - OS::TripleO::Services::DesignateCentral - imagename: ""{{namespace}}/{{name_prefix}}designate-mdns{{name_suffix}}:{{tag}}"" params: - DockerDesignateMDNSImage services: - OS::TripleO::Services::DesignateMDNS - imagename: ""{{namespace}}/{{name_prefix}}designate-producer{{name_suffix}}:{{tag}}"" params: - DockerDesignateProducerImage services: - OS::TripleO::Services::DesignateProducer - imagename: ""{{namespace}}/{{name_prefix}}designate-sink{{name_suffix}}:{{tag}}"" params: - DockerDesignateSinkImage services: - OS::TripleO::Services::DesignateSink - imagename: ""{{namespace}}/{{name_prefix}}designate-worker{{name_suffix}}:{{tag}}"" params: - DockerDesignateConfigImage - DockerDesignateWorkerImage services: - OS::TripleO::Services::DesignateWorker ",,55,0
openstack%2Ftripleo-quickstart~master~Ia5bd7fd58f7b91068fb72df5e4d2d18214dfea5d,openstack/tripleo-quickstart,master,Ia5bd7fd58f7b91068fb72df5e4d2d18214dfea5d,add a link to release notes in README file,ABANDONED,2018-11-12 01:38:43.000000000,2019-11-06 02:18:47.000000000,,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 17216}, {'_account_id': 18846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-12 01:38:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72019333dda65f25e3699093e31beca81719437e', 'message': 'add a link to release notes in README file\n\nChange-Id: Ia5bd7fd58f7b91068fb72df5e4d2d18214dfea5d\n'}]",0,617173,72019333dda65f25e3699093e31beca81719437e,8,5,1,27511,,,0,"add a link to release notes in README file

Change-Id: Ia5bd7fd58f7b91068fb72df5e4d2d18214dfea5d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/73/617173/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,72019333dda65f25e3699093e31beca81719437e,1112_add_link_to_releasenotes,Release notes ------------- https://docs.openstack.org/releasenotes/tripleo-quickstart/ ,,4,0
openstack%2Ftripleo-quickstart~master~I5f09def9cc195acd6554c94e5f057e66f8cf3c24,openstack/tripleo-quickstart,master,I5f09def9cc195acd6554c94e5f057e66f8cf3c24,add a link to release notes in README file,ABANDONED,2018-06-21 12:09:53.000000000,2019-11-06 02:18:45.000000000,,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-06-21 12:09:53.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a2dbe535541371b7681592b2ac4b630be2f26739', 'message': 'add a link to release notes in README file\n\nChange-Id: I5f09def9cc195acd6554c94e5f057e66f8cf3c24\n'}]",0,577133,a2dbe535541371b7681592b2ac4b630be2f26739,7,6,1,27511,,,0,"add a link to release notes in README file

Change-Id: I5f09def9cc195acd6554c94e5f057e66f8cf3c24
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/577133/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a2dbe535541371b7681592b2ac4b630be2f26739,add_link_to_releasenotes,Release notes ------------- https://docs.openstack.org/releasenotes/tripleo-quickstart/ ,,4,0
openstack%2Ftripleo-ci~master~Id80348d4b824462c229199472cba0a1cf27a6c75,openstack/tripleo-ci,master,Id80348d4b824462c229199472cba0a1cf27a6c75,"DNM, testing standalone internal",ABANDONED,2019-05-17 19:39:13.000000000,2019-11-06 02:18:00.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-17 19:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a2370b1251754c5089f17fe88244e4264c2ddbe5', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 2, 'created': '2019-05-17 19:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/34b8a1adc61bf2558804ef212842f8d1624ac527', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 3, 'created': '2019-05-17 19:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8a7745fa2d8f51d45781bf67b55bbdd2d9b4bd4c', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 4, 'created': '2019-05-17 20:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a561a6988cbc8cd4ffbe4ca9524de05e7d64ca3f', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 5, 'created': '2019-05-17 20:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d70f4284710eb1e739176b0879c375138927bf07', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 6, 'created': '2019-05-17 20:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70711e4feb27f67b697320c2b0bbbe32afb6a499', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}, {'number': 7, 'created': '2019-05-17 20:32:19.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'playbooks/nodepool-provider/pre.yaml', 'playbooks/openstack-zuul-jobs/legacy/pre.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8699dacdf43c8d53048ca863a3be70f554ca3b20', 'message': 'DNM, testing standalone internal\n\nChange-Id: Id80348d4b824462c229199472cba0a1cf27a6c75\n'}]",0,659874,8699dacdf43c8d53048ca863a3be70f554ca3b20,11,4,7,9592,,,0,"DNM, testing standalone internal

Change-Id: Id80348d4b824462c229199472cba0a1cf27a6c75
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/659874/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,a2370b1251754c5089f17fe88244e4264c2ddbe5,, - playbooks/nodepool-provider/pre.yaml, - playbooks/nodepool-provider/pre.yaml,1,1
openstack%2Ftripleo-quickstart~master~Iae7ea2b15ac18fa0982380fc66e165c6f4145110,openstack/tripleo-quickstart,master,Iae7ea2b15ac18fa0982380fc66e165c6f4145110,"DNM, testing images",ABANDONED,2019-05-23 23:40:47.000000000,2019-11-06 02:17:58.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-23 23:40:47.000000000', 'files': ['config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5393ab6e4ee71e14fec849ee9ccd9478ee2c5860', 'message': 'DNM, testing images\n\nChange-Id: Iae7ea2b15ac18fa0982380fc66e165c6f4145110\n'}]",0,661137,5393ab6e4ee71e14fec849ee9ccd9478ee2c5860,9,5,1,9592,,,0,"DNM, testing images

Change-Id: Iae7ea2b15ac18fa0982380fc66e165c6f4145110
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/37/661137/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset001.yml'],1,5393ab6e4ee71e14fec849ee9ccd9478ee2c5860,,# FAKE CHANGE DNM,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0d1b703beaa4edeba5afb99e42a45272758b8e58,openstack/tripleo-heat-templates,stable/queens,I0d1b703beaa4edeba5afb99e42a45272758b8e58,Designate implementation into stable/queens,ABANDONED,2019-06-06 12:28:27.000000000,2019-11-06 02:17:56.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-06 12:28:27.000000000', 'files': ['docker/services/designate-mdns.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/designate-central.yaml', 'puppet/services/designate-mdns.yaml', 'docker/services/designate-api.yaml', 'puppet/services/designate-central.yaml', 'puppet/services/designate-sink.yaml', 'puppet/services/designate-api.yaml', 'puppet/services/designate-worker.yaml', 'docker/services/designate-sink.yaml', 'puppet/services/designate-producer.yaml', 'puppet/services/designate-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f6c7748d7f3236f56686422d093fea34dff5310', 'message': 'Designate implementation into stable/queens\n\nChange-Id: I0d1b703beaa4edeba5afb99e42a45272758b8e58\n'}]",0,663626,9f6c7748d7f3236f56686422d093fea34dff5310,5,4,1,22993,,,0,"Designate implementation into stable/queens

Change-Id: I0d1b703beaa4edeba5afb99e42a45272758b8e58
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/663626/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/designate-mdns.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/designate-central.yaml', 'puppet/services/designate-mdns.yaml', 'docker/services/designate-api.yaml', 'puppet/services/designate-central.yaml', 'puppet/services/designate-sink.yaml', 'puppet/services/designate-api.yaml', 'puppet/services/designate-worker.yaml', 'docker/services/designate-sink.yaml', 'puppet/services/designate-producer.yaml', 'puppet/services/designate-base.yaml']",13,9f6c7748d7f3236f56686422d093fea34dff5310,,"heat_template_version: rocky description: > OpenStack Designate base service. Shared for all Designate services parameters: ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json Debug: type: boolean default: false description: Set to True to enable debugging on all services. DesignateDebug: default: '' description: Set to True to enable debugging Designate services. type: string EnableConfigPurge: type: boolean default: false description: > Remove configuration that is not generated by TripleO. Used to avoid configuration remnants after upgrades. RabbitPassword: description: The password for RabbitMQ type: string hidden: true RabbitUserName: default: guest description: The username for RabbitMQ type: string RabbitClientUseSSL: default: false description: > Rabbit client subscriber parameter to specify an SSL connection to the RabbitMQ host. type: string RabbitClientPort: default: 5672 description: Set rabbit subscriber port, change this if using SSL type: number NotificationDriver: type: string default: 'messagingv2' description: Driver or drivers to handle sending notifications. constraints: - allowed_values: [ 'messagingv2', 'noop' ] conditions: service_debug_unset: {equals : [{get_param: DesignateDebug}, '']} outputs: role_data: description: Base role data for Designate services value: service_name: designate_base config_settings: designate::debug: if: - service_debug_unset - {get_param: Debug } - {get_param: DesignateDebug } designate::purge_config: {get_param: EnableConfigPurge} designate::notification_driver: {get_param: NotificationDriver} designate::rabbit_use_ssl: {get_param: RabbitClientUseSSL} designate::rabbit_userid: {get_param: RabbitUserName} designate::rabbit_password: {get_param: RabbitPassword} designate::rabbit_port: {get_param: RabbitClientPort} ",,1641,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I10add26232ce29ad9c94b0f956abaa2cd873dace,openstack/tripleo-heat-templates,stable/queens,I10add26232ce29ad9c94b0f956abaa2cd873dace,Fix type : bad template version,ABANDONED,2019-06-06 18:57:16.000000000,2019-11-06 02:17:54.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-06 18:57:16.000000000', 'files': ['docker/services/designate-mdns.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/designate-central.yaml', 'puppet/services/designate-mdns.yaml', 'docker/services/designate-api.yaml', 'puppet/services/designate-central.yaml', 'puppet/services/designate-sink.yaml', 'puppet/services/designate-api.yaml', 'puppet/services/designate-worker.yaml', 'docker/services/designate-sink.yaml', 'puppet/services/designate-producer.yaml', 'puppet/services/designate-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1ce70fa2924556066334dd65f235dc0c89528d4', 'message': 'Fix type : bad template version\n\nChange-Id: I10add26232ce29ad9c94b0f956abaa2cd873dace\n'}]",0,663748,b1ce70fa2924556066334dd65f235dc0c89528d4,5,4,1,22993,,,0,"Fix type : bad template version

Change-Id: I10add26232ce29ad9c94b0f956abaa2cd873dace
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/663748/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/designate-mdns.yaml', 'docker/services/designate-worker.yaml', 'docker/services/designate-producer.yaml', 'docker/services/designate-central.yaml', 'puppet/services/designate-mdns.yaml', 'docker/services/designate-api.yaml', 'puppet/services/designate-central.yaml', 'puppet/services/designate-sink.yaml', 'puppet/services/designate-api.yaml', 'puppet/services/designate-worker.yaml', 'docker/services/designate-sink.yaml', 'puppet/services/designate-producer.yaml', 'puppet/services/designate-base.yaml']",13,b1ce70fa2924556066334dd65f235dc0c89528d4,,"heat_template_version: queens via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. default: """" via parameter_defaults in the resource registry. default: """" Remove configuration that is not generated by TripleO. Used to avoid configuration remnants after upgrades. Rabbit client subscriber parameter to specify an SSL connection to the RabbitMQ host. default: ""messagingv2"" - allowed_values: [""messagingv2"", ""noop""] service_debug_unset: { equals: [{ get_param: DesignateDebug }, """"] } service_name: designate_base config_settings: designate::debug: if: - service_debug_unset - { get_param: Debug } - { get_param: DesignateDebug } designate::purge_config: { get_param: EnableConfigPurge } designate::notification_driver: { get_param: NotificationDriver } designate::rabbit_use_ssl: { get_param: RabbitClientUseSSL } designate::rabbit_userid: { get_param: RabbitUserName } designate::rabbit_password: { get_param: RabbitPassword } designate::rabbit_port: { get_param: RabbitClientPort }","heat_template_version: rocky via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. default: '' via parameter_defaults in the resource registry. default: '' Remove configuration that is not generated by TripleO. Used to avoid configuration remnants after upgrades. Rabbit client subscriber parameter to specify an SSL connection to the RabbitMQ host. default: 'messagingv2' - allowed_values: [ 'messagingv2', 'noop' ] service_debug_unset: {equals : [{get_param: DesignateDebug}, '']} service_name: designate_base config_settings: designate::debug: if: - service_debug_unset - {get_param: Debug } - {get_param: DesignateDebug } designate::purge_config: {get_param: EnableConfigPurge} designate::notification_driver: {get_param: NotificationDriver} designate::rabbit_use_ssl: {get_param: RabbitClientUseSSL} designate::rabbit_userid: {get_param: RabbitUserName} designate::rabbit_password: {get_param: RabbitPassword} designate::rabbit_port: {get_param: RabbitClientPort} ",446,406
openstack%2Ftripleo-heat-templates~master~I5b7e4bad9ed92ea8e0f2837be0219470c634ea10,openstack/tripleo-heat-templates,master,I5b7e4bad9ed92ea8e0f2837be0219470c634ea10,Introduce param_config interface,ABANDONED,2019-05-23 19:28:28.000000000,2019-11-06 02:17:52.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-23 19:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b971b605775e510b28fa2cc270afa7e6c70cd86e', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 2, 'created': '2019-05-23 19:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/576abd4feaa3c98e18786071edce052c65932e4c', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 3, 'created': '2019-05-23 19:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f759f63c2ef85b9ca1adb1ad454dd53a897344f6', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 4, 'created': '2019-05-23 19:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00ba76542291cff7049d9243394c930209efc8b4', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 5, 'created': '2019-05-23 20:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00ce606cf3abd63a6caf519d1b0e39329673f5ce', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 6, 'created': '2019-05-23 20:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46779c6cff6936a7cc924d112fee422ad702aa8a', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 7, 'created': '2019-05-23 21:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/208080b50a31f5397da0be945c0399f0b6e6bb2b', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 8, 'created': '2019-05-24 00:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81ce3f92076e4ba7d7f7c450cf57960a22651689', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 9, 'created': '2019-05-24 13:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4a031f85fb5a1fef438e3703243a58c36030511', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 10, 'created': '2019-05-24 14:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e28371835f7d675f10d64274068fe544506c1a9c', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 11, 'created': '2019-05-24 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2dbf760592bfea7e704772c440023f67489b4e4', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 12, 'created': '2019-05-24 15:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79b5d5c2f4f29268440df8585afd8d70b8216bcd', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 13, 'created': '2019-05-24 16:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/886f67db4556ef37b08a5b0e96e64f64df62fd06', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 14, 'created': '2019-05-24 17:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdc7779ef176f6b8384aa9162bd2804192338462', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 15, 'created': '2019-05-24 17:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2849225e08ddf3b5025b16d5ecf90c5ab59cf566', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 16, 'created': '2019-05-24 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eadaceb0fcc6c34af0d24301f093e24f6fe9ee3', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 17, 'created': '2019-05-28 20:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ee9bc5e0ff9e3e4fe0f0aee34639116272342cd', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 18, 'created': '2019-05-29 12:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b456a774330f455ff1a262a2dded3ca5bbc14f78', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 19, 'created': '2019-05-29 14:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdfa2c0a2f2151716de9fb3046db105d80900d56', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 20, 'created': '2019-05-29 14:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24c7e30a766f8cd3e630c5a45019d56696508a64', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 21, 'created': '2019-05-29 15:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f4a395dc3679e186075aa4f325b5f22cfdca3e5', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 22, 'created': '2019-05-29 16:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92ed100849631cac08187fae05d525b4a878fb8e', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 23, 'created': '2019-05-29 16:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d04688dfa94da36a4c250a2cb5d6104dce6b7482', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 24, 'created': '2019-05-29 18:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de663b5330d37e3a6a2fbad8c166a7afa6166090', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 25, 'created': '2019-05-29 19:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf41390b8caaf13fd211313c8a5fb8d058611567', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 26, 'created': '2019-05-30 14:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11449d16ef6e8b09f3c849f54aeaa0ccbf1c9d9b', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 27, 'created': '2019-05-30 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3db3de60a9c5def0309b95932fa646ce3db10ea', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 28, 'created': '2019-05-30 18:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a46d06cbb0f1f4e706b2274048a9cc00a5d64f66', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 29, 'created': '2019-05-31 12:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97b1e34c2c1d25e215097be1e8f0a23c772b265a', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 30, 'created': '2019-05-31 12:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e17f0e586c5c4bef163319794d35b3a11bde554c', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 31, 'created': '2019-05-31 13:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/670d344a9124387767d0b2bf2ac089cc9f7fbf23', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 32, 'created': '2019-06-03 13:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2bfccee8f81a8974823d9180b006094ef2a8e2e4', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 33, 'created': '2019-06-03 16:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16def3914e2488bd2b9ea927e54eacc873957af9', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 34, 'created': '2019-06-03 18:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7658258e33fe13bf93c3932ffc57e28cf90e255', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 35, 'created': '2019-06-03 21:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd9f1541c8fd2d39e5745f53471cfb8a38976530', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 36, 'created': '2019-06-03 23:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/864773768426c3a4980b3f5d85eae1331baf828d', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 37, 'created': '2019-06-04 12:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1970e62ce66fdd0e307f12fe63e930b31bf6bfa', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 38, 'created': '2019-06-04 18:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff72f2e13a9e320247bfdf04aeeef3401725ba02', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 39, 'created': '2019-06-05 04:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c908cd5edb9b23a9d38573e64f3e8e2274117203', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 40, 'created': '2019-06-05 16:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f66702d432c2fc7a9f8bcb8bc1444b9761113b77', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\nDepends-On: I8127203b82e503fb9d6013b47fdd3066aee1b474\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 41, 'created': '2019-06-12 14:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18943255190ff5818bc28797c3a919dcf08421ac', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\n This interface will be read by puppet-tripleo for now but we'll also\n investigate how Ansible can consume that to lay the configuration down.\n\nDepends-On: Ia008917475edcd086fb5076fab320206d05ea557\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 42, 'created': '2019-07-02 16:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5ef0addba8d085622d322d02a1e0f833d9e2e21', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\nThis interface will be read by puppet-tripleo for now but we'll also\ninvestigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 43, 'created': '2019-07-02 17:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a0266ec1a493ad394ef734098c8df91f0ea7db2', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\nThis interface will be read by puppet-tripleo for now but we'll also\ninvestigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 44, 'created': '2019-07-02 17:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e30002811288edfb27cec8a5af9385009676f1ce', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\nThis interface will be read by puppet-tripleo for now but we'll also\ninvestigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 45, 'created': '2019-07-03 14:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d53664cb41b687730b4f68e466243feefb8262e1', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\nThis interface will be read by puppet-tripleo for now but we'll also\ninvestigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}, {'number': 46, 'created': '2019-07-05 19:54:48.000000000', 'files': ['releasenotes/notes/param_config-89649e746f8fc801.yaml', 'common/container-puppet.py', 'overcloud.j2.yaml', 'common/deploy-steps-tasks.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e5badae151c412078532518ce145f866c6e060c', 'message': ""Introduce param_config interface\n\nThe new param_config is part of puppet_config and allows services to use a\nnew interface to lay the configuration down via Puppet (and eventually\nAnsible later). The format is the following:\n\n  puppet_config:\n    param_config:\n      glance_api_config:\n        DEFAULT:\n          foo: bar\n          foo2: bar2\n      keystone_config:\n        my_custom_section:\n          foo3: bar\n          foor4: bar2\n\nThis interface will be read by puppet-tripleo for now but we'll also\ninvestigate how Ansible can consume that to lay the configuration down.\n\nChange-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10\n""}]",22,661093,3e5badae151c412078532518ce145f866c6e060c,127,7,46,3153,,,0,"Introduce param_config interface

The new param_config is part of puppet_config and allows services to use a
new interface to lay the configuration down via Puppet (and eventually
Ansible later). The format is the following:

  puppet_config:
    param_config:
      glance_api_config:
        DEFAULT:
          foo: bar
          foo2: bar2
      keystone_config:
        my_custom_section:
          foo3: bar
          foor4: bar2

This interface will be read by puppet-tripleo for now but we'll also
investigate how Ansible can consume that to lay the configuration down.

Change-Id: I5b7e4bad9ed92ea8e0f2837be0219470c634ea10
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/661093/43 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/param_config-89649e746f8fc801.yaml', 'common/container-puppet.py', 'deployment/glance/.glance-api-container-puppet.yaml.swp', 'tools/yaml-validate.py']",4,b971b605775e510b28fa2cc270afa7e6c70cd86e,config/int,"OPTIONAL_DOCKER_PUPPET_CONFIG_SECTIONS = [ 'puppet_tags', 'volumes', 'param_config' ]","OPTIONAL_DOCKER_PUPPET_CONFIG_SECTIONS = [ 'puppet_tags', 'volumes' ]",33,6
openstack%2Fansible-role-tripleo-modify-image~master~Ib9df734ae91f37794ea936ca424283587636c735,openstack/ansible-role-tripleo-modify-image,master,Ib9df734ae91f37794ea936ca424283587636c735,WIP: Test yum_update.sh via molecule,ABANDONED,2019-06-21 14:16:00.000000000,2019-11-06 02:17:50.000000000,,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 14:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/987dbc8707acd9f9a510c40143f52a4780ffce4d', 'message': 'WIP: Test yum_update.sh via molecule\n\nChange-Id: Ib9df734ae91f37794ea936ca424283587636c735\n'}, {'number': 2, 'created': '2019-07-10 15:28:17.000000000', 'files': ['.gitignore', 'molecule/Dockerfile.j2', 'molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/93a9ab2a7a262121ecf383f12e19dbc0e49865bc', 'message': 'WIP: Test yum_update.sh via molecule\n\nChange-Id: Ib9df734ae91f37794ea936ca424283587636c735\n'}]",0,666847,93a9ab2a7a262121ecf383f12e19dbc0e49865bc,7,3,2,24162,,,0,"WIP: Test yum_update.sh via molecule

Change-Id: Ib9df734ae91f37794ea936ca424283587636c735
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/47/666847/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'molecule/Dockerfile.j2', 'molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'tox.ini', 'molecule/default/playbook.yml']",6,987dbc8707acd9f9a510c40143f52a4780ffce4d,molecule,"--- - name: Converge hosts: all become: true tasks: - name: deploy yum_update.sh copy: src: ../../files/yum_update.sh # noqa 404 dest: /root/yum_update.sh mode: u+rwx,g+rx - name: run yum_update.sh (missing repos) # noqa 305 shell: bash -x /root/yum_update.sh gating-repo,delorean-current args: warn: false # TODO: make change_when dependent on output changed_when: false ",,176,3
openstack%2Ftripleo-heat-templates~stable%2Frocky~I3a53dde5696f89224dcc54643321b66ee4f99aee,openstack/tripleo-heat-templates,stable/rocky,I3a53dde5696f89224dcc54643321b66ee4f99aee,WIP - DNM - Convert Bigswitch integration into a composable service,ABANDONED,2019-07-16 13:05:50.000000000,2019-11-06 02:17:49.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-16 13:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb36ce3d23191919155944c0d26e8f94f0b14c00', 'message': 'WIP - DNM - Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)\n'}, {'number': 2, 'created': '2019-07-16 13:15:18.000000000', 'files': ['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/services/neutron-bigswitch-agent.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'puppet/role.role.j2.yaml', 'puppet/services/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/910c269ce24f93cdbc0777c71013a21b7dae0ee7', 'message': 'WIP - DNM - Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)\n'}]",0,671025,910c269ce24f93cdbc0777c71013a21b7dae0ee7,9,5,2,3153,,,0,"WIP - DNM - Convert Bigswitch integration into a composable service

The Bigswitch integration is now a composable service that deploys the
required dependencies on the hosts and the parameters in the Neutron ML2
plugin container.
NeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth
need to be defined for the Controller role.
NeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be
defined for all the roles.
The neutron-ml2-bigswitch.yaml environment has been updated with examples.

Change-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee
(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/671025/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/services/neutron-bigswitch-agent.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'puppet/role.role.j2.yaml', 'puppet/services/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml']",8,fb36ce3d23191919155944c0d26e8f94f0b14c00,bsn/rocky,--- features: - | The Bigswitch integration is now a composable service that deploys the required dependencies on the hosts and the parameters in the Neutron ML2 plugin container. NeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth need to be defined for the Controller role. NeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be defined for all the roles. The neutron-ml2-bigswitch.yaml environment has been updated with examples. ,,199,193
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I3a53dde5696f89224dcc54643321b66ee4f99aee,openstack/tripleo-heat-templates,stable/queens,I3a53dde5696f89224dcc54643321b66ee4f99aee,WIP - DNM - Convert Bigswitch integration into a composable service,ABANDONED,2019-07-16 13:08:42.000000000,2019-11-06 02:17:47.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28026}]","[{'number': 1, 'created': '2019-07-16 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fbd33ec6825a7445a9b3a22ba51ca95c1b08c017', 'message': 'WIP - DNM - Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)\n(cherry picked from commit fb36ce3d23191919155944c0d26e8f94f0b14c00)\n'}, {'number': 2, 'created': '2019-07-16 13:15:01.000000000', 'files': ['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/services/neutron-bigswitch-agent.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'puppet/role.role.j2.yaml', 'puppet/services/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e38c567d4065ae47fd8cfc47e596547702af9150', 'message': 'WIP - DNM - Convert Bigswitch integration into a composable service\n\nThe Bigswitch integration is now a composable service that deploys the\nrequired dependencies on the hosts and the parameters in the Neutron ML2\nplugin container.\nNeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth\nneed to be defined for the Controller role.\nNeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be\ndefined for all the roles.\nThe neutron-ml2-bigswitch.yaml environment has been updated with examples.\n\nChange-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee\n(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)\n(cherry picked from commit fb36ce3d23191919155944c0d26e8f94f0b14c00)\n'}]",8,671026,e38c567d4065ae47fd8cfc47e596547702af9150,7,5,2,3153,,,0,"WIP - DNM - Convert Bigswitch integration into a composable service

The Bigswitch integration is now a composable service that deploys the
required dependencies on the hosts and the parameters in the Neutron ML2
plugin container.
NeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth
need to be defined for the Controller role.
NeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be
defined for all the roles.
The neutron-ml2-bigswitch.yaml environment has been updated with examples.

Change-Id: I3a53dde5696f89224dcc54643321b66ee4f99aee
(cherry picked from commit e3dc001c92c9899f09361625ee933efbd7a6d065)
(cherry picked from commit fb36ce3d23191919155944c0d26e8f94f0b14c00)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/671026/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/compute/neutron-ml2-bigswitch.yaml', 'puppet/services/neutron-bigswitch-agent.yaml', 'puppet/extraconfig/pre_deploy/controller/neutron-ml2-bigswitch.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-ml2-bigswitch.yaml', 'puppet/role.role.j2.yaml', 'puppet/services/neutron-plugin-ml2-bigswitch-container-puppet.yaml', 'releasenotes/notes/bigswitch_composable-5a3266bdc2d75776.yaml']",8,fbd33ec6825a7445a9b3a22ba51ca95c1b08c017,bsn/queens,--- features: - | The Bigswitch integration is now a composable service that deploys the required dependencies on the hosts and the parameters in the Neutron ML2 plugin container. NeutronBigswitchRestproxyServers and NeutronBigswitchRestproxyServerAuth need to be defined for the Controller role. NeutronBigswitchAgentEnabled and NeutronBigswitchLLDPEnabled need to be defined for all the roles. The neutron-ml2-bigswitch.yaml environment has been updated with examples. ,,199,193
openstack%2Fpuppet-tripleo~master~Ie955632b0597f0fd4116662fde69d46dc04813cf,openstack/puppet-tripleo,master,Ie955632b0597f0fd4116662fde69d46dc04813cf,Prepare glance-api to be refactored,ABANDONED,2019-05-24 18:50:08.000000000,2019-11-06 02:17:45.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-24 18:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ae3ca283f136db6190baa66a7c227e91e8fd2d0', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 2, 'created': '2019-05-24 21:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/59ea4215839987e7afe1d40eed292c2cdf889f25', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 3, 'created': '2019-05-27 12:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7053824a3a851065446a8ecb2cc96bd250a4898b', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 4, 'created': '2019-05-29 17:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c027d2ae1559db6d4c82bbfd806ffb5150caea9', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 5, 'created': '2019-06-03 18:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c1f0bc6dc8b968b0cbca4cf8c79139acb27d9d8b', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 6, 'created': '2019-06-03 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/17db5ed68150e32b75dd1a4d77fe2fcdce390e5d', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 7, 'created': '2019-06-03 21:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/47c862a2897f55e01fb160bb0f1ce3af6638ed91', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 8, 'created': '2019-06-03 23:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a468e6037329d0a1032dfb7a7ac948de8d410c0c', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 9, 'created': '2019-06-04 11:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/588ee62c6dd787a2aa113fece329a2ab75b00d5b', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 10, 'created': '2019-06-04 12:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ad90a68c4764b7132cb84a5a6e72635fa007f7b4', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 11, 'created': '2019-06-04 18:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0e95ae07cdcb24121f575df668375d11af71d3a3', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 12, 'created': '2019-07-02 17:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a29e1c686eb8f77bb93f51429985a93a208c1029', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}, {'number': 13, 'created': '2019-07-31 19:09:58.000000000', 'files': ['manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/68bda8bca44c9bc75638f5ddf58554555c3682dc', 'message': 'Prepare glance-api to be refactored\n\nPart of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we\nneed this patch to avoid resource duplication in Puppet catalog.\n\nThis is temporary and the code will be cleaned up later.\n\nChange-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf\n'}]",0,661377,68bda8bca44c9bc75638f5ddf58554555c3682dc,37,6,13,3153,,,0,"Prepare glance-api to be refactored

Part of the effort in Idbf1250b1cdf69fb101c206183f16be70532626c - we
need this patch to avoid resource duplication in Puppet catalog.

This is temporary and the code will be cleaned up later.

Change-Id: Ie955632b0597f0fd4116662fde69d46dc04813cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/661377/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/glance/api.pp'],1,8ae3ca283f136db6190baa66a7c227e91e8fd2d0,glance/api/refacto,"# # [*glance_puppet_refacto*] # Internal parameter to TripleO used when refactoring Glance service. # defaults to false # $glance_puppet_refacto = false, # Once https://review.opendev.org/#/c/660791/ has landed, we can remove this # whole block. if ! $glance_puppet_refacto { $http_store = ['http'] $glance_store = concat($http_store, $backend_store) include ::glance::config include ::glance::api::logging include join(['::glance::backend::', $glance_backend]) class { '::glance::api': stores => $glance_store, sync_db => $sync_db, } # TODO(jaosorior): Remove bind_host when we set it up conditionally in t-h-t $oslomsg_rpc_use_ssl_real = sprintf('%s', bool2num(str2bool($oslomsg_rpc_use_ssl))) $oslomsg_notify_use_ssl_real = sprintf('%s', bool2num(str2bool($oslomsg_notify_use_ssl))) class { '::glance::notify::rabbitmq' : default_transport_url => os_transport_url({ 'transport' => $oslomsg_rpc_proto, 'hosts' => $oslomsg_rpc_hosts, 'port' => $oslomsg_rpc_port, 'username' => $oslomsg_rpc_username, 'password' => $oslomsg_rpc_password, 'ssl' => $oslomsg_rpc_use_ssl_real, }), notification_transport_url => os_transport_url({ 'transport' => $oslomsg_notify_proto, 'hosts' => $oslomsg_notify_hosts, 'port' => $oslomsg_notify_port, 'username' => $oslomsg_notify_username, 'password' => $oslomsg_notify_password, 'ssl' => $oslomsg_notify_use_ssl_real, }), } }"," $http_store = ['http'] $glance_store = concat($http_store, $backend_store) include ::glance::config include ::glance::api::logging # TODO(jaosorior): Remove bind_host when we set it up conditionally in t-h-t class { '::glance::api': stores => $glance_store, sync_db => $sync_db, } $oslomsg_rpc_use_ssl_real = sprintf('%s', bool2num(str2bool($oslomsg_rpc_use_ssl))) $oslomsg_notify_use_ssl_real = sprintf('%s', bool2num(str2bool($oslomsg_notify_use_ssl))) class { '::glance::notify::rabbitmq' : default_transport_url => os_transport_url({ 'transport' => $oslomsg_rpc_proto, 'hosts' => $oslomsg_rpc_hosts, 'port' => $oslomsg_rpc_port, 'username' => $oslomsg_rpc_username, 'password' => $oslomsg_rpc_password, 'ssl' => $oslomsg_rpc_use_ssl_real, }), notification_transport_url => os_transport_url({ 'transport' => $oslomsg_notify_proto, 'hosts' => $oslomsg_notify_hosts, 'port' => $oslomsg_notify_port, 'username' => $oslomsg_notify_username, 'password' => $oslomsg_notify_password, 'ssl' => $oslomsg_notify_use_ssl_real, }), } include join(['::glance::backend::', $glance_backend])",40,30
openstack%2Fnetworking-ovn~master~I4fae3b1e629400c641bc73547b78c4c80ddcd09c,openstack/networking-ovn,master,I4fae3b1e629400c641bc73547b78c4c80ddcd09c,Set binding profile directly from OVNTrunkDriver (redo cont.),ABANDONED,2019-11-06 01:58:32.000000000,2019-11-06 02:04:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-06 01:58:32.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d64187e1e427ef6d9e7be6e7c98174b3e8d92565', 'message': 'Set binding profile directly from OVNTrunkDriver (redo cont.)\n\nThis is a tweak to changes done to fix bug 1834637. Specifically,\nthis change addresses scaling. The previous gerrit change had\nmodifications to all OVN sub-ports performed as a single\ntransaction. That did not account for race-condition on neutron\nDB queries, which leads to timeouts under heavy loads.\n\nBy breaking the iteration into multiple transactions, the\nchange in time is marginal:\n\n  Service-level agreement\n  NeutronTrunks :: neutron.create_trunk\n\n  from 34.2 sec to 35.6 for 50%ile\n  from 35.6 sec to 36.1 for 95%ile\n\nChange-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c\nCloses-Bug: #1834637\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n'}]",0,693107,d64187e1e427ef6d9e7be6e7c98174b3e8d92565,3,1,1,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo cont.)

This is a tweak to changes done to fix bug 1834637. Specifically,
this change addresses scaling. The previous gerrit change had
modifications to all OVN sub-ports performed as a single
transaction. That did not account for race-condition on neutron
DB queries, which leads to timeouts under heavy loads.

By breaking the iteration into multiple transactions, the
change in time is marginal:

  Service-level agreement
  NeutronTrunks :: neutron.create_trunk

  from 34.2 sec to 35.6 for 50%ile
  from 35.6 sec to 36.1 for 95%ile

Change-Id: I4fae3b1e629400c641bc73547b78c4c80ddcd09c
Closes-Bug: #1834637
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/07/693107/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,d64187e1e427ef6d9e7be6e7c98174b3e8d92565,,"from neutron_lib.db import api as db_api from sqlalchemy.orm import exc as sql_exc for try_cnt in range(db_api.MAX_RETRIES): try: self._set_sub_ports_try(parent_port, subports) break except sql_exc.StaleDataError as e: if try_cnt < db_api.MAX_RETRIES - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _set_sub_ports_try(self, parent_port, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for try_cnt in range(db_api.MAX_RETRIES): try: self._unset_sub_ports_try(subports) break except sql_exc.StaleDataError as e: if try_cnt < db_api.MAX_RETRIES - 1: LOG.debug(""Got StaleDataError exception %s"", e) continue else: # re-raise when all tries failed raise def _unset_sub_ports_try(self, subports): for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: LOG.debug(""Setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Done setting parent %s for subport %s"", parent_port, subport.port_id) LOG.debug(""Unsetting parent for subport %s"", subport.port_id) LOG.debug(""Done unsetting parent for subport %s"", subport.port_id)"," with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports:",42,6
openstack%2Freleases~master~Ibd5edb8bd7507af4c7c80e5908b4c1470d14c392,openstack/releases,master,Ibd5edb8bd7507af4c7c80e5908b4c1470d14c392,remove dhellmann as release liaison,MERGED,2019-11-02 14:03:58.000000000,2019-11-06 02:01:31.000000000,2019-11-06 02:01:31.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-02 14:03:58.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e20735fd7cdb8571bc23f03ce0d1c950d5b614af', 'message': ""remove dhellmann as release liaison\n\nI'm no longer active enough with either OSC or Oslo to serve as\nrelease liaison for those projects.\n\nChange-Id: Ibd5edb8bd7507af4c7c80e5908b4c1470d14c392\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,692668,e20735fd7cdb8571bc23f03ce0d1c950d5b614af,7,6,1,2472,,,0,"remove dhellmann as release liaison

I'm no longer active enough with either OSC or Oslo to serve as
release liaison for those projects.

Change-Id: Ibd5edb8bd7507af4c7c80e5908b4c1470d14c392
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/692668/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,e20735fd7cdb8571bc23f03ce0d1c950d5b614af,drop-dhellmann-release-liaison,,openstackclient: - name: 'Doug Hellmann' irc: dhellmann email: doug@doughellmann.com - name: 'Doug Hellmann' irc: dhellmann email: doug@doughellmann.com,0,7
openstack%2Freleases~master~Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae,openstack/releases,master,Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae,Release magnum 9.1.0 for Train,MERGED,2019-10-25 13:50:07.000000000,2019-11-06 01:59:57.000000000,2019-11-06 01:59:57.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/432007c9f5027c731f990dca9c971ed9fe02041c', 'message': 'Release magnum 9.1.0 for Train\n\nChange-Id: Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae\n'}, {'number': 2, 'created': '2019-10-29 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aebf15ea569f70db3a7d3959dd84384f5d1dbfd1', 'message': 'Release magnum 9.1.0 for Train\n\nChange-Id: Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae\n'}, {'number': 3, 'created': '2019-10-30 09:38:30.000000000', 'files': ['deliverables/train/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33ab1d668822ff6a2fe42566d5703ba5033566b0', 'message': 'Release magnum 9.1.0 for Train\n\nChange-Id: Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae\n'}]",5,691311,33ab1d668822ff6a2fe42566d5703ba5033566b0,17,5,3,28022,,,0,"Release magnum 9.1.0 for Train

Change-Id: Id0d45bc8c83a2a1102a44c6fb118e93216ed89ae
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/691311/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/magnum.yaml'],1,432007c9f5027c731f990dca9c971ed9fe02041c,, - version: 9.1.0 projects: - repo: openstack/magnum hash: 6d6e61d1a6341e7efeb75c513c5fe1b72fc211b0,,4,0
openstack%2Freleases~master~I7079f30332dde6743b95ac05a1e762fb01b9aac0,openstack/releases,master,I7079f30332dde6743b95ac05a1e762fb01b9aac0,Release kolla 9.0.0.0rc1 for Train,MERGED,2019-10-31 13:39:48.000000000,2019-11-06 01:10:10.000000000,2019-11-06 01:10:10.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-31 13:39:48.000000000', 'files': ['deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5fc3adca4cd1b8124ffba46b25d0b267bc165ead', 'message': 'Release kolla 9.0.0.0rc1 for Train\n\nChange-Id: I7079f30332dde6743b95ac05a1e762fb01b9aac0\n'}]",0,692371,5fc3adca4cd1b8124ffba46b25d0b267bc165ead,10,6,1,14826,,,0,"Release kolla 9.0.0.0rc1 for Train

Change-Id: I7079f30332dde6743b95ac05a1e762fb01b9aac0
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/692371/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kolla.yaml'],1,5fc3adca4cd1b8124ffba46b25d0b267bc165ead,,branches: - location: 9.0.0.0rc1 name: stable/train releases: - projects: - hash: 3ef9bf828ed225270c668d0ab396f4ecefdf9e31 repo: openstack/kolla version: 9.0.0.0rc1,,8,0
openstack%2Fswift~stable%2Fstein~I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376,openstack/swift,stable/stein,I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376,Fix stable gate,MERGED,2019-11-05 13:57:14.000000000,2019-11-06 00:52:50.000000000,2019-11-06 00:51:00.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 13:57:14.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/56ae0c7debd174bd5676ce937482bf9414efa3de', 'message': 'Fix stable gate\n\nThis is a combination of 2 commits.\n\n==========\n\nMake our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\n(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)\n\n----------\n\npin lower-constraints to run against python 2.7\n\n(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)\n\n==========\n\nChange-Id: I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376\n'}]",0,693007,56ae0c7debd174bd5676ce937482bf9414efa3de,10,2,1,15343,,,0,"Fix stable gate

This is a combination of 2 commits.

==========

Make our py2 func tests more explicitly py2

...because otherwise, I think they might be running under py3 right now.

(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)

----------

pin lower-constraints to run against python 2.7

(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)

==========

Change-Id: I4e7e71cbaeda9e6bfcf4e415dd5f859df4835376
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/693007/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,56ae0c7debd174bd5676ce937482bf9414efa3de,692963,basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,,33,24
openstack%2Ftripleo-ansible~master~I0c768bc6168363fa3758562f9f053aa9ab85236b,openstack/tripleo-ansible,master,I0c768bc6168363fa3758562f9f053aa9ab85236b,Molecule job for testing plugins and modules,MERGED,2019-11-02 10:13:45.000000000,2019-11-06 00:45:39.000000000,2019-11-06 00:43:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-02 10:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df21b68744ab992d5b5f96d5130959a3706dc600', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 2, 'created': '2019-11-02 10:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/721610031e4772787291dc3f21e5beb98cfc46b2', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 3, 'created': '2019-11-02 20:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/daf6acf11e019827cb25d577d07fd2c7c252574e', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 4, 'created': '2019-11-02 22:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eac4dbe561b40bfc9635f053e4bd9d7422fb9a5d', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 5, 'created': '2019-11-03 02:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59532d4d71eb6ddcce5402a957c45119015c4af5', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 6, 'created': '2019-11-03 10:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e0b651d1b00b212153c6303cdfff79ad468f480', 'message': 'WIP: molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 7, 'created': '2019-11-03 11:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e440503af5ddc604e429a5ba15e75c6c19e48d3d', 'message': 'Molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 8, 'created': '2019-11-03 11:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd43ea759be59176c545d40e3e4fc3d232abe58a', 'message': 'Molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 9, 'created': '2019-11-03 11:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7731000cad258448dff8e37c7f93786fe69c2368', 'message': 'Molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 10, 'created': '2019-11-03 13:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28e346f8afb8763f2d044a74ab5eee9c9b94b568', 'message': 'Molecule job for testing plugins and modules\n\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 11, 'created': '2019-11-03 14:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa217191a63a650dbe59d8ae73c5a98cb34aeefb', 'message': 'Molecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}, {'number': 12, 'created': '2019-11-03 23:58:43.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_volume_info.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py', 'zuul.d/playbooks/run.yml', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/playbooks/podman_tests.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/.yamllint', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container_info/prepare.yml', 'tox.ini', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_volume_info/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d420827378d43d79def26fb254cd33b7a6e89b5', 'message': 'Molecule job for testing plugins and modules\n\nand remove ansible_facts from podman_container_info module\nChange-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b\n'}]",0,692657,2d420827378d43d79def26fb254cd33b7a6e89b5,29,6,12,10969,,,0,"Molecule job for testing plugins and modules

and remove ansible_facts from podman_container_info module
Change-Id: I0c768bc6168363fa3758562f9f053aa9ab85236b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/57/692657/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/podman_container/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/playbooks/podman_tests.yml', 'tripleo_ansible/ansible_plugins/tests/.yamllint', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/prepare.yml', 'tox.ini']",7,df21b68744ab992d5b5f96d5130959a3706dc600,molec," [testenv:modules] deps= {[testenv:linters]deps} commands = bash -c ""cd {toxinidir}/tripleo_ansible/ansible_plugins/tests; molecule test --all;"" {[testenv:linters]commands}",,532,388
openstack%2Fswift~stable%2Fstein~I5c856012a04ef8f910c28b0248ea7bcda47e4816,openstack/swift,stable/stein,I5c856012a04ef8f910c28b0248ea7bcda47e4816,pin lower-constraints to run against python 2.7,ABANDONED,2019-11-04 11:50:52.000000000,2019-11-06 00:45:36.000000000,,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 11:50:52.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/8f5b8f27511bf61478cb573a4aa3d0cab5754b83', 'message': 'pin lower-constraints to run against python 2.7\n\nChange-Id: I5c856012a04ef8f910c28b0248ea7bcda47e4816\n(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)\n'}]",0,692811,8f5b8f27511bf61478cb573a4aa3d0cab5754b83,4,3,1,15343,,,0,"pin lower-constraints to run against python 2.7

Change-Id: I5c856012a04ef8f910c28b0248ea7bcda47e4816
(cherry picked from commit 281ffab2a52f348aa3f8ad39e800a43c6047e1cf)
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/692811/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,8f5b8f27511bf61478cb573a4aa3d0cab5754b83,lower_different_approach-stable/train-stable/stein,basepython = python2.7,,3,0
openstack%2Fswift~stable%2Fstein~I96ad9e5ed87a7e08d06e889233730cec476d3af7,openstack/swift,stable/stein,I96ad9e5ed87a7e08d06e889233730cec476d3af7,Make our py2 func tests more explicitly py2,ABANDONED,2019-11-05 09:35:05.000000000,2019-11-06 00:45:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-05 09:35:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/0899f20064d4945660f71d15b41574c7a2fde04c', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)\n'}]",0,692963,0899f20064d4945660f71d15b41574c7a2fde04c,3,1,1,15343,,,0,"Make our py2 func tests more explicitly py2

...because otherwise, I think they might be running under py3 right now.

Change-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7
(cherry picked from commit c512574e110c214396658743e75ae497ba76e2ff)
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/692963/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,0899f20064d4945660f71d15b41574c7a2fde04c,,basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,,30,24
openstack%2Fpython-openstackclient~master~I1aa4b2655bafd2f6a5d83b658742f65d180eb128,openstack/python-openstackclient,master,I1aa4b2655bafd2f6a5d83b658742f65d180eb128,compute: autogenerate docs,MERGED,2019-11-04 22:03:46.000000000,2019-11-06 00:36:37.000000000,2019-11-06 00:34:49.000000000,"[{'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 22:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/40126a533da9582d7b2397ccfa97d1161b1ba98a', 'message': 'compute: autogenerate docs\n\n$namespace = openstack.compute.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nMany of these were already being generated. Some were missing a few\nsub-subcommands, so those are added.\n\nChange-Id: I1aa4b2655bafd2f6a5d83b658742f65d180eb128\n'}, {'number': 2, 'created': '2019-11-04 22:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/97b53e631752cc0c17215aad9fa992ae714dfea8', 'message': 'compute: autogenerate docs\n\n$namespace = openstack.compute.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nMany of these were already being generated. Some were missing a few\nsub-subcommands, so those are added.\n\nChange-Id: I1aa4b2655bafd2f6a5d83b658742f65d180eb128\n'}, {'number': 3, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/source/cli/command-objects/hypervisor-stats.rst', 'doc/source/cli/command-objects/keypair.rst', 'doc/source/cli/command-objects/console-url.rst', 'doc/source/cli/command-objects/hypervisor.rst', 'doc/source/cli/command-objects/flavor.rst', 'doc/source/cli/command-objects/compute-agent.rst', 'doc/source/cli/command-objects/server.rst', 'doc/source/cli/command-objects/compute-service.rst', 'doc/source/cli/command-objects/usage.rst', 'doc/source/cli/command-objects/host.rst', 'doc/source/cli/command-objects/aggregate.rst', 'setup.cfg', 'doc/source/cli/command-objects/console-log.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c6266b5ab22b911ae7e0ca5077d0c04a23dabca9', 'message': 'compute: autogenerate docs\n\n$namespace = openstack.compute.v2\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nMany of these were already being generated. Some were missing a few\nsub-subcommands, so those are added.\n\nChange-Id: I1aa4b2655bafd2f6a5d83b658742f65d180eb128\n'}]",1,692916,c6266b5ab22b911ae7e0ca5077d0c04a23dabca9,17,4,3,14070,,,0,"compute: autogenerate docs

$namespace = openstack.compute.v2

The subcommand documents for $namespace were hardcoded and thus prone to
drift over time. This commit removes the hardcoded content and uses the
autoprogram-cliff directive to generate them automatically from the
subcommand configuration classes.

Many of these were already being generated. Some were missing a few
sub-subcommands, so those are added.

Change-Id: I1aa4b2655bafd2f6a5d83b658742f65d180eb128
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/16/692916/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/hypervisor-stats.rst', 'doc/source/cli/command-objects/keypair.rst', 'doc/source/cli/command-objects/console-url.rst', 'doc/source/cli/command-objects/hypervisor.rst', 'doc/source/cli/command-objects/flavor.rst', 'doc/source/cli/command-objects/compute-agent.rst', 'doc/source/cli/command-objects/server.rst', 'doc/source/cli/command-objects/compute-service.rst', 'doc/source/cli/command-objects/usage.rst', 'doc/source/cli/command-objects/host.rst', 'doc/source/cli/command-objects/aggregate.rst', 'setup.cfg', 'doc/source/cli/command-objects/console-log.rst']",13,40126a533da9582d7b2397ccfa97d1161b1ba98a,generate-docs,.. autoprogram-cliff:: openstack.compute.v2 :command: console log *,console log show ---------------- Show server's console output .. program:: console log show .. code:: bash openstack console log show [--lines <num-lines>] <server> .. option:: --lines <num-lines> Number of lines to display from the end of the log (default=all) .. describe:: <server> Server to show log console log (name or ID),29,875
openstack%2Fpython-openstackclient~master~I1f7e9d0e5748f887dbc35200c3c8b4407da43e0b,openstack/python-openstackclient,master,I1f7e9d0e5748f887dbc35200c3c8b4407da43e0b,openstack.cli: autogenerate docs,MERGED,2019-11-04 21:49:31.000000000,2019-11-06 00:35:40.000000000,2019-11-06 00:33:12.000000000,"[{'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 21:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a8a41af16841bd755f769e0b833452d83cf50274', 'message': 'openstack.cli: autogenerate docs\n\n$namespace = openstack.cli\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nChange-Id: I1f7e9d0e5748f887dbc35200c3c8b4407da43e0b\n'}, {'number': 2, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/source/cli/command-objects/module.rst', 'doc/source/cli/command-objects/command.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/da56b8f4cf15cc5a77249b680dd0c4d05137be9a', 'message': 'openstack.cli: autogenerate docs\n\n$namespace = openstack.cli\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nChange-Id: I1f7e9d0e5748f887dbc35200c3c8b4407da43e0b\n'}]",0,692914,da56b8f4cf15cc5a77249b680dd0c4d05137be9a,9,2,2,14070,,,0,"openstack.cli: autogenerate docs

$namespace = openstack.cli

The subcommand documents for $namespace were hardcoded and thus prone to
drift over time. This commit removes the hardcoded content and uses the
autoprogram-cliff directive to generate them automatically from the
subcommand configuration classes.

Change-Id: I1f7e9d0e5748f887dbc35200c3c8b4407da43e0b
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/14/692914/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/module.rst', 'doc/source/cli/command-objects/command.rst']",2,a8a41af16841bd755f769e0b833452d83cf50274,generate-docs,.. autoprogram-cliff:: openstack.cli :command: command *,"command list ------------ List recognized commands by group .. program:: command list .. code:: bash openstack command list [--group <group-keyword>] .. option:: --group <group-keyword> Show commands filtered by a command group, for example: identity, volume, compute, image, network and other keywords",4,29
openstack%2Fpython-openstackclient~master~I7658fed40d71f4c20ee27908ade433534657cfe5,openstack/python-openstackclient,master,I7658fed40d71f4c20ee27908ade433534657cfe5,common: autogenerate docs,MERGED,2019-10-29 21:26:30.000000000,2019-11-06 00:34:33.000000000,2019-11-06 00:33:11.000000000,"[{'_account_id': 970}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 31053}]","[{'number': 1, 'created': '2019-10-29 21:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/09f6dbd42b09684239ca2509c3728f3a95f9128e', 'message': ""Fix 'versions show' helps & docs\n\n- The command `openstack versions show --help` showed a copy/paste\n  error, using <region-name> for the metavar for both --service and\n  --status. Fix.\n- The HTML documentation for the same was out of sync, missing the\n  --status option. Rather than syncing (and having this problem again in\n  the future), replace the whole document with the directive to\n  autogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 2, 'created': '2019-10-30 23:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b843a6c7e42bf3f8570baebaa4117cec9beb62cf', 'message': ""Fix 'versions show' helps & docs\n\n- The command `openstack versions show --help` showed a copy/paste\n  error, using <region-name> for the metavar for both --service and\n  --status. Fix.\n- The HTML documentation for the same was out of sync, missing the\n  --status option. Rather than syncing (and having this problem again in\n  the future), replace the whole document with the directive to\n  autogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 3, 'created': '2019-10-31 01:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/810552fb0e201edc9347b1634a6ddd1b84e4e671', 'message': ""Fix 'versions show' helps & docs\n\n- The command `openstack versions show --help` showed a copy/paste\n  error, using <region-name> for the metavar for both --service and\n  --status. Fix.\n- The HTML documentation for the same was out of sync, missing the\n  --status option. Rather than syncing (and having this problem again in\n  the future), replace the whole document with the directive to\n  autogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 4, 'created': '2019-11-01 17:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6a02cea975c042cc6dba2281748d200b5d27b75f', 'message': ""Fix 'versions show' helps & docs\n\n- The command `openstack versions show --help` showed a copy/paste\n  error, using <region-name> for the metavar for both --service and\n  --status. Fix.\n- The HTML documentation for the same was out of sync, missing the\n  --status option. Rather than syncing (and having this problem again in\n  the future), replace the whole document with the directive to\n  autogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 5, 'created': '2019-11-01 17:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/31aa11e49f76e1e9b7d5770418fe4e49fb0dde88', 'message': ""Fix 'versions show' helps & docs\n\nThe HTML documentation for the same was out of sync. Rather than syncing\n(and having this problem again in the future), replace the whole\ndocument with the directive to autogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 6, 'created': '2019-11-01 17:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1d923db7b373347c191b8c108ef08e68c673c251', 'message': ""Fix 'versions show' helps & docs\n\nThe HTML documentation for the command `openstack versions show --help`\nwas out of sync. Rather than syncing (and having this problem again in\nthe future), replace the whole document with the directive to\nautogenerate it from the option class.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n""}, {'number': 7, 'created': '2019-11-01 19:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0f04a0bb7ec4fe2c289bc53427b8924a1b1b1d49', 'message': 'common: autogenerate docs\n\n$namespace = openstack.common\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis incorporates a correction to `openstack versions show`: The command\n`openstack versions show --help` showed a copy/paste error, using\n<region-name> for the metavar for both --service and --status. Fix.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n'}, {'number': 8, 'created': '2019-11-01 19:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b0d53b4fdd0c4148033ef872367b7f7be3141e4b', 'message': 'common: autogenerate docs\n\n$namespace = openstack.common\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis incorporates a correction to `openstack versions show`: The command\n`openstack versions show --help` showed a copy/paste error, using\n<region-name> for the metavar for both --service and --status. Fix.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n'}, {'number': 9, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/source/cli/command-objects/configuration.rst', 'doc/source/cli/command-objects/limits.rst', 'doc/source/cli/command-objects/versions.rst', 'doc/source/cli/command-objects/availability-zone.rst', 'doc/source/cli/command-objects/quota.rst', 'openstackclient/common/versions.py', 'doc/source/cli/command-objects/extension.rst', 'doc/source/cli/command-objects/project-purge.rst', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4c0f3bfa89dfc9f207c4f6d6dc6ded85b86fee87', 'message': 'common: autogenerate docs\n\n$namespace = openstack.common\n\nThe subcommand documents for $namespace were hardcoded and thus prone to\ndrift over time. This commit removes the hardcoded content and uses the\nautoprogram-cliff directive to generate them automatically from the\nsubcommand configuration classes.\n\nThis incorporates a correction to `openstack versions show`: The command\n`openstack versions show --help` showed a copy/paste error, using\n<region-name> for the metavar for both --service and --status. Fix.\n\nChange-Id: I7658fed40d71f4c20ee27908ade433534657cfe5\nCo-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>\nCo-Authored-By: Matt Riedemann <mriedem.os@gmail.com>\n'}]",0,691989,4c0f3bfa89dfc9f207c4f6d6dc6ded85b86fee87,30,5,9,14070,,,0,"common: autogenerate docs

$namespace = openstack.common

The subcommand documents for $namespace were hardcoded and thus prone to
drift over time. This commit removes the hardcoded content and uses the
autoprogram-cliff directive to generate them automatically from the
subcommand configuration classes.

This incorporates a correction to `openstack versions show`: The command
`openstack versions show --help` showed a copy/paste error, using
<region-name> for the metavar for both --service and --status. Fix.

Change-Id: I7658fed40d71f4c20ee27908ade433534657cfe5
Co-Authored-By: Pierre Prinetti <pierreprinetti@redhat.com>
Co-Authored-By: Matt Riedemann <mriedem.os@gmail.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/691989/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/versions.rst', 'openstackclient/common/versions.py']",2,09f6dbd42b09684239ca2509c3728f3a95f9128e,generate-docs," metavar='<service>', help=_('Show versions for a specific service. The argument should ' 'be either an exact match to what is in the catalog or a ' 'known official value or alias from ' 'service-types-authority ' '(https://service-types.openstack.org/)'), metavar='<status>', help=_(""""""Show versions for a specific status. Valid values are: - SUPPORTED - CURRENT - DEPRECATED - EXPERIMENTAL"""""")"," metavar='<region_name>', help=_('Show versions for a specific service.'), metavar='<region_name>', help=_('Show versions for a specific status.' ' [Valid values are SUPPORTED, CURRENT,' ' DEPRECATED, EXPERIMENTAL]'),",15,41
openstack%2Finstack-undercloud~stable%2Fqueens~I1da2599ae6b0c5e860ce3a71fe6359ec649e8958,openstack/instack-undercloud,stable/queens,I1da2599ae6b0c5e860ce3a71fe6359ec649e8958,Remove nova-cert service during FFU,MERGED,2019-10-24 11:46:58.000000000,2019-11-06 00:16:43.000000000,2019-11-06 00:16:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-10-24 11:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/65f66cf77ff351c4019429c0e60b945eef6f1790', 'message': 'Delete nova-cert service during install/update\n\nAs nova-cert service is not used but enabled in newton.\nDuring FFU from newton to queens, it is shown in nova\nservice list in ocata and pike as well.\n\nAnd since ocata and pike is EOL, this change delete nova-cert\nservice from undercloud during install/update.\n\nChange-Id: I1da2599ae6b0c5e860ce3a71fe6359ec649e8958\n'}, {'number': 2, 'created': '2019-10-30 06:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4d518dafd87aac6146c84a6b379a2a57c2eefdfd', 'message': 'Delete nova-cert service during install/update\n\nAs nova-cert service is not used but enabled in newton.\nDuring FFU from newton to queens, it is shown in nova\nservice list in ocata and pike as well.\n\nAnd since ocata and pike is EOL, this change delete nova-cert\nservice from undercloud during install/update.\n\nChange-Id: I1da2599ae6b0c5e860ce3a71fe6359ec649e8958\n'}, {'number': 3, 'created': '2019-10-31 05:55:23.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/86b55944cc35bb17a7521ef24725570ea5232a4c', 'message': ""Remove nova-cert service during FFU\n\nAs nova-cert service doesn't exist on fresh queens\ndeployment, but it is enabled in newton.\nDuring FFU from newton to queens, it is shown in\nnova service list in ocata, pike and queens as well.\n\nAnd since ocata and pike are EOL, we need to remove\nit in queens during FFU from undercloud.\n\nChange-Id: I1da2599ae6b0c5e860ce3a71fe6359ec649e8958\n""}]",0,690930,86b55944cc35bb17a7521ef24725570ea5232a4c,17,11,3,20733,,,0,"Remove nova-cert service during FFU

As nova-cert service doesn't exist on fresh queens
deployment, but it is enabled in newton.
During FFU from newton to queens, it is shown in
nova service list in ocata, pike and queens as well.

And since ocata and pike are EOL, we need to remove
it in queens during FFU from undercloud.

Change-Id: I1da2599ae6b0c5e860ce3a71fe6359ec649e8958
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/30/690930/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,65f66cf77ff351c4019429c0e60b945eef6f1790,," @mock.patch('instack_undercloud.undercloud._delete_nova_cert_service') mock_configure_ssh_keys, _delete_nova_cert_service, mock_get_auth_values, mock_copy_stackrc, mock_delete, mock_mistral_client, mock_swift_client, mock_nova_client, mock_ir_client, mock_delete_nova_cert.assert_called_with(mock_instance_nova)"," mock_configure_ssh_keys, mock_get_auth_values, mock_copy_stackrc, mock_delete, mock_mistral_client, mock_swift_client, mock_nova_client, mock_ir_client,",21,3
openstack%2Ftripleo-heat-templates~master~I28e8017edc7e30a60288adf846da722fd6ab310e,openstack/tripleo-heat-templates,master,I28e8017edc7e30a60288adf846da722fd6ab310e,Ensure service log folder permissions,MERGED,2019-11-04 16:20:32.000000000,2019-11-06 00:11:44.000000000,2019-11-06 00:11:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 16:20:32.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2147c9974c5e4d9fec91e87a2a42a7c0b8c9d5d', 'message': ""Ensure service log folder permissions\n\nWe should ensure that the service folders are 0750. We're setting\n/var/log/containers but we should also ensure the service folders also\nhave the correct permissions.\n\nChange-Id: I28e8017edc7e30a60288adf846da722fd6ab310e\n""}]",0,692849,f2147c9974c5e4d9fec91e87a2a42a7c0b8c9d5d,13,5,1,14985,,,0,"Ensure service log folder permissions

We should ensure that the service folders are 0750. We're setting
/var/log/containers but we should also ensure the service folders also
have the correct permissions.

Change-Id: I28e8017edc7e30a60288adf846da722fd6ab310e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/692849/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/logging/files/nova-common.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/logging/files/placement-api.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/logging/files/neutron-api.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/logging/files/heat-api.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/logging/files/nova-metadata.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/logging/files/nova-libvirt.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/logging/files/nova-api.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/logging/files/keystone.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-logging-file-container.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/undercloud/tempest-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/experimental/designate/designate-mdns-container-puppet.yaml', 'deployment/logging/files/neutron-common.yaml', 'deployment/logging/files/heat-api-cfn.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/logging/files/heat-engine.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/experimental/designate/designate-sink-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/files/barbican-api.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",79,f2147c9974c5e4d9fec91e87a2a42a7c0b8c9d5d,692791," - { 'path': /var/log/containers/rabbitmq, 'setype': svirt_sandbox_file_t, 'mode': '0750' }"," - { 'path': /var/log/containers/rabbitmq, 'setype': svirt_sandbox_file_t }",99,99
openstack%2Fpython-openstackclient~master~I5bcb40e265b22f15ff2f5ca4936160e231bb4075,openstack/python-openstackclient,master,I5bcb40e265b22f15ff2f5ca4936160e231bb4075,Update a stale doc reference to use :neutron-doc:,MERGED,2019-11-01 19:22:44.000000000,2019-11-05 23:08:49.000000000,2019-11-05 23:07:16.000000000,"[{'_account_id': 970}, {'_account_id': 1131}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-01 19:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ff1ed84b7076b16ae1c59478a6620494fb1d8999', 'message': ""Update a stale doc reference to use :neutron-doc:\n\nThe help page for network auto allocated topology had a link to a\nnewton-era networking guide document that has been superseded and is\nnow maintained in the neutron repository.\n\nThis commit adds 'neutron' to the openstackdocstheme configuration so\nthat the :neutron-doc: role works, and updates the link to point to the\nmodern version therein.\n\nChange-Id: I5bcb40e265b22f15ff2f5ca4936160e231bb4075\n""}, {'number': 2, 'created': '2019-11-01 19:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e9cd71c5744eda5945c1798eddca11af9172948b', 'message': ""Update a stale doc reference to use :neutron-doc:\n\nThe help page for network auto allocated topology had a link to a\nnewton-era networking guide document that has been superseded and is\nnow maintained in the neutron repository.\n\nThis commit adds 'neutron' to the openstackdocstheme configuration so\nthat the :neutron-doc: role works, and updates the link to point to the\nmodern version therein.\n\nChange-Id: I5bcb40e265b22f15ff2f5ca4936160e231bb4075\n""}, {'number': 3, 'created': '2019-11-05 13:09:20.000000000', 'files': ['doc/source/conf.py', 'doc/source/cli/command-objects/network-auto-allocated-topology.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c7dbe857055a04402f12dfaa3b261b0ecbf86d7c', 'message': ""Update a stale doc reference to use :neutron-doc:\n\nThe help page for network auto allocated topology had a link to a\nnewton-era networking guide document that has been superseded and is\nnow maintained in the neutron repository.\n\nThis commit adds 'neutron' to the openstackdocstheme configuration so\nthat the :neutron-doc: role works, and updates the link to point to the\nmodern version therein.\n\nChange-Id: I5bcb40e265b22f15ff2f5ca4936160e231bb4075\n""}]",0,692605,c7dbe857055a04402f12dfaa3b261b0ecbf86d7c,19,4,3,14070,,,0,"Update a stale doc reference to use :neutron-doc:

The help page for network auto allocated topology had a link to a
newton-era networking guide document that has been superseded and is
now maintained in the neutron repository.

This commit adds 'neutron' to the openstackdocstheme configuration so
that the :neutron-doc: role works, and updates the link to point to the
modern version therein.

Change-Id: I5bcb40e265b22f15ff2f5ca4936160e231bb4075
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/05/692605/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/source/cli/command-objects/network-auto-allocated-topology.rst']",2,ff1ed84b7076b16ae1c59478a6620494fb1d8999,generate-docs,for auto allocated topology review :neutron-doc:`the documentation <admin/config-auto-allocation>`.,for auto allocated topology review the documentation at: http://docs.openstack.org/newton/networking-guide/config-auto-allocation.html,4,2
openstack%2Ftempest~master~I69439232f45511222e88bb161638ee0d1e6c9b17,openstack/tempest,master,I69439232f45511222e88bb161638ee0d1e6c9b17,Add config_drive enabled block live migration depends on config_drive_format specified in nova.conf.,ABANDONED,2019-11-05 15:53:19.000000000,2019-11-05 23:07:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2019-11-05 15:53:19.000000000', 'files': ['tempest/test_live_migration.py', 'tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2032a51a6bead2941ceeab4e06afd0d3ea0f0ae8', 'message': 'Add config_drive enabled block live migration\ndepends on config_drive_format specified in nova.conf.\n\nCloses Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1273226\nCloses Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1394964\n\nChange-Id: I69439232f45511222e88bb161638ee0d1e6c9b17\n'}]",8,693034,2032a51a6bead2941ceeab4e06afd0d3ea0f0ae8,6,2,1,31239,,,0,"Add config_drive enabled block live migration
depends on config_drive_format specified in nova.conf.

Closes Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1273226
Closes Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1394964

Change-Id: I69439232f45511222e88bb161638ee0d1e6c9b17
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/693034/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/test_live_migration.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py']",4,2032a51a6bead2941ceeab4e06afd0d3ea0f0ae8,," body = clients.servers_client.create_server( name=name, imageRef=image_id, flavorRef=flavor, config_drive=config_drive, **kwargs)"," body = clients.servers_client.create_server(name=name, imageRef=image_id, flavorRef=flavor, config_drive=config_drive, **kwargs)",21,278
openstack%2Fnova~master~I3deb84cde1b25247cc5721d13a6a35cc8faeee46,openstack/nova,master,I3deb84cde1b25247cc5721d13a6a35cc8faeee46,Follow up to I3e28c0163dc14dacf847c5a69730ba2e29650370,MERGED,2019-11-04 17:21:45.000000000,2019-11-05 22:30:15.000000000,2019-11-05 22:27:00.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 17:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcbd5f623c2f24617843dd1ead447a4d968bd7de', 'message': 'Follow up to I3e28c0163dc14dacf847c5a69730ba2e29650370\n\nThis addresses a few nits in the referenced change:\n\n* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@540\n* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@571\n* https://review.opendev.org/#/c/635646/48/nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py@997\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I3deb84cde1b25247cc5721d13a6a35cc8faeee46\n'}, {'number': 2, 'created': '2019-11-04 21:24:50.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3b678fc276950f6b21b245daf894d3af490a69db', 'message': 'Follow up to I3e28c0163dc14dacf847c5a69730ba2e29650370\n\nThis addresses a few nits in the referenced change:\n\n* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@540\n* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@571\n* https://review.opendev.org/#/c/635646/48/nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py@997\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I3deb84cde1b25247cc5721d13a6a35cc8faeee46\n'}]",6,692856,3b678fc276950f6b21b245daf894d3af490a69db,28,13,2,6873,,,0,"Follow up to I3e28c0163dc14dacf847c5a69730ba2e29650370

This addresses a few nits in the referenced change:

* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@540
* https://review.opendev.org/#/c/635646/48/nova/conductor/tasks/cross_cell_migrate.py@571
* https://review.opendev.org/#/c/635646/48/nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py@997

Part of blueprint cross-cell-resize

Change-Id: I3deb84cde1b25247cc5721d13a6a35cc8faeee46
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/692856/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py']",2,dcbd5f623c2f24617843dd1ead447a4d968bd7de,bp/cross-cell-resize," fault_clone = clone_creatable_object(source_cell_context, fault) fault_clone.create() event_clone = clone_creatable_object( event_clone.create(action.instance_uuid, action.request_id)"," fault = clone_creatable_object(source_cell_context, fault) fault.create() event = clone_creatable_object( event.create(action.instance_uuid, action.request_id)",10,5
openstack%2Fhorizon~master~Iebb1e78c718b931d632445e4de6d7a29ccb92be2,openstack/horizon,master,Iebb1e78c718b931d632445e4de6d7a29ccb92be2,Remove dependency on novaclient list_extensions API,MERGED,2019-10-22 17:17:59.000000000,2019-11-05 22:15:23.000000000,2019-10-25 14:08:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-22 17:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/82e17675d984df5e4b001ce572ff5ef5417747dd', 'message': ""Remove dependency on novaclient list_extensions API\n\nThe novaclient list_extensions API binding was removed in the\n16.0.0 release [1]. The ability to enable/disable extensions\nin nova has been deprecated since Liberty [2] and was removed\nin Newton [3].\n\nFor horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\nconfig setting. In order to work with novaclient 16.0.0+, this\nchange removes the list_extensions usage since all extensions\nare enabled in nova and thus for horizon a nova extension is only\nnot supported if it's in the configured blacklist.\n\n[1] https://review.opendev.org/686516/\n[2] https://review.opendev.org/214592/\n[3] https://review.opendev.org/351362/\n\nChange-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2\nCloses-Bug: #1849351\n""}, {'number': 2, 'created': '2019-10-22 21:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b4f934bfbb4bdf581e0c2a3ea69edd9e692ca129', 'message': ""Remove dependency on novaclient list_extensions API\n\nThe novaclient list_extensions API binding was removed in the\n16.0.0 release [1]. The ability to enable/disable extensions\nin nova has been deprecated since Liberty [2] and was removed\nin Newton [3].\n\nFor horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\nconfig setting. In order to work with novaclient 16.0.0+, this\nchange removes the list_extensions usage since all extensions\nare enabled in nova and thus for horizon a nova extension is only\nnot supported if it's in the configured blacklist.\n\n[1] https://review.opendev.org/686516/\n[2] https://review.opendev.org/214592/\n[3] https://review.opendev.org/351362/\n\nChange-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2\nCloses-Bug: #1849351\n""}, {'number': 3, 'created': '2019-10-23 16:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/54b11af9508799c2f990702c06274f6fbe2854b1', 'message': ""Remove dependency on novaclient list_extensions API\n\nThe novaclient list_extensions API binding was removed in the\n16.0.0 release [1]. The ability to enable/disable extensions\nin nova has been deprecated since Liberty [2] and was removed\nin Newton [3].\n\nFor horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\nconfig setting. In order to work with novaclient 16.0.0+, this\nchange removes the list_extensions usage since all extensions\nare enabled in nova and thus for horizon a nova extension is only\nnot supported if it's in the configured blacklist.\n\n[1] https://review.opendev.org/686516/\n[2] https://review.opendev.org/214592/\n[3] https://review.opendev.org/351362/\n\nChange-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2\nCloses-Bug: #1847959\n""}, {'number': 4, 'created': '2019-10-24 19:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6273231c009e987ecc0dd3cf300d895ae2d3fbb6', 'message': ""Remove dependency on novaclient list_extensions API\n\nThe novaclient list_extensions API binding was removed in the\n16.0.0 release [1]. The ability to enable/disable extensions\nin nova has been deprecated since Liberty [2] and was removed\nin Newton [3].\n\nFor horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\nconfig setting and some javascript code used to compile panels based on\nenabled extensions. In order to work with novaclient 16.0.0+, this\nchange removes the list_extensions usage since all extensions\nare enabled in nova and thus for horizon a nova extension is only\nnot supported if it's in the configured blacklist. To continue supporting\nthe javascript code which uses the getExtensions function, the extension\nnames are hard-coded. Note that the method meant to test that code,\n_test_extension_list, was wrong but never ran because of the underscore\nprefix on the method name. That is fixed here.\n\n[1] https://review.opendev.org/686516/\n[2] https://review.opendev.org/214592/\n[3] https://review.opendev.org/351362/\n\nChange-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2\nCloses-Bug: #1847959\n""}, {'number': 5, 'created': '2019-10-24 19:24:48.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'openstack_dashboard/test/unit/api/rest/test_nova.py', 'openstack_dashboard/api/rest/nova.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b148c9207580731863e4dc49771e132a8c31edbc', 'message': ""Remove dependency on novaclient list_extensions API\n\nThe novaclient list_extensions API binding was removed in the\n16.0.0 release [1]. The ability to enable/disable extensions\nin nova has been deprecated since Liberty [2] and was removed\nin Newton [3].\n\nFor horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST\nconfig setting and some javascript code used to compile panels based on\nenabled extensions. In order to work with novaclient 16.0.0+, this\nchange removes the list_extensions usage since all extensions\nare enabled in nova and thus for horizon a nova extension is only\nnot supported if it's in the configured blacklist. To continue supporting\nthe javascript code which uses the getExtensions function, the extension\nnames are hard-coded. Note that the method meant to test that code,\n_test_extension_list, was wrong but never ran because of the underscore\nprefix on the method name. That is fixed here.\n\n[1] https://review.opendev.org/686516/\n[2] https://review.opendev.org/214592/\n[3] https://review.opendev.org/351362/\n\nChange-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2\nCloses-Bug: #1847959\n""}]",16,690134,b148c9207580731863e4dc49771e132a8c31edbc,34,6,5,6873,,,0,"Remove dependency on novaclient list_extensions API

The novaclient list_extensions API binding was removed in the
16.0.0 release [1]. The ability to enable/disable extensions
in nova has been deprecated since Liberty [2] and was removed
in Newton [3].

For horizon this only matters for the OPENSTACK_NOVA_EXTENSIONS_BLACKLIST
config setting and some javascript code used to compile panels based on
enabled extensions. In order to work with novaclient 16.0.0+, this
change removes the list_extensions usage since all extensions
are enabled in nova and thus for horizon a nova extension is only
not supported if it's in the configured blacklist. To continue supporting
the javascript code which uses the getExtensions function, the extension
names are hard-coded. Note that the method meant to test that code,
_test_extension_list, was wrong but never ran because of the underscore
prefix on the method name. That is fixed here.

[1] https://review.opendev.org/686516/
[2] https://review.opendev.org/214592/
[3] https://review.opendev.org/351362/

Change-Id: Iebb1e78c718b931d632445e4de6d7a29ccb92be2
Closes-Bug: #1847959
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/690134/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/rest/test_nova.py', 'openstack_dashboard/api/rest/nova.py', 'openstack_dashboard/test/unit/api/test_nova.py', 'openstack_dashboard/api/nova.py']",4,82e17675d984df5e4b001ce572ff5ef5417747dd,bug/1849351, # Nova removed the ability to enable/disable API extensions in the # Liberty release so all API extensions are enabled. Therefore we do not # need to call the GET /extensions API in nova and just filter extensions # based on our configurable blacklist. blacklist = set(settings.OPENSTACK_NOVA_EXTENSIONS_BLACKLIST) return extension_name not in blacklist,"from novaclient.v2 import list_extensions as nova_list_extensionsdef list_extensions(request): """"""List all nova extensions, except the ones in the blacklist."""""" blacklist = set(settings.OPENSTACK_NOVA_EXTENSIONS_BLACKLIST) nova_api = _nova.novaclient(request) return tuple( extension for extension in nova_list_extensions.ListExtManager(nova_api).show_all() if extension.name not in blacklist ) @profiler.trace @memoized.memoized for ext in list_extensions(request): if ext.name == extension_name: return True return False",12,56
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~I9bb305d866f3d65653b95a25a5b9f5ecde5af0b0,openstack/openstack-ansible-repo_server,stable/stein,I9bb305d866f3d65653b95a25a5b9f5ecde5af0b0,Add Centos GPG key custom url,MERGED,2019-10-31 23:14:54.000000000,2019-11-05 21:57:34.000000000,2019-11-05 21:56:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-31 23:14:54.000000000', 'files': ['tasks/repo_install.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/979a5cb6c3c331dce9f9ce7c459ca46b64e06814', 'message': 'Add Centos GPG key custom url\n\nWhen using a custom repo with repo_centos_epel_mirror, you maybe need to\nchange the gpg key url because offline env\n\nYou can use this variable: repo_centos_epel_key\n\nChange-Id: I9bb305d866f3d65653b95a25a5b9f5ecde5af0b0\n(cherry picked from commit aecff065f1c07ff321e62d8bd9718a462019b53d)\n'}]",0,692462,979a5cb6c3c331dce9f9ce7c459ca46b64e06814,11,4,1,23182,,,0,"Add Centos GPG key custom url

When using a custom repo with repo_centos_epel_mirror, you maybe need to
change the gpg key url because offline env

You can use this variable: repo_centos_epel_key

Change-Id: I9bb305d866f3d65653b95a25a5b9f5ecde5af0b0
(cherry picked from commit aecff065f1c07ff321e62d8bd9718a462019b53d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/62/692462/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_install.yml', 'releasenotes/notes/centos-private-epel-3fe4c9ff68ec3a18.yaml', 'defaults/main.yml']",3,979a5cb6c3c331dce9f9ce7c459ca46b64e06814,centos-private-epel-stable/stein,"## Centos EPEL repository options repo_centos_epel_mirror: ""{{ centos_epel_mirror | default('http://download.fedoraproject.org/pub/epel') }}"" repo_centos_epel_key: ""{{ centos_epel_key | default('http://download.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7') }}"" repo_service_log_dir: /var/log/apt-cacher-ng ",repo_service_log_dir: /var/log/apt-cacher-ng,13,3
openstack%2Fnova~stable%2Fstein~If86e4796a9db3020d4fdb751e8bc771c6f98aa47,openstack/nova,stable/stein,If86e4796a9db3020d4fdb751e8bc771c6f98aa47,Add integration testing for heal_allocations,MERGED,2019-11-04 23:14:23.000000000,2019-11-05 21:50:37.000000000,2019-11-05 16:39:13.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-04 23:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46af1519e68a1e969a72019f4efc161cb51e7521', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n(cherry picked from commit 87365c760ee89493db87183c4c751ba5fc7b921a)\n""}, {'number': 2, 'created': '2019-11-05 03:16:06.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/06caa62441ea977a52a1ed631d8aa49a6a43d32c', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nNOTE(melwitt): This is different than the Train change and does not\nuse the --dry-run or --instance options because the following changes\nare not in Stein:\n\n  Ide31957306602c1f306ebfa48d6e95f48b1e8ead\n  Icf57f217f03ac52b1443addc34aa5128661a8554\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n(cherry picked from commit 87365c760ee89493db87183c4c751ba5fc7b921a)\n""}]",2,692923,06caa62441ea977a52a1ed631d8aa49a6a43d32c,18,7,2,4690,,,0,"Add integration testing for heal_allocations

This adds a simple scenario for the heal_allocations CLI
to the post_test_hook script run at the end of the nova-next
job. The functional testing in-tree is pretty extensive but
it's always good to have real integration testing.

NOTE(melwitt): This is different than the Train change and does not
use the --dry-run or --instance options because the following changes
are not in Stein:

  Ide31957306602c1f306ebfa48d6e95f48b1e8ead
  Icf57f217f03ac52b1443addc34aa5128661a8554

Change-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47
Related-Bug: #1819923
(cherry picked from commit 87365c760ee89493db87183c4c751ba5fc7b921a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/692923/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/post_test_hook.sh'],1,46af1519e68a1e969a72019f4efc161cb51e7521,bug/1824435," # Test ""nova-manage placement heal_allocations"" by creating a server, deleting # its allocations in placement, and then running heal_allocations and assert # the allocations were healed as expected. image_id=$(openstack image list -f value -c ID | awk 'NR==1{print $1}') flavor_id=$(openstack flavor list -f value -c ID | awk 'NR==1{print $1}') network_id=$(openstack network list --no-share -f value -c ID | awk 'NR==1{print $1}') echo ""Creating server for heal_allocations testing"" openstack server create --image ${image_id} --flavor ${flavor_id} \ --nic net-id=${network_id} --wait heal-allocations-test server_id=$(openstack server show heal-allocations-test -f value -c id) # Make sure there are allocations for the consumer. allocations=$(openstack resource provider allocation show ${server_id} \ -c resources -f value) if [[ ""$allocations"" == """" ]]; then echo ""No allocations found for the server."" exit 2 fi echo ""Deleting allocations in placement for the server"" openstack resource provider allocation delete ${server_id} # Make sure the allocations are gone. allocations=$(openstack resource provider allocation show ${server_id} \ -c resources -f value) if [[ ""$allocations"" != """" ]]; then echo ""Server allocations were not deleted."" exit 2 fi echo ""Healing allocations"" # First test with the --dry-run over all instances in all cells. set +e nova-manage placement heal_allocations --verbose --dry-run rc=$? set -e # Since we did not create allocations because of --dry-run the rc should be 4. if [[ ${rc} -ne 4 ]]; then echo ""Expected return code 4 from heal_allocations with --dry-run"" exit 2 fi # Now test with just the single instance and actually perform the heal. nova-manage placement heal_allocations --verbose --instance ${server_id} # Make sure there are allocations for the consumer. allocations=$(openstack resource provider allocation show ${server_id} \ -c resources -f value) if [[ ""$allocations"" == """" ]]; then echo ""Failed to heal allocations."" exit 2 fi",,54,0
openstack%2Fnova~stable%2Fstein~I2ab56005db363f81eecf07c3db62c267ba7f8ca9,openstack/nova,stable/stein,I2ab56005db363f81eecf07c3db62c267ba7f8ca9,Nova compute: add in log exception to help debug failures,MERGED,2019-11-05 00:56:17.000000000,2019-11-05 21:47:22.000000000,2019-11-05 13:50:06.000000000,"[{'_account_id': 1653}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-05 00:56:17.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/defe542eb130cd9ad621493fbf98a6a3458c4169', 'message': ""Nova compute: add in log exception to help debug failures\n\nWhen the system is under load, there can be boot failures. One\nexception seen in the log file is:\n\n''NoneType' object has no attribute 'status_code''\n\nThere is no log trace which helps pinpoint this client call.\nNote that this is only one example.\n\nWe now add in a LOG.exception to have the stack trace.\n\nRelated-Bug: #1850682\n\nChange-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9\n(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)\n(cherry picked from commit 35b5dc0d9793742d759a8cae2de33f450c75f2a1)\n""}]",0,692936,defe542eb130cd9ad621493fbf98a6a3458c4169,14,6,1,6873,,,0,"Nova compute: add in log exception to help debug failures

When the system is under load, there can be boot failures. One
exception seen in the log file is:

''NoneType' object has no attribute 'status_code''

There is no log trace which helps pinpoint this client call.
Note that this is only one example.

We now add in a LOG.exception to have the stack trace.

Related-Bug: #1850682

Change-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9
(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)
(cherry picked from commit 35b5dc0d9793742d759a8cae2de33f450c75f2a1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/692936/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,defe542eb130cd9ad621493fbf98a6a3458c4169,more-info," LOG.exception('Failed to build and run instance', instance=instance)",,2,0
openstack%2Fdevstack~stable%2Ftrain~I85ab8afa9a251a160d09b960a214ac579d3305df,openstack/devstack,stable/train,I85ab8afa9a251a160d09b960a214ac579d3305df,Hardcode fedora nodeset to F29,MERGED,2019-10-11 10:42:28.000000000,2019-11-05 21:25:54.000000000,2019-11-05 21:23:35.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 10:42:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5bdb94bfa09918be1c33f504289f253441326954', 'message': 'Hardcode fedora nodeset to F29\n\nIn master we want to update fedora-latest to F30, the definition in this\nbranch is blocking this. We have two options:\n\n- Remove the nodeset and follow master\n- Rename the nodeset and keep it pinned for this branch\n\nFor previous stable branches we have chosen the first option, but I\nthink we should go for the second option now favoring stability. We can\nalways drop the nodeset lateron if it becomes broken.\n\nChange-Id: I85ab8afa9a251a160d09b960a214ac579d3305df\n'}]",0,688103,5bdb94bfa09918be1c33f504289f253441326954,9,3,1,13252,,,0,"Hardcode fedora nodeset to F29

In master we want to update fedora-latest to F30, the definition in this
branch is blocking this. We have two options:

- Remove the nodeset and follow master
- Rename the nodeset and keep it pinned for this branch

For previous stable branches we have chosen the first option, but I
think we should go for the second option now favoring stability. We can
always drop the nodeset lateron if it becomes broken.

Change-Id: I85ab8afa9a251a160d09b960a214ac579d3305df
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/688103/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5bdb94bfa09918be1c33f504289f253441326954,pin-fedora, name: devstack-single-node-fedora-29 name: devstack-platform-fedora-29 nodeset: devstack-single-node-fedora-29 - devstack-platform-fedora-29, name: devstack-single-node-fedora-latest name: devstack-platform-fedora-latest nodeset: devstack-single-node-fedora-latest - devstack-platform-fedora-latest,4,4
openstack%2Ftripleo-docs~master~Ibf999fe34599fccfd4632dd2846b07fad0d999f2,openstack/tripleo-docs,master,Ibf999fe34599fccfd4632dd2846b07fad0d999f2,Document baremetal provisioning,MERGED,2019-10-25 02:42:11.000000000,2019-11-05 20:30:26.000000000,2019-11-05 20:29:08.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0e506d877335015ad7ce4466fa1ddad520a24677', 'message': 'Document baremetal provisioning\n\nChange-Id: Ibf999fe34599fccfd4632dd2846b07fad0d999f2\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-10-29 23:35:24.000000000', 'files': ['deploy-guide/source/provisioning/index.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst', 'deploy-guide/source/post_deployment/delete_nodes.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/01700310e219bd22af66f9238131ba4d6d700053', 'message': 'Document baremetal provisioning\n\nDepends-On: https://review.opendev.org/#/c/688843/\nChange-Id: Ibf999fe34599fccfd4632dd2846b07fad0d999f2\nBlueprint: nova-less-deploy\n'}]",31,691156,01700310e219bd22af66f9238131ba4d6d700053,17,4,2,4571,,,0,"Document baremetal provisioning

Depends-On: https://review.opendev.org/#/c/688843/
Change-Id: Ibf999fe34599fccfd4632dd2846b07fad0d999f2
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/56/691156/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/provisioning/index.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst', 'deploy-guide/source/post_deployment/delete_nodes.rst']",3,0e506d877335015ad7ce4466fa1ddad520a24677,bp/nova-less-deploy, If you are :ref:`baremetal_provision` then follow those instructions for scaling down instead of using ``openstack overcloud node delete``. .. note::,,367,0
openstack%2Fnova~master~I7443e2c4aa806ec766b1518fec331c7a0cd5c956,openstack/nova,master,I7443e2c4aa806ec766b1518fec331c7a0cd5c956,neutron: re-raise 401 for a non-admin client,ABANDONED,2017-01-19 15:28:15.000000000,2019-11-05 20:24:31.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 679}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6849}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8259}, {'_account_id': 9008}, {'_account_id': 9542}, {'_account_id': 9569}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 9820}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 10618}, {'_account_id': 11564}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19156}, {'_account_id': 19265}, {'_account_id': 20040}, {'_account_id': 21113}, {'_account_id': 21813}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-01-19 15:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6d8ce8918e92f7a9c4cb42357b5d25c5ef145c5', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}, {'number': 2, 'created': '2017-01-24 16:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46f3e487630167dbcd3f8eb6f441b01f6f40ceb2', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}, {'number': 3, 'created': '2017-03-20 11:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2abce5dc004340c3d6d8203ca04e243dd5a19ce7', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}, {'number': 4, 'created': '2017-05-05 15:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e305a5979e2c3470b68ff02b26574707ddbc0cb8', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}, {'number': 5, 'created': '2017-06-15 09:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a30322f78a9c6d02d9eb312628165c82bb64ac7', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}, {'number': 6, 'created': '2017-06-26 17:10:34.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e5986712620aa94e3b7b4ee85d8c6c0296bf82c', 'message': 'neutron: re-raise 401 for a non-admin client\n\nIf a non-admin neutron client is used (i.e. the one created for a\npassed keystone token, not the one using neutron admin credentials\nfrom nova.conf), but the context.is_admin is True (e.g. for a request\nperformed by a ceilometer polling agent or an admin user), then\nClientWrapper will not ra-raise 401 Unauthorized received from\nneutron-server (e.g. if the token has expired or has been revoked),\nbut instead will raise 400 Bad Request mistakenly treating this, as\nif neutron admin credentials in nova.conf were incorrect.\n\nIf an admin neutron client was not requested explicitly (i.e. by\ncalling get_client(context, admin=True)), then we should treat this\nHTTP request as a normal user request and ask the latter to\nre-authenticate by responding with 401.\n\nCloses-Bug: #1657774\n\nChange-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956\n'}]",26,422696,4e5986712620aa94e3b7b4ee85d8c6c0296bf82c,135,40,6,6849,,,0,"neutron: re-raise 401 for a non-admin client

If a non-admin neutron client is used (i.e. the one created for a
passed keystone token, not the one using neutron admin credentials
from nova.conf), but the context.is_admin is True (e.g. for a request
performed by a ceilometer polling agent or an admin user), then
ClientWrapper will not ra-raise 401 Unauthorized received from
neutron-server (e.g. if the token has expired or has been revoked),
but instead will raise 400 Bad Request mistakenly treating this, as
if neutron admin credentials in nova.conf were incorrect.

If an admin neutron client was not requested explicitly (i.e. by
calling get_client(context, admin=True)), then we should treat this
HTTP request as a normal user request and ask the latter to
re-authenticate by responding with 401.

Closes-Bug: #1657774

Change-Id: I7443e2c4aa806ec766b1518fec331c7a0cd5c956
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/422696/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,f6d8ce8918e92f7a9c4cb42357b5d25c5ef145c5,bug/1657774," def test_Unauthorized_admin_token(self, mock_list_networks): exception.Unauthorized, @mock.patch.object(client.Client, ""list_networks"", side_effect=exceptions.Unauthorized()) def test_Unauthorized_admin(self, mock_list_networks): self.flags(url='http://anyhost/', group='neutron') self.flags(auth_type='v2password', group='neutron') self.flags(auth_url='http://anyhost/', group='neutron') self.flags(timeout=30, group='neutron') my_context = context.RequestContext('userid', uuids.my_tenant, auth_token='token', is_admin=True) client = neutronapi.get_client(my_context, admin=True) self.assertRaises( exception.NeutronAdminCredentialConfigurationInvalid, client.list_networks) "," def test_Unauthorized_admin(self, mock_list_networks): exception.NeutronAdminCredentialConfigurationInvalid,",19,3
openstack%2Fdevstack~master~Iae890a7ec46fa80362f466d25e9d79fe547369fe,openstack/devstack,master,Iae890a7ec46fa80362f466d25e9d79fe547369fe,test,ABANDONED,2019-11-03 06:47:38.000000000,2019-11-05 19:29:09.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-03 06:47:38.000000000', 'files': ['fix.c'], 'web_link': 'https://opendev.org/openstack/devstack/commit/44f74c2fb71a74db0702451ad6e663ee5e0066a2', 'message': ' test\n\nChange-Id: Iae890a7ec46fa80362f466d25e9d79fe547369fe\n'}]",0,692706,44f74c2fb71a74db0702451ad6e663ee5e0066a2,4,2,1,31226,,,0," test

Change-Id: Iae890a7ec46fa80362f466d25e9d79fe547369fe
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/692706/1 && git format-patch -1 --stdout FETCH_HEAD,['fix.c'],1,44f74c2fb71a74db0702451ad6e663ee5e0066a2,,fix ,,1,0
openstack%2Fdevstack~master~I27f31d0c43358f886a280d945abc8158c11c40d4,openstack/devstack,master,I27f31d0c43358f886a280d945abc8158c11c40d4,test add file by lixx,ABANDONED,2019-11-03 06:25:56.000000000,2019-11-05 19:28:44.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-03 06:25:56.000000000', 'files': ['test.lixx'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2afabeee5c0a01d0d6a60973c85cf5135685951b', 'message': 'test add file by lixx\n\nChange-Id: I27f31d0c43358f886a280d945abc8158c11c40d4\n'}]",0,692700,2afabeee5c0a01d0d6a60973c85cf5135685951b,4,2,1,22065,,,0,"test add file by lixx

Change-Id: I27f31d0c43358f886a280d945abc8158c11c40d4
",git fetch https://review.opendev.org/openstack/devstack refs/changes/00/692700/1 && git format-patch -1 --stdout FETCH_HEAD,['test.lixx'],1,2afabeee5c0a01d0d6a60973c85cf5135685951b,,test commit lixx ,,1,0
openstack%2Fpuppet-keystone~master~Ia20cf42ec23cdbfa1a499b3c5fcece1e5bbb8c22,openstack/puppet-keystone,master,Ia20cf42ec23cdbfa1a499b3c5fcece1e5bbb8c22,Remove keystone::service validation,MERGED,2019-11-02 12:27:22.000000000,2019-11-05 18:51:23.000000000,2019-11-05 18:49:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 12:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f5bf47d56fd657eaf650979ef09fa2c5c35cfd80', 'message': 'Remove keystone::service validation\n\nThis patch removes the validation in the keyston::service\nclass. This functionality should be replaced by using\nsomething like the healthcheck module [1].\n\nIn the future somebody might want to implement a\nkeystone_validator provider that does a proper keystone\ncheck but the http_conn_validator should be sufficient enough.\n\n[1] https://github.com/voxpupuli/puppet-healthcheck\n\nChange-Id: Ia20cf42ec23cdbfa1a499b3c5fcece1e5bbb8c22\n'}, {'number': 2, 'created': '2019-11-02 15:39:37.000000000', 'files': ['releasenotes/notes/deprecate-service-validation-35fd28183776f94f.yaml', 'spec/classes/keystone_service_spec.rb', 'manifests/init.pp', 'manifests/service.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3c95205e0253895e477b9135c10f5175d4166cfc', 'message': 'Remove keystone::service validation\n\nThis patch removes the validation in the keyston::service\nclass. This functionality should be replaced by using\nsomething like the healthcheck module [1].\n\nIn the future somebody might want to implement a\nkeystone_validator provider that does a proper keystone\ncheck but the http_conn_validator should be sufficient enough.\n\n[1] https://github.com/voxpupuli/puppet-healthcheck\n\nChange-Id: Ia20cf42ec23cdbfa1a499b3c5fcece1e5bbb8c22\n'}]",0,692663,3c95205e0253895e477b9135c10f5175d4166cfc,13,4,2,16137,,,0,"Remove keystone::service validation

This patch removes the validation in the keyston::service
class. This functionality should be replaced by using
something like the healthcheck module [1].

In the future somebody might want to implement a
keystone_validator provider that does a proper keystone
check but the http_conn_validator should be sufficient enough.

[1] https://github.com/voxpupuli/puppet-healthcheck

Change-Id: Ia20cf42ec23cdbfa1a499b3c5fcece1e5bbb8c22
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/63/692663/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-service-validation-35fd28183776f94f.yaml', 'spec/classes/keystone_service_spec.rb', 'manifests/init.pp', 'manifests/service.pp', 'spec/classes/keystone_init_spec.rb']",5,f5bf47d56fd657eaf650979ef09fa2c5c35cfd80,rework-bootstrap,," describe 'with overridden validation_auth_url' do let :params do { :admin_token => 'service_token', :validate_service => true, :validate_auth_url => 'http://some.host:5000', :admin_endpoint => 'http://some.host:5000' } end it { is_expected.to contain_class('keystone::service').with( 'validate' => true, 'admin_endpoint' => 'http://some.host:5000' )} end describe 'with service validation' do let :params do { :admin_token => 'service_token', :validate_service => true, :admin_endpoint => 'http://some.host:5000' } end it { is_expected.to contain_class('keystone::service').with( 'validate' => true, 'admin_endpoint' => 'http://some.host:5000' )} end ",160,161
openstack%2Fmonasca-tempest-plugin~master~I4bcd3abdc188e58db758b6e3250954d6c4d3b254,openstack/monasca-tempest-plugin,master,I4bcd3abdc188e58db758b6e3250954d6c4d3b254,Fix test_should_reject_if_wrong_content_type test,MERGED,2019-09-11 09:22:01.000000000,2019-11-05 18:24:35.000000000,2019-11-05 18:24:35.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-09-11 09:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/9c014ff245099e7ef6c5a0b879ebb640cb122c4b', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}, {'number': 2, 'created': '2019-09-11 09:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/8b7bcedfb5d8ffea80e9f94cc6a71458f0044f25', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n\nDepends-On: https://review.opendev.org/681419/\n'}, {'number': 3, 'created': '2019-09-11 10:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/db716f31ad519303e5d853d5d2c75d4e7b5a0213', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}, {'number': 4, 'created': '2019-09-11 12:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/4f453ca41186434c712f48435c0c4b8df7461419', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}, {'number': 5, 'created': '2019-09-11 14:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/6bcb547b1299e0b8044e4a24ce8c83722a4f945d', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}, {'number': 6, 'created': '2019-09-25 09:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/48ad238ba5ede8d7a8e6fc0d36eb75f866aa0df6', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}, {'number': 7, 'created': '2019-10-23 09:52:03.000000000', 'files': ['monasca_tempest_tests/tests/log_api/test_constraints.py'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/0b4183c018784f3f0e3ade42a5d6c32feab744a3', 'message': 'Fix test_should_reject_if_wrong_content_type test\n\nAdjust test to proper handle response from new unified api when wrong content type\n\nChange-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254\n'}]",0,681419,0b4183c018784f3f0e3ade42a5d6c32feab744a3,52,4,7,26141,,,0,"Fix test_should_reject_if_wrong_content_type test

Adjust test to proper handle response from new unified api when wrong content type

Change-Id: I4bcd3abdc188e58db758b6e3250954d6c4d3b254
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/19/681419/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_tempest_tests/tests/log_api/test_constraints.py'],1,9c014ff245099e7ef6c5a0b879ebb640cb122c4b,," except exceptions.BadRequest as urc: self.assertEqual(400, urc.resp.status)",,2,0
openstack%2Fironic-python-agent~master~I0e04936ad337b394dd68e9b0396a9f1203218f9f,openstack/ironic-python-agent,master,I0e04936ad337b394dd68e9b0396a9f1203218f9f,Suppress errors from iscsi session cleanup,MERGED,2019-11-01 13:58:03.000000000,2019-11-05 18:15:15.000000000,2019-11-05 18:13:54.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 13:58:03.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'releasenotes/notes/fix-iscsi-teardown-handling-0df2345318d3c843.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c5956bdada2442a9051d33dd19b59fce3bdd45be', 'message': 'Suppress errors from iscsi session cleanup\n\nIn some cases, where the rts library is not installed, IPA\nwas recently changed to try and tear down the local side of\nthe iscsi connection by trying to tear down bond and target\nbeing offered. The whole attempt with this is to ensure that\nno disk locks are in place which can prevent partition table\nupdates.\n\nSince we added this logic, in some cases these commands can\nfail and cause the deployment process to fail when it would\nhave otherwise succeeded. As such, suppress the errors.\n\nChange-Id: I0e04936ad337b394dd68e9b0396a9f1203218f9f\n'}]",3,692545,c5956bdada2442a9051d33dd19b59fce3bdd45be,10,4,1,11655,,,0,"Suppress errors from iscsi session cleanup

In some cases, where the rts library is not installed, IPA
was recently changed to try and tear down the local side of
the iscsi connection by trying to tear down bond and target
being offered. The whole attempt with this is to ensure that
no disk locks are in place which can prevent partition table
updates.

Since we added this logic, in some cases these commands can
fail and cause the deployment process to fail when it would
have otherwise succeeded. As such, suppress the errors.

Change-Id: I0e04936ad337b394dd68e9b0396a9f1203218f9f
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/45/692545/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'releasenotes/notes/fix-iscsi-teardown-handling-0df2345318d3c843.yaml']",3,c5956bdada2442a9051d33dd19b59fce3bdd45be,,"--- fixes: - | Fixes an issue in fallback error handling where native iSCSI controls are unavailable due to the composition of the IPA ramdisk and where direct ``tgtadm`` commands also fails. Before fallback error handling was added, the teardown was skipped completely in the event of the native iSCSI controls being unavailable. The end user behavior is now as it was previously prior to the fallback error handling being added, but IPA will still continue to attempt to clean up the iSCSI session. ",,45,10
openstack%2Fironic~master~I7b8b42cacf5fa14beea285095946edd1347d916b,openstack/ironic,master,I7b8b42cacf5fa14beea285095946edd1347d916b,Add a CI job to boot over Redfish virtual media,ABANDONED,2019-11-05 17:51:02.000000000,2019-11-05 17:58:56.000000000,,"[{'_account_id': 10239}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-11-05 17:51:02.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d38513050444d13ac7dcdc9f257c996089abd58', 'message': 'Add a CI job to boot over Redfish virtual media\n\nAdds a job to boot a node over Redfish virtual media in BIOS boot\nmode. For sake of unification, similar PXE job has been renamed.\n\nChange-Id: I7b8b42cacf5fa14beea285095946edd1347d916b\n'}]",0,693060,8d38513050444d13ac7dcdc9f257c996089abd58,4,2,1,26340,,,0,"Add a CI job to boot over Redfish virtual media

Adds a job to boot a node over Redfish virtual media in BIOS boot
mode. For sake of unification, similar PXE job has been renamed.

Change-Id: I7b8b42cacf5fa14beea285095946edd1347d916b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/693060/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,8d38513050444d13ac7dcdc9f257c996089abd58,add-vmedia-job, - ironic-tempest-ipa-partition-bios-redfish-pxe - ironic-tempest-ipa-partition-bios-redfish-vmedia - ironic-tempest-ipa-partition-bios-redfish-pxe - ironic-tempest-ipa-partition-bios-redfish-vmedia, - ironic-tempest-ipa-partition-redfish-tinyipa - ironic-tempest-ipa-partition-redfish-tinyipa,22,4
openstack%2Fbifrost~master~I07ecdde3986f7b9720f0e83c47135846cafff2de,openstack/bifrost,master,I07ecdde3986f7b9720f0e83c47135846cafff2de,Mark discovery ramdisk to have an initrd,MERGED,2018-11-06 19:55:27.000000000,2019-11-05 17:45:49.000000000,2018-11-07 15:18:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-06 19:55:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6fcdfcf9bbcb86412581587152c52c86b13c7774', 'message': ""Mark discovery ramdisk to have an initrd\n\nSeems tinycore's kernel needs an indicator that the\ninstance is booting with a ramdisk. CoreOS's builds seemed\nto tolerate this without issue when it was originally developed.\n\n:(\n\nChange-Id: I07ecdde3986f7b9720f0e83c47135846cafff2de\n""}]",0,615984,6fcdfcf9bbcb86412581587152c52c86b13c7774,11,3,1,11655,,,0,"Mark discovery ramdisk to have an initrd

Seems tinycore's kernel needs an indicator that the
instance is booting with a ramdisk. CoreOS's builds seemed
to tolerate this without issue when it was originally developed.

:(

Change-Id: I07ecdde3986f7b9720f0e83c47135846cafff2de
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/84/615984/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/inspector-default-boot-ipxe.j2'],1,6fcdfcf9bbcb86412581587152c52c86b13c7774,,kernel {{ ipa_kernel_url }} ipa-inspection-callback-url=http://{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface ]['ipv4']['address'] }}:5050/v1/continue systemd.journald.forward_to_console=yes ip=${ip}:${next-server}:${gateway}:${netmask} BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }} initrd=ipa.initramfs,kernel {{ ipa_kernel_url }} ipa-inspection-callback-url=http://{{ hostvars[inventory_hostname]['ansible_' + ans_network_interface ]['ipv4']['address'] }}:5050/v1/continue systemd.journald.forward_to_console=yes ip=${ip}:${next-server}:${gateway}:${netmask} BOOTIF=${mac} nofb nomodeset vga=normal console=ttyS0 {{ inspector_extra_kernel_options | default('') }},1,1
openstack%2Fkolla-ansible~stable%2Fstein~I42c5446381033015f590901b2120950d602f847f,openstack/kolla-ansible,stable/stein,I42c5446381033015f590901b2120950d602f847f,Fix idempotency of fluentd customisations,MERGED,2019-11-05 14:15:25.000000000,2019-11-05 17:28:58.000000000,2019-11-05 17:27:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29543}]","[{'number': 1, 'created': '2019-11-05 14:15:25.000000000', 'files': ['ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e3021da8fe7c17ea833a55658c97c9ee0c93ae1', 'message': 'Fix idempotency of fluentd customisations\n\nFix fluentd config from overwriting custom config with the same filename\n\nCloses-Bug: #1840166\nChange-Id: I42c5446381033015f590901b2120950d602f847f\n(cherry picked from commit dcaa5f0b3d9953a562c55363b409bf5cb289f2bd)\n'}]",0,693013,7e3021da8fe7c17ea833a55658c97c9ee0c93ae1,8,4,1,14826,,,0,"Fix idempotency of fluentd customisations

Fix fluentd config from overwriting custom config with the same filename

Closes-Bug: #1840166
Change-Id: I42c5446381033015f590901b2120950d602f847f
(cherry picked from commit dcaa5f0b3d9953a562c55363b409bf5cb289f2bd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/693013/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/config.yml'],1,7e3021da8fe7c17ea833a55658c97c9ee0c93ae1,bug/1840166,"- name: Find custom fluentd input config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/input"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_inputs when: - enable_fluentd | bool vars: customised_input_files: ""{{ find_custom_fluentd_inputs.files | map(attribute='path') | map('basename') | list }}"" when: - enable_fluentd | bool - item ~ '.conf' not in customised_input_files- name: Find custom fluentd output config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/output"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_outputs when: - enable_fluentd | bool vars: customised_output_files: ""{{ find_custom_fluentd_outputs.files | map(attribute='path') | map('basename') | list }}"" - item.name ~ '.conf' not in customised_output_files- name: Copying over fluentd format config files vars: customised_format_files: ""{{ find_custom_fluentd_format.files | map(attribute='path') | map('basename') | list }}"" template: src: ""conf/format/{{ item }}.conf.j2"" dest: ""{{ node_config_directory }}/fluentd/format/{{ item }}.conf"" mode: ""0660"" become: true register: fluentd_format with_items: - ""apache_access"" - ""wsgi_access"" when: - enable_fluentd | bool - item ~ '.conf' not in customised_format_files notify: - Restart fluentd container - name: Find custom fluentd filter config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/filter"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_filters when: enable_fluentd | bool vars: customised_filter_files: ""{{ find_custom_fluentd_filters.files | map(attribute='path') | map('basename') | list }}"" when: - enable_fluentd | bool - item.src ~ '.conf' not in customised_filter_files"," when: enable_fluentd | bool- name: Find custom fluentd input config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/input"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_inputs when: - enable_fluentd | bool - name: Find custom fluentd output config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/output"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_outputs when: - enable_fluentd | bool - name: Copying over fluentd format config files template: src: ""conf/format/{{ item }}.conf.j2"" dest: ""{{ node_config_directory }}/fluentd/format/{{ item }}.conf"" mode: ""0660"" become: true register: fluentd_format with_items: - ""apache_access"" - ""wsgi_access"" when: enable_fluentd | bool notify: - Restart fluentd container when: enable_fluentd | bool- name: Find custom fluentd filter config files local_action: module: find path: ""{{ node_custom_config }}/fluentd/filter"" pattern: ""*.conf"" run_once: True register: find_custom_fluentd_filters when: enable_fluentd | bool ",60,45
openstack%2Fmonasca-agent~master~I4c53c8ab6c22c9460734b4194a2dcba6b58b8c79,openstack/monasca-agent,master,I4c53c8ab6c22c9460734b4194a2dcba6b58b8c79,Update agent architecture diagram,MERGED,2019-10-28 15:59:35.000000000,2019-11-05 17:18:10.000000000,2019-11-05 17:18:10.000000000,"[{'_account_id': 10311}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 15:59:35.000000000', 'files': ['docs/monasca-agent_arch.svg', 'docs/Agent.md', 'docs/monasca-agent_arch.png'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/96afbc6b9cf0adb96b77d040c3e57edd84221351', 'message': 'Update agent architecture diagram\n\nChange-Id: I4c53c8ab6c22c9460734b4194a2dcba6b58b8c79\n'}]",0,691704,96afbc6b9cf0adb96b77d040c3e57edd84221351,7,3,1,16222,,,0,"Update agent architecture diagram

Change-Id: I4c53c8ab6c22c9460734b4194a2dcba6b58b8c79
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/04/691704/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/monasca-agent_arch.svg', 'docs/Agent.md', 'docs/monasca-agent_arch.png']",3,96afbc6b9cf0adb96b77d040c3e57edd84221351,,,,4,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I52a7ebb946cc068013a0f7dbbc43989abf1cbd02,openstack/openstack-ansible,stable/train,I52a7ebb946cc068013a0f7dbbc43989abf1cbd02,Run setup module prior to bootstrapping aio,MERGED,2019-11-05 09:07:41.000000000,2019-11-05 16:58:39.000000000,2019-11-05 16:54:26.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 09:07:41.000000000', 'files': ['tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1a1f093177438e125864390b00dd348245d03459', 'message': 'Run setup module prior to bootstrapping aio\n\nOn some systems, the aio bootstrap script will fail due to an issue with fact\ngathering. This patch runs the setup module prior to the bootstrap process.\n\nReference: Eavesdrop IRC Logs - openstack-ansible.2018-11-23.log.html\nURL: https://pasted.tech/l/418bb8177f794d3f\n\nChange-Id: I52a7ebb946cc068013a0f7dbbc43989abf1cbd02\nCloses-Bug: #1851248\n(cherry picked from commit 9f9bfae7e6c15fd324a6473941c2780738e2c0b0)\n'}]",0,692962,1a1f093177438e125864390b00dd348245d03459,8,4,1,25023,,,0,"Run setup module prior to bootstrapping aio

On some systems, the aio bootstrap script will fail due to an issue with fact
gathering. This patch runs the setup module prior to the bootstrap process.

Reference: Eavesdrop IRC Logs - openstack-ansible.2018-11-23.log.html
URL: https://pasted.tech/l/418bb8177f794d3f

Change-Id: I52a7ebb946cc068013a0f7dbbc43989abf1cbd02
Closes-Bug: #1851248
(cherry picked from commit 9f9bfae7e6c15fd324a6473941c2780738e2c0b0)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/692962/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bootstrap-aio.yml'],1,1a1f093177438e125864390b00dd348245d03459,bug/1851248-stable/train, pre_tasks: - name: Run setup module setup: gather_subset: - network - hardware - virtual,,7,0
openstack%2Fkolla~master~Idde83003357d064293afb77b509e38c0bb16ef5d,openstack/kolla,master,Idde83003357d064293afb77b509e38c0bb16ef5d,DNM: test 3party,ABANDONED,2019-11-05 11:32:34.000000000,2019-11-05 16:53:32.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-05 11:32:34.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5932fd0ef085d427596df36202f3e7f85207d99e', 'message': 'DNM: test 3party\n\nChange-Id: Idde83003357d064293afb77b509e38c0bb16ef5d\n'}]",0,692984,5932fd0ef085d427596df36202f3e7f85207d99e,5,3,1,10969,,,0,"DNM: test 3party

Change-Id: Idde83003357d064293afb77b509e38c0bb16ef5d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/692984/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/qdrouterd/Dockerfile.j2']",4,5932fd0ef085d427596df36202f3e7f85207d99e,test,RUN touch /tmp/something,,3,206
openstack%2Ftripleo-heat-templates~master~I716aaa0be7b23bc3be2b1b755c75bd9173930da0,openstack/tripleo-heat-templates,master,I716aaa0be7b23bc3be2b1b755c75bd9173930da0,Disable haproxy when using external LB,MERGED,2019-11-04 21:01:04.000000000,2019-11-05 16:46:44.000000000,2019-11-05 16:22:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16347}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-11-04 21:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f5d10b5b60aa5c87fc4ae93f911dbb5c2c02e36', 'message': 'Set OS::Heat::None for the HAproxy resource to ensure external LB\nupdates do not break. This change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n'}, {'number': 2, 'created': '2019-11-04 21:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2953ca105fcff376e94e5228b37622f2ae42f11', 'message': 'Set OS::Heat::None for the HAproxy resource to ensure external LB\nupdates do not break.\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n'}, {'number': 3, 'created': '2019-11-04 21:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ce7438c02bad2637eab424a936cace253bd583c', 'message': 'Set OS::Heat::None for the HAproxy resource to ensure external LB\nupdates do not break.\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n'}, {'number': 4, 'created': '2019-11-04 21:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e9b9ba0eb57e7b5cdb52cb1cc5a8bbbe76594bb', 'message': 'Set OS::Heat::None for the HAproxy resource\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n'}, {'number': 5, 'created': '2019-11-04 21:36:47.000000000', 'files': ['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14228a33d5b0cdbc69bdf805786bb1046711627a', 'message': 'Disable haproxy when using external LB\n\nThis change ensures the update_tasks.yaml is\ngenerated without the haproxy sections which will cause issues since\nthere is no haproxy-bundle resource in external LB environments.\n\nChange-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0\nCloses-Bug: #1851297\n'}]",0,692904,14228a33d5b0cdbc69bdf805786bb1046711627a,17,6,5,30073,,,0,"Disable haproxy when using external LB

This change ensures the update_tasks.yaml is
generated without the haproxy sections which will cause issues since
there is no haproxy-bundle resource in external LB environments.

Change-Id: I716aaa0be7b23bc3be2b1b755c75bd9173930da0
Closes-Bug: #1851297
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/692904/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/external-loadbalancer-vip-v6.yaml', 'environments/external-loadbalancer-vip-v6-all.yaml', 'environments/external-loadbalancer-vip.yaml']",3,7f5d10b5b60aa5c87fc4ae93f911dbb5c2c02e36,, # We need to also disable the haproxy resource OS::TripleO::Services::HAproxy: OS::Heat::None,,6,0
openstack%2Ftempest~master~I56f39fcd23279fbef1648a55b6861ac2d6258a3c,openstack/tempest,master,I56f39fcd23279fbef1648a55b6861ac2d6258a3c,Add config_drive enabled block live migration,ABANDONED,2019-11-05 00:03:54.000000000,2019-11-05 16:03:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-11-05 00:03:54.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5151942c1924f75dd2199bfd0e37c7b93f4b49d', 'message': 'Add config_drive enabled block live migration\n\nor other like vfat specified in nova.conf and do the live block migration of the instance\n\nChange-Id: I56f39fcd23279fbef1648a55b6861ac2d6258a3c\n'}]",0,692933,c5151942c1924f75dd2199bfd0e37c7b93f4b49d,3,1,1,31239,,,0,"Add config_drive enabled block live migration

or other like vfat specified in nova.conf and do the live block migration of the instance

Change-Id: I56f39fcd23279fbef1648a55b6861ac2d6258a3c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/692933/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py']",3,c5151942c1924f75dd2199bfd0e37c7b93f4b49d,," image_id=None, config_drive=False, **kwargs): flavorRef=flavor, config_drive=config_drive,"," image_id=None,config_drive=False, **kwargs): flavorRef=flavor,config_drive=config_drive,",13,11
openstack%2Ftempest~master~I43cd11553da19bf955c38f829f4db2b74ae55dc7,openstack/tempest,master,I43cd11553da19bf955c38f829f4db2b74ae55dc7,"Added new config_drive live migration feature function test_live_block_migration_with_config_drive() in test_live_migration.py , updated the previous function call and add config_drive in the api on compute.py, base.py functions; This functionality will deploy the instance and use the default iso9660 config_driver_type and do the live block migration of the instance",ABANDONED,2019-11-04 20:47:23.000000000,2019-11-05 16:02:51.000000000,,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2019-11-04 20:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/591f7c497d7799e889cfb2adaf5c6d0dc6f1d165', 'message': 'Added new config_drive live migration feature function test_live_block_migration_with_config_drive() in test_live_migration.py , updated the previous function call and add config_drive in the api on compute.py, base.py functions; This functionality will deploy the instance and use the default iso9660 config_driver_type and do the live block migration of the instance\n\nChange-Id: I43cd11553da19bf955c38f829f4db2b74ae55dc7\n'}, {'number': 2, 'created': '2019-11-04 20:48:24.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff52d41572e6c24e1a674ff59bc71546e856916e', 'message': 'Added new config_drive live migration feature function test_live_block_migration_with_config_drive() in test_live_migration.py , updated the previous function call and add config_drive in the api on compute.py, base.py functions; This functionality will deploy the instance and use the default iso9660 config_driver_type and do the live block migration of the instance\n\nChange-Id: I43cd11553da19bf955c38f829f4db2b74ae55dc7\n'}]",15,692902,ff52d41572e6c24e1a674ff59bc71546e856916e,6,3,2,31239,,,0,"Added new config_drive live migration feature function test_live_block_migration_with_config_drive() in test_live_migration.py , updated the previous function call and add config_drive in the api on compute.py, base.py functions; This functionality will deploy the instance and use the default iso9660 config_driver_type and do the live block migration of the instance

Change-Id: I43cd11553da19bf955c38f829f4db2b74ae55dc7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/692902/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/test_live_migration.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/common/compute.py']",4,591f7c497d7799e889cfb2adaf5c6d0dc6f1d165,," image_id=None,config_drive=False, **kwargs): flavorRef=flavor,config_drive=config_drive,"," image_id=None, **kwargs): flavorRef=flavor,",277,8
openstack%2Fcharm-nova-cloud-controller~master~I42b415d7c4834cd74887c27b2f4a4daeb8eae636,openstack/charm-nova-cloud-controller,master,I42b415d7c4834cd74887c27b2f4a4daeb8eae636,Switch to placement config from charm-helpers,MERGED,2019-10-30 19:02:33.000000000,2019-11-05 14:58:05.000000000,2019-11-05 14:58:05.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 19:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/7083603e9d2991d059a0bd6f6071c8f274a7fe0c', 'message': 'Switch to placement config from charm-helpers\n\nThe placement config is shared among more than one charm at this\npoint. This patch drops the local sectional config and uses the\nsame sectional config that now exists in charm-helpers.\n\ncharm-helpers was synced to pick up this change.\n\nChange-Id: I42b415d7c4834cd74887c27b2f4a4daeb8eae636\nRelated-Bug: 1850691\n'}, {'number': 2, 'created': '2019-10-31 19:36:57.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'templates/ocata/nova.conf', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/policyd.py', 'templates/pike/nova.conf', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/section-placement', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/41a36a3d1e9d59566ad269c1552ba3924664fb10', 'message': 'Switch to placement config from charm-helpers\n\nThe placement config may eventually be shared among more than one\ncharm as more services begin to use it. This patch drops the local\nsectional config and uses the same sectional config that now exists\nin charm-helpers.\n\ncharm-helpers was synced to pick up this change.\n\nChange-Id: I42b415d7c4834cd74887c27b2f4a4daeb8eae636\nRelated-Bug: 1850691\n'}]",0,692209,41a36a3d1e9d59566ad269c1552ba3924664fb10,16,4,2,11805,,,0,"Switch to placement config from charm-helpers

The placement config may eventually be shared among more than one
charm as more services begin to use it. This patch drops the local
sectional config and uses the same sectional config that now exists
in charm-helpers.

charm-helpers was synced to pick up this change.

Change-Id: I42b415d7c4834cd74887c27b2f4a4daeb8eae636
Related-Bug: 1850691
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/09/692209/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/section-placement']",6,7083603e9d2991d059a0bd6f6071c8f274a7fe0c,bug/1850691,,,93,59
openstack%2Frpm-packaging~master~I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224,openstack/rpm-packaging,master,I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224,os-faults: Update to 0.2.5 and switch to python3,MERGED,2019-10-07 12:10:25.000000000,2019-11-05 14:57:44.000000000,2019-11-05 14:57:44.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 12:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0343edf68a47cb06f96b790cdcc13b276c9c3f69', 'message': 'os-faults: Update to 0.2.5 and switch to python3\n\nChange-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224\n'}, {'number': 2, 'created': '2019-11-05 12:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d69f4ae1d489a8ad4f369a16b377b21ccdc2d116', 'message': 'os-faults: Update to 0.2.5 and switch to python3\n\nChange-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224\n'}, {'number': 3, 'created': '2019-11-05 12:41:01.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a0e5058dccf30045abf673ed4d5279cb50647b7a', 'message': 'os-faults: Update to 0.2.5 and switch to python3\n\nChange-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224\n'}]",1,687011,a0e5058dccf30045abf673ed4d5279cb50647b7a,16,6,3,7102,,,0,"os-faults: Update to 0.2.5 and switch to python3

Change-Id: I46f1e90a6fd4b2ba52250b207ac50dfdae4ce224
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/11/687011/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,0343edf68a47cb06f96b790cdcc13b276c9c3f69,,"{% set upstream_version = upstream_version('0.2.5') %}BuildRequires: {{ py3('ansible', ('>=', '2.2')) }}BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('appdirs') }} BuildRequires: {{ py3('click') }} BuildRequires: {{ py3('ddt') }} BuildRequires: {{ py3('iso8601') }} BuildRequires: {{ py3('jsonschema') }} BuildRequires: {{ py3('libvirt-python') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('pyghmi') }} BuildRequires: {{ py3('pytest') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('six') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} Requires: {{ py3('ansible', ('>=', '2.2')) }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('appdirs') }} Requires: {{ py3('click') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('jsonschema') }} Requires: {{ py3('oslo.concurrency') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('pyghmi') }} Requires: {{ py3('six') }}Recommends: {{ py3('libvirt-python') }}BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('reno') }} BuildRequires: {{ py3('sphinx_rtd_theme') }}BuildRequires: {{ py3('sphinxcontrib-programoutput') }}%{py3_build} PBR_VERSION={{ upstream_version }} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html%{py3_install}%{python3_sitelib}/os_faults*","{% set upstream_version = upstream_version('0.2.2') %}BuildRequires: {{ py2pkg('ansible', ('>=', '2.2')) }}BuildRequires: {{ py2pkg('PyYAML') }} BuildRequires: {{ py2pkg('appdirs') }} # rdo only has click version 6.3-1.el7 #BuildRequires: {{ py2pkg('click', ('>=', '6.7')) }} BuildRequires: {{ py2pkg('click') }} BuildRequires: {{ py2pkg('ddt') }} BuildRequires: {{ py2pkg('iso8601') }} BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('libvirt-python') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.concurrency') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.serialization') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('pyghmi') }} BuildRequires: {{ py2pkg('pytest') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('six') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} Requires: {{ py2pkg('ansible', ('>=', '2.2')) }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('appdirs') }} # rdo only has click version 6.3-1.el7 #Requires: {{ py2pkg('click', ('>=', '6.7')) }} Requires: {{ py2pkg('click') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('oslo.concurrency') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('pyghmi') }} Requires: {{ py2pkg('six') }}Recommends: {{ py2pkg('libvirt-python') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('reno') }} BuildRequires: {{ py2pkg('sphinx_rtd_theme') }}BuildRequires: {{ py2pkg('sphinxcontrib-programoutput') }}%{py2_build} %{__python2} setup.py build_sphinx --builder=html%{py2_install}#%{__python2} setup.py test # the below instead of the above is to avoid pulling in requirements for coverage%{python2_sitelib}/os_faults*",47,53
openstack%2Fneutron~master~I2d8693145da72825876b951f2d10afe9ca28ff6e,openstack/neutron,master,I2d8693145da72825876b951f2d10afe9ca28ff6e,Increase timeout when waiting for dnsmasq enablement,MERGED,2019-10-30 14:42:44.000000000,2019-11-05 14:51:58.000000000,2019-11-05 14:49:57.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31043}]","[{'number': 1, 'created': '2019-10-30 14:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84218667a1b8eb43377b354784d2f209de7adb5f', 'message': 'Increate timeout when waiting for dnsmasq enablement\n\nIn the reported bug, a regression was introduced in [1] when limiting\nthe time to have a ""dnsmasq"" process enabled. It has been reported, as\ndocumented in the bug, that in older versions (Queens), using Python 2\n[2] and older versions of ""ip_lib"" (not implementing most of the\ncommands using Pyroute2), that the time needed to spawn a ""dnsmasq""\nprocess exceeds the default 60 seconds defined in\n""common_utils.wait_until_true"".\n\nThis patch increases this time by a reasonable 300 seconds.\n\n[1] I18d73b787fa3ab8803e12d5e5eb2bb7109205aba\n[2] https://bugs.python.org/issue35757\n\nChange-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e\nCloses-Bug: #1849676\n'}, {'number': 2, 'created': '2019-10-30 15:06:53.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aedc09917680bc77501f4b57142e73768e3d06ad', 'message': 'Increase timeout when waiting for dnsmasq enablement\n\nIn the reported bug, a regression was introduced in [1] when limiting\nthe time to have a ""dnsmasq"" process enabled. It has been reported, as\ndocumented in the bug, that in older versions (Queens), using Python 2\n[2] and older versions of ""ip_lib"" (not implementing most of the\ncommands using Pyroute2), that the time needed to spawn a ""dnsmasq""\nprocess exceeds the default 60 seconds defined in\n""common_utils.wait_until_true"".\n\nThis patch increases this time by a reasonable 300 seconds.\n\n[1] https://review.opendev.org/#/c/643732\n[2] https://bugs.python.org/issue35757\n\nChange-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e\nCloses-Bug: #1849676\n'}]",4,692160,aedc09917680bc77501f4b57142e73768e3d06ad,86,10,2,16688,,,0,"Increase timeout when waiting for dnsmasq enablement

In the reported bug, a regression was introduced in [1] when limiting
the time to have a ""dnsmasq"" process enabled. It has been reported, as
documented in the bug, that in older versions (Queens), using Python 2
[2] and older versions of ""ip_lib"" (not implementing most of the
commands using Pyroute2), that the time needed to spawn a ""dnsmasq""
process exceeds the default 60 seconds defined in
""common_utils.wait_until_true"".

This patch increases this time by a reasonable 300 seconds.

[1] https://review.opendev.org/#/c/643732
[2] https://bugs.python.org/issue35757

Change-Id: I2d8693145da72825876b951f2d10afe9ca28ff6e
Closes-Bug: #1849676
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/692160/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,84218667a1b8eb43377b354784d2f209de7adb5f,bug/1849676," common_utils.wait_until_true(self._enable, timeout=300)", common_utils.wait_until_true(self._enable),1,1
openstack%2Fkolla-ansible~master~I12f8de53724c3f24832df83597f36f9614af8e75,openstack/kolla-ansible,master,I12f8de53724c3f24832df83597f36f9614af8e75,Swift: compute the list of containers dynamically in the reconfigure task,MERGED,2019-10-21 21:50:35.000000000,2019-11-05 14:44:03.000000000,2019-10-23 11:22:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 31012}]","[{'number': 1, 'created': '2019-10-21 21:50:35.000000000', 'files': ['ansible/roles/swift/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9622ab96937dccea2f5b0d97ffc674ce10359cb7', 'message': 'Swift: compute the list of containers dynamically in the reconfigure task\n\nIf swift_has_replication_network is false some containers do not exist on the\ntarget node.\nThis commit adds steps to compute the final list of containers to act on.\n\nChange-Id: I12f8de53724c3f24832df83597f36f9614af8e75\nCloses-Bug: #1849189\n'}]",0,689882,9622ab96937dccea2f5b0d97ffc674ce10359cb7,14,4,1,31012,,,0,"Swift: compute the list of containers dynamically in the reconfigure task

If swift_has_replication_network is false some containers do not exist on the
target node.
This commit adds steps to compute the final list of containers to act on.

Change-Id: I12f8de53724c3f24832df83597f36f9614af8e75
Closes-Bug: #1849189
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/689882/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/swift/tasks/reconfigure.yml'],1,9622ab96937dccea2f5b0d97ffc674ce10359cb7,swift_reconfigure_containers,"- name: Prepare Swift containers list set_fact: swift_containers: - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } swift_replication_server_containers: - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_object_replication_server, group: swift-object-server } - name: Add _replication_server containers to the list set_fact: swift_containers: ""{{ swift_containers + swift_replication_server_containers }}"" when: swift_has_replication_network - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"" - ""{{ swift_containers }}"""," - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - { name: swift_account_server, group: swift-account-server } - { name: swift_account_auditor, group: swift-account-server } - { name: swift_account_replication_server, group: swift-account-server } - { name: swift_account_replicator, group: swift-account-server } - { name: swift_account_reaper, group: swift-account-server } - { name: swift_rsyncd, group: swift-account-server } - { name: swift_container_server, group: swift-container-server } - { name: swift_container_auditor, group: swift-container-server } - { name: swift_container_replication_server, group: swift-container-server } - { name: swift_container_replicator, group: swift-container-server } - { name: swift_container_updater, group: swift-container-server } - { name: swift_rsyncd, group: swift-container-server } - { name: swift_object_server, group: swift-object-server } - { name: swift_object_auditor, group: swift-object-server } - { name: swift_object_replication_server, group: swift-object-server } - { name: swift_object_replicator, group: swift-object-server } - { name: swift_object_updater, group: swift-object-server } - { name: swift_object_expirer, group: swift-object-server } - { name: swift_rsyncd, group: swift-object-server } - { name: swift_proxy_server, group: swift-proxy-server } - [{ name: swift_account_server, group: swift-account-server }, { name: swift_account_auditor, group: swift-account-server }, { name: swift_account_replication_server, group: swift-account-server }, { name: swift_account_replicator, group: swift-account-server }, { name: swift_account_reaper, group: swift-account-server }, { name: swift_rsyncd, group: swift-account-server }, { name: swift_container_server, group: swift-container-server }, { name: swift_container_auditor, group: swift-container-server }, { name: swift_container_replication_server, group: swift-container-server }, { name: swift_container_replicator, group: swift-container-server }, { name: swift_container_updater, group: swift-container-server }, { name: swift_rsyncd, group: swift-container-server }, { name: swift_object_server, group: swift-object-server }, { name: swift_object_auditor, group: swift-object-server }, { name: swift_object_replication_server, group: swift-object-server }, { name: swift_object_replicator, group: swift-object-server }, { name: swift_object_updater, group: swift-object-server }, { name: swift_object_expirer, group: swift-object-server }, { name: swift_rsyncd, group: swift-object-server }, { name: swift_proxy_server, group: swift-proxy-server }] - [{ name: swift_account_server, group: swift-account-server }, { name: swift_account_auditor, group: swift-account-server }, { name: swift_account_replication_server, group: swift-account-server }, { name: swift_account_replicator, group: swift-account-server }, { name: swift_account_reaper, group: swift-account-server }, { name: swift_rsyncd, group: swift-account-server }, { name: swift_container_server, group: swift-container-server }, { name: swift_container_auditor, group: swift-container-server }, { name: swift_container_replication_server, group: swift-container-server }, { name: swift_container_replicator, group: swift-container-server }, { name: swift_container_updater, group: swift-container-server }, { name: swift_rsyncd, group: swift-container-server }, { name: swift_object_server, group: swift-object-server }, { name: swift_object_auditor, group: swift-object-server }, { name: swift_object_replication_server, group: swift-object-server }, { name: swift_object_replicator, group: swift-object-server }, { name: swift_object_updater, group: swift-object-server }, { name: swift_object_expirer, group: swift-object-server }, { name: swift_rsyncd, group: swift-object-server }, { name: swift_proxy_server, group: swift-proxy-server }]",35,100
openstack%2Fkolla-ansible~master~I600891a15244ce705861f6ec93eec1d5ba83c1b8,openstack/kolla-ansible,master,I600891a15244ce705861f6ec93eec1d5ba83c1b8,Fix swift.conf custom configuration path collision,MERGED,2019-10-24 08:44:49.000000000,2019-11-05 14:43:16.000000000,2019-10-25 06:27:39.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-24 08:44:49.000000000', 'files': ['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86ccefc6233c52a083ccdbec23011d528a999964', 'message': 'Fix swift.conf custom configuration path collision\n\nBoth swift.conf and proxy-server.conf are affected be\n/etc/kolla/config/swift/proxy-server.conf. However, some options in\nproxy-server.conf are not valid in swift.conf.\n\nThis change keeps this path for proxy-server.conf, but modifies the path\nfor swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The\nsame applies for other services, object-*, account-*, container-*.\n\nChange-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8\nCloses-Bug: #1849265\n'}]",0,690881,86ccefc6233c52a083ccdbec23011d528a999964,10,3,1,14826,,,0,"Fix swift.conf custom configuration path collision

Both swift.conf and proxy-server.conf are affected be
/etc/kolla/config/swift/proxy-server.conf. However, some options in
proxy-server.conf are not valid in swift.conf.

This change keeps this path for proxy-server.conf, but modifies the path
for swift.conf to /etc/kolla/config/swift/proxy-server/swift.conf. The
same applies for other services, object-*, account-*, container-*.

Change-Id: I600891a15244ce705861f6ec93eec1d5ba83c1b8
Closes-Bug: #1849265
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/690881/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/swift/tasks/config.yml', 'releasenotes/notes/fix-swift-conf-collision-ee98d09a91c270bd.yaml']",2,86ccefc6233c52a083ccdbec23011d528a999964,bug/1849265,"--- upgrade: - | Modifies the path for custom configuration of ``swift.conf`` from ``/etc/kolla/config/swift/<service>.conf`` to ``/etc/kolla/config/swift/<service>/swift.conf``, to avoid a collision with custom configuration for ``<service>.conf``. Here, ``<service>`` may be ``proxy-server``, ``account-*``, ``container-*`` or ``object-*``. ",,10,2
openstack%2Fkolla-ansible~master~Ib9f65644637a5761c6cd7ca8925afc6bb2b8d5f5,openstack/kolla-ansible,master,Ib9f65644637a5761c6cd7ca8925afc6bb2b8d5f5,Change ceph_client caps to use profile rbd,MERGED,2019-10-09 12:18:20.000000000,2019-11-05 14:36:40.000000000,2019-10-10 10:43:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-09 12:18:20.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdc8df0c9066aadd442b6f63db5daec6dcda96f1', 'message': 'Change ceph_client caps to use profile rbd\n\nUsing profiles in cephx is the recommended way since Mimic,\nthis also adds support for blacklist ops.\n\nChange-Id: Ib9f65644637a5761c6cd7ca8925afc6bb2b8d5f5\nCloses-Bug: #1760065\n'}]",0,687544,bdc8df0c9066aadd442b6f63db5daec6dcda96f1,13,5,1,22629,,,0,"Change ceph_client caps to use profile rbd

Using profiles in cephx is the recommended way since Mimic,
this also adds support for blacklist ops.

Change-Id: Ib9f65644637a5761c6cd7ca8925afc6bb2b8d5f5
Closes-Bug: #1760065
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/687544/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml']",4,bdc8df0c9066aadd442b6f63db5daec6dcda96f1,," mon: 'profile rbd' profile rbd pool={{ ceph_gnocchi_pool_name }}, profile rbd pool={{ ceph_gnocchi_pool_name }}-cache"," mon: 'allow r' allow class-read object_prefix rbd_children, allow rwx pool={{ ceph_gnocchi_pool_name }}, allow rwx pool={{ ceph_gnocchi_pool_name }}-cache",23,28
openstack%2Fkolla-ansible~master~I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,openstack/kolla-ansible,master,I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc,Remove Heat environment file disabling deprecated plugins,MERGED,2019-08-06 16:37:56.000000000,2019-11-05 14:24:34.000000000,2019-09-03 15:23:44.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27781}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-06 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51e01394fd7f583d798f14a25633911678e135ea', 'message': 'Run task only if heat-engine is enabled on this host\n\nChange-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc\nCloses-Bug: #1839172\n'}, {'number': 2, 'created': '2019-08-29 10:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/370e56d8f5b4f023d2367d498d53b672c4cd8616', 'message': 'Remove Heat environment file disabling deprecated plugins\n\nCommit d68644386f5c159ac646f70883ecf1349c153c76 disabled these\ndeprecated plugins more than three years ago.\n\nChange-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc\nCloses-Bug: #1839172\n'}, {'number': 3, 'created': '2019-09-02 17:14:27.000000000', 'files': ['releasenotes/notes/remove-heat-engine-environment-file-5f1320011b00099d.yaml', 'ansible/roles/heat/templates/heat-engine.json.j2', 'ansible/roles/heat/templates/_deprecated.yaml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/heat/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9d13858d6824e2b2b1d6da6fe235dde8190611b', 'message': 'Remove Heat environment file disabling deprecated plugins\n\nCommit d68644386f5c159ac646f70883ecf1349c153c76 disabled these\ndeprecated plugins more than three years ago.\n\nChange-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc\nCloses-Bug: #1839172\n'}]",1,674867,c9d13858d6824e2b2b1d6da6fe235dde8190611b,23,8,3,15197,,,0,"Remove Heat environment file disabling deprecated plugins

Commit d68644386f5c159ac646f70883ecf1349c153c76 disabled these
deprecated plugins more than three years ago.

Change-Id: I2dd2a89a7aa2c4a54882a8b0aa8d23d874c0e4cc
Closes-Bug: #1839172
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/674867/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/heat/tasks/config.yml'],1,51e01394fd7f583d798f14a25633911678e135ea,bug/1839172, when: - heat_services[item].enabled | bool - inventory_hostname in groups[heat_services[item].group],,3,0
openstack%2Fkolla-ansible~master~I7601bb710097a78f6b29bc4018c71f2c6283eef2,openstack/kolla-ansible,master,I7601bb710097a78f6b29bc4018c71f2c6283eef2,Wait for MariaDB to be accessible via HAProxy,MERGED,2019-08-13 15:28:42.000000000,2019-11-05 14:17:10.000000000,2019-08-27 12:58:05.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27781}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-13 15:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2cc3e4ed3c8f1f170088aa0440d6d610a7b08873', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n'}, {'number': 2, 'created': '2019-08-14 13:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7baffa9402caa6a7ed906e6aa4caaed52fdc6126', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nCloses-Bug: #1840145\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n'}, {'number': 3, 'created': '2019-08-15 10:00:48.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03cd7eb3563788ca1ffd7b19130f18614887a546', 'message': 'Wait for MariaDB to be accessible via HAProxy\n\nExplicitly wait for the database to be accessible via the load balancer.\nSometimes it can reject connections even when all database services are up,\npossibly due to the health check polling in HAProxy.\n\nCloses-Bug: #1840145\nChange-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2\n'}]",2,676219,03cd7eb3563788ca1ffd7b19130f18614887a546,17,5,3,29543,,,0,"Wait for MariaDB to be accessible via HAProxy

Explicitly wait for the database to be accessible via the load balancer.
Sometimes it can reject connections even when all database services are up,
possibly due to the health check polling in HAProxy.

Closes-Bug: #1840145
Change-Id: I7601bb710097a78f6b29bc4018c71f2c6283eef2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/676219/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/register.yml']",2,2cc3e4ed3c8f1f170088aa0440d6d610a7b08873,bug/1840145,"# Explicitly wait for the database to be accessible via the load balancer. # Sometimes it can reject connections even when all database services are up, # due to the health check polling in HAProxy. For this to work we need # the haproxy user to exist. - name: wait for MariaDB to be available via HAProxy wait_for: host: ""{{ database_address }}"" port: ""{{ database_port }}"" connect_timeout: 1 timeout: 60 search_regex: ""MariaDB"" register: check_mariadb_port until: check_mariadb_port is success retries: 10 delay: 6 run_once: True ",,33,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Ftrain~I6bb24a8719b3902d6f510c70705cdb63076a1a08,openstack/openstack-ansible-os_neutron,stable/train,I6bb24a8719b3902d6f510c70705cdb63076a1a08,"l3 agent on network_hosts do dvr_snat, anywhere else dvr",MERGED,2019-11-05 02:26:38.000000000,2019-11-05 14:15:04.000000000,2019-11-05 14:13:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-05 02:26:38.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a3058a641a170ca895a4fc6fc0af39daa93da546', 'message': ""l3 agent on network_hosts do dvr_snat, anywhere else dvr\n\nWith the change in queens of moving the neutron agents from\ncontainers onto the network_hosts, if those hosts happen to\nalso be your nova_computes, VM's without a floating ip would\nlose north/south network.\n\nChecking for physical_host_group could make this patch work for\nneutron_agents_containers on pike aswell, if we want to\nbackport it that far.\n\nChange-Id: I6bb24a8719b3902d6f510c70705cdb63076a1a08\nSigned-off-by: Erik Berg <openstack@slipsprogrammor.no>\n(cherry picked from commit edf0a25ca2e78658f06a2394a4ded60b49232bca)\n""}]",0,692939,a3058a641a170ca895a4fc6fc0af39daa93da546,8,3,1,25600,,,0,"l3 agent on network_hosts do dvr_snat, anywhere else dvr

With the change in queens of moving the neutron agents from
containers onto the network_hosts, if those hosts happen to
also be your nova_computes, VM's without a floating ip would
lose north/south network.

Checking for physical_host_group could make this patch work for
neutron_agents_containers on pike aswell, if we want to
backport it that far.

Change-Id: I6bb24a8719b3902d6f510c70705cdb63076a1a08
Signed-off-by: Erik Berg <openstack@slipsprogrammor.no>
(cherry picked from commit edf0a25ca2e78658f06a2394a4ded60b49232bca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/39/692939/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,a3058a641a170ca895a4fc6fc0af39daa93da546,," l3_agent_mode: ""{% if 'network_hosts' in group_names %}dvr_snat{% else %}dvr{% endif %}"""," l3_agent_mode: ""{% if 'nova_compute' in group_names %}dvr{% else %}dvr_snat{% endif %}""",1,1
openstack%2Fmistral-lib~master~I544d3c172f2dea02c62c49c311c4b5954413ae15,openstack/mistral-lib,master,I544d3c172f2dea02c62c49c311c4b5954413ae15,Ensure we mask sensitive data from Mistral Action logs,MERGED,2019-11-05 10:04:39.000000000,2019-11-05 14:05:30.000000000,2019-11-05 14:05:30.000000000,"[{'_account_id': 3153}, {'_account_id': 8731}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-11-05 10:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/92c56b4d04a0a4866641fd2ac0e13970fc6fb71f', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nDepends-On: https://review.opendev.org/#/c/692965/\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}, {'number': 2, 'created': '2019-11-05 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/4e91352fcaad9535cf5471ffd16c69040b96090a', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nDepends-On: https://review.opendev.org/#/c/692965/\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}, {'number': 3, 'created': '2019-11-05 10:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/1aeecbc2b2ade0235e080d127082c47d4fbe9000', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nDepends-On: https://review.opendev.org/#/c/692965/\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}, {'number': 4, 'created': '2019-11-05 10:37:08.000000000', 'files': ['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/f51d2a21c0e75fe0e20990877e0615d4ace6af89', 'message': 'Ensure we mask sensitive data from Mistral Action logs\n\nMistral didn\'t make use of the oslo_utils ""mask_password"" methods,\nleading in sensitive data leakage in its logs.\n\nThis patch corrects this security issue.\nNote that it depends on oslo_utils patch adding new patterns, and\nensuring it\'s case-insensitive.\n\nChange-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15\nRelated-Bug: #1850843\nCo-Authored-By: Dougal Matthews <dougal@redhat.com>\nSigned-off-by: Cdric Jeanneret <cjeanner@redhat.com>\n'}]",0,692967,f51d2a21c0e75fe0e20990877e0615d4ace6af89,18,7,4,9712,,,0,"Ensure we mask sensitive data from Mistral Action logs

Mistral didn't make use of the oslo_utils ""mask_password"" methods,
leading in sensitive data leakage in its logs.

This patch corrects this security issue.
Note that it depends on oslo_utils patch adding new patterns, and
ensuring it's case-insensitive.

Change-Id: I544d3c172f2dea02c62c49c311c4b5954413ae15
Related-Bug: #1850843
Co-Authored-By: Dougal Matthews <dougal@redhat.com>
Signed-off-by: Cdric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/67/692967/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_lib/tests/test_utils.py', 'mistral_lib/utils/__init__.py', 'releasenotes/notes/mask-password-6899d868d213f722.yaml', 'mistral_lib/actions/types.py']",4,92c56b4d04a0a4866641fd2ac0e13970fc6fb71f,bug/1850843," _data = utils.mask_data(self.data) _error = utils.mask_data(self.error) _cancel = utils.mask_data(self.cancel) utils.cut(_data), utils.cut(_error), str(_cancel)"," utils.cut(self.data), utils.cut(self.error), str(self.cancel)",36,1
openstack%2Fkolla~master~If6f05237c2512c643857765eecf452f5416b3d60,openstack/kolla,master,If6f05237c2512c643857765eecf452f5416b3d60,Limit centos repo disable to centos hosts only,MERGED,2019-11-05 10:50:39.000000000,2019-11-05 14:01:02.000000000,2019-11-05 13:58:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 10:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/342dce9a745876f396ad46571919045077b9fdc6', 'message': 'Limit centos repo disable to centos hosts only\n\nRun dnf or yum to disable centos repos only if used on centos\nmachine.\n\nChange-Id: If6f05237c2512c643857765eecf452f5416b3d60\n'}, {'number': 2, 'created': '2019-11-05 10:53:48.000000000', 'files': ['docker/qdrouterd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e4b37201a596dbe242887ba51d7092eaed11a0cf', 'message': 'Limit centos repo disable to centos hosts only\n\nRun dnf or yum to disable centos repos only if used on centos\nmachine.\n\nCloses-Bug: #1851135\nChange-Id: If6f05237c2512c643857765eecf452f5416b3d60\n'}]",0,692978,e4b37201a596dbe242887ba51d7092eaed11a0cf,12,5,2,10969,,,0,"Limit centos repo disable to centos hosts only

Run dnf or yum to disable centos repos only if used on centos
machine.

Closes-Bug: #1851135
Change-Id: If6f05237c2512c643857765eecf452f5416b3d60
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/692978/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/qdrouterd/Dockerfile.j2'],1,342dce9a745876f396ad46571919045077b9fdc6,,{% if base_distro in ['centos'] %}{% endif %},,2,0
openstack%2Fkolla~master~I29dbcea169a6e338bc9a8fb4fcde7a77c1d6fac6,openstack/kolla,master,I29dbcea169a6e338bc9a8fb4fcde7a77c1d6fac6,CI: drop the gate profile,MERGED,2019-10-25 09:21:58.000000000,2019-11-05 14:00:01.000000000,2019-11-05 13:58:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-25 09:21:58.000000000', 'files': ['tests/test_build.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a465df591ce1541f9ff970adf86eb2f7e59845e', 'message': 'CI: drop the gate profile\n\nThis profile has not been used since Kolla Ansible was separated.\n\nAlso removes the relevant ""tests"".\n\nChange-Id: I29dbcea169a6e338bc9a8fb4fcde7a77c1d6fac6\n'}]",0,691270,7a465df591ce1541f9ff970adf86eb2f7e59845e,14,4,1,30491,,,0,"CI: drop the gate profile

This profile has not been used since Kolla Ansible was separated.

Also removes the relevant ""tests"".

Change-Id: I29dbcea169a6e338bc9a8fb4fcde7a77c1d6fac6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/691270/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_build.py', 'kolla/common/config.py']",2,7a465df591ce1541f9ff970adf86eb2f7e59845e,ci-drop-the-gate-profile,," cfg.ListOpt('gate', default=[ 'chrony', 'cron', 'fluentd', 'glance', 'haproxy', 'horizon', 'keepalived', 'keystone', 'kolla-toolbox', 'mariadb', 'memcached', 'neutron', 'nova-', 'placement', 'openvswitch', 'rabbitmq', ], help='Gate images')",0,48
openstack%2Fopenstack-ansible~stable%2Ftrain~I11c6d6b2c5da44960be53d72252e2241514bc08b,openstack/openstack-ansible,stable/train,I11c6d6b2c5da44960be53d72252e2241514bc08b,Fix a-r-r trackbranches,MERGED,2019-11-04 15:13:05.000000000,2019-11-05 13:54:31.000000000,2019-11-05 13:52:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-04 15:13:05.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2bd8ae9684390c4ba88fc5b3b2329c917533e449', 'message': 'Fix a-r-r trackbranches\n\nChange-Id: I11c6d6b2c5da44960be53d72252e2241514bc08b\n'}]",0,692838,2bd8ae9684390c4ba88fc5b3b2329c917533e449,8,3,1,28619,,,0,"Fix a-r-r trackbranches

Change-Id: I11c6d6b2c5da44960be53d72252e2241514bc08b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/692838/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,2bd8ae9684390c4ba88fc5b3b2329c917533e449,, trackbranch: master trackbranch: master trackbranch: master trackbranch: master trackbranch: master trackbranch: master trackbranch: master trackbranch: master trackbranch: master, trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train trackbranch: stable/train,9,9
openstack%2Fnova~stable%2Fqueens~Id112098ef7603d0e514120ac9b7ed861dfa32bd3,openstack/nova,stable/queens,Id112098ef7603d0e514120ac9b7ed861dfa32bd3,Functional reproduce for bug 1833581,MERGED,2019-10-10 12:37:01.000000000,2019-11-05 13:50:26.000000000,2019-11-05 13:50:26.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 12:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d479fc579340c97b3ade7dfbd16b51d24e63820e', 'message': 'Functional reproduce for bug 1833581\n\nConflicts:\n      nova/tests/functional/compute/test_init_host.py\n\nConflict is due to Iea283322124cb35fc0bc6d25f35548621e8c8c2f is missing\nfrom stable/queens\n\nChange-Id: Id112098ef7603d0e514120ac9b7ed861dfa32bd3\nRelated-Bug: #1833581\n(cherry picked from commit d2e0bd81df6a732f9c78df29538db89dda37b246)\n(cherry picked from commit 48d066a4193940815094c2ab8299db543aa514e5)\n(cherry picked from commit aefed5cd4a55176e7e39c0b1a2fbeb41404e32e4)\n'}, {'number': 2, 'created': '2019-10-28 13:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c908659e2485de2e92c16723fc98b42f38e5f795', 'message': 'Functional reproduce for bug 1833581\n\nConflicts:\n      nova/tests/functional/compute/test_init_host.py\n\nConflict is due to Iea283322124cb35fc0bc6d25f35548621e8c8c2f is missing\nfrom stable/queens\n\nChange-Id: Id112098ef7603d0e514120ac9b7ed861dfa32bd3\nRelated-Bug: #1833581\n(cherry picked from commit d2e0bd81df6a732f9c78df29538db89dda37b246)\n(cherry picked from commit 48d066a4193940815094c2ab8299db543aa514e5)\n(cherry picked from commit aefed5cd4a55176e7e39c0b1a2fbeb41404e32e4)\n'}, {'number': 3, 'created': '2019-10-28 14:19:51.000000000', 'files': ['nova/tests/functional/compute/test_init_host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23d65bcf1e82ecdd4eff1a14cc8c8c8eb473d036', 'message': 'Functional reproduce for bug 1833581\n\nConflicts:\n      nova/tests/functional/compute/test_init_host.py\n\nConflict is due to Iea283322124cb35fc0bc6d25f35548621e8c8c2f is missing\nfrom stable/queens\n\nChange-Id: Id112098ef7603d0e514120ac9b7ed861dfa32bd3\nRelated-Bug: #1833581\n(cherry picked from commit d2e0bd81df6a732f9c78df29538db89dda37b246)\n(cherry picked from commit 48d066a4193940815094c2ab8299db543aa514e5)\n(cherry picked from commit 19ca978bd48be1990db5a09fadbd0eea58f9d6b7)\n'}]",1,687877,23d65bcf1e82ecdd4eff1a14cc8c8c8eb473d036,20,6,3,9708,,,0,"Functional reproduce for bug 1833581

Conflicts:
      nova/tests/functional/compute/test_init_host.py

Conflict is due to Iea283322124cb35fc0bc6d25f35548621e8c8c2f is missing
from stable/queens

Change-Id: Id112098ef7603d0e514120ac9b7ed861dfa32bd3
Related-Bug: #1833581
(cherry picked from commit d2e0bd81df6a732f9c78df29538db89dda37b246)
(cherry picked from commit 48d066a4193940815094c2ab8299db543aa514e5)
(cherry picked from commit 19ca978bd48be1990db5a09fadbd0eea58f9d6b7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/687877/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_init_host.py'],1,d479fc579340c97b3ade7dfbd16b51d24e63820e,bug/1833581,"from nova.tests.unit import fake_notifier class TestComputeRestartInstanceStuckInBuild( test_servers.ProviderUsageBaseTestCase): compute_driver = 'fake.SmallFakeDriver' def setUp(self): super(TestComputeRestartInstanceStuckInBuild, self).setUp() self.compute1 = self._start_compute(host='host1') flavors = self.api.get_flavors() self.flavor1 = flavors[0] def test_restart_compute_while_instance_waiting_for_resource_claim(self): """"""Test for bug 1833581 where an instance is stuck in BUILD state forever due to compute service is restarted before the resource claim finished. """""" # To reproduce the problem we need to stop / kill the compute service # when an instance build request has already reached the service but # the instance_claim() has not finished. One way that this # happens in practice is when multiple builds are waiting for the # 'nova-compute-resource' semaphore. So one way to reproduce this in # the test would be to grab that semaphore, boot an instance, wait for # it to reach the compute then stop the compute. # Unfortunately when we release the semaphore after the simulated # compute restart the original instance_claim execution continues as # the stopped compute is not 100% stopped in the func test env. Also # we cannot really keep the semaphore forever as this named semaphore # is shared between the old and new compute service. # There is another way to trigger the issue. We can inject a sleep into # instance_claim() to stop it. This is less realistic but it works in # the test env. server_req = self._build_minimal_create_server_request( self.api, 'interrupted-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none') def sleep_forever(*args, **kwargs): time.sleep(1000000) with mock.patch('nova.compute.resource_tracker.ResourceTracker.' 'instance_claim') as mock_instance_claim: mock_instance_claim.side_effect = sleep_forever server = self.api.post_server({'server': server_req}) self._wait_for_state_change(self.admin_api, server, 'BUILD') # the instance.create.start is the closest thing to the # instance_claim call we can wait for in the test fake_notifier.wait_for_versioned_notifications( 'instance.create.start') self.restart_compute_service(self.compute1) # This is bug 1833581 as the server remains in BUILD state after the # compute restart. self._wait_for_state_change(self.admin_api, server, 'BUILD') # Not even the periodic task push this server to ERROR because the # server host is still None since the instance_claim didn't set it. self.flags(instance_build_timeout=1) self.compute1.manager._check_instance_build_time( nova_context.get_admin_context()) server = self.admin_api.get_server(server['id']) self.assertEqual('BUILD', server['status']) self.assertIsNone(server['OS-EXT-SRV-ATTR:host']) # We expect that the instance is pushed to ERROR state during the # compute restart. # self._wait_for_state_change(self.admin_api, server, 'ERROR')",,73,0
openstack%2Fnova~stable%2Fqueens~Ib0d142806804e9113dd61d3a7ec15a98232775c8,openstack/nova,stable/queens,Ib0d142806804e9113dd61d3a7ec15a98232775c8,Prevent init_host test to interfere with other tests,MERGED,2019-10-10 12:35:44.000000000,2019-11-05 13:50:21.000000000,2019-11-05 13:50:20.000000000,"[{'_account_id': 6873}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 12:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4603483802ef1995e70670f9c37851cdf8a4076b', 'message': 'Prevent init_host test to interfere with other tests\n\nThe test_migrate_disk_and_power_off_crash_finish_revert_migration test\nneeds to simulate a compute host crash at a certain point. It stops the\nexecution at a certain point by injecting a sleep then simulating a\ncompute restart. However the sleep is just 30 seconds which allows the\nstopped function to return while other functional tests are running in\nthe same test worker process making those tests fail in a weird way.\n\nOne simple solution is to add a big enough sleep to the test that will\nnever return before the whole functional test execution. This patch\nproposes a million seconds which is more than 277 hours. Similar to how\nthe other test in this test package works. This solution is hacky but\nsimple. A better solution would be to further enhance the capabilities\nof the functional test env supporting nova-compute service crash / kill\n+ restart.\n\nChange-Id: Ib0d142806804e9113dd61d3a7ec15a98232775c8\nCloses-Bug: #1839515\n(cherry picked from commit f875c9d12fa03e1eb0d6ac0f3dd95f502ae1e6a1)\n(cherry picked from commit 080b4759d3a9500266543989cb92b10cc87ea8d5)\n(cherry picked from commit c2c88b6ba0a1c480db3b252fd916334832303850)\n'}, {'number': 2, 'created': '2019-10-28 12:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a513a88827269994118154a9fae189a0e7bf9736', 'message': 'Prevent init_host test to interfere with other tests\n\nThe test_migrate_disk_and_power_off_crash_finish_revert_migration test\nneeds to simulate a compute host crash at a certain point. It stops the\nexecution at a certain point by injecting a sleep then simulating a\ncompute restart. However the sleep is just 30 seconds which allows the\nstopped function to return while other functional tests are running in\nthe same test worker process making those tests fail in a weird way.\n\nOne simple solution is to add a big enough sleep to the test that will\nnever return before the whole functional test execution. This patch\nproposes a million seconds which is more than 277 hours. Similar to how\nthe other test in this test package works. This solution is hacky but\nsimple. A better solution would be to further enhance the capabilities\nof the functional test env supporting nova-compute service crash / kill\n+ restart.\n\nChange-Id: Ib0d142806804e9113dd61d3a7ec15a98232775c8\nCloses-Bug: #1839515\n(cherry picked from commit f875c9d12fa03e1eb0d6ac0f3dd95f502ae1e6a1)\n(cherry picked from commit 080b4759d3a9500266543989cb92b10cc87ea8d5)\n(cherry picked from commit c2c88b6ba0a1c480db3b252fd916334832303850)\n'}, {'number': 3, 'created': '2019-10-28 14:17:18.000000000', 'files': ['nova/tests/functional/compute/test_init_host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5fdbac1307a8bb26819bf6c87b38a45081c1c330', 'message': 'Prevent init_host test to interfere with other tests\n\nThe test_migrate_disk_and_power_off_crash_finish_revert_migration test\nneeds to simulate a compute host crash at a certain point. It stops the\nexecution at a certain point by injecting a sleep then simulating a\ncompute restart. However the sleep is just 30 seconds which allows the\nstopped function to return while other functional tests are running in\nthe same test worker process making those tests fail in a weird way.\n\nOne simple solution is to add a big enough sleep to the test that will\nnever return before the whole functional test execution. This patch\nproposes a million seconds which is more than 277 hours. Similar to how\nthe other test in this test package works. This solution is hacky but\nsimple. A better solution would be to further enhance the capabilities\nof the functional test env supporting nova-compute service crash / kill\n+ restart.\n\nChange-Id: Ib0d142806804e9113dd61d3a7ec15a98232775c8\nCloses-Bug: #1839515\n(cherry picked from commit f875c9d12fa03e1eb0d6ac0f3dd95f502ae1e6a1)\n(cherry picked from commit 080b4759d3a9500266543989cb92b10cc87ea8d5)\n(cherry picked from commit 042746e68b33eba1fe0fe90e14fe487e8d336c2c)\n'}]",0,687876,5fdbac1307a8bb26819bf6c87b38a45081c1c330,20,5,3,9708,,,0,"Prevent init_host test to interfere with other tests

The test_migrate_disk_and_power_off_crash_finish_revert_migration test
needs to simulate a compute host crash at a certain point. It stops the
execution at a certain point by injecting a sleep then simulating a
compute restart. However the sleep is just 30 seconds which allows the
stopped function to return while other functional tests are running in
the same test worker process making those tests fail in a weird way.

One simple solution is to add a big enough sleep to the test that will
never return before the whole functional test execution. This patch
proposes a million seconds which is more than 277 hours. Similar to how
the other test in this test package works. This solution is hacky but
simple. A better solution would be to further enhance the capabilities
of the functional test env supporting nova-compute service crash / kill
+ restart.

Change-Id: Ib0d142806804e9113dd61d3a7ec15a98232775c8
Closes-Bug: #1839515
(cherry picked from commit f875c9d12fa03e1eb0d6ac0f3dd95f502ae1e6a1)
(cherry picked from commit 080b4759d3a9500266543989cb92b10cc87ea8d5)
(cherry picked from commit 042746e68b33eba1fe0fe90e14fe487e8d336c2c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/687876/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_init_host.py'],1,4603483802ef1995e70670f9c37851cdf8a4076b,bug/1833581, # The sleep value needs to be large to avoid this waking up and # interfering with other tests running on the same worker. time.sleep(1000000), time.sleep(30),3,1
openstack%2Fnova~stable%2Fqueens~I107d842520c088b4859a3b36621ce6bd8e970475,openstack/nova,stable/queens,I107d842520c088b4859a3b36621ce6bd8e970475,Add functional test for resize crash compute restart revert,MERGED,2019-10-10 12:33:09.000000000,2019-11-05 13:50:16.000000000,2019-11-05 13:50:15.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 12:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b6427ef1a68fcc3f130efd3ed4e3e55620ee9a5', 'message': 'Add functional test for resize crash compute restart revert\n\nDuring review of change I51673e58fc8d5f051df911630f6d7a928d123a5b\nthere was discussion about the RESIZE_MIGRATING crashed resize\ncleanup on restart of the compute service and how it may or may\nnot work but is likely missing some things to cleanup like fields\nset on the instance during prep_resize and resource allocations\nin placement.\n\nThis adds a functional test to hit that code and make assertions\nabout what it does and does not cleanup after the crashed resize.\n\nstable/rocky:\n* The integrated_helper change is needed as\nIc062446e5c620c89aec3065b34bcdc6bf5966275 is missing from rocky.\n\nstable/queens:\n* The test_init_host change is needed as\nIea283322124cb35fc0bc6d25f35548621e8c8c2f is missing from queens.\n\nRelated-Bug: #1836369\n\nChange-Id: I107d842520c088b4859a3b36621ce6bd8e970475\n(cherry picked from commit 8db712fe040b15f2b8bc5538338658d3aac246e3)\n(cherry picked from commit c565cab47945146cbbd1f1a75f42fef0fc531483)\n(cherry picked from commit f7660b28d95c54791ef0301f5ddc62061034590c)\n'}, {'number': 2, 'created': '2019-10-28 12:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28361259e9a051ed62c6fe4e920b62965fd0c608', 'message': 'Add functional test for resize crash compute restart revert\n\nDuring review of change I51673e58fc8d5f051df911630f6d7a928d123a5b\nthere was discussion about the RESIZE_MIGRATING crashed resize\ncleanup on restart of the compute service and how it may or may\nnot work but is likely missing some things to cleanup like fields\nset on the instance during prep_resize and resource allocations\nin placement.\n\nThis adds a functional test to hit that code and make assertions\nabout what it does and does not cleanup after the crashed resize.\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\nNote: file conflict is due to not having patch\nIea283322124cb35fc0bc6d25f35548621e8c8c2f in queens, and this is why\nthe test_init_host change is needed as well.\n\nRelated-Bug: #1836369\n\nChange-Id: I107d842520c088b4859a3b36621ce6bd8e970475\n(cherry picked from commit 8db712fe040b15f2b8bc5538338658d3aac246e3)\n(cherry picked from commit c565cab47945146cbbd1f1a75f42fef0fc531483)\n(cherry picked from commit f7660b28d95c54791ef0301f5ddc62061034590c)\n'}, {'number': 3, 'created': '2019-10-28 14:17:18.000000000', 'files': ['nova/tests/functional/compute/test_init_host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dae6fbfce61b91d44e514d73b6e9979ff0c15fae', 'message': 'Add functional test for resize crash compute restart revert\n\nDuring review of change I51673e58fc8d5f051df911630f6d7a928d123a5b\nthere was discussion about the RESIZE_MIGRATING crashed resize\ncleanup on restart of the compute service and how it may or may\nnot work but is likely missing some things to cleanup like fields\nset on the instance during prep_resize and resource allocations\nin placement.\n\nThis adds a functional test to hit that code and make assertions\nabout what it does and does not cleanup after the crashed resize.\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\nNote: file conflict is due to not having patch\nIea283322124cb35fc0bc6d25f35548621e8c8c2f in queens, and this is why\nthe test_init_host change is needed as well.\n\nRelated-Bug: #1836369\n\nChange-Id: I107d842520c088b4859a3b36621ce6bd8e970475\n(cherry picked from commit 8db712fe040b15f2b8bc5538338658d3aac246e3)\n(cherry picked from commit c565cab47945146cbbd1f1a75f42fef0fc531483)\n(cherry picked from commit f04fc63ffcde238f31c28c0fc5886716b669d718)\n'}]",3,687874,dae6fbfce61b91d44e514d73b6e9979ff0c15fae,21,6,3,9708,,,0,"Add functional test for resize crash compute restart revert

During review of change I51673e58fc8d5f051df911630f6d7a928d123a5b
there was discussion about the RESIZE_MIGRATING crashed resize
cleanup on restart of the compute service and how it may or may
not work but is likely missing some things to cleanup like fields
set on the instance during prep_resize and resource allocations
in placement.

This adds a functional test to hit that code and make assertions
about what it does and does not cleanup after the crashed resize.

Conflicts:
    nova/tests/functional/integrated_helpers.py
Note: file conflict is due to not having patch
Iea283322124cb35fc0bc6d25f35548621e8c8c2f in queens, and this is why
the test_init_host change is needed as well.

Related-Bug: #1836369

Change-Id: I107d842520c088b4859a3b36621ce6bd8e970475
(cherry picked from commit 8db712fe040b15f2b8bc5538338658d3aac246e3)
(cherry picked from commit c565cab47945146cbbd1f1a75f42fef0fc531483)
(cherry picked from commit f04fc63ffcde238f31c28c0fc5886716b669d718)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/687874/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_init_host.py'],1,5b6427ef1a68fcc3f130efd3ed4e3e55620ee9a5,bug/1833581,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import time from nova import context as nova_context from nova import objects from nova.tests.functional import test_servers from nova.tests.unit.image import fake as fake_image class ComputeManagerInitHostTestCase(test_servers.ProviderUsageBaseTestCase): """"""Tests various actions performed when the nova-compute service starts."""""" compute_driver = 'fake.MediumFakeDriver' def _get_allocations_by_provider_uuid(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/allocations' % rp_uuid).body['allocations'] def test_migrate_disk_and_power_off_crash_finish_revert_migration(self): """"""Tests the scenario that the compute service crashes while the driver's migrate_disk_and_power_off method is running (we could be slow transferring disks or something when it crashed) and on restart of the compute service the driver's finish_revert_migration method is called to cleanup the source host and reset the instnace task_state. """""" # Start two compute service so we migrate across hosts. for x in range(2): self._start_compute('host%d' % x) # Create a server, it does not matter on which host it lands. name = 'test_migrate_disk_and_power_off_crash_finish_revert_migration' server = self._build_minimal_create_server_request( self.api, name, image_uuid=fake_image.get_valid_image_id(), networks='auto') server = self.api.post_server({'server': server}) server = self._wait_for_state_change(self.admin_api, server, 'ACTIVE') # Save the source hostname for assertions later. source_host = server['OS-EXT-SRV-ATTR:host'] def fake_migrate_disk_and_power_off(*args, **kwargs): # Simulate the source compute service crashing by restarting it. self.restart_compute_service(self.computes[source_host]) # We have to keep the method from returning before asserting the # _init_instance restart behavior otherwise resize_instance will # fail and set the instance to ERROR status, revert allocations, # etc which is not realistic if the service actually crashed while # migrate_disk_and_power_off was running. time.sleep(30) source_driver = self.computes[source_host].manager.driver with mock.patch.object(source_driver, 'migrate_disk_and_power_off', side_effect=fake_migrate_disk_and_power_off): # Initiate a cold migration from the source host. self.admin_api.post_server_action(server['id'], {'migrate': None}) # Now wait for the task_state to be reset to None during # _init_instance. server = self._wait_for_server_parameter( self.admin_api, server, { 'status': 'ACTIVE', 'OS-EXT-STS:task_state': None, 'OS-EXT-SRV-ATTR:host': source_host } ) # Assert we went through the _init_instance processing we expect. log_out = self.stdlog.logger.output self.assertIn('Instance found in migrating state during startup. ' 'Resetting task_state', log_out) # Assert that driver.finish_revert_migration did not raise an error. self.assertNotIn('Failed to revert crashed migration', log_out) # The migration status should be ""error"" rather than stuck as # ""migrating"". context = nova_context.get_admin_context() # FIXME(mriedem): This is bug 1836369 because we would normally expect # Migration.get_by_instance_and_status to raise # MigrationNotFoundByStatus since the status should be ""error"". objects.Migration.get_by_instance_and_status( context, server['id'], 'migrating') # Assert things related to the resize get cleaned up: # - things set on the instance during prep_resize like: # - migration_context # - new_flavor # - stashed old_vm_state in system_metadata # - migration-based allocations from conductor/scheduler, i.e. that the # allocations created by the scheduler for the instance and dest host # are gone and the source host allocations are back on the instance # rather than the migration record instance = objects.Instance.get_by_uuid( context, server['id'], expected_attrs=[ 'migration_context', 'flavor', 'system_metadata' ]) # FIXME(mriedem): Leaving these fields set on the instance is # bug 1836369. self.assertIsNotNone(instance.migration_context) self.assertIsNotNone(instance.new_flavor) self.assertEqual('active', instance.system_metadata['old_vm_state']) dest_host = 'host0' if source_host == 'host1' else 'host1' dest_rp_uuid = self._get_provider_uuid_by_host(dest_host) dest_allocations = self._get_allocations_by_provider_uuid(dest_rp_uuid) # FIXME(mriedem): This is bug 1836369 because we orphaned the # allocations created by the scheduler for the server on the dest host. self.assertIn(server['id'], dest_allocations) source_rp_uuid = self._get_provider_uuid_by_host(source_host) source_allocations = self._get_allocations_by_provider_uuid( source_rp_uuid) # FIXME(mriedem): This is bug 1836369 because the server is running on # the source host but is not tracking allocations against the source # host. self.assertNotIn(server['id'], source_allocations) ",,123,0
openstack%2Fnova~stable%2Fqueens~I4bc81b482380c5778781659c4d167a712316dab4,openstack/nova,stable/queens,I4bc81b482380c5778781659c4d167a712316dab4,cleanup evacuated instances not on hypervisor,MERGED,2019-10-10 12:33:09.000000000,2019-11-05 13:50:11.000000000,2019-11-05 13:50:11.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-10 12:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89b3c6690475d728b976bc40c0f3618b060cdd01', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nNote that the functional test coverage will be added on top as it needs\nsome refactoring that would make the bugfix non backportable.\n\nConflicts:\n      nova/compute/manager.py\nConflict is due to I2af45a9540e7ccd60ace80d9fcadc79972da7df7 is missing\nform rocky\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)\n(cherry picked from commit b8f2cd689f0a747778080ba4b6e148e71eb53085)\n(cherry picked from commit e44c2a5c818230faeed4e9172601bab538392177)\n""}, {'number': 2, 'created': '2019-10-28 10:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46aa71f8991726aab767c6adf4fdde5fbb899bd0', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nNote that the functional test coverage will be added on top as it needs\nsome refactoring that would make the bugfix non backportable.\n\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)\n(cherry picked from commit b8f2cd689f0a747778080ba4b6e148e71eb53085)\n(cherry picked from commit e44c2a5c818230faeed4e9172601bab538392177)\n""}, {'number': 3, 'created': '2019-10-28 14:15:58.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/52e68f121eda49dbb817404d3ab1468c2059e1a3', 'message': ""cleanup evacuated instances not on hypervisor\n\nWhen the compute host recovers from a failure the compute manager\ndestroys instances that were evacuated from the host while it was down.\nHowever these code paths only consider evacuated instances that are\nstill reported by the hypervisor. This means that if the compute\nhost is recovered in a way that the hypervisor lost the definition\nof the instances (for example the compute host was redeployed) then\nthe allocation of these instances will not be deleted.\n\nThis patch makes sure that the instance allocation is cleaned up\neven if the driver doesn't return that instance as exists on the\nhypervisor.\n\nNote that the functional test coverage will be added on top as it needs\nsome refactoring that would make the bugfix non backportable.\n\nChange-Id: I4bc81b482380c5778781659c4d167a712316dab4\nCloses-Bug: #1724172\n(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)\n(cherry picked from commit b8f2cd689f0a747778080ba4b6e148e71eb53085)\n(cherry picked from commit 09de94e39bbcfc7f8130638e73a8248e49cb6ab7)\n""}]",3,687873,52e68f121eda49dbb817404d3ab1468c2059e1a3,27,9,3,9708,,,0,"cleanup evacuated instances not on hypervisor

When the compute host recovers from a failure the compute manager
destroys instances that were evacuated from the host while it was down.
However these code paths only consider evacuated instances that are
still reported by the hypervisor. This means that if the compute
host is recovered in a way that the hypervisor lost the definition
of the instances (for example the compute host was redeployed) then
the allocation of these instances will not be deleted.

This patch makes sure that the instance allocation is cleaned up
even if the driver doesn't return that instance as exists on the
hypervisor.

Note that the functional test coverage will be added on top as it needs
some refactoring that would make the bugfix non backportable.

Change-Id: I4bc81b482380c5778781659c4d167a712316dab4
Closes-Bug: #1724172
(cherry picked from commit 9cacaad14e8c18e99e85d9dc04308fee91303f8f)
(cherry picked from commit b8f2cd689f0a747778080ba4b6e148e71eb53085)
(cherry picked from commit 09de94e39bbcfc7f8130638e73a8248e49cb6ab7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/687873/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,89b3c6690475d728b976bc40c0f3618b060cdd01,bug/1833581," Then allocations are removed from Placement for every instance that is evacuated from this host regardless if the instance is reported by the hypervisor or not. evacuated_local_instances = {inst.uuid: inst for inst in local_instances if inst.uuid in evacuations} for instance in evacuated_local_instances.values(): LOG.info('Destroying instance as it has been evacuated from ' 'this host but still exists in the hypervisor', instance=instance) # NOTE(gibi): We are called from init_host and at this point the # compute_nodes of the resource tracker has not been populated yet so # we cannot rely on the resource tracker here. compute_nodes = {} for instance_uuid, migration in evacuations.items(): try: if instance_uuid in evacuated_local_instances: # Avoid the db call if we already have the instance loaded # above instance = evacuated_local_instances[instance_uuid] else: instance = objects.Instance.get_by_uuid( context, instance_uuid) except exception.InstanceNotFound: # The instance already deleted so we expect that every # allocation of that instance has already been cleaned up continue LOG.info('Cleaning up allocations of the instance as it has been ' 'evacuated from this host', instance=instance)"," evacuated = [inst for inst in local_instances if inst.uuid in evacuations] # NOTE(gibi): We are called from init_host and at this point the # compute_nodes of the resource tracker has not been populated yet so # we cannot rely on the resource tracker here. compute_nodes = {} for instance in evacuated: migration = evacuations[instance.uuid] LOG.info('Deleting instance as it has been evacuated from ' 'this host', instance=instance) # delete the allocation of the evacuated instance from this host",120,13
openstack%2Fcharm-swift-proxy~master~Id8038845511475c72b5420bd7cf5014fbc461012,openstack/charm-swift-proxy,master,Id8038845511475c72b5420bd7cf5014fbc461012,Add pause/resume tests back after z-o-t refactor,MERGED,2019-11-05 10:04:50.000000000,2019-11-05 13:31:15.000000000,2019-11-05 13:31:15.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 10:04:50.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/dba095bd8bbcb1852e669aaf2dc389b535cb60a0', 'message': 'Add pause/resume tests back after z-o-t refactor\n\nChange-Id: Id8038845511475c72b5420bd7cf5014fbc461012\n'}]",0,692969,dba095bd8bbcb1852e669aaf2dc389b535cb60a0,9,4,1,12549,,,0,"Add pause/resume tests back after z-o-t refactor

Change-Id: Id8038845511475c72b5420bd7cf5014fbc461012
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/69/692969/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,dba095bd8bbcb1852e669aaf2dc389b535cb60a0,add-zaza-test, - zaza.openstack.charm_tests.swift.tests.SwiftProxyTests,,1,0
openstack%2Ftripleo-heat-templates~master~I8deb062e826787deb31b74553d2f798a3f6d73ff,openstack/tripleo-heat-templates,master,I8deb062e826787deb31b74553d2f798a3f6d73ff,Do not log startup config output,MERGED,2019-11-04 21:40:58.000000000,2019-11-05 12:59:25.000000000,2019-11-05 12:59:24.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-04 21:40:58.000000000', 'files': ['common/container_startup_configs_tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/632ad172ed612f2f98028bd6372ca3fddae997e9', 'message': ""Do not log startup config output\n\nThese items are a bit verbose and may contain information that shouldn't\nbe logged.\n\nChange-Id: I8deb062e826787deb31b74553d2f798a3f6d73ff\n""}]",0,692911,632ad172ed612f2f98028bd6372ca3fddae997e9,8,4,1,14985,,,0,"Do not log startup config output

These items are a bit verbose and may contain information that shouldn't
be logged.

Change-Id: I8deb062e826787deb31b74553d2f798a3f6d73ff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/692911/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container_startup_configs_tasks.yaml'],1,632ad172ed612f2f98028bd6372ca3fddae997e9,log-cleanup, no_log: true,,1,0
openstack%2Fpython-openstackclient~master~Ia704202c455486ee070f62c878e274ccfb95c22a,openstack/python-openstackclient,master,Ia704202c455486ee070f62c878e274ccfb95c22a,[DOC]Fix openstack command for removing router,ABANDONED,2019-10-25 15:27:43.000000000,2019-11-05 12:59:16.000000000,,"[{'_account_id': 1131}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 15:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2ebfe8f0a37e0f8b8414ed82106e4b64479a1b2e', 'message': '[DOC]Fix opesntack command for removing router\n\nthe network part of the command is missing from the docs.\n\nChange-Id: Ia704202c455486ee070f62c878e274ccfb95c22a\n'}, {'number': 2, 'created': '2019-10-28 14:58:50.000000000', 'files': ['doc/source/cli/command-objects/network-agent.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d1c1b9d3643975e61e80f212ec3cd91ae82e0616', 'message': '[DOC]Fix openstack command for removing router\n\nthe network part of the command is missing from the docs.\n\nChange-Id: Ia704202c455486ee070f62c878e274ccfb95c22a\n'}]",1,691375,d1c1b9d3643975e61e80f212ec3cd91ae82e0616,7,3,2,13095,,,0,"[DOC]Fix openstack command for removing router

the network part of the command is missing from the docs.

Change-Id: Ia704202c455486ee070f62c878e274ccfb95c22a
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/75/691375/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/command-objects/network-agent.rst'],1,2ebfe8f0a37e0f8b8414ed82106e4b64479a1b2e,, openstack network agent remove router, openstack agent remove router,1,1
openstack%2Fneutron~master~Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e,openstack/neutron,master,Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e,Fix py3 compatibility,MERGED,2019-04-11 15:25:50.000000000,2019-11-05 12:48:13.000000000,2019-09-16 15:32:17.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27339}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-04-11 15:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fac1a2afac5feda1b8868eafa8072ff34249740', 'message': ""Fix py3 compatibility\n\nIn fetch_and_sync_all_routers method is used python's range function.\nRange function accepts integers.\n\nThis patch is fixing divide behaviour in py3 where result number is float,\nby retyping float to int as it is represented in py2.\n\nChange-Id: Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e\nCloses-Bug: #1824334\n""}, {'number': 2, 'created': '2019-07-31 13:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b197066d829df220edc829ed1d632ba50e533810', 'message': ""Fix py3 compatibility\n\nIn fetch_and_sync_all_routers method is used python's range function.\nRange function accepts integers.\n\nThis patch is fixing divide behaviour in py3 where result number is float,\nby retyping float to int as it is represented in py2.\n\nChange-Id: Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e\nCloses-Bug: #1824334\n""}, {'number': 3, 'created': '2019-09-07 09:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f52f1c1736a378e5bc89ca634cc3f88cb2ec8100', 'message': ""Fix py3 compatibility\n\nIn fetch_and_sync_all_routers method is used python's range function.\nRange function accepts integers.\n\nThis patch is fixing divide behaviour in py3 where result number is float,\nby retyping float to int as it is represented in py2.\n\nChange-Id: Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e\nCloses-Bug: #1824334\n""}, {'number': 4, 'created': '2019-09-10 05:47:24.000000000', 'files': ['neutron/agent/l3/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/49a66dba31f23d54972e962beef66c39307904df', 'message': ""Fix py3 compatibility\n\nIn fetch_and_sync_all_routers method is used python's range function.\nRange function accepts integers.\n\nThis patch is fixing divide behaviour in py3 where result number is float,\nby retyping float to int as it is represented in py2.\n\nChange-Id: Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e\nCloses-Bug: #1824334\n""}]",8,651815,49a66dba31f23d54972e962beef66c39307904df,97,15,4,27339,,,0,"Fix py3 compatibility

In fetch_and_sync_all_routers method is used python's range function.
Range function accepts integers.

This patch is fixing divide behaviour in py3 where result number is float,
by retyping float to int as it is represented in py2.

Change-Id: Ifffdee0d4a3226d4871cfabd0bdbf13d7058a83e
Closes-Bug: #1824334
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/651815/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/agent.py'],1,1fac1a2afac5feda1b8868eafa8072ff34249740,bug/1824334," int(self.sync_routers_chunk_size / 2),"," self.sync_routers_chunk_size / 2,",1,1
openstack%2Fopenstack-ansible~stable%2Frocky~I1b631fee56ab61d32819352660610a8fd28f9381,openstack/openstack-ansible,stable/rocky,I1b631fee56ab61d32819352660610a8fd28f9381,Bump SHAs for stable/rocky,MERGED,2019-11-03 13:25:22.000000000,2019-11-05 12:47:31.000000000,2019-11-05 12:47:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-11-03 13:25:22.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea3b8911a09959d4462cc7a09a11479e7c75823c', 'message': 'Bump SHAs for stable/rocky\n\nChange-Id: I1b631fee56ab61d32819352660610a8fd28f9381\n'}]",0,692749,ea3b8911a09959d4462cc7a09a11479e7c75823c,10,4,1,28619,,,0,"Bump SHAs for stable/rocky

Change-Id: I1b631fee56ab61d32819352660610a8fd28f9381
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/692749/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",3,ea3b8911a09959d4462cc7a09a11479e7c75823c,bump_osa, version: 04ba1935f915ba8207b6ef970949791807a1c12e version: 0ae0b51de8da04e6f11d587d703f761435f07b56 version: fcf9c2476c2924cc712cffefdb6069854520e68b version: 14580e8e2c61b9fa748bf9b58a941de338fa3a2e version: fdeda6f03f31bba7b3350c29d836ffed36e3f3f4, version: a0f1059331d6de4c8b0b7d10b89ddba7e8c202ef version: e7ca69533fcee483635e915021f0e6eb6ebe1779 version: 4e4edc2b9f2c5f38066381a1f486100795b5a1b8 version: db926eaa6cc1ec1e5305144c754da1d088014d55 version: 9d97420b0206685d3cfcaf512d77230b65447a36,44,44
openstack%2Fkolla-ansible~stable%2Fstein~Ib237f3f11b70966eba63fa54212a31b8b61431a2,openstack/kolla-ansible,stable/stein,Ib237f3f11b70966eba63fa54212a31b8b61431a2,DNM: Testing cloudkitty in Stein,ABANDONED,2019-09-11 17:12:04.000000000,2019-11-05 12:44:51.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-11 17:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d35a5e7e99dcd6e0b42a3594e377ddb04bdb9a5', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\n'}, {'number': 2, 'created': '2019-09-12 15:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54fb90623b858502aad7143798f84d3bdf767fdc', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\n'}, {'number': 3, 'created': '2019-09-12 16:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbf5be42c24b853c1c9e746e23783e4bc829c2fd', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\nDepends-On: https://review.opendev.org/681830\n'}, {'number': 4, 'created': '2019-09-26 11:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/254bd52c6cbf5907e0ee2562f6e21c7170f49fac', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\nDepends-On: https://review.opendev.org/681830\n'}, {'number': 5, 'created': '2019-11-05 09:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6bb5f180ee8cf897f5c71b951470132815d97127', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\nDepends-On: https://review.opendev.org/681830\n'}, {'number': 6, 'created': '2019-11-05 10:56:21.000000000', 'files': ['tests/templates/globals-default.j2', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5245496ff1a237c94435d8c50f6e4e1d9456fe25', 'message': 'DNM: Testing cloudkitty in Stein\n\nChange-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2\nDepends-On: https://review.opendev.org/681830\nDepends-On: https://review.opendev.org/692966/\n'}]",0,681548,5245496ff1a237c94435d8c50f6e4e1d9456fe25,18,3,6,14826,,,0,"DNM: Testing cloudkitty in Stein

Change-Id: Ib237f3f11b70966eba63fa54212a31b8b61431a2
Depends-On: https://review.opendev.org/681830
Depends-On: https://review.opendev.org/692966/
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/681548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'zuul.d/project.yaml']",2,2d35a5e7e99dcd6e0b42a3594e377ddb04bdb9a5,,, templates: - check-requirements - deploy-guide-jobs - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python36-jobs - openstack-python37-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-ubuntu-source-ceph - kolla-ansible-centos-source-ceph - kolla-ansible-ubuntu-source-cinder-lvm: files: ^ansible\/roles\/(cinder|iscsi)\/.* - kolla-ansible-centos-source-cinder-lvm: files: ^ansible\/roles\/(cinder|iscsi)\/.* - kolla-ansible-bifrost-centos-source: files: ^ansible\/roles\/bifrost\/.* - kolla-ansible-ubuntu-source-zun: files: ^ansible\/roles\/(zun|kuryr)\/.* - kolla-ansible-centos-source-scenario-nfv: files: ^ansible\/roles\/(barbican|heat|mistral|redis|tacker)\/.* - kolla-ansible-centos-source-ironic - kolla-ansible-centos-binary-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos-source-upgrade-ceph - kolla-ansible-ubuntu-source-upgrade-ceph,3,28
openstack%2Fpuppet-openstack-integration~master~Idf03cea1d51c9fbd52bcae4b2438ded5d417dd36,openstack/puppet-openstack-integration,master,Idf03cea1d51c9fbd52bcae4b2438ded5d417dd36,Updated from Puppet OpenStack modules constraints,MERGED,2019-11-02 06:15:36.000000000,2019-11-05 12:43:29.000000000,2019-11-05 12:43:29.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-02 06:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/85222d31af1011b45957900dbc3e658c079862ce', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Idf03cea1d51c9fbd52bcae4b2438ded5d417dd36\n'}, {'number': 2, 'created': '2019-11-05 06:07:13.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ad4a9f17c0663aa51f3bac69bd0307efe521820b', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Idf03cea1d51c9fbd52bcae4b2438ded5d417dd36\n'}]",0,692636,ad4a9f17c0663aa51f3bac69bd0307efe521820b,16,4,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Idf03cea1d51c9fbd52bcae4b2438ded5d417dd36
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/36/692636/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,85222d31af1011b45957900dbc3e658c079862ce,openstack/puppet/constraints, :ref => 'v5.2.0', :ref => 'v5.1.0',1,1
openstack%2Frpm-packaging~master~Id45ec5b959a2701315b9bce0c71505aa9c8b5051,openstack/rpm-packaging,master,Id45ec5b959a2701315b9bce0c71505aa9c8b5051,glance: add missing requires,ABANDONED,2019-09-11 09:52:12.000000000,2019-11-05 12:42:44.000000000,,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-11 09:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c89e5375b5d40a786155b3db8bec7674f5d7ed28', 'message': 'glance: add manpages and missing requires\n\nChange-Id: Id45ec5b959a2701315b9bce0c71505aa9c8b5051\n'}, {'number': 2, 'created': '2019-09-12 14:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8202d1122dad6ee3b40a0cc735899a7c55d06650', 'message': 'glance: add missing requires\n\nChange-Id: Id45ec5b959a2701315b9bce0c71505aa9c8b5051\n'}, {'number': 3, 'created': '2019-09-12 14:56:35.000000000', 'files': ['openstack/glance/glance.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/60dc6106fdbd39ee72f21536867b67dfb1bf6311', 'message': 'glance: add missing requires\n\nChange-Id: Id45ec5b959a2701315b9bce0c71505aa9c8b5051\n'}]",8,681427,60dc6106fdbd39ee72f21536867b67dfb1bf6311,12,4,3,6593,,,0,"glance: add missing requires

Change-Id: Id45ec5b959a2701315b9bce0c71505aa9c8b5051
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/27/681427/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/glance/glance.spec.j2'],1,c89e5375b5d40a786155b3db8bec7674f5d7ed28,,# needed by support for image conversion (qemu-img) Requires: qemu-tools Requires(post): sysconfigRecommends: cronPBR_VERSION={{ upstream_version }} %sphinx_build -b man doc/source doc/build/man# documentation install -d %{buildroot}%{_mandir}/man1 install -m 644 doc/build/man/*.1 %{buildroot}%{_mandir}/man1 %{_mandir}/man1/glance-api.1%{?ext_man} %{_mandir}/man1/glance-cache-cleaner.1%{?ext_man} %{_mandir}/man1/glance-cache-manage.1%{?ext_man} %{_mandir}/man1/glance-cache-prefetcher.1%{?ext_man} %{_mandir}/man1/glance-cache-pruner.1%{?ext_man} %{_mandir}/man1/glance-control.1%{?ext_man} %{_mandir}/man1/glance-manage.1%{?ext_man} %{_mandir}/man1/glance-registry.1%{?ext_man} %{_mandir}/man1/glance-replicator.1%{?ext_man} %{_mandir}/man1/glance-scrubber.1%{?ext_man},,19,0
openstack%2Fkolla-ansible~stable%2Fstein~If5be0a3a5b144b5b3aedfe02d3a51b5adf3c3bd8,openstack/kolla-ansible,stable/stein,If5be0a3a5b144b5b3aedfe02d3a51b5adf3c3bd8,Fix cloudkitty influxdb config section name (stein),ABANDONED,2019-11-05 10:04:19.000000000,2019-11-05 12:40:59.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-05 10:04:19.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5dc88f21642be47f7e7d69633d7c2d272e95969', 'message': 'Fix cloudkitty influxdb config section name (stein)\n\nStein only\n\nIn Stein, cloudkitty switched the default storage backend to influxdb.\nThis caused us some problems\n(https://bugs.launchpad.net/kolla-ansible/+bug/1838641). They then\nchanged the config section name from [storage_influx] to\n[storage_influxdb] in Train (without deprecation). Support for influxdb\nconfiguration in cloudkitty was backported to stein\n(https://review.opendev.org/681545, https://review.opendev.org/681772),\nbut this used the new section name.\n\nSee discussion from comment 27 onwards in\nhttps://bugs.launchpad.net/kolla-ansible/+bug/1838641 for more context.\n\nThis change reverts to the original section name of [storage_influx].\n\nChange-Id: If5be0a3a5b144b5b3aedfe02d3a51b5adf3c3bd8\nCloses-Bug: #1851352\nRelated-Bug: #1838641\n'}]",0,692966,e5dc88f21642be47f7e7d69633d7c2d272e95969,5,3,1,14826,,,0,"Fix cloudkitty influxdb config section name (stein)

Stein only

In Stein, cloudkitty switched the default storage backend to influxdb.
This caused us some problems
(https://bugs.launchpad.net/kolla-ansible/+bug/1838641). They then
changed the config section name from [storage_influx] to
[storage_influxdb] in Train (without deprecation). Support for influxdb
configuration in cloudkitty was backported to stein
(https://review.opendev.org/681545, https://review.opendev.org/681772),
but this used the new section name.

See discussion from comment 27 onwards in
https://bugs.launchpad.net/kolla-ansible/+bug/1838641 for more context.

This change reverts to the original section name of [storage_influx].

Change-Id: If5be0a3a5b144b5b3aedfe02d3a51b5adf3c3bd8
Closes-Bug: #1851352
Related-Bug: #1838641
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/692966/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,e5dc88f21642be47f7e7d69633d7c2d272e95969,bug/1851352,[storage_influx],[storage_influxdb],1,1
openstack%2Fcloudkitty~master~I34895da263b03943acadacbcbce11f05a38f7136,openstack/cloudkitty,master,I34895da263b03943acadacbcbce11f05a38f7136,Fix section name in config file generation,MERGED,2019-05-14 12:06:34.000000000,2019-11-05 12:39:01.000000000,2019-05-14 13:51:57.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 28356}]","[{'number': 1, 'created': '2019-05-14 12:06:34.000000000', 'files': ['doc/source/admin/configuration/storage.rst', 'cloudkitty/common/config.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b70b7484ddc6da5e56419b767c7f50c60a7272f1', 'message': 'Fix section name in config file generation\n\nThis changes the wrong ""storage_influx"" section name\nto ""storage_influxdb"".\n\nChange-Id: I34895da263b03943acadacbcbce11f05a38f7136\n'}]",0,659049,b70b7484ddc6da5e56419b767c7f50c60a7272f1,8,3,1,23060,,,0,"Fix section name in config file generation

This changes the wrong ""storage_influx"" section name
to ""storage_influxdb"".

Change-Id: I34895da263b03943acadacbcbce11f05a38f7136
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/49/659049/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/storage.rst', 'cloudkitty/common/config.py']",2,b70b7484ddc6da5e56419b767c7f50c60a7272f1,," ('storage_influxdb', list(itertools.chain("," ('storage_influx', list(itertools.chain(",2,2
openstack%2Fkolla~master~I7bbdcbd5c60f654a484a872209e0537e3950346c,openstack/kolla,master,I7bbdcbd5c60f654a484a872209e0537e3950346c,get 'apt_*' options of kolla-build.conf working again,MERGED,2019-10-17 10:39:55.000000000,2019-11-05 12:20:08.000000000,2019-10-24 18:58:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-17 10:39:55.000000000', 'files': ['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf20b41e7dea702b693fa98ea27822c8a33a5591', 'message': ""get 'apt_*' options of kolla-build.conf working again\n\nWe broke 'apt_sources_list' and 'apt_preferences' options quite a while\nago. Turned out that fix is quite simple.\n\nThis change adds empty sources.list and apt-preferences files which are\nalways added into images. If kolla-build.conf will use any of APT\nrelated options then those files will be replaced with provided ones.\n\nChange-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c\nCloses-bug: #1706549\n""}]",3,689121,bf20b41e7dea702b693fa98ea27822c8a33a5591,19,7,1,24072,,,0,"get 'apt_*' options of kolla-build.conf working again

We broke 'apt_sources_list' and 'apt_preferences' options quite a while
ago. Turned out that fix is quite simple.

This change adds empty sources.list and apt-preferences files which are
always added into images. If kolla-build.conf will use any of APT
related options then those files will be replaced with provided ones.

Change-Id: I7bbdcbd5c60f654a484a872209e0537e3950346c
Closes-bug: #1706549
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/689121/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list', 'docker/base/Dockerfile.j2', 'docker/base/apt_preferences']",3,bf20b41e7dea702b693fa98ea27822c8a33a5591,686963,# used for adding custom options by 'apt_preferences' option of kolla-build.conf ,,4,0
openstack%2Fkolla-ansible~stable%2Fstein~Ief73bbd24568d6941384ea3330ab45f11aa42d37,openstack/kolla-ansible,stable/stein,Ief73bbd24568d6941384ea3330ab45f11aa42d37,Fix nova scheduler down after first docker restart,MERGED,2019-10-30 19:24:35.000000000,2019-11-05 12:09:16.000000000,2019-11-05 12:07:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-30 19:24:35.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2242fceb73abac54ef46acb41997bf81a77692a3', 'message': ""Fix nova scheduler down after first docker restart\n\nDue to a Docker bug [1] we cannot use Docker to send\nSIGHUP to the container because it will mark it as\nstopped.\nThis patch sends the signal directly to the process,\nbypassing Docker.\n\n'changed_when: false' is also removed from the\nrelevant task as it definitely changes the state.\nIn the future we could do the refresh only if\nthere really is a need for another one.\n\n[1] https://github.com/moby/moby/issues/11065\n\nChange-Id: Ief73bbd24568d6941384ea3330ab45f11aa42d37\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nCloses-Bug: #1845244\n(cherry picked from commit 6bdf202658e08bb9f43ca50334587b05dc4bac03)\n""}]",0,692212,2242fceb73abac54ef46acb41997bf81a77692a3,9,4,1,30491,,,0,"Fix nova scheduler down after first docker restart

Due to a Docker bug [1] we cannot use Docker to send
SIGHUP to the container because it will mark it as
stopped.
This patch sends the signal directly to the process,
bypassing Docker.

'changed_when: false' is also removed from the
relevant task as it definitely changes the state.
In the future we could do the refresh only if
there really is a need for another one.

[1] https://github.com/moby/moby/issues/11065

Change-Id: Ief73bbd24568d6941384ea3330ab45f11aa42d37
Co-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Closes-Bug: #1845244
(cherry picked from commit 6bdf202658e08bb9f43ca50334587b05dc4bac03)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/692212/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,2242fceb73abac54ef46acb41997bf81a77692a3,," # NOTE(yoctozepto): Normally we would send the signal via Docker but, due to a # Docker bug (https://github.com/moby/moby/issues/11065), this might cause the # container to be stopped if we restart Docker or reboot the server as we # use the 'unless-stopped' restart policy by default. shell: ""kill -HUP `docker inspect -f '{% raw %}{{.State.Pid}}{% endraw %}' nova_scheduler`""", command: docker kill --signal HUP nova_scheduler changed_when: False,5,2
openstack%2Ftripleo-common~master~Ia81fadfbca97cf887f857ef196af013747f4ce43,openstack/tripleo-common,master,Ia81fadfbca97cf887f857ef196af013747f4ce43,Split the action logic from the run method,MERGED,2019-10-28 16:46:44.000000000,2019-11-05 12:06:35.000000000,2019-11-05 12:04:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-28 16:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a75dab5c0656ed39002dccaf93de870d20d54511', 'message': ""Split the action logic from the run method\n\nThis makes it easier to re-use this code externally as we don't need to\nconstruct a Mistral context. We can instead pass in the Python clients.\n\nRelated-Bug: #1835230\nChange-Id: Ia81fadfbca97cf887f857ef196af013747f4ce43\n""}, {'number': 2, 'created': '2019-11-04 12:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8cc3d3bee5d6cb229ed693905a929a8b4906c05a', 'message': ""Split the action logic from the run method\n\nThis makes it easier to re-use this code externally as we don't need to\nconstruct a Mistral context. We can instead pass in the Python clients.\n\nRelated-Bug: #1835230\nChange-Id: Ia81fadfbca97cf887f857ef196af013747f4ce43\n""}, {'number': 3, 'created': '2019-11-04 12:41:45.000000000', 'files': ['tripleo_common/actions/baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3577e31b398be86d20faa2b659e86c2b3d04f642', 'message': ""Split the action logic from the run method\n\nThis makes it easier to re-use this code externally as we don't need to\nconstruct a Mistral context. We can instead pass in the Python clients.\n\nRelated-Bug: #1835230\nChange-Id: Ia81fadfbca97cf887f857ef196af013747f4ce43\n""}]",0,691717,3577e31b398be86d20faa2b659e86c2b3d04f642,18,5,3,9712,,,0,"Split the action logic from the run method

This makes it easier to re-use this code externally as we don't need to
construct a Mistral context. We can instead pass in the Python clients.

Related-Bug: #1835230
Change-Id: Ia81fadfbca97cf887f857ef196af013747f4ce43
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/17/691717/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/baremetal.py'],1,a75dab5c0656ed39002dccaf93de870d20d54511,mistral-removal," return self.configure_boot(baremetal_client, image_client) def configure_boot(self, baremetal_client, image_client): inspector_client = self.get_baremetal_introspection_client(context) return self.configure_root_device(baremetal_client, inspector_client) def configure_root_device(self, baremetal_client, inspector_client): baremetal_client, inspector_client) overwrite=False, baremetal_client=None, inspector_client=None): baremetal_client.node.update("," context=context) overwrite=False, context=None): inspector_client = self.get_baremetal_introspection_client(context) bm_client = self.get_baremetal_client(context) bm_client.node.update(",12,5
openstack%2Fswift~stable%2Ftrain~I7a47e6260ed51a3b7d9665b3a4510520429ae158,openstack/swift,stable/train,I7a47e6260ed51a3b7d9665b3a4510520429ae158,Fix misleading error msg if swift.conf unreadable,MERGED,2019-11-05 00:48:33.000000000,2019-11-05 12:04:37.000000000,2019-11-05 12:03:04.000000000,"[{'_account_id': 6968}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 00:48:33.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/ring/test_ring.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/40f9b906801e3e725bbee38451c0dcfea05e7061', 'message': ""Fix misleading error msg if swift.conf unreadable\n\nSeveral tools are returning a misleading error message if swift.conf is\nmissing or not readable by the user, stating that the hash pre-/suffixes\nare missing. Let's fix this by catching the real issue down below.\n\nChange-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158\n""}]",0,692935,40f9b906801e3e725bbee38451c0dcfea05e7061,13,3,1,597,,,0,"Fix misleading error msg if swift.conf unreadable

Several tools are returning a misleading error message if swift.conf is
missing or not readable by the user, stating that the hash pre-/suffixes
are missing. Let's fix this by catching the real issue down below.

Change-Id: I7a47e6260ed51a3b7d9665b3a4510520429ae158
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/692935/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/common/ring/test_ring.py', 'test/unit/common/test_utils.py']",3,40f9b906801e3e725bbee38451c0dcfea05e7061,," # Unreadable/missing swift.conf causes IOError # We mock in case the unit tests are run on a laptop with SAIO, # which does have a natural /etc/swift/swift.conf. with mock.patch('swift.common.utils.HASH_PATH_PREFIX', b''), \ mock.patch('swift.common.utils.HASH_PATH_SUFFIX', b''), \ mock.patch('swift.common.utils.SWIFT_CONF_FILE', '/nosuchfile'), \ self.assertRaises(IOError): utils.validate_hash_conf() def readfp(self, fp): pass mock.patch('swift.common.utils.SWIFT_CONF_FILE', '/dev/null'), \"," def read(self, conf_path, encoding=None): return [conf_path]",34,21
openstack%2Fkolla-ansible~master~Ie5278832e293364c66d53ddb07dff9c5409f0cc6,openstack/kolla-ansible,master,Ie5278832e293364c66d53ddb07dff9c5409f0cc6,Fix empty match while setting supported_policy_files,MERGED,2019-11-04 17:18:45.000000000,2019-11-05 12:04:15.000000000,2019-11-05 11:33:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27330}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-04 17:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/efc87c73586643720a365a1d8641cfb4a8a1e69a', 'message': 'Fix empty match while setting supported_policy_files\n\nWhen supported_policy_files gets set under python 3.7 [1], the regex \'(.*)\'\nmatches twice, once for the policy file name and once more for the empty string\nthat follows the policy file name. This is new behavior under python\n3.7. [2]\n\nThis leads to the replacement string being written out twice resulting\nin something like this: ""nova_policy.yamlnova_"".\n\nThis patch changes the regex to \'(.+)\' ensuring there is no match success\nagainst the empty string.\n\n[1]:\n- set_fact:\n    supported_policy_files: ""{{ supported_policy_format_list | map(\'regex_replace\', \'(.*)\', \'{{ project_name }}_\\\\1\') | list }}""\n\n[2]: https://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: Ie5278832e293364c66d53ddb07dff9c5409f0cc6\nCloses-Bug: 1851249\n'}, {'number': 2, 'created': '2019-11-04 18:17:59.000000000', 'files': ['ansible/roles/horizon/tasks/policy_item.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d0ccad15aa358cdc6dc2f690bf181cb8354d150', 'message': 'Fix empty match while setting supported_policy_files\n\nWhen supported_policy_files gets set under python 3.7 [1], the regex \'(.*)\'\nmatches twice, once for the policy file name and once more for the empty string\nthat follows the policy file name. This is new behavior under python\n3.7. [2]\n\nThis leads to the replacement string being written out twice resulting\nin something like this: ""nova_policy.yamlnova_"".\n\nThis patch changes the regex to \'(.+)\' ensuring there is no match success\nagainst the empty string.\n\n[1]:\n- set_fact:\n    supported_policy_files: ""{{ supported_policy_format_list | map(\'regex_replace\', \'(.*)\', \'{{ project_name }}_\\\\1\') | list }}""\n\n[2]: https://docs.python.org/3/library/re.html#re.sub\n\nChange-Id: Ie5278832e293364c66d53ddb07dff9c5409f0cc6\nCloses-Bug: 1851249\n'}]",1,692855,9d0ccad15aa358cdc6dc2f690bf181cb8354d150,13,5,2,27330,,,0,"Fix empty match while setting supported_policy_files

When supported_policy_files gets set under python 3.7 [1], the regex '(.*)'
matches twice, once for the policy file name and once more for the empty string
that follows the policy file name. This is new behavior under python
3.7. [2]

This leads to the replacement string being written out twice resulting
in something like this: ""nova_policy.yamlnova_"".

This patch changes the regex to '(.+)' ensuring there is no match success
against the empty string.

[1]:
- set_fact:
    supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.*)', '{{ project_name }}_\\1') | list }}""

[2]: https://docs.python.org/3/library/re.html#re.sub

Change-Id: Ie5278832e293364c66d53ddb07dff9c5409f0cc6
Closes-Bug: 1851249
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/692855/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/tasks/policy_item.yml'],1,efc87c73586643720a365a1d8641cfb4a8a1e69a,bug/1851249," supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.+)', '{{ project_name }}_\\0') | list }}"""," supported_policy_files: ""{{ supported_policy_format_list | map('regex_replace', '(.*)', '{{ project_name }}_\\1') | list }}""",1,1
openstack%2Fkolla~master~I1c3b817712ae10edd45de01382b044af2fb728bd,openstack/kolla,master,I1c3b817712ae10edd45de01382b044af2fb728bd,Add effective and permitted capability to blackbox exporter,MERGED,2019-08-19 09:27:23.000000000,2019-11-05 12:03:44.000000000,2019-09-18 10:33:24.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 29915}]","[{'number': 1, 'created': '2019-08-19 09:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c84bb3491d84eef15844c7ea811eec45f10ecaf', 'message': ""Add effective and permitted capability to blackbox exporter\n\nThe ICMP probe in the Prometheus blackbox exporter requires\nelevated privileges to function. Linux root user or CAP_NET_RAW\ncapability is required. Can be set by executing setcap\ncap_net_raw+ep blackbox_exporter.\n\n'+ep' means we're adding the capability as effective and permitted.\n\nSee: https://github.com/prometheus/blackbox_exporter\n\nChange-Id: I1c3b817712ae10edd45de01382b044af2fb728bd\nCloses-Bug: #1840631\nCo-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>\n""}, {'number': 2, 'created': '2019-08-23 12:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8caa3e80ee6b450a74f53478fa29e0687f4e5888', 'message': ""Add effective and permitted capability to blackbox exporter\n\nThe ICMP probe in the Prometheus blackbox exporter requires\nelevated privileges to function. Linux root user or CAP_NET_RAW\ncapability is required. Can be set by executing setcap\ncap_net_raw+ep blackbox_exporter. This change also bumps the version\nof the blackbox exporter to the next minor version to allow for this\nsupport.\n\n'+ep' means we're adding the capability as effective and permitted.\n\nSee: https://github.com/prometheus/blackbox_exporter\n\nChange-Id: I1c3b817712ae10edd45de01382b044af2fb728bd\nCloses-Bug: #1840631\nCo-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>\n""}, {'number': 3, 'created': '2019-08-28 14:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/630ef91e48d89b3c4b5ffdaf3a2ac6baf78425ef', 'message': ""Add effective and permitted capability to blackbox exporter\n\nThe ICMP probe in the Prometheus blackbox exporter requires\nelevated privileges to function. Linux root user or CAP_NET_RAW\ncapability is required. Can be set by executing setcap\ncap_net_raw+ep blackbox_exporter. This change also bumps the version\nof the blackbox exporter to the next minor version to allow for this\nsupport.\n\n'+ep' means we're adding the capability as effective and permitted.\n\nSee: https://github.com/prometheus/blackbox_exporter\n\nChange-Id: I1c3b817712ae10edd45de01382b044af2fb728bd\nCloses-Bug: #1840631\nCo-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>\n""}, {'number': 4, 'created': '2019-09-04 10:37:31.000000000', 'files': ['docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5a4478b0fa9b775a9b5c45545e78e9215a50588', 'message': ""Add effective and permitted capability to blackbox exporter\n\nThe ICMP probe in the Prometheus blackbox exporter requires\nelevated privileges to function. Linux root user or CAP_NET_RAW\ncapability is required. Can be set by executing setcap\ncap_net_raw+ep blackbox_exporter. This change also bumps the version\nof the blackbox exporter to the next minor version to allow for this\nsupport.\n\n'+ep' means we're adding the capability as effective and permitted.\n\nSee: https://github.com/prometheus/blackbox_exporter\n\nChange-Id: I1c3b817712ae10edd45de01382b044af2fb728bd\nCloses-Bug: #1840631\nCo-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>\n""}]",0,677156,b5a4478b0fa9b775a9b5c45545e78e9215a50588,29,6,4,29543,,,0,"Add effective and permitted capability to blackbox exporter

The ICMP probe in the Prometheus blackbox exporter requires
elevated privileges to function. Linux root user or CAP_NET_RAW
capability is required. Can be set by executing setcap
cap_net_raw+ep blackbox_exporter. This change also bumps the version
of the blackbox exporter to the next minor version to allow for this
support.

'+ep' means we're adding the capability as effective and permitted.

See: https://github.com/prometheus/blackbox_exporter

Change-Id: I1c3b817712ae10edd45de01382b044af2fb728bd
Closes-Bug: #1840631
Co-authored-by: Jack Heskett <Jack.Heskett@gresearch.co.uk>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/677156/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-blackbox-exporter/Dockerfile.j2'],1,5c84bb3491d84eef15844c7ea811eec45f10ecaf,bug/1840631,RUN setcap cap_net_raw+ep /opt/blackbox_exporter/blackbox_exporter,,1,0
openstack%2Fironic~master~I4fe434bac000874701d7e7296a9e3d8af1764474,openstack/ironic,master,I4fe434bac000874701d7e7296a9e3d8af1764474,Add an option to require managed in-band inspection,ABANDONED,2019-11-05 11:14:01.000000000,2019-11-05 12:01:53.000000000,,[],"[{'number': 1, 'created': '2019-11-05 11:14:01.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9f61bb7e11cd8ff69d77acef6faf78866ab59d12', 'message': 'Add an option to require managed in-band inspection\n\nFor deployments where ironic-inspector does not have its own DHCP and\nPXE environment, we need an option to raise an error if a non-managed\nboot is requested. This change adds it.\n\nChange-Id: I4fe434bac000874701d7e7296a9e3d8af1764474\nStory: #1528920\nTask: #37363\n'}]",0,692982,9f61bb7e11cd8ff69d77acef6faf78866ab59d12,2,0,1,10239,,,0,"Add an option to require managed in-band inspection

For deployments where ironic-inspector does not have its own DHCP and
PXE environment, we need an option to raise an error if a non-managed
boot is requested. This change adds it.

Change-Id: I4fe434bac000874701d7e7296a9e3d8af1764474
Story: #1528920
Task: #37363
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/692982/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/conf/inspector.py', 'ironic/drivers/modules/inspector.py']",3,9f61bb7e11cd8ff69d77acef6faf78866ab59d12,story/1528920,"def _ironic_manages_boot(task, raise_exc=False): if raise_exc: raise if raise_exc: raise :raises: UnsupportedDriverExtension if CONF.inspector.require_managed_boot: _ironic_manages_boot(task, raise_exc=True) ironic_manages_boot = _ironic_manages_boot( task, raise_exc=CONF.inspector.require_managed_boot)",def _ironic_manages_boot(task): # NOTE(deva): this is not callable if inspector is disabled # so don't raise an exception -- just pass. pass ironic_manages_boot = _ironic_manages_boot(task),37,5
openstack%2Fpuppet-neutron~stable%2Frocky~I8a1bff166ee78dca402457fd1498e5906380c9ed,openstack/puppet-neutron,stable/rocky,I8a1bff166ee78dca402457fd1498e5906380c9ed,"Add agents.l3 ""radvd_user"" configuration option",MERGED,2019-11-04 11:49:39.000000000,2019-11-05 11:45:33.000000000,2019-11-05 11:45:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 11:49:39.000000000', 'files': ['manifests/agents/l3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0919aa8cd72d933e9925a9e64c08a5bcb0ae2087', 'message': 'Add agents.l3 ""radvd_user"" configuration option\n\nBased on new Neutron configuration option [1], it will allow to define\nthe user to run the radvd daemon in the L3 agent.\n\nBy default, the user will be ""root"", to solve the problem found in the\nrelated bug.\n\n[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\n\nConflicts:\n      manifests/agents/l3.pp\n\nChange-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed\nCloses-Bug: #1844688\n(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)\n(cherry picked from commit 1111e3dd2f8ae4f5c4bf921286d73dc833db868a)\n(cherry picked from commit 470cd27ef6e719b612217ffb7a3649e8ac29d067)\n'}]",0,692809,0919aa8cd72d933e9925a9e64c08a5bcb0ae2087,7,3,1,16688,,,0,"Add agents.l3 ""radvd_user"" configuration option

Based on new Neutron configuration option [1], it will allow to define
the user to run the radvd daemon in the L3 agent.

By default, the user will be ""root"", to solve the problem found in the
related bug.

[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff

Conflicts:
      manifests/agents/l3.pp

Change-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed
Closes-Bug: #1844688
(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)
(cherry picked from commit 1111e3dd2f8ae4f5c4bf921286d73dc833db868a)
(cherry picked from commit 470cd27ef6e719b612217ffb7a3649e8ac29d067)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/692809/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/l3.pp'],1,0919aa8cd72d933e9925a9e64c08a5bcb0ae2087,bug/1844688,"# [*radvd_user*] # (optional) The username passed to radvd, used to drop root privileges and # change user ID to username and group ID to the primary group of username. # If no user specified, the user executing the L3 agent will be passed. If # ""root"" specified, because radvd is spawned as root, no ""username"" parameter # will be passed. # $radvd_user = $::os_service_default, 'DEFAULT/radvd_user': value => $radvd_user;",,9,0
openstack%2Fpuppet-neutron~stable%2Fstein~I8a1bff166ee78dca402457fd1498e5906380c9ed,openstack/puppet-neutron,stable/stein,I8a1bff166ee78dca402457fd1498e5906380c9ed,"Add agents.l3 ""radvd_user"" configuration option",MERGED,2019-11-04 11:49:05.000000000,2019-11-05 11:45:32.000000000,2019-11-05 11:45:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 11:49:05.000000000', 'files': ['manifests/agents/l3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/470cd27ef6e719b612217ffb7a3649e8ac29d067', 'message': 'Add agents.l3 ""radvd_user"" configuration option\n\nBased on new Neutron configuration option [1], it will allow to define\nthe user to run the radvd daemon in the L3 agent.\n\nBy default, the user will be ""root"", to solve the problem found in the\nrelated bug.\n\n[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\n\nConflicts:\n      manifests/agents/l3.pp\n\nChange-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed\nCloses-Bug: #1844688\n(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)\n(cherry picked from commit 1111e3dd2f8ae4f5c4bf921286d73dc833db868a)\n'}]",0,692808,470cd27ef6e719b612217ffb7a3649e8ac29d067,7,3,1,16688,,,0,"Add agents.l3 ""radvd_user"" configuration option

Based on new Neutron configuration option [1], it will allow to define
the user to run the radvd daemon in the L3 agent.

By default, the user will be ""root"", to solve the problem found in the
related bug.

[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff

Conflicts:
      manifests/agents/l3.pp

Change-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed
Closes-Bug: #1844688
(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)
(cherry picked from commit 1111e3dd2f8ae4f5c4bf921286d73dc833db868a)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/08/692808/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/l3.pp'],1,470cd27ef6e719b612217ffb7a3649e8ac29d067,bug/1844688,"# [*radvd_user*] # (optional) The username passed to radvd, used to drop root privileges and # change user ID to username and group ID to the primary group of username. # If no user specified, the user executing the L3 agent will be passed. If # ""root"" specified, because radvd is spawned as root, no ""username"" parameter # will be passed. # $radvd_user = $::os_service_default, 'DEFAULT/radvd_user': value => $radvd_user;",,9,0
openstack%2Fpuppet-neutron~stable%2Ftrain~I8a1bff166ee78dca402457fd1498e5906380c9ed,openstack/puppet-neutron,stable/train,I8a1bff166ee78dca402457fd1498e5906380c9ed,"Add agents.l3 ""radvd_user"" configuration option",MERGED,2019-11-04 11:46:26.000000000,2019-11-05 11:45:31.000000000,2019-11-05 11:45:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 11:46:26.000000000', 'files': ['manifests/agents/l3.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1111e3dd2f8ae4f5c4bf921286d73dc833db868a', 'message': 'Add agents.l3 ""radvd_user"" configuration option\n\nBased on new Neutron configuration option [1], it will allow to define\nthe user to run the radvd daemon in the L3 agent.\n\nBy default, the user will be ""root"", to solve the problem found in the\nrelated bug.\n\n[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\n\nChange-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed\nCloses-Bug: #1844688\n(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)\n'}]",0,692807,1111e3dd2f8ae4f5c4bf921286d73dc833db868a,8,3,1,16688,,,0,"Add agents.l3 ""radvd_user"" configuration option

Based on new Neutron configuration option [1], it will allow to define
the user to run the radvd daemon in the L3 agent.

By default, the user will be ""root"", to solve the problem found in the
related bug.

[1] Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff

Change-Id: I8a1bff166ee78dca402457fd1498e5906380c9ed
Closes-Bug: #1844688
(cherry picked from commit ab1049ae014d927f29b08079a89914446bb9acb3)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/07/692807/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agents/l3.pp'],1,1111e3dd2f8ae4f5c4bf921286d73dc833db868a,bug/1844688-stable/train,"# [*radvd_user*] # (optional) The username passed to radvd, used to drop root privileges and # change user ID to username and group ID to the primary group of username. # If no user specified, the user executing the L3 agent will be passed. If # ""root"" specified, because radvd is spawned as root, no ""username"" parameter # will be passed. # $radvd_user = $::os_service_default, 'DEFAULT/radvd_user': value => $radvd_user;",,9,0
openstack%2Fswift~stable%2Ftrain~I96ad9e5ed87a7e08d06e889233730cec476d3af7,openstack/swift,stable/train,I96ad9e5ed87a7e08d06e889233730cec476d3af7,Make our py2 func tests more explicitly py2,MERGED,2019-11-05 08:34:50.000000000,2019-11-05 11:45:08.000000000,2019-11-05 11:41:25.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 08:34:50.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/a96e8c05c6268891c0bac3dfc7fb9ac50b2c51c3', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n'}]",0,692958,a96e8c05c6268891c0bac3dfc7fb9ac50b2c51c3,7,2,1,15343,,,0,"Make our py2 func tests more explicitly py2

...because otherwise, I think they might be running under py3 right now.

Change-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/692958/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a96e8c05c6268891c0bac3dfc7fb9ac50b2c51c3,,[testenv:func] basepython = python2.7 commands = ./.functests {posargs} basepython = python2.7basepython = python2.7basepython = python2.7basepython = python2.7,[testenv:func] basepython = python2.7 commands = ./.functests {posargs} ,32,28
openstack%2Fneutron-tempest-plugin~master~I0c1dfe77711a2904850fb1a240eb7cf807722af6,openstack/neutron-tempest-plugin,master,I0c1dfe77711a2904850fb1a240eb7cf807722af6,Fix list of API extensions for dvr and designate jobs,MERGED,2019-09-30 13:04:59.000000000,2019-11-05 11:41:24.000000000,2019-11-05 11:41:24.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 13:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/afe64881d2b7cf0370b8fcad4073b282946382ad', 'message': 'Fix list of API extensions for dvr and designate jobs\n\nFor jobs running on stable branches we need to use API extensions\nlist correct for each branch.\nThis patch sets it for dvr and designate jobs where we somehow\nmissed it and used always extensions list from master branch.\n\nChange-Id: I0c1dfe77711a2904850fb1a240eb7cf807722af6\n'}, {'number': 2, 'created': '2019-10-08 08:30:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a05c50e4dd8970372a73ffa168fcb4ffe51db5cd', 'message': 'Fix list of API extensions for dvr and designate jobs\n\nFor jobs running on stable branches we need to use API extensions\nlist correct for each branch.\nThis patch sets it for dvr and designate jobs where we somehow\nmissed it and used always extensions list from master branch.\n\nChange-Id: I0c1dfe77711a2904850fb1a240eb7cf807722af6\n'}]",0,685705,a05c50e4dd8970372a73ffa168fcb4ffe51db5cd,56,6,2,11975,,,0,"Fix list of API extensions for dvr and designate jobs

For jobs running on stable branches we need to use API extensions
list correct for each branch.
This patch sets it for dvr and designate jobs where we somehow
missed it and used always extensions list from master branch.

Change-Id: I0c1dfe77711a2904850fb1a240eb7cf807722af6
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/05/685705/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,afe64881d2b7cf0370b8fcad4073b282946382ad,fix-stable-branch-jobs, network_api_extensions_common: *api_extensions_queens network_api_extensions_common: *api_extensions_rocky network_api_extensions_common: *api_extensions_stein network_api_extensions_common: *api_extensions_queens network_api_extensions_common: *api_extensions_rocky network_api_extensions_common: *api_extensions_stein,,6,0
openstack%2Fkolla-ansible~stable%2Frocky~Ief73bbd24568d6941384ea3330ab45f11aa42d37,openstack/kolla-ansible,stable/rocky,Ief73bbd24568d6941384ea3330ab45f11aa42d37,Fix nova scheduler down after first docker restart,MERGED,2019-10-30 19:26:13.000000000,2019-11-05 11:35:08.000000000,2019-11-05 11:33:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-30 19:26:13.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4734437b1d828013384cb20475981def569d6af', 'message': ""Fix nova scheduler down after first docker restart\n\nDue to a Docker bug [1] we cannot use Docker to send\nSIGHUP to the container because it will mark it as\nstopped.\nThis patch sends the signal directly to the process,\nbypassing Docker.\n\n'changed_when: false' is also removed from the\nrelevant task as it definitely changes the state.\nIn the future we could do the refresh only if\nthere really is a need for another one.\n\n[1] https://github.com/moby/moby/issues/11065\n\nChange-Id: Ief73bbd24568d6941384ea3330ab45f11aa42d37\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nCloses-Bug: #1845244\n(cherry picked from commit 6bdf202658e08bb9f43ca50334587b05dc4bac03)\n(cherry picked from commit 2242fceb73abac54ef46acb41997bf81a77692a3)\n""}]",0,692213,d4734437b1d828013384cb20475981def569d6af,9,4,1,30491,,,0,"Fix nova scheduler down after first docker restart

Due to a Docker bug [1] we cannot use Docker to send
SIGHUP to the container because it will mark it as
stopped.
This patch sends the signal directly to the process,
bypassing Docker.

'changed_when: false' is also removed from the
relevant task as it definitely changes the state.
In the future we could do the refresh only if
there really is a need for another one.

[1] https://github.com/moby/moby/issues/11065

Change-Id: Ief73bbd24568d6941384ea3330ab45f11aa42d37
Co-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Closes-Bug: #1845244
(cherry picked from commit 6bdf202658e08bb9f43ca50334587b05dc4bac03)
(cherry picked from commit 2242fceb73abac54ef46acb41997bf81a77692a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/692213/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,d4734437b1d828013384cb20475981def569d6af,," # NOTE(yoctozepto): Normally we would send the signal via Docker but, due to a # Docker bug (https://github.com/moby/moby/issues/11065), this might cause the # container to be stopped if we restart Docker or reboot the server as we # use the 'unless-stopped' restart policy by default. shell: ""kill -HUP `docker inspect -f '{% raw %}{{.State.Pid}}{% endraw %}' nova_scheduler`""", command: docker kill --signal HUP nova_scheduler changed_when: False,5,2
openstack%2Fkolla-ansible~stable%2Fstein~I177113c606119505c6cb69c66a326f7cbdaf2196,openstack/kolla-ansible,stable/stein,I177113c606119505c6cb69c66a326f7cbdaf2196,Updated ansible uri module HEADERS_ field,MERGED,2019-11-04 17:46:45.000000000,2019-11-05 11:32:59.000000000,2019-11-05 11:31:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30322}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-11-04 17:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c3c52d2ded6b1c89d01cdd1d0dcfadae575aab0', 'message': ""Updated ansible uri module HEADERS_ field\n\nThis fixes a deprecation warning that gets displayed when running\nthe kibana/post_config 'Get kibana default indexes' task.\n\nHEADERS_ has been deprecated since ansible 2.1 and will be\nremoved in 2.9.\n\nhttps://docs.ansible.com/ansible/latest/modules/uri_module.html\n\nTrivialFix\n\nChange-Id: I177113c606119505c6cb69c66a326f7cbdaf2196\n(cherry picked from commit 726ba753417fc3d1338b90b8c6d59479e8987f45)\n""}, {'number': 2, 'created': '2019-11-04 17:47:37.000000000', 'files': ['ansible/roles/kibana/tasks/post_config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79c2546d831504fa570389a611001c8af06fadd8', 'message': ""Updated ansible uri module HEADERS_ field\n\nThis fixes a deprecation warning that gets displayed when running\nthe kibana/post_config 'Get kibana default indexes' task.\n\nHEADERS_ has been deprecated since ansible 2.1 and will be\nremoved in 2.9.\n\nhttps://docs.ansible.com/ansible/latest/modules/uri_module.html\n\nThis fixes Ansible 2.9 support.\n\nChange-Id: I177113c606119505c6cb69c66a326f7cbdaf2196\nCloses-bug: #1851258\n(cherry picked from commit 726ba753417fc3d1338b90b8c6d59479e8987f45)\n""}]",0,692859,79c2546d831504fa570389a611001c8af06fadd8,13,6,2,30491,,,0,"Updated ansible uri module HEADERS_ field

This fixes a deprecation warning that gets displayed when running
the kibana/post_config 'Get kibana default indexes' task.

HEADERS_ has been deprecated since ansible 2.1 and will be
removed in 2.9.

https://docs.ansible.com/ansible/latest/modules/uri_module.html

This fixes Ansible 2.9 support.

Change-Id: I177113c606119505c6cb69c66a326f7cbdaf2196
Closes-bug: #1851258
(cherry picked from commit 726ba753417fc3d1338b90b8c6d59479e8987f45)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/692859/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kibana/tasks/post_config.yml'],1,9c3c52d2ded6b1c89d01cdd1d0dcfadae575aab0,bug/1851258, headers: Content-Type: application/json, HEADER_Content-Type: application/json,2,1
openstack%2Fmistral~master~Ife98c47af59355540fa30d7ca762f857759c1274,openstack/mistral,master,Ife98c47af59355540fa30d7ca762f857759c1274,tox: Keeping going with docs,MERGED,2019-10-24 13:13:38.000000000,2019-11-05 11:09:10.000000000,2019-11-05 11:07:30.000000000,"[{'_account_id': 6928}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-10-24 13:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/34eb7e582ae601b041e6f2216fb9c8fdff33de07', 'message': 'tox: Keeping going with docs\n\nChange-Id: Ife98c47af59355540fa30d7ca762f857759c1274\n'}, {'number': 2, 'created': '2019-10-24 13:20:28.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6e8921812599f9f51cd7e90c8bbb2291a206ed5b', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: Ife98c47af59355540fa30d7ca762f857759c1274\n""}]",0,690972,6e8921812599f9f51cd7e90c8bbb2291a206ed5b,17,6,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: Ife98c47af59355540fa30d7ca762f857759c1274
",git fetch https://review.opendev.org/openstack/mistral refs/changes/72/690972/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,34eb7e582ae601b041e6f2216fb9c8fdff33de07,, sphinx-build -E -W --keep-going -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html sphinx-build -W --keep-going -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html, sphinx-build -E -W -b html doc/source doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html,6,6
openstack%2Fneutron~stable%2Fqueens~Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,openstack/neutron,stable/queens,Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,Log OVS firewall conjunction creation,MERGED,2019-10-31 12:02:17.000000000,2019-11-05 11:08:19.000000000,2019-11-05 11:08:19.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 12:02:17.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe57823263b01cf378b2493870b0cc2e657c3b77', 'message': 'Log OVS firewall conjunction creation\n\nIn order to assist debugging of OVS flows involving conjunctions, log\nthe conjunction ID and other pertinent details.  Without this, there is\nno good way to verify the port was added to the correct conjunction.\n\nChange-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f\n(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)\n'}]",0,692355,fe57823263b01cf378b2493870b0cc2e657c3b77,9,5,1,13995,,,0,"Log OVS firewall conjunction creation

In order to assist debugging of OVS flows involving conjunctions, log
the conjunction ID and other pertinent details.  Without this, there is
no good way to verify the port was added to the correct conjunction.

Change-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f
(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/692355/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,fe57823263b01cf378b2493870b0cc2e657c3b77,log_conjunction_id-stable/queens," LOG.debug(""Created conjunction %(conj_id)s for SG %(sg_id)s "" ""referencing remote SG ID %(remote_sg_id)s on port "" ""%(port_id)s."", {'conj_id': conj_id, 'sg_id': sec_group_id, 'remote_sg_id': rule['remote_group_id'], 'port_id': port.id})",,7,0
openstack%2Fneutron~stable%2Frocky~Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,openstack/neutron,stable/rocky,Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f,Log OVS firewall conjunction creation,MERGED,2019-10-31 12:02:00.000000000,2019-11-05 11:08:16.000000000,2019-11-05 11:08:16.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 12:02:00.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f85cfe395d57a84cc9453c9697236d78e0f15478', 'message': 'Log OVS firewall conjunction creation\n\nIn order to assist debugging of OVS flows involving conjunctions, log\nthe conjunction ID and other pertinent details.  Without this, there is\nno good way to verify the port was added to the correct conjunction.\n\nChange-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f\n(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)\n'}]",0,692354,f85cfe395d57a84cc9453c9697236d78e0f15478,12,6,1,13995,,,0,"Log OVS firewall conjunction creation

In order to assist debugging of OVS flows involving conjunctions, log
the conjunction ID and other pertinent details.  Without this, there is
no good way to verify the port was added to the correct conjunction.

Change-Id: Ie9c3eaa9c828ef5a0a68a286bc0465f2bcd00a4f
(cherry picked from commit 4b67a06403c1fad9578f23f9aa72f8d8c925e2b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/692354/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/openvswitch_firewall/firewall.py'],1,f85cfe395d57a84cc9453c9697236d78e0f15478,log_conjunction_id-stable/rocky," LOG.debug(""Created conjunction %(conj_id)s for SG %(sg_id)s "" ""referencing remote SG ID %(remote_sg_id)s on port "" ""%(port_id)s."", {'conj_id': conj_id, 'sg_id': sec_group_id, 'remote_sg_id': rule['remote_group_id'], 'port_id': port.id})",,7,0
openstack%2Ftripleo-quickstart-extras~master~I4aa7e828d5c16c8a365a54106cf4b6819a9780e4,openstack/tripleo-quickstart-extras,master,I4aa7e828d5c16c8a365a54106cf4b6819a9780e4,Disable registry login for reproducer,ABANDONED,2019-09-25 17:15:52.000000000,2019-11-05 11:03:27.000000000,,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11082}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-09-25 17:15:52.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c9accca751d730e72816dfbfd56c5cf78aaad0ec', 'message': 'Disable registry login for reproducer\n\nWe have container registry login in every rdo job,\nset it to false for reproducer.\nChange-Id: I4aa7e828d5c16c8a365a54106cf4b6819a9780e4\n'}]",0,684811,c9accca751d730e72816dfbfd56c5cf78aaad0ec,12,8,1,10969,,,0,"Disable registry login for reproducer

We have container registry login in every rdo job,
set it to false for reproducer.
Change-Id: I4aa7e828d5c16c8a365a54106cf4b6819a9780e4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/11/684811/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,c9accca751d730e72816dfbfd56c5cf78aaad0ec,, registry_login_enabled: false,,1,0
openstack%2Ftripleo-quickstart-extras~master~I102683b637d60afbdb3898c811ba5961b69fede4,openstack/tripleo-quickstart-extras,master,I102683b637d60afbdb3898c811ba5961b69fede4,[reproducer]Set registry_login_enabled to false,MERGED,2019-10-14 10:29:44.000000000,2019-11-05 11:03:06.000000000,2019-10-15 07:02:05.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-14 10:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a63ee67255478e8d6949c92da46562ee7bc78d6', 'message': '[reproducer]Set registry_login_enabled to false\n\nSince in reproducer, there is no access to RDO registry and\nin our jobs registry_login_enabled: true is enabled by default and\nit tries to authenticate with the registry and we have no credentials\nleading to failure in the base job itself.\n\nSetting it to false fixes the issue.\n\nChange-Id: I102683b637d60afbdb3898c811ba5961b69fede4\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-10-14 10:31:39.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85be5ea1e60fca94d8d9ea29e19322f7836f3306', 'message': '[reproducer]Set registry_login_enabled to false\n\nSince in reproducer, there is no access to RDO registry and\nin our jobs registry_login_enabled: true is enabled by\ndefault [1.] and it tries to authenticate with the registry and\nwe have no credentials leading to failure in the base job itself.\n\nSetting it to false fixes the issue.\n\n[1.] https://review.rdoproject.org/r/#/c/22304/\n\nChange-Id: I102683b637d60afbdb3898c811ba5961b69fede4\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,688377,85be5ea1e60fca94d8d9ea29e19322f7836f3306,13,7,2,12393,,,0,"[reproducer]Set registry_login_enabled to false

Since in reproducer, there is no access to RDO registry and
in our jobs registry_login_enabled: true is enabled by
default [1.] and it tries to authenticate with the registry and
we have no credentials leading to failure in the base job itself.

Setting it to false fixes the issue.

[1.] https://review.rdoproject.org/r/#/c/22304/

Change-Id: I102683b637d60afbdb3898c811ba5961b69fede4
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/688377/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2'],1,6a63ee67255478e8d6949c92da46562ee7bc78d6,reproducer, registry_login_enabled: false,,1,0
openstack%2Fneutron~master~I72082226e6b3930efb537cab9d979e5770211f72,openstack/neutron,master,I72082226e6b3930efb537cab9d979e5770211f72,Move migration to proper dir and fix objects tests,MERGED,2019-10-31 07:39:07.000000000,2019-11-05 11:00:16.000000000,2019-11-05 10:58:32.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-31 07:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73fd0f9aaca369b860986a86d296e452fb6eb0d6', 'message': 'Move migration to proper dir and fix objects tests\n\nThis is an alternative to revert patch:\nhttps://review.opendev.org/#/c/691710/\n\nChange-Id: I72082226e6b3930efb537cab9d979e5770211f72\nCloses-Bug: #1849976\n'}, {'number': 2, 'created': '2019-10-31 09:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c82b1ddddadba718be776dcb47facd164a6bb4b', 'message': 'Move migration to proper dir and fix objects tests\n\nThis is an alternative to revert patch:\nhttps://review.opendev.org/#/c/691710/\n\nChange-Id: I72082226e6b3930efb537cab9d979e5770211f72\nCloses-Bug: #1849976\n'}, {'number': 3, 'created': '2019-10-31 09:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/133ba85795096e3753189a13eb340d878373294d', 'message': 'Move migration to proper dir and fix objects tests\n\nThis is an alternative to revert patch:\nhttps://review.opendev.org/#/c/691710/\n\nChange-Id: I72082226e6b3930efb537cab9d979e5770211f72\nCloses-Bug: #1849976\n'}, {'number': 4, 'created': '2019-11-01 06:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb5a58d59ea415efa1eef7df036db6a08be8e174', 'message': 'Move migration to proper dir and fix objects tests\n\nThis is an alternative to revert patch:\nhttps://review.opendev.org/#/c/691710/\n\nChange-Id: I72082226e6b3930efb537cab9d979e5770211f72\nCloses-Bug: #1849976\n'}, {'number': 5, 'created': '2019-11-04 17:44:44.000000000', 'files': ['neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a3c53e411769141adc44b14af5efb854359af1a', 'message': 'Move migration to proper dir and fix objects tests\n\nThis is an alternative to revert patch:\nhttps://review.opendev.org/#/c/691710/\n\nChange-Id: I72082226e6b3930efb537cab9d979e5770211f72\nCloses-Bug: #1849976\n'}]",3,692285,0a3c53e411769141adc44b14af5efb854359af1a,56,11,5,5948,,,0,"Move migration to proper dir and fix objects tests

This is an alternative to revert patch:
https://review.opendev.org/#/c/691710/

Change-Id: I72082226e6b3930efb537cab9d979e5770211f72
Closes-Bug: #1849976
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/692285/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/network_dhcp_agent_binding/models.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/c3e9d13c4367_add_binding_index_to_.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/86274d77933e_change_mtu_to_not_null.py', 'neutron/tests/unit/objects/test_network.py']",5,73fd0f9aaca369b860986a86d296e452fb6eb0d6,bug/1849976," index = iter(range(1, len(self.objs) + 2)) 'dhcp_agent_id': lambda: self._create_test_agent_id(), 'binding_index': lambda: next(index)})", 'dhcp_agent_id': lambda: self._create_test_agent_id()}),8,7
openstack%2Fcookbook-openstack-dashboard~master~Ic188e6ec87cb59d9311787fa36defd193116c2b0,openstack/cookbook-openstack-dashboard,master,Ic188e6ec87cb59d9311787fa36defd193116c2b0,Switch to using wsgi.py as wsgi/django.wsgi has been deprecated,MERGED,2019-10-23 00:16:10.000000000,2019-11-05 10:47:39.000000000,2019-11-05 10:47:39.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 00:16:10.000000000', 'files': ['attributes/default.rb', 'spec/apache2-server_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-dashboard/commit/b9ae8b555fdfcf346a85fc98db243c8ff68c8fb1', 'message': ""Switch to using wsgi.py as wsgi/django.wsgi has been deprecated\n\nThe following is included in django.wsgi:\n\n```\nUse of this 'djano.wsgi' file has been deprecated since the Rocky\nrelease in favor of 'wsgi.py' in the 'openstack_dashboard' module. This\nfile is a legacy naming from before Django 1.4 and an importable\n'wsgi.py' is now the default. This file will be removed in the T release\ncycle.\n```\n\nChange-Id: Ic188e6ec87cb59d9311787fa36defd193116c2b0\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n""}]",0,690451,b9ae8b555fdfcf346a85fc98db243c8ff68c8fb1,7,2,1,21961,,,0,"Switch to using wsgi.py as wsgi/django.wsgi has been deprecated

The following is included in django.wsgi:

```
Use of this 'djano.wsgi' file has been deprecated since the Rocky
release in favor of 'wsgi.py' in the 'openstack_dashboard' module. This
file is a legacy naming from before Django 1.4 and an importable
'wsgi.py' is now the default. This file will be removed in the T release
cycle.
```

Change-Id: Ic188e6ec87cb59d9311787fa36defd193116c2b0
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-dashboard refs/changes/51/690451/1 && git format-patch -1 --stdout FETCH_HEAD,"['attributes/default.rb', 'spec/apache2-server_spec.rb']",2,b9ae8b555fdfcf346a85fc98db243c8ff68c8fb1,wsgi.py, expect(chef_run).to render_file(file.name).with_content(%r{^\s*WSGIScriptAlias / /usr/share/openstack-dashboard/openstack_dashboard/wsgi.py$}), expect(chef_run).to render_file(file.name).with_content(%r{^\s*WSGIScriptAlias / /usr/share/openstack-dashboard/openstack_dashboard/wsgi/django.wsgi$}),2,2
openstack%2Fcookbook-openstack-telemetry~master~I06ee3681ff8bc90f15b2b0ecbdcaebe475709b31,openstack/cookbook-openstack-telemetry,master,I06ee3681ff8bc90f15b2b0ecbdcaebe475709b31,Fixes to support fog-openstack-1.x,MERGED,2019-10-07 22:11:21.000000000,2019-11-05 10:47:38.000000000,2019-11-05 10:47:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 22:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/d5404e9bb3e66be6ca70ffd622c951f370d4464e', 'message': 'Fixes to support fog-openstack-1.x\n\nfog-openstack-1.x already appends ""auth/tokens"" so we no longer need to\ndo that.\n\nChange-Id: I06ee3681ff8bc90f15b2b0ecbdcaebe475709b31\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}, {'number': 2, 'created': '2019-10-14 13:46:50.000000000', 'files': ['spec/identity_registration_spec.rb', 'recipes/identity_registration.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-telemetry/commit/fd3d9ceb621e5f82a8278cce23e623393a98c160', 'message': 'Fixes to support fog-openstack-1.x\n\nfog-openstack-1.x already appends ""auth/tokens"" so we no longer need to\ndo that.\n\nIn addition, re-add openstack_endpoint_type which is now fixed now that this [1]\nhas been released upstream.\n\n[1] https://github.com/fog/fog-openstack/pull/494\n\nChange-Id: I06ee3681ff8bc90f15b2b0ecbdcaebe475709b31\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n'}]",0,687173,fd3d9ceb621e5f82a8278cce23e623393a98c160,8,2,2,21961,,,0,"Fixes to support fog-openstack-1.x

fog-openstack-1.x already appends ""auth/tokens"" so we no longer need to
do that.

In addition, re-add openstack_endpoint_type which is now fixed now that this [1]
has been released upstream.

[1] https://github.com/fog/fog-openstack/pull/494

Change-Id: I06ee3681ff8bc90f15b2b0ecbdcaebe475709b31
Signed-off-by: Lance Albertson <lance@osuosl.org>
",git fetch https://review.opendev.org/openstack/cookbook-openstack-telemetry refs/changes/73/687173/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/identity_registration_spec.rb', 'recipes/identity_registration.rb']",2,d5404e9bb3e66be6ca70ffd622c951f370d4464e,fog-openstack-1.x," openstack_auth_url: auth_url,"," openstack_auth_url: ""#{auth_url}/auth/tokens"",",2,2
openstack%2Ftripleo-common~master~I47599d20d5b9c78b50211026ded4dbd6217b3ea8,openstack/tripleo-common,master,I47599d20d5b9c78b50211026ded4dbd6217b3ea8,Fix loosing locking info for ImageUploadManager,ABANDONED,2019-11-05 10:27:02.000000000,2019-11-05 10:36:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}]","[{'number': 1, 'created': '2019-11-05 10:27:02.000000000', 'files': ['tripleo_common/image/kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7af6bbf397dc3cf4af5cb2186c3b38ff13f91822', 'message': 'Fix loosing locking info for ImageUploadManager\n\nWhen calling ImageUploadManager we are normally passing the locking\ninformation. Fix the place it misses that information, which may lead\nto unpredictable data races otherwise.\n\nChange-Id: I47599d20d5b9c78b50211026ded4dbd6217b3ea8\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,692973,7af6bbf397dc3cf4af5cb2186c3b38ff13f91822,4,2,1,6926,,,0,"Fix loosing locking info for ImageUploadManager

When calling ImageUploadManager we are normally passing the locking
information. Fix the place it misses that information, which may lead
to unpredictable data races otherwise.

Change-Id: I47599d20d5b9c78b50211026ded4dbd6217b3ea8
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/692973/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/kolla_builder.py'],1,7af6bbf397dc3cf4af5cb2186c3b38ff13f91822,," detect_insecure_registries(params, lock=lock))def detect_insecure_registries(params, lock=None): uploader = image_uploader.ImageUploadManager(lock=lock).uploader('python')", detect_insecure_registries(params))def detect_insecure_registries(params): uploader = image_uploader.ImageUploadManager().uploader('python'),3,3
openstack%2Fpython-mistralclient~master~I129ce91b6d25075306d92904e1bdaf0edf94d25d,openstack/python-mistralclient,master,I129ce91b6d25075306d92904e1bdaf0edf94d25d,tox: Keeping going with docs,MERGED,2019-10-24 13:10:43.000000000,2019-11-05 10:26:04.000000000,2019-11-05 10:22:34.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 13:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/10588705a4ac6473c191fcc39b09055d4fa4aecf', 'message': 'tox: Keeping going with docs\n\nChange-Id: I129ce91b6d25075306d92904e1bdaf0edf94d25d\n'}, {'number': 2, 'created': '2019-10-24 13:18:41.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/be58c547212ad495f3325bb8301ef29efb3dd697', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I129ce91b6d25075306d92904e1bdaf0edf94d25d\n""}]",0,690970,be58c547212ad495f3325bb8301ef29efb3dd697,9,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I129ce91b6d25075306d92904e1bdaf0edf94d25d
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/70/690970/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",3,10588705a4ac6473c191fcc39b09055d4fa4aecf,, sphinx-build -W --keep-going -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -W -b html doc/source doc/build/htmlcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,5,5
openstack%2Fpython-mistralclient~master~Ib20f0b94b2f6e40fb0e86ab1535bbd241f4315f2,openstack/python-mistralclient,master,Ib20f0b94b2f6e40fb0e86ab1535bbd241f4315f2,Switch to Ussuri jobs,MERGED,2019-10-22 06:15:49.000000000,2019-11-05 10:25:06.000000000,2019-11-05 10:22:33.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 06:15:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/da8d67d08e66e04c93c687838c02be2bfa9dc0ae', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ib20f0b94b2f6e40fb0e86ab1535bbd241f4315f2\n'}]",0,689964,da8d67d08e66e04c93c687838c02be2bfa9dc0ae,8,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ib20f0b94b2f6e40fb0e86ab1535bbd241f4315f2
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/64/689964/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,da8d67d08e66e04c93c687838c02be2bfa9dc0ae,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-ci~master~I9b11419083a20249b5ffe398e3de00ae2d13bf3f,openstack/tripleo-ci,master,I9b11419083a20249b5ffe398e3de00ae2d13bf3f,Set rhcloud provider settings for reproducer,MERGED,2019-09-27 10:32:45.000000000,2019-11-05 10:18:53.000000000,2019-11-05 10:18:53.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-27 10:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/68cedb66c61a6143be6871168d6c8f6bbb0a518c', 'message': '[DNM] Test queens with rhcloud provider settings\n\nChange-Id: I9b11419083a20249b5ffe398e3de00ae2d13bf3f\n'}, {'number': 2, 'created': '2019-10-14 11:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a35daa7651c3a13ef02706668a24d65f6887bd7', 'message': 'Set rhcloud provider settings for reproducer\n\nNodepool provider name for zuul based reproducer is\nreproducer-rdo-cloud, set rhcloud to rdocloud when\nnodepool provider matchesreproducer-rdo-cloud so same\nset of variables as CI are used while reproducing.\n\nChange-Id: I9b11419083a20249b5ffe398e3de00ae2d13bf3f\n'}, {'number': 3, 'created': '2019-11-04 12:11:56.000000000', 'files': ['roles/common/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e795a1b9be57d8a4596bf6e81c5a817c50608aa', 'message': 'Set rhcloud provider settings for reproducer\n\nNodepool provider name for zuul based reproducer is\ndynamic like:- <ansible_hostname>-<cloudname>,\nset rhcloud to rdocloud/vexxhost based on reproducer\nsettings whenever it nodepool_provider matches cloudname\ninstead of hardcoding to CI nodepool providers.\nThis will make same set of variables as CI are used\nwhile reproducing.\n\nChange-Id: I9b11419083a20249b5ffe398e3de00ae2d13bf3f\n'}]",2,685316,7e795a1b9be57d8a4596bf6e81c5a817c50608aa,21,8,3,13861,,,0,"Set rhcloud provider settings for reproducer

Nodepool provider name for zuul based reproducer is
dynamic like:- <ansible_hostname>-<cloudname>,
set rhcloud to rdocloud/vexxhost based on reproducer
settings whenever it nodepool_provider matches cloudname
instead of hardcoding to CI nodepool providers.
This will make same set of variables as CI are used
while reproducing.

Change-Id: I9b11419083a20249b5ffe398e3de00ae2d13bf3f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/685316/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/common/vars/main.yaml', 'zuul.d/layout.yaml']",2,68cedb66c61a6143be6871168d6c8f6bbb0a518c,685316,," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - tripleo-tox-molecule - openstack-tox-py27: &files success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ - openstack-tox-py35: <<: *files - tripleo-buildimage-overcloud-full-centos-7: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario012-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: master - tripleo-ci-centos-7-containers-undercloud-minion: files: - ^zuul.d/multinode-jobs.yaml$ gate: queue: tripleo jobs: # Don't put a files section on the linters job, otherwise no # jobs might be defined and nothing can merge in this repo. - openstack-tox-linters - tripleo-tox-molecule - openstack-tox-py27: files: - ^scripts/emit_releases_file/.*$ - openstack-tox-py35: files: - ^scripts/emit_releases_file/.*$ - openstack-tox-pep8: files: - ^scripts/emit_releases_file/.*$ - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-stein: branches: master",1,75
openstack%2Fswift~master~I96ad9e5ed87a7e08d06e889233730cec476d3af7,openstack/swift,master,I96ad9e5ed87a7e08d06e889233730cec476d3af7,Make our py2 func tests more explicitly py2,MERGED,2019-11-05 01:55:35.000000000,2019-11-05 09:50:05.000000000,2019-11-05 09:47:24.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-05 01:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f06b6931bd320ad50088ced055fc863e231333d0', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n'}, {'number': 2, 'created': '2019-11-05 02:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69228b81c0ea4ce4a33f935336aee4598d94d5be', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n'}, {'number': 3, 'created': '2019-11-05 02:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7574cb676ac67633cc60245b0bde39a06dd17116', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n'}, {'number': 4, 'created': '2019-11-05 02:47:54.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/c512574e110c214396658743e75ae497ba76e2ff', 'message': 'Make our py2 func tests more explicitly py2\n\n...because otherwise, I think they might be running under py3 right now.\n\nChange-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7\n'}]",0,692938,c512574e110c214396658743e75ae497ba76e2ff,18,3,4,15343,,,0,"Make our py2 func tests more explicitly py2

...because otherwise, I think they might be running under py3 right now.

Change-Id: I96ad9e5ed87a7e08d06e889233730cec476d3af7
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/692938/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/playbooks/multinode_setup/run.yaml', '.zuul.yaml', 'tox.ini']",3,f06b6931bd320ad50088ced055fc863e231333d0,,[testenv:func-py2] basepython = python2.7 commands = ./.functests {posargs} [testenv:func-encryption-py2] basepython = python2.7[testenv:func-domain-remap-staticweb-py2] basepython = python2.7[testenv:func-ec-py2] basepython = python2.7[testenv:func-s3api-py2] basepython = python2.7,[testenv:func] basepython = python2.7 commands = ./.functests {posargs} [testenv:func-encryption][testenv:func-domain-remap-staticweb][testenv:func-ec][testenv:func-s3api],28,24
openstack%2Fcoverage2sql~master~Iae6bc9ae92fe61385c424923eaad35dc449880e9,openstack/coverage2sql,master,Iae6bc9ae92fe61385c424923eaad35dc449880e9,Add PDF documentation build,MERGED,2019-10-02 09:49:29.000000000,2019-11-05 09:35:41.000000000,2019-11-05 09:34:12.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 09:49:29.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/1f3763636b1193b97664f3d9269a82428d28f19b', 'message': ""Add PDF documentation build\n\nThis commit adds PDF documentation build target 'pdf-docs' that will\nbuild PDF versions of our docs. And this commit also updates 'docs'\ntarget to use sphinx-build command as well as 'pdf-docs' target.\n\nThis is one of the Train community goals:\n\n https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Iae6bc9ae92fe61385c424923eaad35dc449880e9\nStory: #2006070\nTask: #35455\n""}]",0,686118,1f3763636b1193b97664f3d9269a82428d28f19b,8,3,1,5689,,,0,"Add PDF documentation build

This commit adds PDF documentation build target 'pdf-docs' that will
build PDF versions of our docs. And this commit also updates 'docs'
target to use sphinx-build command as well as 'pdf-docs' target.

This is one of the Train community goals:

 https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Change-Id: Iae6bc9ae92fe61385c424923eaad35dc449880e9
Story: #2006070
Task: #35455
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/18/686118/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,1f3763636b1193b97664f3d9269a82428d28f19b,build-pdf-docs,commands = sphinx-build -W -b html doc/source doc/build/html [testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,commands = python setup.py build_sphinx,23,5
openstack%2Fmistral~master~Idad23d1f6e369e74886557033c8d5d8ff264910d,openstack/mistral,master,Idad23d1f6e369e74886557033c8d5d8ff264910d,Switch to Ussuri jobs,MERGED,2019-10-22 05:59:52.000000000,2019-11-05 09:13:51.000000000,2019-11-05 09:11:29.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:59:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/714ba028a2dd88f613676d867c34d95899255a67', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Idad23d1f6e369e74886557033c8d5d8ff264910d\n'}]",0,689951,714ba028a2dd88f613676d867c34d95899255a67,16,3,1,30077,,,0,"Switch to Ussuri jobs

Change-Id: Idad23d1f6e369e74886557033c8d5d8ff264910d
",git fetch https://review.opendev.org/openstack/mistral refs/changes/51/689951/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,714ba028a2dd88f613676d867c34d95899255a67,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fopenstack-zuul-jobs~master~I9338ddd1ef3133965c1d8f3cdb56c0cfc27c2dc0,openstack/openstack-zuul-jobs,master,I9338ddd1ef3133965c1d8f3cdb56c0cfc27c2dc0,Remove unused legacy puppet-syntax template,MERGED,2019-11-02 08:07:02.000000000,2019-11-05 09:12:48.000000000,2019-11-05 09:09:39.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-02 08:07:02.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3510483332cc4e82c3feb9b27d16064b00c08767', 'message': 'Remove unused legacy puppet-syntax template\n\nThe jobs have been removed in I8d4f7733fcba75a89d769bac60de00c9adc27cff,\nbut this template was still left over unused, remove it.\n\nChange-Id: I9338ddd1ef3133965c1d8f3cdb56c0cfc27c2dc0\n'}]",0,692641,3510483332cc4e82c3feb9b27d16064b00c08767,8,3,1,6547,,,0,"Remove unused legacy puppet-syntax template

The jobs have been removed in I8d4f7733fcba75a89d769bac60de00c9adc27cff,
but this template was still left over unused, remove it.

Change-Id: I9338ddd1ef3133965c1d8f3cdb56c0cfc27c2dc0
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/41/692641/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-project-templates.yaml'],1,3510483332cc4e82c3feb9b27d16064b00c08767,puppet-syntax,, - project-template: name: puppet-syntax check: jobs: - legacy-puppet-syntax-4-centos-7 gate: jobs: - legacy-puppet-syntax-4-centos-7,0,9
openstack%2Fmistral-tempest-plugin~master~If027d55cea9fd88fadbb1539bbe713b2c2a7bd29,openstack/mistral-tempest-plugin,master,If027d55cea9fd88fadbb1539bbe713b2c2a7bd29,tox: Keeping going with docs,MERGED,2019-10-24 13:10:20.000000000,2019-11-05 09:11:30.000000000,2019-11-05 09:11:30.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 13:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/decd302e4a3f0834d761472945fb3fcb23490a29', 'message': 'tox: Keeping going with docs\n\nChange-Id: If027d55cea9fd88fadbb1539bbe713b2c2a7bd29\n'}, {'number': 2, 'created': '2019-10-24 13:25:45.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/9bd2ff9607411994318f25be4bf1fb6c7da7570b', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: If027d55cea9fd88fadbb1539bbe713b2c2a7bd29\n""}]",0,690967,9bd2ff9607411994318f25be4bf1fb6c7da7570b,9,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: If027d55cea9fd88fadbb1539bbe713b2c2a7bd29
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/67/690967/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,decd302e4a3f0834d761472945fb3fcb23490a29,,commands = sphinx-build -W -d doc/build/doctrees --keep-going -b html doc/source/ doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html,commands = sphinx-build -W -d doc/build/doctrees -b html doc/source/ doc/build/html sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Fopenstack-ansible~master~I52a7ebb946cc068013a0f7dbbc43989abf1cbd02,openstack/openstack-ansible,master,I52a7ebb946cc068013a0f7dbbc43989abf1cbd02,Run setup module prior to bootstrapping aio,MERGED,2019-11-04 15:10:13.000000000,2019-11-05 09:07:41.000000000,2019-11-04 23:16:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-11-04 15:10:13.000000000', 'files': ['tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f9bfae7e6c15fd324a6473941c2780738e2c0b0', 'message': 'Run setup module prior to bootstrapping aio\n\nOn some systems, the aio bootstrap script will fail due to an issue with fact\ngathering. This patch runs the setup module prior to the bootstrap process.\n\nReference: Eavesdrop IRC Logs - openstack-ansible.2018-11-23.log.html\nURL: https://pasted.tech/l/418bb8177f794d3f\n\nChange-Id: I52a7ebb946cc068013a0f7dbbc43989abf1cbd02\nCloses-Bug: #1851248\n'}]",0,692837,9f9bfae7e6c15fd324a6473941c2780738e2c0b0,9,3,1,16011,,,0,"Run setup module prior to bootstrapping aio

On some systems, the aio bootstrap script will fail due to an issue with fact
gathering. This patch runs the setup module prior to the bootstrap process.

Reference: Eavesdrop IRC Logs - openstack-ansible.2018-11-23.log.html
URL: https://pasted.tech/l/418bb8177f794d3f

Change-Id: I52a7ebb946cc068013a0f7dbbc43989abf1cbd02
Closes-Bug: #1851248
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/692837/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bootstrap-aio.yml'],1,9f9bfae7e6c15fd324a6473941c2780738e2c0b0,bug/1851248, pre_tasks: - name: Run setup module setup: gather_subset: - network - hardware - virtual,,7,0
openstack%2Frpm-packaging~master~Ib9845557b1646eccce31c0885ca13272e88645b5,openstack/rpm-packaging,master,Ib9845557b1646eccce31c0885ca13272e88645b5,Another round of updates,MERGED,2019-11-01 19:08:55.000000000,2019-11-05 08:25:05.000000000,2019-11-05 08:25:05.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-01 19:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d099640b6352f43a9ab173c21fb698bc31c5d3c6', 'message': 'Another round of updates\n\nChange-Id: Ib9845557b1646eccce31c0885ca13272e88645b5\n'}, {'number': 2, 'created': '2019-11-04 07:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a675494ca123e788cfea7b83ef1f0efcd7140ef6', 'message': 'Another round of updates\n\nChange-Id: Ib9845557b1646eccce31c0885ca13272e88645b5\n'}, {'number': 3, 'created': '2019-11-04 07:16:12.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fa859f1340c4bfb14655f790602fc5820d198657', 'message': 'Another round of updates\n\nChange-Id: Ib9845557b1646eccce31c0885ca13272e88645b5\n'}]",0,692604,fa859f1340c4bfb14655f790602fc5820d198657,15,5,3,7102,,,0,"Another round of updates

Change-Id: Ib9845557b1646eccce31c0885ca13272e88645b5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/692604/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-keystoneclient/python-keystoneclient.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/os-traits/os-traits.spec.j2', 'openstack/python-troveclient/python-troveclient.spec.j2']",4,d099640b6352f43a9ab173c21fb698bc31c5d3c6,,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('3.0.0') %},4,4
openstack%2Frpm-packaging~stable%2Ftrain~I7228263f603ad184d7e64b27cfccbef5d18061fa,openstack/rpm-packaging,stable/train,I7228263f603ad184d7e64b27cfccbef5d18061fa,murano-dashboard: update to stable stein release,MERGED,2019-10-30 10:55:07.000000000,2019-11-05 08:24:13.000000000,2019-11-05 08:24:13.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-10-30 10:55:07.000000000', 'files': ['openstack/murano-dashboard/murano-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ac1d62cc4df02fc5870a82d5d06cb5fc0279302f', 'message': 'murano-dashboard: update to stable stein release\n\nAdjust for python3.\n\nChange-Id: I7228263f603ad184d7e64b27cfccbef5d18061fa\n(cherry picked from commit ad2c978cf13bc45f73294bd646651a85d0ead9d6)\n'}]",0,692104,ac1d62cc4df02fc5870a82d5d06cb5fc0279302f,11,7,1,13294,,,0,"murano-dashboard: update to stable stein release

Adjust for python3.

Change-Id: I7228263f603ad184d7e64b27cfccbef5d18061fa
(cherry picked from commit ad2c978cf13bc45f73294bd646651a85d0ead9d6)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/692104/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/murano-dashboard/murano-dashboard.spec.j2'],1,ac1d62cc4df02fc5870a82d5d06cb5fc0279302f,,{% set upstream_version = upstream_version('7.0.0') %}BuildRequires: {{ py3('horizon') }}BuildRequires: {{ py3('python-muranoclient') }} BuildRequires: {{ py3('pbr') }} Requires: {{ py3('horizon-plugin-murano-ui') }} = %{version}%package -n {{ py3('horizon-plugin-murano-ui') }}%description -n {{ py3('horizon-plugin-murano-ui') }}%doc ChangeLog README.rst%files -n {{ py3('horizon-plugin-murano-ui') }},{% set upstream_version = upstream_version('7.0.0.0rc1') %}BuildRequires: {{ py2pkg('horizon') }}BuildRequires: {{ py2pkg('python-muranoclient') }} BuildRequires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('horizon-plugin-murano-ui') }} = %{version}%package -n {{ py2pkg('horizon-plugin-murano-ui') }}%description -n {{ py2pkg('horizon-plugin-murano-ui') }}%fdupes %{buildroot}%{python2_sitelib}%doc ChangeLog CONTRIBUTING.rst README.rst%files -n {{ py2pkg('horizon-plugin-murano-ui') }},9,10
openstack%2Frpm-packaging~master~If1b57ec300ee36dd215ffeb2b01f052b4a95b9cc,openstack/rpm-packaging,master,If1b57ec300ee36dd215ffeb2b01f052b4a95b9cc,Update python-zunclient to 3.6.0,MERGED,2019-11-03 14:17:41.000000000,2019-11-05 08:24:12.000000000,2019-11-05 08:24:12.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-03 14:17:41.000000000', 'files': ['openstack/python-zunclient/python-zunclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/846ba17e1e5da2e3cfd0d87af1826c7e03fea948', 'message': 'Update python-zunclient to 3.6.0\n\nrefer to Change-Id: I0000fb5d6783890d71db8cbb497f584f7573b9dd\n\nChange-Id: If1b57ec300ee36dd215ffeb2b01f052b4a95b9cc\n'}]",0,692753,846ba17e1e5da2e3cfd0d87af1826c7e03fea948,9,5,1,26118,,,0,"Update python-zunclient to 3.6.0

refer to Change-Id: I0000fb5d6783890d71db8cbb497f584f7573b9dd

Change-Id: If1b57ec300ee36dd215ffeb2b01f052b4a95b9cc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/692753/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-zunclient/python-zunclient.spec.j2'],1,846ba17e1e5da2e3cfd0d87af1826c7e03fea948,python-zunclient,{% set upstream_version = upstream_version('3.6.0') %},{% set upstream_version = upstream_version('3.5.0') %},1,1
openstack%2Frpm-packaging~master~I372ed3caaee9db6fa69ff7d97fea0faa7846c227,openstack/rpm-packaging,master,I372ed3caaee9db6fa69ff7d97fea0faa7846c227,Update python-watcherclient to 2.5.0,MERGED,2019-11-03 14:14:24.000000000,2019-11-05 08:18:37.000000000,2019-11-05 08:18:37.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-11-03 14:14:24.000000000', 'files': ['openstack/python-watcherclient/python-watcherclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/816905b3b7f067c7133a94fc45a7eec4586e3298', 'message': 'Update python-watcherclient to 2.5.0\n\nrefer to Change-Id: Ie196d7c2430d4e7f01fbcc25ecaf3869e2243f0f\n\nChange-Id: I372ed3caaee9db6fa69ff7d97fea0faa7846c227\n'}]",0,692752,816905b3b7f067c7133a94fc45a7eec4586e3298,9,5,1,26118,,,0,"Update python-watcherclient to 2.5.0

refer to Change-Id: Ie196d7c2430d4e7f01fbcc25ecaf3869e2243f0f

Change-Id: I372ed3caaee9db6fa69ff7d97fea0faa7846c227
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/52/692752/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-watcherclient/python-watcherclient.spec.j2'],1,816905b3b7f067c7133a94fc45a7eec4586e3298,python-watcherclient,{% set upstream_version = upstream_version('2.5.0') %},{% set upstream_version = upstream_version('2.4.0') %},1,1
openstack%2Fproject-config~master~If7081f6b25f9e510126ba1f835360f89b9122b39,openstack/project-config,master,If7081f6b25f9e510126ba1f835360f89b9122b39,Remove python27 jobs from neutron dashboard,MERGED,2019-10-29 20:44:18.000000000,2019-11-05 07:59:14.000000000,2019-11-05 07:59:14.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-29 20:44:18.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2c3f102e5fc1ac14ab8870da0e64be1ba7017dd4', 'message': ""Remove python27 jobs from neutron dashboard\n\nPython 2.7 jobs were removed from Neutron CI with patch [1].\nSo it's also good to clean it from Neutron Grafana dashboard.\n\n[1] https://review.opendev.org/#/c/686833/\n\nChange-Id: If7081f6b25f9e510126ba1f835360f89b9122b39\n""}]",0,691973,2c3f102e5fc1ac14ab8870da0e64be1ba7017dd4,7,3,1,11975,,,0,"Remove python27 jobs from neutron dashboard

Python 2.7 jobs were removed from Neutron CI with patch [1].
So it's also good to clean it from Neutron Grafana dashboard.

[1] https://review.opendev.org/#/c/686833/

Change-Id: If7081f6b25f9e510126ba1f835360f89b9122b39
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/691973/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,2c3f102e5fc1ac14ab8870da0e64be1ba7017dd4,remove-py27-from-neutron,," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-python27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional-python27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-functional-python27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-functional-python27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-functional-python27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27-with-oslo-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27-with-oslo-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py27-with-oslo-master') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py27-with-oslo-master.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py27-with-oslo-master')",0,10
openstack%2Fproject-config~master~I3008bc61bbf28273ba410048c206cf565eed4aa5,openstack/project-config,master,I3008bc61bbf28273ba410048c206cf565eed4aa5,Update grafana nova master ceph job to -py3 version,MERGED,2019-10-28 22:43:47.000000000,2019-11-05 07:59:12.000000000,2019-11-05 07:59:11.000000000,"[{'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-28 22:43:47.000000000', 'files': ['grafana/ceph.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2bcd5dcb0a017d22eaf47f5c3b0f675d5fe84b54', 'message': 'Update grafana nova master ceph job to -py3 version\n\nDepends-On: https://review.opendev.org/691765\n\nChange-Id: I3008bc61bbf28273ba410048c206cf565eed4aa5\n'}]",0,691768,2bcd5dcb0a017d22eaf47f5c3b0f675d5fe84b54,8,4,1,4690,,,0,"Update grafana nova master ceph job to -py3 version

Depends-On: https://review.opendev.org/691765

Change-Id: I3008bc61bbf28273ba410048c206cf565eed4aa5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/691768/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/ceph.yaml'],1,2bcd5dcb0a017d22eaf47f5c3b0f675d5fe84b54,ceph-py3," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest-py3.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest-py3')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest')",1,1
openstack%2Fmistral-dashboard~master~I19c8b887ea616f5688fcc5b67abde20f5b4a6b68,openstack/mistral-dashboard,master,I19c8b887ea616f5688fcc5b67abde20f5b4a6b68,Switch to Ussuri jobs,MERGED,2019-10-22 05:45:43.000000000,2019-11-05 07:33:01.000000000,2019-11-05 07:33:00.000000000,"[{'_account_id': 1736}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:45:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/c173e7fa2355cca4e4c34983e063ffa61f0a4195', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I19c8b887ea616f5688fcc5b67abde20f5b4a6b68\n'}]",0,689937,c173e7fa2355cca4e4c34983e063ffa61f0a4195,8,4,1,26490,,,0,"Switch to Ussuri jobs

Change-Id: I19c8b887ea616f5688fcc5b67abde20f5b4a6b68
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/37/689937/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c173e7fa2355cca4e4c34983e063ffa61f0a4195,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmistral-lib~master~I2f1d5655e661188d8809fb2522bd5a10b385e8d2,openstack/mistral-lib,master,I2f1d5655e661188d8809fb2522bd5a10b385e8d2,tox: Keeping going with docs,MERGED,2019-10-24 13:10:27.000000000,2019-11-05 07:27:18.000000000,2019-11-05 07:27:17.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 13:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/5fad689bd4e15a55f5674d3d846e5aebe6eeeb6c', 'message': 'tox: Keeping going with docs\n\nChange-Id: I2f1d5655e661188d8809fb2522bd5a10b385e8d2\n'}, {'number': 2, 'created': '2019-10-24 13:24:04.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/98f8ad448d174a543e72fbff969611faf13d059f', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I2f1d5655e661188d8809fb2522bd5a10b385e8d2\n""}]",0,690968,98f8ad448d174a543e72fbff969611faf13d059f,10,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I2f1d5655e661188d8809fb2522bd5a10b385e8d2
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/68/690968/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,5fad689bd4e15a55f5674d3d846e5aebe6eeeb6c,, sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,4,4
openstack%2Fmistral-extra~master~I218efe01ad56dbe04666716ae61ea2d97ef6912d,openstack/mistral-extra,master,I218efe01ad56dbe04666716ae61ea2d97ef6912d,tox: Keeping going with docs,MERGED,2019-10-24 13:10:31.000000000,2019-11-05 07:25:40.000000000,2019-11-05 07:25:40.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 13:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/9bb03ca57ed75f408ccb52ae19009067eaf0cd59', 'message': 'tox: Keeping going with docs\n\nChange-Id: I218efe01ad56dbe04666716ae61ea2d97ef6912d\n'}, {'number': 2, 'created': '2019-10-24 13:22:30.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/078205550c9492cdb2d1b9fd85bf9e717af3780e', 'message': ""tox: Keeping going with docs\n\nSphinx 1.8 introduced [1] the '--keep-going' argument which, as its name\nsuggests, keeps the build running when it encounters non-fatal errors.\nThis is exceptionally useful in avoiding a continuous edit-build loop\nwhen undertaking large doc reworks where multiple errors may be\nintroduced.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045\n\nChange-Id: I218efe01ad56dbe04666716ae61ea2d97ef6912d\n""}]",0,690969,078205550c9492cdb2d1b9fd85bf9e717af3780e,10,3,2,22165,,,0,"tox: Keeping going with docs

Sphinx 1.8 introduced [1] the '--keep-going' argument which, as its name
suggests, keeps the build running when it encounters non-fatal errors.
This is exceptionally useful in avoiding a continuous edit-build loop
when undertaking large doc reworks where multiple errors may be
introduced.

[1] https://github.com/sphinx-doc/sphinx/commit/e3483e9b045

Change-Id: I218efe01ad56dbe04666716ae61ea2d97ef6912d
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/69/690969/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,9bb03ca57ed75f408ccb52ae19009067eaf0cd59,, sphinx-build -a -E -W -d releasenotes/build/doctrees --keep-going -b html releasenotes/source releasenotes/build/html, sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,3,3
openstack%2Fmistral-extra~master~Ie9198cc50a51691b6d3c881f0a6dfc4837c21bfa,openstack/mistral-extra,master,Ie9198cc50a51691b6d3c881f0a6dfc4837c21bfa,Switch to Ussuri jobs,MERGED,2019-10-22 05:49:45.000000000,2019-11-05 07:24:05.000000000,2019-11-05 07:24:05.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-10-22 05:49:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/7d21c6d8298a852092e5c845f2411994a078dd0b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ie9198cc50a51691b6d3c881f0a6dfc4837c21bfa\n'}]",0,689941,7d21c6d8298a852092e5c845f2411994a078dd0b,8,4,1,26490,,,0,"Switch to Ussuri jobs

Change-Id: Ie9198cc50a51691b6d3c881f0a6dfc4837c21bfa
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/41/689941/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d21c6d8298a852092e5c845f2411994a078dd0b,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmistral-lib~master~I628799df2c56f5f3bcfb2fbd6dabfcd84d931bb5,openstack/mistral-lib,master,I628799df2c56f5f3bcfb2fbd6dabfcd84d931bb5,Switch to Ussuri jobs,MERGED,2019-10-22 05:52:31.000000000,2019-11-05 07:20:43.000000000,2019-11-05 07:20:43.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:52:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/dbaa01deeec9d79f3ffcb5e501df027d611b6e6a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I628799df2c56f5f3bcfb2fbd6dabfcd84d931bb5\n'}]",0,689944,dbaa01deeec9d79f3ffcb5e501df027d611b6e6a,7,3,1,26490,,,0,"Switch to Ussuri jobs

Change-Id: I628799df2c56f5f3bcfb2fbd6dabfcd84d931bb5
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/44/689944/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dbaa01deeec9d79f3ffcb5e501df027d611b6e6a,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-barbicanclient~master~I0b866b2e57557290533ee7e7e162e56c9c17cf54,openstack/python-barbicanclient,master,I0b866b2e57557290533ee7e7e162e56c9c17cf54,PDF Documentation Build tox target,MERGED,2019-09-26 10:34:43.000000000,2019-11-05 04:52:04.000000000,2019-11-05 04:49:47.000000000,"[{'_account_id': 841}, {'_account_id': 1091}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10607}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-09-26 10:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/4b4a9f9dbd4d92e44b4ae5ae01a0d198566dd04c', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 2, 'created': '2019-09-30 13:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/e0ba6b20579b8b3e78baeed819048b02087cd4dd', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 3, 'created': '2019-10-01 12:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/27b24a0e4ab40248e5e749b39aa60fc10196cad8', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 4, 'created': '2019-10-01 13:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/1a55c0a23bdd4b21bca797276ff6faf4eeac7cf9', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 5, 'created': '2019-10-01 13:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/673773b9e6389191b3eb94fc61e52384c2e33aa9', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 6, 'created': '2019-10-01 13:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/8ab65db5e775a8e4d8711d071ab145084b8a85b2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 7, 'created': '2019-10-01 13:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a7911db01f75fdab498b89f9a019919abf597c95', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 8, 'created': '2019-10-01 15:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/58b7cf0cf7b0ebb6e968523f9459e3d5224403ce', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}, {'number': 9, 'created': '2019-10-01 17:16:56.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/00d70e6e6083c61edf99e6d7145291f24011b80a', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nUpdate docs requirement as well to follow PTI.\n\nChange-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54\nStory: 2006072\n'}]",7,685031,00d70e6e6083c61edf99e6d7145291f24011b80a,32,9,9,10607,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Update docs requirement as well to follow PTI.

Change-Id: I0b866b2e57557290533ee7e7e162e56c9c17cf54
Story: 2006072
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/31/685031/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini']",5,4b4a9f9dbd4d92e44b4ae5ae01a0d198566dd04c,build-pdf-docs,# This environment is called from CI scripts to test and publish # the main docs to https://docs.openstack.org/python-barbicanclient description = Build main documentationdeps = -r{toxinidir}/doc/requirements.txt commands= rm -rf doc/build doc/build/doctrees sphinx-build -W -b html doc/source doc/build/html whitelist_externals = rm [testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/html,25,7
openstack%2Fpython-barbicanclient~master~I69ef97cb48c6b5a1add4e89c4a53047420d314f4,openstack/python-barbicanclient,master,I69ef97cb48c6b5a1add4e89c4a53047420d314f4,docs: Turn on warning-as-error,MERGED,2019-09-30 13:32:08.000000000,2019-11-05 04:51:05.000000000,2019-11-05 04:49:47.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10607}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-09-30 13:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/aaa1e5ef6aedcbd7fb67b933811cfe05f98ef3da', 'message': ""docs: Turn on warning-as-error\n\nThere were two main issues here. Firstly, a function was being\ndocumented as a class, resulting in:\n\n  WARNING: error while formatting arguments for barbicanclient.client.Client:\n  'function' object has no attribute '__mro__'\n\nSecondly, a docstring for a common function had an incorrect field list\nformat, resulting in:\n\n  docstring of barbicanclient.v1.acls.SecretACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n  docstring of barbicanclient.v1.acls.ContainerACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n\nResolve both.\n\nChange-Id: I69ef97cb48c6b5a1add4e89c4a53047420d314f4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-09-30 13:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/7ec357cce45a9220f30aa8c7f3aa08e792a63006', 'message': ""docs: Turn on warning-as-error\n\nThere were two main issues here. Firstly, a function was being\ndocumented as a class, resulting in:\n\n  WARNING: error while formatting arguments for barbicanclient.client.Client:\n  'function' object has no attribute '__mro__'\n\nSecondly, a docstring for a common function had an incorrect field list\nformat, resulting in:\n\n  docstring of barbicanclient.v1.acls.SecretACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n  docstring of barbicanclient.v1.acls.ContainerACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n\nResolve both.\n\nChange-Id: I69ef97cb48c6b5a1add4e89c4a53047420d314f4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-09-30 13:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/198bf9c4e2e0f95ff488026b4c5ef4f73431f888', 'message': ""docs: Turn on warning-as-error\n\nThere were two main issues here. Firstly, a function was being\ndocumented as a class, resulting in:\n\n  WARNING: error while formatting arguments for barbicanclient.client.Client:\n  'function' object has no attribute '__mro__'\n\nSecondly, a docstring for a common function had an incorrect field list\nformat, resulting in:\n\n  docstring of barbicanclient.v1.acls.SecretACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n  docstring of barbicanclient.v1.acls.ContainerACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n\nResolve both.\n\nChange-Id: I69ef97cb48c6b5a1add4e89c4a53047420d314f4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2019-10-01 17:16:56.000000000', 'files': ['doc/source/reference/index.rst', 'barbicanclient/v1/acls.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/0863f04a2673cb92934a509ca689a9b06441286a', 'message': ""docs: Turn on warning-as-error\n\nThere were two main issues here. Firstly, a function was being\ndocumented as a class, resulting in:\n\n  WARNING: error while formatting arguments for barbicanclient.client.Client:\n  'function' object has no attribute '__mro__'\n\nSecondly, a docstring for a common function had an incorrect field list\nformat, resulting in:\n\n  docstring of barbicanclient.v1.acls.SecretACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n  docstring of barbicanclient.v1.acls.ContainerACL.get:4: WARNING: Field list\n  ends without a blank line; unexpected unindent\n\nResolve both.\n\nChange-Id: I69ef97cb48c6b5a1add4e89c4a53047420d314f4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,685708,0863f04a2673cb92934a509ca689a9b06441286a,15,8,4,15334,,,0,"docs: Turn on warning-as-error

There were two main issues here. Firstly, a function was being
documented as a class, resulting in:

  WARNING: error while formatting arguments for barbicanclient.client.Client:
  'function' object has no attribute '__mro__'

Secondly, a docstring for a common function had an incorrect field list
format, resulting in:

  docstring of barbicanclient.v1.acls.SecretACL.get:4: WARNING: Field list
  ends without a blank line; unexpected unindent
  docstring of barbicanclient.v1.acls.ContainerACL.get:4: WARNING: Field list
  ends without a blank line; unexpected unindent

Resolve both.

Change-Id: I69ef97cb48c6b5a1add4e89c4a53047420d314f4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/08/685708/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/index.rst', 'barbicanclient/v1/acls.py', 'tox.ini']",3,aaa1e5ef6aedcbd7fb67b933811cfe05f98ef3da,build-pdf-docs,commands = sphinx-build -b html -W doc/source doc/build/html,commands = sphinx-build -b html doc/source doc/build/html,5,6
openstack%2Fopenstack-helm~master~Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2,openstack/openstack-helm,master,Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2,Add missing pod labels for CronJobs,MERGED,2019-10-28 20:02:06.000000000,2019-11-05 04:17:40.000000000,2019-11-05 04:16:25.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-10-28 20:02:06.000000000', 'files': ['aodh/templates/cron-job-alarms-cleaner.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'panko/templates/cron-job-events-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/91f87c21dca874b08a7e3d3dcbd874cdeec3e538', 'message': 'Add missing pod labels for CronJobs\n\nPods for some of the CronJobs do not have correct\napplication and component labels applied, they are\nunable to start if Network Policies are enabled.\n\nChange-Id: Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2\n'}]",0,691744,91f87c21dca874b08a7e3d3dcbd874cdeec3e538,10,10,1,8749,,,0,"Add missing pod labels for CronJobs

Pods for some of the CronJobs do not have correct
application and component labels applied, they are
unable to start if Network Policies are enabled.

Change-Id: Ie4eed0e9829419b4b2e40e9b712b73a86d6fc3d2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/691744/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/templates/cron-job-alarms-cleaner.yaml', 'keystone/templates/cron-job-credential-rotate.yaml', 'keystone/templates/cron-job-fernet-rotate.yaml', 'panko/templates/cron-job-events-cleaner.yaml']",4,91f87c21dca874b08a7e3d3dcbd874cdeec3e538,netpol," metadata: labels: {{ tuple $envAll ""panko"" ""events-cleaner"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 12 }}",,12,0
openstack%2Fsecurity-doc~master~I5ea55e0000efad1dc4c912fd61baaefb8af09973,openstack/security-doc,master,I5ea55e0000efad1dc4c912fd61baaefb8af09973,"Enable linter, update for python3",MERGED,2019-10-31 16:13:12.000000000,2019-11-05 03:50:47.000000000,2019-11-05 03:48:42.000000000,"[{'_account_id': 17765}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-31 16:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/1dbb01ed2475d22bf15ff1fff5f71171f1048f7d', 'message': 'Enable linter, update for python3\n\nAdd a new job to run ""tox -e linters"" to doc8 the documents.\n\nRemove the black listing of D000, this is not needed for this repo.\nUpdate tox.ini to use Python3 everywhere.\n\nChange-Id: I5ea55e0000efad1dc4c912fd61baaefb8af09973\n'}, {'number': 2, 'created': '2019-10-31 16:20:03.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/036b0dcad97df7ac9952daf1790065bb8854d904', 'message': 'Enable linter, update for python3\n\nAdd a new job to run ""tox -e linters"" to doc8 the documents.\n\nRemove the black listing of D000, this is not needed for this repo.\nUpdate tox.ini to use Python3 everywhere.\n\nChange-Id: I5ea55e0000efad1dc4c912fd61baaefb8af09973\n'}]",0,692403,036b0dcad97df7ac9952daf1790065bb8854d904,10,3,2,6547,,,0,"Enable linter, update for python3

Add a new job to run ""tox -e linters"" to doc8 the documents.

Remove the black listing of D000, this is not needed for this repo.
Update tox.ini to use Python3 everywhere.

Change-Id: I5ea55e0000efad1dc4c912fd61baaefb8af09973
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/03/692403/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1dbb01ed2475d22bf15ff1fff5f71171f1048f7d,linting,basepython = python3,basepython = python2basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3# Disable some doc8 checks: # D000: Check RST validity (cannot handle lineos directive) ignore = D000,7,11
openstack%2Ftraining-labs~master~I13125f70b86abe6c2b7b0fc3da74f3335ee30c1c,openstack/training-labs,master,I13125f70b86abe6c2b7b0fc3da74f3335ee30c1c,Update Ubuntu LTS ISO to 18.04.3,MERGED,2019-10-30 07:30:13.000000000,2019-11-05 03:44:20.000000000,2019-11-05 03:44:19.000000000,"[{'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-30 07:30:13.000000000', 'files': ['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/1fa24235fc756335de70563a90c1332b8ee57a8d', 'message': 'Update Ubuntu LTS ISO to 18.04.3\n\nCloses-Bug: #1846863\n\nbackport: stein rocky\n\nChange-Id: I13125f70b86abe6c2b7b0fc3da74f3335ee30c1c\n'}]",0,692056,1fa24235fc756335de70563a90c1332b8ee57a8d,6,2,1,11109,,,0,"Update Ubuntu LTS ISO to 18.04.3

Closes-Bug: #1846863

backport: stein rocky

Change-Id: I13125f70b86abe6c2b7b0fc3da74f3335ee30c1c
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/56/692056/1 && git format-patch -1 --stdout FETCH_HEAD,['labs/stacktrain/distros/ubuntu_18_04_server_amd64.py'],1,1fa24235fc756335de70563a90c1332b8ee57a8d,update_bionic," ""ubuntu-18.04.3-server-amd64.iso"")"," ""ubuntu-18.04.2-server-amd64.iso"")",1,1
openstack%2Frequirements~master~Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808,openstack/requirements,master,Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808,Updated from generate-constraints,MERGED,2019-11-04 06:11:15.000000000,2019-11-05 01:49:52.000000000,2019-11-05 01:48:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2d8c2446fe6a195151c75f055b9df70a00e07986', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808\n'}, {'number': 2, 'created': '2019-11-04 07:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/13ede8b21194b4dd73000aceecc32b6e3ae98884', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2019-11-04 19:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab63ead9d9fe6b3dfd9a14df237cdad218733c83', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2019-11-04 21:50:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5682787838ee1e316f6bce5e42781294f6b28610', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,692767,5682787838ee1e316f6bce5e42781294f6b28610,19,2,4,11131,,,0,"Updated from generate-constraints

Change-Id: Ic1d74ae90aef6bf77cd8050cd8ec6e2aeaf62808
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/67/692767/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2d8c2446fe6a195151c75f055b9df70a00e07986,openstack/requirements/constraints/noclob,networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'python-novaclient===16.0.0amqp===2.5.2tinyrpc===1.0.4pysaml2===4.9.0cffi===1.13.2,networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'python-novaclient===15.1.0amqp===2.5.1tinyrpc===1.0.3pysaml2===4.8.0cffi===1.13.1,9,9
openstack%2Fnova~stable%2Ftrain~I2ab56005db363f81eecf07c3db62c267ba7f8ca9,openstack/nova,stable/train,I2ab56005db363f81eecf07c3db62c267ba7f8ca9,Nova compute: add in log exception to help debug failures,MERGED,2019-11-02 12:23:37.000000000,2019-11-05 00:57:36.000000000,2019-11-05 00:54:51.000000000,"[{'_account_id': 1653}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-02 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24f7c39b834dc20a7e14de2e997207e011dbb14', 'message': ""Nova compute: add in log exception to help debug failures\n\nWhen the system is under load, there can be boot failures. One\nexception seen in the log file is:\n\n''NoneType' object has no attribute 'status_code''\n\nThere is no log trace which helps pinpoint this client call.\nNote that this is only one example.\n\nWe now add in a LOG.exception to have the stack trace.\n\nRelated-Bug: #1850682\n\nChange-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9\n""}, {'number': 2, 'created': '2019-11-02 20:53:31.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/35b5dc0d9793742d759a8cae2de33f450c75f2a1', 'message': ""Nova compute: add in log exception to help debug failures\n\nWhen the system is under load, there can be boot failures. One\nexception seen in the log file is:\n\n''NoneType' object has no attribute 'status_code''\n\nThere is no log trace which helps pinpoint this client call.\nNote that this is only one example.\n\nWe now add in a LOG.exception to have the stack trace.\n\nRelated-Bug: #1850682\n\nChange-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9\n(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)\n""}]",0,692662,35b5dc0d9793742d759a8cae2de33f450c75f2a1,22,9,2,6873,,,0,"Nova compute: add in log exception to help debug failures

When the system is under load, there can be boot failures. One
exception seen in the log file is:

''NoneType' object has no attribute 'status_code''

There is no log trace which helps pinpoint this client call.
Note that this is only one example.

We now add in a LOG.exception to have the stack trace.

Related-Bug: #1850682

Change-Id: I2ab56005db363f81eecf07c3db62c267ba7f8ca9
(cherry picked from commit 9062fd392374f546da58651a785f47c3906204dc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/692662/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,e24f7c39b834dc20a7e14de2e997207e011dbb14,more-info," LOG.exception('Failed to build and run instance', instance=instance)",,2,0
openstack%2Frequirements~master~I815915e87d8e30b3dc98a877f186b03aa2a48b8a,openstack/requirements,master,I815915e87d8e30b3dc98a877f186b03aa2a48b8a,DNM: test pysaml 4.9.0,ABANDONED,2019-11-04 19:08:18.000000000,2019-11-05 00:20:59.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-04 19:08:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6af4fb854897b1968a5369fe730435620d7e02cd', 'message': 'DNM: test pysaml 4.9.0\n\nChange-Id: I815915e87d8e30b3dc98a877f186b03aa2a48b8a\n'}]",0,692871,6af4fb854897b1968a5369fe730435620d7e02cd,4,2,1,14288,,,0,"DNM: test pysaml 4.9.0

Change-Id: I815915e87d8e30b3dc98a877f186b03aa2a48b8a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/692871/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6af4fb854897b1968a5369fe730435620d7e02cd,test-pysaml-4.9.0,pysaml2===4.9.0,pysaml2===4.8.0,1,1
openstack%2Fnova~stable%2Fstein~I609670b8073768902119e4fbcac17ae176ffbacc,openstack/nova,stable/stein,I609670b8073768902119e4fbcac17ae176ffbacc,Imported Translations from Zanata,MERGED,2019-11-03 06:27:05.000000000,2019-11-04 23:46:00.000000000,2019-11-04 23:43:05.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-11-03 06:27:05.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po'], 'web_link': 'https://opendev.org/openstack/nova/commit/13d01b697d8090dbd4549335c5c20d9e33886faf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I609670b8073768902119e4fbcac17ae176ffbacc\n'}]",0,692701,13d01b697d8090dbd4549335c5c20d9e33886faf,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I609670b8073768902119e4fbcac17ae176ffbacc
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/692701/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'nova/locale/pt_BR/LC_MESSAGES/nova.po', 'nova/locale/zh_CN/LC_MESSAGES/nova.po', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/ja/LC_MESSAGES/nova.po', 'nova/locale/ko_KR/LC_MESSAGES/nova.po', 'nova/locale/zh_TW/LC_MESSAGES/nova.po', 'nova/locale/cs/LC_MESSAGES/nova.po', 'nova/locale/ru/LC_MESSAGES/nova.po', 'nova/locale/tr_TR/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova.po', 'nova/locale/de/LC_MESSAGES/nova.po']",14,13d01b697d8090dbd4549335c5c20d9e33886faf,zanata/translations,"""POT-Creation-Date: 2019-11-01 08:37+0000\n""","""POT-Creation-Date: 2018-09-21 04:59+0000\n""msgid ""All hosts are already mapped to cell(s), exiting."" msgstr ""Alle Hosts sind bereits der Zelle/den Zellen zugeordnet. Wird beendet."" msgid """" ""Flavor id can only contain letters from A-Z (both cases), periods, dashes, "" ""underscores and spaces."" msgstr """" ""Versions-ID darf nur die Buchstaben A-Z (in Gro- und Kleinschreibung), "" ""Punkte, Gedankenstriche, Unterstriche und Leerzeichen enthalten."" msgid """" ""Flavor names can only contain printable characters and horizontal spaces."" msgstr """" ""Versionsnamen drfen nur druckbare Zeichen und horizontale Leerstellen "" ""aufweisen"" #, python-format msgid ""No free disk device names for prefix '%s'"" msgstr ""Keine freien Platteneinheitennamen fr Prfix '%s'"" #, python-format msgid ""OpenSSL error: %s"" msgstr ""OpenSSL-Fehler: %s"" msgid ""id cannot contain leading and/or trailing whitespace(s)"" msgstr ""ID darf keine fhrenden und/oder abschlieenden Leerzeichen enthalten"" ",21,6816
openstack%2Fnova~stable%2Fqueens~Ie0b421cd5d3a5781c1dd09fab4ed013ece0f939d,openstack/nova,stable/queens,Ie0b421cd5d3a5781c1dd09fab4ed013ece0f939d,Avoid error 500 on shelve task_state race,MERGED,2019-11-02 00:30:28.000000000,2019-11-04 23:43:00.000000000,2019-11-04 23:43:00.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-02 00:30:28.000000000', 'files': ['nova/api/openstack/compute/shelve.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e72c6a3a491b141f7e74b6a34692c1bddec40a1a', 'message': 'Avoid error 500 on shelve task_state race\n\nWhen shelving a server and saving its new SHELVING task state, we\nexpect the current task state to be None and do not handle any\nUnexpectedTaskStateError exceptions that the database layer may throw\nat us. In those cases, we return an error 500 to the user, when in\nactuality an error 409 conflict would be more appropriate. This\npatch makes the API layer handle UnexpectedTaskStateError exceptions\nand return a 409 to the user.\n\nCloses-bug: 1850694\nChange-Id: Ie0b421cd5d3a5781c1dd09fab4ed013ece0f939d\n(cherry picked from commit a423d8b27785623550f401a200b68ca926c0a119)\n(cherry picked from commit 32dbd2f585ef1902478170f3a1153b1f71e81db3)\n(cherry picked from commit 8ee59604dcd9f770286f54e3a39c80f54413c358)\n(cherry picked from commit a90fe1951200ebd27fe74788c0a96c01104ac2cf)\n'}]",0,692632,e72c6a3a491b141f7e74b6a34692c1bddec40a1a,12,7,1,8864,,,0,"Avoid error 500 on shelve task_state race

When shelving a server and saving its new SHELVING task state, we
expect the current task state to be None and do not handle any
UnexpectedTaskStateError exceptions that the database layer may throw
at us. In those cases, we return an error 500 to the user, when in
actuality an error 409 conflict would be more appropriate. This
patch makes the API layer handle UnexpectedTaskStateError exceptions
and return a 409 to the user.

Closes-bug: 1850694
Change-Id: Ie0b421cd5d3a5781c1dd09fab4ed013ece0f939d
(cherry picked from commit a423d8b27785623550f401a200b68ca926c0a119)
(cherry picked from commit 32dbd2f585ef1902478170f3a1153b1f71e81db3)
(cherry picked from commit 8ee59604dcd9f770286f54e3a39c80f54413c358)
(cherry picked from commit a90fe1951200ebd27fe74788c0a96c01104ac2cf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/692632/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/shelve.py', 'nova/tests/unit/api/openstack/compute/test_shelve.py']",2,e72c6a3a491b141f7e74b6a34692c1bddec40a1a,bug/1850694,"import sixfrom nova.compute import task_states from nova.compute import vm_states @mock.patch('nova.objects.instance.Instance.save') def test_shelve_task_state_race(self, mock_save, get_instance_mock): instance = fake_instance.fake_instance_obj( self.req.environ['nova.context'], vm_state=vm_states.ACTIVE, task_state=None) instance.launched_at = instance.created_at get_instance_mock.return_value = instance mock_save.side_effect = exception.UnexpectedTaskStateError( instance_uuid=instance.uuid, expected=None, actual=task_states.SHELVING) ex = self.assertRaises(webob.exc.HTTPConflict, self.controller._shelve, self.req, uuidsentinel.fake, body={'shelve': {}}) self.assertIn('Conflict updating instance', six.text_type(ex)) mock_save.assert_called_once_with(expected_task_state=[None]) @mock.patch('nova.api.openstack.common.get_instance')",,21,1
