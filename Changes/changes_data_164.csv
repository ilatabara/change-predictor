id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-validations~master~Iac715fb9bb2208ca903f2839f1e583b7997e79e3,openstack/tripleo-validations,master,Iac715fb9bb2208ca903f2839f1e583b7997e79e3,Updated container healthcheck validation to use podman native check,ABANDONED,2020-04-21 12:01:09.000000000,2021-06-25 08:32:24.000000000,,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-04-21 12:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/310826ca9fc01d84130eed6d252468c6cb355479', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 2, 'created': '2020-04-21 12:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8846855c007f94afc3f3256ed63ea71ba62109dd', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nReturn code is 125 in case no healthcheck exists, else it should be 0.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 3, 'created': '2020-04-23 09:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3c46e2a7d2f1f52520d338baaefae358ccb3ec78', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 4, 'created': '2020-04-30 07:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/92a0d774c353955d9ec111563bdde674d40e9a39', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 5, 'created': '2020-05-07 06:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cbb33dc618837f981b93cf158d28dd62d6212447', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 6, 'created': '2020-05-15 05:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/26b721de7342d5f13e15ebfe496564f456372b9e', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 7, 'created': '2020-05-18 05:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/89b8cd14abde1f2af47c2bedefa347925bbca195', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 8, 'created': '2020-06-01 05:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f207a7b5ca46a96244ec2acc0cc5c91903ffa08b', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}, {'number': 9, 'created': '2020-06-22 08:07:35.000000000', 'files': ['roles/healthcheck_service_status/defaults/main.yml', 'roles/healthcheck_service_status/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f30289735ec12a1e814394dd66a26bd7c1af50d1', 'message': ""Updated container healthcheck validation to use podman native check\n\nUnfortunately, due to https://github.com/containers/libpod/issues/5915,\nwe have to actually RUN the healthcheck in order to get the actual\nstatus.\n\nThis means the test is a bit slower than needed. It also makes the\nmolecule testing a bit harder since it's running within a container...\n\nChange-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3\n""}]",10,721588,f30289735ec12a1e814394dd66a26bd7c1af50d1,29,6,9,28223,,,0,"Updated container healthcheck validation to use podman native check

Unfortunately, due to https://github.com/containers/libpod/issues/5915,
we have to actually RUN the healthcheck in order to get the actual
status.

This means the test is a bit slower than needed. It also makes the
molecule testing a bit harder since it's running within a container...

Change-Id: Iac715fb9bb2208ca903f2839f1e583b7997e79e3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/721588/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/healthcheck_service_status/tasks/main.yml'],1,310826ca9fc01d84130eed6d252468c6cb355479,healthcheck," systemctl list-unit-files --no-legend --no-pager | awk -F '.' '/tripleo_/ {gsub(""tripleo_"",""""); print $1}' when: - inflight_healthcheck_services is not defined or inflight_healthcheck_services | length < 1 {%- if healthcheck_services_list is defined -%} {%- else -%} {{ inflight_healthcheck_services }}# TODO(cjeanner) once https://github.com/containers/libpod/issues/5915 is solved, # - modify the way we get actual status and use # podman inspect {{ item }} | jq -r '.[0][""State""][""Healthcheck""][""Status""] # - modify 'until' condition to match value to '' or 'healthy' (empty for ""no healthcheck"" become: true command: > podman healthcheck run {{ item }} - container_healthcheck_state.rc in [0, 125] register: container_healthcheck_state# TODO(cjeanner) once https://github.com/containers/libpod/issues/5915 is solved, # - modify 'until' condition to match value to '' or 'healthy' (empty for ""no healthcheck"" when: - item.rc not in [0, 125] loop: ""{{ container_healthcheck_state.results }}"""," systemctl list-unit-files | grep ""^tripleo.*healthcheck.*enabled"" | awk -F'.' '{print $1}' when: inflight_healthcheck_services | length < 1 {%- if inflight_healthcheck_services | length > 0 -%} {{ inflight_healthcheck_services }} {%- else -%} systemd: name: ""{{ item }}"" - systemd_healthcheck_state.status.ExecMainPID != '0' - systemd_healthcheck_state.status.ActiveState in ['inactive', 'failed'] register: systemd_healthcheck_state when: item.status.ExecMainStatus != '0' loop: ""{{ systemd_healthcheck_state.results }}""",20,12
openstack%2Fvalidations-common~master~Ice148cd958b34f84cf114e70dae034ba7a33538e,openstack/validations-common,master,Ice148cd958b34f84cf114e70dae034ba7a33538e,Make mock import python 2.7 compatible,ABANDONED,2020-09-17 12:18:37.000000000,2021-06-25 08:31:50.000000000,,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-17 12:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a2ce28616cc61cce783f6a570f59f0e5c9230e04', 'message': 'Revert ""Revert ""Make mock import python 2.7 compatible""""\n\nThis project is now branchless, meaning we must support train on centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 2, 'created': '2020-10-09 14:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1c0f931386532d7a634749da74bf17c1931d0956', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 3, 'created': '2020-10-11 20:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9723636ccba1e3690d1aad05862dc3b057fd2232', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 4, 'created': '2020-10-11 20:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b10ba2496574f37336c7ea67208b574a21a2ef29', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 5, 'created': '2020-10-11 21:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0c5837fb233fb16212367744875b13aa2c1b4977', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 6, 'created': '2020-10-11 21:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7c38a20d189656fbce242ce2618140ae98957b99', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}, {'number': 7, 'created': '2020-10-12 07:51:51.000000000', 'files': ['test-requirements.txt', 'validations_common/tests/library/test_check_package_update.py', 'lower-constraints.txt', 'validations_common/library/__init__.py', 'validations_common/tests/library/test_reportentry.py', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/802db66b31a6097951858d954d667039d1bceb24', 'message': 'Make mock import python 2.7 compatible\n\nThis project is now branchless, meaning we must support train\non centos-7, with python-2.7.\n\nThis reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.\n\nChange-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e\n'}]",1,752446,802db66b31a6097951858d954d667039d1bceb24,19,8,7,28223,,,0,"Make mock import python 2.7 compatible

This project is now branchless, meaning we must support train
on centos-7, with python-2.7.

This reverts commit 208a585bb624f43194b80f3c88e059f5213c58e1.

Change-Id: Ice148cd958b34f84cf114e70dae034ba7a33538e
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/46/752446/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/tests/library/test_check_package_update.py', 'validations_common/library/__init__.py', 'validations_common/tests/library/test_reportentry.py']",3,a2ce28616cc61cce783f6a570f59f0e5c9230e04,752446,try: from unittest import mock except ImportError: import mock,from unittest import mock,10,3
openstack%2Fos-vif~master~Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b,openstack/os-vif,master,Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b,Add support for vDPA port,ABANDONED,2019-09-22 13:49:24.000000000,2021-06-25 08:14:14.000000000,,"[{'_account_id': 9732}, {'_account_id': 12171}, {'_account_id': 14807}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 25241}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-09-22 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/46adfe1cc35da3eb8038deeec03581098b02e6e0', 'message': 'Add support for vDPA port\n\nAllow “VIFVHostUser” VIFs with “DatapathOffloadRepresentor” object\nassigned to “datapath_offload” attribute in VIF’s “port_profile”\nto be plugged as vDPA port[1].\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html\n\nChange-Id: Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b\n'}, {'number': 2, 'created': '2019-09-22 14:12:12.000000000', 'files': ['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a9f01bed88d3466a13d41d6c11427f64ae2c5887', 'message': 'Add support for vDPA port\n\nAllow “VIFVHostUser” VIFs with “DatapathOffloadRepresentor” object\nassigned to “datapath_offload” attribute in VIF’s “port_profile”\nto be plugged as vDPA port[1].\n\n[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html\n\nChange-Id: Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b\n'}]",0,683819,a9f01bed88d3466a13d41d6c11427f64ae2c5887,10,7,2,22948,,,0,"Add support for vDPA port

Allow “VIFVHostUser” VIFs with “DatapathOffloadRepresentor” object
assigned to “datapath_offload” attribute in VIF’s “port_profile”
to be plugged as vDPA port[1].

[1] https://mail.openvswitch.org/pipermail/ovs-dev/2019-September/362722.html

Change-Id: Ifb64cc71a0cffec179302e8a93ebe2f2091eed5b
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/19/683819/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py']",4,46adfe1cc35da3eb8038deeec03581098b02e6e0,DPDK-FW," pf_pci=None, vf_num=None, vf_pci=None, vdpa_socket_path=None): :param vf_pci: PCI address of dpdk representor port. :param vdpa_socket_path: path to socket file of vDPA port. .. note:: create vDPA port by setting all five values: `interface_type`, `pf_pci`, `vf_num`, `vf_pci` and `vdpa_socket_path`. devargs_string = ""{PF_PCI},representor=[{VF_NUM}]"".format( PF_PCI=pf_pci, VF_NUM=vf_num) if pf_pci and vf_num else None devargs_string): if (interface_type == constants.OVS_VDPA_TYPE and devargs_string and vdpa_socket_path): col_values.append(('options', {'vdpa-socket-path': vdpa_socket_path, 'vdpa-accelerator-devargs': vf_pci, 'dpdk-devargs': devargs_string}))"," pf_pci=None, vf_num=None): pf_pci and vf_num): devargs_string = ""{PF_PCI},representor=[{VF_NUM}]"".format( PF_PCI=pf_pci, VF_NUM=vf_num)",107,14
openstack%2Fcharm-hacluster~master~I9727e7b5babcfed1444f6d4821498fbc16e69297,openstack/charm-hacluster,master,I9727e7b5babcfed1444f6d4821498fbc16e69297,"Retry on ""Transport endpoint is not connected""",MERGED,2021-06-23 20:14:41.000000000,2021-06-25 07:45:16.000000000,2021-06-25 07:45:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-23 20:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/ba23255fc8e55dada678df054e3fac7aa85f8343', 'message': 'Retry on ""Transport endpoint is not connected""\n\nThe crm node delete already handles some expected failure modes. Add\n""Transport endpoint is not connected"" so that it retries the node\ndelete.\n\nChange-Id: I9727e7b5babcfed1444f6d4821498fbc16e69297\n'}, {'number': 2, 'created': '2021-06-24 09:59:18.000000000', 'files': ['hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3b872ff4d28a42dc6dd0fbb1a2725444ff8d07cb', 'message': 'Retry on ""Transport endpoint is not connected""\n\nThe crm node delete already handles some expected failure modes. Add\n""Transport endpoint is not connected"" so that it retries the node\ndelete.\n\nChange-Id: I9727e7b5babcfed1444f6d4821498fbc16e69297\nCloses-Bug: #1931588\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,797744,3b872ff4d28a42dc6dd0fbb1a2725444ff8d07cb,10,4,2,20805,,,0,"Retry on ""Transport endpoint is not connected""

The crm node delete already handles some expected failure modes. Add
""Transport endpoint is not connected"" so that it retries the node
delete.

Change-Id: I9727e7b5babcfed1444f6d4821498fbc16e69297
Closes-Bug: #1931588
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/44/797744/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/pcmk.py'],1,ba23255fc8e55dada678df054e3fac7aa85f8343,bug/1931588," if 'Transport endpoint is not connected' in output: log('Transport endpoint not connected. Retrying.', WARNING) if attempt > 0: log('Retrying...', WARNING) continue",,5,0
openstack%2Fkuryr-kubernetes~master~Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85,openstack/kuryr-kubernetes,master,Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85,Minor formatting corrections.,MERGED,2021-06-24 10:17:32.000000000,2021-06-25 07:09:15.000000000,2021-06-25 07:07:53.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-06-24 10:17:32.000000000', 'files': ['doc/source/devref/service_support.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b418608f9a23f0e92a7172b418bc514fa5799a4d', 'message': 'Minor formatting corrections.\n\nChange-Id: Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85\n'}]",0,797869,b418608f9a23f0e92a7172b418bc514fa5799a4d,8,3,1,13692,,,0,"Minor formatting corrections.

Change-Id: Ie279c998be5ad6ab31790f2dd9fc111dc3f8ca85
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/69/797869/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/service_support.rst'],1,b418608f9a23f0e92a7172b418bc514fa5799a4d,formatting,"sure that services Load Balancers have access to Pods Neutron ports. This may be affected once Kubernetes Network Policies will be supported. Oslo versioned details to be used for translation to LBaaSv2 model, such as tenant-id, subnet-id, ip address and security groups. - EndpointsHandler is responsible for adding endpoints subsets to the KuryrLoadBalancer CRD. If endpoint is created before Service, this handler creates the CRD with the endpoints subsets, otherwise the existent CRD is updated. successfully created and filled with spec data. This handler is responsible for creating the needed Octavia resources according to the CRD spec and update the status field with information about the generated resources, such as LoadBalancer, LoadBalancerListener, LoadBalancerPool and LoadBalancerMembers.Service, Endpoints and KuryrLoadBalancer objects until Kuryr deletes the associated OpenStack loadbalancers. After that the finalizers are removed allowing the Kubernetes API to delete the objects. LBaaS Driver is added to manage service translation to the LBaaSv2-like API. It abstracts all the details of service translation to Load Balancer.KuryrLoadBalancer CRD with the Service spec and empty status. When the Endpoints information is not yet added on the spec by the EndpointHandler, the event reaching KuryrLoadBalancerHandler is skipped. If the EndpointsHandler starts handling the on_present event first, the KuryrLoadBalancer CRD is created with the endpoints subsets. Otherwise, it will update the existing CRD created by the ServiceHandler with the endpoints subsets.Load Balancer Listeners, Load Balancer Pools, and Load Balancer Members. It uses the _sync_lbaas_members function to check if Openstack Loadbalancers are in sync with the kubernetes counterparts.KuryrLoadBalancer CRD creation, blocks the removal of the kubernetes object until the associated OpenStack resources are removed, which also avoids leftovers. When they are removed, Kubernetes is able to remove the CRD, the service and the endpoints, hence completing the service removal action.If the members field on the status of the CRD is manually removed or the status is completely set to an empty object, the KuryrLoadBalancerHandler that is watching these CRD objects detects this change and confirms that there is no information about the OpenStack resources on the status and so needs to rediscover or recreate them. It checks if there are provisioned OpenStack resources (in this case loadbalancers, listeners, pools, and members) for the service/endpoints defined on the KuryrLoadBalancer CRD spec. If that is the case, it retrieves their information and puts it back on the CRD status field. If that is not the case (due to the resources being deleted on the OpenStack side), it will recreate the resources and write the new information about them on the CRD status field. ","sure that services Load Balancers have access to Pods Neutron ports. This may be affected once Kubernetes Network Policies will be supported. Oslo versioned details to be used for translation to LBaaSv2 model, such as tenant-id, subnet-id, ip address and security groups. - EndpointsHandler is responsible for adding endpoints subsets to the KuryrLoadBalancer CRD. If endpoint is created before Service, this handler creates the CRD with the endpoints subsets, otherwise the existent CRD is updated. successfully created and filled with spec data. This handler is responsible for creating the needed Octavia resources according to the CRD spec and update the status field with information about the generated resources, such as LoadBalancer, LoadBalancerListener, LoadBalancerPool and LoadBalancerMembers.Service, Endpoints and KuryrLoadBalancer objects until Kuryr deletes the associated OpenStack loadbalancers. After that the finalizers are removed allowing the Kubernetes API to delete the objects. LBaaS Driver is added to manage service translation to the LBaaSv2-like API. It abstracts all the details of service translation to Load Balancer.KuryrLoadBalancer CRD with the Service spec and empty status. When the Endpoints information is not yet added on the spec by the EndpointHandler, the event reaching KuryrLoadBalancerHandler is skipped. If the EndpointsHandler starts handling the on_present event first, the KuryrLoadBalancer CRD is created with the endpoints subsets. Otherwise, it will update the existing CRD created by the ServiceHandler with the endpoints subsets.Load Balancer Listeners, Load Balancer Pools, and Load Balancer Members. It uses the _sync_lbaas_members function to check if Openstack Loadbalancers are in sync with the kubernetes counterparts.KuryrLoadBalancer CRD creation, blocks the removal of the kubernetes object until the associated OpenStack resources are removed, which also avoids leftovers. When they are removed, Kubernetes is able to remove the CRD, the service and the endpoints, hence completing the service removal action. If the members field on the status of the CRD is manually removed or the status is completely set to an empty object, the KuryrLoadBalancerHandler that is watching these CRD objects detects this change and confirms that there is no information about the OpenStack resources on the status and so needs to rediscover or recreate them. It checks if there are provisioned OpenStack resources (in this case loadbalancers, listeners, pools, and members) for the service/endpoints defined on the KuryrLoadBalancer CRD spec. If that is the case, it retrieves their information and puts it back on the CRD status field. If that is not the case (due to the resources being deleted on the OpenStack side), it will recreate the resources and write the new information about them on the CRD status field.",48,39
openstack%2Fneutron~master~Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff,openstack/neutron,master,Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff,Update version of doc8,MERGED,2021-01-08 07:55:01.000000000,2021-06-25 07:04:18.000000000,2021-06-25 07:02:21.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 07:55:01.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3347e11572277238def83fc0ff2cae0e5da0336b', 'message': 'Update version of doc8\n\nThe doc8 lib supports Py36 starting from version 0.8.1\n\nChange-Id: Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff\n'}]",0,769878,3347e11572277238def83fc0ff2cae0e5da0336b,51,3,1,32238,,,0,"Update version of doc8

The doc8 lib supports Py36 starting from version 0.8.1

Change-Id: Iba04ac4c82b3b56ccdb0f20102fe4ea5ca822bff
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/769878/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3347e11572277238def83fc0ff2cae0e5da0336b,,doc8==0.8.1,doc8==0.6.0,1,1
openstack%2Fcharm-hacluster~master~I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a,openstack/charm-hacluster,master,I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a,Add option for no-quorum-policy,MERGED,2021-03-10 03:18:26.000000000,2021-06-25 07:03:59.000000000,2021-06-25 07:03:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-10 03:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/4b0e1ba931c5f4469f7df243ba40ffe14f9579f7', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 2, 'created': '2021-03-10 03:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d58e1f5ef9d174029ac368f191023ac3166ae240', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 3, 'created': '2021-03-11 23:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/dd6a7f3dcf76435f92c11993f248d2961a1360d9', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 4, 'created': '2021-03-12 03:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/261b42f703f86af6dae2901bc422ee771630d976', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 5, 'created': '2021-03-24 03:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b0d559f5a9c3dbc5aa412f19674137f93fc83471', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 6, 'created': '2021-06-24 11:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/689d10e2aed13eba1a804664de412b4e55052e86', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}, {'number': 7, 'created': '2021-06-24 22:18:37.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'config.yaml', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d17fdd276ef1c6614bfc43491e4cb9e1ee5ce612', 'message': 'Add option for no-quorum-policy\n\nAdds a config item for what to do when the cluster does not have quorum.\nThis is useful with stateless services where, e.g., we only need a VIP\nand that can be up on a single host with no problem.\n\nThough this would be a good relation data setting, many sites would\nprefer to stop the resources rather than have a VIP on multiple hosts,\ncausing arp issues with the switch.\n\nCloses-bug: #1850829\nChange-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a\n'}]",8,779648,d17fdd276ef1c6614bfc43491e4cb9e1ee5ce612,32,3,7,10086,,,0,"Add option for no-quorum-policy

Adds a config item for what to do when the cluster does not have quorum.
This is useful with stateless services where, e.g., we only need a VIP
and that can be up on a single host with no problem.

Though this would be a good relation data setting, many sites would
prefer to stop the resources rather than have a VIP on multiple hosts,
causing arp issues with the switch.

Closes-bug: #1850829
Change-Id: I961b6b32e7ed23f967b047dd0ecb45b0c0dff49a
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/48/779648/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'config.yaml', 'unit_tests/test_hacluster_hooks.py']",3,4b0e1ba931c5f4469f7df243ba40ffe14f9579f7,bug/1850829," @mock.patch('pcmk.set_property') mock_is_stonith_configured, mock_set_property): mock_set_property.assert_called_with('no-quorum-policy', 'stop') # set no-quorum-policy to ignore self.test_config.set('no-quorum-policy', 'ignore') hooks.config_changed() mock_set_property.assert_called_with('no-quorum-policy', 'ignore') ", mock_is_stonith_configured):,28,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0e3d5748a50937880a55413b75fe6eca479c9160,openstack/tripleo-heat-templates,stable/wallaby,I0e3d5748a50937880a55413b75fe6eca479c9160,Use kolla_config for other actions,MERGED,2021-06-16 19:00:44.000000000,2021-06-25 06:36:14.000000000,2021-06-25 06:36:14.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 19:00:44.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd0a1aca104dd22f5cb7398ea597d77e68144d63', 'message': 'Use kolla_config for other actions\n\nToday for some services we mount in /var/lib/config-data/<service>/etc\nwhich is actually an output from the container-puppet process. We should\nbe using kolla to ensure that we properly create the configurations\nbased on the puppet generated configurations and things in the\ncontainer.  Some services correctly leverage the kolla_config that the\nassociated api/service uses when running their db sync. This patch\naligns the rest to follow the similar pattern.\n\nChange-Id: I0e3d5748a50937880a55413b75fe6eca479c9160\n(cherry picked from commit 8e052715c87dde7fba62824d25b847d52c97dc5e)\n'}]",0,796723,fd0a1aca104dd22f5cb7398ea597d77e68144d63,14,3,1,14985,,,0,"Use kolla_config for other actions

Today for some services we mount in /var/lib/config-data/<service>/etc
which is actually an output from the container-puppet process. We should
be using kolla to ensure that we properly create the configurations
based on the puppet generated configurations and things in the
container.  Some services correctly leverage the kolla_config that the
associated api/service uses when running their db sync. This patch
aligns the rest to follow the similar pattern.

Change-Id: I0e3d5748a50937880a55413b75fe6eca479c9160
(cherry picked from commit 8e052715c87dde7fba62824d25b847d52c97dc5e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/796723/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/swift/swift-ringbuilder-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/deprecated/mistral/mistral-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",22,fd0a1aca104dd22f5cb7398ea597d77e68144d63,config-next-stable/wallaby," config_files: &aodh_api_config_files permissions: &aodh_api_permissions /var/lib/kolla/config_files/aodh_api_db_sync.json: command: ""/usr/bin/bootstrap_host_exec aodh_api su aodh -s /bin/bash -c /usr/bin/aodh-dbsync"" config_files: *aodh_api_config_files permissions: *aodh_api_permissions - - /var/lib/kolla/config_files/aodh_api_db_sync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/aodh:/var/lib/kolla/config_files/src:ro - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - /etc/pki/tls/private/httpd:/etc/pki/tls/private/httpd:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS"," config_files: permissions: - - /var/lib/config-data/aodh/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/aodh/etc/aodh/:/etc/aodh/:ro command: ""/usr/bin/bootstrap_host_exec aodh_api su aodh -s /bin/bash -c /usr/bin/aodh-dbsync"" environment:",281,159
openstack%2Ftripleo-ci~master~I4851f6e498b879fe640d1397b638b7fd315d07ac,openstack/tripleo-ci,master,I4851f6e498b879fe640d1397b638b7fd315d07ac,Imports close_bugs.py utility to move stale bugs to Incomplete,MERGED,2021-02-17 16:46:27.000000000,2021-06-25 06:35:57.000000000,2021-06-25 06:35:57.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-17 16:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/53485a4f10bcab1d966b0e356e3579b8c7bbdf26', 'message': 'Imports close_bugs.py utility to move stale bugs to Incomplete\n\nWe already have the move_bugs utility this adds close_bugs.py\n\nChange-Id: I4851f6e498b879fe640d1397b638b7fd315d07ac\n'}, {'number': 2, 'created': '2021-06-24 15:37:10.000000000', 'files': ['scripts/move_bugs/close_bugs.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7594837480843b153ed105759c8bcff4f8d15b2d', 'message': 'Imports close_bugs.py utility to move stale bugs to Incomplete\n\nWe already have the move_bugs utility this adds close_bugs.py\nThis imports the close_bugs.py from [1] with removal of the\ncommented #pdb.set_trace()\n\n[1] https://gitlab.cee.redhat.com/whayutin/launchpad_bugs/-/blob/master/launchpad_close_old_bugs.py\n\nChange-Id: I4851f6e498b879fe640d1397b638b7fd315d07ac\n'}]",2,776232,7594837480843b153ed105759c8bcff4f8d15b2d,12,4,2,8449,,,0,"Imports close_bugs.py utility to move stale bugs to Incomplete

We already have the move_bugs utility this adds close_bugs.py
This imports the close_bugs.py from [1] with removal of the
commented #pdb.set_trace()

[1] https://gitlab.cee.redhat.com/whayutin/launchpad_bugs/-/blob/master/launchpad_close_old_bugs.py

Change-Id: I4851f6e498b879fe640d1397b638b7fd315d07ac
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/32/776232/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/move_bugs/close_bugs.py'],1,53485a4f10bcab1d966b0e356e3579b8c7bbdf26,I4851f6e498b879fe640d1397b638b7fd315d07ac,"#!/usr/bin/env python # Originally from https://gitlab.cee.redhat.com/whayutin/launchpad_bugs/-/blob/master/launchpad_close_old_bugs.py import argparse import json import os import sys from datetime import datetime, timedelta from launchpadlib.launchpad import Launchpad cachedir = ""{}/.launchpadlib/cache/"".format(os.path.expanduser('~')) def get_bugs(status, tag=None, previous_days=None): #launchpad = Launchpad.login_anonymously( # 'OOOQ Ruck Rover', 'production', cachedir, version='devel') launchpad = Launchpad.login_with('lKfbPKz0qdwdjVLjtnTF', 'production') project = launchpad.projects['tripleo'] # Filter by Status and Tag if tag is not None and previous_days is None: bugs = project.searchTasks( status=status, tags=tag) # Filter by Status only elif tag is None and previous_days is None: bugs = project.searchTasks( status=status) # Filter by Status and Number of Days elif tag is None and previous_days is not None: days_to_search = datetime.utcnow() - timedelta(days=int(previous_days)) bugs = project.searchTasks( status=status, created_before=days_to_search) # Filter by Tag, Status and Number of Days elif tag is not None and previous_days is not None: days_to_search = datetime.utcnow() - timedelta(days=int(previous_days)) bugs = project.searchTasks( status=status, created_before=days_to_search, tags=tag) else: print(""invalid combination of parameters"") sys.exit(1) return bugs def print_as_csv(bug_tasks): if bug_tasks: for bug_task in bug_tasks: #import pdb #pdb.set_trace() print(('{},{},{},{},""{}""').format( bug_task.bug.id, bug_task.status, json.dumps(bug_task.bug.tags).replace( ',', ' ').replace( '""', '').replace( '[', '').replace( ']', ''), bug_task.web_link, json.dumps(bug_task.bug.title).replace( '""', ""'"").replace( ""\\n"", """").replace( ""\\"", """"))) def close_bug(bug_tasks): if bug_tasks: for bug_task in bug_tasks: #import pdb #pdb.set_trace() bug_task.status = ""Incomplete"" bug_task.lp_save() print(bug_task.bug.id) def main(): parser = argparse.ArgumentParser( description=""Print launchpad bugs as influxdb lines"") parser.add_argument('--tag') parser.add_argument('--status', nargs='+', default=['New', 'Triaged', 'In Progress', 'Confirmed', 'Fix Committed']), parser.add_argument('--previous_days', default=365) args = parser.parse_args() #print_as_csv(get_bugs(args.status, # args.tag, # args.previous_days)) close_bug(get_bugs(args.status, args.tag, args.previous_days)) if __name__ == '__main__': main() ",,100,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/victoria,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:03:53.000000000,2021-06-25 06:35:50.000000000,2021-06-25 06:35:50.000000000,"[{'_account_id': 6968}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-24 11:03:53.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52f26b6fb98488c5933ac685b3af6730d7a1e3d7', 'message': 'Do not run Swift rsync container in single replica mode\n\nWhen Swift is running in single replica mode, rsync is pretty much\nuseless - there is no counterpart to transfer data.\n\nOn the undercloud this also prevents misleading error messages if\nxinetd is running and already using port 873.\n\nChange-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93\n(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)\n'}]",0,797771,52f26b6fb98488c5933ac685b3af6730d7a1e3d7,7,4,1,6816,,,0,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/797771/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,52f26b6fb98488c5933ac685b3af6730d7a1e3d7,," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env"," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env",21,21
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~Ic2cab2e7b7d2567af66fa002a4072be6c0806097,openstack/openstack-virtual-baremetal,stable/1.0,Ic2cab2e7b7d2567af66fa002a4072be6c0806097,[DNM] Add id as suffix when private-net is created,ABANDONED,2019-11-08 05:55:37.000000000,2021-06-25 05:54:14.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-11-08 05:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/415dfaeb5ad81b10210ca4442ee92f0c9846f8e2', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 2, 'created': '2019-11-08 06:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/9787f4f2501fdb7a8234468bebeb3bd13e332838', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 3, 'created': '2021-03-01 16:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/ea15cf1c1206e68d63d374cc72ae6d62de78ce43', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 4, 'created': '2021-03-02 06:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/34c4183a5a0e42ff1d3a5432180ae238fca276e8', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 5, 'created': '2021-03-02 08:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/63ea9343f31b0857622d500bb47cefd974475d1e', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 6, 'created': '2021-03-02 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/252c63070216e148b3fb498b3571a6a7c2b0ad3b', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 7, 'created': '2021-03-02 12:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/bea4ec59d5f1ac3bc8198b916c01d3e1038dd8d6', 'message': '[DNM] Test ovb with create private network\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 8, 'created': '2021-03-04 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/70a41dd9b4f05f22da3d6bddec39fac1f8dac9f8', 'message': '[DNM] Add id as suffix when private-net is created\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}, {'number': 9, 'created': '2021-03-05 13:50:28.000000000', 'files': ['openstack_virtual_baremetal/deploy.py', 'environments/create-private-network.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/381170013143b2114ff3da6fab3f48bfd1bde761', 'message': '[DNM] Add id as suffix when private-net is created\n\nChange-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097\n'}]",1,693480,381170013143b2114ff3da6fab3f48bfd1bde761,34,3,9,13861,,,0,"[DNM] Add id as suffix when private-net is created

Change-Id: Ic2cab2e7b7d2567af66fa002a4072be6c0806097
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/80/693480/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/private-net-create.yaml', 'templates/resource-registry.yaml']",2,415dfaeb5ad81b10210ca4442ee92f0c9846f8e2,private_nw_support, OS::OVB::PrivateNetwork: private-net-create.yaml, OS::OVB::PrivateNetwork: private-net-existing.yaml,2,1
openstack%2Fopenstack-ansible~master~I66d17855d33dd04f0925e038aa91347c46bb3e63,openstack/openstack-ansible,master,I66d17855d33dd04f0925e038aa91347c46bb3e63,Set buster jobs to non-voting,MERGED,2021-06-24 08:48:47.000000000,2021-06-25 05:47:34.000000000,2021-06-24 23:49:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-24 08:48:47.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55ac8d3d008e14360049d989c7044512afc45fdf', 'message': 'Set buster jobs to non-voting\n\nDue to kernel bug [1] that was brought in with Debian 10.10, that makes\nimpossible to attach unprivileged container,\nwe mark Debian jobs as non-voting, since kernel patch has already landed\nand we wait for new kernel to be packaged and nodepool images update\n\n[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=990072\n\nChange-Id: I66d17855d33dd04f0925e038aa91347c46bb3e63\n'}]",0,797819,55ac8d3d008e14360049d989c7044512afc45fdf,11,2,1,28619,,,0,"Set buster jobs to non-voting

Due to kernel bug [1] that was brought in with Debian 10.10, that makes
impossible to attach unprivileged container,
we mark Debian jobs as non-voting, since kernel patch has already landed
and we wait for new kernel to be packaged and nodepool images update

[1] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=990072

Change-Id: I66d17855d33dd04f0925e038aa91347c46bb3e63
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/797819/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,55ac8d3d008e14360049d989c7044512afc45fdf,, voting: false voting: false voting: false voting: false voting: false,,5,4
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~I657bf3e207bc6f12fde17360344abb13cab97aa2,openstack/openstack-virtual-baremetal,stable/1.0,I657bf3e207bc6f12fde17360344abb13cab97aa2,[DNM] Test bmc override,ABANDONED,2021-03-23 04:45:41.000000000,2021-06-25 05:39:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-23 04:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/b497054803223b771cf1ac7fdfae807150ac6207', 'message': '[DNM] Test bmc override\n\nChange-Id: I657bf3e207bc6f12fde17360344abb13cab97aa2\n'}, {'number': 2, 'created': '2021-03-23 13:17:50.000000000', 'files': ['templates/virtual-baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/0c65db137d298acbe9d3e3a98946d2b1501a25ad', 'message': '[DNM] Test bmc override\n\nChange-Id: I657bf3e207bc6f12fde17360344abb13cab97aa2\n'}]",0,782358,0c65db137d298acbe9d3e3a98946d2b1501a25ad,7,2,2,13861,,,0,"[DNM] Test bmc override

Change-Id: I657bf3e207bc6f12fde17360344abb13cab97aa2
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/58/782358/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/virtual-baremetal.yaml'],1,b497054803223b771cf1ac7fdfae807150ac6207,, config_drive: true,,1,0
openstack%2Ftripleo-heat-templates~master~I168fbabc971939b3f3604c8b8c7d8898c606d6c7,openstack/tripleo-heat-templates,master,I168fbabc971939b3f3604c8b8c7d8898c606d6c7,Run cloud-init wait task only when service is not inactive,ABANDONED,2021-01-29 08:19:15.000000000,2021-06-25 05:37:57.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-29 08:19:15.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f93cf385c690ab591046e3db47d2d8422f7b8ea0', 'message': ""Run cloud-init wait task only when service is not inactive\n\n[1] Added cloud-init wait task to run when cloud-init service\nis in 'enabled' state.\n\nBut since cloud-init depends on NetworkManager-wait-online.service,\nif that fails cloud-init will never start on boot leading\nto cloud-init wait task to fail, let's run that task only\nwhen cloud-init service is not in 'inactive' state.\n\nNetworkManager-wait-online.service can fail to start on\nslow nodes where NetworkManager takes more than 60 seconds\nto fully start.\n\n[1] https://review.opendev.org/764943\n\nCloses-Bug: #1913675\nChange-Id: I168fbabc971939b3f3604c8b8c7d8898c606d6c7\n""}]",0,772979,f93cf385c690ab591046e3db47d2d8422f7b8ea0,19,5,1,13861,,,0,"Run cloud-init wait task only when service is not inactive

[1] Added cloud-init wait task to run when cloud-init service
is in 'enabled' state.

But since cloud-init depends on NetworkManager-wait-online.service,
if that fails cloud-init will never start on boot leading
to cloud-init wait task to fail, let's run that task only
when cloud-init service is not in 'inactive' state.

NetworkManager-wait-online.service can fail to start on
slow nodes where NetworkManager takes more than 60 seconds
to fully start.

[1] https://review.opendev.org/764943

Closes-Bug: #1913675
Change-Id: I168fbabc971939b3f3604c8b8c7d8898c606d6c7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/772979/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,f93cf385c690ab591046e3db47d2d8422f7b8ea0,,"- name: Wait for cloud-init to finish, if enabled and not inactive ansible_facts.services['cloud-init.service']['status'] == 'enabled' and ansible_facts.services['cloud-init.service']['state'] != 'inactive'","- name: Wait for cloud-init to finish, if enabled ansible_facts.services['cloud-init.service']['status'] == 'enabled'",3,2
openstack%2Ftripleo-upgrade~master~I4c0c5ef19011067ad98a0fd785c96a0a1d27d328,openstack/tripleo-upgrade,master,I4c0c5ef19011067ad98a0fd785c96a0a1d27d328,Do not run job on .pre-commit-config.yaml changes,MERGED,2021-06-24 16:12:24.000000000,2021-06-25 05:26:16.000000000,2021-06-25 05:26:16.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-24 16:12:24.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/da2dd1e548e3236940309ea400a528602f12800b', 'message': 'Do not run job on .pre-commit-config.yaml changes\n\nWhen .pre-commit-config.yaml is changed it will affect on the way how we\ntest our changes. There is no need to spin up environment on its change\n\nChange-Id: I4c0c5ef19011067ad98a0fd785c96a0a1d27d328\n'}]",0,797969,da2dd1e548e3236940309ea400a528602f12800b,8,6,1,11090,,,0,"Do not run job on .pre-commit-config.yaml changes

When .pre-commit-config.yaml is changed it will affect on the way how we
test our changes. There is no need to spin up environment on its change

Change-Id: I4c0c5ef19011067ad98a0fd785c96a0a1d27d328
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/797969/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,da2dd1e548e3236940309ea400a528602f12800b,exclude_pre-commit-config, - ^.pre-commit-config.yaml$,,1,0
openstack%2Ftripleo-upgrade~master~Ibe63195d2c7259255af0026986e4dad1e1e6f26a,openstack/tripleo-upgrade,master,Ibe63195d2c7259255af0026986e4dad1e1e6f26a,Remove xinetd when leapp upgrading the Undercloud.,MERGED,2021-06-17 11:09:47.000000000,2021-06-25 05:26:13.000000000,2021-06-25 05:26:13.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 11:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9e0cac7a643c4b1764033b08f8c4d7a72ea8be37', 'message': 'Remove xinetd when leapp upgrading the Undercloud.\n\nxinetd was left aside from the list of packages to remove before\nupgrading the Undercloud and this caused issues with swift_rsync.\n\nChange-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a\n'}, {'number': 2, 'created': '2021-06-24 12:09:17.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd671ed34e3e37ec78a60a14419f029fc556a548', 'message': 'Remove xinetd when leapp upgrading the Undercloud.\n\nxinetd was left aside from the list of packages to remove before\nupgrading the Undercloud and this caused issues with swift_rsync.\n\nChange-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a\n'}]",0,796821,dd671ed34e3e37ec78a60a14419f029fc556a548,13,2,2,26343,,,0,"Remove xinetd when leapp upgrading the Undercloud.

xinetd was left aside from the list of packages to remove before
upgrading the Undercloud and this caused issues with swift_rsync.

Change-Id: Ibe63195d2c7259255af0026986e4dad1e1e6f26a
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/796821/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,9e0cac7a643c4b1764033b08f8c4d7a72ea8be37,, xinetd,,1,0
openstack%2Ftripleo-quickstart~master~I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a,openstack/tripleo-quickstart,master,I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a,[DNM] Test ovs2.15 with upgrades,ABANDONED,2021-06-15 11:04:39.000000000,2021-06-25 05:26:11.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-15 11:04:39.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72bd82536cd6dda176c98d7c97057a5fe6ac4581', 'message': '[DNM] Test ovs2.15 with upgrades\n\nChange-Id: I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a\n'}]",0,796424,72bd82536cd6dda176c98d7c97057a5fe6ac4581,3,1,1,13861,,,0,"[DNM] Test ovs2.15 with upgrades

Change-Id: I2b0f1e8a0f642409d4e24cda1e8df2967564ca4a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/796424/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'zuul.d/layout.yaml']",2,72bd82536cd6dda176c98d7c97057a5fe6ac4581,dnmovs, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - openstack-tox-molecule - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - openstack-tox-linters,7,28
openstack%2Ftripleo-ansible~master~Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e,openstack/tripleo-ansible,master,Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e,Delete network VIPs on stack delete,MERGED,2021-06-07 10:42:30.000000000,2021-06-25 04:33:49.000000000,2021-06-25 04:32:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-07 10:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/287a9d8eac21cbbc4497332702bbf45f144d34be', 'message': ""Delete network VIPs on stack delete\n\nUpdate the tripleo_overcloud_network_vip_provision\nmodule to remove obsolete network vip ports for a\nstack by keeping a list of managed vip ports in\n'managed_ports', then run a cleanup to delete any\nport with the apropriate tags that are not in the\n'managed_ports' list to keep the provisioned resources\nstate matching the VIPs defined in the vip_data.\n\nOn stack delete, call the module without specifying any\nvip_data, so that the remove_obsolete_ports method will\ndelete any network VIP port resources associated with\nthe stack.\n\nAlso add cli-overcloud-network-vip-unprovision.yaml.\n\nRelated-Blueprint: blueprint network-data-v2-ports\nChange-Id: Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e\n""}, {'number': 2, 'created': '2021-06-18 18:14:58.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/playbooks/cli-overcloud-network-vip-unprovision.yaml', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_provision.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/260cdbf00c779479e382b1041ec5f03d8af1cf1f', 'message': ""Delete network VIPs on stack delete\n\nUpdate the tripleo_overcloud_network_vip_provision\nmodule to remove obsolete network vip ports for a\nstack by keeping a list of managed vip ports in\n'managed_ports', then run a cleanup to delete any\nport with the apropriate tags that are not in the\n'managed_ports' list to keep the provisioned resources\nstate matching the VIPs defined in the vip_data.\n\nOn stack delete, call the module without specifying any\nvip_data, so that the remove_obsolete_ports method will\ndelete any network VIP port resources associated with\nthe stack.\n\nAlso add cli-overcloud-network-vip-unprovision.yaml.\n\nRelated-Blueprint: blueprint network-data-v2-ports\nChange-Id: Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e\n""}]",0,795084,260cdbf00c779479e382b1041ec5f03d8af1cf1f,14,4,2,24245,,,0,"Delete network VIPs on stack delete

Update the tripleo_overcloud_network_vip_provision
module to remove obsolete network vip ports for a
stack by keeping a list of managed vip ports in
'managed_ports', then run a cleanup to delete any
port with the apropriate tags that are not in the
'managed_ports' list to keep the provisioned resources
state matching the VIPs defined in the vip_data.

On stack delete, call the module without specifying any
vip_data, so that the remove_obsolete_ports method will
delete any network VIP port resources associated with
the stack.

Also add cli-overcloud-network-vip-unprovision.yaml.

Related-Blueprint: blueprint network-data-v2-ports
Change-Id: Idcfd47dcfe6d635da4cc6bb6f18cbaa2a3bc4a6e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/795084/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py', 'tripleo_ansible/playbooks/cli-overcloud-network-vip-unprovision.yaml', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_provision.py']",4,287a9d8eac21cbbc4497332702bbf45f144d34be,network-data-v2," 'ip_address for the vip on this network.'.format( managed_ports = list() plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec, managed_ports) managed_ports = list() plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec, managed_ports) self.assertEqual([fake_port.id], managed_ports) managed_ports = list() plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec, managed_ports) self.assertEqual([fake_port.id], managed_ports) def test_remove_obsolete_ports_deletes_port(self, mock_conn): fake_port = stubs.FakeNeutronPort( id='port_id', name='network1_virtual_ip', network_id='network1_id', fixed_ips=[{'ip_address': '1.2.3.4'}], dns_name='overcloud', tags=['tripleo_stack_name=stack', 'tripleo_vip_net=network1'] ) mock_conn.network.ports.return_value = self.a2g([fake_port]) plugin.remove_obsolete_ports(mock_conn, 'stack', []) mock_conn.network.delete_port.assert_called_once_with(fake_port.id) def test_remove_obsolete_ports_does_not_delete_managed(self, mock_conn): fake_port = stubs.FakeNeutronPort( id='port_id', name='network1_virtual_ip', network_id='network1_id', fixed_ips=[{'ip_address': '1.2.3.4'}], dns_name='overcloud', tags=['tripleo_stack_name=stack', 'tripleo_vip_net=network1'] ) mock_conn.network.ports.return_value = self.a2g([fake_port]) plugin.remove_obsolete_ports(mock_conn, 'stack', [fake_port.id]) mock_conn.network.delete_port.assert_not_called()"," 'ip_address for the vip on whit network.'.format( plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec) plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec) plugin.provision_vip_port(mock_conn, 'stack', NET_MAPS, vip_spec)",98,10
openstack%2Ftripleo-heat-templates~master~I3ceacb5e26a6878049fc13b24b541ebdc763c16a,openstack/tripleo-heat-templates,master,I3ceacb5e26a6878049fc13b24b541ebdc763c16a,Drop usage of removed tripleo::haproxy parameters,MERGED,2021-06-04 14:11:50.000000000,2021-06-25 04:32:40.000000000,2021-06-25 04:32:40.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 14:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afe5dc7df2457977d4edf3d8841e2648c4473197', 'message': 'Remove leftover of Panko support\n\nChange-Id: I3ceacb5e26a6878049fc13b24b541ebdc763c16a\n'}, {'number': 2, 'created': '2021-06-04 14:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc84ff01144c3e3aabcb78cba01a196996a5ad08', 'message': 'Remove invalid parameters from haproxy-edge-container-puppet.yaml\n\nec2api and panko is no longer supported by TripleO.\nThis change drops usage of removed tripleo::haproxy parameters for\nthese two services.\n\nChange-Id: I3ceacb5e26a6878049fc13b24b541ebdc763c16a\n'}, {'number': 3, 'created': '2021-06-04 14:26:39.000000000', 'files': ['deployment/haproxy/haproxy-edge-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d0320ad99ff8d3a2def127ee735dbeb63abbfbf', 'message': 'Drop usage of removed tripleo::haproxy parameters\n\nec2api and panko are no longer supported by TripleO.\nThis change drops remaining usage of the removed tripleo::haproxy\nparameters for these two services.\n\nChange-Id: I3ceacb5e26a6878049fc13b24b541ebdc763c16a\n'}]",0,794834,7d0320ad99ff8d3a2def127ee735dbeb63abbfbf,10,4,3,9816,,,0,"Drop usage of removed tripleo::haproxy parameters

ec2api and panko are no longer supported by TripleO.
This change drops remaining usage of the removed tripleo::haproxy
parameters for these two services.

Change-Id: I3ceacb5e26a6878049fc13b24b541ebdc763c16a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/794834/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-edge-container-puppet.yaml'],1,afe5dc7df2457977d4edf3d8841e2648c4473197,haproxy-invalid-params,, tripleo::haproxy::panko: false,0,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/ussuri,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:04:15.000000000,2021-06-25 04:32:35.000000000,2021-06-25 04:32:35.000000000,"[{'_account_id': 6968}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-24 11:04:15.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78546082510f23fbc55679e570f31e4bf1ebe8ad', 'message': 'Do not run Swift rsync container in single replica mode\n\nWhen Swift is running in single replica mode, rsync is pretty much\nuseless - there is no counterpart to transfer data.\n\nOn the undercloud this also prevents misleading error messages if\nxinetd is running and already using port 873.\n\nChange-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93\n(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)\n'}]",0,797772,78546082510f23fbc55679e570f31e4bf1ebe8ad,7,4,1,6816,,,0,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/797772/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,78546082510f23fbc55679e570f31e4bf1ebe8ad,," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env"," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env",21,21
openstack%2Ftripleo-ansible~stable%2Ftrain~Ie0e3f25976464121e27f73765ccd271557d60e96,openstack/tripleo-ansible,stable/train,Ie0e3f25976464121e27f73765ccd271557d60e96,BnR Added a nfs validation when the nfs server is installed,MERGED,2021-06-15 14:47:10.000000000,2021-06-25 04:32:15.000000000,2021-06-25 04:32:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/95cdccc7fc7a838d56793eb686cdd6b30945502b', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}, {'number': 2, 'created': '2021-06-21 08:42:30.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d664889b5ed4c4b01acdb383a626c32186db3841', 'message': 'BnR Added a nfs validation when the nfs server is installed\n\nAdded a simple validation, the Backupnode group needs to be configured. Besides the name\nof the group can be configured by parameter.\n\nChange-Id: Ie0e3f25976464121e27f73765ccd271557d60e96\n(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)\n'}]",1,796446,d664889b5ed4c4b01acdb383a626c32186db3841,11,3,2,22954,,,0,"BnR Added a nfs validation when the nfs server is installed

Added a simple validation, the Backupnode group needs to be configured. Besides the name
of the group can be configured by parameter.

Change-Id: Ie0e3f25976464121e27f73765ccd271557d60e96
(cherry picked from commit 994d331095337d9b9c95e8c8b15bb5798c0bc00c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/796446/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/prepare-nfs-backup.yaml'],1,95cdccc7fc7a838d56793eb686cdd6b30945502b,BnR_validations-stable/wallaby-stable/victoria-stable/victoria-stable/ussuri-stable/train,"- name: Check BackupNode group hosts: localhost tasks: - assert: that: - nfs_server_group_name | default(""BackupNode"") in groups - ( groups[nfs_server_group_name | default(""BackupNode"") ] | length ) > 0 fail_msg: ""There is no server on {{ nfs_server_group_name | default('BackupNode') }} groups"" tags: bar_setup_nfs_server hosts: '{{ nfs_server_group_name | default(""BackupNode"") }}'", hosts: BackupNode,11,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I445418bb52fa38604c797a9dc69492edb0a41a8c,openstack/tripleo-ansible,stable/wallaby,I445418bb52fa38604c797a9dc69492edb0a41a8c,Add support for collocating Unbound and bind on the same host,MERGED,2021-06-21 18:43:29.000000000,2021-06-25 04:32:12.000000000,2021-06-25 04:32:12.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 18:43:29.000000000', 'files': ['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_unbound/templates/unbound_build_vars.j2', 'tripleo_ansible/roles/tripleo_unbound/templates/tripleo-base-unbound.conf.j2', '.ansible-lint', 'tripleo_ansible/roles/tripleo_unbound/tasks/collocated_bind.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/862f876dcd8d374df3f4731f4b28c5a2c09d2f05', 'message': 'Add support for collocating Unbound and bind on the same host\n\nIn designate deployments, bind and unbound might be collocated and need\nto be bound to the same port on the same network. This patch supports\nadding a unique IP so that the two services can do that.\n\nConflicts:\n\ttripleo_ansible/roles/tripleo_unbound/tasks/main.yml\n\nChange-Id: I445418bb52fa38604c797a9dc69492edb0a41a8c\n(cherry picked from commit e8db40f753ed954ba09ed8bf817e282dd57b4caf)\n'}]",0,797342,862f876dcd8d374df3f4731f4b28c5a2c09d2f05,7,3,1,6681,,,0,"Add support for collocating Unbound and bind on the same host

In designate deployments, bind and unbound might be collocated and need
to be bound to the same port on the same network. This patch supports
adding a unique IP so that the two services can do that.

Conflicts:
	tripleo_ansible/roles/tripleo_unbound/tasks/main.yml

Change-Id: I445418bb52fa38604c797a9dc69492edb0a41a8c
(cherry picked from commit e8db40f753ed954ba09ed8bf817e282dd57b4caf)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/797342/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_unbound/templates/unbound_build_vars.j2', 'tripleo_ansible/roles/tripleo_unbound/templates/tripleo-base-unbound.conf.j2', '.ansible-lint', 'tripleo_ansible/roles/tripleo_unbound/tasks/collocated_bind.yml']",5,862f876dcd8d374df3f4731f4b28c5a2c09d2f05,designate-wallaby,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Find the interface for the public API network tripleo_findif_for_ip: ip_address: ""{{ lookup('vars', tripleo_unbound_bind_network + '_ip') }}"" register: _public_api_interface # Using ifup-local to ensure the IP address is always set follows a pattern used # for resetting VF counts used in the SR-IOV support. The file shouldn't be # wiped clean because it may be being used for other things (e.g. SR-IOV) - name: create ifup-local if it doesn't exist become: true lineinfile: create: true path: ""/sbin/ifup-local"" state: present line: ""#!/bin/bash"" insertbefore: BOF mode: 0755 # The following two blocks set the IP on the interface and add a line to # ifup-local to make sure the IP persists through reboots or ifup/ifdown # cycles. The comment at the end of the line in ifup-local serves as an anchor # to the regexp parameter to lineinfile. These will have to be modified when # moving to NetworkManager only environments. - name: If specified, have Unbound listen on a different IP (version 4) when: - tripleo_unbound_listen_interfaces[0]|ipv4 - (_public_api_interface.interface is defined) and (_public_api_interface.interface|length > 0) become: true block: - name: Set the unbound additional IPv4 address on the required device. command: ""ip addr add {{ tripleo_unbound_listen_interfaces[0] }}/32 dev {{ _public_api_interface.interface }}"" - name: Add line to ifup-local to make sure unbound's listen IPv4 address is set on restart become: true lineinfile: path: ""/sbin/ifup-local"" line: '[ ""{{ _public_api_interface.interface }}"" == ""$1"" ] && ip addr add {{ tripleo_unbound_listen_interfaces[0] }}/32 dev {{ _public_api_interface.interface }} # collocated_unbound_bind' regexp: 'collocated_unbound_bind' state: present - name: If specified, have Unbound listen on a different IP (version 6) when: - tripleo_unbound_listen_interfaces[0]|ipv6 - (_public_api_interface.interface is defined) and (_public_api_interface.interface|length > 0) become: true block: - name: Set the unbound additional IPv6 address on the required device. command: ""ip addr add {{ tripleo_unbound_listen_interfaces[0] }}/128 dev {{ _public_api_interface.interface }}"" - name: Add line to ifup-local to make sure unbound's listen IPv6 address is set on restart become: true lineinfile: path: ""/sbin/ifup-local"" line: '[ ""{{ _public_api_interface.interface }}"" == ""$1"" ] && ip addr add {{ tripleo_unbound_listen_interfaces[0] }}/128 dev {{ _public_api_interface.interface }} # collocated_unbound_bind' regexp: 'collocated_unbound_bind' state: present ",,90,4
openstack%2Fneutron~master~I2c8392628dd63ca612c6d8428daab66724e88c20,openstack/neutron,master,I2c8392628dd63ca612c6d8428daab66724e88c20,Remove tox_install_siblings=False from the functional job's definition,MERGED,2021-06-23 11:12:38.000000000,2021-06-25 03:32:46.000000000,2021-06-25 03:29:25.000000000,"[{'_account_id': 841}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 11:12:38.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbfa1b5d9298dc146ff5eb6e560fea42600cf64f', 'message': ""Remove tox_install_siblings=False from the functional job's definition\n\nIt is set to true by default in base jobs. Also e.g. in\nfunctional job for neutron-dynamic-routing it is set to True so\nit should be fine to use default value in the neutron-functional job as\nwell.\n\nRelated-bug: #1932483\nChange-Id: I2c8392628dd63ca612c6d8428daab66724e88c20\n""}]",0,797622,dbfa1b5d9298dc146ff5eb6e560fea42600cf64f,32,4,1,11975,,,0,"Remove tox_install_siblings=False from the functional job's definition

It is set to true by default in base jobs. Also e.g. in
functional job for neutron-dynamic-routing it is set to True so
it should be fine to use default value in the neutron-functional job as
well.

Related-bug: #1932483
Change-Id: I2c8392628dd63ca612c6d8428daab66724e88c20
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/797622/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,dbfa1b5d9298dc146ff5eb6e560fea42600cf64f,bug/1932483,, tox_install_siblings: false,0,1
openstack%2Fnova~stable%2Ftrain~I3b597a46314a1b29a952fc0f7a9c4537341e37b8,openstack/nova,stable/train,I3b597a46314a1b29a952fc0f7a9c4537341e37b8,Add missing exception,MERGED,2020-11-19 15:21:36.000000000,2021-06-25 03:32:40.000000000,2021-06-25 03:30:38.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-19 15:21:36.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eaecd1ceb0243b31cde9b3c909e8fb3fbef7e635', 'message': ""Add missing exception\n\nChange Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for\ndiscovery of PMEM devices by the libvirt driver. Some error handling\ncode in this was expected to raise a 'GetPMEMNamespacesFailed'\nexception, however, a typo meant the exception was actually called\n'GetPMEMNamespaceFailed' (singular). This exception was later removed in\nchange I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no\nreferences.\n\nRe-introduce the exception, this time with the correct name, and add\nsome unit tests to prevent us regressing.\n\nConflicts:\n\tnova/exception.py\n\nNOTE(stephenfin): Conflicts are because change\nI6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 doesn't exist on this branch,\nmeaning the misnamed exception still exists and simply needs to be\nrenamed.\n\nChange-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1904446\n(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)\n(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)\n(cherry picked from commit 8f65de96a07623c6a8a9cd49db942ad6d4d3ab03)\n""}]",0,763393,eaecd1ceb0243b31cde9b3c909e8fb3fbef7e635,15,6,1,15334,,,0,"Add missing exception

Change Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for
discovery of PMEM devices by the libvirt driver. Some error handling
code in this was expected to raise a 'GetPMEMNamespacesFailed'
exception, however, a typo meant the exception was actually called
'GetPMEMNamespaceFailed' (singular). This exception was later removed in
change I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no
references.

Re-introduce the exception, this time with the correct name, and add
some unit tests to prevent us regressing.

Conflicts:
	nova/exception.py

NOTE(stephenfin): Conflicts are because change
I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 doesn't exist on this branch,
meaning the misnamed exception still exists and simply needs to be
renamed.

Change-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1904446
(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)
(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)
(cherry picked from commit 8f65de96a07623c6a8a9cd49db942ad6d4d3ab03)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/763393/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,eaecd1ceb0243b31cde9b3c909e8fb3fbef7e635,bug/1904446," @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test_get_vpmems_on_host__exception(self, mock_get_ns): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) mock_get_ns.side_effect = Exception('foo') self.assertRaises( exception.GetPMEMNamespacesFailed, drvr._get_vpmems_on_host) ",,10,1
openstack%2Fneutron~stable%2Fussuri~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/ussuri,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:54:15.000000000,2021-06-25 03:32:35.000000000,2021-06-25 03:29:53.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 06:54:15.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/agents_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/96259e96c76475f11ec91d41749d1aca56598427', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)\n""}]",0,797759,96259e96c76475f11ec91d41749d1aca56598427,12,3,1,11975,,,0,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/797759/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py']",4,96259e96c76475f11ec91d41749d1aca56598427,bug/1891360-stable/wallaby-stable/victoria-stable/ussuri," def get_ports_by_host(cls, context, host): query = context.session.query(models_v2.Port.id).join( ml2_models.PortBinding) query = query.filter( ml2_models.PortBinding.host == host) return [port_id[0] for port_id in query.all()] @classmethod",,185,0
openstack%2Ftempest~master~I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb,openstack/tempest,master,I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb,Remove skip for test_fix_argument_yes unit test,MERGED,2021-06-22 11:53:51.000000000,2021-06-25 03:32:32.000000000,2021-06-25 03:30:11.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 11:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f60fda42899167fdb20f82fa57d354296b252f40', 'message': 'DNM: Experimenting with test_fix_argument_yes test\n\nChange-Id: I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb\n'}, {'number': 2, 'created': '2021-06-24 07:09:08.000000000', 'files': ['tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e638ce8b5216b0e336ef1fe998a991ed7c4c5bb1', 'message': 'Remove skip for test_fix_argument_yes unit test\n\nThe test is not failing anymore, so removing the skip\ndecorator.\n\nCloses-Bug: 1918316\nChange-Id: I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb\n'}]",0,797436,e638ce8b5216b0e336ef1fe998a991ed7c4c5bb1,9,2,2,22873,,,0,"Remove skip for test_fix_argument_yes unit test

The test is not failing anymore, so removing the skip
decorator.

Closes-Bug: 1918316
Change-Id: I9771ed73f3ff0da2025edb3fd3a84a9bfaab7eeb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/36/797436/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/cmd/test_check_uuid.py'],1,f60fda42899167fdb20f82fa57d354296b252f40,,,from tempest.lib import decorators @decorators.skip_because(bug='1918316'),0,2
openstack%2Frequirements~master~I3468337f853707928a989bd1c12ec2a4afe4dccb,openstack/requirements,master,I3468337f853707928a989bd1c12ec2a4afe4dccb,update eventlet to 0.31.0,MERGED,2021-05-25 17:57:15.000000000,2021-06-25 03:32:28.000000000,2021-06-25 03:29:37.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-25 17:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/667768a9c9ae74b532f98f3175fb3286d0f2b5df', 'message': 'update eventlet to 0.31.0\n\nChange-Id: I3468337f853707928a989bd1c12ec2a4afe4dccb\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2021-06-24 13:31:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/51b961fa37507a5783b0b3ed5055678998e7e127', 'message': 'update eventlet to 0.31.0\n\nChange-Id: I3468337f853707928a989bd1c12ec2a4afe4dccb\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,793021,51b961fa37507a5783b0b3ed5055678998e7e127,11,2,2,14288,,,0,"update eventlet to 0.31.0

Change-Id: I3468337f853707928a989bd1c12ec2a4afe4dccb
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/793021/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,667768a9c9ae74b532f98f3175fb3286d0f2b5df,eventlet-0.31.0,eventlet===0.31.0,eventlet===0.30.2,1,1
openstack%2Frequirements~stable%2Fwallaby~I208b00629493953a502f8b95756820ae0d9a9cb6,openstack/requirements,stable/wallaby,I208b00629493953a502f8b95756820ae0d9a9cb6,Add ruamel.yaml to global-requirements.txt,MERGED,2021-06-18 10:20:02.000000000,2021-06-25 03:29:45.000000000,2021-06-25 03:29:45.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14288}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-18 10:20:02.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/148563d374d3cad33c286f28a10e4ba330d154b5', 'message': 'Add ruamel.yaml to global-requirements.txt\n\nThis Python library is now a requirement for building\ndocumentation (ansible-autodoc) for the following project:\n- openstack/tripleo-validations\n- openstack/validations-common\n\nruamel.yaml is a YAML 1.2 loader/dumper package for Python.\n\nThe library is actively maintained, with almost a weekly release. It is\ncompatible with Python 2 and 3 and licensed under the MIT.\n\nhttps://pypi.org/project/ruamel.yaml/\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I208b00629493953a502f8b95756820ae0d9a9cb6\n(cherry picked from commit 5930f2fbd44667943b9ea20fcaf995f25dde4954)\n'}]",0,797048,148563d374d3cad33c286f28a10e4ba330d154b5,10,8,1,11491,,,0,"Add ruamel.yaml to global-requirements.txt

This Python library is now a requirement for building
documentation (ansible-autodoc) for the following project:
- openstack/tripleo-validations
- openstack/validations-common

ruamel.yaml is a YAML 1.2 loader/dumper package for Python.

The library is actively maintained, with almost a weekly release. It is
compatible with Python 2 and 3 and licensed under the MIT.

https://pypi.org/project/ruamel.yaml/

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I208b00629493953a502f8b95756820ae0d9a9cb6
(cherry picked from commit 5930f2fbd44667943b9ea20fcaf995f25dde4954)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/797048/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,148563d374d3cad33c286f28a10e4ba330d154b5,add_ruamel_yaml,ruamel.yaml===0.17.7,,2,0
openstack%2Fskyline-console~master~I29cd91f47069c9e64928800094282d4cbc977920,openstack/skyline-console,master,I29cd91f47069c9e64928800094282d4cbc977920,docs: Add Chinese documents,MERGED,2021-06-25 01:52:48.000000000,2021-06-25 03:12:47.000000000,2021-06-25 03:12:47.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}]","[{'number': 1, 'created': '2021-06-25 01:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0f85d727dafeed175bb8c0bd84b41b1228c2c13f', 'message': 'docs: Add Chinese documents\n\n1. Add Chinese development documents\n2. Add Chinese test document\n\nChange-Id: I29cd91f47069c9e64928800094282d4cbc977920\n'}, {'number': 2, 'created': '2021-06-25 02:54:41.000000000', 'files': ['docs/zh/test/images/e2e/detail/list.png', 'docs/zh/test/images/e2e/table/confirm-more-1.png', 'docs/zh/test/images/e2e/table/first-confirm-2.png', 'docs/zh/develop/images/form/title.png', 'docs/zh/develop/images/form/input-name.png', 'docs/zh/test/images/e2e/table/search-text-1.png', 'docs/zh/develop/images/form/member-allocator.png', 'docs/zh/develop/images/form/step.png', 'docs/zh/develop/images/detail/image-detail-info.png', 'docs/zh/test/images/e2e/form/form-name.png', 'docs/zh/test/images/e2e/form/notice.png', 'docs/zh/test/images/e2e/form/wait-form-loading.png', 'docs/zh/test/images/e2e/table/action-in-more.png', 'docs/zh/test/images/e2e/table/simple-search.png', 'docs/zh/develop/images/form/form-tip.png', 'docs/zh/develop/3-3-BaseDetail-introduction.md', 'docs/zh/develop/images/form/textarea-from-file.png', 'docs/zh/test/images/e2e/form/select-value.png', 'docs/zh/test/images/e2e/detail/name.png', 'docs/zh/develop/images/form/metadata-transfer.png', 'docs/zh/test/images/e2e/table/search-text-3.png', 'docs/zh/test/images/e2e/form/select.png', 'docs/zh/develop/images/form/input-password.png', 'docs/zh/develop/images/form/ace-editor.png', 'docs/zh/develop/3-1-BaseList-introduction.md', 'docs/zh/develop/images/store/response-key.png', 'docs/zh/develop/3-11-Action-introduction.md', 'docs/zh/test/images/e2e/form/radio.png', 'docs/zh/develop/images/list/batch.png', 'docs/zh/develop/images/list/hide.png', 'docs/zh/develop/images/form/page.png', 'docs/zh/develop/images/form/network-select.png', 'docs/zh/test/images/e2e/table/detail-2.png', 'docs/zh/test/images/e2e/console.png', 'docs/zh/test/images/unit/result.png', 'docs/zh/develop/images/form/select.png', 'docs/zh/test/images/e2e/table/wait-table-loading.png', 'docs/zh/develop/3-2-BaseTabList-introduction.md', 'docs/zh/develop/images/menu/console-menu.png', 'docs/zh/develop/3-7-ModalAction-introduction.md', 'docs/zh/develop/images/list/tab-list.png', 'docs/zh/develop/images/form/volume-select-table.png', 'docs/zh/test/images/e2e/table/search-select-2.png', 'docs/zh/test/images/e2e/form/input.png', 'docs/zh/develop/images/form/network-select-table.png', 'docs/zh/develop/images/form/input-json.png', 'docs/zh/test/images/e2e/table/wait-2.png', 'docs/zh/test/3-1-E2E-form-operation.md', 'docs/zh/test/images/e2e/form/select-table-search.png', 'docs/zh/test/images/e2e/table/action-by-title-2.png', 'docs/zh/develop/images/form/radio.png', 'docs/zh/develop/images/list/search-example.png', 'docs/zh/test/images/e2e/table/header-confirm-title.png', 'docs/zh/develop/images/form/input.png', 'docs/zh/develop/images/form/upload.png', 'docs/zh/develop/images/form/input-int.png', 'docs/zh/develop/images/form/wrapper-col.png', 'docs/zh/develop/images/form/ip-input.png', 'docs/zh/develop/images/form/courgette.log', 'docs/zh/test/images/e2e/form/textarea-json.png', 'docs/zh/test/images/e2e/gui-list.png', 'docs/zh/test/images/e2e/form/select-all.png', 'docs/zh/develop/images/form/modal.png', 'docs/zh/test/images/e2e/form/tab.png', 'docs/zh/develop/images/form/create-success.png', 'docs/zh/test/3-2-E2E-table-operation.md', 'docs/zh/test/images/e2e/table/action-by-title.png', 'docs/zh/test/images/e2e/table/click-first.png', 'docs/zh/develop/images/form/form-label.png', 'docs/zh/test/3-3-E2E-detail-operation.md', 'docs/zh/test/1-ready-to-work.md', 'docs/zh/develop/2-catalog-introduction.md', 'docs/zh/develop/3-14-I18n-introduction.md', 'docs/zh/test/images/e2e/form/click-confirm-submit.png', 'docs/zh/test/images/e2e/form/click-modal-submit.png', 'docs/zh/test/images/e2e/table/confirm-more-2.png', 'docs/zh/develop/images/form/mac-address.png', 'docs/zh/develop/3-6-FormAction-introduction.md', '.prettierignore', 'docs/zh/test/images/e2e/table/detail-1.png', 'docs/zh/test/images/e2e/table/search.png', 'docs/zh/develop/images/form/textarea.png', 'docs/zh/develop/1-ready-to-work.md', 'docs/zh/test/images/e2e/table/header-btn-title.png', 'docs/zh/test/images/e2e/form/disable-action.png', 'docs/zh/develop/images/form/port-range.png', 'docs/zh/test/3-0-how-to-edit-e2e-case.md', 'docs/zh/develop/images/form/check-group.png', 'docs/zh/develop/images/list/download.png', 'docs/zh/test/images/e2e/form/transfer-right.png', 'docs/zh/develop/images/form/check.png', 'docs/zh/develop/images/menu/admin-menu.png', 'docs/zh/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/images/form/add-select.png', 'docs/zh/develop/3-9-StepAction-introduction.md', 'docs/zh/test/images/e2e/table/first-confirm.png', 'docs/zh/develop/images/form/slider-input.png', 'docs/zh/develop/images/form/instance-volume.png', 'docs/zh/develop/images/form/volume-action.png', 'docs/zh/test/images/e2e/table/search-text-2.png', 'docs/zh/develop/images/list/volumes.png', 'docs/zh/develop/images/form/select-table.png', 'docs/zh/test/2-catalog-introduction.md', 'docs/zh/test/images/e2e/table/disable-first.png', 'docs/zh/test/images/e2e/table/select-first.png', 'docs/zh/develop/images/form/descriptions.png', 'docs/zh/test/images/e2e/table/disable-more-action.png', 'docs/zh/develop/images/form/tab-select-table.png', 'docs/zh/develop/images/list/pagination.png', 'docs/zh/test/images/e2e/gui-work.png', 'docs/zh/develop/images/form/form-extra.png', 'docs/zh/test/images/e2e/form/click-form-submit.png', 'docs/zh/develop/images/form/ip-distributer.png', 'docs/zh/test/images/e2e/form/click-step-next.png', 'docs/zh/test/images/e2e/table/header-btn-index.png', 'docs/zh/test/images/e2e/form/select-table-option.png', '.gitignore', 'docs/zh/test/3-4-E2E-resource-operation.md', 'docs/zh/test/images/e2e/table/search-select-1.png', 'docs/zh/develop/images/form/more.png', 'docs/zh/develop/images/form/select-table-tabs.png', 'docs/zh/develop/images/i18n/english.png', 'docs/zh/develop/images/list/tab-service.png', 'docs/zh/develop/images/i18n/i18n.png', 'docs/zh/test/images/e2e/table/confirm-action.png', 'docs/zh/develop/3-13-Route-introduction.md', 'docs/zh/develop/images/form/action.png', 'docs/zh/develop/images/form/label-col.png', 'docs/zh/test/images/e2e/table/confirm-in-sub.png', 'docs/zh/develop/images/list/fresh.png', 'docs/zh/test/images/e2e/table/check-value.png', 'docs/zh/test/images/e2e/form/add-select.png', 'docs/zh/test/images/e2e/form/select-table.png', 'docs/zh/develop/images/form/instance-action.png', 'docs/zh/test/images/e2e/result.png', 'docs/zh/develop/images/form/form-divider.png', 'docs/zh/develop/images/detail/volume.png', 'docs/zh/test/images/e2e/form/transfer-left-click.png', 'docs/zh/test/images/e2e/form/transfer-left.png', 'docs/zh/test/images/e2e/form/more-open.png', 'docs/zh/test/images/e2e/table/search-select-3.png', 'docs/zh/test/images/e2e/form/attach-file-image.png', 'docs/zh/test/images/e2e/form/switch.png', 'docs/zh/develop/3-0-how-to-develop.md', 'docs/zh/test/images/e2e/form/unselect-all.png', 'docs/zh/develop/3-4-BaseDetailInfo-introduction.md', 'docs/zh/develop/3-10-FormItem-introduction.md', 'docs/zh/test/images/e2e/form/attach-file.png', 'docs/zh/test/images/e2e/table/check-first-row.png', 'docs/zh/develop/3-12-Menu-introduction.md', 'docs/zh/develop/images/form/confirm.png', 'docs/zh/test/images/e2e/table/wait-1.png', 'docs/zh/test/images/e2e/form/more.png', 'docs/zh/test/images/e2e/detail/tab.png', 'docs/zh/develop/images/list/stop-auto-refresh.png', 'docs/zh/test/images/e2e/form/checkbox.png', 'docs/zh/develop/3-5-BaseStore-introduction.md', 'docs/zh/develop/images/form/switch.png', 'docs/zh/test/images/e2e/table/action-in-sub.png', 'docs/zh/develop/images/form/transfer.png', 'docs/zh/test/images/e2e/form/transfer-right-check.png', 'docs/zh/develop/images/list/search.png', 'docs/zh/test/images/e2e/form/key-value.png', 'docs/zh/develop/images/form/input-number.png'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/781d751722ccdfc212630950076abd166cad9df6', 'message': 'docs: Add Chinese documents\n\n1. Add Chinese development documents\n2. Add Chinese test document\n\nChange-Id: I29cd91f47069c9e64928800094282d4cbc977920\n'}]",0,798031,781d751722ccdfc212630950076abd166cad9df6,10,4,2,30434,,,0,"docs: Add Chinese documents

1. Add Chinese development documents
2. Add Chinese test document

Change-Id: I29cd91f47069c9e64928800094282d4cbc977920
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/31/798031/2 && git format-patch -1 --stdout FETCH_HEAD,"['docs/zh/开发/3-14-国际化.md', 'docs/zh/开发/images/list/tab-service.png', 'docs/zh/测试/images/e2e/detail/tab.png', 'docs/zh/测试/images/e2e/form/select-table-option.png', 'docs/zh/开发/images/detail/volume.png', 'docs/zh/测试/images/e2e/detail/list.png', 'docs/zh/测试/images/e2e/result.png', 'docs/zh/测试/images/e2e/table/confirm-more-2.png', 'docs/zh/开发/images/form/select.png', 'docs/zh/测试/3-3-E2E-详情操作.md', 'docs/zh/测试/images/e2e/table/header-btn-index.png', 'docs/zh/开发/images/list/batch.png', 'docs/zh/测试/images/e2e/table/wait-table-loading.png', 'docs/zh/开发/3-8-ConfirmAction基类介绍.md', 'docs/zh/测试/images/e2e/form/select-table.png', 'docs/zh/开发/3-5-Store基类介绍.md', 'docs/zh/开发/images/form/network-select-table.png', 'docs/zh/测试/3-2-E2E-表格操作.md', 'docs/zh/开发/images/list/volumes.png', 'docs/zh/开发/3-11-Action配置介绍.md', 'docs/zh/开发/images/form/input-name.png', 'docs/zh/开发/images/form/textarea-from-file.png', 'docs/zh/开发/images/form/ace-editor.png', 'docs/zh/测试/images/e2e/form/notice.png', 'docs/zh/测试/images/e2e/table/action-in-sub.png', 'docs/zh/测试/images/e2e/table/first-confirm.png', 'docs/zh/开发/images/form/confirm.png', 'docs/zh/测试/images/e2e/form/disable-action.png', 'docs/zh/测试/images/e2e/gui-list.png', 'docs/zh/测试/images/e2e/form/select-all.png', 'docs/zh/开发/images/menu/console-menu.png', 'docs/zh/测试/images/e2e/form/attach-file-image.png', 'docs/zh/开发/images/list/search.png', 'docs/zh/测试/images/e2e/form/click-form-submit.png', 'docs/zh/测试/images/e2e/form/transfer-left-click.png', 'docs/zh/测试/images/e2e/table/action-by-title.png', 'docs/zh/开发/3-10-FormItem介绍.md', 'docs/zh/开发/images/i18n/i18n.png', 'docs/zh/测试/images/e2e/table/check-value.png', 'docs/zh/测试/images/e2e/form/form-name.png', 'docs/zh/测试/images/e2e/table/select-first.png', 'docs/zh/开发/images/form/action.png', 'docs/zh/测试/images/e2e/table/action-by-title-2.png', 'docs/zh/测试/images/e2e/table/wait-1.png', 'docs/zh/测试/images/e2e/table/search-select-1.png', 'docs/zh/开发/images/form/ip-input.png', 'docs/zh/测试/images/e2e/form/input.png', 'docs/zh/开发/images/form/descriptions.png', 'docs/zh/测试/images/e2e/form/attach-file.png', 'docs/zh/测试/images/e2e/table/disable-first.png', 'docs/zh/开发/3-0-如何开发.md', 'docs/zh/开发/1-准备工作.md', 'docs/zh/测试/images/e2e/form/select-value.png', 'docs/zh/测试/images/e2e/table/detail-2.png', 'docs/zh/开发/images/form/more.png', 'docs/zh/测试/images/e2e/table/disable-more-action.png', 'docs/zh/开发/3-6-FormAction基类介绍.md', 'docs/zh/测试/images/e2e/table/check-first-row.png', 'docs/zh/测试/images/e2e/table/search-text-3.png', 'docs/zh/测试/images/e2e/form/transfer-right-check.png', 'docs/zh/测试/images/e2e/table/search-select-3.png', 'docs/zh/测试/images/e2e/form/unselect-all.png', 'docs/zh/开发/images/form/instance-action.png', 'docs/zh/开发/images/list/fresh.png', 'docs/zh/测试/images/e2e/form/select.png', 'docs/zh/开发/images/form/volume-select-table.png', 'docs/zh/测试/images/e2e/form/textarea-json.png', 'docs/zh/测试/images/e2e/table/header-btn-title.png', 'docs/zh/测试/images/e2e/table/confirm-in-sub.png', 'docs/zh/测试/images/e2e/detail/name.png', 'docs/zh/开发/images/form/form-tip.png', 'docs/zh/测试/images/e2e/form/click-confirm-submit.png', 'docs/zh/开发/images/form/label-col.png', 'docs/zh/开发/images/list/tab-list.png', 'docs/zh/开发/images/form/title.png', 'docs/zh/开发/images/list/pagination.png', 'docs/zh/开发/images/form/step.png', 'docs/zh/开发/images/store/response-key.png', 'docs/zh/开发/2-目录介绍.md', 'docs/zh/测试/images/e2e/form/add-select.png', 'docs/zh/测试/images/e2e/table/search-text-1.png', 'docs/zh/测试/images/e2e/form/transfer-left.png', 'docs/zh/测试/images/e2e/table/first-confirm-2.png', 'docs/zh/开发/images/form/radio.png', 'docs/zh/测试/images/e2e/form/radio.png', 'docs/zh/开发/images/form/form-divider.png', 'docs/zh/开发/images/list/download.png', 'docs/zh/测试/images/e2e/table/confirm-more-1.png', 'docs/zh/测试/images/e2e/form/more-open.png', 'docs/zh/开发/3-9-StepAction基类介绍.md', 'docs/zh/开发/images/list/hide.png', 'docs/zh/开发/images/form/slider-input.png', 'docs/zh/开发/images/form/port-range.png', 'docs/zh/开发/images/form/textarea.png', 'docs/zh/测试/images/e2e/form/click-modal-submit.png', '.prettierignore', 'docs/zh/测试/images/e2e/form/tab.png', 'docs/zh/开发/images/form/wrapper-col.png', 'docs/zh/测试/2-目录介绍.md', 'docs/zh/开发/images/form/network-select.png', 'docs/zh/开发/images/detail/image-detail-info.png', 'docs/zh/开发/images/form/instance-volume.png', 'docs/zh/开发/images/form/form-label.png', 'docs/zh/开发/images/form/input-int.png', 'docs/zh/开发/3-1-List基类介绍.md', 'docs/zh/开发/3-12-菜单配置介绍.md', 'docs/zh/测试/images/e2e/form/switch.png', 'docs/zh/开发/images/form/upload.png', 'docs/zh/开发/images/form/input-password.png', 'docs/zh/开发/3-3-Detail基类介绍.md', 'docs/zh/测试/images/e2e/form/more.png', 'docs/zh/开发/images/form/check.png', 'docs/zh/测试/images/e2e/form/checkbox.png', 'docs/zh/开发/images/form/select-table.png', 'docs/zh/开发/images/form/metadata-transfer.png', 'docs/zh/开发/images/form/select-table-tabs.png', 'docs/zh/开发/3-13-路由配置介绍.md', 'docs/zh/测试/images/e2e/table/action-in-more.png', 'docs/zh/开发/images/form/input-json.png', 'docs/zh/开发/images/form/switch.png', 'docs/zh/开发/images/i18n/english.png', '.gitignore', 'docs/zh/测试/3-4-E2E-资源操作.md', 'docs/zh/测试/images/e2e/form/click-step-next.png', 'docs/zh/开发/images/form/page.png', 'docs/zh/开发/images/form/input.png', 'docs/zh/测试/images/e2e/table/detail-1.png', 'docs/zh/测试/images/e2e/table/header-confirm-title.png', 'docs/zh/开发/images/form/mac-address.png', 'docs/zh/测试/1-准备工作.md', 'docs/zh/测试/images/e2e/table/search-select-2.png', 'docs/zh/测试/images/unit/result.png', 'docs/zh/测试/images/e2e/table/search.png', 'docs/zh/测试/images/e2e/table/confirm-action.png', 'docs/zh/开发/3-4-DetailInfo基类介绍.md', 'docs/zh/开发/images/form/create-success.png', 'docs/zh/开发/images/form/member-allocator.png', 'docs/zh/测试/3-0-如何编写E2E用例.md', 'docs/zh/测试/images/e2e/table/wait-2.png', 'docs/zh/开发/images/form/ip-distributer.png', 'docs/zh/测试/images/e2e/form/wait-form-loading.png', 'docs/zh/开发/images/form/tab-select-table.png', 'docs/zh/开发/images/form/add-select.png', 'docs/zh/开发/images/form/check-group.png', 'docs/zh/开发/images/form/transfer.png', 'docs/zh/测试/images/e2e/console.png', 'docs/zh/测试/images/e2e/table/search-text-2.png', 'docs/zh/开发/3-7-ModalAction基类介绍.md', 'docs/zh/开发/images/form/form-extra.png', 'docs/zh/测试/images/e2e/form/key-value.png', 'docs/zh/开发/3-2-TabList基类介绍.md', 'docs/zh/测试/images/e2e/form/select-table-search.png', 'docs/zh/测试/3-1-E2E-表单操作.md', 'docs/zh/测试/images/e2e/table/click-first.png', 'docs/zh/开发/images/menu/admin-menu.png', 'docs/zh/开发/images/list/stop-auto-refresh.png', 'docs/zh/开发/images/form/courgette.log', 'docs/zh/测试/images/e2e/gui-work.png', 'docs/zh/开发/images/list/search-example.png', 'docs/zh/开发/images/form/volume-action.png', 'docs/zh/测试/images/e2e/form/transfer-right.png', 'docs/zh/测试/images/e2e/table/simple-search.png', 'docs/zh/开发/images/form/modal.png', 'docs/zh/开发/images/form/input-number.png']",164,0f85d727dafeed175bb8c0bd84b41b1228c2c13f,,,,6819,1
openstack%2Fneutron~stable%2Fvictoria~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/victoria,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:53:10.000000000,2021-06-25 03:01:11.000000000,2021-06-25 02:59:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 06:53:10.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/agents_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcf050951d71a3c2f3e3d997c6b171fa4483bc20', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)\n""}]",0,797758,dcf050951d71a3c2f3e3d997c6b171fa4483bc20,12,3,1,11975,,,0,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/797758/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py']",4,dcf050951d71a3c2f3e3d997c6b171fa4483bc20,bug/1891360-stable/wallaby-stable/victoria," def get_ports_by_host(cls, context, host): query = context.session.query(models_v2.Port.id).join( ml2_models.PortBinding) query = query.filter( ml2_models.PortBinding.host == host) return [port_id[0] for port_id in query.all()] @classmethod",,185,0
openstack%2Fneutron~stable%2Ftrain~I22f3bf543948dcadaf7276762b14198028f40bc6,openstack/neutron,stable/train,I22f3bf543948dcadaf7276762b14198028f40bc6,"Revert ""Increase log information when a RootHelperProcess fails""",MERGED,2021-06-23 16:32:38.000000000,2021-06-25 03:00:57.000000000,2021-06-25 02:59:38.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2021-06-23 16:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d5c2c4a1f83d4d16e4a1eaab11149fdc518814f', 'message': 'Revert ""Increase log information when a RootHelperProcess fails""\n\nThis reverts commit b1811dc1bb59661cc18c83812035dca69453f1da.\n\nThis backported patch introduced two incompatible calls in python2.7:\n- subprocess.communicate does not have timeout as input parameter\n- subprocess does not implement TimeoutExpired\n\nReason for revert: #1933366\n\nChange-Id: I22f3bf543948dcadaf7276762b14198028f40bc6\n'}, {'number': 2, 'created': '2021-06-24 16:16:03.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05d9250254c2b0a22cd7f1e235b4fb37e2ebf75f', 'message': 'Revert ""Increase log information when a RootHelperProcess fails""\n\nThis reverts commit b1811dc1bb59661cc18c83812035dca69453f1da.\n\nThis backported patch introduced two incompatible calls in python2.7:\n- subprocess.communicate does not have timeout as input parameter\n- subprocess does not implement TimeoutExpired\n\nReason for revert: #1933366\n\nChange-Id: I22f3bf543948dcadaf7276762b14198028f40bc6\n'}]",0,797703,05d9250254c2b0a22cd7f1e235b4fb37e2ebf75f,19,5,2,16688,,,0,"Revert ""Increase log information when a RootHelperProcess fails""

This reverts commit b1811dc1bb59661cc18c83812035dca69453f1da.

This backported patch introduced two incompatible calls in python2.7:
- subprocess.communicate does not have timeout as input parameter
- subprocess does not implement TimeoutExpired

Reason for revert: #1933366

Change-Id: I22f3bf543948dcadaf7276762b14198028f40bc6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/797703/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,7d5c2c4a1f83d4d16e4a1eaab11149fdc518814f,bug/1861221," common_utils.wait_until_true( child_is_running, timeout, exception=RuntimeError(""Process %s hasn't been spawned "" ""in %d seconds"" % (self.cmd, timeout)))"," try: common_utils.wait_until_true(child_is_running, timeout) except common_utils.WaitTimeout: # If there is an error, the stderr and stdout pipes usually have # information returned by the command executed. If not, timeout # the pipe communication quickly. stdout = stderr = '' try: stdout, stderr = self.communicate(timeout=0.5) except subprocess.TimeoutExpired: pass msg = (""Process %(cmd)s hasn't been spawned in %(seconds)d "" ""seconds. Return code: %(ret_code)s, stdout: %(stdout)s, "" ""stderr: %(stderr)s"" % {'cmd': self.cmd, 'seconds': timeout, 'ret_code': self.returncode, 'stdout': stdout, 'stderr': stderr}) raise RuntimeError(msg) ",5,19
openstack%2Fnova~stable%2Fvictoria~I2bd360dcc6501feea7baf02d4510b282205fc061,openstack/nova,stable/victoria,I2bd360dcc6501feea7baf02d4510b282205fc061,Initialize global data separately and run_once in WSGI app init,MERGED,2021-04-06 22:13:39.000000000,2021-06-25 02:43:01.000000000,2021-06-25 02:40:07.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac0b2900a3a75fee405d0d5ff6575a15910af5fe', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/api/openstack/wsgi_app.py\n\nNOTE(melwitt): The conflict is because change\nIf4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi\napp) is not in Victoria.\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n'}, {'number': 2, 'created': '2021-05-26 20:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26e08873089a21771396803b57b88b6e5a7b3a21', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/api/openstack/wsgi_app.py\n\nNOTE(melwitt): The conflict is because change\nIf4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi\napp) is not in Victoria.\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n'}, {'number': 3, 'created': '2021-06-08 23:34:11.000000000', 'files': ['nova/api/openstack/wsgi_app.py', 'nova/test.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e3085fa6310ddeaafa493c3f718aab0ce64f0994', 'message': 'Initialize global data separately and run_once in WSGI app init\n\nNOTE(melwitt): This is a combination of two changes to avoid\nintermittent test failure that was introduced by the original bug fix,\nand was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.\n\nWe have discovered that if an exception is raised at any point during\nthe running of the init_application WSGI script in an apache/mod_wsgi\nDaemon Mode environment, it will prompt apache/mod_wsgi to re-run the\nscript without starting a fresh python process. Because we initialize\nglobal data structures during app init, subsequent runs of the script\nblow up as some global data do *not* support re-initialization. It is\nanyway not safe to assume that init of global data is safe to run\nmultiple times.\n\nThis mod_wsgi behavior appears to be a special situation that does not\nbehave the same as a normal reload in Daemon Mode as the script file is\nbeing reloaded upon failure instead of the daemon process being\nshutdown and restarted as described in the documentation [1].\n\nIn order to handle this situation, we can move the initialization of\nglobal data structures to a helper method that is decorated to run only\nonce per python interpreter instance. This way, we will not attempt to\nre-initialize global data that are not safe to init more than once.\n\nCo-Authored-By: Michele Baldessari <michele@redhat.com>\nCo-Authored-By: melanie witt <melwittt@gmail.com>\n\nConflicts:\n    nova/api/openstack/wsgi_app.py\n\nNOTE(melwitt): The conflict is because change\nIf4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi\napp) is not in Victoria.\n\nCloses-Bug: #1882094\n\n[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode\n\nReset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n\nChange-Id: I2bd360dcc6501feea7baf02d4510b282205fc061\n(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)\n'}]",0,785059,e3085fa6310ddeaafa493c3f718aab0ce64f0994,30,4,3,4690,,,0,"Initialize global data separately and run_once in WSGI app init

NOTE(melwitt): This is a combination of two changes to avoid
intermittent test failure that was introduced by the original bug fix,
and was fixed by change I2bd360dcc6501feea7baf02d4510b282205fc061.

We have discovered that if an exception is raised at any point during
the running of the init_application WSGI script in an apache/mod_wsgi
Daemon Mode environment, it will prompt apache/mod_wsgi to re-run the
script without starting a fresh python process. Because we initialize
global data structures during app init, subsequent runs of the script
blow up as some global data do *not* support re-initialization. It is
anyway not safe to assume that init of global data is safe to run
multiple times.

This mod_wsgi behavior appears to be a special situation that does not
behave the same as a normal reload in Daemon Mode as the script file is
being reloaded upon failure instead of the daemon process being
shutdown and restarted as described in the documentation [1].

In order to handle this situation, we can move the initialization of
global data structures to a helper method that is decorated to run only
once per python interpreter instance. This way, we will not attempt to
re-initialize global data that are not safe to init more than once.

Co-Authored-By: Michele Baldessari <michele@redhat.com>
Co-Authored-By: melanie witt <melwittt@gmail.com>

Conflicts:
    nova/api/openstack/wsgi_app.py

NOTE(melwitt): The conflict is because change
If4783adda92da33d512d7c2834f0bb2e2a9b9654 (Support sys.argv in wsgi
app) is not in Victoria.

Closes-Bug: #1882094

[1] https://modwsgi.readthedocs.io/en/develop/user-guides/reloading-source-code.html#reloading-in-daemon-mode

Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)

Change-Id: I2bd360dcc6501feea7baf02d4510b282205fc061
(cherry picked from commit 7c9edc02eda45aafbbb539b759e6b92f7aeb5ea8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/785059/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py']",4,ac0b2900a3a75fee405d0d5ff6575a15910af5fe,bug/1882094," def run_once(message, logger, cleanup=None): """"""This is a utility function decorator to ensure a function is run once and only once in an interpreter instance. Note: this is copied from the placement repo (placement/util.py) The decorated function object can be reset by calling its reset function. All exceptions raised by the wrapped function, logger and cleanup function will be propagated to the caller. """""" def outer_wrapper(func): @functools.wraps(func) def wrapper(*args, **kwargs): if not wrapper.called: # Note(sean-k-mooney): the called state is always # updated even if the wrapped function completes # by raising an exception. If the caller catches # the exception it is their responsibility to call # reset if they want to re-execute the wrapped function. try: return func(*args, **kwargs) finally: wrapper.called = True else: logger(message) wrapper.called = False def reset(wrapper, *args, **kwargs): # Note(sean-k-mooney): we conditionally call the # cleanup function if one is provided only when the # wrapped function has been called previously. We catch # and reraise any exception that may be raised and update # the called state in a finally block to ensure its # always updated if reset is called. try: if cleanup and wrapper.called: return cleanup(*args, **kwargs) finally: wrapper.called = False wrapper.reset = functools.partial(reset, wrapper) return wrapper return outer_wrapper",,251,2
openstack%2Fneutron~stable%2Ftrain~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/train,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:54:42.000000000,2021-06-25 02:41:59.000000000,2021-06-25 02:39:27.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 06:54:42.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/agents_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bdfc711453e9b6af955be62a28ef9fcc46a5040', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)\n""}]",0,797760,4bdfc711453e9b6af955be62a28ef9fcc46a5040,13,3,1,11975,,,0,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/797760/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py']",4,4bdfc711453e9b6af955be62a28ef9fcc46a5040,bug/1891360-stable/wallaby-stable/victoria-stable/ussuri-stable/train," def get_ports_by_host(cls, context, host): query = context.session.query(models_v2.Port.id).join( ml2_models.PortBinding) query = query.filter( ml2_models.PortBinding.host == host) return [port_id[0] for port_id in query.all()] @classmethod",,185,0
openstack%2Fswift~master~I25da3aa81018c5de7b63e5584ac6a9dbb73243db,openstack/swift,master,I25da3aa81018c5de7b63e5584ac6a9dbb73243db,Capture logs when running custom daemons in probe tests,MERGED,2021-06-23 18:10:51.000000000,2021-06-25 02:41:52.000000000,2021-06-25 02:40:20.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 18:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2b21f85cb0793f4aa41be114f775d67bca6479fb', 'message': ""Capture logs when running custom daemons in probe tests\n\nPreviously a DebugLogger was used when probe tests ran 'custom\ndaemons', which provided a means to inspect captured logs but logged\nto console. This patch replaces that DebugLogger with a 'normal' swift\nlogger that is adapted to also capture logs and support log\ninspection.\n\nChange-Id: I25da3aa81018c5de7b63e5584ac6a9dbb73243db\n""}, {'number': 2, 'created': '2021-06-24 10:00:59.000000000', 'files': ['test/probe/common.py', 'test/debug_logger.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/40aace89f0070a06d1654edcfacadccb140c65b4', 'message': ""Capture logs when running custom daemons in probe tests\n\nPreviously a DebugLogger was used when probe tests ran 'custom\ndaemons', which provided a means to inspect captured logs but logged\nto console. This patch replaces that DebugLogger with a 'normal' swift\nlogger that is adapted to also capture logs and support log\ninspection.\n\nChange-Id: I25da3aa81018c5de7b63e5584ac6a9dbb73243db\n""}]",12,797735,40aace89f0070a06d1654edcfacadccb140c65b4,21,2,2,7847,,,0,"Capture logs when running custom daemons in probe tests

Previously a DebugLogger was used when probe tests ran 'custom
daemons', which provided a means to inspect captured logs but logged
to console. This patch replaces that DebugLogger with a 'normal' swift
logger that is adapted to also capture logs and support log
inspection.

Change-Id: I25da3aa81018c5de7b63e5584ac6a9dbb73243db
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/797735/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/debug_logger.py']",2,2b21f85cb0793f4aa41be114f775d67bca6479fb,p-log-capture,"class CaptureLog(object): """""" Captures log records passed to the ``handle`` method and provides accessor functions to the captured logs. """""" def __init__(self): self.clear() def _clear(self): self.log_dict = defaultdict(list) self.lines_dict = {'critical': [], 'error': [], 'info': [], 'warning': [], 'debug': [], 'notice': []} clear = _clear # this is a public interface def get_lines_for_level(self, level): if level not in self.lines_dict: raise KeyError( ""Invalid log level '%s'; valid levels are %s"" % (level, ', '.join(""'%s'"" % lvl for lvl in sorted(self.lines_dict)))) return self.lines_dict[level] def all_log_lines(self): return dict((level, msgs) for level, msgs in self.lines_dict.items() if len(msgs) > 0) def _handle(self, record): try: line = record.getMessage() except TypeError: print('WARNING: unable to format log message %r %% %r' % ( record.msg, record.args)) raise self.lines_dict[record.levelname.lower()].append(line) return 0 def handle(self, record): return self._handle(record) class FakeLogger(logging.Logger, CaptureLog): class ForwardingLogHandler(logging.NullHandler): """""" Provides a LogHandler implementation that simply forwards filtered records to a given handler function. This can be useful to forward records to a handler without the handler itself needing to subclass LogHandler. """""" def __init__(self, handler_fn): super(ForwardingLogHandler, self).__init__() self.handler_fn = handler_fn def handle(self, record): return self.handler_fn(record) class CaptureLogAdapter(utils.LogAdapter, CaptureLog): """""" A LogAdapter that is capable of capturing logs for inspection via accessor methods. """""" def __init__(self, logger, name): super(CaptureLogAdapter, self).__init__(logger, name) self.clear() self.handler = ForwardingLogHandler(self.handle) def start_capture(self): """""" Attaches the adapter's handler to the adapted logger in order to start capturing log messages. """""" self.logger.addHandler(self.handler) def stop_capture(self): """""" Detaches the adapter's handler from the adapted logger. This should be called to prevent further logging to the adapted logger (possibly via other log adapter instances) being captured by this instance. """""" self.logger.removeHandler(self.handler)","class FakeLogger(logging.Logger, object): def _clear(self): self.log_dict = defaultdict(list) self.lines_dict = {'critical': [], 'error': [], 'info': [], 'warning': [], 'debug': [], 'notice': []} clear = _clear # this is a public interface def get_lines_for_level(self, level): if level not in self.lines_dict: raise KeyError( ""Invalid log level '%s'; valid levels are %s"" % (level, ', '.join(""'%s'"" % lvl for lvl in sorted(self.lines_dict)))) return self.lines_dict[level] def all_log_lines(self): return dict((level, msgs) for level, msgs in self.lines_dict.items() if len(msgs) > 0) def _handle(self, record): try: line = record.getMessage() except TypeError: print('WARNING: unable to format log message %r %% %r' % ( record.msg, record.args)) raise self.lines_dict[record.levelname.lower()].append(line) def handle(self, record): self._handle(record) ",101,35
openstack%2Fnova~stable%2Fvictoria~Ic03a5336abdced883f62f395690c0feac12075c8,openstack/nova,stable/victoria,Ic03a5336abdced883f62f395690c0feac12075c8,rbd: Get rbd_utils unit tests running again,MERGED,2021-06-03 18:04:42.000000000,2021-06-25 02:41:47.000000000,2021-06-25 02:39:50.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 18:04:42.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04057099991579bccfb2accb6b0952ba589fe092', 'message': ""rbd: Get rbd_utils unit tests running again\n\nAwhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved\nrbd_utils out from the libvirt driver and into a central location under\nnova/storage. This move missed adding a __init__.py file under\nnova/tests/unit/storage, so unit test discovery wasn't picking up the\nrbd_utils tests and couldn't run them.\n\nThis adds a __init__.py file under nova/tests/unit/storage to get the\ntests running again.\n\nThis also fixes a small bug introduced by change\nI3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that\npassed nonexistent self.images_rbd_pool to self.flags. It should be\nself.rbd_pool.\n\nCloses-Bug: #1928007\n\nChange-Id: Ic03a5336abdced883f62f395690c0feac12075c8\n(cherry picked from commit 8b647f1b3f56879be221b3925570790a1e0e77f8)\n(cherry picked from commit 8f018d754d5c55e432cd51df99278382b527283e)\n""}]",0,794624,04057099991579bccfb2accb6b0952ba589fe092,11,3,1,4690,,,0,"rbd: Get rbd_utils unit tests running again

Awhile back, change I25baf5edd25d9e551686b7ed317a63fd778be533 moved
rbd_utils out from the libvirt driver and into a central location under
nova/storage. This move missed adding a __init__.py file under
nova/tests/unit/storage, so unit test discovery wasn't picking up the
rbd_utils tests and couldn't run them.

This adds a __init__.py file under nova/tests/unit/storage to get the
tests running again.

This also fixes a small bug introduced by change
I3032bbe6bd2d6acc9ba0f0cac4d00ed4b4464ceb in RbdTestCase.setUp() that
passed nonexistent self.images_rbd_pool to self.flags. It should be
self.rbd_pool.

Closes-Bug: #1928007

Change-Id: Ic03a5336abdced883f62f395690c0feac12075c8
(cherry picked from commit 8b647f1b3f56879be221b3925570790a1e0e77f8)
(cherry picked from commit 8f018d754d5c55e432cd51df99278382b527283e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/794624/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/tests/unit/storage/__init__.py']",2,04057099991579bccfb2accb6b0952ba589fe092,bug/1928007,,,1,1
openstack%2Frequirements~master~Ib727242c1aba8597389259d8dbacba7194f9f0d6,openstack/requirements,master,Ib727242c1aba8597389259d8dbacba7194f9f0d6,Make tox -e generate easier to use,MERGED,2021-06-23 13:54:39.000000000,2021-06-25 02:41:37.000000000,2021-06-25 02:39:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e32e39ab6f73b5ba09f11b8d775075225c3d3772', 'message': 'WIP: Make tox -e generate easier to use\n\n- auto detect python paths (which)\n- make it possible to call `tox -e generate` w/o extra args\n- update list of pythons to include currently supported versions\n\nWarning: this will only work when run under Debian/Ubuntu, as on other\nplatforms like RedHat installing python-nss from pypi does not work.\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1974890\n\nChange-Id: Ib727242c1aba8597389259d8dbacba7194f9f0d6\n'}, {'number': 2, 'created': '2021-06-23 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7e5a35a628b7047f739797eb8467809e3827f2b', 'message': 'Make tox -e generate easier to use\n\n- auto detect python paths (which)\n- make it possible to call `tox -e generate` w/o extra args\n- update list of pythons to include currently supported versions\n\nWarning: this will only work when run under Debian/Ubuntu, as on other\nplatforms like RedHat installing python-nss from pypi does not work.\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1974890\n\nChange-Id: Ib727242c1aba8597389259d8dbacba7194f9f0d6\n'}, {'number': 3, 'created': '2021-06-24 09:29:53.000000000', 'files': ['openstack_requirements/cmds/generate.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ecf18825abca7660eb2478c7daa3f785bb5513b1', 'message': 'Make tox -e generate easier to use\n\n- auto detect python paths (which)\n- make it possible to call `tox -e generate` w/o extra args\n- update list of pythons to include currently supported versions\n\nChange-Id: Ib727242c1aba8597389259d8dbacba7194f9f0d6\n'}]",15,797654,ecf18825abca7660eb2478c7daa3f785bb5513b1,18,3,3,24162,,,0,"Make tox -e generate easier to use

- auto detect python paths (which)
- make it possible to call `tox -e generate` w/o extra args
- update list of pythons to include currently supported versions

Change-Id: Ib727242c1aba8597389259d8dbacba7194f9f0d6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/797654/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_requirements/cmds/generate.py', 'tox.ini']",2,e32e39ab6f73b5ba09f11b8d775075225c3d3772,fix/generate,commands = generate-constraints {posargs: -b blacklist.txt -r global-requirements.txt -p python3.6 -p python3.7 -p python3.8 -p python3.9 > upper-constraints.txt},commands = generate-constraints {posargs},3,2
openstack%2Fneutron~stable%2Fqueens~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/queens,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:41:25.000000000,2021-06-25 02:39:42.000000000,2021-06-25 02:39:42.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 14:41:25.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfc474cc1261f4dd96cccb3194fb0da3e1cae4dd', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797473,cfc474cc1261f4dd96cccb3194fb0da3e1cae4dd,21,3,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/797473/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,cfc474cc1261f4dd96cccb3194fb0da3e1cae4dd,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fcinder~stable%2Fussuri~I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,openstack/cinder,stable/ussuri,I52b87d03c49db74002f09cfeea86bc0ac7ce8a42,"Open local image files with ""rb"" mode",MERGED,2021-05-26 14:30:28.000000000,2021-06-25 02:33:22.000000000,2021-06-25 02:31:43.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-26 14:30:28.000000000', 'files': ['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6d7b09195ce738576252736708a7f3417f761db', 'message': 'Open local image files with ""rb"" mode\n\nWhen using ""file"" in allowed_direct_url_schemes,\nopen image files w/ binary mode.\n\nCloses-Bug: #1923313\nChange-Id: I52b87d03c49db74002f09cfeea86bc0ac7ce8a42\n(cherry picked from commit 5d7e7547f0119300ecb8f6cd171b04ead3210ecc)\n(cherry picked from commit c16567bd8784761d24b73678377994903b8dc35b)\n'}]",0,793169,f6d7b09195ce738576252736708a7f3417f761db,26,7,1,4523,,,0,"Open local image files with ""rb"" mode

When using ""file"" in allowed_direct_url_schemes,
open image files w/ binary mode.

Closes-Bug: #1923313
Change-Id: I52b87d03c49db74002f09cfeea86bc0ac7ce8a42
(cherry picked from commit 5d7e7547f0119300ecb8f6cd171b04ead3210ecc)
(cherry picked from commit c16567bd8784761d24b73678377994903b8dc35b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/793169/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/image/test_glance.py', 'cinder/image/glance.py']",2,f6d7b09195ce738576252736708a7f3417f761db,," with open(parsed_url.path, ""rb"") as f:"," with open(parsed_url.path, ""r"") as f:",2,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,openstack/tripleo-ansible,stable/wallaby,I398d24406bafdb34dd0cf793ade8e4085d8fd1b0,Add tripleo_findif_for_ip ansible module,MERGED,2021-06-21 18:43:29.000000000,2021-06-25 02:02:26.000000000,2021-06-25 02:01:15.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 18:43:29.000000000', 'files': ['tripleo_ansible/tests/modules/test_tripleo_findif_for_ip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_findif_for_ip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d0523b6ff89a5774ef2d72b9880c1cbde518b66', 'message': 'Add tripleo_findif_for_ip ansible module\n\nThis module finds an interface that has the provided IP assigned to it.\n\nChange-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0\n(cherry picked from commit 5e826a5852735c3fc911325b90f4ee520b781681)\n'}]",0,797341,6d0523b6ff89a5774ef2d72b9880c1cbde518b66,8,3,1,6681,,,0,"Add tripleo_findif_for_ip ansible module

This module finds an interface that has the provided IP assigned to it.

Change-Id: I398d24406bafdb34dd0cf793ade8e4085d8fd1b0
(cherry picked from commit 5e826a5852735c3fc911325b90f4ee520b781681)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/797341/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_tripleo_findif_for_ip.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_findif_for_ip.py']",2,6d0523b6ff89a5774ef2d72b9880c1cbde518b66,designate-wallaby,"#!/usr/bin/python # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr import os import yaml from ansible.module_utils.basic import AnsibleModule DOCUMENTATION = """""" --- module: tripleo_findif_for_ip author: - OpenStack TripleO Contributors version_added: '1.0' short_description: Finds the interface that an IP address is assigned to. notes: [] requirements: description: - Locates the interface that has the provided IP address assigned to it options: ip_address: description: - The IP address to look for type: str debug: description: - Print debug output. type: bool default: false """""" EXAMPLES = """""" - name: Find the interface for the provided IP address tripleo_find_if_for_ip: ip_address: 192.168.24.22 """""" RETURN = """""" interface: description: - if not empty, the interface that has the given IP address returned: always type: str """""" def find_interface(module, ip_address): rc, out, err = module.run_command(['ip', '-br', 'addr']) result = { 'changed': False, 'interface': '' } for ifline in out.splitlines(): columns = ifline.strip().split() if len(columns) == 0: continue interface_name = columns[0] ips = columns[2:] for addr in ips: ip = addr.split('/')[0] if ip == ip_address: result['interface'] = interface_name return result return result def main(): module = AnsibleModule( argument_spec=yaml.safe_load(DOCUMENTATION)['options'], supports_check_mode=True, ) results = dict( changed=False ) # parse args ip_address = module.params['ip_address'] if netaddr.valid_ipv6(ip_address) or netaddr.valid_ipv4(ip_address): results = find_interface(module, ip_address) else: module.fail_json(msg='%s is not a valid ip address' % ip_address) module.exit_json(**results) if __name__ == '__main__': main() ",,163,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,stable/wallaby,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-24 11:03:33.000000000,2021-06-25 02:01:10.000000000,2021-06-25 02:01:10.000000000,"[{'_account_id': 6968}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-24 11:03:33.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdfd4e9926ab45f3fabdd177a88dd7dc4f778d2e', 'message': 'Do not run Swift rsync container in single replica mode\n\nWhen Swift is running in single replica mode, rsync is pretty much\nuseless - there is no counterpart to transfer data.\n\nOn the undercloud this also prevents misleading error messages if\nxinetd is running and already using port 873.\n\nChange-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93\n(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)\n'}]",0,797770,fdfd4e9926ab45f3fabdd177a88dd7dc4f778d2e,7,4,1,6816,,,0,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
(cherry picked from commit 91f06efb3a899176a376861cac3e0456e185f351)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/797770/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,fdfd4e9926ab45f3fabdd177a88dd7dc4f778d2e,," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env"," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env",21,21
openstack%2Fopenstack-zuul-jobs~master~I9130014837d297fad6802c99da417dbb8f3a8b76,openstack/openstack-zuul-jobs,master,I9130014837d297fad6802c99da417dbb8f3a8b76,wheel-build: reduce Bullseye build,MERGED,2021-06-24 07:03:54.000000000,2021-06-25 01:37:35.000000000,2021-06-25 01:35:50.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 07:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/164dc3b648e0fd76a833ea2ff9869da252c13d99', 'message': 'wheel-build: set python interpreter for bullseye\n\nBullseye wheel builds seem to be failing as the ""package"" ansible task\ntries to install python-apt.  This seems to be because ansible is\nchoosing Python 2 as the interpreter.  Override this.\n\nAdd the bullseye jobs so they test in the gate.\n\nChange-Id: I9130014837d297fad6802c99da417dbb8f3a8b76\n'}, {'number': 2, 'created': '2021-06-24 23:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3d7556eaf7edcd0b93bfe3db87d87400388e567d', 'message': 'wheel-build: set python interpreter for bullseye\n\nBullseye wheel builds seem to be failing as the ""package"" ansible task\ntries to install python-apt.  This seems to be because ansible is\nchoosing Python 2 as the interpreter.  Override this.\n\nAdd the bullseye jobs so they test in the gate.\n\nThis revealed that likely due to many less Python 3.9 wheels this\ntakes too long.  Given this is a new distro, limiting the builds to\nthe latest releases is a practical solution here.\n\nChange-Id: I9130014837d297fad6802c99da417dbb8f3a8b76\n'}, {'number': 3, 'created': '2021-06-24 23:53:58.000000000', 'files': ['zuul.d/project.yaml', 'roles/build-wheel-cache/files/wheel-build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/58873cad486701b63c405c98ce52440bce8e7768', 'message': 'wheel-build: reduce Bullseye build\n\nLikely due to many less Python 3.9 wheels the Bullseye builds take too\nlong.  Given this is a new distro, limiting the builds to the latest\nreleases is a practical solution here.\n\nAdd the bullseye jobs so they test in the gate.\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/798029\nChange-Id: I9130014837d297fad6802c99da417dbb8f3a8b76\n'}]",8,797808,58873cad486701b63c405c98ce52440bce8e7768,15,2,3,7118,,,0,"wheel-build: reduce Bullseye build

Likely due to many less Python 3.9 wheels the Bullseye builds take too
long.  Given this is a new distro, limiting the builds to the latest
releases is a practical solution here.

Add the bullseye jobs so they test in the gate.

Depends-On: https://review.opendev.org/c/openstack/project-config/+/798029
Change-Id: I9130014837d297fad6802c99da417dbb8f3a8b76
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/797808/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,164dc3b648e0fd76a833ea2ff9869da252c13d99,bulleye-arm64-wheel-build, ansible_python_interpreter: '/usr/bin/python3' ansible_python_interpreter: '/usr/bin/python3',,10,0
openstack%2Fkolla-ansible~master~I31c978be7f8687de1e41b168712aceed28c67a8a,openstack/kolla-ansible,master,I31c978be7f8687de1e41b168712aceed28c67a8a,Use Docker healthchecks for kafka services,MERGED,2021-03-08 10:46:51.000000000,2021-06-25 01:24:57.000000000,2021-06-25 01:23:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-03-08 10:46:51.000000000', 'files': ['ansible/roles/kafka/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-kafka-5358d90e8b93bda3.yaml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/kafka/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72df931b58e0ec1e9218ad86cf7dfff0a19d7c89', 'message': 'Use Docker healthchecks for kafka services\n\nThis change enables the use of Docker healthchecks for kafka services.\nImplements: blueprint container-health-check\n\nChange-Id: I31c978be7f8687de1e41b168712aceed28c67a8a\n'}]",0,779204,72df931b58e0ec1e9218ad86cf7dfff0a19d7c89,13,3,1,31506,,,0,"Use Docker healthchecks for kafka services

This change enables the use of Docker healthchecks for kafka services.
Implements: blueprint container-health-check

Change-Id: I31c978be7f8687de1e41b168712aceed28c67a8a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/779204/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kafka/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-kafka-5358d90e8b93bda3.yaml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/kafka/tasks/check-containers.yml']",4,72df931b58e0ec1e9218ad86cf7dfff0a19d7c89,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,23,0
openstack%2Fmanila~master~I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54,openstack/manila,master,I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54,PowerMax Manila - version change for Wallaby,MERGED,2021-04-08 13:58:28.000000000,2021-06-25 01:02:14.000000000,2021-06-24 21:13:55.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-04-08 13:58:28.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/powermax/connection.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/290de55a4bd53390eaa45f94d8aca0132d484d40', 'message': 'PowerMax Manila - version change for Wallaby\n\nIncrementing version for Wallaby.\n\nChange-Id: I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54\n'}]",0,785424,290de55a4bd53390eaa45f94d8aca0132d484d40,35,3,1,12670,,,0,"PowerMax Manila - version change for Wallaby

Incrementing version for Wallaby.

Change-Id: I861f4f0a3e98bcb86fa706c52c5111c9e4a8fd54
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/785424/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/dell_emc/plugins/powermax/connection.py'],1,290de55a4bd53390eaa45f94d8aca0132d484d40,powermax_version_change," 3.4.0 - Wallaby releaseVERSION = ""3.4.0""","VERSION = ""3.3.0""",2,1
openstack%2Ftripleo-ci~master~If72bc5420ca0fd02403a2487aedd79df28173a4d,openstack/tripleo-ci,master,If72bc5420ca0fd02403a2487aedd79df28173a4d,DNM Enable ANSIBLE_DEBUG=True for multinode debug,ABANDONED,2020-06-17 12:09:11.000000000,2021-06-25 01:01:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-17 12:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fd6a475130a3e43931a3e684ced82c4dae7277c6', 'message': 'DNM Enable ANSIBLE_DEBUG=True for multinode debug\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 2, 'created': '2020-06-17 12:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/48ac6f8a0207635da28718708215e258aa26e092', 'message': 'DNM Enable ANSIBLE_DEBUG=True for multinode debug\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 3, 'created': '2020-06-25 12:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9b66ae5ecd0d6a9689576e778d8b59591fe712d', 'message': 'DNM Test Repo setup with train c8 jobs\n\nDepends-On: https://review.opendev.org/#/c/737682/\nDepends-On: https://review.opendev.org/#/c/737923/\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 4, 'created': '2020-06-26 05:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a6c15eec1420497ab4e478879404c3e69d79436d', 'message': 'DNM Test Repo setup with train c8 jobs\n\nDepends-On: https://review.opendev.org/#/c/737682/\nDepends-On: https://review.opendev.org/#/c/737923/\nDepends-On: https://review.opendev.org/#/c/738049/\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 5, 'created': '2020-06-26 05:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/19a5a14f330546609fc9dff163e0fa83474a0f96', 'message': 'DNM Test Repo setup with train c8 jobs\n\nDepends-On: https://review.opendev.org/#/c/737682/\nDepends-On: https://review.opendev.org/#/c/737923/\nDepends-On: https://review.opendev.org/#/c/738049/\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 6, 'created': '2021-02-16 09:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/acdd8c920c6986ed05b6ced1e3cc9d4ba4dfea84', 'message': 'DNM Enable ANSIBLE_DEBUG=True for multinode debug\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}, {'number': 7, 'created': '2021-03-11 01:29:39.000000000', 'files': ['zuul.d/layout.yaml', 'roles/run-test/templates/toci_quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/38f30dac09e36ced85a56e43e91d44cc3c55548d', 'message': 'DNM Enable ANSIBLE_DEBUG=True for multinode debug\n\nChange-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d\n'}]",0,736174,38f30dac09e36ced85a56e43e91d44cc3c55548d,29,2,7,29775,,,0,"DNM Enable ANSIBLE_DEBUG=True for multinode debug

Change-Id: If72bc5420ca0fd02403a2487aedd79df28173a4d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/736174/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/run-test/templates/toci_quickstart.sh.j2']",2,fd6a475130a3e43931a3e684ced82c4dae7277c6,test,export ANSIBLE_DEBUG=True,,1,70
openstack%2Ftripleo-quickstart-extras~master~Ia77577355a75f2e54a5d0936b18bb2e9011f0806,openstack/tripleo-quickstart-extras,master,Ia77577355a75f2e54a5d0936b18bb2e9011f0806,[dnm] Enable debug,ABANDONED,2021-02-16 13:50:29.000000000,2021-06-25 01:00:12.000000000,,"[{'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-16 13:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9a6ec5ef6f49c34ececb49ef4aebfe4b9823fb8a', 'message': '[dnm] export ANSIBLE_DEBUG=True before running deployment\n\nTo debug a failure in downstream.\n\nChange-Id: Ia77577355a75f2e54a5d0936b18bb2e9011f0806\n'}, {'number': 2, 'created': '2021-02-23 02:40:50.000000000', 'files': ['zuul.d/layout.yaml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2a3549a59374dd68d2e4278358b435196931997e', 'message': '[dnm] Enable debug\n\nTo debug a failure in downstream.\n\nChange-Id: Ia77577355a75f2e54a5d0936b18bb2e9011f0806\n'}]",0,775833,2a3549a59374dd68d2e4278358b435196931997e,7,3,2,29775,,,0,"[dnm] Enable debug

To debug a failure in downstream.

Change-Id: Ia77577355a75f2e54a5d0936b18bb2e9011f0806
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/33/775833/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/overcloud-deploy/templates/overcloud-deploy.sh.j2']",2,9a6ec5ef6f49c34ececb49ef4aebfe4b9823fb8a,,export ANSIBLE_DEBUG=True ,,2,50
openstack%2Ftripleo-ci~master~I1101689f468b9ceca13491b3fefdfa8bce2e1185,openstack/tripleo-ci,master,I1101689f468b9ceca13491b3fefdfa8bce2e1185,[dnm] test 790598,ABANDONED,2021-05-12 12:05:33.000000000,2021-06-25 00:59:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-12 12:05:33.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c371a98703261c83c28935e09a657274de91f953', 'message': '[dnm] test 790598\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790598\nChange-Id: I1101689f468b9ceca13491b3fefdfa8bce2e1185\n'}]",0,790956,c371a98703261c83c28935e09a657274de91f953,4,2,1,29775,,,0,"[dnm] test 790598

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/790598
Change-Id: I1101689f468b9ceca13491b3fefdfa8bce2e1185
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/790956/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c371a98703261c83c28935e09a657274de91f953,, - tripleo-ci-centos-8-content-provider," templates: - tripleo-ci-build-containers-jobs - tripleo-ci-buildimage-jobs - tripleo-multinode-branchful - tripleo-multinode-container-full-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-periodic - openstack-tox-linters - tripleo-tox-molecule: vars: tox_environment: PYTEST_REQPASS: 1 - openstack-tox-py36: &tox-py success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ vars: tox_environment: PYTEST_REQPASS: 84 - openstack-tox-py39: *tox-py - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters gate: queue: tripleo jobs: # Don't put a files section on the linters job, otherwise no # jobs might be defined and nothing can merge in this repo. - openstack-tox-linters - tripleo-tox-molecule - openstack-tox-py36: *tox-py - openstack-tox-py39: *tox-py",1,39
openstack%2Fopenstack-virtual-baremetal~master~Ic39ff2929eceddc8467a8ad9ea272a001c172ec4,openstack/openstack-virtual-baremetal,master,Ic39ff2929eceddc8467a8ad9ea272a001c172ec4,[DNM] Test config-drive: true for BMC,ABANDONED,2021-05-25 06:01:22.000000000,2021-06-25 00:59:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-25 06:01:22.000000000', 'files': ['templates/bmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/009b3b30c6bb75089256c428cf5b6931ccd66291', 'message': '[DNM] Test config-drive: true for BMC\n\nconfig-drive defaults to false, We can overide this in config project under\novb-manage role for bmc node. But as that is a trusted project we cannot\ntest without merge.\n\nChanging default here for testing purpose.\n\nChange-Id: Ic39ff2929eceddc8467a8ad9ea272a001c172ec4\n'}]",0,792870,009b3b30c6bb75089256c428cf5b6931ccd66291,4,2,1,29775,,,0,"[DNM] Test config-drive: true for BMC

config-drive defaults to false, We can overide this in config project under
ovb-manage role for bmc node. But as that is a trusted project we cannot
test without merge.

Changing default here for testing purpose.

Change-Id: Ic39ff2929eceddc8467a8ad9ea272a001c172ec4
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/70/792870/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/bmc.yaml'],1,009b3b30c6bb75089256c428cf5b6931ccd66291,, default: true, default: false,1,1
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e,openstack/openstack-virtual-baremetal,stable/2.0,I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e,[DNM] Test only,ABANDONED,2021-05-31 15:10:01.000000000,2021-06-25 00:58:51.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-05-31 15:10:01.000000000', 'files': ['sample-env-generator/environments.yaml', '.zuul.yaml', 'environments/base-extra-node-all.yaml', 'environments/base-extra-node.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/29f93c8362a7b2d00284fb49e54b3697d7bd2977', 'message': '[DNM] Test only\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793806\nChange-Id: I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e\n'}]",0,793810,29f93c8362a7b2d00284fb49e54b3697d7bd2977,3,1,1,29775,,,0,"[DNM] Test only

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793806
Change-Id: I0c2951d3e285cf7a8b5667040fbd7bcc1ed2fd4e
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/10/793810/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/environments.yaml', '.zuul.yaml', 'environments/base-extra-node-all.yaml', 'environments/base-extra-node.yaml']",4,29f93c8362a7b2d00284fb49e54b3697d7bd2977,,,,4,3
openstack%2Ftripleo-quickstart-extras~master~I19b756a92d403644aa18dcff2c3f016e8896d60a,openstack/tripleo-quickstart-extras,master,I19b756a92d403644aa18dcff2c3f016e8896d60a,[DNM] Lock NetworkManager,ABANDONED,2021-06-04 02:28:56.000000000,2021-06-25 00:58:44.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-04 02:28:56.000000000', 'files': ['roles/install-built-repo/templates/install-built-repo.sh.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/94b6cccba50893879c8fcbd7d353c356fb99a8ef', 'message': '[DNM] Lock NetworkManager\n\nChange-Id: I19b756a92d403644aa18dcff2c3f016e8896d60a\n'}]",0,794700,94b6cccba50893879c8fcbd7d353c356fb99a8ef,3,1,1,29775,,,0,"[DNM] Lock NetworkManager

Change-Id: I19b756a92d403644aa18dcff2c3f016e8896d60a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/00/794700/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/install-built-repo/templates/install-built-repo.sh.j2', 'zuul.d/layout.yaml']",2,94b6cccba50893879c8fcbd7d353c356fb99a8ef,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,4,58
openstack%2Fdiskimage-builder~master~I5ba6ab4149cb146782436b97987ba86ad1d9ba3c,openstack/diskimage-builder,master,I5ba6ab4149cb146782436b97987ba86ad1d9ba3c,[DNM] Lock NetworkManager in DIB,ABANDONED,2021-06-04 04:01:02.000000000,2021-06-25 00:58:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-04 04:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b932a09d656091e20b598b774d3c168ea4513356', 'message': '[DNM] Lock NetworkManager in DIB\n\nTrying locking NM to debug[1]\nhttps://bugs.launchpad.net/tripleo/+bug/1929745\n\nChange-Id: I5ba6ab4149cb146782436b97987ba86ad1d9ba3c\n'}, {'number': 2, 'created': '2021-06-04 05:31:31.000000000', 'files': ['.zuul.d/project.yaml', 'diskimage_builder/elements/base/install.d/00-up-to-date'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9779852958132e6f34b2c24c0088b4abd382c2ce', 'message': '[DNM] Lock NetworkManager in DIB\n\nTrying locking NM to debug[1]\nhttps://bugs.launchpad.net/tripleo/+bug/1929745\n\nChange-Id: I5ba6ab4149cb146782436b97987ba86ad1d9ba3c\n'}]",0,794704,9779852958132e6f34b2c24c0088b4abd382c2ce,7,1,2,29775,,,0,"[DNM] Lock NetworkManager in DIB

Trying locking NM to debug[1]
https://bugs.launchpad.net/tripleo/+bug/1929745

Change-Id: I5ba6ab4149cb146782436b97987ba86ad1d9ba3c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/04/794704/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'diskimage_builder/elements/base/install.d/00-up-to-date']",2,b932a09d656091e20b598b774d3c168ea4513356,,dnf install python3-dnf-plugin-versionlock -y dnf versionlock add NetworkManager ,,4,60
openstack%2Ftripleo-ci~master~Ief7feb1570618476c0f220e736a95d21affc45e1,openstack/tripleo-ci,master,Ief7feb1570618476c0f220e736a95d21affc45e1,[DNM] Try new Centos-8 stream image,ABANDONED,2021-06-07 05:43:19.000000000,2021-06-25 00:58:10.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-07 05:43:19.000000000', 'files': ['zuul.d/layout.yaml', 'roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/72b4687c5fa4e4bf58d0ca6439fc74b7e8c9cbf0', 'message': '[DNM] Try new Centos-8 stream image\n\nFor testing as we now have new c8 stream image.\n\nChange-Id: Ief7feb1570618476c0f220e736a95d21affc45e1\n'}]",0,795024,72b4687c5fa4e4bf58d0ca6439fc74b7e8c9cbf0,3,1,1,29775,,,0,"[DNM] Try new Centos-8 stream image

For testing as we now have new c8 stream image.

Change-Id: Ief7feb1570618476c0f220e736a95d21affc45e1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/795024/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'roles/oooci-build-images/defaults/main.yaml']",2,72b4687c5fa4e4bf58d0ca6439fc74b7e8c9cbf0,,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210603.0.x86_64.qcow2,tripleo_image_source: https://images.rdoproject.org/CentOS-8-Stream-x86_64-GenericCloud.qcow2,2,41
openstack%2Ftripleo-ansible~master~I3755fde69070d9c13f1f2049f91344aea52d991d,openstack/tripleo-ansible,master,I3755fde69070d9c13f1f2049f91344aea52d991d,[DNM] Temporarily disable no_log for podmans info task,ABANDONED,2021-06-07 09:54:32.000000000,2021-06-25 00:54:50.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2021-06-07 09:54:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68b67b740c10a23ec217cc349efa00539c71c12b', 'message': ""[DNM] Temporarily disable no_log for podmans info task\n\nIn order to investigate the issue, let's disable no_log.\n\nRelated-Bug: #1931090\nChange-Id: I3755fde69070d9c13f1f2049f91344aea52d991d\n""}]",0,795077,68b67b740c10a23ec217cc349efa00539c71c12b,3,1,1,29775,,,0,"[DNM] Temporarily disable no_log for podmans info task

In order to investigate the issue, let's disable no_log.

Related-Bug: #1931090
Change-Id: I3755fde69070d9c13f1f2049f91344aea52d991d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/795077/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml']",3,68b67b740c10a23ec217cc349efa00539c71c12b,bug/1931090," # Temporarily disable no_log for this task to debug #1931090 no_log: false # ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}"""," no_log: ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}""",5,58
openstack%2Ftripleo-heat-templates~master~If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,openstack/tripleo-heat-templates,master,If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c,Support cinder image conversion on an NFS share,MERGED,2021-05-21 13:42:13.000000000,2021-06-25 00:51:28.000000000,2021-06-25 00:50:10.000000000,"[{'_account_id': 6796}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-21 13:42:13.000000000', 'files': ['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2225f9666b157de773fc1dadf195034e24e2577b', 'message': ""Support cinder image conversion on an NFS share\n\nNew CinderImageConversionNfsShare and CinderImageConversionNfsOptions\nparameters add support for mounting an external NFS share for cinder\nto use when converting glance images to or from another format (e.g.\nqcow2 versus raw).\n\nThis feature is useful in preventing the node's root disk from filling\nup in situations where the available disk space is too small, which\ncan happen in deployments that utilize very large glance images.\n\nChange-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c\n""}]",0,792631,2225f9666b157de773fc1dadf195034e24e2577b,23,6,1,21129,,,0,"Support cinder image conversion on an NFS share

New CinderImageConversionNfsShare and CinderImageConversionNfsOptions
parameters add support for mounting an external NFS share for cinder
to use when converting glance images to or from another format (e.g.
qcow2 versus raw).

This feature is useful in preventing the node's root disk from filling
up in situations where the available disk space is too small, which
can happen in deployments that utilize very large glance images.

Change-Id: If7b3640191d84e5cf30cbbcb1cc94aa0f068d11c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/792631/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-nfs-conversion-dir-ba9b8dce515808ce.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",3,2225f9666b157de773fc1dadf195034e24e2577b,cinder-nfs-conversion-dir," CinderImageConversionNfsShare: default: '' description: When set, the NFS share to be used for Cinder's image conversion directory. type: string CinderImageConversionNfsOptions: default: '_netdev,bg,intr,context=system_u:object_r:container_file_t:s0' description: NFS mount options when using an NFS share for Cinder's image conversion directory. type: string cinder_nfs_conversion_dir_enabled: not: equals: - {get_param: CinderImageConversionNfsShare} - '' cinder_image_conversion_nfs_dir: description: The directory where cinder does its image conversion when the directory is backed by an NFS share. value: &cinder_image_conversion_nfs_dir # Avoid SELinux conflicts by choosing a location outside /var/lib/cinder /var/lib/cinder_image_conversion - - name: Support using an NFS share for cinder image conversion vars: image_conversion_nfs_enabled: {if: [cinder_nfs_conversion_dir_enabled, true, false]} when: - image_conversion_nfs_enabled|bool block: - name: Create cinder image conversion directory file: path: *cinder_image_conversion_nfs_dir state: directory - name: Mount cinder's image conversion NFS share vars: image_conversion_nfs_share: {get_param: CinderImageConversionNfsShare} image_conversion_nfs_options: {get_param: CinderImageConversionNfsOptions} mount: path: *cinder_image_conversion_nfs_dir state: mounted fstype: nfs4 src: ""{{ image_conversion_nfs_share }}"" opts: ""{{ image_conversion_nfs_options }}"" cinder_volume_config_settings: description: Config settings for the cinder-volume container (HA or non-HA) value: if: - cinder_nfs_conversion_dir_enabled - cinder::image_conversion_dir: *cinder_image_conversion_nfs_dir - {} - if: - cinder_nfs_conversion_dir_enabled - - str_replace: # Use slave propagation so if the mount is delayed on the host # it will also be updated within the cinder-volume container. template: DIR:DIR:slave params: DIR: *cinder_image_conversion_nfs_dir", -,69,2
openstack%2Ftripleo-heat-templates~master~I1efecdcd7afa6af3e6b4b26f4435198836db535f,openstack/tripleo-heat-templates,master,I1efecdcd7afa6af3e6b4b26f4435198836db535f,Add THT Jinja2 data sources as stack output,MERGED,2021-05-14 13:13:38.000000000,2021-06-25 00:49:48.000000000,2021-06-25 00:49:48.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-05-14 13:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/292509a1d141fe9a541c9152c22634e4d82d340e', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}, {'number': 2, 'created': '2021-05-14 13:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0900be6490f1cfba605e301e74d38f79a2f10ace', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}, {'number': 3, 'created': '2021-06-10 23:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0941da5e40674b4bdb0c9948e562781aee3c7d99', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}, {'number': 4, 'created': '2021-06-14 09:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fd363c7d6644f4acc6ba6efe0d5d1d2614df4a7', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}, {'number': 5, 'created': '2021-06-16 09:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6afbc3c9ad0f4bec75424e9955f3748250e2de7b', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}, {'number': 6, 'created': '2021-06-22 18:13:37.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b5b914e312c25a956b412c0702064b65fafdab6', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n""}]",1,791476,0b5b914e312c25a956b412c0702064b65fafdab6,40,9,6,24245,,,0,"Add THT Jinja2 data sources as stack output

This simply stores the data structure in the network_data
and roles_data YAML files provided with the -n and -r
options when deploying the overcloud.

This can be generally useful for troubleshooting.

Also the 'overcloud node extract provision' command rely
on the roles data source. Storing it in the stack means
we can get to the data in case the user missplaced the
file originally used, or in the case where we want to
automate the process for all deployed stacks.

NOTE: The idea is to backport this to the release intended
as the upgrade from release, so that the follow on change
Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during
upgrade.

Related: blueprint network-data-v2-ports
Change-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/791476/5 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,292509a1d141fe9a541c9152c22634e4d82d340e,network-data-v2, TripleoHeatTemplatesJinja2RenderingDataSources: description: The role_data and the network_data used when rendering the THT Jinj2 templates value: roles_data: {{ roles }} networks_data: {{ networks }},,5,0
openstack%2Ftripleo-heat-templates~master~Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,openstack/tripleo-heat-templates,master,Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9,Extend UC ephemeral heat to export network,MERGED,2021-06-10 13:06:33.000000000,2021-06-25 00:49:37.000000000,2021-06-25 00:49:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-10 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e72744a290f4946c8401ed41537e676634dcf223', 'message': '[WIP] - Use OvercloudStackRoleDataFileMap\n\nAs a fallback, in case the stack does not contain the\noriginal roles_data. Allow the user to specify a mapping\nwith the path to the roles_data.yaml file to use.\n\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n'}, {'number': 2, 'created': '2021-06-10 13:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e670173341d12cd16b5c7b7ff72c8c0e723bf2b', 'message': '[WIP] - Use OvercloudStackRoleDataFileMap\n\nAs a fallback, in case the stack does not contain the\noriginal roles_data. Allow the user to specify a mapping\nwith the path to the roles_data.yaml file to use.\n\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n'}, {'number': 3, 'created': '2021-06-10 15:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afdb1c18e794b88d7b4ea904c5d3a3e3a985e26c', 'message': '[WIP] - Use OvercloudStackRoleDataFileMap\n\nAs a fallback, in case the stack does not contain the\noriginal roles_data. Allow the user to specify a mapping\nwith the path to the roles_data.yaml file to use.\n\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n'}, {'number': 4, 'created': '2021-06-10 17:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5097b3b124f88ae68bbdb0a7ab9c90b72451647', 'message': '[WIP] - Use OvercloudStackRoleDataFileMap\n\nAs a fallback, in case the stack does not contain the\noriginal roles_data. Allow the user to specify a mapping\nwith the path to the roles_data.yaml file to use.\n\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n'}, {'number': 5, 'created': '2021-06-10 23:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c52f98b01d4d570e88ad9dab30c6d4bce0371a51', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n""}, {'number': 6, 'created': '2021-06-14 09:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/510767676799d3082fc43fddd11ab21f5b8ffc11', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n""}, {'number': 7, 'created': '2021-06-16 09:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/902fe22e85975728c2e6e6bf47dc61d0b26b6f51', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n""}, {'number': 8, 'created': '2021-06-22 11:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/923d38d102eccd80477facdaf222b090280dd6f1', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n""}, {'number': 9, 'created': '2021-06-22 18:13:37.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28105815c15cd2633accc1a900e7887c83a728af', 'message': ""Extend UC ephemeral heat to export network\n\nRun the commands to export the current stack's networks,\nvirtual IPs and provisioned server as part of the\nOS::TripleO::UndercloudUpgradeEphemeralHeat service script.\n\nThe network, virtual IP definitions and baremeteal deployment\ndefinition will will be stored in each stacks subdirectory in\nthe working-dir.\n\nThe user must provide the path to the roles data file for each\novercloud stack managed by the undercloud being upgraded.\nFor example, by adding a file with below content and including\nthis env file using the 'custom_env_files' option in\nundercloud.conf.\n\n  parameter_defaults:\n    OvercloudStackRoleDataFileMap:\n      overcloud: /home/centos/overcloud/my_roles_data.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9\n""}]",9,795773,28105815c15cd2633accc1a900e7887c83a728af,48,7,9,24245,,,0,"Extend UC ephemeral heat to export network

Run the commands to export the current stack's networks,
virtual IPs and provisioned server as part of the
OS::TripleO::UndercloudUpgradeEphemeralHeat service script.

The network, virtual IP definitions and baremeteal deployment
definition will will be stored in each stacks subdirectory in
the working-dir.

The user must provide the path to the roles data file for each
overcloud stack managed by the undercloud being upgraded.
For example, by adding a file with below content and including
this env file using the 'custom_env_files' option in
undercloud.conf.

  parameter_defaults:
    OvercloudStackRoleDataFileMap:
      overcloud: /home/centos/overcloud/my_roles_data.yaml

Related: blueprint network-data-v2-ports
Change-Id: Id04a4f71f923a25fd50ca78e478a9b5abb61bbb9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/795773/9 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/undercloud-upgrade-ephemeral-heat.py', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml']",2,e72744a290f4946c8401ed41537e676634dcf223,network-data-v2," OvercloudStackRoleDataFileMap: default: {} description: | Mapping of overcloud stack name, and the absolute path to the roles data file used when deploying/updating the stack. For example: {'overcloud': '/home/stack/network_data.yaml'} type: json - name: Store OvercloudStackRoleDataFileMap on file vars: role_data_file_map: {get_param: OvercloudStackRoleDataFileMap} copy: dest: /var/lib/tripleo-config/overcloud-stack-role-data-file-map.yaml content: ""{{ role_data_file_map | to_nice_yaml }}"" when: - step|int == 1",,45,11
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7,openstack/tripleo-heat-templates,stable/train,I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7,"Revert ""Always run network config for undercloud""",MERGED,2021-06-18 14:52:16.000000000,2021-06-25 00:49:31.000000000,2021-06-25 00:49:31.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:52:16.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2bddc7606f9830581fc7dad2ebcfee30e3c1f2c', 'message': 'Revert ""Always run network config for undercloud""\n\nThis reverts commit ec1a78829a9db51e1140c5bae68500bf6e94e3b5.\n\nReason for revert: Merged before master and the var is incorrect.\n\nChange-Id: I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7\n'}]",0,797100,d2bddc7606f9830581fc7dad2ebcfee30e3c1f2c,8,3,1,14985,,,0,"Revert ""Always run network config for undercloud""

This reverts commit ec1a78829a9db51e1140c5bae68500bf6e94e3b5.

Reason for revert: Merged before master and the var is incorrect.

Change-Id: I282c43a9aeb599ab84ffd20f53ea2f0ee86cbeb7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/797100/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,d2bddc7606f9830581fc7dad2ebcfee30e3c1f2c,bug/1930151-stable/train,," NetworkDeploymentAction: ['CREATE','UPDATE']",0,1
openstack%2Fproject-config~master~I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3,openstack/project-config,master,I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3,Add python-path to Debian bullseye ARM64 images,MERGED,2021-06-24 23:52:22.000000000,2021-06-25 00:46:08.000000000,2021-06-25 00:36:16.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 23:52:22.000000000', 'files': ['nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/de75db6d95361f955ea14647cd3399e4c50f6caa', 'message': ""Add python-path to Debian bullseye ARM64 images\n\nThe versions of Ansible we use in Zuul don't detect Debian Bullseye\ncorrectly and try to use python2.  Set a python3 override.\n\nChange-Id: I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3\n""}]",0,798029,de75db6d95361f955ea14647cd3399e4c50f6caa,7,2,1,7118,,,0,"Add python-path to Debian bullseye ARM64 images

The versions of Ansible we use in Zuul don't detect Debian Bullseye
correctly and try to use python2.  Set a python3 override.

Change-Id: I6a202d7d2d9e85e99d53d2f13993bf2e3a4237d3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/798029/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.opendev.org.yaml'],1,de75db6d95361f955ea14647cd3399e4c50f6caa,bullseye-python-interp, python-path: /usr/bin/python3,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,openstack/tripleo-ansible,stable/train,Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716,pmd auto balance parameters support in ovs,MERGED,2021-06-22 15:33:27.000000000,2021-06-25 00:33:08.000000000,2021-06-25 00:31:51.000000000,"[{'_account_id': 7353}, {'_account_id': 14972}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 15:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcdfa50f379e878c325601f20ef4b7b5848b8530', 'message': 'Add support for pmd auto balance parameters in open_vswitch\n\nThis patch enables the end user to customize PMD load threshold\n(pmd-auto-lb-load-threshold), variance improvement threshold\n(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive\nPMD auto load balancing iterations(pmd-auto-lb-rebal-interval)\nrather than using the default values.\n\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716\n'}, {'number': 2, 'created': '2021-06-23 13:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2df2c41f267fa3752c83deeb36fb2cbeabd477e6', 'message': 'Add support for pmd auto balance parameters in open_vswitch\n\nThis patch enables the end user to customize PMD load threshold\n(pmd-auto-lb-load-threshold), variance improvement threshold\n(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive\nPMD auto load balancing iterations(pmd-auto-lb-rebal-interval)\nrather than using the default values.\n\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716\n'}, {'number': 3, 'created': '2021-06-23 15:20:22.000000000', 'files': ['doc/source/roles/role-tripleo-ovs-dpdk.rst', 'tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4ea60968ae79a020d390ba6960c6aac697839c0', 'message': 'pmd auto balance parameters support in ovs\n\nThis patch enables the end user to customize PMD load threshold\n(pmd-auto-lb-load-threshold), variance improvement threshold\n(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive\nPMD auto load balancing iterations(pmd-auto-lb-rebal-interval)\nrather than using the default values.\n\nSigned-off-by: yogananth subramanian <ysubrama@redhat.com>\nChange-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716\n(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)\n'}]",50,797481,e4ea60968ae79a020d390ba6960c6aac697839c0,18,4,3,14972,,,0,"pmd auto balance parameters support in ovs

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval)
rather than using the default values.

Signed-off-by: yogananth subramanian <ysubrama@redhat.com>
Change-Id: Ibb8fce149f2cf9201fc3fd2ff0fb5e1ccd1c0716
(cherry picked from commit 4983761dc4f145a4bfa68ddd0b69177bff7ddb6d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/797481/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-ovs-dpdk.rst', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml']",6,bcdfa50f379e878c325601f20ef4b7b5848b8530,pmd_parameters,"<<<<<<< HEAD (e3fefe [Train-only] Remove duplicate /etc/hosts entries) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should place placed in this file. # All variables within this role should have a prefix of ""tripleo_ovs_dpdk"" tripleo_ovs_dpdk_debug: ""{{ (ansible_verbosity | int) >= 2 | bool }}"" tripleo_ovs_dpdk_pmd_core_list: """" tripleo_ovs_dpdk_lcore_list: """" tripleo_ovs_dpdk_memory_channels: 4 tripleo_ovs_dpdk_extra: """" tripleo_ovs_dpdk_socket_memory: """" tripleo_ovs_dpdk_revalidator_cores: """" tripleo_ovs_dpdk_handler_cores: """" tripleo_ovs_dpdk_emc_insertion_probablity: """" tripleo_ovs_dpdk_enable_tso: false tripleo_ovs_dpdk_pmd_auto_lb: false tripleo_ovs_dpdk_pmd_load_threshold: """" tripleo_ovs_dpdk_pmd_improvement_threshold: """" tripleo_ovs_dpdk_pmd_rebal_interval: """" >>>>>>> CHANGE (498376 Add support for pmd auto balance parameters in open_vswitch) ",,522,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~I4708ab72f742247a3a17318b2785862960de1724,openstack/tripleo-upgrade,stable/train,I4708ab72f742247a3a17318b2785862960de1724,[Train-Only] Move the rename-nics after upgrade prepare.,MERGED,2021-06-24 09:05:16.000000000,2021-06-25 00:31:53.000000000,2021-06-25 00:31:53.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 09:05:16.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/95a61a86c5eb44d167e02f3d5ce7b998fd63468e', 'message': '[Train-Only] Move the rename-nics after upgrade prepare.\n\nDuring upgrade prepare in FFWD it looks like some of the stackrc parameters\nget updated, therefore we need to update the tripleo-ansible-inventory\nfile using that environment file, as this inventory is being used to\nexecute the nics renaming on the overcloud nodes.\n\nThis patch adds a new task to regenerate the tripleo-ansible-inventory.yaml\nfile after running upgrade prepare and then it executes the nics renaming\nscript.\n\nChange-Id: I4708ab72f742247a3a17318b2785862960de1724\n'}]",0,797824,95a61a86c5eb44d167e02f3d5ce7b998fd63468e,8,4,1,26343,,,0,"[Train-Only] Move the rename-nics after upgrade prepare.

During upgrade prepare in FFWD it looks like some of the stackrc parameters
get updated, therefore we need to update the tripleo-ansible-inventory
file using that environment file, as this inventory is being used to
execute the nics renaming on the overcloud nodes.

This patch adds a new task to regenerate the tripleo-ansible-inventory.yaml
file after running upgrade prepare and then it executes the nics renaming
script.

Change-Id: I4708ab72f742247a3a17318b2785862960de1724
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/797824/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/load_roles_from_inventory.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",2,95a61a86c5eb44d167e02f3d5ce7b998fd63468e,, - name: regenerate inventory file after stack update shell: | source {{ undercloud_rc }} /usr/bin/tripleo-ansible-inventory --plan {{ overcloud_stack_name }} \ {% if overcloud_ssh_user %} --ansible_ssh_user {{ overcloud_ssh_user }} {% endif %} \ --static-yaml-inventory {{ working_dir }}/tripleo-ansible-inventory.yaml when: not mock_environment|bool - name: run playbook from Undercloud to rename OC ethX interfaces shell: | set -o pipefail ansible-playbook -v -i {{ working_dir }}/tripleo-ansible-inventory.yaml -e prefix={{ nic_prefix }} \ {{ working_dir }}/rename-nics.yaml 2>&1 {{ timestamper_cmd }} >> {{ working_dir}}/overcloud-rename-nics.log,- name: run playbook from Undercloud to rename OC ethX interfaces shell: | set -o pipefail ansible-playbook -v -i {{ working_dir }}/tripleo-ansible-inventory.yaml -e prefix={{ nic_prefix }} \ {{ working_dir }}/rename-nics.yaml 2>&1 {{ timestamper_cmd }} >> {{ working_dir}}/overcloud-rename-nics.log ,16,8
openstack%2Ffreezer-tempest-plugin~master~I315dc315049583e7f3bb4c8716f59b57a3229b52,openstack/freezer-tempest-plugin,master,I315dc315049583e7f3bb4c8716f59b57a3229b52,Add victoria/wallaby stable branch jobs on master gate,MERGED,2021-04-29 23:42:22.000000000,2021-06-24 23:27:19.000000000,2021-06-24 23:27:19.000000000,"[{'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 23:42:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/900356a192f71cec55f7a25396c34a436f0a4353', 'message': 'Add victoria/wallaby stable branch jobs on master gate\n\nWe have stable/victoria and stable/wallaby released so we\nshould add their job on master gate to keep branchless\ntempest plugins compatible to those branch.\n\nThis also removes the stable/stein job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I315dc315049583e7f3bb4c8716f59b57a3229b52\n'}]",0,788842,900356a192f71cec55f7a25396c34a436f0a4353,15,3,1,8556,,,0,"Add victoria/wallaby stable branch jobs on master gate

We have stable/victoria and stable/wallaby released so we
should add their job on master gate to keep branchless
tempest plugins compatible to those branch.

This also removes the stable/stein job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I315dc315049583e7f3bb4c8716f59b57a3229b52
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/42/788842/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,900356a192f71cec55f7a25396c34a436f0a4353,wallaby-stable-jobs, - freezer-tempest-basic-wallaby - freezer-tempest-basic-victoria name: freezer-tempest-basic-wallaby parent: freezer-tempest-basic override-checkout: stable/wallaby - job: name: freezer-tempest-basic-victoria parent: freezer-tempest-basic override-checkout: stable/victoria - job:, - freezer-tempest-basic-stein - job: name: freezer-tempest-basic-stein parent: freezer-tempest-basic nodeset: openstack-single-node-bionic override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,12,10
openstack%2Ftripleo-ansible~stable%2Fwallaby~I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,openstack/tripleo-ansible,stable/wallaby,I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,"Container manage module, attempt 2",MERGED,2021-06-22 18:49:00.000000000,2021-06-24 22:05:48.000000000,2021-06-24 22:04:37.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 18:49:00.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dec400625eb0040a79ffb4b146b56a0a6b3f07a', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis changed the default state from created to started which matches\nwhat used to occur in the tripleo_container_manage role. Additionally\nan additional check was added to an exec to ensure the target container\nis up before running the exec. We will sleep for 5 seconds and check\nagain if the container is not running.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n(cherry picked from commit 72f42e0f3b870d435ce9083480dd189e163ef1c9)\n'}]",2,797530,1dec400625eb0040a79ffb4b146b56a0a6b3f07a,9,3,1,14985,,,0,"Container manage module, attempt 2

Use a module to manage podman containers rather than the async task
loops.  This change also includes fixes for container-puppet json data
to match the expectations of the module.

This changed the default state from created to started which matches
what used to occur in the tripleo_container_manage role. Additionally
an additional check was added to an exec to ensure the target container
is up before running the exec. We will sleep for 5 seconds and check
again if the container is not running.

Change-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63
(cherry picked from commit 72f42e0f3b870d435ce9083480dd189e163ef1c9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/797530/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py']",4,1dec400625eb0040a79ffb4b146b56a0a6b3f07a,config-next-stable/wallaby," 'security_opt': ['label=disable'], # container-puppet shouldn't detach 'detach': False, cdata['net'] = ['host'] cdata['net'] = ['none']"," 'security_opt': 'label=disable', cdata['net'] = 'host' cdata['net'] = 'none'",403,11
openstack%2Ftripleo-upgrade~master~I5b6660dfb11c9a1aee0f0270be0554a782db8005,openstack/tripleo-upgrade,master,I5b6660dfb11c9a1aee0f0270be0554a782db8005,Bump dogpile to >=0.9.2,MERGED,2021-06-23 16:09:16.000000000,2021-06-24 22:04:25.000000000,2021-06-24 22:04:25.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-23 16:09:16.000000000', 'files': ['molecule/molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0bb8f854157cbaa6f4b9c3d1d7f394817ee933ef', 'message': 'Bump dogpile to >=0.9.2\n\nThe issue described in [1] is not present from 0.9.2 and higher version\n\n[1] https://github.com/sqlalchemy/dogpile.cache/issues/178\n\nChange-Id: I5b6660dfb11c9a1aee0f0270be0554a782db8005\n'}]",0,797690,0bb8f854157cbaa6f4b9c3d1d7f394817ee933ef,10,9,1,11090,,,0,"Bump dogpile to >=0.9.2

The issue described in [1] is not present from 0.9.2 and higher version

[1] https://github.com/sqlalchemy/dogpile.cache/issues/178

Change-Id: I5b6660dfb11c9a1aee0f0270be0554a782db8005
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/797690/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule/molecule-requirements.txt'],1,0bb8f854157cbaa6f4b9c3d1d7f394817ee933ef,fix_dogpile,dogpile.cache>=>0.9.2 # MIT,"# https://github.com/sqlalchemy/dogpile.cache/issues/178 (openstacksdk) dogpile.cache>=0.6.5,<0.9.1 # MIT",1,2
openstack%2Ftripleo-upgrade~stable%2Fussuri~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/ussuri,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:42:43.000000000,2021-06-24 22:04:22.000000000,2021-06-24 22:04:22.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-23 13:42:43.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cbfd42cb04b75a7867867607950d58a21761d2c9', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit with failure if that is the case because this\nscript should always include at least one compute host.\n\nWe also revert the conditionals changed by:\nhttps://review.opendev.org/773002\n\nThe conditions must be taken together to ensure that the\nscript is only created and run for computes.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)\n""}]",0,797581,cbfd42cb04b75a7867867607950d58a21761d2c9,7,4,1,6816,,,0,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/81/797581/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,cbfd42cb04b75a7867867607950d58a21761d2c9,, when: - compute_present | bool - workload_launch | bool, when: (compute_present | bool) or (workload_launch | bool),13,3
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/victoria,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:43:10.000000000,2021-06-24 22:04:19.000000000,2021-06-24 22:04:19.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-23 13:43:10.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c33cf633298be2e8f345d16252b2adfc81bea3fe', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit with failure if that is the case because this\nscript should always include at least one compute host.\n\nWe also revert the conditionals changed by:\nhttps://review.opendev.org/773002\n\nThe conditions must be taken together to ensure that the\nscript is only created and run for computes.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)\n""}]",0,797582,c33cf633298be2e8f345d16252b2adfc81bea3fe,7,4,1,6816,,,0,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/797582/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,c33cf633298be2e8f345d16252b2adfc81bea3fe,, when: - compute_present | bool - workload_launch | bool, when: (compute_present | bool) or (workload_launch | bool),13,3
openstack%2Fcharm-designate~master~Id06099ad82f07a6accc7eedbf2adb00b654da3c0,openstack/charm-designate,master,Id06099ad82f07a6accc7eedbf2adb00b654da3c0,change test bundles to symlinks,ABANDONED,2020-10-06 21:18:10.000000000,2021-06-24 21:46:20.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-06 21:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c93108313bbfdfe092a6b7a9894ca3c751c1c4a1', 'message': 'change test bundles to symlinks\n\nRelocates the zaza test bundles to a pair of base bundles, plus symlinks\nand individual overlays for the differences between the base bundles.\n\nChange-Id: Id06099ad82f07a6accc7eedbf2adb00b654da3c0\n'}, {'number': 2, 'created': '2021-03-07 21:01:48.000000000', 'files': ['src/tests/bundles/overlays/xenial-pike.yaml.j2', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/overlays/xenial-queens.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/overlays/trusty-mitaka.yaml.j2', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/base-mysql8.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/xenial-pike.yaml', 'src/tests/bundles/xenial-mitaka.yaml', 'src/tests/bundles/overlays/xenial-ocata.yaml.j2', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/overlays/xenial-mitaka.yaml.j2', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'src/tests/bundles/base-percona.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/63031dcf08c4e35b48b39fec13eabfee257d53d8', 'message': 'change test bundles to symlinks\n\nRelocates the zaza test bundles to a pair of base bundles, plus symlinks\nand individual overlays for the differences between the base bundles.\n\nChange-Id: Id06099ad82f07a6accc7eedbf2adb00b654da3c0\n'}]",0,756399,63031dcf08c4e35b48b39fec13eabfee257d53d8,13,2,2,10086,,,0,"change test bundles to symlinks

Relocates the zaza test bundles to a pair of base bundles, plus symlinks
and individual overlays for the differences between the base bundles.

Change-Id: Id06099ad82f07a6accc7eedbf2adb00b654da3c0
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/99/756399/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/xenial-pike.yaml.j2', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/bundles/overlays/xenial-queens.yaml.j2', 'src/tests/bundles/overlays/bionic-rocky.yaml.j2', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/overlays/trusty-mitaka.yaml.j2', 'src/tests/bundles/overlays/bionic-queens.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/bundles/base-mysql8.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/xenial-pike.yaml', 'src/tests/bundles/xenial-mitaka.yaml', 'src/tests/bundles/overlays/xenial-ocata.yaml.j2', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/overlays/groovy-victoria.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/bionic-rocky.yaml', 'src/tests/bundles/overlays/xenial-mitaka.yaml.j2', 'src/tests/bundles/bionic-queens.yaml', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'src/tests/bundles/base-percona.yaml']",27,c93108313bbfdfe092a6b7a9894ca3c751c1c4a1,symlink-bundles, - 'rabbitmq-server:amqp' ,series: xenial - 'rabbitmq-server:amqp',137,18
openstack%2Fneutron~stable%2Fvictoria~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/victoria,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:35:53.000000000,2021-06-24 21:39:33.000000000,2021-06-24 21:37:08.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:35:53.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68dadec27fc6a973dc50bee4db85737cf6147fc5', 'message': ""Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n- don't count subnets (DB request) if subnet has no segment\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)\n""}]",0,797589,68dadec27fc6a973dc50bee4db85737cf6147fc5,10,3,1,5948,,,0,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/797589/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",3,68dadec27fc6a973dc50bee4db85737cf6147fc5,subnet_create_opt-stable/victoria," self._create_subnet_postcommit(context, result, network=mech_context.network.current)"," self._create_subnet_postcommit(context, result)",11,6
openstack%2Fneutron~stable%2Ftrain~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/train,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:36:32.000000000,2021-06-24 21:39:29.000000000,2021-06-24 21:37:16.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:36:32.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/256006eb7fdf2c92391d6ad07b738a4deb59aab1', 'message': ""Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n- don't count subnets (DB request) if subnet has no segment\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)\n""}]",0,797591,256006eb7fdf2c92391d6ad07b738a4deb59aab1,10,3,1,5948,,,0,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/797591/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",3,256006eb7fdf2c92391d6ad07b738a4deb59aab1,subnet_create_opt-stable/train," self._create_subnet_postcommit(context, result, network=mech_context.network.current)"," self._create_subnet_postcommit(context, result)",11,6
openstack%2Fneutron~stable%2Fwallaby~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,stable/wallaby,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-06-24 06:52:44.000000000,2021-06-24 21:39:19.000000000,2021-06-24 21:37:35.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 06:52:44.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/agents_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/170e6306e20399f60815d7d6e87983de004b83e9', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)\n""}]",0,797757,170e6306e20399f60815d7d6e87983de004b83e9,11,3,1,11975,,,0,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
(cherry picked from commit 8cc7c0cf7a5196103b097fae67eccbd5dc3980ac)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/797757/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py']",4,170e6306e20399f60815d7d6e87983de004b83e9,bug/1891360-stable/wallaby," def get_ports_by_host(cls, context, host): query = context.session.query(models_v2.Port.id).join( ml2_models.PortBinding) query = query.filter( ml2_models.PortBinding.host == host) return [port_id[0] for port_id in query.all()] @classmethod",,185,0
openstack%2Fneutron~stable%2Fstein~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/stein,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:39:52.000000000,2021-06-24 21:39:15.000000000,2021-06-24 21:37:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 14:39:52.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2056645d9df50f11bc1512743936f3711c6c3b6a', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797411,2056645d9df50f11bc1512743936f3711c6c3b6a,13,3,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/797411/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,2056645d9df50f11bc1512743936f3711c6c3b6a,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fswift~master~I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e,openstack/swift,master,I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e,WIP: test for fast-POST w/ 404s,NEW,2021-06-24 20:26:40.000000000,2021-06-24 21:38:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 20:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a6b7c7d64270a84cab369043b1791fe566d2c695', 'message': 'WIP: test for fast-POST w/ 404s\n\nChange-Id: I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e\n'}, {'number': 2, 'created': '2021-06-24 20:27:29.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/59c99518b20da2003e64ade1a76d745df3ab3b12', 'message': 'WIP: test for fast-POST w/ 404s\n\nRelated-Bug: #1933546\nChange-Id: I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e\n'}]",0,798022,59c99518b20da2003e64ade1a76d745df3ab3b12,4,1,2,1179,,,0,"WIP: test for fast-POST w/ 404s

Related-Bug: #1933546
Change-Id: I580c3ed7df3d83a8867c5be03f5dca6946d5ac1e
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/798022/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_obj.py'],1,a6b7c7d64270a84cab369043b1791fe566d2c695,fast-post-404," def test_POST_with_missing_replicas(self): req = swift.common.swob.Request.blank( '/v1/a/c/o', method='POST', headers={ 'x-object-meta-color': 'blue'}) ts0 = self.ts() ts1 = self.ts() codes = [202, 202, 404] headers = [ {'X-Backend-Timestamp': ts0.internal}, {'X-Backend-Timestamp': ts0.internal}, {}, ] with mocked_http_conn(*codes, headers=headers): resp = req.get_response(self.app) self.assertEqual(resp.status_int, 202) codes = [202, 404, 404] headers = [ {'X-Backend-Timestamp': ts0.internal}, {'X-Backend-Timestamp': ts1.internal}, {'X-Backend-Timestamp': ts1.internal}, ] with mocked_http_conn(*codes, headers=headers): resp = req.get_response(self.app) # deleted replicas will 404 self.assertEqual(resp.status_int, 404) codes = [202, 404, 404] headers = [ {'X-Backend-Timestamp': ts0.internal}, {}, {}, ] with mocked_http_conn(*codes, headers=headers): resp = req.get_response(self.app) # missing replicas is ok (?) self.assertEqual(resp.status_int, 202) ",,40,0
openstack%2Ftripleo-validations~master~I4341483264dbe657066f03a132ee83943e4aa823,openstack/tripleo-validations,master,I4341483264dbe657066f03a132ee83943e4aa823,[validation_init] Remove the creation of a README.md file for a new validation,MERGED,2021-06-08 11:02:26.000000000,2021-06-24 21:32:30.000000000,2021-06-24 21:30:51.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-08 11:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0dc937e86ee280b6e509552664cfeb3452eb5895', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. Each\nvariables are documented by using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}, {'number': 2, 'created': '2021-06-09 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4b76ca24c373a4db0dee485e0cdb420939e944e9', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. Each\nvariables are documented by using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}, {'number': 3, 'created': '2021-06-09 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9f21ba2a230c4284f79632cd88fe5ab38e789742', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. Each\nvariables are documented by using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}, {'number': 4, 'created': '2021-06-09 11:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2442e67ae7b34c22127b5a33b884bdcd10df8a0', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. All\nvariables are documented using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}, {'number': 5, 'created': '2021-06-09 12:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/befde81e03a87106ae6ff99c0a1d862a35761bc8', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. All\nvariables are documented using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}, {'number': 6, 'created': '2021-06-10 11:39:01.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/README.md', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/roles/role-validation_init.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0a37793cdc045801d3f908f010a5f850b3b75f2f', 'message': '[validation_init] Remove the creation of a README.md file for a new validation\n\nThis patch removes the creation of a role README.md file during the\ncreation of a new validation with the validation_init role and adds\ndocumentation directly in the sphinx role documentation file. All\nvariables are documented using comment(s) and will be rendered\nautomatically by the ansible-autodoc.py script during the sphinx build.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4341483264dbe657066f03a132ee83943e4aa823\n'}]",6,795295,0a37793cdc045801d3f908f010a5f850b3b75f2f,26,7,6,11491,,,0,"[validation_init] Remove the creation of a README.md file for a new validation

This patch removes the creation of a role README.md file during the
creation of a new validation with the validation_init role and adds
documentation directly in the sphinx role documentation file. All
variables are documented using comment(s) and will be rendered
automatically by the ansible-autodoc.py script during the sphinx build.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4341483264dbe657066f03a132ee83943e4aa823
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/795295/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/README.md', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/roles/role-validation_init.rst']",7,0dc937e86ee280b6e509552664cfeb3452eb5895,VALIDATION_DEVELOPMENT_WORKFLOW,"The ``validation_init`` role aims to create new validation from a skeleton. Requirements ------------ None. Dependencies ------------ None. Example Playbook ---------------- .. code-block:: yaml - name: Create my new role hosts: localhost connection: local gather_facts: false roles: - { role: validation_init, validation_init_role_name: ""mynewrolename""} License ------- Apache Author Information ------------------ Red Hat TripleO DFG:DF Squad: VF",.. literalinclude:: ../../../roles/validation_init/README.md,95,93
openstack%2Ftripleo-upgrade~master~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,master,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-23 13:43:33.000000000,2021-06-24 21:31:21.000000000,2021-06-24 21:31:21.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-23 13:43:33.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/842265afd76c1fb4948525c3327840e616a0a53d', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit with failure if that is the case because this\nscript should always include at least one compute host.\n\nWe also revert the conditionals changed by:\nhttps://review.opendev.org/773002\n\nThe conditions must be taken together to ensure that the\nscript is only created and run for computes.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)\n""}]",0,797583,842265afd76c1fb4948525c3327840e616a0a53d,7,4,1,6816,,,0,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
(cherry picked from commit 5cf94869ed02adcc56492dcac5aaa692304dfb59)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/83/797583/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml']",3,842265afd76c1fb4948525c3327840e616a0a53d,, when: - compute_present | bool - workload_launch | bool, when: (compute_present | bool) or (workload_launch | bool),13,3
openstack%2Ftripleo-operator-ansible~master~I0e4b62d33429b9a4473543e3cd0ae219c272b147,openstack/tripleo-operator-ansible,master,I0e4b62d33429b9a4473543e3cd0ae219c272b147,Fixing tripleo_validator_show_parameter role,MERGED,2021-06-24 10:54:09.000000000,2021-06-24 21:31:08.000000000,2021-06-24 21:31:08.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-24 10:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2c2a450596cc2be907d34b1c402ae0a59bfd8a42', 'message': 'Fixing tripleo_validator_show_parameter role\n\nThe openstack tripleo validator show parameter command expects either validation or group name.\nThe role was modified to meet this requirement.\n\nChange-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147\n'}, {'number': 2, 'created': '2021-06-24 12:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b1673ae1524e46e4eca6037e1badfb52ef0b24a8', 'message': 'Fixing tripleo_validator_show_parameter role\n\nThe openstack tripleo validator show parameter command expects either validation or group name.\nThe role was modified to meet this requirement.\n\nChange-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147\n'}, {'number': 3, 'created': '2021-06-24 13:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/a9a95151cefbcf7ce79f9d7ac04e88a98ed56785', 'message': 'Fixing tripleo_validator_show_parameter role\n\nThe openstack tripleo validator show parameter command expects either validation or group name.\nThe role was modified to meet this requirement.\n\nChange-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147\n'}, {'number': 4, 'created': '2021-06-24 15:33:27.000000000', 'files': ['roles/tripleo_validator_show_parameter/tasks/main.yml', 'roles/tripleo_validator_show_parameter/defaults/main.yml', 'roles/tripleo_validator_show_parameter/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/33b812b8d20bb68c2e119ca9edc64250e8b4c904', 'message': 'Fixing tripleo_validator_show_parameter role\n\nThe openstack tripleo validator show parameter command expects either validation or group name.\nThe role was modified to meet this requirement.\n\nChange-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147\n'}]",2,797873,33b812b8d20bb68c2e119ca9edc64250e8b4c904,16,4,4,33663,,,0,"Fixing tripleo_validator_show_parameter role

The openstack tripleo validator show parameter command expects either validation or group name.
The role was modified to meet this requirement.

Change-Id: I0e4b62d33429b9a4473543e3cd0ae219c272b147
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/73/797873/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_show_parameter/tasks/main.yml', 'roles/tripleo_validator_show_parameter/defaults/main.yml']",2,2c2a450596cc2be907d34b1c402ae0a59bfd8a42,fix_tripleo_validator_show_parameter,tripleo_validator_show_validation_parameter: [] tripleo_validator_show_group_parameter: [],,18,8
openstack%2Ftripleo-quickstart-extras~master~Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383,openstack/tripleo-quickstart-extras,master,Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383,Add missing custom container parameters - overcloud,MERGED,2021-06-18 17:57:11.000000000,2021-06-24 21:30:46.000000000,2021-06-24 21:30:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-06-18 17:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e73506e750ebfa6974230692953ba8f4bfaa9a39', 'message': 'Add missing custom conatiner parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overclouf prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}, {'number': 2, 'created': '2021-06-18 17:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6a27cd2e5840f3ca3e01069641b0ce417fdb17d8', 'message': 'Add missing custom container parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overclouf prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}, {'number': 3, 'created': '2021-06-21 11:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f9c265d4209181e709003e4202fc6be1d02e532', 'message': 'Add missing custom container parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overclouf prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}, {'number': 4, 'created': '2021-06-21 12:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/abc12f95ead80d0b240f9adb2acc5500e5cb4a52', 'message': 'Add missing custom container parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overclouf prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}, {'number': 5, 'created': '2021-06-22 12:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2134b501a6ad73c1b878b204110b9249a4dbe7cf', 'message': 'Add missing custom container parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overcloud prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}, {'number': 6, 'created': '2021-06-23 12:30:28.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2', 'roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d46cbb211a08f9b7a140986e24ac4feb5a5badcf', 'message': 'Add missing custom container parameters - overcloud\n\nroles/standalone/tasks/containers.yml has a number of\nceph-related and other custom parameters that were\nmissing from the overcloud prep parameters.\n\nThis review adds those custom parameters to ensure\nthat the correct containers (from the desired\nregistries and namespaces) are used.\n\nChange-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383\n'}]",0,797146,d46cbb211a08f9b7a140986e24ac4feb5a5badcf,26,7,6,9976,,,0,"Add missing custom container parameters - overcloud

roles/standalone/tasks/containers.yml has a number of
ceph-related and other custom parameters that were
missing from the overcloud prep parameters.

This review adds those custom parameters to ensure
that the correct containers (from the desired
registries and namespaces) are used.

Change-Id: Id3b1ea025b748dee578e5bfb1cdd41d0bb7f7383
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/797146/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-containers/templates/overcloud-prep-containers.sh.j2'],1,e73506e750ebfa6974230692953ba8f4bfaa9a39,custom-container-overcloud,"{% if custom_ceph_alertmanager_image is defined %} --set ""ceph_alertmanager_image={{ custom_ceph_alertmanager_image }}"" \ {% endif %} {% if custom_ceph_alertmanager_namespace is defined %} --set ""ceph_alertmanager_namespace={{ custom_ceph_alertmanager_namespace }}"" \ {% endif %} {% if custom_ceph_alertmanager_tag is defined %} --set ""ceph_alertmanager_tag={{ custom_ceph_alertmanager_tag }}"" \ {% endif %} {% if custom_ceph_grafana_image is defined %} --set ""ceph_grafana_image={{ custom_ceph_grafana_image }}"" \ {% endif %} {% if custom_ceph_grafana_namespace is defined %} --set ""ceph_grafana_namespace={{ custom_ceph_grafana_namespace }}"" \ {% endif %} {% if custom_ceph_grafana_tag is defined %} --set ""ceph_grafana_tag={{ custom_ceph_grafana_tag }}"" \ {% endif %} {% if custom_ceph_node_exporter_image is defined %} --set ""ceph_node_exporter_image={{ custom_ceph_node_exporter_image }}"" \ {% endif %} {% if custom_ceph_node_exporter_namespace is defined %} --set ""ceph_node_exporter_namespace={{ custom_ceph_node_exporter_namespace }}"" \ {% endif %} {% if custom_ceph_node_exporter_tag is defined %} --set ""ceph_node_exporter_tag={{ custom_ceph_node_exporter_tag }}"" \ {% endif %} {% if custom_ceph_prometheus_image is defined %} --set ""ceph_prometheus_image={{ custom_ceph_prometheus_image }}"" \ {% endif %} {% if custom_ceph_prometheus_namespace is defined %} --set ""ceph_prometheus_namespace={{ custom_ceph_prometheus_namespace }}"" \ {% endif %} {% if custom_ceph_prometheus_tag is defined %} --set ""ceph_prometheus_tag={{ custom_ceph_prometheus_tag }}"" \ {% endif %}",,36,0
openstack%2Fneutron~stable%2Fwallaby~Iaecfda2700c5316cb25a93496d24ece366e40a4a,openstack/neutron,stable/wallaby,Iaecfda2700c5316cb25a93496d24ece366e40a4a,Improve Subnet create performance,MERGED,2021-06-23 15:35:16.000000000,2021-06-24 21:30:02.000000000,2021-06-24 21:28:24.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:35:16.000000000', 'files': ['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9afbe8b65f1d2b9dde60f7bc1cd2961c113c7bb3', 'message': ""Improve Subnet create performance\n\n- pass network dict from ml2 plugin to _create_subnet_postcommit\n- skip ipam subnet fetch for non ipv6 auto-address subnets\n- don't count subnets (DB request) if subnet has no segment\n\nChange-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a\n(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)\n""}]",0,797588,9afbe8b65f1d2b9dde60f7bc1cd2961c113c7bb3,11,3,1,5948,,,0,"Improve Subnet create performance

- pass network dict from ml2 plugin to _create_subnet_postcommit
- skip ipam subnet fetch for non ipv6 auto-address subnets
- don't count subnets (DB request) if subnet has no segment

Change-Id: Iaecfda2700c5316cb25a93496d24ece366e40a4a
(cherry picked from commit f52280287f956f67c7b9c5c53ad945d96dd69103)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/797588/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/plugin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",3,9afbe8b65f1d2b9dde60f7bc1cd2961c113c7bb3,subnet_create_opt-stable/wallaby," self._create_subnet_postcommit(context, result, network=mech_context.network.current)"," self._create_subnet_postcommit(context, result)",11,6
openstack%2Fkeystone~master~Ia37b3f3918a2a4bc99a83f898a48b51ea618edda,openstack/keystone,master,Ia37b3f3918a2a4bc99a83f898a48b51ea618edda,"use port 5000, keystone-wsgi-public, and --http-socket",NEW,2018-11-01 10:41:38.000000000,2021-06-24 21:08:51.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-01 10:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b2d86db258f59f7b44a1bf6bc92d6057a3dd5362', 'message': 'use port 5000, keystone-wsgi-public, and --http-socket\n\nChange-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda\n'}, {'number': 2, 'created': '2021-06-24 20:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a30b057200ce3c8de1a75eeaead9f7ecafa3602', 'message': 'use port 5000, keystone-wsgi-public, and --http-socket\n\nChange-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda\n'}, {'number': 3, 'created': '2021-06-24 20:49:53.000000000', 'files': ['doc/source/contributor/translated-responses.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2350fb9aa16a1572c9f66644756a4f21c264d406', 'message': 'use port 5000, keystone-wsgi-public, and --http-socket\n\nChange-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda\n'}]",0,614735,2350fb9aa16a1572c9f66644756a4f21c264d406,15,2,3,29381,,,0,"use port 5000, keystone-wsgi-public, and --http-socket

Change-Id: Ia37b3f3918a2a4bc99a83f898a48b51ea618edda
",git fetch https://review.opendev.org/openstack/keystone refs/changes/35/614735/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/translated-responses.rst'],1,b2d86db258f59f7b44a1bf6bc92d6057a3dd5362,, $ KEYSTONE_LOCALEDIR=/opt/stack/keystone/keystone/locale uwsgi --http-socket 127.0.0.1:5000 --wsgi-file $(which keystone-wsgi-public), $ KEYSTONE_LOCALEDIR=/opt/stack/keystone/keystone/locale uwsgi --http-socket 127.0.0.1:5000 --wsgi-file $(which keystone-wsgi-admin),1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fvictoria~Ie8e04a1635a32e368ec3906082f7773dcefd30d1,openstack/openstack-ansible-os_tempest,stable/victoria,Ie8e04a1635a32e368ec3906082f7773dcefd30d1,Install py3-dev when not building wheels,MERGED,2021-06-18 13:10:41.000000000,2021-06-24 20:44:31.000000000,2021-06-24 20:43:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-18 13:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a450559d97c1bf9beaf5aef6050607d638395575', 'message': ""Install py3-dev when not building wheels\n\nWhen we're in CI and not building wheels, we might appear missing\npy3-dev inside utility container, which is required for netifaces. So we\nadd it as `tempest_devel_distro_packages` which will get package\ninstalled on the required target.\n\nChange-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1\n(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)\n""}, {'number': 2, 'created': '2021-06-23 13:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/9015f0a201cb65e722808e7b5eb27d80bc09dda6', 'message': ""Install py3-dev when not building wheels\n\nWhen we're in CI and not building wheels, we might appear missing\npy3-dev inside utility container, which is required for netifaces. So we\nadd it as `tempest_devel_distro_packages` which will get package\ninstalled on the required target.\n\nChange-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1\n(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)\n""}, {'number': 3, 'created': '2021-06-23 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d04d0d5a96f1559ad1bfb85514c3366b82af7661', 'message': ""Install py3-dev when not building wheels\n\nWhen we're in CI and not building wheels, we might appear missing\npy3-dev inside utility container, which is required for netifaces. So we\nadd it as `tempest_devel_distro_packages` which will get package\ninstalled on the required target.\n\nChange-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1\nCloses-Bug: 1933349\n(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)\n""}, {'number': 4, 'created': '2021-06-23 15:38:49.000000000', 'files': ['tasks/tempest_install_source.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c81740773db15b32393413ef3fd3036774832365', 'message': ""Install py3-dev when not building wheels\n\nWhen we're in CI and not building wheels, we might appear missing\npy3-dev inside utility container, which is required for netifaces. So we\nadd it as `tempest_devel_distro_packages` which will get package\ninstalled on the required target.\n\nChange-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1\nCloses-Bug: 1925331\n(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)\n""}]",0,797031,c81740773db15b32393413ef3fd3036774832365,17,3,4,33633,,,0,"Install py3-dev when not building wheels

When we're in CI and not building wheels, we might appear missing
py3-dev inside utility container, which is required for netifaces. So we
add it as `tempest_devel_distro_packages` which will get package
installed on the required target.

Change-Id: Ie8e04a1635a32e368ec3906082f7773dcefd30d1
Closes-Bug: 1925331
(cherry picked from commit a12a662114dda5c19269bff6bf067271d35e7f69)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/31/797031/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_install_source.yml', 'vars/redhat-8.yml', 'vars/redhat-7.yml', 'vars/debian.yml']",4,a450559d97c1bf9beaf5aef6050607d638395575,bug/1925331,tempest_devel_distro_packages: - python3-dev # required for netifaces module for stackviz ,,10,0
openstack%2Fansible-collections-openstack~master~Ic6113a785090cc05771fb2f4730dc25f40a8d4dc,openstack/ansible-collections-openstack,master,Ic6113a785090cc05771fb2f4730dc25f40a8d4dc,Add missing info to changelog,MERGED,2021-06-24 20:13:32.000000000,2021-06-24 20:42:05.000000000,2021-06-24 20:42:05.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 20:13:32.000000000', 'files': ['changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9911c7f93aaf4b90e9d25c829c1c34d27d5eff6a', 'message': 'Add missing info to changelog\n\nChange-Id: Ic6113a785090cc05771fb2f4730dc25f40a8d4dc\n'}]",0,798017,9911c7f93aaf4b90e9d25c829c1c34d27d5eff6a,6,2,1,10969,,,0,"Add missing info to changelog

Change-Id: Ic6113a785090cc05771fb2f4730dc25f40a8d4dc
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/17/798017/1 && git format-patch -1 --stdout FETCH_HEAD,"['changelogs/changelog.yaml', 'CHANGELOG.rst']",2,9911c7f93aaf4b90e9d25c829c1c34d27d5eff6a,,- openstack.cloud.address_scope - Create or delete address scopes from OpenStack,,4,0
openstack%2Fansible-collections-openstack~master~Ida13b691ae09c2222ae1c83a88b47702fdf684f4,openstack/ansible-collections-openstack,master,Ida13b691ae09c2222ae1c83a88b47702fdf684f4,Update IRC server in README,MERGED,2021-06-24 14:00:05.000000000,2021-06-24 20:42:02.000000000,2021-06-24 20:42:02.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 14:00:05.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8c890e656b4fb6de35765a5b6040b1d07b52e0ec', 'message': 'Update IRC server in README\n\nChange-Id: Ida13b691ae09c2222ae1c83a88b47702fdf684f4\n'}]",0,797905,8c890e656b4fb6de35765a5b6040b1d07b52e0ec,7,2,1,10969,,,0,"Update IRC server in README

Change-Id: Ida13b691ae09c2222ae1c83a88b47702fdf684f4
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/05/797905/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,8c890e656b4fb6de35765a5b6040b1d07b52e0ec,,You can find other people interested in this in `#openstack-ansible-sig` on [OFTC IRC](https://www.oftc.net/).,You can find other people interested in this in `#openstack-ansible-sig` on Freenode IRC.,1,1
openstack%2Fneutron~master~I25742880b24f31a1b52a84487bd3d85996102d76,openstack/neutron,master,I25742880b24f31a1b52a84487bd3d85996102d76,Don't remove DHCP config on restart,ABANDONED,2021-06-07 21:33:02.000000000,2021-06-24 20:31:44.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 21:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e55af0642f173766bb24fcb190ffe2905fbd0cd', 'message': ""Don't remove DHCP config on restart\n\nCurrently the DHCP agent regenerates all configuration files on restart.\nThis means that DHCPv6 leases are lost as they can't be regenerated.\nThis changes the agent to only delete the config files if the agent's\nports are also removed.\n\nChange-Id: I25742880b24f31a1b52a84487bd3d85996102d76\n""}, {'number': 2, 'created': '2021-06-15 18:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/611416228a85aff63c1df50303a6885a32581587', 'message': ""Don't remove DHCP config on restart\n\nCurrently the DHCP agent regenerates all configuration files on restart.\nThis means that DHCPv6 leases are lost as they can't be regenerated.\nThis changes the agent to only delete the config files if the agent's\nports are also removed.\n\nRelated-Bug: #1722126\n\nChange-Id: I25742880b24f31a1b52a84487bd3d85996102d76\n""}, {'number': 3, 'created': '2021-06-17 13:56:41.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/355a0c28c24ed2454c6274245158afe62c3de38c', 'message': ""Don't remove DHCP config on restart\n\nCurrently the DHCP agent regenerates all configuration files on restart.\nThis means that DHCPv6 leases are lost as they can't be regenerated.\nThis changes the agent to only delete the config files if the agent's\nports are also removed.\n\nRelated-Bug: #1722126\n\nChange-Id: I25742880b24f31a1b52a84487bd3d85996102d76\n""}]",8,795186,355a0c28c24ed2454c6274245158afe62c3de38c,33,4,3,11290,,,0,"Don't remove DHCP config on restart

Currently the DHCP agent regenerates all configuration files on restart.
This means that DHCPv6 leases are lost as they can't be regenerated.
This changes the agent to only delete the config files if the agent's
ports are also removed.

Related-Bug: #1722126

Change-Id: I25742880b24f31a1b52a84487bd3d85996102d76
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/795186/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,9e55af0642f173766bb24fcb190ffe2905fbd0cd,dhcp/fix-restart-config, self._remove_config_files(), self._remove_config_files(),1,1
openstack%2Fneutron~stable%2Fwallaby~I8033e12f5b30e3ecc9143431543266a890fe4073,openstack/neutron,stable/wallaby,I8033e12f5b30e3ecc9143431543266a890fe4073,[OVN] Disable mcast_flood on localnet ports,MERGED,2021-06-24 08:31:49.000000000,2021-06-24 20:27:18.000000000,2021-06-24 20:25:15.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 08:31:49.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ff471aebab99eac16d649775f3f73958e8699c9', 'message': '[OVN] Disable mcast_flood on localnet ports\n\nThe mcast_flood option will unconditionally forward multicast traffic\nfor that port, this behavior is not desired and results in duplicated\ntraffic being sent to the same port. This patch disables that behavior\nby setting the mcast_flood option for the localnet ports to False.\n\nNote that, a similar option called ""mcast_flood_reports"" is still\nenabled because we do want to have the multicast reports being sent but\nnot normal traffic.\n\nChange-Id: I8033e12f5b30e3ecc9143431543266a890fe4073\nCloses-Bug: #1933207\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 953eb92a4f1d686a45d91100c8b02f9fe0771ed9)\n'}]",0,797813,0ff471aebab99eac16d649775f3f73958e8699c9,10,3,1,6773,,,0,"[OVN] Disable mcast_flood on localnet ports

The mcast_flood option will unconditionally forward multicast traffic
for that port, this behavior is not desired and results in duplicated
traffic being sent to the same port. This patch disables that behavior
by setting the mcast_flood option for the localnet ports to False.

Note that, a similar option called ""mcast_flood_reports"" is still
enabled because we do want to have the multicast reports being sent but
not normal traffic.

Change-Id: I8033e12f5b30e3ecc9143431543266a890fe4073
Closes-Bug: #1933207
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 953eb92a4f1d686a45d91100c8b02f9fe0771ed9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/797813/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",4,0ff471aebab99eac16d649775f3f73958e8699c9,, options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}), options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'true'}),6,6
openstack%2Fcinder-specs~master~I201235a1816a300806c0a0dc7678b695cebff27e,openstack/cinder-specs,master,I201235a1816a300806c0a0dc7678b695cebff27e,"Spec for ""Consistent and Secure RBAC"" in Cinder",MERGED,2021-06-23 14:01:38.000000000,2021-06-24 20:10:19.000000000,2021-06-24 20:08:40.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-06-23 14:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/02c22a61661e137f131584d5b34967999f61223a', 'message': 'Spec for ""Consistent and Secure RBAC"" in Cinder\n\nChange-Id: I201235a1816a300806c0a0dc7678b695cebff27e\n'}, {'number': 2, 'created': '2021-06-23 15:36:29.000000000', 'files': ['specs/xena/s-rbac-ready.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/38efff1e24af424091afa531d2ad359254c2dac4', 'message': 'Spec for ""Consistent and Secure RBAC"" in Cinder\n\nChange-Id: I201235a1816a300806c0a0dc7678b695cebff27e\n'}]",9,797655,38efff1e24af424091afa531d2ad359254c2dac4,15,3,2,5314,,,0,"Spec for ""Consistent and Secure RBAC"" in Cinder

Change-Id: I201235a1816a300806c0a0dc7678b695cebff27e
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/55/797655/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/s-rbac-ready.rst', 'specs/xena/remove-me.rst']",2,02c22a61661e137f131584d5b34967999f61223a,s-rbac-ready,,.. This file is a place holder. It should be removed by any patch proposing a spec for the Xena release ================================ No specs have yet been approved. ================================ ,184,6
openstack%2Fpyeclib~master~I7c3eb54c72b3a3b02490a3ad4df78276593e1890,openstack/pyeclib,master,I7c3eb54c72b3a3b02490a3ad4df78276593e1890,DNM Drop explicit /usr/lib,NEW,2021-06-24 19:34:12.000000000,2021-06-24 20:06:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 19:34:12.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/2e2273d2fa4e9c34fbfc07d075ec8299a941682d', 'message': 'DNM Drop explicit /usr/lib\n\nWhen building Fedora RPM, the newest checkers complain that\nthe library contains an explicit RPATH of ""/usr/lib"".\nLooking at the code, isn\'t it silly to have a path\nof sys.prefix? It could make sense when prefix was /usr/local,\nbut we supported that one through some explicit checking,\nnow removed.\n\nWIP: let\'s see if we can make PyECLib installed in /usr/local\nwithout screwing with explicit arguments to the Extension class.\n\nRelated-To: rhbz#1967534\nChange-Id: I7c3eb54c72b3a3b02490a3ad4df78276593e1890\n'}]",0,798010,2e2273d2fa4e9c34fbfc07d075ec8299a941682d,3,1,1,597,,,0,"DNM Drop explicit /usr/lib

When building Fedora RPM, the newest checkers complain that
the library contains an explicit RPATH of ""/usr/lib"".
Looking at the code, isn't it silly to have a path
of sys.prefix? It could make sense when prefix was /usr/local,
but we supported that one through some explicit checking,
now removed.

WIP: let's see if we can make PyECLib installed in /usr/local
without screwing with explicit arguments to the Extension class.

Related-To: rhbz#1967534
Change-Id: I7c3eb54c72b3a3b02490a3ad4df78276593e1890
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/10/798010/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,2e2273d2fa4e9c34fbfc07d075ec8299a941682d,rhbz/1967534,," library_dirs=['%s/lib' % sys.prefix], runtime_library_dirs=['%s/lib' % sys.prefix],",0,2
openstack%2Fopenstack-helm-addons~master~Ic9a48f2082c1aa602d903d22f42c1724fd4aec73,openstack/openstack-helm-addons,master,Ic9a48f2082c1aa602d903d22f42c1724fd4aec73,Remove sonobuoy chart,MERGED,2021-04-07 21:25:47.000000000,2021-06-24 19:48:41.000000000,2021-06-24 19:41:40.000000000,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-04-07 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/6cea90ec3c2ce99637979b5414bd6689339c0fe8', 'message': 'Remove sonobuoy chart\n\nThis change removes the sonobuoy chart from openstack-helm-addons.\n\nChange-Id: Ic9a48f2082c1aa602d903d22f42c1724fd4aec73\n'}, {'number': 2, 'created': '2021-06-24 15:51:25.000000000', 'files': ['sonobuoy/templates/bin/_publish_results.sh.tpl', 'sonobuoy/values_overrides/apparmor.yaml', 'tools/deployment/component/sonobuoy/sonobuoy.sh', 'sonobuoy/values.yaml', 'sonobuoy/templates/configmap-plugins.yaml', 'sonobuoy/templates/bin/_run_master.sh.tpl', 'sonobuoy/templates/pod-api.yaml', 'releasenotes/notes/sonobuoy.yaml', 'sonobuoy/templates/secret-etc.yaml', 'sonobuoy/templates/role-exec.yaml', 'releasenotes/config.yaml', 'tools/gate/playbooks/osh-addons-sonobuoy.yaml', 'sonobuoy/templates/job-ks-user.yaml', 'sonobuoy/templates/secret-keystone.yaml', 'sonobuoy/Chart.yaml', 'sonobuoy/requirements.yaml', 'sonobuoy/templates/secret-plugin-values.yaml', 'zuul.d/project.yaml', 'sonobuoy/templates/serviceaccount-readonly.yaml', 'zuul.d/jobs.yaml', 'sonobuoy/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ee0201bd7da0f86281bf939890f20cc64fff73f3', 'message': 'Remove sonobuoy chart\n\nThis change removes the sonobuoy chart from openstack-helm-addons.\n\nChange-Id: Ic9a48f2082c1aa602d903d22f42c1724fd4aec73\n'}]",0,785281,ee0201bd7da0f86281bf939890f20cc64fff73f3,11,3,2,21420,,,0,"Remove sonobuoy chart

This change removes the sonobuoy chart from openstack-helm-addons.

Change-Id: Ic9a48f2082c1aa602d903d22f42c1724fd4aec73
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/81/785281/2 && git format-patch -1 --stdout FETCH_HEAD,"['sonobuoy/templates/bin/_publish_results.sh.tpl', 'sonobuoy/values_overrides/apparmor.yaml', 'tools/deployment/component/sonobuoy/sonobuoy.sh', 'sonobuoy/values.yaml', 'sonobuoy/templates/configmap-plugins.yaml', 'sonobuoy/templates/bin/_run_master.sh.tpl', 'sonobuoy/templates/pod-api.yaml', 'releasenotes/notes/sonobuoy.yaml', 'sonobuoy/templates/secret-etc.yaml', 'sonobuoy/templates/role-exec.yaml', 'releasenotes/config.yaml', 'tools/gate/playbooks/osh-addons-sonobuoy.yaml', 'sonobuoy/templates/job-ks-user.yaml', 'sonobuoy/templates/secret-keystone.yaml', 'sonobuoy/Chart.yaml', 'sonobuoy/requirements.yaml', 'sonobuoy/templates/secret-plugin-values.yaml', 'zuul.d/project.yaml', 'sonobuoy/templates/serviceaccount-readonly.yaml', 'zuul.d/jobs.yaml', 'sonobuoy/templates/configmap-bin.yaml']",21,6cea90ec3c2ce99637979b5414bd6689339c0fe8,sonobuoy,,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_bin }} {{- $envAll := . }} --- apiVersion: v1 kind: ConfigMap metadata: name: sonobuoy-bin data: ks-user.sh: | {{- include ""helm-toolkit.scripts.keystone_user"" $envAll | indent 4 }} publish_results.sh: | {{ tuple ""bin/_publish_results.sh.tpl"" $envAll | include ""helm-toolkit.utils.template"" | indent 4 }} run_master.sh: | {{ tuple ""bin/_run_master.sh.tpl"" $envAll | include ""helm-toolkit.utils.template"" | indent 4 }} {{- end }} ",0,1006
openstack%2Fopenstack-helm-infra~master~I430809d9849a6a87b0408d0b871196964afc0be0,openstack/openstack-helm-infra,master,I430809d9849a6a87b0408d0b871196964afc0be0,DNM - Testing mariadb chart,ABANDONED,2021-04-26 21:26:07.000000000,2021-06-24 19:41:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28275}]","[{'number': 1, 'created': '2021-04-26 21:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1478af5dfef35c6786dee75c9f6233d8eb2cf12', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 2, 'created': '2021-04-26 21:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/438e1e39db4e54a7e7bf6cab580b06242538c8a6', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 3, 'created': '2021-04-26 21:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddd219401942b20833dffee4b5513e28f9f19eff', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 4, 'created': '2021-04-26 22:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97c30ba0765eb63c7eead4b6c5b8bd5d0bd953a0', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 5, 'created': '2021-04-26 23:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/267711fff045e64a9078ce4d4d5e3fddb660b82a', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 6, 'created': '2021-04-26 23:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9df07c24a0d14eb669a314585b63ebd6c820224', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 7, 'created': '2021-04-27 00:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa12c47131e513bf4faceca85a456c7106dd44a0', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 8, 'created': '2021-04-27 01:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d014cf057f3b8b31485612c6c3837e3a0a8ddc45', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 9, 'created': '2021-04-27 01:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb5b7aba34a5f267df280f3bb4e2dd5043ecbbbe', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 10, 'created': '2021-04-27 17:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e28c9ca829253790f19a6be0aceb5eb2f1cf4c4', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 11, 'created': '2021-04-27 17:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a567f8ec1dabc7566061fea9246a2079a3baf824', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 12, 'created': '2021-04-27 17:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7997434bfe13154913b807cc44b652cafbe56ea', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 13, 'created': '2021-05-01 05:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4e839f8f2b42cf96af403f312a04dbb96e8a3b8', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 14, 'created': '2021-05-01 05:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a77d790d6f86fb2bc4998b398f24c2469405d635', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 15, 'created': '2021-05-01 06:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/922fb1afee9572cccdfeb380cf86b8ab8fce40aa', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 16, 'created': '2021-05-03 22:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/621fc1e5878236d0b93f50157eb85a98c1be7d87', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}, {'number': 17, 'created': '2021-05-04 19:21:58.000000000', 'files': ['mariadb/Chart.yaml', 'mariadb/files/docker-entrypoint-initdb.d/openstack.sql', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml', 'zuul.d/project.yaml', 'mariadb/templates/pvc-mariadb.yaml', 'mariadb/templates/bin/_start.py.tpl', 'mariadb/templates/deployment-server.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d67f261ea5ae300f02e6722e6d85451c42f6b843', 'message': 'DNM - Testing mariadb chart\n\nChange-Id: I430809d9849a6a87b0408d0b871196964afc0be0\n'}]",0,788087,d67f261ea5ae300f02e6722e6d85451c42f6b843,26,2,17,21420,,,0,"DNM - Testing mariadb chart

Change-Id: I430809d9849a6a87b0408d0b871196964afc0be0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/788087/12 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/files/docker-entrypoint-initdb.d/openstack.sql', 'mariadb/values.yaml', 'zuul.d/project.yaml', 'mariadb/templates/deployment-server.yaml']",4,f1478af5dfef35c6786dee75c9f6233d8eb2cf12,mariadb-deployment,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} apiVersion: apps/v1 kind: Deployment metadata: name: mariadb spec: replicas: 1 selector: matchLabels: app: mariadb strategy: rollingUpdate: maxSurge: 1 maxUnavailable: 1 type: RollingUpdate template: metadata: labels: app: mariadb spec: containers: - name: mariadb image: mariadb:latest imagePullPolicy: ""Always"" env: - name: MYSQL_DBADMIN_PASSWORD valueFrom: secretKeyRef: name: mariadb-dbadmin-password key: MYSQL_DBADMIN_PASSWORD ports: - containerPort: 3306 volumeMounts: - mountPath: /var/lib/mysql name: mariadb-data volumes: - name: mariadb-data persistentVolumeClaim: claimName: mariadb-pvc ",,71,16
openstack%2Fpuppet-cinder~master~I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,openstack/puppet-cinder,master,I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d,Fix ignored unit test case of cinder::backend::pure,MERGED,2021-06-23 13:42:32.000000000,2021-06-24 19:35:54.000000000,2021-06-24 19:35:54.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 13:42:32.000000000', 'files': ['spec/defines/cinder_backend_pure_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bf00282852a753d0498178b49ad22d2406eeafd8', 'message': 'Fix ignored unit test case of cinder::backend::pure\n\nChange-Id: I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d\n'}]",0,797649,bf00282852a753d0498178b49ad22d2406eeafd8,7,3,1,9816,,,0,"Fix ignored unit test case of cinder::backend::pure

Change-Id: I7b540f9d1f604fc8c63e9cc7cbe5edfff82a055d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/49/797649/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/cinder_backend_pure_spec.rb'],1,bf00282852a753d0498178b49ad22d2406eeafd8,, end, end,1,1
openstack%2Foctavia~stable%2Fvictoria~Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,openstack/octavia,stable/victoria,Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261,Optimize CountPoolChildrenForQuota task in amphorav2,MERGED,2021-05-17 07:38:01.000000000,2021-06-24 19:25:59.000000000,2021-06-24 19:24:01.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:38:01.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/37b15da4a13da800b991d81e89e15fe1ff216568', 'message': ""Optimize CountPoolChildrenForQuota task in amphorav2\n\nThe CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in\namphorav2. When cascade deleting a load balancer with many pools (60),\nit might take minutes.\n\nWe don't need to get and to convert all the fields from the object to\ncompute the number of children of a pool, we can optimize this task by\ncreating a new method in the PoolRepository class.\n\nStory 2008873\nTask 42414\n\nChange-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261\n(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)\n(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)\n""}]",0,791668,37b15da4a13da800b991d81e89e15fe1ff216568,9,3,1,6469,,,0,"Optimize CountPoolChildrenForQuota task in amphorav2

The CountPoolChildrenForQuota task takes 3 or 4 seconds to execute in
amphorav2. When cascade deleting a load balancer with many pools (60),
it might take minutes.

We don't need to get and to convert all the fields from the object to
compute the number of children of a pool, we can optimize this task by
creating a new method in the PoolRepository class.

Story 2008873
Task 42414

Change-Id: Ie4d40509ae7e6faccecd1d0cc0bc4c7d93959261
(cherry picked from commit 7075d22c4cb0dfc25b4c5c8eff654aa4358f2f25)
(cherry picked from commit adb454b2e8a9fc7b69c40c4fa62c21020a68524c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/791668/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/db/repositories.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks_quota.py']",4,37b15da4a13da800b991d81e89e15fe1ff216568,," @mock.patch('octavia.db.repositories.PoolRepository.get_children_count') pool = data_models.Pool(id=1, project_id=project_id) repo_mock.return_value = (0, 0) result = task.execute(pool.id) repo_mock.return_value = (1, 2) result = task.execute(pool.id)"," @mock.patch('octavia.db.repositories.PoolRepository.get') member1 = data_models.Member(id=1, project_id=project_id) member2 = data_models.Member(id=2, project_id=project_id) healtmon = data_models.HealthMonitor(id=1, project_id=project_id) pool_no_children = data_models.Pool(id=1, project_id=project_id) pool_1_mem = data_models.Pool(id=1, project_id=project_id, members=[member1]) pool_hm = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon) pool_hm_2_mem = data_models.Pool(id=1, project_id=project_id, health_monitor=healtmon, members=[member1, member2]) repo_mock.return_value = pool_no_children result = task.execute(pool_no_children.id) # Test pool with one member repo_mock.reset_mock() repo_mock.return_value = pool_1_mem result = task.execute(pool_1_mem.id) self.assertEqual({'HM': 0, 'member': 1}, result) # Test pool with health monitor and no members repo_mock.reset_mock() repo_mock.return_value = pool_hm result = task.execute(pool_hm.id) self.assertEqual({'HM': 1, 'member': 0}, result) repo_mock.return_value = pool_hm_2_mem result = task.execute(pool_hm_2_mem.id)",63,37
openstack%2Foctavia~stable%2Fwallaby~I27b54b5b2e93665aad771438e618ac02900ab123,openstack/octavia,stable/wallaby,I27b54b5b2e93665aad771438e618ac02900ab123,Fix jobboard_enabled setting in devstack,MERGED,2021-05-17 07:20:26.000000000,2021-06-24 19:13:40.000000000,2021-06-24 19:12:02.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-05-17 07:20:26.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e06530e650daab7c23294ce6ea943f1548fc750f', 'message': 'Fix jobboard_enabled setting in devstack\n\nWhen OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,\njobboard_enabled must be set to True.\n\nChange-Id: I27b54b5b2e93665aad771438e618ac02900ab123\n(cherry picked from commit 190d6a33dcb63b32551a46bdc02763dc8855499d)\n'}]",0,791654,e06530e650daab7c23294ce6ea943f1548fc750f,10,4,1,6469,,,0,"Fix jobboard_enabled setting in devstack

When OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD is True in devstack,
jobboard_enabled must be set to True.

Change-Id: I27b54b5b2e93665aad771438e618ac02900ab123
(cherry picked from commit 190d6a33dcb63b32551a46bdc02763dc8855499d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/54/791654/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e06530e650daab7c23294ce6ea943f1548fc750f,, iniset $OCTAVIA_CONF task_flow jobboard_enabled True,,1,0
openstack%2Fosc-lib~master~Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe,openstack/osc-lib,master,Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe,Iterate over auth option and ask for promting,NEW,2021-06-24 13:25:55.000000000,2021-06-24 18:45:18.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 13:25:55.000000000', 'files': ['osc_lib/api/auth.py', 'osc_lib/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/f5ef055091e91f4edf784ef310d7f38817a13f07', 'message': 'Iterate over auth option and ask for promting\n\nDo not limit prompting only for passwords.\n\nChange-Id: Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe\n'}]",0,797903,f5ef055091e91f4edf784ef310d7f38817a13f07,3,2,1,9545,,,0,"Iterate over auth option and ask for promting

Do not limit prompting only for passwords.

Change-Id: Iea7e75d0183cbca6b0e8446a8034dfe383ce7bbe
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/03/797903/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_lib/api/auth.py', 'osc_lib/clientmanager.py']",2,f5ef055091e91f4edf784ef310d7f38817a13f07,prompt_all," plugin_options = auth.check_valid_authentication_options( for opt_name, opt in plugin_options.items(): if opt.prompt and self._cli_options.auth.get(opt_name): self._cli_options.auth[opt_name] = self._pw_callback( propmt=opt.prompt)", auth.check_valid_authentication_options( # Horrible hack alert...must handle prompt for null password if # password auth is requested. if (self.auth_plugin_name.endswith('password') and not self._cli_options.auth.get('password')): self._cli_options.auth['password'] = self._pw_callback(),7,7
openstack%2Ftripleo-ansible~master~Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3,openstack/tripleo-ansible,master,Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3,Adjust shutdown service management,MERGED,2021-06-02 19:51:42.000000000,2021-06-24 18:41:54.000000000,2021-06-24 18:41:54.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 19:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5792148aa7f552eccd2db1d0bd7c13d94201665', 'message': ""Adjust shutdown service management\n\nWe currently attempt to manage the triple container related serivces for\nstartup/shutdown every time we invoke tripleo container manage. This\nmanagement should only occur at most once during a deployment. This\nchange moves the podman drop in fact to where it's used (for systemd\nservice unit management) and drops the inclusion of the shutdown.yml for\neach inclusion of tripleo_container_manage.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/794334\nChange-Id: Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3\n""}, {'number': 2, 'created': '2021-06-03 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50a28be782f4454e2977f6e3cd173e974a860ec1', 'message': ""Adjust shutdown service management\n\nWe currently attempt to manage the triple container related serivces for\nstartup/shutdown every time we invoke tripleo container manage. This\nmanagement should only occur at most once during a deployment. This\nchange moves the podman drop in fact to where it's used (for systemd\nservice unit management) and drops the inclusion of the shutdown.yml for\neach inclusion of tripleo_container_manage.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/794334\nChange-Id: Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3\n""}, {'number': 3, 'created': '2021-06-09 13:35:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a881b039f2c3bc3874f58e8d1df2f40a46495796', 'message': ""Adjust shutdown service management\n\nWe currently attempt to manage the triple container related serivces for\nstartup/shutdown every time we invoke tripleo container manage. This\nmanagement should only occur at most once during a deployment. This\nchange moves the podman drop in fact to where it's used (for systemd\nservice unit management) and drops the inclusion of the shutdown.yml for\neach inclusion of tripleo_container_manage.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/794334\nChange-Id: Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3\n""}]",0,794335,a881b039f2c3bc3874f58e8d1df2f40a46495796,17,4,3,14985,,,0,"Adjust shutdown service management

We currently attempt to manage the triple container related serivces for
startup/shutdown every time we invoke tripleo container manage. This
management should only occur at most once during a deployment. This
change moves the podman drop in fact to where it's used (for systemd
service unit management) and drops the inclusion of the shutdown.yml for
each inclusion of tripleo_container_manage.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/794334
Change-Id: Ief0729e51997c3eb1dba679cc40ce7bbf4702bc3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/794335/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml']",3,d5792148aa7f552eccd2db1d0bd7c13d94201665,config-next,,- name: Check if /etc/sysconfig/podman_drop_in exists stat: path: /etc/sysconfig/podman_drop_in register: podman_drop_in - name: Set podman_drop_in fact set_fact: podman_drop_in: true when: - podman_drop_in.stat.exists ,12,16
openstack%2Ftripleo-heat-templates~master~I4398322a02f6f899ea226b60336da83fc841812f,openstack/tripleo-heat-templates,master,I4398322a02f6f899ea226b60336da83fc841812f,Use module for container puppet tasks,MERGED,2021-05-04 16:48:10.000000000,2021-06-24 18:41:45.000000000,2021-06-24 18:41:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-04 16:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70dce3fe20a36dd9af448f88dadb0639d850e832', 'message': 'Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 2, 'created': '2021-05-04 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db649e8b0f9b0941fbdc2c4de7eb76e6dd74c8b6', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 3, 'created': '2021-05-04 18:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d35fc8ef8b2182bb68213ebe0444beb4d9c308d', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 4, 'created': '2021-05-04 20:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a6eac85786336e623bd536edaccc7285be0ccbb', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 5, 'created': '2021-05-05 15:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ce35dfb3ba35a97d175a76d711ffe324fb6d920', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 6, 'created': '2021-05-06 20:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f49e0dfc19c85d537c589ffcd4bc1c31110a93bf', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 7, 'created': '2021-05-10 16:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00487233dcfe7ae015c22920d783208f3045afec', 'message': '[WIP] Copy generated info back to the undercloud\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 8, 'created': '2021-05-11 19:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e1dc56fee12649d9799240d85ed4ab89184c23f', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 9, 'created': '2021-05-11 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4820a21ec5fc1957d312519ca8c02ac3f5b6ef9', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 10, 'created': '2021-05-11 21:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38ef4a9e4454cb5e54bc44a4dabdb2a6ffa56402', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 11, 'created': '2021-05-11 21:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d16912b5c521db62ee1013070e10fe7b5468b75', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 12, 'created': '2021-05-11 22:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ef2bb8aec49b8624bab3c5b12dae8f0dfe8a4e6', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 13, 'created': '2021-05-11 22:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d52e261f90028323be74d98644c63ce7be0f24cc', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 14, 'created': '2021-05-12 13:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6402b035a723e0b55d18b92dee581406e3f55897', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 15, 'created': '2021-05-12 17:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1cf67c36b3cc69d43cf12f5da1cb564c5582958', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 16, 'created': '2021-05-12 18:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20868f36c292060c16534992154fdbb190985b0d', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 17, 'created': '2021-05-12 18:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7bded36e1d00619d4544b38db41e70b6fbeefcb', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 18, 'created': '2021-05-12 19:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a988e4b99450bb9fe731205948daa309ce1ad93f', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 19, 'created': '2021-05-12 20:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87f507ea0549108cdab3e8cf891bd8cf0fee9324', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 20, 'created': '2021-05-12 21:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bc191ef517ae6d4ea57604cc5d8bd5b8402b987', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 21, 'created': '2021-05-12 22:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/724ce567e6708e741aa95675e3038af3e976b0d7', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 22, 'created': '2021-05-13 14:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21759a29327634ee36bb186c071790f48028a48d', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 23, 'created': '2021-05-13 16:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8085abbdbd48bea891e551602b528a8f09608534', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 24, 'created': '2021-05-13 16:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e16b71058b459ed59a79eb2bd78775319e71ac4', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 25, 'created': '2021-05-13 16:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdc8d28289bcacecb282aec3aa9df389513df7fa', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 26, 'created': '2021-05-13 19:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da88e0c1a6b0ea41eda54b6fdac5184cddb0f20b', 'message': '[WIP] Run config-puppet on undercloud and push configs\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 27, 'created': '2021-05-13 19:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ab12b38e42b6ccc3af2e1b8aa307e9c89a19a16', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 28, 'created': '2021-05-14 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cebf742a2eb9b01d7df269a40a09f042a4fa84db', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 29, 'created': '2021-05-14 19:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b420cb5ee5d6f3b0585b6933f101643058ec6ce2', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789956\n'}, {'number': 30, 'created': '2021-05-17 18:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae79d44c752ad1e10978eda8a51209006a8b5ba8', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 31, 'created': '2021-05-18 21:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db9d36762e6134102a45df823623a3a270c587c6', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 32, 'created': '2021-05-19 19:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5372fb1db92eb1a325e1c056c6e6e2cc950b6192', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 33, 'created': '2021-05-21 16:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6260ec086ecebf352a03901557078e5d36c2f4bf', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 34, 'created': '2021-05-21 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e4738b0a4eaa5aa752408c81c4508ced71b39c0', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 35, 'created': '2021-05-25 13:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a645f7af035e9fb2ab27f4a29f92d17302a1f080', 'message': '[WIP] Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 36, 'created': '2021-06-01 17:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf69ed78e8c7a17718fa21d6f005c84ed661e816', 'message': 'Use module for container puppet tasks\n\n- Run config-puppet on undercloud and push configs\n- switch container puppet tasks (bootstrap) to use the module\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/789422\n'}, {'number': 37, 'created': '2021-06-02 14:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afce1c672ae41fd5e4bc9cae763af3477d511201', 'message': 'Use module for container puppet tasks\n\nSwitch container puppet tasks to use the module for management rather\nthan the tripleo_container_manage role which has a bunch of unrelated\ntasks.\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/791317\n'}, {'number': 38, 'created': '2021-06-03 17:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de07eb8c63ef7f4e1c8d6a2513761a1e09da4f5a', 'message': 'Use module for container puppet tasks\n\nSwitch container puppet tasks to use the module for management rather\nthan the tripleo_container_manage role which has a bunch of unrelated\ntasks.\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/791317\n'}, {'number': 39, 'created': '2021-06-18 19:04:31.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/host-container-puppet-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fb3a0b88951fbeb439585071c02d98b7ed317c4', 'message': 'Use module for container puppet tasks\n\nSwitch container puppet tasks to use the module for management rather\nthan the tripleo_container_manage role which has a bunch of unrelated\ntasks.\n\nChange-Id: I4398322a02f6f899ea226b60336da83fc841812f\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/796884\n'}]",1,789608,8fb3a0b88951fbeb439585071c02d98b7ed317c4,130,6,39,14985,,,0,"Use module for container puppet tasks

Switch container puppet tasks to use the module for management rather
than the tripleo_container_manage role which has a bunch of unrelated
tasks.

Change-Id: I4398322a02f6f899ea226b60336da83fc841812f
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/796884
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/789608/10 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-tasks.yaml', 'common/hiera-steps-tasks.yaml']",2,70dce3fe20a36dd9af448f88dadb0639d850e832,config-next,- name: Copy hierdata to undercloud include_role: name: tripleo_hierdata tasks_from: copy.yml,,12,0
openstack%2Ftripleo-heat-templates~master~I1c31042e05307733d0f9b4c6223b9a34df599eca,openstack/tripleo-heat-templates,master,I1c31042e05307733d0f9b4c6223b9a34df599eca,Include tripleo container service management once,MERGED,2021-06-02 19:51:22.000000000,2021-06-24 18:25:43.000000000,2021-06-24 18:25:43.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-02 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45914ba7bfeff024ae82c4ec26e312697e30cadb', 'message': 'Include tripleo container service management once\n\nCurrently this management occurs every time we include\ntripleo_container_manage.  We only need to manage the tripleo container\nshutdown service once during a deployment. This change moves it to a\ndeployment step and there is a subsequent tripleo-ansible patch to drop\nit from tripleo_container_manage.\n\nChange-Id: I1c31042e05307733d0f9b4c6223b9a34df599eca\n'}, {'number': 2, 'created': '2021-06-03 17:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a86d13ea45ec2e10927ba541ca9aaaa2fe68bbdb', 'message': 'Include tripleo container service management once\n\nCurrently this management occurs every time we include\ntripleo_container_manage.  We only need to manage the tripleo container\nshutdown service once during a deployment. This change moves it to a\ndeployment step and there is a subsequent tripleo-ansible patch to drop\nit from tripleo_container_manage.\n\nChange-Id: I1c31042e05307733d0f9b4c6223b9a34df599eca\n'}, {'number': 3, 'created': '2021-06-18 19:04:31.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9b6ed3fb2121b2eb64ae50e5873801489cc7984', 'message': 'Include tripleo container service management once\n\nCurrently this management occurs every time we include\ntripleo_container_manage.  We only need to manage the tripleo container\nshutdown service once during a deployment. This change moves it to a\ndeployment step and there is a subsequent tripleo-ansible patch to drop\nit from tripleo_container_manage.\n\nChange-Id: I1c31042e05307733d0f9b4c6223b9a34df599eca\n'}]",0,794334,d9b6ed3fb2121b2eb64ae50e5873801489cc7984,26,4,3,14985,,,0,"Include tripleo container service management once

Currently this management occurs every time we include
tripleo_container_manage.  We only need to manage the tripleo container
shutdown service once during a deployment. This change moves it to a
deployment step and there is a subsequent tripleo-ansible patch to drop
it from tripleo_container_manage.

Change-Id: I1c31042e05307733d0f9b4c6223b9a34df599eca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/794334/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,45914ba7bfeff024ae82c4ec26e312697e30cadb,config-next, - name: Manage tripleo container services include_role: name: tripleo_container_manage tasks_from: shutdown.yml when: - (step|int) == 1 ,,7,0
openstack%2Fproject-config~master~I47687d4e747652279f7da7a85e6a431fde525dd7,openstack/project-config,master,I47687d4e747652279f7da7a85e6a431fde525dd7,Do var subst in openstack-github-mirroring secret,MERGED,2021-06-24 17:33:42.000000000,2021-06-24 18:18:53.000000000,2021-06-24 18:18:53.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 17:33:42.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff16ef203dddc197fb6cf42926f0a7485295a690', 'message': 'Do var subst in openstack-github-mirroring secret\n\nAnother hotfix for Zuul 4.6.0, related change will be required for\nopendev/base-jobs.\n\nChange-Id: I47687d4e747652279f7da7a85e6a431fde525dd7\n'}]",0,797992,ff16ef203dddc197fb6cf42926f0a7485295a690,7,3,1,5263,,,0,"Do var subst in openstack-github-mirroring secret

Another hotfix for Zuul 4.6.0, related change will be required for
opendev/base-jobs.

Change-Id: I47687d4e747652279f7da7a85e6a431fde525dd7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/797992/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,ff16ef203dddc197fb6cf42926f0a7485295a690,zuul-4.6.0," target_repository: ""{zuul[project][name]}"""," target_repository: ""{{ zuul.project.name }}""",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/train,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-23 18:00:01.000000000,2021-06-24 18:10:50.000000000,2021-06-24 01:52:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2021-06-23 18:00:01.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fc1fd201c5344ecef4d653d0002d8d9af90a9f4e', 'message': 'Limit collectds memory usage\n\nto guard nodes from running out of memory.\n\nIf there is a connection issue with collectd not being able to\nwrite to event or metrics endpoints, this can lead to accumulating\nto large portions of memory. Limiting the memory usage via podman\nmemory will prevent the container to grow limitless. In case of\nusing more than 512 MB, podman will restart the container.\n\nChange-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28\n(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)\n(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)\n(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)\n(cherry picked from commit 6d304d61b4a9f3dd03f00824e622a654b44ad718)\n'}]",0,797704,fc1fd201c5344ecef4d653d0002d8d9af90a9f4e,8,4,1,4264,,,0,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)
(cherry picked from commit 6d304d61b4a9f3dd03f00824e622a654b44ad718)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/797704/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,fc1fd201c5344ecef4d653d0002d8d9af90a9f4e,collectd_memory-stable/wallaby-stable/victoria-stable/ussuri-stable/train, mem_limit: 512m,,1,0
openstack%2Fglance~master~I93a9145df27594a0cc59828619a7d0573e58d4fc,openstack/glance,master,I93a9145df27594a0cc59828619a7d0573e58d4fc,Make image stage set image.size,MERGED,2021-04-26 20:30:31.000000000,2021-06-24 17:29:28.000000000,2021-06-24 17:27:41.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 20:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5c90bd983b3c490a610ef9b4260fee13f14bcd2f', 'message': 'Make image stage set image.size\n\nI do not know why we do not do this already, but it seems like a good\nidea, and is obviously helpful for the quota work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 2, 'created': '2021-04-26 21:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/61f94ec866061aa89d2d5ebf3614947abab81eb5', 'message': 'Make image stage set image.size\n\nI do not know why we do not do this already, but it seems like a good\nidea, and is obviously helpful for the quota work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 3, 'created': '2021-04-27 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd11bc82316d68e7ab236eab0d2f5a7f84dab943', 'message': 'Make image stage set image.size\n\nI do not know why we do not do this already, but it seems like a good\nidea, and is obviously helpful for the quota work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 4, 'created': '2021-04-27 16:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/159837aa73ab9e8412f5600027bcc37965707779', 'message': 'Make image stage set image.size\n\nI do not know why we do not do this already, but it seems like a good\nidea, and is obviously helpful for the quota work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 5, 'created': '2021-05-07 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0c07a37f1be3d7b2de8e31e6302b25b954b45397', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 6, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d42f9a87f8923fbbfe95de683a6f305be7ab2166', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 7, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d30772e30c992e51e7478409e9f5fd9a6aa9296a', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 8, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cbce06b80735281c8ad5faee8bd8448404057703', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 9, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/201bb3b73a9099a4f2915ece1ca4fd6526c5888d', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 10, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a91d3496cbbb8608d9ba7d4f102d4cff406a8d5d', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 11, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/663043904b2b3c3d0f0aafdcac2f7622284bd977', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}, {'number': 12, 'created': '2021-06-21 15:46:41.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/functional/ft_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/c290c4af5a06957bdc16158a3dff6971d1d3ad65', 'message': 'Make image stage set image.size\n\nWhen we stage an image, we know the image size, so we should set it.\nSince the user may be streaming an image and did not declare the\nexpected size, this lets them confirm before they import. It also\nprovides us a value to count for the staging quota coming in a later\npatch.\n\nThe bulk of this change is adjusting existing tests to validate the\nsize for all of our stage/import tests.\n\nThis follows the change to set the image size during conversion,\nensuring that we can set it during stage for non-conversion jobs,\nand that the conversion code that re-sets it after changing the\nimage data and size continues to work.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc\n'}]",3,788075,c290c4af5a06957bdc16158a3dff6971d1d3ad65,39,4,12,4393,,,0,"Make image stage set image.size

When we stage an image, we know the image size, so we should set it.
Since the user may be streaming an image and did not declare the
expected size, this lets them confirm before they import. It also
provides us a value to count for the staging quota coming in a later
patch.

The bulk of this change is adjusting existing tests to validate the
size for all of our stage/import tests.

This follows the change to set the image size during conversion,
ensuring that we can set it during stage for non-conversion jobs,
and that the conversion code that re-sets it after changing the
image data and size continues to work.

Related to blueprint glance-unified-quotas

Change-Id: I93a9145df27594a0cc59828619a7d0573e58d4fc
",git fetch https://review.opendev.org/openstack/glance refs/changes/75/788075/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/tests/unit/v2/test_image_data_resource.py']",2,5c90bd983b3c490a610ef9b4260fee13f14bcd2f,bp/glance-unified-quotas," with mock.patch.object(filesystem.Store, 'add') as mock_add: mock_add.return_value = ('foo://bar', 4, 'ident', {}) self.assertEqual(4, image.size) mock_store_add.return_value = ('foo://bar', 4, 'ident', {}) self.assertEqual(4, image.size) with mock.patch.object(filesystem.Store, 'add') as mock_add: mock_add.return_value = ('foo://bar', 4, 'ident', {}) self.controller.stage(request, image_id, 'YYYY', 4) self.assertEqual(4, image.size) with mock.patch.object(filesystem.Store, 'add') as mock_add: mock_add.return_value = ('foo://bar', 4, 'ident', {})"," with mock.patch.object(filesystem.Store, 'add'): self.assertEqual(0, image.size) self.assertEqual(0, image.size) self.controller.stage(request, image_id, 'YYYY', 4) self.assertEqual(0, image.size) with mock.patch.object(filesystem.Store, 'add'):",13,7
openstack%2Fneutron~stable%2Ftrain~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/train,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:20:24.000000000,2021-06-24 17:22:08.000000000,2021-06-24 13:55:05.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5e2561875d891ab81b8991a362e0d780dec7db9', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nConflicts:\n    neutron/agent/common/utils.py\n    neutron/tests/unit/agent/common/test_utils.py\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)\n'}, {'number': 2, 'created': '2021-06-21 12:20:57.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9d884f783417795a05ca8a1c2bf64c9b55b6370', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nConflicts:\n    neutron/agent/common/utils.py\n    neutron/tests/unit/agent/common/test_utils.py\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)\n'}]",4,796837,d9d884f783417795a05ca8a1c2bf64c9b55b6370,20,4,2,11975,,,0,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Conflicts:
    neutron/agent/common/utils.py
    neutron/tests/unit/agent/common/test_utils.py

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/796837/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,c5e2561875d891ab81b8991a362e0d780dec7db9,bug/1926693-stable/train," ""canonical name is used"")),"," ""socket.gethostname() is used"")),",121,7
openstack%2Fglance_store~master~I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029,openstack/glance_store,master,I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029,Allow any Keystone domain for cinder store,MERGED,2021-05-31 16:17:36.000000000,2021-06-24 16:59:39.000000000,2021-06-24 13:21:59.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 9542}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/037132f978a7232c4ddba365f58a60d62e44ce97', 'message': 'WIP support domains for cinder user\n\nCloses-Bug: #1930299\nChange-Id: I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029\n'}, {'number': 2, 'created': '2021-06-02 10:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8e628a63517feca7f7c13b63a5202185cd107cba', 'message': ""Allow any Keystone domain for cinder store\n\nadd two new config options for cinder store\n\n- cinder_store_user_domain_name\n- cinder_store_project_domain_name\n\nthat allow to set the internal user and project to Keystone domains\nother that the 'Default' one.\n\nCloses-Bug: #1930299\nChange-Id: I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029\n""}, {'number': 3, 'created': '2021-06-03 11:05:02.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'releasenotes/notes/support-cinder-user-domain-420c76053dd50534.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4ea33139516250f32ba4e7d07eee0ed52352d0be', 'message': ""Allow any Keystone domain for cinder store\n\nadd two new config options for cinder store\n\n- cinder_store_user_domain_name\n- cinder_store_project_domain_name\n\nthat allow to set the internal user and project to Keystone domains\nother that the 'Default' one.\n\nCloses-Bug: #1930299\nChange-Id: I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029\n""}]",8,793826,4ea33139516250f32ba4e7d07eee0ed52352d0be,21,4,3,9542,,,0,"Allow any Keystone domain for cinder store

add two new config options for cinder store

- cinder_store_user_domain_name
- cinder_store_project_domain_name

that allow to set the internal user and project to Keystone domains
other that the 'Default' one.

Closes-Bug: #1930299
Change-Id: I1d6c07b6c0e7e6a4da9adabaa026f024b64bb029
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/26/793826/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/cinder.py'],1,037132f978a7232c4ddba365f58a60d62e44ce97,cinder-user-domain,"from keystoneauth1 import identity as ksa_identity from keystoneauth1 import session as ksa_session from keystoneauth1 import token_endpoint as ksa_token_endpoint cfg.StrOpt('cinder_store_user_domain_name', default='Default', help="""""" Domain of the user to authenticate against cinder. This must be used with all the following related options. If any of these are not specified, the user of the current context is used. Possible values: * A valid user name Related options: * cinder_store_auth_address * cinder_store_password * cinder_store_project_name """"""), cfg.StrOpt('cinder_store_project_domain_name', default='Default', help="""""" Domain of the project where the image volume is stored in cinder. If this configuration option is not set, the project in current context is used. This must be used with all the following related options. If any of these are not specified, the project of the current context is used. Possible values: * A valid project name Related options: * ``cinder_store_auth_address`` * ``cinder_store_user_name`` * ``cinder_store_password`` """"""),CINDER_SESSION = None def _reset_cinder_session(): global CINDER_SESSION CINDER_SESSION = None def get_cinder_session(conf): global CINDER_SESSION if not CINDER_SESSION: auth = ksa_identity.V3Password( password=conf.cinder_store_password, username=conf.cinder_store_user_name, user_domain_name=conf.cinder_store_user_domain_name, project_name=conf.cinder_store_project_name, project_domain_name=conf.cinder_store_project_domain_name, auth_url=conf.cinder_store_auth_address ) if conf.cinder_api_insecure: verify = False elif conf.cinder_ca_certificates_file: verify = conf.cinder_ca_certificates_file else: verify = True CINDER_SESSION = ksa_session.Session(auth=auth, verify=verify) return CINDER_SESSION session = get_cinder_session(self.store_conf) # use auth that is already in the session auth = None # noauth extracts user_id:project_id from auth_token token = context.auth_token or '%s:%s' % (username, project) auth = ksa_token_endpoint.Token(endpoint=url, token=token) session=session, auth=auth, retries=self.store_conf.cinder_http_retries)"," password = self.store_conf.cinder_store_password project = self.store_conf.cinder_store_project_name password = context.auth_token username, password, project, auth_url=url, insecure=self.store_conf.cinder_api_insecure, retries=self.store_conf.cinder_http_retries, cacert=self.store_conf.cinder_ca_certificates_file) # noauth extracts user_id:project_id from auth_token if not user_overriden: c.client.auth_token = context.auth_token or '%s:%s' % (username, project) c.client.management_url = url",77,12
openstack%2Fproject-config~master~I4ea24dadf24437222373853cf70908d82e3dbbc3,openstack/project-config,master,I4ea24dadf24437222373853cf70908d82e3dbbc3,Update promote/publish secrets and jobs,MERGED,2021-06-24 16:13:04.000000000,2021-06-24 16:56:35.000000000,2021-06-24 16:56:35.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 16:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/af9dfc2b90a7401dfde381603d1597ff270b7155', 'message': 'Update promote/publish secrets and jobs\n\nThis updates the promote and publish secrets and jobs to no longer\nrely on jinja templates in secrets since Zuul removed support for\nthat.\n\nInstead, we pass in only known safe static variables (ie, the ""zuul""\nhierarchy).\n\nChange-Id: I4ea24dadf24437222373853cf70908d82e3dbbc3\n'}, {'number': 2, 'created': '2021-06-24 16:21:06.000000000', 'files': ['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e1623783aba2e30265002f923d302e90c0ff91c', 'message': 'Update promote/publish secrets and jobs\n\nThis updates the promote and publish secrets and jobs to no longer\nrely on jinja templates in secrets since Zuul removed support for\nthat.\n\nInstead, we pass in only known safe static variables (ie, the ""zuul""\nhierarchy).\n\nChange-Id: I4ea24dadf24437222373853cf70908d82e3dbbc3\n'}]",1,797971,2e1623783aba2e30265002f923d302e90c0ff91c,10,3,2,5263,,,0,"Update promote/publish secrets and jobs

This updates the promote and publish secrets and jobs to no longer
rely on jinja templates in secrets since Zuul removed support for
that.

Instead, we pass in only known safe static variables (ie, the ""zuul""
hierarchy).

Change-Id: I4ea24dadf24437222373853cf70908d82e3dbbc3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/797971/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'zuul.d/jobs.yaml']",2,af9dfc2b90a7401dfde381603d1597ff270b7155,zuul-4.6.0," /afs/.openstack.org/docs/{special_publish_directory}. /afs/.openstack.org/project/specs.openstack.org/{zuul[project][name]}. publish_site: ""specs.openstack.org/{zuul[project.\][name]}"" /afs/.openstack.org/project/{publish_site}. publish_site: ""airshipit.org/docs/{zuul[project][short_name]}"""," /afs/.openstack.org/docs/{{ special_publish_directory }}. /afs/.openstack.org/project/specs.openstack.org/{{ zuul.project.name }}. publish_site: ""specs.openstack.org/{{ zuul.project.name }}"" /afs/.openstack.org/project/{{publish_site }}. publish_site: ""airshipit.org/docs/{{ zuul.project.short_name }}""",56,23
openstack%2Fneutron-tempest-plugin~master~If36aa3e99286f4f91ea488609aee0589656881da,openstack/neutron-tempest-plugin,master,If36aa3e99286f4f91ea488609aee0589656881da,Add test for default DNS zone per tenant,MERGED,2020-06-07 22:08:06.000000000,2021-06-24 16:44:56.000000000,2021-06-24 16:44:56.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-07 22:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9a1007283445bd3651472513c9c6789f2df72559', 'message': 'WIP Add test for default DNS zone per tenant\n\nTest is not working properly yet. Needs more investigation.\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 2, 'created': '2020-07-09 22:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0c3beaa67d4a6a1f71756c36e3178a51e364cbb6', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 3, 'created': '2020-07-10 08:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/85f3c9d3b30876170112095e7e10bda288e8c811', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 4, 'created': '2020-07-13 11:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a53325e8d712ba885ec8f5d2b298bf2c1a7e89e6', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 5, 'created': '2020-07-13 11:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/055b3c512dcfb75f30b2d87d0e7dcafb3cd53e17', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 6, 'created': '2020-08-05 10:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/11953d82ff4a1f80b8cc93754df9b218e6c59fb4', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 7, 'created': '2020-12-10 16:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/49ff4032148c6f50c335f40f76860b944314b4f9', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}, {'number': 8, 'created': '2021-02-19 15:26:04.000000000', 'files': ['neutron_tempest_plugin/scenario/test_dns_integration.py', 'zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/913c3065e2f2adcf74167b3bdf3e7e0f5200fc18', 'message': 'Add test for default DNS zone per tenant\n\nRelated-Bug: #1843218\n\nDepends-On: https://review.opendev.org/#/c/686343/\nChange-Id: If36aa3e99286f4f91ea488609aee0589656881da\n'}]",10,733994,913c3065e2f2adcf74167b3bdf3e7e0f5200fc18,62,6,8,11975,,,0,"Add test for default DNS zone per tenant

Related-Bug: #1843218

Depends-On: https://review.opendev.org/#/c/686343/
Change-Id: If36aa3e99286f4f91ea488609aee0589656881da
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/94/733994/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_dns_integration.py'],1,9a1007283445bd3651472513c9c6789f2df72559,bug/1875981," class DNSIntegrationDomainPerProjectTests(BaseDNSIntegrationTests): credentials = ['primary', 'admin'] @classmethod def resource_setup(cls): super(BaseDNSIntegrationTests, cls).resource_setup() zone_name = ""%s.%s.test.zone."" % (cls.client.user_id, cls.client.tenant_id) dns_domain_template = ""<user_id>.<project_id>.test.zone."" _, cls.zone = cls.dns_client.create_zone(name=zone_name) cls.addClassResourceCleanup(cls.dns_client.delete_zone, cls.zone['id'], ignore_errors=lib_exc.NotFound) dns_waiters.wait_for_zone_status( cls.dns_client, cls.zone['id'], 'ACTIVE') cls.network = cls.create_network(dns_domain=dns_domain_template) cls.subnet = cls.create_subnet(cls.network) cls.subnet_v6 = cls.create_subnet(cls.network, ip_version=6) cls.router = cls.create_router_by_client() cls.create_router_interface(cls.router['id'], cls.subnet['id']) cls.keypair = cls.create_keypair() @decorators.idempotent_id('43a67509-3161-4125-8f2c-0d4a67599721') def test_port_with_dns_name(self): name = data_utils.rand_name('port-test') port = self.create_port(self.network, dns_name=name) addr = port['fixed_ips'][0]['ip_address'] self._verify_dns_records(addr, name) self.client.delete_port(port['id']) self._verify_dns_records(addr, name, found=False)",,35,0
openstack%2Fnova~stable%2Fstein~Ieea576b700327ba5a5300e512d42e51a255abbba,openstack/nova,stable/stein,Ieea576b700327ba5a5300e512d42e51a255abbba,libvirt: Start checking compute usage in functional tests,ABANDONED,2021-06-24 16:19:49.000000000,2021-06-24 16:23:56.000000000,,[],"[{'number': 1, 'created': '2021-06-24 16:19:49.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e96ee3034fc3a3544e4bc7bb61b9d3c09f3762e7', 'message': ""libvirt: Start checking compute usage in functional tests\n\nWe're using placement. Let's make sure everything is working in concert\nand requesting the right amount and types of things.\n\nChange-Id: Ieea576b700327ba5a5300e512d42e51a255abbba\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bhagyashri.shewale@nttdata.com>\n(cherry picked from commit 64f09a4a1f41348efa15b08c8457004f42909f2d)\n""}]",0,797974,e96ee3034fc3a3544e4bc7bb61b9d3c09f3762e7,2,0,1,15334,,,0,"libvirt: Start checking compute usage in functional tests

We're using placement. Let's make sure everything is working in concert
and requesting the right amount and types of things.

Change-Id: Ieea576b700327ba5a5300e512d42e51a255abbba
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Co-authored-by: Bhagyashri Shewale <bhagyashri.shewale@nttdata.com>
(cherry picked from commit 64f09a4a1f41348efa15b08c8457004f42909f2d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/797974/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,e96ee3034fc3a3544e4bc7bb61b9d3c09f3762e7,bug/1910466," def _run_build_test(self, flavor_id, end_status='ACTIVE', expected_usage=None): # NOTE(bhagyashris): Always use host as 'compute1' so that it's # possible to get resource provider information for verifying # compute usages. This host name 'compute1' is hard coded in # Connection class in fakelibvirt.py. # TODO(stephenfin): Remove the hardcoded limit, possibly overridding # 'start_service' to make sure there isn't a mismatch self.compute = self.start_service('compute', host='compute1') compute_rp_uuid = self.placement_api.get( '/resource_providers?name=compute1').body[ 'resource_providers'][0]['uuid'] if expected_usage: compute_usage = self.placement_api.get( '/resource_providers/%s/usages' % compute_rp_uuid).body[ 'usages'] self.assertEqual(expected_usage, compute_usage) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 2} self._run_build_test(flavor_id, expected_usage=expected_usage) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'VCPU': 5} server = self._run_build_test(flavor_id, expected_usage=expected_usage)"," def _run_build_test(self, flavor_id, end_status='ACTIVE'): self.compute = self.start_service('compute', host='test_compute0') self._run_build_test(flavor_id) server = self._run_build_test(flavor_id)",23,4
openstack%2Ftripleo-heat-templates~master~I1092d0660c382bac78c6489691e7378daec63e04,openstack/tripleo-heat-templates,master,I1092d0660c382bac78c6489691e7378daec63e04,Reduce scope of CephClusterName to Ceph clients only,ABANDONED,2021-06-21 19:45:48.000000000,2021-06-24 15:46:22.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-21 19:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87e011e42f85837331837960300bd06d34101428', 'message': 'Reduce scope of CephClusterName to Ceph clients only\n\nCeph deprecated naming clusters anything but ""ceph"" [1]\nso deprecate CephClusterName for the naming of Ceph\nserver files in /etc/ceph/ on the container hosts and\nlet cephadm manage replicating all files in /etc/ceph/\nto other Ceph servers. The name of the replicated files\nwill no longer reflect the value of CephClusterName.\n\nCeph client configuration is managed not by cephadm but\nby the tripleo_ceph_client role from tripleo-ansible. The\nfiles managed by this role are stored in CephConfigPath,\nwhich defaults to /var/lib/tripleo-config/ceph/, and we\nmust continue to support the CephClusterName for these\nfiles so we can support multiple Ceph client configuration\nas found in GlanceMultistoreConfig. Thus, the scope of\nthe CephClusterName paramter is being reduced and it will\nonly have effect in CephConfigPath and not /etc/ceph/.\n\n[1] https://docs.ceph.com/en/latest/rados/configuration/common/#naming-clusters-deprecated\n\nDepends-On: I7e31cd6368cd256b22a21b506947c0214e298361\nChange-Id: I1092d0660c382bac78c6489691e7378daec63e04\n'}, {'number': 2, 'created': '2021-06-21 20:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bbdd2822dfcdb11b9cd5c5d7f38604a7c869b8c', 'message': 'Reduce scope of CephClusterName to Ceph clients only\n\nCeph deprecated naming clusters anything but ""ceph"" [1]\nso deprecate CephClusterName for the naming of Ceph\nserver files in /etc/ceph/ on the container hosts and\nlet cephadm manage replicating all files in /etc/ceph/\nto other Ceph servers. The name of the replicated files\nwill no longer reflect the value of CephClusterName.\n\nCeph client configuration is managed not by cephadm but\nby the tripleo_ceph_client role from tripleo-ansible. The\nfiles managed by this role are stored in CephConfigPath,\nwhich defaults to /var/lib/tripleo-config/ceph/, and we\nmust continue to support the CephClusterName for these\nfiles so we can support multiple Ceph client configuration\nas found in GlanceMultistoreConfig. Thus, the scope of\nthe CephClusterName paramter is being reduced and it will\nonly have effect in CephConfigPath and not /etc/ceph/.\n\n[1] https://docs.ceph.com/en/latest/rados/configuration/common/#naming-clusters-deprecated\n\nDepends-On: I7e31cd6368cd256b22a21b506947c0214e298361\nChange-Id: I1092d0660c382bac78c6489691e7378daec63e04\n'}, {'number': 3, 'created': '2021-06-22 05:40:30.000000000', 'files': ['deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'releasenotes/notes/ceph_conf_name_override_deprecated-ea26da760b748318.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07f367abadc11ff188596d259e43c85380c74da9', 'message': 'Reduce scope of CephClusterName to Ceph clients only\n\nCeph deprecated naming clusters anything but ""ceph"" [1]\nso deprecate CephClusterName for the naming of Ceph\nserver files in /etc/ceph/ on the container hosts and\nlet cephadm manage replicating all files in /etc/ceph/\nto other Ceph servers. The name of the replicated files\nwill no longer reflect the value of CephClusterName.\n\nCeph client configuration is managed not by cephadm but\nby the tripleo_ceph_client role from tripleo-ansible. The\nfiles managed by this role are stored in CephConfigPath,\nwhich defaults to /var/lib/tripleo-config/ceph/, and we\nmust continue to support the CephClusterName for these\nfiles so we can support multiple Ceph client configuration\nas found in GlanceMultistoreConfig. Thus, the scope of\nthe CephClusterName paramter is being reduced and it will\nonly have effect in CephConfigPath and not /etc/ceph/.\n\n[1] https://docs.ceph.com/en/latest/rados/configuration/common/#naming-clusters-deprecated\n\nDepends-On: I7e31cd6368cd256b22a21b506947c0214e298361\nChange-Id: I1092d0660c382bac78c6489691e7378daec63e04\n'}]",8,797350,07f367abadc11ff188596d259e43c85380c74da9,20,5,3,18002,,,0,"Reduce scope of CephClusterName to Ceph clients only

Ceph deprecated naming clusters anything but ""ceph"" [1]
so deprecate CephClusterName for the naming of Ceph
server files in /etc/ceph/ on the container hosts and
let cephadm manage replicating all files in /etc/ceph/
to other Ceph servers. The name of the replicated files
will no longer reflect the value of CephClusterName.

Ceph client configuration is managed not by cephadm but
by the tripleo_ceph_client role from tripleo-ansible. The
files managed by this role are stored in CephConfigPath,
which defaults to /var/lib/tripleo-config/ceph/, and we
must continue to support the CephClusterName for these
files so we can support multiple Ceph client configuration
as found in GlanceMultistoreConfig. Thus, the scope of
the CephClusterName paramter is being reduced and it will
only have effect in CephConfigPath and not /etc/ceph/.

[1] https://docs.ceph.com/en/latest/rados/configuration/common/#naming-clusters-deprecated

Depends-On: I7e31cd6368cd256b22a21b506947c0214e298361
Change-Id: I1092d0660c382bac78c6489691e7378daec63e04
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/797350/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-mon.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/gnocchi/gnocchi-base.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/cephadm/ceph-client.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'releasenotes/notes/ceph_conf_name_override_deprecated-ea26da760b748318.yaml', 'deployment/cephadm/ceph-base.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml']",17,87e011e42f85837331837960300bd06d34101428,ceph_conf_mgmt," description: > The basis of the name of the Ceph client configuration files. E.g. if CephClusterName is foo, then within the Ceph client containers, the files /etc/ceph/foo.conf and /etc/ceph/foo.client.openstack.keyring should be used to connect to the Ceph cluster. The CephClusterName must be at least 1 character and contain only", description: The Ceph cluster name. The Ceph cluster name must be at least 1 character and contain only,134,31
openstack%2Fswift~master~Idd2440277516dac14ea0155da32af2fc8b603ba7,openstack/swift,master,Idd2440277516dac14ea0155da32af2fc8b603ba7,Further refactor of debug_logger,NEW,2021-06-24 10:00:59.000000000,2021-06-24 15:43:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 10:00:59.000000000', 'files': ['test/unit/container/test_replicator.py', 'test/unit/obj/test_replicator.py', 'test/debug_logger.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b72e5091d98d8da579382ddf2c601c961499e59', 'message': 'Further refactor of debug_logger\n\nMove log capture functionality from FakeLogger to DebugLogAdapter\nfor consistency with system log capture pattern. FakeLogger will\nno longer capyure logs but is currently only used as a fake syslog\nhandler.\n\nSome unit tests were previously calling\nDebugLogAdapter.logger.get_lines_for_level i.e. calling\nFakeLogger.get_lines_for_level. This was not necessary since\nDebugLogAdapter would forward a call to get_lines_for_level, but will\nnow not work because get_lines_for_level is only implemented by\nDebugLogAdapter.\n\nChange-Id: Idd2440277516dac14ea0155da32af2fc8b603ba7\n'}]",4,797864,4b72e5091d98d8da579382ddf2c601c961499e59,5,1,1,7847,,,0,"Further refactor of debug_logger

Move log capture functionality from FakeLogger to DebugLogAdapter
for consistency with system log capture pattern. FakeLogger will
no longer capyure logs but is currently only used as a fake syslog
handler.

Some unit tests were previously calling
DebugLogAdapter.logger.get_lines_for_level i.e. calling
FakeLogger.get_lines_for_level. This was not necessary since
DebugLogAdapter would forward a call to get_lines_for_level, but will
now not work because get_lines_for_level is only implemented by
DebugLogAdapter.

Change-Id: Idd2440277516dac14ea0155da32af2fc8b603ba7
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/797864/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'test/unit/obj/test_replicator.py', 'test/debug_logger.py', 'test/unit/obj/test_reconstructor.py']",4,4b72e5091d98d8da579382ddf2c601c961499e59,p-log-capture," for level, lines in self.logger.all_log_lines().items():"," for level, lines in self.logger.logger.all_log_lines().items():",92,90
openstack%2Fironic-python-agent~master~I0678c6252394fec1174299038f40fc9352e2059a,openstack/ironic-python-agent,master,I0678c6252394fec1174299038f40fc9352e2059a,WIP/DNM: Add FIPS jobs,NEW,2021-06-23 19:08:28.000000000,2021-06-24 15:41:29.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 19:08:28.000000000', 'files': ['playbooks/enable-fips.yaml', 'zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c37ece764a14d4276d95d799abaef04283279c6b', 'message': ""WIP/DNM: Add FIPS jobs\n\nThis commit adds a job to confirm that nothing is broken when FIPS\nis enabled on the node.  To speed up testing, we've removed all other\ncheck jobs except this one.\n\nChange-Id: I0678c6252394fec1174299038f40fc9352e2059a\n""}]",0,797741,c37ece764a14d4276d95d799abaef04283279c6b,4,2,1,9914,,,0,"WIP/DNM: Add FIPS jobs

This commit adds a job to confirm that nothing is broken when FIPS
is enabled on the node.  To speed up testing, we've removed all other
check jobs except this one.

Change-Id: I0678c6252394fec1174299038f40fc9352e2059a
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/797741/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",3,c37ece764a14d4276d95d799abaef04283279c6b,add_fips_job, - ironic-standalone-ipa-src-fips," templates: - openstack-python3-xena-jobs - openstack-cover-jobs - publish-openstack-docs-pti - check-requirements - release-notes-jobs-python3 - openstack-tox-functional - ipa-tox-examples # NOTE(iurygregory) Only run this two jobs since we are testing # wholedisk + partition on tempest - ipa-tempest-bios-ipmi-direct-src - ipa-tempest-uefi-redfish-vmedia-src # NOTE(TheJulia): The cleaning tests run in standalone job has a # high failure rate due to possible race during long running steps # like deployment with raid setup. While we're working on a fix, # we also need to fix IPA and Ironic itself, so this is as a result # temporary. - ironic-standalone-ipa-src: voting: false - metalsmith-integration-ipa-src - metalsmith-integration-ipa-src-uefi: voting: false # NOTE(dtantsur): non-voting because IPA source code is very unlikely # to break them. They rather serve as a canary for broken POST jobs. - ironic-python-agent-check-image-tinyipa: voting: false - ironic-python-agent-check-image-dib-centos8: voting: false # Non-voting jobs - ipa-tempest-ironic-inspector-src: voting: false - ipa-tox-bandit: voting: false",12,33
openstack%2Ftripleo-ansible~master~I7e31cd6368cd256b22a21b506947c0214e298361,openstack/tripleo-ansible,master,I7e31cd6368cd256b22a21b506947c0214e298361,Distribute Ceph conf and admin keyring to all Ceph _admin nodes,ABANDONED,2021-06-18 10:58:39.000000000,2021-06-24 15:24:21.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-18 10:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/189a07ae704763c064b49912793db8108028f71a', 'message': 'Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both ceph.conf and\nthe admin keyring are distributed to the relevant nodes.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n'}, {'number': 2, 'created': '2021-06-18 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20af43dbe3349f1302953b3260085588894bb6a3', 'message': 'Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both ceph.conf and\nthe admin keyring are distributed to the relevant nodes.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n'}, {'number': 3, 'created': '2021-06-18 11:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d7808368d70684088f5dab1651561a8e9cdd9ad', 'message': 'Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both ceph.conf and\nthe admin keyring are distributed to the relevant nodes.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n'}, {'number': 4, 'created': '2021-06-18 13:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0443dcd4c518166748251fb64343634569ecf1c5', 'message': 'Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both ceph.conf and\nthe admin keyring are distributed to the relevant nodes.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n'}, {'number': 5, 'created': '2021-06-18 20:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3017f582513488c22c6e8eb59b650f75107f4816', 'message': ""Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both $cluster.conf\nand the related client.admin keyring are distributed to the\nrelevant nodes.\nAs per [1] cephadm at the moment doesn't support a customized\ncluster name, therefore this change add the flexibility to\nhandle the conf/key distribution via ansible until that will\nbe supported by the new tool.\n\n[1] https://github.com/ceph/ceph/blob/master/doc/cephadm/operations.rst#client-keyrings-and-configs\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 6, 'created': '2021-06-21 07:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d4181ceeb74dd384304a13530b000bcb5e1245a', 'message': ""Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both $cluster.conf\nand the related client.admin keyring are distributed to the\nrelevant nodes.\nAs per [1] cephadm at the moment doesn't support a customized\ncluster name, therefore this change add the flexibility to\nhandle the conf/key distribution via ansible until that will\nbe supported by the new tool.\n\n[1] https://github.com/ceph/ceph/blob/master/doc/cephadm/operations.rst#client-keyrings-and-configs\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 7, 'created': '2021-06-21 08:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c333de5e81b5da79ae8435f1b77890a2b25786e3', 'message': ""Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact\nwith the ceph cluster using the admin keyring. This label is\ntypically added to the mon group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any\nother client tool).\nThis change adds a new block to make sure both $cluster.conf\nand the related client.admin keyring are distributed to the\nrelevant nodes.\nAs per [1] cephadm at the moment doesn't support a customized\ncluster name, therefore this change add the flexibility to\nhandle the conf/key distribution via ansible until that will\nbe supported by the new tool.\n\n[1] https://github.com/ceph/ceph/blob/master/doc/cephadm/operations.rst#client-keyrings-and-configs\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 8, 'created': '2021-06-21 13:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1f5fe9da210a263817b0eff2978db0e86eb4469', 'message': ""Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact with\nthe ceph cluster using the ceph.client.admin keyring. This label\nis typically added to the mon/mgr group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any other\nclient tool).\nThis change adds a new block to make sure both $cluster.conf and\nthe related client.admin keyring are distributed to the relevant\nnodes.\nAs [1] shows, cephadm at the moment doesn't support a customized\ncluster name: this patch provides a bool (the default is false)\nto toggle the conf/key distribution.\n\n[1] https://github.com/ceph/ceph/blob/master/doc/cephadm/operations.rst#client-keyrings-and-configs\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 9, 'created': '2021-06-21 15:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ed8b2024cac491056b5f68309847d8448d6086a', 'message': ""Distribute admin keyring to all the Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact with\nthe ceph cluster using the ceph.client.admin keyring. This label\nis typically added to the mon/mgr group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any other\nclient tool).\nThis change adds a new block to make sure both $cluster.conf and\nthe related client.admin keyring are distributed to the relevant\nnodes.\nAs [1] shows, cephadm at the moment doesn't support a customized\ncluster name: this patch provides a bool (the default is false)\nto toggle the conf/key distribution.\n\n[1] https://github.com/ceph/ceph/blob/master/doc/cephadm/operations.rst#client-keyrings-and-configs\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 10, 'created': '2021-06-21 20:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/48bf014452f1e89a2334d678da0633186bbab824', 'message': ""Distribute Ceph conf and admin keyring to all Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact with\nthe ceph cluster using the ceph.client.admin keyring. This label\nis typically added to the mon/mgr group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any other\nclient tool).\n\nThis change adds a new block to make sure both the ceph.conf and\nceph.client.admin.keyring are distributed to the relevant nodes\nby enabling cephadm's mgr/cephadm/manage_etc_ceph_ceph_conf.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 11, 'created': '2021-06-22 05:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b40247865beb89c78de5d92c6e25d312bb576493', 'message': ""Distribute Ceph conf and admin keyring to all Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact with\nthe ceph cluster using the ceph.client.admin keyring. This label\nis typically added to the mon/mgr group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any other\nclient tool).\n\nThis change adds a new block to make sure both the ceph.conf and\nceph.client.admin.keyring are distributed to the relevant nodes\nby enabling cephadm's mgr/cephadm/manage_etc_ceph_ceph_conf.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}, {'number': 12, 'created': '2021-06-22 11:00:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c32cb1b2421fd14cdd258577fa7a5aaa12cfd044', 'message': ""Distribute Ceph conf and admin keyring to all Ceph _admin nodes\n\nThe nodes having an _admin label should be able to interact with\nthe ceph cluster using the ceph.client.admin keyring. This label\nis typically added to the mon/mgr group, but they need the admin\nkeyring to run any ceph command (via cephadm shell or any other\nclient tool).\n\nThis change adds a new block to make sure both the ceph.conf and\nceph.client.admin.keyring are distributed to the relevant nodes\nby enabling cephadm's mgr/cephadm/manage_etc_ceph_ceph_conf.\n\nChange-Id: I7e31cd6368cd256b22a21b506947c0214e298361\n""}]",18,797056,c32cb1b2421fd14cdd258577fa7a5aaa12cfd044,49,5,12,25402,,,0,"Distribute Ceph conf and admin keyring to all Ceph _admin nodes

The nodes having an _admin label should be able to interact with
the ceph cluster using the ceph.client.admin keyring. This label
is typically added to the mon/mgr group, but they need the admin
keyring to run any ceph command (via cephadm shell or any other
client tool).

This change adds a new block to make sure both the ceph.conf and
ceph.client.admin.keyring are distributed to the relevant nodes
by enabling cephadm's mgr/cephadm/manage_etc_ceph_ceph_conf.

Change-Id: I7e31cd6368cd256b22a21b506947c0214e298361
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/797056/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/apply_spec.yaml'],1,189a07ae704763c064b49912793db8108028f71a,ceph_conf_mgmt, - name: ceph.conf and keyring distribution become: true block: - name: Distribute ceph.conf command: | {{ tripleo_cephadm_ceph_cli }} config set mgr mgr/cephadm/manage_etc_ceph_ceph_conf true changed_when: false - name: Distribute the admin keyring to the _admin group command: | {{ tripleo_cephadm_ceph_cli }} orch client-keyring set client.admin label:_admin changed_when: false,- name: Distribute ceph.conf to the Ceph cluster nodes command: | {{ tripleo_cephadm_ceph_cli }} config set mgr mgr/cephadm/manage_etc_ceph_ceph_conf true changed_when: false become: true,11,5
openstack%2Ftripleo-operator-ansible~master~I5524e968ef3650342629076cd17963831c2a96e3,openstack/tripleo-operator-ansible,master,I5524e968ef3650342629076cd17963831c2a96e3,Removing --validation from role,MERGED,2021-06-23 15:22:05.000000000,2021-06-24 15:13:22.000000000,2021-06-24 15:13:22.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-23 15:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b802b3ff1728ca81293522261abf1d11848a795f', 'message': 'Removing --validation from role\n\nAccording to usage, --validation parameter is not needed and it is enough to\nsupply the validation name\n\nChange-Id: I5524e968ef3650342629076cd17963831c2a96e3\n'}, {'number': 2, 'created': '2021-06-23 15:57:38.000000000', 'files': ['roles/tripleo_validator_show/tasks/main.yml', 'roles/tripleo_validator_show/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/7de6a6af5121d3fb3cba7ada28e1151b0740d7a4', 'message': 'Removing --validation from role\n\nAccording to usage, --validation parameter is not needed and it is\nenough to supply the validation name\n\nChange-Id: I5524e968ef3650342629076cd17963831c2a96e3\n'}]",0,797677,7de6a6af5121d3fb3cba7ada28e1151b0740d7a4,11,3,2,33663,,,0,"Removing --validation from role

According to usage, --validation parameter is not needed and it is
enough to supply the validation name

Change-Id: I5524e968ef3650342629076cd17963831c2a96e3
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/77/797677/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_validator_show/tasks/main.yml'],1,b802b3ff1728ca81293522261abf1d11848a795f,fix_tripleo_validator_show, {{ openstack_bin }} tripleo validator show, {{ openstack_bin }} tripleo validator show --validation,1,1
openstack%2Fheat~master~I63369b92b77b4f84bc2646ab35632006ee6b841b,openstack/heat,master,I63369b92b77b4f84bc2646ab35632006ee6b841b,Add availability_zone to OS::Octavia::LoadBalancer,MERGED,2021-05-27 01:50:12.000000000,2021-06-24 13:44:34.000000000,2021-06-24 13:42:54.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 01:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1a561c0262c33797aa117cc33b68c7fa3082e722', 'message': 'Add availability_zone to OS::Octavia::LoadBalancer\n\nChange-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b\n'}, {'number': 2, 'created': '2021-06-07 12:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bc03beb2cb710bd94135b725c0f63a3fc5f59643', 'message': 'Add availability_zone to OS::Octavia::LoadBalancer\n\nChange-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b\n'}, {'number': 3, 'created': '2021-06-11 07:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f40a581697bf2bcab8f2f85b88a52858921bc16f', 'message': 'Add availability_zone to OS::Octavia::LoadBalancer\n\nChange-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b\n'}, {'number': 4, 'created': '2021-06-16 12:46:17.000000000', 'files': ['heat/tests/openstack/octavia/inline_templates.py', 'heat/tests/openstack/octavia/test_loadbalancer.py', 'heat/engine/resources/openstack/octavia/loadbalancer.py', 'releasenotes/notes/add-availability-zone-to-octavia-193bcd2aee264fbd.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ba0b6676c07e944ba046b2b067832e0583163662', 'message': 'Add availability_zone to OS::Octavia::LoadBalancer\n\nChange-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b\n'}]",0,793259,ba0b6676c07e944ba046b2b067832e0583163662,27,3,4,8064,,,0,"Add availability_zone to OS::Octavia::LoadBalancer

Change-Id: I63369b92b77b4f84bc2646ab35632006ee6b841b
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/793259/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/octavia/inline_templates.py', 'heat/engine/resources/openstack/octavia/loadbalancer.py', 'heat/tests/openstack/octavia/test_loadbalancer.py', 'releasenotes/notes/add-availability-zone-to-octavia-193bcd2aee264fbd.yaml']",4,1a561c0262c33797aa117cc33b68c7fa3082e722,octavia-az,--- features: - | Add availabilty_zone parameter to OS::Octavia::LoadBalancer ,,14,2
openstack%2Fosc-lib~master~Ia080056c6239471ebb6c6aedb0a7ad191072d550,openstack/osc-lib,master,Ia080056c6239471ebb6c6aedb0a7ad191072d550,POC: add pluggable cli helpers,NEW,2021-06-24 12:47:54.000000000,2021-06-24 13:44:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 12:47:54.000000000', 'files': ['osc_lib/cli/helpers/password.py', 'osc_lib/api/auth.py', 'osc_lib/cli/helpers/__init__.py', 'osc_lib/cli/helpers/default.py', 'osc_lib/cli/helpers/base.py', 'setup.cfg', 'osc_lib/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/f33b98b360fab8cded401e9c8822f86431c75b03', 'message': 'POC: add pluggable cli helpers\n\nThe existing osc_lib implementation allows asking to prompt only a user\npassword without any ability to extend this feature.\n\npluggable way for validation cli options allows developers to implement\na custom authentication method (keystone allows to do that) and improve\nUX (e.g. ask to prompt hardware totp token) without using any addional\nbash scripts with workarounds.\n\nChange-Id: Ia080056c6239471ebb6c6aedb0a7ad191072d550\n'}]",5,797894,f33b98b360fab8cded401e9c8822f86431c75b03,3,1,1,9545,,,0,"POC: add pluggable cli helpers

The existing osc_lib implementation allows asking to prompt only a user
password without any ability to extend this feature.

pluggable way for validation cli options allows developers to implement
a custom authentication method (keystone allows to do that) and improve
UX (e.g. ask to prompt hardware totp token) without using any addional
bash scripts with workarounds.

Change-Id: Ia080056c6239471ebb6c6aedb0a7ad191072d550
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/94/797894/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_lib/cli/helpers/password.py', 'osc_lib/api/auth.py', 'osc_lib/cli/helpers/__init__.py', 'osc_lib/cli/helpers/default.py', 'osc_lib/cli/helpers/base.py', 'setup.cfg', 'osc_lib/clientmanager.py']",7,f33b98b360fab8cded401e9c8822f86431c75b03,auth_prompting,"from osc_lib.cli.helpers import base as base_helpersfrom osc_lib.i18n import _ helper = base_helpers.get_cli_helper(self.auth_plugin_name) errors = helper.validate(self._cli_options) if errors: raise exceptions.CommandError( _('Missing parameter(s): \n%s') % '\n'.join(errors) ) helper.prompt_if_needed( auth_cli_options=self._cli_options.auth, prompt_callback=self._pw_callback )"," # Basic option checking to avoid unhelpful error messages auth.check_valid_authentication_options( self._cli_options, self.auth_plugin_name, ) # Horrible hack alert...must handle prompt for null password if # password auth is requested. if (self.auth_plugin_name.endswith('password') and not self._cli_options.auth.get('password')): self._cli_options.auth['password'] = self._pw_callback()",216,62
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib1fd2fb89899b40b3ce2574af067006f566ef2ea,openstack/tripleo-heat-templates,stable/wallaby,Ib1fd2fb89899b40b3ce2574af067006f566ef2ea,Introduce nova virtlogd wrapper,MERGED,2021-06-08 05:51:48.000000000,2021-06-24 13:38:27.000000000,2021-06-24 13:35:09.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-08 05:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6850c892af43cfbb10145ae351a567e8bd6f2b5', 'message': 'Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth files\nwill not be reopened again by virtlogd. As a result either instances need\nto be restarted or live migrated to a different compute node to get new\nconsole logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while\nmaintaining all current logs and clients. This allows for live upgrades of\nthe virtlogd service on non containerized environments where updates just\nby doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd should\nonly be restarted on manual request, or on compute node reboot. It should\nnot be restarted on a minor update without migration off instances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node restart.\n\nWith NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be\ndisabled.\n\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n\nCloses-Bug: #1838272\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148\n\nChange-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea\n(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)\n'}, {'number': 2, 'created': '2021-06-17 11:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e523bfb1f7c9fabc1f0d6b5d8868f080137af6c3', 'message': 'Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth files\nwill not be reopened again by virtlogd. As a result either instances need\nto be restarted or live migrated to a different compute node to get new\nconsole logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while\nmaintaining all current logs and clients. This allows for live upgrades of\nthe virtlogd service on non containerized environments where updates just\nby doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd should\nonly be restarted on manual request, or on compute node reboot. It should\nnot be restarted on a minor update without migration off instances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node restart.\n\nWith NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be\ndisabled.\n\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n\nCloses-Bug: #1838272\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148\n\nChange-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea\n(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)\n'}, {'number': 3, 'created': '2021-06-21 06:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/57578bb33658fc36de92b4fb675949b406395b1b', 'message': 'Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth files\nwill not be reopened again by virtlogd. As a result either instances need\nto be restarted or live migrated to a different compute node to get new\nconsole logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while\nmaintaining all current logs and clients. This allows for live upgrades of\nthe virtlogd service on non containerized environments where updates just\nby doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd should\nonly be restarted on manual request, or on compute node reboot. It should\nnot be restarted on a minor update without migration off instances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node restart.\n\nWith NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be\ndisabled.\n\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n\nCloses-Bug: #1838272\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148\n\nChange-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea\n(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)\n'}, {'number': 4, 'created': '2021-06-21 08:22:59.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_virtlogd_wrapper-120fcfcfa0787b2b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a690e519178043f3bb823126b79f7a03ac10a9a', 'message': 'Introduce nova virtlogd wrapper\n\nWhen nova_virtlogd container gets restarted the instance console auth\nfiles will not be reopened again by virtlogd. As a result either\ninstances need to be restarted or live migrated to a different compute\nnode to get new console logs messages logged again.\nUsually on receipt of SIGUSR1, virtlogd will re-exec() its binary,\nwhile maintaining all current logs and clients. This allows for live\nupgrades of the virtlogd service on non containerized environments\nwhere updates just by doing an RPM update.\nTo reduce the likelihood in a containerized environment virtlogd\nshould only be restarted on manual request, or on compute node reboot.\nIt should not be restarted on a minor update without migration off\ninstances.\nThis introduces a nova_virtlogd_wrapper container and virtlogd wrapper\nscript, to only restart virtlogd on either manual or compute node\nrestart.\n\nWith NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be\ndisabled.\n\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n\nCloses-Bug: #1838272\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148\n\nChange-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea\n(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)\n'}]",5,795149,0a690e519178043f3bb823126b79f7a03ac10a9a,27,9,4,17216,,,0,"Introduce nova virtlogd wrapper

When nova_virtlogd container gets restarted the instance console auth
files will not be reopened again by virtlogd. As a result either
instances need to be restarted or live migrated to a different compute
node to get new console logs messages logged again.
Usually on receipt of SIGUSR1, virtlogd will re-exec() its binary,
while maintaining all current logs and clients. This allows for live
upgrades of the virtlogd service on non containerized environments
where updates just by doing an RPM update.
To reduce the likelihood in a containerized environment virtlogd
should only be restarted on manual request, or on compute node reboot.
It should not be restarted on a minor update without migration off
instances.
This introduces a nova_virtlogd_wrapper container and virtlogd wrapper
script, to only restart virtlogd on either manual or compute node
restart.

With NovaEnableVirtlogdContainerWrapper the virtlogd wrapper can be
disabled.

Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>

Closes-Bug: #1838272
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/795148

Change-Id: Ib1fd2fb89899b40b3ce2574af067006f566ef2ea
(cherry picked from commit 49415d04b2f97583d63004420b500d454f62386a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/795149/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_virtlogd_wrapper-120fcfcfa0787b2b.yaml']",2,f6850c892af43cfbb10145ae351a567e8bd6f2b5,virtlogd_wrapper-stable/wallaby,"--- features: - | When nova_virtlogd container gets restarted the instance console auth files will not be reopened again by virtlogd. As a result either instances need to be restarted or live migrated to a different compute node to get new console logs messages logged again. Usually on receipt of SIGUSR1, virtlogd will re-exec() its binary, while maintaining all current logs and clients. This allows for live upgrades of the virtlogd service on non containerized environments where updates just by doing an RPM update. To reduce the likelihood in a containerized environment virtlogd should only be restarted on manual request, or on compute node reboot. It should not be restarted on a minor update without migration off instances. This introduces a nova_virtlogd_wrapper container and virtlogd wrapper script, to only restart virtlogd on either manual or compute node restart. ",,211,122
openstack%2Ftripleo-validations~stable%2Fvictoria~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/victoria,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-10 13:15:44.000000000,2021-06-24 13:37:41.000000000,2021-06-24 13:34:55.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 13:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6ce23a7459234ae0245010ce7b49f5bf67146e5', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 045f71589dad0e5bb076b0dd3ae4df7ca07c3093)\n'}, {'number': 2, 'created': '2021-06-10 13:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c0d276b0d489e5d0b1319849908b7589adeacd8', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 045f71589dad0e5bb076b0dd3ae4df7ca07c3093)\n'}, {'number': 3, 'created': '2021-06-10 13:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n'}, {'number': 4, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7b5ce51c38879a74e1aebb2b79730b6391e8a102', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n'}, {'number': 5, 'created': '2021-06-11 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f52d26969b5753a15c2250aec74ea40df349b168', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n'}, {'number': 6, 'created': '2021-06-11 14:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb599ea391cabd8c98129ad2e6d15bcdae3f6f21', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit efb1b368766f8bdce1a97103e9d4af1792446e9b)\n'}, {'number': 7, 'created': '2021-06-11 14:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3bdd57efcb2cdbf614ba6e7d751d81ca5963b94a', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit efb1b368766f8bdce1a97103e9d4af1792446e9b)\n'}, {'number': 8, 'created': '2021-06-11 14:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1d8c110b52bf90db9efaf55b4f071a1233270163', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n'}, {'number': 9, 'created': '2021-06-23 17:50:14.000000000', 'files': ['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5207e0ede4ca8950d69cd3a264a9d2efa36bb94d', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n'}]",0,795632,5207e0ede4ca8950d69cd3a264a9d2efa36bb94d,30,7,9,27419,,,0,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/32/795632/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/molecule/default/molecule.yml']",10,c6ce23a7459234ae0245010ce7b49f5bf67146e5,tsx_flag_compute,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. ",,410,0
openstack%2Fkolla-ansible~master~I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,openstack/kolla-ansible,master,I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d,Use Docker healthchecks for rabbitmq services,MERGED,2021-03-13 07:54:42.000000000,2021-06-24 13:19:16.000000000,2021-06-24 13:17:27.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-13 07:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac4a7137e9ed48ca488cf91a946bf48806d59059', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\nImplements: blueprint container-health-check\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n'}, {'number': 2, 'created': '2021-03-26 15:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69523b53125bd2720f3fbf58f8eb6777dff2df11', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\nImplements: blueprint container-health-check\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n'}, {'number': 3, 'created': '2021-04-02 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/365142d70547b64d84d7aa4a5c0a5b4dc384dd96', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\nImplements: blueprint container-health-check\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n'}, {'number': 4, 'created': '2021-04-07 05:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08f56d53f773780c866e011a8075b8854eec9dda', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\n\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/784562\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n'}, {'number': 5, 'created': '2021-04-14 05:47:13.000000000', 'files': ['ansible/roles/rabbitmq/tasks/restart_services.yml', 'releasenotes/notes/implement-docker-healthchecks-for-rabbitmq-a596f6b063026491.yaml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ddef85973dc510b642a6c633cf99e72320c17b5', 'message': 'Use Docker healthchecks for rabbitmq services\n\nThis change enables the use of Docker healthchecks for rabbitmq services.\n\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/784562\n\nChange-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d\n'}]",6,780407,1ddef85973dc510b642a6c633cf99e72320c17b5,39,6,5,31506,,,0,"Use Docker healthchecks for rabbitmq services

This change enables the use of Docker healthchecks for rabbitmq services.

Implements: blueprint container-health-check
Depends-On: https://review.opendev.org/c/openstack/kolla/+/784562

Change-Id: I23a2c2efab858b9ed39c6ce0ec4a82df10e7f93d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/780407/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/tasks/restart_services.yml', 'releasenotes/notes/implement-docker-healthchecks-for-rabbitmq-a596f6b063026491.yaml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml']",4,ac4a7137e9ed48ca488cf91a946bf48806d59059,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,22,0
openstack%2Foslo.messaging~master~I66954ebeaa32561e9159de8f606a66d2fe4ea9cf,openstack/oslo.messaging,master,I66954ebeaa32561e9159de8f606a66d2fe4ea9cf,[WIP] Remove the deprecated method get_transport,ABANDONED,2019-01-22 18:05:40.000000000,2021-06-24 13:07:15.000000000,,"[{'_account_id': 8770}, {'_account_id': 9257}, {'_account_id': 15334}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-01-22 18:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ab7ba93871d8d8725b080adc2c30bc99ad77021e', 'message': '[WIP] Remove the deprecated method get_transport\n\nthe transport.get_transport method are deprecated since few\nmonths and this method is useless.\n\nThese changes adapt unit tests to use rpc.transport instead of\ntransport and remove the deprecated method.\n\nChange-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf\n'}, {'number': 2, 'created': '2019-01-22 18:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4a55e2da02ad6533f62231ae260ffed34f859b64', 'message': '[WIP] Remove the deprecated method get_transport\n\nthe transport.get_transport method are deprecated since few\nmonths and this method is useless.\n\nThese changes adapt unit tests to use rpc.transport instead of\ntransport and remove the deprecated method.\n\nCloses-Bug: #1714945\nChange-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf\n'}, {'number': 3, 'created': '2019-01-23 12:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/dad81c49ddeee2bb0e1393e4fd5f1ca5d8ed8fed', 'message': '[WIP] Remove the deprecated method get_transport\n\nthe transport.get_transport method are deprecated since few\nmonths and this method is useless.\n\nThese changes adapt unit tests to use rpc.transport instead of\ntransport and remove the deprecated method.\n\nCloses-Bug: #1714945\nChange-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf\n'}, {'number': 4, 'created': '2019-01-23 18:23:42.000000000', 'files': ['oslo_messaging/transport.py', 'oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/tests/test_transport.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/tests/functional/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d958fd035e0d306fb5b51d1dbeef23828a970fc5', 'message': '[WIP] Remove the deprecated method get_transport\n\nthe transport.get_transport method are deprecated since few\nmonths and this method is useless.\n\nThese changes adapt unit tests to use rpc.transport instead of\ntransport and remove the deprecated method.\n\nCloses-Bug: #1714945\nChange-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf\n'}]",0,632523,d958fd035e0d306fb5b51d1dbeef23828a970fc5,13,6,4,28522,,,0,"[WIP] Remove the deprecated method get_transport

the transport.get_transport method are deprecated since few
months and this method is useless.

These changes adapt unit tests to use rpc.transport instead of
transport and remove the deprecated method.

Closes-Bug: #1714945
Change-Id: I66954ebeaa32561e9159de8f606a66d2fe4ea9cf
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/23/632523/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/transport.py', 'oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/tests/test_transport.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/tests/functional/utils.py']",5,ab7ba93871d8d8725b080adc2c30bc99ad77021e,topic/remove-deprecated-get-transport," self.transport = oslo_messaging.get_rpc_transport(self.conf, url=self.url)"," self.transport = oslo_messaging.get_transport(self.conf, url=self.url)",22,93
openstack%2Ftripleo-validations~stable%2Fvictoria~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/victoria,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 12:44:05.000000000,2021-06-24 12:40:46.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6fd4fc82d54b6dc023501e4373b155f22adf8618', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n'}, {'number': 2, 'created': '2021-06-11 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aa7304cb9dc27991bd0a4c55e5867fb47dcd3336', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n'}, {'number': 3, 'created': '2021-06-23 17:50:14.000000000', 'files': ['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_kernel_version.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3ab836aca681940ce761d365cb98dedd45b16d03', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n'}]",0,795946,3ab836aca681940ce761d365cb98dedd45b16d03,16,7,3,11491,,,0,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/46/795946/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_kernel_version.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst']",9,6fd4fc82d54b6dc023501e4373b155f22adf8618,tsx_flag_compute,"have some metadata. Here is what a minimal validation would look like: .. code-block:: yaml`pre-deployment` and `hardware` groups: .. code-block:: yamldirectories, you will have to export some Ansible variables first: .. code-block:: consoleinventory file. It should look something like this: .. code-block:: INIHere is a sample module that will always fail .. code-block:: pythonso: .. code-block:: yaml.. Warning:: Each custom module must be accompanied by the most complete unit tests possible. Check which nodes are available with: .. code-block:: console.. code-block:: consolein there: .. code-block:: yamlthe same indentation as ``hosts`` and ``vars``: .. code-block:: yamlrequired: .. code-block:: consoleNow let's add an Ansible task to test that it's all set up properly: .. code-block:: yaml $ cat <<EOF >> roles/undercloud-ram/tasks/main.ymlWhen running it, it should output something like this: .. code-block:: consoleVALIDATIONS_BASEDIR with the value of base path of your git repo: .. code-block:: console $ cd /path/to/git/repo $ export VALIDATIONS_BASEDIR=$(pwd)So, let's replace the hello world task with a real one: .. code-block:: yamlRunning this, we see: .. code-block:: consolethe ``vars`` section: .. code-block:: yamlThen, update ``failed_when`` like this: .. code-block:: yamlAnd ``fail`` like so: .. code-block:: yaml.. code-block:: console .. code-block:: console - ^roles/${NEWROLENAME}/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txtDeveloping your own molecule test(s) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process will create a default Molecule scenario from the skeleton. By using Molecule, you will be able to test it locally and of course it will be executed during the CI checks. In your role directory, you will notice a `molecule` folder which contains a single `Scenario` called `default`. Scenarios are the starting point for a lot of powerful functionality that Molecule offers. A scenario is a kind of a test suite for your newly created role. The Scenario layout +++++++++++++++++++ Within the `molecule/default` folder, you will find those files: .. code-block:: console $ ls molecule.yml converge.yml prepare.yml verify.yml * ``molecule.yml`` is the central configuration entrypoint for `Molecule`. With this file, you can configure each tool that `Molecule` will employ when testing your role. .. note:: `Tripleo-validations` uses a global configuration file for `Molecule`. This file is located at the repository level (``tripleo-validations/.config/molecule/.config.yml``). and defines all the default values for all the ``molecule.yml``. By default, the role addition process will produce an empty ``molecule.yml`` inheriting this ``config.yml`` file. Any key defined in the role ``molecule.yml`` file will override values from the ``config.yml`` file. But, if you want to override the default values set in the ``config.yml`` file, you will have to redefine them completely in your ``molecule.yml`` file. `Molecule` won't merge both configuration files and that's why you will have to redefine them completely. * ``prepare.yml`` is the playbook file that contains everything you need to include before your test. It could include packages installation, file creation, whatever your need on the instance created by the driver. * ``converge.yml`` is the playbook file that contains the call for you role. `Molecule` will invoke this playbook with ``ansible-playbook`` and run it against and instance created by the driver. * ``verify.yml`` is the Ansible file used for testing as Ansible is the default ``Verifier``. This allows you to write specific tests against the state of the container after your role has finished executing. Inspecting the Global Molecule Configuration file +++++++++++++++++++++++++++++++++++++++++++++++++ As mentioned above, ``tripleo-validations`` uses a global configuration for Molecule. .. literalinclude:: ../../../.config/molecule/config.yml :language: yaml * The ``Driver`` provider: ``podman`` is the default. Molecule will use the driver to delegate the task of creating instances. * The ``Platforms`` definitions: Molecule relies on this to know which instances to create, name and to which group each instance belongs. ``Tripleo-validations`` uses ``Universal Base Images (UBI8)`` which are container images based on a foundation of Red Hat Enterprise Linux software. See `Using Red Hat Universal Base Images`_ for details on using Red Hat UBI container images. * The ``Provisioner``: Molecule only provides an Ansible provisioner. Ansible manages the life cycle of the instance based on this configuration. * The ``Scenario`` definition: Molecule relies on this configuration to control the scenario sequence order. * The ``Verifier`` framework. Molecule uses Ansible by default to provide a way to write specific stat checking tests (such as deployment smoke tests) on the target instance. .. _Using Red Hat Universal Base Images: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index/#using_red_hat_universal_base_images_standard_minimal_and_runtimes Local testing of new roles can be done in two ways: * with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/molecule Running molecule tests with the script run-local-test ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ what Zuul does on a *CentOS 8* machine.","have some metadata. Here is what a minimal validation would look like::`pre-deployment` and `hardware` groups::directories, you will have to export some Ansible variables first::inventory file. It should look something like this::Here is a sample module that will always fail::so::Check which nodes are available with::::in there::the same indentation as ``hosts`` and ``vars``::required.::Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.ymlWhen running it, it should output something like this::VALIDATIONS_BASEDIR with the value of base bath of your git repo.:: cd /path/to/git/repo export VALIDATIONS_BASEDIR=$(pwd) So, let's replace the hello world task with a real one::Running this, we see::the ``vars`` section::Then, update ``failed_when`` like this::And ``fail`` like so:: - ^roles/${NEWROLENAME}/.*Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine.what Zuul does.",263,56
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I2887249af44ccfdae1592dd9120d3366fa059876,openstack/tripleo-heat-templates,stable/wallaby,I2887249af44ccfdae1592dd9120d3366fa059876,Add support for keystone_authtoken/memcache_use_advanced_pool,MERGED,2021-06-14 09:33:54.000000000,2021-06-24 12:42:40.000000000,2021-06-24 12:39:54.000000000,"[{'_account_id': 9816}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-14 09:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6809879d18f684220b1a00eab057e9d982d4629a', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n'}, {'number': 2, 'created': '2021-06-14 10:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b9d989006a02a4ed7cc571b4390e707729fb965', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nConflicts:\n\tdeployment/glance/glance-api-container-puppet.yaml\n\tdeployment/heat/heat-base-puppet.yaml\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)\n'}, {'number': 3, 'created': '2021-06-16 15:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1944f22b98443b7643687cc1c9523349accb62e', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nConflicts:\n\tdeployment/glance/glance-api-container-puppet.yaml\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)\n'}, {'number': 4, 'created': '2021-06-18 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a89b9add62d1d6251285a091e96e98f8157d1bd', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)\n'}, {'number': 5, 'created': '2021-06-22 06:42:48.000000000', 'files': ['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/memcache_use_advanced_pool-41ca18221e60c05a.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef18f2515852b17064d8fdd4d9ad65fc42492135', 'message': 'Add support for keystone_authtoken/memcache_use_advanced_pool\n\nThis change introduces a single parameter, MemcacheUseAdvancedPool,\nto enable usage of advanced connection pool in keystone middleware.\nThis is useful to avoid bursting connection to memcached.\n\nNote that the default value of memcached_use_advanced_pool was changed\nfrom false to true during Xena cycle[1], so this parameter is no longer\nrequired in master. However the change in keystonemiddleware will\nnever be backported. This change is created so that we can switch to\nadvanced pool even in older releases.\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nCloses-Bug: #1931047\nChange-Id: I2887249af44ccfdae1592dd9120d3366fa059876\n(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)\n'}]",2,796248,ef18f2515852b17064d8fdd4d9ad65fc42492135,35,5,5,20778,,,0,"Add support for keystone_authtoken/memcache_use_advanced_pool

This change introduces a single parameter, MemcacheUseAdvancedPool,
to enable usage of advanced connection pool in keystone middleware.
This is useful to avoid bursting connection to memcached.

Note that the default value of memcached_use_advanced_pool was changed
from false to true during Xena cycle[1], so this parameter is no longer
required in master. However the change in keystonemiddleware will
never be backported. This change is created so that we can switch to
advanced pool even in older releases.

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

Closes-Bug: #1931047
Change-Id: I2887249af44ccfdae1592dd9120d3366fa059876
(cherry picked from commit 09bcacd25a7217ce66eec10ccfda4847e6d3d87a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/796248/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/memcache_use_advanced_pool-41ca18221e60c05a.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/deprecated/zaqar/zaqar-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml']",18,6809879d18f684220b1a00eab057e9d982d4629a,bug/1931047-wallaby, MemcacheUseAdvancedPool: type: boolean description: | Use the advanced (eventlet safe) memcached client pool. default: true aodh::keystone::authtoken::memcache_use_advanced_pool: {get_param: MemcacheUseAdvancedPool},,109,0
openstack%2Ftripleo-validations~stable%2Fvictoria~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/victoria,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-10 14:22:33.000000000,2021-06-24 12:42:37.000000000,2021-06-24 12:40:25.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 14:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c6e1677542a5b1134a8889aa8e8ff45f2e82242b', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n'}, {'number': 2, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3d68f6a644d7020a550476e764ddbc77f996062c', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n'}, {'number': 3, 'created': '2021-06-23 17:50:14.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1c0b5dbbe03778f0e147b36708ce8d1c31c80318', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n'}]",0,795797,1c0b5dbbe03778f0e147b36708ce8d1c31c80318,17,8,3,27419,,,0,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/795797/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/readme.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst']",10,c6e1677542a5b1134a8889aa8e8ff45f2e82242b,tsx_flag_compute,"Developer's Guide ================= And a new entry in the sphinx documentation index:: $ [vim|emacs] doc/source/index.rst ... Existing validations: .. toctree:: :maxdepth: 2 validations-no-op-details validations-prep-details validations-pre-introspection-details validations-pre-deployment-details validations-post-deployment-details ... Writing Validations ------------------- All validations are written in standard Ansible with a couple of extra meta-data to provide information to the validation framework. For people not familiar with Ansible, get started with their `excellent documentation <https://docs.ansible.com/ansible/>`_. After the generic explanation on writing validations is a couple of concrete examples. Directory Structure ~~~~~~~~~~~~~~~~~~~ All validations consist of an Ansible role located in the ``roles`` directory and a playbook located in the ``playbooks`` directory. - the ``playbooks`` one contains all the validations playbooks you can run; - the ``lookup_plugins`` one is for custom Ansible look up plugins available to the validations; - the ``library`` one is for custom Ansible modules available to the validations; - the ``roles`` one contains all the necessary Ansible roles to validate your TripleO deployment; Here is what the tree looks like:: playbooks/ ├── first_validation.yaml ├── second_validation.yaml ├── third_validation.yaml └── etc... library/ ├── another_module.py ├── some_module.py └── etc... lookup_plugins/ ├── one_lookup_plugin.py ├── another_lookup_plugin.py └── etc... roles ├── first_role ├── second_role └── etc... Sample Validation ~~~~~~~~~~~~~~~~~ Each validation is an Ansible playbook located in the ``playbooks`` directory calling his own Ansible role located in the ``roles`` directory. Each playbook have some metadata. Here is what a minimal validation would look like:: --- - hosts: undercloud vars: metadata: name: Hello World description: This validation prints Hello World! roles: - hello-world It should be saved as ``playbooks/hello_world.yaml``. As shown here, the validation playbook requires three top-level directives: ``hosts``, ``vars -> metadata`` and ``roles``. ``hosts`` specify which nodes to run the validation on. Based on the ``hosts.sample`` structure, the options can be ``all`` (run on all nodes), ``undercloud``, ``allovercloud`` (all overcloud nodes), ``controller`` and ``compute``. The ``vars`` section serves for storing variables that are going to be available to the Ansible playbook. The validations API uses the ``metadata`` section to read each validation's name and description. These values are then reported by the API. The validations can be grouped together by specifying a ``groups`` metadata. Groups function similar to tags and a validation can thus be part of many groups. Here is, for example, how to have a validation be part of the `pre-deployment` and `hardware` groups:: metadata: groups: - pre-deployment - hardware ``roles`` include the Ansible role, which contains all the tasks to run, associated to this validation. Each task is a YAML dictionary that must at minimum contain a name and a module to use. Module can be any module that ships with Ansible or any of the custom ones in the ``library`` directory. The `Ansible documentation on playbooks <https://docs.ansible.com/ansible/playbooks.html>`__ provides more detailed information. Ansible Inventory ~~~~~~~~~~~~~~~~~ Dynamic inventory +++++++++++++++++ Tripleo-validations ships with a `dynamic inventory <https://docs.ansible.com/ansible/intro_dynamic_inventory.html>`__, which contacts the various OpenStack services to provide the addresses of the deployed nodes as well as the undercloud. Just pass ``-i /usr/bin/tripleo-ansible-inventory`` to ``ansible-playbook`` command. As the playbooks are located in their own directory and not at the same level as the ``roles``, ``callback_plugins``, ``library`` and ``lookup_plugins`` directories, you will have to export some Ansible variables first:: $ cd tripleo-validations/ $ export ANSIBLE_CALLBACK_PLUGINS=""${PWD}/callback_plugins"" $ export ANSIBLE_ROLES_PATH=""${PWD}/roles"" $ export ANSIBLE_LOOKUP_PLUGINS=""${PWD}/lookup_plugins"" $ export ANSIBLE_LIBRARY=""${PWD}/library"" $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/hello_world.yaml Hosts file ++++++++++ When more flexibility than what the current dynamic inventory provides is needed or when running validations against a host that hasn't been deployed via heat (such as the ``prep`` validations), it is possible to write a custom hosts inventory file. It should look something like this:: [undercloud] undercloud.example.com [allovercloud:children] controller compute [controller] controller.example.com [compute] compute-1.example.com compute-2.example.com [all:vars] ansible_ssh_user=stack ansible_sudo=true It will have a ``[group]`` section for each role (``undercloud``, ``controller``, ``compute``) listing all the nodes belonging to that group. It is also possible to create a group from other groups as done with ``[allovercloud:children]`` in the above example. If a validation specifies ``hosts: overcloud``, it will be run on any node that belongs to the ``compute`` or ``controller`` groups. If a node happens to belong to both, the validation will only be run once. Lastly, there is an ``[all:vars]`` section where to configure certain Ansible-specific options. ``ansible_ssh_user`` will specify the user Ansible should SSH as. If that user does not have root privileges, it is possible to instruct it to use ``sudo`` by setting ``ansible_sudo`` to ``true``. Learn more at the `Ansible documentation page for the Inventory <https://docs.ansible.com/ansible/intro_inventory.html>`__ Custom Modules ~~~~~~~~~~~~~~ In case the `available Ansible modules <https://docs.ansible.com/ansible/modules_by_category.html>`__ don't cover your needs, it is possible to write your own. Modules belong to the ``library`` directory. Here is a sample module that will always fail:: #!/usr/bin/env python from ansible.module_utils.basic import AnsibleModule if __name__ == '__main__': module = AnsibleModule(argument_spec={}) module.fail_json(msg=""This module always fails."") Save it as ``library/my_module.py`` and use it in a validation like so:: tasks: ... # some tasks - name: Running my custom module my_module: ... # some other tasks The name of the module in the validation ``my_module`` must match the file name (without extension): ``my_module.py``. The custom modules can accept parameters and do more complex reporting. Please refer to the guide on writing modules in the Ansible documentation. Learn more at the `Ansible documentation page about writing custom modules <https://docs.ansible.com/ansible/developing_modules.html>`__. Running a validation -------------------- Running the validations require ansible and a set of nodes to run them against. These nodes need to be reachable from the operator's machine and need to have an account it can ssh to and perform passwordless sudo. The nodes need to be present in the static inventory file or available from the dynamic inventory script depending on which one the operator chooses to use. Check which nodes are available with:: $ source stackrc $ tripleo-ansible-inventory --list In general, Ansible and the validations will be located on the *undercloud*, because it should have connectivity to all the *overcloud* nodes is already set up to SSH to them. :: $ source ~/stackrc $ /bin/run-validations.sh --help Usage: run-validations.sh [--help] [--debug] [--ansible-default-callback] [--plan <overcloud>] --validation-name <validation_name> --debug: Enable ansible verbose mode (-vvvv connection debugging) --ansible-default-callback: Use the 'default' Ansible callback plugin instead of the tripleo-validations custom callback 'validation_output' --plan: Stack name to use for generating the inventory data --validation-name: The name of the validation $ /bin/run-validations.sh --validation-name validation Example: Verify Undercloud RAM requirements ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Undercloud has a requirement of 16GB RAM. Let's write a validation that verifies this is indeed the case before deploying anything. Let's create ``playbooks/undercloud-ram.yaml`` and put some metadata in there:: --- - hosts: undercloud vars: metadata: name: Minimum RAM required on the undercloud description: > Make sure the undercloud has enough RAM. groups: - prep - pre-introspection The ``hosts`` key will tell which server should the validation run on. The common values are ``undercloud``, ``overcloud`` (i.e. all overcloud nodes), ``controller`` and ``compute`` (i.e. just the controller or the compute nodes). The ``name`` and ``description`` metadata will show up in the API and the TripleO UI so make sure to put something meaningful there. The ``groups`` metadata applies a tag to the validation and allows to group them together in order to perform group operations, such are running them all in one call. Now let's include the Ansible role associated to this validation. Add this under the same indentation as ``hosts`` and ``vars``:: roles: - undercloud-ram Now let's create the ``undercloud-ram`` Ansible role which will contain the necessary task(s) for checking if the Undercloud has the mininum amount of RAM required.:: $ cd tripleo-validations $ ansible-galaxy init --init-path=roles/ undercloud-ram - undercloud-ram was created successfully The tree of the new created role should look like:: undercloud-ram/ ├── defaults │ └── main.yml ├── meta │ └── main.yml ├── tasks │ └── main.yml └── vars └── main.yml Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.yml - name: Test Output debug: msg: ""Hello World!"" EOF When running it, it should output something like this:: $ /bin/run-validations.sh --validation-name undercloud-ram.yaml --ansible-default-callback PLAY [undercloud] ********************************************************* TASK [Gathering Facts] **************************************************** ok: [undercloud] TASK [undercloud-ram : Test Output] *************************************** ok: [undercloud] => { ""msg"": ""Hello World!"" } PLAY RECAP **************************************************************** undercloud : ok=2 changed=0 unreachable=0 failed=0 If you run into an issue where the validation isn't found, it may be because the run-validations.sh script is searching for it in the path where the packaging installs validations. For development, export an environment variable named VALIDATIONS_BASEDIR with the value of base path of your git repo.:: cd /path/to/git/repo export VALIDATIONS_BASEDIR=$(pwd) Writing the full validation code is quite easy in this case because Ansible has done all the hard work for us already. We can use the ``ansible_memtotal_mb`` fact to get the amount of RAM (in megabytes) the tested server currently has. For other useful values, run ``ansible -i /usr/bin/tripleo-ansible-inventory undercloud -m setup``. So, let's replace the hello world task with a real one:: tasks: - name: Verify the RAM requirements fail: msg=""The RAM on the undercloud node is {{ ansible_memtotal_mb }} MB, the minimal recommended value is 16 GB."" failed_when: ""({{ ansible_memtotal_mb }}) < 16000"" Running this, we see:: TASK: [Verify the RAM requirements] ******************************************* failed: [localhost] => {""failed"": true, ""failed_when_result"": true} msg: The RAM on the undercloud node is 8778 MB, the minimal recommended value is 16 GB. Because our Undercloud node really does not have enough RAM. Your mileage may vary. Either way, the validation works and reports the lack of RAM properly! ``failed_when`` is the real hero here: it evaluates an Ansible expression (e.g. does the node have more than 16 GB of RAM) and fails when it's evaluated as true. The ``fail`` line right above it lets us print a custom error in case of a failure. If the task succeeds (because we do have enough RAM), nothing will be printed out. Now, we're almost done, but there are a few things we can do to make this nicer on everybody. First, let's hoist the minimum RAM requirement into a variable. That way we'll have one place where to change it if we need to and we'll be able to test the validation better as well! So, let's call the variable ``minimum_ram_gb`` and set it to ``16``. Do this in the ``vars`` section:: vars: metadata: name: ... description: ... groups: ... minimum_ram_gb: 16 Make sure it's on the same indentation level as ``metadata``. Then, update ``failed_when`` like this:: failed_when: ""({{ ansible_memtotal_mb }}) < {{ minimum_ram_gb|int * 1024 }}"" And ``fail`` like so:: fail: msg=""The RAM on the undercloud node is {{ ansible_memtotal_mb }} MB, the minimal recommended value is {{ minimum_ram_gb|int * 1024 }} MB."" And re-run it again to be sure it's still working. One benefit of using a variable instead of a hardcoded value is that we can now change the value without editing the yaml file! Let's do that to test both success and failure cases. This should succeed but saying the RAM requirement is 1 GB:: ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/undercloud-ram.yaml -e minimum_ram_gb=1 And this should fail by requiring much more RAM than is necessary:: ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/undercloud-ram.yaml -e minimum_ram_gb=128 (the actual values may be different in your configuration -- just make sure one is low enough and the other too high) And that's it! The validation is now finished and you can start using it in earnest. Create a new role with automation --------------------------------- The role addition process is also automated using ansible. If ansible is available on the development workstation change directory to the root of the `tripleo-validations` repository and run the the following command which will perform the basic tasks noted above. .. code-block:: console $ cd tripleo-validations/ $ ansible-playbook -i localhost, role-addition.yml -e role_name=${NEWROLENAME} When the role is ready for CI, add a **job** entry into the `zuul.d/molecule.yaml`. .. code-block:: yaml - job: files: - ^roles/${NEWROLENAME}/.* name: tripleo-validations-centos-8-molecule-${NEWROLENAME} parent: tripleo-validations-centos-8-base vars: tripleo_validations_role_name: ${NEWROLENAME} Make sure to add the **job** name into the check and gate section at the top of the `molecule.yaml` file. .. code-block:: yaml - project: check: jobs: - tripleo-validations-centos-8-molecule-${NEWROLENAME} gate: jobs: - tripleo-validations-centos-8-molecule-${NEWROLENAME} Finally add a role documentation file at `doc/source/roles/role-${NEWROLENAME}.rst`. This file will need to contain a title, a literal include of the defaults yaml and a literal include of the molecule playbook, or playbooks, used to test the role, which is noted as an ""example"" playbook. Local testing of new roles -------------------------- Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine. This script will setup the local work environment to execute tests mimicking what Zuul does. .. warning:: This script makes the assumption the executing user has the ability to escalate privileges and will modify the local system. To use this script execute the following command. .. code-block:: console $ ./scripts/run-local-test ${NEWROLENAME} When using the `run-local-test` script, the TRIPLEO_JOB_ANSIBLE_ARGS environment variable can be used to pass arbitrary Ansible arguments. For example, the following shows how to use `--skip-tags` when testing a role with tags. .. code-block:: console $ export TRIPLEO_JOB_ANSIBLE_ARGS=""--skip-tags tag_one,tag_two"" $ ./scripts/run-local-test ${ROLENAME} Role based testing with molecule can be executed directly from within the role directory. .. note:: All tests require Podman for container based testing. If Podman is not available on the local workstation it will need to be installed prior to executing most molecule based tests. .. note:: The script `bindep-install`, in the **scripts** path, is available and will install all system dependencies. .. note:: Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. Before running basic molecule tests, it is recommended to install all of the python dependencies in a virtual environment. .. code-block:: console $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate Now, it is important to install validations-common and tripleo-ansible as dependencies. .. code-block:: console $ cd tripleo-validations/ $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done To run a basic molecule test, simply source the `ansible-test-env.rc` file from the project root, and then execute the following commands. .. code-block:: console (test-python) $ cd roles/${NEWROLENAME}/ (test-python) $ molecule test --all If a role has more than one scenario, a specific scenario can be specified on the command line. Running specific scenarios will help provide developer feedback faster. To pass-in a scenario use the `--scenario-name` flag with the name of the desired scenario. .. code-block:: console (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/ (test-python) $ molecule test --scenario-name ${EXTRA_SCENARIO_NAME} When debugging molecule tests its sometimes useful to use the `--debug` flag. This flag will provide extra verbose output about test being executed and running the environment. .. code-block:: console (test-python) $ molecule --debug test ",,724,40
openstack%2Ftripleo-validations~stable%2Fvictoria~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/victoria,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 12:40:34.000000000,2021-06-24 12:40:34.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fc7ab69ef0f9b69611d08d78244440d7145ff96c', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n'}, {'number': 2, 'created': '2021-06-11 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0ba526e7899bc22237f5b574211befaac363f8a7', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n'}, {'number': 3, 'created': '2021-06-23 17:50:14.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/379c42717a2dec669a6f4cba7ea1195b6133f4ac', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n'}]",1,795945,379c42717a2dec669a6f4cba7ea1195b6133f4ac,18,6,3,11491,,,0,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/45/795945/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml']",21,fc7ab69ef0f9b69611d08d78244440d7145ff96c,tsx_flag_compute,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Verify hosts: all gather_facts: false vars: new_role_path: ""/tmp/roles/tripleo_skeleton_test"" new_zmol_path: ""/tmp/zuul.d/molecule.yaml"" new_play_path: ""/tmp/playbooks/tripleo-skeleton-test.yaml"" new_role_doc: ""/tmp/doc/source/roles/role-tripleo_skeleton_test.rst"" tasks: - name: Check new role directory is present stat: path: ""{{ new_role_path }}"" register: roles_name_dir - assert: that: - roles_name_dir.stat.exists - roles_name_dir.stat.isdir fail_msg: | {{ new_role_path }} role directory doesn't exist. success_msg: | {{ new_role_path }} role directory does exist. - name: Read zuul molecule file slurp: src: ""{{ new_zmol_path }}"" register: molecule_yaml - name: Print returned information debug: msg: ""{{ molecule_yaml['content'] | b64decode }}"" - name: Check zuul molecule file content (gate/check definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*- tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*name: tripleo-validations-molecule-tripleo_undercloud_conf' line: ' - tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_def failed_when: (zuul_def is changed) or (zuul_def is failed) - name: Check zuul molecule file content (job definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*name: tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*parent: tripleo-validations-centos-8-base$' line: ' name: tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_job_def failed_when: (zuul_job_def is changed) or (zuul_job_def is failed) - name: Check new validation playbook is present stat: path: ""{{ new_play_path }}"" register: play_name_path - assert: that: - play_name_path.stat.exists - play_name_path.stat.isreg fail_msg: | {{ new_play_path }} playbook doesn't exist. success_msg: | {{ new_play_path }} playbook directory does exist. - name: Read new playbook file slurp: src: ""{{ new_play_path }}"" register: playbook_yaml - name: Check playbook content for new role lineinfile: path: ""{{ new_play_path }}"" regexp: '.*- tripleo_skeleton: ' insertafter: '^.*roles:$' line: ' - tripleo_skeleton_test' state: present check_mode: true register: include_role failed_when: (include_role is changed) or (include_role is failed) - name: Print returned information debug: msg: ""{{ playbook_yaml['content'] | b64decode }}"" - name: Check new role doc is present stat: path: ""{{ new_role_doc }}"" register: role_doc_file - assert: that: - role_doc_file.stat.exists - role_doc_file.stat.isreg fail_msg: | {{ new_role_doc }} playbook doesn't exist. success_msg: | {{ new_role_doc }} playbook directory does exist. - name: Read new role documentation file slurp: src: ""{{ new_role_doc }}"" register: doc_file - name: Print returned information debug: msg: ""{{ doc_file['content'] | b64decode }}"" - name: Check role documentation content lineinfile: path: ""{{ new_role_doc }}"" regexp: '.*:role: ' insertafter: '^\.\. ansibleautoplugin::$' line: ' :role: /tmp/roles/tripleo_skeleton_test' state: present check_mode: true register: doc failed_when: (doc is changed) or (doc is failed) ",,644,170
openstack%2Ftripleo-validations~stable%2Fvictoria~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/victoria,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-10 14:21:53.000000000,2021-06-24 12:40:28.000000000,2021-06-24 12:40:28.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 14:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3e848c04b5fd4c276226d2e454d587c73b05b2f7', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n'}, {'number': 2, 'created': '2021-06-10 14:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc1c761c6751a74382a42b92238c41004695b262', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n'}, {'number': 3, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/12dd20e3b55e96d88468531f8752b9bcea21360b', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n'}, {'number': 4, 'created': '2021-06-23 17:50:14.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4496600249e2121147b0a1b156cb5077f6a3d362', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n'}]",0,795796,4496600249e2121147b0a1b156cb5077f6a3d362,17,9,4,27419,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/96/795796/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/frr_status/molecule/faulty/molecule.yml', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/frr_status/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",105,3e848c04b5fd4c276226d2e454d587c73b05b2f7,tsx_flag_compute,"<<<<<<< HEAD (7af435 Use validation_component for Standalone CI jobs)======= # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. >>>>>>> CHANGE (f3cba8 Remove workaround for tox-ansible and global molecule config)",,2383,2
openstack%2Ftripleo-heat-templates~master~I67698dafb3ade4239d8cee868c0333c5ec89472c,openstack/tripleo-heat-templates,master,I67698dafb3ade4239d8cee868c0333c5ec89472c,Explicit set qemu certificate group ownership,MERGED,2021-06-23 12:13:52.000000000,2021-06-24 12:40:00.000000000,2021-06-24 12:40:00.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-23 12:13:52.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c904c7555c28b2978e49655ef7dff40c97ea8fd9', 'message': 'Explicit set qemu certificate group ownership\n\nWhile the certificates get requested with the appropriate group\nroot:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen\nthat the group ownership is not correct on the target certificate\nfiles. Lets set explicit group ownership via the run_after\nscript.\n\nCloses-Bug: #1933330\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779\n\nChange-Id: I67698dafb3ade4239d8cee868c0333c5ec89472c\n'}]",0,797627,c904c7555c28b2978e49655ef7dff40c97ea8fd9,10,9,1,17216,,,0,"Explicit set qemu certificate group ownership

While the certificates get requested with the appropriate group
root:qemu [1] and copied to /etc/pki/qemu/ with -a it has seen
that the group ownership is not correct on the target certificate
files. Lets set explicit group ownership via the run_after
script.

Closes-Bug: #1933330

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/deployment/nova/nova-libvirt-container-puppet.yaml#L777-L779

Change-Id: I67698dafb3ade4239d8cee868c0333c5ec89472c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/797627/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-libvirt-container-puppet.yaml'],1,c904c7555c28b2978e49655ef7dff40c97ea8fd9,explicite_set_cert_grp, chgrp qemu /etc/pki/qemu/server-* chgrp qemu /etc/pki/qemu/client-*,,2,0
openstack%2Fcharm-mysql-router~master~I7311b11ced7698dc3f8a953bcaaa4ba0d179029c,openstack/charm-mysql-router,master,I7311b11ced7698dc3f8a953bcaaa4ba0d179029c,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:06.000000000,2021-06-24 12:31:45.000000000,2021-06-24 12:31:45.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/eaac467bd652e2520f957ba158162e329912684a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I7311b11ced7698dc3f8a953bcaaa4ba0d179029c\n'}, {'number': 2, 'created': '2021-06-15 12:07:09.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/19eb99b84ed279d8393fb5caaf651884b151d4b6', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I7311b11ced7698dc3f8a953bcaaa4ba0d179029c\n'}]",0,794520,19eb99b84ed279d8393fb5caaf651884b151d4b6,12,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I7311b11ced7698dc3f8a953bcaaa4ba0d179029c
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/20/794520/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,eaac467bd652e2520f957ba158162e329912684a,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-manila~master~I66ae659bc5a23a17cbf53d27e2310f762c4018bd,openstack/charm-manila,master,I66ae659bc5a23a17cbf53d27e2310f762c4018bd,Add impish to metadata.yaml,MERGED,2021-06-03 09:16:42.000000000,2021-06-24 12:24:18.000000000,2021-06-24 12:24:18.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:16:42.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/91e4dcfe4f72962c69f5a9c38d16e6c2988856d4', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I66ae659bc5a23a17cbf53d27e2310f762c4018bd\n'}]",0,794512,91e4dcfe4f72962c69f5a9c38d16e6c2988856d4,10,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I66ae659bc5a23a17cbf53d27e2310f762c4018bd
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/12/794512/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,91e4dcfe4f72962c69f5a9c38d16e6c2988856d4,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-neutron-api~master~I8baece928d4545c8849c9b69648cb154ad15f052,openstack/charm-neutron-api,master,I8baece928d4545c8849c9b69648cb154ad15f052,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:25.000000000,2021-06-24 12:20:43.000000000,2021-06-24 12:20:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d411c25ae801cd28fa839a05583fd0c812343cf0', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I8baece928d4545c8849c9b69648cb154ad15f052\n'}, {'number': 2, 'created': '2021-06-22 09:09:55.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/0d4c5e139a127c05e19f33f2a6c46a19014ae607', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I8baece928d4545c8849c9b69648cb154ad15f052\n'}]",0,794522,0d4c5e139a127c05e19f33f2a6c46a19014ae607,13,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I8baece928d4545c8849c9b69648cb154ad15f052
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/22/794522/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,d411c25ae801cd28fa839a05583fd0c812343cf0,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ironic-api~master~I1e55936ee53816450868ba83fd204d6d11445dbb,openstack/charm-ironic-api,master,I1e55936ee53816450868ba83fd204d6d11445dbb,Add impish to metadata.yaml,MERGED,2021-06-03 09:13:32.000000000,2021-06-24 12:19:47.000000000,2021-06-24 12:19:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:13:32.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/75d3de431a60e9a7adf856cbfbf677e15b3c751a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I1e55936ee53816450868ba83fd204d6d11445dbb\n'}]",0,794503,75d3de431a60e9a7adf856cbfbf677e15b3c751a,10,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I1e55936ee53816450868ba83fd204d6d11445dbb
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/03/794503/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,75d3de431a60e9a7adf856cbfbf677e15b3c751a,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-neutron-api-plugin-arista~master~I5ffbc097358814458f903157a05f7181cfbcb906,openstack/charm-neutron-api-plugin-arista,master,I5ffbc097358814458f903157a05f7181cfbcb906,Add impish to metadata.yaml,MERGED,2021-06-03 09:19:45.000000000,2021-06-24 12:19:07.000000000,2021-06-24 12:19:07.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:19:45.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/5c1724d802aec7967d3fe42d56cf880d80dbb531', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I5ffbc097358814458f903157a05f7181cfbcb906\n'}]",0,794523,5c1724d802aec7967d3fe42d56cf880d80dbb531,11,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I5ffbc097358814458f903157a05f7181cfbcb906
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/23/794523/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,5c1724d802aec7967d3fe42d56cf880d80dbb531,charm-metadata-impish,- impish,,1,1
openstack%2Fcharm-neutron-openvswitch~master~I3ad5f489b759de5d53be6ca234f52ffe41951488,openstack/charm-neutron-openvswitch,master,I3ad5f489b759de5d53be6ca234f52ffe41951488,Add impish to metadata.yaml,MERGED,2021-06-03 09:21:19.000000000,2021-06-24 12:18:01.000000000,2021-06-24 12:18:01.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d20945149986f7e22908c418a4e72981007bd72a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I3ad5f489b759de5d53be6ca234f52ffe41951488\n'}, {'number': 2, 'created': '2021-06-16 10:28:07.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7dd86369c2cdf61c21923c4033db0fa10286b5c2', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I3ad5f489b759de5d53be6ca234f52ffe41951488\n'}]",0,794528,7dd86369c2cdf61c21923c4033db0fa10286b5c2,11,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I3ad5f489b759de5d53be6ca234f52ffe41951488
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/28/794528/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,d20945149986f7e22908c418a4e72981007bd72a,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-manila-ganesha~master~I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39,openstack/charm-manila-ganesha,master,I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:19.000000000,2021-06-24 12:17:45.000000000,2021-06-24 12:17:45.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:17:19.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/77fef213bc1ff57badb0b8b9ae4bbea8c8352e4a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39\n'}]",0,794514,77fef213bc1ff57badb0b8b9ae4bbea8c8352e4a,10,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I461aefffadc7b8bdb7cc070732cbc12bd1dc2e39
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/14/794514/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,77fef213bc1ff57badb0b8b9ae4bbea8c8352e4a,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-manila-generic~master~I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29,openstack/charm-manila-generic,master,I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29,Add impish to metadata.yaml,MERGED,2021-06-03 09:17:36.000000000,2021-06-24 12:16:43.000000000,2021-06-24 12:16:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:17:36.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/9425d771ae77c54f93066f8ccd1be7de2c4532ce', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29\n'}]",0,794515,9425d771ae77c54f93066f8ccd1be7de2c4532ce,9,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I58f1f8e78f7c8bbbb976fdbd3f95968daa3d8f29
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/15/794515/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,9425d771ae77c54f93066f8ccd1be7de2c4532ce,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-hacluster~master~I101079745afa4ab5d8024d253652724b6ff064c0,openstack/charm-hacluster,master,I101079745afa4ab5d8024d253652724b6ff064c0,Add impish to metadata.yaml,MERGED,2021-06-03 09:12:54.000000000,2021-06-24 12:15:24.000000000,2021-06-24 12:15:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:12:54.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/688054baec7c46440405f19f227f90373eb0cda7', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I101079745afa4ab5d8024d253652724b6ff064c0\n'}]",0,794501,688054baec7c46440405f19f227f90373eb0cda7,8,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I101079745afa4ab5d8024d253652724b6ff064c0
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/01/794501/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,688054baec7c46440405f19f227f90373eb0cda7,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceph-radosgw~master~If0bc6f21f8139186f0d279a4a38d1522c295c127,openstack/charm-ceph-radosgw,master,If0bc6f21f8139186f0d279a4a38d1522c295c127,Add impish to metadata.yaml,MERGED,2021-06-03 09:09:11.000000000,2021-06-24 12:15:10.000000000,2021-06-24 12:15:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9aa6ecaabe457a83dd29a55a3d13d24da4bccab1', 'message': 'Add impish to metadata.yaml\n\nChange-Id: If0bc6f21f8139186f0d279a4a38d1522c295c127\n'}, {'number': 2, 'created': '2021-06-10 12:08:15.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/beed326fb01f1949467d2a1f4c271bf6a5120a06', 'message': 'Add impish to metadata.yaml\n\nChange-Id: If0bc6f21f8139186f0d279a4a38d1522c295c127\n'}]",0,794489,beed326fb01f1949467d2a1f4c271bf6a5120a06,11,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: If0bc6f21f8139186f0d279a4a38d1522c295c127
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/89/794489/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,9aa6ecaabe457a83dd29a55a3d13d24da4bccab1,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-openstack-dashboard~master~I30c395a244a812b2e78af63e5c0587097533d3a3,openstack/charm-openstack-dashboard,master,I30c395a244a812b2e78af63e5c0587097533d3a3,Add impish to metadata.yaml,MERGED,2021-06-03 09:23:35.000000000,2021-06-24 12:14:53.000000000,2021-06-24 12:14:53.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:23:35.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b8f3ad3519894168075dbcc90faec740e039ebfb', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I30c395a244a812b2e78af63e5c0587097533d3a3\n'}]",0,794535,b8f3ad3519894168075dbcc90faec740e039ebfb,9,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I30c395a244a812b2e78af63e5c0587097533d3a3
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/35/794535/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,b8f3ad3519894168075dbcc90faec740e039ebfb,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ib0494ac2cd02992c0d5b9d5a474f245906844fae,openstack/charm-neutron-api-plugin-ovn,master,Ib0494ac2cd02992c0d5b9d5a474f245906844fae,Add impish to metadata.yaml,MERGED,2021-06-03 09:20:20.000000000,2021-06-24 12:14:46.000000000,2021-06-24 12:14:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:20:20.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/e2794bb2b1bc164309e1bfc6f4f368af9673c76a', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ib0494ac2cd02992c0d5b9d5a474f245906844fae\n'}]",0,794525,e2794bb2b1bc164309e1bfc6f4f368af9673c76a,10,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ib0494ac2cd02992c0d5b9d5a474f245906844fae
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/25/794525/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,e2794bb2b1bc164309e1bfc6f4f368af9673c76a,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-cinder-backup-swift-proxy~master~I446562e3362f7d3f042c95455fc4e41a54802225,openstack/charm-cinder-backup-swift-proxy,master,I446562e3362f7d3f042c95455fc4e41a54802225,Add impish to metadata.yaml,MERGED,2021-06-03 09:10:23.000000000,2021-06-24 12:14:21.000000000,2021-06-24 12:14:21.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:10:23.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/2c601fd98b227ed3918f742d26d7984a9ef25bf9', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I446562e3362f7d3f042c95455fc4e41a54802225\n'}]",0,794493,2c601fd98b227ed3918f742d26d7984a9ef25bf9,10,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I446562e3362f7d3f042c95455fc4e41a54802225
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/93/794493/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,2c601fd98b227ed3918f742d26d7984a9ef25bf9,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-masakari-monitors~master~Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3,openstack/charm-masakari-monitors,master,Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3,Add impish to metadata.yaml,MERGED,2021-06-03 09:18:31.000000000,2021-06-24 12:13:53.000000000,2021-06-24 12:13:53.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:18:31.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/b0c17b127f0974c11cc0ed5ba68a845c814ee0bb', 'message': 'Add impish to metadata.yaml\n\nChange-Id: Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3\n'}]",0,794518,b0c17b127f0974c11cc0ed5ba68a845c814ee0bb,8,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: Ifd7109d7990d3b423dbdd521d235cc3e7fbb69c3
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/18/794518/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,b0c17b127f0974c11cc0ed5ba68a845c814ee0bb,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-ceph-fs~master~I6d93ffc924e760a497c5dc74b59a665f888412f0,openstack/charm-ceph-fs,master,I6d93ffc924e760a497c5dc74b59a665f888412f0,Add impish to metadata.yaml,MERGED,2021-06-03 09:06:42.000000000,2021-06-24 12:12:51.000000000,2021-06-24 12:12:51.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/22ac4b8fef0407982f199811d03a267d572a17a7', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I6d93ffc924e760a497c5dc74b59a665f888412f0\n'}, {'number': 2, 'created': '2021-06-22 09:16:21.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/4d343edc66e0d722ca42482c8adc7a58a64b483f', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I6d93ffc924e760a497c5dc74b59a665f888412f0\n'}]",0,794481,4d343edc66e0d722ca42482c8adc7a58a64b483f,13,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I6d93ffc924e760a497c5dc74b59a665f888412f0
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/81/794481/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,22ac4b8fef0407982f199811d03a267d572a17a7,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-magnum-dashboard~master~I3b476d426a57da4534e6bbafc366fc13272394ce,openstack/charm-magnum-dashboard,master,I3b476d426a57da4534e6bbafc366fc13272394ce,Add impish to metadata.yaml,MERGED,2021-06-03 09:16:23.000000000,2021-06-24 12:11:19.000000000,2021-06-24 12:11:19.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:16:23.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/6f2cb997863b771c0d48f3d4914188d7e39b756b', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I3b476d426a57da4534e6bbafc366fc13272394ce\n'}]",0,794511,6f2cb997863b771c0d48f3d4914188d7e39b756b,12,4,1,31289,,,0,"Add impish to metadata.yaml

Change-Id: I3b476d426a57da4534e6bbafc366fc13272394ce
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/11/794511/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,6f2cb997863b771c0d48f3d4914188d7e39b756b,charm-metadata-impish," This is the dashboard for the OpenStack COE service, Magnum.- impish"," This is the dashboard for the OpenStack COE service, Magnum.",2,1
openstack%2Fneutron~master~I482f648f2b8e85818741e0a779fd01a356e46afe,openstack/neutron,master,I482f648f2b8e85818741e0a779fd01a356e46afe,DNM: Check fullstack jobs,ABANDONED,2021-05-21 06:45:38.000000000,2021-06-24 12:11:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-21 06:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb953ea97434cf6ee6b87e7a5e5e176b0bccc08', 'message': 'DNM: Check fullstack jobs\n\nChange-Id: I482f648f2b8e85818741e0a779fd01a356e46afe\nRelated-Bug: #1928764\n'}, {'number': 2, 'created': '2021-05-21 11:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e815edf67e2d2641ec9cf3387779597730e17d3', 'message': 'DNM: Check fullstack jobs\n\nChange-Id: I482f648f2b8e85818741e0a779fd01a356e46afe\nRelated-Bug: #1928764\n'}, {'number': 3, 'created': '2021-05-21 11:16:17.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f067bf9325432783b8d965970084a690aedb8156', 'message': 'DNM: Check fullstack jobs\n\nChange-Id: I482f648f2b8e85818741e0a779fd01a356e46afe\nRelated-Bug: #1928764\n'}]",2,792505,f067bf9325432783b8d965970084a690aedb8156,30,1,3,8313,,,0,"DNM: Check fullstack jobs

Change-Id: I482f648f2b8e85818741e0a779fd01a356e46afe
Related-Bug: #1928764
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/792505/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,0bb953ea97434cf6ee6b87e7a5e5e176b0bccc08,bug/1928764, - neutron-fullstack-with-uwsgi_2 - neutron-fullstack-with-uwsgi_3 - neutron-fullstack-with-uwsgi_4 - neutron-fullstack-with-uwsgi_5 - neutron-fullstack-with-uwsgi_6 - neutron-fullstack-with-uwsgi_7 - neutron-fullstack-with-uwsgi_8 - neutron-fullstack-with-uwsgi_9 - neutron-fullstack-with-uwsgi_10 - neutron-fullstack-with-uwsgi_11 - neutron-fullstack-with-uwsgi_12 , - neutron-functional-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false - neutron-ovn-tempest-slow,56,21
openstack%2Fcharm-octavia~master~I48fc59344e7caf4cb2d5220f6d0298276a766519,openstack/charm-octavia,master,I48fc59344e7caf4cb2d5220f6d0298276a766519,Add impish to metadata.yaml,MERGED,2021-06-03 09:22:38.000000000,2021-06-24 12:10:13.000000000,2021-06-24 12:10:13.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/20fa9c9e4240672457d504381e2627f87daddae5', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I48fc59344e7caf4cb2d5220f6d0298276a766519\n'}, {'number': 2, 'created': '2021-06-22 09:09:13.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4cc576af79effdb877d0456c1d85fb2249d92367', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I48fc59344e7caf4cb2d5220f6d0298276a766519\n'}]",0,794532,4cc576af79effdb877d0456c1d85fb2249d92367,11,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I48fc59344e7caf4cb2d5220f6d0298276a766519
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/32/794532/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,20fa9c9e4240672457d504381e2627f87daddae5,charm-metadata-impish,- impish,,1,0
openstack%2Fcharm-swift-proxy~master~I8db38c02c33ae61c39f84d9a138450f402c8a8da,openstack/charm-swift-proxy,master,I8db38c02c33ae61c39f84d9a138450f402c8a8da,Add impish to metadata.yaml,MERGED,2021-06-03 09:25:48.000000000,2021-06-24 12:09:12.000000000,2021-06-24 12:09:12.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-03 09:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/40b3c3ca77688f94ab2025fd5b9734f319046d09', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I8db38c02c33ae61c39f84d9a138450f402c8a8da\n'}, {'number': 2, 'created': '2021-06-22 09:09:25.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a513ec881c823afbd7179bce9f4147303ada0241', 'message': 'Add impish to metadata.yaml\n\nChange-Id: I8db38c02c33ae61c39f84d9a138450f402c8a8da\n'}]",0,794542,a513ec881c823afbd7179bce9f4147303ada0241,11,4,2,31289,,,0,"Add impish to metadata.yaml

Change-Id: I8db38c02c33ae61c39f84d9a138450f402c8a8da
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/42/794542/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,40b3c3ca77688f94ab2025fd5b9734f319046d09,charm-metadata-impish,- impish,,1,0
openstack%2Fkayobe~master~I67f0e48ee03b150f6fe52b1a3e7e727b79207231,openstack/kayobe,master,I67f0e48ee03b150f6fe52b1a3e7e727b79207231,Prevent matching unrelated images,MERGED,2021-06-10 15:17:21.000000000,2021-06-24 11:24:43.000000000,2021-06-24 11:23:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-10 15:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/03badb61265999c59dc3c2f215424a1a93272e68', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes related regexes stricter to avoid unecessary builds.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n'}, {'number': 2, 'created': '2021-06-17 14:27:36.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n'}]",0,795831,f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5,18,3,2,15197,,,0,"Prevent matching unrelated images

Because regexes defined by Kayobe are not strict enough, Kolla can build
container images unrelated to the deployment. For example, the default
service configuration will build:

- centos-binary-barbican-keystone-listener (matches keystone)
- centos-binary-prometheus-memcached-exporter (matches memcached)

This commit makes regexes stricter to avoid unecessary builds. Note that
some images are still built unecessarily, such as nova-compute-ironic
when ironic is disabled or neutron-metadata-agent-ovn when ovn is
disabled.

Change-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/795831/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,03badb61265999c59dc3c2f215424a1a93272e68,image-regexes, - regex: ^keystone - regex: ^memcached - regex: ^prometheus, - regex: keystone - regex: memcached - regex: prometheus,3,3
openstack%2Fcloudkitty~master~I4896d4dfaf4836f21263a39c63cf949c6713bc2d,openstack/cloudkitty,master,I4896d4dfaf4836f21263a39c63cf949c6713bc2d,Fix code broken by SQLAlchemy 1.4,ABANDONED,2021-06-21 15:09:55.000000000,2021-06-24 11:11:35.000000000,,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 27339}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-06-21 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5a4eb75415f66888131c518c5a4d2bb941435600', 'message': 'Remove deprecated Code\n\nquery.with_lockmode has been deprecated, this patch updates\nthis with query.with_for_update()\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\n'}, {'number': 2, 'created': '2021-06-21 15:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/78c95e5d6611f978ccb7b67d65b71dfecf6d72f0', 'message': 'Remove deprecated sqlalchemy code\n\nquery.with_lockmode() has been deprecated, this patch updates it with\nquery.with_for_update().\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\n'}, {'number': 3, 'created': '2021-06-22 07:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6591b4f390b4b781b681d416aeac7919a51b5800', 'message': ""Fix code broken by SQLAlchemy 1.4\n\nThis change fixes issues triggered by the upgrade to SQLAlchemy 1.4.\n\nquery.with_lockmode() has been deprecated, this patch updates it with\nquery.with_for_update().\n\nThe get_mapping and get_threshold functions now raise the following\nexception when used with the 'invalid' parameter in unit tests:\nLookupError: 'invalid' is not among the defined enum values. Raise the\nexpected exception when this is detected.\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n""}, {'number': 4, 'created': '2021-06-22 08:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c1684ab883b2b34b623071a4ab936aa57f7c1ab9', 'message': ""Fix code broken by SQLAlchemy 1.4\n\nThis change fixes issues following the upgrade to SQLAlchemy 1.4.\n\nThe deprecated query.with_lockmode() function has been removed, this\npatch updates it with query.with_for_update().\n\nThe get_mapping and get_threshold functions now raise the following\nexception when used with the 'invalid' parameter in unit tests:\nLookupError: 'invalid' is not among the defined enum values. Raise the\nexpected exception when this is detected.\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n""}, {'number': 5, 'created': '2021-06-24 07:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a5c02585c05375f340c3f2cad914a618a111f9e1', 'message': 'Fix code broken by SQLAlchemy 1.4\n\nThis change fixes issues following the upgrade to SQLAlchemy 1.4.\n\nThe deprecated query.with_lockmode() function has been removed, this\npatch updates it with query.with_for_update().\n\nSQLalchemy 1.4.0 and upwards do not generate contraints\nfor Enums on SQLite databases by default, this patch adds\narg create_constraint=True for sqlalchemy.Enum which is\nalso backward compatible as SQLAlchemy <1.4.0 has\ncreate_constraint=True by default while >1.4.0 has\ncreate_constraint=False by default.\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n'}, {'number': 6, 'created': '2021-06-24 08:59:03.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/3dd7e13527f3_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4fa888fd7eda_added_threshold_support.py', 'cloudkitty/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2139528801880f17d598f862c42debc4251298d5', 'message': 'Fix code broken by SQLAlchemy 1.4\n\nThis change fixes issues following the upgrade to SQLAlchemy 1.4.\n\nThe deprecated query.with_lockmode() function has been removed, this\npatch updates it with query.with_for_update().\n\nSQLalchemy 1.4.0 and upwards do not generate contraints\nfor Enums on SQLite databases by default, this patch adds\narg create_constraint=True for sqlalchemy.Enum which is\nalso backward compatible as SQLAlchemy <1.4.0 has\ncreate_constraint=True by default while >1.4.0 has\ncreate_constraint=False by default.\n\nChange-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n'}]",4,797323,2139528801880f17d598f862c42debc4251298d5,29,11,6,27339,,,0,"Fix code broken by SQLAlchemy 1.4

This change fixes issues following the upgrade to SQLAlchemy 1.4.

The deprecated query.with_lockmode() function has been removed, this
patch updates it with query.with_for_update().

SQLalchemy 1.4.0 and upwards do not generate contraints
for Enums on SQLite databases by default, this patch adds
arg create_constraint=True for sqlalchemy.Enum which is
also backward compatible as SQLAlchemy <1.4.0 has
create_constraint=True by default while >1.4.0 has
create_constraint=False by default.

Change-Id: I4896d4dfaf4836f21263a39c63cf949c6713bc2d
Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/23/797323/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/db/sqlalchemy/api.py']",3,5a4eb75415f66888131c518c5a4d2bb941435600,change-797323-4, q = q.with_for_update() q = q.with_for_update() q = q.with_for_update() q = q.with_for_update() q = q.with_for_update(), q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update'),9,9
openstack%2Ftripleo-ci~master~I5d694c551a5aa5a34eda135520eb2e1bfebd73ed,openstack/tripleo-ci,master,I5d694c551a5aa5a34eda135520eb2e1bfebd73ed,Set T->U undercloud upgrade to non-voting,MERGED,2021-05-30 09:14:47.000000000,2021-06-24 11:03:06.000000000,2021-05-31 02:39:19.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-30 09:14:47.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3f9eb85616ac96d29135d930c380afd420527457', 'message': 'Set T->U undercloud upgrade to non-voting\n\ntripleo-ci-centos-8-undercloud-upgrade-ussuri is failing with issue\nas mentioned in Related-Bug.\n\nSetting this job to non-voting and removing from gate jobs to\nunblock check/gate.\n\nRelated-Bug: #1930151\nChange-Id: I5d694c551a5aa5a34eda135520eb2e1bfebd73ed\n'}]",1,793693,3f9eb85616ac96d29135d930c380afd420527457,10,3,1,29775,,,0,"Set T->U undercloud upgrade to non-voting

tripleo-ci-centos-8-undercloud-upgrade-ussuri is failing with issue
as mentioned in Related-Bug.

Setting this job to non-voting and removing from gate jobs to
unblock check/gate.

Related-Bug: #1930151
Change-Id: I5d694c551a5aa5a34eda135520eb2e1bfebd73ed
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/93/793693/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,3f9eb85616ac96d29135d930c380afd420527457,bug/1930151, voting: false, - tripleo-ci-centos-8-undercloud-upgrade-ussuri: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train voting: true,1,7
openstack%2Fcloudkitty~master~Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8,openstack/cloudkitty,master,Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8,SQLalchemy not creating constraint for Enum on version 1.4.0+,MERGED,2021-06-22 12:53:46.000000000,2021-06-24 10:52:22.000000000,2021-06-24 10:50:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-06-22 12:53:46.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/3dd7e13527f3_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4fa888fd7eda_added_threshold_support.py', 'cloudkitty/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/35ce237b763407e7844545d5e2531c6dc0f15998', 'message': 'SQLalchemy not creating constraint for Enum on version 1.4.0+\n\nSQLachemy was upgraded via the `requirements` projects commit\n(https://github.com/openstack/requirements/commit/dc86260b283dedc3076d7873f5f031f45e3e3671).\n\nThat upgrade broke some code. Therefore, this patch intends to fix\nthe code that was broken due to a method removal and also due to a\nchange in `create_constraint` for Enum types, which was defaulted\nto `False` in version 1.4.0\n\nChange-Id: Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8\n'}]",0,797443,35ce237b763407e7844545d5e2531c6dc0f15998,11,3,1,28356,,,0,"SQLalchemy not creating constraint for Enum on version 1.4.0+

SQLachemy was upgraded via the `requirements` projects commit
(https://github.com/openstack/requirements/commit/dc86260b283dedc3076d7873f5f031f45e3e3671).

That upgrade broke some code. Therefore, this patch intends to fix
the code that was broken due to a method removal and also due to a
change in `create_constraint` for Enum types, which was defaulted
to `False` in version 1.4.0

Change-Id: Ib36a7275ce8ff30aa19cbde521fd37f60bd00ff8
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/43/797443/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/models/f8c799db4aa0_fix_unnamed_constraints.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py', 'cloudkitty/rating/hash/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/models.py', 'cloudkitty/rating/pyscripts/db/sqlalchemy/api.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/3dd7e13527f3_initial_migration.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4fa888fd7eda_added_threshold_support.py', 'cloudkitty/db/sqlalchemy/api.py']",10,35ce237b763407e7844545d5e2531c6dc0f15998,fix_sqlalchemy_upgrade, q = q.with_for_update() q = q.with_for_update() q = q.with_for_update() q = q.with_for_update() q = q.with_for_update(), q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update') q = q.with_lockmode('update'),23,21
openstack%2Ftempest~master~I01e4ae2da4a01cdf85b8b1230949eb079cf22de9,openstack/tempest,master,I01e4ae2da4a01cdf85b8b1230949eb079cf22de9,DNM - dump console log after requesting volume detach,ABANDONED,2021-06-11 12:29:27.000000000,2021-06-24 10:19:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/745e0129bbbfac7e4d46ce5910c98cea84456875', 'message': 'DNM - dump console log after requesting volume detach\n\nRelated-Bug: #1931702\nChange-Id: I01e4ae2da4a01cdf85b8b1230949eb079cf22de9\n'}, {'number': 2, 'created': '2021-06-11 17:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b4b12fd9e3de388a19f9c2f3725227b2384dadf', 'message': 'DNM - dump console log after requesting volume detach\n\nRelated-Bug: #1931702\nChange-Id: I01e4ae2da4a01cdf85b8b1230949eb079cf22de9\n'}, {'number': 3, 'created': '2021-06-11 20:30:31.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e28ad2bc334be203c89ddbdf31edb29534ec49a', 'message': 'DNM - dump console log after requesting volume detach\n\nRelated-Bug: #1931702\nChange-Id: I01e4ae2da4a01cdf85b8b1230949eb079cf22de9\n'}]",3,795994,4e28ad2bc334be203c89ddbdf31edb29534ec49a,6,1,3,10135,,,0,"DNM - dump console log after requesting volume detach

Related-Bug: #1931702
Change-Id: I01e4ae2da4a01cdf85b8b1230949eb079cf22de9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/94/795994/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,745e0129bbbfac7e4d46ce5910c98cea84456875,," console_output = client.get_console_output(server_id)['output'] LOG.debug('Console output for %s\nbody=\n%s', server_id, console_output)",,3,0
openstack%2Fvalidations-common~master~I02d9de16ddead8f91fe60b8bbbee7ce3548e6386,openstack/validations-common,master,I02d9de16ddead8f91fe60b8bbbee7ce3548e6386,DNM Set verbose and debug mode to validation cli,ABANDONED,2021-06-22 17:54:08.000000000,2021-06-24 10:09:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 17:54:08.000000000', 'files': ['roles/validations/tasks/run.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/86d7388ea5d3c7afbf6670dcb471360c9c4d157b', 'message': 'DNM Set verbose and debug mode to validation cli\n\nChange-Id: I02d9de16ddead8f91fe60b8bbbee7ce3548e6386\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,797523,86d7388ea5d3c7afbf6670dcb471360c9c4d157b,3,1,1,11491,,,0,"DNM Set verbose and debug mode to validation cli

Change-Id: I02d9de16ddead8f91fe60b8bbbee7ce3548e6386
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/23/797523/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/tasks/run.yaml'],1,86d7388ea5d3c7afbf6670dcb471360c9c4d157b,, {{ validation_command }} -vvv --debug run --validation {{ name.key }}, {{ validation_command }} run --validation {{ name.key }},1,1
openstack%2Fcharm-masakari~master~I411dbafe007b5e32ca9eb991321ce23801db8f17,openstack/charm-masakari,master,I411dbafe007b5e32ca9eb991321ce23801db8f17,rebuild - restore c-h proxy env vars for add-apt-repository,ABANDONED,2021-05-13 13:10:43.000000000,2021-06-24 10:03:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:10:43.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/9e56c8d319f86af76c916c434b8c80e1b9e98d64', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I411dbafe007b5e32ca9eb991321ce23801db8f17\n'}]",0,791203,9e56c8d319f86af76c916c434b8c80e1b9e98d64,12,2,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I411dbafe007b5e32ca9eb991321ce23801db8f17
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/03/791203/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9e56c8d319f86af76c916c434b8c80e1b9e98d64,batch-update,fa195672-b3eb-11eb-898a-77b9c64419c8,bea6ca18-64d9-11eb-b219-331508415eb5,1,1
openstack%2Foctavia~master~I82d482bba3e4c40913583fb26f692824c56e6ac1,openstack/octavia,master,I82d482bba3e4c40913583fb26f692824c56e6ac1,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-01 08:35:08.000000000,2021-06-24 10:00:12.000000000,2021-06-24 09:58:17.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32231}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-01 08:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce3f513e5371a5e30429fa565659ec360657ad33', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I82d482bba3e4c40913583fb26f692824c56e6ac1\n'}, {'number': 2, 'created': '2021-04-23 20:42:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/56f5987867154ac698d69cc4496f124f599af90b', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n\nChange-Id: I82d482bba3e4c40913583fb26f692824c56e6ac1\n'}]",0,760711,56f5987867154ac698d69cc4496f124f599af90b,29,7,2,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/

Change-Id: I82d482bba3e4c40913583fb26f692824c56e6ac1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/760711/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce3f513e5371a5e30429fa565659ec360657ad33,tox_constraints_file,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fkuryr-kubernetes~master~I743e4ef717f5e06932da103c02ef6f07e48fb584,openstack/kuryr-kubernetes,master,I743e4ef717f5e06932da103c02ef6f07e48fb584,Update the Service Creation Process,MERGED,2021-06-08 15:21:46.000000000,2021-06-24 09:59:16.000000000,2021-06-24 09:57:15.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-08 15:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/935f338a65cfdca92d5ff2f91782f104df888945', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 2, 'created': '2021-06-09 05:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dff7e13d64ba18bf498704f69e711cfe0f6b4c57', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 3, 'created': '2021-06-09 12:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7094b09a9ad48cf02e6b7b46e3d37f6cbb92e0c4', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 4, 'created': '2021-06-15 06:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d429886b58ed08f25f28c4d37463e9ba2c5ed741', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 5, 'created': '2021-06-18 11:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1f225261d0ebdb21e3f1d980078276d357c5b7e5', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 6, 'created': '2021-06-21 09:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7dc6bf5a7fb40e09688b8e40acb5231b5ae73cfa', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 7, 'created': '2021-06-22 11:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7071dba4593c22d218fe7f43d5fa906fe17f241a', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 8, 'created': '2021-06-22 12:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ffd16ea751a462d0e5c15db9d58fa083d8117e21', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 9, 'created': '2021-06-23 06:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8fb8b238db6609a5b2fa61f41307ee17dd3e52a5', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 10, 'created': '2021-06-23 11:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/625df2f872cfab1092f094d1dbaa36cbbbd36e8e', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 11, 'created': '2021-06-23 11:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa594f2aa4398bcb7c07594418301e241efecdf8', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}, {'number': 12, 'created': '2021-06-23 22:30:32.000000000', 'files': ['doc/source/devref/service_support.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1b6eb50d83903971fe523852a790d45979d32b40', 'message': 'Update the Service Creation Process\n\nChange-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584\n'}]",57,795363,1b6eb50d83903971fe523852a790d45979d32b40,50,4,12,33240,,,0,"Update the Service Creation Process

Change-Id: I743e4ef717f5e06932da103c02ef6f07e48fb584
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/795363/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/service_support.rst'],1,935f338a65cfdca92d5ff2f91782f104df888945,udoc,"Service Creation Process ----------------- What happen when a service gets created by Kubernetes? When a service is created on Kubernetes, the lbaas.py handler is called. If the ServiceHandler on_present function is called first, then the handler creates the KuryrLoadbalancer CRD with empty status. With empty status field, the loadbalancer handler gets called but does nothing. But if the EndpointsHandler is called first, the on_present function creates the KuryrLoadbalancer CRD and also the endpoints subsets. Otherwise, it will update the existing CRD. The loadbalancer handler upon noticing the updates of the KuryrLoadbalancer CRD using the spec data on the status, begins to create the openstack resources such as Loadbalancer, LoadBalancerListener, LoadBalancerPool and LoadBalancerMembers. It uses the _sync_lbaas_members function to constantly check if Openstack Loadbalancers are in sync with the kubernetes counterparts. What happens if a member of the KuryKubernetes CRD is deleted? If say the status field is deleted on the KuryKubernetes CRD such as setting the status member to empty, the Loadbalancer detects this change and confirms that the Openstack resources is no longer in sync with the KuryrKubernetes CRD. It therefore, uses the Provisioned OpenStack resources to update the Kuryr- Loadbalancer CRD with the spec data.",,23,0
openstack%2Fcharm-masakari~master~Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,openstack/charm-masakari,master,Ib436e8916cb31fe049bc0a641fbd29fda2e0f260,Fix wrong series in hirsute test bundle,MERGED,2021-06-21 09:58:10.000000000,2021-06-24 09:53:15.000000000,2021-06-24 09:53:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-21 09:58:10.000000000', 'files': ['src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/737cea6409dbf9899e9ba985bbfa87232ddb3854', 'message': 'Fix wrong series in hirsute test bundle\n\nWithout this fix deployment fails with\nERROR cannot deploy bundle: cannot add unit for\napplication ""masakari"": acquiring machine to host\nunit ""masakari/0"": cannot assign unit ""masakari/0""\nto machine 12: series does not match\n\nChange-Id: Ib436e8916cb31fe049bc0a641fbd29fda2e0f260\n'}]",0,797249,737cea6409dbf9899e9ba985bbfa87232ddb3854,20,4,1,31289,,,0,"Fix wrong series in hirsute test bundle

Without this fix deployment fails with
ERROR cannot deploy bundle: cannot add unit for
application ""masakari"": acquiring machine to host
unit ""masakari/0"": cannot assign unit ""masakari/0""
to machine 12: series does not match

Change-Id: Ib436e8916cb31fe049bc0a641fbd29fda2e0f260
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/49/797249/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/hirsute-wallaby-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml']",2,737cea6409dbf9899e9ba985bbfa87232ddb3854,fix-wrong-series,, series: groovy,0,2
openstack%2Ftripleo-ci~master~I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d,openstack/tripleo-ci,master,I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d,Adds master upgrades/updates jobs to periodic,ABANDONED,2021-06-24 09:23:53.000000000,2021-06-24 09:45:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-24 09:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ce982a927f009b7b87fab1f534a60d077486baa', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d\n'}, {'number': 2, 'created': '2021-06-24 09:43:22.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f03b88f9a77c91c077846de3e835a3880be7b9d', 'message': 'Adds master upgrades/updates jobs to periodic\n\nThis patch adds master undercloud overcloud\nupgrades/updates jobs to periodic.\n\nChange-Id: I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d\n'}]",26,797858,8f03b88f9a77c91c077846de3e835a3880be7b9d,5,1,2,31075,,,0,"Adds master upgrades/updates jobs to periodic

This patch adds master undercloud overcloud
upgrades/updates jobs to periodic.

Change-Id: I195b63990cf2ac0c73ae5ea8ac837f36d8cf4b7d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/797858/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,9ce982a927f009b7b87fab1f534a60d077486baa,master-upgrades-jobs, name: tripleo-upgrades-master-pipeline - tripleo-ci-centos-8-content-provider-wallaby: - tripleo-ci-centos-8-standalone-upgrade-master: - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-undercloud-upgrade-master: - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-master: - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-master: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - project-template: name: tripleo-upgrades-wallaby-pipeline periodic: jobs: - tripleo-ci-centos-8-content-provider: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-victoria: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-wallaby: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-undercloud-upgrade-wallaby: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - project-template: name: tripleo-upgrades-victoria-pipeline periodic: jobs: - tripleo-ci-centos-8-content-provider: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-victoria: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-victoria: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-victoria: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider, name: tripleo-upgrades-victoria-pipeline - tripleo-ci-centos-8-content-provider-ussuri: - tripleo-ci-centos-8-standalone-upgrade-victoria: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-victoria: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-victoria: - project-template: name: tripleo-upgrades-wallaby-pipeline periodic: jobs: - tripleo-ci-centos-8-content-provider: vars: force_non_periodic: true - tripleo-ci-centos-8-content-provider-victoria: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-wallaby: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-undercloud-upgrade-wallaby: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,71,39
openstack%2Fcharm-nova-compute~master~I80c212a223637e2b76e421085fef1b466f548c30,openstack/charm-nova-compute,master,I80c212a223637e2b76e421085fef1b466f548c30,Update action definitions,MERGED,2021-05-13 18:29:11.000000000,2021-06-24 09:41:20.000000000,2021-06-24 09:41:20.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 18:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/368c0b459e63e81e5352fdb69057bffdf6b7f9a9', 'message': 'Update action definitions\n\nThis was initially for removing references to the README\nfor two actions. This is non-standard but, in particualr,\nthe referenced information will be moved to the CDG.\n\nDrive-by: Improve the remaining defintions.\n\nChange-Id: I80c212a223637e2b76e421085fef1b466f548c30\n'}, {'number': 2, 'created': '2021-05-13 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/07bdc197455595f707b945ecd5a5e8db85b68d5e', 'message': 'Update action definitions\n\nThis was initially for removing references to the README\nfor two actions. This is non-standard but, in particualr,\nthe referenced information will be moved to the CDG.\n\nDrive-by: Improve the remaining defintions.\n\nChange-Id: I80c212a223637e2b76e421085fef1b466f548c30\n'}, {'number': 3, 'created': '2021-05-18 18:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d9089627876f92e8683ddd0b69f100c59212913f', 'message': 'Update action definitions\n\nThis PR was initially for removing references to the README\nfor two actions. Not only is this non-standard but, in\nparticular, the referenced information will be moved to\nthe CDG\n\nDrive-by: Improve the remaining defintions\n\nChange-Id: I80c212a223637e2b76e421085fef1b466f548c30\n'}, {'number': 4, 'created': '2021-05-18 18:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c7f5e5c03d2b5536b2eae11b848c012825335653', 'message': ""Update action definitions\n\nRemove references to the charm's README for two\nactions:\n\n* register-to-cloud\n* remove-from-cloud\n\nNot only is this non-standard but, in particular, the\nreferenced information will be moved to the CDG\n\nDrive-by: Improve the remaining defintions\n\nDepends-On: I03493b30956eddcb77bd714360806aa53c126942\nChange-Id: I80c212a223637e2b76e421085fef1b466f548c30\n""}, {'number': 5, 'created': '2021-06-11 18:45:04.000000000', 'files': ['actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a435b03e33f6dba1adf92426bfc79c94f000b566', 'message': ""Update action definitions\n\nRemove references to the charm's README for two\nactions:\n\n* register-to-cloud\n* remove-from-cloud\n\nNot only is this non-standard but, in particular, the\nreferenced information will be moved to the CDG\n\nDrive-by: Improve the remaining defintions\n\nDepends-On: I03493b30956eddcb77bd714360806aa53c126942\nChange-Id: I80c212a223637e2b76e421085fef1b466f548c30\n""}]",0,791300,a435b03e33f6dba1adf92426bfc79c94f000b566,24,3,5,30561,,,0,"Update action definitions

Remove references to the charm's README for two
actions:

* register-to-cloud
* remove-from-cloud

Not only is this non-standard but, in particular, the
referenced information will be moved to the CDG

Drive-by: Improve the remaining defintions

Depends-On: I03493b30956eddcb77bd714360806aa53c126942
Change-Id: I80c212a223637e2b76e421085fef1b466f548c30
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/00/791300/1 && git format-patch -1 --stdout FETCH_HEAD,['actions.yaml'],1,368c0b459e63e81e5352fdb69057bffdf6b7f9a9,update-action-definitions, description: Disable the nova-compute unit. This prevents nova scheduler from running new VMs on this unit. enable: description: Enable the nova-compute unit. This allows nova scheduler to run new VMs on this unit. remove-from-cloud: description: Stop and unregister the compute service from nova-cloud-controller. register-to-cloud: description: Start and register the compute service with nova-cloud-controller. Reverts action remove-from-cloud. openstack-upgrade: description: Perform OpenStack upgrades. Config option action-managed-upgrade must be set to True. instance-count: description: Return the number of VMs running on this unit. list-compute-nodes: description: List all compute nodes registered with the cloud. node-name: description: Return the compute node name for this unit. pause: description: Pause the nova-compute unit. This stops the compute service. resume: description: Resume the nova-compute unit. This starts the compute service. hugepagereport: description: Report on hugepage configuration and usage. security-checklist: description: Validate the running configuration against OpenStack security guidelines.," description: Disable nova-compute unit, preventing nova scheduler to run new VMs on this unit. enable: description: Enable nova-compute-unit, allowing nova scheduler to run new VMs on this unit. remove-from-cloud: description: | Stop and unregister nova-compute from nova-cloud-controller. For more info see README.md, section 'Cloud downscaling'. register-to-cloud: description: | Start and register nova-compute service with nova-cloud-controller. For more info see README.md, section 'Cloud downscaling'. openstack-upgrade: description: Perform openstack upgrades. Config option action-managed-upgrade must be set to True. instance-count: description: Return number of VM instances running on this unit. list-compute-nodes: description: List all nova-compute nodes registered in the Openstack cloud. node-name: description: Return nova-compute node name. This can be used to identify this unit in the list of nova-compute services. pause: description: Pause the nova_compute unit. This action will stop nova_compute services. resume: description: Resume the nova_compute unit. This action will start nova_compute services. hugepagereport: description: Report on hugepage configuration and usage security-checklist: description: Validate the running configuration against the OpenStack security guides checklist",12,16
openstack%2Freleases~master~I96bd4e65fa2aaf6192f5b69440581751e722b205,openstack/releases,master,I96bd4e65fa2aaf6192f5b69440581751e722b205,DNM [force_tagging] PoC 2 - force won't be allowed,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-23 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/60dd16b994116ba2176c21d22de0be098588bf86', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}, {'number': 2, 'created': '2021-06-23 15:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c067419aa031d1d600a1f0aecb13fd85892b4984', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}, {'number': 3, 'created': '2021-06-23 16:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/da95407a12cd28950b8d17a3e816ff8e14701914', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}, {'number': 4, 'created': '2021-06-23 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e39707f0fd4d6cfe923b400efc79ae052b3474e7', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}, {'number': 5, 'created': '2021-06-23 16:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1c072af2f3ade1a367168fe61936bf31f5a6932b', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}, {'number': 6, 'created': '2021-06-24 06:25:53.000000000', 'files': ['deliverables/wallaby/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/19d44f0c602144aa22d4e173ab1a189f109ec1da', 'message': ""DNM [force_tagging] PoC 2 - force won't be allowed\n\nChange-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205\n""}]",1,797672,19d44f0c602144aa22d4e173ab1a189f109ec1da,15,1,6,28522,,,0,"DNM [force_tagging] PoC 2 - force won't be allowed

Change-Id: I96bd4e65fa2aaf6192f5b69440581751e722b205
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/797672/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/oslo.messaging.yaml'],1,60dd16b994116ba2176c21d22de0be098588bf86,force-tags, - version: 13.0.0 projects: - repo: openstack/oslo.messaging hash: a2c2ec2f9e7a0dcf50f75710601d08b4401b2ef5,,4,0
openstack%2Freleases~master~I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6,openstack/releases,master,I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6,DNM [force_tagging] PoC 1 - force will be allowed,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:28.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a5fd6d5844ba3c09875c4f2dad34e9f9324acc7b', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}, {'number': 2, 'created': '2021-06-23 15:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cbf7c3b2072dcefe53087ec3b7fe19e6e9927b7d', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}, {'number': 3, 'created': '2021-06-23 16:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b659a929b2ca4f3a52ad9cd178c3388a10e717dd', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}, {'number': 4, 'created': '2021-06-23 16:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9769cc246ec60f919e063695fad32c7e8a03f914', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}, {'number': 5, 'created': '2021-06-23 16:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/435cb9f6db28b504a7332eae1b2196ac941b7a1b', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}, {'number': 6, 'created': '2021-06-24 06:25:53.000000000', 'files': ['deliverables/wallaby/cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7a1357cf0af568983c176b2422c31c4d09fc2ba6', 'message': 'DNM [force_tagging] PoC 1 - force will be allowed\n\nChange-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6\n'}]",1,797671,7a1357cf0af568983c176b2422c31c4d09fc2ba6,19,3,6,28522,,,0,"DNM [force_tagging] PoC 1 - force will be allowed

Change-Id: I372ee36ca4a0e1dadd3e0dd1af32de434dfbf6b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/797671/6 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cinderlib.yaml'],1,a5fd6d5844ba3c09875c4f2dad34e9f9324acc7b,force-tags,releases: - version: 4.0.0 projects: - repo: openstack/cinderlib hash: 4f4c8c15f568de3dde3c8699ebf1640714b8e5ec,,5,0
openstack%2Freleases~master~I6b5179c15c961f968670529c0a41038bcbeb40c8,openstack/releases,master,I6b5179c15c961f968670529c0a41038bcbeb40c8,Allow us to disable our validation,ABANDONED,2021-06-23 15:05:44.000000000,2021-06-24 09:40:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-23 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/873f5b30d3c0de84467e7d4c075f21679743312b', 'message': 'Allow us to disable our validation\n\nOnly the release team PTL is allowed to disable the validation.\n\nThis is related to our previous discussion with the ironic team [1] and\nrelated to the need of the non regular tags.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05\n\nChange-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8\n'}, {'number': 2, 'created': '2021-06-23 15:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/30d4667ac278980a60f417642905340b3d019539', 'message': 'Allow us to disable our validation\n\nOnly the release team PTL is allowed to disable the validation.\n\nThis is related to our previous discussion with the ironic team [1] and\nrelated to the need of the non regular tags.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05\n\nChange-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8\n'}, {'number': 3, 'created': '2021-06-23 16:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2f1bd5508b188865b121b14ee6f60f33a310d731', 'message': 'Allow us to disable our validation\n\nOnly the release team PTL is allowed to disable the validation.\n\nThis is related to our previous discussion with the ironic team [1] and\nrelated to the need of the non regular tags.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05\n\nChange-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8\n'}, {'number': 4, 'created': '2021-06-23 16:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ae6553fa2b47f6cc8d968603d846a716bcef2d27', 'message': 'Allow us to disable our validation\n\nOnly the release team PTL is allowed to disable the validation.\n\nThis is related to our previous discussion with the ironic team [1] and\nrelated to the need of the non regular tags.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05\n\nChange-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8\n'}, {'number': 5, 'created': '2021-06-24 06:25:53.000000000', 'files': ['doc/source/reference/reviewer_guide.rst', 'openstack_releases/cmds/validate.py', 'openstack_releases/gitutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/bfb41a9bf15ec76c9ac7783842b91fe21281465e', 'message': 'Allow us to disable our validation\n\nOnly the release team PTL is allowed to disable the validation.\n\nThis is related to our previous discussion with the ironic team [1] and\nrelated to the need of the non regular tags.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05\n\nChange-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8\n'}]",5,797670,bfb41a9bf15ec76c9ac7783842b91fe21281465e,13,1,5,28522,,,0,"Allow us to disable our validation

Only the release team PTL is allowed to disable the validation.

This is related to our previous discussion with the ironic team [1] and
related to the need of the non regular tags.

[1] https://meetings.opendev.org/irclogs/%23openstack-release/%23openstack-release.2021-06-22.log.html#t2021-06-22T15:37:05

Change-Id: I6b5179c15c961f968670529c0a41038bcbeb40c8
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/797670/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/reviewer_guide.rst', 'openstack_releases/cmds/validate.py', 'openstack_releases/gitutils.py']",3,873f5b30d3c0de84467e7d4c075f21679743312b,force-tags,"def get_the_latest_commit_author_name(): name = processutils.check_output( ['git', 'log', '-1', '--pretty=format:%an'] ).decode('utf-8') return name def get_the_latest_commit_author_email(): email = processutils.check_output( ['git', 'log', '-1', '--pretty=format:%ae'] ).decode('utf-8') return email def get_the_commit_subject(): subject = processutils.check_output( ['git', 'log', '-1', '--oneline', '--pretty=format:""%s""'] ).decode('utf-8') return subject ",,101,0
openstack%2Frequirements~master~Ied35e05ab619c39e0b7c487911cf7c28692df3c2,openstack/requirements,master,Ied35e05ab619c39e0b7c487911cf7c28692df3c2,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:06:09.000000000,2021-06-24 09:36:35.000000000,2021-06-24 09:33:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 17:06:09.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8341527608c5d296bcbf0782139959c471b1435b', 'message': 'Deprecate OpenStack-Ansible nspawn repositories\n\nSince nspawn support has been removed with [1] we now\nstart repositories deprecation process.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569\n\nChange-Id: Ied35e05ab619c39e0b7c487911cf7c28692df3c2\n'}]",0,797719,8341527608c5d296bcbf0782139959c471b1435b,11,2,1,28619,,,0,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Change-Id: Ied35e05ab619c39e0b7c487911cf7c28692df3c2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/797719/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,8341527608c5d296bcbf0782139959c471b1435b,osa/deprecate_nspawn,,openstack/openstack-ansible-nspawn_container_create openstack/openstack-ansible-nspawn_hosts,0,2
openstack%2Fneutron~master~Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77,openstack/neutron,master,Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77,use payloads for PORT BEFORE_UPDATE events,MERGED,2021-06-11 08:40:12.000000000,2021-06-24 09:36:27.000000000,2021-06-24 09:33:31.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 08:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d93a5da06f75e1202545685e189b98eb1120e39c', 'message': 'use payloads for PORT BEFORE_UPDATE events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_UPDATE events\n\nChange-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77\n'}, {'number': 2, 'created': '2021-06-14 10:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/771956b2167d9aaa894257d7d80ed568e5daa372', 'message': 'use payloads for PORT BEFORE_UPDATE events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_UPDATE events\n\nChange-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77\n'}, {'number': 3, 'created': '2021-06-22 09:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/407a1dab14a5cd1cb11e5f6e00f721f23ba6d617', 'message': 'use payloads for PORT BEFORE_UPDATE events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_UPDATE events\n\nChange-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77\n'}, {'number': 4, 'created': '2021-06-23 08:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f27af61a07fb7504c7cf3b0cef84243fda00ba5f', 'message': 'use payloads for PORT BEFORE_UPDATE events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_UPDATE events\n\nChange-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77\n'}, {'number': 5, 'created': '2021-06-23 09:15:17.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/324a35a3d09194d94985cbcdc563861e45b6e821', 'message': 'use payloads for PORT BEFORE_UPDATE events\n\nThis patch switches the code over to the payload style of callbacks\nfor PORT BEFORE_UPDATE events\n\nChange-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77\n'}]",15,795964,324a35a3d09194d94985cbcdc563861e45b6e821,40,3,5,32667,,,0,"use payloads for PORT BEFORE_UPDATE events

This patch switches the code over to the payload style of callbacks
for PORT BEFORE_UPDATE events

Change-Id: Ie55a04deac6c2f54f7f5d475c350f0fbf7b1fe77
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/795964/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",5,d93a5da06f75e1202545685e189b98eb1120e39c,port_before_update," context = kwargs['context'] original_port = kwargs['original_port'] port = kwargs['port'] 'PORT', 'before_update', 'test_plugin', payload=events.DBEventPayload( context, states=(original_port, port))) context = kwargs['context'] original_port = kwargs['original_port'] port = kwargs['port'] 'PORT', 'before_update', 'test_plugin', payload=events.DBEventPayload( context, states=(original_port, port))) context = kwargs['context'] original_port = kwargs['original_port'] port = kwargs['port'] 'PORT', 'before_update', 'test_plugin', payload=events.DBEventPayload( context, states=(original_port, port))) context = kwargs['context'] original_port = kwargs['original_port'] port = kwargs['port'] 'PORT', 'before_update', 'test_plugin', payload=events.DBEventPayload( context, states=(original_port, port)))"," 'PORT', 'before_update', 'test_plugin', **kwargs) 'PORT', 'before_update', 'test_plugin', **kwargs) 'PORT', 'before_update', 'test_plugin', **kwargs) 'PORT', 'before_update', 'test_plugin', **kwargs)",69,45
openstack%2Fglance~master~I795c52f606f85955e39efc29b75f2941be1264b4,openstack/glance,master,I795c52f606f85955e39efc29b75f2941be1264b4,Update image.size after conversion,MERGED,2021-04-26 21:58:02.000000000,2021-06-24 09:36:22.000000000,2021-06-24 09:34:04.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 21:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/09a9036b471038544a2a2c442981a345f7eb5030', 'message': 'WIP: Update image.size after conversion\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 2, 'created': '2021-04-27 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b1a93602c067c97ca55520a8df98dda19aafcff1', 'message': 'WIP: Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 3, 'created': '2021-04-27 16:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7eea41b1e4bb59624428830ad26941e50e4b7827', 'message': 'WIP: Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 4, 'created': '2021-05-07 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e85c7af68d2fc84bb2e10fb6191dc83c6b62b9e3', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 5, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/da52c9cdb3d484747ace8b1b0d05ab9a43d7f4a1', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 6, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f187f6756e923fd122b2328aa8c476b52df15719', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 7, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2204b938009e27869892cba5aff76489a237feba', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 8, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7e4ee426afac78c45ac96ab155b54877fd2e1eb8', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 9, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6295050ce5c70df2173395ebda8d6344f3672e09', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 10, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cdcd7fbe776e63dcf74b189efff4744a657c6f02', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}, {'number': 11, 'created': '2021-06-21 15:46:41.000000000', 'files': ['glance/tests/unit/async_/flows/plugins/test_image_conversion.py', 'glance/async_/flows/plugins/image_conversion.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/154ef3fe94fb71712e9da12c8eb53b04c8b2efa4', 'message': 'Update image.size after conversion\n\nWhen we convert an image to a specified format during import, we\nupdate the disk_format to match. At that point, we also know the (new)\nimage.size, so we should set it.\n\nThis is somewhat related to setting image size on stage, in that once\nit is set we will validate that it does not change in later steps.\nSince this one comes between stage and the actual store upload, this\npatch makes conversion set it and confirms that the later steps are\nhappy with that. A later patch sets it during stage, confirming that\nwe can change it here during conversion when we are changing the\nactual image file itself.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: I795c52f606f85955e39efc29b75f2941be1264b4\n'}]",5,788091,154ef3fe94fb71712e9da12c8eb53b04c8b2efa4,40,3,11,4393,,,0,"Update image.size after conversion

When we convert an image to a specified format during import, we
update the disk_format to match. At that point, we also know the (new)
image.size, so we should set it.

This is somewhat related to setting image size on stage, in that once
it is set we will validate that it does not change in later steps.
Since this one comes between stage and the actual store upload, this
patch makes conversion set it and confirms that the later steps are
happy with that. A later patch sets it during stage, confirming that
we can change it here during conversion when we are changing the
actual image file itself.

Related to blueprint glance-unified-quotas

Change-Id: I795c52f606f85955e39efc29b75f2941be1264b4
",git fetch https://review.opendev.org/openstack/glance refs/changes/91/788091/7 && git format-patch -1 --stdout FETCH_HEAD,['glance/async_/flows/plugins/image_conversion.py'],1,09a9036b471038544a2a2c442981a345f7eb5030,bp/glance-unified-quotas," new_size = os.stat(dest_path).st_size action.set_image_attribute(size=new_size) LOG.info('Updated image %s size=%i disk_format=%s' % ( self.image_id, new_size, target_format))",,4,0
openstack%2Fkolla-ansible~master~Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca,openstack/kolla-ansible,master,Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca,Use Docker healthchecks for panko services,ABANDONED,2021-03-07 10:49:32.000000000,2021-06-24 09:33:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-07 10:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78dcb23ed2678f052011e209e472c62a97b61560', 'message': 'Use Docker healthchecks for panko services\n\nThis change enables the use of Docker healthchecks for panko services.\nImplements: blueprint container-health-check\n\nChange-Id: Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca\n'}, {'number': 2, 'created': '2021-03-08 15:08:37.000000000', 'files': ['ansible/roles/panko/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-panko-b0b5be7af3819d32.yaml', 'ansible/roles/panko/tasks/check-containers.yml', 'ansible/roles/panko/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f19b87fca9430b0c806d2ed6aebf144e1211cf65', 'message': 'Use Docker healthchecks for panko services\n\nThis change enables the use of Docker healthchecks for panko services.\nImplements: blueprint container-health-check\n\nChange-Id: Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca\n'}]",0,779096,f19b87fca9430b0c806d2ed6aebf144e1211cf65,12,2,2,31506,,,0,"Use Docker healthchecks for panko services

This change enables the use of Docker healthchecks for panko services.
Implements: blueprint container-health-check

Change-Id: Ieb6b6eab9b55c8b43c350dee935c3344c03d29ca
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/779096/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/panko/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-panko-b0b5be7af3819d32.yaml', 'ansible/roles/panko/tasks/check-containers.yml', 'ansible/roles/panko/handlers/main.yml']",4,78dcb23ed2678f052011e209e472c62a97b61560,container-health-check," healthcheck: ""{{ service.healthcheck | default(omit) }}""",,22,0
openstack%2Fneutron-tempest-plugin~master~Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77,openstack/neutron-tempest-plugin,master,Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77,Move back designate scenario job to the check queue,MERGED,2021-05-05 06:48:47.000000000,2021-06-24 09:29:47.000000000,2021-06-24 09:29:47.000000000,"[{'_account_id': 8313}, {'_account_id': 11628}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:48:47.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4a91784c02b7799241af2c01b9964442c65cf7af', 'message': 'Move back designate scenario job to the check queue\n\nDue to bug [1] designate integration job was moved to\nthe experimental queue some time ago but now as [1] is fixed,\nwe can make it again running in the check queue and make it voting.\n\n[1] https://launchpad.net/bugs/1891309\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789659\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789660\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789661\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789662\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789663\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789664\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/789665\n\nChange-Id: Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77\nRelated-Bug: #1891309\n'}]",0,789709,4a91784c02b7799241af2c01b9964442c65cf7af,9,4,1,11975,,,0,"Move back designate scenario job to the check queue

Due to bug [1] designate integration job was moved to
the experimental queue some time ago but now as [1] is fixed,
we can make it again running in the check queue and make it voting.

[1] https://launchpad.net/bugs/1891309

Depends-On: https://review.opendev.org/c/openstack/neutron/+/789659
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789660
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789661
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789662
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789663
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789664
Depends-On: https://review.opendev.org/c/openstack/neutron/+/789665

Change-Id: Id14a4d6f9e7c921e5e682e7b5b27bf628ff28a77
Related-Bug: #1891309
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/09/789709/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,4a91784c02b7799241af2c01b9964442c65cf7af,bug/1891309, - neutron-tempest-plugin-designate-scenario - neutron-tempest-plugin-designate-scenario-rocky - neutron-tempest-plugin-designate-scenario-stein - neutron-tempest-plugin-designate-scenario-train - neutron-tempest-plugin-designate-scenario-ussuri - neutron-tempest-plugin-designate-scenario-victoria - neutron-tempest-plugin-designate-scenario-wallaby, # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-rocky # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-stein # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-train # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-ussuri # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-victoria # TODO(slaweq): move it back to the check queue when bug # https://bugs.launchpad.net/neutron/+bug/1891309 # will be fixed - neutron-tempest-plugin-designate-scenario-wallaby,7,28
openstack%2Fcharm-neutron-openvswitch~master~I1e884eac26d51c825736f34bcbfdccc906944b8d,openstack/charm-neutron-openvswitch,master,I1e884eac26d51c825736f34bcbfdccc906944b8d,Set explicitly_egress_direct=True for ml2 ovs,MERGED,2021-06-11 10:34:24.000000000,2021-06-24 09:06:31.000000000,2021-06-24 09:06:31.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-11 10:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9a7b15df5a1a5fff7d1b35d302424aa64872ace9', 'message': 'Set explicitly_egress_direct=True for ml2 ovs\n\nThis fixes a regression introduced in 16.3.0 neutron\nrelease that causes non-offloaded ports to break on\nhypervisors that have offloaded enabled.\n\nChange-Id: I1e884eac26d51c825736f34bcbfdccc906944b8d\n'}, {'number': 2, 'created': '2021-06-11 10:35:19.000000000', 'files': ['templates/ussuri/openvswitch_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0f7d135507def07196aa98cc4cf9fd518641a369', 'message': 'Set explicitly_egress_direct=True for ml2 ovs\n\nThis fixes a regression introduced in 16.3.0 neutron\nrelease that causes non-offloaded ports to break on\nhypervisors that have offloaded enabled.\n\nCloses-Bug: #1931696\nChange-Id: I1e884eac26d51c825736f34bcbfdccc906944b8d\n'}]",0,795981,0f7d135507def07196aa98cc4cf9fd518641a369,18,4,2,6737,,,0,"Set explicitly_egress_direct=True for ml2 ovs

This fixes a regression introduced in 16.3.0 neutron
release that causes non-offloaded ports to break on
hypervisors that have offloaded enabled.

Closes-Bug: #1931696
Change-Id: I1e884eac26d51c825736f34bcbfdccc906944b8d
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/81/795981/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/openvswitch_agent.ini'],1,9a7b15df5a1a5fff7d1b35d302424aa64872ace9,bug/1931696,# queens ############################################################################### # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. # Config managed by neutron-openvswitch charm ############################################################################### [ovs] enable_tunneling = True local_ip = {{ local_ip }} bridge_mappings = {{ bridge_mappings }} {% if enable_dpdk -%} datapath_type = netdev vhostuser_socket_dir = /run/libvirt-vhost-user {% endif -%} of_inactivity_probe = {{ of_inactivity_probe }} [agent] tunnel_types = {{ overlay_network_type }} l2_population = {{ l2_population }} enable_distributed_routing = {{ distributed_routing }} prevent_arp_spoofing = {{ prevent_arp_spoofing }} {% if veth_mtu -%} veth_mtu = {{ veth_mtu }} {% endif -%} polling_interval = {{ polling_interval }} {% if extension_drivers -%} extensions = {{ extension_drivers }} {% endif -%} # See LP 1931696 explicitly_egress_direct = True [securitygroup] {% if neutron_security_groups and not enable_dpdk -%} enable_security_group = True firewall_driver = {{ firewall_driver }} {% else -%} enable_security_group = False {% endif -%} {% if enable_nsg_logging -%} [network_log] {% if nsg_log_rate_limit -%} rate_limit = {{ nsg_log_rate_limit }} {% endif -%} burst_limit = {{ nsg_log_burst_limit }} {% if nsg_log_output_base -%} local_output_log_base = {{ nsg_log_output_base }} {% endif -%} {% endif -%} ,,49,0
openstack%2Fproject-config~master~Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365,openstack/project-config,master,Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365,nodepool: pause centos-8-stream builds,MERGED,2021-06-24 06:32:43.000000000,2021-06-24 08:32:17.000000000,2021-06-24 07:22:32.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 06:32:43.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/813542fabd0f9563283833b9d455ea070b24b79c', 'message': ""nodepool: pause centos-8-stream builds\n\nA new release of rng-tools is causing the build to constantly time-out\n[1].  I'm not confident with the dib change until it's had more review\n[2], and it will take us some time to release or a fixed package to\ncome through anyway.  In the mean-time, pause the build.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588\n[2] https://review.opendev.org/c/openstack/diskimage-builder/+/797794\n\nChange-Id: Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365\n""}]",0,797806,813542fabd0f9563283833b9d455ea070b24b79c,7,2,1,7118,,,0,"nodepool: pause centos-8-stream builds

A new release of rng-tools is causing the build to constantly time-out
[1].  I'm not confident with the dib change until it's had more review
[2], and it will take us some time to release or a fixed package to
come through anyway.  In the mean-time, pause the build.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1975588
[2] https://review.opendev.org/c/openstack/diskimage-builder/+/797794

Change-Id: Ieabc9d9b51e0a908480dfb56cfc5baf0d0760365
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/797806/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,813542fabd0f9563283833b9d455ea070b24b79c,pause-failing-builds, pause: true, pause: false,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ifb3e51891de33e5d698571b898f7a471cfe89718,openstack/kolla-ansible,stable/victoria,Ifb3e51891de33e5d698571b898f7a471cfe89718,CI: Fix nfv job with kolla dependency,MERGED,2021-06-23 15:46:48.000000000,2021-06-24 08:25:59.000000000,2021-06-24 08:24:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 15:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/082bb0477402319e88134ca177f7c29f014dd54b', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)\n'}, {'number': 2, 'created': '2021-06-23 15:58:09.000000000', 'files': ['tests/setup_gate.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37017d1a0e8def4c94b85aef7047dff3d74ca2bd', 'message': 'CI: Fix nfv job with kolla dependency\n\nChange-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718\n(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)\n'}]",0,797698,37017d1a0e8def4c94b85aef7047dff3d74ca2bd,15,4,2,22629,,,0,"CI: Fix nfv job with kolla dependency

Change-Id: Ifb3e51891de33e5d698571b898f7a471cfe89718
(cherry picked from commit ec36eb016c88761eb9d4465247a8f7375e1470c7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/797698/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/setup_gate.sh', 'zuul.d/base.yaml']",2,082bb0477402319e88134ca177f7c29f014dd54b,centos8_stream_victoria, - ^ansible/roles/(aodh|barbican|heat|mistral|redis|tacker)/, - ^ansible/roles/(barbican|heat|mistral|redis|tacker)/,2,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3,openstack/kolla-ansible,stable/victoria,I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3,[CI] Fix the NFV scenario,MERGED,2021-06-23 15:57:43.000000000,2021-06-24 08:22:11.000000000,2021-06-24 08:20:52.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 15:57:43.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/567fb01a766a068e5dafcb67af4b686d0ed1a8fa', 'message': '[CI] Fix the NFV scenario\n\nIt seems Aodh started being required.\n\nChange-Id: I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3\nCloses-Bug: #1906299\n(cherry picked from commit c00e7b2c9549d58c799b3a0639e16a12505c348b)\n'}]",0,797702,567fb01a766a068e5dafcb67af4b686d0ed1a8fa,9,3,1,22629,,,0,"[CI] Fix the NFV scenario

It seems Aodh started being required.

Change-Id: I01714cbea03bddb0e438aebb197a8a0b2bcdb5b3
Closes-Bug: #1906299
(cherry picked from commit c00e7b2c9549d58c799b3a0639e16a12505c348b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/797702/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,567fb01a766a068e5dafcb67af4b686d0ed1a8fa,ci-fix-nfv-stable/victoria,"# NOTE(yoctozepto): see https://bugs.launchpad.net/kolla-ansible/+bug/1906299 enable_aodh: ""yes""",,2,0
openstack%2Fnova~stable%2Fussuri~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,stable/ussuri,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,ABANDONED,2021-06-03 19:37:28.000000000,2021-06-24 08:21:36.000000000,,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 19:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c850837fe23b7d813d821c26c597ccded66662a', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    gate/live_migration/hooks/run_tests.sh\n\nNOTE(melwitt): The conflict is because change\nI67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump\npackaging to 20.4) is not in Ussuri.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n""}, {'number': 2, 'created': '2021-06-09 01:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/194f469e8dbbdf920ab8fc3171be54c0b22018d2', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    gate/live_migration/hooks/run_tests.sh\n\nNOTE(melwitt): The conflict is because change\nI67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump\npackaging to 20.4) is not in Ussuri.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n""}, {'number': 3, 'created': '2021-06-24 07:47:07.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'roles/run-evacuate-hook/tasks/main.yaml', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/e05999aef49fe4453a2bafe0ce32f0138488d57a', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    gate/live_migration/hooks/run_tests.sh\n\nNOTE(melwitt): The conflict is because change\nI67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump\npackaging to 20.4) is not in Ussuri.\n\nChanges:\n    roles/run-evacuate-hook/tasks/main.yaml\n\nNOTE(elod.illes): in ussuri ubuntu-bionic is used, which does not have\nthe libvirtd services and thus the run-evacuate-hook fails. This patch\nreplaces ubuntu-focal's libvirtd services with a single libvirtd\nservice.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n""}]",0,794675,e05999aef49fe4453a2bafe0ce32f0138488d57a,29,4,3,4690,,,0,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Conflicts:
    gate/live_migration/hooks/run_tests.sh

NOTE(melwitt): The conflict is because change
I67255fa1b919a27e92028da95d71ddd4bf53edc1 (lower-constraints: Bump
packaging to 20.4) is not in Ussuri.

Changes:
    roles/run-evacuate-hook/tasks/main.yaml

NOTE(elod.illes): in ussuri ubuntu-bionic is used, which does not have
the libvirtd services and thus the run-evacuate-hook fails. This patch
replaces ubuntu-focal's libvirtd services with a single libvirtd
service.

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)
(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/794675/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh']",9,2c850837fe23b7d813d821c26c597ccded66662a,native-zuulv3-migration,,"#!/bin/bash # Live migration dedicated ci job will be responsible for testing different # environments based on underlying storage, used for ephemerals. # This hook allows to inject logic of environment reconfiguration in ci job. # Base scenario for this would be: # # 1. test with all local storage (use default for volumes) # 2. test with NFS for root + ephemeral disks # 3. test with Ceph for root + ephemeral disks # 4. test with Ceph for volumes and root + ephemeral disk set -xe cd $BASE/new/tempest source $BASE/new/devstack/functions source $BASE/new/devstack/functions-common source $BASE/new/devstack/lib/nova source $WORKSPACE/devstack-gate/functions.sh source $BASE/new/nova/gate/live_migration/hooks/utils.sh source $BASE/new/nova/gate/live_migration/hooks/nfs.sh source $BASE/new/nova/gate/live_migration/hooks/ceph.sh primary_node=$(cat /etc/nodepool/primary_node_private) SUBNODES=$(cat /etc/nodepool/sub_nodes_private) SERVICE_HOST=$primary_node STACK_USER=${STACK_USER:-stack} echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" # TODO(mriedem): Run $BASE/new/nova/gate/test_evacuate.sh for local storage #all tests bellow this line use shared storage, need to update tempest.conf echo 'disabling block_migration in tempest' $ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False"" echo '2. NFS testing is skipped due to setup failures with Ubuntu 16.04' #echo '2. test with NFS for root + ephemeral disks' #nfs_setup #nfs_configure_tempest #nfs_verify_setup #run_tempest ""NFS shared storage test"" ""live_migration"" #nfs_teardown # The nova-grenade-multinode job also runs resize and cold migration tests # so we check for a grenade-only variable. if [[ -n ""$GRENADE_NEW_BRANCH"" ]]; then echo '3. test cold migration and resize' run_tempest ""cold migration and resize test"" ""test_resize_server|test_cold_migration|test_revert_cold_migration"" else echo '3. cold migration and resize is skipped for non-grenade jobs' fi echo '4. test with Ceph for root + ephemeral disks' # Discover and set variables for the OS version so the devstack-plugin-ceph # scripts can find the correct repository to install the ceph packages. GetOSVersion USE_PYTHON3=${USE_PYTHON3:-True} prepare_ceph GLANCE_API_CONF=${GLANCE_API_CONF:-/etc/glance/glance-api.conf} configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" set +e #echo '5. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration"" ",16,511
openstack%2Fnova~stable%2Fussuri~Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,openstack/nova,stable/ussuri,Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,zuul: Replace nova-live-migration with zuulv3 jobs,ABANDONED,2021-06-09 01:20:03.000000000,2021-06-24 08:21:02.000000000,,"[{'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 01:20:03.000000000', 'files': ['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'playbooks/nova-evacuate/run.yaml', 'roles/run-evacuate-hook/README.rst', '.zuul.yaml', 'roles/run-evacuate-hook/files/test_negative_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'playbooks/nova-live-migration/post-run.yaml', 'roles/run-evacuate-hook/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/4434a76ce96586698fc16e35a719a95de7d1c15e', 'message': 'zuul: Replace nova-live-migration with zuulv3 jobs\n\nThis change removes the original nova-live-migration job and replaces it\ndirectly with the new Focal based zuulv3 native job.\n\nThe nova-dsvm-multinode-base base job is no longer used and so also\nremoved as part of this change.\n\nNote that this new nova-live-migration job does not yet contain any\nceph coverage like the original, this is still pending and will be\ncompleted early in the W cycle.\n\nThis change is being merged ahead of this to resolve bug #1901739, a\nknown QEMU -drive issue caused by the previous jobs use of libvirt 5.4.0\nas provided by Ubuntu Bionic. The fix here being the migration to Ubuntu\nFocal based jobs and libvirt 6.0.0 that now defaults to using QEMU\n-blockdev.\n\nNOTE(lyarwood): This change squashes the following changes into it to\nensure we end up with a passing zuulv3 Focal based job in\nstable/victoria. This includes the reintroduction of\nnova-dsvm-multinode-base that was incorrectly removed by this change on\nmaster while still being used.\n\nzuul: Introduce nova-evacuate\n(cherry picked from commit f357d8040741b0346c3105fb3d3d1b260f5cb13d)\n\nnova-evacuate: Disable libvirtd service and sockets during negative tests\n(cherry picked from commit 226250beb6858bb3094c005fbc335a7378531df1)\n\nzuul: Merge nova-evacuate into nova-multinode-live-migration\n(cherry picked from commit c0fe95fcc5aec99a83dd57093dc230ef67b36b39)\n\nzuul: Reintroduce nova-dsvm-multinode-base\n(cherry picked from commit be752b8175f0cb3444ee47679753be847c8f8fd2)\n\nnova-live-migration: Disable *all* virt services during negative tests\n(cherry picked from commit 76360e566bcd0e203f3e9357ca2b0ca3d7baf4b8)\n\nCloses-Bug: #1901739\nChange-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a\n(cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)\n(cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)\n'}]",3,795433,4434a76ce96586698fc16e35a719a95de7d1c15e,8,3,1,4690,,,0,"zuul: Replace nova-live-migration with zuulv3 jobs

This change removes the original nova-live-migration job and replaces it
directly with the new Focal based zuulv3 native job.

The nova-dsvm-multinode-base base job is no longer used and so also
removed as part of this change.

Note that this new nova-live-migration job does not yet contain any
ceph coverage like the original, this is still pending and will be
completed early in the W cycle.

This change is being merged ahead of this to resolve bug #1901739, a
known QEMU -drive issue caused by the previous jobs use of libvirt 5.4.0
as provided by Ubuntu Bionic. The fix here being the migration to Ubuntu
Focal based jobs and libvirt 6.0.0 that now defaults to using QEMU
-blockdev.

NOTE(lyarwood): This change squashes the following changes into it to
ensure we end up with a passing zuulv3 Focal based job in
stable/victoria. This includes the reintroduction of
nova-dsvm-multinode-base that was incorrectly removed by this change on
master while still being used.

zuul: Introduce nova-evacuate
(cherry picked from commit f357d8040741b0346c3105fb3d3d1b260f5cb13d)

nova-evacuate: Disable libvirtd service and sockets during negative tests
(cherry picked from commit 226250beb6858bb3094c005fbc335a7378531df1)

zuul: Merge nova-evacuate into nova-multinode-live-migration
(cherry picked from commit c0fe95fcc5aec99a83dd57093dc230ef67b36b39)

zuul: Reintroduce nova-dsvm-multinode-base
(cherry picked from commit be752b8175f0cb3444ee47679753be847c8f8fd2)

nova-live-migration: Disable *all* virt services during negative tests
(cherry picked from commit 76360e566bcd0e203f3e9357ca2b0ca3d7baf4b8)

Closes-Bug: #1901739
Change-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a
(cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)
(cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/795433/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'playbooks/nova-evacuate/run.yaml', 'roles/run-evacuate-hook/README.rst', '.zuul.yaml', 'roles/run-evacuate-hook/files/test_negative_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'playbooks/nova-live-migration/post-run.yaml', 'roles/run-evacuate-hook/tasks/main.yaml']",8,4434a76ce96586698fc16e35a719a95de7d1c15e,native-zuulv3-migration,"- name: Setup resources and mark the subnode as forced down become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/setup_evacuate_resources.sh"" environment: SUBNODE_HOSTNAME: ""{{ hostvars['compute1']['ansible_hostname'] }}"" - name: Fence subnode by stopping q-agt and n-cpu delegate_to: compute1 become: true systemd: name: ""{{ item }}"" state: stopped with_items: - devstack@q-agt - devstack@n-cpu - name: Register running domains on subnode delegate_to: compute1 become: true virt: command: list_vms state: running register: subnode_vms - name: Destroy running domains on subnode delegate_to: compute1 become: true virt: name: ""{{ item }}"" state: destroyed with_items: ""{{ subnode_vms.list_vms }}"" - name: Stop libvirtd on ""{{ inventory_hostname }}"" become: true systemd: name: ""{{ item }}"" state: stopped enabled: no with_items: - libvirtd.service - libvirtd.socket - libvirtd-admin.socket - libvirtd-ro.socket - virtlogd.service - virtlogd-admin.socket - virtlogd.socket - virtlockd.service - virtlockd-admin.socket - virtlockd.socket - name: Run negative evacuate tests become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/test_negative_evacuate.sh"" environment: CONTROLLER_HOSTNAME: ""{{ hostvars['controller']['ansible_hostname'] }}"" - name: Start libvirtd on ""{{ inventory_hostname }}"" become: true systemd: name: ""{{ item }}"" state: started enabled: yes with_items: - libvirtd.service - libvirtd.socket - libvirtd-admin.socket - libvirtd-ro.socket - virtlogd.service - virtlogd-admin.socket - virtlogd.socket - virtlockd.service - virtlockd-admin.socket - virtlockd.socket - name: Run evacuate tests become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/test_evacuate.sh"" environment: CONTROLLER_HOSTNAME: ""{{ hostvars['controller']['ansible_hostname'] }}"" ",,228,22
openstack%2Fopenstack-ansible~master~I55387dbb5999546955cb30dc7a8d6e6b63bc2129,openstack/openstack-ansible,master,I55387dbb5999546955cb30dc7a8d6e6b63bc2129,[doc] Fix compatability -> compatibility,MERGED,2021-06-23 15:05:56.000000000,2021-06-24 07:50:41.000000000,2021-06-24 07:48:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-23 15:05:56.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/upgrades/compatibility-matrix.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cede2dc592a936c30b48517fdf045198263b15d1', 'message': '[doc] Fix compatability -> compatibility\n\nChange-Id: I55387dbb5999546955cb30dc7a8d6e6b63bc2129\n'}]",0,797673,cede2dc592a936c30b48517fdf045198263b15d1,8,3,1,32441,,,0,"[doc] Fix compatability -> compatibility

Change-Id: I55387dbb5999546955cb30dc7a8d6e6b63bc2129
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/797673/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/upgrades/compatibility-matrix.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html']",3,cede2dc592a936c30b48517fdf045198263b15d1,compatibility-typo,<h3>Operating System Compatibility Matrix</h3>,<h3>Operating System Compatability Matrix</h3>,5,5
openstack%2Fopenstack-manuals~master~I7e213d2171678c60e1679884445a789ecf3761ad,openstack/openstack-manuals,master,I7e213d2171678c60e1679884445a789ecf3761ad,Deprecate OpenStack-Ansible nspawn repositories,MERGED,2021-06-23 17:37:59.000000000,2021-06-24 07:37:12.000000000,2021-06-23 22:29:15.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 17:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d8fd3188e43475969ef720ae9db9808a23422784', 'message': 'Deprecate OpenStack-Ansible nspawn repositories\n\nSince nspawn support has been removed with [1] we now\nstart repositories deprecation process.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569\n\nChange-Id: I7e213d2171678c60e1679884445a789ecf3761ad\n'}, {'number': 2, 'created': '2021-06-23 21:06:09.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/00589bd09ba9c6d8ca23677532703f6eaa478d6c', 'message': 'Deprecate OpenStack-Ansible nspawn repositories\n\nSince nspawn support has been removed with [1] we now\nstart repositories deprecation process.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569\n\nChange-Id: I7e213d2171678c60e1679884445a789ecf3761ad\n'}]",1,797730,00589bd09ba9c6d8ca23677532703f6eaa478d6c,11,3,2,28619,,,0,"Deprecate OpenStack-Ansible nspawn repositories

Since nspawn support has been removed with [1] we now
start repositories deprecation process.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/782569

Change-Id: I7e213d2171678c60e1679884445a789ecf3761ad
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/30/797730/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,d8fd3188e43475969ef720ae9db9808a23422784,osa/deprecate_nspawn," 'openstack/openstack-ansible-nspawn_hosts' 'openstack/openstack-ansible-nspawn_container_create',",,2,0
openstack%2Ftripleo-ci~master~I19c2392f407b03a6a8ddb78ede4b8f123107ebdf,openstack/tripleo-ci,master,I19c2392f407b03a6a8ddb78ede4b8f123107ebdf,Making tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 non voting,ABANDONED,2021-06-23 21:44:35.000000000,2021-06-24 07:17:32.000000000,,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-23 21:44:35.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a0ee4843f3a8b1eaa95014284d25005d7490f083', 'message': 'Making tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 non voting\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1933309\nChange-Id: I19c2392f407b03a6a8ddb78ede4b8f123107ebdf\n'}]",0,797787,a0ee4843f3a8b1eaa95014284d25005d7490f083,6,4,1,32458,,,0,"Making tripleo-buildimage-overcloud-hardened-uefi-full-centos-8 non voting

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1933309
Change-Id: I19c2392f407b03a6a8ddb78ede4b8f123107ebdf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/797787/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,a0ee4843f3a8b1eaa95014284d25005d7490f083,, voting: false,,1,0
openstack%2Freleases~master~If78806f790dbec2a3464984418751ff8c85a58f4,openstack/releases,master,If78806f790dbec2a3464984418751ff8c85a58f4,Release tripleo-operator-ansible-0.5.1,MERGED,2021-06-18 09:05:43.000000000,2021-06-24 07:00:24.000000000,2021-06-23 16:06:17.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-18 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/67b7e140bdc64260304888c6280606af74bfb5b2', 'message': 'Release tripleo-operator-ansible-0.5.1\n\nRecently we merged\nhttps://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645\nwhich adds publish-openstack-python-tarball job to publish the tarballs.\n\nWe need to create a new release so that we can publish the tarball and\nconsume it in RDO side for packaging.\n\nIt is a minor release containing changes.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If78806f790dbec2a3464984418751ff8c85a58f4\n'}, {'number': 2, 'created': '2021-06-22 08:23:11.000000000', 'files': ['deliverables/_independent/tripleo-operator-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4ce8cb674d06e4d0dad21584b329d17f85d02d28', 'message': 'Release tripleo-operator-ansible-0.5.1\n\nIt is a minor release which contains changes related\nto publishing the tarballs of tripleo-operator-ansible\nto tarballs.opendev.org.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If78806f790dbec2a3464984418751ff8c85a58f4\n'}]",3,797010,4ce8cb674d06e4d0dad21584b329d17f85d02d28,23,5,2,12393,,,0,"Release tripleo-operator-ansible-0.5.1

It is a minor release which contains changes related
to publishing the tarballs of tripleo-operator-ansible
to tarballs.opendev.org.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If78806f790dbec2a3464984418751ff8c85a58f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/797010/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tripleo-operator-ansible.yaml'],1,67b7e140bdc64260304888c6280606af74bfb5b2,remove_uneeded_tq_requirements, - version: 0.5.1 projects: - repo: openstack/tripleo-operator-ansible hash: 7dc1bd4a3851d328ce93bdf6a2cd739039866c20,,4,0
openstack%2Ftripleo-ansible~master~Id296a370c215f10c11d7fd811c2665d53c44b4a6,openstack/tripleo-ansible,master,Id296a370c215f10c11d7fd811c2665d53c44b4a6,%%_USER_THT_ROOT_%% replaces static THT path,ABANDONED,2021-06-15 21:40:19.000000000,2021-06-24 06:45:30.000000000,,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 21:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26124dee4f81e51228e5d11e907721965e01afda', 'message': '%%_USER_THT_ROOT_%% replaces static THT path\n\nWhen generating environment files the THT path\nwas statically set to:\n /usr/share/openstack-tripleo-heat-templates\n\nThis forces the user to change the paths manually\nto the --templates directory if not using the\ndefault.\n\nWrite the environment files with the template\n%%_USER_THT_ROOT_%% which can be replaced by\ntripleoclient during deployment.\n\nCloses-Bug: #1932079\nDepends-On: I62d4531c80c690dc55d1c248cb099683511f310e\nChange-Id: Id296a370c215f10c11d7fd811c2665d53c44b4a6\n'}, {'number': 2, 'created': '2021-06-15 22:26:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_vip_populate_env.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_network_ports_populate_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e58b0b05514355212fc553f690c8a487915fee67', 'message': '%%_USER_THT_ROOT_%% replaces static THT path\n\nWhen generating environment files the THT path\nwas statically set to:\n /usr/share/openstack-tripleo-heat-templates\n\nThis forces the user to change the paths manually\nto the --templates directory if not using the\ndefault.\n\nWrite the environment files with the template\n%%_USER_THT_ROOT_%% which can be replaced by\ntripleoclient during deployment.\n\nCloses-Bug: #1932079\nDepends-On: I62d4531c80c690dc55d1c248cb099683511f310e\nChange-Id: Id296a370c215f10c11d7fd811c2665d53c44b4a6\n'}]",0,796546,e58b0b05514355212fc553f690c8a487915fee67,14,3,2,24245,,,0,"%%_USER_THT_ROOT_%% replaces static THT path

When generating environment files the THT path
was statically set to:
 /usr/share/openstack-tripleo-heat-templates

This forces the user to change the paths manually
to the --templates directory if not using the
default.

Write the environment files with the template
%%_USER_THT_ROOT_%% which can be replaced by
tripleoclient during deployment.

Closes-Bug: #1932079
Depends-On: I62d4531c80c690dc55d1c248cb099683511f310e
Change-Id: Id296a370c215f10c11d7fd811c2665d53c44b4a6
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/796546/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_populate_environment.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_network_ports_populate_environment.py', 'tripleo_ansible/tests/modules/test_tripleo_network_ports_populate_environment.py']",4,26124dee4f81e51228e5d11e907721965e01afda,bug/1932079, '%%_USER_THT_ROOT_%%/' '%%_USER_THT_ROOT_%%/' '%%_USER_THT_ROOT_%%/' '%%_USER_THT_ROOT_%%/' '%%_USER_THT_ROOT_%%/', '/usr/share/openstack-tripleo-heat-templates/' '/usr/share/openstack-tripleo-heat-templates/' '/usr/share/openstack-tripleo-heat-templates/' '/usr/share/openstack-tripleo-heat-templates/' '/usr/share/openstack-tripleo-heat-templates/',10,12
openstack%2Fneutron~master~If6ef990baf039c556d7420962ac4c54608711f06,openstack/neutron,master,If6ef990baf039c556d7420962ac4c54608711f06,Remove FIP agent's gw port when L3 agent is deleted,MERGED,2021-04-23 08:50:22.000000000,2021-06-24 06:40:49.000000000,2021-06-24 06:38:48.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 08:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9bf8cac59e971f75001704736bfb22cee9753a0', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}, {'number': 2, 'created': '2021-04-26 20:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21c0b4a76abdd8390b2f049c26b52db336030266', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}, {'number': 3, 'created': '2021-05-27 12:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b48b36e211b65f6120d86407fff7f35e88437a7', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}, {'number': 4, 'created': '2021-06-17 14:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a527110cce068e918a0a76f699bd3b58b844520e', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}, {'number': 5, 'created': '2021-06-18 08:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/605e52733380fd87ea7657bb0c2dbe70bfd782a4', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}, {'number': 6, 'created': '2021-06-21 09:59:21.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/agents_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cc7c0cf7a5196103b097fae67eccbd5dc3980ac', 'message': ""Remove FIP agent's gw port when L3 agent is deleted\n\nFloating IP agent gateway ports are created for each external network\nfor each node where DVR L3 agent is running and where there is some FIP\nfrom the ext_net.\nBut even, if L3 agent is removed (e.g. when scaling down the cluster),\nsuch floating IP gateway port is never removed so it consumes IP address\nfrom the external network.\n\nWith this patch when the DVR L3 agent is deleted, all such fip gateway\nports owned by that agent will be deleted.\nWhen new L3 agent is created (registered in the DB), Neutron will check\nif there are any floating IPs on that host and will recreate such FIP\ngateway ports for it.\n\nCloses-Bug: #1891360\nChange-Id: If6ef990baf039c556d7420962ac4c54608711f06\n""}]",33,787691,8cc7c0cf7a5196103b097fae67eccbd5dc3980ac,76,5,6,11975,,,0,"Remove FIP agent's gw port when L3 agent is deleted

Floating IP agent gateway ports are created for each external network
for each node where DVR L3 agent is running and where there is some FIP
from the ext_net.
But even, if L3 agent is removed (e.g. when scaling down the cluster),
such floating IP gateway port is never removed so it consumes IP address
from the external network.

With this patch when the DVR L3 agent is deleted, all such fip gateway
ports owned by that agent will be deleted.
When new L3 agent is created (registered in the DB), Neutron will check
if there are any floating IPs on that host and will recreate such FIP
gateway ports for it.

Closes-Bug: #1891360
Change-Id: If6ef990baf039c556d7420962ac4c54608711f06
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/787691/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/objects/ports.py']",4,a9bf8cac59e971f75001704736bfb22cee9753a0,bug/1891360," def get_ports_by_host(cls, context, host): query = context.session.query(models_v2.Port).join( ml2_models.PortBinding) query = query.filter( ml2_models.PortBinding.host == host) return [cls._load_object(context, db_obj) for db_obj in query.all()] @classmethod",,194,0
openstack%2Fpython-tripleoclient~master~I62d4531c80c690dc55d1c248cb099683511f310e,openstack/python-tripleoclient,master,I62d4531c80c690dc55d1c248cb099683511f310e,Rewrite %%_USER_THT_ROOT_%% in user envs,ABANDONED,2021-06-15 21:39:53.000000000,2021-06-24 05:51:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 21:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0dbab58dd350d0c44d99fc14ba61d358b233c2c', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}, {'number': 2, 'created': '2021-06-15 21:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0698241d04f6f8a31814035c4122338dcba68b6', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}, {'number': 3, 'created': '2021-06-15 22:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/354d9e0b21c4ada768514012ec46811f19f4aae9', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}, {'number': 4, 'created': '2021-06-15 22:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/691fbd31bd4c191825b14f0d3949da2f60f047bc', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}, {'number': 5, 'created': '2021-06-21 07:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8b0900a52bcacb0740aaa5e660b0c8e0f86188b3', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}, {'number': 6, 'created': '2021-06-23 19:00:21.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d18734a66c2c6fa99cb3ef21a18fc3826cdfe18d', 'message': 'Rewrite %%_USER_THT_ROOT_%% in user envs\n\nThe baremtal provisioning and network-v2 hard codes\n/usr/share/openstack-tripleo-heat-templates in the\ngenerated environment files. This is problematic\nwhen not using the default template path.\n\nAdd a method to rewrite %%_USER_THT_ROOT_%% in\nresource registry values with the --templates path.\n\nChange Id296a370c215f10c11d7fd811c2665d53c44b4a6 in\ntripleo-ansible updates the generate environment\nmodule to use %%_USER_THT_ROOT_%% instead of the\nstatic default templates path.\n\nThe rewrite will only work the first time the\nenvironment is used. If the --templates path is\nchanged, the user will have to manually update the\nenvironment files. Or re-run the commands that\ngenerated them.\n\nRelated-Bug: #1932079\nChange-Id: I62d4531c80c690dc55d1c248cb099683511f310e\n'}]",0,796545,d18734a66c2c6fa99cb3ef21a18fc3826cdfe18d,16,4,6,24245,,,0,"Rewrite %%_USER_THT_ROOT_%% in user envs

The baremtal provisioning and network-v2 hard codes
/usr/share/openstack-tripleo-heat-templates in the
generated environment files. This is problematic
when not using the default template path.

Add a method to rewrite %%_USER_THT_ROOT_%% in
resource registry values with the --templates path.

Change Id296a370c215f10c11d7fd811c2665d53c44b4a6 in
tripleo-ansible updates the generate environment
module to use %%_USER_THT_ROOT_%% instead of the
static default templates path.

The rewrite will only work the first time the
environment is used. If the --templates path is
changed, the user will have to manually update the
environment files. Or re-run the commands that
generated them.

Related-Bug: #1932079
Change-Id: I62d4531c80c690dc55d1c248cb099683511f310e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/796545/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",4,e0dbab58dd350d0c44d99fc14ba61d358b233c2c,network-data-v2," @mock.patch('tripleoclient.utils.rewrite_registry_paths_in_user_env', autospec=True) def test_deploy_tripleo_heat_templates_redir( self, mock_cipm, mock_setup_heat_envs, mock_hc_templ_parse, mock_hc_env_parse, mock_hc_get_templ_cont, mock_hc_process, mock_rewrite_registry_paths_in_user_env):"," def test_deploy_tripleo_heat_templates_redir(self, mock_cipm, mock_setup_heat_envs, mock_hc_templ_parse, mock_hc_env_parse, mock_hc_get_templ_cont, mock_hc_process):",75,12
openstack%2Fcinder~master~Idc95d5e8f7e542973676e2d269a3840217b02d9e,openstack/cinder,master,Idc95d5e8f7e542973676e2d269a3840217b02d9e,Update decode_cipher doc text about encryption ciphers,MERGED,2021-06-16 13:56:52.000000000,2021-06-24 04:39:00.000000000,2021-06-22 17:07:43.000000000,"[{'_account_id': 5314}, {'_account_id': 12670}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 13:56:52.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/74ac9090b01c91403d684eba38c9156fc66ae0bf', 'message': ""Update decode_cipher doc text about encryption ciphers\n\nPoint to the new doc file location and specify that\nwe don't support keycount/ivopts.\n\nChange-Id: Idc95d5e8f7e542973676e2d269a3840217b02d9e\n""}]",0,796680,74ac9090b01c91403d684eba38c9156fc66ae0bf,58,4,1,4523,,,0,"Update decode_cipher doc text about encryption ciphers

Point to the new doc file location and specify that
we don't support keycount/ivopts.

Change-Id: Idc95d5e8f7e542973676e2d269a3840217b02d9e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/796680/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,74ac9090b01c91403d684eba38c9156fc66ae0bf,," The assumed format being cipher-chainmode-ivmode, similar to that documented under linux/Documentation/admin-guide/device-mapper/dm-crypt.txt in the kernel source tree. Cinder does not support the [:keycount] or [:ivopts] options.", The assumed format being cipher[:keycount]-chainmode-ivmode[:ivopts] as documented under linux/Documentation/device-mapper/dm-crypt.txt in the kernel source tree.,5,3
openstack%2Ftripleo-heat-templates~master~I923856c83c14eb54073684ace93e9e1e85f53329,openstack/tripleo-heat-templates,master,I923856c83c14eb54073684ace93e9e1e85f53329,Add Ephemeral Heat service,MERGED,2021-06-16 09:43:05.000000000,2021-06-24 04:19:01.000000000,2021-06-23 06:18:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 09:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/486d340200893883000bf8b4bfa91aa891350b7b', 'message': 'Add Ephemeral Heat service\n\nIt provides nothing but container images for deployments\ndirven by Ephemeral Heat.\n\nAlso update all envs generated via:\nenvironment_generator.py sample-env-generator\n\nDepends-On: https://review.opendev.org/c/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-06-17 13:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e370a0484aa698f97cfaa066960781b4afc6b61', 'message': 'Add Ephemeral Heat service\n\nIt provides nothing but container images for deployments\ndirven by Ephemeral Heat. This service is only for the container images\nprepare to take it into account, it does nothing for the actual\ndeployment.\n\nAlso update all envs generated via:\nenvironment_generator.py sample-env-generator\n\nDepends-On: https://review.opendev.org/c/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-06-21 08:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e091193e45547323c950527b3aa589b48cbf51c8', 'message': 'Add Ephemeral Heat service\n\nIt provides nothing but container images for deployments\ndirven by Ephemeral Heat. This service is only for the container images\nprepare to take it into account, it does nothing for the actual\ndeployment.\n\nAlso update all envs generated via:\nenvironment_generator.py sample-env-generator\n\nDepends-On: https://review.opendev.org/c/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-06-21 13:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a095ceed21d4f5a5fb7006130e69cd51cd16c37', 'message': 'Add Ephemeral Heat service\n\nIt provides nothing but container images for deployments\ndirven by Ephemeral Heat. This service is only for the container images\nprepare to take it into account, it does nothing for the actual\ndeployment.\n\nAlso update all envs generated via:\nenvironment_generator.py sample-env-generator\n\nDepends-On: https://review.opendev.org/c/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-06-21 17:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db795677775595c1f11149b652f8557f17b5ef4e', 'message': 'Add Ephemeral Heat service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 6, 'created': '2021-06-21 17:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/762452beb076ee3fd6c45314b9e34b2966dec860', 'message': 'Add Ephemeral Heat service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 7, 'created': '2021-06-21 18:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5741da047f46d45334cb09b4d56f2c7171450ac9', 'message': 'Add Ephemeral Heat service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 8, 'created': '2021-06-22 01:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bceecbde22f7754a2d4b8580a43ff2b45728c25', 'message': 'Add Ephemeral Heat service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 9, 'created': '2021-06-22 11:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1807833e802abe6d9e547eea8db33dabd4994828', 'message': 'Add Ephemeral Heat Images service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\nPartial-Bug: #1931995\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 10, 'created': '2021-06-22 14:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31eea154c728a812171652a4569b8e69cd52dc1b', 'message': 'Add Ephemeral Heat Images service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\nPartial-Bug: #1931995\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 11, 'created': '2021-06-22 16:25:02.000000000', 'files': ['environments/undercloud.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afc0d39dc2dd32ba602aaabebe7e398b2d5c82b9', 'message': 'Add Ephemeral Heat service\n\nAdds a ephemeral heat service that ensures the containers are fetched on\nthe system and tagged specially for usage later with the overcloud\ndeployment process.  After the service deploys, the following container\nimages should be available on the local system.\n\n   localhost/tripleo/openstack-heat-all:ephemeral\n   localhost/tripleo/openstack-heat-engine:ephemeral\n   localhost/tripleo/openstack-heat-api:ephemeral\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614\nPartial-Bug: #1931995\n\nChange-Id: I923856c83c14eb54073684ace93e9e1e85f53329\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nSigned-off-by: Alex Schultz <aschultz@redhat.com>\n'}]",29,796617,afc0d39dc2dd32ba602aaabebe7e398b2d5c82b9,66,7,11,6926,,,0,"Add Ephemeral Heat service

Adds a ephemeral heat service that ensures the containers are fetched on
the system and tagged specially for usage later with the overcloud
deployment process.  After the service deploys, the following container
images should be available on the local system.

   localhost/tripleo/openstack-heat-all:ephemeral
   localhost/tripleo/openstack-heat-engine:ephemeral
   localhost/tripleo/openstack-heat-api:ephemeral

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/796614
Partial-Bug: #1931995

Change-Id: I923856c83c14eb54073684ace93e9e1e85f53329
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Signed-off-by: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/796617/8 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/enable-designate.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'deployment/heat/heat-ephemeral-noop.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles_data_undercloud.yaml', 'environments/standalone/standalone-overcloud.yaml']",9,486d340200893883000bf8b4bfa91aa891350b7b,prep_images_output, OS::TripleO::Services::DesignateBind: OS::Heat::None, OS::TripleO::Services::DesignateBind: OS::Heat::None,74,13
openstack%2Fskyline-console~master~I810e948e46698f4acd92b1c3da7e7b200fa8a7dc,openstack/skyline-console,master,I810e948e46698f4acd92b1c3da7e7b200fa8a7dc,fix: Fix folder name,MERGED,2021-06-24 03:39:20.000000000,2021-06-24 04:03:13.000000000,2021-06-24 04:03:13.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-06-24 03:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0d7b54e793cfc114fc075b318166bd3164c433db', 'message': 'fix: Fix folder name\n\nFix folder name\n\nChange-Id: I810e948e46698f4acd92b1c3da7e7b200fa8a7dc\n'}, {'number': 2, 'created': '2021-06-24 03:50:48.000000000', 'files': ['src/pages/compute/containers/Instance/actions/Delete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/compute/containers/Instance/actions/ExtendRootVolume.jsx', 'src/pages/compute/containers/Instance/actions/Start.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/EditMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/compute/containers/Image/actions/CreateIronic.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/index.jsx', 'src/pages/compute/containers/Instance/actions/Rebuild.jsx', 'src/pages/compute/containers/Instance/actions/Lock.jsx', 'src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx', 'src/pages/compute/containers/Instance/actions/Unshelve.jsx', 'src/pages/compute/containers/Instance/actions/Edit.jsx', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/CreateSnapshot.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/Edit.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/components/index.less', 'src/pages/compute/containers/Instance/actions/Shelve.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/network/containers/Topology/index.less', 'src/pages/compute/containers/Instance/actions/Pause.jsx', 'src/pages/compute/containers/Instance/actions/index.jsx', 'src/pages/compute/containers/Instance/actions/ResizeOnline.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeletePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/index.less', 'src/pages/management/App.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Instance/actions/ChangePassword.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/Suspend.jsx', 'src/pages/compute/containers/Instance/actions/Unpause.jsx', 'src/pages/management/containers/RecycleBin/actions/index.jsx', 'src/pages/compute/containers/Instance/actions/Unlock.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/compute/containers/Instance/actions/Reboot.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/actions/DeleteIronic.jsx', 'src/pages/management/routes/index.js', 'src/pages/compute/containers/Image/index.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/Detach.jsx', 'src/pages/compute/containers/Instance/actions/CreateImage.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/pages/management/containers/RecycleBin/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/compute/containers/Instance/actions/AttachInterface.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditPoolInfo.jsx', 'src/pages/compute/containers/Instance/actions/SoftDelete.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditHealthMonitor.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/management/containers/RecycleBin/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/compute/containers/Instance/actions/index.less', 'src/pages/compute/containers/Image/actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/pages/network/containers/Topology/InstanceCard.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.less', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.less', 'src/pages/compute/containers/Instance/actions/DisassociateFip.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/DeleteMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreatePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/Resume.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/Stop.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeleteListener.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/management/containers/RecycleBin/actions/Recover.js', 'src/pages/network/containers/LoadBalancers/Listener/Actions/MemberManagement.jsx', 'src/pages/compute/containers/Instance/actions/Console.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.less', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/compute/containers/Image/actions/CreateInstance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/166f8b5ed77d09382d16936c47eb2c079f70eeb0', 'message': 'fix: Fix folder name\n\nFix folder name to avoid docker build failure\n\nChange-Id: I810e948e46698f4acd92b1c3da7e7b200fa8a7dc\n'}]",0,797799,166f8b5ed77d09382d16936c47eb2c079f70eeb0,9,3,2,30434,,,0,"fix: Fix folder name

Fix folder name to avoid docker build failure

Change-Id: I810e948e46698f4acd92b1c3da7e7b200fa8a7dc
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/99/797799/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/Delete.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/index.jsx', 'src/pages/compute/containers/Instance/actions/ExtendRootVolume.jsx', 'src/pages/compute/containers/Instance/actions/Start.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/EditMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/index.jsx', 'src/pages/compute/containers/Instance/Detail/index.jsx', 'src/pages/compute/containers/Image/actions/CreateIronic.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/index.jsx', 'src/pages/compute/containers/Instance/actions/Rebuild.jsx', 'src/pages/compute/containers/Instance/actions/Lock.jsx', 'src/pages/compute/containers/Instance/actions/AttachIsoVolume.jsx', 'src/pages/compute/containers/Instance/actions/SoftReboot.jsx', 'src/pages/compute/containers/Instance/actions/Unshelve.jsx', 'src/pages/compute/containers/Instance/actions/Edit.jsx', 'src/pages/compute/containers/Image/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/CreateSnapshot.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/Edit.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/pages/compute/containers/Instance/components/index.less', 'src/pages/compute/containers/Instance/actions/Shelve.jsx', 'src/pages/compute/containers/Instance/actions/DetachIsoVolume.jsx', 'src/pages/network/containers/Topology/index.less', 'src/pages/compute/containers/Instance/actions/Pause.jsx', 'src/pages/compute/containers/Instance/actions/index.jsx', 'src/pages/compute/containers/Instance/actions/ResizeOnline.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeletePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/index.less', 'src/pages/management/App.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/pages/compute/containers/Instance/actions/ChangePassword.jsx', 'src/pages/compute/containers/Image/actions/ManageMetadata.jsx', 'src/pages/compute/containers/Image/actions/Create.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.jsx', 'src/pages/compute/containers/Instance/actions/Suspend.jsx', 'src/pages/compute/containers/Instance/actions/Unpause.jsx', 'src/pages/management/containers/RecycleBin/actions/index.jsx', 'src/pages/compute/containers/Instance/actions/Unlock.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreateListener.jsx', 'src/pages/compute/containers/Instance/actions/LiveMigrate.jsx', 'src/pages/compute/containers/Instance/actions/Reboot.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.jsx', 'src/pages/compute/containers/Instance/actions/DeleteIronic.jsx', 'src/pages/management/routes/index.js', 'src/pages/compute/containers/Image/index.jsx', 'src/pages/network/containers/Topology/NodeCard.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/Detach.jsx', 'src/pages/compute/containers/Instance/actions/CreateImage.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less', 'src/pages/compute/containers/Instance/actions/AssociateFip.jsx', 'src/pages/management/containers/RecycleBin/actions/Delete.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/compute/containers/Instance/actions/AttachInterface.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditPoolInfo.jsx', 'src/pages/compute/containers/Instance/actions/SoftDelete.jsx', 'src/pages/compute/containers/Instance/actions/RebuildSelect.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/EditHealthMonitor.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx', 'src/pages/management/containers/RecycleBin/index.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/action/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/BaseStep/index.jsx', 'src/pages/compute/containers/Instance/actions/ManageSecurityGroup.jsx', 'src/pages/compute/containers/Image/Detail/index.jsx', 'src/pages/compute/containers/Instance/actions/DetachInterface.jsx', 'src/pages/compute/containers/Instance/actions/index.less', 'src/pages/compute/containers/Image/actions/index.jsx', 'src/pages/network/containers/LoadBalancers/Listener/index.jsx', 'src/pages/network/containers/Topology/InstanceCard.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/compute/containers/Image/actions/CreateVolume.jsx', 'src/pages/compute/containers/Instance/actions/Migrate.jsx', 'src/pages/compute/containers/Instance/actions/DetachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.less', 'src/pages/compute/containers/Instance/actions/CreateIronic/ConfirmStep/index.jsx', 'src/pages/compute/containers/Image/actions/ManageAccess.jsx', 'src/pages/compute/containers/Instance/actions/AttachVolume.jsx', 'src/pages/compute/containers/Instance/Detail/SecurityGroup/index.less', 'src/pages/compute/containers/Instance/actions/DisassociateFip.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/DeleteMember.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/CreatePool.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/Resume.jsx', 'src/pages/compute/containers/Instance/components/FlavorSelectTable.jsx', 'src/pages/compute/containers/Instance/index.jsx', 'src/pages/compute/containers/Image/Detail/BaseDetail.jsx', 'src/pages/compute/containers/Image/actions/Edit.jsx', 'src/pages/compute/containers/Instance/Detail/BaseDetail/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/Stop.jsx', 'src/pages/network/containers/LoadBalancers/Listener/Actions/DeleteListener.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/BaseStep/index.jsx', 'src/pages/management/containers/RecycleBin/actions/Recover.js', 'src/pages/network/containers/LoadBalancers/Listener/Actions/MemberManagement.jsx', 'src/pages/compute/containers/Instance/actions/Console.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/index.less', 'src/pages/compute/containers/Image/Image.jsx', 'src/pages/compute/containers/Image/actions/CreateInstance.jsx']",101,0d7b54e793cfc114fc075b318166bd3164c433db,,,,0,0
openstack%2Fskyline-console~master~I81bc934b915809c2225745314863762982c137d8,openstack/skyline-console,master,I81bc934b915809c2225745314863762982c137d8,Fix README,MERGED,2021-06-17 06:21:54.000000000,2021-06-24 03:42:34.000000000,2021-06-24 03:42:34.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-06-17 06:21:54.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/81fa2248a3510a62b7c2097cdb2d5bdc30f4d0c8', 'message': 'Fix README\n\nfix README.md\n\nChange-Id: I81bc934b915809c2225745314863762982c137d8\n'}]",0,796760,81fa2248a3510a62b7c2097cdb2d5bdc30f4d0c8,7,5,1,33196,,,0,"Fix README

fix README.md

Change-Id: I81bc934b915809c2225745314863762982c137d8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/60/796760/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,81fa2248a3510a62b7c2097cdb2d5bdc30f4d0c8,,"- `yarn run dev`: 使用实际接口，需要将`webpack.dev.js`文件第 47 行的 ""http://pre.xxx.com""","- `yarn run dev`: 使用实际接口，需要将`webpack.dev.js`文件第 27 行的 ""http://pre.xxx.com""",1,1
openstack%2Fcinder~master~Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9,openstack/cinder,master,Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9,Tests: Add coverage for coordinator start/stop,MERGED,2021-04-19 16:11:48.000000000,2021-06-24 03:07:25.000000000,2021-06-24 03:04:22.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-19 16:11:48.000000000', 'files': ['cinder/tests/unit/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb2dde068673bfeef4a6dd23ba0396505c75560d', 'message': ""Tests: Add coverage for coordinator start/stop\n\nThese tests test the logic for start/stop skipping\ntheir actions based on the value of self.started.\n\nA new test for this took about 2.5s to run, so I've\nopted to cover this within existing tests.\n\nChange-Id: Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9\n""}]",0,786895,fb2dde068673bfeef4a6dd23ba0396505c75560d,24,4,1,4523,,,0,"Tests: Add coverage for coordinator start/stop

These tests test the logic for start/stop skipping
their actions based on the value of self.started.

A new test for this took about 2.5s to run, so I've
opted to cover this within existing tests.

Change-Id: Ib3e03b43e0bf5b484af3f42c2da6cdcbb9e4abd9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/786895/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_coordination.py'],1,fb2dde068673bfeef4a6dd23ba0396505c75560d,, agent.start() crd.start.assert_called_once_with(start_heart=True) agent.stop() crd.stop.assert_called_once_with() ,,6,0
openstack%2Fcinder~master~I096e673319663f539788f27fdf056ad10153f6bf,openstack/cinder,master,I096e673319663f539788f27fdf056ad10153f6bf,Drop support for SQLite < 3.7,MERGED,2021-04-30 02:43:20.000000000,2021-06-24 03:06:16.000000000,2021-06-24 03:04:07.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 02:43:20.000000000', 'files': ['cinder/tests/unit/db/test_purge.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23dd35d6800b49b24c0e41047c4452421d150bb6', 'message': 'Drop support for SQLite < 3.7\n\nBoth Ubuntu 18.04 [1] and CentOS 8 [2] provide sufficiently new versions\nof SQLite that make this check unnecessary now.\n\n[1] https://packages.ubuntu.com/bionic/sqlite3\n[2] http://mirror.centos.org/centos/7/os/x86_64/Packages/\n\nChange-Id: I096e673319663f539788f27fdf056ad10153f6bf\n'}]",0,788871,23dd35d6800b49b24c0e41047c4452421d150bb6,29,5,1,31827,,,0,"Drop support for SQLite < 3.7

Both Ubuntu 18.04 [1] and CentOS 8 [2] provide sufficiently new versions
of SQLite that make this check unnecessary now.

[1] https://packages.ubuntu.com/bionic/sqlite3
[2] http://mirror.centos.org/centos/7/os/x86_64/Packages/

Change-Id: I096e673319663f539788f27fdf056ad10153f6bf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/788871/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/db/test_purge.py'],1,23dd35d6800b49b24c0e41047c4452421d150bb6,," self.conn.execute(""PRAGMA foreign_keys = ON"") self.conn.execute(""PRAGMA foreign_keys = ON"") self.conn.execute(""PRAGMA foreign_keys = ON"")"," # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # Force foreign_key checking if running SQLite >= 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] > 3 or (tup[0] == 3 and tup[1] >= 7): self.conn.execute(""PRAGMA foreign_keys = ON"") # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # Force foreign_key checking if running SQLite >= 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] > 3 or (tup[0] == 3 and tup[1] >= 7): self.conn.execute(""PRAGMA foreign_keys = ON"") # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # Force foreign_key checking if running SQLite >= 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] > 3 or (tup[0] == 3 and tup[1] >= 7): self.conn.execute(""PRAGMA foreign_keys = ON"") # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys')",3,33
openstack%2Fglance~master~Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0,openstack/glance,master,Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0,Refactor SynchronousAPIBase for more cases,MERGED,2021-04-26 19:09:15.000000000,2021-06-24 03:06:11.000000000,2021-06-24 03:04:44.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 19:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1e5178f3966620e8a04c41f8ea016dd67fe496ed', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 2, 'created': '2021-04-27 13:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a2ff853f0846bda176dec7240704b557d16da3c4', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 3, 'created': '2021-05-07 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3319f673071ab6db98fc18e724a89797ae713a66', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 4, 'created': '2021-06-02 15:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5cd1e37198c1305f3bddedb9e7cb8358541beb8d', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 5, 'created': '2021-06-02 17:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e1139dc0f8f05ec115a5869053a1b0a8b1744401', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 6, 'created': '2021-06-04 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d4730c2092f829d22c5cc4e8344bcce284602461', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 7, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d2cf86189d588dece6fcb767a6dff86993cf3b19', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 8, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f27ad252f00988c0bd0ba9ab17335e543a7dc195', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}, {'number': 9, 'created': '2021-06-21 15:46:41.000000000', 'files': ['glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a1e46cca6e84ff3a6dc4c6436bb77ef93b5a791d', 'message': 'Refactor SynchronousAPIBase for more cases\n\nThis simply adds some functionality and flexibility to this test base\nso that subsequent patches can do some more things.\n\nRelated to blueprint glance-unified-quotas\n\nChange-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0\n'}]",3,788065,a1e46cca6e84ff3a6dc4c6436bb77ef93b5a791d,32,3,9,4393,,,0,"Refactor SynchronousAPIBase for more cases

This simply adds some functionality and flexibility to this test base
so that subsequent patches can do some more things.

Related to blueprint glance-unified-quotas

Change-Id: Ic9359aac5dba2b4d7d0d2c7fa92a5b67440e22e0
",git fetch https://review.opendev.org/openstack/glance refs/changes/65/788065/8 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/__init__.py'],1,1e5178f3966620e8a04c41f8ea016dd67fe496ed,bp/glance-unified-quotas," self.config(filesystem_store_datadir=self._store_dir('tasks'), group='os_glance_tasks_store') def _create_and_upload(self, data_iter=None, expected_code=204): resp = self.api_post('/v2/images', json={'name': 'foo', 'container_format': 'bare', 'disk_format': 'raw'}) image = jsonutils.loads(resp.text) if data_iter: resp = self.api_put( '/v2/images/%s/file' % image['id'], headers={'Content-Type': 'application/octet-stream'}, body_file=data_iter) else: resp = self.api_put( '/v2/images/%s/file' % image['id'], headers={'Content-Type': 'application/octet-stream'}, data=b'IMAGEDATA') self.assertEqual(expected_code, resp.status_code) return image['id'] def _create_and_stage(self, data_iter=None, expected_code=204): self.assertEqual(expected_code, resp.status_code) def _wait_for_import(self, image_id, retries=10): for i in range(0, retries): image = self.api_get('/v2/images/%s' % image_id).json if not image.get('os_glance_import_task'): break self.addDetail('Create-Import task id', ttc.text_content(image['os_glance_import_task'])) time.sleep(1) return image def _create_and_import(self, stores=[], data_iter=None, expected_code=202): self.assertEqual(expected_code, resp.status_code) if expected_code >= 400: return image_id image = self._wait_for_import(image_id)"," def _create_and_stage(self, data_iter=None): self.assertEqual(204, resp.status_code) def _create_and_import(self, stores=[], data_iter=None): self.assertEqual(202, resp.status_code) for i in range(0, 10): image = self.api_get('/v2/images/%s' % image_id).json if not image.get('os_glance_import_task'): break self.addDetail('Create-Import task id', ttc.text_content(image['os_glance_import_task'])) time.sleep(1) ",41,12
openstack%2Foslo.log~master~I6d676d690e4656598be037914d5cc4b4f2adfa0c,openstack/oslo.log,master,I6d676d690e4656598be037914d5cc4b4f2adfa0c,Use py3 as the default runtime for tox,ABANDONED,2021-04-28 07:57:23.000000000,2021-06-24 02:23:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-28 07:57:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0cf8bb9ec8a3a34aaa9cadfa8f4352d12253e5a2', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\nChange-Id: I6d676d690e4656598be037914d5cc4b4f2adfa0c\n'}]",0,788421,0cf8bb9ec8a3a34aaa9cadfa8f4352d12253e5a2,3,1,1,31827,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.
Change-Id: I6d676d690e4656598be037914d5cc4b4f2adfa0c
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/21/788421/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0cf8bb9ec8a3a34aaa9cadfa8f4352d12253e5a2,,"envlist = py3,pep8","envlist = py36,py3,pep8",1,1
openstack%2Fcyborg-tempest-plugin~master~I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52,openstack/cyborg-tempest-plugin,master,I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52,fix typo,ABANDONED,2021-06-21 15:36:11.000000000,2021-06-24 02:21:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-21 15:36:11.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_deployables.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/7b5249a8c5367aadb9edb101603a7453712c1023', 'message': 'fix typo\n\nChange-Id: I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52\n'}]",0,797326,7b5249a8c5367aadb9edb101603a7453712c1023,3,1,1,25738,,,0,"fix typo

Change-Id: I0f5f0e9a8697d8a51eecd1c0e94f01e5237b4b52
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/26/797326/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_deployables.py'],1,7b5249a8c5367aadb9edb101603a7453712c1023,, def test_list_deployables(self):, def test_list_deployabcles(self):,1,1
openstack%2Fcyborg-tempest-plugin~master~I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4,openstack/cyborg-tempest-plugin,master,I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4,fix create device profile negative test,ABANDONED,2021-06-23 10:11:20.000000000,2021-06-24 02:16:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-23 10:11:20.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/7ea4f65ac5e0048a433e6cc5d8716ddc3a500a45', 'message': 'fix create device profile negative test\n\nChange-Id: I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4\n'}]",1,797617,7ea4f65ac5e0048a433e6cc5d8716ddc3a500a45,3,1,1,25738,,,0,"fix create device profile negative test

Change-Id: I7bc7ab298b7386b28d679cb06fccc3ea1b33b6f4
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/17/797617/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'],1,7ea4f65ac5e0048a433e6cc5d8716ddc3a500a45,," self.assertRaises(lib_exc.Conflict, self.addCleanup(self.os_admin.cyborg_client.delete_device_profile, dp[0]['name'])"," self.addCleanup(self.os_admin.cyborg_client.delete_device_profile, dp[0]['name']) self.assertRaises(lib_exc.ServerFault,",3,3
openstack%2Ftripleo-validations~stable%2Fvictoria~I585d03ad42fc0435c711a02717b2b17c1ec8275b,openstack/tripleo-validations,stable/victoria,I585d03ad42fc0435c711a02717b2b17c1ec8275b,Trigger molecule tests when modifying CI scripts,MERGED,2021-06-11 07:42:00.000000000,2021-06-24 01:30:26.000000000,2021-06-24 01:30:26.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 07:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f755757d551a45b8db8fba2ac45239e642e3c3eb', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n'}, {'number': 2, 'created': '2021-06-23 17:50:14.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2322fa4d3bf2c8d1a1390090129ce75bcc4dae0', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n'}]",39,795944,b2322fa4d3bf2c8d1a1390090129ce75bcc4dae0,15,6,2,11491,,,0,"Trigger molecule tests when modifying CI scripts

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b
(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/44/795944/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml']",2,f755757d551a45b8db8fba2ac45239e642e3c3eb,tsx_flag_compute," ""^roles/validation_"" ~ _role_name ~ ""/.*"", ""^tests/prepare-test-host.yml"", ""^ci/playbooks/pre.yml"", ""^ci/playbooks/run.yml"""," ""^roles/validation_"" ~ _role_name ~ ""/.*""",160,48
openstack%2Ftripleo-ci~master~I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc,openstack/tripleo-ci,master,I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc,Remove EPEL from test images,MERGED,2021-06-22 18:20:07.000000000,2021-06-24 00:05:14.000000000,2021-06-24 00:05:14.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 18:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4791ee599ef191bbe0a27ba846ff5cc869f75042', 'message': 'Disable EPEL from test images\n\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 2, 'created': '2021-06-22 18:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44dd8cd6899cfbe75bf03ff5587f1c07fb33e1fa', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 3, 'created': '2021-06-23 03:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa447edf9acd2c6e03f157f7fe05d696468d618d', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 4, 'created': '2021-06-23 10:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ae84b6581036cd2958ee7fb3aa7a858e66355a6', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 5, 'created': '2021-06-23 10:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3fe227a83443795e08501aa5fe637fa3c960b88b', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 6, 'created': '2021-06-23 12:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82e55873cf87234d66be9fdb79898b8cee141671', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 7, 'created': '2021-06-23 12:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a10412a20075f022bd6f7e4b14d0e7bd67ab0882', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 8, 'created': '2021-06-23 14:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/75289b76663acef474821a6bfde4d35f74a39547', 'message': 'Disable EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 9, 'created': '2021-06-23 15:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/13d5a4ec61fbe3deaab51e112ac37cfc8db41ef5', 'message': 'Remove EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}, {'number': 10, 'created': '2021-06-23 16:19:45.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml', 'test-requirements.txt', 'roles/tripleo-repos/molecule/default/prepare.yml', 'roles/tripleo-repos/molecule/default/playbook.yml', 'roles/tripleo-repos/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/29dbd915ec68c3e93fd841eff806f118c854903f', 'message': 'Remove EPEL from test images\n\nCloses-Bug: #1933193\nChange-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc\n'}]",0,797528,29dbd915ec68c3e93fd841eff806f118c854903f,26,4,10,24162,,,0,"Remove EPEL from test images

Closes-Bug: #1933193
Change-Id: I4f032471a1b1ab7fbf1051a4e3d8f85870f31dcc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/797528/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/molecule/default/prepare.yml'],1,4791ee599ef191bbe0a27ba846ff5cc869f75042,,- hosts: all tasks: - name: Disable EPEL yum_repository: name: epel enabled: false ,,6,0
openstack%2Fproject-config~master~If013a67fb01f23cb6cef9610f218fa6b55067851,openstack/project-config,master,If013a67fb01f23cb6cef9610f218fa6b55067851,nodepool: pause gentoo and tumbleweed builds,MERGED,2021-06-23 23:26:22.000000000,2021-06-24 00:01:53.000000000,2021-06-23 23:56:00.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 23:26:22.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/356b63f7bcd3d3a19c032a9c81edc685a3814673', 'message': 'nodepool: pause gentoo and tumbleweed builds\n\nBoth of these are failing in ways that look like we need to fix them\nin dib.  Stop attempting to build them for now.\n\nChange-Id: If013a67fb01f23cb6cef9610f218fa6b55067851\n'}]",0,797790,356b63f7bcd3d3a19c032a9c81edc685a3814673,8,2,1,7118,,,0,"nodepool: pause gentoo and tumbleweed builds

Both of these are failing in ways that look like we need to fix them
in dib.  Stop attempting to build them for now.

Change-Id: If013a67fb01f23cb6cef9610f218fa6b55067851
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/797790/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,356b63f7bcd3d3a19c032a9c81edc685a3814673,pause-failing-builds, pause: true pause: true, pause: false pause: false,2,2
openstack%2Fswift~master~Ib99c9fb61125122d2e3cca633ce3504fd311dc6d,openstack/swift,master,Ib99c9fb61125122d2e3cca633ce3504fd311dc6d,relinker: Add some logging when we want to clean up but can't,ABANDONED,2021-04-06 20:00:57.000000000,2021-06-23 23:51:08.000000000,,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 20:00:57.000000000', 'files': ['swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e5c1f3bdae287f470e38ce86754954a1685f021f', 'message': ""relinker: Add some logging when we want to clean up but can't\n\nChange-Id: Ib99c9fb61125122d2e3cca633ce3504fd311dc6d\n""}]",4,785038,e5c1f3bdae287f470e38ce86754954a1685f021f,6,3,1,15343,,,0,"relinker: Add some logging when we want to clean up but can't

Change-Id: Ib99c9fb61125122d2e3cca633ce3504fd311dc6d
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/785038/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/relinker.py'],1,e5c1f3bdae287f470e38ce86754954a1685f021f,," to_unlink = os.path.join(partition_path, f) try: os.unlink(to_unlink) except OSError as e: self.logger.info('Error unlinking %r: %s', to_unlink, e)"," try: os.unlink(os.path.join(partition_path, f)) except OSError: pass",5,3
openstack%2Ftripleo-quickstart-extras~master~I074016bbac527d0234d95a950532c1eefe1b0e2c,openstack/tripleo-quickstart-extras,master,I074016bbac527d0234d95a950532c1eefe1b0e2c,build-test-packages requires github.com to resolve - ipa,MERGED,2021-06-23 13:16:17.000000000,2021-06-23 22:48:13.000000000,2021-06-23 22:48:13.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-23 13:16:17.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e423bb068a96ed919ead08226f9447b2cdfc0332', 'message': 'build-test-packages requires github.com to resolve - ipa\n\nAdding the public server dns record github.com,\nrequired for the build-test-packages role.\n\nChange-Id: I074016bbac527d0234d95a950532c1eefe1b0e2c\n'}]",0,797644,e423bb068a96ed919ead08226f9447b2cdfc0332,9,5,1,9976,,,0,"build-test-packages requires github.com to resolve - ipa

Adding the public server dns record github.com,
required for the build-test-packages role.

Change-Id: I074016bbac527d0234d95a950532c1eefe1b0e2c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/797644/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'],1,e423bb068a96ed919ead08226f9447b2cdfc0332,ipa-github,"- name: Register A record resolved by public nameserver - github.com shell: > dig +short @{{ trunk_public_nameserver }} github.com register: github_record_public - name: Return A record resolved by public nameserver - github.com debug: msg: ""{{ github_record_public.stdout_lines[0] }}"" - '{{ github_record_public.stdout_lines[0] }} github.com'",,10,0
openstack%2Fneutron~master~If86e42c7c56bb0fc571d68818febf54a29a31aa2,openstack/neutron,master,If86e42c7c56bb0fc571d68818febf54a29a31aa2,Bump neutron-lib to 2.12.0,MERGED,2021-06-15 08:35:24.000000000,2021-06-23 22:39:28.000000000,2021-06-23 22:37:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7b3a8a7068e64cf370910e17eaf934483e06ef7', 'message': 'Bump neutron-lib to 2.12.0\n\nChange-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2\n'}, {'number': 2, 'created': '2021-06-16 02:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffe8460cc1f78016ccf243f8d4aef941064a85ab', 'message': 'Bump neutron-lib to 2.12.0\n\nRelated-bug: #1912460\nChange-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2\n'}, {'number': 3, 'created': '2021-06-17 03:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ab69dc6e194f756d3a35f62131f7e81168c2e73', 'message': 'Bump neutron-lib to 2.12.0\n\nRelated-bug: #1912460\nChange-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2\n'}, {'number': 4, 'created': '2021-06-22 01:43:57.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ea7d66216f96705d7a50d39a30046193bba17f1', 'message': 'Bump neutron-lib to 2.12.0\n\nRelated-bug: #1912460\nChange-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2\n'}]",0,796404,2ea7d66216f96705d7a50d39a30046193bba17f1,44,5,4,9531,,,0,"Bump neutron-lib to 2.12.0

Related-bug: #1912460
Change-Id: If86e42c7c56bb0fc571d68818febf54a29a31aa2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/796404/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,e7b3a8a7068e64cf370910e17eaf934483e06ef7,packet_rate_limit,neutron-lib==2.12.0,neutron-lib==2.11.0,2,2
openstack%2Fmanila-tempest-plugin~master~Ib1067db3771bacb287517e370c83a13d8bea89b5,openstack/manila-tempest-plugin,master,Ib1067db3771bacb287517e370c83a13d8bea89b5,Add stable branch jobs on the plugins master gate,MERGED,2020-05-05 22:16:03.000000000,2021-06-23 22:35:15.000000000,2021-06-23 21:34:38.000000000,"[{'_account_id': 8556}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2020-05-05 22:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/69b8a5d24c50aa51dec013f42c9377dc31bdf301', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\n'}, {'number': 2, 'created': '2020-05-05 23:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/425f91e92dfc5dbbb99d1c61fba9876336cb8404', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\n'}, {'number': 3, 'created': '2021-04-29 23:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f50a24c88fc998a973488aadd46d0b9f4a05d0e1', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby- train moving to EM next week)\nuse the Tempest and plugins master version for their testing.\nTo make sure master version (new tests or any changes) is\ncompatible with stable branch testing, we need to add the\nstable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\n'}, {'number': 4, 'created': '2021-05-14 20:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4a4f755b202f531383072398991baeddb9c8d96b', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby- train moving to EM next week)\nuse the Tempest and plugins master version for their testing.\nTo make sure master version (new tests or any changes) is\ncompatible with stable branch testing, we need to add the\nstable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2021-05-17 18:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2f4c17412b5388bf04c5112585fb241559c69ade', 'message': ""Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby) use the Tempest and\nplugin's master version for their testing.\n\nTo make sure master version (new tests or any changes)\nare compatible with stable branch testing, we need to\nadd the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the\nstable branches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we\nare running only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 6, 'created': '2021-05-18 01:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2950d99c5c1fbd1e6c7745ce367b5ffc87800dea', 'message': ""Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby) use the Tempest and\nplugin's master version for their testing.\n\nTo make sure master version (new tests or any changes)\nare compatible with stable branch testing, we need to\nadd the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the\nstable branches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we\nare running only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nThis change also sets branch specific tempest config\noptions for the stable branch test jobs.\n\n[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 7, 'created': '2021-05-18 05:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/186f4511530ce4ead156eeaf572e63cb0f3dda82', 'message': ""Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby) use the Tempest and\nplugin's master version for their testing.\n\nTo make sure master version (new tests or any changes)\nare compatible with stable branch testing, we need to\nadd the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the\nstable branches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we\nare running only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nThis change also sets branch specific tempest config\noptions for the stable branch test jobs.\n\n[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 8, 'created': '2021-05-19 17:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0da317a438fb8f7385787dcaf1e89d14fa789774', 'message': ""Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby) use the Tempest and\nplugin's master version for their testing.\n\nTo make sure master version (new tests or any changes)\nare compatible with stable branch testing, we need to\nadd the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the\nstable branches in same way [1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we\nare running only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 9, 'created': '2021-06-21 18:59:40.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cf95d4089769650bd4da4254dbd578b33b8d77d3', 'message': ""Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(ussuri, victoria, wallaby) use the Tempest and\nplugin's master version for their testing.\n\nTo make sure master version (new tests or any changes)\nare compatible with stable branch testing, we need to\nadd the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the\nstable branches in same way [1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we\nare running only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",7,725692,cf95d4089769650bd4da4254dbd578b33b8d77d3,59,5,9,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(ussuri, victoria, wallaby) use the Tempest and
plugin's master version for their testing.

To make sure master version (new tests or any changes)
are compatible with stable branch testing, we need to
add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the
stable branches in same way [1].

Ussuri onwards, Tempest or plugins are py3 only, so we
are running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

[1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ib1067db3771bacb287517e370c83a13d8bea89b5
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/92/725692/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,69b8a5d24c50aa51dec013f42c9377dc31bdf301,stable-jobs, - manila-tempest-dsvm-mysql-generic-ussuri: voting: false - manila-tempest-dsvm-mysql-generic-train: voting: false - manila-tempest-dsvm-mysql-generic-stein: voting: false - job: name: manila-tempest-dsvm-mysql-generic-ussuri parent: manila-tempest-dsvm-mysql-generic override-checkout: stable/ussuri - job: name: manila-tempest-dsvm-mysql-generic-train parent: manila-tempest-dsvm-mysql-generic override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: manila-tempest-dsvm-mysql-generic-stein parent: manila-tempest-dsvm-mysql-generic override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,,27,0
openstack%2Fneutron-specs~master~I1b57cbd45513295f80df96efca917476c4fa5033,openstack/neutron-specs,master,I1b57cbd45513295f80df96efca917476c4fa5033,L3 router support ndp proxy,MERGED,2020-05-16 08:50:02.000000000,2021-06-23 22:03:50.000000000,2021-06-23 22:01:03.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 28329}]","[{'number': 1, 'created': '2020-05-16 08:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ff7b0e3513a5db30eb66daac44f6416c279edacf', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 2, 'created': '2020-05-16 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c1cc9971d030a3a9af8e9a4a011059a7fff558d1', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 3, 'created': '2020-05-16 09:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f25a5c73638971fb00d956bb5921cdfbbcfb6766', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 4, 'created': '2020-05-17 06:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/52915e902515dbe009f73f8a899d903fe1ff2b1e', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 5, 'created': '2020-05-17 06:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9cc0ecb38e920172066946e1b1832f0d05fa84a8', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 6, 'created': '2020-05-17 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c73732571a0f5ebd10b6c95dedfddeca5f1dd353', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 7, 'created': '2020-05-19 11:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ce11d61050bf52f53eb8f0b1461e16fda88d7e9d', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 8, 'created': '2020-05-20 05:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a329739daf90d25976b79cfae0813d1664ac0af3', 'message': '[WIP] L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 9, 'created': '2020-05-20 06:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/39f4bdfb782b82628b3d5f1f74c16a583ee77bd9', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 10, 'created': '2020-06-01 09:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2f92d61b770acd8e5d8dd29ada9b8a690d5a0b9d', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 11, 'created': '2020-06-02 11:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/adc20a9eabc5ce03261670841caeb7b413de0694', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 12, 'created': '2020-06-08 02:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a3f2983ec7e8b8555aeedef69aaf4e4f21c99e6e', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 13, 'created': '2020-06-22 06:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2d8c85f64ad6916e9cf1e7ea8fd5621d9000f88c', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 14, 'created': '2020-06-24 01:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dfccdf2c83af41dcb394f9d3dee857345532e19f', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 15, 'created': '2020-06-24 02:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/aae42647ea3cedccb0a93eac89cf5ae7e656efb8', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 16, 'created': '2020-06-30 02:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/17236fefd94511850b52209bdaee6d02d56337e7', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 17, 'created': '2020-07-27 01:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ccff60fa255a2caeafa34368ccc3cebc72d14093', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 18, 'created': '2020-08-25 11:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78ef5b123adf9f1ef50bdbfe620177aed87b5342', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 19, 'created': '2020-09-15 02:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1e68fadafe13548c70de7f114d7cff970adf389a', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 20, 'created': '2020-11-08 07:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/582d734d7d7a5dc6349537c60a986f16dc7dfba4', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 21, 'created': '2020-11-15 03:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c7a1d031a2368bb52244a81128383555041b56c8', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 22, 'created': '2020-11-30 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6f7366ed340e619af19c39f2f147f9585255eedb', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 23, 'created': '2020-12-04 11:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/997bedaa5fbd48e71b02633eef0d8beeb1bcdad6', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 24, 'created': '2020-12-13 08:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a267c42c7e5bda822ba8d943fc50dc53dc181bd5', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 25, 'created': '2020-12-13 08:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/109b319f148eb95508c6770bb3ba84440538581b', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 26, 'created': '2020-12-14 01:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/477027b8592a64fb52201bd6ce22bfd6a440bff4', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 27, 'created': '2020-12-19 06:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/75dbed4ae79444a3985bd2a452ef18d23736e8cd', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 28, 'created': '2020-12-19 06:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1a20062471cab8e4ff026354438ce6812d839b84', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 29, 'created': '2020-12-23 06:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9eddf06c2c632b16ac764bec1771630987a18dbb', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 30, 'created': '2020-12-23 07:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a7cf342e2aeee05fb29c224d973e401889b16907', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 31, 'created': '2020-12-26 08:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/688c0882102461c1a8204735e78e6a6893affc58', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 32, 'created': '2021-01-09 09:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/be9587d5e88f159889ffa9e4a61fe064238be132', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 33, 'created': '2021-01-20 12:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/95530a6a718d414022572b43d3ce8d5860683dad', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 34, 'created': '2021-01-23 07:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d79eb8766634a54d68d7b134c1c75c4793c508f2', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 35, 'created': '2021-01-23 07:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9e57b90bef882001837afd5be9b184ed4ef45240', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 36, 'created': '2021-01-27 11:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/af8398a1ca4f82002eab1a2184ac4ebf3110b890', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 37, 'created': '2021-01-29 00:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0ba3c42630f520bb8d7852393f68e01ddc97dc92', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 38, 'created': '2021-02-06 01:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/40306ed260831342dbb8aa2ca7fca842ed340db4', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 39, 'created': '2021-02-21 04:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/78b08e03460a02af0726f4070245443e34b2e6b0', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 40, 'created': '2021-02-25 12:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e78edde87629bc7a00d3b5a2c145a4014e4743d3', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}, {'number': 41, 'created': '2021-06-08 11:30:31.000000000', 'files': ['specs/xena/l3-router-support-ndp-proxy.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6e6ad985f1403299eae125338185c725d023f030', 'message': 'L3 router support ndp proxy\n\nChange-Id: I1b57cbd45513295f80df96efca917476c4fa5033\nRelated-Bug: #1877301\n'}]",330,728628,6e6ad985f1403299eae125338185c725d023f030,151,10,41,28329,,,0,"L3 router support ndp proxy

Change-Id: I1b57cbd45513295f80df96efca917476c4fa5033
Related-Bug: #1877301
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/28/728628/34 && git format-patch -1 --stdout FETCH_HEAD,['specs/ussuri/l3-router-support-ndp-proxy.rst'],1,ff7b0e3513a5db30eb66daac44f6416c279edacf,bug/1877301,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== L3 router support NDP proxy =========================== Launchpad Bug: https://bugs.launchpad.net/neutron/+bug/1877301 The IPv6's NDP (Neighbor Discovery Protocol) is similar to IPv4's ARP (Address Resolution Protocol) in functional, but The NDP work at L3, the NDP proxy [1] is also similar to ARP proxy [2]. The linux kernal already implement NDP proxy, and the linux can configure any specify address to proxy, With this character, We can implement some APIs, link below: :: openstack router add ndp proxy <router_id> --address <ipv6 address> openstack router remove ndp proxy <router_id> --address <ipv6 address> Bey these methods, users/tenants can advertise specify IPv6 address to external. It looks a little like IPv4's floating ip, but don't any NAT action. Problem Description =================== As the ipv6 device more and more popularize, we should provide a simple method to make the ipv6 VMs more easily and flexiblly connect to external network. * In some user case, such as a web site which have some DB services, MQ services and portal services etc, and they work on IPv6 VMs with same subnet. The user just would like to publish portal services to external. So the user need some methods to just advertise a part of address to external. * The currently solution of publishing IPv6 address whichc the neutron support, such as BGP (Border Gateway Protocol) [3], PD (Prefix delegation) [4], is more complex, they require do some complex configuretions in upstream router. This maybe not suit some company their bare metal hosted in other IDC. Proposed Change =============== Overview -------- Implement a service plugin to support extension for ndp proxy API, defined a named ``ndp_proxy`` resource as the ``router`` resource's sub resource. Implement a extension of ``neutron-l3-agent`` to set the ndp proxy entry at external gateway port in router's namespace. Data Model Impact ----------------- The following new table is added as part of the ndp proxy feature:: CREATE TABLE ndpproxies ( id CHAR(36) NOT NULL PRI KEY, router VARCHAR(36) NOT NULL FOREIGN KEY, port VARCHAR(36) NOT NULL FOREIGN KEY, ip_address VARCHAR(64) NOT NULL, description VARCHAR(255) ); .. note:: This table lacks ``project_id``, as the owner of this ``ndp_proxy`` must be the owner of associated ``router``. So there is a project_id check for preventing association of ``router`` to neutron Port if their ``project_id`` are different. Also, allow the association that router/neutron Port exists on a shared network for admin users in different project_id cases, such as ``router`` from a shared public network created by a admin user and a Neutron Port from a particular internal tenant network created by the tenant user, then admin user want a association of them which have different project_ids. For general users, there is only the same project_id case. Sub Resource Extension ---------------------- Neutron ``router`` will be extented with a sub resource ``ndp_proxy``, it will contain some fields to expose the ``ndp_proxy`` assigned to the ``router`` resource. For this new feature, a new service plugin will be introduced, and the following methods will be added: * 'create_router_ndp_proxy()' * 'delete_router_ndp_proxy()' * 'get_router_ndp_proxy()' * 'get_router_ndp_proxies()' So the attributes map of new sub resource would be like: .. code-block:: python SUB_RESOURCE_ATTRIBUTE_MAP = { 'ndp_proxy': { 'parent': {'collection_name': 'routers', 'member_name': 'router'}, 'parameters': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'port': {'allow_post': True, 'allow_put': False, 'required': True, 'validate': {'type:uuid': None}, 'is_visible': True}, 'ip_address': {'allow_post': True, 'allow_put': False, 'default': None, 'validate': { 'type:ip_address_or_none': None}, 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'default': None, 'validate': {'type:string': 255}, 'is_visible': True}, } } } REST API Impact --------------- The idea is to extend the ``router`` Rest API with a new extension ``router_ndp_proxy`` with the below defined attributes. .. list-table:: Router extension * - Attribute Name - Type - CRUD - Default Value - Description * - ndp_proxies - List - R - None - The associated 'ndp-proxy' sub resource with the particular 'router' resource. The ``router`` extension definition would be expanded as : .. code-block:: python RESOURCE_ATTRIBUTE_MAP = { 'routers': { 'port_forwardings': {'allow_post': False, 'allow_put': False, 'is_visible': True, 'default': None} } } This new field will be exposed in the response during GET/POST/PUT requests of ``router`` resource. That means users can not change the ``ndp_proxy`` resources through CRU ``router``, only can create the ``ndp_proxy`` one by one with the new ndp proxy API which will be introduced below. For example, GET a ``router``: GET /v2.0/routers/<router-uuid> :: { ""router"": { ""admin_state_up"": true, ""availability_zone_hints"": [], ""availability_zones"": [ ""nova"" ], ""created_at"": ""2018-03-19T19:17:04Z"", ""description"": """", ""distributed"": false, ""external_gateway_info"": { ""enable_snat"": true, ""external_fixed_ips"": [ { ""ip_address"": ""172.24.4.6"", ""subnet_id"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" }, { ""ip_address"": ""2001:db8::9"", ""subnet_id"": ""0c56df5d-ace5-46c8-8f4c-45fa4e334d18"" } ], ""network_id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"" }, ""flavor_id"": ""f7b14d9a-b0dc-4fbe-bb14-a0f4970a69e0"", ""ha"": false, ""id"": ""f8a44de0-fc8e-45df-93c7-f79bf3b01c95"", ""name"": ""router1"", ""revision_number"": 1, ""routes"": [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" } ], ""ndp_proxyies"": [ { ""id"": ""fdb14dfa-d0df-4fbe-b414-a4f4370a66e4"", ""port"": ""add14d6a-d0df-4fbe-b414-a4f4370a66e4"", ""ip_address"": ""2001:217::19"", ""description"": ""Some descriptions"" } ], ""status"": ""ACTIVE"", ""updated_at"": ""2018-03-19T19:17:22Z"", ""project_id"": ""0bd18306d801447bb457a46252d82d13"", ""tenant_id"": ""0bd18306d801447bb457a46252d82d13"", ""service_type_id"": null, ""tags"": [""tag1,tag2""], ""conntrack_helpers"": [] } } For the new sub resource 'ndp_proxy', some new URLs will be introduced: List NDP Proxies ~~~~~~~~~~~~~~~~ GET /v2.0/routers/<router-uuid>/ndp_proxies The response body:: { ""ndp_proxies"": [ { ""id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"", ""port"": ""fa450s1f-aa6c-4c75-abf5-50dc9ac9df67"", ""ip_address"": ""2001:217::19"", ""description"": """" }, { ""id"": ""915a14a6-867b-4af7-83d1-70efceb146f9"", ""port"": ""4323401f-aa6c-4c75-abf5-50dc9ac99ef3"", ""ip_address"": ""2001:218::12"" ""description"": """" } ] } Show NDP Proxy ~~~~~~~~~~~~~~ GET /v2.0/routers/<router-uuid>/ndp_proxies/<ndp-proxy-id> The response body:: { ""ndp_proxy"": { ""id"": ""ae34051f-aa6c-4c75-abf5-50dc9ac99ef3"", ""port"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" ""ip_address"": ""2001:217::19"", ""description"": ""Some descriptions"" } } Create NDP Proxy ~~~~~~~~~~~~~~~~ POST /v2.0/routers/<router-uuid>/ndp_proxies The request body:: { ""ndp_proxy"": { ""port"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" ""ip_address"": ""2001:217::19"", ""description"": ""Some descriptions"" } } Because of that with the NDP proxy the IPv6 VMs communicate with external network by route forward, So the Address Scopes [5] need to be used to ensure the ``ip_address`` is unique and can be routed by upstream router. So there are some constraints here: * The router must be set external gateway and the gateway port must have a IPv6 address which alocate from a Address Scope. * The ip_address's subnet must be added to the router * The ip_address must be alocated from a Address Scope which same with router's IPv6 gateway address's The response body:: { ""ndp_proxy"": { ""id"": ""ad239fv5-aa6c-4c75-abf5-50dc9ac99ef3"", ""port"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" ""ip_address"": ""2001:217::19"", ""description"": ""Some descriptions"" } } Update NDP Proxy ~~~~~~~~~~~~~~~~ PUT /v2.0/routers/<router-uuid>/ndp_proxies/<ndp-proxy-id> The request body:: { ""ndp_proxy"": { ""description"": ""New descriptions"" } } The response body:: { ""ndp_proxy"": { ""id"": ""ad239fv5-aa6c-4c75-abf5-50dc9ac99ef3"", ""port"": ""b930d7f6-ceb7-40a0-8b81-a425dd994ccf"" ""ip_address"": ""2001:217::56"", ""description"": ""New descriptions"" } } Delete NDP proxy ~~~~~~~~~~~~~~~~ DELETE /v2.0/routers/<router-uuid>/ndp_proxies/<ndp-proxy-id> This operation does not accept a request body and does not return a response body. Additonal, if router or port be deleted, the ndp proxies which relational with them will be delete cascade. Effects on Existing Router IP APIs ---------------------------------- * If the router have any ndp proxy, it's external gateway mustn't be unset. * The subnet mustn't be removed when the router have the ndp proxy which ``ip_address`` is belong the subnet. L3 Agent Impact --------------- Implement a new extension to cooperate with the server API to set relational rules in router namespace. * If the router have ndp proxies, the extension will set the kernal parameter ``proxy_ndp`` as ``1`` in the router's namespace. * For each ndp proxies, the extension add a proxy entry to the router external gateway tap device. The executed command like this, assume user want to advertise ``2001::1:8`` address: `ip -6 neigh add proxy 2001::1:8 dev qg-733bd76b-62` * When delete a ndp proxy, the extension need to remove the proxy entry by the following command: `ip -6 neigh del proxy 2001::1:8 dev qg-733bd76b-62`. And The extension should also to add a iptables rule to drop all packets which destionation address is the ndp proxy's ``ip_address``, the iptables rule should be cleared automatically after a while, these processes is in order to ensure the neighbor entry about the address have sufficient time to become STALE and empty it in upstream router. HA Router Impact ~~~~~~~~~~~~~~~~ WIP DVR Router Impact ~~~~~~~~~~~~~~~~~ WIP References ========== .. [1] https://tools.ietf.org/html/rfc4389 .. [2] https://tools.ietf.org/html/rfc1027 .. [3] https://docs.openstack.org/neutron/train/admin/config-bgp-dynamic-routing.html#ipv6 .. [4] https://specs.openstack.org/openstack/neutron-specs/specs/liberty/ipv6-prefix-delegation.html .. [5] https://docs.openstack.org/neutron/latest/admin/config-address-scopes.html ",,392,0
openstack%2Fneutron~master~If5b997bcf6413f00a16504a5f40cb29e0d0af051,openstack/neutron,master,If5b997bcf6413f00a16504a5f40cb29e0d0af051,[ovn] Clean-up unused ACL method for DHCP,MERGED,2021-05-05 10:31:41.000000000,2021-06-23 21:00:50.000000000,2021-06-23 20:58:36.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 10:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e12f652d414e204a41bca0d160da07771f54e90c', 'message': '[ovn] Clean-up unused ACL method for DHCP\n\nThis patch removes an unused method that sets up DHCP ACLs in\nand the associated code in the relevant tests.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: If5b997bcf6413f00a16504a5f40cb29e0d0af051\n'}, {'number': 2, 'created': '2021-05-05 13:36:30.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a77a97371e680ec551225e1bc55b366dd6a780a0', 'message': '[ovn] Clean-up unused ACL method for DHCP\n\nThis patch removes an unused method that sets up DHCP ACLs in\nand the associated code in the relevant tests.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: If5b997bcf6413f00a16504a5f40cb29e0d0af051\n'}]",1,789777,a77a97371e680ec551225e1bc55b366dd6a780a0,28,4,2,23804,,,0,"[ovn] Clean-up unused ACL method for DHCP

This patch removes an unused method that sets up DHCP ACLs in
and the associated code in the relevant tests.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: If5b997bcf6413f00a16504a5f40cb29e0d0af051
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/789777/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/common/ovn/acl.py']",3,e12f652d414e204a41bca0d160da07771f54e90c,,,"def add_acl_dhcp(port, subnet, ovn_dhcp=True): # Allow DHCP requests for OVN native DHCP service, while responses are # allowed in ovn-northd. # Allow both DHCP requests and responses to pass for other DHCP services. # We do this even if DHCP isn't enabled for the subnet acl_list = [] if not ovn_dhcp: acl = {""lswitch"": utils.ovn_name(port['network_id']), ""lport"": port['id'], ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'to-lport', ""match"": ('outport == ""%s"" && ip4 && ip4.src == %s && ' 'udp && udp.src == 67 && udp.dst == 68' ) % (port['id'], subnet['cidr']), ""external_ids"": {'neutron:lport': port['id']}} acl_list.append(acl) acl = {""lswitch"": utils.ovn_name(port['network_id']), ""lport"": port['id'], ""priority"": ovn_const.ACL_PRIORITY_ALLOW, ""action"": ovn_const.ACL_ACTION_ALLOW, ""log"": False, ""name"": [], ""severity"": [], ""direction"": 'from-lport', ""match"": ('inport == ""%s"" && ip4 && ' 'ip4.dst == {255.255.255.255, %s} && ' 'udp && udp.src == 68 && udp.dst == 67' ) % (port['id'], subnet['cidr']), ""external_ids"": {'neutron:lport': port['id']}} acl_list.append(acl) return acl_list ",1,82
openstack%2Fglance~master~I7263ff1498dfdf51a919aa678adde413c1935bc6,openstack/glance,master,I7263ff1498dfdf51a919aa678adde413c1935bc6,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:39:19.000000000,2021-06-23 21:00:24.000000000,2021-06-23 20:58:48.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 06:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8d235721d9b130ed54cc868821a3198090f854a0', 'message': 'Changed minversion in tox to 3.18.0\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n[2]: https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7263ff1498dfdf51a919aa678adde413c1935bc6\n'}, {'number': 2, 'created': '2021-06-03 06:58:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/bba5014c1a5398f8bbc819bb558c5b1a7453e5a5', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I7263ff1498dfdf51a919aa678adde413c1935bc6\n""}]",0,794404,bba5014c1a5398f8bbc819bb558c5b1a7453e5a5,11,3,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I7263ff1498dfdf51a919aa678adde413c1935bc6
",git fetch https://review.opendev.org/openstack/glance refs/changes/04/794404/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8d235721d9b130ed54cc868821a3198090f854a0,update-min-tox,minversion = 3.18.0allowlist_externals = bash,minversion = 3.1.0whitelist_externals = bash,2,2
openstack%2Fglance~master~Ice0409fc063a77f507f25be3e583f79808783e84,openstack/glance,master,Ice0409fc063a77f507f25be3e583f79808783e84,Remove references to sys.version_info,MERGED,2021-05-28 00:45:13.000000000,2021-06-23 20:42:51.000000000,2021-06-23 20:41:31.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 00:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e3132dae7c198e1586d5c87aa4ac585156bc9e0', 'message': 'Remove references to sys.version_info\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: Ice0409fc063a77f507f25be3e583f79808783e84\n'}, {'number': 2, 'created': '2021-05-28 06:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8345429877b6a002ad9360fc1d9bacd9c9f4c374', 'message': 'Remove references to sys.version_info\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: Ice0409fc063a77f507f25be3e583f79808783e84\n'}, {'number': 3, 'created': '2021-06-01 07:08:16.000000000', 'files': ['glance/common/swift_store_utils.py', 'glance/common/property_utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3ec92eafc4312fc535764a66faa29d881bd06948', 'message': 'Remove references to sys.version_info\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: Ice0409fc063a77f507f25be3e583f79808783e84\n'}]",6,793513,3ec92eafc4312fc535764a66faa29d881bd06948,14,4,3,31412,,,0,"Remove references to sys.version_info

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: Ice0409fc063a77f507f25be3e583f79808783e84
",git fetch https://review.opendev.org/openstack/glance refs/changes/13/793513/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/swift_store_utils.py', 'glance/common/property_utils.py']",2,3e3132dae7c198e1586d5c87aa4ac585156bc9e0,,CONFIG = configparser.SafeConfigParser(),"# SafeConfigParser was deprecated in Python 3.2 if sys.version_info >= (3, 2): CONFIG = configparser.ConfigParser() else: CONFIG = configparser.SafeConfigParser()",2,10
openstack%2Fglance~master~I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c,openstack/glance,master,I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c,Replace collections.Iterable,MERGED,2021-02-01 10:59:12.000000000,2021-06-23 20:41:39.000000000,2021-06-23 20:38:55.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 10:59:12.000000000', 'files': ['glance/common/client.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9b67bd19763bf77d0b002ccc447de5b786b6a165', 'message': ""Replace collections.Iterable\n\nThis has been moved to the 'abc' submodule in Python 3.3 and the alias\nwill be removed in 3.10.\n\nChange-Id: I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,773357,9b67bd19763bf77d0b002ccc447de5b786b6a165,11,3,1,15334,,,0,"Replace collections.Iterable

This has been moved to the 'abc' submodule in Python 3.3 and the alias
will be removed in 3.10.

Change-Id: I9a39f57ab4ab29d62105812f82b3eb4c7548eb5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/773357/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/client.py'],1,9b67bd19763bf77d0b002ccc447de5b786b6a165,collections.abc,"import collections.abc return isinstance(body, collections.abc.Iterable)","import collections return isinstance(body, collections.Iterable)",2,2
openstack%2Fopenstack-ansible-os_heat~master~I3d1c51a025f2c94cb02f7e0882472344dcb97fa4,openstack/openstack-ansible-os_heat,master,I3d1c51a025f2c94cb02f7e0882472344dcb97fa4,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-18 17:04:18.000000000,2021-06-23 20:37:45.000000000,2021-06-23 20:36:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-18 17:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/ae420075e0390348369c05729c3113ae790b2685', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I3d1c51a025f2c94cb02f7e0882472344dcb97fa4\n""}, {'number': 2, 'created': '2021-03-18 18:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/b57b8acf86007e9de540d81584155d89dd10431f', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/766861\nChange-Id: I3d1c51a025f2c94cb02f7e0882472344dcb97fa4\n""}, {'number': 3, 'created': '2021-03-24 12:12:15.000000000', 'files': ['tasks/heat_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/5a8cd45701495a1010188030b67bb1e7a0fd7b85', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/heat/+/766861\nChange-Id: I3d1c51a025f2c94cb02f7e0882472344dcb97fa4\n""}]",0,781516,5a8cd45701495a1010188030b67bb1e7a0fd7b85,13,3,3,28619,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Depends-On: https://review.opendev.org/c/openstack/heat/+/766861
Change-Id: I3d1c51a025f2c94cb02f7e0882472344dcb97fa4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/16/781516/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/heat_post_install.yml', 'handlers/main.yml']",2,ae420075e0390348369c05729c3113ae790b2685,policy-json-to-yaml," # NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/heat/policy.json"" state: absent listen: - ""Restart heat services"" - ""venv changed""",,26,5
openstack%2Fneutron~master~Id80dc6790226cc81cb6535dc1bcaba58e991fdcb,openstack/neutron,master,Id80dc6790226cc81cb6535dc1bcaba58e991fdcb,use callback payloads for SECURITY_GROUP_RULE,MERGED,2021-05-25 06:48:41.000000000,2021-06-23 20:25:48.000000000,2021-06-23 20:22:34.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-05-25 06:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19edbb58e8a2fb134f5c03c7ff333938b8e776ee', 'message': '[WIP]use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 2, 'created': '2021-06-09 07:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4009ad48274fd2f4ee3fde00ae52d81fe8d20bc', 'message': '[WIP]use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 3, 'created': '2021-06-17 15:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d840294491e795c7e76c529e3f4758d423b4901', 'message': '[WIP]use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 4, 'created': '2021-06-18 12:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60aa7a714edca32933737578c0f2482bdd97d848', 'message': 'use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 5, 'created': '2021-06-22 07:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb17b2a13ad3e04fe99262f21dcdae857dbd93e8', 'message': 'use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 6, 'created': '2021-06-22 08:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95f49e552e93785d768efbbfb244dd23258077cf', 'message': 'use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}, {'number': 7, 'created': '2021-06-22 08:37:50.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/941be42a61bca5b4cbfe682a0fa232f16a840d56', 'message': 'use callback payloads for SECURITY_GROUP_RULE\n\nThis patch switches over to callback payloads for\nSECURITY_GROUP_RULE events.\n\nChange-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb\n'}]",6,792895,941be42a61bca5b4cbfe682a0fa232f16a840d56,49,4,7,32667,,,0,"use callback payloads for SECURITY_GROUP_RULE

This patch switches over to callback payloads for
SECURITY_GROUP_RULE events.

Change-Id: Id80dc6790226cc81cb6535dc1bcaba58e991fdcb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/792895/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,19edbb58e8a2fb134f5c03c7ff333938b8e776ee,sg_rules_callback," def _create_sg_rule_precommit(self, resource, event, trigger, payload=None): sg_rule = payload.latest_state context = payload.context self, resource, event, trigger, payload=None): context = payload.context security_group_rule = payload.latest_state context, security_group_rule) context, security_group_rule['id']) context,"," def _create_sg_rule_precommit(self, resource, event, trigger, **kwargs): sg_rule = kwargs.get('security_group_rule') context = kwargs.get('context') self, resource, event, trigger, **kwargs): kwargs['context'], kwargs.get('security_group_rule')) kwargs['context'], kwargs.get('security_group_rule_id')) kwargs['context'],",92,57
openstack%2Fneutron~stable%2Fussuri~If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,openstack/neutron,stable/ussuri,If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252,Make phynet paramter also is optional when network_segment_range enabled,MERGED,2021-06-08 11:25:58.000000000,2021-06-23 20:25:44.000000000,2021-06-23 20:23:21.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-08 11:25:58.000000000', 'files': ['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d27421d5823a525af654b640df06214d4c0c74a8', 'message': 'Make phynet paramter also is optional when network_segment_range enabled\n\nWhen network_segment_range plugin is not enabled, we can create a provider\nnetwork without physical_network parameter. In order to compatibility,\nWe should support to not provide physical_network parameter when create\nprovider network with network_segment_range plugin enabled.\n\nCloses-Bug: #1914842\nChange-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252\n(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)\n'}]",0,795279,d27421d5823a525af654b640df06214d4c0c74a8,37,4,1,28329,,,0,"Make phynet paramter also is optional when network_segment_range enabled

When network_segment_range plugin is not enabled, we can create a provider
network without physical_network parameter. In order to compatibility,
We should support to not provide physical_network parameter when create
provider network with network_segment_range plugin enabled.

Closes-Bug: #1914842
Change-Id: If19a6a9b0f2910baefba9d7ea9955b1f0ad7d252
(cherry picked from commit fa7c7282f019d3e0dd4d492f5ff2c47bd45b0ce7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/795279/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/test_network_segment_range.py', 'neutron/objects/network_segment_range.py']",2,d27421d5823a525af654b640df06214d4c0c74a8,bug/1914842-stable/ussuri, if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters): if (network_type == constants.TYPE_VLAN and 'physical_network' in _filters):, if network_type == constants.TYPE_VLAN: if network_type == constants.TYPE_VLAN:,80,4
openstack%2Fnova~stable%2Fvictoria~Icbf59b865af48570b6467ab48d9587b6243233f2,openstack/nova,stable/victoria,Icbf59b865af48570b6467ab48d9587b6243233f2,DNM: volume detach test,NEW,2021-06-23 15:18:04.000000000,2021-06-23 20:23:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-23 15:18:04.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cdc6e662daeea4b8dbf2b94f4689367380b6def', 'message': 'DNM: volume detach test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/794757\nChange-Id: Icbf59b865af48570b6467ab48d9587b6243233f2\n'}]",0,797675,2cdc6e662daeea4b8dbf2b94f4689367380b6def,6,1,1,17685,,,0,"DNM: volume detach test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/794757
Change-Id: Icbf59b865af48570b6467ab48d9587b6243233f2
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/797675/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,2cdc6e662daeea4b8dbf2b94f4689367380b6def,,# dummy change,,1,0
openstack%2Ftripleo-common~master~I38414673f804e228bef0341812a6cf313d92a111,openstack/tripleo-common,master,I38414673f804e228bef0341812a6cf313d92a111,Remove undercloud auth details from inventory,MERGED,2021-06-17 11:33:08.000000000,2021-06-23 20:19:50.000000000,2021-06-23 20:17:38.000000000,"[{'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-17 11:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/caebfa302cdee53c0a35450178cb8971b13b074b', 'message': 'WIP Remove undercloud auth details from inventory\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 2, 'created': '2021-06-17 12:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55ee4f3e8e4cada285a7fa799aac145bd988a3dd', 'message': 'WIP Remove undercloud auth details from inventory\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 3, 'created': '2021-06-18 06:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dffcaaab4777b64c2b2f2bb7cbfdea31a7085d98', 'message': 'Remove undercloud auth details from inventory\n\nThis also refactors to allow passing a cloud_name\nrather than a session object from the module.\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 4, 'created': '2021-06-18 08:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d09023201009b4f103e39130a3b31346f7c1e08d', 'message': 'Remove undercloud auth details from inventory\n\nThis also refactors to allow passing a cloud_name\nrather than a session object from the module.\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 5, 'created': '2021-06-19 07:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d0b602a79c51469bacdcc3006d4bfb4c70a04ef', 'message': 'Remove undercloud auth details from inventory\n\nThis also refactors to allow passing a cloud_name\nrather than a session object from the module.\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 6, 'created': '2021-06-19 12:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d12b816c5ed7012853a6926c870446140d251f3d', 'message': 'Remove undercloud auth details from inventory\n\nThis also refactors to allow passing a cloud_name\nrather than a session object from the module.\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}, {'number': 7, 'created': '2021-06-22 03:47:29.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8576785366d6071f72cbfbd7eae02044306a6991', 'message': 'Remove undercloud auth details from inventory\n\nThis also refactors to allow passing a cloud_name\nrather than a session object from the module.\n\nChange-Id: I38414673f804e228bef0341812a6cf313d92a111\n'}]",0,796825,8576785366d6071f72cbfbd7eae02044306a6991,37,5,7,8833,,,0,"Remove undercloud auth details from inventory

This also refactors to allow passing a cloud_name
rather than a session object from the module.

Change-Id: I38414673f804e228bef0341812a6cf313d92a111
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/796825/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,caebfa302cdee53c0a35450178cb8971b13b074b,undercloud-noauth,," self.auth_url = auth_url self.cacert = cacert self.project_name = project_name self.username = username _vars.setdefault('auth_url', self.auth_url) _vars.setdefault('project_name', self.project_name) _vars.setdefault('username', self.username) if self.cacert: _vars['cacert'] = self.cacert",0,10
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id33995996d930d06b65b51f72466120eb74ca467,openstack/tripleo-heat-templates,stable/wallaby,Id33995996d930d06b65b51f72466120eb74ca467,Move scenario004 to cephadm,MERGED,2021-06-23 11:29:31.000000000,2021-06-23 20:17:29.000000000,2021-06-23 20:17:29.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-23 11:29:31.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1d4c29d5384f6726b59623c242f446ad1ee54d8', 'message': 'Move scenario004 to cephadm\n\nThis patch changes the template references from ceph-ansible\nto cephadm, using the new role provided by tripleo-ansible.\nSince the Ceph dashboard requires a new -stable Ceph\ncontainer which is not yet released, the monitoring stack\ndeployment is disabled.\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n(cherry picked from commit fb67c2da9fee6d14b990cbee8ddde1dabe215ce0)\n'}]",0,797575,f1d4c29d5384f6726b59623c242f446ad1ee54d8,10,4,1,25402,,,0,"Move scenario004 to cephadm

This patch changes the template references from ceph-ansible
to cephadm, using the new role provided by tripleo-ansible.
Since the Ceph dashboard requires a new -stable Ceph
container which is not yet released, the monitoring stack
deployment is disabled.

Depends-On: Ief63794bebf1050744e1a54e554f5234d6337373
Depends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
Change-Id: Id33995996d930d06b65b51f72466120eb74ca467
(cherry picked from commit fb67c2da9fee6d14b990cbee8ddde1dabe215ce0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/797575/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,f1d4c29d5384f6726b59623c242f446ad1ee54d8,cephadm_ci_switch," OS::TripleO::Services::CephMgr: ../../deployment/cephadm/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/cephadm/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/cephadm/ceph-osd.yaml OS::TripleO::Services::CephGrafana: ../../deployment/cephadm/ceph-grafana.yaml OS::TripleO::Services::CephMds: ../../deployment/cephadm/ceph-mds.yaml OS::TripleO::Services::CephNfs: ../../deployment/cephadm/ceph-nfs.yaml OS::TripleO::Services::CephRgw: ../../deployment/cephadm/ceph-rgw.yaml OS::TripleO::Services::CephClient: ../../deployment/cephadm/ceph-client.yaml CephPoolDefaultPgNum: 8 CephEnableDashboard: false mon: mon_warn_on_pool_no_redundancy: false mon_warn_on_insecure_global_id_reclaim_allowed: false ganesha_vip: 192.168.24.3 CephConfigPath: ""/etc/ceph"" CephClientConfigVars: ""{{ playbook_dir }}/cephadm/ceph_client.yml"" CephSpecFqdn: true CephOsdSpec: data_devices: paths: - /dev/ceph_vg/ceph_lv_data "," OS::TripleO::Services::CephMgr: ../../deployment/ceph-ansible/ceph-mgr.yaml OS::TripleO::Services::CephMon: ../../deployment/ceph-ansible/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../deployment/ceph-ansible/ceph-osd.yaml OS::TripleO::Services::CephGrafana: ../../deployment/ceph-ansible/ceph-grafana.yaml OS::TripleO::Services::CephMds: ../../deployment/ceph-ansible/ceph-mds.yaml OS::TripleO::Services::CephNfs: ../../deployment/ceph-ansible/ceph-nfs.yaml OS::TripleO::Services::CephRgw: ../../deployment/ceph-ansible/ceph-rgw.yaml OS::TripleO::Services::CephClient: ../../deployment/ceph-ansible/ceph-client.yaml CephAnsibleDisksConfig: osd_objectstore: bluestore osd_scenario: lvm lvm_volumes: - data: ceph_lv_data data_vg: ceph_vg db: ceph_lv_db db_vg: ceph_vg wal: ceph_lv_wal wal_vg: ceph_vg CephPoolDefaultPgNum: 32 CephEnableDashboard: true CephAnsibleExtraConfig: centos_package_dependencies: [] ceph_osd_docker_memory_limit: '1g' ceph_mds_docker_memory_limit: '1g' mon_host_v1: { 'enabled': False } handler_health_mon_check_retries: 10 handler_health_mon_check_delay: 20 delegate_fact_host: false #NOTE: These ID's and keys should be regenerated for # a production deployment. What is here is suitable for # developer and CI testing only. CephAnsiblePlaybookVerbosity: 1 CephAnsibleRepo: ""tripleo-centos-ceph-nautilus"" CephAnsibleEnvironmentVariables: ANSIBLE_SSH_RETRIES: 4 DEFAULT_FORKS: 3 ganesha_vip: 192.168.24.3",21,37
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id26e4fb1627f208d390ef22184f4997120f151ac,openstack/tripleo-heat-templates,stable/train,Id26e4fb1627f208d390ef22184f4997120f151ac,[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt),MERGED,2021-06-22 14:44:42.000000000,2021-06-23 20:17:20.000000000,2021-06-23 20:17:20.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-22 14:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a03b4e9c782a8e4afb6a380795b27394eeae3ec2', 'message': ""[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)\n\nEven when we run modprobe just before leapp we are not 100% confident\nthat these drivers won't be loaded back during leapp run as some RPMs\nmay have post actions to load drivers back. Instead this patch removes\nthese kernel modules from leapp database (removed_drivers.txt) as we\nknow these modules are loaded (floppy, pata_acpi) but not used.\n\nChange-Id: Id26e4fb1627f208d390ef22184f4997120f151ac\n""}, {'number': 2, 'created': '2021-06-22 14:53:50.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43d94063f96e92557a428e4f90e4c4924e8efa0a', 'message': ""[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)\n\nEven when we run modprobe just before leapp we are not 100% confident\nthat these drivers won't be loaded back during leapp run as some RPMs\nmay have post actions to load drivers back. Instead this patch removes\nthese kernel modules from leapp database (removed_drivers.txt) as we\nknow these modules are loaded (floppy, pata_acpi) but not used.\n\nResolves: rhbz#1962365\n\nChange-Id: Id26e4fb1627f208d390ef22184f4997120f151ac\n""}]",0,797465,43d94063f96e92557a428e4f90e4c4924e8efa0a,12,11,2,11090,,,0,"[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)

Even when we run modprobe just before leapp we are not 100% confident
that these drivers won't be loaded back during leapp run as some RPMs
may have post actions to load drivers back. Instead this patch removes
these kernel modules from leapp database (removed_drivers.txt) as we
know these modules are loaded (floppy, pata_acpi) but not used.

Resolves: rhbz#1962365

Change-Id: Id26e4fb1627f208d390ef22184f4997120f151ac
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/797465/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,a03b4e9c782a8e4afb6a380795b27394eeae3ec2,," - name: Remove kernel drivers from Leapp removed_drivers.txt before running Leapp lineinfile: path: ""/usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/kernel/checkkerneldrivers/files/removed_drivers.txt"" regexp: ""{{ item }}"""," - name: disable unsupported kernel drivers in RHEL8 before upgrade via Leapp modprobe: name: ""{{ item }}""",4,3
openstack%2Fcharm-trilio-wlm~stable%2F21.03~I174cd14f069c2e9de3a38f79cf5edc8542971a39,openstack/charm-trilio-wlm,stable/21.03,I174cd14f069c2e9de3a38f79cf5edc8542971a39,Update lxd profile,MERGED,2021-06-09 13:09:41.000000000,2021-06-23 19:56:02.000000000,2021-06-23 19:56:02.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-09 13:09:41.000000000', 'files': ['src/lxd-profile.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/52ac246b58a47de6b796a819995c73b50a73a756', 'message': 'Update lxd profile\n\nAdd security.nesting to lxd profile to allow containers to be\ndeployed on focal.\n\nCloses-Bug: 1914577\nChange-Id: I174cd14f069c2e9de3a38f79cf5edc8542971a39\n(cherry picked from commit e0b6693254de35bca386400a35462039fe76002a)\n'}]",0,795464,52ac246b58a47de6b796a819995c73b50a73a756,10,3,1,12549,,,0,"Update lxd profile

Add security.nesting to lxd profile to allow containers to be
deployed on focal.

Closes-Bug: 1914577
Change-Id: I174cd14f069c2e9de3a38f79cf5edc8542971a39
(cherry picked from commit e0b6693254de35bca386400a35462039fe76002a)
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/64/795464/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lxd-profile.yaml'],1,52ac246b58a47de6b796a819995c73b50a73a756,bug/1914577-stable/21.03," security.nesting: ""true""",,1,0
openstack%2Fansible-collections-openstack~master~I99857903ed22f46e4bbf317dab49f5e581141ea2,openstack/ansible-collections-openstack,master,I99857903ed22f46e4bbf317dab49f5e581141ea2,Bump to devel 1.5.1-dev version,MERGED,2021-06-23 15:41:28.000000000,2021-06-23 19:40:07.000000000,2021-06-23 19:40:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 15:41:28.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b839f9e25d3ee0fea92c24404a14f7c2ed2648ac', 'message': 'Bump to devel 1.5.1-dev version\n\nChange-Id: I99857903ed22f46e4bbf317dab49f5e581141ea2\n'}]",0,797684,b839f9e25d3ee0fea92c24404a14f7c2ed2648ac,6,2,1,10969,,,0,"Bump to devel 1.5.1-dev version

Change-Id: I99857903ed22f46e4bbf317dab49f5e581141ea2
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/84/797684/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,b839f9e25d3ee0fea92c24404a14f7c2ed2648ac,dev150,version: 1.5.1-dev,version: 1.5.0,1,1
openstack%2Fopenstack-helm-images~master~I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d,openstack/openstack-helm-images,master,I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d,fix(dockerfile): removes blank lines,MERGED,2021-06-23 16:20:11.000000000,2021-06-23 19:30:23.000000000,2021-06-23 19:28:51.000000000,"[{'_account_id': 18250}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-06-23 16:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b4589c7080e6d878e6a5c50c7fc40857c194fc18', 'message': 'fix(dockerfile): removes blank lines\n\nThis patch removes all the blank lines in the run-on \\ command.\nThis also removes commented out block.\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d\n'}, {'number': 2, 'created': '2021-06-23 16:41:49.000000000', 'files': ['osh-selenium/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fc2a5cb320c89ccef4f219ce2296e31ded86c72e', 'message': 'fix(dockerfile): removes blank lines\n\nThis patch removes all the blank lines in the run-on \\ command.\nThis also removes commented out block.\n\nSigned-off-by: Tin Lam <t@lam.wtf>\nChange-Id: I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d\n'}]",0,797717,fc2a5cb320c89ccef4f219ce2296e31ded86c72e,10,4,2,33519,,,0,"fix(dockerfile): removes blank lines

This patch removes all the blank lines in the run-on \ command.
This also removes commented out block.

Signed-off-by: Tin Lam <t@lam.wtf>
Change-Id: I18d07e57adf05c4885eec02cb8aaf9e574ac5e1d
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/17/797717/1 && git format-patch -1 --stdout FETCH_HEAD,['osh-selenium/Dockerfile.ubuntu_bionic'],1,b4589c7080e6d878e6a5c50c7fc40857c194fc18,fix/dockerfile, # We'll keep it here for later to be able to easily remove chrome pinning \," #wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | apt-key add -; \ #sh -c 'echo ""deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main"" >> /etc/apt/sources.list.d/google.list'; \ #apt-get -y update; \ #apt-get install --no-install-recommends -y google-chrome-stable; \ # We'll keep it here for later to be able to easily remove chrome pinning",1,8
openstack%2Fcharm-guide~master~I51f8f9787f08a332335f0cb726758cea0413bab7,openstack/charm-guide,master,I51f8f9787f08a332335f0cb726758cea0413bab7,Add release schedule entry for 21.10,MERGED,2021-06-17 17:58:54.000000000,2021-06-23 19:14:15.000000000,2021-06-23 19:12:56.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-06-17 17:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/49db7db848ccb913a940f3aa82888900a5b72e55', 'message': 'Add release schedule entry for 21.10\n\nChange-Id: I51f8f9787f08a332335f0cb726758cea0413bab7\n'}, {'number': 2, 'created': '2021-06-23 14:40:53.000000000', 'files': ['doc/source/release-schedule.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8ee3388c06d8035a6026eb78c79e4ae6a7d7f8c8', 'message': 'Add release schedule entry for 21.10\n\nConfirmed in the QA meeting of June 23.\n\nChange-Id: I51f8f9787f08a332335f0cb726758cea0413bab7\n'}]",0,796932,8ee3388c06d8035a6026eb78c79e4ae6a7d7f8c8,10,3,2,30561,,,0,"Add release schedule entry for 21.10

Confirmed in the QA meeting of June 23.

Change-Id: I51f8f9787f08a332335f0cb726758cea0413bab7
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/32/796932/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-schedule.rst'],1,49db7db848ccb913a940f3aa82888900a5b72e55,2110-docs," 'next release' 'under development' 'current stable' '--' * - 21.10 - Fri, Oct 1, 2021 - Wed, Oct 13, 2021 - -- * - 21.04 - current stable - --", 'next release' 'under development' 'current stable' '--' * - 21.04 - current stable,12,6
openstack%2Fcinder~master~Idc03d997cfedfc2fcc967cca519997d157df115a,openstack/cinder,master,Idc03d997cfedfc2fcc967cca519997d157df115a,Fix instance locality scheduler filter,MERGED,2021-04-13 09:31:49.000000000,2021-06-23 19:06:36.000000000,2021-06-23 19:01:56.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 30858}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-13 09:31:49.000000000', 'files': ['cinder/compute/nova.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/738f81feebff0568f10c4c058a3173755d08a1e9', 'message': 'Fix instance locality scheduler filter\n\nthe filter tries to use list_extensions API of novaclient,\nhowever it was removed in Ussuri release\nhttps://review.opendev.org/c/openstack/python-novaclient/+/686516\n\nAll the former extensions are long ago rolled into Nova ""core"" code,\nso we may take the ""extension"" this filter depends on as given.\n\nChange-Id: Idc03d997cfedfc2fcc967cca519997d157df115a\n'}]",0,786025,738f81feebff0568f10c4c058a3173755d08a1e9,36,6,1,9542,,,0,"Fix instance locality scheduler filter

the filter tries to use list_extensions API of novaclient,
however it was removed in Ussuri release
https://review.opendev.org/c/openstack/python-novaclient/+/686516

All the former extensions are long ago rolled into Nova ""core"" code,
so we may take the ""extension"" this filter depends on as given.

Change-Id: Idc03d997cfedfc2fcc967cca519997d157df115a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/786025/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/compute/nova.py', 'cinder/scheduler/filters/instance_locality_filter.py', 'cinder/tests/unit/scheduler/test_host_filters.py']",3,738f81feebff0568f10c4c058a3173755d08a1e9,no-nova-api-ext, mock_get = mock_novaclient.return_value.servers.get mock_get.side_effect = request_exceptions.Timeout," def test_nova_no_extended_server_attributes(self, _mock_novaclient): _mock_novaclient.return_value = fakes.FakeNovaClient( ext_srv_attr=False) filt_cls = self.class_map['InstanceLocalityFilter']() host = fakes.FakeBackendState('host1', {}) uuid = nova.novaclient().servers.create('host1') filter_properties = {'context': self.context, 'scheduler_hints': {'local_to_instance': uuid}, 'request_spec': {'volume_id': fake.VOLUME_ID}} self.assertRaises(exception.CinderException, filt_cls.backend_passes, host, filter_properties) @mock.patch('cinder.compute.nova.novaclient') mock_show_all = mock_novaclient.return_value.list_extensions.show_all mock_show_all.side_effect = request_exceptions.Timeout",2,43
openstack%2Fcinder~master~I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a,openstack/cinder,master,I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a,Remove six from cinder.tests.unit.objects,MERGED,2021-03-16 09:27:35.000000000,2021-06-23 19:04:50.000000000,2021-06-23 19:01:07.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-16 09:27:35.000000000', 'files': ['cinder/tests/unit/objects/test_group.py', 'cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/tests/unit/objects/test_group_type.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1db0e34ccf53d3a40da58bcedafd0a297ca7000e', 'message': 'Remove six from cinder.tests.unit.objects\n\n- six.PY3\n\nChange-Id: I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a\n'}]",0,780757,1db0e34ccf53d3a40da58bcedafd0a297ca7000e,33,4,1,30092,,,0,"Remove six from cinder.tests.unit.objects

- six.PY3

Change-Id: I162a2b2b530bba074bf9bf6ecd5c4d6eab59cd0a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/780757/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_group.py', 'cinder/tests/unit/objects/test_consistencygroup.py', 'cinder/tests/unit/objects/test_group_type.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/tests/unit/objects/test_volume_type.py', 'cinder/tests/unit/objects/test_group_snapshot.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/tests/unit/objects/test_cgsnapshot.py', 'cinder/tests/unit/objects/test_snapshot.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",11,1db0e34ccf53d3a40da58bcedafd0a297ca7000e,bp/six-removal," mock.call.__bool__(),","import six if six.PY3: call_bool = mock.call.__bool__() else: call_bool = mock.call.__nonzero__() call_bool,",11,66
openstack%2Fneutron~stable%2Ftrain~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/train,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:37:53.000000000,2021-06-23 19:04:45.000000000,2021-06-23 19:00:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 14:37:53.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/939ad7016f0920530cdd937cb79649d886b65ade', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797410,939ad7016f0920530cdd937cb79649d886b65ade,10,3,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/797410/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,939ad7016f0920530cdd937cb79649d886b65ade,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri-stable/train," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fneutron~stable%2Fussuri~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/ussuri,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:37:10.000000000,2021-06-23 19:04:39.000000000,2021-06-23 19:00:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 14:37:10.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/87ec11cd901bbfeba631c281b99643848f3d6d7e', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797409,87ec11cd901bbfeba631c281b99643848f3d6d7e,10,3,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/797409/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,87ec11cd901bbfeba631c281b99643848f3d6d7e,bug/1923633-stable/wallaby-stable/victoria-stable/ussuri," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fcinder~master~Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82,openstack/cinder,master,Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82,HPMSA: Report SAN driver options,MERGED,2021-01-14 13:14:15.000000000,2021-06-23 19:01:33.000000000,2021-06-23 19:01:33.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-14 13:14:15.000000000', 'files': ['cinder/volume/drivers/san/hp/hpmsa_fc.py', 'cinder/volume/drivers/san/hp/hpmsa_iscsi.py', 'cinder/volume/drivers/san/hp/hpmsa_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52997e56c74da7878ec5e332f4b247d048cb1339', 'message': 'HPMSA: Report SAN driver options\n\nThe iSCSI and FC HPE HPMSA drivers are only reporting their specific\nconfiguration options on the ""get_driver_options"" method, but they\nshould also report the common SAN configuration options that they\nrequire.\n\nThis patch adds these configuration options as indicated in the current\ndocs [1].\n\n[1]: https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/hp-msa-driver.html\n\nChange-Id: Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82\n'}]",0,770807,52997e56c74da7878ec5e332f4b247d048cb1339,49,4,1,9535,,,0,"HPMSA: Report SAN driver options

The iSCSI and FC HPE HPMSA drivers are only reporting their specific
configuration options on the ""get_driver_options"" method, but they
should also report the common SAN configuration options that they
require.

This patch adds these configuration options as indicated in the current
docs [1].

[1]: https://docs.openstack.org/cinder/latest/configuration/block-storage/drivers/hp-msa-driver.html

Change-Id: Iec1f4c715b49d8a6461a9d175b9c6cfccf9b8c82
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/770807/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/san/hp/hpmsa_fc.py', 'cinder/volume/drivers/san/hp/hpmsa_iscsi.py', 'cinder/volume/drivers/san/hp/hpmsa_common.py']",3,52997e56c74da7878ec5e332f4b247d048cb1339,msa-report-config-options,"from cinder.volume import driver @staticmethod def get_driver_options(): additional_opts = driver.BaseVD._get_oslo_driver_opts( 'san_ip', 'san_login', 'san_password', 'driver_use_ssl', 'driver_ssl_cert_verify', 'driver_ssl_cert_path') return common_opts + additional_opts",,11,2
openstack%2Fpuppet-cinder~master~If052cde4da84970df4af657136060532ccb422f7,openstack/puppet-cinder,master,If052cde4da84970df4af657136060532ccb422f7,Add support for MultiStrOpt,MERGED,2021-05-05 01:45:30.000000000,2021-06-23 18:51:38.000000000,2021-06-23 18:51:38.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 01:45:30.000000000', 'files': ['lib/puppet/provider/cinder_config/openstackconfig.rb', 'spec/unit/provider/cinder_config/openstackconfig_spec.rb', 'lib/puppet/provider/cinder_config/ini_setting.rb', 'lib/puppet/type/cinder_config.rb', 'spec/unit/type/cinder_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/870ff626558c0203a4be1ae64e5d31212c0cd80f', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of cinder_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nis handled correctly.\n\nChange-Id: If052cde4da84970df4af657136060532ccb422f7\n'}]",0,789677,870ff626558c0203a4be1ae64e5d31212c0cd80f,7,3,1,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of cinder_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
is handled correctly.

Change-Id: If052cde4da84970df4af657136060532ccb422f7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/77/789677/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/cinder_config/openstackconfig.rb', 'spec/unit/provider/cinder_config/openstackconfig_spec.rb', 'lib/puppet/provider/cinder_config/ini_setting.rb', 'lib/puppet/type/cinder_config.rb', 'spec/unit/type/cinder_config_spec.rb']",5,870ff626558c0203a4be1ae64e5d31212c0cd80f,multistropt, expect(@cinder_config[:value]).to eq(['bar']) expect(@cinder_config[:value]).to eq(['b ar']), expect(@cinder_config[:value]).to eq('bar') expect(@cinder_config[:value]).to eq('b ar'),31,26
openstack%2Fneutron~stable%2Fwallaby~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/wallaby,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:35:10.000000000,2021-06-23 18:45:24.000000000,2021-06-23 18:42:47.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 14:35:10.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8581a7d57c8beec7dd4e9a388e4b63fd2febe78', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797407,b8581a7d57c8beec7dd4e9a388e4b63fd2febe78,11,3,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/797407/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,b8581a7d57c8beec7dd4e9a388e4b63fd2febe78,bug/1923633-stable/wallaby," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fneutron~stable%2Fvictoria~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,stable/victoria,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-22 14:36:45.000000000,2021-06-23 18:45:08.000000000,2021-06-23 18:43:33.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-22 14:36:45.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0defcf73e98e6406ecb9b05bc0a5171524f6425', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)\n'}]",0,797408,f0defcf73e98e6406ecb9b05bc0a5171524f6425,11,4,1,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
(cherry picked from commit 976cba61331702e1a8e4781af478fa4676afd13d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/797408/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,f0defcf73e98e6406ecb9b05bc0a5171524f6425,bug/1923633-stable/wallaby-stable/victoria," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fglance_store~master~Iec6c4be5c61710f2a7a0056168d0c31ade987b1f,openstack/glance_store,master,Iec6c4be5c61710f2a7a0056168d0c31ade987b1f,vmware: Use cookiejar from oslo.vmware client directly,MERGED,2021-04-23 11:41:46.000000000,2021-06-23 18:29:13.000000000,2021-06-23 18:27:14.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26250}]","[{'number': 1, 'created': '2021-04-23 11:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/64d3cde3a95c69aa29aa79dec21809d6549340a2', 'message': 'vmware: Use cookiejar from oslo.vmware client directly\n\nWith changing the SOAP library backing oslo.vmware [1], the cookiejar of\na session must be accessed differently. Therefore, oslo.vmware\nintroduced a property on the client to abstract this change away. This\ncommit uses the new place to access the attribute.\n\n[1]\nhttps://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: Iec6c4be5c61710f2a7a0056168d0c31ade987b1f\n'}, {'number': 2, 'created': '2021-04-30 12:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e60218b73b7f95126d3e9e46d1f9c6a1a35c5295', 'message': 'vmware: Use cookiejar from oslo.vmware client directly\n\nWith changing the SOAP library backing oslo.vmware [1], the cookiejar of\na session must be accessed differently. Therefore, oslo.vmware\nintroduced a property on the client to abstract this change away. This\ncommit uses the new place to access the attribute.\n\n[1]\nhttps://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: Iec6c4be5c61710f2a7a0056168d0c31ade987b1f\n'}, {'number': 3, 'created': '2021-04-30 12:08:58.000000000', 'files': ['test-requirements.txt', 'glance_store/_drivers/vmware_datastore.py', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/83c6fa7f7445225fde213aaad80ea3ce73a4836b', 'message': 'vmware: Use cookiejar from oslo.vmware client directly\n\nWith changing the SOAP library backing oslo.vmware [1], the cookiejar of\na session must be accessed differently. Therefore, oslo.vmware\nintroduced a property on the client to abstract this change away. This\ncommit uses the new place to access the attribute.\n\n[1]\nhttps://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: Iec6c4be5c61710f2a7a0056168d0c31ade987b1f\n'}]",0,787715,83c6fa7f7445225fde213aaad80ea3ce73a4836b,17,4,3,17031,,,0,"vmware: Use cookiejar from oslo.vmware client directly

With changing the SOAP library backing oslo.vmware [1], the cookiejar of
a session must be accessed differently. Therefore, oslo.vmware
introduced a property on the client to abstract this change away. This
commit uses the new place to access the attribute.

[1]
https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: Iec6c4be5c61710f2a7a0056168d0c31ade987b1f
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/15/787715/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/vmware_datastore.py', 'lower-constraints.txt']",2,64d3cde3a95c69aa29aa79dec21809d6549340a2,use_cookiejar_from_oslo_vmware_client_directly,oslo.vmware==3.6.0,oslo.vmware==2.17.0,2,2
openstack%2Fneutron~master~I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa,openstack/neutron,master,I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa,[DNM][WIP] Remove threading processing in L3 agent.,ABANDONED,2021-04-23 16:16:33.000000000,2021-06-23 17:48:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-23 16:16:33.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/common/resource_processing_queue.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a48bbcd394f1e78455dda1b798b15c25012b0d6', 'message': '[DNM][WIP] Remove threading processing in L3 agent.\n\nThis is a POC that tries to solve the problem we have when attending\nto the keepalived-state-chanche messages sent to the socket server\nopened in ""L3AgentKeepalivedStateChangeServer"".\n\nChange-Id: I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa\n'}]",30,787777,9a48bbcd394f1e78455dda1b798b15c25012b0d6,31,1,1,16688,,,0,"[DNM][WIP] Remove threading processing in L3 agent.

This is a POC that tries to solve the problem we have when attending
to the keepalived-state-chanche messages sent to the socket server
opened in ""L3AgentKeepalivedStateChangeServer"".

Change-Id: I653afa92ef938bc8603e70e4f4dcdbe8e7d568aa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/787777/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/common/resource_processing_queue.py']",2,9a48bbcd394f1e78455dda1b798b15c25012b0d6,l3_no_threads,"EMPTY_RESOURCE = object() try: next_update = self._queue.get(timeout=1) except queue.Empty: # RAH: think about returning something more ""identifiable"" yield EMPTY_RESOURCE, EMPTY_RESOURCE", next_update = self._queue.get(),29,19
openstack%2Fos-vif~master~I3e3eebfd60217c2e810c529774d340eb4171b802,openstack/os-vif,master,I3e3eebfd60217c2e810c529774d340eb4171b802,Make explicit the network backend used in the CI jobs,ABANDONED,2021-06-23 13:05:07.000000000,2021-06-23 17:44:40.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 13:05:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2489173c4a907e7014ffc69c8a03dfbdd8626577', 'message': 'Make explicit the network backend used in the CI jobs\n\nAll Neutron CI jobs (except for unit, functional and fullstack jobs),\nhave explicitly defined the network backend used:\n- linuxbridge\n- ovs\n- ovn\n\nThat was discussed and approved during the Neutron CI meetings [1].\n\n[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/797051\nChange-Id: I3e3eebfd60217c2e810c529774d340eb4171b802\n'}]",9,797640,2489173c4a907e7014ffc69c8a03dfbdd8626577,10,2,1,16688,,,0,"Make explicit the network backend used in the CI jobs

All Neutron CI jobs (except for unit, functional and fullstack jobs),
have explicitly defined the network backend used:
- linuxbridge
- ovs
- ovn

That was discussed and approved during the Neutron CI meetings [1].

[1]https://meetings.opendev.org/meetings/neutron_ci/2021/neutron_ci.2021-06-15-15.00.log.html

Depends-On: https://review.opendev.org/c/openstack/neutron/+/797051
Change-Id: I3e3eebfd60217c2e810c529774d340eb4171b802
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/40/797640/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2489173c4a907e7014ffc69c8a03dfbdd8626577,neutron_jobs_explicit_backend, os-vif iptables job derived from neutron-ovs-tempest-iptables_hybrid os-vif linux bridge job derived from neutron-linuxbridge-tempest, os-vif iptables job derived from neutron-tempest-iptables_hybrid os-vif linux bridge job derived from neutron-tempest-linuxbridge,2,2
openstack%2Fneutron~stable%2Fussuri~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/ussuri,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:16:38.000000000,2021-06-23 17:34:53.000000000,2021-06-23 17:32:24.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:16:38.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa8f6ff547b132a2b85d7da561fa3444de5f8254', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)\n'}]",0,796856,aa8f6ff547b132a2b85d7da561fa3444de5f8254,9,4,1,11975,,,0,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/796856/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,aa8f6ff547b132a2b85d7da561fa3444de5f8254,bug/1926693-stable/wallaby-stable/victoria-stable/ussuri," ""canonical name is used"")),"," ""socket.gethostname() is used"")),",119,7
openstack%2Fneutron~stable%2Fvictoria~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/victoria,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:15:30.000000000,2021-06-23 17:34:47.000000000,2021-06-23 17:32:16.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:15:30.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ee664f65bc650775713c7adcaf983e48c12dbec', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)\n'}]",0,796855,1ee664f65bc650775713c7adcaf983e48c12dbec,12,4,1,11975,,,0,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/796855/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,1ee664f65bc650775713c7adcaf983e48c12dbec,bug/1926693-stable/wallaby-stable/victoria," ""canonical name is used"")),"," ""socket.gethostname() is used"")),",119,7
openstack%2Freleases~master~I1b643a91f8294f60dcfa1b6dd5fc8b7785096511,openstack/releases,master,I1b643a91f8294f60dcfa1b6dd5fc8b7785096511,Release Kolla projects for Wallaby,MERGED,2021-06-22 14:51:43.000000000,2021-06-23 17:34:24.000000000,2021-06-23 17:34:24.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 14:51:43.000000000', 'files': ['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9fc733841de7d5d98455348785feec0dd649f8f1', 'message': 'Release Kolla projects for Wallaby\n\n* kolla 12.0.0\n* kolla-ansible 12.0.0\n* kayobe 10.0.0\n\nChange-Id: I1b643a91f8294f60dcfa1b6dd5fc8b7785096511\n'}]",0,797467,9fc733841de7d5d98455348785feec0dd649f8f1,9,4,1,14826,,,0,"Release Kolla projects for Wallaby

* kolla 12.0.0
* kolla-ansible 12.0.0
* kayobe 10.0.0

Change-Id: I1b643a91f8294f60dcfa1b6dd5fc8b7785096511
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/797467/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml']",3,9fc733841de7d5d98455348785feec0dd649f8f1,, - version: 12.0.0 projects: - repo: openstack/kolla-ansible hash: bcce291aa3bc1ee511e17fbc9a872612c55ed09d,,16,0
openstack%2Fneutron~stable%2Fwallaby~Iea2533f4c52935b4ecda9ec22fb619c131febfa1,openstack/neutron,stable/wallaby,Iea2533f4c52935b4ecda9ec22fb619c131febfa1,Make default hypervisor hostname compatible with libvirt,MERGED,2021-06-17 13:14:42.000000000,2021-06-23 17:33:34.000000000,2021-06-23 17:23:59.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:14:42.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0c487f711ab7d4a1ec615ea2f0e94614cbbf8da', 'message': 'Make default hypervisor hostname compatible with libvirt\n\nThis change ensures that neutron relies on the same logic as libvirt\nto generate hypervisor hostname, to fix imcompatible hostname format\nused in Nova and Neutron for resource provider name in some\nconfiguration pattens like the one generated by TripleO.\n\nCloses-Bug: #1926693\nChange-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1\n(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)\n'}]",0,796854,b0c487f711ab7d4a1ec615ea2f0e94614cbbf8da,10,4,1,11975,,,0,"Make default hypervisor hostname compatible with libvirt

This change ensures that neutron relies on the same logic as libvirt
to generate hypervisor hostname, to fix imcompatible hostname format
used in Nova and Neutron for resource provider name in some
configuration pattens like the one generated by TripleO.

Closes-Bug: #1926693
Change-Id: Iea2533f4c52935b4ecda9ec22fb619c131febfa1
(cherry picked from commit 577217c52d677ba35ca78b87c06302d506f66ff9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/796854/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'releasenotes/notes/bug-1926693-55406915708d59ec.yaml', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py']",5,b0c487f711ab7d4a1ec615ea2f0e94614cbbf8da,bug/1926693-stable/wallaby," ""canonical name is used"")),"," ""socket.gethostname() is used"")),",119,7
openstack%2Ftripleo-validations~stable%2Fussuri~Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,openstack/tripleo-validations,stable/ussuri,Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2,Compute TSX validation,MERGED,2021-06-10 13:27:20.000000000,2021-06-23 17:33:16.000000000,2021-06-23 17:23:03.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-10 13:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/634648c41209d2ac1ca32686fe7e266d1f707dc6', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n'}, {'number': 2, 'created': '2021-06-10 13:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/79f0fd636d45c67bbcdd4cae858471d16028c0b0', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n'}, {'number': 3, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/506d3f90e6472765b229db5728827147c7eb58fb', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n'}, {'number': 4, 'created': '2021-06-11 08:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4820a329b6c287dbedd691135c9d4d3e364234af', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 26319e7d5e607a98d34f8bf9a14eceeed9a14f92)\n(cherry picked from commit d5c6e6630daa02f4c5cbf2f3a66056f9443d31bc)\n'}, {'number': 5, 'created': '2021-06-11 14:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3c80b58b45625de00bc6d6fca8fe74af24f4690e', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n'}, {'number': 6, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/58772cd45dd680e1779aff366b22f1a7fb93e704', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n'}, {'number': 7, 'created': '2021-06-22 20:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/05ea7d0b157791170f6d51c9ff0e302fe29672b1', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n'}, {'number': 8, 'created': '2021-06-22 20:43:55.000000000', 'files': ['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7c937a03069ea939f87952f3532a42e0227c9c4b', 'message': 'Compute TSX validation\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nOperators are expected to explicitly define the TSX flag in\ntheir KernelArgs for the compute role to prevent live-migration\nissues during the upgrade process.\n\nThis also impacts upstream CentOS systems.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\nChange-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2\n(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)\n(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)\n(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)\n'}]",0,795793,7c937a03069ea939f87952f3532a42e0227c9c4b,29,7,8,27419,,,0,"Compute TSX validation

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Operators are expected to explicitly define the TSX flag in
their KernelArgs for the compute role to prevent live-migration
issues during the upgrade process.

This also impacts upstream CentOS systems.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758
Change-Id: Icfcfb1c07bbfbe05d27d67187d941c0c34fad2b2
(cherry picked from commit ede25c3e36a751daf68ce151521b371bb25f50dc)
(cherry picked from commit 74c30cf49147dedad2944da332b58079bc703200)
(cherry picked from commit 1d8c110b52bf90db9efaf55b4f071a1233270163)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/93/795793/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/compute_tsx/README.md', 'zuul.d/molecule.yaml', 'roles/compute_tsx/tasks/main.yml', 'roles/compute_tsx/vars/main.yml', 'releasenotes/notes/compute-tsx-validation-5d976a3fc5166536.yaml', 'playbooks/compute-tsx.yaml', 'doc/source/roles/role-compute_tsx.rst', 'roles/compute_tsx/defaults/main.yml', 'roles/compute_tsx/molecule/default/converge.yml', 'roles/compute_tsx/molecule/default/molecule.yml']",10,634648c41209d2ac1ca32686fe7e266d1f707dc6,tsx_flag_compute,"--- # inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. ",,391,0
openstack%2Ftripleo-validations~stable%2Fvictoria~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/victoria,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-06-11 07:42:00.000000000,2021-06-23 17:31:33.000000000,2021-06-23 17:20:57.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 07:42:00.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'ci/playbooks/run.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n""}]",0,795943,8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3,9,7,1,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/43/795943/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'ci/playbooks/pre.yml', 'roles/check_kernel_version/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/check_kernel_version/molecule/default/Dockerfile', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'ci/playbooks/run.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",112,8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3,,"# inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. "," log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra",351,2428
openstack%2Ftripleo-validations~stable%2Fussuri~I4717825e2767dc55016a30fb62aa6a5541f26cfd,openstack/tripleo-validations,stable/ussuri,I4717825e2767dc55016a30fb62aa6a5541f26cfd,Add shared configuration for all molecule test,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:31:26.000000000,2021-06-23 17:18:48.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f2f322c1ea195905d080b303a0e97c905f9592f3', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n""}, {'number': 2, 'created': '2021-06-22 19:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d64d8cdcc7a6036d21573dcdc630165c0c2c81a1', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n""}, {'number': 3, 'created': '2021-06-22 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1b92038f97b76b5a7d1eb77ea53bf30777fdc7ea', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n""}, {'number': 4, 'created': '2021-06-22 19:33:27.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'zuul.d/playbooks/pre.yml', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'zuul.d/playbooks/run.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a6d9d13a5fb21ba51c7da829b17aa5227d9cddbf', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (tripleo-validations/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in tripleo-validations/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd\n(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)\n(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)\n(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)\n""}]",0,795952,a6d9d13a5fb21ba51c7da829b17aa5227d9cddbf,14,4,4,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (tripleo-validations/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in tripleo-validations/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I4717825e2767dc55016a30fb62aa6a5541f26cfd
(cherry picked from commit 66193a69b79a51d436f132d30b0d530e0f1139ac)
(cherry picked from commit 6a3081beac7a845cd7a77f3813372fa8a8cc44f3)
(cherry picked from commit 8bd52a2fba9e05cdf9081d3e0f80d0db8fc572b3)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/795952/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'doc/source/_exts/ansible-autodoc.py', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'zuul.d/playbooks/pre.yml', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', '_skeleton_role_/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'zuul.d/playbooks/run.yml', '.config/molecule/Dockerfile', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'role-addition.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'tox.ini', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",110,f2f322c1ea195905d080b303a0e97c905f9592f3,tsx_flag_compute,"# inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml. "," log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile pkg_extras: python*-setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra",347,2382
openstack%2Ftripleo-validations~stable%2Fussuri~I1fb32100139736b88a078940f930122f2694955c,openstack/tripleo-validations,stable/ussuri,I1fb32100139736b88a078940f930122f2694955c,Add Validation Development Workflow Documentation,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:20:26.000000000,2021-06-23 17:20:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3756682fa29049e2374c7ee1d08fb7616bf9b06f', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n'}, {'number': 2, 'created': '2021-06-11 08:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9058d182d27459398366589de97a176e0c2e957f', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n'}, {'number': 3, 'created': '2021-06-22 19:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9619521a7c2f3a700d0410f6568306baedd0219c', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n'}, {'number': 4, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/42c2454127fb47e7ad5ad297ac0ab4c4bb003ba8', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n'}, {'number': 5, 'created': '2021-06-22 20:34:54.000000000', 'files': ['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a659c4a3444e526628937c4c3ab2ac7480e886f', 'message': 'Add Validation Development Workflow Documentation\n\nThis patch adds documentation for:\n- How to develop a molecule test for a new role\n- How to run the molecule test scenarios via tox-ansible\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I1fb32100139736b88a078940f930122f2694955c\n(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)\n(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)\n(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)\n'}]",0,795957,8a659c4a3444e526628937c4c3ab2ac7480e886f,17,4,5,11491,,,0,"Add Validation Development Workflow Documentation

This patch adds documentation for:
- How to develop a molecule test for a new role
- How to run the molecule test scenarios via tox-ansible

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I1fb32100139736b88a078940f930122f2694955c
(cherry picked from commit 443f8d328f63df4cc65c0ebf84c717772e77ed31)
(cherry picked from commit 99acc1cb493a7c6a7c70b776d9cc5a6aa5944256)
(cherry picked from commit 6fd4fc82d54b6dc023501e4373b155f22adf8618)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/795957/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-check_for_dangling_images.rst', 'doc/source/roles/role-system_encoding.rst', 'doc/source/roles/role-check_undercloud_conf.rst', 'doc/source/roles/role-check_rhsm_version.rst', 'doc/source/roles/role-check_uc_hostname.rst', 'doc/source/roles/role-package_version.rst', 'doc/source/groups.rst', 'doc/source/contributing/developer_guide.rst']",8,3756682fa29049e2374c7ee1d08fb7616bf9b06f,tsx_flag_compute,"have some metadata. Here is what a minimal validation would look like: .. code-block:: yaml`pre-deployment` and `hardware` groups: .. code-block:: yamldirectories, you will have to export some Ansible variables first: .. code-block:: consoleinventory file. It should look something like this: .. code-block:: INIHere is a sample module that will always fail .. code-block:: pythonso: .. code-block:: yaml.. Warning:: Each custom module must be accompanied by the most complete unit tests possible. Check which nodes are available with: .. code-block:: console.. code-block:: consolein there: .. code-block:: yamlthe same indentation as ``hosts`` and ``vars``: .. code-block:: yamlrequired: .. code-block:: consoleNow let's add an Ansible task to test that it's all set up properly: .. code-block:: yaml $ cat <<EOF >> roles/undercloud-ram/tasks/main.ymlWhen running it, it should output something like this: .. code-block:: consoleVALIDATIONS_BASEDIR with the value of base path of your git repo: .. code-block:: console $ cd /path/to/git/repo $ export VALIDATIONS_BASEDIR=$(pwd)So, let's replace the hello world task with a real one: .. code-block:: yamlRunning this, we see: .. code-block:: consolethe ``vars`` section: .. code-block:: yamlThen, update ``failed_when`` like this: .. code-block:: yamlAnd ``fail`` like so: .. code-block:: yaml.. code-block:: console .. code-block:: console - ^roles/${NEWROLENAME}/.* - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml - ^molecule-requirements.txtDeveloping your own molecule test(s) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The role addition process will create a default Molecule scenario from the skeleton. By using Molecule, you will be able to test it locally and of course it will be executed during the CI checks. In your role directory, you will notice a `molecule` folder which contains a single `Scenario` called `default`. Scenarios are the starting point for a lot of powerful functionality that Molecule offers. A scenario is a kind of a test suite for your newly created role. The Scenario layout +++++++++++++++++++ Within the `molecule/default` folder, you will find those files: .. code-block:: console $ ls molecule.yml converge.yml prepare.yml verify.yml * ``molecule.yml`` is the central configuration entrypoint for `Molecule`. With this file, you can configure each tool that `Molecule` will employ when testing your role. .. note:: `Tripleo-validations` uses a global configuration file for `Molecule`. This file is located at the repository level (``tripleo-validations/.config/molecule/.config.yml``). and defines all the default values for all the ``molecule.yml``. By default, the role addition process will produce an empty ``molecule.yml`` inheriting this ``config.yml`` file. Any key defined in the role ``molecule.yml`` file will override values from the ``config.yml`` file. But, if you want to override the default values set in the ``config.yml`` file, you will have to redefine them completely in your ``molecule.yml`` file. `Molecule` won't merge both configuration files and that's why you will have to redefine them completely. * ``prepare.yml`` is the playbook file that contains everything you need to include before your test. It could include packages installation, file creation, whatever your need on the instance created by the driver. * ``converge.yml`` is the playbook file that contains the call for you role. `Molecule` will invoke this playbook with ``ansible-playbook`` and run it against and instance created by the driver. * ``verify.yml`` is the Ansible file used for testing as Ansible is the default ``Verifier``. This allows you to write specific tests against the state of the container after your role has finished executing. Inspecting the Global Molecule Configuration file +++++++++++++++++++++++++++++++++++++++++++++++++ As mentioned above, ``tripleo-validations`` uses a global configuration for Molecule. .. literalinclude:: ../../../.config/molecule/config.yml :language: yaml * The ``Driver`` provider: ``podman`` is the default. Molecule will use the driver to delegate the task of creating instances. * The ``Platforms`` definitions: Molecule relies on this to know which instances to create, name and to which group each instance belongs. ``Tripleo-validations`` uses ``Universal Base Images (UBI8)`` which are container images based on a foundation of Red Hat Enterprise Linux software. See `Using Red Hat Universal Base Images`_ for details on using Red Hat UBI container images. * The ``Provisioner``: Molecule only provides an Ansible provisioner. Ansible manages the life cycle of the instance based on this configuration. * The ``Scenario`` definition: Molecule relies on this configuration to control the scenario sequence order. * The ``Verifier`` framework. Molecule uses Ansible by default to provide a way to write specific stat checking tests (such as deployment smoke tests) on the target instance. .. _Using Red Hat Universal Base Images: https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/building_running_and_managing_containers/index/#using_red_hat_universal_base_images_standard_minimal_and_runtimes Local testing of new roles can be done in two ways: * with `tox-ansible <https://github.com/ansible-community/tox-ansible>`_, * or via the script `scripts/run-local-test`. Running molecule tests with `tox-ansible`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ `Tox-ansible <https://github.com/ansible-community/tox-ansible>`_ is a plugin for `tox`_ which auto-generates tox environments for running quality assurance tools like `ansible-test`_ or `molecule`_. Tox-ansible will generate as many tox environment(s) as molecule scenarios in your role. This way you will be able to run locally the desired molecule scenario. To list all the defined environments generated by tox-ansible: .. code-block:: console $ tox -va default environments: ceph -> Auto-generated for: cd roles/ceph && molecule test -s default ceph-ceph-ansible-installed -> Auto-generated for: cd roles/ceph && molecule test -s ceph-ansible-installed check_for_dangling_images -> Auto-generated for: cd roles/check_for_dangling_images && molecule test -s default check_kernel_version -> Auto-generated for: cd roles/check_kernel_version && molecule test -s default check_network_gateway -> Auto-generated for: cd roles/check_network_gateway && molecule test -s default check_rhsm_version -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s default check_rhsm_version-rhsm_mismatch -> Auto-generated for: cd roles/check_rhsm_version && molecule test -s rhsm_mismatch check_uc_hostname -> Auto-generated for: cd roles/check_uc_hostname && molecule test -s default check_undercloud_conf -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s default check_undercloud_conf-config_OK -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s config_OK check_undercloud_conf-deprecated_drivers -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_drivers check_undercloud_conf-deprecated_params -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s deprecated_params check_undercloud_conf-required_missing -> Auto-generated for: cd roles/check_undercloud_conf && molecule test -s required_missing collect_flavors_and_verify_profiles -> Auto-generated for: cd roles/collect_flavors_and_verify_profiles && molecule test -s default container_status -> Auto-generated for: cd roles/container_status && molecule test -s default controller_token -> Auto-generated for: cd roles/controller_token && molecule test -s default controller_ulimits -> Auto-generated for: cd roles/controller_ulimits && molecule test -s default ... additional environments: bindep -> [no description] debug -> [no description] pep8 -> [no description] ansible-lint -> [no description] yamllint -> [no description] bashate -> [no description] whitespace -> [no description] shebangs -> [no description] releasenotes -> [no description] cover -> [no description] To execute one molecule scenario with tox, run the following command: .. code-block:: console $ tox -e check_undercloud_conf If you want to run several molecule scenarios at once, you will have to explicitly list all of them and separating them with commas: .. code-block:: console $ tox -e check_undercloud_conf,check_undercloud_conf-config_OK,check_undercloud_conf-deprecated_drivers .. warning:: Running multiple molecule scenarios at once could be time-consuming due to the fact that each Molecule execution will create a new container instance and will destroy it at the end of each scenario. .. _tox: https://tox.readthedocs.io/en/latest/index.html .. _ansible-test: https://docs.ansible.com/ansible/latest/dev_guide/developing_collections_testing.html#testing-collections .. _molecule: https://github.com/ansible-community/molecule Running molecule tests with the script run-local-test ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ what Zuul does on a *CentOS 8* machine.","have some metadata. Here is what a minimal validation would look like::`pre-deployment` and `hardware` groups::directories, you will have to export some Ansible variables first::inventory file. It should look something like this::Here is a sample module that will always fail::so::Check which nodes are available with::::in there::the same indentation as ``hosts`` and ``vars``::required.::Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.ymlWhen running it, it should output something like this::VALIDATIONS_BASEDIR with the value of base bath of your git repo.:: cd /path/to/git/repo export VALIDATIONS_BASEDIR=$(pwd) So, let's replace the hello world task with a real one::Running this, we see::the ``vars`` section::Then, update ``failed_when`` like this::And ``fail`` like so:: - ^roles/${NEWROLENAME}/.*Local testing of new roles can be done in any number of ways, however, the easiest way is via the script `run-local-test` on a *CentOS 8* machaine.what Zuul does.",260,53
openstack%2Ftripleo-validations~stable%2Fussuri~I219f4054e6b854306719b9c91a0738c526f07666,openstack/tripleo-validations,stable/ussuri,I219f4054e6b854306719b9c91a0738c526f07666,Introduce new Ansible validation_init role.,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:57.000000000,2021-06-23 17:19:57.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4e2ddbaf180256dd8eccb04757217deb3ccd4c25', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}, {'number': 2, 'created': '2021-06-11 08:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d32efebfae1e0b0dc640957316e54f2c468554b9', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}, {'number': 3, 'created': '2021-06-22 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e27459e86999eff23545e105e87db77cbe51351d', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}, {'number': 4, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f6e24cd28e77d04bd0f23d861fff4d60888127fd', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}, {'number': 5, 'created': '2021-06-22 20:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/afbfa01c7e9947d48de4fb53d583ba0f77c4fea1', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}, {'number': 6, 'created': '2021-06-22 20:34:32.000000000', 'files': ['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aa54732c3258ef33d052c1ed01b7ddea691f250a', 'message': 'Introduce new Ansible validation_init role.\n\nThis patch migrates the new role addition playbook into a proper Ansible\nrole with proper molecule tests. This new role will be responsible for\ncreating a new validation.\n\nIt is good to mention that the process won\'t change and it will be\nfully transparent for the user.\n\nTo create a new role in tripleo-validations:\n\n$ cd tripleo-validations/\n$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""\n$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I219f4054e6b854306719b9c91a0738c526f07666\n(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)\n(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)\n(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)\n'}]",0,795956,aa54732c3258ef33d052c1ed01b7ddea691f250a,21,4,6,11491,,,0,"Introduce new Ansible validation_init role.

This patch migrates the new role addition playbook into a proper Ansible
role with proper molecule tests. This new role will be responsible for
creating a new validation.

It is good to mention that the process won't change and it will be
fully transparent for the user.

To create a new role in tripleo-validations:

$ cd tripleo-validations/
$ export ANSIBLE_ROLES_PATH=""${PWD}/roles""
$ ansible-playbook -i localhost, role-addition.yml -e validation_init_role_name=${NEWROLENAME}

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I219f4054e6b854306719b9c91a0738c526f07666
(cherry picked from commit 83ba5e32fdf617d2669b5ed83517729b470a7cd5)
(cherry picked from commit 19bb19ea3c74feec3ceb6e6c31b14ca5855dae16)
(cherry picked from commit fc7ab69ef0f9b69611d08d78244440d7145ff96c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/795956/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validation_init/files/_skeleton_role_/tasks/main.yml.j2', 'roles/validation_init/files/_skeleton_role_/handlers/main.yml', 'roles/validation_init/files/_skeleton_role_/vars/main.yml.j2', 'roles/validation_init/molecule/default/prepare.yml', 'roles/validation_init/templates/README.md.j2', 'roles/validation_init/molecule/default/converge.yml', 'roles/validation_init/defaults/main.yml', 'roles/validation_init/tasks/main.yml', 'doc/source/contributing/developer_guide.rst', 'doc/source/roles/role-validation_init.rst', 'roles/validation_init/files/_skeleton_role_/defaults/main.yml.j2', 'zuul.d/molecule.yaml', 'roles/validation_init/files/_skeleton_role_/molecule/default/converge.yml.j2', 'roles/validation_init/README.md', 'role-addition.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/prepare.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/verify.yml', 'roles/validation_init/molecule/default/molecule.yml', 'roles/validation_init/files/_skeleton_role_/molecule/default/molecule.yml', '.config/molecule/config.yml', 'roles/validation_init/molecule/default/verify.yml']",21,4e2ddbaf180256dd8eccb04757217deb3ccd4c25,tsx_flag_compute,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Verify hosts: all gather_facts: false vars: new_role_path: ""/tmp/roles/tripleo_skeleton_test"" new_zmol_path: ""/tmp/zuul.d/molecule.yaml"" new_play_path: ""/tmp/playbooks/tripleo-skeleton-test.yaml"" new_role_doc: ""/tmp/doc/source/roles/role-tripleo_skeleton_test.rst"" tasks: - name: Check new role directory is present stat: path: ""{{ new_role_path }}"" register: roles_name_dir - assert: that: - roles_name_dir.stat.exists - roles_name_dir.stat.isdir fail_msg: | {{ new_role_path }} role directory doesn't exist. success_msg: | {{ new_role_path }} role directory does exist. - name: Read zuul molecule file slurp: src: ""{{ new_zmol_path }}"" register: molecule_yaml - name: Print returned information debug: msg: ""{{ molecule_yaml['content'] | b64decode }}"" - name: Check zuul molecule file content (gate/check definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*- tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*name: tripleo-validations-molecule-tripleo_undercloud_conf' line: ' - tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_def failed_when: (zuul_def is changed) or (zuul_def is failed) - name: Check zuul molecule file content (job definition) lineinfile: path: ""{{ new_zmol_path }}"" regexp: '^.*name: tripleo-validations-centos-8-molecule-skeleton' insertbefore: '^.*parent: tripleo-validations-centos-8-base$' line: ' name: tripleo-validations-centos-8-molecule-skeleton_test' state: present check_mode: true register: zuul_job_def failed_when: (zuul_job_def is changed) or (zuul_job_def is failed) - name: Check new validation playbook is present stat: path: ""{{ new_play_path }}"" register: play_name_path - assert: that: - play_name_path.stat.exists - play_name_path.stat.isreg fail_msg: | {{ new_play_path }} playbook doesn't exist. success_msg: | {{ new_play_path }} playbook directory does exist. - name: Read new playbook file slurp: src: ""{{ new_play_path }}"" register: playbook_yaml - name: Check playbook content for new role lineinfile: path: ""{{ new_play_path }}"" regexp: '.*- tripleo_skeleton: ' insertafter: '^.*roles:$' line: ' - tripleo_skeleton_test' state: present check_mode: true register: include_role failed_when: (include_role is changed) or (include_role is failed) - name: Print returned information debug: msg: ""{{ playbook_yaml['content'] | b64decode }}"" - name: Check new role doc is present stat: path: ""{{ new_role_doc }}"" register: role_doc_file - assert: that: - role_doc_file.stat.exists - role_doc_file.stat.isreg fail_msg: | {{ new_role_doc }} playbook doesn't exist. success_msg: | {{ new_role_doc }} playbook directory does exist. - name: Read new role documentation file slurp: src: ""{{ new_role_doc }}"" register: doc_file - name: Print returned information debug: msg: ""{{ doc_file['content'] | b64decode }}"" - name: Check role documentation content lineinfile: path: ""{{ new_role_doc }}"" regexp: '.*:role: ' insertafter: '^\.\. ansibleautoplugin::$' line: ' :role: /tmp/roles/tripleo_skeleton_test' state: present check_mode: true register: doc failed_when: (doc is changed) or (doc is failed) ",,643,169
openstack%2Ftripleo-validations~stable%2Fussuri~I259c17b7a49ff5bf3476df4da399cc4b2782403d,openstack/tripleo-validations,stable/ussuri,I259c17b7a49ff5bf3476df4da399cc4b2782403d,Remove workaround for tox-ansible and global molecule config,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:34.000000000,2021-06-23 17:19:34.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/76eb983e9842e38a95940787af2fdda540e2a83b', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n'}, {'number': 2, 'created': '2021-06-22 19:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc676f8b49e9a47b2a6387a30d0be5807365bba7', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n'}, {'number': 3, 'created': '2021-06-22 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2ed3928b3632dc8a549a9d6fd4f9c17bb614a14b', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n'}, {'number': 4, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9b1c02c8cf13af7ef654881f771bfdabbe89aa1d', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n'}, {'number': 5, 'created': '2021-06-22 20:21:47.000000000', 'files': ['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eea038f0a35b95a003cb9a4b14f987c5d2786a2d', 'message': 'Remove workaround for tox-ansible and global molecule config\n\n[1] has been merged and released[2] in upstream tox-ansible and it is now\nable to manage global molecule configuration. The workaround, which\nconsisted in adding the molecule driver name in each scenarios\nmolecule.yml files, is not necessary anymore.\n\nThis patch also removes all the relative symlink to the Dockerfile and\nadds directly in the global molecule configuration file.\n\n[1] https://github.com/ansible-community/tox-ansible/pull/89\n[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d\n(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)\n(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)\n(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)\n'}]",0,795955,eea038f0a35b95a003cb9a4b14f987c5d2786a2d,13,3,5,11491,,,0,"Remove workaround for tox-ansible and global molecule config

[1] has been merged and released[2] in upstream tox-ansible and it is now
able to manage global molecule configuration. The workaround, which
consisted in adding the molecule driver name in each scenarios
molecule.yml files, is not necessary anymore.

This patch also removes all the relative symlink to the Dockerfile and
adds directly in the global molecule configuration file.

[1] https://github.com/ansible-community/tox-ansible/pull/89
[2] https://github.com/ansible-community/tox-ansible/releases/tag/v1.5.0

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I259c17b7a49ff5bf3476df4da399cc4b2782403d
(cherry picked from commit c551910cf5f4ba0b6b00c45ae87ba325d9538baf)
(cherry picked from commit f3cba823d7424277402720946c76f2f78730e046)
(cherry picked from commit 12dd20e3b55e96d88468531f8752b9bcea21360b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/795955/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_disk_space/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/molecule.yml', 'roles/ceph/molecule/ceph-ansible-installed/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/Dockerfile', 'roles/switch_vlans/molecule/default/molecule.yml', 'roles/node_health/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/Dockerfile', 'roles/node_disks/molecule/default/Dockerfile', 'roles/check_for_dangling_images/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/molecule.yml', 'roles/openshift_on_openstack/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/default/molecule.yml', 'roles/stonith_exists/molecule/default/Dockerfile', 'roles/dhcp_validations/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/Dockerfile', 'roles/collect_flavors_and_verify_profiles/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/molecule.yml', 'roles/undercloud_debug/molecule/default/molecule.yml', 'roles/healthcheck_service_status/molecule/default/Dockerfile', 'roles/system_encoding/molecule/default/Dockerfile', 'roles/stack_health/molecule/default/Dockerfile', 'roles/ceph/molecule/default/Dockerfile', 'roles/nova_status/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/Dockerfile', 'roles/package_version/molecule/default/Dockerfile', 'roles/package_version/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/Dockerfile', 'roles/container_status/molecule/default/Dockerfile', 'roles/stonith_exists/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/default/molecule.yml', 'roles/controller_token/molecule/default/Dockerfile', 'roles/controller_token/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/Dockerfile', 'roles/undercloud_disk_space/molecule/default/molecule.yml', 'roles/switch_vlans/molecule/default/Dockerfile', 'roles/ceph/molecule/ceph-ansible-installed/molecule.yml', 'roles/image_serve/molecule/default/Dockerfile', 'roles/mysql_open_files_limit/molecule/default/molecule.yml', 'roles/ctlplane_ip_range/molecule/default/molecule.yml', 'roles/container_status/molecule/default/molecule.yml', 'roles/collect_flavors_and_verify_profiles/molecule/default/Dockerfile', 'roles/nova_svirt/molecule/default/molecule.yml', 'roles/network_environment/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/default/Dockerfile', 'roles/healthcheck_service_status/molecule/default/molecule.yml', 'roles/undercloud_process_count/molecule/default/molecule.yml', 'roles/check_rhsm_version/molecule/rhsm_mismatch/molecule.yml', 'roles/ovs_dpdk_pmd/molecule/default/molecule.yml', 'roles/tls_everywhere/molecule/default/molecule.yml', 'roles/stack_health/molecule/default/molecule.yml', 'roles/neutron_sanity_check/molecule/default/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/Dockerfile', 'roles/ctlplane_ip_range/molecule/default/Dockerfile', 'roles/repos/molecule/default/Dockerfile', 'roles/node_health/molecule/default/Dockerfile', 'roles/neutron_sanity_check/molecule/default/Dockerfile', 'roles/pacemaker_status/molecule/default/molecule.yml', 'roles/nova_event_callback/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/rhsm_mismatch/Dockerfile', 'roles/undercloud_debug/molecule/default/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/Dockerfile', 'roles/check_undercloud_conf/molecule/deprecated_params/Dockerfile', 'roles/check_undercloud_conf/molecule/required_missing/molecule.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/molecule.yml', '.config/molecule/config.yml', 'roles/ironic_boot_configuration/molecule/default/Dockerfile', 'roles/nova_event_callback/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_drivers/Dockerfile', 'roles/pacemaker_status/molecule/default/Dockerfile', 'roles/check_rhsm_version/molecule/default/Dockerfile', 'roles/ceilometerdb_size/molecule/default/molecule.yml', 'roles/repos/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/Dockerfile', 'roles/openstack_endpoints/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/molecule.yml', 'roles/nova_svirt/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/deprecated_services/Dockerfile', 'roles/ovs_dpdk_pmd/molecule/default/Dockerfile', 'roles/ceph/molecule/default/molecule.yml', 'roles/node_disks/molecule/default/molecule.yml', 'roles/undercloud_heat_purge_deleted/molecule/default/molecule.yml', 'roles/overcloud_service_status/molecule/default/Dockerfile', 'roles/undercloud_process_count/molecule/default/Dockerfile', 'roles/check_network_gateway/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/Dockerfile', 'roles/rabbitmq_limits/molecule/default/molecule.yml', 'roles/check_uc_hostname/molecule/default/molecule.yml', 'roles/check_for_dangling_images/molecule/default/Dockerfile', 'roles/undercloud_heat_purge_deleted/molecule/default/Dockerfile', 'roles/controller_ulimits/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/deprecated_params/molecule.yml', 'roles/undercloud_tokenflush/molecule/default/molecule.yml', 'roles/image_serve/molecule/default/molecule.yml', 'roles/openstack_endpoints/molecule/default/molecule.yml', 'roles/check_network_gateway/molecule/default/molecule.yml', 'roles/check_undercloud_conf/molecule/config_OK/molecule.yml', 'roles/mysql_open_files_limit/molecule/default/Dockerfile', 'roles/overcloud_service_status/molecule/down_services/molecule.yml', 'roles/undercloud_tokenflush/molecule/non-persistent-token-format/molecule.yml', 'roles/ironic_boot_configuration/molecule/default/molecule.yml']",102,76eb983e9842e38a95940787af2fdda540e2a83b,tsx_flag_compute,, driver: name: podman,5,208
openstack%2Ftripleo-validations~stable%2Fussuri~I5a00e854198fc5429db0353b490dc07192183476,openstack/tripleo-validations,stable/ussuri,I5a00e854198fc5429db0353b490dc07192183476,Quick documentation content reorganization,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:19:08.000000000,2021-06-23 17:19:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ab125b4cd9840e1a24f09c34565acfcffe916f20', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n'}, {'number': 2, 'created': '2021-06-22 19:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/201ab48f7098b347f2f7849376ac545c6a06ef59', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n'}, {'number': 3, 'created': '2021-06-22 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ac998cab1df2784ffcf46875f41223b0020654ef', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n'}, {'number': 4, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eee41bcde2f0923be9f1777d91191cf66729d036', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n'}, {'number': 5, 'created': '2021-06-22 20:21:36.000000000', 'files': ['doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3bab48c78d86c05aabb09fc32a8c5d2d84760e8b', 'message': 'Quick documentation content reorganization\n\nThis patch organizes better the content of the documentation files in order\nto render it clearer and better.\n\nChange-Id: I5a00e854198fc5429db0353b490dc07192183476\n(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)\n(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)\n(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)\n'}]",0,795954,3bab48c78d86c05aabb09fc32a8c5d2d84760e8b,14,4,5,11491,,,0,"Quick documentation content reorganization

This patch organizes better the content of the documentation files in order
to render it clearer and better.

Change-Id: I5a00e854198fc5429db0353b490dc07192183476
(cherry picked from commit 06ce5bf55cbc30aeb29e6775351dd3e63a964d4c)
(cherry picked from commit 98cdbd03db7048d1b8ed82205f93976c1862e0a3)
(cherry picked from commit 3d68f6a644d7020a550476e764ddbc77f996062c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/54/795954/4 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/contributing.rst', 'doc/source/index.rst', 'README.rst', 'doc/source/contributing/contributing.rst', 'doc/source/_exts/generate_validations_doc.py', 'doc/source/groups.rst', 'doc/source/installation.rst', 'doc/source/contributing/developer_guide.rst']",9,ab125b4cd9840e1a24f09c34565acfcffe916f20,tsx_flag_compute,Developer's Guide =================meta-data to provide information to the validation framework.----------------------------------------------------- name: tripleo-validations-centos-8-molecule-${NEWROLENAME} parent: tripleo-validations-centos-8-base - tripleo-validations-centos-8-molecule-${NEWROLENAME} - tripleo-validations-centos-8-molecule-${NEWROLENAME}--------------------------,"======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/tripleo-validations.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on TripleO Validations =================== A collection of Ansible roles and playbooks to detect and report potential issues during TripleO deployments. The validations will help detect issues early in the deployment process and prevent field engineers from wasting time on misconfiguration or hardware issues in their environments. All validations are written in Ansible and are written in a way that's consumable by the `Mistral validation framework <https://review.opendev.org/#/c/255792/>`_ or by Ansible directly. They are available independently from the UI or the command line client. * Free software: Apache license * Documentation: https://docs.openstack.org/tripleo-validations/latest/ * Release notes: https://docs.openstack.org/releasenotes/tripleo-validations/ * Source: https://opendev.org/openstack/tripleo-validations * Bugs: https://storyboard.openstack.org/#!/project/openstack/tripleo-validations Prerequisites ------------- The TripleO validations require Ansible 2.7 or above:: $ sudo pip install 'ansible>=2.7' Existing validations -------------------- Here are all the validations that currently exist. They're grouped by the deployment stage they're should be run on. Validations can belong to multiple groups. .. include:: validations-groups.rst To add a new group, you will need to edit the ``groups.yaml`` file located in the root of the TripleO Validations directory:: $ [vim|emacs] groups.yaml ... pre-update: - description: >- Validations which try to validate your OpenStack deployment before you update it. ...meta-data to provide information to the Mistral validation framework.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ name: tripleo-validations-centos-7-molecule-${NEWROLENAME} parent: tripleo-validations-centos-7-base - tripleo-validations-centos-7-molecule-${NEWROLENAME} - tripleo-validations-centos-7-molecule-${NEWROLENAME}~~~~~~~~~~~~~~~~~~~~~~~~~~",152,105
openstack%2Ftripleo-validations~stable%2Fussuri~I585d03ad42fc0435c711a02717b2b17c1ec8275b,openstack/tripleo-validations,stable/ussuri,I585d03ad42fc0435c711a02717b2b17c1ec8275b,Trigger molecule tests when modifying CI scripts,MERGED,2021-06-11 08:10:31.000000000,2021-06-23 17:18:51.000000000,2021-06-23 17:18:51.000000000,"[{'_account_id': 22348}, {'_account_id': 27419}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-06-11 08:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8db859539519d4b550d7126d77893523dd3a8b08', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}, {'number': 2, 'created': '2021-06-22 19:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5c1e3c542cf3b567a6b494f29082d144ad3b3624', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}, {'number': 3, 'created': '2021-06-22 19:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/97ef0fac9a8321d4833be5bce9c26652868eca0f', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}, {'number': 4, 'created': '2021-06-22 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2bebe90a81332a8e53af0116711b10acb199cbfa', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}, {'number': 5, 'created': '2021-06-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d1625a7f8d7738b5ce10ccbca4cd6b016ccbc160', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}, {'number': 6, 'created': '2021-06-22 20:20:44.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ccecdcbaf78ccb1e04afd26729968946d2a03a5e', 'message': 'Trigger molecule tests when modifying CI scripts\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b\n(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)\n(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)\n'}]",0,795953,ccecdcbaf78ccb1e04afd26729968946d2a03a5e,15,3,6,11491,,,0,"Trigger molecule tests when modifying CI scripts

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I585d03ad42fc0435c711a02717b2b17c1ec8275b
(cherry picked from commit 7db15e5fe2385b01d6b45ec46b6f776755294e05)
(cherry picked from commit f755757d551a45b8db8fba2ac45239e642e3c3eb)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/53/795953/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml']",2,8db859539519d4b550d7126d77893523dd3a8b08,tsx_flag_compute," ""^roles/validation_"" ~ _role_name ~ ""/.*"", ""^tests/prepare-test-host.yml"", ""^ci/playbooks/pre.yml"", ""^ci/playbooks/run.yml"""," ""^roles/"" ~ _role_name ~ ""/.*""",134,26
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/ussuri,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-23 07:33:27.000000000,2021-06-23 17:18:42.000000000,2021-06-23 17:18:42.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-23 07:33:27.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d304d61b4a9f3dd03f00824e622a654b44ad718', 'message': 'Limit collectds memory usage\n\nto guard nodes from running out of memory.\n\nIf there is a connection issue with collectd not being able to\nwrite to event or metrics endpoints, this can lead to accumulating\nto large portions of memory. Limiting the memory usage via podman\nmemory will prevent the container to grow limitless. In case of\nusing more than 512 MB, podman will restart the container.\n\nChange-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28\n(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)\n(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)\n(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)\n'}]",0,797573,6d304d61b4a9f3dd03f00824e622a654b44ad718,8,3,1,4264,,,0,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
(cherry picked from commit 02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/797573/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,6d304d61b4a9f3dd03f00824e622a654b44ad718,collectd_memory-stable/wallaby-stable/victoria-stable/ussuri, mem_limit: 512m,,1,0
openstack%2Fhorizon~stable%2Fvictoria~Ie69b7725a1e83c47b47488c9d83b47e97c056792,openstack/horizon,stable/victoria,Ie69b7725a1e83c47b47488c9d83b47e97c056792,Imported Translations from Zanata,MERGED,2021-06-20 06:54:13.000000000,2021-06-23 17:04:18.000000000,2021-06-23 17:02:02.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-20 06:54:13.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/146beeda55b290acb274017988c60c2662b50bed', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie69b7725a1e83c47b47488c9d83b47e97c056792\n'}]",0,797185,146beeda55b290acb274017988c60c2662b50bed,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie69b7725a1e83c47b47488c9d83b47e97c056792
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/797185/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-contributor.po'],1,146beeda55b290acb274017988c60c2662b50bed,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata""Project-Id-Version: horizon 18.6.3.dev16\n""""POT-Creation-Date: 2021-06-09 08:10+0000\n""""PO-Revision-Date: 2021-06-19 07:16+0000\n""msgid ""IRC channel: ``#openstack-horizon`` at OFTC"" msgstr ""IRC channel: ``#openstack-horizon`` at OFTC"" ","""Project-Id-Version: horizon 18.6.3.dev15\n""""POT-Creation-Date: 2021-06-08 08:04+0000\n""""PO-Revision-Date: 2020-09-12 10:26+0000\n""",7,3
openstack%2Fansible-collections-openstack~master~I433087510adf633e9656f844680ef22c1aff1a72,openstack/ansible-collections-openstack,master,I433087510adf633e9656f844680ef22c1aff1a72,Release 1.5.0 version,MERGED,2021-06-23 11:14:01.000000000,2021-06-23 16:59:01.000000000,2021-06-23 16:59:01.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 11:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/42fb26931436c570b57fd3141beeaa4621f3938c', 'message': 'Release 1.5.0 version\n\nChange-Id: I433087510adf633e9656f844680ef22c1aff1a72\n'}, {'number': 2, 'created': '2021-06-23 14:41:35.000000000', 'files': ['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b7765776a724d8e44613696f00947c55db5b2278', 'message': 'Release 1.5.0 version\n\nChange-Id: I433087510adf633e9656f844680ef22c1aff1a72\n'}]",0,797623,b7765776a724d8e44613696f00947c55db5b2278,9,2,2,10969,,,0,"Release 1.5.0 version

Change-Id: I433087510adf633e9656f844680ef22c1aff1a72
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/797623/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst']",3,42fb26931436c570b57fd3141beeaa4621f3938c,rel150,v1.5.0 ====== Release Summary --------------- New modules for DNS and FIPs and bugfixes. Minor Changes ------------- - Add bindep.txt for ansible-builder - Add check_mode attribute to OpenstackModule - Migrating image module from AnsibleModule to OpenStackModule - Switch KeystoneFederationProtocolInfo module to OpenStackModule - Switch ProjectAccess module to OpenStackModule - Switch Quota module to OpenStackModule - Switch Recordset module to OpenStackModule - Switch ServerGroup module to OpenStackModule - Switch ServerMetadata module to OpenStackModule - Switch Snapshot module to OpenStackModule - Switch Stack module to OpenStackModule - Switch auth module to OpenStackModule - Switch catalog_service module to OpenStackModule - Switch coe_cluster module to OpenStackModule - Switch coe_cluster_template module to OpenStackModule - Switch endpoint module to OpenStackModule - Switch federation_idp module to OpenStackModule - Switch federation_idp_info module to OpenStackModule - Switch federation_mapping module to OpenStackModule - Switch federation_mapping_info module to OpenStackModule - Switch federation_protocol module to OpenStackModule - Switch flavor module to OpenStackModule - Switch flavor_info module to OpenStackModule - Switch floating_ip module to OpenStackModule - Switch group_assignment module to OpenStackModule - Switch hostaggregate module to OpenStackModule - Switch identity_domain module to OpenStackModule - Switch identity_domain_info module to OpenStackModule - Switch identity_group module to OpenStackModule - Switch identity_group_info module to OpenStackModule - Switch identity_role module to OpenStackModule - Switch identity_user module to OpenStackModule - Switch lb_listener module to OpenStackModule - Switch lb_member module to OpenStackModule - Switch lb_pool module to OpenStackModule - Switch object module to OpenStackModule - Switch port module to OpenStackModule - Switch port_info module to OpenStackModule - Switch project and project_info module to OpenStackModule - Switch role_assignment module to OpenStackModule - Switch user_info module to OpenStackModule - image - Add support to setting image tags Bugfixes -------- - Update checks for validate_certs in openstack_cloud_from_module - compute_flavor - Fix the idempotent of compute_flavor module - host_aggregate - Fix host_aggregate to tolerate aggregate.hosts being None - inventory/openstack - Fix inventory plugin on Ansible 2.11 - setup.cfg Replace dashes with underscores - volume - Fail if referenced source image for a new volume does not exist New Modules ----------- - openstack.cloud.dns_zone_info - Getting information about dns zones - openstack.cloud.floating_ip_info - Get information about floating ips ,,132,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fvictoria~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/victoria,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 12:58:11.000000000,2021-06-23 16:57:35.000000000,2021-06-23 16:56:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-21 12:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/8e44def6ea0637c8ea4044f53545eee2057c0fd2', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}, {'number': 2, 'created': '2021-06-21 13:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1ffbe15ae596450efe9e6295c8cc62cde148de7f', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}, {'number': 3, 'created': '2021-06-21 15:53:13.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/94805d0a6a8c6daacbb08ae5ec970a89f0aeee1c', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}]",0,797271,94805d0a6a8c6daacbb08ae5ec970a89f0aeee1c,16,3,3,11290,,,0,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/71/797271/3 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,8e44def6ea0637c8ea4044f53545eee2057c0fd2,,"<<<<<<< HEAD (82e24b Install spice-html5 from source for RedHat)======= nova_spice_console_agent_enabled: True nova_spicehtml5_git_repo: ""{{ spicehtml5_git_repo | default('https://gitlab.freedesktop.org/spice/spice-html5.git') }}"" nova_spicehtml5_git_install_branch: ""{{ spicehtml5_git_install_branch | default('master') }}"" >>>>>>> CHANGE (924476 Use version from repo_packages for SPICE HTML5)",,6,0
openstack%2Fneutron~stable%2Ftrain~I229e926341c5e6c8b06f59950e3ae09864d0f1f6,openstack/neutron,stable/train,I229e926341c5e6c8b06f59950e3ae09864d0f1f6,Increase log information when a RootHelperProcess fails,MERGED,2020-04-21 17:12:42.000000000,2021-06-23 16:32:38.000000000,2020-04-23 04:48:45.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-21 17:12:42.000000000', 'files': ['neutron/tests/common/net_helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1811dc1bb59661cc18c83812035dca69453f1da', 'message': 'Increase log information when a RootHelperProcess fails\n\nIf a RootHelperProcess does not start, add more information to the\nexception raised: the command return code, the stdout and the stderr.\n\nChange-Id: I229e926341c5e6c8b06f59950e3ae09864d0f1f6\nCloses-Bug: #1861221\n(cherry picked from commit 97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6)\n'}]",0,721695,b1811dc1bb59661cc18c83812035dca69453f1da,13,5,1,16688,,,0,"Increase log information when a RootHelperProcess fails

If a RootHelperProcess does not start, add more information to the
exception raised: the command return code, the stdout and the stderr.

Change-Id: I229e926341c5e6c8b06f59950e3ae09864d0f1f6
Closes-Bug: #1861221
(cherry picked from commit 97773eaea6407eb12a0f1a2b8dbac24a71f3b7c6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/721695/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/common/net_helpers.py'],1,b1811dc1bb59661cc18c83812035dca69453f1da,bug/1861221," try: common_utils.wait_until_true(child_is_running, timeout) except common_utils.WaitTimeout: # If there is an error, the stderr and stdout pipes usually have # information returned by the command executed. If not, timeout # the pipe communication quickly. stdout = stderr = '' try: stdout, stderr = self.communicate(timeout=0.5) except subprocess.TimeoutExpired: pass msg = (""Process %(cmd)s hasn't been spawned in %(seconds)d "" ""seconds. Return code: %(ret_code)s, stdout: %(stdout)s, "" ""stderr: %(stderr)s"" % {'cmd': self.cmd, 'seconds': timeout, 'ret_code': self.returncode, 'stdout': stdout, 'stderr': stderr}) raise RuntimeError(msg) "," common_utils.wait_until_true( child_is_running, timeout, exception=RuntimeError(""Process %s hasn't been spawned "" ""in %d seconds"" % (self.cmd, timeout)))",19,5
openstack%2Fkayobe~stable%2Fussuri~I6c79d6f4df9be192e20db413b72f0b51e4d8d501,openstack/kayobe,stable/ussuri,I6c79d6f4df9be192e20db413b72f0b51e4d8d501,Update seed VM image to CentOS 8.4,MERGED,2021-06-17 12:28:53.000000000,2021-06-23 16:31:59.000000000,2021-06-23 16:30:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-17 12:28:53.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3ebeaefbdb00ab9885280c031624ed4b1b933c35', 'message': 'Update seed VM image to CentOS 8.4\n\nChange-Id: I6c79d6f4df9be192e20db413b72f0b51e4d8d501\n(cherry picked from commit 2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede)\n'}]",0,796670,3ebeaefbdb00ab9885280c031624ed4b1b933c35,10,3,1,15197,,,0,"Update seed VM image to CentOS 8.4

Change-Id: I6c79d6f4df9be192e20db413b72f0b51e4d8d501
(cherry picked from commit 2dad64bcd48dd58cb6c70cfc0654f7fcec5d9ede)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/796670/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml']",2,3ebeaefbdb00ab9885280c031624ed4b1b933c35,centos84-seed-vm-stable/ussuri,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.4.2105-20210603.0.x86_64.qcow2"".","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".",2,2
openstack%2Frequirements~master~Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4,openstack/requirements,master,Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4,Ensure upper-constraints.txt is sorted,ABANDONED,2021-06-22 16:31:37.000000000,2021-06-23 16:27:14.000000000,,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 16:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/32684eb2a221220cca9437894564c9ba94e003f9', 'message': 'Ensure upper-constraints.txt is sorted\n\n- sorts upper-constraints.txt\n- update validate tox env to ensure atomic sorting\n- ensure tox does not report success if it ended up modifying tracked\n  files, this means validate will not pass if the file was not already\n  sorted.\n- adopts newer allowlist_externals\n\nChange-Id: Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4\n'}, {'number': 2, 'created': '2021-06-22 16:33:27.000000000', 'files': ['upper-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a28213ee7e1a9098290201f716a4989045c07ba9', 'message': 'Ensure upper-constraints.txt is sorted\n\n- sorts upper-constraints.txt\n- update validate tox env to ensure atomic sorting\n- ensure tox does not report success if it ended up modifying tracked\n  files, this means validate will not pass if the file was not already\n  sorted.\n- adopts newer allowlist_externals\n\nChange-Id: Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4\n'}]",0,797506,a28213ee7e1a9098290201f716a4989045c07ba9,11,3,2,24162,,,0,"Ensure upper-constraints.txt is sorted

- sorts upper-constraints.txt
- update validate tox env to ensure atomic sorting
- ensure tox does not report success if it ended up modifying tracked
  files, this means validate will not pass if the file was not already
  sorted.
- adopts newer allowlist_externals

Change-Id: Ib06b9cbe14f9a585f84c6d245cbc2fd78d7c60b4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/797506/2 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'upper-constraints.txt']",2,32684eb2a221220cca9437894564c9ba94e003f9,fix/sort-upper-constraints,APScheduler===3.7.0 Babel===2.9.1 CouchDB===1.2 Django===2.2.24 Flask-RESTful===0.3.9 Flask===2.0.1 GitPython===3.1.18Logbook===1.5.3 Mako===1.1.4 MarkupSafe===2.0.1 Paste===3.5.0 PasteDeploy===2.1.1 Pillow===8.2.0 Pint===0.17 PyJWT===2.1.0 PyKMIP===0.10.0 PyMySQL===1.0.2 PyNaCl===1.4.0 PyYAML===5.4.1 Pygments===2.9.0 Routes===2.5.1 SQLAlchemy-Utils===0.37.7 SQLAlchemy===1.4.18 SecretStorage===3.3.1 Sphinx===3.5.4 Tempita===0.5.2 URLObject===2.4.3 WSME===0.10.1 WebOb===1.8.7 WebTest===2.0.35 Werkzeug===2.0.1 XStatic-Angular-Bootstrap===2.5.0.0 XStatic-Angular-FileUpload===12.0.4.0 XStatic-Angular-Gettext===2.4.1.0 XStatic-Angular-Schema-Form===0.8.13.0 XStatic-Angular-UUID===0.0.4.0 XStatic-Angular-Vis===4.16.0.0 XStatic-Angular-lrdragndrop===1.0.2.4 XStatic-Angular===1.5.8.0 XStatic-Bootstrap-Datepicker===1.4.0.0XStatic-D3===3.5.17.0 XStatic-Dagre-D3===0.4.17.0 XStatic-Dagre===0.6.4.1 XStatic-FileSaver===1.3.2.0 XStatic-Font-Awesome===4.7.0.0 XStatic-Graphlib===2.1.7.0 XStatic-Hogan===2.0.0.3XStatic-JQuery.TableSorter===2.14.5.2 XStatic-JQuery.quicksearch===2.0.3.2 XStatic-JS-Yaml===3.8.1.0 XStatic-JSEncrypt===2.3.1.1 XStatic-Jasmine===2.4.1.2 XStatic-Json2yaml===0.1.1.0 XStatic-Moment-Timezone===0.5.22.0 XStatic-Rickshaw===1.5.1.0 XStatic-Spin===1.2.5.3 XStatic-bootswatch===3.3.7.0 XStatic-jQuery===1.12.4.1 XStatic-jquery-ui===1.12.1.1 XStatic-lodash===4.16.4.2 XStatic-mdi===1.6.50.2 XStatic-moment===2.8.4.3 XStatic-objectpath===1.2.1.0 XStatic-roboto-fontface===0.5.0.0 XStatic-smart-table===1.4.13.2 XStatic-term.js===0.0.7.0 XStatic-tv4===1.2.7.0 XStatic===1.0.2 XenAPI===2.14 abclient===0.2.3 actdiag===2.0.0 alabaster===0.7.12 alembic===1.6.5 amqp===5.0.6 aniso8601===9.0.1anyio===3.2.0 anyjson===0.3.3api-object-schema===2.0.0 appdirs===1.4.4 arrow===1.1.0 async-generator===1.10;python_version=='3.6' attrs===21.2.0bashate===2.0.0 bcrypt===3.2.0 beautifulsoup4===4.9.3bitmath===1.3.3.1 blockdiag===2.0.1 boto3===1.17.97botocore===1.20.97 cached-property===1.5.2;python_version=='3.6'cachez===0.1.2 capacity===1.3.14 cassandra-driver===3.25.0 castellan===3.8.0ceilometermiddleware===2.2.0 certifi===2021.5.30chardet===4.0.0 click===8.0.1 cliff===3.8.0 cmd2===2.1.1confget===3.0.1 confluent-kafka===1.7.0 confspirator===0.3.0 construct===2.10.67 contextvars===2.4 cotyledon===1.7.3 coverage===5.5 croniter===1.0.13 cryptography===3.4.7 cursive===0.2.2 daiquiri===3.0.0 dataclasses===0.8;python_version=='3.6' ddt===1.4.2 debtcollector===2.2.0 decorator===4.4.2 defusedxml===0.7.1 deprecation===2.1.0 dfs-sdk===1.2.27 dib-utils===0.0.11 diskimage-builder===3.12.0 distlib===0.3.2 distro===1.5.0 django-appconf===1.0.4 django-compressor===2.4.1 django-debreach===2.0.1 django-formtools===2.3 django-nose===1.4.7 django-pymemcache===1.0.0 django-pyscss===2.0.2 dnspython===1.16.0 doc8===0.8.1 docker===5.0.0 docutils===0.16 dogpile.cache===1.1.3 dogtag-pki===10.7.4.1 dulwich===0.20.23 edgegrid-python===1.1.1 elasticsearch===2.4.1 elementpath===2.2.3 enmerkar===0.7.1 enum-compat===0.0.3 etcd3===0.12.0 etcd3gw===0.2.5 eventlet===0.30.2 exabgp===4.2.13 execnet===1.9.0 extras===1.0.0 falcon===3.0.1 fasteners===0.14.1 filelock===3.0.12 fixtures===3.0.0 flux===1.3.5 freezegun===1.1.0 funcparserlib===0.3.6 future===0.18.2 futures===3.1.1;python_version=='3.6' futurist===2.3.0 gabbi===2.2.0 geomet===0.2.1.post1 gitdb2===4.0.2 gitdb===4.0.7 glance-store===2.5.0 gnocchiclient===7.0.6 google-api-core===1.30.0 google-api-python-client===2.9.0 google-auth-httplib2===0.1.0 google-auth===1.31.0 googleapis-common-protos===1.53.0 gossip===2.4.0 graphviz===0.16 greenlet===1.1.0 grpcio===1.38.0 gunicorn===20.1.0 h11===0.12.0 heat-translator===2.4.0 horizon===19.2.0 httpcore===0.13.6 httplib2===0.19.1 httpx===0.18.2 hvac===0.10.14 hyperlink===21.0.0 icalendar===4.0.7 idna===2.10 ifaddr===0.1.7 imagesize===1.2.0 immutables===0.15 importlib-metadata===4.5.0 importlib-resources===5.1.4 infi.dtypes.iqn===0.4.0 infi.dtypes.wwn===0.1.1 infinisdk===185.1.1 influxdb===5.3.1 iniconfig===1.1.1iso8601===0.1.14 itsdangerous===2.0.1 jaeger-client===4.5.0 jeepney===0.6.0 jira===3.0.1 jmespath===0.10.0 joblib===1.0.1 jsonpatch===1.32 jsonpath-rw-ext===1.2.2 jsonpath-rw===1.4.0 jsonpointer===2.1 jsonschema===3.2.0 kafka-python===2.0.2 kazoo===2.8.0 keyring===23.0.1 keystoneauth1===4.3.1 keystonemiddleware===9.3.0 kombu===5.1.0 krest===1.3.2 kubernetes===17.17.0 kuryr-lib===2.3.0 ldap3===2.9 ldappool===3.0.0 libvirt-python===7.4.0 linecache2===1.0.0 lockfile===0.12.2 logutils===0.3.5 lxml===4.6.3 marathon===0.13.0 metalsmith===1.4.2 microversion-parse===1.0.1 mistral-lib===2.4.0 mitba===1.1.1 mock===4.0.3 monasca-common===3.3.0 monasca-statsd===2.2.0 monotonic===1.6 more-itertools===8.8.0 moto===2.0.10 mpmath===1.2.1 msgpack===1.0.2 munch===2.5.0 murano-pkg-check===0.3.0 mypy-extensions===0.4.3 mypy===0.902 ndg-httpsclient===0.5.1 netaddr===0.8.0 netifaces===0.11.0 netmiko===3.4.0 networkx===2.5.1 neutron-lib===2.12.0 nocasedict===1.0.2 nocaselist===1.0.4 nodeenv===1.6.0 nose-exclude===0.5.0 nose===1.3.7 nosehtmloutput===0.0.7 nosexcover===1.0.11 ntc-templates===2.0.0 ntlm-auth===1.5.0 numpy===1.19.5;python_version=='3.6' numpy===1.20.3;python_version=='3.8' nwdiag===2.0.0 oauth2client===4.1.3 oauthlib===3.1.1 octavia-lib===2.3.1 openstack-doc-tools===3.3.0 openstack-release-test===3.3.1 openstack.nose-plugin===0.11 openstackdocstheme===2.3.0 openstacksdk===0.57.0 opentracing===2.4.0 os-api-ref===2.2.0 os-apply-config===13.0.1 os-brick===4.4.0 os-client-config===2.1.0 os-collect-config===13.0.1 os-ken===2.0.0 os-net-config===15.0.0 os-refresh-config===13.0.1 os-resource-classes===1.0.0 os-service-types===1.7.0 os-testr===2.0.0 os-traits===2.5.0 os-vif===2.5.0 os-win===5.4.0 os-xenapi===0.3.4 osc-lib===2.4.0 osc-placement===3.0.0 oslo.cache===2.8.1 oslo.concurrency===4.4.0 oslo.config===8.7.0 oslo.context===3.3.0 oslo.db===9.1.0 oslo.i18n===5.0.1 oslo.limit===1.4.0 oslo.log===4.5.0 oslo.messaging===12.8.0 oslo.metrics===0.2.1 oslo.middleware===4.2.0 oslo.policy===3.8.1 oslo.privsep===2.5.0 oslo.reports===2.2.0 oslo.rootwrap===6.2.0 oslo.serialization===4.1.0 oslo.service===2.6.0 oslo.upgradecheck===1.4.0 oslo.utils===4.9.1 oslo.versionedobjects===2.4.0 oslo.vmware===3.9.0 oslosphinx===4.18.0 oslotest===4.4.1 osprofiler===3.4.1 ovs===2.13.3 ovsdbapp===1.11.0 packaging===20.9 pact===1.12.0 paramiko===2.7.2 passlib===1.7.4 pbr===5.6.0 pecan===1.3.3 persist-queue===0.6.0 pexpect===4.8.0 pifpaf===3.1.5 pika===1.2.0 pluggy===0.13.1 ply===3.11 prettytable===0.7.2 proboscis===1.2.6.0 prometheus-client===0.11.0 protobuf===3.17.3 psutil===5.8.0 psycopg2-binary===2.9.1 psycopg2===2.9.1 ptyprocess===0.7.0 purestorage===1.19.0 py===1.10.0 pyOpenSSL===20.0.1 pyScss===1.3.7 pyasn1-modules===0.2.8 pyasn1===0.4.8 pycadf===3.1.1 pycdlib===1.11.0 pycparser===2.20 pycryptodomex===3.10.1 pydot===1.4.2 pydotplus===2.0.2 pyeclib===1.6.0 pyghmi===1.5.28 pyinotify===0.9.6 pykerberos===1.2.1 pylxd===2.3.0 pymemcache===3.4.4 pymongo===3.11.4 pyngus===2.3.1 pyparsing===2.4.7 pyperclip===1.8.2 pypowervm===1.1.26 pyroute2.core===0.6.4 pyroute2.ethtool===0.6.4 pyroute2.ipdb===0.6.4 pyroute2.ipset===0.6.4 pyroute2.ndb===0.6.4 pyroute2.nftables===0.6.4 pyroute2.nslink===0.6.4 pyroute2===0.6.4 pyrsistent===0.17.3 pysaml2===7.0.1 pysendfile===2.0.1 pyserial===3.5 pysmi===0.3.4 pysnmp===4.4.12 pystache===0.5.4 pytest-django===4.4.0pytest-html===3.1.1 pytest-metadata===1.11.0 pytest-xdist===2.3.0 pytest===6.2.4 python-3parclient===4.2.11 python-barbicanclient===5.1.0 python-binary-memcached===0.30.1 python-blazarclient===3.2.0 python-ceilometerclient===2.9.0 python-cinderclient===7.4.0 python-cloudkittyclient===4.2.0 python-consul===1.1.0 python-cyborgclient===1.3.0 python-daemon===2.3.0 python-dateutil===2.8.1 python-designateclient===4.3.0 python-editor===1.0.4 python-freezerclient===4.2.0 python-glanceclient===3.4.0 python-glareclient===0.5.3 python-heatclient===2.3.0 python-ironic-inspector-client===4.5.0 python-ironicclient===4.7.0 python-json-logger===2.0.1 python-keystoneclient===4.2.0 python-ldap===3.3.1 python-linstor===1.8.0 python-magnumclient===3.5.0 python-manilaclient===2.7.0 python-masakariclient===7.0.0 python-memcached===1.59 python-mimeparse===1.6.0 python-mistralclient===4.2.0 python-monascaclient===2.3.0 python-muranoclient===2.2.0 python-neutronclient===7.5.0 python-novaclient===17.5.0 python-nss===1.0.1 python-octaviaclient===2.3.0 python-openstackclient===5.5.0 python-pcre===0.7 python-qpid-proton===0.34.0 python-rsdclient===1.0.2 python-saharaclient===3.3.0 python-senlinclient===2.2.1 python-slugify===5.0.2 python-solumclient===3.3.0 python-subunit===1.4.0 python-swiftclient===3.12.0 python-tackerclient===1.7.0 python-troveclient===7.1.0 python-vitrageclient===4.3.0 python-watcherclient===3.2.0 python-zaqarclient===2.1.0 python-zunclient===4.2.0 pytz===2021.1 pyudev===0.22.0 pywbem===1.2.0 pywinrm===0.4.2 pyzabbix===0.8.2 pyzmq===22.1.0 rbd-iscsi-client===0.1.8 rcssmin===1.0.6 redis===3.5.3 reno===3.3.0 repoze.lru===0.7 requests-aws===0.1.8 requests-kerberos===0.12.0 requests-mock===1.9.3 requests-ntlm===1.1.0 requests-oauthlib===1.3.0 requests-toolbelt===0.9.1 requests-unixsocket===0.2.0 requests===2.25.1 requestsexceptions===1.4.0 responses===0.13.3 restructuredtext-lint===1.3.2 retrying===1.3.3 retryz===0.1.9 rfc3986===1.5.0 rjsmin===1.1.0 rsa===4.7.2 rsd-lib===1.2.0 rst2txt===1.1.0 rtslib-fb===2.1.74 ruamel.yaml.clib===0.2.2 ruamel.yaml===0.17.9 ryu===4.34 s3transfer===0.4.2 sadisplay===0.4.9 salt===3003scipy===1.5.4;python_version=='3.6' scipy===1.7.0;python_version=='3.8' scp===0.13.4 scrypt===0.8.18 selenium===3.141.0 semantic-version===2.8.5 sentinels===1.0.0 seqdiag===2.0.0 setproctitle===1.2.2simplegeneric===0.8.1 simplejson===3.17.2 six===1.16.0 smmap===4.0.0 sniffio===1.2.0 snowballstemmer===2.1.0 sortedcontainers===2.4.0 soupsieve===2.2.1 sphinx-feature-classification===1.1.0 sphinx-testing===1.0.1 sphinxcontrib-actdiag===2.0.0 sphinxcontrib-apidoc===0.3.0 sphinxcontrib-applehelp===1.0.2 sphinxcontrib-blockdiag===2.0.0 sphinxcontrib-devhelp===1.0.2 sphinxcontrib-htmlhelp===2.0.0 sphinxcontrib-httpdomain===1.7.0 sphinxcontrib-jsmath===1.0.1 sphinxcontrib-nwdiag===2.0.0 sphinxcontrib-pecanwsme===0.10.0 sphinxcontrib-programoutput===0.17 sphinxcontrib-qthelp===1.0.3 sphinxcontrib-runcmd===0.2.0 sphinxcontrib-seqdiag===2.0.0 sphinxcontrib-serializinghtml===1.1.5 sphinxcontrib-svg2pdfconverter===1.1.1 sphinxcontrib.datatemplates===0.8.1 sqlalchemy-filters===0.12.0 sqlalchemy-migrate===0.13.0 sqlparse===0.4.1 sshtunnel===0.4.0 statsd===3.3.0 stestr===3.2.0 stevedore===3.3.0 storage-interfaces===1.0.4 storops===1.2.10 storpool.spopenstack===3.0.0 storpool===5.5.0 suds-jurko===0.6 sushy===3.9.1 sympy===1.8 systemd-python===234 sysv-ipc===1.1.0 tabulate===0.8.9 tap-as-a-service===7.0.0 taskflow===4.6.0 tempest===27.0.0 tenacity===6.3.1 termcolor===1.1.0 testrepository===0.0.20 testresources===2.0.1 testscenarios===0.5.0 testtools===2.4.0 text-unidecode===1.3 textfsm===1.1.0 threadloop===1.0.2 threadpoolctl===2.1.0 thrift===0.13.0 tinyrpc===1.0.4 toml===0.10.2 tooz===2.9.0 tornado===6.1 tosca-parser===2.4.0 traceback2===1.4.0 tripleo-common===16.1.0 txaio===21.2.1 typed-ast===1.4.3;python_version=='3.6' types-cryptography===3.3.3 types-enum34===0.1.6 types-ipaddress===0.1.3 types-paramiko===0.1.7 typing-extensions===3.10.0.0 typing===3.7.4.3 tzlocal===2.1 uhashring===2.1 ujson===4.0.2 unittest2===1.1.0 uritemplate===3.0.1 urllib3===1.26.5 validations-libs===1.1.0 vine===5.0.0 vintage===0.4.1 virtualbmc===2.2.0 virtualenv===20.4.7 voluptuous===0.12.1 waiting===1.4.1 waitress===2.0.0 warlock===1.3.3 wcwidth===0.2.5 webcolors===1.11.1 websocket-client===1.1.0 websockify===0.9.0 whereto===0.4.0 wrapt===1.12.1 ws4py===0.5.1 wsgi-intercept===1.9.2 xattr===0.9.7 xmlschema===1.6.4 xmltodict===0.12.0 xvfbwrapper===0.2.9 yamlloader===1.0.0 yappi===1.3.2 yaql===1.1.3 zVMCloudConnector===1.4.1 zake===0.2.2 zeroconf===0.31.0 zipp===3.4.1 zstd===1.5.0.2 zuul-sphinx===0.5.0,ntlm-auth===1.5.0 voluptuous===0.12.1 chardet===4.0.0 enum-compat===0.0.3 rsa===4.7.2 restructuredtext-lint===1.3.2 netmiko===3.4.0 sshtunnel===0.4.0 PasteDeploy===2.1.1 typing===3.7.4.3 python-saharaclient===3.3.0 Routes===2.5.1 rtslib-fb===2.1.74 oslo.limit===1.4.0 smmap===4.0.0 confget===3.0.1 XStatic-Angular-Bootstrap===2.5.0.0 WebOb===1.8.7 sphinxcontrib-actdiag===2.0.0 pecan===1.3.3 ryu===4.34 os-api-ref===2.2.0 python-ldap===3.3.1 oslo.concurrency===4.4.0 websocket-client===1.1.0 osprofiler===3.4.1 os-resource-classes===1.0.0 tabulate===0.8.9 python-ironic-inspector-client===4.5.0 lxml===4.6.3 vintage===0.4.1 ntc-templates===2.0.0 rst2txt===1.1.0 setproctitle===1.2.2 pytest===6.2.4 python-slugify===5.0.2 cursive===0.2.2 oslo.service===2.6.0 django-appconf===1.0.4 pykerberos===1.2.1 certifi===2021.5.30 sphinxcontrib-nwdiag===2.0.0 rbd-iscsi-client===0.1.8 requests-aws===0.1.8 alabaster===0.7.12 pbr===5.6.0 munch===2.5.0 waiting===1.4.1 attrs===21.2.0 microversion-parse===1.0.1 Pint===0.17 oslo.i18n===5.0.1 jsonpath-rw-ext===1.2.2 python-mistralclient===4.2.0 oslo.context===3.3.0 python-senlinclient===2.2.1 rcssmin===1.0.6 pycadf===3.1.1 types-enum34===0.1.6 grpcio===1.38.0 pysendfile===2.0.1 sniffio===1.2.0 fixtures===3.0.0 neutron-lib===2.12.0 XStatic-FileSaver===1.3.2.0 oslo.metrics===0.2.1 storage-interfaces===1.0.4 persist-queue===0.6.0 pystache===0.5.4 XStatic-Font-Awesome===4.7.0.0 nose===1.3.7 nosehtmloutput===0.0.7 waitress===2.0.0 os-refresh-config===13.0.1 pysnmp===4.4.12 Mako===1.1.4 pyScss===1.3.7 sphinxcontrib-htmlhelp===2.0.0 XStatic-jQuery===1.12.4.1 ddt===1.4.2 XStatic-Graphlib===2.1.7.0 pyserial===3.5 moto===2.0.10 infi.dtypes.wwn===0.1.1 python-freezerclient===4.2.0 os-xenapi===0.3.4 python-vitrageclient===4.3.0 nosexcover===1.0.11 krest===1.3.2 psycopg2===2.9.1 networkx===2.5.1 bashate===2.0.0 XStatic-Angular===1.5.8.0 pyngus===2.3.1 Pillow===8.2.0 zuul-sphinx===0.5.0 python-mimeparse===1.6.0 tripleo-common===16.1.0 Tempita===0.5.2 ply===3.11 google-api-core===1.30.0 requests-toolbelt===0.9.1 simplejson===3.17.2 suds-jurko===0.6 types-paramiko===0.1.7 immutables===0.15 python-swiftclient===3.12.0 pyOpenSSL===20.0.1 monasca-common===3.3.0 zeroconf===0.31.0 scipy===1.5.4;python_version=='3.6' scipy===1.7.0;python_version=='3.8' mypy-extensions===0.4.3 rsd-lib===1.2.0 XStatic-Jasmine===2.4.1.2 googleapis-common-protos===1.53.0 python-glanceclient===3.4.0 pyinotify===0.9.6 debtcollector===2.2.0 requests-unixsocket===0.2.0 responses===0.13.3 croniter===1.0.13 horizon===19.2.0 octavia-lib===2.3.1 python-watcherclient===3.2.0 MarkupSafe===2.0.1 pypowervm===1.1.26 ruamel.yaml.clib===0.2.2 doc8===0.8.1 pymongo===3.11.4 python-cloudkittyclient===4.2.0 soupsieve===2.2.1 sqlparse===0.4.1 oslotest===4.4.1 jsonpointer===2.1 defusedxml===0.7.1 netaddr===0.8.0 pyghmi===1.5.28 sphinxcontrib-blockdiag===2.0.0 thrift===0.13.0 gnocchiclient===7.0.6 wcwidth===0.2.5 sphinxcontrib.datatemplates===0.8.1 jsonpath-rw===1.4.0 prettytable===0.7.2 vine===5.0.0 pyroute2.nftables===0.6.4 taskflow===4.6.0 traceback2===1.4.0 arrow===1.1.0 semantic-version===2.8.5 virtualbmc===2.2.0 deprecation===2.1.0 SQLAlchemy===1.4.18 pyroute2===0.6.4 google-auth===1.31.0 kazoo===2.8.0 pyroute2.ethtool===0.6.4 XStatic-roboto-fontface===0.5.0.0 pyudev===0.22.0 eventlet===0.30.2 openstack-doc-tools===3.3.0 oslo.messaging===12.8.0 jira===3.0.1 extras===1.0.0 PyJWT===2.1.0 XStatic-lodash===4.16.4.2 zVMCloudConnector===1.4.1 paramiko===2.7.2 ifaddr===0.1.7 reno===3.3.0 imagesize===1.2.0 pydot===1.4.2 urllib3===1.26.5 graphviz===0.16 PyKMIP===0.10.0 whereto===0.4.0 pywbem===1.2.0 python-subunit===1.4.0 tornado===6.1 pycparser===2.20 mock===4.0.3 PyYAML===5.4.1 beautifulsoup4===4.9.3 cached-property===1.5.2;python_version=='3.6' os-net-config===15.0.0 ovs===2.13.3 cryptography===3.4.7 httpcore===0.13.6 URLObject===2.4.3 nocasedict===1.0.2 psycopg2-binary===2.9.1 openstack-release-test===3.3.1 validations-libs===1.1.0 pylxd===2.3.0 pycryptodomex===3.10.1 anyjson===0.3.3 requests-mock===1.9.3 os-apply-config===13.0.1 prometheus-client===0.11.0 oslosphinx===4.18.0 gunicorn===20.1.0 storpool===5.5.0 textfsm===1.1.0 python-3parclient===4.2.11 unittest2===1.1.0 django-compressor===2.4.1 libvirt-python===7.4.0 python-zunclient===4.2.0 tzlocal===2.1 sphinxcontrib-jsmath===1.0.1 python-novaclient===17.5.0 pact===1.12.0 bcrypt===3.2.0 os-client-config===2.1.0 XStatic-Angular-Gettext===2.4.1.0 h11===0.12.0 Pygments===2.9.0 XStatic-Hogan===2.0.0.3 XStatic-objectpath===1.2.1.0 python-manilaclient===2.7.0 sphinxcontrib-serializinghtml===1.1.5 requests===2.25.1 snowballstemmer===2.1.0pyzabbix===0.8.2 ptyprocess===0.7.0 threadloop===1.0.2 amqp===5.0.6 ruamel.yaml===0.17.9 websockify===0.9.0 XStatic-JQuery.quicksearch===2.0.3.2 mpmath===1.2.1 python-binary-memcached===0.30.1 django-debreach===2.0.1 sphinx-feature-classification===1.1.0 django-pymemcache===1.0.0pytest-html===3.1.1 appdirs===1.4.4 tinyrpc===1.0.4 google-auth-httplib2===0.1.0 daiquiri===3.0.0 influxdb===5.3.1 funcparserlib===0.3.6 passlib===1.7.4 dib-utils===0.0.11 cliff===3.8.0 os-brick===4.4.0scp===0.13.4 python-zaqarclient===2.1.0 lockfile===0.12.2 ldappool===3.0.0 termcolor===1.1.0 joblib===1.0.1 google-api-python-client===2.9.0 castellan===3.8.0 oslo.versionedobjects===2.4.0 enmerkar===0.7.1 webcolors===1.11.1SQLAlchemy-Utils===0.37.7 retryz===0.1.9 pluggy===0.13.1 coverage===5.5 freezegun===1.1.0 toml===0.10.2 pycdlib===1.11.0 pyperclip===1.8.2 cassandra-driver===3.25.0 XStatic-Angular-Schema-Form===0.8.13.0 gabbi===2.2.0 nwdiag===2.0.0 XStatic-bootswatch===3.3.7.0 pytest-xdist===2.3.0 XStatic-JS-Yaml===3.8.1.0 XStatic-term.js===0.0.7.0 oslo.log===4.5.0 nodeenv===1.6.0 gossip===2.4.0 importlib-metadata===4.5.0 oslo.middleware===4.2.0 XStatic-mdi===1.6.50.2 django-pyscss===2.0.2 uritemplate===3.0.1 docutils===0.16 threadpoolctl===2.1.0 os-ken===2.0.0 ujson===4.0.2 selenium===3.141.0 python-glareclient===0.5.3 mypy===0.902 mistral-lib===2.4.0 dogtag-pki===10.7.4.1 types-ipaddress===0.1.3 XStatic-Angular-UUID===0.0.4.0 purestorage===1.19.0 sphinxcontrib-seqdiag===2.0.0 os-win===5.4.0 capacity===1.3.14 retrying===1.3.3 XStatic-Dagre===0.6.4.1 pydotplus===2.0.2 boto3===1.17.97 jeepney===0.6.0 stestr===3.2.0 oslo.serialization===4.1.0 warlock===1.3.3 exabgp===4.2.13 sphinxcontrib-httpdomain===1.7.0 metalsmith===1.4.2 s3transfer===0.4.2 text-unidecode===1.3 sphinxcontrib-svg2pdfconverter===1.1.1 murano-pkg-check===0.3.0 oslo.vmware===3.9.0 XStatic-moment===2.8.4.3 sqlalchemy-migrate===0.13.0 gitdb===4.0.7 python-monascaclient===2.3.0 ldap3===2.9 requests-ntlm===1.1.0os-service-types===1.7.0 keyring===23.0.1 elementpath===2.2.3 testscenarios===0.5.0 sphinxcontrib-pecanwsme===0.10.0 sadisplay===0.4.9 infinisdk===185.1.1 packaging===20.9 XStatic-Dagre-D3===0.4.17.0 nose-exclude===0.5.0 psutil===5.8.0 py===1.10.0 txaio===21.2.1 elasticsearch===2.4.1 django-nose===1.4.7 XStatic-JQuery.TableSorter===2.14.5.2 pifpaf===3.1.5 pysmi===0.3.4 blockdiag===2.0.1 testtools===2.4.0 infi.dtypes.iqn===0.4.0 XStatic-tv4===1.2.7.0 XStatic-JSEncrypt===2.3.1.1 python-cinderclient===7.4.0 keystonemiddleware===9.3.0 django-formtools===2.3 python-ceilometerclient===2.9.0 XStatic-Spin===1.2.5.3 tap-as-a-service===7.0.0 os-traits===2.5.0 SecretStorage===3.3.1 opentracing===2.4.0 XStatic-Rickshaw===1.5.1.0 iso8601===0.1.14 tooz===2.9.0 linecache2===1.0.0 oauth2client===4.1.3 idna===2.10 yamlloader===1.0.0 protobuf===3.17.3 sushy===3.9.1 python-neutronclient===7.5.0 pika===1.2.0 oslo.cache===2.8.1 WebTest===2.0.35 openstack.nose-plugin===0.11 os-collect-config===13.0.1 edgegrid-python===1.1.1 python-qpid-proton===0.34.0 python-octaviaclient===2.3.0 pysaml2===7.0.1 requests-oauthlib===1.3.0 oslo.reports===2.2.0 bitmath===1.3.3.1 ceilometermiddleware===2.2.0 python-nss===1.0.1 testrepository===0.0.20 sympy===1.8 Logbook===1.5.3 PyNaCl===1.4.0 osc-lib===2.4.0 async-generator===1.10;python_version=='3.6' python-consul===1.1.0 more-itertools===8.8.0 seqdiag===2.0.0 numpy===1.19.5;python_version=='3.6' numpy===1.20.3;python_version=='3.8' msgpack===1.0.2 Sphinx===3.5.4 oslo.config===8.7.0 tempest===27.0.0 openstackdocstheme===2.3.0 osc-placement===3.0.0 zake===0.2.2 python-rsdclient===1.0.2 flux===1.3.5 python-solumclient===3.3.0 PyMySQL===1.0.2 uhashring===2.1 kubernetes===17.17.0 httplib2===0.19.1construct===2.10.67 pytest-metadata===1.11.0 pyparsing===2.4.7 geomet===0.2.1.post1 distlib===0.3.2 XStatic-Moment-Timezone===0.5.22.0 dogpile.cache===1.1.3 python-barbicanclient===5.1.0 salt===3003 api-object-schema===2.0.0 WSME===0.10.1 proboscis===1.2.6.0 oslo.upgradecheck===1.4.0 stevedore===3.3.0 pywinrm===0.4.2 botocore===1.20.97 xmltodict===0.12.0 pyasn1===0.4.8 oslo.rootwrap===6.2.0 pyroute2.nslink===0.6.4 Django===2.2.24 pexpect===4.8.0 contextvars===2.4 cmd2===2.1.1 python-json-logger===2.0.1 redis===3.5.3 jmespath===0.10.0 click===8.0.1 XStatic-smart-table===1.4.13.2 kuryr-lib===2.3.0 scrypt===0.8.18 jsonpatch===1.32 python-daemon===2.3.0 types-cryptography===3.3.3 typed-ast===1.4.3;python_version=='3.6' os-testr===2.0.0 cotyledon===1.7.3 xattr===0.9.7 systemd-python===234 python-memcached===1.59 openstacksdk===0.57.0 six===1.16.0 dulwich===0.20.23 dfs-sdk===1.2.27 sentinels===1.0.0 kombu===5.1.0 pyroute2.ndb===0.6.4 distro===1.5.0 zstd===1.5.0.2 yaql===1.1.3 requestsexceptions===1.4.0 testresources===2.0.1 falcon===3.0.1 etcd3gw===0.2.5 Flask-RESTful===0.3.9 GitPython===3.1.18 python-ironicclient===4.7.0 XStatic===1.0.2 XStatic-Angular-FileUpload===12.0.4.0 python-openstackclient===5.5.0 pyzmq===22.1.0 nocaselist===1.0.4 oslo.db===9.1.0 simplegeneric===0.8.1 python-pcre===0.7 yappi===1.3.2 dataclasses===0.8;python_version=='3.6' abclient===0.2.3 pymemcache===3.4.4 wrapt===1.12.1 oslo.privsep===2.5.0 sphinxcontrib-apidoc===0.3.0 oslo.policy===3.8.1 python-muranoclient===2.2.0 hvac===0.10.14 pyeclib===1.6.0 wsgi-intercept===1.9.2 ndg-httpsclient===0.5.1 pyrsistent===0.17.3 repoze.lru===0.7 rfc3986===1.5.0 tenacity===6.3.1 pyroute2.core===0.6.4 python-designateclient===4.3.0 pyroute2.ipdb===0.6.4 future===0.18.2 Paste===3.5.0 pytest-django===4.4.0 jaeger-client===4.5.0 XStatic-Json2yaml===0.1.1.0 pyroute2.ipset===0.6.4os-vif===2.5.0 hyperlink===21.0.0 mitba===1.1.1 python-masakariclient===7.0.0 Werkzeug===2.0.1 pyasn1-modules===0.2.8 APScheduler===3.7.0 monotonic===1.6 xmlschema===1.6.4 python-troveclient===7.1.0 etcd3===0.12.0 cachez===0.1.2 XStatic-Bootstrap-Datepicker===1.4.0.0 CouchDB===1.2 netifaces===0.11.0ws4py===0.5.1 sphinxcontrib-qthelp===1.0.3 keystoneauth1===4.3.1 statsd===3.3.0 XenAPI===2.14 importlib-resources===5.1.4 python-keystoneclient===4.2.0diskimage-builder===3.12.0 heat-translator===2.4.0 python-magnumclient===3.5.0 docker===5.0.0 storops===1.2.10 anyio===3.2.0 XStatic-Angular-lrdragndrop===1.0.2.4 ovsdbapp===1.11.0 aniso8601===9.0.1 rjsmin===1.1.0 icalendar===4.0.7 decorator===4.4.2python-cyborgclient===1.3.0 futurist===2.3.0 jsonschema===3.2.0 sphinxcontrib-devhelp===1.0.2 python-blazarclient===3.2.0 alembic===1.6.5 execnet===1.9.0 glance-store===2.5.0 sphinxcontrib-programoutput===0.17 storpool.spopenstack===3.0.0 sphinx-testing===1.0.1 dnspython===1.16.0 oauthlib===3.1.1 Babel===2.9.1 logutils===0.3.5 zipp===3.4.1 greenlet===1.1.0 XStatic-Angular-Vis===4.16.0.0 iniconfig===1.1.1 confluent-kafka===1.7.0 xvfbwrapper===0.2.9 futures===3.1.1;python_version=='3.6' tosca-parser===2.4.0 Flask===2.0.1 httpx===0.18.2 sqlalchemy-filters===0.12.0 marathon===0.13.0 sphinxcontrib-runcmd===0.2.0 confspirator===0.3.0 fasteners===0.14.1 sortedcontainers===2.4.0 python-linstor===1.8.0 filelock===3.0.12 python-tackerclient===1.7.0 python-heatclient===2.3.0 kafka-python===2.0.2 oslo.utils===4.9.1 python-editor===1.0.4 gitdb2===4.0.2 requests-kerberos===0.12.0 itsdangerous===2.0.1 XStatic-jquery-ui===1.12.1.1 monasca-statsd===2.2.0 python-dateutil===2.8.1 typing-extensions===3.10.0.0 virtualenv===20.4.7pytz===2021.1XStatic-D3===3.5.17.0 actdiag===2.0.0 sysv-ipc===1.1.0 sphinxcontrib-applehelp===1.0.2,586,579
openstack%2Fnetworking-ovn~stable%2Ftrain~I6241e29b19174d8e70c2bc4c59ed85ee04379081,openstack/networking-ovn,stable/train,I6241e29b19174d8e70c2bc4c59ed85ee04379081,Use TCP keepalives for ovsdb connections,ABANDONED,2021-06-23 16:13:58.000000000,2021-06-23 16:14:26.000000000,,[],"[{'number': 1, 'created': '2021-06-23 16:13:58.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9a06199d6a0171e8781a728e3e4e4812ba494685', 'message': ""Use TCP keepalives for ovsdb connections\n\nWhen failing over OVN DB servers from one server to another, the\nserver which originally hosted the VIP doesn't notice the connection\nis gone and doesn't reconnect. Ultimately, this is something that\nneeds to be fixed in python-ovs, but setting the SO_KEEPALIVE socket\noption avoids the issue. This also has the benefit that the client\ndoesn't need to send 'echo' requests, which can time out on an\noverloaded ovsdb-server, which causes a disconnection which then\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection.\n\nCloses-Bug: #1930926\n(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)\nChange-Id: Ie0205785cab307c132fbe409588739685cade7c0\n\nChange-Id: I6241e29b19174d8e70c2bc4c59ed85ee04379081\n""}]",0,797714,9a06199d6a0171e8781a728e3e4e4812ba494685,2,0,1,5756,,,0,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0

Change-Id: I6241e29b19174d8e70c2bc4c59ed85ee04379081
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/14/797714/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,9a06199d6a0171e8781a728e3e4e4812ba494685,,"import functools import socketfrom ovs import socket_util from ovs import streamdef add_keepalives(fn): @functools.wraps(fn) def _open(*args, **kwargs): error, sock = fn(*args, **kwargs) try: sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) except socket.error as e: sock.close() return socket_util.get_exception_errno(e), None return error, sock return _open class NoProbesMixin(object): @staticmethod def needs_probes(): # If we are using keepalives, we can force probe_interval=0 return False class TCPStream(stream.TCPStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super(TCPStream, cls)._open(suffix, dscp) class SSLStream(stream.SSLStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super(SSLStream, cls)._open(suffix, dscp) # Overwriting globals in a library is clearly a good idea stream.Stream.register_method(""tcp"", TCPStream) stream.Stream.register_method(""ssl"", SSLStream) ",,43,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3,openstack/networking-ovn,stable/train,I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3,Use TCP keepalives for ovsdb connections,ABANDONED,2021-06-23 16:10:00.000000000,2021-06-23 16:13:04.000000000,,[],"[{'number': 1, 'created': '2021-06-23 16:10:00.000000000', 'files': ['networking_ovn/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1742fedfa00272534b240ad7c7b42a7e93de1840', 'message': ""Use TCP keepalives for ovsdb connections\n\nWhen failing over OVN DB servers from one server to another, the\nserver which originally hosted the VIP doesn't notice the connection\nis gone and doesn't reconnect. Ultimately, this is something that\nneeds to be fixed in python-ovs, but setting the SO_KEEPALIVE socket\noption avoids the issue. This also has the benefit that the client\ndoesn't need to send 'echo' requests, which can time out on an\noverloaded ovsdb-server, which causes a disconnection which then\nadds even more load on the ovsdb-server as it has to send the entire\ndb contents over the wire after the connection.\n\nCloses-Bug: #1930926\nChange-Id: Ie0205785cab307c132fbe409588739685cade7c0\n(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)\n\nChange-Id: I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3\n""}]",0,797692,1742fedfa00272534b240ad7c7b42a7e93de1840,2,0,1,5756,,,0,"Use TCP keepalives for ovsdb connections

When failing over OVN DB servers from one server to another, the
server which originally hosted the VIP doesn't notice the connection
is gone and doesn't reconnect. Ultimately, this is something that
needs to be fixed in python-ovs, but setting the SO_KEEPALIVE socket
option avoids the issue. This also has the benefit that the client
doesn't need to send 'echo' requests, which can time out on an
overloaded ovsdb-server, which causes a disconnection which then
adds even more load on the ovsdb-server as it has to send the entire
db contents over the wire after the connection.

Closes-Bug: #1930926
Change-Id: Ie0205785cab307c132fbe409588739685cade7c0
(cherry picked from neutron commit 65cce351d74a9a637fdb2a9d5e0e63445dda9ea9)

Change-Id: I74ca47fbd36a913cffc6ed1751a350dc2ae9dbb3
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/797692/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovsdb/impl_idl_ovn.py'],1,1742fedfa00272534b240ad7c7b42a7e93de1840,,"import functools import socketfrom ovs import socket_util from ovs import streamdef add_keepalives(fn): @functools.wraps(fn) def _open(*args, **kwargs): error, sock = fn(*args, **kwargs) try: sock.setsockopt(socket.SOL_SOCKET, socket.SO_KEEPALIVE, 1) except socket.error as e: sock.close() return socket_util.get_exception_errno(e), None return error, sock return _open class NoProbesMixin(object): @staticmethod def needs_probes(): # If we are using keepalives, we can force probe_interval=0 return False class TCPStream(stream.TCPStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super(TCPStream, cls)._open(suffix, dscp) class SSLStream(stream.SSLStream, NoProbesMixin): @classmethod @add_keepalives def _open(cls, suffix, dscp): return super(SSLStream, cls)._open(suffix, dscp) # Overwriting globals in a library is clearly a good idea stream.Stream.register_method(""tcp"", TCPStream) stream.Stream.register_method(""ssl"", SSLStream) ",,43,0
openstack%2Freleases~master~Ic11ec20a14062b46b8441976f90e9a01ec40d846,openstack/releases,master,Ic11ec20a14062b46b8441976f90e9a01ec40d846,Release ironic 17.0.3 for wallaby,MERGED,2021-06-22 15:21:29.000000000,2021-06-23 16:04:59.000000000,2021-06-23 16:04:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-22 15:21:29.000000000', 'files': ['deliverables/wallaby/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7278d4c245b1167b46a7f39aaa841d605c9cdcb2', 'message': 'Release ironic 17.0.3 for wallaby\n\nChange-Id: Ic11ec20a14062b46b8441976f90e9a01ec40d846\n'}]",0,797499,7278d4c245b1167b46a7f39aaa841d605c9cdcb2,10,6,1,23851,,,0,"Release ironic 17.0.3 for wallaby

Change-Id: Ic11ec20a14062b46b8441976f90e9a01ec40d846
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/797499/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic.yaml'],1,7278d4c245b1167b46a7f39aaa841d605c9cdcb2,ironic-wallaby-1703, - version: 17.0.3 projects: - repo: openstack/ironic hash: 48cedc067a2436f60de10bb9cdfb1e29f57928ee,,4,0
openstack%2Fhorizon~stable%2Fpike~I41e9d94345151bc4473d704cdc040ed77870ce45,openstack/horizon,stable/pike,I41e9d94345151bc4473d704cdc040ed77870ce45,Allow OVA upload for images,ABANDONED,2020-05-06 08:28:08.000000000,2021-06-23 15:27:54.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 16963}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-06 08:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/77873f97ab6e4402d9a5e735ddcc8f5bcf8e6449', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 2, 'created': '2020-05-13 13:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b9d813726341d90a0374b0e0f767a14e179faa63', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 3, 'created': '2020-05-13 16:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d2eb916dc8ec6351ea292435a7f9bb216924acc4', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 4, 'created': '2020-10-13 13:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0b073f9bce790c24990461c577882bb67d2795ba', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 5, 'created': '2020-10-13 16:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a6978019c0458257591d891a5c56fbb53460750a', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 6, 'created': '2021-05-25 14:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b9a0be2f4cf447c3bed5f1c00f234e901fa54487', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 7, 'created': '2021-05-28 00:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3d596114e2daafa3c0acecccc58f290fa0147af1', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 8, 'created': '2021-05-28 01:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/52a235d710a741a0fcce317cdbade42d49da67cc', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}, {'number': 9, 'created': '2021-06-23 15:24:40.000000000', 'files': ['openstack_dashboard/test/api_tests/glance_tests.py', 'openstack_dashboard/dashboards/project/images/images/tests.py', 'openstack_dashboard/dashboards/project/images/images/views.py', 'openstack_dashboard/test/api_tests/glance_rest_tests.py', 'openstack_dashboard/dashboards/project/images/images/forms.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/rest/glance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/53d2f22e252ab292b6f4667d04d036a511cabc99', 'message': 'Allow OVA upload for images\n\nBug #1641383 was not fixed for REST API call.\nThe two implementation of create_image_metadata are merged\ninto api/glance.py.\n\nThere were minor differences in field naming and handling\n(min_ vs minimum_, is_public vs public vs visibility).\nThis commit normalizes them to simplify the logic.\n\nCloses-Bug: #1757136\nChange-Id: I41e9d94345151bc4473d704cdc040ed77870ce45\nCherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235\n'}]",26,725785,53d2f22e252ab292b6f4667d04d036a511cabc99,35,7,9,16963,,,0,"Allow OVA upload for images

Bug #1641383 was not fixed for REST API call.
The two implementation of create_image_metadata are merged
into api/glance.py.

There were minor differences in field naming and handling
(min_ vs minimum_, is_public vs public vs visibility).
This commit normalizes them to simplify the logic.

Closes-Bug: #1757136
Change-Id: I41e9d94345151bc4473d704cdc040ed77870ce45
Cherry-picked from: e3626260313c87aba6d9579c81f8dac415cc7235
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/725785/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/api_tests/glance_tests.py', 'openstack_dashboard/dashboards/project/images/images/tests.py', 'openstack_dashboard/dashboards/project/images/images/views.py', 'openstack_dashboard/dashboards/project/images/images/forms.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/rest/glance.py']",7,77873f97ab6e4402d9a5e735ddcc8f5bcf8e6449,change-725785-8," meta = _create_image_metadata(request.DATA) meta = _create_image_metadata(request.DATA) meta = _create_image_metadata(request.DATA)def _create_image_metadata(data): # In Angular implementation we use 'visibility' field only and # 'is_public' field is not used when creating/updating metadata. # However, the previous 'is_public' value is sent in a request. # We drop it here before passing it to create_image_metadata. if 'is_public' in data: del data['is_public'] try: return api.glance.create_image_metadata(data) except KeyError as e: raise rest_utils.AjaxError(400, e.args[0])"," meta = create_image_metadata(request.DATA) meta = create_image_metadata(request.DATA) meta = create_image_metadata(request.DATA)def create_image_metadata(data): try: """"""Use the given dict of image form data to generate the metadata used for creating the image in glance. """""" meta = {'protected': data.get('protected'), 'min_disk': data.get('min_disk', 0), 'min_ram': data.get('min_ram', 0), 'name': data.get('name'), 'disk_format': data.get('disk_format'), 'container_format': data.get('container_format')} properties = {} # 'architecture' will be directly mapped # into the .properties by the handle_unknown_properties function. # 'kernel' and 'ramdisk' need to get specifically mapped for backwards # compatibility. props = data.get('properties') if props and props.get('description'): properties['description'] = props.get('description') if data.get('kernel'): properties['kernel_id'] = data.get('kernel') if data.get('ramdisk'): properties['ramdisk_id'] = data.get('ramdisk') handle_unknown_properties(data, properties) if api.glance.VERSIONS.active >= 2: meta.update(properties) else: meta['properties'] = properties handle_visibility(data.get('visibility'), meta) except KeyError as e: raise rest_utils.AjaxError(400, 'missing required parameter %s' % e.args[0]) return meta def handle_unknown_properties(data, properties): # The Glance API takes in both known and unknown fields. Unknown fields # are assumed as metadata. To achieve this and continue to use the # existing horizon api wrapper, we need this function. This way, the # client REST mirrors the Glance API. known_props = ['visibility', 'protected', 'disk_format', 'container_format', 'min_disk', 'min_ram', 'name', 'properties', 'kernel', 'ramdisk', 'tags', 'import_data', 'source', 'image_url', 'source_type', 'data', 'checksum', 'created_at', 'deleted', 'is_copying', 'deleted_at', 'is_public', 'virtual_size', 'status', 'size', 'owner', 'id', 'updated_at'] other_props = {k: v for (k, v) in data.items() if k not in known_props} properties.update(other_props) def handle_visibility(visibility, meta): mapping_to_v1 = {'public': True, 'private': False, 'shared': False} # note: presence of 'visibility' previously checked for in general call try: is_public = mapping_to_v1[visibility] if api.glance.VERSIONS.active >= 2: meta['visibility'] = visibility else: meta['is_public'] = is_public except KeyError as e: raise rest_utils.AjaxError(400, 'invalid visibility option: %s' % e.args[0])",184,225
openstack%2Foslo.db~master~I1de4b7f7f7ea3634e3a2d49704f689205f746085,openstack/oslo.db,master,I1de4b7f7f7ea3634e3a2d49704f689205f746085,Remove the useless else.,MERGED,2021-06-23 10:44:43.000000000,2021-06-23 15:22:27.000000000,2021-06-23 15:19:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-23 10:44:43.000000000', 'files': ['oslo_db/sqlalchemy/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/50356dca820270314e594b4d76814cd147dae0fe', 'message': 'Remove the useless else.\n\nWe return the value in the if condition, so the else is not necessary.\n\nChange-Id: I1de4b7f7f7ea3634e3a2d49704f689205f746085\n'}]",0,797621,50356dca820270314e594b4d76814cd147dae0fe,10,3,1,31245,,,0,"Remove the useless else.

We return the value in the if condition, so the else is not necessary.

Change-Id: I1de4b7f7f7ea3634e3a2d49704f689205f746085
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/21/797621/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_db/sqlalchemy/types.py'],1,50356dca820270314e594b4d76814cd147dae0fe,, return int(value), else: return int(value),1,2
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/wallaby,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 13:22:49.000000000,2021-06-23 15:12:54.000000000,2021-06-23 15:11:38.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11082}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:22:49.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9c362b3ded873121e9626e5322245a33fd429840', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)\n'}]",0,796839,9c362b3ded873121e9626e5322245a33fd429840,15,6,1,11952,,,0,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/39/796839/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,9c362b3ded873121e9626e5322245a33fd429840,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create(self, net_cli): net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound] @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router f_ls.return_value = [self.network] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network) f_ls.assert_called_once_with(self.router) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_no_ls(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} self.ovn_lb.external_ids = mock.MagicMock() (self.helper.ovn_nbdb_api.ls_get.return_value. execute.side_effect) = [n_exc.NotFound] status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) (self.helper.ovn_nbdb_api.ls_get.return_value.execute. assert_called_once_with(check_error=True)) f_lr.assert_not_called() f_ls.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_listener(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound]", def test_member_create(self): def test_member_create_listener(self):,62,3
openstack%2Fvalidations-libs~master~If5f5438926d5da9a2a773f9541ba217e73e6b754,openstack/validations-libs,master,If5f5438926d5da9a2a773f9541ba217e73e6b754,Filling license info for Ansible and Pyflakes,MERGED,2021-06-14 13:49:30.000000000,2021-06-23 15:10:37.000000000,2021-06-23 15:10:37.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-14 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8e77759ac7bd5a48eca067e80ad1351b74b22868', 'message': 'Filling license info for Ansible and Pyflakes\n\nLicense information for the Ansible and Pyflakes\nwas filled in using information obtained from their\nrepective code repositories.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If5f5438926d5da9a2a773f9541ba217e73e6b754\n'}, {'number': 2, 'created': '2021-06-15 09:57:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/db65bae2464b16c568198fef3f45788871a46b4f', 'message': 'Filling license info for Ansible and Pyflakes\n\nLicense information for the Ansible and Pyflakes\nwas filled in using information obtained from their\nrepective code repositories.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If5f5438926d5da9a2a773f9541ba217e73e6b754\n'}]",0,796280,db65bae2464b16c568198fef3f45788871a46b4f,9,6,2,32926,,,0,"Filling license info for Ansible and Pyflakes

License information for the Ansible and Pyflakes
was filled in using information obtained from their
repective code repositories.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If5f5438926d5da9a2a773f9541ba217e73e6b754
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/80/796280/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,8e77759ac7bd5a48eca067e80ad1351b74b22868,requirements,pyflakes>=2.1.1 # MIT,pyflakes>=2.1.1,2,2
openstack%2Fos-brick~master~Ia5c645704ab366b8691f3ca3e7920e87c6279171,openstack/os-brick,master,Ia5c645704ab366b8691f3ca3e7920e87c6279171,Ussuri+ is python3 only,MERGED,2021-05-06 01:21:41.000000000,2021-06-23 15:01:20.000000000,2021-06-23 14:59:10.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 12670}, {'_account_id': 20146}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30092}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-06 01:21:41.000000000', 'files': ['tools/lintstack.py', 'tools/generate_connector_list.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/496c7226fa0166411d49c3f8d5f5f6c287a1152d', 'message': 'Ussuri+ is python3 only\n\nupdate python to python3\n\nChange-Id: Ia5c645704ab366b8691f3ca3e7920e87c6279171\n'}]",0,789964,496c7226fa0166411d49c3f8d5f5f6c287a1152d,52,8,1,31827,,,0,"Ussuri+ is python3 only

update python to python3

Change-Id: Ia5c645704ab366b8691f3ca3e7920e87c6279171
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/64/789964/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/lintstack.py', 'tools/generate_connector_list.py']",2,496c7226fa0166411d49c3f8d5f5f6c287a1152d,,#! /usr/bin/env python3,#! /usr/bin/env python,2,2
openstack%2Fkayobe-config-dev~stable%2Fussuri~I42a417281c4da5b732b3e1fa0ed855c16182c9b2,openstack/kayobe-config-dev,stable/ussuri,I42a417281c4da5b732b3e1fa0ed855c16182c9b2,Sync configs with kayobe @ cf8869eecd669df411696e78bd90d0b9a02f429f,MERGED,2021-06-09 12:29:43.000000000,2021-06-23 14:49:06.000000000,2021-06-23 14:49:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-09 12:29:43.000000000', 'files': ['etc/kayobe/seed.yml', 'etc/kayobe/bifrost.yml', 'etc/kayobe/controllers.yml', 'etc/kayobe/ceph.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/storage.yml', 'etc/kayobe/compute.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/cb096de2edc8a4eaab6b9fb1061a6e218ef238e0', 'message': 'Sync configs with kayobe @ cf8869eecd669df411696e78bd90d0b9a02f429f\n\nChange-Id: I42a417281c4da5b732b3e1fa0ed855c16182c9b2\n'}]",0,795526,cb096de2edc8a4eaab6b9fb1061a6e218ef238e0,12,3,1,15197,,,0,"Sync configs with kayobe @ cf8869eecd669df411696e78bd90d0b9a02f429f

Change-Id: I42a417281c4da5b732b3e1fa0ed855c16182c9b2
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/26/795526/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'etc/kayobe/ceph.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/storage.yml', 'etc/kayobe/compute.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml']",9,cb096de2edc8a4eaab6b9fb1061a6e218ef238e0,,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".# List of network interfaces to attach to the seed VM. Format is as accepted by # the stackhpc.libvirt-vm role's libvirt_vms.interfaces variable. Default is # one interface for each network in 'network_interfaces'. # # Example with one interface connected to a libvirt network called # 'libvirt-net', and another interface directly plugged into a host device # called 'eth1': # # seed_vm_interfaces: # - network: libvirt-net # - type: direct # source: # dev: eth1 # #seed_vm_interfaces: ","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2"".",186,28
openstack%2Foslo.db~master~I0c26c3e14ad9ad9a4f30af80757e369d6042441a,openstack/oslo.db,master,I0c26c3e14ad9ad9a4f30af80757e369d6042441a,Remove the idle_timeout option.,MERGED,2021-03-03 11:54:52.000000000,2021-06-23 14:43:30.000000000,2021-06-23 14:41:58.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-03 11:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/c52534b6ef865afda56a5e25a84910286c0a61e0', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 2, 'created': '2021-03-03 14:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b358a36f9d8cb7e8ec38d6d2b74f6ce92434a12d', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 3, 'created': '2021-04-08 08:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/656abc9f172e83eae3f9ce2b113bf776f534e8e4', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 4, 'created': '2021-05-05 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4d5af2b8b2c66166d16d97d3fe709344214cc5fe', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 5, 'created': '2021-05-05 09:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8ce055feb8cf516b3f9029918797a0692bcf4e36', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 6, 'created': '2021-05-24 13:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6edaf29da034608f413084d255e4a2a082dd0bd6', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}, {'number': 7, 'created': '2021-06-23 10:58:13.000000000', 'files': ['releasenotes/notes/removed-deprecated-idle-timeout-051a6a9a792bd8de.yaml', 'oslo_db/options.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/tests/sqlalchemy/test_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/a857b83c9c28d1fe461d1c06549607c48acf337b', 'message': ""Remove the idle_timeout option.\n\nThe option was replaced 4 years ago[1] by connection_recycle_time. The\noption is not anymore present in sqlalchemy. It's the good time to\nremove it.\n\n[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284\n\nChange-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a\n""}]",6,778441,a857b83c9c28d1fe461d1c06549607c48acf337b,27,4,7,31245,,,0,"Remove the idle_timeout option.

The option was replaced 4 years ago[1] by connection_recycle_time. The
option is not anymore present in sqlalchemy. It's the good time to
remove it.

[1] https://opendev.org/openstack/oslo.db/commit/6634218415906192fca891362b8fa0ac50b66284

Change-Id: I0c26c3e14ad9ad9a4f30af80757e369d6042441a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/41/778441/5 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/options.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py']",3,c52534b6ef865afda56a5e25a84910286c0a61e0,remove_idle_timeout,," def test_direct_invocation_deprecated_args(self): facade = session.EngineFacade(""sqlite://"", idle_timeout=59) self.assertEqual(59, facade.get_engine().pool._recycle) ",0,20
openstack%2Fansible-collections-openstack~master~I049b0dade4c7ea3e1ef24777ae558f650caa136c,openstack/ansible-collections-openstack,master,I049b0dade4c7ea3e1ef24777ae558f650caa136c,Only apply necessary changes to subnets,MERGED,2021-01-11 13:10:50.000000000,2021-06-23 14:35:49.000000000,2021-06-23 14:35:49.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 32029}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-01-11 13:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fb0f0b7e5bad3736bfadd051aa3868fb30882169', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}, {'number': 2, 'created': '2021-01-12 07:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1975cf974eaa717aae2cdc70ef764d3083231921', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}, {'number': 3, 'created': '2021-01-12 09:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/862db34b64a074b6670355b2c7dbfe36cbc2bdd5', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}, {'number': 4, 'created': '2021-01-12 11:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6e3eab0bf31794e3c10893eb79458bfb22879c7c', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}, {'number': 5, 'created': '2021-06-17 10:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd7a2892b98003f702ad13105b61f2b8d53f22ee', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}, {'number': 6, 'created': '2021-06-23 10:40:57.000000000', 'files': ['ci/roles/subnet/tasks/subnet-allocation.yml', 'plugins/modules/subnet.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ce421fe3702b2cd411aa9d471e2675cb5ff098ae', 'message': 'Only apply necessary changes to subnets\n\nPreviously, all subnet properties were updated if any value did not match.\nBut this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1\nalready in use by port [ID]. Unable to update."" even if that gateway was\nnot about to be changed.\n\nTask: 40927\nStory: 2008172\nChange-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c\n'}]",3,770121,ce421fe3702b2cd411aa9d471e2675cb5ff098ae,26,6,6,32962,,,0,"Only apply necessary changes to subnets

Previously, all subnet properties were updated if any value did not match.
But this behaviour caused errors like e.g. ""Current gateway ip 192.168.0.1
already in use by port [ID]. Unable to update."" even if that gateway was
not about to be changed.

Task: 40927
Story: 2008172
Change-Id: I049b0dade4c7ea3e1ef24777ae558f650caa136c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/21/770121/6 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/subnet/tasks/subnet-allocation.yml', 'plugins/modules/subnet.py']",2,fb0f0b7e5bad3736bfadd051aa3868fb30882169,story_2008172_necessary_changes_to_subnets_only," # Only apply necessary changes to prevent errors like ""Current gateway ip 192.168.0.1 already in use # by port efc64a9f-264e-4c1e-bdbb-0c4e97bc5a06. Unable to update."" kwargs = dict() if subnet['name'] != subnet_name: kwargs['subnet_name'] = subnet_name if subnet['enable_dhcp'] != enable_dhcp: kwargs['enable_dhcp'] = enable_dhcp if subnet['gateway_ip'] != gateway_ip: kwargs['gateway_ip'] = gateway_ip if no_gateway_ip and subnet['gateway_ip']: kwargs['disable_gateway_ip'] = no_gateway_ip if dns and sorted(subnet['dns_nameservers']) != sorted(dns): kwargs['dns_nameservers'] = dns if subnet['allocation_pools'] != [pool]: kwargs['allocation_pools'] = pool kwargs['host_routes'] = host_routes subnet = self.conn.update_subnet(subnet['id'], **kwargs)"," subnet = self.conn.update_subnet(subnet['id'], subnet_name=subnet_name, enable_dhcp=enable_dhcp, gateway_ip=gateway_ip, disable_gateway_ip=no_gateway_ip, dns_nameservers=dns, allocation_pools=pool, host_routes=host_routes)",24,8
openstack%2Fcharm-keystone~stable%2F21.04~I110cc089fa7d51dfd513c630cb28cd49b330bf6f,openstack/charm-keystone,stable/21.04,I110cc089fa7d51dfd513c630cb28cd49b330bf6f,Set WSGI env with lang=C.UTF-8,MERGED,2021-06-23 06:18:39.000000000,2021-06-23 14:02:21.000000000,2021-06-23 14:02:21.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-23 06:18:39.000000000', 'files': ['templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/42ee87a9968506c1eb3d0ca96fce025ab98c53d0', 'message': 'Set WSGI env with lang=C.UTF-8\n\nThe default apache2 environment, and therefore the default WSGI\nenvironment, sets LANG=C. For languages beyond the scope of ASCII\nthis can create problems.\n\nExplicitly set the lang and locale to C.UTF-8 which will support all\nUTF-8 language sets.\n\nChange-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f\nCloses-Bug: #1933109\n(cherry picked from commit 7e6647951d2408ceae10170f7c4597f593d68d58)\n'}]",0,797492,42ee87a9968506c1eb3d0ca96fce025ab98c53d0,8,5,1,20634,,,0,"Set WSGI env with lang=C.UTF-8

The default apache2 environment, and therefore the default WSGI
environment, sets LANG=C. For languages beyond the scope of ASCII
this can create problems.

Explicitly set the lang and locale to C.UTF-8 which will support all
UTF-8 language sets.

Change-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f
Closes-Bug: #1933109
(cherry picked from commit 7e6647951d2408ceae10170f7c4597f593d68d58)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/92/797492/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/wsgi-openstack-api.conf'],1,42ee87a9968506c1eb3d0ca96fce025ab98c53d0,bug/1933109-stable/21.04, display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8 display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8 display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8, display-name=%{GROUP} display-name=%{GROUP} display-name=%{GROUP},3,3
openstack%2Fpython-brick-cinderclient-ext~master~If2629a142a795b5663c5e6a04c57549c76530416,openstack/python-brick-cinderclient-ext,master,If2629a142a795b5663c5e6a04c57549c76530416,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 02:22:40.000000000,2021-06-23 14:00:12.000000000,2021-06-23 13:58:47.000000000,"[{'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-05 02:22:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/36835474b218593943582980d58931438047221d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If2629a142a795b5663c5e6a04c57549c76530416\n""}]",0,789695,36835474b218593943582980d58931438047221d,12,6,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If2629a142a795b5663c5e6a04c57549c76530416
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/95/789695/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,36835474b218593943582980d58931438047221d,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://docs.openstack.org/cinder/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://docs.openstack.org/cinder/latest/ python-requires = >=3.6,4,4
openstack%2Fkolla-ansible~master~Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,openstack/kolla-ansible,master,Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6,Allow user to set sysctl_net_ipv4_tcp_retries2,MERGED,2021-02-26 16:57:32.000000000,2021-06-23 13:58:50.000000000,2021-06-23 13:57:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-02-26 16:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d23f380984524c77a03fb9cb4ca7fe8617a6e255', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=3 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 2, 'created': '2021-03-03 17:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/906e95610b0bac7e85385106a8f68cfe1231425f', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=3 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 3, 'created': '2021-04-06 09:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c137521d33d55ae619f34f5329e778e94a6a94c6', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=3 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 4, 'created': '2021-04-07 21:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/818d7297e319c71f51794fd38da90f4c420ae8e5', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=6 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 5, 'created': '2021-05-19 10:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98e759eb964fc75b88aa133ce335a08a6c9db7d8', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=6 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 6, 'created': '2021-05-19 14:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3898c85cef5ba0a534d0d84bb62029560996af5f', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=6 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 7, 'created': '2021-05-31 16:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/540bfdc618d7d97f53763049d0ae724388a79ad3', 'message': 'Fix TCP connections refusing to die after VIP switch\n\nSet kernel option net.ipv4.tcp_retries2=6 to ensure\nkernel will kill TCP connections which are refusing\nto die after VIP switch.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 8, 'created': '2021-05-31 16:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f74a850db28ddc09437402d9d6aeeea2c90f168f', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 9, 'created': '2021-06-02 17:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a492748366b8d985b1d22e1b7f5009baaa738f9d', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 10, 'created': '2021-06-03 10:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f79dcd4fb8e4ef6bb4cd893dfb7f979c50f9e03a', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 11, 'created': '2021-06-22 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f1be1442f50e40d164f3e869f460fe220daa85fc', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 12, 'created': '2021-06-23 09:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/163c407e98de72461b14c3cefcf7d0311921d52a', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 13, 'created': '2021-06-23 09:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c1ad264b78a582d37d4cbce57320062d02162f5', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 14, 'created': '2021-06-23 10:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e9c0dda4ce486992beed6f9b79de1198d90f6d5', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 15, 'created': '2021-06-23 10:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02f49fa651fb28aa2d2576eac16ad49cc1fc2bab', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 16, 'created': '2021-06-23 10:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a15401c527f6a28207f374b210da4699498dc475', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}, {'number': 17, 'created': '2021-06-23 10:34:15.000000000', 'files': ['doc/source/reference/high-availability/haproxy-guide.rst', 'doc/source/reference/high-availability/index.rst', 'doc/source/reference/index.rst', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/haproxy/tasks/config-host.yml', 'releasenotes/notes/fix-TCP-connections-refusing-to-die-after-VIP-switch-5f9e811783c36041.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09d0409ed4a69f514355925754e832e752f817ca', 'message': 'Allow user to set sysctl_net_ipv4_tcp_retries2\n\nThis patch is adding configuration option to\nmanipulate with kernel option sysctl_net_ipv4_tcp_retries2.\n\nMore informations about kernel option in [1][2]\nand RedHat suggestion [3] to set for DBs and HA.\n\n[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html\n[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/\n[3]: https://access.redhat.com/solutions/726753\n\nCloses-Bug: #1917068\nChange-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6\n'}]",25,777772,09d0409ed4a69f514355925754e832e752f817ca,68,5,17,27339,,,0,"Allow user to set sysctl_net_ipv4_tcp_retries2

This patch is adding configuration option to
manipulate with kernel option sysctl_net_ipv4_tcp_retries2.

More informations about kernel option in [1][2]
and RedHat suggestion [3] to set for DBs and HA.

[1]: https://pracucci.com/linux-tcp-rto-min-max-and-tcp-retries2.html
[2]: https://blog.cloudflare.com/when-tcp-sockets-refuse-to-die/
[3]: https://access.redhat.com/solutions/726753

Closes-Bug: #1917068
Change-Id: Ia0decbbfa4e33b1889b635f8bb1c9094567a2ce6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/777772/16 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/config-host.yml'],1,d23f380984524c77a03fb9cb4ca7fe8617a6e255,bug/1917068," - { name: ""net.ipv4.tcp_retries2"", value: 3}",,1,0
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iaf398b280e55f634a20295c517b6e5c8b0bc95be,openstack/tripleo-upgrade,stable/train,Iaf398b280e55f634a20295c517b6e5c8b0bc95be,[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt),MERGED,2021-06-22 14:55:50.000000000,2021-06-23 13:52:38.000000000,2021-06-23 13:52:38.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8532}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-22 14:55:50.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7bed774213b14018de2062795d3597e402759ef8', 'message': ""[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)\n\nEven when we run modprobe just before leapp we are not 100% confident\nthat these drivers won't be loaded back during leapp run as some RPMs\nmay have post actions to load drivers back. Instead this patch removes\nthese kernel modules from leapp database (removed_drivers.txt) as we\nknow these modules are loaded (floppy, pata_acpi) but not used.\n\nResolves: rhbz#1962365\nChange-Id: Iaf398b280e55f634a20295c517b6e5c8b0bc95be\n""}]",0,797469,7bed774213b14018de2062795d3597e402759ef8,10,10,1,11090,,,0,"[Train-Only] Remove kernel drivers from leapp database (removed_drivers.txt)

Even when we run modprobe just before leapp we are not 100% confident
that these drivers won't be loaded back during leapp run as some RPMs
may have post actions to load drivers back. Instead this patch removes
these kernel modules from leapp database (removed_drivers.txt) as we
know these modules are loaded (floppy, pata_acpi) but not used.

Resolves: rhbz#1962365
Change-Id: Iaf398b280e55f634a20295c517b6e5c8b0bc95be
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/797469/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,7bed774213b14018de2062795d3597e402759ef8,,"- name: ""Disable the kernel modules in Leapp database (removed_drivers.txt) that are no longer supported in RHEL 8 (rhbz#1962365)"" vars: modules_to_unload: ['pata_acpi', 'floppy'] lineinfile: path: ""/usr/share/leapp-repository/repositories/system_upgrade/el7toel8/actors/kernel/checkkerneldrivers/files/removed_drivers.txt"" regexp: ""{{ item }}"" state: absent loop: ""{{ modules_to_unload }}""","- name: ""Unload the kernel modules that are no longer supported in RHEL 8 (rhbz#1962365)"" shell: | set -o pipefail module=floppy; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded"" module=pata_acpi; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded""",8,5
openstack%2Ftripleo-upgrade~master~I61068df4809968c04120b29c0ebeb6d3239ad4a2,openstack/tripleo-upgrade,master,I61068df4809968c04120b29c0ebeb6d3239ad4a2,Bump test-requirements.txt,MERGED,2021-06-18 14:17:03.000000000,2021-06-23 13:52:29.000000000,2021-06-23 13:52:29.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-18 14:17:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d8443e2ccc9bfdc2b8134b37829e27d7ef8877bb', 'message': 'Bump test-requirements.txt\n\nA lot of python packages has not been updated for ages. This patch bumps\nthe minimal required versions to the most recent.\n\nChange-Id: I61068df4809968c04120b29c0ebeb6d3239ad4a2\n'}]",0,797115,d8443e2ccc9bfdc2b8134b37829e27d7ef8877bb,8,3,1,11090,,,0,"Bump test-requirements.txt

A lot of python packages has not been updated for ages. This patch bumps
the minimal required versions to the most recent.

Change-Id: I61068df4809968c04120b29c0ebeb6d3239ad4a2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/15/797115/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,d8443e2ccc9bfdc2b8134b37829e27d7ef8877bb,bump_tox_requirements,pre-commit>=2.0.0 # MIT License hacking>=4.0.0 # Apache-2.0 bashate>=2.0.0 # Apache-2.0,"pre-commit==1.13.0 # MIT License hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0 bashate>=0.5.1 # Apache-2.0",5,5
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/ussuri,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 14:59:53.000000000,2021-06-23 13:40:24.000000000,2021-06-23 13:38:33.000000000,"[{'_account_id': 1131}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 14:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9858f238e88120d034b527932e29189318f6a274', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nConflicts:\n  ovn_octavia_provider/helper.py\n  ovn_octavia_provider/tests/unit/test_helper.py\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)\n'}, {'number': 2, 'created': '2021-06-17 19:34:07.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4d20d3243fc7376bb31c94834d43550f1200ffcd', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nConflicts:\n  ovn_octavia_provider/helper.py\n  ovn_octavia_provider/tests/unit/test_helper.py\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)\n'}]",1,796876,4d20d3243fc7376bb31c94834d43550f1200ffcd,12,4,2,11952,,,0,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

Conflicts:
  ovn_octavia_provider/helper.py
  ovn_octavia_provider/tests/unit/test_helper.py

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/76/796876/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,9858f238e88120d034b527932e29189318f6a274,," subnet_id = member['subnet_id'] ovn_lb, subnet_id=subnet_id, associate=True) # Make sure that all logical switches related to logical router # are associated with the load balancer. This is needed to handle # potential race that happens when lrp and lb are created at the # same time. subnet = self._get_subnet(subnet_id) if subnet: ls_name = ovn_utils.ovn_name(subnet.network_id) try: ovn_ls = self.ovn_nbdb_api.ls_get(ls_name).execute( check_error=True) except idlutils.RowNotFound: LOG.warning(""LogicalSwitch %s could not be found."", ls_name) ovn_ls = None if ovn_ls: ovn_lr = self._find_lr_of_ls(ovn_ls) if ovn_lr: for net in self._find_ls_for_lr(ovn_lr): commands.append(self.ovn_nbdb_api.ls_lb_add( net, ovn_lb.uuid, may_exist=True)) "," ovn_lb, subnet_id=member['subnet_id'], associate=True)",62,3
openstack%2Fcinder-specs~master~I8742af4ace0baf1175b2a06afa9dbca462d9805b,openstack/cinder-specs,master,I8742af4ace0baf1175b2a06afa9dbca462d9805b,Snapshot attached volumes w/o force flag,MERGED,2021-03-19 21:32:43.000000000,2021-06-23 13:30:16.000000000,2021-06-23 13:28:31.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 21:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6da287ef83f0012d5621c1ce6d3c58ce057f51ab', 'message': 'Snapshot attached volumes w/o force flag\n\nAllow snapshots of attached volumes w/o\nthe force flag.\n\nChange-Id: I8742af4ace0baf1175b2a06afa9dbca462d9805b\n'}, {'number': 2, 'created': '2021-06-16 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8f78329037570cec148348d2089de355c3cc99fc', 'message': 'Snapshot attached volumes w/o force flag\n\nAllow snapshots of attached volumes w/o\nthe force flag.\n\nChange-Id: I8742af4ace0baf1175b2a06afa9dbca462d9805b\n'}, {'number': 3, 'created': '2021-06-21 18:29:44.000000000', 'files': ['specs/xena/snapshot-attached-volumes.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/22c2f063f09cfda48886ae5008de8f07062f23e3', 'message': 'Snapshot attached volumes w/o force flag\n\nAllow snapshots of attached volumes w/o\nthe force flag.\n\nChange-Id: I8742af4ace0baf1175b2a06afa9dbca462d9805b\n'}]",4,781914,22c2f063f09cfda48886ae5008de8f07062f23e3,17,5,3,4523,,,0,"Snapshot attached volumes w/o force flag

Allow snapshots of attached volumes w/o
the force flag.

Change-Id: I8742af4ace0baf1175b2a06afa9dbca462d9805b
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/14/781914/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/snapshot-attached-volumes.rst'],1,6da287ef83f0012d5621c1ce6d3c58ce057f51ab,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Snapshotting attached volumes w/o force ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/fix-snapshot-create-force Cinder requires passing the ""force"" flag to a snapshot create call to create a snapshot from a volume while it is attached to an instance. This is unnecessary, as snapshotting attached volumes results in crash-consistent snapshots, which are useful, sufficient, and one of the most common cases of how snapshots are used in the real world. Problem description =================== Most users and other software that create Cinder snapshots actually want crash-consistent snapshots of attached volumes, so making this an exception case is not productive. Code is written to always use ""force"", and users learn that it is needed to create snapshots. In most virtualization platforms for many years, creating crash-consistent snapshots of online disks is not an exception case, it is a normal operation. It should be in Cinder too. Use Cases ========= * easier for end users * less surprising snapshot API for developers Proposed change =============== Introduce a new microversion that allows snapshot creation for attached volumes without requiring the ""force"" flag. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- snapshot create will succeed for in-use volumes w/o force flag added Security impact --------------- None Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- Minimal cinderclient changes Performance Impact ------------------ * Fewer snapshot create calls that return HTTP 400 resulting in the user issuing a second snapshot create call w/ ""force"" added Other deployer impact --------------------- Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: eharney Work Items ---------- * Fix snapshot-create * New API microversion * Tempest Tests * Look at backup-create (similar problems) Dependencies ============ Testing ======= * New tempest tests in cinder-tempest-plugin Documentation Impact ==================== * Minimal References ========== ",,128,0
openstack%2Fovn-octavia-provider~stable%2Fvictoria~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,stable/victoria,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-17 15:02:47.000000000,2021-06-23 13:28:14.000000000,2021-06-23 13:26:33.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 15:02:47.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/62891fa3c29f1e2748250f65108f4383c6cce7fb', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)\n'}]",0,796877,62891fa3c29f1e2748250f65108f4383c6cce7fb,9,3,1,11952,,,0,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
(cherry picked from commit b2a862fdb3d4eae440a342f6b6bbc0323022f8ba)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/77/796877/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,62891fa3c29f1e2748250f65108f4383c6cce7fb,," @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create(self, net_cli): net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound] @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router f_ls.return_value = [self.network] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network) f_ls.assert_called_once_with(self.router) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_no_ls(self, net_cli, f_lr, f_ls): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} self.ovn_lb.external_ids = mock.MagicMock() (self.helper.ovn_nbdb_api.ls_get.return_value. execute.side_effect) = [n_exc.NotFound] status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) (self.helper.ovn_nbdb_api.ls_get.return_value.execute. assert_called_once_with(check_error=True)) f_lr.assert_not_called() f_ls.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_listener(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound]", def test_member_create(self): def test_member_create_listener(self):,62,3
openstack%2Fcinder-specs~master~I0a3f5836641dec535c2d2bf49cbf3a435faa8224,openstack/cinder-specs,master,I0a3f5836641dec535c2d2bf49cbf3a435faa8224,Temporary Resource Tracking,MERGED,2021-06-10 16:06:52.000000000,2021-06-23 13:26:56.000000000,2021-06-23 13:25:30.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 16:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/7e6808d4ad43dc7754179e5299f897f98217ec04', 'message': 'Temporary Resource Tracking\n\nThis spec proposes a way to easily track which volumes and snapshots are\ntemporary and should not be considered when updating the usage quota.\n\nChange-Id: I0a3f5836641dec535c2d2bf49cbf3a435faa8224\nImplements: blueprint temp-resources\n'}, {'number': 2, 'created': '2021-06-22 14:57:47.000000000', 'files': ['specs/xena/temp-resources.rst', 'specs/xena/remove-me.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4090c987c4e963b7a6b128418720709ec26c865c', 'message': 'Temporary Resource Tracking\n\nThis spec proposes a way to easily track which volumes and snapshots are\ntemporary and should not be considered when updating the usage quota.\n\nChange-Id: I0a3f5836641dec535c2d2bf49cbf3a435faa8224\nImplements: blueprint temp-resources\n'}]",12,795842,4090c987c4e963b7a6b128418720709ec26c865c,14,4,2,9535,,,0,"Temporary Resource Tracking

This spec proposes a way to easily track which volumes and snapshots are
temporary and should not be considered when updating the usage quota.

Change-Id: I0a3f5836641dec535c2d2bf49cbf3a435faa8224
Implements: blueprint temp-resources
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/42/795842/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/xena/temp-resources.rst', 'specs/xena/remove-me.rst']",2,7e6808d4ad43dc7754179e5299f897f98217ec04,temp-resources,,.. This file is a place holder. It should be removed by any patch proposing a spec for the Xena release ================================ No specs have yet been approved. ================================ ,235,6
openstack%2Fansible-collections-openstack~master~I1a500673d870b706d9187ce9780fc72d3603bad9,openstack/ansible-collections-openstack,master,I1a500673d870b706d9187ce9780fc72d3603bad9,fix update on empty list of allowed address pairs,MERGED,2021-06-17 14:11:15.000000000,2021-06-23 13:10:43.000000000,2021-06-23 13:10:43.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-17 14:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d3d6ad8d3b308d6b6acce2fe040d43190c6100ab', 'message': 'fix update on empty list of allowed address pairs\n\nStory: 2008986\nTask: 42636\nChange-Id: I1a500673d870b706d9187ce9780fc72d3603bad9\n'}, {'number': 2, 'created': '2021-06-23 10:43:16.000000000', 'files': ['plugins/modules/port.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/72f371c157a47644fba2ad35c2d9cfc6f46dfd87', 'message': 'fix update on empty list of allowed address pairs\n\nStory: 2008986\nTask: 42636\nChange-Id: I1a500673d870b706d9187ce9780fc72d3603bad9\n'}]",0,796847,72f371c157a47644fba2ad35c2d9cfc6f46dfd87,10,4,2,33634,,,0,"fix update on empty list of allowed address pairs

Story: 2008986
Task: 42636
Change-Id: I1a500673d870b706d9187ce9780fc72d3603bad9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/47/796847/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/port.py'],1,d3d6ad8d3b308d6b6acce2fe040d43190c6100ab,fix-removal-of-allowed-address-pairs, if not self.params[key]: if port[key]: return True ,,4,0
openstack%2Fkolla-ansible~master~I0d388851c8b953af0494e44ae569e7eb9e15c326,openstack/kolla-ansible,master,I0d388851c8b953af0494e44ae569e7eb9e15c326,Make it possible to override automatic fluentd version detection,MERGED,2021-01-18 17:52:26.000000000,2021-06-23 13:04:14.000000000,2021-06-23 13:02:49.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-18 17:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b342235ad9107c20f40ad6096e0cd009f60f589', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n'}, {'number': 2, 'created': '2021-01-21 12:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fab9abd1ea89a2b564e8aa69afbce76910dc88ce', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n'}, {'number': 3, 'created': '2021-03-18 09:00:13.000000000', 'files': ['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25c33f9c9477c3a7b5f48a50157b16b1b7c595b1', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n'}]",2,771260,25c33f9c9477c3a7b5f48a50157b16b1b7c595b1,31,6,3,28048,,,0,"Make it possible to override automatic fluentd version detection

One use case for this is so that you can generate config in a CI job
without access to the container repository. It also removes the
dependency of having docker configured for config generation.

TrivialFix

Change-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/771260/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml']",2,2b342235ad9107c20f40ad6096e0cd009f60f589,,--- features: - | Adds the ability to override the automatic detection of `fluentd_version` and `fluentd_binary`. These can now be defined as extra variables. This removes the dependency of having docker configured for config generation. ,,16,4
openstack%2Fmanila-tempest-plugin~master~I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3,openstack/manila-tempest-plugin,master,I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3,DNM,ABANDONED,2021-06-17 13:21:51.000000000,2021-06-23 12:47:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 13:21:51.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b8f3ee8e87145ee782e2562d1eba2d86a5f9d791', 'message': 'DNM\n\nChange-Id: I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3\n'}]",0,796838,b8f3ee8e87145ee782e2562d1eba2d86a5f9d791,4,1,1,19262,,,0,"DNM

Change-Id: I70979bb5ca913c6e5bddd22795012b3fbcf3c8c3
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/38/796838/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,b8f3ee8e87145ee782e2562d1eba2d86a5f9d791,DNM,,,0,0
openstack%2Fcharm-magnum-dashboard~master~I51328280b90a2cfa7afd9c4e505d95d299e7d099,openstack/charm-magnum-dashboard,master,I51328280b90a2cfa7afd9c4e505d95d299e7d099,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:00.000000000,2021-06-23 12:41:55.000000000,2021-06-23 12:41:55.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:10:00.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/1b29cce7e5b3c755043dfa279d2077e1af5d1eaf', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I51328280b90a2cfa7afd9c4e505d95d299e7d099\n'}]",0,791197,1b29cce7e5b3c755043dfa279d2077e1af5d1eaf,16,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I51328280b90a2cfa7afd9c4e505d95d299e7d099
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/97/791197/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1b29cce7e5b3c755043dfa279d2077e1af5d1eaf,batch-update,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new fa0a6568-b3eb-11eb-a276-935b088d8578 ",,5,0
openstack%2Fcharm-cinder-backup-swift-proxy~master~I448f81fccc833a647c27141e9848051e3675289c,openstack/charm-cinder-backup-swift-proxy,master,I448f81fccc833a647c27141e9848051e3675289c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:27.000000000,2021-06-23 12:34:08.000000000,2021-06-23 12:34:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:08:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/72520d787d04b3089bcf11f60775eabbedcdefd8', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I448f81fccc833a647c27141e9848051e3675289c\n'}]",0,791185,72520d787d04b3089bcf11f60775eabbedcdefd8,11,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I448f81fccc833a647c27141e9848051e3675289c
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/85/791185/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,72520d787d04b3089bcf11f60775eabbedcdefd8,batch-update,f9dc51dc-b3eb-11eb-94e9-77fc2fc16deb,82c806d4-5745-11eb-9ea7-83596e0134ee,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,openstack/tripleo-heat-templates,stable/wallaby,Id17dec07c2aa0a3b080eb05f71c637d6a422ec41,Add support for designate standalone jobs,ABANDONED,2021-06-21 18:47:29.000000000,2021-06-23 12:27:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 18:47:29.000000000', 'files': ['ci/environments/scenario003-standalone.yaml', 'deployment/unbound/unbound-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b1b08d369bc90c75cbf51e2020761eec0d6f58c', 'message': ""Add support for designate standalone jobs\n\nThis patch adds the UnboundListenIPs that allows the deployer to specify\nan IP to be used in the event that neutron isn't being used to manage\nthe overcloud networks - as is the case for standalone deployments.\n\nChange-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41\n(cherry picked from commit 857807247d8f1a7270fdade30f570bf2f17789ce)\n""}]",0,797344,7b1b08d369bc90c75cbf51e2020761eec0d6f58c,4,2,1,6681,,,0,"Add support for designate standalone jobs

This patch adds the UnboundListenIPs that allows the deployer to specify
an IP to be used in the event that neutron isn't being used to manage
the overcloud networks - as is the case for standalone deployments.

Change-Id: Id17dec07c2aa0a3b080eb05f71c637d6a422ec41
(cherry picked from commit 857807247d8f1a7270fdade30f570bf2f17789ce)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/797344/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario003-standalone.yaml', 'deployment/unbound/unbound-container-ansible.yaml']",2,7b1b08d369bc90c75cbf51e2020761eec0d6f58c,designate-wallaby," UnboundListenIPs: default: [] description: A list of IPs to add to the externally accessible interface (e.g. interface on the external network or the VIP interface in standalone). If provided, the number of IPs must match the number of deployed Unbound instances. If left empty, the deployment will create additonal IPs using the external network. type: comma_delimited_list - name: Get list of provided listen ips when: - step|int == 1 set_fact: unbound_listen_ips: { get_param: UnboundListenIPs } - name: Distribute configured unbound listen IPs across nodes when: - step|int == 1 - unbound_listen_ips|length > 0 block: - name: Set the unbound host ip fact set_fact: tripleo_unbound_listen_interfaces: ""[ '{{ item.0 }}' ]"" delegate_to: ""{{ item.1 }}"" delegate_facts: true with_together: - ""{{ unbound_listen_ips }}"" - ""{{ groups.unbound }}"" - unbound_listen_ips|length == 0",,30,0
openstack%2Foslo.config~stable%2Ftrain~I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,openstack/oslo.config,stable/train,I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,remove lower-constraints.txt,MERGED,2021-06-23 09:09:01.000000000,2021-06-23 12:26:21.000000000,2021-06-23 12:24:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-23 09:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0be9ff098a87d684329f8f98c52220b6a578eea9', 'message': 'remove lower-constraints.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nCo-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca\n(cherry picked from commit 63213f8eca8bafe8b117e92b921457d62d9647e8)\n'}, {'number': 2, 'created': '2021-06-23 09:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/350ee4e962bede505fa8e3a313a8a41ab6ad9151', 'message': 'remove lower-constraints.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nCo-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca\n(cherry picked from commit 63213f8eca8bafe8b117e92b921457d62d9647e8)\n'}, {'number': 3, 'created': '2021-06-23 09:12:45.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/e8ab0c22801038d4763a6a04e454ec36cdf76f7e', 'message': 'remove lower-constraints.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nCo-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca\n(cherry picked from commit 63213f8eca8bafe8b117e92b921457d62d9647e8)\n'}]",0,797609,e8ab0c22801038d4763a6a04e454ec36cdf76f7e,9,3,3,31245,,,0,"remove lower-constraints.txt

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Co-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>
Change-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca
(cherry picked from commit 63213f8eca8bafe8b117e92b921457d62d9647e8)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/09/797609/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini']",3,0be9ff098a87d684329f8f98c52220b6a578eea9,,,[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt ,1,65
openstack%2Fkolla-ansible~master~Id2ca7347e9c31bca88aa83badb3b36f1353fd05c,openstack/kolla-ansible,master,Id2ca7347e9c31bca88aa83badb3b36f1353fd05c,CI: Use interpreter_python = auto,ABANDONED,2021-06-17 06:06:49.000000000,2021-06-23 12:24:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 06:06:49.000000000', 'files': ['tests/templates/ansible.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77ed3ae91ecef69d8b70e5c01630924f2039c107', 'message': 'CI: Use interpreter_python = auto\n\nBy default Ansible 2.8 - 2.11 uses auto_legacy as the interpreter,\nwhich results in [1] in Debian upgrade job.\n\nAs per [2] auto should be a better solution.\n\n[1]: https://2504ffb60b1909a0bde9-237e20f2346dac25649a4e5e3b0485b4.ssl.cf2.rackcdn.com/796422/4/check/kolla-ansible-debian-source-upgrade/ef33796/primary/logs/ansible/chrony-install\n[2]: https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html\n\nChange-Id: Id2ca7347e9c31bca88aa83badb3b36f1353fd05c\n'}]",0,796756,77ed3ae91ecef69d8b70e5c01630924f2039c107,8,1,1,22629,,,0,"CI: Use interpreter_python = auto

By default Ansible 2.8 - 2.11 uses auto_legacy as the interpreter,
which results in [1] in Debian upgrade job.

As per [2] auto should be a better solution.

[1]: https://2504ffb60b1909a0bde9-237e20f2346dac25649a4e5e3b0485b4.ssl.cf2.rackcdn.com/796422/4/check/kolla-ansible-debian-source-upgrade/ef33796/primary/logs/ansible/chrony-install
[2]: https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html

Change-Id: Id2ca7347e9c31bca88aa83badb3b36f1353fd05c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/796756/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/ansible.cfg.j2'],1,77ed3ae91ecef69d8b70e5c01630924f2039c107,,interpreter_python = auto,,1,0
openstack%2Fcharm-deployment-guide~master~I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5,openstack/charm-deployment-guide,master,I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5,Fix up Overview on RGW replication page,MERGED,2021-06-10 14:30:11.000000000,2021-06-23 12:04:51.000000000,2021-06-23 12:03:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-10 14:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4bb7fbbae0216187cf059394bc95b9b70793ec11', 'message': 'Fix up Overview on RGW replication page\n\nFix up the Overview section on the Ceph RADOS\nGateway multisite replication page.\n\nCloses-Bug: #1929140\nChange-Id: I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5\n'}, {'number': 2, 'created': '2021-06-21 15:12:41.000000000', 'files': ['deploy-guide/source/rgw-multisite.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ab270b90f8070311c33cec1f570561df42b8e9b1', 'message': 'Fix up Overview on RGW replication page\n\nFix up the Overview section on the Ceph RADOS\nGateway multisite replication page.\n\nCloses-Bug: #1929140\nChange-Id: I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5\n'}]",0,795816,ab270b90f8070311c33cec1f570561df42b8e9b1,10,3,2,30561,,,0,"Fix up Overview on RGW replication page

Fix up the Overview section on the Ceph RADOS
Gateway multisite replication page.

Closes-Bug: #1929140
Change-Id: I95691676f89ae3d7fc5df3fc46d9a9466bc6bdb5
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/16/795816/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-rgw-multisite.rst'],1,4bb7fbbae0216187cf059394bc95b9b70793ec11,lp1929140-lower-admonishment,"Ceph RADOS Gateway (RGW) native replication between ceph-radosgw applications is supported both within a single model and between different models. By default, each application will accept write operations. Multisite replication is supported starting with Ceph Luminous. .. warning:: Converting from a standalone deployment to a replicated deployment is not supported.",The ceph-radosgw charm supports deployment of the Ceph RADOS Gateway (RGW) with native replication between ceph-radosgw applications. This is supported both within a single model and between different models using cross-model relations. .. warning:: Replication between ceph-radosgw applications is only supported in Ceph Luminous or later. .. warning:: Switching from a standalone deployment to a multi-site replicated deployment is not supported. By default each ceph-radosgw application will accept write operations.,9,16
openstack%2Fcharm-deployment-guide~master~Iac9e26e8c5cb6693a12d4248a12a89e83981b424,openstack/charm-deployment-guide,master,Iac9e26e8c5cb6693a12d4248a12a89e83981b424,Improve security for three cloud operations,MERGED,2021-06-08 17:01:53.000000000,2021-06-23 12:01:52.000000000,2021-06-23 11:59:54.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-08 17:01:53.000000000', 'files': ['deploy-guide/source/ops-config-tls-vault-api.rst', 'deploy-guide/source/ops-unseal-vault.rst', 'deploy-guide/source/ops-change-keystone-password.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a42182cf1b5e24a56ddcfcc9fa862fbcb262f171', 'message': 'Improve security for three cloud operations\n\nAdd better security to three cloud operations tasks\nwhen handling sensitive data.\n\nChange-Id: Iac9e26e8c5cb6693a12d4248a12a89e83981b424\n'}]",0,795381,a42182cf1b5e24a56ddcfcc9fa862fbcb262f171,7,2,1,30561,,,0,"Improve security for three cloud operations

Add better security to three cloud operations tasks
when handling sensitive data.

Change-Id: Iac9e26e8c5cb6693a12d4248a12a89e83981b424
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/81/795381/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-config-tls-vault-api.rst', 'deploy-guide/source/ops-unseal-vault.rst', 'deploy-guide/source/ops-change-keystone-password.rst']",3,a42182cf1b5e24a56ddcfcc9fa862fbcb262f171,cdg-ops, PASSWD=$(pwgen -s 16 1)password and then the new password (i.e. the output to ``echo $PASSWD``). juju run -u keystone/leader -- leader-set 'admin_passwd=$PASSWD', pwgen -s 16 1password and then the new password (i.e. the generated string). juju run -u keystone/leader -- leader-set 'admin_passwd=<new-password>',12,9
openstack%2Fcharm-nova-compute~master~I8510382c256dbe731b810f09f25408f7fa1d7b15,openstack/charm-nova-compute,master,I8510382c256dbe731b810f09f25408f7fa1d7b15,Improve definition of virt-type option,MERGED,2021-06-10 16:04:33.000000000,2021-06-23 11:57:50.000000000,2021-06-23 11:57:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-10 16:04:33.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/63273a4e1d49a663057691bdcc889c536da77ca7', 'message': ""Improve definition of virt-type option\n\nThe lxd hypervisor is no longer supported\n\nI'm not sure whether the other types should be\nthere, even for testing.\n\nImprove general wording\n\nRelated-Bug: #1931579\nChange-Id: I8510382c256dbe731b810f09f25408f7fa1d7b15\n""}]",0,795841,63273a4e1d49a663057691bdcc889c536da77ca7,9,3,1,30561,,,0,"Improve definition of virt-type option

The lxd hypervisor is no longer supported

I'm not sure whether the other types should be
there, even for testing.

Improve general wording

Related-Bug: #1931579
Change-Id: I8510382c256dbe731b810f09f25408f7fa1d7b15
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/41/795841/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,63273a4e1d49a663057691bdcc889c536da77ca7,improve-option-text-for-virt-type," Virtualisation flavor. The only supported flavor is kvm. Other native libvirt flavors available for testing only: uml, lxc, qemu. NOTE: Changing the virtualisation flavor post-deployment is not supported."," Virtualisation flavor. Supported and tested flavors are: kvm, lxd. If using the lxd flavor, the lxd subordinate charm must also be related. Other native libvirt flavors available to exercise (dev/test only): uml, lxc, qemu. NOTE: Changing virtualisation flavor after deployment is not supported.",4,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,openstack/tripleo-ansible,stable/wallaby,I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,"Update manila mon, mgr and osd caps for Wallaby+",MERGED,2021-06-22 16:47:55.000000000,2021-06-23 11:54:14.000000000,2021-06-23 11:54:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-22 16:47:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a90f50b3234802de53f94c41b97c3ec67850f53b', 'message': 'Update manila mon, mgr and osd caps for Wallaby+\n\nAs described in [1], manila needs a different caps set\nto interact with a ceph cluster. This patch just fixes\nthe mon, mgr and osd caps section to reflect the new\nrequirements.\n\n[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html\n\nChange-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0\n(cherry picked from commit 471067a2f84992523e01fd620b1233a9c3411dbc)\n'}]",0,797484,a90f50b3234802de53f94c41b97c3ec67850f53b,12,3,1,16643,,,0,"Update manila mon, mgr and osd caps for Wallaby+

As described in [1], manila needs a different caps set
to interact with a ceph cluster. This patch just fixes
the mon, mgr and osd caps section to reflect the new
requirements.

[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html

Change-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0
(cherry picked from commit 471067a2f84992523e01fd620b1233a9c3411dbc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/797484/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'],1,a90f50b3234802de53f94c41b97c3ec67850f53b,manila_ceph_caps," manila_caps: {""mgr"": ""allow rw"", ""mon"": ""allow r"", ""osd"": ""allow rw pool {{ manila_pools.data }}""}"," manila_caps: {""mgr"": ""allow *"", ""mon"": ""allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create'"", ""mds"": ""allow *"", ""osd"": ""allow rw""}",1,2
openstack%2Fansible-collections-openstack~master~If02e03f124a8677cba42aa7019947e8f00ea476f,openstack/ansible-collections-openstack,master,If02e03f124a8677cba42aa7019947e8f00ea476f,Add address scope module,MERGED,2021-05-20 22:38:23.000000000,2021-06-23 11:38:23.000000000,2021-06-23 11:38:23.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 22:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/10f41e9d3f1991a618da389d138cad9687a013ac', 'message': 'Add address scope module\n\nChange-Id: If02e03f124a8677cba42aa7019947e8f00ea476f\n'}, {'number': 2, 'created': '2021-06-22 14:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/966ae7dd3a9002b73432f23ca59c92222f2e08d5', 'message': 'Add address scope module\n\nChange-Id: If02e03f124a8677cba42aa7019947e8f00ea476f\n'}, {'number': 3, 'created': '2021-06-22 16:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2950acc9b0a1c1dd36eba8775167eea7081d8a44', 'message': 'Add address scope module\n\nChange-Id: If02e03f124a8677cba42aa7019947e8f00ea476f\n'}, {'number': 4, 'created': '2021-06-22 17:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dccd535abf75165809ad2eab1c0daa10e42cd683', 'message': 'Add address scope module\n\nChange-Id: If02e03f124a8677cba42aa7019947e8f00ea476f\n'}, {'number': 5, 'created': '2021-06-22 21:24:07.000000000', 'files': ['plugins/modules/address_scope.py', 'meta/runtime.yml', 'ci/roles/address_scope/tasks/main.yml', 'ci/roles/address_scope/defaults/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f20ec3a151d15079664ba2430b063bb7680fdeff', 'message': 'Add address scope module\n\nChange-Id: If02e03f124a8677cba42aa7019947e8f00ea476f\n'}]",2,792486,f20ec3a151d15079664ba2430b063bb7680fdeff,17,2,5,29296,,,0,"Add address scope module

Change-Id: If02e03f124a8677cba42aa7019947e8f00ea476f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/792486/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/address_scope.py'],1,10f41e9d3f1991a618da389d138cad9687a013ac,add_address_scope,"#!/usr/bin/python # coding: utf-8 -*- # # Copyright (c) 2021 by Uemit Seren <uemit.seren@gmail.com> # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: address_scope short_description: Create or delete address scopes from OpenStack author: OpenStack Ansible SIG description: - Create or Delete address scopes from OpenStack. options: state: description: - Indicate desired state of the resource choices: ['present', 'absent'] default: present type: str name: description: - Name to be give to the address scope required: true type: str project: description: - Unique name or ID of the project. type: str ip_version: description: - The IP version of the subnet 4 or 6 default: 4 type: str choices: ['4', '6'] shared: description: - Whether this address scope is shared or not. type: bool default: 'no' extra_specs: description: - Dictionary with extra key/value pairs passed to the API required: false default: {} type: dict requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' # Create an IPv4 address scope. - openstack.cloud.address_scope: cloud: mycloud state: present name: my_adress_scope # Create a shared IPv6 address scope for a given project. - openstack.cloud.address_scope: cloud: mycloud state: present ip_version: 6 name: ipv6_address_scope project: myproj # Delete address scope. - openstack.cloud.address_scope: cloud: mycloud state: absent name: my_adress_scope ''' RETURN = ''' address_scope: description: Dictionary describing the address scope. returned: On success when I(state) is 'present' type: complex contains: id: description: Address Scope ID. type: str sample: ""474acfe5-be34-494c-b339-50f06aa143e4"" name: description: Address Scope name. type: str sample: ""my_address_scope"" tenant_id: description: The tenant ID. type: str sample: ""861174b82b43463c9edc5202aadc60ef"" ip_version: description: The IP version of the subnet 4 or 6. type: str sample: ""4"" shared: description: Indicates whether this address scope is shared across all tenants. type: bool sample: false ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class AddressScopeModule(OpenStackModule): argument_spec = dict( state=dict(default='present', choices=['absent', 'present']), name=dict(required=True), shared=dict(default=False, type='bool'), ip_version=dict(type='str', default='4', choices=['4', '6']), project=dict(default=None), extra_specs=dict(type='dict', default=dict()) ) def _needs_update(self, address_scope, filters=None): """"""Decide if the given address_scope needs an update. """""" ip_version = int(self.params['ip_version']) if address_scope['is_shared'] != self.params['shared']: return True if ip_version and address_scope['ip_version'] != ip_version: self.fail_json(msg='Cannot update ip_version in existing address scope') return False def _system_state_change(self, address_scope, filters=None): """"""Check if the system state would be changed."""""" state = self.params['state'] if state == 'absent' and address_scope: return True if state == 'present': if not address_scope: return True return self._needs_update(address_scope, filters) return False def run(self): state = self.params['state'] name = self.params['name'] shared = self.params['shared'] ip_version = self.params['ip_version'] project = self.params['project'] extra_specs = self.params['extra_specs'] if project is not None: proj = self.conn.get_project(project) if proj is None: self.fail(msg='Project %s could not be found' % project) project_id = proj['id'] else: project_id = self.conn.current_project_id address_scope = self.conn.network.find_address_scope(name_or_id=name) if self.ansible.check_mode: self.exit_json( changed=self._system_state_change(address_scope) ) if state == 'present': changed = False if not address_scope: kwargs = dict( name=name, ip_version=ip_version, is_shared=shared, tenant_id=project_id) dup_args = set(kwargs.keys()) & set(extra_specs.keys()) if dup_args: raise ValueError('Duplicate key(s) {0} in extra_specs' .format(list(dup_args))) kwargs = dict(kwargs, **extra_specs) address_scope = self.conn.network.create_address_scope(**kwargs) changed = True else: if self._needs_update(address_scope): address_scope = self.conn.network.update_address_scope(address_scope['id'], is_shared=shared) changed = True else: changed = False self.exit_json(changed=changed, address_scope=address_scope, id=address_scope['id']) elif state == 'absent': if not address_scope: self.exit(changed=False) else: self.conn.network.delete_address_scope(address_scope['id']) self.exit_json(changed=True) def main(): module = AddressScopeModule() module() if __name__ == '__main__': main() ",,201,0
openstack%2Fkolla-ansible~master~If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,openstack/kolla-ansible,master,If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,Make rabbitmq cluster_partition_handling configurable,MERGED,2021-05-20 22:33:06.000000000,2021-06-23 11:36:50.000000000,2021-05-31 16:08:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-20 22:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72bb1e267ce10d23a4507fe54734177b61f76261', 'message': 'WIP: Set rabbitmq cluster handling to autoheal if nodes == 2\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n'}, {'number': 2, 'created': '2021-05-21 08:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3f656e338147eb9a4fa8f6d5ab8d7c40bf50272', 'message': 'WIP: Set rabbitmq cluster handling to autoheal if nodes == 2\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n'}, {'number': 3, 'created': '2021-05-21 08:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16f9056ba4a084fa08d454de24570b966960a793', 'message': 'Make rabbitmq cluster_partition_handling configurable\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n'}, {'number': 4, 'created': '2021-05-21 08:55:34.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c99841272f89f83d0b0dbce606ad075453896dce', 'message': 'Make rabbitmq cluster_partition_handling configurable\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n'}]",9,792484,c99841272f89f83d0b0dbce606ad075453896dce,30,5,4,27339,,,0,"Make rabbitmq cluster_partition_handling configurable

Change-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/792484/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2'],1,72bb1e267ce10d23a4507fe54734177b61f76261,,{% if groups.rabbitmq|length == 2 %} cluster_partition_handling = autoheal {% else %}{% endif %},,4,0
openstack%2Ftripleo-heat-templates~master~Id33995996d930d06b65b51f72466120eb74ca467,openstack/tripleo-heat-templates,master,Id33995996d930d06b65b51f72466120eb74ca467,Move scenario004 to cephadm,MERGED,2021-02-01 10:54:32.000000000,2021-06-23 11:28:33.000000000,2021-06-23 11:28:33.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-01 10:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20e97c1d92147493665b00bfd3510a5fc2e5dac5', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 2, 'created': '2021-02-01 11:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2813806cccb3f388e2ec69385049e26342f379f', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 3, 'created': '2021-02-05 06:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4157de3e7e9b8af6d112c024cfe3131c7db3706', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 4, 'created': '2021-02-05 09:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2a231197436cb573332d677fcda143018490db9', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 5, 'created': '2021-02-05 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28be8a2ecff0388309e144ac226ebf0b15088551', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 6, 'created': '2021-02-09 09:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2aa3c6d1ca38525ea8648e2359557e2ab291a746', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 7, 'created': '2021-02-09 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fd40b12a1480ea0f963ffe4205c23542039b9e8', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 8, 'created': '2021-02-11 09:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff6521ebc090936ed6a0be4b12c445fde041214f', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 9, 'created': '2021-02-15 10:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e86b278ec338624a3fe85511e97f609e5f35c67', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 10, 'created': '2021-02-15 11:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b46c10287f61ba3806ff808ed29848fac02b47d', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 11, 'created': '2021-02-15 11:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5284d91906fc37f22961619fb1d2d7c5ed22d13', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 12, 'created': '2021-02-25 21:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/682cd4d9dfb793b5b5bbd1e67e2385f89252c326', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 13, 'created': '2021-02-25 21:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e7c01e00b4ef92387bb7aa9fdbdfe4304107029', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 14, 'created': '2021-03-08 13:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/585e39a7da331a98dccbe1748d9c0a3235bf69a1', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 15, 'created': '2021-03-08 17:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/298d8bf28d245d2c0ec51ed5de68fa1a04792670', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 16, 'created': '2021-03-09 10:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1347b32601159462049cbb0fbb33cabf24567370', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 17, 'created': '2021-03-10 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07c1cd7fb3dc50329f404d7788074e882e9507ae', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n1. rgw\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I35e57abddc64310a6422174fe191bd328588d7cd\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 18, 'created': '2021-04-28 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c48cead0e136a62504e7984b3e79e286efa8973', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 19, 'created': '2021-04-28 12:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a44f85d74c6d2a2a855c1ecc9fc096af6fdc915', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 20, 'created': '2021-05-11 15:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a615f5d0aebc0a2179978e308d17ce765221ec4', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 21, 'created': '2021-05-12 07:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ca03b8d4f54f57d38c159769e1f541f8a94d7d4', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I59a74797dc97540b7553a3e74f67e23e6ccc8f6d\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 22, 'created': '2021-05-12 08:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f40aa98cb8ec122374b1e3e24823c0184bdc969', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: I59a74797dc97540b7553a3e74f67e23e6ccc8f6d\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 23, 'created': '2021-05-18 14:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/641e12c054244169c597d1c5c22a28011a3627da', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ie89c35238d1bb82a28d560d7f0f718f7ee38044f\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 24, 'created': '2021-05-18 14:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/615368be055ca3a16465a11378255665540af664', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ie89c35238d1bb82a28d560d7f0f718f7ee38044f\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 25, 'created': '2021-06-07 13:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/839d9cd7572e11645f5b76b23e9c676f3cf7588c', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ie89c35238d1bb82a28d560d7f0f718f7ee38044f\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 26, 'created': '2021-06-07 13:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe6b52f79e7ca69e98f1a5e170890341d659341d', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 27, 'created': '2021-06-08 05:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffd3bfa2e86d9253a96fcbb4dd17246699bcb9c9', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 28, 'created': '2021-06-08 16:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0f4b7937c13eea41237e45da8c6eb8e4be49e18', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 29, 'created': '2021-06-08 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a6d3da54bd9cf532f1a2a815f2f6239a44f1623', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 30, 'created': '2021-06-15 14:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db38bb3156092397aafe12e0c90b6c823f3f1701', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 31, 'created': '2021-06-16 09:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85afaec9ae7d85bc80bdea1cffa44331eb8567b8', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 32, 'created': '2021-06-18 09:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3352dfc3f7a55bd970d8d0378154cb5867f4a527', 'message': 'WIP - Moving scenario004 to cephadm\n\nTESTING 6.0.3 containers.\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 33, 'created': '2021-06-18 20:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5c86e90ca1711d30610b7dab4a0a4c96ae0572b', 'message': 'WIP - Moving scenario004 to cephadm\n\nTESTING 6.0.3 containers.\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 34, 'created': '2021-06-19 07:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3216e715eae4b7b419c05a0fff2a2532c3e977a', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: I7e31cd6368cd256b22a21b506947c0214e298361\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 35, 'created': '2021-06-21 05:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8725086eb94d70d952234acbaae774d4636b5dc0', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nDepends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 36, 'created': '2021-06-21 08:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5260ba50c1fc1ffff48dd1ddfcc4bbb9d90ab45', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nDepends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 37, 'created': '2021-06-21 11:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d77b9fa5968a3e0b4bf8a56fd59af4331ddfafb3', 'message': 'WIP - Moving scenario004 to cephadm\n\nThis patch just change the template references\nfrom ceph-ansible to cephadm, using the new role\nprovided by tripleo-ansible.\n\nNote:\nStill wip since the purpose here is to integrate\nthe following services:\n\n2. mds/nfs/manila\n3. monitoring_stack\n4. ceph dashboard\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nDepends-On: I50a683aaa7062f7f33d6de45758844c8523da7f2\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 38, 'created': '2021-06-21 14:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27ceeb8b636c0b1ec0358f4e746568b0ccd61f0e', 'message': 'Move scenario004 to cephadm\n\nThis patch changes the template references from ceph-ansible\nto cephadm, using the new role provided by tripleo-ansible.\nSince the Ceph dashboard requires a new -stable Ceph\ncontainer which is not yet released, the monitoring stack\ndeployment is disabled.\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 39, 'created': '2021-06-21 15:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9075efb5e44131cbaec15567543d67cbe314af70', 'message': 'Move scenario004 to cephadm\n\nThis patch changes the template references from ceph-ansible\nto cephadm, using the new role provided by tripleo-ansible.\nSince the Ceph dashboard requires a new -stable Ceph\ncontainer which is not yet released, the monitoring stack\ndeployment is disabled.\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 40, 'created': '2021-06-21 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7de94d54d17e247c5ea556066a6cb0c40db83ca', 'message': 'Move scenario004 to cephadm\n\nThis patch changes the template references from ceph-ansible\nto cephadm, using the new role provided by tripleo-ansible.\nSince the Ceph dashboard requires a new -stable Ceph\ncontainer which is not yet released, the monitoring stack\ndeployment is disabled.\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}, {'number': 41, 'created': '2021-06-22 08:28:06.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb67c2da9fee6d14b990cbee8ddde1dabe215ce0', 'message': 'Move scenario004 to cephadm\n\nThis patch changes the template references from ceph-ansible\nto cephadm, using the new role provided by tripleo-ansible.\nSince the Ceph dashboard requires a new -stable Ceph\ncontainer which is not yet released, the monitoring stack\ndeployment is disabled.\n\nDepends-On: Ief63794bebf1050744e1a54e554f5234d6337373\nDepends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\nChange-Id: Id33995996d930d06b65b51f72466120eb74ca467\n'}]",2,773355,fb67c2da9fee6d14b990cbee8ddde1dabe215ce0,127,6,41,25402,,,0,"Move scenario004 to cephadm

This patch changes the template references from ceph-ansible
to cephadm, using the new role provided by tripleo-ansible.
Since the Ceph dashboard requires a new -stable Ceph
container which is not yet released, the monitoring stack
deployment is disabled.

Depends-On: Ief63794bebf1050744e1a54e554f5234d6337373
Depends-On: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
Change-Id: Id33995996d930d06b65b51f72466120eb74ca467
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/773355/33 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",2,20e97c1d92147493665b00bfd3510a5fc2e5dac5,cephadm_ci_switch,," CephAnsibleRepo: ""tripleo-centos-ceph-nautilus""",8,11
openstack%2Fovn-octavia-provider~master~Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,openstack/ovn-octavia-provider,master,Ie4a843fc5dd98fc25f8cecf91997e275c36f121d,Ensure that load balancer is added to logical switch,MERGED,2021-06-11 22:47:41.000000000,2021-06-23 11:12:59.000000000,2021-06-23 11:11:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 22:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3da9f2399acb4df6d67b899cdd35d7734768bbc7', 'message': '[ovn] Ensure that lb is part of ls\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 2, 'created': '2021-06-13 23:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/536880f1f42561a348952b574f4db4bbbc948b08', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 3, 'created': '2021-06-14 15:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6534cacdb700fb956c65c9b9b4a58d58e721cf6f', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 4, 'created': '2021-06-14 16:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fd00a12df27faa380e7bb5058440bdec8c86aebf', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 5, 'created': '2021-06-15 00:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/00e7c10271d982ea0309a6f88e4555799b2db781', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 6, 'created': '2021-06-15 21:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/816a2ce043f7e2af8496023ca5288f3230219eb9', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}, {'number': 7, 'created': '2021-06-15 21:29:26.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b2a862fdb3d4eae440a342f6b6bbc0323022f8ba', 'message': 'Ensure that load balancer is added to logical switch\n\nAdd logic to handle cases where a race between logical router port and\nload balancer creation renders the affected logical switch without the\nproper load balancer in its attribute.\n\nThis change adds _get_subnet() to the helper module, so obtaining the\nsubnet is done from a shared location.\n\nCloses-bug: #1931639\nChange-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d\n'}]",8,796095,b2a862fdb3d4eae440a342f6b6bbc0323022f8ba,69,6,7,11952,,,0,"Ensure that load balancer is added to logical switch

Add logic to handle cases where a race between logical router port and
load balancer creation renders the affected logical switch without the
proper load balancer in its attribute.

This change adds _get_subnet() to the helper module, so obtaining the
subnet is done from a shared location.

Closes-bug: #1931639
Change-Id: Ie4a843fc5dd98fc25f8cecf91997e275c36f121d
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/95/796095/7 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,3da9f2399acb4df6d67b899cdd35d7734768bbc7,, neutron_client = clients.get_neutron_client(), neutron_client = clients.get_neutron_client(),1,1
openstack%2Freleases~master~I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435,openstack/releases,master,I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435,[cloudkitty] Transition Ocata to End of Life,MERGED,2021-06-09 18:46:37.000000000,2021-06-23 10:55:32.000000000,2021-06-23 10:55:32.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:46:37.000000000', 'files': ['deliverables/ocata/cloudkitty.yaml', 'deliverables/ocata/python-cloudkittyclient.yaml', 'deliverables/ocata/cloudkitty-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f9ca28a5890182c00885f79d98e45f85ee822e4d', 'message': ""[cloudkitty] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435\n""}]",0,795648,f9ca28a5890182c00885f79d98e45f85ee822e4d,10,4,1,17685,,,0,"[cloudkitty] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0f5d35e2524bc66d04811a23eb5dbf2f96aa1435
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/795648/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/cloudkitty.yaml', 'deliverables/ocata/python-cloudkittyclient.yaml', 'deliverables/ocata/cloudkitty-dashboard.yaml']",3,f9ca28a5890182c00885f79d98e45f85ee822e4d,ocata-eol, - version: ocata-eol projects: - repo: openstack/cloudkitty-dashboard hash: 61b4c76e691a0c3f2117ac509626f087f89f9cec,,12,0
openstack%2Freleases~master~I34b3de54b274280ba1e733317af5056aefb026d9,openstack/releases,master,I34b3de54b274280ba1e733317af5056aefb026d9,[OpenStackSDK] Transition Ocata to End of Life,MERGED,2021-06-09 19:09:33.000000000,2021-06-23 10:49:45.000000000,2021-06-23 10:49:45.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 19:09:33.000000000', 'files': ['deliverables/ocata/cliff.yaml', 'deliverables/ocata/python-openstackclient.yaml', 'deliverables/ocata/os-client-config.yaml', 'deliverables/ocata/osc-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/82a64cd663b187b763ee17e8c6e822ee9570dd3a', 'message': ""[OpenStackSDK] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I34b3de54b274280ba1e733317af5056aefb026d9\n""}]",0,795667,82a64cd663b187b763ee17e8c6e822ee9570dd3a,10,4,1,17685,,,0,"[OpenStackSDK] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I34b3de54b274280ba1e733317af5056aefb026d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/795667/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/cliff.yaml', 'deliverables/ocata/python-openstackclient.yaml', 'deliverables/ocata/os-client-config.yaml', 'deliverables/ocata/osc-lib.yaml']",4,82a64cd663b187b763ee17e8c6e822ee9570dd3a,ocata-eol, - version: ocata-eol projects: - repo: openstack/osc-lib hash: b3c5a1b5b047ab4c4989ffb3be0575a9a095c4d4,,16,0
openstack%2Fansible-collections-openstack~master~Ic07fddc5e70f2442fb72a048084fa3a625844528,openstack/ansible-collections-openstack,master,Ic07fddc5e70f2442fb72a048084fa3a625844528,Add minimum SDK version to volume snapshot,ABANDONED,2021-06-22 19:49:57.000000000,2021-06-23 10:40:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 19:49:57.000000000', 'files': ['plugins/modules/volume_snapshot.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2ef79093451b6e6938ed03228958c19d4deb15e9', 'message': 'Add minimum SDK version to volume snapshot\n\nChange-Id: Ic07fddc5e70f2442fb72a048084fa3a625844528\n'}]",0,797533,2ef79093451b6e6938ed03228958c19d4deb15e9,3,1,1,10969,,,0,"Add minimum SDK version to volume snapshot

Change-Id: Ic07fddc5e70f2442fb72a048084fa3a625844528
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/33/797533/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/volume_snapshot.py'],1,2ef79093451b6e6938ed03228958c19d4deb15e9,, module_min_sdk_version = '0.49.0' ,,2,0
openstack%2Fkolla-ansible~stable%2Fussuri~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/ussuri,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-22 06:24:39.000000000,2021-06-23 10:24:27.000000000,2021-06-23 10:22:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 06:24:39.000000000', 'files': ['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c7db5a14b4eb311d7ead2e40793098d6982cfc1', 'message': 'Fix host bootstrap pkg removal on Debian\n\nThe variable names are awful but this all agrees with the docs now.\n\nCloses-Bug: #1933122\nChange-Id: Icd3d140473886ba3c4847859cddccdb3c1376818\n(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)\n(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)\n'}]",0,797394,0c7db5a14b4eb311d7ead2e40793098d6982cfc1,9,3,1,30491,,,0,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/797394/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml']",2,0c7db5a14b4eb311d7ead2e40793098d6982cfc1,bug/1933122-stable/wallaby-stable/victoria-stable/ussuri, when: ansible_os_family == 'Debian'," when: ansible_distribution|lower == ""ubuntu""",7,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/victoria,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-22 06:23:50.000000000,2021-06-23 10:24:13.000000000,2021-06-23 10:22:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 06:23:50.000000000', 'files': ['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdbe6aebe1ec34e4f4d8822598777e24aa4fd1ac', 'message': 'Fix host bootstrap pkg removal on Debian\n\nThe variable names are awful but this all agrees with the docs now.\n\nCloses-Bug: #1933122\nChange-Id: Icd3d140473886ba3c4847859cddccdb3c1376818\n(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)\n(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)\n'}]",0,797393,fdbe6aebe1ec34e4f4d8822598777e24aa4fd1ac,9,3,1,30491,,,0,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
(cherry picked from commit bcce291aa3bc1ee511e17fbc9a872612c55ed09d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/797393/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml']",2,fdbe6aebe1ec34e4f4d8822598777e24aa4fd1ac,bug/1933122-stable/wallaby-stable/victoria, when: ansible_os_family == 'Debian'," when: ansible_distribution|lower == ""ubuntu""",7,1
openstack%2Fcastellan~master~I143cb57c8534a8dc0a91e6e42917dd0c134170c0,openstack/castellan,master,I143cb57c8534a8dc0a91e6e42917dd0c134170c0,barbican key manager: Add support for service user,MERGED,2021-01-06 15:46:46.000000000,2021-06-23 10:05:10.000000000,2021-06-23 10:03:37.000000000,"[{'_account_id': 7973}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-06 15:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/3841f59d6f251d79c99e170d8878946df9f2d821', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican_service_user]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 2, 'created': '2021-01-06 17:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/307148347ce4bf0a8e687a97c3b6d2e90e528fbb', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican_service_user]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 3, 'created': '2021-01-21 17:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/48337fe13d54d289f7017569c2f62fe4fbf3955a', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican_service_user]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 4, 'created': '2021-02-03 15:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/d1abe03e6d81c5db01c62bb74d32c135e2272f27', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican_service_user]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 5, 'created': '2021-02-03 15:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/9bd3e6557634e8c7bb629b5b03523df00400c417', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican_service_user]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 6, 'created': '2021-02-03 16:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/803800e15517182b037b78c3871b5c6fcf2f21ff', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 7, 'created': '2021-03-22 11:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/3da0f4f03266712255ed4be83ab2097f2d9c6710', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 8, 'created': '2021-03-24 14:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/fe46f7de1be9725a46d99fa6b4f9369d4b886f1a', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 9, 'created': '2021-03-31 08:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/30aa0b0aedb526b6d96e9155cd1d85612ffec1c1', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}, {'number': 10, 'created': '2021-06-21 12:48:07.000000000', 'files': ['releasenotes/notes/barbican-service-user-11ebbfcd33dace9d.yaml', 'castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'castellan/key_manager/barbican_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/162039467ad0dfc5e25a16b75d9072d607690702', 'message': 'barbican key manager: Add support for service user\n\nThis change adds support to the Barbican key manager for configuring a\nservice user. This can be used to provide additional security through\nthe combination of a user token and a service token, with appropriate\nmodifications to Barbican API policy.\n\nUse of a service user is enabled via the [barbican]\nsend_service_user_token option, which defaults to False. When set to\nTrue, the service user is configured via keystoneauth options in the\nbarbican_service_user group.\n\nChange-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0\n'}]",28,769560,162039467ad0dfc5e25a16b75d9072d607690702,50,4,10,14826,,,0,"barbican key manager: Add support for service user

This change adds support to the Barbican key manager for configuring a
service user. This can be used to provide additional security through
the combination of a user token and a service token, with appropriate
modifications to Barbican API policy.

Use of a service user is enabled via the [barbican]
send_service_user_token option, which defaults to False. When set to
True, the service user is configured via keystoneauth options in the
barbican_service_user group.

Change-Id: I143cb57c8534a8dc0a91e6e42917dd0c134170c0
",git fetch https://review.opendev.org/openstack/castellan refs/changes/60/769560/4 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/tests/unit/key_manager/test_barbican_key_manager.py', 'releasenotes/notes/barbican-service-user-11ebbfcd33dace9d.yaml', 'castellan/key_manager/barbican_key_manager.py']",3,3841f59d6f251d79c99e170d8878946df9f2d821,,"from keystoneauth1 import service_token_barbican_service_user_opts = [ cfg.BoolOpt('send_service_user_token', default=False, help="""""" When True, if sending a user token to a REST API, also send a service token. Nova often reuses the user token provided to the nova-api to talk to other REST APIs, such as Cinder, Glance and Neutron. It is possible that while the user token was valid when the request was made to Nova, the token may expire before it reaches the other service. To avoid any failures, and to make it clear it is Nova calling the service on the user's behalf, we include a service token along with the user token. Should the user's token have expired, a valid service token ensures the REST API request will still be accepted by the keystone middleware. """"""), ] _BARBICAN_SERVICE_USER_OPT_GROUP = 'barbican_service_user' self.conf.register_opts(_barbican_service_user_opts, group=_BARBICAN_SERVICE_USER_OPT_GROUP) loading.register_session_conf_options(self.conf, _BARBICAN_SERVICE_USER_OPT_GROUP) loading.register_auth_conf_options(self.conf, _BARBICAN_SERVICE_USER_OPT_GROUP) auth = identity.Password( auth = identity.Token( auth = context.get_auth_plugin() else: auth = identity.Token( service_user_conf = getattr(self.conf, _BARBICAN_SERVICE_USER_OPT_GROUP) if service_user_conf.send_service_user_token: service_auth = loading.load_auth_from_conf_options( self.conf, group=_BARBICAN_SERVICE_USER_OPT_GROUP) auth = service_token.ServiceTokenAuthWrapper( user_auth=auth, service_auth=service_auth) return auth return [ (_BARBICAN_OPT_GROUP, _barbican_opts), (_BARBICAN_SERVICE_USER_OPT_GROUP, _barbican_service_user_opts) ]"," return identity.Password( return identity.Token( return context.get_auth_plugin() else: return identity.Token( return [(_BARBICAN_OPT_GROUP, _barbican_opts)]",63,5
openstack%2Ftripleo-ansible~stable%2Fwallaby~I436c7426bb430307c972445f04a47f8e11bfcc17,openstack/tripleo-ansible,stable/wallaby,I436c7426bb430307c972445f04a47f8e11bfcc17,Disable facts gathering in net config playbook,MERGED,2021-06-22 10:48:21.000000000,2021-06-23 09:58:55.000000000,2021-06-23 09:58:55.000000000,"[{'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 10:48:21.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf757bd5563da0e02578319cfddc574fb88009bf', 'message': 'Disable facts gathering in net config playbook\n\nDisable the facts gathering in the playbook used\nto apply network configuration to provisioned\nnodes.\n\nIn some cases the fact gatehereing step causes\nthe playbook to fail in case the node is just\nbooting and connection is refused for SSH.\n\nDisabling the facts gathering should also speed up\nthe plabook execution.\n\nCloses-Bug: #1933220\nPartially-Implements: blueprint network-data-v2-ports\nChange-Id: I436c7426bb430307c972445f04a47f8e11bfcc17\n(cherry picked from commit f45ef1994d06b2c30d50c91fefaa43934d393bb1)\n'}]",0,797425,bf757bd5563da0e02578319cfddc574fb88009bf,12,4,1,24245,,,0,"Disable facts gathering in net config playbook

Disable the facts gathering in the playbook used
to apply network configuration to provisioned
nodes.

In some cases the fact gatehereing step causes
the playbook to fail in case the node is just
booting and connection is refused for SSH.

Disabling the facts gathering should also speed up
the plabook execution.

Closes-Bug: #1933220
Partially-Implements: blueprint network-data-v2-ports
Change-Id: I436c7426bb430307c972445f04a47f8e11bfcc17
(cherry picked from commit f45ef1994d06b2c30d50c91fefaa43934d393bb1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/797425/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-network-config.yaml'],1,bf757bd5563da0e02578319cfddc574fb88009bf,bug/1933220, gather_facts: false,,1,0
openstack%2Fkayobe~master~I0510db9fd1b8dd72540c83173267491b32728330,openstack/kayobe,master,I0510db9fd1b8dd72540c83173267491b32728330,Remove outdated upgrade step,MERGED,2021-06-17 14:12:17.000000000,2021-06-23 09:36:58.000000000,2021-06-23 09:35:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-17 14:12:17.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bca23698947aeccc2e2ed300eeb6487a0711873f', 'message': 'Remove outdated upgrade step\n\nMigrating to Ironic hardware types was required in Rocky. This can now\nbe removed from upgrading instructions.\n\nChange-Id: I0510db9fd1b8dd72540c83173267491b32728330\n'}]",0,796848,bca23698947aeccc2e2ed300eeb6487a0711873f,9,4,1,15197,,,0,"Remove outdated upgrade step

Migrating to Ironic hardware types was required in Rocky. This can now
be removed from upgrading instructions.

Change-Id: I0510db9fd1b8dd72540c83173267491b32728330
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/796848/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,bca23698947aeccc2e2ed300eeb6487a0711873f,upgrading-hardware-types,,"Migrating to Ironic Hardware Types ---------------------------------- Classic drivers in ironic were `deprecated <https://docs.openstack.org/releasenotes/ironic/queens.html#relnotes-10-1-0-stable-queens-deprecation-notes>`__ in the Queens release, and `removed <https://docs.openstack.org/releasenotes/ironic/rocky.html#relnotes-11-0-0-stable-rocky-upgrade-notes>`__ in the Rocky release. Nodes registered with ironic in Pike and earlier releases of Bifrost use the classic drivers by default, and will need to be migrated to use the new hardware types. The :ironic-doc:`ironic documentation <admin/upgrade-to-hardware-types.html>` provides details for how to do this, but for the default case of the ``agent_ipmitool`` driver the following procedure may be used, replacing ``<node>`` with the name of the host to migrate: .. code-block:: console $ docker exec -it bifrost_deploy bash (bifrost_deploy) $ export OS_CLOUD=bifrost (bifrost_deploy) $ baremetal node maintenance set <node> (bifrost_deploy) $ baremetal node set <node> --driver ipmi (bifrost_deploy) $ baremetal node maintenance unset <node> ",0,23
openstack%2Fkayobe~stable%2Fwallaby~I2637085a1df22e39d64c33b823fc948063d3e06f,openstack/kayobe,stable/wallaby,I2637085a1df22e39d64c33b823fc948063d3e06f,Fix url to ansible site in kolla-ansible.rst,MERGED,2021-06-22 08:33:57.000000000,2021-06-23 09:34:31.000000000,2021-06-23 09:33:21.000000000,"[{'_account_id': 14826}, {'_account_id': 16198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 08:33:57.000000000', 'files': ['doc/source/configuration/reference/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cda42898d5b7a6a5746103664079098349215c26', 'message': 'Fix url to ansible site in kolla-ansible.rst\n\nStory: 2008961\nTask: 42597\nChange-Id: I2637085a1df22e39d64c33b823fc948063d3e06f\n(cherry picked from commit 15d20154bc68eb26550f4e33325a4f74a47b6816)\n'}]",0,797392,cda42898d5b7a6a5746103664079098349215c26,7,3,1,15197,,,0,"Fix url to ansible site in kolla-ansible.rst

Story: 2008961
Task: 42597
Change-Id: I2637085a1df22e39d64c33b823fc948063d3e06f
(cherry picked from commit 15d20154bc68eb26550f4e33325a4f74a47b6816)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/92/797392/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/kolla-ansible.rst'],1,cda42898d5b7a6a5746103664079098349215c26,,<https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable>`_.,<http://docs.ansible.com/ansible/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable>`_.,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/ussuri,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:16:15.000000000,2021-06-23 09:18:09.000000000,2021-06-23 09:16:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 15:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13cd13af33878e413dd504110fe223bbe52bf8c1', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)\n'}, {'number': 2, 'created': '2021-06-22 16:43:31.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/026ddc97d29a0eff6c4e759125029afd3721346b', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)\n'}]",0,797479,026ddc97d29a0eff6c4e759125029afd3721346b,11,4,2,30491,,,0,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/797479/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",28,13cd13af33878e413dd504110fe223bbe52bf8c1,bug/1933025-stable/wallaby-stable/victoria-stable/ussuri,region_name = {{ openstack_region_name }},,46,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/victoria,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:15:13.000000000,2021-06-23 09:17:40.000000000,2021-06-23 09:16:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 15:15:13.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0487e793a2283ff30776ebf70be9476d1d05a17', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)\n'}]",0,797478,f0487e793a2283ff30776ebf70be9476d1d05a17,9,4,1,30491,,,0,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/797478/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",28,f0487e793a2283ff30776ebf70be9476d1d05a17,bug/1933025-stable/wallaby-stable/victoria,region_name = {{ openstack_region_name }},,39,0
openstack%2Fkolla~stable%2Fwallaby~I511fa599f43c5376f841ec6d03e272243aaa2ba4,openstack/kolla,stable/wallaby,I511fa599f43c5376f841ec6d03e272243aaa2ba4,tox: Use allowlist_externals instead of whitelist_externals,MERGED,2021-06-23 08:09:44.000000000,2021-06-23 09:17:36.000000000,2021-06-23 09:16:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 08:09:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3ed1d5b4a532030487654d79845226fdd63aa97', 'message': 'tox: Use allowlist_externals instead of whitelist_externals\n\nwhitelist_externals is now deprecated, use allowlist_externals\ninstead. see[0]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n\nfollow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928\n\nChange-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4\n(cherry picked from commit fd49c3d6fe90b05d2181fe1f18481620b32506c3)\n'}]",0,797574,e3ed1d5b4a532030487654d79845226fdd63aa97,8,3,1,14826,,,0,"tox: Use allowlist_externals instead of whitelist_externals

whitelist_externals is now deprecated, use allowlist_externals
instead. see[0]

[0]: https://tox.readthedocs.io/en/latest/config.html

follow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928

Change-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4
(cherry picked from commit fd49c3d6fe90b05d2181fe1f18481620b32506c3)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/797574/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e3ed1d5b4a532030487654d79845226fdd63aa97,,minversion = 3.18allowlist_externals = findallowlist_externals = makeallowlist_externals = which,minversion = 3.1whitelist_externals = findwhitelist_externals = makewhitelist_externals = which,4,4
openstack%2Fvalidations-common~master~I656f5a843a1073ea554990ff56227f29841c83fc,openstack/validations-common,master,I656f5a843a1073ea554990ff56227f29841c83fc,DNM potentialfix,ABANDONED,2021-06-23 08:38:37.000000000,2021-06-23 08:47:38.000000000,,[],"[{'number': 1, 'created': '2021-06-23 08:38:37.000000000', 'files': ['roles/validations/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/114d351ca60c550114ebd716d34830b1695116d6', 'message': 'DNM potentialfix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I656f5a843a1073ea554990ff56227f29841c83fc\n'}]",0,797601,114d351ca60c550114ebd716d34830b1695116d6,2,0,1,32926,,,0,"DNM potentialfix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I656f5a843a1073ea554990ff56227f29841c83fc
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/01/797601/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/tasks/main.yaml'],1,114d351ca60c550114ebd716d34830b1695116d6,,"- name: Export validation log path environment: VALIDATIONS_LOG_DIR: ""{{ vf_log_dir }}"" ",,4,0
openstack%2Fneutron~master~Id8c3e0485bebc55c778ecaadaabca1c28ec56205,openstack/neutron,master,Id8c3e0485bebc55c778ecaadaabca1c28ec56205,SR-IOV agent can handle ports with same MAC addresses,MERGED,2021-03-11 17:53:52.000000000,2021-06-23 08:31:07.000000000,2021-06-22 19:21:53.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-11 17:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96286c4bd83c7b5ee3c1d5b7670daa098c7e03e2', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 2, 'created': '2021-03-12 12:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08597c331c940f275a456993761b0e21196027ee', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 3, 'created': '2021-03-12 12:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/102d42790209b256162db5705f3b83db870be69c', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 4, 'created': '2021-03-15 17:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31c283ffd8f74be800d95c8712f37b941ee7651b', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 5, 'created': '2021-03-27 07:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f5fec8381ab584e111b6244f9bd3e31b840a23a', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 6, 'created': '2021-03-29 17:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce89e3cd3afb5385b2771c77c79c51d09a8ced2b', 'message': '[WIP] SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nTODO: documentation, testing and more.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 7, 'created': '2021-03-30 10:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c0b0dcd8ccaf936c7e777d58326ade91bfe7acb', 'message': 'SR-IOV agent to handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 8, 'created': '2021-03-30 10:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62a47e8938ad0bd169e78b61238acb1281835287', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 9, 'created': '2021-03-30 13:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fd7bbb6a7a77e74e73c0e553dad4f20817ee830', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 10, 'created': '2021-03-31 07:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1255d496c817ffac3f0580dedbcde4b7b339fcb2', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 11, 'created': '2021-04-08 11:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c96a12baf360e565b9e35dbba3eb2b81ad06252', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 12, 'created': '2021-04-08 13:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3adf4c3f6af459891c9de1f8660c33096b35874', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}, {'number': 13, 'created': '2021-06-03 16:02:18.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_eswitch_manager.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/agent/test_sriov_nic_agent.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/agent/rpc.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/db.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'releasenotes/notes/sriov-agent-duplicated-mac-ports-a861b0ff800c3172.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77ac42d2ee664263dd1dfd391dac4d8e062875e0', 'message': 'SR-IOV agent can handle ports with same MAC addresses\n\nSR-IOV agent can handle ports with same MAC address (located in\ndifferent networks). The agent can retrieve, from the system, the\nMAC address and the PCI slot; because the PCI slot is unique per\nport in the same host, this parameter is used to match with the\nNeutron port ID stored in the database (published via RPC).\n\nRPC API bumped to version 1.9.\n\nCloses-Bug: #1791159\n\nChange-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205\n'}]",23,780055,77ac42d2ee664263dd1dfd391dac4d8e062875e0,238,9,13,16688,,,0,"SR-IOV agent can handle ports with same MAC addresses

SR-IOV agent can handle ports with same MAC address (located in
different networks). The agent can retrieve, from the system, the
MAC address and the PCI slot; because the PCI slot is unique per
port in the same host, this parameter is used to match with the
Neutron port ID stored in the database (published via RPC).

RPC API bumped to version 1.9.

Closes-Bug: #1791159

Change-Id: Id8c3e0485bebc55c778ecaadaabca1c28ec56205
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/780055/13 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mech_sriov/agent/eswitch_manager.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py']",2,96286c4bd83c7b5ee3c1d5b7670daa098c7e03e2,bug/1791159," self.agent.updated_devices.add(esm.DeviceInfo(mac, pci_slot)) def _update_network_ports(self, network_id, port_id, mac, pci_slot): self._clean_network_ports(mac, pci_slot) ""device"": esm.DeviceInfo(mac, pci_slot)}) def _clean_network_ports(self, mac, pci_slot): for netid, ports_list in dict(self.network_ports).items(): for port_data in list(ports_list): device = port_data['device'] if (mac, pci_slot) == (device['mac'], device['pci_slot']): if not ports_list:"," self.agent.updated_devices.add((mac, pci_slot)) def _update_network_ports(self, network_id, port_id, mac_pci_slot): self._clean_network_ports(mac_pci_slot) ""device"": mac_pci_slot}) def _clean_network_ports(self, mac_pci_slot): for netid, ports_list in self.network_ports.items(): for port_data in ports_list: if mac_pci_slot == port_data['device']: if ports_list == []:",23,10
openstack%2Fswift~master~I983d665584471c9d689506592f48ddd00c0887ef,openstack/swift,master,I983d665584471c9d689506592f48ddd00c0887ef,Return 503 for container listings when shards are deleted,MERGED,2021-05-27 18:46:25.000000000,2021-06-23 08:24:11.000000000,2021-06-23 08:22:32.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-27 18:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e4947b7659ce9eae562f1d1d002de353c86a893', 'message': 'wip: fix 404 shard response\n\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}, {'number': 2, 'created': '2021-05-27 19:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6c7122242ed77639c02735c955df417fcd11b1b', 'message': 'Return 503 when all shards are deleted\n\n... maybe 404 would be more appropritate in this specific case.\n\nTODO: What other scenarios should we consider?\n\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}, {'number': 3, 'created': '2021-05-27 19:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/629880ab04af78e1f3d4837365f641d2a0ee3224', 'message': 'Return 503 when all shards are deleted\n\n... maybe 404 would be more appropritate in this specific case.\n\nTODO: What other scenarios should we consider?\n\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}, {'number': 4, 'created': '2021-06-01 17:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b3ad018366faf64c5fda366d1de9b23322b02f01', 'message': 'Return 503 for container listings when shards are deleted\n\nPreviously, when building a listing from shard containers, the proxy\nwould return 200 to the client even if one or more of the component\nshards failed to return a successful listing response. With this patch\nthe proxy will now return a 503 in those circumstances, since the\nlisting would otherwise be incomplete due to an internal error.\n\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}, {'number': 5, 'created': '2021-06-18 18:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ceadd17073ffc01ca59162c4e95b267db8ad79f', 'message': 'Return 503 for container listings when shards are deleted\n\nPreviously, when building a listing from shard containers, the proxy\nwould return 200 to the client even if one or more of the component\nshards failed to return a successful listing response. With this patch\nthe proxy will now return a 503 in those circumstances, since the\nlisting would otherwise be incomplete due to an internal error.\n\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}, {'number': 6, 'created': '2021-06-18 18:51:42.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e40cf1ec561c78c8a02d40b581bf195939a6450a', 'message': 'Return 503 for container listings when shards are deleted\n\nPreviously, when building a listing from shard containers, the proxy\nwould return 200 to the client even if one or more of the component\nshards failed to return a successful listing response. With this patch\nthe proxy will now return a 503 in those circumstances, since the\nlisting would otherwise be incomplete due to an internal error.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I983d665584471c9d689506592f48ddd00c0887ef\n'}]",12,793492,e40cf1ec561c78c8a02d40b581bf195939a6450a,22,5,6,1179,,,0,"Return 503 for container listings when shards are deleted

Previously, when building a listing from shard containers, the proxy
would return 200 to the client even if one or more of the component
shards failed to return a successful listing response. With this patch
the proxy will now return a 503 in those circumstances, since the
listing would otherwise be incomplete due to an internal error.

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I983d665584471c9d689506592f48ddd00c0887ef
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/793492/6 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_container.py'],1,7e4947b7659ce9eae562f1d1d002de353c86a893,failed-404," def test_GET_sharded_container_with_deleted_shards(self): shard_bounds = (('', ''),) shard_ranges = [ ShardRange('.shards_a/c_%s' % upper, Timestamp.now(), lower, upper) for lower, upper in shard_bounds] sr_dicts = [dict(sr) for sr in shard_ranges] root_resp_hdrs = {'X-Backend-Sharding-State': 'sharded', 'X-Backend-Timestamp': '99', # pretend root object stats are not yet updated 'X-Container-Object-Count': 6, 'X-Container-Bytes-Used': 12, 'X-Backend-Storage-Policy-Index': 0} root_shard_resp_hdrs = dict(root_resp_hdrs) root_shard_resp_hdrs['X-Backend-Record-Type'] = 'shard' mock_responses = [ # status, body, headers (200, sr_dicts, root_shard_resp_hdrs), ] + [(404, '', {})] * 6 codes = (resp[0] for resp in mock_responses) bodies = iter([json.dumps(resp[1]).encode('ascii') for resp in mock_responses]) exp_headers = [resp[2] for resp in mock_responses] request = Request.blank('/v1/a/c') with mocked_http_conn( *codes, body_iter=bodies, headers=exp_headers) as fake_conn: resp = request.get_response(self.app) warnings = self.logger.get_lines_for_level('warning') self.assertEqual(['Failed to get container listing from ' '/v1/a/c?states=listing&format=json: 404'], warnings) self.assertEqual(resp.status_int, 200) actual_objects = json.loads(resp.body) self.assertEqual(actual_objects, []) self.assertEqual(7, len(fake_conn.requests)) ",,37,0
openstack%2Faodh~master~I93fbdc4b8c35d4e90607064813ebccb632f73886,openstack/aodh,master,I93fbdc4b8c35d4e90607064813ebccb632f73886,Bugs are in launchpad,MERGED,2021-06-18 10:18:38.000000000,2021-06-23 08:11:59.000000000,2021-06-23 08:10:17.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 10:18:38.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/aodh/commit/434ee46815290c33a53bb50740b3fbcebfa50105', 'message': 'Bugs are in launchpad\n\nUpdate the README to point to oftc, and also update the\nbug location.\n\nChange-Id: I93fbdc4b8c35d4e90607064813ebccb632f73886\n'}]",0,797047,434ee46815290c33a53bb50740b3fbcebfa50105,7,2,1,4264,,,0,"Bugs are in launchpad

Update the README to point to oftc, and also update the
bug location.

Change-Id: I93fbdc4b8c35d4e90607064813ebccb632f73886
",git fetch https://review.opendev.org/openstack/aodh refs/changes/47/797047/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,434ee46815290c33a53bb50740b3fbcebfa50105,launchpad,Aodh is the alarming service for OpenStack. ------------- Documentation -------------Release notes can be read online at: https://docs.openstack.org/aodh/latest/contributor/releasenotes/index.html Code Repository --------------- - Server: https://opendev.org/openstack/aodh/ Bug Tracking ------------ https://bugs.launchpad.net/aodh/ IRC --- IRC Channel: #openstack-telemetry on `OFTC`_. .. _OFTC: https://oftc.net/,Release notes can be read online at: https://docs.openstack.org/aodh/latest/contributor/releasenotes/index.htmlThe project home is at: https://storyboard.openstack.org/#!/project/openstack/aodh https://storyboard.openstack.org/#!/project/openstack/aodh,24,5
openstack%2Fmanila-tempest-plugin~master~I2eceb1d5fe42b1b779e115a0144a5d9639d3753f,openstack/manila-tempest-plugin,master,I2eceb1d5fe42b1b779e115a0144a5d9639d3753f,Fix API version test skip logic,MERGED,2021-05-18 18:04:34.000000000,2021-06-23 08:06:29.000000000,2021-05-29 19:15:26.000000000,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30025}]","[{'number': 1, 'created': '2021-05-18 18:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/61e60304cab7f35acce7d5674e51e0d7b72b8047', 'message': ""Skip tests by raising skipException directly\n\nWe're using a deprecated method [1] from testtools\ncurrently, we could rather just directly raise\nskipException like we do in many other places\nin the repository.\n\nTrivialFix\n\n[1] https://github.com/testing-cabal/testtools/blob/f38af6765d4e412b7a7ed1c77ddc9d68320330aa/testtools/testcase.py#L334-L339\n\nChange-Id: I2eceb1d5fe42b1b779e115a0144a5d9639d3753f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-05-28 02:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/62ed2e82dfefc2491e1bd5d8adb2903a1273ec6a', 'message': ""Fix API version test skip logic\n\nAPI tests must be evaluated by min and max\nversions, however, we've multiple places\nwhere we don't seem to evaluate the min_version;\nthis leads to incorrect behavior when test\nrunners set a different min_version in their\ntest configuration.\n\nWe can also consolidate the decorators and\ncallables that we have. We attempted this in\nthe recent past [1], however, we replaced the\ncallables with calling a decorator method, which\nresulted in many tests not being skipped.\n\nThis bugfix is currently necessary to get\ntests working against stable/ussuri and\nstable/train branches.\n\n[1] I0c35aff993e67c1ef44c27580f8c2c829a6275f7\nChange-Id: I2eceb1d5fe42b1b779e115a0144a5d9639d3753f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2021-05-28 07:58:22.000000000', 'files': ['manila_tempest_tests/tests/api/test_access_rules_metadata_negative.py', 'manila_tempest_tests/tests/api/test_shares_actions_negative.py', 'manila_tempest_tests/tests/scenario/test_share_basic_ops.py', 'manila_tempest_tests/tests/api/admin/test_migration_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_migration.py', 'manila_tempest_tests/tests/api/admin/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_share_network_subnets_negative.py', 'manila_tempest_tests/tests/api/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_user_messages_negative.py', 'manila_tempest_tests/tests/api/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions_negative.py', 'manila_tempest_tests/tests/api/test_replication_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances.py', 'manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_instances.py', 'manila_tempest_tests/tests/api/test_quotas.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/tests/api/test_security_services.py', 'manila_tempest_tests/tests/api/admin/test_user_messages.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/tests/api/test_share_networks.py', 'manila_tempest_tests/tests/api/test_shares_actions.py', 'manila_tempest_tests/tests/api/test_snapshot_rules_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/test_snapshot_rules.py', 'manila_tempest_tests/tests/api/admin/test_replication.py', 'manila_tempest_tests/tests/api/admin/test_share_snapshot_instances_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_servers_manage.py', 'manila_tempest_tests/tests/api/test_shares_negative.py', 'manila_tempest_tests/tests/api/test_share_network_subnets.py', 'manila_tempest_tests/tests/api/admin/test_export_locations_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs_negative.py', 'manila_tempest_tests/tests/api/test_replication_export_locations.py', 'manila_tempest_tests/tests/api/test_shares_from_snapshot_across_pools.py', 'manila_tempest_tests/tests/api/admin/test_share_types_extra_specs.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations.py', 'manila_tempest_tests/utils.py', 'manila_tempest_tests/tests/api/test_rules.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_export_locations_negative.py', 'manila_tempest_tests/tests/api/test_share_group_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/admin/test_quotas.py', 'manila_tempest_tests/tests/api/admin/test_replication_actions.py', 'manila_tempest_tests/tests/api/test_replication_snapshots.py', 'manila_tempest_tests/tests/api/admin/test_quotas_negative.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage.py', 'manila_tempest_tests/tests/api/admin/test_migration.py', 'manila_tempest_tests/tests/api/admin/test_snapshot_manage_negative.py', 'manila_tempest_tests/tests/api/test_share_groups_negative.py', 'manila_tempest_tests/tests/api/test_share_networks_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/tests/api/admin/test_share_groups.py', 'manila_tempest_tests/tests/api/admin/test_admin_actions.py', 'manila_tempest_tests/tests/api/admin/test_share_instances_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a0acf25969daf37f3b1f527809f297e6ba227cc9', 'message': ""Fix API version test skip logic\n\nAPI tests must be evaluated by min and max\nversions, however, we've multiple places\nwhere we don't seem to evaluate the min_version;\nthis leads to incorrect behavior when test\nrunners set a different min_version in their\ntest configuration.\n\nWe can also consolidate the decorators and\ncallables that we have. We attempted this in\nthe recent past [1], however, we replaced the\ncallables with calling a decorator method, which\nresulted in many tests not being skipped.\n\nThis bugfix is currently necessary to get\ntests working against stable/ussuri and\nstable/train branches.\n\n[1] I0c35aff993e67c1ef44c27580f8c2c829a6275f7\nChange-Id: I2eceb1d5fe42b1b779e115a0144a5d9639d3753f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",2,792026,a0acf25969daf37f3b1f527809f297e6ba227cc9,16,5,3,16643,,,0,"Fix API version test skip logic

API tests must be evaluated by min and max
versions, however, we've multiple places
where we don't seem to evaluate the min_version;
this leads to incorrect behavior when test
runners set a different min_version in their
test configuration.

We can also consolidate the decorators and
callables that we have. We attempted this in
the recent past [1], however, we replaced the
callables with calling a decorator method, which
resulted in many tests not being skipped.

This bugfix is currently necessary to get
tests working against stable/ussuri and
stable/train branches.

[1] I0c35aff993e67c1ef44c27580f8c2c829a6275f7
Change-Id: I2eceb1d5fe42b1b779e115a0144a5d9639d3753f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/26/792026/3 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/utils.py'],1,61e60304cab7f35acce7d5674e51e0d7b72b8047,fix-test-skips, raise testtools.TestCase.skipException(reason) raise testtools.TestCase.skipException(reason), return testtools.skip(reason) return testtools.skip(reason),2,2
openstack%2Fceilometer~master~I3ea900c3260009ac96140341ab346ebc8e5d4034,openstack/ceilometer,master,I3ea900c3260009ac96140341ab346ebc8e5d4034,Move bug tracking back to launchpad,MERGED,2021-06-18 10:11:11.000000000,2021-06-23 08:06:15.000000000,2021-06-23 08:04:57.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 10:11:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/82f7659e33f1924659c5a1a51de3c7316636c55e', 'message': 'Move bug tracking back to launchpad\n\nStoryboard is hard to discover, and slow in usage. Since\ntelemetry projects are mostly under maintenance, there are no\nbig stories to be implemented at the moment, which can not be\ntracked in launchpad.\n\nChange-Id: I3ea900c3260009ac96140341ab346ebc8e5d4034\n'}]",0,797043,82f7659e33f1924659c5a1a51de3c7316636c55e,7,2,1,4264,,,0,"Move bug tracking back to launchpad

Storyboard is hard to discover, and slow in usage. Since
telemetry projects are mostly under maintenance, there are no
big stories to be implemented at the moment, which can not be
tracked in launchpad.

Change-Id: I3ea900c3260009ac96140341ab346ebc8e5d4034
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/43/797043/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,82f7659e33f1924659c5a1a51de3c7316636c55e,launchpad,- Bugs: https://bugs.launchpad.net/ceilometer/,- Bugs: https://storyboard.openstack.org/#!/project_group/telemetry specifically: https://storyboard.openstack.org/#!/project/openstack/ceilometer,1,2
openstack%2Fmanila-ui~stable%2Ftrain~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/train,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:40:35.000000000,2021-06-23 07:14:43.000000000,2021-06-23 07:13:31.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-22 18:40:35.000000000', 'files': ['manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/2ce86803ba72d00e8207ad3db373b7d6bd65cd59', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)\n(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)\n(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)\n(cherry picked from commit 21e31332cb0a3e77122aff63ca2bbfd045e093e5)\n'}]",1,797487,2ce86803ba72d00e8207ad3db373b7d6bd65cd59,16,3,1,16643,,,0,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)
(cherry picked from commit 21e31332cb0a3e77122aff63ca2bbfd045e093e5)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/87/797487/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/share_groups/forms.py'],1,2ce86803ba72d00e8207ad3db373b7d6bd65cd59,bug/1931641, st_field_name = ( self.st_field_name_prefix + utils.transform_dashed_name(sgt.id) ), st_field_name = self.st_field_name_prefix + sgt.id,4,1
openstack%2Fproject-config~master~I41bbdbeecefc5b212a5b6b206cb13910855724c1,openstack/project-config,master,I41bbdbeecefc5b212a5b6b206cb13910855724c1,Add publish-to-pypi job template for tripleo-operator-ansible,MERGED,2021-06-22 08:48:52.000000000,2021-06-23 05:15:51.000000000,2021-06-23 05:15:51.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-22 08:48:52.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff72348bacadb3f9a5af83b40341dee263e44838', 'message': 'Add publish-to-pypi job template for tripleo-operator-ansible\n\nIn order to do a new release of tripleo-ansible-operator [1],\nopenstack-tox-validate job on openstack/release project side\nneeds to be passing.\n\nIn order to fix that, we need to add publish-to-pypi job template\nfor tripleo-operator-ansible job config.\n\nIt also moves those check and gate job to tripleo queue.\n[1] https://review.opendev.org/c/openstack/releases/+/797010\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I41bbdbeecefc5b212a5b6b206cb13910855724c1\n'}]",0,797415,ff72348bacadb3f9a5af83b40341dee263e44838,7,6,1,12393,,,0,"Add publish-to-pypi job template for tripleo-operator-ansible

In order to do a new release of tripleo-ansible-operator [1],
openstack-tox-validate job on openstack/release project side
needs to be passing.

In order to fix that, we need to add publish-to-pypi job template
for tripleo-operator-ansible job config.

It also moves those check and gate job to tripleo queue.
[1] https://review.opendev.org/c/openstack/releases/+/797010

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I41bbdbeecefc5b212a5b6b206cb13910855724c1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/15/797415/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ff72348bacadb3f9a5af83b40341dee263e44838,remove_uneeded_tq_requirements, - publish-to-pypi check: queue: tripleo gate: queue: tripleo,,5,0
openstack%2Fcinder~master~I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,openstack/cinder,master,I0a2420f3e4a411f5fa52ebe2d22859b138ef387f,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space",MERGED,2021-06-17 16:30:03.000000000,2021-06-23 02:59:04.000000000,2021-06-21 15:34:09.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 16:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/410306efb82760191e76b4d40817f38842d87eb0', 'message': 'Retry ""lvs"" call on segfault for _get_thin_pool_free_space\n\nThis is a follow-up to I6824ba4f.\n\nLVM commands segfault occasionally, exiting with code 139.\nChange I6824ba4f introduced a workaround to retry the command\nwhen code 139 is returned, which generally works.  This expands\nthat retry to the case where thin pool space is queried, which\ncurrently results in the LVM driver reporting no free space to\nthe scheduler.\n\nFurther work is needed to expand this to other LVM calls, but\nthis patch is narrow in scope to target a particular gate\nfailure.\n\nRelated-Bug: #1901783\nPartial-Bug: #1932188\nCloses-Bug: #1932287\nChange-Id: I0a2420f3e4a411f5fa52ebe2d22859b138ef387f\n'}, {'number': 2, 'created': '2021-06-21 03:47:08.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2da7d42b91fd0015f8bfb2b67067eaf5768691ca', 'message': 'Retry ""lvs"" call on segfault for _get_thin_pool_free_space\n\nThis is a follow-up to I6824ba4f.\n\nLVM commands segfault occasionally, exiting with code 139.\nChange I6824ba4f introduced a workaround to retry the command\nwhen code 139 is returned, which generally works.  This expands\nthat retry to the case where thin pool space is queried, which\ncurrently results in the LVM driver reporting no free space to\nthe scheduler.\n\nFurther work is needed to expand this to other LVM calls, but\nthis patch is narrow in scope to target a particular gate\nfailure.\n\nRelated-Bug: #1901783\nPartial-Bug: #1932188\nCloses-Bug: #1932287\nChange-Id: I0a2420f3e4a411f5fa52ebe2d22859b138ef387f\n'}]",1,796889,2da7d42b91fd0015f8bfb2b67067eaf5768691ca,51,6,2,4523,,,0,"Retry ""lvs"" call on segfault for _get_thin_pool_free_space

This is a follow-up to I6824ba4f.

LVM commands segfault occasionally, exiting with code 139.
Change I6824ba4f introduced a workaround to retry the command
when code 139 is returned, which generally works.  This expands
that retry to the case where thin pool space is queried, which
currently results in the LVM driver reporting no free space to
the scheduler.

Further work is needed to expand this to other LVM calls, but
this patch is narrow in scope to target a particular gate
failure.

Related-Bug: #1901783
Partial-Bug: #1932188
Closes-Bug: #1932287
Change-Id: I0a2420f3e4a411f5fa52ebe2d22859b138ef387f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/796889/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,410306efb82760191e76b4d40817f38842d87eb0,bug/1932287,"from os_brick import executor as os_brick_executor @mock.patch('tenacity.nap.sleep', mock.Mock()) @mock.patch.object(os_brick_executor.Executor, '_execute') def test_get_thin_pool_free_space_retry(self, exec_mock): exec_mock.side_effect = ( processutils.ProcessExecutionError('', '', exit_code=139), ('15.84:50', ''), ) self.assertEqual( 7.92, self.vg._get_thin_pool_free_space('vg', 'thinpool') ) self.assertEqual(2, exec_mock.call_count) args = ['env', 'LC_ALL=C', 'lvs', '--noheadings', '--unit=g', '-o', 'size,data_percent', '--separator', ':', '--nosuffix', '/dev/vg/thinpool'] if self.configuration.lvm_suppress_fd_warnings: args.insert(2, 'LVM_SUPPRESS_FD_WARNINGS=1') lvs_call = mock.call(*args, root_helper='sudo', run_as_root=True) exec_mock.assert_has_calls([lvs_call, lvs_call]) ",,43,3
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,stable/wallaby,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-06-22 15:14:50.000000000,2021-06-23 02:56:51.000000000,2021-06-23 02:55:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 15:14:50.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24d3228d00ecf749575a3913004c6325353228e1', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)\n'}]",0,797477,24d3228d00ecf749575a3913004c6325353228e1,9,4,1,30491,,,0,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
(cherry picked from commit 7da770d290eb1d45f3bca50aba965b47e40c9a83)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/797477/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",28,24d3228d00ecf749575a3913004c6325353228e1,bug/1933025-stable/wallaby,region_name = {{ openstack_region_name }},,39,0
openstack%2Fkolla-ansible~master~Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,openstack/kolla-ansible,master,Ib67d715ddfa986a5b70a55fdda39e6d0e3333162,Add missing region_name in keystoneauth sections,MERGED,2021-05-18 14:06:55.000000000,2021-06-23 02:42:37.000000000,2021-06-22 11:08:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 14:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7bde832c4740c894eeef01895493a93353fad45', 'message': 'Add missing region_name in keystoneauth sections\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n'}, {'number': 2, 'created': '2021-06-18 07:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c2a5669650fe00ff93e5ca2d4697f685847c32b', 'message': 'Add missing region_name in keystoneauth sections\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n'}, {'number': 3, 'created': '2021-06-21 13:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e07d4c222fffcab29f054327a886839adcb7740d', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n'}, {'number': 4, 'created': '2021-06-22 06:35:46.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'releasenotes/notes/bug-1933025-1cb5d64d20d57be7.yaml', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7da770d290eb1d45f3bca50aba965b47e40c9a83', 'message': 'Add missing region_name in keystoneauth sections\n\nCloses-Bug: #1933025\n\nChange-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162\n'}]",5,791980,7da770d290eb1d45f3bca50aba965b47e40c9a83,35,5,4,27339,,,0,"Add missing region_name in keystoneauth sections

Closes-Bug: #1933025

Change-Id: Ib67d715ddfa986a5b70a55fdda39e6d0e3333162
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/791980/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/panko/templates/panko.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",28,a7bde832c4740c894eeef01895493a93353fad45,bug/1933025,region_name = {{ openstack_region_name }},,35,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I307bbf28dc3ee447a6ed704b5f956118d2099e07,openstack/python-tripleoclient,stable/wallaby,I307bbf28dc3ee447a6ed704b5f956118d2099e07,Don't allow --config-download-only with --baremetal-deployment,MERGED,2021-06-16 12:14:57.000000000,2021-06-23 00:41:27.000000000,2021-06-23 00:40:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-16 12:14:57.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0aead192c609583d4d507935f8103e632ea5df5', 'message': ""Don't allow --config-download-only with --baremetal-deployment\n\nWe would need the stack to be updated for newly provisioned\nnodes. Therefore --config-download-only and --setup-only\nwould not work with --baremetal-deployment.\n\nChange-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07\n(cherry picked from commit 8800f06c940cc6326d655d33641cf0b0603b215c)\n""}]",0,796572,d0aead192c609583d4d507935f8103e632ea5df5,11,3,1,8833,,,0,"Don't allow --config-download-only with --baremetal-deployment

We would need the stack to be updated for newly provisioned
nodes. Therefore --config-download-only and --setup-only
would not work with --baremetal-deployment.

Change-Id: I307bbf28dc3ee447a6ed704b5f956118d2099e07
(cherry picked from commit 8800f06c940cc6326d655d33641cf0b0603b215c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/796572/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,d0aead192c609583d4d507935f8103e632ea5df5,network-data-v2-fixes-stable/wallaby," if (parsed_args.baremetal_deployment and (parsed_args.config_download_only or parsed_args.setup_only)): raise oscexc.CommandError( ""Error: --config-download-only/--setup-only must not be "" ""used when using --baremetal-deployment"") ",,7,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,openstack/tripleo-ansible,stable/wallaby,Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,Make sure the _admin label is present on mons,MERGED,2021-06-22 14:58:54.000000000,2021-06-23 00:41:26.000000000,2021-06-23 00:38:59.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 14:58:54.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/molecule/default/tasks/verify.yml', 'tripleo_ansible/tests/modules/test_ceph_spec_bootstrap.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_spec_bootstrap.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54d149405eeb87288364b0893879c376f4daab81', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then the\nhosts ceph.conf may be deleted. All mons are considered\nadmin hosts, so apply this label to any host with the\nmon service.\nIn addition, this change fixes the default alertmanager\nport (it should be 9093 as 9094 is reserved for clustering\npurposes) and the cluster_name is explicitly passed to\nthe mkspec tasks.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n(cherry picked from commit 2784b2795774477213600c1355aab1c51218e202)\n'}]",0,797474,54d149405eeb87288364b0893879c376f4daab81,10,6,1,25402,,,0,"Make sure the _admin label is present on mons

If a ceph mon does not have the _admin label, then the
hosts ceph.conf may be deleted. All mons are considered
admin hosts, so apply this label to any host with the
mon service.
In addition, this change fixes the default alertmanager
port (it should be 9093 as 9094 is reserved for clustering
purposes) and the cluster_name is explicitly passed to
the mkspec tasks.

Change-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
(cherry picked from commit 2784b2795774477213600c1355aab1c51218e202)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/797474/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/molecule/default/tasks/verify.yml', 'tripleo_ansible/tests/modules/test_ceph_spec_bootstrap.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_spec_bootstrap.py']",7,54d149405eeb87288364b0893879c376f4daab81,ceph_conf_mgmt," label_map['oc0-controller-0'] = ['mon', 'mgr', '_admin'] if potential_ceph_svc == 'mon': label_map[host].append('_admin')"," label_map['oc0-controller-0'] = ['mon', 'mgr']",31,12
openstack%2Ftripleo-quickstart-extras~master~I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1,openstack/tripleo-quickstart-extras,master,I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1,Set tempest_test_extra_test variable,MERGED,2021-06-22 11:30:53.000000000,2021-06-23 00:40:11.000000000,2021-06-23 00:40:11.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 11:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64890d78cd2e7c67054ab0f77e3ec0ef6fe2d99b', 'message': 'Set tempest_test_extra_test variable\n\nThis variable on os_tempest allow us to run an alternative test on\ntempest. This is required because very often the included list of tests\nis empty because of the match with the excluded list.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/796818\n\nChange-Id: I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1\n'}, {'number': 2, 'created': '2021-06-22 11:59:54.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/18e0d1e76d50c3a960e8b62acc43dd405f0466e6', 'message': 'Set tempest_test_extra_test variable\n\nThis variable on os_tempest allow us to run an alternative test on\ntempest. This is required because very often the included list of tests\nis empty because of the match with the excluded list.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/796818\n\nChange-Id: I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1\n'}]",2,797432,18e0d1e76d50c3a960e8b62acc43dd405f0466e6,10,3,2,8367,,,0,"Set tempest_test_extra_test variable

This variable on os_tempest allow us to run an alternative test on
tempest. This is required because very often the included list of tests
is empty because of the match with the excluded list.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/796818

Change-Id: I95128a9b3e0f6fd1b2c3ddf5b502f460969214b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/32/797432/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,64890d78cd2e7c67054ab0f77e3ec0ef6fe2d99b,keystone-test, tempest_test_extra_test: [ 'keystone_tempest_plugin.tests.api' ],,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/ussuri,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:04:06.000000000,2021-06-23 00:39:57.000000000,2021-06-23 00:39:57.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-06-22 14:04:06.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d63e665670c60b8eb73de6ece346a17e7d19ed83', 'message': 'Fix NetworkDeploymentActionValue format\n\nThis should be a list, not a list of lists.\n\nCloses-bug: #1933228\nChange-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5\n(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)\n'}]",0,797457,d63e665670c60b8eb73de6ece346a17e7d19ed83,8,5,1,24245,,,0,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/797457/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,d63e665670c60b8eb73de6ece346a17e7d19ed83,bug/1933228, if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions}, - if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions},4,4
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/victoria,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:03:32.000000000,2021-06-23 00:39:48.000000000,2021-06-23 00:39:48.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-06-22 14:03:32.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a919de4effa20267a03cb753720978256b3b855', 'message': 'Fix NetworkDeploymentActionValue format\n\nThis should be a list, not a list of lists.\n\nCloses-bug: #1933228\nChange-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5\n(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)\n'}]",0,797456,3a919de4effa20267a03cb753720978256b3b855,8,5,1,24245,,,0,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/797456/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,3a919de4effa20267a03cb753720978256b3b855,bug/1933228, if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions}, - if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions},4,4
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/train,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:04:42.000000000,2021-06-23 00:39:38.000000000,2021-06-23 00:39:38.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-06-22 14:04:42.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/590cbe1c9895c0f1c43062680897a36b2e3ede01', 'message': 'Fix NetworkDeploymentActionValue format\n\nThis should be a list, not a list of lists.\n\nCloses-bug: #1933228\nChange-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5\n(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)\n'}]",0,797458,590cbe1c9895c0f1c43062680897a36b2e3ede01,8,5,1,24245,,,0,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/797458/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,590cbe1c9895c0f1c43062680897a36b2e3ede01,bug/1933228, if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions}, - if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions},4,4
openstack%2Ftripleo-heat-templates~master~I538ae9aea155cdb730a3b947c28dedd085bc330a,openstack/tripleo-heat-templates,master,I538ae9aea155cdb730a3b947c28dedd085bc330a,Introducing the nova-cell environments,MERGED,2021-05-20 12:23:35.000000000,2021-06-23 00:39:22.000000000,2021-06-23 00:39:22.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-05-20 12:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6045f476376d2de00c2e7f2187a08703c1dcc31c', 'message': 'Introducing the nova-cell environments\n\nAdding default parameters when adding a new nova compute cell.\n\nChange-Id: I538ae9aea155cdb730a3b947c28dedd085bc330a\n'}, {'number': 2, 'created': '2021-06-01 14:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b305b5f23325d0ae47537a9fba3037231a197995', 'message': 'Introducing the nova-cell environments\n\nAdding default parameters when adding a new nova compute cell.\n\nChange-Id: I538ae9aea155cdb730a3b947c28dedd085bc330a\n'}, {'number': 3, 'created': '2021-06-02 13:21:23.000000000', 'files': ['environments/nova-cell.yaml', 'sample-env-generator/nova-cell.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c42ba433aaf5468b9156605a532a09317b14c67f', 'message': 'Introducing the nova-cell environments\n\nAdding default parameters when adding a new nova compute cell.\n\nChange-Id: I538ae9aea155cdb730a3b947c28dedd085bc330a\n'}]",3,792366,c42ba433aaf5468b9156605a532a09317b14c67f,22,7,3,27419,,,0,"Introducing the nova-cell environments

Adding default parameters when adding a new nova compute cell.

Change-Id: I538ae9aea155cdb730a3b947c28dedd085bc330a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/792366/3 && git format-patch -1 --stdout FETCH_HEAD,"['environments/nova-cell.yaml', 'sample-env-generator/nova-cell.yaml']",2,6045f476376d2de00c2e7f2187a08703c1dcc31c,,environments: - name: nova-cell title: Nova Compute Cell Stack description: |- Environment file for deploying additionnal compute cell in a separate stack (multi-stack) deployment. files: &cell_files network/external.yaml: parameters: - ManageNetworks deployment/nova/nova-metadata-container-puppet.yaml: parameters: - NovaLocalMetadataPerCell deployment/nova/nova-base-puppet.yaml: parameters: - NovaAdditionalCell sample_values: &sample_values NovaAdditionalCell: True NovaLocalMetadataPerCell: True ManageNetworks: False ,,43,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,stable/wallaby,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 14:02:44.000000000,2021-06-23 00:39:13.000000000,2021-06-23 00:39:13.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-06-22 14:02:44.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e38ea651e792ac6f85b0a0091996a76f57ba9ad0', 'message': 'Fix NetworkDeploymentActionValue format\n\nThis should be a list, not a list of lists.\n\nCloses-bug: #1933228\nChange-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5\n(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)\n'}]",0,797455,e38ea651e792ac6f85b0a0091996a76f57ba9ad0,8,5,1,24245,,,0,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
(cherry picked from commit a6118661f7e95ba8954f9a967e92811e4e098942)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/797455/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,e38ea651e792ac6f85b0a0091996a76f57ba9ad0,bug/1933228, if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions}, - if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions},4,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I0d59e12d1523491618c83c0002edb8412e664be0,openstack/tripleo-upgrade,stable/train,I0d59e12d1523491618c83c0002edb8412e664be0,Skip evacuations for non-compute nodes,MERGED,2021-06-21 17:44:19.000000000,2021-06-23 00:39:04.000000000,2021-06-23 00:39:04.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-21 17:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e35bb4ac27a4a063baa3db4ac6970a98937b7706', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit without failure if that is the case.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n""}, {'number': 2, 'created': '2021-06-21 17:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/87033ddd95588041a1a6f5353c8c2c218cb6680e', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit without failure if that is the case.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n""}, {'number': 3, 'created': '2021-06-22 13:50:23.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5cf94869ed02adcc56492dcac5aaa692304dfb59', 'message': ""Skip evacuations for non-compute nodes\n\nIt may happen that multiple hosts are passed into this\nscript, so we ensure that the grep OR's all the values.\n\nWe then also check if there are no hosts in the response,\nand exit with failure if that is the case because this\nscript should always include at least one compute host.\n\nWe also revert the conditionals changed by:\nhttps://review.opendev.org/773002\n\nThe conditions must be taken together to ensure that the\nscript is only created and run for computes.\n\nChange-Id: I0d59e12d1523491618c83c0002edb8412e664be0\n""}]",0,797334,5cf94869ed02adcc56492dcac5aaa692304dfb59,11,5,3,6816,,,0,"Skip evacuations for non-compute nodes

It may happen that multiple hosts are passed into this
script, so we ensure that the grep OR's all the values.

We then also check if there are no hosts in the response,
and exit with failure if that is the case because this
script should always include at least one compute host.

We also revert the conditionals changed by:
https://review.opendev.org/773002

The conditions must be taken together to ensure that the
script is only created and run for computes.

Change-Id: I0d59e12d1523491618c83c0002edb8412e664be0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/797334/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,e35bb4ac27a4a063baa3db4ac6970a98937b7706,,"HOST=$(openstack compute service list -f value -c Host | grep {{ node_name | regex_replace(',', '\\|') }}) if [ ""$HOST"" = """" ]; then echo ""No compute hosts are in: {{ node_name }}"" exit 0 fi nova host-evacuate-live ${HOST} echo ""No vms in active state on ${HOST}"" exit 0","HOST=$(openstack compute service list -f value -c Host | grep {{ node_name }} ) nova host-evacuate-live ${HOST} echo ""No vms in active state on ${HOST}""",10,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Icc0ee9a859c2c67cae92339c6b4102946150269f,openstack/tripleo-heat-templates,stable/train,Icc0ee9a859c2c67cae92339c6b4102946150269f,Set region in authtoken middleware settings,MERGED,2021-06-18 14:10:56.000000000,2021-06-23 00:38:51.000000000,2021-06-23 00:38:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9473808c28892199abe01b47c88c8dbae47f86b', 'message': ""Set region in authtoken middleware settings\n\nWhile we can specify keystone region where all keystone resources\nare created, currently we don't set the specified region correctly\nin credential configurations used for authtoken middleware.\n\nConfigure region parameter for authtoken according to the parameter\nKeystoneRegion so that we're consistent about the region where\nwe expect to have service users created.\n\nConflicts:\n\tdeployment/manila/manila-api-container-puppet.yaml\n\tdeployment/mistral/mistral-base.yaml\n\tdeployment/nova/novajoin-container-puppet.yaml\n\nBackport note:\nThis change updates the panko tempalte which no longer exists in Ussuri\nand later.\n\nChange-Id: Icc0ee9a859c2c67cae92339c6b4102946150269f\n(cherry picked from commit 26305fae911b30bc3692291578852ad94a2f3a4d)\n""}, {'number': 2, 'created': '2021-06-18 14:11:43.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea3b72f8ec99e376d7e25aaed9659dc3778b5f43', 'message': ""Set region in authtoken middleware settings\n\nWhile we can specify keystone region where all keystone resources\nare created, currently we don't set the specified region correctly\nin credential configurations used for authtoken middleware.\n\nConfigure region parameter for authtoken according to the parameter\nKeystoneRegion so that we're consistent about the region where\nwe expect to have service users created.\n\nConflicts:\n\tdeployment/manila/manila-api-container-puppet.yaml\n\tdeployment/mistral/mistral-base.yaml\n\tdeployment/nova/novajoin-container-puppet.yaml\n\nBackport note:\nThis change updates the panko tempalte which no longer exists in Ussuri\nand later.\n\nChange-Id: Icc0ee9a859c2c67cae92339c6b4102946150269f\n(cherry picked from commit 26305fae911b30bc3692291578852ad94a2f3a4d)\n""}]",0,797114,ea3b72f8ec99e376d7e25aaed9659dc3778b5f43,8,3,2,9816,,,0,"Set region in authtoken middleware settings

While we can specify keystone region where all keystone resources
are created, currently we don't set the specified region correctly
in credential configurations used for authtoken middleware.

Configure region parameter for authtoken according to the parameter
KeystoneRegion so that we're consistent about the region where
we expect to have service users created.

Conflicts:
	deployment/manila/manila-api-container-puppet.yaml
	deployment/mistral/mistral-base.yaml
	deployment/nova/novajoin-container-puppet.yaml

Backport note:
This change updates the panko tempalte which no longer exists in Ussuri
and later.

Change-Id: Icc0ee9a859c2c67cae92339c6b4102946150269f
(cherry picked from commit 26305fae911b30bc3692291578852ad94a2f3a4d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/797114/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml']",14,f9473808c28892199abe01b47c88c8dbae47f86b,region-authtoken, KeystoneRegion: type: string default: 'regionOne' description: Keystone region for endpoint sahara::keystone::authtoken::region_name: {get_param: KeystoneRegion},,23,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/victoria,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-22 05:44:33.000000000,2021-06-23 00:38:31.000000000,2021-06-23 00:38:31.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-22 05:44:33.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c', 'message': 'Limit collectds memory usage\n\nto guard nodes from running out of memory.\n\nIf there is a connection issue with collectd not being able to\nwrite to event or metrics endpoints, this can lead to accumulating\nto large portions of memory. Limiting the memory usage via podman\nmemory will prevent the container to grow limitless. In case of\nusing more than 512 MB, podman will restart the container.\n\nChange-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28\n(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)\n(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)\n'}]",0,797310,02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c,7,3,1,4264,,,0,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
(cherry picked from commit e987a234061773f0817a090c7c9752e1fab0fd72)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/797310/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,02b7e3d67729bd219d9b9e1ff957ee51df0d9b8c,collectd_memory-stable/wallaby-stable/victoria, mem_limit: 512m,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Iba6a0da80cb75a93537a014dba8e77032101e570,openstack/tripleo-heat-templates,stable/ussuri,Iba6a0da80cb75a93537a014dba8e77032101e570,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-21 15:31:33.000000000,2021-06-23 00:38:25.000000000,2021-06-23 00:38:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 15:31:33.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50ed57fd0cb81c90fe218e8bbc3ec8c19485cfe1', 'message': 'Add option for enabling rsyslog reopenOnTruncate\n\nreopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.\n\nSetting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature\n\n(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)\nChange-Id: Iba6a0da80cb75a93537a014dba8e77032101e570\n'}]",0,797298,50ed57fd0cb81c90fe218e8bbc3ec8c19485cfe1,11,3,1,31510,,,0,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)
Change-Id: Iba6a0da80cb75a93537a014dba8e77032101e570
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/797298/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,50ed57fd0cb81c90fe218e8bbc3ec8c19485cfe1,rsyslog-reopen-on-truncate-ussuri," RsyslogReopenOnTruncate: default: false description: Rsyslog imfile reopenOnTruncate parameter type: boolean - {get_param: RsyslogReopenOnTruncate} - tripleo::profile::base::logging::rsyslog::reopen_on_truncate: ""on"" - {} - if:",,8,2
openstack%2Fproject-config~master~Iac977829df94d5defaaf87441c6ecc60c676b16c,openstack/project-config,master,Iac977829df94d5defaaf87441c6ecc60c676b16c,Adding gating.dev zone repo,MERGED,2021-06-22 22:06:43.000000000,2021-06-22 23:59:14.000000000,2021-06-22 23:31:24.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 22:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7e9f5de46531c19ff4323f3f7a3ee3bc03159a37', 'message': 'Adding gating.dev zone repo\n\nChange-Id: Iac977829df94d5defaaf87441c6ecc60c676b16c\n'}, {'number': 2, 'created': '2021-06-22 22:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2c2f6fa26d57f4d1bb843717eff10459eab68eb', 'message': 'Adding gating.dev zone repo\n\nChange-Id: Iac977829df94d5defaaf87441c6ecc60c676b16c\n'}, {'number': 3, 'created': '2021-06-22 22:18:18.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a8cb120844168eaf6c2126a495d9b7b328d98eb', 'message': 'Adding gating.dev zone repo\n\nChange-Id: Iac977829df94d5defaaf87441c6ecc60c676b16c\n'}]",0,797544,4a8cb120844168eaf6c2126a495d9b7b328d98eb,14,3,3,1,,,0,"Adding gating.dev zone repo

Change-Id: Iac977829df94d5defaaf87441c6ecc60c676b16c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/797544/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,7e9f5de46531c19ff4323f3f7a3ee3bc03159a37,gating.dev, - opendev/zone-gating.dev,,7,0
openstack%2Fproject-config~master~I688898ba1b000185f9ee707f47ab52bb9ead8fc6,openstack/project-config,master,I688898ba1b000185f9ee707f47ab52bb9ead8fc6,Add zuul/gating.dev repo,MERGED,2021-06-22 22:01:27.000000000,2021-06-22 23:42:51.000000000,2021-06-22 23:31:16.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 22:01:27.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1ddf30fab14607a41c5decc66720d82d3cef1637', 'message': 'Add zuul/gating.dev repo\n\nThis repo will hold the website content for gating.dev.\n\nChange-Id: I688898ba1b000185f9ee707f47ab52bb9ead8fc6\n'}]",0,797543,1ddf30fab14607a41c5decc66720d82d3cef1637,9,3,1,1,,,0,"Add zuul/gating.dev repo

This repo will hold the website content for gating.dev.

Change-Id: I688898ba1b000185f9ee707f47ab52bb9ead8fc6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/797543/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,1ddf30fab14607a41c5decc66720d82d3cef1637,gating.dev, - zuul/gating.dev,,7,0
openstack%2Fdesignate~master~I4cd26693fac7c16f4fa3d3c0015cd7af796f0877,openstack/designate,master,I4cd26693fac7c16f4fa3d3c0015cd7af796f0877,Remove six,MERGED,2020-12-04 03:20:04.000000000,2021-06-22 23:35:49.000000000,2021-06-22 23:34:12.000000000,"[{'_account_id': 6994}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-12-04 03:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c70d1d17abe8bf6fbca33246f735d7eba8049fbe', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\n'}, {'number': 2, 'created': '2020-12-04 05:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39173b79b2eb72b4c077da59db1954786df04c3c', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\n'}, {'number': 3, 'created': '2020-12-07 01:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5eae1b4050c81514f5a4ad8d24a3f0864e170bdf', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\n'}, {'number': 4, 'created': '2020-12-07 16:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1e61b5bf1b5b5cc4cd6e14c71e1a6c10b02d6635', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 5, 'created': '2020-12-09 03:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6c88fa0ae97808b1d071607b15a46172568e52d9', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}, {'number': 6, 'created': '2020-12-15 11:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9c0eecfcc8b1ad0b0de9e45f7fea81f2261c1960', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\n'}, {'number': 7, 'created': '2021-06-22 06:41:24.000000000', 'files': ['designate/backend/agent_backend/impl_gdnsd.py', 'designate/api/v2/controllers/zones/tasks/imports.py', 'designate/network_api/base.py', 'designate/objects/adapters/api_v2/zone_attribute.py', 'designate/sqlalchemy/utils.py', 'designate/objects/adapters/api_v2/pool_attribute.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/backend/impl_akamai_v2.py', 'designate/quota/impl_storage.py', 'designate/api/v2/patches.py', 'designate/notifications.py', 'designate/exceptions.py', 'designate/objects/base.py', 'requirements.txt', 'designate/backend/agent_backend/impl_msdns.py', 'designate/mdns/handler.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py', 'designate/sqlalchemy/base.py', 'designate/utils.py', 'designate/objects/adapters/base.py', 'designate/backend/impl_infoblox/ibexceptions.py', 'designate/scheduler/filters/base.py', 'designate/backend/impl_nsd4.py', 'designate/central/service.py', 'designate/hacking/checks.py', 'designate/quota/base.py', 'lower-constraints.txt', 'designate/storage/base.py', 'designate/scheduler/filters/attribute_filter.py', 'designate/api/admin/views/base.py', 'designate/agent/handler.py', 'designate/backend/impl_infoblox/connector.py', 'designate/network_api/fake.py', 'designate/objects/recordset.py', 'designate/objects/adapters/yaml/pool_target_option.py', 'designate/backend/agent_backend/impl_djbdns.py', 'doc/ext/support_matrix.py', 'designate/objects/adapters/api_v2/base.py', 'designate/dnsutils.py', 'designate/objects/adapters/yaml/pool_attribute.py', 'designate/plugin.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/88a4be5e5c900ebf754ca6b12c1c45af67b2e6be', 'message': 'Remove six\n\nRemove six Replace the following items with Python 3 style code.\n\n- six.PY3\n- six.moves.urllib\n- six.PY2\n- six.text_type\n- six.string_types\n- six.iterkeys\n- six.moves.range\n- six.add_metaclass\n- six.moves.map\n- six.moves.zip\n- six.MAXSIZE\n\nChange-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877\n'}]",1,765433,88a4be5e5c900ebf754ca6b12c1c45af67b2e6be,32,5,7,32238,,,0,"Remove six

Remove six Replace the following items with Python 3 style code.

- six.PY3
- six.moves.urllib
- six.PY2
- six.text_type
- six.string_types
- six.iterkeys
- six.moves.range
- six.add_metaclass
- six.moves.map
- six.moves.zip
- six.MAXSIZE

Change-Id: I4cd26693fac7c16f4fa3d3c0015cd7af796f0877
",git fetch https://review.opendev.org/openstack/designate refs/changes/33/765433/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/agent_backend/impl_gdnsd.py', 'designate/api/v2/controllers/zones/tasks/imports.py', 'designate/network_api/base.py', 'designate/objects/adapters/api_v2/zone_attribute.py', 'designate/sqlalchemy/utils.py', 'designate/objects/adapters/api_v2/pool_attribute.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/backend/impl_akamai_v2.py', 'designate/quota/impl_storage.py', 'designate/api/v2/patches.py', 'designate/notifications.py', 'designate/exceptions.py', 'designate/objects/base.py', 'requirements.txt', 'designate/backend/agent_backend/impl_msdns.py', 'designate/mdns/handler.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py', 'designate/sqlalchemy/base.py', 'designate/utils.py', 'designate/objects/adapters/base.py', 'designate/backend/impl_infoblox/ibexceptions.py', 'designate/scheduler/filters/base.py', 'designate/backend/impl_nsd4.py', 'designate/central/service.py', 'designate/hacking/checks.py', 'designate/quota/base.py', 'lower-constraints.txt', 'designate/storage/base.py', 'designate/scheduler/filters/attribute_filter.py', 'designate/api/admin/views/base.py', 'designate/agent/handler.py', 'designate/backend/impl_infoblox/connector.py', 'designate/network_api/fake.py', 'designate/objects/recordset.py', 'designate/objects/adapters/yaml/pool_target_option.py', 'designate/backend/agent_backend/impl_djbdns.py', 'doc/ext/support_matrix.py', 'designate/objects/adapters/api_v2/base.py', 'designate/dnsutils.py', 'designate/objects/adapters/yaml/pool_attribute.py', 'designate/plugin.py']",44,c70d1d17abe8bf6fbca33246f735d7eba8049fbe,remove-six,"class Plugin(object, metaclass=abc.ABCMeta):",import six@six.add_metaclass(abc.ABCMeta) class Plugin(object):,101,153
openstack%2Ftripleo-heat-templates~master~Iad255451726867dc172404513fdac4ad0599c4c0,openstack/tripleo-heat-templates,master,Iad255451726867dc172404513fdac4ad0599c4c0,Distribute iscsid.conf to all containers using iscsi,MERGED,2021-06-16 17:23:20.000000000,2021-06-22 22:38:29.000000000,2021-06-22 22:38:29.000000000,"[{'_account_id': 6926}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 17:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29c02d113d53271ef780b7eaa6a66fc8b284beb7', 'message': 'Distribute iscsid.conf to all containers using iscsi\n\nThis patch updates the way files related to iscsi are distributed\nto the cinder, glance and nova containers that use the protocol.\n\nPreviously it was thought that only the iscsid container needs\naccess to /etc/iscsi/iscsid.conf, but the LP bug reveals the client\nside also reads the file in order to determine the list of chap\nalgorithms to offer when initiating an iscsi connection.\n\nThe bug was exposed when testing a secure environment that uses a\nnon-default list of chap algorithms. The iscsid container was using\nthe customized list, but the client containers (e.g. nova) were\nusing the default list, which caused iscsid to reject connections.\n\nCloses-Bug: #1932181\nChange-Id: Iad255451726867dc172404513fdac4ad0599c4c0\n'}, {'number': 2, 'created': '2021-06-16 17:30:15.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48fd886a03b8d8249b6ea539b76bbd50e081a85e', 'message': 'Distribute iscsid.conf to all containers using iscsi\n\nThis patch updates the way files related to iscsi are distributed\nto the cinder, glance and nova containers that use the protocol.\n\nPreviously it was thought that only the iscsid container needs\naccess to /etc/iscsi/iscsid.conf, but the LP bug reveals the client\nside also reads the file in order to determine the list of chap\nalgorithms to offer when initiating an iscsi connection.\n\nThe bug was exposed when testing a secure environment that uses a\nnon-default list of chap algorithms. The iscsid container was using\nthe customized list, but the client containers (e.g. nova) were\nusing the default list, which caused iscsid to reject connections.\n\nCloses-Bug: #1932181\nChange-Id: Iad255451726867dc172404513fdac4ad0599c4c0\n'}]",0,796714,48fd886a03b8d8249b6ea539b76bbd50e081a85e,23,6,2,21129,,,0,"Distribute iscsid.conf to all containers using iscsi

This patch updates the way files related to iscsi are distributed
to the cinder, glance and nova containers that use the protocol.

Previously it was thought that only the iscsid container needs
access to /etc/iscsi/iscsid.conf, but the LP bug reveals the client
side also reads the file in order to determine the list of chap
algorithms to offer when initiating an iscsi connection.

The bug was exposed when testing a secure environment that uses a
non-default list of chap algorithms. The iscsid container was using
the customized list, but the client containers (e.g. nova) were
using the default list, which caused iscsid to reject connections.

Closes-Bug: #1932181
Change-Id: Iad255451726867dc172404513fdac4ad0599c4c0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/796714/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml']",3,29c02d113d53271ef780b7eaa6a66fc8b284beb7,iscsid-fips-fix, - /var/lib/config-data/puppet-generated/iscsid/etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /var/lib/config-data/puppet-generated/iscsid/etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro, - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro,8,4
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ib6000467f830037c3d9721a3b6ebf06523225f98,openstack/tripleo-heat-templates,stable/victoria,Ib6000467f830037c3d9721a3b6ebf06523225f98,Added the posibility of skipping the NFS ping test on the rear installation,MERGED,2021-06-15 14:40:08.000000000,2021-06-22 22:38:23.000000000,2021-06-22 22:38:23.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-15 14:40:08.000000000', 'files': ['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b', 'message': 'Added the posibility of skipping the NFS ping test on the rear installation\n\nAlso changed the CI to skip this test.\n\nDepends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db\nChange-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98\n(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)\n(cherry picked from commit f006d015657f4635115932715428cc1d5ee83ae4)\n'}]",0,796442,7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b,10,3,1,22954,,,0,"Added the posibility of skipping the NFS ping test on the rear installation

Also changed the CI to skip this test.

Depends-On: Ibbf7ba3435da8dc9218403df76f0eb86df4374db
Change-Id: Ib6000467f830037c3d9721a3b6ebf06523225f98
(cherry picked from commit 86daa77b376db832498aaf90809674b95ac7b6b1)
(cherry picked from commit f006d015657f4635115932715428cc1d5ee83ae4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/796442/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/backup-and-restore/rear-baremetal-ansible.yaml', 'ci/environments/scenario001-standalone.yaml']",2,7f19b9635ac201cd32c0e9f469c5f8aaf207ef5b,BnRSkipNFSTest-stable/wallaby-stable/victoria, BackupAndRestoreSkipNFSTest: true,,8,0
openstack%2Ftrove~stable%2Fwallaby~Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,openstack/trove,stable/wallaby,Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,Use bridge network for db container,MERGED,2021-06-22 11:59:43.000000000,2021-06-22 22:21:25.000000000,2021-06-22 22:20:05.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 11:59:43.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/xena-container-bridge-network.yaml', 'trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile', 'trove/common/cfg.py', 'trove/guestagent/utils/docker.py', 'backup/utils/postgresql.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/a401b761d93eca6b2d34aaeced09ed0331b419cc', 'message': 'Use bridge network for db container\n\n- Changed the network mode of database container to ""bridge"" and exposed\n  the service ports.\n- Use socket file to connect with the database.\n- Upgrade the backup container image for postgressql.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n(cherry picked from commit b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2)\n'}]",0,797400,a401b761d93eca6b2d34aaeced09ed0331b419cc,7,2,1,6732,,,0,"Use bridge network for db container

- Changed the network mode of database container to ""bridge"" and exposed
  the service ports.
- Use socket file to connect with the database.
- Upgrade the backup container image for postgressql.

Change-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6
(cherry picked from commit b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2)
",git fetch https://review.opendev.org/openstack/trove refs/changes/00/797400/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/package-installs.yaml', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/xena-container-bridge-network.yaml', 'trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile', 'trove/common/cfg.py', 'trove/guestagent/utils/docker.py', 'backup/utils/postgresql.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/mysql_base.py']",11,a401b761d93eca6b2d34aaeced09ed0331b419cc,bridge-network-stable/wallaby," ""/var/run/mysqld"": {""bind"": ""/var/run/mysqld"", ""mode"": ""ro""},",,71,11
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ia42c29d5b082120f5a984cffd97325faf387ca8b,openstack/puppet-tripleo,stable/wallaby,Ia42c29d5b082120f5a984cffd97325faf387ca8b,Remove bind and bind pool generation for designate from puppet,MERGED,2021-06-21 19:10:47.000000000,2021-06-22 21:36:59.000000000,2021-06-22 21:36:59.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 19:10:47.000000000', 'files': ['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'spec/classes/tripleo_profile_base_designate_central_spec.rb', 'templates/designate/pools.yaml.erb', 'manifests/profile/base/designate/worker.pp', 'spec/classes/tripleo_profile_base_designate_spec.rb', 'manifests/profile/base/designate/central.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/147e6a26078c2bf8ffa97e2d43399e24ef220139', 'message': 'Remove bind and bind pool generation for designate from puppet\n\nThis patch removes configuring the bind backend and desginate bind pool\nconfiguration from puppet as it is now generated in ansible.\n\nDepends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc\nChange-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b\n(cherry picked from commit 98a0af7cc9b745ebf4f3964d5c33259edb5e0ea2)\n'}]",0,797348,147e6a26078c2bf8ffa97e2d43399e24ef220139,7,3,1,6681,,,0,"Remove bind and bind pool generation for designate from puppet

This patch removes configuring the bind backend and desginate bind pool
configuration from puppet as it is now generated in ansible.

Depends-On: Ib89bcafe9f65431aee5756a32b2a82adc3d384dc
Change-Id: Ia42c29d5b082120f5a984cffd97325faf387ca8b
(cherry picked from commit 98a0af7cc9b745ebf4f3964d5c33259edb5e0ea2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/48/797348/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/designate/backend.pp', 'manifests/profile/base/designate.pp', 'spec/classes/tripleo_profile_base_designate_central_spec.rb', 'templates/designate/pools.yaml.erb', 'manifests/profile/base/designate/worker.pp', 'spec/classes/tripleo_profile_base_designate_spec.rb', 'manifests/profile/base/designate/central.pp']",7,147e6a26078c2bf8ffa97e2d43399e24ef220139,designate-wallaby,# DEPRECATED PARAMETERS # # DEPRECATED PARAMETERS warning('pool file content is no longer manually configurable')," $pools_file_content_real = $pools_file_content } else { $pools_file_content_real = template('tripleo/designate/pools.yaml.erb') } file { 'designate pools': path => '/etc/designate/pools.yaml', content => $pools_file_content_real, if ($step == 5 and $sync_db) { exec { 'pool update': command => '/bin/designate-manage pool update', user => 'designate', } }",21,114
openstack%2Fmanila-ui~stable%2Fussuri~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/ussuri,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:40:02.000000000,2021-06-22 21:36:35.000000000,2021-06-22 21:35:22.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-22 18:40:02.000000000', 'files': ['manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/21e31332cb0a3e77122aff63ca2bbfd045e093e5', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)\n(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)\n(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)\n'}]",1,797486,21e31332cb0a3e77122aff63ca2bbfd045e093e5,12,3,1,16643,,,0,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
(cherry picked from commit bf820e10c742c3aff610665d7ec1b7c56a1fea9f)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/86/797486/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/share_groups/forms.py'],1,21e31332cb0a3e77122aff63ca2bbfd045e093e5,bug/1931641, st_field_name = ( self.st_field_name_prefix + utils.transform_dashed_name(sgt.id) ), st_field_name = self.st_field_name_prefix + sgt.id,4,1
openstack%2Fironic~stable%2Fwallaby~Ie2a1905d118d74e83eab5ad64931c685b3059504,openstack/ironic,stable/wallaby,Ie2a1905d118d74e83eab5ad64931c685b3059504,Add documentation for anaconda deploy interface,MERGED,2021-06-22 15:37:54.000000000,2021-06-22 21:28:52.000000000,2021-06-22 16:24:08.000000000,"[{'_account_id': 11655}, {'_account_id': 12640}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 15:37:54.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b88956550e3755491b309bd2a3be4e2188271f2f', 'message': 'Add documentation for anaconda deploy interface\n\nThis adds admin docs on how configure and use the newly added\nanaconda deploy interface.\n\nChange-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504\n(cherry picked from commit 595345ffc43b3652ff249f214e1b90e91e717791)\n'}]",0,797482,b88956550e3755491b309bd2a3be4e2188271f2f,8,3,1,10342,,,0,"Add documentation for anaconda deploy interface

This adds admin docs on how configure and use the newly added
anaconda deploy interface.

Change-Id: Ie2a1905d118d74e83eab5ad64931c685b3059504
(cherry picked from commit 595345ffc43b3652ff249f214e1b90e91e717791)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/797482/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/anaconda-deploy-interface.rst']",2,b88956550e3755491b309bd2a3be4e2188271f2f,anaconda_admin_docs-stable/wallaby,"Deploying with anaconda deploy interface ======================================== Ironic supports deploying OS with anaconda installer in addition to IPA. This deploy interface supports ``pxe``, ``ipxe`` boot interfaces. Configuration ------------- The anaconda deploy interface is not enabled by default. To enable this, use the ``enabled_deploy_interfaces`` configuration option in ironic.conf .. code-block:: ini [DEFAULT] ... enabled_deploy_interfaces = direct,anaconda ... This change will not be effective until all Ironic conductors have been restarted. .. code-block:: shell baremetal node create --driver ipmi \ --deploy-interface anaconda \ --boot-interface ipxe You can also set ``--deploy-interface`` on an existing node: .. code-block:: shell baremetal node set <NODE> --deploy-interface anaconda Creating an OS Image -------------------- While anaconda allows installing individual RPMs the default kickstart file expects a OS tarball to be used as the OS image. A baremetal.yum file that lists all yum/dnf commands that need to be run to generate the OS tarball. The commands normally install packages and package' groups that need to be in the image .. code-block:: ini group install 'Minimal Install' install cloud-init ts run An OS tarball can be created using following set of commands using above baremetal.yum file .. code-block:: shell export CHROOT=/home/<user>/os-image mkdir -p $(CHROOT) mkdir -p $(CHROOT)/{dev,proc,run,sys} chown -hR root:root $(CHROOT) mount --bind /var/cache/yum $(CHROOT)/var/cache/yum mount --bind /dev $(CHROOT)/dev mount -t proc proc $(CHROOT)/proc mount -t tmpfs tmpfs $(CHROOT)/run mount -t sysfs sysfs $(CHROOT)/sys dnf -y --installroot=$(CHROOT) makecache dnf -y --installroot=$(CHROOT) shell baremetal.yum rpm --root $(CHROOT) --import $(CHROOT)/etc/pki/rpm-gpg/RPM-GPG-KEY-* truncate -s 0 $(CHROOT)/etc/machine-id umount $(CHROOT)/var/cache/yum umount $(CHROOT)/dev umount $(CHROOT)/proc umount $(CHROOT)/run umount $(CHROOT)/sys tar cpzf os-image.tar.gz --xattrs --acls --selinux -C $(CHROOT) . Configuring the OS Image in glance ---------------------------------- Anaconda is a two stage installer - The stage1 consists of the kernel and ramdisk and the stage2 lives in a squashfs file. All these components can be found in the CentOS/RHEL/Fedora ISO images. The kernel and ramdisk can be found at ``/images/pxeboot/vmlinuz`` and ``/images/pxeboot/initrd.img`` respectively in the ISO. The stage2 squashfs image can be normally found at ``/LiveOS/squashfs.img`` or ``/images/install.img``. The OS tarball must be configured with following properties in glance to be used with anaconda deploy driver 1. ``kernel_id`` 2. ``ramdisk_id`` 3. ``stage2_id`` .. code-block:: shell openstack image create --file ./vmlinuz --container-format aki \ --disk-format aki --shared anaconda-kernel-<version> openstack image create --file ./initrd.img --container-format ari \ --disk-format ari --shared anaconda-ramdisk-<version> openstack image create --file ./squashfs.img --container-format ari \ --disk-format ari --shared anaconda-stage-<verison> openstack image create --file ./os-image.tar.gz --container-format \ compressed --disk-format raw --shared \ --property kernel_id=<glance_uuid_vmlinuz> \ --property ramdisk_id=<glance_uuid_ramdisk> \ --property stage2_id=<glance_uuid_stage2> <disto-name-version> Creating a baremetal server --------------------------- Apart from uploading a custom kickstart template to glance and associating it to the OS Image as ``ks_template`` property in glance, operators can also set the kickstart template in instance_info. The kickstart template set in instance_info takes precedence over the one set in the glance image. If kickstart template is not found in instance_info or the glance image property the default kickstart template will be used to deploy the OS. .. code-block:: shell openstack baremetal node set $NODE_UUID \ --instance_info ks_template=glance://uuid Limitations ----------- This deploy interface has only been tested with Red Hat based operating systems that use anaconda. Other systems are not supported. ",,131,0
openstack%2Fdevstack~master~Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e,openstack/devstack,master,Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e,WIP/DNM: Add centos-multinode nodeset,NEW,2021-06-22 19:55:39.000000000,2021-06-22 21:28:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 19:55:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c836421edf73fc8ef80528cdc962feeb53d1a407', 'message': 'WIP/DNM: Add centos-multinode nodeset\n\nThis is needed for some WIP neutron multi-node FIPS tests.  If we\ndecide to keep those tests, we can add this permanently.\n\nChange-Id: Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e\n'}]",0,797535,c836421edf73fc8ef80528cdc962feeb53d1a407,2,1,1,9914,,,0,"WIP/DNM: Add centos-multinode nodeset

This is needed for some WIP neutron multi-node FIPS tests.  If we
decide to keep those tests, we can add this permanently.

Change-Id: Ib7b169c5a1c9a69cdd1a4fc3f1f60c02692b2c0e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/797535/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c836421edf73fc8ef80528cdc962feeb53d1a407,add_centos_multinode_jobs, name: openstack-two-node-centos-8-stream nodes: - name: controller label: centos-8-stream - name: compute1 label: centos-8-stream groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute1 # Nodes that are not the controller - name: subnode nodes: - compute1 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute1 - nodeset:,,30,0
openstack%2Fneutron~stable%2Fussuri~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/neutron,stable/ussuri,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:47:58.000000000,2021-06-22 21:09:17.000000000,2021-06-22 21:07:45.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:47:58.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d0acf062adb21663fc533200324cf30109f5f94', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nCloses-Bug: #1932421\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)\n""}]",0,797000,0d0acf062adb21663fc533200324cf30109f5f94,27,4,1,8655,,,0,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/797000/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,0d0acf062adb21663fc533200324cf30109f5f94,bug/1932421," # Get only DHCP ports that don't belong to agent, it should return # only OVN metadata ports dhcp_ports = [ p for p in self.core_plugin.get_ports( ctx, filters=dict( network_id=[net['id']], device_owner=[constants.DEVICE_OWNER_DHCP])) if not utils.is_neutron_dhcp_agent_port(p)]"," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( network_id=[net['id']], device_owner=[constants.DEVICE_OWNER_DHCP])) for port in dhcp_ports: # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port): dhcp_ports.remove(port)",8,8
openstack%2Fansible-collections-openstack~master~I0f4281324e5276122f51722c7b8e79ee185fd476,openstack/ansible-collections-openstack,master,I0f4281324e5276122f51722c7b8e79ee185fd476,Switch Snapshot module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-22 20:53:47.000000000,2021-06-22 20:53:47.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2694f0020651cb2282ee6a7abdd8dc5e2f4c2050', 'message': 'Switch Snapshot module to OpenStackModule\n\nSwitch snapshot module to the general OpenStackModule.\n\nChange-Id: I0f4281324e5276122f51722c7b8e79ee185fd476\n'}, {'number': 2, 'created': '2021-05-21 07:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7f9509ed5d568c30bfc692b4db30679e38f6749b', 'message': 'Switch Snapshot module to OpenStackModule\n\nSwitch snapshot module to the general OpenStackModule.\n\nChange-Id: I0f4281324e5276122f51722c7b8e79ee185fd476\n'}, {'number': 3, 'created': '2021-05-21 11:48:00.000000000', 'files': ['ci/roles/volume/tasks/main.yml', 'plugins/modules/volume_snapshot.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e3c61aeefd6ee456a3f2a0920c9b7e99440caafd', 'message': 'Switch Snapshot module to OpenStackModule\n\nSwitch snapshot module to the general OpenStackModule.\n\nChange-Id: I0f4281324e5276122f51722c7b8e79ee185fd476\n'}]",16,792449,e3c61aeefd6ee456a3f2a0920c9b7e99440caafd,16,2,3,27900,,,0,"Switch Snapshot module to OpenStackModule

Switch snapshot module to the general OpenStackModule.

Change-Id: I0f4281324e5276122f51722c7b8e79ee185fd476
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/49/792449/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/volume_snapshot.py'],1,2694f0020651cb2282ee6a7abdd8dc5e2f4c2050,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class VolumeSnapshotModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _present_volume_snapshot(self): volume = self.conn.get_volume(self.params['volume']) snapshot = self.conn.get_volume_snapshot(self.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: snapshot = self.conn.create_volume_snapshot( volume.id, force=self.params['force'], wait=self.params['wait'], timeout=self.params['timeout'], name=self.params['display_name'], description=self.params.get('display_description') ) self.exit_json(changed=True, snapshot=snapshot) else: self.exit_json(changed=False, snapshot=snapshot) def _absent_volume_snapshot(self): volume = self.conn.get_volume(self.params['volume']) snapshot = self.conn.get_volume_snapshot(self.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: self.exit_json(changed=False) else: self.conn.delete_volume_snapshot( name_or_id=snapshot.id, wait=self.params['wait'], timeout=self.params['timeout'], ) self.exit_json(changed=True, snapshot_id=snapshot.id) def _system_state_change(self): volume = self.conn.get_volume(self.params['volume']) snapshot = self.conn.get_volume_snapshot( self.params['display_name'], filters={'volume_id': volume.id}) state = self.params['state'] if state == 'present': return snapshot is None if state == 'absent': return snapshot is not None def run(self): state = self.params['state'] if self.conn.volume_exists(self.params['volume']): if self.check_mode: self.exit_json(changed=self._system_state_change()) if state == 'present': self._present_volume_snapshot() if state == 'absent': self._absent_volume_snapshot() else: self.fail_json( self.params['volume'])) def main(): module = VolumeSnapshotModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module, ) def _present_volume_snapshot(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: snapshot = cloud.create_volume_snapshot(volume.id, force=module.params['force'], wait=module.params['wait'], timeout=module.params[ 'timeout'], name=module.params['display_name'], description=module.params.get( 'display_description') ) module.exit_json(changed=True, snapshot=snapshot) else: module.exit_json(changed=False, snapshot=snapshot) def _absent_volume_snapshot(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) if not snapshot: module.exit_json(changed=False) else: cloud.delete_volume_snapshot(name_or_id=snapshot.id, wait=module.params['wait'], timeout=module.params['timeout'], ) module.exit_json(changed=True, snapshot_id=snapshot.id) def _system_state_change(module, cloud): volume = cloud.get_volume(module.params['volume']) snapshot = cloud.get_volume_snapshot(module.params['display_name'], filters={'volume_id': volume.id}) state = module.params['state'] if state == 'present': return snapshot is None if state == 'absent': return snapshot is not None def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs() module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) sdk, cloud = openstack_cloud_from_module(module) state = module.params['state'] try: if cloud.volume_exists(module.params['volume']): if module.check_mode: module.exit_json(changed=_system_state_change(module, cloud)) if state == 'present': _present_volume_snapshot(module, cloud) if state == 'absent': _absent_volume_snapshot(module, cloud) else: module.fail_json( module.params['volume'])) except (sdk.exceptions.OpenStackCloudException, sdk.exceptions.ResourceTimeout) as e: module.fail_json(msg=e.message)",66,73
openstack%2Fansible-collections-openstack~master~I28a61bf70b161358b76e3adb70b32896613e9aba,openstack/ansible-collections-openstack,master,I28a61bf70b161358b76e3adb70b32896613e9aba,Switch Quota module to OpenStackModule,MERGED,2021-05-20 16:44:59.000000000,2021-06-22 20:48:11.000000000,2021-06-22 20:48:11.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-20 16:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e78cc170a3a0936a99db8ec4f406fcd5233c197a', 'message': 'Switch Quota module to OpenStackModule\n\nSwitch quota module to the general OpenStackModule.\n\nChange-Id: I28a61bf70b161358b76e3adb70b32896613e9aba\n'}, {'number': 2, 'created': '2021-05-21 07:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b82d3c0a6fe9fc21bfdea1e806f9bc537c9e1dcb', 'message': 'Switch Quota module to OpenStackModule\n\nSwitch quota module to the general OpenStackModule.\n\nChange-Id: I28a61bf70b161358b76e3adb70b32896613e9aba\n'}, {'number': 3, 'created': '2021-05-21 12:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/20e6cce4682d94b26fc6056a41289ad13a6cc846', 'message': 'Switch Quota module to OpenStackModule\n\nSwitch quota module to the general OpenStackModule.\n\nChange-Id: I28a61bf70b161358b76e3adb70b32896613e9aba\n'}, {'number': 4, 'created': '2021-06-14 10:48:38.000000000', 'files': ['plugins/modules/quota.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/06115c77b7e4f8af462b71629a2f8f05d3df1a15', 'message': 'Switch Quota module to OpenStackModule\n\nSwitch quota module to the general OpenStackModule.\n\nChange-Id: I28a61bf70b161358b76e3adb70b32896613e9aba\n'}]",16,792418,06115c77b7e4f8af462b71629a2f8f05d3df1a15,16,2,4,27900,,,0,"Switch Quota module to OpenStackModule

Switch quota module to the general OpenStackModule.

Change-Id: I28a61bf70b161358b76e3adb70b32896613e9aba
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/18/792418/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/quota.py'],1,e78cc170a3a0936a99db8ec4f406fcd5233c197a,,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class QuotaModule(OpenStackModule): argument_spec = dict( module_kwargs = dict( supports_check_mode=True ) def _get_volume_quotas(self, project): return self.conn.get_volume_quotas(project) def _get_network_quotas(self, project): return self.conn.get_network_quotas(project) def _get_compute_quotas(self, project): return self.conn.get_compute_quotas(project) def _get_quotas(self, project): quota = {} try: quota['volume'] = self._get_volume_quotas(project) except ksa_exceptions.EndpointNotFound: self.warn(""No public endpoint for volumev2 service was found. Ignoring volume quotas."") try: quota['network'] = self._get_network_quotas(project) except ksa_exceptions.EndpointNotFound: self.warn(""No public endpoint for network service was found. Ignoring network quotas."") quota['compute'] = self._get_compute_quotas(project) for quota_type in quota.keys(): quota[quota_type] = self._scrub_results(quota[quota_type]) return quota def _scrub_results(self, quota): filter_attr = [ 'HUMAN_ID', 'NAME_ATTR', 'human_id', 'request_ids', 'x_openstack_request_ids', ] for attr in filter_attr: if attr in quota: del quota[attr] return quota def _system_state_change_details(self, project_quota_output): quota_change_request = {} changes_required = False for quota_type in project_quota_output.keys(): for quota_option in project_quota_output[quota_type].keys(): if quota_option in self.params and self.params[quota_option] is not None: if project_quota_output[quota_type][quota_option] != self.params[quota_option]: changes_required = True if quota_type not in quota_change_request: quota_change_request[quota_type] = {} quota_change_request[quota_type][quota_option] = self.params[quota_option] return (changes_required, quota_change_request) def _system_state_change(self, project_quota_output): """""" Determine if changes are required to the current project quota. This is done by comparing the current project_quota_output against the desired quota settings set on the module params. """""" changes_required, quota_change_request = self._system_state_change_details( project_quota_output ) if changes_required: return True else: return False def run(self): cloud_params = dict(self.params) for k, v in self.params[dynamic_type].items(): self.params[k] = int(v) project_quota_output = self._get_quotas(cloud_params['name']) if self.params['state'] == ""absent"": if self.check_mode: self.exit_json(changed=True) quota_call = getattr(self.conn, 'delete_%s_quotas' % (quota_type)) except Exception as e: self.fail_json(msg=str(e), extra_data=e.extra_data) project_quota_output = self._get_quotas(cloud_params['name']) elif self.params['state'] == ""present"": if self.check_mode: self.exit_json(changed=self._system_state_change( project_quota_output)) changes_required, quota_change_request = self._system_state_change_details( quota_call = getattr(self.conn, 'set_%s_quotas' % (quota_type)) project_quota_update = self._get_quotas(cloud_params['name']) self.fail_json(msg='Could not apply quota update') self.exit_json( changed=changes_required, openstack_quotas=project_quota_output) def main(): module = QuotaModule() module()","import traceback KEYSTONEAUTH1_IMP_ERR = None try: from keystoneauth1 import exceptions as ksa_exceptions HAS_KEYSTONEAUTH1 = True except ImportError: KEYSTONEAUTH1_IMP_ERR = traceback.format_exc() HAS_KEYSTONEAUTH1 = False from ansible.module_utils.basic import AnsibleModule, missing_required_lib from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( openstack_full_argument_spec, openstack_cloud_from_module, ) def _get_volume_quotas(cloud, project): return cloud.get_volume_quotas(project) def _get_network_quotas(cloud, project): return cloud.get_network_quotas(project) def _get_compute_quotas(cloud, project): return cloud.get_compute_quotas(project) def _get_quotas(sdk, module, cloud, project): quota = {} try: quota['volume'] = _get_volume_quotas(cloud, project) except ksa_exceptions.EndpointNotFound: module.warn(""No public endpoint for volumev2 service was found. Ignoring volume quotas."") try: quota['network'] = _get_network_quotas(cloud, project) except ksa_exceptions.EndpointNotFound: module.warn(""No public endpoint for network service was found. Ignoring network quotas."") quota['compute'] = _get_compute_quotas(cloud, project) for quota_type in quota.keys(): quota[quota_type] = _scrub_results(quota[quota_type]) return quota def _scrub_results(quota): filter_attr = [ 'HUMAN_ID', 'NAME_ATTR', 'human_id', 'request_ids', 'x_openstack_request_ids', ] for attr in filter_attr: if attr in quota: del quota[attr] return quota def _system_state_change_details(module, project_quota_output): quota_change_request = {} changes_required = False for quota_type in project_quota_output.keys(): for quota_option in project_quota_output[quota_type].keys(): if quota_option in module.params and module.params[quota_option] is not None: if project_quota_output[quota_type][quota_option] != module.params[quota_option]: changes_required = True if quota_type not in quota_change_request: quota_change_request[quota_type] = {} quota_change_request[quota_type][quota_option] = module.params[quota_option] return (changes_required, quota_change_request) def _system_state_change(module, project_quota_output): """""" Determine if changes are required to the current project quota. This is done by comparing the current project_quota_output against the desired quota settings set on the module params. """""" changes_required, quota_change_request = _system_state_change_details( module, project_quota_output ) if changes_required: return True else: return False def main(): argument_spec = openstack_full_argument_spec( module = AnsibleModule(argument_spec, supports_check_mode=True ) if not HAS_KEYSTONEAUTH1: module.fail_json(msg=missing_required_lib(""keystoneauth1""), exception=KEYSTONEAUTH1_IMP_ERR) sdk, cloud = openstack_cloud_from_module(module) try: cloud_params = dict(module.params) for k, v in module.params[dynamic_type].items(): module.params[k] = int(v) project_quota_output = _get_quotas( sdk, module, cloud, cloud_params['name']) if module.params['state'] == ""absent"": if module.check_mode: module.exit_json(changed=True) quota_call = getattr(cloud, 'delete_%s_quotas' % (quota_type)) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data) project_quota_output = _get_quotas( sdk, module, cloud, cloud_params['name']) elif module.params['state'] == ""present"": if module.check_mode: module.exit_json(changed=_system_state_change(module, project_quota_output)) changes_required, quota_change_request = _system_state_change_details( module, quota_call = getattr(cloud, 'set_%s_quotas' % (quota_type)) project_quota_update = _get_quotas( sdk, module, cloud, cloud_params['name']) module.fail_json(msg='Could not apply quota update') module.exit_json(changed=changes_required, openstack_quotas=project_quota_output ) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e), extra_data=e.extra_data)",108,143
openstack%2Ftripleo-ansible~master~Ia4fa4b950114c5fcc787a7ffb957360c65c850c9,openstack/tripleo-ansible,master,Ia4fa4b950114c5fcc787a7ffb957360c65c850c9,"Drop deprecated ""macs"" field in nodes_json",MERGED,2021-06-18 14:05:15.000000000,2021-06-22 20:48:08.000000000,2021-06-22 20:46:33.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 14:05:15.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/baremetal_nodes_validate.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/badab82c2b371f99011e981f9a2f2c1e88488314', 'message': 'Drop deprecated ""macs"" field in nodes_json\n\nIn change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10\nthe ""macs"" field in nodes_json was deprecated and\nreplaced by the ""ports"" field.\n\nIt has been several cycles with a deprecation warning\nin the logs. Remove convert_nodes_json_mac_to_ports\nuse which keept backward compatibility.\n\nChange-Id: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9\n'}]",0,797091,badab82c2b371f99011e981f9a2f2c1e88488314,9,4,1,24245,,,0,"Drop deprecated ""macs"" field in nodes_json

In change I74d4178dbb0cfe8c934ce15e3e7c9bb1c469de10
the ""macs"" field in nodes_json was deprecated and
replaced by the ""ports"" field.

It has been several cycles with a deprecation warning
in the logs. Remove convert_nodes_json_mac_to_ports
use which keept backward compatibility.

Change-Id: Ia4fa4b950114c5fcc787a7ffb957360c65c850c9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/797091/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/baremetal_nodes_validate.py', 'tripleo_ansible/ansible_plugins/modules/baremetal_register_or_update_nodes.py']",2,badab82c2b371f99011e981f9a2f2c1e88488314,remove-deprecated-macs-field, nodes_json = module.params['nodes_json'], nodes_json = nodes.convert_nodes_json_mac_to_ports( module.params['nodes_json'] ),2,6
openstack%2Fironic~master~Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f,openstack/ironic,master,Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f,Rename ilo_boot_iso -> boot_iso,MERGED,2021-06-14 14:54:35.000000000,2021-06-22 20:47:31.000000000,2021-06-22 14:49:07.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-14 14:54:35.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/modules/ilo/power.py', 'ironic/drivers/utils.py', 'releasenotes/notes/ilo-boot-iso-696b57f44f29852d.yaml', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_power.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e84b6d102073d67d1f5ddb52516d4957f92596cb', 'message': 'Rename ilo_boot_iso -> boot_iso\n\nChange-Id: Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f\n'}]",0,796289,e84b6d102073d67d1f5ddb52516d4957f92596cb,34,3,1,10239,,,0,"Rename ilo_boot_iso -> boot_iso

Change-Id: Ie758cccdf8a7bc30389cd5d4cd83ea80dbae040f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/796289/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'ironic/drivers/modules/ilo/power.py', 'ironic/drivers/utils.py', 'releasenotes/notes/ilo-boot-iso-696b57f44f29852d.yaml', 'ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_power.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py']",7,e84b6d102073d67d1f5ddb52516d4957f92596cb,ilo-prefix," i_info['boot_iso'] = url i_info['boot_iso'] = url instance_info['boot_iso'] = 'deploy-iso' instance_info['boot_iso'] = boot_iso instance_info['boot_iso'] = boot_iso instance_info['boot_iso'] = boot_iso ""instance_info['boot_iso']."", instance_info['boot_iso'] = ilo_boot_iso self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) task.node.instance_info['boot_iso']) 'boot_iso': 'boot-iso', instance_info['boot_iso'] = 'boot-iso' 'boot_iso': 'boot-iso', 'boot_iso': 'boot-iso', 'boot_iso': 'boot-iso', 'boot_iso': 'boot-iso', instance_info['boot_iso'] = 'boot-iso' instance_info['boot_iso'] = boot_iso instance_info['boot_iso'] = boot_iso instance_info['boot_iso'] = boot_iso ""instance_info['boot_iso']."", instance_info['boot_iso'] = ilo_boot_iso self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) self.assertNotIn('boot_iso', self.node.instance_info) self.node.instance_info['boot_iso']) self.assertEqual(task.node.instance_info['boot_iso'], self.assertTrue('boot_iso' not in task.node.instance_info)"," i_info['ilo_boot_iso'] = url i_info['ilo_boot_iso'] = url instance_info['ilo_boot_iso'] = 'deploy-iso' instance_info['ilo_boot_iso'] = boot_iso instance_info['ilo_boot_iso'] = boot_iso instance_info['ilo_boot_iso'] = boot_iso ""instance_info['ilo_boot_iso']."", instance_info['ilo_boot_iso'] = ilo_boot_iso self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) task.node.instance_info['ilo_boot_iso']) 'ilo_boot_iso': 'boot-iso', instance_info['ilo_boot_iso'] = 'boot-iso' 'ilo_boot_iso': 'boot-iso', 'ilo_boot_iso': 'boot-iso', 'ilo_boot_iso': 'boot-iso', 'ilo_boot_iso': 'boot-iso', instance_info['ilo_boot_iso'] = 'boot-iso' instance_info['ilo_boot_iso'] = boot_iso instance_info['ilo_boot_iso'] = boot_iso instance_info['ilo_boot_iso'] = boot_iso ""instance_info['ilo_boot_iso']."", instance_info['ilo_boot_iso'] = ilo_boot_iso self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) self.assertNotIn('ilo_boot_iso', self.node.instance_info) self.node.instance_info['ilo_boot_iso']) self.assertEqual(task.node.instance_info['ilo_boot_iso'], self.assertTrue('ilo_boot_iso' not in task.node.instance_info)",90,68
openstack%2Fmanila~stable%2Fwallaby~I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,openstack/manila,stable/wallaby,I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3,Fix PDF build,MERGED,2021-06-14 19:37:43.000000000,2021-06-22 20:44:51.000000000,2021-06-22 20:42:32.000000000,"[{'_account_id': 6413}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-14 19:37:43.000000000', 'files': ['zuul.d/project.yaml', 'doc/source/configuration/shared-file-systems/samples/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/377fbc3acd3943440235eb79a8a2f6fe438f16ee', 'message': 'Fix PDF build\n\nWith newer sphinx the pdf build fails and gives the following error:\n\n! Dimension too large.\n\nThis could be memory issue, that can be fixed by not generating the\nsample_policy file as that can be large.\n\nThis patch also sets back the tox-docs job as voting.\n\nCloses-Bug: #1918707\nChange-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3\n(cherry picked from commit 4bfea794d74019eb5e6fa907ee26ff1fc71ce6b2)\n'}]",0,796224,377fbc3acd3943440235eb79a8a2f6fe438f16ee,13,4,1,16643,,,0,"Fix PDF build

With newer sphinx the pdf build fails and gives the following error:

! Dimension too large.

This could be memory issue, that can be fixed by not generating the
sample_policy file as that can be large.

This patch also sets back the tox-docs job as voting.

Closes-Bug: #1918707
Change-Id: I4f22fe7b45394045f672d5bbd3b46c4e5e4b2fd3
(cherry picked from commit 4bfea794d74019eb5e6fa907ee26ff1fc71ce6b2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/796224/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'doc/source/configuration/shared-file-systems/samples/sample_policy.rst']",2,377fbc3acd3943440235eb79a8a2f6fe438f16ee,bug/1918707,.. only:: html .. literalinclude:: ../../../_static/manila.policy.yaml.sample :language: ini .. only:: latex See the online version of this documentation for the sample file (``manila.policy.yaml.sample``).,.. literalinclude:: ../../../_static/manila.policy.yaml.sample :language: ini,9,8
openstack%2Fopenstack-ansible-os_tempest~master~Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa,openstack/openstack-ansible-os_tempest,master,Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa,Add tempest_test_extra_test variable,MERGED,2021-06-17 10:37:29.000000000,2021-06-22 20:41:50.000000000,2021-06-22 20:40:35.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-17 10:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/cc3726f6b80ac011e38aa0eef421cb0995cc0ee0', 'message': ""Create alternative tempest run command\n\nVery often we have jobs failing because the excluded tests match the\nincluded tests, making tempest fails. This doesn't means the whole build\nhave issues, only that tempest wasn't able to find tests to be executed.\nSince os_tempest is being used in other projects, and those projects do\nnot run all tempest tests due the resources, and very often the list of\nincluded and excluded matches, it's a good idea in those cases, to have\na test that will for sure be executed, so it won't block the gates due\nto a false failure.\n\nThis patch adds the tempest_test_alternative_test variable and create a\ntask that check if the list of tests to be executed is empty. If so, it\nwill execute the alternative tempest test, otherwise, the normal tempest\nrun will be executed as usual.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}, {'number': 2, 'created': '2021-06-17 13:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2147510a8c79a8db235a5ed162738a22c2abb6c5', 'message': ""Create alternative tempest run command\n\nVery often we have jobs failing because the excluded tests match the\nincluded tests, making tempest fails. This doesn't means the whole build\nhave issues, only that tempest wasn't able to find tests to be executed.\nSince os_tempest is being used in other projects, and those projects do\nnot run all tempest tests due the resources, and very often the list of\nincluded and excluded matches, it's a good idea in those cases, to have\na test that will for sure be executed, so it won't block the gates due\nto a false failure.\n\nThis patch adds the tempest_test_alternative_test variable and create a\ntask that check if the list of tests to be executed is empty. If so, it\nwill execute the alternative tempest test, otherwise, the normal tempest\nrun will be executed as usual.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}, {'number': 3, 'created': '2021-06-18 10:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e3bd0d30656199ad3b5a22eb455bb97c934cd49f', 'message': ""Add tempest_test_extra_test variable\n\nThis add a aditional test in the tempest_test_includelist. This is\nrequired right now as a workaround for tripleo jobs, while the\nimplementation of the includelist in openstack-tempest-skiplist tool.\nTripleo uses os_tempest to setup and run tempest, but it doesn't run all\ntempest tests. Sometimes, the list of excluded tests matches the list of\nincluded tests and so tempest fail with no tests to run. This\ntempest_test_extra_test will ensure that it will execute at least one\nkeystone api test to avoid this.\nRight now, the tempest_test_whitelist variable is parsed to ansible via\n-e command line, and so it's hard to overwrite it on tripleo side, and\nit's spreaded in several different jobs with several different set of\ntests. So, this is the best/easy way to fix this problem, while we work\non a long term solution.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}, {'number': 4, 'created': '2021-06-18 16:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c91b827595709bc6ae759b87817407fd1aa4c3da', 'message': ""Add tempest_test_extra_test variable\n\nThis add a aditional test in the tempest_test_includelist. This is\nrequired right now as a workaround for tripleo jobs, while the\nimplementation of the includelist in openstack-tempest-skiplist tool.\nTripleo uses os_tempest to setup and run tempest, but it doesn't run all\ntempest tests. Sometimes, the list of excluded tests matches the list of\nincluded tests and so tempest fail with no tests to run. This\ntempest_test_extra_test will ensure that it will execute at least one\nkeystone api test to avoid this.\nRight now, the tempest_test_whitelist variable is parsed to ansible via\n-e command line, and so it's hard to overwrite it on tripleo side, and\nit's spreaded in several different jobs with several different set of\ntests. So, this is the best/easy way to fix this problem, while we work\non a long term solution.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}, {'number': 5, 'created': '2021-06-21 09:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6c67e84dedc28ad6efef90c78f649decec1c927f', 'message': ""Add tempest_test_extra_test variable\n\nThis add a aditional test in the tempest_test_includelist. This is\nrequired right now as a workaround for tripleo jobs, while the\nimplementation of the includelist in openstack-tempest-skiplist tool.\nTripleo uses os_tempest to setup and run tempest, but it doesn't run all\ntempest tests. Sometimes, the list of excluded tests matches the list of\nincluded tests and so tempest fail with no tests to run. This\ntempest_test_extra_test will ensure that it will execute at least one\nkeystone api test to avoid this.\nRight now, the tempest_test_whitelist variable is parsed to ansible via\n-e command line, and so it's hard to overwrite it on tripleo side, and\nit's spreaded in several different jobs with several different set of\ntests. So, this is the best/easy way to fix this problem, while we work\non a long term solution.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}, {'number': 6, 'created': '2021-06-22 06:48:31.000000000', 'files': ['tasks/tempest_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/4c0fcc91c32ac864dec60d33ea380428b79838d2', 'message': ""Add tempest_test_extra_test variable\n\nThis add a aditional test in the tempest_test_includelist. This is\nrequired right now as a workaround for tripleo jobs, while the\nimplementation of the includelist in openstack-tempest-skiplist tool.\nTripleo uses os_tempest to setup and run tempest, but it doesn't run all\ntempest tests. Sometimes, the list of excluded tests matches the list of\nincluded tests and so tempest fail with no tests to run. This\ntempest_test_extra_test will ensure that it will execute at least one\nkeystone api test to avoid this.\nRight now, the tempest_test_whitelist variable is parsed to ansible via\n-e command line, and so it's hard to overwrite it on tripleo side, and\nit's spreaded in several different jobs with several different set of\ntests. So, this is the best/easy way to fix this problem, while we work\non a long term solution.\n\nChange-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa\n""}]",13,796818,4c0fcc91c32ac864dec60d33ea380428b79838d2,31,6,6,8367,,,0,"Add tempest_test_extra_test variable

This add a aditional test in the tempest_test_includelist. This is
required right now as a workaround for tripleo jobs, while the
implementation of the includelist in openstack-tempest-skiplist tool.
Tripleo uses os_tempest to setup and run tempest, but it doesn't run all
tempest tests. Sometimes, the list of excluded tests matches the list of
included tests and so tempest fail with no tests to run. This
tempest_test_extra_test will ensure that it will execute at least one
keystone api test to avoid this.
Right now, the tempest_test_whitelist variable is parsed to ansible via
-e command line, and so it's hard to overwrite it on tripleo side, and
it's spreaded in several different jobs with several different set of
tests. So, this is the best/easy way to fix this problem, while we work
on a long term solution.

Change-Id: Ic5f5b44d81ed39b1fa622b5a1d76e482c2aa23aa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/18/796818/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_run.yml', 'defaults/main.yml']",2,cc3726f6b80ac011e38aa0eef421cb0995cc0ee0,alternative-tests,"# Alternative test to be executed # Tempest fails if there is no test to be executed, this might be because the # excluded list have the same list of tests from the included list, so instead # of fail, we can run an alternative test here. Since it's impossible to have # an openstack deployment without keystone, the keystone api is a good # candidate. This can be a regex tempest_test_alternative_test: ""keystone_tempest_plugin.tests.api"" ",,59,18
openstack%2Fcharm-keystone~master~I110cc089fa7d51dfd513c630cb28cd49b330bf6f,openstack/charm-keystone,master,I110cc089fa7d51dfd513c630cb28cd49b330bf6f,Set WSGI env with lang=C.UTF-8,MERGED,2021-06-22 17:10:31.000000000,2021-06-22 20:39:48.000000000,2021-06-22 20:39:48.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 17:10:31.000000000', 'files': ['templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7e6647951d2408ceae10170f7c4597f593d68d58', 'message': 'Set WSGI env with lang=C.UTF-8\n\nThe default apache2 environment, and therefore the default WSGI\nenvironment, sets LANG=C. For languages beyond the scope of ASCII\nthis can create problems.\n\nExplicitly set the lang and locale to C.UTF-8 which will support all\nUTF-8 language sets.\n\nChange-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f\nCloses-Bug: #1933109\n'}]",0,797516,7e6647951d2408ceae10170f7c4597f593d68d58,8,3,1,20805,,,0,"Set WSGI env with lang=C.UTF-8

The default apache2 environment, and therefore the default WSGI
environment, sets LANG=C. For languages beyond the scope of ASCII
this can create problems.

Explicitly set the lang and locale to C.UTF-8 which will support all
UTF-8 language sets.

Change-Id: I110cc089fa7d51dfd513c630cb28cd49b330bf6f
Closes-Bug: #1933109
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/16/797516/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/wsgi-openstack-api.conf'],1,7e6647951d2408ceae10170f7c4597f593d68d58,bug/1933109, display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8 display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8 display-name=%{GROUP} lang=C.UTF-8 locale=C.UTF-8, display-name=%{GROUP} display-name=%{GROUP} display-name=%{GROUP},3,3
openstack%2Fpython-tripleoclient~master~Ic5c13adf7ef848af7e6f87c270a48876556024c9,openstack/python-tripleoclient,master,Ic5c13adf7ef848af7e6f87c270a48876556024c9,Drop mistralclient from requirements,MERGED,2021-06-15 19:41:20.000000000,2021-06-22 20:39:45.000000000,2021-06-22 20:38:16.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 19:41:20.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28722a7bd7106a798a660855d757f854f1193761', 'message': 'Drop mistralclient from requirements\n\nWe no longer leverage mistral.\n\nChange-Id: Ic5c13adf7ef848af7e6f87c270a48876556024c9\n'}]",0,796534,28722a7bd7106a798a660855d757f854f1193761,14,3,1,14985,,,0,"Drop mistralclient from requirements

We no longer leverage mistral.

Change-Id: Ic5c13adf7ef848af7e6f87c270a48876556024c9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/796534/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,28722a7bd7106a798a660855d757f854f1193761,drop-mistral,,"python-mistralclient!=3.2.0,>=3.1.0 # Apache-2.0",0,1
openstack%2Fpuppet-neutron~master~I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862,openstack/puppet-neutron,master,I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862,Warn about new default placement username next release,MERGED,2021-06-07 12:35:54.000000000,2021-06-22 20:37:33.000000000,2021-06-22 20:35:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 12:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2d359a28498d79c518611a6c5d0f24fccb5c9f95', 'message': 'Change default username from nova to neutron\n\nThe default username is faulty since this was\nprobably directly copied from nova.\n\nChange-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862\n'}, {'number': 2, 'created': '2021-06-07 12:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b15f83664c7f670661639a5e2541203e4c7c8e8e', 'message': 'Change default username from nova to placement\n\nThe default username is faulty since this was\nprobably directly copied from nova.\n\nChange-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862\n'}, {'number': 3, 'created': '2021-06-07 12:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/030bf5eabb9efc1c8149d0cf01ed235ff9b1ef17', 'message': 'Change default username from nova to placement\n\nThe default username is faulty since this was\nprobably directly copied from nova.\n\nChange-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862\n'}, {'number': 4, 'created': '2021-06-07 12:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8fb707bc76a459720743ed333255d846862813fd', 'message': 'Warn about new default placement username next release\n\nChange-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862\n'}, {'number': 5, 'created': '2021-06-07 14:47:47.000000000', 'files': ['manifests/server/placement.pp', 'releasenotes/notes/neutron-server-placement-username-default-value-change-f79f35e4b82ae992.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c7759349c33336d8080b5ca61beca982c3b93b63', 'message': 'Warn about new default placement username next release\n\nChange-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862\n'}]",1,795094,c7759349c33336d8080b5ca61beca982c3b93b63,18,3,5,16137,,,0,"Warn about new default placement username next release

Change-Id: I74ba02ce89d7ca2a2237a4f8aaa80c8b395dc862
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/94/795094/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_placement_spec.rb', 'manifests/server/placement.pp', 'releasenotes/notes/neutron-server-placement-username-default-value-change-f79f35e4b82ae992.yaml']",3,2d359a28498d79c518611a6c5d0f24fccb5c9f95,,--- upgrade: - | The default value of neutron::server::placement::username parameter has been changed from 'nova' to 'neutron'. ,,15,10
openstack%2Fpuppet-cinder~stable%2Fvictoria~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,stable/victoria,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-22 05:32:08.000000000,2021-06-22 20:25:24.000000000,2021-06-22 20:25:24.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 05:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f3fc6b589e66e060de73230b0d737ac8e99f09ea', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n""}, {'number': 2, 'created': '2021-06-22 13:41:45.000000000', 'files': ['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9ece2cff0ef9365ff0ee4599a37f010da877ad22', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n(cherry picked from commit fee24886422bf1dcdad64da33e022b01b0324fdb)\n""}]",0,797384,9ece2cff0ef9365ff0ee4599a37f010da877ad22,9,3,2,25600,,,0,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)
(cherry picked from commit fee24886422bf1dcdad64da33e022b01b0324fdb)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/84/797384/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb']",2,f3fc6b589e66e060de73230b0d737ac8e99f09ea,," :properties => ['key=value', 'new_key=a-new_value', 'multiattach=""<is> True""'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=a-new_value', '--property', 'multiattach=""<is> True""', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'a-new_value\', multiattach=\'<is> True\'"""," :properties => ['key=value', 'new_key=new_value', 'multiattach=""<is> True""'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=new_value', '--property', 'multiattach=""<is> True""', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'new_value\', multiattach=\'<is> True\'""",4,4
openstack%2Fpuppet-cinder~stable%2Fvictoria~If08fce9443281e65636aaaa99e3139732435f6f7,openstack/puppet-cinder,stable/victoria,If08fce9443281e65636aaaa99e3139732435f6f7,Improve cinder_type properties regex,MERGED,2021-06-22 05:32:08.000000000,2021-06-22 20:25:21.000000000,2021-06-22 20:25:21.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 05:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3263b3f5334296e20105d56a88ec4c06ffc887bf', 'message': 'Improve cinder_type properties regex\n\nThis changes the regex for properties managed with\nthe cinder_type resource so that it supports the\nformat Cinder needs for multiattach and similar.\n\n  multiattach=<is> True\n\nThis patch is needed so that cinder_type resources\ncan set the above.\n\nSee regex testing here [1]. Needs to be backported\nto older versions so that cinder_type can be\nproperly used there as well.\n\n[1] https://regexr.com/5imqk\n\nChange-Id: If08fce9443281e65636aaaa99e3139732435f6f7\n(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)\n'}, {'number': 2, 'created': '2021-06-22 13:40:31.000000000', 'files': ['lib/puppet/type/cinder_type.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5782fc7f2d64d981b328c896c305cda4018afe37', 'message': 'Improve cinder_type properties regex\n\nThis changes the regex for properties managed with\nthe cinder_type resource so that it supports the\nformat Cinder needs for multiattach and similar.\n\n  multiattach=<is> True\n\nThis patch is needed so that cinder_type resources\ncan set the above.\n\nSee regex testing here [1]. Needs to be backported\nto older versions so that cinder_type can be\nproperly used there as well.\n\n[1] https://regexr.com/5imqk\n\nChange-Id: If08fce9443281e65636aaaa99e3139732435f6f7\n(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)\n(cherry picked from commit a3976afb609c9ab19ea802205b7b15e0be37f0ec)\n'}]",2,797383,5782fc7f2d64d981b328c896c305cda4018afe37,12,4,2,25600,,,0,"Improve cinder_type properties regex

This changes the regex for properties managed with
the cinder_type resource so that it supports the
format Cinder needs for multiattach and similar.

  multiattach=<is> True

This patch is needed so that cinder_type resources
can set the above.

See regex testing here [1]. Needs to be backported
to older versions so that cinder_type can be
properly used there as well.

[1] https://regexr.com/5imqk

Change-Id: If08fce9443281e65636aaaa99e3139732435f6f7
(cherry picked from commit a032bec7d6a6016126f667361143e6630e159080)
(cherry picked from commit a3976afb609c9ab19ea802205b7b15e0be37f0ec)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/83/797383/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/cinder_type.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb']",2,3263b3f5334296e20105d56a88ec4c06ffc887bf,," :properties => ['key=value', 'new_key=new_value', 'multiattach=""<is> True""'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=new_value', '--property', 'multiattach=""<is> True""', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'new_value\', multiattach=\'<is> True\'"""," :properties => ['key=value', 'new_key=new_value'], .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=new_value', '--public', 'Backend_1'])properties=""key=\'value\', new_key=\'new_value\'""",4,4
openstack%2Fopenstack-helm~master~I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072,openstack/openstack-helm,master,I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072,fix(yaml): add end symbol,MERGED,2021-06-22 11:58:00.000000000,2021-06-22 20:18:07.000000000,2021-06-22 20:16:10.000000000,"[{'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-06-22 11:58:00.000000000', 'files': ['releasenotes/notes/magnum.yaml', 'releasenotes/notes/heat.yaml', 'releasenotes/notes/ironic.yaml', 'releasenotes/notes/aodh.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/panko.yaml', 'releasenotes/notes/rally.yaml', 'releasenotes/notes/tempest.yaml', 'releasenotes/notes/barbican.yaml', 'releasenotes/notes/ceilometer.yaml', 'releasenotes/notes/designate.yaml', 'releasenotes/notes/octavia.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/mistral.yaml', 'releasenotes/notes/senlin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33efbaeb27105319ffd8de007ab01897cd6a07b2', 'message': 'fix(yaml): add end symbol\n\nThis patch set fixes end symbol to update the yaml format specification.\n\nChange-Id: I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072\n'}]",0,797438,33efbaeb27105319ffd8de007ab01897cd6a07b2,9,4,1,30449,,,0,"fix(yaml): add end symbol

This patch set fixes end symbol to update the yaml format specification.

Change-Id: I4e3e0fe4e7afeedb78679a4d4dfa37f93f459072
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/797438/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/magnum.yaml', 'releasenotes/notes/heat.yaml', 'releasenotes/notes/ironic.yaml', 'releasenotes/notes/aodh.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/panko.yaml', 'releasenotes/notes/rally.yaml', 'releasenotes/notes/tempest.yaml', 'releasenotes/notes/barbican.yaml', 'releasenotes/notes/ceilometer.yaml', 'releasenotes/notes/designate.yaml', 'releasenotes/notes/octavia.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/mistral.yaml', 'releasenotes/notes/senlin.yaml']",16,33efbaeb27105319ffd8de007ab01897cd6a07b2,,...,,16,0
openstack%2Ftripleo-heat-templates~master~Ide14902e85aaaa8a6017326aaf789857c7a3dae5,openstack/tripleo-heat-templates,master,Ide14902e85aaaa8a6017326aaf789857c7a3dae5,Fix NetworkDeploymentActionValue format,MERGED,2021-06-22 12:22:54.000000000,2021-06-22 20:11:36.000000000,2021-06-22 20:11:36.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-22 12:22:54.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6118661f7e95ba8954f9a967e92811e4e098942', 'message': 'Fix NetworkDeploymentActionValue format\n\nThis should be a list, not a list of lists.\n\nCloses-bug: #1933228\nChange-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5\n'}]",0,797441,a6118661f7e95ba8954f9a967e92811e4e098942,9,6,1,23811,,,0,"Fix NetworkDeploymentActionValue format

This should be a list, not a list of lists.

Closes-bug: #1933228
Change-Id: Ide14902e85aaaa8a6017326aaf789857c7a3dae5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/797441/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,a6118661f7e95ba8954f9a967e92811e4e098942,bug/1933228, if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions}, - if: - {{role.name}}_network_deployment_actions_exists - {get_param: {{role.name}}NetworkDeploymentActions} - {get_param: NetworkDeploymentActions},4,4
openstack%2Fmanila-ui~stable%2Fvictoria~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/victoria,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 18:36:18.000000000,2021-06-22 20:10:09.000000000,2021-06-22 20:08:52.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-22 18:36:18.000000000', 'files': ['manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/bf820e10c742c3aff610665d7ec1b7c56a1fea9f', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)\n(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)\n'}]",0,797485,bf820e10c742c3aff610665d7ec1b7c56a1fea9f,10,3,1,16643,,,0,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
(cherry picked from commit f421aeb1e18664411cbb20420fe2c4847767573b)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/85/797485/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/share_groups/forms.py'],1,bf820e10c742c3aff610665d7ec1b7c56a1fea9f,bug/1931641, st_field_name = ( self.st_field_name_prefix + utils.transform_dashed_name(sgt.id) ), st_field_name = self.st_field_name_prefix + sgt.id,4,1
openstack%2Fneutron~master~Ibf4890985b6d07077d04f989eab833ae5b057200,openstack/neutron,master,Ibf4890985b6d07077d04f989eab833ae5b057200,Fix devstack path in plugin.sh,MERGED,2021-06-18 15:30:12.000000000,2021-06-22 19:59:11.000000000,2021-06-22 19:57:16.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 13692}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 15:30:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b5bc483aeadecd12e7f7ef81eae523910ff5716', 'message': 'Fix devstack path in plugin.sh\n\ndevstack is not necessarily cloned to ""$DEST/devstack""\n(""/opt/stack/devstack""), it can be run from any other directory.\n$TOP_DIR [1] should be used when referring to the devstack working dir.\n\n[1] https://opendev.org/openstack/devstack/src/commit/\\\n6af3cb9eb273c127c20bc07f65c9a5d7f8ba95cd/stack.sh#L73\n\nChange-Id: Ibf4890985b6d07077d04f989eab833ae5b057200\n'}]",3,797128,5b5bc483aeadecd12e7f7ef81eae523910ff5716,37,8,1,29244,,,0,"Fix devstack path in plugin.sh

devstack is not necessarily cloned to ""$DEST/devstack""
(""/opt/stack/devstack""), it can be run from any other directory.
$TOP_DIR [1] should be used when referring to the devstack working dir.

[1] https://opendev.org/openstack/devstack/src/commit/\
6af3cb9eb273c127c20bc07f65c9a5d7f8ba95cd/stack.sh#L73

Change-Id: Ibf4890985b6d07077d04f989eab833ae5b057200
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/797128/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5b5bc483aeadecd12e7f7ef81eae523910ff5716,,source $TOP_DIR/lib/neutron_plugins/ovs_source,source $DEST/devstack/lib/neutron_plugins/ovs_source,1,1
openstack%2Fmanila-ui~stable%2Ftrain~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/train,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-15 21:43:08.000000000,2021-06-22 19:48:47.000000000,2021-06-22 19:47:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-15 21:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/771d5bfd481458e5fe567b7ac29c6e4cf40b1e95', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the hare Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit d6e69d47fab26b095e0745920fab436a513bbe69)\n'}, {'number': 2, 'created': '2021-06-16 19:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/5b1a38505af7f5f8947dbe9d5abdbffbbaa725b1', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n'}, {'number': 3, 'created': '2021-06-18 22:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/088cb4fe0513eea05cb7498c951ba9a05b601c34', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)\n(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)\n(cherry picked from commit a97f5e67508b02c428c9adde3eee8fdcdacba58b)\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-06-19 00:31:55.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/902baefc33f3b783060b075331298b66adf77ac3', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nUnfortunately this isn\'t a clean cherry-pick since\nwe need to support users running manila-ui under\npython2 in this branch - and unicode wrangling\nisn\'t cleanly possible due to some assumptions\ndjango makes about field names in the forms code as\nwell as in tests.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)\n(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)\n(cherry picked from commit a97f5e67508b02c428c9adde3eee8fdcdacba58b)\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,796547,902baefc33f3b783060b075331298b66adf77ac3,16,4,4,16643,,,0,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Unfortunately this isn't a clean cherry-pick since
we need to support users running manila-ui under
python2 in this branch - and unicode wrangling
isn't cleanly possible due to some assumptions
django makes about field names in the forms code as
well as in tests.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)
(cherry picked from commit a97f5e67508b02c428c9adde3eee8fdcdacba58b)
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/47/796547/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py']",8,771d5bfd481458e5fe567b7ac29c6e4cf40b1e95,bug/1931641,"from manila_ui.dashboards import utils [("""", """")] + [(utils.transform_dashed_name(sgt.id), sgt.name) for sgt in share_group_types] ) ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (one available)""), ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (multiple available)""), share_group_type=utils.transform_dashed_name(data['sgt']),"," [("""", """")] + [(sgt.id, sgt.name) for sgt in share_group_types]) ""data-sgt-%s"" % sgt.id: _( ""Share Types (one available)""), ""data-sgt-%s"" % sgt.id: _( ""Share Types (multiple available)""), share_group_type=data['sgt'],",86,41
openstack%2Ftripleo-operator-ansible~master~I5e3e166f02b8825e23320d910e03bc7fddb519b0,openstack/tripleo-operator-ansible,master,I5e3e166f02b8825e23320d910e03bc7fddb519b0,Switch tripleo_deploy_standalone to false by default,MERGED,2020-09-23 20:57:33.000000000,2021-06-22 19:48:44.000000000,2021-06-22 19:48:44.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-23 20:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/163436a4919383dd60d69c383af85ece242418cc', 'message': 'Switch tripleo_deploy_standalone to false by default\n\nIn the victoria cycle, this option become deprecated and no longer needs\nto be provided. In older version a user will need to set it to true if\nthey wish to use the `openstack tripleo deploy` command.\n\nDepends-On: https://review.opendev.org/#/c/753852/\nChange-Id: I5e3e166f02b8825e23320d910e03bc7fddb519b0\n'}, {'number': 2, 'created': '2020-09-23 20:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/b55593a6296c1cb8012d37cfb63df83aa13e9c99', 'message': 'Switch tripleo_deploy_standalone to false by default\n\nIn the victoria cycle, this option become deprecated and no longer needs\nto be provided. In older version a user will need to set it to true if\nthey wish to use the `openstack tripleo deploy` command.\n\nDepends-On: https://review.opendev.org/#/c/753852/\nChange-Id: I5e3e166f02b8825e23320d910e03bc7fddb519b0\n'}, {'number': 3, 'created': '2021-05-25 13:34:03.000000000', 'files': ['playbooks/standalone.yml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'roles/tripleo_deploy/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/1dc91295186d74fa8c1d23b01da8189b20fce220', 'message': 'Switch tripleo_deploy_standalone to false by default\n\nIn the victoria cycle, this option become deprecated and no longer needs\nto be provided. In older version a user will need to set it to true if\nthey wish to use the `openstack tripleo deploy` command.\n\nDepends-On: https://review.opendev.org/#/c/753852/\nChange-Id: I5e3e166f02b8825e23320d910e03bc7fddb519b0\n'}]",0,753853,1dc91295186d74fa8c1d23b01da8189b20fce220,11,7,3,14985,,,0,"Switch tripleo_deploy_standalone to false by default

In the victoria cycle, this option become deprecated and no longer needs
to be provided. In older version a user will need to set it to true if
they wish to use the `openstack tripleo deploy` command.

Depends-On: https://review.opendev.org/#/c/753852/
Change-Id: I5e3e166f02b8825e23320d910e03bc7fddb519b0
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/53/753853/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/standalone.yml', 'roles/tripleo_deploy/defaults/main.yml', 'roles/tripleo_deploy/README.md', 'playbooks/test.yml', 'playbooks/environment.json', 'playbooks/inventory-rdo.yml', 'roles/tripleo_deploy/molecule/default/converge.yml']",7,163436a4919383dd60d69c383af85ece242418cc,standalone-cleanup," ""--stack standalone --standalone-role Standalone --timeout 90 "" tripleo_deploy_standalone: true - tripleo_deploy_output == ""tripleo deploy --standalone --stack test --local-ip 192.168.24.2/24"""," ""--standalone --stack standalone --standalone-role Standalone --timeout 90 "" tripleo_deploy_standalone: false - tripleo_deploy_output == ""tripleo deploy --stack test --local-ip 192.168.24.2/24""",88,6
openstack%2Fmanila-ui~stable%2Ftrain~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/train,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:39:07.000000000,2021-06-22 19:20:57.000000000,2021-06-22 19:19:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-15 21:39:07.000000000', 'files': ['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/76fe0c53286524dc1728efb2824450f510f5c07d', 'message': 'Remove nova networking\n\nThis is essentially dead code elimination\nfrom manila-ui at this point since manila\nand python-manilaclient dropped support\nin the Ocata release.\n\nChange-Id: I92e87282020047c7fad055cae92f2382c4193597\nPartially-implements: bp remove-nova-net-plugin\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)\n(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)\n(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)\n(cherry picked from commit 0dbfc479fd9a8441f7ae9554f65c96e2e588c071)\n'}]",0,796556,76fe0c53286524dc1728efb2824450f510f5c07d,12,3,1,16643,,,0,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)
(cherry picked from commit 0dbfc479fd9a8441f7ae9554f65c96e2e588c071)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/56/796556/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py']",6,76fe0c53286524dc1728efb2824450f510f5c07d,bp/remove-nova-net-plugin,,"from manila_ui.api import network else: share_net.nova_net = network.network_get( request, share_net.nova_net_id).name_or_id",9,28
openstack%2Fmanila~master~I59908509fc6714e6f0db1fdda27171a9390c4411,openstack/manila,master,I59908509fc6714e6f0db1fdda27171a9390c4411,Remove duplicate line in release note,MERGED,2021-06-22 11:24:39.000000000,2021-06-22 19:14:34.000000000,2021-06-22 19:13:07.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 11:24:39.000000000', 'files': ['releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/a4765cff1e09e46c31e7e91fd523441b7a6348b8', 'message': ""Remove duplicate line in release note\n\nGoutham noted in review [1] that there is a duplicate line in a recent\nrelease note, so let's remove it.\n\n[1] https://review.opendev.org/c/openstack/manila/+/745206/9/releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml@161\n\nChange-Id: I59908509fc6714e6f0db1fdda27171a9390c4411\n""}]",0,797430,a4765cff1e09e46c31e7e91fd523441b7a6348b8,12,3,1,9003,,,0,"Remove duplicate line in release note

Goutham noted in review [1] that there is a duplicate line in a recent
release note, so let's remove it.

[1] https://review.opendev.org/c/openstack/manila/+/745206/9/releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml@161

Change-Id: I59908509fc6714e6f0db1fdda27171a9390c4411
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/797430/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml'],1,a4765cff1e09e46c31e7e91fd523441b7a6348b8,,, - The ``cinder_cross_az_attach`` option can no longer be set in the [DEFAULT] section. Use ``cross_az_attach`` in the [CINDER] section instead.,0,2
openstack%2Fneutron~master~Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21,openstack/neutron,master,Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21,"Add ""nova:live_migration_events"" flag to subnode in multinode CI job",MERGED,2021-06-10 11:15:33.000000000,2021-06-22 19:06:03.000000000,2021-06-22 19:03:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-10 11:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3ae5b1d5ae51e5a76bc7b135f049bdc318afc89', 'message': 'Add ""nova:live_migration_events"" flag to subnode in multinode CI job\n\nAdded ""nova:live_migration_events"" flag to subnode neutron.conf file in\n""neutron-tempest-multinode-full-py3"" CI job. That flag was missing in\nthe patch implementing this feature [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/766277\n\nChange-Id: Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21\nRelated-Bug: #1901707\n'}, {'number': 2, 'created': '2021-06-10 12:48:50.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48af145d95dcc50897b504a8bbff44c3906a112b', 'message': 'Add ""nova:live_migration_events"" flag to subnode in multinode CI job\n\nAdded ""nova:live_migration_events"" flag to subnode neutron.conf file in\n""neutron-tempest-multinode-full-py3"" CI job. That flag was missing in\nthe patch implementing this feature [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/766277\n\nChange-Id: Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21\nRelated-Bug: #1901707\n'}]",2,795761,48af145d95dcc50897b504a8bbff44c3906a112b,35,4,2,16688,,,0,"Add ""nova:live_migration_events"" flag to subnode in multinode CI job

Added ""nova:live_migration_events"" flag to subnode neutron.conf file in
""neutron-tempest-multinode-full-py3"" CI job. That flag was missing in
the patch implementing this feature [1].

[1]https://review.opendev.org/c/openstack/neutron/+/766277

Change-Id: Idc938a1dc9de3ad77f558df4f4fb4ae5c3de3d21
Related-Bug: #1901707
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/795761/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,a3ae5b1d5ae51e5a76bc7b135f049bdc318afc89,bug/1901707, nova: live_migration_events: True,,2,0
openstack%2Fdevstack~master~I88254c6e22b52585506ee4907c1c03b8d4f2dac7,openstack/devstack,master,I88254c6e22b52585506ee4907c1c03b8d4f2dac7,os_vif: Add support for configuring os_vif_ovs plugin,MERGED,2021-06-17 11:54:19.000000000,2021-06-22 19:06:00.000000000,2021-06-22 19:03:33.000000000,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-17 11:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cd59b7a675c5a36fef9d2a924195512fed652415', 'message': 'add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new\nvariables OS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929466\nwhich cause the nova and neutron agents to periodically\nblock waithing for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to adress bug #1734320\nwhen using ml2/ovs vif isolation should always be used\nto prevent cross tenant traffic during a live migration.\nthis makes devstack more closely mirror reality by enabling\nit when ml2/ovs is used and disabling it otherwise.\n\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\n'}, {'number': 2, 'created': '2021-06-17 12:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a63580462addfe7968edd8baf7e0847beecd1e5b', 'message': 'add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new\nvariables OS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446\nwhich cause the nova and neutron agents to periodically\nblock waithing for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to adress bug #1734320\nwhen using ml2/ovs vif isolation should always be used\nto prevent cross tenant traffic during a live migration.\nthis makes devstack more closely mirror reality by enabling\nit when ml2/ovs is used and disabling it otherwise.\n\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\n'}, {'number': 3, 'created': '2021-06-17 12:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/19e7b6267b56ded1ab7183af38ec5ffb6ac9b10d', 'message': 'add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new\nvariables OS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446\nwhich cause the nova and neutron agents to periodically\nblock waithing for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to adress bug #1734320\nwhen using ml2/ovs vif isolation should always be used\nto prevent cross tenant traffic during a live migration.\nthis makes devstack more closely mirror reality by enabling\nit when ml2/ovs is used and disabling it otherwise.\n\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\n'}, {'number': 4, 'created': '2021-06-17 12:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a4d4c59a74d4ce998ee76d7b58b2178ccd5d1e18', 'message': 'add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new\nvariables OS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446\nwhich cause the nova and neutron agents to periodically\nblock waithing for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to adress bug #1734320\nwhen using ml2/ovs vif isolation should always be used\nto prevent cross tenant traffic during a live migration.\nthis makes devstack more closely mirror reality by enabling\nit when ml2/ovs is used and disabling it otherwise.\n\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\n'}, {'number': 5, 'created': '2021-06-17 12:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a709eb7491a097c7adee06160ad20899fbbd1289', 'message': 'add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new\nvariables OS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446\nwhich cause the nova and neutron agents to periodically\nblock waithing for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to adress bug #1734320\nwhen using ml2/ovs vif isolation should always be used\nto prevent cross tenant traffic during a live migration.\nthis makes devstack more closely mirror reality by enabling\nit when ml2/ovs is used and disabling it otherwise.\n\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\n'}, {'number': 6, 'created': '2021-06-18 08:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c7afe5c961a75bbb0cdba1e2bc7de5920709182', 'message': 'os_vif: Add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new variables\nOS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446 which cause the nova\nand neutron agents to periodically block waiting for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using\nml2/ovs vif isolation should always be used to prevent cross tenant\ntraffic during a live migration.  This makes devstack more closely\nmirror reality by enabling it when ml2/ovs is used and disabling it\notherwise.\n\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\n'}, {'number': 7, 'created': '2021-06-18 13:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3f63885da3817399d29a3c9004f2eec54160ec41', 'message': 'os_vif: Add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new variables\nOS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446 which cause the nova\nand neutron agents to periodically block waiting for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using\nml2/ovs vif isolation should always be used to prevent cross tenant\ntraffic during a live migration.  This makes devstack more closely\nmirror reality by enabling it when ml2/ovs is used and disabling it\notherwise.\n\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\n'}, {'number': 8, 'created': '2021-06-18 14:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/68cd84b69a98df17ce53bee056325c2ef44dbf6c', 'message': 'os_vif: Add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new variables\nOS_VIF_OVS_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446 which cause the nova\nand neutron agents to periodically block waiting for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using\nml2/ovs vif isolation should always be used to prevent cross tenant\ntraffic during a live migration.  This makes devstack more closely\nmirror reality by enabling it when ml2/ovs is used and disabling it\notherwise.\n\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\n'}, {'number': 9, 'created': '2021-06-18 14:05:43.000000000', 'files': ['lib/os-vif', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5344885a61fe39565692014c15e0b4fb1055c835', 'message': 'os_vif: Add support for configuring os_vif_ovs plugin\n\nThis change add an os-vif lib that declares two new variables\nOS_VIF_OVS_OVSDB_INTERFACE and OS_VIF_OVS_ISOLATE_VIF\n\nThe former is introduced to workaround bug #1929446 which cause the nova\nand neutron agents to periodically block waiting for ovs to respond.\n\nOS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using\nml2/ovs vif isolation should always be used to prevent cross tenant\ntraffic during a live migration.  This makes devstack more closely\nmirror reality by enabling it when ml2/ovs is used and disabling it\notherwise.\n\nRelated-Bug: #1734320\nRelated-Bug: #1929446\nRelated-Bug: #1912310\nChange-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7\n'}]",12,796826,5344885a61fe39565692014c15e0b4fb1055c835,39,6,9,11604,,,0,"os_vif: Add support for configuring os_vif_ovs plugin

This change add an os-vif lib that declares two new variables
OS_VIF_OVS_OVSDB_INTERFACE and OS_VIF_OVS_ISOLATE_VIF

The former is introduced to workaround bug #1929446 which cause the nova
and neutron agents to periodically block waiting for ovs to respond.

OS_VIF_OVS_ISOLATE_VIF is added to address bug #1734320 when using
ml2/ovs vif isolation should always be used to prevent cross tenant
traffic during a live migration.  This makes devstack more closely
mirror reality by enabling it when ml2/ovs is used and disabling it
otherwise.

Related-Bug: #1734320
Related-Bug: #1929446
Related-Bug: #1912310
Change-Id: I88254c6e22b52585506ee4907c1c03b8d4f2dac7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/796826/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/os-vif', 'stack.sh']",2,cd59b7a675c5a36fef9d2a924195512fed652415,bug/1929446,source $TOP_DIR/lib/os-vifif is_service_enabled nova neutron; then configure_os_vif fi ,,31,1
openstack%2Fmanila-ui~stable%2Fwallaby~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,stable/wallaby,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-22 16:32:16.000000000,2021-06-22 18:51:31.000000000,2021-06-22 18:50:08.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-22 16:32:16.000000000', 'files': ['manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/f421aeb1e18664411cbb20420fe2c4847767573b', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)\n'}]",0,797483,f421aeb1e18664411cbb20420fe2c4847767573b,10,3,1,16643,,,0,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 803ab32358eec94804a3b630786f8cf6b0795cbd)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/83/797483/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/share_groups/forms.py'],1,f421aeb1e18664411cbb20420fe2c4847767573b,bug/1931641, st_field_name = ( self.st_field_name_prefix + utils.transform_dashed_name(sgt.id) ), st_field_name = self.st_field_name_prefix + sgt.id,4,1
openstack%2Fmanila-ui~stable%2Fussuri~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/ussuri,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:37:17.000000000,2021-06-22 18:49:46.000000000,2021-06-22 18:47:51.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-18 21:37:17.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/a97f5e67508b02c428c9adde3eee8fdcdacba58b', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)\n(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)\n'}]",0,797164,a97f5e67508b02c428c9adde3eee8fdcdacba58b,9,3,1,16643,,,0,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
(cherry picked from commit 6ad8fd882afe8c7ad2f0c45a26920db824c45db5)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/64/797164/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py']",8,a97f5e67508b02c428c9adde3eee8fdcdacba58b,bug/1931641,"from manila_ui.dashboards import utils [("""", """")] + [(utils.transform_dashed_name(sgt.id), sgt.name) for sgt in share_group_types] ) ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (one available)""), ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (multiple available)""), share_group_type=utils.transform_dashed_name(data['sgt']),"," [("""", """")] + [(sgt.id, sgt.name) for sgt in share_group_types]) ""data-sgt-%s"" % sgt.id: _( ""Share Types (one available)""), ""data-sgt-%s"" % sgt.id: _( ""Share Types (multiple available)""), share_group_type=data['sgt'],",87,41
openstack%2Ftripleo-common~master~Ifb2d5dd58e9c703702864f2c152f26a685b0980f,openstack/tripleo-common,master,Ifb2d5dd58e9c703702864f2c152f26a685b0980f,Make sure Heat Ephemeral has images prepared,MERGED,2021-06-16 09:38:48.000000000,2021-06-22 18:38:32.000000000,2021-06-22 18:37:09.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 09:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c96060aa6446afaef271290550e815453c7c6601', 'message': 'Make sure Heat Ephemeral has images prepared\n\nAdd extra Heat Ephemeral service that only ensures the required\ncontainer images are prepared.\n\nChange-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-06-17 13:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1aaef5ecc84d6d08495aaa0c0a9f87499c35414', 'message': 'Make sure Heat Ephemeral has images prepared\n\nAdd extra Heat Ephemeral service that only ensures the required\ncontainer images are prepared.\n\nChange-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-06-21 08:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef129126d2c1ac775e25549f34b94ceaca7d609c', 'message': 'Make sure Heat Ephemeral has images prepared\n\nAdd extra Heat Ephemeral service that only ensures the required\ncontainer images are prepared.\n\nChange-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-06-21 16:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2681afd8189c9a26532f35c0f97ef2ea9ddc057b', 'message': 'Make sure Heat Ephemeral has images prepared\n\nAdd extra Heat Ephemeral service that only ensures the required\ncontainer images are prepared.\n\nChange-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}, {'number': 5, 'created': '2021-06-21 16:37:57.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc4e256b22a2f7635180f86dc12fae764c5b2f5c', 'message': 'Make sure Heat Ephemeral has images prepared\n\nAdd extra Heat Ephemeral service that only ensures the required\ncontainer images are prepared.\n\nChange-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\n'}]",6,796614,fc4e256b22a2f7635180f86dc12fae764c5b2f5c,41,6,5,6926,,,0,"Make sure Heat Ephemeral has images prepared

Add extra Heat Ephemeral service that only ensures the required
container images are prepared.

Change-Id: Ifb2d5dd58e9c703702864f2c152f26a685b0980f
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/796614/3 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,c96060aa6446afaef271290550e815453c7c6601,prep_images_output, params: - ContainerHeatAllImage services: - OS::TripleO::Services::HeatEphemeral - OS::TripleO::Services::HeatEphemeral - OS::TripleO::Services::HeatEphemeral,,6,0
openstack%2Ftripleo-ansible~master~I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,openstack/tripleo-ansible,master,I371fbb5d3489c70e2bd4e3473faaa3e65f591d63,"Container manage module, attempt 2",MERGED,2021-06-17 15:52:49.000000000,2021-06-22 18:34:42.000000000,2021-06-22 18:32:27.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-17 15:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e9e068814355b944725f93990f6127590040996', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis patch includes code to wait until the container launches or\nfinishes, which ever occurs first.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 2, 'created': '2021-06-17 16:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c304bba7e0143067076e3f9e32b63f70a031f1d6', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis patch includes code to wait until the container launches or\nfinishes, which ever occurs first.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 3, 'created': '2021-06-17 17:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ced8179c8a6222628a26eca2dd15383b309a4861', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis patch includes code to wait until the container launches or\nfinishes, which ever occurs first.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 4, 'created': '2021-06-17 18:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/989793b00f65422381c978e843610493033bf5a2', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.  This fix was to change state\nfrom present to started which matches what used to occur in the\ntripleo_container_manage role.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 5, 'created': '2021-06-18 19:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaea006143a7201fd55a38e4274956fcaf5957cc', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis changed the default state from created to started which matches\nwhat used to occur in the tripleo_container_manage role. Additionally\nan additional check was added to an exec to ensure the target container\nis up before running the exec. We will sleep for 5 seconds and check\nagain if the container is not running.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 6, 'created': '2021-06-19 04:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d54deac77a61ace3a0bfba85fc5d0f5ffaf2ae95', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis changed the default state from created to started which matches\nwhat used to occur in the tripleo_container_manage role. Additionally\nan additional check was added to an exec to ensure the target container\nis up before running the exec. We will sleep for 5 seconds and check\nagain if the container is not running.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}, {'number': 7, 'created': '2021-06-21 15:43:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72f42e0f3b870d435ce9083480dd189e163ef1c9', 'message': 'Container manage module, attempt 2\n\nUse a module to manage podman containers rather than the async task\nloops.  This change also includes fixes for container-puppet json data\nto match the expectations of the module.\n\nThis changed the default state from created to started which matches\nwhat used to occur in the tripleo_container_manage role. Additionally\nan additional check was added to an exec to ensure the target container\nis up before running the exec. We will sleep for 5 seconds and check\nagain if the container is not running.\n\nChange-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63\n'}]",2,796884,72f42e0f3b870d435ce9083480dd189e163ef1c9,27,5,7,14985,,,0,"Container manage module, attempt 2

Use a module to manage podman containers rather than the async task
loops.  This change also includes fixes for container-puppet json data
to match the expectations of the module.

This changed the default state from created to started which matches
what used to occur in the tripleo_container_manage role. Additionally
an additional check was added to an exec to ensure the target container
is up before running the exec. We will sleep for 5 seconds and check
again if the container is not running.

Change-Id: I371fbb5d3489c70e2bd4e3473faaa3e65f591d63
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/796884/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/ansible_plugins/modules/container_puppet_config.py']",4,7e9e068814355b944725f93990f6127590040996,," 'security_opt': ['label=disable'], # container-puppet shouldn't detach 'detach': False, cdata['net'] = ['host'] cdata['net'] = ['none']"," 'security_opt': 'label=disable', cdata['net'] = 'host' cdata['net'] = 'none'",405,11
openstack%2Fmanila-ui~stable%2Fussuri~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/ussuri,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:38:18.000000000,2021-06-22 18:32:49.000000000,2021-06-22 18:31:19.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-15 21:38:18.000000000', 'files': ['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/0dbfc479fd9a8441f7ae9554f65c96e2e588c071', 'message': 'Remove nova networking\n\nThis is essentially dead code elimination\nfrom manila-ui at this point since manila\nand python-manilaclient dropped support\nin the Ocata release.\n\nChange-Id: I92e87282020047c7fad055cae92f2382c4193597\nPartially-implements: bp remove-nova-net-plugin\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)\n(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)\n(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)\n'}]",0,796555,0dbfc479fd9a8441f7ae9554f65c96e2e588c071,14,3,1,16643,,,0,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
(cherry picked from commit 7a311bac44ecc0980747b94f28c4dea15dc467a7)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/55/796555/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py']",6,0dbfc479fd9a8441f7ae9554f65c96e2e588c071,bp/remove-nova-net-plugin,,"from manila_ui.api import network else: share_net.nova_net = network.network_get( request, share_net.nova_net_id).name_or_id",9,28
openstack%2Fpuppet-openstack-cookiecutter~master~Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162,openstack/puppet-openstack-cookiecutter,master,Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162,Get rid of the $pyvers variable,MERGED,2021-06-09 14:19:18.000000000,2021-06-22 18:24:18.000000000,2021-06-22 18:24:18.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 14:19:18.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/ab2f1456a8a2da12f9ede9b38712f830d1250e59', 'message': ""Get rid of the $pyvers variable\n\nSince everyone has switched to Python3, it's time for the removal of the\n$pyvers variable.\n\nChange-Id: Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162\n""}]",0,795552,ab2f1456a8a2da12f9ede9b38712f830d1250e59,9,3,1,6476,,,0,"Get rid of the $pyvers variable

Since everyone has switched to Python3, it's time for the removal of the
$pyvers variable.

Change-Id: Ia4f93833bba9a11ba74e5d2000cee1a2a88f4162
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/52/795552/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-{{cookiecutter.project_name}}/manifests/params.pp'],1,ab2f1456a8a2da12f9ede9b38712f830d1250e59,pyvers-removal,, $pyvers = $::openstacklib::defaults::pyvers,0,1
openstack%2Fneutron~stable%2Fussuri~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,stable/ussuri,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-06-18 07:37:03.000000000,2021-06-22 17:56:18.000000000,2021-06-22 17:54:38.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:37:03.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a23accea9b912d844ff937123d2ece022698edf6', 'message': 'Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread does not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nConflicts:\n    neutron/agent/l3/keepalived_state_change.py\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)\n'}]",0,796998,a23accea9b912d844ff937123d2ece022698edf6,42,3,1,11975,,,0,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Conflicts:
    neutron/agent/l3/keepalived_state_change.py

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/796998/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py']",2,a23accea9b912d844ff937123d2ece022698edf6,bug/1917793-stable/ussuri,"from neutron.common import utils as common_utilsINITIAL_STATE_READ_TIMEOUT = 10 self._initial_state = None @property def initial_state(self): return self._initial_state @initial_state.setter def initial_state(self, state): if not self._initial_state: LOG.debug('Initial status of router %s is %s', self.router_id, state) self._initial_state = state def run(self): self._thread_initial_state = threading.Thread( target=self.handle_initial_state) self._thread_initial_state.start() # NOTE(ralonsoh): if the initial status is not read in a defined # timeout, ""backup"" state is set. self._thread_initial_state.join(timeout=INITIAL_STATE_READ_TIMEOUT) if not self.initial_state: LOG.warning('Timeout reading the initial status of router %s, ' 'state is set to ""backup"".', self.router_id) self.write_state_change('backup') self.notify_agent('backup') cidr = common_utils.ip_to_cidr(self.cidr) # NOTE(ralonsoh): ""get_devices_with_ip"" without passing an IP # address performs one single pyroute2 command. Because the number # of interfaces in the namespace is reduced, this is faster. for address in ip_lib.get_devices_with_ip(self.namespace): if (address['name'] == self.interface and address['cidr'] == cidr): if not self.initial_state: self.write_state_change(state) self.notify_agent(state) except Exception: if not self.initial_state: LOG.exception('Failed to get initial status of router %s', self.router_id) self.initial_state = state"," def run(self): self.handle_initial_state() ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: LOG.debug('Initial status of router %s is %s', self.router_id, state) self.write_state_change(state) self.notify_agent(state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id)",60,10
openstack%2Fkolla~stable%2Fussuri~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/ussuri,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 16:27:09.000000000,2021-06-22 17:47:04.000000000,2021-06-22 17:22:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-06-21 16:27:09.000000000', 'files': ['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f7556324fd3850d3e63320fdd2d4086055fc9c87', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)\n""}]",0,797301,f7556324fd3850d3e63320fdd2d4086055fc9c87,20,4,1,14826,,,0,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/797301/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml']",2,f7556324fd3850d3e63320fdd2d4086055fc9c87,bug/1928408-stable/ussuri,"--- fixes: - | Fixes location of monitoring_policy in Horizon, so access policy is correctly enforced. Note that by current default, admin doesn't not have Monitoring access. `LP#1928408 <https://launchpad.net/bugs/1928408>`__ ",,8,1
openstack%2Fmanila-ui~stable%2Fvictoria~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,stable/victoria,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-18 21:34:08.000000000,2021-06-22 17:46:19.000000000,2021-06-22 17:44:50.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-18 21:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/042037e77755e2b9f9780de2b66afc723f7d4152', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n'}, {'number': 2, 'created': '2021-06-18 21:34:54.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/6ad8fd882afe8c7ad2f0c45a26920db824c45db5', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)\n(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)\n'}]",0,797163,6ad8fd882afe8c7ad2f0c45a26920db824c45db5,9,3,2,16643,,,0,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 37e5b2f0530c9fe8117cea0dac95577b912bdecc)
(cherry picked from commit b7d87e886a1d71e02034b7dde9b96be3beabdb6a)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/63/797163/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py']",8,042037e77755e2b9f9780de2b66afc723f7d4152,bug/1931641,"from manila_ui.dashboards import utils [("""", """")] + [(utils.transform_dashed_name(sgt.id), sgt.name) for sgt in share_group_types] ) ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (one available)""), ""data-sgt-%s"" % utils.transform_dashed_name( sgt.id): _(""Share Types (multiple available)""), share_group_type=utils.transform_dashed_name(data['sgt']),"," [("""", """")] + [(sgt.id, sgt.name) for sgt in share_group_types]) ""data-sgt-%s"" % sgt.id: _( ""Share Types (one available)""), ""data-sgt-%s"" % sgt.id: _( ""Share Types (multiple available)""), share_group_type=data['sgt'],",87,41
openstack%2Fmanila-ui~stable%2Fvictoria~I92e87282020047c7fad055cae92f2382c4193597,openstack/manila-ui,stable/victoria,I92e87282020047c7fad055cae92f2382c4193597,Remove nova networking,MERGED,2021-06-15 21:37:04.000000000,2021-06-22 17:42:47.000000000,2021-06-22 17:41:02.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-06-15 21:37:04.000000000', 'files': ['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7a311bac44ecc0980747b94f28c4dea15dc467a7', 'message': 'Remove nova networking\n\nThis is essentially dead code elimination\nfrom manila-ui at this point since manila\nand python-manilaclient dropped support\nin the Ocata release.\n\nChange-Id: I92e87282020047c7fad055cae92f2382c4193597\nPartially-implements: bp remove-nova-net-plugin\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)\n(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)\n'}]",0,796554,7a311bac44ecc0980747b94f28c4dea15dc467a7,12,3,1,16643,,,0,"Remove nova networking

This is essentially dead code elimination
from manila-ui at this point since manila
and python-manilaclient dropped support
in the Ocata release.

Change-Id: I92e87282020047c7fad055cae92f2382c4193597
Partially-implements: bp remove-nova-net-plugin
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 4edb837a1b5492b14b05d00236337525bdcde686)
(cherry picked from commit 85137cf757d848a51d82f78f770fb507532279ee)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/54/796554/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/project/share_networks/views.py', 'manila_ui/dashboards/project/share_networks/templates/share_networks/_detail.html', 'releasenotes/notes/remove-nova-net-plugin-4fdc0d944d93644f.yaml', 'manila_ui/dashboards/admin/share_networks/templates/share_networks/_detail.html', 'manila_ui/dashboards/project/share_networks/tables.py']",6,7a311bac44ecc0980747b94f28c4dea15dc467a7,bp/remove-nova-net-plugin,,"from manila_ui.api import network else: share_net.nova_net = network.network_get( request, share_net.nova_net_id).name_or_id",9,28
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I27edf0834849c4a37cd07c8bdb69041ad5e41a99,openstack/tripleo-heat-templates,stable/train,I27edf0834849c4a37cd07c8bdb69041ad5e41a99,[ffwd] Introduce hybrid mode for ovs neutron agent,MERGED,2021-06-08 08:03:20.000000000,2021-06-22 17:37:17.000000000,2021-06-22 17:37:17.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-08 08:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/687d35ac0d1964b0735de6b1cd64c5c3bd06cf60', 'message': 'WIP [ffwd] Introduce hybrid mode for ovs neutron agent\n\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 2, 'created': '2021-06-09 15:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53f167a8a3b6199fa9f5362b1c789b11b39e6226', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 3, 'created': '2021-06-11 12:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c694e51a1b20353dc9ed8454fd0201f227c49e68', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 4, 'created': '2021-06-14 09:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f1951ce7499ca461774f94a7faafec9698365ce', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 5, 'created': '2021-06-15 10:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56891abd3eac0309c36b4c9e35844cc45e9d1e44', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nTo resolve incompatibility between RHEL8 iptables which\nare nft based and RHEL7 iptables we simply mount the\nrequired bits from host operating system.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 6, 'created': '2021-06-17 13:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8549aa3666354ed9ceb8fd0103eb6dea8ecff5cc', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nTo resolve incompatibility between RHEL8 iptables which\nare nft based and RHEL7 iptables we simply mount the\nrequired bits from host operating system.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 7, 'created': '2021-06-18 16:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d7c26a19fcb9acb8610ebacf662da540eda110f', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nTo resolve incompatibility between RHEL8 iptables which\nare nft based and RHEL7 iptables we simply mount the\nrequired bits from host operating system.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 8, 'created': '2021-06-18 17:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/70f0237efe8ef28422d4abc4fd41e0a1242d2252', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nTo resolve incompatibility between RHEL8 iptables which\nare nft based and RHEL7 iptables we simply mount the\nrequired bits from host operating system.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}, {'number': 9, 'created': '2021-06-21 09:50:46.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c572df8a9c3106c47451220e981d63aa54e9706', 'message': '[ffwd] Introduce hybrid mode for ovs neutron agent\n\nFor livemigration to work during ffwd we need also the\novs neutron agent to be bumped to train version during\nthe hybrid more.\n\nTo resolve incompatibility between RHEL8 iptables which\nare nft based and RHEL7 iptables we simply mount the\nrequired bits from host operating system.\n\nResolves: rhbz#1956787\nChange-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99\n'}]",8,795252,1c572df8a9c3106c47451220e981d63aa54e9706,39,8,9,11166,,,0,"[ffwd] Introduce hybrid mode for ovs neutron agent

For livemigration to work during ffwd we need also the
ovs neutron agent to be bumped to train version during
the hybrid more.

To resolve incompatibility between RHEL8 iptables which
are nft based and RHEL7 iptables we simply mount the
required bits from host operating system.

Resolves: rhbz#1956787
Change-Id: I27edf0834849c4a37cd07c8bdb69041ad5e41a99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/795252/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,687d35ac0d1964b0735de6b1cd64c5c3bd06cf60,hybrid_state_for_ovs," upgrade_tasks: # nova_hybrid_state - name: Gather missing facts setup: gather_subset: ""distribution"" when: >- ansible_facts['distribution'] is not defined or ansible_facts['distribution_major_version'] is not defined tags: - never - nova_hybrid_state - name: Switch ovs-agent to hybrid state vars: neutron_ovs_image: {get_param: ContainerOpenvswitchImage} tags: - never - nova_hybrid_state when: - step|int == 0 - ansible_facts['distribution'] == 'RedHat' - ansible_facts['distribution_major_version'] is version('7', '==') block: - name: Check if neutron_ovs is running with proper image shell: | docker ps | grep ""{{neutron_ovs_image}}"" failed_when: false register: hybrid_neutron_ovs - name: Implement the hybrid state for neutron_ovs_agent when: hybrid_neutron_ovs != 0 block: - name: Update the neutron_ovs_agent paunch image in config shell: | set -o pipefail jq '.neutron_ovs_agent.image = ""{{ neutron_ovs_image }}"" | {""neutron_ovs_agent"": .neutron_ovs_agent }' \ /var/lib/tripleo-config/docker-container-startup-config-step_4.json >\ /var/lib/tripleo-config/docker-container-hybrid_neutron_ovs.json - name: Make sure the Undercloud hostname is included in /etc/hosts when: - undercloud_hosts_entries is defined lineinfile: dest: /etc/hosts line: ""{{ undercloud_hosts_entries | join('') }}"" state: present - name: Set container_registry_insecure_registries fact. set_fact: container_registry_insecure_registries: if: - insecure_registry_is_empty - [] - {get_param: DockerInsecureRegistryAddress} - name: Set container_registry_insecure registries when: container_registry_insecure_registries != [] ini_file: path: /etc/containers/registries.conf section: registries.insecure option: registries value: ""{{ container_registry_insecure_registries }}"" register: ini_read_result - name: Restart docker when: - container_registry_insecure_registries != [] - ini_read_result is changed service: name: docker state: restarted - name: Remove neutron_ovs_agent container before applying new paunch config docker_container: name: neutron_ovs_agent state: absent # Finally apply the paunch config to start the new nova_compute - name: Apply paunch config for neutron_ovs shell: | paunch apply --file /var/lib/tripleo-config/docker-container-hybrid_neutron_ovs.json --config-id hybrid_neutron_ovs ",,74,0
openstack%2Fneutron~stable%2Fussuri~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/ussuri,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-17 13:05:56.000000000,2021-06-22 17:29:55.000000000,2021-06-22 17:27:22.000000000,"[{'_account_id': 9816}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:05:56.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07a31397ff1d2b435cff9150884c296604f783c7', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)\n'}]",0,796853,07a31397ff1d2b435cff9150884c296604f783c7,41,4,1,11975,,,0,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/796853/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml']",7,07a31397ff1d2b435cff9150884c296604f783c7,bug/1926693-stable/wallaby-stable/victoria-stable/ussuri,"--- fixes: - | The new ``resource_provider_defualt_hypervisor`` option has been added, to replace the default hypervisor name to locates the root resource provider without giving a complete list of interfaces or bridges in the ``resource_provider_hypervisors`` option. This option is located in the ``[ovs]`` ini-section for ``ovs-agent`` and ``[sriov_nic]`` ini-section for ``sriov-agent``. ",,55,11
openstack%2Foslo.privsep~master~Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0,openstack/oslo.privsep,master,Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0,Allow finer grained log levels,MERGED,2021-03-31 13:13:22.000000000,2021-06-22 17:24:58.000000000,2021-06-22 17:22:35.000000000,"[{'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 13:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/f9a608072449920b9eea0223fe6eb1073470269d', 'message': ""Allow finer grained log levels\n\nCurrently all privsep calls use the same logging level as they use the\n``oslo_privsep.daemon`` logger.\n\nThis creates a problem for services like nova where they don't want to\nlog its own privsep debug messages by default (even in debug mode) but\nthey do want them for os-brick privsep calls.\n\nThis patch introduces a new boolean parameter to ``PrivContext`` called\n``use_prefix_logger`` to control whether to use ``oslo_privsep.daemon``\nor the value provided in the context's ``prefix`` for the logger name.\n\nRelated-Bug: #1922052\nChange-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0\n""}, {'number': 2, 'created': '2021-03-31 16:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/57b3c40d86c333e8126c33de2048d886701c9bc4', 'message': ""Allow finer grained log levels\n\nCurrently all privsep calls use the same logging level as they use the\n``oslo_privsep.daemon`` logger.\n\nThis creates a problem for services like nova where we don't want to\nlog its own privsep debug messages by default (even in debug mode) but\nwe want them for os-brick privsep calls.\n\nThis patch introduces a new string parameter to ``PrivContext`` called\n``logger_name`` to control the name of the logger to use, which defaults\nto ``oslo_privsep.daemon``.\n\nRelated-Bug: #1922052\nChange-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0\n""}, {'number': 3, 'created': '2021-04-21 15:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/f40a26b8c3fdc3fe15c56debf130b3de1a2a166b', 'message': ""Allow finer grained log levels\n\nCurrently all privsep calls use the same logging level as they use the\n``oslo_privsep.daemon`` logger.\n\nThis creates a problem for services like nova where we don't want to\nlog its own privsep debug messages by default (even in debug mode) but\nwe want them for os-brick privsep calls.\n\nThis patch introduces a new string parameter to ``PrivContext`` called\n``logger_name`` to control the name of the logger to use, which defaults\nto ``oslo_privsep.daemon``.\n\nRelated-Bug: #1922052\nChange-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0\n""}, {'number': 4, 'created': '2021-04-21 15:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/7ec4ec018a1d4ffda18b67f0377ad68d0de3fe07', 'message': ""Allow finer grained log levels\n\nCurrently all privsep calls use the same logging level as they use the\n``oslo_privsep.daemon`` logger.\n\nThis creates a problem for services like nova where we don't want to\nlog its own privsep debug messages by default (even in debug mode) but\nwe want them for os-brick privsep calls.\n\nThis patch introduces a new string parameter to ``PrivContext`` called\n``logger_name`` to control the name of the logger to use, which defaults\nto ``oslo_privsep.daemon``.\n\nRelated-Bug: #1922052\nChange-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0\n""}, {'number': 5, 'created': '2021-05-10 17:18:30.000000000', 'files': ['oslo_privsep/tests/test_daemon.py', 'oslo_privsep/daemon.py', 'releasenotes/notes/context-logger-06b475357bebadc7.yaml', 'oslo_privsep/priv_context.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/71c732c8337309b3dc1b5a1957255da617d8dc3f', 'message': ""Allow finer grained log levels\n\nCurrently all privsep calls use the same logging level as they use the\n``oslo_privsep.daemon`` logger.\n\nThis creates a problem for services like nova where we don't want to\nlog its own privsep debug messages by default (even in debug mode) but\nwe want them for os-brick privsep calls.\n\nThis patch introduces a new string parameter to ``PrivContext`` called\n``logger_name`` to control the name of the logger to use, which defaults\nto ``oslo_privsep.daemon``.\n\nRelated-Bug: #1922052\nChange-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0\n""}]",5,784098,71c732c8337309b3dc1b5a1957255da617d8dc3f,21,4,5,9535,,,0,"Allow finer grained log levels

Currently all privsep calls use the same logging level as they use the
``oslo_privsep.daemon`` logger.

This creates a problem for services like nova where we don't want to
log its own privsep debug messages by default (even in debug mode) but
we want them for os-brick privsep calls.

This patch introduces a new string parameter to ``PrivContext`` called
``logger_name`` to control the name of the logger to use, which defaults
to ``oslo_privsep.daemon``.

Related-Bug: #1922052
Change-Id: Ie7cc25ed53563dd500f7b10ff43a48518d46a2e0
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/98/784098/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/daemon.py', 'oslo_privsep/tests/test_daemon.py', 'releasenotes/notes/context-logger-06b475357bebadc7.yaml', 'oslo_privsep/priv_context.py']",4,f9a608072449920b9eea0223fe6eb1073470269d,context-logging," cfg.BoolOpt('use_prefix_logger', help=_('Set to true to use the context prefix for the logger ' 'name instead of oslo_privsep.daemon, allowing finer ' 'grained log level control.'), default=False), capabilities=None, use_prefix_logger=False): cfg.CONF.set_default('use_prefix_logger', group=cfg_section, default=use_prefix_logger)", capabilities=None):,78,15
openstack%2Fmanila-ui~master~I0983359acc489513a5a0940ac379e0a078870548,openstack/manila-ui,master,I0983359acc489513a5a0940ac379e0a078870548,Fix share group creation with share types,MERGED,2021-06-21 21:59:10.000000000,2021-06-22 17:20:58.000000000,2021-06-22 17:19:27.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-21 21:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b934922da779955f6dd1a9ea7f2dc18d49329022', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-06-21 22:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/add4b21b7ef0168a49a33fb401472bdbeda0c362', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-06-21 23:12:38.000000000', 'files': ['manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/803ab32358eec94804a3b630786f8cf6b0795cbd', 'message': 'Fix share group creation with share types\n\nA recent change [1] introduced an encoding for\nproblematic field names. On the share group\ncreation form, an encoding was missed causing\na silent failure where the share type/s chosen\nwere ignored in the API request.\n\n[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc\nChange-Id: I0983359acc489513a5a0940ac379e0a078870548\nPartial-Bug: #1931641\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,797354,803ab32358eec94804a3b630786f8cf6b0795cbd,12,4,3,16643,,,0,"Fix share group creation with share types

A recent change [1] introduced an encoding for
problematic field names. On the share group
creation form, an encoding was missed causing
a silent failure where the share type/s chosen
were ignored in the API request.

[1] 37e5b2f0530c9fe8117cea0dac95577b912bdecc
Change-Id: I0983359acc489513a5a0940ac379e0a078870548
Partial-Bug: #1931641
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/54/797354/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_ui/dashboards/project/share_groups/forms.py'],1,b934922da779955f6dd1a9ea7f2dc18d49329022,bug/1931641, st_field_name = ( self.st_field_name_prefix + utils.transform_dashed_name(sgt.id) ), st_field_name = self.st_field_name_prefix + sgt.id,4,1
openstack%2Fcinder~master~I5135a48326f5f7adb0a380b55993660b8b38ce27,openstack/cinder,master,I5135a48326f5f7adb0a380b55993660b8b38ce27,[Pure Storage] Ensure multiattach volumes are not disconnected early,MERGED,2021-06-03 19:18:06.000000000,2021-06-22 17:18:30.000000000,2021-06-19 15:16:07.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-03 19:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/769a5802d7857434d11ebf6a1d1464d1941592c5', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}, {'number': 2, 'created': '2021-06-03 20:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5a70c1b4e3e3c2f6b9f3fe5fc05ce28221966c4', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}, {'number': 3, 'created': '2021-06-03 20:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66c24a606a21d7a5d2123706e8da73d18571e01f', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}, {'number': 4, 'created': '2021-06-03 21:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/605013fd944492980f739c468841fdcb612f027e', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}, {'number': 5, 'created': '2021-06-03 22:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1910d5414572aba14d8cd499fd43851d1ebe98a8', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}, {'number': 6, 'created': '2021-06-03 23:04:51.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_storage_multiattach-f4aee3576757b2ff.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c5511f84378e99afabb4c61f2c8330294310707', 'message': '[Pure Storage] Ensure multiattach volumes are not disconnected early\n\nChange-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27\nCloses-Bug: #1930748\n'}]",2,794669,0c5511f84378e99afabb4c61f2c8330294310707,75,5,6,13425,,,0,"[Pure Storage] Ensure multiattach volumes are not disconnected early

Change-Id: I5135a48326f5f7adb0a380b55993660b8b38ce27
Closes-Bug: #1930748
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/794669/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure_storage_multiattach-f4aee3576757b2ff.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py']",3,769a5802d7857434d11ebf6a1d1464d1941592c5,bug/1930748," vol.volume_attachment = None is_multiattach=False, remove_remote_hosts=False), is_multiattach=False, remove_remote_hosts=False)"," remove_remote_hosts=False), remove_remote_hosts=False)",50,11
openstack%2Fneutron~stable%2Ftrain~Ic64fb0926c52408c7199c728ff88348b979d2f93,openstack/neutron,stable/train,Ic64fb0926c52408c7199c728ff88348b979d2f93,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:38:09.000000000,2021-06-22 17:15:59.000000000,2021-06-22 17:07:32.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-15 13:38:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d5fb07e7fa029b9b3326ce4ddefc787169ec4ad', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Ic64fb0926c52408c7199c728ff88348b979d2f93\n'}]",0,796472,5d5fb07e7fa029b9b3326ce4ddefc787169ec4ad,15,4,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ic64fb0926c52408c7199c728ff88348b979d2f93
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/796472/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5d5fb07e7fa029b9b3326ce4ddefc787169ec4ad,clean-non-voting-jobs, - neutron-tempest-iptables_hybrid - neutron-grenade - neutron-tempest-slow-py3: - neutron-tempest-dvr-ha-multinode-full - tempest-multinode-full-py3: voting: false irrelevant-files: *tempest-irrelevant-files - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: irrelevant-files: *tempest-irrelevant-files voting: false - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false, - tempest-multinode-full-py3: voting: false # We don't run the job on things like neutron docs-only changes - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - neutron-grenade - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - neutron-tempest-slow-py3 - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false - neutron-functional-with-uwsgi: voting: false - neutron-fullstack-with-uwsgi: voting: false - neutron-tempest-with-uwsgi: voting: false,21,22
openstack%2Fnova~master~Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,openstack/nova,master,Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b,Fix max cpu topologies with numa affinity,MERGED,2021-01-06 19:51:05.000000000,2021-06-22 17:14:08.000000000,2021-06-22 17:08:30.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 19:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9297bb7cba77f574a85433a738075b9dbbf330e9', 'message': '[WIP] fix max cpu topologies with numa affinity\n\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n'}, {'number': 2, 'created': '2021-01-07 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a23c3288e49145449bb17d563c3fcf4102eecf7', 'message': 'fix max cpu topologies with numa affinity\n\nNova has never supported specifying per numa node\ncpu toplogies. logically the  cpu toplogy of a guest\nis independent of its numa toplogy and there is no\nway to model different cpu toplogyies per numa node\nor implement that in hardware.\n\nThe presence of the code in nova that allowed the generation\nof these invalid configuratoin has now been removed as it\nbroke the automatic selection of cpu topologies based\non hw:max_[cpus|sockets|threads] flavor and image properties.\n\nThis change removed the incorrect code and related unit\ntests with assert nova could generate invalid topologies.\n\nCloses-Bug: #1910466\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n'}, {'number': 3, 'created': '2021-03-25 20:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60ba21abcc91fb99d14d75b45ef82b728204c19a', 'message': 'Fix max cpu topologies with numa affinity\n\nNova has never supported specifying per numa node\ncpu toplogies. Logically the  cpu toplogy of a guest\nis independent of its numa toplogy and there is no\nway to model different cpu toplogies per numa node\nor implement that in hardware.\n\nThe presence of the code in nova that allowed the generation\nof these invalid configuration has now been removed as it\nbroke the automatic selection of cpu topologies based\non hw:max_[cpus|sockets|threads] flavor and image properties.\n\nThis change removed the incorrect code and related unit\ntests with assert nova could generate invalid topologies.\n\nCloses-Bug: #1910466\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n'}, {'number': 4, 'created': '2021-03-31 00:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72607057953f8ea2388f325de0a2e1dfb7872233', 'message': 'Fix max cpu topologies with numa affinity\n\nNova has never supported specifying per numa node\ncpu toplogies. Logically the  cpu toplogy of a guest\nis independent of its numa toplogy and there is no\nway to model different cpu toplogies per numa node\nor implement that in hardware.\n\nThe presence of the code in nova that allowed the generation\nof these invalid configuration has now been removed as it\nbroke the automatic selection of cpu topologies based\non hw:max_[cpus|sockets|threads] flavor and image properties.\n\nThis change removed the incorrect code and related unit\ntests with assert nova could generate invalid topologies.\n\nCloses-Bug: #1910466\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n'}, {'number': 5, 'created': '2021-06-18 11:34:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_hardware.py', 'releasenotes/notes/bug-1910466-max-vcpu-topologies-with-numa-9a9ceb1b0fc7c33d.yaml', 'nova/virt/hardware.py', 'nova/objects/instance_numa.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/387823b36d091abbaa37efb930fc98b94a5bbb93', 'message': 'Fix max cpu topologies with numa affinity\n\nNova has never supported specifying per numa node\ncpu toplogies. Logically the  cpu toplogy of a guest\nis independent of its numa toplogy and there is no\nway to model different cpu toplogies per numa node\nor implement that in hardware.\n\nThe presence of the code in nova that allowed the generation\nof these invalid configuration has now been removed as it\nbroke the automatic selection of cpu topologies based\non hw:max_[cpus|sockets|threads] flavor and image properties.\n\nThis change removed the incorrect code and related unit\ntests with assert nova could generate invalid topologies.\n\nCloses-Bug: #1910466\nChange-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b\n'}]",115,769614,387823b36d091abbaa37efb930fc98b94a5bbb93,59,5,5,11604,,,0,"Fix max cpu topologies with numa affinity

Nova has never supported specifying per numa node
cpu toplogies. Logically the  cpu toplogy of a guest
is independent of its numa toplogy and there is no
way to model different cpu toplogies per numa node
or implement that in hardware.

The presence of the code in nova that allowed the generation
of these invalid configuration has now been removed as it
broke the automatic selection of cpu topologies based
on hw:max_[cpus|sockets|threads] flavor and image properties.

This change removed the incorrect code and related unit
tests with assert nova could generate invalid topologies.

Closes-Bug: #1910466
Change-Id: Ia81a0fdbd950b51dbcc70c65ba492549a224ce2b
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/769614/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,9297bb7cba77f574a85433a738075b9dbbf330e9,bug/1910466, sockets = flavor_sockets or max_sockets cores = flavor_cores or max_cores threads = flavor_threads or max_threads else: sockets = image_sockets or max_sockets cores = image_cores or max_cores threads = image_threads or max_threads # cell_topologies = [cell.cpu_topology for cell in numa_topology.cells # if ('cpu_topology' in cell and cell.cpu_topology)] # if cell_topologies: # min_requested_threads = min( # topo.threads for topo in cell_topologies), sockets = flavor_sockets cores = flavor_cores threads = flavor_threads else: sockets = image_sockets cores = image_cores threads = image_threads cell_topologies = [cell.cpu_topology for cell in numa_topology.cells if ('cpu_topology' in cell and cell.cpu_topology)] if cell_topologies: min_requested_threads = min( topo.threads for topo in cell_topologies),11,11
openstack%2Fneutron~stable%2Ftrain~I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,openstack/neutron,stable/train,I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1,Added common config and SR-IOV agent config to sanity check,MERGED,2021-06-11 14:52:40.000000000,2021-06-22 17:13:49.000000000,2021-06-22 17:07:13.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-11 14:52:40.000000000', 'files': ['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbbceca72417d6cdda17719f064c6b14e02f3712', 'message': 'Added common config and SR-IOV agent config to sanity check\n\nAdded common config and SR-IOV agent config parameters to the sanity\ncheck script, to add the following missing configuration parameters:\n- default.notify_nova_on_port_status_changes\n- default.notify_nova_on_port_data_changes\n- sriov_nic.physical_device_mappings\n\nChange-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1\nCloses-Bug: #1926170\n(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)\n'}]",0,796029,cbbceca72417d6cdda17719f064c6b14e02f3712,57,3,1,16688,,,0,"Added common config and SR-IOV agent config to sanity check

Added common config and SR-IOV agent config parameters to the sanity
check script, to add the following missing configuration parameters:
- default.notify_nova_on_port_status_changes
- default.notify_nova_on_port_data_changes
- sriov_nic.physical_device_mappings

Change-Id: I2a5e1fe3dbc6f2f342feaec92f4c122cfccce6d1
Closes-Bug: #1926170
(cherry picked from commit 28cd6c82e9a0dbf908eb4ece54085a975c2fe5d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/796029/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/cmd/test_sanity_check.py', 'neutron/cmd/sanity_check.py']",2,cbbceca72417d6cdda17719f064c6b14e02f3712,bug/1926170,from neutron.conf import common as common_configfrom neutron.conf.plugins.ml2.drivers.mech_sriov import agent_common as \ sriov_conf sriov_conf.register_agent_sriov_nic_opts(cfg.CONF) common_config.register_core_common_config_opts(cfg.CONF),,12,4
openstack%2Fovn-octavia-provider~master~I0955ce35a1f48f114a06337b1a55540865f9a7cd,openstack/ovn-octavia-provider,master,I0955ce35a1f48f114a06337b1a55540865f9a7cd,Fix functional jobs due to OVS file removal,MERGED,2021-06-17 02:54:48.000000000,2021-06-22 17:13:45.000000000,2021-06-22 17:10:53.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 02:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/80b951480077e557f8b0e95843d9c6eb0bfbf1c8', 'message': 'Fix functional jobs due to OVS file removal\n\nThe neutron file devstack/lib/ovs was removed in\nhttps://review.opendev.org/c/openstack/neutron in favor\nof using the devstack in-tree version at\nlib/neutron_plugins/ovs_source.  Start using it to\nun-break the functional jobs.\n\nChange-Id: I0955ce35a1f48f114a06337b1a55540865f9a7cd\n'}, {'number': 2, 'created': '2021-06-17 03:14:48.000000000', 'files': ['roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e7f5ab99e3b54b8fb328ef7a9927ae5088b62d09', 'message': 'Fix functional jobs due to OVS file removal\n\nThe neutron file devstack/lib/ovs was removed in\nhttps://review.opendev.org/c/openstack/neutron/+/793470\nin favor of using the devstack in-tree version at\nlib/neutron_plugins/ovs_source.  Start using it to\nun-break the functional jobs.\n\nChange-Id: I0955ce35a1f48f114a06337b1a55540865f9a7cd\n'}]",0,796747,e7f5ab99e3b54b8fb328ef7a9927ae5088b62d09,55,5,2,1131,,,0,"Fix functional jobs due to OVS file removal

The neutron file devstack/lib/ovs was removed in
https://review.opendev.org/c/openstack/neutron/+/793470
in favor of using the devstack in-tree version at
lib/neutron_plugins/ovs_source.  Start using it to
un-break the functional jobs.

Change-Id: I0955ce35a1f48f114a06337b1a55540865f9a7cd
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/47/796747/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/configure_functional_tests/tasks/main.yaml'],1,80b951480077e557f8b0e95843d9c6eb0bfbf1c8,fix-functional-jobs, source $DEVSTACK_PATH/lib/neutron_plugins/ovs_source, source $NEUTRON_DIR/devstack/lib/ovs,1,1
openstack%2Fneutron~stable%2Fstein~I1355984870bd13ab1c734b27f24a53b6863fad92,openstack/neutron,stable/stein,I1355984870bd13ab1c734b27f24a53b6863fad92,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:59:02.000000000,2021-06-22 17:04:31.000000000,2021-06-22 17:02:00.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 13:59:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f300ebff0899c97cfd6d735205a7d863ffeea4d0', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I1355984870bd13ab1c734b27f24a53b6863fad92\n'}]",0,796483,f300ebff0899c97cfd6d735205a7d863ffeea4d0,14,3,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I1355984870bd13ab1c734b27f24a53b6863fad92
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/796483/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f300ebff0899c97cfd6d735205a7d863ffeea4d0,clean-non-voting-jobs-stable/stein, - neutron-tempest-iptables_hybrid - neutron-grenade - tempest-full: timeout: 10800 - neutron-tempest-dvr-ha-multinode-full - tempest-multinode-full-py3: voting: false irrelevant-files: *tempest-irrelevant-files - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - networking-ovn-tempest-dsvm-ovs-release: voting: false irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false, - tempest-multinode-full-py3: voting: false - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - neutron-grenade - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *tempest-irrelevant-files - tempest-full: timeout: 10800 irrelevant-files: *tempest-irrelevant-files - networking-ovn-tempest-dsvm-ovs-release: voting: false irrelevant-files: *tempest-irrelevant-files - openstacksdk-functional-devstack-networking: voting: false,16,16
openstack%2Ftripleo-ansible~master~I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,openstack/tripleo-ansible,master,I70ecd7a57f45d03722fa17f0ddf61b2167f705d0,"Update manila mon, mgr and osd caps for Wallaby+",MERGED,2021-06-17 09:01:44.000000000,2021-06-22 16:42:55.000000000,2021-06-22 16:42:55.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-17 09:01:44.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/471067a2f84992523e01fd620b1233a9c3411dbc', 'message': 'Update manila mon, mgr and osd caps for Wallaby+\n\nAs described in [1], manila needs a different caps set\nto interact with a ceph cluster. This patch just fixes\nthe mon, mgr and osd caps section to reflect the new\nrequirements.\n\n[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html\n\nChange-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0\n'}]",2,796801,471067a2f84992523e01fd620b1233a9c3411dbc,12,7,1,25402,,,0,"Update manila mon, mgr and osd caps for Wallaby+

As described in [1], manila needs a different caps set
to interact with a ceph cluster. This patch just fixes
the mon, mgr and osd caps section to reflect the new
requirements.

[1] https://docs.openstack.org/manila/latest/admin/cephfs_driver.html

Change-Id: I70ecd7a57f45d03722fa17f0ddf61b2167f705d0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/796801/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/build_keys.yml'],1,471067a2f84992523e01fd620b1233a9c3411dbc,manila_ceph_caps," manila_caps: {""mgr"": ""allow rw"", ""mon"": ""allow r"", ""osd"": ""allow rw pool {{ manila_pools.data }}""}"," manila_caps: {""mgr"": ""allow *"", ""mon"": ""allow r, allow command 'auth del', allow command 'auth caps', allow command 'auth get', allow command 'auth get-or-create'"", ""mds"": ""allow *"", ""osd"": ""allow rw""}",1,2
openstack%2Ftripleo-heat-templates~master~I7e22dbe287bf9c93438717c08a3ceb1998445b93,openstack/tripleo-heat-templates,master,I7e22dbe287bf9c93438717c08a3ceb1998445b93,Do not run Swift rsync container in single replica mode,MERGED,2021-06-17 09:18:59.000000000,2021-06-22 16:42:46.000000000,2021-06-22 16:42:46.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-06-17 09:18:59.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91f06efb3a899176a376861cac3e0456e185f351', 'message': 'Do not run Swift rsync container in single replica mode\n\nWhen Swift is running in single replica mode, rsync is pretty much\nuseless - there is no counterpart to transfer data.\n\nOn the undercloud this also prevents misleading error messages if\nxinetd is running and already using port 873.\n\nChange-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93\n'}]",0,796807,91f06efb3a899176a376861cac3e0456e185f351,15,7,1,6968,,,0,"Do not run Swift rsync container in single replica mode

When Swift is running in single replica mode, rsync is pretty much
useless - there is no counterpart to transfer data.

On the undercloud this also prevents misleading error messages if
xinetd is running and already using port 873.

Change-Id: I7e22dbe287bf9c93438717c08a3ceb1998445b93
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/796807/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,91f06efb3a899176a376861cac3e0456e185f351,," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env"," swift_rsync: image: *swift_object_image net: host user: root restart: always healthcheck: test: /openstack/healthcheck privileged: false cap_add: - NET_BIND_SERVICE volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/kolla/config_files/swift_rsync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/swift:/var/lib/kolla/config_files/src:ro - /srv/node:/srv/node - /dev:/dev - /var/log/containers/swift:/var/log/swift:z # /var/cache/swift not needed in this container environment: *kolla_env",21,21
openstack%2Fopenstack-virtual-baremetal~master~I3728bb8589a82fea71f54505c6f7c17e79d8378e,openstack/openstack-virtual-baremetal,master,I3728bb8589a82fea71f54505c6f7c17e79d8378e,"build-nodes-json - use ports by default, mac is deprecated",MERGED,2021-06-22 15:40:48.000000000,2021-06-22 16:34:44.000000000,2021-06-22 16:34:44.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 15:40:48.000000000', 'files': ['openstack_virtual_baremetal/build_nodes_json.py', 'openstack_virtual_baremetal/tests/test_build_nodes_json.py'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/23914fab1a057d177452703defd7595048f8f336', 'message': 'build-nodes-json - use ports by default, mac is deprecated\n\nThe mac field in TripleO nodes JSON has been deprecated\nsince Rocky. Let\'s switch to use the \'ports\' field by\ndefault.\n\nAdd the argument \'--use-mac\' to allow the user to choose\nto use the legacy ""mac"" field.\n\nChange-Id: I3728bb8589a82fea71f54505c6f7c17e79d8378e\n'}]",0,797502,23914fab1a057d177452703defd7595048f8f336,7,3,1,24245,,,0,"build-nodes-json - use ports by default, mac is deprecated

The mac field in TripleO nodes JSON has been deprecated
since Rocky. Let's switch to use the 'ports' field by
default.

Add the argument '--use-mac' to allow the user to choose
to use the legacy ""mac"" field.

Change-Id: I3728bb8589a82fea71f54505c6f7c17e79d8378e
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/02/797502/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_virtual_baremetal/build_nodes_json.py', 'openstack_virtual_baremetal/tests/test_build_nodes_json.py']",2,23914fab1a057d177452703defd7595048f8f336,remove-deprecated-macs-field," 'ports': [{'address': 'aa:aa:aa:aa:aa:aa'}], 'ports': [{'address': 'aa:aa:aa:aa:aa:ab'}], '--physical_network', '--use-mac' self.assertTrue(args.use_mac) args.use_mac = False args.use_mac = False args.use_mac = False def test_build_nodes_use_mac(self, mock_make_client): args.physical_network = False args.use_mac = True del expected_nodes[0]['ports'] del expected_nodes[1]['ports'] expected_nodes[0]['mac'] = [TEST_NODES[0]['ports'][0]['address']] expected_nodes[1]['mac'] = [TEST_NODES[1]['ports'][0]['address']] self.assertEqual(expected_nodes, nodes) self.assertEqual(1, len(extra_nodes)) self.assertEqual('undercloud', extra_nodes[0]['name']) self.assertEqual( '2.1.1.1', network_details['bm_0']['ips']['provision'][0]['addr']) self.assertEqual( '2.1.1.2', network_details['bm_1']['ips']['provision'][0]['addr']) @mock.patch('os_client_config.make_client') def test_build_nodes_with_physnet(self, mock_make_client): args = mock.Mock() args.physical_network = True args.use_mac = False args.driver = 'pxe_ipmitool' args.id = False bmc_ports = [{'fixed_ips': [{'ip_address': '1.1.1.1'}]}, {'fixed_ips': [{'ip_address': '1.1.1.2'}]} ] bm_ports = [{'device_id': '1', 'id': 'port_id_server1'}, {'device_id': '2', 'id': 'port_id_server2'}] provision_net_map = {'port_id_server1': 'provision', 'port_id_server2': 'provision', 'port_id_server3': 'provision', } nova = mock.Mock() servers = [mock.Mock(), mock.Mock(), mock.Mock()] self._create_build_nodes_mocks(nova, servers) servers[1].image = None mock_to_dict = {'os-extended-volumes:volumes_attached': [{'id': 'v0lume'}]} servers[1].to_dict.return_value = mock_to_dict mock_cinder = mock.Mock() mock_make_client.return_value = mock_cinder mock_vol = mock.Mock() mock_vol.size = 100 mock_cinder.volumes.get.return_value = mock_vol servers[2].name = 'undercloud' servers[2].flavor = {'id': '1'} servers[2].addresses = {'provision': [{'OS-EXT-IPS-MAC:mac_addr': 'aa:aa:aa:aa:aa:ac'}]} servers[2].image = {'id': 'f00'} nova.servers.list.return_value = [servers[2]] ips_return_val = 'ips call value' nova.servers.ips.return_value = ips_return_val glance = mock.Mock() (nodes, extra_nodes, network_details) = build_nodes_json._build_nodes( nova, glance, bmc_ports, bm_ports, provision_net_map, 'bm', 'undercloud', args) expected_nodes = copy.deepcopy(TEST_NODES) expected_nodes[1]['disk'] = 100 expected_nodes[0]['ports'][0]['physical_network'] = 'provision' expected_nodes[1]['ports'][0]['physical_network'] = 'provision' args.use_mac = False expected_nodes[0]['ports'][0]['physical_network'] = 'ctlplane' expected_nodes[1]['ports'][0]['physical_network'] = 'ctlplane'"," 'mac': ['aa:aa:aa:aa:aa:aa'], 'mac': ['aa:aa:aa:aa:aa:ab'], '--physical_network', def test_build_nodes_with_physnet(self, mock_make_client): args.physical_network = True node0_mac = expected_nodes[0].pop('mac') node1_mac = expected_nodes[1].pop('mac') expected_nodes[0]['ports'] = [{'address': node0_mac[0], 'physical_network': 'provision'}] expected_nodes[1]['ports'] = [{'address': node1_mac[0], 'physical_network': 'provision'}] node0_mac = expected_nodes[0].pop('mac') node1_mac = expected_nodes[1].pop('mac') expected_nodes[0]['ports'] = [{'address': node0_mac[0], 'physical_network': 'ctlplane'}] expected_nodes[1]['ports'] = [{'address': node1_mac[0], 'physical_network': 'ctlplane'}]",85,29
openstack%2Frally-openstack~master~Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8,openstack/rally-openstack,master,Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8,Fix neutron job,MERGED,2021-06-17 15:24:14.000000000,2021-06-22 16:22:48.000000000,2021-06-22 16:22:48.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 15:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/08660bdad72b67f6d0de086955c3230c30021653', 'message': '[DNM] Fix neutron job\n\nChange-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8\n'}, {'number': 2, 'created': '2021-06-17 16:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b9e117bf22e4b2b2729ed415e4e09182272ba9de', 'message': '[DNM] Fix neutron job\n\nChange-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8\n'}, {'number': 3, 'created': '2021-06-18 05:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/dedc6029cd64d60bff35ae3784d6e98995aed94e', 'message': 'Fix neutron job\n\nChange-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8\n'}, {'number': 4, 'created': '2021-06-22 10:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/733e1783b1f50d254124654759545e4fd22ac7ab', 'message': 'Fix neutron job\n\n+ temporary mark cinder job as non-voting\n\nChange-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8\n'}, {'number': 5, 'created': '2021-06-22 13:08:52.000000000', 'files': ['.zuul.d/zuul.yaml', '.zuul.d/rally-task-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ee4964e1a5d56bf6a30b8962e16ff06939afacc2', 'message': 'Fix neutron job\n\n+ temporary mark cinder job as non-voting\n\nChange-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8\n'}]",0,796878,ee4964e1a5d56bf6a30b8962e16ff06939afacc2,17,2,5,9545,,,0,"Fix neutron job

+ temporary mark cinder job as non-voting

Change-Id: Ia5f965e81f903178c24e2ba00bbf8b89fb4be8b8
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/78/796878/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/zuul.yaml', '.zuul.d/rally-task-neutron.yaml']",2,08660bdad72b67f6d0de086955c3230c30021653,fix_ci," devstack_localrc: Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge Q_AGENT: openvswitch devstack_services: neutron-trunk: true # Cinder services c-api: false c-bak: false c-sch: false c-vol: false cinder: false # Swift services s-account: false s-container: false s-object: false s-proxy: false # OVN services ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true q-svc: true",,32,76
openstack%2Foslo.limit~master~I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9,openstack/oslo.limit,master,I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9,Allow configuration per service and region name,NEW,2020-05-11 19:07:47.000000000,2021-06-22 16:07:31.000000000,,"[{'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 28595}]","[{'number': 1, 'created': '2020-05-11 19:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/2df0faa05caf648e62ee9df290e68a374652c719', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 2, 'created': '2020-05-11 19:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a2f35e9fe81cb669d554af1e6c6743a3ea6f3c43', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 3, 'created': '2020-05-16 12:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/27ca3d274728429dee16454698234269199c36ff', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 4, 'created': '2020-05-16 12:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ccee8feedd3454b6762e0cdb5b99196bee306258', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 5, 'created': '2020-05-23 15:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/1d8497b40d8b5f3b6da9927b332cf7dd129a986f', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nDepends-on: https://review.opendev.org/726621\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 6, 'created': '2020-06-20 11:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ccc161108f9ae6d0d273a752a30ffcfeda2d4b28', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nDepends-on: https://review.opendev.org/726621\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}, {'number': 7, 'created': '2020-07-15 12:57:28.000000000', 'files': ['requirements.txt', 'oslo_limit/tests/test_limit.py', 'releasenotes/notes/allow-config-service-name-and-region-6f53f2b99fcff4f3.yaml', 'oslo_limit/limit.py', 'lower-constraints.txt', 'oslo_limit/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/adc1d3ed273f23ba0334350d6b00acf06b9f69ea', 'message': 'Allow configuration per service and region name\n\nCurrently oslo_limit only allow configuration per endpoint_id.\nThis commit allow configuration per service and region name in\norder to ease the generation of configuration file for deployer.\n\nIn both endpoint_id and service/region name are specified,\nendpoint_id preceed.\n\nCloses-Bug: #1835106\nDepends-on: https://review.opendev.org/726621\nDepends-on: https://review.opendev.org/733881\nChange-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9\n'}]",8,726929,adc1d3ed273f23ba0334350d6b00acf06b9f69ea,25,4,7,28595,,,0,"Allow configuration per service and region name

Currently oslo_limit only allow configuration per endpoint_id.
This commit allow configuration per service and region name in
order to ease the generation of configuration file for deployer.

In both endpoint_id and service/region name are specified,
endpoint_id preceed.

Closes-Bug: #1835106
Depends-on: https://review.opendev.org/726621
Depends-on: https://review.opendev.org/733881
Change-Id: I1ccf40d4456d5afcfbe65f826d14b16142cfc2d9
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/29/726929/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py', 'releasenotes/notes/allow-config-service-name-and-region-6f53f2b99fcff4f3.yaml']",4,2df0faa05caf648e62ee9df290e68a374652c719,bug/1835106,--- features: - | Allow operators to set a couple service_name/region_name in oslo_limit configuration section instead of endpoint_id. fixes: - | Configuration error like non existant endpoint or service now raise ValueError in all cases. ,,179,18
openstack%2Ftripleo-ansible~master~Idc71eb176acc5e63c23f62147082d562b0085aea,openstack/tripleo-ansible,master,Idc71eb176acc5e63c23f62147082d562b0085aea,Fix vip provision module documentation,MERGED,2021-06-06 20:20:56.000000000,2021-06-22 15:55:10.000000000,2021-06-22 15:53:46.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-06-06 20:20:56.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fba5344a222bd29fbecdb31276d75e707b08afc', 'message': 'Fix vip provision module documentation\n\nThe short_description and description was incorrect.\n\nChange-Id: Idc71eb176acc5e63c23f62147082d562b0085aea\n'}]",0,795003,6fba5344a222bd29fbecdb31276d75e707b08afc,10,5,1,24245,,,0,"Fix vip provision module documentation

The short_description and description was incorrect.

Change-Id: Idc71eb176acc5e63c23f62147082d562b0085aea
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/795003/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_provision.py'],1,6fba5344a222bd29fbecdb31276d75e707b08afc,fix-vip-provision-doc,short_description: Provision overcloud Virtual IPs - Provision network Virtual IP resources for an overcloud,short_description: Extract information on provisioned overcloud Virtual IPs - Extract information about provisioned network Virtual IP resources in overcloud heat stack.,2,3
openstack%2Fironic~stable%2Fvictoria~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,stable/victoria,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:04:25.000000000,2021-06-22 15:35:19.000000000,2021-06-22 15:33:30.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 09:04:25.000000000', 'files': ['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/755c75e2e82ee6a7addfac3b7a30fafefb36ab56', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)\n'}]",0,797253,755c75e2e82ee6a7addfac3b7a30fafefb36ab56,9,3,1,23851,,,0,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/797253/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",4,755c75e2e82ee6a7addfac3b7a30fafefb36ab56,secure-rbac-stable/victoria," possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, 'instance_uuid': instance_uuid } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired if instance_uuid: # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. # NOTE(TheJulia): This is done after the query as # instance_uuid is a unique constraint in the DB # and we cannot pass a limit of 0 to sqlalchemy # and expect a response. limit = 0"," if instance_uuid: # NOTE(rloo) if instance_uuid is specified, the other query # parameters are ignored. Since there can be at most one node that # has this instance_uuid, we do not want to generate a 'next' link. nodes = self._get_nodes_by_instance(instance_uuid) # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. limit = 0 else: possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired def _get_nodes_by_instance(self, instance_uuid): """"""Retrieve a node by its instance uuid. It returns a list with the node, or an empty list if no node is found. """""" try: node = objects.Node.get_by_instance_uuid(api.request.context, instance_uuid) return [node] except exception.InstanceNotFound: return [] ",138,58
openstack%2Foslo.config~stable%2Fussuri~I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,openstack/oslo.config,stable/ussuri,I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca,remove lower-constraints.txt,MERGED,2021-06-01 09:43:50.000000000,2021-06-22 15:21:03.000000000,2021-06-22 15:17:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-01 09:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/961b0c99c9157b4f9631b29fe1f7475a492a3a78', 'message': 'remove lower-constraints.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nCo-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca\n(cherry picked from commit f4e54d934353f87feb08182079c11d94255a7824)\n'}, {'number': 2, 'created': '2021-06-17 10:57:01.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/63213f8eca8bafe8b117e92b921457d62d9647e8', 'message': 'remove lower-constraints.txt\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nCo-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>\nChange-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca\n(cherry picked from commit f4e54d934353f87feb08182079c11d94255a7824)\n'}]",0,793912,63213f8eca8bafe8b117e92b921457d62d9647e8,12,3,2,31245,,,0,"remove lower-constraints.txt

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Co-Authored-By: Moisés Guimarães de Medeiros <moguimar@redhat.com>
Change-Id: I407b2c9bc6e9c1cd5b070a1cdca7c0eabe19b0ca
(cherry picked from commit f4e54d934353f87feb08182079c11d94255a7824)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/12/793912/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'lower-constraints.txt', 'tox.ini']",3,961b0c99c9157b4f9631b29fe1f7475a492a3a78,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt ,0,63
openstack%2Fpython-tripleoclient~master~I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,openstack/python-tripleoclient,master,I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687,Use {{role.name}}Services parameters,MERGED,2021-06-19 07:30:52.000000000,2021-06-22 15:15:22.000000000,2021-06-22 15:13:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-19 07:30:52.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e895c326355515dd3f1607780aeed241eaeb5777', 'message': ""Use {{role.name}}Services parameters\n\nThis would ensure that we don't build service chains for\nnot enabled roles and cip would not try to pull images\nfor services mapped to OS::Heat::None.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797173\nChange-Id: I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687\n""}]",0,797174,e895c326355515dd3f1607780aeed241eaeb5777,23,4,1,8833,,,0,"Use {{role.name}}Services parameters

This would ensure that we don't build service chains for
not enabled roles and cip would not try to pull images
for services mapped to OS::Heat::None.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797173
Change-Id: I8f2f7700d0dd5a6c7459c8bc69d7937d72d23687
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/797174/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",4,e895c326355515dd3f1607780aeed241eaeb5777,, parameters = utils.build_enabled_sevices_image_params(, parameters = utils.build_image_params(,30,125
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,stable/ussuri,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 19:14:07.000000000,2021-06-22 15:12:28.000000000,2021-06-17 20:23:57.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 19:14:07.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4efcf186259efd22ae56357bd378e32231a0f880', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)\n""}]",0,796730,4efcf186259efd22ae56357bd378e32231a0f880,9,3,1,14985,,,0,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
(cherry picked from commit 38ca24be2feda9baac7f5ddff221dcb5b2222240)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/796730/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,4efcf186259efd22ae56357bd378e32231a0f880,bug/1930151-stable/ussuri," NetworkDeploymentAction: ['CREATE','UPDATE']",,1,0
openstack%2Fironic~stable%2Fwallaby~I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,openstack/ironic,stable/wallaby,I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3,Fix node detail instance_uuid request handling,MERGED,2021-06-21 09:03:35.000000000,2021-06-22 15:06:05.000000000,2021-06-22 15:01:41.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 09:03:35.000000000', 'files': ['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/adc4f7657a555e2e81088911e23bf68b4043a9a5', 'message': 'Fix node detail instance_uuid request handling\n\nThe instance_uuid handling on the detailed node information\nendpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),\nwhich is used by services such as Nova for explicit node status\nlookups, previously had special conditional logic surrounding it\nwhich skipped the inclusion of the API requestor project-id, from\nbeing incorporated into the database query.\n\nUltimately, this allowed an authenticated user to obtain a partially\nredacted node entry where sensitive informational fields were scrubbed\nfrom the response payload.\n\nWith this fix, queries for an explicit instance_uuid now follow the\nstandard path inside the Ironic API to the database which includes\ninclusion of a requestor Project-ID if required by configured policy.\n\nChange-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3\nStory: 2008976\nTask: 42620\n(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)\n'}]",0,797212,adc4f7657a555e2e81088911e23bf68b4043a9a5,13,3,1,23851,,,0,"Fix node detail instance_uuid request handling

The instance_uuid handling on the detailed node information
endpoint of the api (/v1/nodes/detail?instance_uuid=<uuid>),
which is used by services such as Nova for explicit node status
lookups, previously had special conditional logic surrounding it
which skipped the inclusion of the API requestor project-id, from
being incorporated into the database query.

Ultimately, this allowed an authenticated user to obtain a partially
redacted node entry where sensitive informational fields were scrubbed
from the response payload.

With this fix, queries for an explicit instance_uuid now follow the
standard path inside the Ironic API to the database which includes
inclusion of a requestor Project-ID if required by configured policy.

Change-Id: I9bfa5a54e02c8a1e9c8cad6b9acdbad6ab62bef3
Story: 2008976
Task: 42620
(cherry picked from commit be3c153d56e7f94a128438adcc5c717c50336bed)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/797212/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/correct-detailed-instance-info-behavior-1375914a30621eca.yaml', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",4,adc4f7657a555e2e81088911e23bf68b4043a9a5,secure-rbac-stable/wallaby," possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, 'instance_uuid': instance_uuid } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired if instance_uuid: # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. # NOTE(TheJulia): This is done after the query as # instance_uuid is a unique constraint in the DB # and we cannot pass a limit of 0 to sqlalchemy # and expect a response. limit = 0"," if instance_uuid: # NOTE(rloo) if instance_uuid is specified, the other query # parameters are ignored. Since there can be at most one node that # has this instance_uuid, we do not want to generate a 'next' link. nodes = self._get_nodes_by_instance(instance_uuid) # NOTE(rloo) if limit==1 and len(nodes)==1 (see # Collection.has_next()), a 'next' link will # be generated, which we don't want. limit = 0 else: possible_filters = { 'maintenance': maintenance, 'chassis_uuid': chassis_uuid, 'associated': associated, 'provision_state': provision_state, 'driver': driver, 'resource_class': resource_class, 'fault': fault, 'conductor_group': conductor_group, 'owner': owner, 'lessee': lessee, 'project': project, 'description_contains': description_contains, 'retired': retired, } filters = {} for key, value in possible_filters.items(): if value is not None: filters[key] = value nodes = objects.Node.list(api.request.context, limit, marker_obj, sort_key=sort_key, sort_dir=sort_dir, filters=filters) # Special filtering on results based on conductor field if conductor: nodes = self._filter_by_conductor(nodes, conductor) parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance if retired: parameters['retired'] = retired def _get_nodes_by_instance(self, instance_uuid): """"""Retrieve a node by its instance uuid. It returns a list with the node, or an empty list if no node is found. """""" try: node = objects.Node.get_by_instance_uuid(api.request.context, instance_uuid) return [node] except exception.InstanceNotFound: return [] ",138,58
openstack%2Fironic~stable%2Fwallaby~I4e7d2a555eff48ee164d4ecce53156bacbc68da4,openstack/ironic,stable/wallaby,I4e7d2a555eff48ee164d4ecce53156bacbc68da4,Handle non-key-value params in [inspector]extra_kernel_params,MERGED,2021-06-16 12:18:36.000000000,2021-06-22 15:04:37.000000000,2021-06-22 15:01:05.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-16 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7b36fddf432520d59adf41634c30b54120902f0', 'message': 'Handle non-key-value params in [inspector]extra_kernel_params\n\nSince we use a dict for passing them internally, use None value for\nsingle-value params.\n\nConflicts:\n\tironic/tests/unit/drivers/modules/test_image_utils.py\n\nChange-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4\nStory: #2008963\nTask: #42599\n(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)\n'}, {'number': 2, 'created': '2021-06-16 17:16:52.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/566cff59a4005122b1163a0db6b371f762e327de', 'message': 'Handle non-key-value params in [inspector]extra_kernel_params\n\nSince we use a dict for passing them internally, use None value for\nsingle-value params.\n\nConflicts:\n\tironic/tests/unit/drivers/modules/test_image_utils.py\n\nWallaby: adjusted pxe_utils unit tests to pass.\n\nChange-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4\nStory: #2008963\nTask: #42599\n(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)\n'}]",0,796638,566cff59a4005122b1163a0db6b371f762e327de,20,4,2,10239,,,0,"Handle non-key-value params in [inspector]extra_kernel_params

Since we use a dict for passing them internally, use None value for
single-value params.

Conflicts:
	ironic/tests/unit/drivers/modules/test_image_utils.py

Wallaby: adjusted pxe_utils unit tests to pass.

Change-Id: I4e7d2a555eff48ee164d4ecce53156bacbc68da4
Story: #2008963
Task: #42599
(cherry picked from commit 3824912f0a54d5fc9d58e9d5bedf316fcdab560a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/796638/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/inspector-kernel-params-6db82c633d7361e2.yaml', 'ironic/drivers/modules/inspector.py', 'ironic/tests/unit/common/test_pxe_utils.py']",7,f7b36fddf432520d59adf41634c30b54120902f0,,"import collections self._test_build_pxe_config_options_pxe( whle_dsk_img=True, ramdisk_params=collections.OrderedDict([('foo', 'bar'), ('banana', None)]), expected_pxe_params='test_param foo=bar banana')"," if ramdisk_params: expected_pxe_params += ' ' + ' '.join( '%s=%s' % tpl for tpl in ramdisk_params.items()) self._test_build_pxe_config_options_pxe(whle_dsk_img=True, ramdisk_params={'foo': 'bar'})",45,17
openstack%2Ftripleo-heat-templates~master~I749714c1f0af3787020f3e9b88f752d272b91d37,openstack/tripleo-heat-templates,master,I749714c1f0af3787020f3e9b88f752d272b91d37,Always run network config for undercloud,MERGED,2021-06-16 17:03:12.000000000,2021-06-22 15:03:49.000000000,2021-06-22 15:03:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-16 17:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38ca24be2feda9baac7f5ddff221dcb5b2222240', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n""}, {'number': 2, 'created': '2021-06-18 14:51:00.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b043e4953393c7723553c84cc094a25902cd083', 'message': ""Always run network config for undercloud\n\nWe need to ensure that os-net-config is run on upgrades. On the\nundercloud we want the os-net-config to always run so let's set the\nNetworkDeploymentAction correctly.\n\nChange-Id: I749714c1f0af3787020f3e9b88f752d272b91d37\nRelated-Bug: #1930151\n""}]",2,796712,3b043e4953393c7723553c84cc094a25902cd083,27,7,2,14985,,,0,"Always run network config for undercloud

We need to ensure that os-net-config is run on upgrades. On the
undercloud we want the os-net-config to always run so let's set the
NetworkDeploymentAction correctly.

Change-Id: I749714c1f0af3787020f3e9b88f752d272b91d37
Related-Bug: #1930151
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/796712/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,38ca24be2feda9baac7f5ddff221dcb5b2222240,bug/1930151," NetworkDeploymentAction: ['CREATE','UPDATE']",,1,0
openstack%2Ftripleo-ansible~master~Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,openstack/tripleo-ansible,master,Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3,Make sure the _admin label is present on mons,MERGED,2021-06-16 13:48:49.000000000,2021-06-22 14:56:53.000000000,2021-06-22 14:55:28.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 13:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d97aac656a390c6c406644bc07ddb96f2c3f96e8', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 2, 'created': '2021-06-16 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ecda3a9e82d3377d3d445f617fa18d7eca8df9e', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 3, 'created': '2021-06-17 05:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eee19ba5477f9e6f83c7e46f3071c6675a31b433', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 4, 'created': '2021-06-17 05:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/815d0c63f33fa4e8b2c44202689f36c80b0b722b', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 5, 'created': '2021-06-17 08:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31518adbe954587676cd5a7cf541dfea7874b51e', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 6, 'created': '2021-06-17 11:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0553552d613952974c9167119a8cb31de2f1224f', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 7, 'created': '2021-06-17 15:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b2d5fe92fce0a717e089fce1c7c68c243d41898', 'message': ""DNM - Check /etc/ceph before waiting for osds to be up\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 8, 'created': '2021-06-17 15:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebf11cd028aa285a15a7a1d4ee6625772987807f', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 9, 'created': '2021-06-17 15:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f6c721853e063ec3c5d4913925ac75637f255a8', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 10, 'created': '2021-06-17 16:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea61c1d8eb20c7d66eeaae436cc809ee2e79793b', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 11, 'created': '2021-06-17 16:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f48e58536209c2efd67e3db889919f41eca3ded2', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 12, 'created': '2021-06-17 16:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a05bf9d16cb816642066b5fd55b33cdc56a94ddb', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 13, 'created': '2021-06-17 17:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b5a5212cc1cca16782502d64dbb8cdf2ed0c23b', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 14, 'created': '2021-06-17 19:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/222314a8309374929e969edfa65056b518711fc8', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 15, 'created': '2021-06-17 19:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96cb9c1f0d3052a6c969e2c73fb1e7259883dfef', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 16, 'created': '2021-06-17 19:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5aadb1db1a458fe8b1424240e6426b913bb596c3', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 17, 'created': '2021-06-17 19:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ec62714a92b74a89873b05e89f3826882e1b4f0', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 18, 'created': '2021-06-17 20:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/462b0a4e5107d9946ed07a71a0eb74c947c07327', 'message': ""DNM - Make sure the _admin label is present on mons\n\nIt's a DNM change that is supposed to help me debugging a potential\nfailure in the cephadm related scenarios when the pacific devel\ncontainer is used together with the pending cephadm bits.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n""}, {'number': 19, 'created': '2021-06-17 20:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/723b2984739c551b3065893f5252617ed1ea7712', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 20, 'created': '2021-06-18 05:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25025573da290deb139bc4acc915762ab406a33a', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 21, 'created': '2021-06-18 05:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f0f31e1b76dacff8bff06e6e8a24dfdb4d27c50e', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 22, 'created': '2021-06-18 05:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/834550a9063bfcfff42ae3119833bb582092e7fe', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 23, 'created': '2021-06-18 09:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1161db0e5698a24ecbccb4d5db40227bf7ffd535', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\nIn addition, ceph.conf should be distributed to\nthe cluster nodes: this patch adds the related\nconfig-key set to make cephadm able to distribute\nthis file across the cluster nodes.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 24, 'created': '2021-06-18 11:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d949930a87cdf344d60ec4c708a3f9ed3010869', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\nIn addition, ceph.conf should be distributed to\nthe cluster nodes: this patch adds the related\nconfig-key set to make cephadm able to distribute\nthis file across the cluster nodes.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 25, 'created': '2021-06-18 13:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81bf09534d99723c6f3eccd262ce031e14e77415', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\nIn addition, ceph.conf should be distributed to\nthe cluster nodes: this patch adds the related\nconfig-key set to make cephadm able to distribute\nthis file across the cluster nodes.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 26, 'created': '2021-06-18 13:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a1ee05a15ba412c8b083e82aac6f3c3287ff7bf', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 27, 'created': '2021-06-18 20:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a264dbb1e6e0838322e4ca7ce5577a46bd341b32', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then\nthe hosts ceph.conf may be deleted. All mons are\nconsidered admin hosts, so apply this label to any\nhost with the mon service.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 28, 'created': '2021-06-21 08:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3a196004d8080d1fc163e04afb0fb93e0f38515f', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then the\nhosts ceph.conf may be deleted. All mons are considered\nadmin hosts, so apply this label to any host with the\nmon service.\nIn addition, this change fixes the default alertmanager\nport (it should be 9093 as 9094 is reserved for clustering\npurposes) and the cluster_name is explicitly passed to\nthe mkspec tasks.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 29, 'created': '2021-06-21 15:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c68e960cfe19172a1883da10a4118d9bf9e5a744', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then the\nhosts ceph.conf may be deleted. All mons are considered\nadmin hosts, so apply this label to any host with the\nmon service.\nIn addition, this change fixes the default alertmanager\nport (it should be 9093 as 9094 is reserved for clustering\npurposes) and the cluster_name is explicitly passed to\nthe mkspec tasks.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}, {'number': 30, 'created': '2021-06-22 05:13:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/molecule/default/tasks/verify.yml', 'tripleo_ansible/tests/modules/test_ceph_spec_bootstrap.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/ansible_plugins/modules/ceph_spec_bootstrap.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2784b2795774477213600c1355aab1c51218e202', 'message': 'Make sure the _admin label is present on mons\n\nIf a ceph mon does not have the _admin label, then the\nhosts ceph.conf may be deleted. All mons are considered\nadmin hosts, so apply this label to any host with the\nmon service.\nIn addition, this change fixes the default alertmanager\nport (it should be 9093 as 9094 is reserved for clustering\npurposes) and the cluster_name is explicitly passed to\nthe mkspec tasks.\n\nChange-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3\n'}]",22,796677,2784b2795774477213600c1355aab1c51218e202,75,6,30,25402,,,0,"Make sure the _admin label is present on mons

If a ceph mon does not have the _admin label, then the
hosts ceph.conf may be deleted. All mons are considered
admin hosts, so apply this label to any host with the
mon service.
In addition, this change fixes the default alertmanager
port (it should be 9093 as 9094 is reserved for clustering
purposes) and the cluster_name is explicitly passed to
the mkspec tasks.

Change-Id: Ifaa37eebf0759ec8861de86266c0a0dd686cc6b3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/796677/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/wait_for_expected_num_osds.yaml'],1,d97aac656a390c6c406644bc07ddb96f2c3f96e8,ceph_conf_mgmt,"- name: Stat tripleo_cephadm_config_home stat: path: ""{{ tripleo_cephadm_conf }}"" register: cephconf become: true ignore_errors: true - name: Fail if cephconf is not available fail: msg: ""{{ tripleo_cephadm_conf }} does not exist"" when: not cephconf.stat.exists ",,12,0
openstack%2Freleases~master~Ifd09ca163f2073bb1b89ea0c24c26b85367b5691,openstack/releases,master,Ifd09ca163f2073bb1b89ea0c24c26b85367b5691,Release rc2 for Kolla projects,MERGED,2021-06-22 08:43:52.000000000,2021-06-22 14:41:03.000000000,2021-06-22 14:41:03.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 08:43:52.000000000', 'files': ['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/95444eaebf191ce433cf92a3c545fe2083321db7', 'message': 'Release rc2 for Kolla projects\n\n* kolla\n* kolla-ansible\n* kayobe\n\nChange-Id: Ifd09ca163f2073bb1b89ea0c24c26b85367b5691\n'}]",0,797413,95444eaebf191ce433cf92a3c545fe2083321db7,14,5,1,14826,,,0,"Release rc2 for Kolla projects

* kolla
* kolla-ansible
* kayobe

Change-Id: Ifd09ca163f2073bb1b89ea0c24c26b85367b5691
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/797413/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/kolla.yaml', 'deliverables/wallaby/kayobe.yaml', 'deliverables/wallaby/kolla-ansible.yaml']",3,95444eaebf191ce433cf92a3c545fe2083321db7,trailing-wallaby, - version: 12.0.0.0rc2 projects: - repo: openstack/kolla-ansible hash: bcce291aa3bc1ee511e17fbc9a872612c55ed09d,,16,0
openstack%2Ftripleo-heat-templates~master~Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,openstack/tripleo-heat-templates,master,Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a,Simplify libvirt/qemu ssl certificates,MERGED,2021-05-05 07:38:43.000000000,2021-06-22 14:37:22.000000000,2021-06-22 14:34:08.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-05-05 07:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/818636031f332c80dcd578fd991c64ecd57ffdf0', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there is\nno need to specify any of the other *_tls* config options. From [1]:\n\nThe intention (of libvirt) is that you can just use the default_tls_x509_*\nconfig attributes so that you don’t need to set any other *_tls* parameters,\nunless_ you need different certificates for some services. The rationale\nfor that is that some services (e.g. migration / NBD) are only exposed to\ninternal infrastructure; while some sevices (VNC, Spice) might be exposed\npublically, so might need different certificates. For OpenStack this does\nnot matter, though, we will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to /etc/ipa/ca.crt\nanyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 2, 'created': '2021-05-05 08:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2cdf9918b3009ac7565916141347fc63a04b2a25', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there is\nno need to specify any of the other *_tls* config options. From [1]:\n\nThe intention (of libvirt) is that you can just use the default_tls_x509_*\nconfig attributes so that you don’t need to set any other *_tls* parameters,\nunless_ you need different certificates for some services. The rationale\nfor that is that some services (e.g. migration / NBD) are only exposed to\ninternal infrastructure; while some sevices (VNC, Spice) might be exposed\npublically, so might need different certificates. For OpenStack this does\nnot matter, though, we will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to /etc/ipa/ca.crt\nanyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 3, 'created': '2021-05-05 09:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/82bca805ee913cfa8b41f9c3dc60fc9ba4530871', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 4, 'created': '2021-05-05 16:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fdc0168d9ff4a88abfed72af641be5b8182fd32', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 5, 'created': '2021-05-06 06:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebc9da09f5b88706c0426f240581b78b60b31637', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 6, 'created': '2021-05-06 10:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1234eb5e0d8c2a8be3e53ab5d70c7c0f99082698', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 7, 'created': '2021-05-25 09:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e173bfd1d47dde065240352cc956c199d0d157f', 'message': ""Simplify libvirt/qemu ssl certificates\n\nUntil now differet certificates got created for Qemu nbd, vnc\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all serivices use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu pov if both, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\ncreated a mount all SSL relates certificates. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 8, 'created': '2021-05-26 08:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0da8c69c7dae03ccf08fac9e0e0477e6c71db32d', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 9, 'created': '2021-05-26 10:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd3c2013c2d8a31a538c7dd7a6207beb1fbc7f19', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 10, 'created': '2021-05-26 11:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1df0f5d67e9494803b5f50afd1b356bcff0035', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}, {'number': 11, 'created': '2021-06-15 06:58:59.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_ssl_cert_simplification-dbee541be9f55ce5.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d20f295f3a8e6a5792528fa79f9797a610bfefc7', 'message': ""Simplify libvirt/qemu ssl certificates\n\nOn the compute nodes, right now ssl certificates got created for\nlibvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required\nbecause the all services use the same NovaLibvirtNetwork network and\ntherefore multiple certificates for the same hostname get created.\nAlso from qemu point of view, if default_tls_x509_cert_dir and\ndefault_tls_x509_verify parameters get set for all certificates, there\nis no need to specify any of the other *_tls* config options. From [1]\n\nThe intention (of libvirt) is that you can just use the\ndefault_tls_x509_* config attributes so that you don’t need to set any\nother *_tls* parameters, unless_ you need different certificates for\nsome services. The rationale for that is that some services (e.g.\nmigration / NBD) are only exposed to internal infrastructure; while\nsome sevices (VNC, Spice) might be exposed publically, so might need\ndifferent certificates. For OpenStack this does not matter, though,\nwe will stick with the defaults.\n\nTherefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile\nand InternalTLSQemuCAFile get removed (which defaulted to\n/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.\n\nAlso all cerfificates get created when EnableInternalTLS is true to\nand mount all SSL certificates from the host. This is to prevent\ncertificate information is not available in a qemu's process container\nenvironment if features get switched later, which has shown to be\nproblematic.\n\n[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html\n\nChange-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a\n""}]",5,789718,d20f295f3a8e6a5792528fa79f9797a610bfefc7,50,9,11,17216,,,0,"Simplify libvirt/qemu ssl certificates

On the compute nodes, right now ssl certificates got created for
libvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required
because the all services use the same NovaLibvirtNetwork network and
therefore multiple certificates for the same hostname get created.
Also from qemu point of view, if default_tls_x509_cert_dir and
default_tls_x509_verify parameters get set for all certificates, there
is no need to specify any of the other *_tls* config options. From [1]

The intention (of libvirt) is that you can just use the
default_tls_x509_* config attributes so that you don’t need to set any
other *_tls* parameters, unless_ you need different certificates for
some services. The rationale for that is that some services (e.g.
migration / NBD) are only exposed to internal infrastructure; while
some sevices (VNC, Spice) might be exposed publically, so might need
different certificates. For OpenStack this does not matter, though,
we will stick with the defaults.

Therefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile
and InternalTLSQemuCAFile get removed (which defaulted to
/etc/ipa/ca.crt anyways) and just use InternalTLSCAFile.

Also all cerfificates get created when EnableInternalTLS is true to
and mount all SSL certificates from the host. This is to prevent
certificate information is not available in a qemu's process container
environment if features get switched later, which has shown to be
problematic.

[1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html

Change-Id: Ie2c78fc3a07be1cd22cb6cac240047b5d2b9cd0a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/789718/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_ssl_cert_simplification-dbee541be9f55ce5.yaml']",2,818636031f332c80dcd578fd991c64ecd57ffdf0,libvirt_ssl,"--- fixes: - | Until now differet certificates got created for Qemu nbd, vnc On the compute nodes, right now ssl certificates got created for libvirt, qemu-default, qemu-vnc and qemu-nbd. This is not required because the all serivices use the same NovaLibvirtNetwork network and therefore multiple certificates for the same hostname get created. Also from qemu pov if both, if default_tls_x509_cert_dir and default_tls_x509_verify parameters get set for all certificates, there is no need to specify any of the other *_tls* config options. From [1]: The intention (of libvirt) is that you can just use the default_tls_x509_* config attributes so that you don’t need to set any other *_tls* parameters, unless_ you need different certificates for some services. The rationale for that is that some services (e.g. migration / NBD) are only exposed to internal infrastructure; while some sevices (VNC, Spice) might be exposed publically, so might need different certificates. For OpenStack this does not matter, though, we will stick with the defaults. Therefore with this change InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile get removed (which defaulted to /etc/ipa/ca.crt anyways) and just use InternalTLSCAFile. Also all cerfificates get created when EnableInternalTLS is true to created a mount all SSL relates certificates. This is to prevent certificate information is not available in a qemu's process container environment if features get switched later, which has shown to be problematic. [1] https://docs.openstack.org/nova/latest/admin/secure-live-migration-with-qemu-native-tls.html ",,58,127
openstack%2Ftripleo-heat-templates~master~I6783ed86428d80c7237ca6310e57421101ea1fe8,openstack/tripleo-heat-templates,master,I6783ed86428d80c7237ca6310e57421101ea1fe8,Neutron: Remove unused NeutronMechanismDrivers from dhcp-agent template,MERGED,2021-06-08 13:01:39.000000000,2021-06-22 14:33:54.000000000,2021-06-22 14:33:54.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-08 13:01:39.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7dbcb415766031611166b18825f24de66f522472', 'message': 'Neutron: Remove unused NeutronMechanismDrivers from dhcp-agent template\n\nThe NeutronMechanismDrivers parameter is no longer used by dhcp-agent\ntemplate since check for OVN+AZ was removed by [1].\n\n[1] 9283e44d16214f148e04a66d248514b170dad07f\n\nChange-Id: I6783ed86428d80c7237ca6310e57421101ea1fe8\n'}]",0,795316,7dbcb415766031611166b18825f24de66f522472,9,5,1,9816,,,0,"Neutron: Remove unused NeutronMechanismDrivers from dhcp-agent template

The NeutronMechanismDrivers parameter is no longer used by dhcp-agent
template since check for OVN+AZ was removed by [1].

[1] 9283e44d16214f148e04a66d248514b170dad07f

Change-Id: I6783ed86428d80c7237ca6310e57421101ea1fe8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/795316/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-dhcp-container-puppet.yaml'],1,7dbcb415766031611166b18825f24de66f522472,,," # TODO(bogdando): The experimental OVN SRIOV environment includes the # DHCP agent service. We keep it safe to not break it with AZ-related # configurations. Therefore, we have to determine, if # NeutronMechanismDrivers is OVN or not. This may change in future, # when OVN/SRIOV supports Neutron AZ configurations for the agent services. NeutronMechanismDrivers: default: 'ovn' description: | The mechanism drivers for the Neutron tenant network. type: comma_delimited_list",0,10
openstack%2Fcastellan~master~Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4,openstack/castellan,master,Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4,Changed minversion in tox to 3.18.0,MERGED,2021-06-10 01:31:13.000000000,2021-06-22 14:26:10.000000000,2021-06-22 14:24:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-10 01:31:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/2073f450bee172da1b94f333d9b8751262c8f340', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4\n""}]",0,795716,2073f450bee172da1b94f333d9b8751262c8f340,7,2,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Id9b9f5c3a99f6b3717a69a65e1aadc25aa4d48b4
",git fetch https://review.opendev.org/openstack/castellan refs/changes/16/795716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2073f450bee172da1b94f333d9b8751262c8f340,,minversion = 3.18.0allowlist_externals = rmallowlist_externals =,minversion = 3.1.1whitelist_externals = rmwhitelist_externals =,3,3
openstack%2Fopenstack-ansible~master~I680484779ea13410a414a45c8769697d422c3ec9,openstack/openstack-ansible,master,I680484779ea13410a414a45c8769697d422c3ec9,[doc] Add OS compatability matrix,MERGED,2021-05-03 15:35:53.000000000,2021-06-22 14:14:44.000000000,2021-06-22 14:11:44.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-03 15:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/707a17c92e8a81377131529937efce0763e7eaf3', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 2, 'created': '2021-05-04 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2bc9b3edfdd482f453dc7e32fbe20c0aaaa08e01', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 3, 'created': '2021-05-04 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0140a12082e93617e9223823053c8d7814f8e7d8', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 4, 'created': '2021-05-04 15:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/edabae6050fbdb603da40ecdc050c02fc6904a47', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 5, 'created': '2021-05-04 16:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb4e04bc41fd43696170736f80eb4b385639d0b5', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 6, 'created': '2021-05-04 17:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/409f0a6529d90f17a830115d94c63b65ff8f18b3', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 7, 'created': '2021-05-04 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/87010d06fc22db2950fa9d6a098b24a9bdb37a70', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 8, 'created': '2021-05-12 16:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/531e9a460a4415db0611e408d83fa04b2fae6f3f', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 9, 'created': '2021-05-12 17:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e78a5db90383cf4004889644982a20ad007c9c56', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 10, 'created': '2021-05-12 18:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/35249a7b8632ba1dbdb9517f4bf8203f9eeaba08', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 11, 'created': '2021-06-02 20:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d28725660ae7f48c832663952ec7a84164253d02', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 12, 'created': '2021-06-02 20:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c666d0bd05f9c465affe9e266c77af9a60335073', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 13, 'created': '2021-06-02 20:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cfcf1109a358325fe023c0c93e79f0124c2636e7', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 14, 'created': '2021-06-09 06:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d48fe5bed6abecce08ad5316ede3da9dc2e072a4', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}, {'number': 15, 'created': '2021-06-09 19:33:18.000000000', 'files': ['doc/source/admin/upgrades/os-compatability-matrix.html', 'doc/source/admin/index.rst', 'doc/source/admin/upgrades/compatability-matrix.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1e43fbe7986723a7085204a39e6f12ea19c29a4', 'message': '[doc] Add OS compatability matrix\n\nChange-Id: I680484779ea13410a414a45c8769697d422c3ec9\n'}]",6,789376,f1e43fbe7986723a7085204a39e6f12ea19c29a4,40,4,15,28619,,,0,"[doc] Add OS compatability matrix

Change-Id: I680484779ea13410a414a45c8769697d422c3ec9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/789376/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/os-compatability-matrix.html', 'doc/source/admin/index.rst', 'doc/source/admin/upgrades/compatability-matrix.rst']",3,707a17c92e8a81377131529937efce0763e7eaf3,789376,"Compatability Matrix -------------------- All of the OpenStack-Ansible release are compatable with specific set of operating systems and their versions. Operating Systems also have their lifecycles, but we may drop their support before end of their EOL because of different reasons: OpenStack requires higher version of libraries (ie libvirt), Python version, specific dependencies, etc. However we try to provide ``upgrade`` releases where we support both new and old Operating System versions, providing deployers ability to properly upgrade their deployments to the new Operating System release. Below you may find support matrix of Operating Systems for OpenStack-Ansible releases. .. raw:: html :file: os-compatability-matrix.html ",,241,0
openstack%2Foslo.db~master~I86c077215e3256a050d22b00e89d240ef7dbcbff,openstack/oslo.db,master,I86c077215e3256a050d22b00e89d240ef7dbcbff,Changed minversion in tox to 3.18.0,MERGED,2021-06-04 08:41:11.000000000,2021-06-22 13:59:56.000000000,2021-06-22 13:58:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-06-04 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/963a04c60036d3e0d572c37626fb880fa5cda7a0', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I86c077215e3256a050d22b00e89d240ef7dbcbff\n""}, {'number': 2, 'created': '2021-06-22 09:49:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bd3ead2b5eaac6f944b27949ebfa1eb765a8508c', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I86c077215e3256a050d22b00e89d240ef7dbcbff\n""}]",3,794745,bd3ead2b5eaac6f944b27949ebfa1eb765a8508c,13,3,2,32326,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I86c077215e3256a050d22b00e89d240ef7dbcbff
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/45/794745/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,963a04c60036d3e0d572c37626fb880fa5cda7a0,,minversion = 3.18.0,minversion = 3.1,1,1
openstack%2Fneutron~master~Iab3e242b297f8484c120c8999155abd908cf6d6e,openstack/neutron,master,Iab3e242b297f8484c120c8999155abd908cf6d6e,Do a quick FIP check on port delete,MERGED,2021-04-09 12:52:39.000000000,2021-06-22 13:51:18.000000000,2021-06-22 13:45:51.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-09 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d058856fa8d06073837fd05d2e696e759346cfc2', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 2, 'created': '2021-04-12 13:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d325521ba0d82f2e215320f2e3776b606cd3c6af', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 3, 'created': '2021-04-13 09:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32e9ec006178ed015ec289a3353773f52e6ebcd2', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 4, 'created': '2021-04-17 05:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8bf6eff2afe98bd720e5e230db0fd9ebfb01fef6', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 5, 'created': '2021-04-17 11:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2245013e9a74c86113b1d75ce9a21e04d59cd671', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 6, 'created': '2021-05-19 11:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3b2f7f4d772c01702489fdf3f39607deea423a1', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 7, 'created': '2021-05-26 21:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5382921e15027bcd1a915aba1f1d66486aa3da10', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}, {'number': 8, 'created': '2021-06-05 05:17:31.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd8b88ef542197f85e42cfe721d3d5217905acc8', 'message': ""Do a quick FIP check on port delete\n\nGet FloatingIP object results in a quite heavy DB request.\nOn port delete it's in fact done 2 times: lines 1628\nand 1635 in current patch's l3_db.py (please see diff).\n\nA simple and quick check at the beginning significantly\nimproves performance for deleting ports not associated with\nfloating IPs, which seems the most common case.\n\nAlso add the check to _get_floatingips_by_port_id() to improve\nperformance of create and update ports not associated with\nfloating IPs. For associated ports the overhead should be\nnegligible.\n\nChange-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e\n""}]",13,785633,fd8b88ef542197f85e42cfe721d3d5217905acc8,146,7,8,5948,,,0,"Do a quick FIP check on port delete

Get FloatingIP object results in a quite heavy DB request.
On port delete it's in fact done 2 times: lines 1628
and 1635 in current patch's l3_db.py (please see diff).

A simple and quick check at the beginning significantly
improves performance for deleting ports not associated with
floating IPs, which seems the most common case.

Also add the check to _get_floatingips_by_port_id() to improve
performance of create and update ports not associated with
floating IPs. For associated ports the overhead should be
negligible.

Change-Id: Iab3e242b297f8484c120c8999155abd908cf6d6e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/785633/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/objects/router.py']",2,d058856fa8d06073837fd05d2e696e759346cfc2,delete_port_fip_opt," @classmethod def exists_for_fixed_port_id(cls, context, fixed_port_id): query = context.session.query(cls.db_model.fixed_port_id) return query.filter( cls.db_model.fixed_port_id == fixed_port_id).first() ",,10,0
openstack%2Foslo.tools~master~Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb,openstack/oslo.tools,master,Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb,Correct the tox option for skipping sdist generation,MERGED,2021-06-17 17:05:43.000000000,2021-06-22 13:51:00.000000000,2021-06-22 13:51:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-17 17:05:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/02c638fda10edcaf4e11fa1ac8ca8a80b933ce36', 'message': 'Correct the tox option for skipping sdist generation\n\nThe tox option to skip source distribution building is skipsdist,\nbut this seems to be often misspelled skipdist instead, which gets\nsilently ignored and so does not take effect. Correct it\neverywhere, in hopes that new projects will finally stop copying\nthis mistake around.\n\nSee https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist\nand https://github.com/tox-dev/tox/issues/1388 for details.\n\nChange-Id: Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb\n'}]",0,796911,02c638fda10edcaf4e11fa1ac8ca8a80b933ce36,6,2,1,5263,,,0,"Correct the tox option for skipping sdist generation

The tox option to skip source distribution building is skipsdist,
but this seems to be often misspelled skipdist instead, which gets
silently ignored and so does not take effect. Correct it
everywhere, in hopes that new projects will finally stop copying
this mistake around.

See https://tox.readthedocs.io/en/latest/config.html#conf-skipsdist
and https://github.com/tox-dev/tox/issues/1388 for details.

Change-Id: Id20f1ee2725533e2a06dc6798ead3cc9d70c35eb
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/11/796911/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,02c638fda10edcaf4e11fa1ac8ca8a80b933ce36,tox-skipsdist,skipsdist=True,skipdist=True,1,1
openstack%2Fneutron~master~Ic08ca5b167db4884efa07112cf9a6c3637e1b827,openstack/neutron,master,Ic08ca5b167db4884efa07112cf9a6c3637e1b827,Force to close http connection after notify about HA router status,MERGED,2021-06-17 13:44:47.000000000,2021-06-22 13:48:50.000000000,2021-06-22 13:45:20.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cc35ba57a5750c244e99eb0dd750388f088ab5b', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nIt seems that sometimes connection wasn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\n\nThis patch adds ""connection: close"" header to the headers send in\nsuch request thus connection is always closed just after response is\nsend and it should resolve that issue.\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n'}, {'number': 2, 'created': '2021-06-18 08:34:07.000000000', 'files': ['neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/976cba61331702e1a8e4781af478fa4676afd13d', 'message': 'Force to close http connection after notify about HA router status\n\nNeutron-keepalived-state-change-monitor process is using HTTP to notify\nL3 agent that state of the HA router was changed. It is done through\nunix socket.\nWith HTTP 1.1 connection isn\'t closed properly and if\nrouter\'s state was changed more than once in short time, it could happen\nthat wsgi worker on the L3 agent\'s side didn\'t process second request at\nall. That caused problem with transitioning router to master state after\ncreation.\nRequest to close connection should be explicitly defined in the header\n[1] and this patch adds ""connection: close"" header to the headers send in\nsuch request to do exactly that.\n\n[1] https://www.geeksforgeeks.org/http-headers-connection/\n\nCloses-Bug: #1923633\nChange-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827\n'}]",2,796844,976cba61331702e1a8e4781af478fa4676afd13d,38,6,2,11975,,,0,"Force to close http connection after notify about HA router status

Neutron-keepalived-state-change-monitor process is using HTTP to notify
L3 agent that state of the HA router was changed. It is done through
unix socket.
With HTTP 1.1 connection isn't closed properly and if
router's state was changed more than once in short time, it could happen
that wsgi worker on the L3 agent's side didn't process second request at
all. That caused problem with transitioning router to master state after
creation.
Request to close connection should be explicitly defined in the header
[1] and this patch adds ""connection: close"" header to the headers send in
such request to do exactly that.

[1] https://www.geeksforgeeks.org/http-headers-connection/

Closes-Bug: #1923633
Change-Id: Ic08ca5b167db4884efa07112cf9a6c3637e1b827
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/796844/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/keepalived_state_change.py'],1,2cc35ba57a5750c244e99eb0dd750388f088ab5b,bug/1923633," 'X-Neutron-State': state, 'Connection': 'close'},"," 'X-Neutron-State': state},",2,1
openstack%2Fneutron~master~Ie8b6eb88e046c172d99212f966bdee327f42ed37,openstack/neutron,master,Ie8b6eb88e046c172d99212f966bdee327f42ed37,Allow to parse keywords in dns labels,MERGED,2019-10-03 07:42:03.000000000,2021-06-22 13:34:29.000000000,2021-06-22 13:31:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30521}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-10-03 07:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b901eb6631d4c2ab622ce8f32a089ecc2f0ec52b', 'message': 'Allow to parse tenantid in zone\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/#/c/686097/\n\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 2, 'created': '2019-10-22 11:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26fc681d3db385421955bdedd04240be265189b3', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nNeeded-By: https://review.opendev.org/686343\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 3, 'created': '2019-10-22 12:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/243fe0b218a421511fb809cf4f960829516eb64e', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nNeeded-By: https://review.opendev.org/686343\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 4, 'created': '2019-10-23 09:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ced49f3c8998cae3ce105cd01689d11567e99f4a', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nNeeded-By: https://review.opendev.org/686343\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 5, 'created': '2019-10-25 04:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69c8b3dc8611c671cc388458a57e168349a1e0ee', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nNeeded-By: https://review.opendev.org/686343\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 6, 'created': '2019-10-25 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0eba2b5974133355f20662a527e4002eb34df0ea', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nNeeded-By: https://review.opendev.org/686343\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 7, 'created': '2019-10-28 08:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d27fad0323409f27caba3f20b27f95f8f83b87f7', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 8, 'created': '2019-10-29 07:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59a422ea2374f4687dfb1f73975f0592b732049a', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 9, 'created': '2019-10-30 08:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76f95691c5ad25c0bc750296602ddd6f1694ed42', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 10, 'created': '2019-10-30 15:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba79c339d12faaeadc3b459d695444dce3e3ddcd', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 11, 'created': '2019-11-26 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f41c928e475e31a520f8aa8acf14a591318e4b7', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 12, 'created': '2019-11-27 13:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55031612e03ada668322531ae58f3b5b5da58152', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 13, 'created': '2019-11-27 14:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb030f5fa30933fc7569517c0cf0537c92b60e98', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 14, 'created': '2020-06-04 20:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa521b28f5774023d786d39e3708b55f3c0fa383', 'message': 'Allow to parse keywords in dns labels\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 15, 'created': '2020-06-04 23:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fe709c2c3097bfe2e3c2f8ff00ce34057e902d1', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 16, 'created': '2020-06-07 09:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a4864c78829f831229e5f222992bef069e5bfe4', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 17, 'created': '2020-06-07 22:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d11b0ca4537a96c9a0d84a188034e106d1a367b', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 18, 'created': '2020-07-09 22:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a2e8ec455883f4f41370afa21fae7d287da4863', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 19, 'created': '2020-08-05 10:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcaa613ed2129dc4c6bd0d595fdec015f7a16a01', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 20, 'created': '2020-08-28 13:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4549a1e61133b919179b56d95089baa38cac8dc7', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nDepends-On: https://review.opendev.org/686097\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 21, 'created': '2020-08-28 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a9215fb706e1d7c75228d1d1717915d013210d6', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 22, 'created': '2020-12-10 16:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fbe12081fc9a0412ed8b4efc803219cd18ad2b9', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 23, 'created': '2020-12-11 11:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9db80401e3d752b9b48c036d1c5a41673e127b60', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 24, 'created': '2020-12-15 23:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee9c4f4c6feaf0a6045c95b5bd886af2c30e8943', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 25, 'created': '2020-12-22 09:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e875a052e39a62385df3ef4b8566eb0c619e6cd', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 26, 'created': '2021-01-07 11:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67446fa64748674bd0ca659f1e5933a923e97475', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 27, 'created': '2021-01-14 14:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/507dff3043098e697abfcd31318232197590124a', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 28, 'created': '2021-02-05 16:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99bbd0d1277a8c3da2a2c9f78fcb4a9371702f23', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 29, 'created': '2021-02-19 15:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f42f97308237b44e918d339ce186a3c9da416030', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 30, 'created': '2021-03-09 14:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b66c52af11309958006fe9024760803016ec535', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}, {'number': 31, 'created': '2021-03-10 16:04:05.000000000', 'files': ['neutron/plugins/ml2/extensions/dns_domain_keywords.py', 'devstack/lib/dns', 'neutron/extensions/dns_integration_domain_keywords.py', 'neutron/tests/unit/plugins/ml2/extensions/test_dns_domain_keywords.py', 'neutron/common/ovn/extensions.py', 'releasenotes/notes/dns-domain-per-tenant-59b8a368fa06f81d.yaml', 'doc/source/contributor/internals/external_dns_integration.rst', 'neutron/services/ovn_l3/plugin.py', 'setup.cfg', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7727fc07e682daa9a91230d2d17d0b8234af0c39', 'message': 'Allow to parse keywords in dns labels\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nRelated-Bug: #1843218\nChange-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37\n'}]",82,686343,7727fc07e682daa9a91230d2d17d0b8234af0c39,201,16,31,30900,,,0,"Allow to parse keywords in dns labels

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Related-Bug: #1843218
Change-Id: Ie8b6eb88e046c172d99212f966bdee327f42ed37
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/686343/15 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'neutron/plugins/ml2/extensions/dns_integration.py']",2,b901eb6631d4c2ab622ce8f32a089ecc2f0ec52b,feature/allow-to-create-record-on-default-zone-from-tenants," current_dns_domain = current_dns_domain.replace( '<tenantid>', db_data['tenant_id']) ",,127,4
openstack%2Fneutron~stable%2Fwallaby~I692219200535df3af1265248e88c96947e4d8f9d,openstack/neutron,stable/wallaby,I692219200535df3af1265248e88c96947e4d8f9d,Add a single option to override the default hypervisor name,MERGED,2021-06-15 10:22:26.000000000,2021-06-22 13:23:27.000000000,2021-06-22 13:21:35.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44d145844c676dfbc3eb25d8bfb417951784dc48', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)\n'}, {'number': 2, 'created': '2021-06-17 13:04:43.000000000', 'files': ['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f57525c9d7bed778fc481019008b312a58e17c4', 'message': 'Add a single option to override the default hypervisor name\n\nCurrently neutron uses socket.gethostname() to determine hypervisor\nnames, but this implementation is not fully compatible with libvirt\ndriver which uses canonical name for hypervisor name.\nThis incompatibility causes an issue with root resource provider\ndetection if a deployment uses FQDNs as canonicanl names.\n\nThis change introduces the resource_provider_default_hypervisor option,\nso that users can override the hypervisor name by the single option(*1)\ninstead of setting two list options(*2). This is especially useful if\nthe deployment has multiple bridges or interfaces.\n\n(*1)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_default_hypervisor=compute0.mydomain\n\n(*2)\n[OVS]\nresource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\\\nbr-data3:1024,1024,br-data4,1024:1024\nresource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\\\ncompute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain\n\nRelated-Bug: #1926693\nChange-Id: I692219200535df3af1265248e88c96947e4d8f9d\n(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)\n'}]",0,796230,5f57525c9d7bed778fc481019008b312a58e17c4,22,3,2,9816,,,0,"Add a single option to override the default hypervisor name

Currently neutron uses socket.gethostname() to determine hypervisor
names, but this implementation is not fully compatible with libvirt
driver which uses canonical name for hypervisor name.
This incompatibility causes an issue with root resource provider
detection if a deployment uses FQDNs as canonicanl names.

This change introduces the resource_provider_default_hypervisor option,
so that users can override the hypervisor name by the single option(*1)
instead of setting two list options(*2). This is especially useful if
the deployment has multiple bridges or interfaces.

(*1)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_default_hypervisor=compute0.mydomain

(*2)
[OVS]
resource_provider_bandwidths=br-data1:1024:1024,br-data2:1024:1024,\
br-data3:1024,1024,br-data4,1024:1024
resource_provider_hypervisors=br-data1:compute0.mydomain,br-data2:\
compute0.mydomain,br-data3:compute0.mydomain,br-data4:compute0.mydomain

Related-Bug: #1926693
Change-Id: I692219200535df3af1265248e88c96947e4d8f9d
(cherry picked from commit ddf0fef28b7095724c8ba27f3275d0dad2252251)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/796230/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/plugins/ml2/drivers/mech_sriov/agent_common.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/unit/agent/common/test_utils.py', 'neutron/agent/common/utils.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'releasenotes/notes/resource_priovider_default_hypervisor-b92cff207dfb94c0.yaml']",7,44d145844c676dfbc3eb25d8bfb417951784dc48,bug/1926693-stable/wallaby,"--- fixes: - | The new ``resource_provider_defualt_hypervisor`` option has been added, to replace the default hypervisor name to locates the root resource provider without giving a complete list of interfaces or bridges in the ``resource_provider_hypervisors`` option. This option is located in the ``[ovs]`` ini-section for ``ovs-agent`` and ``[sriov_nic]`` ini-section for ``sriov-agent``. ",,55,11
openstack%2Foslo.db~master~Ie1513f9b4911e54ce6714074eb2dc4052323ef42,openstack/oslo.db,master,Ie1513f9b4911e54ce6714074eb2dc4052323ef42,Replace getargspec with getfullargspec,MERGED,2021-05-11 01:37:48.000000000,2021-06-22 13:19:11.000000000,2021-06-22 13:17:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-05-11 01:37:48.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/enginefacade.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8064e184059385a44d7834dc5924e14ae6ed6240', 'message': 'Replace getargspec with getfullargspec\n\ngetargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: Ie1513f9b4911e54ce6714074eb2dc4052323ef42\n'}]",3,790539,8064e184059385a44d7834dc5924e14ae6ed6240,13,5,1,32029,,,0,"Replace getargspec with getfullargspec

getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: Ie1513f9b4911e54ce6714074eb2dc4052323ef42
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/39/790539/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/enginefacade.py']",2,8064e184059385a44d7834dc5924e14ae6ed6240,deprecation-warning,import inspect argspec = inspect.getfullargspec(fn),from oslo_db.sqlalchemy import utils argspec = utils.getargspec(fn),2,22
openstack%2Fnetworking-ovn~stable%2Ftrain~I78673b6a85f1c872e70026da82124d1ba2326562,openstack/networking-ovn,stable/train,I78673b6a85f1c872e70026da82124d1ba2326562,ovn: Don't use dict.remove() for filtering dhcp ports in db-sync,MERGED,2021-06-18 07:58:18.000000000,2021-06-22 13:13:19.000000000,2021-06-22 13:11:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:58:18.000000000', 'files': ['networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/420b45a5eea8458a7d7c79fdd25c97f384a11c1a', 'message': ""ovn: Don't use dict.remove() for filtering dhcp ports in db-sync\n\nThe db-sync script removes ovnmeta ports because sometimes removing\nreserved_dhcp_port in the loop doesn't work.\n\nCloses-Bug: #1932421\n\nConflicts:\n\tnetworking_ovn/ovn_db_sync.py\n\nChange-Id: I78673b6a85f1c872e70026da82124d1ba2326562\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)\n""}]",0,797001,420b45a5eea8458a7d7c79fdd25c97f384a11c1a,17,4,1,8655,,,0,"ovn: Don't use dict.remove() for filtering dhcp ports in db-sync

The db-sync script removes ovnmeta ports because sometimes removing
reserved_dhcp_port in the loop doesn't work.

Closes-Bug: #1932421

Conflicts:
	networking_ovn/ovn_db_sync.py

Change-Id: I78673b6a85f1c872e70026da82124d1ba2326562
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 0aab51c9f8be1d42e5b578493cefd384ee07665b)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/01/797001/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovn_db_sync.py'],1,420b45a5eea8458a7d7c79fdd25c97f384a11c1a,bug/1932421," # Get only DHCP ports that don't belong to agent, it should return # only OVN metadata ports dhcp_ports = [ p for p in self.core_plugin.get_ports( ctx, filters=dict( network_id=[net['id']], device_owner=[constants.DEVICE_OWNER_DHCP])) if not utils.is_neutron_dhcp_agent_port(p)]"," dhcp_ports = self.core_plugin.get_ports(ctx, filters=dict( network_id=[net['id']], device_owner=[constants.DEVICE_OWNER_DHCP])) for port in dhcp_ports: # Do not touch the Neutron DHCP agents ports if utils.is_neutron_dhcp_agent_port(port): dhcp_ports.remove(port)",8,8
openstack%2Freleases~master~Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5,openstack/releases,master,Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5,[fuel] Transition Ocata to End of Life,MERGED,2021-06-09 18:47:21.000000000,2021-06-22 13:09:54.000000000,2021-06-22 13:09:54.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-09 18:47:21.000000000', 'files': ['deliverables/ocata/fuel.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d4bee8d3483d18cc35a450d9b96d1df2548e65c3', 'message': ""[fuel] Transition Ocata to End of Life\n\nThis transition the Ocata branch to End of Life. The last patch of the\nbranch will be tagged with ocata-eol tag. The ocata branch cannot be\nused anymore and will be deleted if this patch merges.\n\nThis is needed as stable/ocata is not actively maintained in the recent\nperiod and thus gate is broken due to job failures. By removing these\nbranches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/ocata is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5\n""}]",0,795652,d4bee8d3483d18cc35a450d9b96d1df2548e65c3,7,3,1,17685,,,0,"[fuel] Transition Ocata to End of Life

This transition the Ocata branch to End of Life. The last patch of the
branch will be tagged with ocata-eol tag. The ocata branch cannot be
used anymore and will be deleted if this patch merges.

This is needed as stable/ocata is not actively maintained in the recent
period and thus gate is broken due to job failures. By removing these
branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/ocata is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: Iaeae1543cba016acd4bc6a4a89703ed344fdc5d5
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/795652/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/fuel.yaml'],1,d4bee8d3483d18cc35a450d9b96d1df2548e65c3,ocata-eol, - version: ocata-eol projects: - repo: openstack/fuel-agent hash: 9d619e545c583907bd079036865d649cd35a3b3d - repo: openstack/fuel-astute hash: ac5bfd88bc955ed4c1af0e3a2a9bdd70903271e9 - repo: openstack/fuel-library hash: 9d59120e1ae2efefd1f138a61fc3b9b76c328cb0 - repo: openstack/fuel-main hash: f34eba18fc210fdef9ae1a2ede37aa73a64c2a1d - repo: openstack/fuel-menu hash: feab505f197c1ed2f97a6354157bee2e1746847e - repo: openstack/fuel-nailgun-agent hash: 0eb70b3c0da51230857a965ed0a871b86707d8b4 - repo: openstack/fuel-ostf hash: 70d14e30a47c4e9f94bc4103258b8d850b423ea6 - repo: openstack/fuel-qa hash: 2270c6a596386a260d0dd1fa06f5d91ccdf53151 - repo: openstack/fuel-ui hash: f6c9408e199229ef1e16f90b6b2cb1a53e5c69f9 - repo: openstack/fuel-virtualbox hash: a498549d87e5fa58614c8c8259fa3cc823d65144 - repo: openstack/fuel-web hash: 0d02a6cede4517ee2e20ff8782a9c5539dc7f509,,24,0
openstack%2Freleases~master~I68157a362979bac503e597d56e7ec8275beb76e9,openstack/releases,master,I68157a362979bac503e597d56e7ec8275beb76e9,retire panko and python-pankoclient,ABANDONED,2021-06-16 14:57:48.000000000,2021-06-22 12:57:49.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-16 14:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03f4721ade1c1ffa9ec55f3b6dcb229e37289ecb', 'message': 'retire panko\n\nChange-Id: I68157a362979bac503e597d56e7ec8275beb76e9\n'}, {'number': 2, 'created': '2021-06-16 15:25:34.000000000', 'files': ['deliverables/wallaby/python-pankoclient.yaml', 'deliverables/ussuri/python-pankoclient.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/ussuri/panko.yaml', 'deliverables/victoria/python-pankoclient.yaml', 'deliverables/victoria/panko.yaml', 'deliverables/train/python-pankoclient.yaml', 'deliverables/xena/panko.yaml', 'deliverables/xena/python-pankoclient.yaml', 'deliverables/train/panko.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4f22f8ead3308f408cafa38387b7abe070ccb0ec', 'message': 'retire panko and python-pankoclient\n\nChange-Id: I68157a362979bac503e597d56e7ec8275beb76e9\n'}]",0,796689,4f22f8ead3308f408cafa38387b7abe070ccb0ec,8,2,2,28522,,,0,"retire panko and python-pankoclient

Change-Id: I68157a362979bac503e597d56e7ec8275beb76e9
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/796689/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/panko.yaml', 'deliverables/wallaby/panko.yaml', 'deliverables/victoria/panko.yaml', 'deliverables/xena/panko.yaml', 'deliverables/train/panko.yaml']",5,03f4721ade1c1ffa9ec55f3b6dcb229e37289ecb,tag-panko-as-retired, openstack/panko: flags: - retired, openstack/panko: {},12,11
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/ussuri,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 13:03:14.000000000,2021-06-22 12:48:15.000000000,2021-06-22 12:47:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-21 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3a38c5dad7a72c73d67268c1adafe8391c03519e', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}, {'number': 2, 'created': '2021-06-21 15:53:41.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e970ca0038820ab5c6573e45bfcacc834866b21d', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}]",0,797272,e970ca0038820ab5c6573e45bfcacc834866b21d,10,3,2,11290,,,0,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/72/797272/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,3a38c5dad7a72c73d67268c1adafe8391c03519e,,"/spi---nova_spicehtml5_git_repo: ""{{ spicehtml5_git_repo | default('https://gitlab.freedesktop.org/spice/spice-html5.git') }}"" nova_spicehtml5_git_install_branch: ""{{ spicehtml5_git_install_branch | default('master') }}""",---nova_spicehtml5_git_repo: https://gitlab.freedesktop.org/spice/spice-html5.git nova_spicehtml5_git_install_branch: master,3,3
openstack%2Foslo.db~master~I30f236c9a3d3d4e278c5551603be3091157387af,openstack/oslo.db,master,I30f236c9a3d3d4e278c5551603be3091157387af,clean up test engine disposal,ABANDONED,2020-11-18 19:26:55.000000000,2021-06-22 12:40:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-18 19:26:55.000000000', 'files': ['oslo_db/sqlalchemy/test_base.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/11bdb891dd4dbeb5c324f23c4e2df4e97804c877', 'message': 'clean up test engine disposal\n\nwip\n\nChange-Id: I30f236c9a3d3d4e278c5551603be3091157387af\n'}]",3,763248,11bdb891dd4dbeb5c324f23c4e2df4e97804c877,5,1,1,11816,,,0,"clean up test engine disposal

wip

Change-Id: I30f236c9a3d3d4e278c5551603be3091157387af
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/48/763248/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/test_base.py', 'oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/sqlalchemy/provision.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py', 'oslo_db/sqlalchemy/engines.py']",6,11bdb891dd4dbeb5c324f23c4e2df4e97804c877,cleanup_disposes," 'logging_name': logging_name, ""echo_pool"": ""debug""", 'logging_name': logging_name,20,6
openstack%2Ftripleo-upgrade~stable%2Ftrain~Id0a75b0f6a61803949996a72ff38bba4dea29f62,openstack/tripleo-upgrade,stable/train,Id0a75b0f6a61803949996a72ff38bba4dea29f62,Also disable kernel modules before leapp,ABANDONED,2021-06-22 11:19:11.000000000,2021-06-22 12:13:46.000000000,,[],"[{'number': 1, 'created': '2021-06-22 11:19:11.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/70eed32c5d174950b70e107a583b1a6e1c7840ca', 'message': 'Also disable kernel modules before leapp\n\nDuring the leapp process, somehow these kernel modules\nare being reloaded. In this patch we also blacklist\nthem to try and prevent reloading.\n\nRelated: rhbz#1962365\n\nChange-Id: Id0a75b0f6a61803949996a72ff38bba4dea29f62\n'}]",0,797429,70eed32c5d174950b70e107a583b1a6e1c7840ca,2,0,1,6816,,,0,"Also disable kernel modules before leapp

During the leapp process, somehow these kernel modules
are being reloaded. In this patch we also blacklist
them to try and prevent reloading.

Related: rhbz#1962365

Change-Id: Id0a75b0f6a61803949996a72ff38bba4dea29f62
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/29/797429/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,70eed32c5d174950b70e107a583b1a6e1c7840ca,,"- name: rhbz#1962365 vars: modules_to_unload: - floppy - pata_acpi block: - name: Unload kernel modules no longer supported in RHEL 8 modprobe: name: ""{{ item }}"" state: absent loop: ""{{ modules_to_unload }}"" - name: Disable kernel modules no longer supported in RHEL 8 kernel_blacklist: blacklist_file: ""/etc/modprobe.d/blacklist-leapp-rhel7.conf"" name: ""{{ item }}"" state: present loop: ""{{ modules_to_unload }}""","- name: ""Unload the kernel modules that are no longer supported in RHEL 8 (rhbz#1962365)"" shell: | set -o pipefail module=floppy; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded"" module=pata_acpi; sudo lsmod | grep -q $module && { sudo rmmod $module; echo ""$module unloaded""; } || echo ""$module was not loaded""",17,5
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I51e1d05cf6382ce077ebd70f6306b54511d575ce,openstack/kayobe-config-dev,stable/wallaby,I51e1d05cf6382ce077ebd70f6306b54511d575ce,CI: Switch to CentOS 8 stream jobs,MERGED,2021-06-22 07:40:04.000000000,2021-06-22 11:36:23.000000000,2021-06-22 11:36:23.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 07:40:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/b2f0a0ac7748491cc512830c3873e8731d2a7210', 'message': 'CI: Switch to CentOS 8 stream jobs\n\nChange-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce\n(cherry picked from commit 487a92db15daf0532fc7c0c405f552ffc40b4a63)\n'}]",0,797388,b2f0a0ac7748491cc512830c3873e8731d2a7210,7,3,1,15197,,,0,"CI: Switch to CentOS 8 stream jobs

Change-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce
(cherry picked from commit 487a92db15daf0532fc7c0c405f552ffc40b4a63)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/88/797388/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,b2f0a0ac7748491cc512830c3873e8731d2a7210,, - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s, - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8,14,14
openstack%2Fnova~stable%2Fvictoria~I15c3119857970c38541f4de270bd561166334548,openstack/nova,stable/victoria,I15c3119857970c38541f4de270bd561166334548,[neutron] Get only ID and name of the SGs from Neutron,MERGED,2021-04-21 07:15:05.000000000,2021-06-22 11:20:06.000000000,2021-06-22 11:18:27.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-21 07:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2098d57b3c0647728a6d7da243979d05a4fb9126', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n'}, {'number': 2, 'created': '2021-05-14 06:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a80a410a498469d2bbb5f13f3cf06a422dd9055', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n'}, {'number': 3, 'created': '2021-06-08 23:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78967e88b699d9597610eddbd09a26445d72177b', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n'}, {'number': 4, 'created': '2021-06-21 03:23:52.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7d84db5876b30d6849877799c08ebc65ac077ca', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n'}]",0,787252,f7d84db5876b30d6849877799c08ebc65ac077ca,314,7,4,11975,,,0,"[neutron] Get only ID and name of the SGs from Neutron

During the VM booting process Nova asks Neutron for the security groups
of the project. If there are no any fields specified, Neutron will
prepare list of security groups with all fields, including rules.
In case if project got many SGs, it may take long time as rules needs to
be loaded separately for each SG on Neutron's side.

During booting of the VM, Nova really needs only ""id"" and ""name"" of the
security groups so this patch limits request to only those 2 fields.

This lazy loading of the SG rules was introduced in Neutron in [1] and
[2].

[1] https://review.opendev.org/#/c/630401/
[2] https://review.opendev.org/#/c/637407/

Related-Bug: #1865223
Change-Id: I15c3119857970c38541f4de270bd561166334548
(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)
(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/787252/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,2098d57b3c0647728a6d7da243979d05a4fb9126,bug/1865223," # NOTE(slaweq): fields other than name and id aren't really needed # so asking only about those fields will allow Neutron to not # prepare list of rules for each found security group. That may # speed processing of this request a lot in case when tenant has # got many security groups sg_fields = ['id', 'name'] fields=sg_fields, **search_opts).get('security_groups')", **search_opts).get('security_groups'),7,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~Ie004f845138a23095f6e02138401511054975a01,openstack/openstack-ansible-os_nova,stable/stein,Ie004f845138a23095f6e02138401511054975a01,Use version from repo_packages for SPICE HTML5,MERGED,2021-06-21 13:03:38.000000000,2021-06-22 11:04:33.000000000,2021-06-22 11:03:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-21 13:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e87d4339fa3509398e17dc056aa89150d5da463e', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}, {'number': 2, 'created': '2021-06-21 15:54:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ed0a2e0ba0bff50f0720dc8f677ebc9ffa1e553a', 'message': 'Use version from repo_packages for SPICE HTML5\n\nUse the version pinned in repo_packages/nova_consoles.yml in\nopenstack-ansible to install the SPICE HTML5 client. Without this change\nthe version pin in openstack-ansible has no effect and the role always\ninstalls master.\n\nThis is the same change as already done for the noVNC console in commit\n1de7b24e701bda75e0fc1d019510f71f16608502.\n\nChange-Id: Ie004f845138a23095f6e02138401511054975a01\n(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)\n'}]",0,797293,ed0a2e0ba0bff50f0720dc8f677ebc9ffa1e553a,10,3,2,11290,,,0,"Use version from repo_packages for SPICE HTML5

Use the version pinned in repo_packages/nova_consoles.yml in
openstack-ansible to install the SPICE HTML5 client. Without this change
the version pin in openstack-ansible has no effect and the role always
installs master.

This is the same change as already done for the noVNC console in commit
1de7b24e701bda75e0fc1d019510f71f16608502.

Change-Id: Ie004f845138a23095f6e02138401511054975a01
(cherry picked from commit 9244767bcdb613a984d69699e56467a762cb4f14)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/93/797293/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e87d4339fa3509398e17dc056aa89150d5da463e,,"/spi---nova_spicehtml5_git_repo: ""{{ spicehtml5_git_repo | default('https://gitlab.freedesktop.org/spice/spice-html5.git') }}"" nova_spicehtml5_git_install_branch: ""{{ spicehtml5_git_install_branch | default('master') }}""",---nova_spicehtml5_git_repo: https://gitlab.freedesktop.org/spice/spice-html5.git nova_spicehtml5_git_install_branch: master,3,3
openstack%2Ftrove~master~Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,openstack/trove,master,Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6,Use bridge network for db container,MERGED,2021-06-18 05:17:04.000000000,2021-06-22 10:55:54.000000000,2021-06-22 10:54:15.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 05:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6d581cd945bac0694890514aca9829831c633ca5', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 2, 'created': '2021-06-18 10:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d37610f1c80e86a6e2209694eb317092bf4d69a2', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 3, 'created': '2021-06-18 11:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5ed25e928cf4ba146f9666e7c6a1012f6db0c241', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 4, 'created': '2021-06-19 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7be851d90d459bd3db539aaaf83e656b7dfb5bfd', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 5, 'created': '2021-06-20 21:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b9d508322067d12898e2e3f26d5ec68c5fc22bda', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 6, 'created': '2021-06-21 05:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/173fb533a2ec4ec9c195948bf4730933071fac09', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 7, 'created': '2021-06-21 23:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7dd44025fc179a5544929b7c7875855509d14001', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 8, 'created': '2021-06-22 04:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/55a52aa71ae92c64699a584e675e2844d9ae58f2', 'message': 'Use bridge network for db container\n\nChanged the network mode of database container to ""bridge"" and exposed\nthe service ports.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 9, 'created': '2021-06-22 04:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/95347f102cc40d1a2d56f5bc8545c199248770bd', 'message': 'Use bridge network for db container\n\n- Changed the network mode of database container to ""bridge"" and exposed\n  the service ports.\n- Use socket file to connect with the database.\n- Upgrade the backup container image for postgressql.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}, {'number': 10, 'created': '2021-06-22 07:10:21.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/xena-container-bridge-network.yaml', 'trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile', 'trove/common/cfg.py', 'trove/guestagent/utils/docker.py', 'backup/utils/postgresql.py', 'trove/guestagent/datastore/service.py', 'trove/guestagent/strategies/replication/mysql_base.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2', 'message': 'Use bridge network for db container\n\n- Changed the network mode of database container to ""bridge"" and exposed\n  the service ports.\n- Use socket file to connect with the database.\n- Upgrade the backup container image for postgressql.\n\nChange-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6\n'}]",0,796988,b050996b9f6df738a0f68ac36a5b5f17f8bb2bc2,25,2,10,6732,,,0,"Use bridge network for db container

- Changed the network mode of database container to ""bridge"" and exposed
  the service ports.
- Use socket file to connect with the database.
- Upgrade the backup container image for postgressql.

Change-Id: Id5b119f8a474befc3a2cd6e061bbffc4ae5f7bb6
",git fetch https://review.opendev.org/openstack/trove refs/changes/88/796988/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/xena-container-bridge-network.yaml', 'trove/guestagent/utils/docker.py']",4,6d581cd945bac0694890514aca9829831c633ca5,bridge-network," LOG.info(f'Starting existing container {name}') LOG.info( f""Creating docker container, image: {image}, "" f""volumes: {volumes}, ports: {ports}, user: {user}, "" f""network_mode: {network_mode}, environment: {environment}, "" f""command: {command}"")"," LOG.warning(""Failed to get container %s"", name)",29,5
openstack%2Fneutron~stable%2Fussuri~Ia8d798955cb693a0ae16c8c8428da22977489a51,openstack/neutron,stable/ussuri,Ia8d798955cb693a0ae16c8c8428da22977489a51,[stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job,MERGED,2021-06-21 10:12:09.000000000,2021-06-22 10:51:43.000000000,2021-06-22 10:48:51.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 10:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72c0ec29c3328c04e27bc8b423b7f3da8b30ca82', 'message': '[DNM] [stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job\n\nTesting for now if this fixes https://bugs.launchpad.net/neutron/+bug/1933086\n\nChange-Id: Ia8d798955cb693a0ae16c8c8428da22977489a51\n'}, {'number': 2, 'created': '2021-06-21 13:30:49.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/71779033d4fb3a5ba75196e8f23ac1d864fda359', 'message': '[stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job\n\nWhile parent job already sets this variable, it seems the job definition\nlooses it, generating job failures in gates trying to use python 2 for\npip as reported in linked bug.\n\nChange-Id: Ia8d798955cb693a0ae16c8c8428da22977489a51\nCloses-Bug: #1933086\n'}]",4,797273,71779033d4fb3a5ba75196e8f23ac1d864fda359,13,5,2,21798,,,0,"[stable/ussuri] Set USE_PYTHON3 for neutron-tempest-slow-py3 job

While parent job already sets this variable, it seems the job definition
looses it, generating job failures in gates trying to use python 2 for
pip as reported in linked bug.

Change-Id: Ia8d798955cb693a0ae16c8c8428da22977489a51
Closes-Bug: #1933086
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/797273/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,72c0ec29c3328c04e27bc8b423b7f3da8b30ca82,bug/1933086, devstack_localrc: USE_PYTHON3: true devstack_localrc: USE_PYTHON3: true,,4,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,stable/wallaby,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-22 06:29:00.000000000,2021-06-22 10:42:35.000000000,2021-06-22 10:40:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-22 06:29:00.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86bf12d2f7edd5e25ccc2092ad249980eeb46e79', 'message': 'Drop support for Cinder ZFSSA backend\n\nFollowing upstream which removed ZFSSA support in Ussuri [1].\n\n[1] https://review.opendev.org/c/openstack/cinder/+/690137\n\nChange-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5\n(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)\n'}]",0,797395,86bf12d2f7edd5e25ccc2092ad249980eeb46e79,10,3,1,30491,,,0,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
(cherry picked from commit 0158221fd2972c7c0c3733994f985feb8318121d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/797395/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'etc/kolla/passwords.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml']",7,86bf12d2f7edd5e25ccc2092ad249980eeb46e79,drop-zfssa-stable/wallaby,"#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool }}""","#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool or enable_cinder_backend_zfssa_iscsi | bool }}""#enable_cinder_backend_zfssa_iscsi: ""no""",7,38
openstack%2Fkolla-ansible~stable%2Fussuri~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/ussuri,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:52.000000000,2021-06-22 10:42:27.000000000,2021-06-22 10:41:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 33105}]","[{'number': 1, 'created': '2021-06-21 09:32:52.000000000', 'files': ['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccbdf9202eb64261cd3f4390dc948d0819160bd1', 'message': 'chronyd crash loop if Debian server is rebooted\n\nThis patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,\nas described in Bug-ID: #1915528.\n\nDue to permissions issue, before this fix is applied chronyd process will be exiting with\nroot cause error message:\n\nFatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied\nThis has to do with priviledges we configured for chrony. Relaxing them fixes the issue.\nTested on top of stable/victoria and Debian 10 Buster.\n\nNot tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise\nthe owner and make it configurable (just one idea).\n\nCloses-Bug: #1915528\nChange-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467\n(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)\n'}]",0,797256,ccbdf9202eb64261cd3f4390dc948d0819160bd1,14,4,1,14826,,,0,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/797256/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml']",2,ccbdf9202eb64261cd3f4390dc948d0819160bd1,,--- fixes: - | chronyd crash loop if server is rebooted (Debian) `LP#1915528 <https://launchpad.net/bugs/1915528>`__ ,,7,2
openstack%2Fopenstacksdk~feature%2Fr1~I01c1876cf3b08c5598d61181a0ae7ad85d212420,openstack/openstacksdk,feature/r1,I01c1876cf3b08c5598d61181a0ae7ad85d212420,DNM Testing zuul jobs,ABANDONED,2021-05-14 19:06:02.000000000,2021-06-22 10:39:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 19:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38a25b770cd42378149a9c142a3974fa059e6d7b', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\n'}, {'number': 2, 'created': '2021-05-14 19:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f8ce1414e020a43a5cb279411121bc33f94a5cce', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\n'}, {'number': 3, 'created': '2021-05-14 19:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43cc5d0d165ce8e55196eb31562f57aaf4286cc5', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\n'}, {'number': 4, 'created': '2021-05-14 19:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ea2de9b16b0e0cd3859202e8e853b312e55bcaf8', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\n'}, {'number': 5, 'created': '2021-05-14 19:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5a1221464dce7f5b175a6c5caaab9a53d328a12f', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/791541\n'}, {'number': 6, 'created': '2021-06-11 15:24:51.000000000', 'files': ['openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d589ac1d98c06d3a8f2d3e16068edca13f78cb36', 'message': 'DNM Testing zuul jobs\n\nChange-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/796035\n'}]",0,791527,d589ac1d98c06d3a8f2d3e16068edca13f78cb36,11,1,6,2,,,0,"DNM Testing zuul jobs

Change-Id: I01c1876cf3b08c5598d61181a0ae7ad85d212420
Depends-On: https://review.opendev.org/c/openstack/devstack/+/796035
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/791527/6 && git format-patch -1 --stdout FETCH_HEAD,['openstack/connection.py'],1,38a25b770cd42378149a9c142a3974fa059e6d7b,,Test change ,,2,0
openstack%2Ftripleo-quickstart~master~I3faba9d3488a596d27fdde9974f75b69e5de5d52,openstack/tripleo-quickstart,master,I3faba9d3488a596d27fdde9974f75b69e5de5d52,Use OS_CLOUD env variable,MERGED,2021-06-21 09:05:03.000000000,2021-06-22 10:31:00.000000000,2021-06-22 10:26:02.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-21 09:05:03.000000000', 'files': ['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1533a36c040a83dd3bc85c90b8c3534f6da21b7', 'message': 'Use OS_CLOUD env variable\n\nThis would use OS_CLOUD if set else would fallback to\nold way.\n\nAso removes old novaclient related logic.\n\nChange-Id: I3faba9d3488a596d27fdde9974f75b69e5de5d52\n'}]",0,797246,f1533a36c040a83dd3bc85c90b8c3534f6da21b7,17,9,1,8833,,,0,"Use OS_CLOUD env variable

This would use OS_CLOUD if set else would fallback to
old way.

Aso removes old novaclient related logic.

Change-Id: I3faba9d3488a596d27fdde9974f75b69e5de5d52
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/797246/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-inventory/templates/get-overcloud-nodes.py.j2'],1,f1533a36c040a83dd3bc85c90b8c3534f6da21b7,,"import openstackcloud_name = os.environ.get('OS_CLOUD') if cloud_name: connection = openstack.connect(cloud=cloud_name) session = connection.session nova = client.Client(2, session=session)","# We can remove this logic when newton (novaclient 6) is EOL if LooseVersion(nc_version) <= LooseVersion(""6.0.2""): nova = client.Client(2, os.environ.get(""OS_USERNAME""), os.environ.get(""OS_PASSWORD""), os.environ.get(""OS_TENANT_NAME""), auth_url=os.environ.get(""OS_AUTH_URL"")) nova = client.Client(2, session=session)",8,8
openstack%2Ftripleo-quickstart~master~I81469dca320a7d18abea300ed48c03fd32d35325,openstack/tripleo-quickstart,master,I81469dca320a7d18abea300ed48c03fd32d35325,Switch standalone libvirt c8-stream image,MERGED,2021-06-21 12:52:10.000000000,2021-06-22 10:29:53.000000000,2021-06-22 10:25:52.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-21 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b2abeda7c849a089a5a15884173fa8afe132a6ec', 'message': 'Switch standalone libvirt c8-stream image\n\nChange-Id: I81469dca320a7d18abea300ed48c03fd32d35325\n'}, {'number': 2, 'created': '2021-06-21 14:29:50.000000000', 'files': ['config/environments/standalone_centos_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/65572266fb61e53e34c292bbf3aa376371f7fb2d', 'message': 'Switch standalone libvirt c8-stream image\n\nChange-Id: I81469dca320a7d18abea300ed48c03fd32d35325\n'}]",0,797290,65572266fb61e53e34c292bbf3aa376371f7fb2d,13,6,2,13861,,,0,"Switch standalone libvirt c8-stream image

Change-Id: I81469dca320a7d18abea300ed48c03fd32d35325
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/797290/2 && git format-patch -1 --stdout FETCH_HEAD,['config/environments/standalone_centos_libvirt.yml'],1,b2abeda7c849a089a5a15884173fa8afe132a6ec,,undercloud_image_url: https://images.rdoproject.org/https://images.rdoproject.org/CentOS-8-Stream-x86_64-GenericCloud.qcow2,undercloud_image_url: https://images.rdoproject.org/CentOS-8-x86_64-GenericCloud.qcow2,1,1
openstack%2Ftripleo-common~master~I7805c9eceec5d85fac9298ce5776542f977417ca,openstack/tripleo-common,master,I7805c9eceec5d85fac9298ce5776542f977417ca,Refactor enabled_services for roles,MERGED,2021-06-19 07:25:23.000000000,2021-06-22 10:29:26.000000000,2021-06-22 10:25:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-19 07:25:23.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21710a412ca1d715682c8ebd722ac379e63b09f9', 'message': 'Refactor enabled_services for roles\n\nThis refactors get_enabled_services() utility functions for us\nto get the {{role.name}}Sevices parameters that can be used\nto filter the services during deployment and cip.\n\nChange-Id: I7805c9eceec5d85fac9298ce5776542f977417ca\n'}]",0,797173,21710a412ca1d715682c8ebd722ac379e63b09f9,20,5,1,8833,,,0,"Refactor enabled_services for roles

This refactors get_enabled_services() utility functions for us
to get the {{role.name}}Sevices parameters that can be used
to filter the services during deployment and cip.

Change-Id: I7805c9eceec5d85fac9298ce5776542f977417ca
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/797173/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,21710a412ca1d715682c8ebd722ac379e63b09f9,bug/1932584," {}, {'ControllerServices': [ 'OS::TripleO::Services::NovaApi'], 'ComputeServices': [ 'OS::TripleO::Services::NovaCompute'], 'BlockStorageServices': []}, {'ControllerServices': [ 'OS::TripleO::Services::NovaApi'], 'ComputeServices': [ 'OS::TripleO::Services::NovaCompute'], 'BlockStorageServices': []},"," set([]), set([ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute' ]), set([ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt' ]), 'ComputeServices': [ 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt' ]",45,26
openstack%2Ftripleo-validations~stable%2Fussuri~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/ussuri,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 07:50:16.000000000,2021-06-22 10:26:26.000000000,2021-06-22 10:26:26.000000000,"[{'_account_id': 11491}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 07:50:16.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8c3b847fed7360e6ca52dad3b99c0a015349d20c', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}]",0,797236,8c3b847fed7360e6ca52dad3b99c0a015349d20c,8,3,1,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/797236/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint', 'zuul.d/base.yaml', 'zuul.d/layout.yaml']",4,8c3b847fed7360e6ca52dad3b99c0a015349d20c,linters/yaml/indent,--- - promote-openstack-tox-docs: *tripleo-docs, - promote-openstack-tox-docs: *tripleo-docs,90,87
openstack%2Ftripleo-validations~stable%2Fvictoria~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/victoria,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 07:34:35.000000000,2021-06-22 10:26:22.000000000,2021-06-22 10:26:22.000000000,"[{'_account_id': 11491}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 07:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/046058d6c18a529ef4dce1e160b46f70ff93d941', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}, {'number': 2, 'created': '2021-06-21 14:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4f82b358eb08597dd8725d9f993dbd43a8676ca7', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}, {'number': 3, 'created': '2021-06-21 15:32:15.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/92aaa111f495f38d3bad6b1acb92044a104e2932', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}]",4,797234,92aaa111f495f38d3bad6b1acb92044a104e2932,16,3,3,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/797234/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint']",2,046058d6c18a529ef4dce1e160b46f70ff93d941,linters/yaml/indent, indentation: spaces: consistent indent-sequences: true check-multi-line-strings: false, zuul.d/*.yaml,12,10
openstack%2Ftripleo-validations~stable%2Fwallaby~I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,openstack/tripleo-validations,stable/wallaby,I280cea451114a0c63bec9ae0f4dc2c85e3d3de90,Enabling indentation rule for yamllint.,MERGED,2021-06-21 14:15:40.000000000,2021-06-22 10:26:19.000000000,2021-06-22 10:26:19.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-06-21 14:15:40.000000000', 'files': ['zuul.d/molecule.yaml', '.yamllint'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d2571bc3ccadc4e34a57d5b9c54c38bf043e299a', 'message': 'Enabling indentation rule for yamllint.\n\nWith the exception of release notes, yaml files will\nnow have to be indented with a consistent number of whitespace chars.\n\nAs described:\nhttps://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation\n\nAlso fixes indentaion for the zuul.d/molecule.yaml.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90\n(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)\n'}]",0,797317,d2571bc3ccadc4e34a57d5b9c54c38bf043e299a,7,7,1,32926,,,0,"Enabling indentation rule for yamllint.

With the exception of release notes, yaml files will
now have to be indented with a consistent number of whitespace chars.

As described:
https://yamllint.readthedocs.io/en/stable/rules.html#module-yamllint.rules.indentation

Also fixes indentaion for the zuul.d/molecule.yaml.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I280cea451114a0c63bec9ae0f4dc2c85e3d3de90
(cherry picked from commit c1277a5e5cc6af20cebe432be34d5b82624a3e6c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/17/797317/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', '.yamllint']",2,d2571bc3ccadc4e34a57d5b9c54c38bf043e299a,linters/yaml/indent, indentation: spaces: consistent indent-sequences: true check-multi-line-strings: false, zuul.d/*.yaml,275,273
openstack%2Fmanila-ui~master~I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4,openstack/manila-ui,master,I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4,[CI] Temporarily set integration test job to non-voting,MERGED,2021-06-21 19:10:46.000000000,2021-06-22 10:10:58.000000000,2021-06-22 10:08:48.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-21 19:10:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/ba0749778bd799f67fd5633ea5e175c3aff0b5b5', 'message': '[CI] Temporarily set integration test job to non-voting\n\nThis failure has been determined to be unrelated to\nchanges that are currently in-flight. While we\ninvestigate a fix, we can set this job to non-voting\nto merge unrelated fixes/improvements in parallel.\n\nChange-Id: I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4\nPartial-Bug: #1933137\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,797347,ba0749778bd799f67fd5633ea5e175c3aff0b5b5,9,3,1,16643,,,0,"[CI] Temporarily set integration test job to non-voting

This failure has been determined to be unrelated to
changes that are currently in-flight. While we
investigate a fix, we can set this job to non-voting
to merge unrelated fixes/improvements in parallel.

Change-Id: I6f4ce5434a6504ca037c867ce7b9b1ea8e852be4
Partial-Bug: #1933137
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/47/797347/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba0749778bd799f67fd5633ea5e175c3aff0b5b5,bug/1933137, - manila-ui-integration-tests: voting: false - manila-ui-integration-tests: voting: false, - manila-ui-integration-tests - manila-ui-integration-tests,4,2
openstack%2Foslo.db~master~I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d,openstack/oslo.db,master,I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d,Add PyNaCl requirement to authenticate with auth_ed25519,ABANDONED,2020-10-06 12:13:05.000000000,2021-06-22 10:05:37.000000000,,"[{'_account_id': 11816}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-10-06 12:13:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/baa74598501584f2b62c898fe4fd4133b08a90e0', 'message': 'Add PyNaCl requirement to authenticate with auth_ed25519\n\nSince PyMySQL 0.10.0, mariadb clients can connect to the\ndatabase with users that have been configured to authenticate\nwith auth_ed25519 [1], a new secure authentication protocol.\n\nWhen auth_ed25519 is configured, PyMySQL requires PyNaCl\nto answer to the crypto challenge that it receives from the\nserver. The authentication is transparent for oslo.db.\n\nSince oslo.db depends on a PyMySQL version that supports\nauth_ed25519, add PyNaCl to the list of requirements so that\noslo.db clients can always use auth_ed25519 if they want to.\nBy default, it is not is use and PyMySQL keeps connecting\nas usual (PyNaCl is not used).\n\n[1] https://mariadb.com/kb/en/authentication-plugin-ed25519\n\nRelated-Bug: #1866093\nChange-Id: I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d\n'}]",6,756277,baa74598501584f2b62c898fe4fd4133b08a90e0,10,4,1,20778,,,0,"Add PyNaCl requirement to authenticate with auth_ed25519

Since PyMySQL 0.10.0, mariadb clients can connect to the
database with users that have been configured to authenticate
with auth_ed25519 [1], a new secure authentication protocol.

When auth_ed25519 is configured, PyMySQL requires PyNaCl
to answer to the crypto challenge that it receives from the
server. The authentication is transparent for oslo.db.

Since oslo.db depends on a PyMySQL version that supports
auth_ed25519, add PyNaCl to the list of requirements so that
oslo.db clients can always use auth_ed25519 if they want to.
By default, it is not is use and PyMySQL keeps connecting
as usual (PyNaCl is not used).

[1] https://mariadb.com/kb/en/authentication-plugin-ed25519

Related-Bug: #1866093
Change-Id: I5ac9a4dcd76768d84aa2cee4343f2a2530899f2d
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/77/756277/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,baa74598501584f2b62c898fe4fd4133b08a90e0,ed25519,PyNaCl>=1.4.0 # Apache-2.0,,1,0
openstack%2Fkolla-ansible~master~If2eb2678da506362b36ba8c8651281c00b309e34,openstack/kolla-ansible,master,If2eb2678da506362b36ba8c8651281c00b309e34,[CI] Wait longer for volume attachments,ABANDONED,2021-06-20 18:21:23.000000000,2021-06-22 09:58:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-20 18:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/263c103b9ad054cbd687fe064502b19c01b184b1', 'message': '[CI] Wait longer for volume attachments\n\nSometimes, the logs show no ERRORs and even that the attachment\nwas succesful but our CI job fails because the volume was still\nreporting ""attaching"" status instead of the desired ""in-use"".\n\nThere could be a bug in Cinder that causes some updates to be\nlost but we are good to wait a bit longer.\nPerhaps this could even help catch a timeout on Cinder\'s side\ninstead of shutting down prematurely.\n\nThis also bumps the timeout for detachments to keep the two\nin sync.\n\nChange-Id: If2eb2678da506362b36ba8c8651281c00b309e34\n'}, {'number': 2, 'created': '2021-06-21 07:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e33f2d917950c6c0da55b0f87797a44fa899636', 'message': '[CI] Wait longer for volume attachments\n\nSometimes, the logs show no ERRORs and even that the attachment\nwas succesful but our CI job fails because the volume was still\nreporting ""attaching"" status instead of the desired ""in-use"".\n\nThere could be a bug in Cinder that causes some updates to be\nlost but we are good to wait a bit longer.\nPerhaps this could even help catch a timeout on Cinder\'s side\ninstead of shutting down prematurely.\n\nThis also bumps the timeout for detachments to keep the two\nin sync.\n\nChange-Id: If2eb2678da506362b36ba8c8651281c00b309e34\n'}, {'number': 3, 'created': '2021-06-21 07:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b48abad3ecfecd976a0528e174fefb9ca7a3de5', 'message': '[CI] Wait longer for volume attachments\n\nSometimes, the logs show no ERRORs and even that the attachment\nwas succesful but our CI job fails because the volume was still\nreporting ""attaching"" status instead of the desired ""in-use"".\n\nThere could be a bug in Cinder that causes some updates to be\nlost but we are good to wait a bit longer.\nPerhaps this could even help catch a timeout on Cinder\'s side\ninstead of shutting down prematurely.\n\nThis also bumps the timeout for detachments to keep the two\nin sync.\n\nChange-Id: If2eb2678da506362b36ba8c8651281c00b309e34\n'}, {'number': 4, 'created': '2021-06-21 15:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d14d2e3af26fdfdf3014eaee7a901b617c9b3218', 'message': '[CI] Wait longer for volume attachments\n\nSometimes, the logs show no ERRORs and even that the attachment\nwas succesful but our CI job fails because the volume was still\nreporting ""attaching"" status instead of the desired ""in-use"".\n\nThere could be a bug in Cinder that causes some updates to be\nlost but we are good to wait a bit longer.\nPerhaps this could even help catch a timeout on Cinder\'s side\ninstead of shutting down prematurely.\n\nThis also bumps the timeout for detachments to keep the two\nin sync.\n\nChange-Id: If2eb2678da506362b36ba8c8651281c00b309e34\n'}, {'number': 5, 'created': '2021-06-22 07:22:10.000000000', 'files': ['tests/test-zun.sh', 'zuul.d/project.yaml', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5ffa44405d1453787537e9c4b7595711874f829', 'message': '[CI] Wait longer for volume attachments\n\nSometimes, the logs show no ERRORs and even that the attachment\nwas succesful but our CI job fails because the volume was still\nreporting ""attaching"" status instead of the desired ""in-use"".\n\nThere could be a bug in Cinder that causes some updates to be\nlost but we are good to wait a bit longer.\nPerhaps this could even help catch a timeout on Cinder\'s side\ninstead of shutting down prematurely.\n\nThis also bumps the timeout for detachments to keep the two\nin sync.\n\nChange-Id: If2eb2678da506362b36ba8c8651281c00b309e34\n'}]",0,797216,d5ffa44405d1453787537e9c4b7595711874f829,26,2,5,30491,,,0,"[CI] Wait longer for volume attachments

Sometimes, the logs show no ERRORs and even that the attachment
was succesful but our CI job fails because the volume was still
reporting ""attaching"" status instead of the desired ""in-use"".

There could be a bug in Cinder that causes some updates to be
lost but we are good to wait a bit longer.
Perhaps this could even help catch a timeout on Cinder's side
instead of shutting down prematurely.

This also bumps the timeout for detachments to keep the two
in sync.

Change-Id: If2eb2678da506362b36ba8c8651281c00b309e34
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/797216/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-zun.sh', 'tests/test-core-openstack.sh']",2,263c103b9ad054cbd687fe064502b19c01b184b1,ci-wait-longer-for-attachments, if [[ $attempt -eq 30 ]]; then if [[ $attempt -eq 30 ]]; then, if [[ $attempt -eq 10 ]]; then if [[ $attempt -eq 10 ]]; then,4,4
openstack%2Fgovernance~master~I33ee89f690148780d4cd18c5dc5432f55f4ce168,openstack/governance,master,I33ee89f690148780d4cd18c5dc5432f55f4ce168,Panko is deprecated now,MERGED,2021-06-15 09:03:48.000000000,2021-06-22 09:56:00.000000000,2021-06-22 09:53:37.000000000,"[{'_account_id': 4264}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 09:03:48.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1646ea2131bd2d58fd844b97d1604b8206a7c1ad', 'message': 'Panko is deprecated now\n\nChange-Id: I33ee89f690148780d4cd18c5dc5432f55f4ce168\n'}]",0,796408,1646ea2131bd2d58fd844b97d1604b8206a7c1ad,20,10,1,4264,,,0,"Panko is deprecated now

Change-Id: I33ee89f690148780d4cd18c5dc5432f55f4ce168
",git fetch https://review.opendev.org/openstack/governance refs/changes/08/796408/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1646ea2131bd2d58fd844b97d1604b8206a7c1ad,project-update, deprecated: xena deprecated: xena deprecated: xena,,3,0
openstack%2Foctavia-lib~master~I69f61d7d2708be0d3d1248438db3e5b7ee6376ca,openstack/octavia-lib,master,I69f61d7d2708be0d3d1248438db3e5b7ee6376ca,DNM testing driver agent socket,ABANDONED,2021-04-09 06:37:04.000000000,2021-06-22 09:53:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 06:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/513d8dce24ebad03a239743a7ff0d0ff3e71fb9a', 'message': 'DNM testing driver agent socket\n\nChange-Id: I69f61d7d2708be0d3d1248438db3e5b7ee6376ca\n'}, {'number': 2, 'created': '2021-04-09 07:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/cffce5a4a55aa8f0f93e83bb3478a0f398b0e2a8', 'message': 'DNM testing driver agent socket\n\nChange-Id: I69f61d7d2708be0d3d1248438db3e5b7ee6376ca\n'}, {'number': 3, 'created': '2021-04-09 07:32:35.000000000', 'files': ['octavia_lib/api/drivers/driver_lib.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/8aa1750e4c575f042ccf5c09668ebe91219f6a8f', 'message': 'DNM testing driver agent socket\n\nChange-Id: I69f61d7d2708be0d3d1248438db3e5b7ee6376ca\n'}]",6,785559,8aa1750e4c575f042ccf5c09668ebe91219f6a8f,7,1,3,29244,,,0,"DNM testing driver agent socket

Change-Id: I69f61d7d2708be0d3d1248438db3e5b7ee6376ca
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/59/785559/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/api/drivers/driver_lib.py'],1,513d8dce24ebad03a239743a7ff0d0ff3e71fb9a,,"import sys # TODO(gthiemonge) remove time.sleep when py36 is no longer used: # see note in # https://docs.python.org/3/library/socket.html#\ # socket.socket.settimeout if sock.type & socket.SOCK_NONBLOCK: # Give the CPU a break from polling time.sleep(0.01) # TODO(gthiemonge) remove time.sleep when py36 is no longer used: # see note in # https://docs.python.org/3/library/socket.html#\ # socket.socket.settimeout if sock.type & socket.SOCK_NONBLOCK: # Give the CPU a break from polling time.sleep(0.01) start = time.time() end = time.time() sys.stderr.write(""_recv in {} sec\n"".format(end - start)) start = time.time() end = time.time() sys.stderr.write(""got resource in {}\n"".format(end - start))", # Give the CPU a break from polling time.sleep(0.01) # Give the CPU a break from polling time.sleep(0.01),19,4
openstack%2Foctavia~master~I6f200561af19af072c92a61ac2e92442d93239a9,openstack/octavia,master,I6f200561af19af072c92a61ac2e92442d93239a9,DNM testing octavia-lib,ABANDONED,2021-04-09 07:35:10.000000000,2021-06-22 09:53:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-09 07:35:10.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e548ba0b21b8ae8d0e16ede1bb4b5b8740fa0e1', 'message': 'DNM testing octavia-lib\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-lib/+/785559\nChange-Id: I6f200561af19af072c92a61ac2e92442d93239a9\n'}]",0,785567,9e548ba0b21b8ae8d0e16ede1bb4b5b8740fa0e1,3,1,1,29244,,,0,"DNM testing octavia-lib

Depends-On: https://review.opendev.org/c/openstack/octavia-lib/+/785559
Change-Id: I6f200561af19af072c92a61ac2e92442d93239a9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/785567/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,9e548ba0b21b8ae8d0e16ede1bb4b5b8740fa0e1,, - openstack-tox-functional-py36 #- octavia-v2-dsvm-noop-api: # irrelevant-files: &irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-tls-barbican: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-spare-pool: # irrelevant-files: *irrelevant-files #- octavia-v2-act-stdby-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-grenade: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^(test-|)requirements.txt$ # - ^tox.ini$ #- octavia-v2-dsvm-cinder-amphora: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-two-node: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-ipv6-only: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-centos-8: # irrelevant-files: *irrelevant-files # voting: false, - openstack-tox-functional-py36: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-spare-pool: irrelevant-files: *irrelevant-files - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-8: irrelevant-files: *irrelevant-files voting: false,45,52
openstack%2Fkolla~stable%2Fvictoria~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/victoria,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 16:27:04.000000000,2021-06-22 09:49:23.000000000,2021-06-22 09:47:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-06-21 16:27:04.000000000', 'files': ['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/32eb32f1b66416a2ccd385bd4afee765bf1eb712', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)\n""}]",0,797300,32eb32f1b66416a2ccd385bd4afee765bf1eb712,10,4,1,14826,,,0,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/797300/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml']",2,32eb32f1b66416a2ccd385bd4afee765bf1eb712,bug/1928408-stable/victoria,"--- fixes: - | Fixes location of monitoring_policy in Horizon, so access policy is correctly enforced. Note that by current default, admin doesn't not have Monitoring access. `LP#1928408 <https://launchpad.net/bugs/1928408>`__ ",,8,1
openstack%2Fnetworking-bagpipe~stable%2Ftrain~I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe,openstack/networking-bagpipe,stable/train,I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe,stable only: Fix failing doc build job,ABANDONED,2021-06-22 06:37:54.000000000,2021-06-22 09:41:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-22 06:37:54.000000000', 'files': ['doc/requirements.txt', 'tox.ini', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/68a6294313778cbf4b24d30cece4a1f33b85a617', 'message': 'stable only: Fix failing doc build job\n\nChange-Id: I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe\n'}]",0,797386,68a6294313778cbf4b24d30cece4a1f33b85a617,3,1,1,8313,,,0,"stable only: Fix failing doc build job

Change-Id: I42b41de1d837fb19023ab0c8d8f1e1f92fc3debe
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/86/797386/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini', 'tools/test-setup.sh']",3,68a6294313778cbf4b24d30cece4a1f33b85a617,clean-non-voting-jobs,,"#!/bin/bash -xe # This script will be run by OpenStack CI before unit tests are run, # it sets up the test system as needed. # Developers should setup their test systems in a similar way. # This setup needs to be run as a user that can run sudo. # The root password for the MySQL database; pass it in via # MYSQL_ROOT_PW. DB_ROOT_PW=${MYSQL_ROOT_PW:-insecure_slave} # This user and its password are used by the tests, if you change it, # your tests might fail. DB_USER=openstack_citest DB_PW=openstack_citest sudo -H mysqladmin -u root password $DB_ROOT_PW # It's best practice to remove anonymous users from the database. If # a anonymous user exists, then it matches first for connections and # other connections from that host will not work. sudo -H mysql -u root -p$DB_ROOT_PW -h localhost -e "" DELETE FROM mysql.user WHERE User=''; FLUSH PRIVILEGES; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;"" # Now create our database. mysql -u $DB_USER -p$DB_PW -h 127.0.0.1 -e "" SET default_storage_engine=MYISAM; DROP DATABASE IF EXISTS openstack_citest; CREATE DATABASE openstack_citest CHARACTER SET utf8;"" # Same for PostgreSQL # The root password for the PostgreSQL database; pass it in via # POSTGRES_ROOT_PW. DB_ROOT_PW=${POSTGRES_ROOT_PW:-insecure_slave} # Setup user root_roles=$(sudo -H -u postgres psql -t -c "" SELECT 'HERE' from pg_roles where rolname='$DB_USER'"") if [[ ${root_roles} == *HERE ]];then sudo -H -u postgres psql -c ""ALTER ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" else sudo -H -u postgres psql -c ""CREATE ROLE $DB_USER WITH SUPERUSER LOGIN PASSWORD '$DB_PW'"" fi # Store password for tests cat << EOF > $HOME/.pgpass *:*:*:$DB_USER:$DB_PW EOF chmod 0600 $HOME/.pgpass # Now create our database psql -h 127.0.0.1 -U $DB_USER -d template1 -c ""DROP DATABASE IF EXISTS openstack_citest"" createdb -h 127.0.0.1 -U $DB_USER -l C -T template0 -E utf8 openstack_citest ",2,59
openstack%2Fpython-octaviaclient~master~Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499,openstack/python-octaviaclient,master,Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499,Fix some typos,MERGED,2021-06-10 21:30:49.000000000,2021-06-22 09:35:21.000000000,2021-06-22 09:33:13.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-10 21:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/46c8ad4bfb43278b3871fc0243d9666b8bc3255e', 'message': 'Fix some typos\n\nOriginally just noticed ""balncer"" but fixed a few more\nwhile I was at it.\n\nTrivialfix\n\nChange-Id: Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499\n'}, {'number': 2, 'created': '2021-06-11 14:39:21.000000000', 'files': ['octaviaclient/osc/v2/flavor.py', 'octaviaclient/osc/v2/l7policy.py', 'octaviaclient/osc/v2/load_balancer.py', 'octaviaclient/osc/v2/flavorprofile.py', 'octaviaclient/osc/v2/l7rule.py', 'octaviaclient/osc/v2/member.py', 'octaviaclient/osc/v2/health_monitor.py', 'octaviaclient/osc/v2/quota.py', 'octaviaclient/osc/v2/amphora.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/osc/v2/availabilityzoneprofile.py', 'octaviaclient/osc/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/6ef3eed57378490ab9731cc5f3c0975aa0a4d4e9', 'message': 'Fix some typos\n\nOriginally just noticed ""balncer"" but fixed a few more\nwhile I was at it.\n\nStill a Trivialfix\n\nChange-Id: Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499\n'}]",14,795902,6ef3eed57378490ab9731cc5f3c0975aa0a4d4e9,13,4,2,1131,,,0,"Fix some typos

Originally just noticed ""balncer"" but fixed a few more
while I was at it.

Still a Trivialfix

Change-Id: Ib43d484a6da32b0a9fe83b7b1ccd83e58b9f9499
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/02/795902/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/osc/v2/l7policy.py', 'octaviaclient/osc/v2/listener.py', 'octaviaclient/osc/v2/availabilityzoneprofile.py', 'octaviaclient/osc/v2/pool.py']",4,46c8ad4bfb43278b3871fc0243d9666b8bc3255e,typos," help=""Load balancer to add the pool to (name or ID)."""," help=""Load balncer to add the pool to (name or ID)""",5,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7b20399d55c3de82c8aeddc3317c9972409217da,openstack/tripleo-heat-templates,stable/wallaby,I7b20399d55c3de82c8aeddc3317c9972409217da,Set tripleo_cephadm rbd mirror vars,MERGED,2021-06-18 14:45:02.000000000,2021-06-22 09:26:27.000000000,2021-06-22 09:26:27.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-06-18 14:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbf6e3c940efea12518a275888d9d1c92465f337', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n(cherry picked from commit 33f7868d551745ed4cbd219ab82128940acb99b8)\n'}, {'number': 2, 'created': '2021-06-21 13:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a55613fa35cfadabc65f599c3d64a33c46e3dac3', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n(cherry picked from commit 33f7868d551745ed4cbd219ab82128940acb99b8)\n'}, {'number': 3, 'created': '2021-06-21 15:53:10.000000000', 'files': ['deployment/cephadm/ceph-rbdmirror.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3737ec8fd39029c7b556fded1ad251c182caf1f3', 'message': 'Set tripleo_cephadm rbd mirror vars\n\nThis patch introduces the logic of adding and setting the rbd mirror\nparameters required, later in the process, by cephadm.\nBy doing this we can not only deploy the rbd-mirror daemon (via the\ncephadm spec file), but also run a set of ceph commands to properly\nconfigure mirroring on a given pool.\n\nDepends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103\nChange-Id: I7b20399d55c3de82c8aeddc3317c9972409217da\n(cherry picked from commit 33f7868d551745ed4cbd219ab82128940acb99b8)\n'}]",0,797096,3737ec8fd39029c7b556fded1ad251c182caf1f3,17,7,3,25402,,,0,"Set tripleo_cephadm rbd mirror vars

This patch introduces the logic of adding and setting the rbd mirror
parameters required, later in the process, by cephadm.
By doing this we can not only deploy the rbd-mirror daemon (via the
cephadm spec file), but also run a set of ceph commands to properly
configure mirroring on a given pool.

Depends-On: I0d1ce33270ccf8636925c3534812c3b1cf650103
Change-Id: I7b20399d55c3de82c8aeddc3317c9972409217da
(cherry picked from commit 33f7868d551745ed4cbd219ab82128940acb99b8)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/797096/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-rbdmirror.yaml'],1,dbf6e3c940efea12518a275888d9d1c92465f337,cephadm_rbdmirror,"resources: CephBase: type: ./ceph-base.yaml properties: ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} EndpointMap: {get_param: EndpointMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} external_deploy_tasks: list_concat: - {get_attr: [CephBase, role_data, external_deploy_tasks]} - - name: ceph_rbdmirror_external_deploy_init when: step|int == 1 tags: - ceph block: - name: set cephadm rbdmirror vars set_fact: cephadm_rbdmirror: tripleo_cephadm_rbd_mirror_pool: {get_param: CephRbdMirrorPool} tripleo_cephadm_rbd_mirror_remote_cluster: {get_param: CephRbdMirrorRemoteCluster} tripleo_cephadm_rbd_mirror_remote_user: {get_param: CephRbdMirrorRemoteUser}", external_deploy_tasks: [],24,1
openstack%2Fcharm-manila-ganesha~master~Ie8a4791f70111c8844149232da380ee29a163977,openstack/charm-manila-ganesha,master,Ie8a4791f70111c8844149232da380ee29a163977,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:10:28.000000000,2021-06-22 09:22:10.000000000,2021-06-22 09:22:10.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:10:28.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/b308b2cc2657c8558279b4d593270608fd680ca5', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ie8a4791f70111c8844149232da380ee29a163977\n'}]",0,791200,b308b2cc2657c8558279b4d593270608fd680ca5,17,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ie8a4791f70111c8844149232da380ee29a163977
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/00/791200/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b308b2cc2657c8558279b4d593270608fd680ca5,batch-update,fa14a3e8-b3eb-11eb-9a1d-a73843f31142,bea42f9c-64d9-11eb-9e11-9bcd5124a0ed,1,1
openstack%2Fkolla-ansible~master~I0f3ed4674f9629963e0a10118ad5d9b194fd4661,openstack/kolla-ansible,master,I0f3ed4674f9629963e0a10118ad5d9b194fd4661,Deploy Sahara with unversioned endpoints,MERGED,2019-03-04 06:10:56.000000000,2021-06-22 09:16:07.000000000,2019-03-07 10:11:13.000000000,"[{'_account_id': 9414}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-03-04 06:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc28122fffc087444963208de7eb7af457ef6fb3', 'message': 'eploy Sahara with unversioned endpoints\n\nSahara supports unversioned endpoint also for the current API v1.1,\nand deploying with unversioned endpoints is a better setting\nif people want to use both API v1.1 and the (soon-stable) API v2\nat the same time.\nSee https://review.openstack.org/#/c/582285/ for more details.\n\nChange-Id: I0f3ed4674f9629963e0a10118ad5d9b194fd4661\nCloses-Bug: #1782147\n'}, {'number': 2, 'created': '2019-03-04 06:11:44.000000000', 'files': ['ansible/roles/sahara/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/008e2b15ec9c31bfb516839106c1e00f87fca34c', 'message': 'Deploy Sahara with unversioned endpoints\n\nSahara supports unversioned endpoint also for the current API v1.1,\nand deploying with unversioned endpoints is a better setting\nif people want to use both API v1.1 and the (soon-stable) API v2\nat the same time.\nSee https://review.openstack.org/#/c/582285/ for more details.\n\nChange-Id: I0f3ed4674f9629963e0a10118ad5d9b194fd4661\nCloses-Bug: #1782147\n'}]",0,640668,008e2b15ec9c31bfb516839106c1e00f87fca34c,13,5,2,9414,,,0,"Deploy Sahara with unversioned endpoints

Sahara supports unversioned endpoint also for the current API v1.1,
and deploying with unversioned endpoints is a better setting
if people want to use both API v1.1 and the (soon-stable) API v2
at the same time.
See https://review.openstack.org/#/c/582285/ for more details.

Change-Id: I0f3ed4674f9629963e0a10118ad5d9b194fd4661
Closes-Bug: #1782147
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/640668/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/sahara/defaults/main.yml'],1,fc28122fffc087444963208de7eb7af457ef6fb3,bug/1782147,"sahara_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ sahara_api_port }}"" sahara_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ sahara_api_port }}"" sahara_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ sahara_api_port }}""","sahara_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn }}:{{ sahara_api_port }}/v1.1/%(tenant_id)s"" sahara_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ sahara_api_port }}/v1.1/%(tenant_id)s"" sahara_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn }}:{{ sahara_api_port }}/v1.1/%(tenant_id)s""",3,3
openstack%2Fpython-octaviaclient~stable%2Fvictoria~Ibc39478ab220d014264f066db041d7d2e28cb7b1,openstack/python-octaviaclient,stable/victoria,Ibc39478ab220d014264f066db041d7d2e28cb7b1,Dropping lower-constraints job,MERGED,2021-06-18 06:58:16.000000000,2021-06-22 09:13:19.000000000,2021-06-22 09:11:20.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 06:58:16.000000000', 'files': ['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/fd7cd86832288b51e19af3e605c1905ebc5529bd', 'message': ""Dropping lower-constraints job\n\nWe decided to drop lower-constraints jobs in the Octavia projects on\nstable branches. They consumes too much time to get them updated.\nWe're still maintaining those jobs on master branches.\n\nChange-Id: Ibc39478ab220d014264f066db041d7d2e28cb7b1\n""}]",0,796995,fd7cd86832288b51e19af3e605c1905ebc5529bd,9,4,1,29244,,,0,"Dropping lower-constraints job

We decided to drop lower-constraints jobs in the Octavia projects on
stable branches. They consumes too much time to get them updated.
We're still maintaining those jobs on master branches.

Change-Id: Ibc39478ab220d014264f066db041d7d2e28cb7b1
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/95/796995/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/projects.yaml', 'tox.ini']",3,fd7cd86832288b51e19af3e605c1905ebc5529bd,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,61
openstack%2Ftacker-specs~master~I80b180a433636d1ac70546535f1d3762f828cb13,openstack/tacker-specs,master,I80b180a433636d1ac70546535f1d3762f828cb13,Update min version of tox,MERGED,2021-05-10 11:21:15.000000000,2021-06-22 09:08:13.000000000,2021-06-22 09:05:35.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-10 11:21:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/565b195415c4be214245199826e75b39d352ff7e', 'message': 'Update min version of tox\n\nThis patch bumps the minimum version of tox to 3.18.0 [1].\nAdditionally fix the argument such as ""whitelist_externals""\nwhich is deprecated, it replaces whitelist_externals by\nallowlist_externals option [1].\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I80b180a433636d1ac70546535f1d3762f828cb13\n'}]",0,790418,565b195415c4be214245199826e75b39d352ff7e,10,6,1,32102,,,0,"Update min version of tox

This patch bumps the minimum version of tox to 3.18.0 [1].
Additionally fix the argument such as ""whitelist_externals""
which is deprecated, it replaces whitelist_externals by
allowlist_externals option [1].

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I80b180a433636d1ac70546535f1d3762f828cb13
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/18/790418/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,565b195415c4be214245199826e75b39d352ff7e,update-min-tox,minversion = 3.18.0allowlist_externals = rm,minversion = 2.0whitelist_externals = rm,2,2
openstack%2Fcharm-neutron-api-plugin-ovn~master~I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c,openstack/charm-neutron-api-plugin-ovn,master,I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:43.000000000,2021-06-22 09:03:58.000000000,2021-06-22 09:03:58.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:11:43.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/15e6453a5b917e3c32646fc870d67be80679bdf4', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c\n'}]",0,791210,15e6453a5b917e3c32646fc870d67be80679bdf4,19,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: I0ce4cd8fd63b507a3bc8fd2cc2fafbc3aa63050c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/10/791210/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,15e6453a5b917e3c32646fc870d67be80679bdf4,batch-update,fa2a32d0-b3eb-11eb-9b80-d3b790accf93,beb6cf1c-64d9-11eb-aa79-8b65f9205b01,1,1
openstack%2Ftacker-specs~master~Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb,openstack/tacker-specs,master,Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb,setup.cfg: Replace dashes with underscores,MERGED,2021-05-18 07:46:45.000000000,2021-06-22 09:03:40.000000000,2021-06-22 09:02:10.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-05-18 07:46:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/55cf046a80364d043218ff4729ea8dff991a92b3', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages like the following on new\nenough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb\n""}]",0,791898,55cf046a80364d043218ff4729ea8dff991a92b3,10,6,1,32102,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages like the following on new
enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iaa9f6083e0c47f437821d317d00e301e8ffe9bdb
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/98/791898/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,55cf046a80364d043218ff4729ea8dff991a92b3,replace-dashes-setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://specs.openstack.org/openstack/tacker-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://specs.openstack.org/openstack/tacker-specs/,3,3
openstack%2Fcharm-cinder-purestorage~master~Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32,openstack/charm-cinder-purestorage,master,Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:08:37.000000000,2021-06-22 09:00:57.000000000,2021-06-22 09:00:57.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:08:37.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/76008a6d04256c97409f8ac53270c5ab8f6f74d9', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32\n'}]",0,791186,76008a6d04256c97409f8ac53270c5ab8f6f74d9,14,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ib0ae5578002899d5c4b6f0e2e8db07fd5c9bee32
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/86/791186/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,76008a6d04256c97409f8ac53270c5ab8f6f74d9,batch-update,f9e1e8cc-b3eb-11eb-84e9-3b45336827da,be86f896-64d9-11eb-a97e-3fef34b62e4b,1,1
openstack%2Fcharm-ironic-conductor~master~Ia34c4709211bac49e8112a41af02b4886c341470,openstack/charm-ironic-conductor,master,Ia34c4709211bac49e8112a41af02b4886c341470,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:09:16.000000000,2021-06-22 08:59:30.000000000,2021-06-22 08:59:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:09:16.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/8db091f41d40ee489c2cba74a868cbb58388f512', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ia34c4709211bac49e8112a41af02b4886c341470\n'}]",0,791191,8db091f41d40ee489c2cba74a868cbb58388f512,11,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ia34c4709211bac49e8112a41af02b4886c341470
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/91/791191/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,8db091f41d40ee489c2cba74a868cbb58388f512,batch-update,f9f80d46-b3eb-11eb-be4d-e387acf7c1fb,82e49d08-5745-11eb-b8af-178608788a56,1,1
openstack%2Fkolla~master~I37e515827f6a4f9fabb33da7e546147aaee955fe,openstack/kolla,master,I37e515827f6a4f9fabb33da7e546147aaee955fe,Fix service_type of mistral,ABANDONED,2016-08-17 07:08:55.000000000,2021-06-22 08:59:01.000000000,,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 19316}]","[{'number': 1, 'created': '2016-08-17 07:08:55.000000000', 'files': ['ansible/roles/mistral/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ae1d7ac9d6d7405e63297ac4686d2a7eca08f045', 'message': 'Fix service_type of mistral\n\nThe service type used in ansible/roles/mistral/tasks/register.yml\nis application_catalog, which is wrong. It should be workflowv2.\n\nChange-Id: I37e515827f6a4f9fabb33da7e546147aaee955fe\nCloses-Bug: 1610968\n'}]",0,356271,ae1d7ac9d6d7405e63297ac4686d2a7eca08f045,8,5,1,9414,,,0,"Fix service_type of mistral

The service type used in ansible/roles/mistral/tasks/register.yml
is application_catalog, which is wrong. It should be workflowv2.

Change-Id: I37e515827f6a4f9fabb33da7e546147aaee955fe
Closes-Bug: 1610968
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/356271/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mistral/tasks/register.yml'],1,ae1d7ac9d6d7405e63297ac4686d2a7eca08f045,bug/1610968, service_type=workflowv2, service_type=application_catalog,1,1
openstack%2Fkolla-ansible~master~I13292500c394134c6c0ab0e50727389a47c97007,openstack/kolla-ansible,master,I13292500c394134c6c0ab0e50727389a47c97007,Remove ceilometer collector for cloudkitty-processor,MERGED,2018-05-24 01:58:45.000000000,2021-06-22 08:58:43.000000000,2018-07-16 07:10:31.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 14151}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24441}, {'_account_id': 26285}, {'_account_id': 26431}, {'_account_id': 27781}, {'_account_id': 28587}]","[{'number': 1, 'created': '2018-05-24 01:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f090d0b4365adf6faad5776748019a28d36ef53', 'message': 'Remove ceilometer collector for cloudkitty-processor\n\ncloudkitty-processor service error when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[1].\n\n[1]https://review.openstack.org/#/c/548630/\n\nChange-Id: I13292500c394134c6c0ab0e50727389a47c97007\n'}, {'number': 2, 'created': '2018-05-25 00:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64dda5decef8ed5168ce845d2663565c4736a540', 'message': 'Remove ceilometer collector for cloudkitty-processor\n\ncloudkitty-processor service error when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[1].\n\n[1]https://review.openstack.org/#/c/548630/\n\nChange-Id: I13292500c394134c6c0ab0e50727389a47c97007\n'}, {'number': 3, 'created': '2018-05-30 02:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15e2b18580222c513b6b5f2ae5d79247b8cc8893', 'message': 'Remove ceilometer collector for cloudkitty-processor\n\ncloudkitty-processor service error when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[1].\n\n[1]https://review.openstack.org/#/c/548630/\n\nChange-Id: I13292500c394134c6c0ab0e50727389a47c97007\nCloses-Bug: #1774091\n'}, {'number': 4, 'created': '2018-06-14 01:37:48.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60a11279f07769c62522e8cec3ab02ad6c6cc9e8', 'message': 'Remove ceilometer collector for cloudkitty-processor\n\ncloudkitty-processor service error when using ceilometer collector.\nBecause the ceilometer collector has been removed in cloudkitty repo[1].\n\n[1]https://review.openstack.org/#/c/548630/\n\nChange-Id: I13292500c394134c6c0ab0e50727389a47c97007\nCloses-Bug: #1774091\n'}]",2,570289,60a11279f07769c62522e8cec3ab02ad6c6cc9e8,39,17,4,9414,,,0,"Remove ceilometer collector for cloudkitty-processor

cloudkitty-processor service error when using ceilometer collector.
Because the ceilometer collector has been removed in cloudkitty repo[1].

[1]https://review.openstack.org/#/c/548630/

Change-Id: I13292500c394134c6c0ab0e50727389a47c97007
Closes-Bug: #1774091
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/570289/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,4f090d0b4365adf6faad5776748019a28d36ef53,bug/1774091,,"{% if cloudkitty_collector_backend == ""gnocchi"" %}{% elif cloudkitty_collector_backend == ""ceilometer"" %} [ceilometer_collector] auth_section = keystone_authtoken {% endif %}",0,5
openstack%2Fcharm-mysql-router~master~Ibf0755f62717d3dea0d8ed6b5977080689991b46,openstack/charm-mysql-router,master,Ibf0755f62717d3dea0d8ed6b5977080689991b46,rebuild - restore c-h proxy env vars for add-apt-repository,MERGED,2021-05-13 13:11:08.000000000,2021-06-22 08:56:11.000000000,2021-06-22 08:56:11.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-13 13:11:08.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/9de8958b2632749a206ee5595150ae22f7998701', 'message': 'rebuild - restore c-h proxy env vars for add-apt-repository\n\nChange-Id: Ibf0755f62717d3dea0d8ed6b5977080689991b46\n'}]",0,791207,9de8958b2632749a206ee5595150ae22f7998701,18,3,1,11805,,,0,"rebuild - restore c-h proxy env vars for add-apt-repository

Change-Id: Ibf0755f62717d3dea0d8ed6b5977080689991b46
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/07/791207/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,9de8958b2632749a206ee5595150ae22f7998701,batch-update,fa205314-b3eb-11eb-b8a1-770a5c5f3f83,beae9a90-64d9-11eb-b72a-cfb58d23d450,1,1
openstack%2Fproject-config~master~I17504632998a4ec0b4db120783852f7267c4b4c6,openstack/project-config,master,I17504632998a4ec0b4db120783852f7267c4b4c6,Enable publish-openstack-python-tarball job,MERGED,2021-06-18 10:22:38.000000000,2021-06-22 08:44:19.000000000,2021-06-22 06:51:05.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-06-18 10:22:38.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/69d99110944f6a17983e731832e703090f17f842', 'message': 'Enable publish-openstack-python-tarball job\n\nhttps://review.opendev.org/c/openstack/project-config/+/791745\nadds the above job, It needs to be enable for\ntripleo-operator-ansible so that it will run in release\npipeline.\n\nWe defined the release job[1] with in\ntripleo-operator-ansible project but it is not working\nas it requires secrets which exists with in project-config repo.\n\nFor fixing and enabling it, we are adding the job here so that\nit will gets triggered in the release pipeline.\n\n[1] https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I17504632998a4ec0b4db120783852f7267c4b4c6\n'}]",3,797049,69d99110944f6a17983e731832e703090f17f842,10,7,1,12393,,,0,"Enable publish-openstack-python-tarball job

https://review.opendev.org/c/openstack/project-config/+/791745
adds the above job, It needs to be enable for
tripleo-operator-ansible so that it will run in release
pipeline.

We defined the release job[1] with in
tripleo-operator-ansible project but it is not working
as it requires secrets which exists with in project-config repo.

For fixing and enabling it, we are adding the job here so that
it will gets triggered in the release pipeline.

[1] https://review.opendev.org/c/openstack/tripleo-operator-ansible/+/791645
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I17504632998a4ec0b4db120783852f7267c4b4c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/797049/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,69d99110944f6a17983e731832e703090f17f842,remove_uneeded_tq_requirements, release: jobs: - publish-openstack-python-tarball,,3,0
openstack%2Fkolla~master~I511fa599f43c5376f841ec6d03e272243aaa2ba4,openstack/kolla,master,I511fa599f43c5376f841ec6d03e272243aaa2ba4,tox: Use allowlist_externals instead of whitelist_externals,MERGED,2021-05-18 12:05:49.000000000,2021-06-22 08:36:43.000000000,2021-06-22 08:34:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-18 12:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c455ee978f4ed0ec5a89af236055730c2d4bc84e', 'message': 'tox: Use allowlist_externals instead of whitelist_externals\n\nwhitelist_externals is now deprecated, use allowlist_externals\ninstead. see[0]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n\nChange-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4\n'}, {'number': 2, 'created': '2021-06-22 01:06:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd49c3d6fe90b05d2181fe1f18481620b32506c3', 'message': 'tox: Use allowlist_externals instead of whitelist_externals\n\nwhitelist_externals is now deprecated, use allowlist_externals\ninstead. see[0]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n\nfollow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928\n\nChange-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4\n'}]",1,791930,fd49c3d6fe90b05d2181fe1f18481620b32506c3,14,3,2,26285,,,0,"tox: Use allowlist_externals instead of whitelist_externals

whitelist_externals is now deprecated, use allowlist_externals
instead. see[0]

[0]: https://tox.readthedocs.io/en/latest/config.html

follow: https://review.opendev.org/c/openstack/kolla-ansible/+/791928

Change-Id: I511fa599f43c5376f841ec6d03e272243aaa2ba4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/791930/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c455ee978f4ed0ec5a89af236055730c2d4bc84e,,allowlist_externals = findallowlist_externals = makeallowlist_externals = which,whitelist_externals = findwhitelist_externals = makewhitelist_externals = which,3,3
openstack%2Ftripleo-validations~stable%2Fwallaby~I7507ce26879d3de71387c035e06d5a25bf5543d3,openstack/tripleo-validations,stable/wallaby,I7507ce26879d3de71387c035e06d5a25bf5543d3,DNM,ABANDONED,2021-06-02 08:49:53.000000000,2021-06-22 08:23:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 08:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a84f390b9dc915748cb6045128a6f7e84cd283a7', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}, {'number': 2, 'created': '2021-06-02 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/84518902513c89d544340967581d599bad61a44a', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}, {'number': 3, 'created': '2021-06-02 08:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cb422b2e8e94f4f723d8fc540ba87d5fbba706f8', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}, {'number': 4, 'created': '2021-06-02 09:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1a70e439bc23d3f3444321cfb4726a6feb889d6b', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}, {'number': 5, 'created': '2021-06-02 09:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d74563bc95cc79777b88647e30266c3975727d7f', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}, {'number': 6, 'created': '2021-06-02 09:14:45.000000000', 'files': ['ci/playbooks/pre.yml', 'zuul.d/molecule.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/441be3aa77760d9b86367d030297c78e8fd6c0f7', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3\n'}]",0,794165,441be3aa77760d9b86367d030297c78e8fd6c0f7,8,1,6,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7507ce26879d3de71387c035e06d5a25bf5543d3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/65/794165/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/base.yaml']",2,a84f390b9dc915748cb6045128a6f7e84cd283a7,zuul/generalization, files: - ^tests/prepare-test-host.yml - ^ci/playbooks/pre.yml - ^ci/playbooks/run.yml,,4,3
openstack%2Fvalidations-common~master~I4bfa744097dc095694dce3d165543840c18c2230,openstack/validations-common,master,I4bfa744097dc095694dce3d165543840c18c2230,DNM,ABANDONED,2021-06-02 07:42:54.000000000,2021-06-22 08:20:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-02 07:42:54.000000000', 'files': ['validations_common/roles/advanced_format_512e_support/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/e36ecc10000d404a0817479170419f8cba49f921', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/794144\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4bfa744097dc095694dce3d165543840c18c2230\n'}]",0,794149,e36ecc10000d404a0817479170419f8cba49f921,7,1,1,32926,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/794144

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4bfa744097dc095694dce3d165543840c18c2230
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/49/794149/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/advanced_format_512e_support/tasks/main.yml'],1,e36ecc10000d404a0817479170419f8cba49f921,test/molgen,- name: List the available drives ABCD,- name: List the available drives,1,1
openstack%2Fvalidations-common~master~Ic78f9080c72ad9e0e38a44efb6085f873338a7fb,openstack/validations-common,master,Ic78f9080c72ad9e0e38a44efb6085f873338a7fb,DNM Potential fix,ABANDONED,2021-06-11 10:58:20.000000000,2021-06-22 08:20:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-11 10:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a634550078b4304dc0b357a229b17bdf604a37e6', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}, {'number': 2, 'created': '2021-06-14 06:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/adc24ecee40aa677612aed8f1d02baec3ad183c6', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}, {'number': 3, 'created': '2021-06-14 07:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/33fd55dc430a556e2080a8d01d5665da4db1ec4e', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}, {'number': 4, 'created': '2021-06-14 07:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/264497ce7eb079221a05fe1ef93be05c65564ac2', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}, {'number': 5, 'created': '2021-06-14 11:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/64156367dc22b8e7e80711fa032a912101c42710', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}, {'number': 6, 'created': '2021-06-15 06:17:25.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7ff4a9df47e2fba1830691b6bc0a3c5eaf1fbf42', 'message': 'DNM Potential fix\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb\n'}]",0,795987,7ff4a9df47e2fba1830691b6bc0a3c5eaf1fbf42,18,1,6,32926,,,0,"DNM Potential fix

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ic78f9080c72ad9e0e38a44efb6085f873338a7fb
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/87/795987/3 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,a634550078b4304dc0b357a229b17bdf604a37e6,callback/logpathfix," os.path.join(os.environ.get('HOME'), 'validations'))", os.environ.get('HOME')),1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda,openstack/python-tripleoclient,stable/wallaby,Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda,DNM import all cmds,ABANDONED,2021-06-17 08:19:06.000000000,2021-06-22 08:19:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-17 08:19:06.000000000', 'files': ['doc/source/commands.rst'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bffaabca15d6e3483ec9b9ff2a10584de2c9198', 'message': 'DNM import all cmds\n\nChange-Id: Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda\n'}]",0,796797,3bffaabca15d6e3483ec9b9ff2a10584de2c9198,3,1,1,32926,,,0,"DNM import all cmds

Change-Id: Ie98d5326be7ddbed4ffe4d542a0a882c0dd35fda
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/796797/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/commands.rst'],1,3bffaabca15d6e3483ec9b9ff2a10584de2c9198,docdiagnosis, :command: *, :command: tripleo deploy .. autoprogram-cliff:: openstack.tripleoclient.v2 :command: tripleo upgrade,1,4
openstack%2Fcyborg~master~I32b65f4053a90dfbdd6d491fc8e356cc148d53fb,openstack/cyborg,master,I32b65f4053a90dfbdd6d491fc8e356cc148d53fb,revert the created device datas,MERGED,2021-05-12 06:10:07.000000000,2021-06-22 07:52:12.000000000,2021-05-14 07:13:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-05-12 06:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/19880c587bd72c0c21473e30e9763e9421bfd7bc', 'message': 'revert the created device datas\n\nCloses-Bug: #1928077\nChange-Id: I32b65f4053a90dfbdd6d491fc8e356cc148d53fb\n'}, {'number': 2, 'created': '2021-05-13 03:04:47.000000000', 'files': ['cyborg/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/516a7d7094f1f17dd762e2ccd85b0643bf1ca08b', 'message': 'revert the created device datas\n\nCloses-Bug: #1928077\nChange-Id: I32b65f4053a90dfbdd6d491fc8e356cc148d53fb\n'}]",2,790901,516a7d7094f1f17dd762e2ccd85b0643bf1ca08b,13,5,2,30077,,,0,"revert the created device datas

Closes-Bug: #1928077
Change-Id: I32b65f4053a90dfbdd6d491fc8e356cc148d53fb
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/01/790901/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/conductor/manager.py'],1,19880c587bd72c0c21473e30e9763e9421bfd7bc,bug/1928077," try: new_driver_dev_obj.create(context, host) except Exception as exc: LOG.exception(""Failed to add device %(device)s. "" ""Reason: %(reason)s"", {'device': new_driver_dev_obj, 'reason': exc}) new_driver_dev_obj.destroy(context, host)"," new_driver_dev_obj.create(context, host)",8,1
openstack%2Fdesignate~master~If9e7d1ac3a8d518ed445ad76ce5175f40408a02a,openstack/designate,master,If9e7d1ac3a8d518ed445ad76ce5175f40408a02a,TLD Doc update,MERGED,2021-06-10 07:33:55.000000000,2021-06-22 07:49:31.000000000,2021-06-22 07:46:14.000000000,"[{'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31933}]","[{'number': 1, 'created': '2021-06-10 07:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/918cc41913e78c22727161e3699235af777d4184', 'message': '[WIP] TLD Doc update\n\nAdd some more detail to the TLD admin doc. Replace API calls with\ncli.\n\nChange-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a\n'}, {'number': 2, 'created': '2021-06-10 09:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cac13c8d2be707ce51c55b6701c2403ff635d2e5', 'message': '[WIP] TLD Doc update\n\nAdd some more detail to the TLD admin doc. Replace API calls with\ncli.\n\nChange-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a\n'}, {'number': 3, 'created': '2021-06-11 02:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f2a5f6c435409d9738dad8c591a807dca1175c8a', 'message': 'TLD Doc update\n\nAdd some more detail to the TLD admin doc. Replace API calls with\ncli.\n\nChange-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a\n'}, {'number': 4, 'created': '2021-06-16 04:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/49942addb6af9abde577b3b0b16544662fb1ddd3', 'message': 'TLD Doc update\n\nAdd some more detail to the TLD admin doc. Replace API calls with\ncli.\n\nChange-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a\n'}, {'number': 5, 'created': '2021-06-17 01:43:41.000000000', 'files': ['doc/source/admin/tlds.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/3df130af12d098f5cf17a62f29b6d10eb9244159', 'message': 'TLD Doc update\n\nAdd some more detail to the TLD admin doc. Replace API calls with\ncli.\n\nChange-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a\n'}]",32,795735,3df130af12d098f5cf17a62f29b6d10eb9244159,20,5,5,6994,,,0,"TLD Doc update

Add some more detail to the TLD admin doc. Replace API calls with
cli.

Change-Id: If9e7d1ac3a8d518ed445ad76ce5175f40408a02a
",git fetch https://review.opendev.org/openstack/designate refs/changes/35/795735/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/tlds.rst'],1,918cc41913e78c22727161e3699235af777d4184,tld_doc,"System Administrators can restrict the domains under which users can create zones using TLDs. While in the Domain Name System the term ""TLD"" refers specifically to the set of domains that lie directly below the root, such as ``.org``, in Designate a TLD can be any domain. For example, if you want to only allow users to create zones that end in ``.org.``, this can be achieved by creating a single ``.org`` TLD using the following command: $ openstack tld create --name org | created_at | 2021-06-10T05:20:16.000000 | | id | 9fd0a12d-511e-4024-bf76-6ec2e3e71edd | | name | org |.. note:: You must omit the trailing dot from the FQDN provided to the TLD command. If you now attempt to create a zone that does not lie within the ``.org`` TLD, it will fail: $ openstack zone create --email admin@test.net test.net.TLDs function much like an allowlist, in that if there are many TLDs then the zone must lie within one of the TLDs present. However, If no TLDs have been created in Designate, then users can create any zone. You can modify the values for a TLD using the set command. You can use either the name or the ID to specify which TLD to set. The current name of the TLD is used to identify it, so if you modify the name then subsequent set calls will need to use the new name. $ openstack tld set org --name example.net +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | created_at | 2021-06-10T05:20:16.000000 | | description | | | id | 9fd0a12d-511e-4024-bf76-6ec2e3e71edd | | name | org | | updated_at | 2021-06-10T07:09:45.000000 | +-------------+--------------------------------------+ $ openstack tld set org --description 'hello' Name example.net didn't resolve You can delete a TLD by providing either the ID or current name: .. code-block:: console $ openstack tld delete org This command has no output when completed successfully.","Designate allows management of the Top-Level Domains (TLDs) that users are allowed to create zones within. For example, it's simple to only allow users to create zones that end in ``.com.`` TLD. By default, all TLDs are allowed in Designate, this is ok for most scenarios. If for example you wanted to restrict to only ``.com.`` though, you could make the following API call. .. code-block:: http POST /v2/tlds HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""com"" } Response: .. code-block:: http HTTP/1.1 201 CREATED Content-Type: application/json X-Openstack-Request-Id: req-432e72b4-f4e1-4f9c-8e35-53decc752260 { ""id"": ""2f8bc76d-1701-4323-a101-248e09471342"", ""name"": ""com"", ""description"": null, ""created_at"": ""2020-06-01T16:25:44.000000"", ""updated_at"": null, ""links"": { ""self"": ""http://127.0.0.1:9001/v2/tlds/2f8bc76d-1701-4323-a101-248e09471342"" } } Using the command line client: $ openstack tld create --name com | created_at | 2020-06-01T16:25:44.000000 | | id | 2f8bc76d-1701-4323-a101-248e09471342 | | name | com |Now, if someone were to try and create ``example.net.``, they would encounter an error: .. code-block:: http POST /v2/zones HTTP/1.1 Accept: application/json Content-Type: application/json { ""name"": ""example.net."", ""type"": ""PRIMARY"", ""email"": ""admin@example.net"" } .. code-block:: http HTTP/1.1 400 BAD REQUEST Content-Type: application/json X-Openstack-Request-Id: req-3a8985fd-0155-4dd4-a7fb-584b140f1f59 { ""code"": 400, ""type"": ""invalid_zone_name"", ""message"": ""Invalid TLD"", ""request_id"": ""req-3a8985fd-0155-4dd4-a7fb-584b140f1f59"" } Using the command line client: $ openstack zone create --email admin@example.net example.net.TLDs can be deleted, just like many other resources in the API, using ``DELETE /v2/tlds/<id>``: .. code-block:: http DELETE /v2/tlds/2f8bc76d-1701-4323-a101-248e09471342 HTTP/1.1 Accept: application/json Content-Type: application/json Or by using the command line client: $ openstack tld delete com TLD com was deleted",43,84
openstack%2Fdesignate~master~Id28a67abc74c3e14d4cba8d3278c89a1fe029252,openstack/designate,master,Id28a67abc74c3e14d4cba8d3278c89a1fe029252,replace whitelist_externals by allowlist_externals,MERGED,2021-06-22 02:15:47.000000000,2021-06-22 07:48:20.000000000,2021-06-22 07:46:10.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-22 02:15:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/6916137b823ccb33a84c6dc7e4f3550ef8f0de8f', 'message': ""replace whitelist_externals by allowlist_externals\n\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nDepends-on: https://review.opendev.org/c/openstack/designate/+/796597\nChange-Id: Id28a67abc74c3e14d4cba8d3278c89a1fe029252\n""}]",0,797372,6916137b823ccb33a84c6dc7e4f3550ef8f0de8f,9,3,1,32238,,,0,"replace whitelist_externals by allowlist_externals

replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Depends-on: https://review.opendev.org/c/openstack/designate/+/796597
Change-Id: Id28a67abc74c3e14d4cba8d3278c89a1fe029252
",git fetch https://review.opendev.org/openstack/designate refs/changes/72/797372/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6916137b823ccb33a84c6dc7e4f3550ef8f0de8f,,allowlist_externals =allowlist_externals =allowlist_externals = bash,whitelist_externals =whitelist_externals =whitelist_externals = bash,3,3
openstack%2Fneutron~master~I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b,openstack/neutron,master,I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b,Fix priority review dashboard,MERGED,2021-06-22 05:32:23.000000000,2021-06-22 07:39:46.000000000,2021-06-22 07:00:57.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 05:32:23.000000000', 'files': ['doc/source/contributor/dashboards/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e2088abbecc3ed17b816e2432c068b83b728671', 'message': 'Fix priority review dashboard\n\nThe URL was containing quoted quotations, using e.g. %2528 instead of just\n%28 for a ""("", fix this.\n\nChange-Id: I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b\n'}]",0,797385,1e2088abbecc3ed17b816e2432c068b83b728671,10,4,1,13252,,,0,"Fix priority review dashboard

The URL was containing quoted quotations, using e.g. %2528 instead of just
%28 for a ""("", fix this.

Change-Id: I5d0fa7da847b72015aa82e5ca3f75206f0f45b2b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/797385/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/dashboards/index.rst'],1,1e2088abbecc3ed17b816e2432c068b83b728671,fix-prio-dashboard,- `Neutron priority reviews <https://review.opendev.org/#/dashboard/?title=Neutron+Priorities+Dashboard&foreach=%28project%3Aopenstack%2Fneutron+OR%0Aproject%3Aopenstack%2Fneutron%2Dlib+OR%0Aproject%3Aopenstack%2Fneutron%2Dtempest%2Dplugin+OR%0Aproject%3Aopenstack%2Fpython%2Dneutronclient+OR%0Aproject%3Aopenstack%2Fneutron%2Dspecs+OR%0Aproject%3Aopenstack%2Fnetworking%2Dbagpipe+OR%0Aproject%3Aopenstack%2Fnetworking%2Dbgpvpn+OR%0Aproject%3Aopenstack%2Fnetworking%2Dodl+OR%0Aproject%3Aopenstack%2Fnetworking%2Dovn+OR%0Aproject%3Aopenstack%2Fnetworking%2Dsfc+OR%0Aproject%3Aopenstack%2Fneutron%2Ddynamic%2Drouting+OR%0Aproject%3Aopenstack%2Fneutron%2Dfwaas+OR%0Aproject%3Aopenstack%2Fneutron%2Dfwaas%2Ddashboard+OR%0Aproject%3Aopenstack%2Fneutron%2Dvpnaas+OR%0Aproject%3Aopenstack%2Fneutron%2Dvpnaas%2Ddashboard+OR%0Aproject%3Aopenstack%2Fos%2Dken+OR%0Aproject%3Aopenstack%2Fovsdbapp%29+status%3Aopen&High+Priority+Changes=label%3AReview%2DPriority%3D2&Priority+Changes=label%3AReview%2DPriority%3D1&Blocked+Reviews=label%3AReview%2DPriority%3D%2D1>`_,- `Neutron priority reviews <https://review.opendev.org/#/dashboard/?title=Neutron+Priorities+Dashboard&foreach=%2528project%253Aopenstack%252Fneutron+OR%250Aproject%253Aopenstack%252Fneutron%252Dlib+OR%250Aproject%253Aopenstack%252Fneutron%252Dtempest%252Dplugin+OR%250Aproject%253Aopenstack%252Fpython%252Dneutronclient+OR%250Aproject%253Aopenstack%252Fneutron%252Dspecs+OR%250Aproject%253Aopenstack%252Fnetworking%252Dbagpipe+OR%250Aproject%253Aopenstack%252Fnetworking%252Dbgpvpn+OR%250Aproject%253Aopenstack%252Fnetworking%252Dodl+OR%250Aproject%253Aopenstack%252Fnetworking%252Dovn+OR%250Aproject%253Aopenstack%252Fnetworking%252Dsfc+OR%250Aproject%253Aopenstack%252Fneutron%252Ddynamic%252Drouting+OR%250Aproject%253Aopenstack%252Fneutron%252Dfwaas+OR%250Aproject%253Aopenstack%252Fneutron%252Dfwaas%252Ddashboard+OR%250Aproject%253Aopenstack%252Fneutron%252Dvpnaas+OR%250Aproject%253Aopenstack%252Fneutron%252Dvpnaas%252Ddashboard+OR%250Aproject%253Aopenstack%252Fos%252Dken+OR%250Aproject%253Aopenstack%252Fovsdbapp%2529+status%253Aopen&High+Priority+Changes=label%253AReview%252DPriority%253D2&Priority+Changes=label%253AReview%252DPriority%253D1&Blocked+Reviews=label%253AReview%252DPriority%253D%252D1>`_,1,1
openstack%2Fdesignate-tempest-plugin~master~I06459a6208757b95117af3f270fde60b847f0b97,openstack/designate-tempest-plugin,master,I06459a6208757b95117af3f270fde60b847f0b97,Re-enable zone export list filter test,MERGED,2021-05-18 03:32:07.000000000,2021-06-22 07:37:34.000000000,2021-06-22 07:36:07.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28609}]","[{'number': 1, 'created': '2021-05-18 03:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/70246ec47a189d8a8fd46e90d6c042516b35b345', 'message': 'Re-enable zone export list filter test\n\nFilter criteria are respected when listing zone imports and exports\n\nDepends-On: https://review.opendev.org/789711\nChange-Id: I06459a6208757b95117af3f270fde60b847f0b97\n'}, {'number': 2, 'created': '2021-05-26 06:23:12.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_exports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ce1a26c8e0c58c920eb93ab59ab278005cde9d6e', 'message': 'Re-enable zone export list filter test\n\nFilter criteria are respected when listing zone imports and exports\n\nDepends-On: https://review.opendev.org/789711\nChange-Id: I06459a6208757b95117af3f270fde60b847f0b97\n'}]",0,791884,ce1a26c8e0c58c920eb93ab59ab278005cde9d6e,12,4,2,6994,,,0,"Re-enable zone export list filter test

Filter criteria are respected when listing zone imports and exports

Depends-On: https://review.opendev.org/789711
Change-Id: I06459a6208757b95117af3f270fde60b847f0b97
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/84/791884/2 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_zones_exports.py'],1,70246ec47a189d8a8fd46e90d6c042516b35b345,lp_1926058,, @decorators.skip_because(bug='1926058'),0,1
openstack%2Fdesignate~master~I983d930f975c109cce24a9587bba6db563b3f19f,openstack/designate,master,I983d930f975c109cce24a9587bba6db563b3f19f,Support filtering on zone import/export list,MERGED,2021-05-05 06:59:03.000000000,2021-06-22 07:22:57.000000000,2021-06-22 07:21:10.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-05-05 06:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c83bf7a5b91b3d9666aa1be3a70b7acf42d3c9c0', 'message': '[WIP] Support filtering on zone import/export list\n\nList operations should add the task_type criterion to the user\nprovided criterion.\n\nChange-Id: I983d930f975c109cce24a9587bba6db563b3f19f\nLaunchpad: 1926058\n'}, {'number': 2, 'created': '2021-05-18 03:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/389f83ccf4f842297293fb8f88ac2bcb9a42797f', 'message': 'Support filtering on zone import/export list\n\nList operations should add the task_type criterion to the user\nprovided criterion.\n\nChange-Id: I983d930f975c109cce24a9587bba6db563b3f19f\nLaunchpad: 1926058\n'}, {'number': 3, 'created': '2021-05-24 14:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d8febb22c2d15b4825859cd3afeaf3ba48de431f', 'message': '[WIP] Support filtering on zone import/export list\n\nList operations should add the task_type criterion to the user\nprovided criterion.\n\nChange-Id: I983d930f975c109cce24a9587bba6db563b3f19f\nLaunchpad: 1926058\n'}, {'number': 4, 'created': '2021-05-26 14:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4df2c5e27ddc6beb0f0444725c6e1571b443c251', 'message': 'Support filtering on zone import/export list\n\nList operations should add the task_type criterion to the user\nprovided criterion.\n\nChange-Id: I983d930f975c109cce24a9587bba6db563b3f19f\nLaunchpad: 1926058\n'}, {'number': 5, 'created': '2021-06-19 03:38:40.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/fb9f0b33d338037365f5c9dae20f4f795b119d13', 'message': 'Support filtering on zone import/export list\n\nList operations should add the task_type criterion to the user\nprovided criterion.\n\nChange-Id: I983d930f975c109cce24a9587bba6db563b3f19f\nLaunchpad: 1926058\n'}]",0,789711,fb9f0b33d338037365f5c9dae20f4f795b119d13,27,3,5,6994,,,0,"Support filtering on zone import/export list

List operations should add the task_type criterion to the user
provided criterion.

Change-Id: I983d930f975c109cce24a9587bba6db563b3f19f
Launchpad: 1926058
",git fetch https://review.opendev.org/openstack/designate refs/changes/11/789711/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,c83bf7a5b91b3d9666aa1be3a70b7acf42d3c9c0,zone_filter, if not criterion: criterion = { 'task_type': 'IMPORT' } else: criterion['task_type'] = 'IMPORT' if not criterion: criterion = { 'task_type': 'EXPORT' } else: criterion['task_type'] = 'EXPORT' , criterion = { 'task_type': 'IMPORT' } criterion = { 'task_type': 'EXPORT' },14,6
openstack%2Fkuryr-kubernetes~master~I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca,openstack/kuryr-kubernetes,master,I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca,Update the Handlers and the Resources,MERGED,2021-06-08 13:10:46.000000000,2021-06-22 07:21:43.000000000,2021-06-22 07:20:14.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-06-08 13:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a75430b42cc5bb011d1b82383336698b308ef5d9', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 2, 'created': '2021-06-09 15:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e9de4b39130bce3d37ee8bfc5fcc48e082efaed8', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 3, 'created': '2021-06-10 09:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d8a7ad14e5b63c92e51be4529cb62eb7e337c02b', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 4, 'created': '2021-06-10 12:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/70e8d4b3238b048fc1b461b537db7c32e5739680', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 5, 'created': '2021-06-11 15:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe76ad557393aaec14e6fc42ab90d1a18ee26cbe', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 6, 'created': '2021-06-14 12:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/008f669c124d1e353f7ee34fb75f64bc35354506', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 7, 'created': '2021-06-15 06:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6ad79891ddb0a77164c2293c156284fd2cd5d7f0', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 8, 'created': '2021-06-15 07:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/81c6476a29e7a3b1c28b251dbf876022445ac7ac', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 9, 'created': '2021-06-18 10:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/389976c1c4998cec7fbf1b98fc2df19d0de13b69', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 10, 'created': '2021-06-18 11:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/18e35478b6a60e85e0d004bb36651e9a4a42f087', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 11, 'created': '2021-06-18 11:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/60e62cd9c34143efc3cd074601449106912c9897', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 12, 'created': '2021-06-18 16:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9bdbc47e598353251bcdd8b50e8d8ea5b4b1430d', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}, {'number': 13, 'created': '2021-06-21 09:17:14.000000000', 'files': ['doc/source/devref/kuryr_kubernetes_design.rst'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/032d0736f834d3d0c2be4d1467f5a6c5c31707f0', 'message': 'Update the Handlers and the Resources\n\nChange-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca\n'}]",15,795322,032d0736f834d3d0c2be4d1467f5a6c5c31707f0,44,3,13,33240,,,0,"Update the Handlers and the Resources

Change-Id: I4cc3c19a76acaaf2e1a2255d3e344aa61d5da2ca
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/22/795322/9 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/kuryr_kubernetes_design.rst'],1,a75430b42cc5bb011d1b82383336698b308ef5d9,udoc,"from registered endpoints. It is the software component that calls a handler either to the controller or the CNI depending on the observed event. Say a service is created at the Kubernetes end, the watcher determines that this action should be passed to the controller and calls the appropriate handler to handle the event, in this case the lbaas.py handler watching this event endpoint. kuryrnetwork KuryrNetwork CRD",from registered endpoints.,7,1
openstack%2Fopenstack-ansible-galera_server~master~I763106d90ef481203c3a1a6456102dc0d46e8b39,openstack/openstack-ansible-galera_server,master,I763106d90ef481203c3a1a6456102dc0d46e8b39,DNM - Test PKI role,ABANDONED,2021-04-26 16:00:40.000000000,2021-06-22 07:16:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 16:00:40.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/37306af2d758560205054f048da19438794641f2', 'message': 'DNM - Test PKI role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031\nChange-Id: I763106d90ef481203c3a1a6456102dc0d46e8b39\n'}]",0,788041,37306af2d758560205054f048da19438794641f2,4,1,1,25023,,,0,"DNM - Test PKI role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/788031
Change-Id: I763106d90ef481203c3a1a6456102dc0d46e8b39
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/41/788041/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,37306af2d758560205054f048da19438794641f2,osa/pki,,,0,0
openstack%2Ftripleo-operator-ansible~master~I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f,openstack/tripleo-operator-ansible,master,I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f,"Revert ""Added publish-openstack-python-tarball job to publish the tarballs""",MERGED,2021-06-18 10:23:57.000000000,2021-06-22 07:14:21.000000000,2021-06-22 07:14:21.000000000,"[{'_account_id': 5263}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13252}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-18 10:23:57.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/574ada8d5799291a82f37f82b12d0fb2f6f7de98', 'message': 'Revert ""Added publish-openstack-python-tarball job to publish the tarballs""\n\nThis reverts commit d997a4b7cb0633743fe0f0cb7dc4f464e48063ca.\n\nReason for revert: https://review.opendev.org/c/openstack/project-config/+/797049 the job needs to be added in project-config repo\n\nChange-Id: I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f\n'}]",0,797028,574ada8d5799291a82f37f82b12d0fb2f6f7de98,7,10,1,12393,,,0,"Revert ""Added publish-openstack-python-tarball job to publish the tarballs""

This reverts commit d997a4b7cb0633743fe0f0cb7dc4f464e48063ca.

Reason for revert: https://review.opendev.org/c/openstack/project-config/+/797049 the job needs to be added in project-config repo

Change-Id: I2f3837ec5c4bcd5e0a8502ec28354ed3fdd7418f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/28/797028/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,574ada8d5799291a82f37f82b12d0fb2f6f7de98,remove_uneeded_tq_requirements,, release: jobs: - publish-openstack-python-tarball,0,4
openstack%2Fkolla-ansible~master~Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a,openstack/kolla-ansible,master,Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a,[CI] Test bifrost on Ubuntu as well,MERGED,2021-06-10 09:19:57.000000000,2021-06-22 06:41:51.000000000,2021-06-22 06:38:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-10 09:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aae416742ca2463c9ce025ada115f699f213c6cc', 'message': '[WIP] [CI] Test bifrost on Debian and Ubuntu\n\nChange-Id: Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a\n'}, {'number': 2, 'created': '2021-06-10 09:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/745fc555848cc1e4f371f19253dd3eff073f4bcf', 'message': '[WIP] [CI] Test bifrost on Debian and Ubuntu\n\nChange-Id: Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a\n'}, {'number': 3, 'created': '2021-06-10 11:25:38.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/085a30f751476d52b4f3d91ef476e239223cb833', 'message': '[CI] Test bifrost on Ubuntu as well\n\nNow that bifrost on Ubuntu focal is fully supported\nboth upstream (bifrost, kolla) and downstream (kayobe),\nwe should test it in kolla ansible CI.\n\nChange-Id: Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a\n'}]",0,795750,085a30f751476d52b4f3d91ef476e239223cb833,13,3,3,30491,,,0,"[CI] Test bifrost on Ubuntu as well

Now that bifrost on Ubuntu focal is fully supported
both upstream (bifrost, kolla) and downstream (kayobe),
we should test it in kolla ansible CI.

Change-Id: Id3c3b7aadb9cf19813ccf3a9d39858f68526d25a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/795750/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/jobs.yaml']",2,aae416742ca2463c9ce025ada115f699f213c6cc,kolla-ansible-bifrost-more, name: kolla-ansible-debian-source-bifrost parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-debian-bullseye vars: base_distro: debian - job: name: kolla-ansible-ubuntu-source-bifrost parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-focal vars: base_distro: ubuntu - job:,,14,4
openstack%2Fkolla-ansible~stable%2Fvictoria~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/victoria,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:22.000000000,2021-06-22 06:41:38.000000000,2021-06-22 06:38:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 33105}]","[{'number': 1, 'created': '2021-06-21 09:32:22.000000000', 'files': ['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12157d68bf0ecc0cf9ab996977bce1d5beaa0ea5', 'message': 'chronyd crash loop if Debian server is rebooted\n\nThis patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,\nas described in Bug-ID: #1915528.\n\nDue to permissions issue, before this fix is applied chronyd process will be exiting with\nroot cause error message:\n\nFatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied\nThis has to do with priviledges we configured for chrony. Relaxing them fixes the issue.\nTested on top of stable/victoria and Debian 10 Buster.\n\nNot tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise\nthe owner and make it configurable (just one idea).\n\nCloses-Bug: #1915528\nChange-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467\n(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)\n'}]",0,797255,12157d68bf0ecc0cf9ab996977bce1d5beaa0ea5,9,4,1,14826,,,0,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/797255/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml']",2,12157d68bf0ecc0cf9ab996977bce1d5beaa0ea5,,--- fixes: - | chronyd crash loop if server is rebooted (Debian) `LP#1915528 <https://launchpad.net/bugs/1915528>`__ ,,7,2
openstack%2Fdesignate-tempest-plugin~master~Ic074c2c4dc5a5f97c609aac5992f78557722bb71,openstack/designate-tempest-plugin,master,Ic074c2c4dc5a5f97c609aac5992f78557722bb71,Fix list-all-project tests for pagination limit,MERGED,2021-06-21 23:43:28.000000000,2021-06-22 06:26:02.000000000,2021-06-22 06:23:58.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-21 23:43:28.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/65ebf4bbe79e856cf3878a6ef20c6486276c07d5', 'message': 'Fix list-all-project tests for pagination limit\n\nDesignate has a fairly small default pagination limit of 20.\nSome tests were making list API calls with the all-projects header,\nwhich with parallel test execution could cause the list to exceed the\ndefault pagination limit of 20. This would cause the tests to intermittently\nfail.\nThis patch sets the request parameter ""limit"" to 1000 for these tests\nto allow for parallel test execution which may cause lists to include\nmore than twenty entries.\n\nChange-Id: Ic074c2c4dc5a5f97c609aac5992f78557722bb71\n'}]",0,797366,65ebf4bbe79e856cf3878a6ef20c6486276c07d5,10,3,1,11628,,,0,"Fix list-all-project tests for pagination limit

Designate has a fairly small default pagination limit of 20.
Some tests were making list API calls with the all-projects header,
which with parallel test execution could cause the list to exceed the
default pagination limit of 20. This would cause the tests to intermittently
fail.
This patch sets the request parameter ""limit"" to 1000 for these tests
to allow for parallel test execution which may cause lists to include
more than twenty entries.

Change-Id: Ic074c2c4dc5a5f97c609aac5992f78557722bb71
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/66/797366/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_recordset.py', 'designate_tempest_plugin/tests/api/v2/test_transfer_request.py']",6,65ebf4bbe79e856cf3878a6ef20c6486276c07d5,," # Note: This is an all-projects list call, so other tests running # in parallel will impact the list result set. Since the default # pagination limit is only 20, we set a param limit of 1000 here. headers={'x-auth-all-projects': True}, params={'limit': 1000})[1]['transfer_requests']]", headers={'x-auth-all-projects': True})[1]['transfer_requests']],33,7
openstack%2Fkayobe-config-dev~master~I51e1d05cf6382ce077ebd70f6306b54511d575ce,openstack/kayobe-config-dev,master,I51e1d05cf6382ce077ebd70f6306b54511d575ce,CI: Switch to CentOS 8 stream jobs,MERGED,2021-05-25 13:24:38.000000000,2021-06-22 06:18:47.000000000,2021-06-22 06:18:47.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-25 13:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/73b0a6cde6b6301a384da3b4be0c88578627542a', 'message': 'CI: Switch to CentOS 8 stream jobs\n\nChange-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce\n'}, {'number': 2, 'created': '2021-06-09 12:30:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/487a92db15daf0532fc7c0c405f552ffc40b4a63', 'message': 'CI: Switch to CentOS 8 stream jobs\n\nChange-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce\n'}]",0,792974,487a92db15daf0532fc7c0c405f552ffc40b4a63,10,3,2,14826,,,0,"CI: Switch to CentOS 8 stream jobs

Change-Id: I51e1d05cf6382ce077ebd70f6306b54511d575ce
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/74/792974/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,73b0a6cde6b6301a384da3b4be0c88578627542a,, - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s - kayobe-overcloud-centos8s - kayobe-overcloud-tls-centos8s - kayobe-overcloud-host-configure-centos8s - kayobe-overcloud-upgrade-centos8s - kayobe-seed-centos8s - kayobe-seed-upgrade-centos8s - kayobe-seed-vm-centos8s, - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-overcloud-centos8 - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8,14,14
openstack%2Fkolla-ansible~stable%2Fwallaby~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,stable/wallaby,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-21 20:43:34.000000000,2021-06-22 05:33:48.000000000,2021-06-22 05:32:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 20:43:34.000000000', 'files': ['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcce291aa3bc1ee511e17fbc9a872612c55ed09d', 'message': 'Fix host bootstrap pkg removal on Debian\n\nThe variable names are awful but this all agrees with the docs now.\n\nCloses-Bug: #1933122\nChange-Id: Icd3d140473886ba3c4847859cddccdb3c1376818\n(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)\n'}]",0,797306,bcce291aa3bc1ee511e17fbc9a872612c55ed09d,9,4,1,14826,,,0,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
(cherry picked from commit 3a7440b370f5c2bf6f255a6530349a3e680007b9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/797306/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml']",2,bcce291aa3bc1ee511e17fbc9a872612c55ed09d,bug/1933122-stable/wallaby, when: ansible_os_family == 'Debian'," when: ansible_distribution|lower == ""ubuntu""",7,1
openstack%2Ftrove~stable%2Fwallaby~Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,openstack/trove,stable/wallaby,Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792,Fix backup using customized container image registry,MERGED,2021-06-21 23:58:37.000000000,2021-06-22 04:42:34.000000000,2021-06-22 04:40:27.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 23:58:37.000000000', 'files': ['trove/guestagent/datastore/mysql/service.py', 'releasenotes/notes/xena-fix-backup-custom-image-registry.yaml', 'trove/guestagent/utils/docker.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8849cedaf70a5d76367e8f53985f536bbbe3b58e', 'message': 'Fix backup using customized container image registry\n\nChange-Id: Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792\nStory: 2008996\nTask: 42658\n(cherry picked from commit 6d2ab68a8aa0406ee6320e778b8e290827c9e730)\n'}]",0,797308,8849cedaf70a5d76367e8f53985f536bbbe3b58e,7,2,1,6732,,,0,"Fix backup using customized container image registry

Change-Id: Ib35743e1c315bb7fd4d0fbd99eaa409a4bf5c792
Story: 2008996
Task: 42658
(cherry picked from commit 6d2ab68a8aa0406ee6320e778b8e290827c9e730)
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/797308/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql/service.py', 'releasenotes/notes/xena-fix-backup-custom-image-registry.yaml', 'trove/guestagent/utils/docker.py']",3,8849cedaf70a5d76367e8f53985f536bbbe3b58e,bridge-network-stable/wallaby," LOG.debug(f'Removing existing container {name}') LOG.info( f'Running container {name}, image: {image}, ' f'network_mode: {network_mode}, volumes: {volumes}, ' f'command: {command}')",,10,1
openstack%2Ftrove~stable%2Fwallaby~Iae4d8fc52a50da4fd347270271f6761ce766d5c3,openstack/trove,stable/wallaby,Iae4d8fc52a50da4fd347270271f6761ce766d5c3,Add float types to load_items to support configuration parameters of float type,MERGED,2021-06-21 23:56:18.000000000,2021-06-22 04:41:32.000000000,2021-06-22 04:40:19.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31525}]","[{'number': 1, 'created': '2021-06-21 23:56:18.000000000', 'files': ['trove/configuration/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c7bbcf43d272a328a9ad685918375a3c2049a0ad', 'message': 'Add float types to load_items to support configuration parameters of float type\n\nComplement missing float types when loading configuration group parameters\nso that parameters of type float can be attached into the trove instance successfully\n\nStory: 2008917\nTask: 42508\nChange-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3\n(cherry picked from commit 189d3493a844231dfa10062b5e632a3e931e50f2)\n'}]",0,797307,c7bbcf43d272a328a9ad685918375a3c2049a0ad,7,3,1,6732,,,0,"Add float types to load_items to support configuration parameters of float type

Complement missing float types when loading configuration group parameters
so that parameters of type float can be attached into the trove instance successfully

Story: 2008917
Task: 42508
Change-Id: Iae4d8fc52a50da4fd347270271f6761ce766d5c3
(cherry picked from commit 189d3493a844231dfa10062b5e632a3e931e50f2)
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/797307/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/configuration/models.py'],1,c7bbcf43d272a328a9ad685918375a3c2049a0ad,story/2008917-stable/wallaby, elif rule.data_type == 'float': item.configuration_value = float(item.configuration_value),,2,0
openstack%2Fneutron~stable%2Fstein~I2cc58c30cf844ee0ecf0611ecdec430086464790,openstack/neutron,stable/stein,I2cc58c30cf844ee0ecf0611ecdec430086464790,Remove update_initial_state() method from the HA router,MERGED,2021-02-27 18:22:39.000000000,2021-06-22 03:26:43.000000000,2021-06-22 03:25:02.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-27 18:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d657aa4d3b8cf88526c2d9be39149fb96922626f', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nConflicts:\n    neutron/agent/l3/agent.py\n    neutron/agent/l3/ha_router.py\n    neutron/agent/l3/keepalived_state_change.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)\n'}, {'number': 2, 'created': '2021-03-03 07:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1889586721df8bbd4d1697c0508b68a22689fdd1', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nConflicts:\n    neutron/agent/l3/agent.py\n    neutron/agent/l3/ha_router.py\n    neutron/agent/l3/keepalived_state_change.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)\n'}, {'number': 3, 'created': '2021-03-05 15:33:34.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/60f801e67e070da868fe9b7d70203437fccb8593', 'message': 'Remove update_initial_state() method from the HA router\n\nThis method was intended to check state of the HA router on the\nnode and update it in the neutron server.\nPatch [1] added check of the initial status to the\nneutron_keepalived_state_change_monitor process.\nIt also could cause some race conditions and event which is setting\ncorrect state of the router will be not processed thus router may endup\nwith two nodes with ""primary"" state in the Neutron\'s DB.\n\nNeutron_keepalived_state_change_monitor was notifying agent about\nrouter\'s initial state only if this state was \'primary\'.\nNow it will notify agent always to let agent set router\'s state as\n\'backup\' if needed (that was previously done by this removed\nupdate_initial_state() method).\n\n[1] https://review.opendev.org/c/openstack/neutron/+/642295\n\nConflicts:\n    neutron/agent/l3/agent.py\n    neutron/agent/l3/ha_router.py\n    neutron/agent/l3/keepalived_state_change.py\n    neutron/tests/functional/agent/l3/test_keepalived_state_change.py\n    neutron/tests/unit/agent/l3/test_dvr_local_router.py\n\nChange-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790\nCloses-Bug: #1916022\n(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)\n'}]",0,777868,60f801e67e070da868fe9b7d70203437fccb8593,30,3,3,11975,,,0,"Remove update_initial_state() method from the HA router

This method was intended to check state of the HA router on the
node and update it in the neutron server.
Patch [1] added check of the initial status to the
neutron_keepalived_state_change_monitor process.
It also could cause some race conditions and event which is setting
correct state of the router will be not processed thus router may endup
with two nodes with ""primary"" state in the Neutron's DB.

Neutron_keepalived_state_change_monitor was notifying agent about
router's initial state only if this state was 'primary'.
Now it will notify agent always to let agent set router's state as
'backup' if needed (that was previously done by this removed
update_initial_state() method).

[1] https://review.opendev.org/c/openstack/neutron/+/642295

Conflicts:
    neutron/agent/l3/agent.py
    neutron/agent/l3/ha_router.py
    neutron/agent/l3/keepalived_state_change.py
    neutron/tests/functional/agent/l3/test_keepalived_state_change.py
    neutron/tests/unit/agent/l3/test_dvr_local_router.py

Change-Id: I2cc58c30cf844ee0ecf0611ecdec430086464790
Closes-Bug: #1916022
(cherry picked from commit 0d8ae1576724b196580c9af3782fd3c9e9072bef)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/777868/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/unit/agent/l3/test_ha_router.py']",5,d657aa4d3b8cf88526c2d9be39149fb96922626f,bug/1916022-stable/stein," return ha_router.HaRouter(mock.sentinel.agent,"," return ha_router.HaRouter(mock.sentinel.enqueue_state, mock.sentinel.agent,",11,27
openstack%2Fswift~master~Ibf6cce2447921b58f5a0dff630ea5a0c6284119c,openstack/swift,master,Ibf6cce2447921b58f5a0dff630ea5a0c6284119c,Quiet EPIPE tracebacks,MERGED,2021-06-17 23:41:31.000000000,2021-06-22 03:26:34.000000000,2021-06-22 03:25:08.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 23:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d16aa84301e741757cb923015c0630abaf41af4c', 'message': 'Quiet EPIPE tracebacks\n\nChange-Id: Ibf6cce2447921b58f5a0dff630ea5a0c6284119c\n'}, {'number': 2, 'created': '2021-06-21 18:26:10.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d05a8ff382e7cd64b077730c3d9c314393bf3ef', 'message': 'Quiet EPIPE tracebacks\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: Ibf6cce2447921b58f5a0dff630ea5a0c6284119c\n'}]",0,796960,0d05a8ff382e7cd64b077730c3d9c314393bf3ef,13,3,2,15343,,,0,"Quiet EPIPE tracebacks

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: Ibf6cce2447921b58f5a0dff630ea5a0c6284119c
",git fetch https://review.opendev.org/openstack/swift refs/changes/60/796960/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,d16aa84301e741757cb923015c0630abaf41af4c,, elif exc.errno == errno.EPIPE: emsg = _('Broken pipe'),,2,0
openstack%2Fopenstack-helm~master~Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee,openstack/openstack-helm,master,Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee,Set reasonable default probe timeouts,MERGED,2021-06-19 00:13:18.000000000,2021-06-22 03:14:00.000000000,2021-06-22 03:12:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-06-19 00:13:18.000000000', 'files': ['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c775184bddffdb90856a9f53e1613a0a8897c689', 'message': 'Set reasonable default probe timeouts\n\nThis change modifies the default values for all of the readiness\nand liveness probes to something a bit less aggressive, namely\nthe default timeout of 1 second.\n\nChange-Id: Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee\n'}]",0,797168,c775184bddffdb90856a9f53e1613a0a8897c689,9,3,1,21420,,,0,"Set reasonable default probe timeouts

This change modifies the default values for all of the readiness
and liveness probes to something a bit less aggressive, namely
the default timeout of 1 second.

Change-Id: Ib389aebb2450f8ed134ef8f75110b559d1a4f2ee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/797168/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml']",3,c775184bddffdb90856a9f53e1613a0a8897c689,probes,version: 0.2.5,version: 0.2.4,24,3
openstack%2Fkolla-ansible~stable%2Fussuri~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/ussuri,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:35.000000000,2021-06-22 03:12:38.000000000,2021-06-22 03:11:23.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:35:35.000000000', 'files': ['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6aa022a4a047c0d266dd2ab303b5ec30f0a7ffe', 'message': 'baremetal: fix /etc/hosts generation when api_interface has dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts. In the baremetal\nrole we reference the fact for api_interface without replacing dashes\nwith underscores. This may result in host entries being omitted from\n/etc/hosts.\n\nThis change fixes the issue.\n\nChange-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb\nRelated-Bug: #1927357\n(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)\n'}]",0,797259,c6aa022a4a047c0d266dd2ab303b5ec30f0a7ffe,9,3,1,14826,,,0,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/797259/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,c6aa022a4a047c0d266dd2ab303b5ec30f0a7ffe,," {% set api_interface = hostvars[host]['api_interface'] | replace('-', '_') %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] | replace('-', '_') in hostvars[inventory_hostname]", {% set api_interface = hostvars[host]['api_interface'] %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] in hostvars[inventory_hostname],9,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/victoria,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:11.000000000,2021-06-22 03:12:30.000000000,2021-06-22 03:11:19.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:35:11.000000000', 'files': ['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bc072141a8645414e62d2d468ebb8ed649c92bb', 'message': 'baremetal: fix /etc/hosts generation when api_interface has dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts. In the baremetal\nrole we reference the fact for api_interface without replacing dashes\nwith underscores. This may result in host entries being omitted from\n/etc/hosts.\n\nThis change fixes the issue.\n\nChange-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb\nRelated-Bug: #1927357\n(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)\n'}]",0,797258,5bc072141a8645414e62d2d468ebb8ed649c92bb,9,3,1,14826,,,0,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/797258/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,5bc072141a8645414e62d2d468ebb8ed649c92bb,," {% set api_interface = hostvars[host]['api_interface'] | replace('-', '_') %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] | replace('-', '_') in hostvars[inventory_hostname]", {% set api_interface = hostvars[host]['api_interface'] %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] in hostvars[inventory_hostname],9,2
openstack%2Fkolla-ansible~master~Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,openstack/kolla-ansible,master,Idb311e18b437fba696759ecb1cf2a6b4803aa5c5,Drop support for Cinder ZFSSA backend,MERGED,2021-06-21 09:51:18.000000000,2021-06-22 02:45:50.000000000,2021-06-22 02:43:58.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-06-21 09:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2815c13ae71742923e052d7e7ea9a15061dedd4d', 'message': 'Drop support for Cinder ZFSSA backend\n\nFollowing upstream which removed ZFSSA support in Ussuri [1].\n\n[1] https://review.opendev.org/c/openstack/cinder/+/690137\n\nChange-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5\n'}, {'number': 2, 'created': '2021-06-21 09:53:05.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0158221fd2972c7c0c3733994f985feb8318121d', 'message': 'Drop support for Cinder ZFSSA backend\n\nFollowing upstream which removed ZFSSA support in Ussuri [1].\n\n[1] https://review.opendev.org/c/openstack/cinder/+/690137\n\nChange-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5\n'}]",0,797248,0158221fd2972c7c0c3733994f985feb8318121d,12,3,2,30491,,,0,"Drop support for Cinder ZFSSA backend

Following upstream which removed ZFSSA support in Ussuri [1].

[1] https://review.opendev.org/c/openstack/cinder/+/690137

Change-Id: Idb311e18b437fba696759ecb1cf2a6b4803aa5c5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/797248/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/group_vars/all.yml', 'etc/kolla/passwords.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'releasenotes/notes/drop-zfssa-2708a8c0b0eb5f43.yaml', 'etc/kolla/globals.yml']",7,2815c13ae71742923e052d7e7ea9a15061dedd4d,drop-zfssa,"#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool }}""","#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool or enable_cinder_backend_zfssa_iscsi | bool }}""#enable_cinder_backend_zfssa_iscsi: ""no""",7,38
openstack%2Fmanila~master~I1b36f8d35162a3ac326ba24852d35dbae09c3aaa,openstack/manila,master,I1b36f8d35162a3ac326ba24852d35dbae09c3aaa,[doc] clean up compute client options,MERGED,2020-08-21 21:43:55.000000000,2021-06-22 01:49:48.000000000,2021-06-22 01:47:00.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-21 21:43:55.000000000', 'files': ['doc/source/configuration/tables/manila-compute.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/d9d9fbcd77656f19909e986bfbce09ba0e5b03c7', 'message': '[doc] clean up compute client options\n\nClean up some tables in our documention\nthat still mention obsolete, removed configuration\noptions.\n\nWhen we fix https://bugs.launchpad.net/manila/+bug/1713062\nfixes of this kind will no longer be required, since the\ntables in question will (again) be auto-generated from our code.\n\nCloses-bug: #1559265\nDepends-on: https://review.opendev.org/#/c/745206/\nChange-Id: I1b36f8d35162a3ac326ba24852d35dbae09c3aaa\n'}]",0,747487,d9d9fbcd77656f19909e986bfbce09ba0e5b03c7,13,7,1,9003,,,0,"[doc] clean up compute client options

Clean up some tables in our documention
that still mention obsolete, removed configuration
options.

When we fix https://bugs.launchpad.net/manila/+bug/1713062
fixes of this kind will no longer be required, since the
tables in question will (again) be auto-generated from our code.

Closes-bug: #1559265
Depends-on: https://review.opendev.org/#/c/745206/
Change-Id: I1b36f8d35162a3ac326ba24852d35dbae09c3aaa
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/747487/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/tables/manila-compute.inc'],1,d9d9fbcd77656f19909e986bfbce09ba0e5b03c7,bug/1559265, Note: this file is actually not auto-generated. See https://bugs.launchpad.net/manila/+bug/1713062. * - **[nova]** * - ``api_microversion`` = ``2.10`` - (String) Version of Nova API to be used. * - ``endpoint_type`` = ``publicURL`` - (String) Endpoint type to be used with nova client calls. * - ``region_name`` = ``None`` - (String) Region name for connecting to nova.," Warning: Do not edit this file. It is automatically generated from the software project's code and your changes will be overwritten. The tool to generate this file lives in openstack-doc-tools repository. Please make any changes needed in the code, then run the autogenerate-config-doc tool from the openstack-doc-tools repository, or ask for help on the documentation mailing list, IRC channel or meeting. * - **[DEFAULT]** * - ``nova_admin_auth_url`` = ``http://localhost:5000/v2.0`` - (String) DEPRECATED: Identity service URL. This option isn't used any longer. Please use [nova] url instead. * - ``nova_admin_password`` = ``None`` - (String) DEPRECATED: Nova admin password. This option isn't used any longer. Please use [nova] password instead. * - ``nova_admin_tenant_name`` = ``service`` - (String) DEPRECATED: Nova admin tenant name. This option isn't used any longer. Please use [nova] tenant instead. * - ``nova_admin_username`` = ``nova`` - (String) DEPRECATED: Nova admin username. This option isn't used any longer. Please use [nova] username instead. * - ``nova_catalog_admin_info`` = ``compute:nova:adminURL`` - (String) DEPRECATED: Same as nova_catalog_info, but for admin endpoint. This option isn't used any longer. * - ``nova_catalog_info`` = ``compute:nova:publicURL`` - (String) DEPRECATED: Info to match when looking for nova in the service catalog. Format is separated values of the form: <service_type>:<service_name>:<endpoint_type> This option isn't used any longer. * - ``os_region_name`` = ``None`` - (String) Region name of this node.",9,23
openstack%2Fmanila~master~I148225926cd249a0dd8d1f8c02b22ed06487f405,openstack/manila,master,I148225926cd249a0dd8d1f8c02b22ed06487f405,Remove deprecated config and auth,MERGED,2020-08-06 19:18:38.000000000,2021-06-22 01:48:38.000000000,2021-06-22 01:46:56.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 18742}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-06 19:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d35b62232007eb8abcf07aa97bd6fc945a32e33e', 'message': 'Remove deprecated config options\n\nRemove manila configuration options that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 2, 'created': '2020-08-06 19:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ead4871e86a629450ae5c26c26e96e6eeabe4311', 'message': 'Remove deprecated config options\n\nRemove manila configuration options that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 3, 'created': '2020-08-06 20:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/061024d69fe4650d7038d3a182853cc5192f49b9', 'message': 'Remove deprecated config, policy and auth\n\nRemove manila configuration options, policy rules,\nand auth classes that were deprecated before the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 4, 'created': '2020-08-07 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b06a2523dd7be6179352ade71bba0364f1309f9', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 5, 'created': '2020-08-07 20:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/299fb07553d4e6249b49e6e29ca35d1a265cf83f', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 6, 'created': '2020-08-13 16:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2cf03761862577b50b8d74d4e2db0337de49ca22', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 7, 'created': '2020-10-25 11:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ca9018a88f3abc7e4823f7f25c6855fbad193c94', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 8, 'created': '2021-04-22 16:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1a92af7ee1caa30ecc85007a04a40f07782b4a13', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}, {'number': 9, 'created': '2021-04-26 15:55:29.000000000', 'files': ['manila/data/manager.py', 'manila/network/__init__.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/network/neutron/api.py', 'manila/share/drivers/dell_emc/plugins/unity/connection.py', 'manila/compute/nova.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share/hook.py', 'doc/source/admin/gpfs_driver.rst', 'manila/share/drivers/nexenta/ns4/nexenta_nfs_helper.py', 'manila/tests/share/drivers/nexenta/ns4/test_nexenta_nas.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'releasenotes/notes/remove-deprecated-options-and-auth-4d497e03ad47e872.yaml', 'manila/volume/cinder.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/share/manager.py', 'manila/network/neutron/neutron_network_plugin.py', 'manila/network/standalone_network_plugin.py', 'manila/share/drivers/netapp/options.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/tests/share/drivers/nexenta/ns5/test_jsonrpc.py', 'manila/share/driver.py', 'manila/common/config.py', 'manila/share/drivers/nexenta/options.py', 'doc/source/configuration/tables/manila-hnas.inc', 'manila/api/auth.py', 'manila/share/drivers/glusterfs/common.py', 'manila/share/drivers/glusterfs/layout_volume.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5af3b8e68b5d5351b3a53114d179a78ba1bf466f', 'message': 'Remove deprecated config and auth\n\nRemove manila configuration options\nand auth classes that were deprecated\nbefore the Ussuri release.\n\nChange-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405\n'}]",38,745206,5af3b8e68b5d5351b3a53114d179a78ba1bf466f,109,14,9,9003,,,0,"Remove deprecated config and auth

Remove manila configuration options
and auth classes that were deprecated
before the Ussuri release.

Change-Id: I148225926cd249a0dd8d1f8c02b22ed06487f405
",git fetch https://review.opendev.org/openstack/manila refs/changes/06/745206/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/ibm/gpfs.py', 'manila/share/driver.py', 'manila/common/config.py']",3,d35b62232007eb8abcf07aa97bd6fc945a32e33e,cleanup-deprecations,," cfg.ListOpt('memcached_servers', help='Memcached servers or None for in process cache.', deprecated_reason=""The config option is not used. It should "" ""not be confused with [keystone_authtoken]/memcached_servers."", deprecated_for_removal=True), cfg.StrOpt('share_usage_audit_period', default='month', deprecated_for_removal=True, help='Time period to generate share usages for. ' 'Time period must be hour, day, month or year.', deprecated_reason=""The config option is not used.""),",0,31
openstack%2Fdesignate-tempest-plugin~master~I6697c502875f281f0174a46a725d29fadb73c754,openstack/designate-tempest-plugin,master,I6697c502875f281f0174a46a725d29fadb73c754,Properly clean up transfer requests,MERGED,2021-06-19 07:06:08.000000000,2021-06-22 01:48:36.000000000,2021-06-22 01:47:05.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-06-19 07:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c6a3cb39a0be7d1d7c71907044f7c3e72b30494e', 'message': 'Properly clean up transfer requests\n\nChange-Id: I6697c502875f281f0174a46a725d29fadb73c754\n'}, {'number': 2, 'created': '2021-06-21 19:55:56.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fa6f78c1cfb59065f6f71ef8d17e91e00130787d', 'message': 'Properly clean up transfer requests\n\nChange-Id: I6697c502875f281f0174a46a725d29fadb73c754\n'}]",0,797172,fa6f78c1cfb59065f6f71ef8d17e91e00130787d,10,3,2,22623,,,0,"Properly clean up transfer requests

Change-Id: I6697c502875f281f0174a46a725d29fadb73c754
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/72/797172/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_transfer_accepts.py', 'designate_tempest_plugin/tests/base.py']",2,c6a3cb39a0be7d1d7c71907044f7c3e72b30494e,clean_transfers," def wait_transfer_request_delete(self, transfer_client, transfer_request_id): return utils.call_and_ignore_notfound_exc( transfer_client.delete_transfer_request, transfer_request_id) ",,47,17
openstack%2Fnetworking-ovn~stable%2Ftrain~I133b9de89df4260767c40eadafa7af73fe132343,openstack/networking-ovn,stable/train,I133b9de89df4260767c40eadafa7af73fe132343,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:43:01.000000000,2021-06-22 00:27:42.000000000,2021-06-22 00:25:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 13:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/856a0cc73422ecbbda04ed742ec880d6f3e2134b', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I133b9de89df4260767c40eadafa7af73fe132343\n'}, {'number': 2, 'created': '2021-06-21 14:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f8a88ae353350235e457fcf5a0f7e8e9f81d6e07', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I133b9de89df4260767c40eadafa7af73fe132343\n'}, {'number': 3, 'created': '2021-06-21 15:18:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1478d17f4673bbb47edd52289c64ca0195ef0cf2', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I133b9de89df4260767c40eadafa7af73fe132343\n'}]",7,796474,1478d17f4673bbb47edd52289c64ca0195ef0cf2,17,4,3,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I133b9de89df4260767c40eadafa7af73fe132343
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/74/796474/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,856a0cc73422ecbbda04ed742ec880d6f3e2134b,clean-non-voting-jobs," # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - networking-ovn-tripleo-ci-centos-7-containers-multinode: voting: false - networking-ovn-dsvm-grenade: voting: false - networking-ovn-tempest-slow: voting: false - networking-ovn-octavia-v2-dsvm-scenario: voting: false"," # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - networking-ovn-tripleo-ci-centos-7-containers-multinode: voting: false - networking-ovn-dsvm-grenade: voting: false - networking-ovn-tempest-slow: voting: false - networking-ovn-octavia-v2-dsvm-scenario: voting: false",15,16
openstack%2Fneutron~master~Ie1dd5c26ec0eb1875d2a6a176838598117678f4a,openstack/neutron,master,Ie1dd5c26ec0eb1875d2a6a176838598117678f4a,Report ExternalDNSOverQuota exception for recordset quota error,MERGED,2021-04-14 08:11:10.000000000,2021-06-22 00:25:18.000000000,2021-06-22 00:23:23.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 20104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-14 08:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7396c8833b2cf0c02f79bba4e9ea0228ddc41341', 'message': 'Report ExternalDNSOverQuota exception for recordset quota error\n\nWhen floating IP is created and the overquota limit of the external\ndns service (e.g. designate) exceeds, recordset creation fails. Report\nthe exact reason of failure i.e. ExternalDNSOverQuota instead of\nHttpException.\n\nThis patch is dependent on:\nhttps://review.opendev.org/c/openstack/neutron-lib/+/786174\n\nCloses-Bug: #1923700\nChange-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a\n'}, {'number': 2, 'created': '2021-04-14 09:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0f9031f8db314a99cca7de92cb0c556c87ef75', 'message': 'Report ExternalDNSOverQuota exception for recordset quota error\n\nWhen floating IP is created and the overquota limit of the external\ndns service (e.g. designate) exceeds, recordset creation fails. Report\nthe exact reason of failure i.e. ExternalDNSOverQuota instead of\nHttpException.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174\n\nCloses-Bug: #1923700\nChange-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a\n'}, {'number': 3, 'created': '2021-04-23 04:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c2d828dbf9d330360b88c4d05b81cb483f15d03', 'message': 'Report ExternalDNSOverQuota exception for recordset quota error\n\nWhen floating IP or port with DNS records are created and the recordset\nquota value of the external dns service (e.g. designate) exceeds limit,\nthe recordset creation fails. Report the exact reason of failure i.e.\nExternalDNSOverQuota instead of HttpException.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174\n\nCloses-Bug: #1923700\nChange-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a\n'}, {'number': 4, 'created': '2021-04-27 06:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c118d7718ea293207d444fc994b5daf63c24e15', 'message': 'Report ExternalDNSOverQuota exception for recordset quota error\n\nWhen floating IP or port with DNS records are created and the recordset\nquota value of the external dns service (e.g. designate) exceeds limit,\nthe recordset creation fails. Report the exact reason of failure i.e.\nExternalDNSOverQuota instead of HttpException.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174\n\nCloses-Bug: #1923700\nChange-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a\n'}, {'number': 5, 'created': '2021-04-27 07:45:30.000000000', 'files': ['releasenotes/notes/add-ExternalDNSOverQuota-exception-8728f055d4f1d43c.yaml', 'neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c16f88d1481f59e8547c406ac24b670723a3b1da', 'message': 'Report ExternalDNSOverQuota exception for recordset quota error\n\nWhen floating IP or port with DNS records are created and the recordset\nquota value of the external dns service (e.g. designate) exceeds limit,\nthe recordset creation fails. Report the exact reason of failure i.e.\nExternalDNSOverQuota instead of HttpException.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174\n\nCloses-Bug: #1923700\nChange-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a\n'}]",9,786175,c16f88d1481f59e8547c406ac24b670723a3b1da,73,7,5,32919,,,0,"Report ExternalDNSOverQuota exception for recordset quota error

When floating IP or port with DNS records are created and the recordset
quota value of the external dns service (e.g. designate) exceeds limit,
the recordset creation fails. Report the exact reason of failure i.e.
ExternalDNSOverQuota instead of HttpException.

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/786174

Closes-Bug: #1923700
Change-Id: Ie1dd5c26ec0eb1875d2a6a176838598117678f4a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/786175/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,7396c8833b2cf0c02f79bba4e9ea0228ddc41341,bug/1923700," except d_exc.OverQuota: raise dns_exc.ExternalDNSOverQuota(resource=""recordset"")",,2,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,openstack/tripleo-heat-templates,stable/ussuri,I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file",MERGED,2021-06-16 13:09:58.000000000,2021-06-22 00:18:20.000000000,2021-06-22 00:16:39.000000000,"[{'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-16 13:09:58.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58e6913751c88595d997c99cb6d218f07939c7c6', 'message': ""[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file\n\nInternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile\ndo not point to the default IPA ca.crt file and instead are requested\nto be loaded to component specific CA files (even if they are the same).\nThis can lead to a race where the CA cert is not being written by\ncertmonger in time and the following issue is seen after the 60s timeout:\n\nMay  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created\nMay  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\nMay  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\n\nThe problem here is that certmonger doesn't behave in the way that we\nexpect it to do. When we make the cert request and ask for the ca cert to\nbe retrieved, it issues the cert and schedules the cert to be returned\nasynchronously, even if you specify -w to wait for the cert.  -w will block\npending the cert being retrieved, but not for the CA cert.\n\nYou can always force the retrieval to happen by restarting certmonger, and\nthis has helped in some cases in the past, but is a less than ideal\nsolution.\n\nThis is a bug in certmonger IMHO, in that we should expect the CA cert to\nbe returned synchronously along with the cert if we specify -w.\n\nThe BZ for certmonger is unlikely to be fixed anytime soon though, so we\nneed to look at other options.\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to\nuse the IPA system cacert file '/etc/ipa/ca.crt' per default starting with\nthe wallaby release using the ansible role. This change backports to also\nuse the IPA system cacert file '/etc/ipa/ca.crt' to previous release when\nmanaging the certs via puppet-tripleo.\n\nConflicts:\ndeployment/nova/nova-vnc-proxy-container-puppet.yaml\n\nChange-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f\nCloses-Bug: #1927201\n(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)\n""}]",0,796651,58e6913751c88595d997c99cb6d218f07939c7c6,9,7,1,17216,,,0,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file

InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile
do not point to the default IPA ca.crt file and instead are requested
to be loaded to component specific CA files (even if they are the same).
This can lead to a race where the CA cert is not being written by
certmonger in time and the following issue is seen after the 60s timeout:

May  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created
May  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]
May  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]

The problem here is that certmonger doesn't behave in the way that we
expect it to do. When we make the cert request and ask for the ca cert to
be retrieved, it issues the cert and schedules the cert to be returned
asynchronously, even if you specify -w to wait for the cert.  -w will block
pending the cert being retrieved, but not for the CA cert.

You can always force the retrieval to happen by restarting certmonger, and
this has helped in some cases in the past, but is a less than ideal
solution.

This is a bug in certmonger IMHO, in that we should expect the CA cert to
be returned synchronously along with the cert if we specify -w.

The BZ for certmonger is unlikely to be fixed anytime soon though, so we
need to look at other options.

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to
use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with
the wallaby release using the ansible role. This change backports to also
use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when
managing the certs via puppet-tripleo.

Conflicts:
deployment/nova/nova-vnc-proxy-container-puppet.yaml

Change-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f
Closes-Bug: #1927201
(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/796651/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml']",3,58e6913751c88595d997c99cb6d218f07939c7c6,libvirt_ssl-u,"--- fixes: - | InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile do not point to the default IPA ca.crt file and instead are requested to be loaded to component specific CA files (even if they are the same). This can lead to a race where the CA cert is not being written by certmonger in time. Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with the wallaby release using the ansible role. This change backports to also use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when managing the certs via puppet-tripleo. ",,26,7
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,openstack/tripleo-heat-templates,stable/train,I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file",MERGED,2021-06-16 13:13:08.000000000,2021-06-22 00:18:18.000000000,2021-06-22 00:16:56.000000000,"[{'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-16 13:13:08.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a43c41deab78bc9a0252e9e0548b7b911236c91c', 'message': ""[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file\n\nInternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile\ndo not point to the default IPA ca.crt file and instead are requested\nto be loaded to component specific CA files (even if they are the same).\nThis can lead to a race where the CA cert is not being written by\ncertmonger in time and the following issue is seen after the 60s timeout:\n\nMay  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created\nMay  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\nMay  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]\n\nThe problem here is that certmonger doesn't behave in the way that we\nexpect it to do. When we make the cert request and ask for the ca cert to\nbe retrieved, it issues the cert and schedules the cert to be returned\nasynchronously, even if you specify -w to wait for the cert.  -w will block\npending the cert being retrieved, but not for the CA cert.\n\nYou can always force the retrieval to happen by restarting certmonger, and\nthis has helped in some cases in the past, but is a less than ideal\nsolution.\n\nThis is a bug in certmonger IMHO, in that we should expect the CA cert to\nbe returned synchronously along with the cert if we specify -w.\n\nThe BZ for certmonger is unlikely to be fixed anytime soon though, so we\nneed to look at other options.\n\nIb868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to\nuse the IPA system cacert file '/etc/ipa/ca.crt' per default starting with\nthe wallaby release using the ansible role. This change backports to also\nuse the IPA system cacert file '/etc/ipa/ca.crt' to previous release when\nmanaging the certs via puppet-tripleo.\n\nConflicts:\ndeployment/nova/nova-vnc-proxy-container-puppet.yaml\n\nChange-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f\nCloses-Bug: #1927201\n(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)\n(cherry picked from commit 58e6913751c88595d997c99cb6d218f07939c7c6)\n""}]",0,796673,a43c41deab78bc9a0252e9e0548b7b911236c91c,9,7,1,17216,,,0,"[victoria/ussuri/train] Change nbd, vnc and qemu default cacert file

InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile
do not point to the default IPA ca.crt file and instead are requested
to be loaded to component specific CA files (even if they are the same).
This can lead to a race where the CA cert is not being written by
certmonger in time and the following issue is seen after the 60s timeout:

May  1 16:47:39 puppet-user: Notice: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Certmonger_certificate[libvirt-vnc-server-cert]/ensure: created
May  1 16:48:40 puppet-user: Error: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]
May  1 16:48:40 puppet-user: Error: /Stage[main]/Tripleo::Profile::Base::Certmonger_user/Tripleo::Certmonger::Libvirt_vnc[libvirt-vnc-server-cert]/Exec[/etc/pki/CA/certs/vnc.crt]/returns: change from 'notrun' to ['0'] failed: 'test -f /etc/pki/CA/certs/vnc.crt' returned 1 instead of one of [0]

The problem here is that certmonger doesn't behave in the way that we
expect it to do. When we make the cert request and ask for the ca cert to
be retrieved, it issues the cert and schedules the cert to be returned
asynchronously, even if you specify -w to wait for the cert.  -w will block
pending the cert being retrieved, but not for the CA cert.

You can always force the retrieval to happen by restarting certmonger, and
this has helped in some cases in the past, but is a less than ideal
solution.

This is a bug in certmonger IMHO, in that we should expect the CA cert to
be returned synchronously along with the cert if we specify -w.

The BZ for certmonger is unlikely to be fixed anytime soon though, so we
need to look at other options.

Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to
use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with
the wallaby release using the ansible role. This change backports to also
use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when
managing the certs via puppet-tripleo.

Conflicts:
deployment/nova/nova-vnc-proxy-container-puppet.yaml

Change-Id: I8a00ab81c16b21c9b1f703015a2a2eaa66fd556f
Closes-Bug: #1927201
(cherry picked from commit d54d63285db71cdca4da943094b219bc560286ab)
(cherry picked from commit 58e6913751c88595d997c99cb6d218f07939c7c6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/796673/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/nova_libvirt_default_ca_cert-d1a7acaa5cbc9293.yaml']",3,a43c41deab78bc9a0252e9e0548b7b911236c91c,libvirt_ssl-t,"--- fixes: - | InternalTLSNbdCAFile, InternalTLSVncCAFile and InternalTLSQemuCAFile do not point to the default IPA ca.crt file and instead are requested to be loaded to component specific CA files (even if they are the same). This can lead to a race where the CA cert is not being written by certmonger in time. Ib868465c20d97c62cbcb214bfc62d949bd6efc62 already changed the default to use the IPA system cacert file '/etc/ipa/ca.crt' per default starting with the wallaby release using the ansible role. This change backports to also use the IPA system cacert file '/etc/ipa/ca.crt' to previous release when managing the certs via puppet-tripleo. ",,26,7
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/victoria,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-16 15:51:42.000000000,2021-06-22 00:16:50.000000000,2021-06-22 00:16:50.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-16 15:51:42.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ed341f447aaec139fb0c39ff643d8e75f015712', 'message': 'Remove heat::heat_keystone_clients_url definition\n\nDuring Queens release cycle it was decided that\nclients_keystone/auth_uri should be defined and should point to\npublic URL to allow instances run some API calls.\n\nTwo changes were added:\n\n- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add\n  related definitions to puppet-heat\n- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add\n  appropriate hiera defition to THT\n\nBut hiera definition in THT was incorrect:\nheat::heat_keystone_clients_url was defined instead of\nheat::heat_clients_keystone_uri.\n\nheat_clients_keystone_uri parameter was removed from puppet-heat\nduring Train release cycle:\nI507fd2beecface5f8de35d18bfb546a653c6ef51\n\nPartial-Bug: #1916386\nChange-Id: I2797da50489e3812aa58415e2e6ba44894a89094\n(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)\n(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)\n'}]",0,796657,0ed341f447aaec139fb0c39ff643d8e75f015712,11,5,1,9816,,,0,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/796657/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,0ed341f447aaec139fb0c39ff643d8e75f015712,bug/1916386-victoria,," heat::heat_keystone_clients_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }",0,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,stable/train,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-06-16 13:12:18.000000000,2021-06-22 00:16:25.000000000,2021-06-22 00:16:25.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-16 13:12:18.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20a03f22b318e7fe3620d92ee545d007d2f47b77', 'message': 'Remove no longer used NovaNfsEnabled parameter and condtion\n\nWith Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of\n/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled\ncondition is no longer used in most of the deployment files.\n\nThis cleans up the no longer used parameter and condition in\nnova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml\nnova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml\n\nConflicts:\ndeployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: I542956aef6da63a376790ec87d4767196ff85067\n(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)\n(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)\n(cherry picked from commit 98ba67989fdec334f15e580a83de48b7c2bf0718)\n'}]",0,796652,20a03f22b318e7fe3620d92ee545d007d2f47b77,8,6,1,17216,,,0,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Conflicts:
deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)
(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)
(cherry picked from commit 98ba67989fdec334f15e580a83de48b7c2bf0718)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/796652/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",4,20a03f22b318e7fe3620d92ee545d007d2f47b77,remove_nova_nfs_enabled-stable-t,," nova_nfs_enabled: or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] ",0,46
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I542956aef6da63a376790ec87d4767196ff85067,openstack/tripleo-heat-templates,stable/ussuri,I542956aef6da63a376790ec87d4767196ff85067,Remove no longer used NovaNfsEnabled parameter and condtion,MERGED,2021-06-16 13:06:40.000000000,2021-06-22 00:16:20.000000000,2021-06-22 00:16:20.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-16 13:06:40.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98ba67989fdec334f15e580a83de48b7c2bf0718', 'message': 'Remove no longer used NovaNfsEnabled parameter and condtion\n\nWith Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of\n/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled\ncondition is no longer used in most of the deployment files.\n\nThis cleans up the no longer used parameter and condition in\nnova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml\nnova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml\n\nConflicts:\ndeployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: I542956aef6da63a376790ec87d4767196ff85067\n(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)\n(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)\n'}]",0,796650,98ba67989fdec334f15e580a83de48b7c2bf0718,8,6,1,17216,,,0,"Remove no longer used NovaNfsEnabled parameter and condtion

With Id5503ed274bd5dc0c5365cc994de7e5cdcbc2fb6 the handling of
/var/lib/nova on NFS changed and NovaNfsEnabled and nova_nfs_enabled
condition is no longer used in most of the deployment files.

This cleans up the no longer used parameter and condition in
nova-compute-container-puppet.yaml, nova-ironic-container-puppet.yaml
nova-libvirt-container-puppet.yaml and nova-migration-target-container-puppet.yaml

Conflicts:
deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: I542956aef6da63a376790ec87d4767196ff85067
(cherry picked from commit d2f6a3be26b2de2bb6aabf9e5bd3accfacc01916)
(cherry picked from commit df04e951812dc7affefbb2fe122c252cc07e8d11)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/796650/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",4,98ba67989fdec334f15e580a83de48b7c2bf0718,remove_nova_nfs_enabled-stable-u,," nova_nfs_enabled: or: - and: - equals: [{get_param: NovaNfsEnabled}, true] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, ''] - equals: [{get_param: [RoleParameters, NovaNfsEnabled]}, true] ",0,46
openstack%2Fcinderlib~master~I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1,openstack/cinderlib,master,I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1,Add privsep support,MERGED,2020-06-16 15:00:00.000000000,2021-06-22 00:13:13.000000000,2021-06-22 00:11:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-06-16 15:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/76458af20c964a545b7a533643795e226462b8e5', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 2, 'created': '2020-06-17 10:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e8bcfbb0558c0d66d7cfa25aadf247d614c828a7', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 3, 'created': '2020-06-18 11:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/8ca2119d706b30b1b0f5d78eeb780b8e99b95616', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/736615\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 4, 'created': '2020-06-22 16:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/cdc030edab921949fa0c3433cc6e2b92cac0ccbb', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 5, 'created': '2020-06-23 15:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/2c9930174b98234162137cc9ef87ccabab38b853', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 6, 'created': '2020-07-10 09:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b5f9d49ac9f53d96a28ae30534505be931b3dca0', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 7, 'created': '2020-07-29 10:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/133d1cb7a5c49577b4d0db2e931aadd98ebc1d02', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 8, 'created': '2020-08-10 08:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a0c4962a8a3b40e0dbb3519b3c16c199653c3500', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 9, 'created': '2020-09-17 10:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/ee1e952e540408fc2b22918b2d2674e0fc77505d', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 10, 'created': '2020-09-18 09:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/7c89bbd88bb923d26b06274d04dac3b773cab551', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 11, 'created': '2021-02-17 19:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1e4abca4b0328822bf0c1379c953b29ab55fe67a', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}, {'number': 12, 'created': '2021-06-18 13:12:30.000000000', 'files': ['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', '.zuul.yaml', 'cinderlib/tests/unit/objects/test_connection.py', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/unit/test_nos_brick.py', 'tools/virtualenv-sudo.sh', 'releasenotes/notes/privsep-support-acbc955b9845a6ef.yaml', 'cinderlib/__init__.py', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/cf638c41f6aa8437aab14babc6406df2ceb0facc', 'message': ""Add privsep support\n\nCinderlib does not support Cinder drivers that make use of the privsep\nlibrary.\n\nOriginally privsep had a limitation that would serialize all requests,\nso slow operations would create a bottleneck, thus cinderlib decided not\nto use privsep and call the commands directly.\n\nSince privsep no longer serializes requests we stop going around privsep\nand use it.\n\nCinderlib is a library that works when run in a virtual environment, so\nwe must maintain backward compatibiliy and still support it, which is\nproblematic, because with Cinder's rootwrap+privsep we require\n/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under\na virtual env these are installed in the virtualenv's etc\ndirectory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf\n\nThis configuration file is modified to point to the right filters\ndirectory and add the virtual env's bin directory to exec_dirs.\n\nWe also take into account if we have installed cinder as editable in our\nvirtual environment, because in that case files are not installed, and\nwe will copy them from the source's directory into the virtual\nenvironment so we can freely modify them.\n\nDepends-On: https://review.opendev.org/737312\nCloses-Bug: #1883720\nChange-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1\n""}]",2,735935,cf638c41f6aa8437aab14babc6406df2ceb0facc,63,7,12,9535,,,0,"Add privsep support

Cinderlib does not support Cinder drivers that make use of the privsep
library.

Originally privsep had a limitation that would serialize all requests,
so slow operations would create a bottleneck, thus cinderlib decided not
to use privsep and call the commands directly.

Since privsep no longer serializes requests we stop going around privsep
and use it.

Cinderlib is a library that works when run in a virtual environment, so
we must maintain backward compatibiliy and still support it, which is
problematic, because with Cinder's rootwrap+privsep we require
/etc/cinder/rootwrap.conf and /etc/cinder/rootwrap.d to exist, but under
a virtual env these are installed in the virtualenv's etc
directory instead.  For example: .tox/py37/etc/cinder/rootwrap.conf

This configuration file is modified to point to the right filters
directory and add the virtual env's bin directory to exec_dirs.

We also take into account if we have installed cinder as editable in our
virtual environment, because in that case files are not installed, and
we will copy them from the source's directory into the virtual
environment so we can freely modify them.

Depends-On: https://review.opendev.org/737312
Closes-Bug: #1883720
Change-Id: I7963fbfbb0a683e3efcc5949f80b96e5daaa18f1
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/35/735935/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/objects.py', 'cinderlib/tests/unit/objects/test_volume.py', 'cinderlib/tests/unit/objects/test_connection.py', 'cinderlib/tests/unit/test_cinderlib.py', 'cinderlib/cinderlib.py', 'cinderlib/tests/unit/test_nos_brick.py', 'tools/virtualenv-sudo.sh', 'releasenotes/notes/privsep-support-acbc955b9845a6ef.yaml', 'cinderlib/__init__.py', 'cinderlib/nos_brick.py']",10,76458af20c964a545b7a533643795e226462b8e5,privsep-support, rootwrap.unlink_root(link_name),"- Making sure we can work without privsep and using sudo directly - Replacing an unlink privsep method that would run python code privilegedimport functoolsfrom os_brick.initiator import connectorfrom oslo_privsep import priv_contextfrom oslo_utils import strutilsimport cinderlib unlink_root(link_name) ROOT_HELPER = 'sudo' def unlink_root(*links, **kwargs): no_errors = kwargs.get('no_errors', False) raise_at_end = kwargs.get('raise_at_end', False) exc = exception.ExceptionChainer() catch_exception = no_errors or raise_at_end error_msg = 'Some unlinks failed for %s' if os.getuid() == 0: for link in links: with exc.context(catch_exception, error_msg, links): try: os.unlink(link) except OSError as exc: # Ignore file doesn't exist errors if exc.errno != errno.ENOENT: raise else: with exc.context(catch_exception, error_msg, links): # Ignore file doesn't exist errors putils.execute('rm', *links, run_as_root=True, check_exit_code=(0, errno.ENOENT), root_helper=ROOT_HELPER) if not no_errors and raise_at_end and exc: raise exc def _execute(*cmd, **kwargs): try: return rootwrap.custom_execute(*cmd, **kwargs) except OSError as e: sanitized_cmd = strutils.mask_password(' '.join(cmd)) raise putils.ProcessExecutionError( cmd=sanitized_cmd, description=six.text_type(e)) def init(root_helper='sudo'): global ROOT_HELPER ROOT_HELPER = root_helper priv_context.init(root_helper=[root_helper]) brick_get_connector_properties = connector.get_connector_properties brick_connector_factory = connector.InitiatorConnector.factory def my_get_connector_properties(*args, **kwargs): if len(args): args = list(args) args[0] = ROOT_HELPER else: kwargs['root_helper'] = ROOT_HELPER kwargs['execute'] = _execute return brick_get_connector_properties(*args, **kwargs) def my_connector_factory(protocol, *args, **kwargs): if len(args): # args is a tuple and we cannot do assignments args = list(args) args[0] = ROOT_HELPER else: kwargs['root_helper'] = ROOT_HELPER kwargs['execute'] = _execute # OS-Brick's implementation for RBD is not good enough for us if protocol == 'rbd': factory = RBDConnector else: factory = functools.partial(brick_connector_factory, protocol) return factory(*args, **kwargs) # Replace OS-Brick method and the reference we have to it connector.get_connector_properties = my_get_connector_properties cinderlib.get_connector_properties = my_get_connector_properties connector.InitiatorConnector.factory = staticmethod(my_connector_factory) if hasattr(rootwrap, 'unlink_root'): rootwrap.unlink_root = unlink_root",242,120
openstack%2Fneutron~master~I50a7585441bfb28f47ad2f587eec4e6954838e9f,openstack/neutron,master,I50a7585441bfb28f47ad2f587eec4e6954838e9f,Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port,MERGED,2021-06-21 10:51:11.000000000,2021-06-22 00:10:51.000000000,2021-06-22 00:08:40.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2021-06-21 10:51:11.000000000', 'files': ['neutron/db/l3_dvr_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b74a272bba5fafcad5847b2b100dc81b088ea3aa', 'message': 'Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port\n\nCloses-Bug: #1932483\n\nChange-Id: I50a7585441bfb28f47ad2f587eec4e6954838e9f\n'}]",0,797280,b74a272bba5fafcad5847b2b100dc81b088ea3aa,23,7,1,11975,,,0,"Add CONTEXT_WRITER decorator to delete_floatingip_agent_gateway_port

Closes-Bug: #1932483

Change-Id: I50a7585441bfb28f47ad2f587eec4e6954838e9f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/797280/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_dvr_db.py'],1,b74a272bba5fafcad5847b2b100dc81b088ea3aa,bug/1932483, @db_api.CONTEXT_WRITER,,1,0
openstack%2Fpuppet-cinder~stable%2Fwallaby~I564528663a3d2f83136b98ed46e09e373a9ad6de,openstack/puppet-cinder,stable/wallaby,I564528663a3d2f83136b98ed46e09e373a9ad6de,Allow for '-' in volume type property values,MERGED,2021-06-19 20:23:08.000000000,2021-06-22 00:09:47.000000000,2021-06-22 00:09:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-06-19 20:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/95021ffd11ccc4269eb5b20cd5f0a2cd2d81fa36', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n""}, {'number': 2, 'created': '2021-06-19 20:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fd41c4fe7392e61fd67be92a7cd30a8ad4c0ee4b', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n""}, {'number': 3, 'created': '2021-06-20 14:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/eee7ee9b1800e790acba5150401dec1280ea000f', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nDepends-On: If08fce9443281e65636aaaa99e3139732435f6f7\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n""}, {'number': 4, 'created': '2021-06-20 23:27:30.000000000', 'files': ['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fee24886422bf1dcdad64da33e022b01b0324fdb', 'message': ""Allow for '-' in volume type property values\n\nThere's no validation going on (yet) in cinder as to which characters\nare allowed in properties. So this change alters the regex to cast a\nwide net catching '-' and other possible valid variations.\n\nAlso update unit-test to cover this scenario.\n\nCloses-Bug: #1932272\nChange-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de\n(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)\n""}]",2,797108,fee24886422bf1dcdad64da33e022b01b0324fdb,23,4,4,25600,,,0,"Allow for '-' in volume type property values

There's no validation going on (yet) in cinder as to which characters
are allowed in properties. So this change alters the regex to cast a
wide net catching '-' and other possible valid variations.

Also update unit-test to cover this scenario.

Closes-Bug: #1932272
Change-Id: I564528663a3d2f83136b98ed46e09e373a9ad6de
(cherry picked from commit 62899eba67f134a92fb863b5a9b6dcfc3e18aa56)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/08/797108/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/cinder_type/openstack.rb', 'spec/unit/provider/cinder_type/openstack_spec.rb']",2,95021ffd11ccc4269eb5b20cd5f0a2cd2d81fa36,,"<<<<<<< HEAD (bb74d2 Merge ""TripleO: Reduce tempest test scope"" into stable/walla)======= :properties => ['key=value', 'new_key=a-new_value', 'multiattach=""<is> True""'], >>>>>>> CHANGE (62899e Allow for '-' in volume type property values)<<<<<<< HEAD (bb74d2 Merge ""TripleO: Reduce tempest test scope"" into stable/walla)======= .with('volume type', 'create', '--format', 'shell', ['--property', 'key=value', '--property', 'new_key=a-new_value', '--property', 'multiattach=""<is> True""', '--public', 'Backend_1']) >>>>>>> CHANGE (62899e Allow for '-' in volume type property values)<<<<<<< HEAD (bb74d2 Merge ""TripleO: Reduce tempest test scope"" into stable/walla)======= properties=""key=\'value\', new_key=\'a-new_value\', multiattach=\'<is> True\'"" >>>>>>> CHANGE (62899e Allow for '-' in volume type property values)",,13,1
openstack%2Frequirements~master~I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2,openstack/requirements,master,I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2,Updated from generate-constraints,MERGED,2021-06-21 06:32:33.000000000,2021-06-21 23:47:59.000000000,2021-06-21 23:46:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 06:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6558d3db639b8df2f7abf0d988ebd62b69eb9f28', 'message': 'Updated from generate-constraints\n\nChange-Id: I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2\n'}, {'number': 2, 'created': '2021-06-21 14:59:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/269a7bc5ffba8a0830c20fca6a31a45612c9c3f6', 'message': 'Updated from generate-constraints\n\nChange-Id: I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,797227,269a7bc5ffba8a0830c20fca6a31a45612c9c3f6,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I4afcf08726536d51c20e7d9fa4cf1b5b0057efd2
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/797227/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6558d3db639b8df2f7abf0d988ebd62b69eb9f28,openstack/requirements/constraints/noclob,moto===2.0.10XStatic-Angular===1.8.2.1scipy===1.7.0;python_version=='3.8'eventlet===0.31.0docutils===0.17.1Sphinx===4.0.2pkg-resources===0.0.0fasteners===0.16.3,moto===2.0.9XStatic-Angular===1.5.8.0scipy===1.6.3;python_version=='3.8'eventlet===0.30.2docutils===0.16Sphinx===3.5.4fasteners===0.14.1setuptools===57.0.0,8,8
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/ussuri,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-18 13:52:50.000000000,2021-06-21 23:35:57.000000000,2021-06-21 23:35:57.000000000,"[{'_account_id': 14985}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 13:52:50.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/819870702e43773a5c320eb5fdc860ee465c7bf1', 'message': 'Remove heat::heat_keystone_clients_url definition\n\nDuring Queens release cycle it was decided that\nclients_keystone/auth_uri should be defined and should point to\npublic URL to allow instances run some API calls.\n\nTwo changes were added:\n\n- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add\n  related definitions to puppet-heat\n- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add\n  appropriate hiera defition to THT\n\nBut hiera definition in THT was incorrect:\nheat::heat_keystone_clients_url was defined instead of\nheat::heat_clients_keystone_uri.\n\nheat_clients_keystone_uri parameter was removed from puppet-heat\nduring Train release cycle:\nI507fd2beecface5f8de35d18bfb546a653c6ef51\n\n(To Ussuri)\nConflicts:\n\tdeployment/heat/heat-base-puppet.yaml\n\nPartial-Bug: #1916386\nChange-Id: I2797da50489e3812aa58415e2e6ba44894a89094\n(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)\n(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)\n(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)\n'}]",0,797085,819870702e43773a5c320eb5fdc860ee465c7bf1,8,4,1,9816,,,0,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

(To Ussuri)
Conflicts:
	deployment/heat/heat-base-puppet.yaml

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/797085/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,819870702e43773a5c320eb5fdc860ee465c7bf1,bug/1916386-ussuri,," heat::heat_keystone_clients_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }",0,1
openstack%2Fnetworking-bagpipe~stable%2Fstein~Ifb16099fa24baba7da343fceb5170809ace3edaa,openstack/networking-bagpipe,stable/stein,Ifb16099fa24baba7da343fceb5170809ace3edaa,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 14:50:38.000000000,2021-06-21 23:32:53.000000000,2021-06-21 23:30:54.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 14:50:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/a85648177ee7a324e61f026556f9e37500dc7cdb', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Ifb16099fa24baba7da343fceb5170809ace3edaa\n'}]",0,796497,a85648177ee7a324e61f026556f9e37500dc7cdb,9,4,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ifb16099fa24baba7da343fceb5170809ace3edaa
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/97/796497/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a85648177ee7a324e61f026556f9e37500dc7cdb,clean-non-voting-jobs-stable/stein, experimental: jobs: - legacy-networking-bagpipe-dsvm-fullstack: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc voting: false, - legacy-networking-bagpipe-dsvm-fullstack: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack/networking-sfc voting: false,8,6
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2797da50489e3812aa58415e2e6ba44894a89094,openstack/tripleo-heat-templates,stable/train,I2797da50489e3812aa58415e2e6ba44894a89094,Remove heat::heat_keystone_clients_url definition,MERGED,2021-06-18 13:53:42.000000000,2021-06-21 23:20:36.000000000,2021-06-21 23:20:36.000000000,"[{'_account_id': 14985}, {'_account_id': 19234}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 13:53:42.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/378f65240fe9156903fadd510fea429e5107ede9', 'message': 'Remove heat::heat_keystone_clients_url definition\n\nDuring Queens release cycle it was decided that\nclients_keystone/auth_uri should be defined and should point to\npublic URL to allow instances run some API calls.\n\nTwo changes were added:\n\n- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add\n  related definitions to puppet-heat\n- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add\n  appropriate hiera defition to THT\n\nBut hiera definition in THT was incorrect:\nheat::heat_keystone_clients_url was defined instead of\nheat::heat_clients_keystone_uri.\n\nheat_clients_keystone_uri parameter was removed from puppet-heat\nduring Train release cycle:\nI507fd2beecface5f8de35d18bfb546a653c6ef51\n\n(To Ussuri)\nConflicts:\n\tdeployment/heat/heat-base-puppet.yaml\n\nPartial-Bug: #1916386\nChange-Id: I2797da50489e3812aa58415e2e6ba44894a89094\n(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)\n(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)\n(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)\n(cherry picked from commit 819870702e43773a5c320eb5fdc860ee465c7bf1)\n'}]",0,797094,378f65240fe9156903fadd510fea429e5107ede9,10,4,1,9816,,,0,"Remove heat::heat_keystone_clients_url definition

During Queens release cycle it was decided that
clients_keystone/auth_uri should be defined and should point to
public URL to allow instances run some API calls.

Two changes were added:

- I4429d86d831f49f1bc0fef04379a81ada20b6ab6 was used to add
  related definitions to puppet-heat
- Ib1cb8a5da886e3f7afd88f8dc9d63f0847f677bd was used to add
  appropriate hiera defition to THT

But hiera definition in THT was incorrect:
heat::heat_keystone_clients_url was defined instead of
heat::heat_clients_keystone_uri.

heat_clients_keystone_uri parameter was removed from puppet-heat
during Train release cycle:
I507fd2beecface5f8de35d18bfb546a653c6ef51

(To Ussuri)
Conflicts:
	deployment/heat/heat-base-puppet.yaml

Partial-Bug: #1916386
Change-Id: I2797da50489e3812aa58415e2e6ba44894a89094
(cherry picked from commit dc083686dee210a1b81a32da2ff1f1a0f17ec324)
(cherry picked from commit c3f91bcd7608428fa6e65cdf155ebe8f1e8c0cd0)
(cherry picked from commit 0ed341f447aaec139fb0c39ff643d8e75f015712)
(cherry picked from commit 819870702e43773a5c320eb5fdc860ee465c7bf1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/797094/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,378f65240fe9156903fadd510fea429e5107ede9,bug/1916386-train,," heat::heat_keystone_clients_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix] }",0,1
openstack%2Ftripleo-common~stable%2Fwallaby~Idcbe3f248ce631310245e35214b51b38263956b6,openstack/tripleo-common,stable/wallaby,Idcbe3f248ce631310245e35214b51b38263956b6,Cleanup OS_CLOUD env var for ephemeral heat,MERGED,2021-06-21 07:01:23.000000000,2021-06-21 22:33:57.000000000,2021-06-21 22:32:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 07:01:23.000000000', 'files': ['tripleo_common/utils/heat.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2552f6e646a5282b5cdff161ecc05c80428fcb4', 'message': 'Cleanup OS_CLOUD env var for ephemeral heat\n\nThis would cleanup OS_CLOUD if already set. Otherwise there\nwould be conflicts.\n\nRelated-Bug: #1931172\nChange-Id: Idcbe3f248ce631310245e35214b51b38263956b6\n(cherry picked from commit 1371815d554d6ad85a661f73f211579d9348752b)\n'}]",0,797207,d2552f6e646a5282b5cdff161ecc05c80428fcb4,10,3,1,8833,,,0,"Cleanup OS_CLOUD env var for ephemeral heat

This would cleanup OS_CLOUD if already set. Otherwise there
would be conflicts.

Related-Bug: #1931172
Change-Id: Idcbe3f248ce631310245e35214b51b38263956b6
(cherry picked from commit 1371815d554d6ad85a661f73f211579d9348752b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/797207/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/heat.py'],1,d2552f6e646a5282b5cdff161ecc05c80428fcb4,bug/1931172-stable/wallaby," 'OS_PROJECT_NAME', 'OS_CLOUD'):", 'OS_PROJECT_NAME'):,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib42fc397389d8b50c740edf334fe6f281c392ec6,openstack/tripleo-heat-templates,stable/wallaby,Ib42fc397389d8b50c740edf334fe6f281c392ec6,Set OS_CLOUD instead in stackrc,MERGED,2021-06-21 07:05:11.000000000,2021-06-21 22:32:25.000000000,2021-06-21 22:32:25.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 07:05:11.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2ff0b44649ece5257a84eca76c5b33a1a0fd88a', 'message': 'Set OS_CLOUD instead in stackrc\n\nWe now write clouds.yaml when configuring keystone and\ncan use OS_CLOUD instead. Setting OS_AUTH_URL overrides\nwhen we want use OS_CLOUD pointing to overcloud.\n\nCloses-bug: #1931172\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797207\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/797208\nChange-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6\n(cherry picked from commit 454b45c7d2705f75bb06c5e60470e5aa0264923a)\n'}]",0,797209,e2ff0b44649ece5257a84eca76c5b33a1a0fd88a,7,3,1,8833,,,0,"Set OS_CLOUD instead in stackrc

We now write clouds.yaml when configuring keystone and
can use OS_CLOUD instead. Setting OS_AUTH_URL overrides
when we want use OS_CLOUD pointing to overcloud.

Closes-bug: #1931172
Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/797207
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/797208
Change-Id: Ib42fc397389d8b50c740edf334fe6f281c392ec6
(cherry picked from commit 454b45c7d2705f75bb06c5e60470e5aa0264923a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/797209/1 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.sh']",2,e2ff0b44649ece5257a84eca76c5b33a1a0fd88a,bug/1931172-stable/wallaby,"CLOUD_NAME=""$cloud_name""export OS_CLOUD=$CLOUD_NAME export PS1=\${OS_CLOUD:+""(\$OS_CLOUD)""}\ $PS1"," export OS_AUTH_TYPE=password export OS_PASSWORD=$admin_password export OS_AUTH_URL=$auth_url export OS_USERNAME=admin export OS_PROJECT_NAME=admin export COMPUTE_API_VERSION=1.1 export NOVA_VERSION=1.1 export OS_NO_CACHE=True export OS_CLOUDNAME=undercloud export OS_IDENTITY_API_VERSION='3' export OS_PROJECT_DOMAIN_NAME='Default' export OS_USER_DOMAIN_NAME='Default'if [ -n ""$internal_tls_ca_file"" ]; then cat >> $HOMEDIR/stackrc <<-EOF_CAT export OS_CACERT=""$internal_tls_ca_file"" EOF_CAT fi export PS1=\${OS_CLOUDNAME:+""(\$OS_CLOUDNAME)""}\ $PS1",6,33
openstack%2Fnetworking-odl~stable%2Ftrain~I982ad3f002d58db63dab936e57dde5bde68fb476,openstack/networking-odl,stable/train,I982ad3f002d58db63dab936e57dde5bde68fb476,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 13:47:25.000000000,2021-06-21 22:18:35.000000000,2021-06-21 22:16:48.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 13:47:25.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7b2a7ed4031720d8f67b929999b98fd5a7ad37a9', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: I982ad3f002d58db63dab936e57dde5bde68fb476\n'}]",0,796475,7b2a7ed4031720d8f67b929999b98fd5a7ad37a9,12,4,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: I982ad3f002d58db63dab936e57dde5bde68fb476
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/75/796475/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,7b2a7ed4031720d8f67b929999b98fd5a7ad37a9,clean-non-voting-jobs, experimental: jobs: - networking-odl-grenade: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-oxygen-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-fluorine-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-rally-neon: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-rally-sodium: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-tempest-oxygen - networking-odl-tempest-fluorine, - networking-odl-grenade: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-oxygen - networking-odl-tempest-fluorine - networking-odl-tempest-oxygen-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-fluorine-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-rally-neon: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-rally-sodium: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-functional-neon: voting: false - networking-odl-functional-sodium: voting: false,41,42
openstack%2Fnetworking-odl~stable%2Fstein~Iad0721d4f132a47b070310119843fe25840bbdbe,openstack/networking-odl,stable/stein,Iad0721d4f132a47b070310119843fe25840bbdbe,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2021-06-15 14:48:51.000000000,2021-06-21 22:13:05.000000000,2021-06-21 22:11:16.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 14:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/474067b8754540255a03a82b4cd3d521df1a6e76', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Iad0721d4f132a47b070310119843fe25840bbdbe\n'}, {'number': 2, 'created': '2021-06-16 09:48:01.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c118764a216a31be4c93f89c28267bc0ac33f003', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Iad0721d4f132a47b070310119843fe25840bbdbe\n'}]",3,796496,c118764a216a31be4c93f89c28267bc0ac33f003,15,5,2,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Iad0721d4f132a47b070310119843fe25840bbdbe
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/96/796496/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,474067b8754540255a03a82b4cd3d521df1a6e76,clean-non-voting-jobs-stable/stein, experimental: jobs: - networking-odl-grenade: voting: false branches: ^(?!(driverfixes|stable/(mitaka|newton))).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-oxygen-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-fluorine-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-rally-oxygen: voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-rally-fluorine: voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$, - networking-odl-grenade: voting: false branches: ^(?!(driverfixes|stable/(mitaka|newton))).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-oxygen-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-tempest-fluorine-multinode: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - networking-odl-rally-oxygen: voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-rally-fluorine: voting: false branches: ^(?!stable/(newton|ocata|pike)).*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - networking-odl-functional-oxygen: voting: false - networking-odl-functional-fluorine: voting: false,42,43
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,openstack/tripleo-heat-templates,stable/wallaby,I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28,Limit collectds memory usage,MERGED,2021-06-21 14:47:10.000000000,2021-06-21 21:56:39.000000000,2021-06-21 21:56:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 14:47:10.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e987a234061773f0817a090c7c9752e1fab0fd72', 'message': 'Limit collectds memory usage\n\nto guard nodes from running out of memory.\n\nIf there is a connection issue with collectd not being able to\nwrite to event or metrics endpoints, this can lead to accumulating\nto large portions of memory. Limiting the memory usage via podman\nmemory will prevent the container to grow limitless. In case of\nusing more than 512 MB, podman will restart the container.\n\nChange-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28\n(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)\n'}]",0,797296,e987a234061773f0817a090c7c9752e1fab0fd72,7,3,1,4264,,,0,"Limit collectds memory usage

to guard nodes from running out of memory.

If there is a connection issue with collectd not being able to
write to event or metrics endpoints, this can lead to accumulating
to large portions of memory. Limiting the memory usage via podman
memory will prevent the container to grow limitless. In case of
using more than 512 MB, podman will restart the container.

Change-Id: I0b65b2c7878fe5ebd0d7f1a6f2ba8df23f2f0b28
(cherry picked from commit 2f702f7bb1452138811f42309b032f9747182e97)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/797296/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,e987a234061773f0817a090c7c9752e1fab0fd72,collectd_memory-stable/wallaby, mem_limit: 512m,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iba6a0da80cb75a93537a014dba8e77032101e570,openstack/tripleo-heat-templates,stable/victoria,Iba6a0da80cb75a93537a014dba8e77032101e570,Add option for enabling rsyslog reopenOnTruncate,MERGED,2021-06-18 12:54:10.000000000,2021-06-21 21:56:34.000000000,2021-06-21 21:56:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-18 12:54:10.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4704961718c81830d78f5747044f6a687991fed1', 'message': 'Add option for enabling rsyslog reopenOnTruncate\n\nreopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.\n\nSetting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature\n\n(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)\nChange-Id: Iba6a0da80cb75a93537a014dba8e77032101e570\n'}]",0,797078,4704961718c81830d78f5747044f6a687991fed1,11,3,1,31510,,,0,"Add option for enabling rsyslog reopenOnTruncate

reopenOnTruncate ensures rsyslog immediately recognizes when a logrotation happens on a file. When not on, rsyslog will wait for a log file to fill to its original capacity before consuming any additional logs.

Setting this here will ensure that every service configured to work with rsyslog will have this parameter. Default to off because this is an experimental feature

(cherry picked from commit a76bd1a69ba72d2f412e2d8ef8602861dde3e064)
Change-Id: Iba6a0da80cb75a93537a014dba8e77032101e570
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/797078/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,4704961718c81830d78f5747044f6a687991fed1,rsyslog-reopen-on-truncate-victoria," RsyslogReopenOnTruncate: default: false description: Rsyslog imfile reopenOnTruncate parameter type: boolean - {get_param: RsyslogReopenOnTruncate} - tripleo::profile::base::logging::rsyslog::reopen_on_truncate: ""on"" - {} - if:",,8,2
openstack%2Fdevstack-plugin-ceph~master~I76c2c3805a8f606dca69a0f12aca226680fda573,openstack/devstack-plugin-ceph,master,I76c2c3805a8f606dca69a0f12aca226680fda573,Add CentOS8 Stream support,MERGED,2021-06-18 15:17:47.000000000,2021-06-21 20:58:04.000000000,2021-06-21 20:56:51.000000000,"[{'_account_id': 4523}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 15:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/181337ea883a93853cc02b042ef01a35f849bfa7', 'message': 'Add CentOS8 Stream support\n\nRemove the need of using FORCE_CEPH_INSTALL=yes\nfor CentOS8 Stream\n\nChange-Id: I76c2c3805a8f606dca69a0f12aca226680fda573\n'}, {'number': 2, 'created': '2021-06-18 15:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/57fa8bdf75c5a58d96d34be9f7df7ccc65ade0d4', 'message': 'Add CentOS8 Stream support\n\nRemove the need of using FORCE_CEPH_INSTALL=yes\nfor CentOS8 Stream\n\nChange-Id: I76c2c3805a8f606dca69a0f12aca226680fda573\n'}, {'number': 3, 'created': '2021-06-21 17:55:47.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/83a076c2145618caf7dd22bd5286c5661191829e', 'message': 'Add CentOS8 Stream support\n\nRemove the need of using FORCE_CEPH_INSTALL=yes\nfor CentOS8 Stream\n\nChange-Id: I76c2c3805a8f606dca69a0f12aca226680fda573\n'}]",2,797124,83a076c2145618caf7dd22bd5286c5661191829e,16,4,3,6413,,,0,"Add CentOS8 Stream support

Remove the need of using FORCE_CEPH_INSTALL=yes
for CentOS8 Stream

Change-Id: I76c2c3805a8f606dca69a0f12aca226680fda573
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/24/797124/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,181337ea883a93853cc02b042ef01a35f849bfa7,support-centos8-stream, # CentOS8 Stream if [[ ${DISTRO} =~ rhel8 ]]; then return fi ,,5,0
openstack%2Fmanila-ui~master~Id924fc55debdc38ae2131bf8cef396f28caa3e77,openstack/manila-ui,master,Id924fc55debdc38ae2131bf8cef396f28caa3e77,Fix parsing names in switched fields,MERGED,2021-06-15 07:02:30.000000000,2021-06-21 20:37:45.000000000,2021-06-21 20:36:10.000000000,"[{'_account_id': 6413}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-06-15 07:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/3eac865942e9944be41d1e8b0d521ef9d2691020', 'message': 'Fix parsing share type name\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected. So, we could encode\nthe ""-"" in the name to workaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-06-15 10:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/aaece248632c1d8c7cad2835b3ae80216aa2b609', 'message': 'Fix parsing share type name\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected. So, we could encode\nthe ""-"" in the name to workaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-06-15 18:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/d6e69d47fab26b095e0745920fab436a513bbe69', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the hare Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-06-16 19:14:38.000000000', 'files': ['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/project/share_networks/forms.py', 'manila_ui/dashboards/utils.py', 'manila_ui/tests/dashboards/project/shares/tests.py', 'manila_ui/tests/dashboards/project/share_groups/tests.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml', 'manila_ui/tests/dashboards/project/share_networks/tests.py', 'manila_ui/dashboards/project/share_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/37e5b2f0530c9fe8117cea0dac95577b912bdecc', 'message': 'Fix parsing names in switched fields\n\nIn the share creation form dialog, share network\nselection is optionally provided based on whether\nthe share type chosen supports the DHSS extra-spec.\nThis selection breaks often when dealing with share\ntypes that have a name matching the format: "".*-\\d+.*"".\nFor example: test-700. The root cause of this seems to\nbe in javascript code for ""switchable"" fields [1] that\ndoesn\'t get triggered as expected.\n\nA similar issue manifests in the share Network Creation\nform where we setup switched fields with the Neutron\nnetwork IDs (dashed format UUIDs) and in the Share\nGroup Creation form where we setup switched fields\nwith the Share Group Type IDs (dashed format UUIDs).\n\nSo, we could encode the ""-"" in these field names to\nworkaround this issue.\n\nCloses-Bug: #1931641\n[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613\n\nChange-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,796384,37e5b2f0530c9fe8117cea0dac95577b912bdecc,36,6,4,16643,,,0,"Fix parsing names in switched fields

In the share creation form dialog, share network
selection is optionally provided based on whether
the share type chosen supports the DHSS extra-spec.
This selection breaks often when dealing with share
types that have a name matching the format: "".*-\d+.*"".
For example: test-700. The root cause of this seems to
be in javascript code for ""switchable"" fields [1] that
doesn't get triggered as expected.

A similar issue manifests in the share Network Creation
form where we setup switched fields with the Neutron
network IDs (dashed format UUIDs) and in the Share
Group Creation form where we setup switched fields
with the Share Group Type IDs (dashed format UUIDs).

So, we could encode the ""-"" in these field names to
workaround this issue.

Closes-Bug: #1931641
[1] https://opendev.org/openstack/horizon/src/commit/647c2b7530f81c4a534ef1d403aa3d90ae608442/horizon/static/horizon/js/horizon.forms.js#L491-L613

Change-Id: Id924fc55debdc38ae2131bf8cef396f28caa3e77
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/84/796384/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/dashboards/project/shares/forms.py', 'manila_ui/dashboards/utils.py', 'releasenotes/notes/bug-1931641-fix-handling-share-type-name-with-hyphens-8a9f16af36da5852.yaml']",3,3eac865942e9944be41d1e8b0d521ef9d2691020,bug/1931641,"--- fixes: - | Visibility of ""switchable"" fields in the share creation form involving share types that had hyphens in their names is now fixed. See `Launchpad bug #1931641 <https://launchpad.net/bugs/1931641>`_ for more details. ",,37,16
openstack%2Fbarbican-tempest-plugin~master~I9f0c030b172a544821aa42924e4401cd7ccc9956,openstack/barbican-tempest-plugin,master,I9f0c030b172a544821aa42924e4401cd7ccc9956,Don't use legacy exponent for RSA,MERGED,2021-06-10 20:46:43.000000000,2021-06-21 19:55:24.000000000,2021-06-21 19:33:13.000000000,"[{'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 31661}]","[{'number': 1, 'created': '2021-06-10 20:46:43.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/barbican_manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/25e16b8a0f36fbfee8fcccd6926682f0958bcc8d', 'message': 'Don\'t use legacy exponent for RSA\n\nAs stated in the cryptography.io documentation, ""Almost everyone should\nuse 65537"" for the public_exponent in an RSA key. [1]\n\nThis patch also uses a larger RSA key length for FIPS compatibility.\n\n[1] https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.generate_private_key\n\nChange-Id: I9f0c030b172a544821aa42924e4401cd7ccc9956\n'}]",2,795897,25e16b8a0f36fbfee8fcccd6926682f0958bcc8d,11,5,1,7973,,,0,"Don't use legacy exponent for RSA

As stated in the cryptography.io documentation, ""Almost everyone should
use 65537"" for the public_exponent in an RSA key. [1]

This patch also uses a larger RSA key length for FIPS compatibility.

[1] https://cryptography.io/en/latest/hazmat/primitives/asymmetric/rsa/#cryptography.hazmat.primitives.asymmetric.rsa.generate_private_key

Change-Id: I9f0c030b172a544821aa42924e4401cd7ccc9956
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/97/795897/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/barbican_manager.py'],1,25e16b8a0f36fbfee8fcccd6926682f0958bcc8d,," self.private_key = rsa.generate_private_key(public_exponent=65537, key_size=3072,"," self.private_key = rsa.generate_private_key(public_exponent=3, key_size=1024,",2,2
openstack%2Fkolla-ansible~master~Icd3d140473886ba3c4847859cddccdb3c1376818,openstack/kolla-ansible,master,Icd3d140473886ba3c4847859cddccdb3c1376818,Fix host bootstrap pkg removal on Debian,MERGED,2021-06-21 15:42:04.000000000,2021-06-21 19:45:34.000000000,2021-06-21 19:44:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 15:42:04.000000000', 'files': ['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a7440b370f5c2bf6f255a6530349a3e680007b9', 'message': 'Fix host bootstrap pkg removal on Debian\n\nThe variable names are awful but this all agrees with the docs now.\n\nCloses-Bug: #1933122\nChange-Id: Icd3d140473886ba3c4847859cddccdb3c1376818\n'}]",0,797328,3a7440b370f5c2bf6f255a6530349a3e680007b9,10,4,1,30491,,,0,"Fix host bootstrap pkg removal on Debian

The variable names are awful but this all agrees with the docs now.

Closes-Bug: #1933122
Change-Id: Icd3d140473886ba3c4847859cddccdb3c1376818
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/797328/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1933122-b34311ba73092080.yaml', 'ansible/roles/baremetal/tasks/install.yml']",2,3a7440b370f5c2bf6f255a6530349a3e680007b9,bug/1933122, when: ansible_os_family == 'Debian'," when: ansible_distribution|lower == ""ubuntu""",7,1
openstack%2Fneutron-tempest-plugin~master~Ia1756ddbea665dea639de8ef40602034c07dadbb,openstack/neutron-tempest-plugin,master,Ia1756ddbea665dea639de8ef40602034c07dadbb,Remove allowed_address_pair API tests,MERGED,2021-06-15 12:40:22.000000000,2021-06-21 19:29:35.000000000,2021-06-21 19:29:35.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-15 12:40:22.000000000', 'files': ['neutron_tempest_plugin/api/test_allowed_address_pair.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3eb483bf8db96e5646c1cecfd1cbdce33fe62519', 'message': 'Remove allowed_address_pair API tests\n\nThe same tests are also available in\ntempest.api.network.test_allowed_address_pair module. Usually in\nsuch case, tests are removed from the tempest repo and kept in the\ntempest plugin repo but in this case we discussed that with the core\nmembers of the QA team and we agreed that it will be better to remove\nthose tests from neutron-tempest-plugin and keep them in the tempest\nrepo as they are part of the Interop tests.\n\nChange-Id: Ia1756ddbea665dea639de8ef40602034c07dadbb\n'}]",1,796462,3eb483bf8db96e5646c1cecfd1cbdce33fe62519,8,7,1,11975,,,0,"Remove allowed_address_pair API tests

The same tests are also available in
tempest.api.network.test_allowed_address_pair module. Usually in
such case, tests are removed from the tempest repo and kept in the
tempest plugin repo but in this case we discussed that with the core
members of the QA team and we agreed that it will be better to remove
those tests from neutron-tempest-plugin and keep them in the tempest
repo as they are part of the Interop tests.

Change-Id: Ia1756ddbea665dea639de8ef40602034c07dadbb
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/62/796462/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_allowed_address_pair.py'],1,3eb483bf8db96e5646c1cecfd1cbdce33fe62519,,,"# Copyright 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from neutron_tempest_plugin.api import base class AllowedAddressPairTestJSON(base.BaseNetworkTest): """"""AllowedAddressPairTestJSON class Tests the Neutron Allowed Address Pair API extension using the Tempest REST client. The following API operations are tested with this extension: create port list ports update port show port v2.0 of the Neutron API is assumed. It is also assumed that the following options are defined in the [network-feature-enabled] section of etc/tempest.conf api_extensions """""" required_extensions = ['allowed-address-pairs'] @classmethod def resource_setup(cls): super(AllowedAddressPairTestJSON, cls).resource_setup() cls.network = cls.create_network() cls.create_subnet(cls.network) port = cls.create_port(cls.network) cls.ip_address = port['fixed_ips'][0]['ip_address'] cls.mac_address = port['mac_address'] @decorators.idempotent_id('86c3529b-1231-40de-803c-00e40882f043') def test_create_list_port_with_address_pair(self): # Create port with allowed address pair attribute allowed_address_pairs = [{'ip_address': self.ip_address, 'mac_address': self.mac_address}] body = self.create_port( self.network, allowed_address_pairs=allowed_address_pairs) port_id = body['id'] # Confirm port was created with allowed address pair attribute body = self.client.list_ports() ports = body['ports'] port = [p for p in ports if p['id'] == port_id] msg = 'Created port not found in list of ports returned by Neutron' self.assertTrue(port, msg) self._confirm_allowed_address_pair(port[0], self.ip_address) def _update_port_with_address(self, address, mac_address=None, **kwargs): # Create a port without allowed address pair body = self.create_port(self.network) port_id = body['id'] if mac_address is None: mac_address = self.mac_address # Update allowed address pair attribute of port allowed_address_pairs = [{'ip_address': address, 'mac_address': mac_address}] if kwargs: allowed_address_pairs.append(kwargs['allowed_address_pairs']) body = self.client.update_port( port_id, allowed_address_pairs=allowed_address_pairs) allowed_address_pair = body['port']['allowed_address_pairs'] for pair in allowed_address_pair: pair.pop('active', None) self.assertCountEqual(allowed_address_pair, allowed_address_pairs) @decorators.idempotent_id('9599b337-272c-47fd-b3cf-509414414ac4') def test_update_port_with_address_pair(self): # Update port with allowed address pair self._update_port_with_address(self.ip_address) @decorators.idempotent_id('4d6d178f-34f6-4bff-a01c-0a2f8fe909e4') def test_update_port_with_cidr_address_pair(self): # Update allowed address pair with cidr cidr = str(next(self.get_subnet_cidrs())) self._update_port_with_address(cidr) @decorators.idempotent_id('b3f20091-6cd5-472b-8487-3516137df933') def test_update_port_with_multiple_ip_mac_address_pair(self): # Create an ip _address and mac_address through port create resp = self.create_port(self.network) ipaddress = resp['fixed_ips'][0]['ip_address'] macaddress = resp['mac_address'] # Update allowed address pair port with multiple ip and mac allowed_address_pairs = {'ip_address': ipaddress, 'mac_address': macaddress} self._update_port_with_address( self.ip_address, self.mac_address, allowed_address_pairs=allowed_address_pairs) def _confirm_allowed_address_pair(self, port, ip): msg = 'Port allowed address pairs should not be empty' self.assertTrue(port['allowed_address_pairs'], msg) ip_address = port['allowed_address_pairs'][0]['ip_address'] mac_address = port['allowed_address_pairs'][0]['mac_address'] self.assertEqual(ip_address, ip) self.assertEqual(mac_address, self.mac_address) class AllowedAddressPairIpV6TestJSON(AllowedAddressPairTestJSON): _ip_version = 6 ",0,123
openstack%2Fheat~master~I1aa12bcd2638390f25d57ce8abeeec248121dc02,openstack/heat,master,I1aa12bcd2638390f25d57ce8abeeec248121dc02,[goal] Deprecate the JSON formatted policy file,MERGED,2020-12-13 18:55:43.000000000,2021-06-21 19:26:46.000000000,2021-06-21 19:25:09.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-13 18:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cbf8a9485c9cb0370af9a069020f29134911a139', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 2, 'created': '2020-12-14 22:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/381ee9ea3f094d38c06376ba5a04e1178935df9b', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 3, 'created': '2020-12-17 23:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a0c41b10d1dec7c1666e344553d79ae3dd44795a', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 4, 'created': '2021-01-12 09:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a427cf2afa1846ef3468442259e55730931044f7', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 5, 'created': '2021-01-14 23:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e1e50588c2e2196c1841693461510c034dc81a36', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 6, 'created': '2021-02-11 18:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8eab70773485632656b69c5f5d56bf818d1d98ee', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 7, 'created': '2021-02-16 23:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2ea1cff891e8b2af2f51137d373b7ce342033c11', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 8, 'created': '2021-03-07 01:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/22cc2eab1fcd96bd5e78d3cec8f81054ef17b804', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 9, 'created': '2021-03-08 00:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bf2868b4d472f19b36063c2773db12f912c2d0a8', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 10, 'created': '2021-03-13 16:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/323d5317d53cb80f1ce31b1ac92b584912e5e958', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 11, 'created': '2021-03-30 00:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/91d3b47ba4e3d19392f5c18f824873d436e9b638', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 12, 'created': '2021-03-30 04:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/266b49b68aa82638900cffcecc3336810d525ce3', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 13, 'created': '2021-04-15 12:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a573cc3fbe62abe8913e5e7496b423e39d632d58', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 14, 'created': '2021-05-13 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7cbe942cc309ad1405ae5fd246c2c2b995c5659', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 15, 'created': '2021-05-18 04:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d52d06d51736fc5b5c8733a28b36df1d5566eda0', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 16, 'created': '2021-05-18 08:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/97677f3ca2a7d6c69ed01af4dff255328f099716', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 17, 'created': '2021-06-08 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/addd15db33d2e50ec24eb2a68abf0b4f2d9964a7', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 18, 'created': '2021-06-15 17:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f20ec555ec4b943198b4a19b4975eb69292eaedc', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 19, 'created': '2021-06-15 17:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e288165fb8dabcc95504cd9052f341845676b35e', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 20, 'created': '2021-06-16 15:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3fb464b148926d4c9199d62be519dc0c5d20b132', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}, {'number': 21, 'created': '2021-06-16 17:35:55.000000000', 'files': ['heat/tests/cmd/test_status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-ac2f98b31ece0baf.yaml', 'api-ref/source/v1/parameters.yaml', 'heat/tests/convergence/framework/reality.py', 'heat/api/openstack/v1/build_info.py', 'heat/api/cfn/v1/stacks.py', 'lower-constraints.txt', 'heat/tests/test_common_policy.py', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/stacks.py', 'doc/source/configuration/sample_policy.rst', 'heat/common/policy.py', 'heat/api/openstack/v1/services.py', 'heat/tests/common.py', 'requirements.txt', 'heat/tests/test_common_context.py', 'heat/api/openstack/v1/resources.py', 'doc/source/admin/stack-domain-users.rst', 'heat/api/openstack/v1/events.py', 'heat/cmd/status.py', 'heat/common/config.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/157f358057c3e12158ee4ba354566c2ad5a9ecb5', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to do two things:\n\n1. Change the default value of '[oslo_policy] policy_file''\nconfig option from 'policy.json' to 'policy.yaml' with\nupgrade checks.\n\n2. Deprecate the JSON formatted policy file on the project side\nvia warning in doc and releasenotes.\n\nAlso replace policy.json to policy.yaml ref from doc and code.\n\n[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02\n""}]",23,766861,157f358057c3e12158ee4ba354566c2ad5a9ecb5,121,5,21,8556,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to do two things:

1. Change the default value of '[oslo_policy] policy_file''
config option from 'policy.json' to 'policy.yaml' with
upgrade checks.

2. Deprecate the JSON formatted policy file on the project side
via warning in doc and releasenotes.

Also replace policy.json to policy.yaml ref from doc and code.

[1]https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I1aa12bcd2638390f25d57ce8abeeec248121dc02
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/766861/18 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/cmd/test_status.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-ac2f98b31ece0baf.yaml', 'api-ref/source/v1/parameters.yaml', 'heat/api/openstack/v1/build_info.py', 'heat/api/cfn/v1/stacks.py', 'lower-constraints.txt', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/stacks.py', 'doc/source/configuration/sample_policy.rst', 'heat/common/policy.py', 'heat/api/openstack/v1/services.py', 'requirements.txt', 'heat/api/openstack/v1/resources.py', 'doc/source/admin/stack-domain-users.rst', 'heat/api/openstack/v1/events.py', 'heat/cmd/status.py', 'heat/common/config.py']",17,cbf8a9485c9cb0370af9a069020f29134911a139,policy-json-to-yaml,"from oslo_policy import opts # TODO(gmann): Remove setting the default value of config policy_file # once oslo_policy change the default value to 'policy.yaml'. # https://github.com/openstack/oslo.policy/blob/a626ad12fe5a3abd49d70e3e5b95589d279ab578/oslo_policy/opts.py#L49 opts.set_defaults(CONF, 'policy.yaml')",,59,53
openstack%2Fpython-tripleoclient~master~I1991afdb93e7019a9c29ea70e25eec5c062a98d6,openstack/python-tripleoclient,master,I1991afdb93e7019a9c29ea70e25eec5c062a98d6,Deprecate overcloud image upload to glance,MERGED,2021-06-21 03:20:46.000000000,2021-06-21 18:55:54.000000000,2021-06-21 18:54:18.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-21 03:20:46.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'releasenotes/notes/deprecate-glance-image-upload-ef23d3078f430ccf.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10722b5f9768768f5f8fc58e2437946a6c2e88a2', 'message': ""Deprecate overcloud image upload to glance\n\nWe don't have glance in the undercloud by default. Though we\ncurrently fall back to upload locally if glance is not\navailable. Let's make local upload the default and deprecate\nimage upload to glance. This would help avoid looking glance\nendpoint in the catalog, which would not be available in the\nnoauth use-case.\n\nWe'll drop GlanceClientAdapter when we remove option to enable\nglance from the undercloud.\n\nChange-Id: I1991afdb93e7019a9c29ea70e25eec5c062a98d6\n""}]",0,797223,10722b5f9768768f5f8fc58e2437946a6c2e88a2,9,4,1,8833,,,0,"Deprecate overcloud image upload to glance

We don't have glance in the undercloud by default. Though we
currently fall back to upload locally if glance is not
available. Let's make local upload the default and deprecate
image upload to glance. This would help avoid looking glance
endpoint in the catalog, which would not be available in the
noauth use-case.

We'll drop GlanceClientAdapter when we remove option to enable
glance from the undercloud.

Change-Id: I1991afdb93e7019a9c29ea70e25eec5c062a98d6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/797223/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'releasenotes/notes/deprecate-glance-image-upload-ef23d3078f430ccf.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",3,10722b5f9768768f5f8fc58e2437946a6c2e88a2,undercloud-noauth," parsed_args = self.check_parser(self.cmd, ['--no-local'], []) ['--image-path', '/foo', '--no-local'], parsed_args = self.check_parser(self.cmd, ['--no-local'], []) parsed_args = self.check_parser(self.cmd, ['--update-existing', '--no-local'], []) parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--no-local'], []) ['--whole-disk', '--arch', 'ppc64le', '--no-local'], parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--no-local'], []) self.cmd, ['--update-existing', '--whole-disk', '--no-local'], []) ['--whole-disk', '--no-local'], '--arch', 'ppc64le', '--no-local'], ['--whole-disk', '--no-local'], '--architecture', 'ppc64le', '--no-local'], '--platform', 'p9', '--no-local'], self.cmd, ['--whole-disk', '--image-type=ironic-python-agent', '--no-local'], []) self.cmd, ['--whole-disk', '--image-type=os', '--no-local'], []) self.cmd, ['--image-type=ironic-python-agent', '--no-local'], []) self.cmd, ['--image-type=os', '--no-local'], [])"," parsed_args = self.check_parser(self.cmd, [], []) ['--image-path', '/foo'], parsed_args = self.check_parser(self.cmd, [], []) parsed_args = self.check_parser(self.cmd, ['--update-existing'], []) parsed_args = self.check_parser(self.cmd, ['--whole-disk'], []) ['--whole-disk', '--arch', 'ppc64le'], parsed_args = self.check_parser(self.cmd, ['--whole-disk'], []) self.cmd, ['--update-existing', '--whole-disk'], []) ['--whole-disk'], '--arch', 'ppc64le'], ['--whole-disk'], '--architecture', 'ppc64le'], '--platform', 'p9'], self.cmd, ['--whole-disk', '--image-type=ironic-python-agent'], []) self.cmd, ['--whole-disk', '--image-type=os'], []) self.cmd, ['--image-type=ironic-python-agent'], []) self.cmd, ['--image-type=os'], [])",48,21
openstack%2Fpython-neutronclient~master~I83717c5b2661df0d4288699903c38814cefb43d9,openstack/python-neutronclient,master,I83717c5b2661df0d4288699903c38814cefb43d9,Changed minversion in tox to 3.18.0,MERGED,2021-06-03 06:48:28.000000000,2021-06-21 18:52:45.000000000,2021-06-21 18:51:17.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-03 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/b024d6afebe0e3d59b3eb4101606517cb46fa79e', 'message': 'Changed minversion in tox to 3.18.0\n\nwhitelist_externals is deprecated now, use allowlist_externals\ninstead. see[0]\nAdd find command to allowlist_externals list to fix a warning.[1]\n\n[0]: https://tox.readthedocs.io/en/latest/config.html\n[1]: https://zuul.opendev.org/t/openstack/build/9ac7f205080343f29d7e2b519abbdb73/log/job-output.txt#945\n[2]: https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I83717c5b2661df0d4288699903c38814cefb43d9\n'}, {'number': 2, 'created': '2021-06-03 07:00:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d6c211c139928fff3e1bcc41f069995892e233fe', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I83717c5b2661df0d4288699903c38814cefb43d9\n""}]",0,794405,d6c211c139928fff3e1bcc41f069995892e233fe,17,4,2,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I83717c5b2661df0d4288699903c38814cefb43d9
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/05/794405/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b024d6afebe0e3d59b3eb4101606517cb46fa79e,update-min-tox,minversion = 3.18.0allowlist_externals = shallowlist_externals =,minversion = 2.3.2whitelist_externals = shwhitelist_externals =,3,3
openstack%2Fswift~master~Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3,openstack/swift,master,Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3,Add unit test for some quietened tracebacks,ABANDONED,2021-06-21 13:30:22.000000000,2021-06-21 18:26:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-21 13:30:22.000000000', 'files': ['test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/82e7b42845ccece6b3d35e1ae9eed23f691d61f3', 'message': 'Add unit test for some quietened tracebacks\n\nChange-Id: Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3\n'}]",0,797292,82e7b42845ccece6b3d35e1ae9eed23f691d61f3,4,1,1,7847,,,0,"Add unit test for some quietened tracebacks

Change-Id: Ie9a2f1a9c00e44b895f3165cbe9a13b94865fca3
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/797292/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_utils.py'],1,82e7b42845ccece6b3d35e1ae9eed23f691d61f3,," log_exception(socket.error(errno.ENETUNREACH, 'my error message')) log_msg = strip_value(sio) self.assertNotIn('Traceback', log_msg) self.assertNotIn('my error message', log_msg) self.assertIn('Network unreachable', log_msg) log_exception(socket.error(errno.EPIPE, 'my error message')) log_msg = strip_value(sio) self.assertNotIn('Traceback', log_msg) self.assertNotIn('my error message', log_msg) self.assertIn('Broken pipe', log_msg)",,12,0
openstack%2Fmonasca-agent~master~I50f0aa5d8865323515d15d1c1c5f10683bbac090,openstack/monasca-agent,master,I50f0aa5d8865323515d15d1c1c5f10683bbac090,vmware: Use oslo.vmware's get_moref_value(),MERGED,2021-04-30 05:54:37.000000000,2021-06-21 18:18:19.000000000,2021-06-21 18:18:19.000000000,"[{'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-30 05:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/85fb9b4370a432f6cfbdd6128e86e712885d70da', 'message': 'vmware: Use oslo.vmware\'s get_moref_value()\n\nWith switching the SOAP library backing oslo.vmware [1], the internal\nrepresentation of ManagedObjectReference\'s attributes changes. To be able\nto make the switch without interruption, we introduced helper functions\nin oslo.vmware. This commit uses one of those - get_moref_value()\n- to make the access to the ""value"" attribute compatible with both\nbacking libraries.\n\n[1] https://specs.openstack.org/openstack/oslo-\nspecs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I50f0aa5d8865323515d15d1c1c5f10683bbac090\n'}, {'number': 2, 'created': '2021-04-30 10:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/1f700a863f64737ed0cf8a9e07b65d2731f7e26e', 'message': 'vmware: Use oslo.vmware\'s get_moref_value()\n\nWith switching the SOAP library backing oslo.vmware [1], the internal\nrepresentation of ManagedObjectReference\'s attributes changes. To be able\nto make the switch without interruption, we introduced helper functions\nin oslo.vmware. This commit uses one of those - get_moref_value()\n- to make the access to the ""value"" attribute compatible with both\nbacking libraries.\n\n[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I50f0aa5d8865323515d15d1c1c5f10683bbac090\n'}, {'number': 3, 'created': '2021-06-15 15:14:44.000000000', 'files': ['monasca_agent/collector/virt/vmware/vsphere_operations.py', 'monasca_agent/collector/checks_d/vcenter.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/f6d1170b9b9f70b3139e20e59ef09faa8525bb84', 'message': 'vmware: Use oslo.vmware\'s get_moref_value()\n\nWith switching the SOAP library backing oslo.vmware [1], the internal\nrepresentation of ManagedObjectReference\'s attributes changes. To be able\nto make the switch without interruption, we introduced helper functions\nin oslo.vmware. This commit uses one of those - get_moref_value()\n- to make the access to the ""value"" attribute compatible with both\nbacking libraries.\n\n[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html\n\nChange-Id: I50f0aa5d8865323515d15d1c1c5f10683bbac090\n'}]",9,788887,f6d1170b9b9f70b3139e20e59ef09faa8525bb84,15,4,3,32919,,,0,"vmware: Use oslo.vmware's get_moref_value()

With switching the SOAP library backing oslo.vmware [1], the internal
representation of ManagedObjectReference's attributes changes. To be able
to make the switch without interruption, we introduced helper functions
in oslo.vmware. This commit uses one of those - get_moref_value()
- to make the access to the ""value"" attribute compatible with both
backing libraries.

[1] https://specs.openstack.org/openstack/oslo-specs/specs/victoria/oslo-vmware-soap-library-switch.html

Change-Id: I50f0aa5d8865323515d15d1c1c5f10683bbac090
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/87/788887/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/virt/vmware/vsphere_operations.py', 'monasca_agent/collector/checks_d/vcenter.py']",2,85fb9b4370a432f6cfbdd6128e86e712885d70da,bp/oslo-vmware-soap-library-switch, cluster_moid = str(vim_util.get_moref_value(object_content.obj)) mor_value = vim_util.get_moref_value(mor) if dynamic_prop.name == 'datastore': datastore_names.append(str(mor_value)) elif dynamic_prop.name == 'host': host_names.append(str(mor_value)) ds_mor = vim_util.get_moref_value(object_content.obj) host_mount_key_val = vim_util.get_moref_value( host_mount.key) datastore_host_ids.append(host_mount_key_val) ds_mor = vim_util.get_moref_value(object_content.obj) perf_metric_series_csvs = vim_util.get_moref_value( perf_entity_metric_csv) perf_result[name] = vim_util.get_moref_value( perf_metric_series_csv), cluster_moid = str(object_content.obj.value) if dynamic_prop.name == 'datastore': datastore_names.append(str(mor.value)) elif dynamic_prop.name == 'host': host_names.append(str(mor.value)) ds_mor = object_content.obj.value datastore_host_ids.append(host_mount.key.value) ds_mor = object_content.obj.value perf_metric_series_csvs = perf_entity_metric_csv.value perf_result[name] = perf_metric_series_csv.value,17,11
openstack%2Fkolla-ansible~stable%2Fwallaby~I667adc7d8a7dbd20dbfa293f389e02355f8275bb,openstack/kolla-ansible,stable/wallaby,I667adc7d8a7dbd20dbfa293f389e02355f8275bb,baremetal: fix /etc/hosts generation when api_interface has dashes,MERGED,2021-06-21 09:35:05.000000000,2021-06-21 18:12:51.000000000,2021-06-21 18:10:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:35:05.000000000', 'files': ['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/315d8eec29b387bbc269eb4a13a3d979985bd845', 'message': 'baremetal: fix /etc/hosts generation when api_interface has dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts. In the baremetal\nrole we reference the fact for api_interface without replacing dashes\nwith underscores. This may result in host entries being omitted from\n/etc/hosts.\n\nThis change fixes the issue.\n\nChange-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb\nRelated-Bug: #1927357\n(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)\n'}]",0,797257,315d8eec29b387bbc269eb4a13a3d979985bd845,9,3,1,14826,,,0,"baremetal: fix /etc/hosts generation when api_interface has dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts. In the baremetal
role we reference the fact for api_interface without replacing dashes
with underscores. This may result in host entries being omitted from
/etc/hosts.

This change fixes the issue.

Change-Id: I667adc7d8a7dbd20dbfa293f389e02355f8275bb
Related-Bug: #1927357
(cherry picked from commit 46bd05250d5c6497da35d8a490336a433915358e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/797257/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/etc-hosts-dashes-37d0dc07c8fc881f.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,315d8eec29b387bbc269eb4a13a3d979985bd845,," {% set api_interface = hostvars[host]['api_interface'] | replace('-', '_') %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] | replace('-', '_') in hostvars[inventory_hostname]", {% set api_interface = hostvars[host]['api_interface'] %} 'ansible_' + hostvars[inventory_hostname]['api_interface'] in hostvars[inventory_hostname],9,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,openstack/kolla-ansible,stable/wallaby,I71f45ba5b9d1d2227c95633d3de51e2ccd42a467,chronyd crash loop if Debian server is rebooted,MERGED,2021-06-21 09:32:17.000000000,2021-06-21 18:11:49.000000000,2021-06-21 18:10:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 33105}]","[{'number': 1, 'created': '2021-06-21 09:32:17.000000000', 'files': ['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6a2e5ec1617b806ae3fc54866b256c343d75303', 'message': 'chronyd crash loop if Debian server is rebooted\n\nThis patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,\nas described in Bug-ID: #1915528.\n\nDue to permissions issue, before this fix is applied chronyd process will be exiting with\nroot cause error message:\n\nFatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied\nThis has to do with priviledges we configured for chrony. Relaxing them fixes the issue.\nTested on top of stable/victoria and Debian 10 Buster.\n\nNot tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise\nthe owner and make it configurable (just one idea).\n\nCloses-Bug: #1915528\nChange-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467\n(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)\n'}]",0,797254,a6a2e5ec1617b806ae3fc54866b256c343d75303,9,4,1,14826,,,0,"chronyd crash loop if Debian server is rebooted

This patch fixes the constant chrony container crash loop after (Debian 10) server is rebooted,
as described in Bug-ID: #1915528.

Due to permissions issue, before this fix is applied chronyd process will be exiting with
root cause error message:

Fatal error : Could not open configuration file /etc/chrony/chrony.conf : Permission denied
This has to do with priviledges we configured for chrony. Relaxing them fixes the issue.
Tested on top of stable/victoria and Debian 10 Buster.

Not tested on CentOS/RHEL. If this does not work well on RHEL/CentOS we can maybe parametrise
the owner and make it configurable (just one idea).

Closes-Bug: #1915528
Change-Id: I71f45ba5b9d1d2227c95633d3de51e2ccd42a467
(cherry picked from commit 21ccae12f7937201cff2f4cf08deefe57b7594e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/797254/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/chrony/templates/chrony.json.j2', 'releasenotes/notes/bug-1915528-chronyd-crash-loop-if-server-is-rebooted-debian.yaml']",2,a6a2e5ec1617b806ae3fc54866b256c343d75303,,--- fixes: - | chronyd crash loop if server is rebooted (Debian) `LP#1915528 <https://launchpad.net/bugs/1915528>`__ ,,7,2
openstack%2Fhorizon~stable%2Fstein~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,stable/stein,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,ABANDONED,2021-03-19 16:38:21.000000000,2021-06-21 18:09:08.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 16:38:21.000000000', 'files': ['openstack_dashboard/themes/material/static/horizon/components/_navbar.scss', 'openstack_dashboard/themes/material/static/horizon/components/_radiobuttons.scss', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_spinners.scss', 'openstack_dashboard/themes/material/static/horizon/components/_datepicker.scss', 'openstack_dashboard/themes/material/static/horizon/components/_checkboxes.scss', 'openstack_dashboard/themes/material/static/horizon/components/_context_selection.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7ba2e44ab105aefd8e7850c8a579f058fc9ca42c', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nCloses-Bug: #1771559\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)\n""}]",0,781805,7ba2e44ab105aefd8e7850c8a579f058fc9ca42c,3,2,1,13095,,,0,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/781805/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/themes/material/static/horizon/components/_navbar.scss', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_radiobuttons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_spinners.scss', 'openstack_dashboard/themes/material/static/horizon/components/_datepicker.scss', 'openstack_dashboard/themes/material/static/horizon/components/_checkboxes.scss', 'openstack_dashboard/themes/material/static/horizon/components/_context_selection.scss']",7,7ba2e44ab105aefd8e7850c8a579f058fc9ca42c,matherial-fix-stable/stein," &:before { content: ""\F4DB""; } } ",},27,2
openstack%2Fhorizon~stable%2Ftrain~I969ad70065c580ba90bb0a050c7a9cf242d805ec,openstack/horizon,stable/train,I969ad70065c580ba90bb0a050c7a9cf242d805ec,Fix Material theme to work with any combination of pyScss and MDI icons,ABANDONED,2021-03-19 16:37:37.000000000,2021-06-21 18:09:00.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 16:37:37.000000000', 'files': ['openstack_dashboard/themes/material/static/horizon/components/_navbar.scss', 'openstack_dashboard/themes/material/static/horizon/components/_radiobuttons.scss', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_spinners.scss', 'openstack_dashboard/themes/material/static/horizon/components/_datepicker.scss', 'openstack_dashboard/themes/material/static/horizon/components/_checkboxes.scss', 'openstack_dashboard/themes/material/static/horizon/components/_context_selection.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3580e6c7203baeb0faf3d7234f7838c1936c0c1d', 'message': ""Fix Material theme to work with any combination of pyScss and MDI icons\n\n':before' class doesn't work as expected with current versions of\nxstatic-mdi and PyScss. It's a temporary workaround with copy ':before'\nstyles from MDI directly into the Material theme.\n\nCloses-Bug: #1771559\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec\n(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)\n""}]",0,781804,3580e6c7203baeb0faf3d7234f7838c1936c0c1d,4,2,1,13095,,,0,"Fix Material theme to work with any combination of pyScss and MDI icons

':before' class doesn't work as expected with current versions of
xstatic-mdi and PyScss. It's a temporary workaround with copy ':before'
styles from MDI directly into the Material theme.

Closes-Bug: #1771559
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I969ad70065c580ba90bb0a050c7a9cf242d805ec
(cherry picked from commit f3bfa383417b270fce384fee18c5cb470cec15f7)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/781804/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/themes/material/static/horizon/components/_navbar.scss', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_radiobuttons.scss', 'openstack_dashboard/themes/material/static/horizon/components/_spinners.scss', 'openstack_dashboard/themes/material/static/horizon/components/_datepicker.scss', 'openstack_dashboard/themes/material/static/horizon/components/_checkboxes.scss', 'openstack_dashboard/themes/material/static/horizon/components/_context_selection.scss']",7,3580e6c7203baeb0faf3d7234f7838c1936c0c1d,matherial-fix-stable/train," &:before { content: ""\F4DB""; } } ",},27,2
openstack%2Fdesignate-tempest-plugin~master~I4d85395100ffc3cabcc27857e68fd5d948b45ef6,openstack/designate-tempest-plugin,master,I4d85395100ffc3cabcc27857e68fd5d948b45ef6,DNM: Debugging test_list_all_projects_recordsets,ABANDONED,2021-06-18 15:03:11.000000000,2021-06-21 18:06:22.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 15:03:11.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ba8793262daaf60354023253c268e932834e990c', 'message': 'DNM: Debugging test_list_all_projects_recordsets\n\nChange-Id: I4d85395100ffc3cabcc27857e68fd5d948b45ef6\n'}]",0,797119,ba8793262daaf60354023253c268e932834e990c,4,2,1,11628,,,0,"DNM: Debugging test_list_all_projects_recordsets

Change-Id: I4d85395100ffc3cabcc27857e68fd5d948b45ef6
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/19/797119/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_recordset.py'],1,ba8793262daaf60354023253c268e932834e990c,, LOG.error('######### Primary recordset: %s' % body) tmp_rs = self.admin_client.list_owned_recordsets( headers={'x-auth-all-projects': True}) LOG.error('######### 1 RS list: %s' % tmp_rs) LOG.error('######### Secondary recordset: %s' % body) tmp_rs = self.admin_client.list_owned_recordsets( headers={'x-auth-all-projects': True}) LOG.error('######### 2 RS list: %s' % tmp_rs) LOG.error('######## created RS project IDs {} '.format( project_ids_used)) LOG.error('######## list owned recordsets are {} '.format(recordsets)), LOG.info('Received by API recordsets are {} '.format(recordsets)),15,1
openstack%2Fcinder~stable%2Frocky~Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,openstack/cinder,stable/rocky,Ice28d5cf8af88ae8e44f9c56661afeb7b0773503,Fix typo in Dell EMC Unity driver documentation,MERGED,2021-06-21 16:21:55.000000000,2021-06-21 17:58:49.000000000,2021-06-21 17:51:00.000000000,"[{'_account_id': 11904}, {'_account_id': 13671}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-21 16:21:55.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d1ab08124ec7f31039f5797960714a70e2fedd2', 'message': 'Fix typo in Dell EMC Unity driver documentation\n\nCo-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>\nChange-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503\n(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)\n(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)\n(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)\n(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)\n(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)\n(cherry picked from commit 6b5215331622ba1dc15b5332a91752aa3ce0f6c4)\n'}]",0,797299,1d1ab08124ec7f31039f5797960714a70e2fedd2,12,3,1,31016,,,0,"Fix typo in Dell EMC Unity driver documentation

Co-Authored-By: Vladislav Belogrudov <vladislav.belogrudov@dell.com>
Change-Id: Ice28d5cf8af88ae8e44f9c56661afeb7b0773503
(cherry picked from commit 8c5de2cfd7cc3f79a7027935084f9ca5cf5cd4b2)
(cherry picked from commit 624f63f340dbe5759d196504cc357050ad3c140a)
(cherry picked from commit c9457f860a0174415160fe88fa103d41170fac16)
(cherry picked from commit 35d56b6805392dc0e3d67c66b951327b2355bda2)
(cherry picked from commit 80ab7cb90b58cdb9da95fef36ed39f510e8acd7a)
(cherry picked from commit 6b5215331622ba1dc15b5332a91752aa3ce0f6c4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/797299/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,1d1ab08124ec7f31039f5797960714a70e2fedd2,unity-fix-typo,.. note:: The following instructions should all be performed on Block Storage,.. note:: The following instructions should all be performed on Black Storage,1,1
openstack%2Fkolla~stable%2Fwallaby~I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,openstack/kolla,stable/wallaby,I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581,horizon: Correct location of monitoring_policy file,MERGED,2021-06-21 09:39:27.000000000,2021-06-21 17:53:30.000000000,2021-06-21 17:42:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 33469}]","[{'number': 1, 'created': '2021-06-21 09:39:27.000000000', 'files': ['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d578ac26063db885b022e3d4ef52b432831c6f26', 'message': ""horizon: Correct location of monitoring_policy file\n\nPatch to correctly copy monitoring_policy.json into\n/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.\n\nNote that by current default policy, admin doesn't not have Monitoring\naccess.\n\nCloses-Bug: #1928408\nChange-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581\n(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)\n""}]",0,797263,d578ac26063db885b022e3d4ef52b432831c6f26,11,5,1,14826,,,0,"horizon: Correct location of monitoring_policy file

Patch to correctly copy monitoring_policy.json into
/etc/openstack-dashboard.  Policy was misplaced, and not being enforced.

Note that by current default policy, admin doesn't not have Monitoring
access.

Closes-Bug: #1928408
Change-Id: I4faabdfa9c273fc61b536e6ce88b8d71ab2fc581
(cherry picked from commit f68dfb88fdbad51322727575457b3d78a70466b1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/797263/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/extend_start.sh', 'releasenotes/notes/bug-1928408-4a22a85570eee8d6.yaml']",2,d578ac26063db885b022e3d4ef52b432831c6f26,bug/1928408-stable/wallaby,"--- fixes: - | Fixes location of monitoring_policy in Horizon, so access policy is correctly enforced. Note that by current default, admin doesn't not have Monitoring access. `LP#1928408 <https://launchpad.net/bugs/1928408>`__ ",,8,1
openstack%2Fneutron~master~Ia6691cbe35a1e874857ec94660ac4b1850586305,openstack/neutron,master,Ia6691cbe35a1e874857ec94660ac4b1850586305,[Docs] Add info about vlan transparent networks' MTU,MERGED,2021-06-16 12:06:54.000000000,2021-06-21 17:53:07.000000000,2021-06-21 17:51:18.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-06-16 12:06:54.000000000', 'files': ['doc/source/admin/config-mtu.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7e1de09e1fd221ab9d5880165baaa3f34678c35', 'message': ""[Docs] Add info about vlan transparent networks' MTU\n\nMTU configured inside instances which are connected to the networks\nwith enabled transparent vlan needs to have MTU set to 4 bytes less\nthan it is provided by DHCP to make space for additional vlan\nheader.\nThis is required only if instance will have some vlan tagged interfaces\nconfigured.\n\nCloses-bug: #1906318\nChange-Id: Ia6691cbe35a1e874857ec94660ac4b1850586305\n""}]",1,796637,c7e1de09e1fd221ab9d5880165baaa3f34678c35,11,5,1,11975,,,0,"[Docs] Add info about vlan transparent networks' MTU

MTU configured inside instances which are connected to the networks
with enabled transparent vlan needs to have MTU set to 4 bytes less
than it is provided by DHCP to make space for additional vlan
header.
This is required only if instance will have some vlan tagged interfaces
configured.

Closes-bug: #1906318
Change-Id: Ia6691cbe35a1e874857ec94660ac4b1850586305
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/796637/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-mtu.rst'],1,c7e1de09e1fd221ab9d5880165baaa3f34678c35,bug/1906318," Networks with enabled vlan transparency ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In case of networks with enabled vlan transparency, if additional vlan tag is configured inside guest VM, MTU has to be lowered by 4 bytes to make space for additional vlan tag in the packet's header. For example, if network's MTU is set to ``1500``, value configured for the interfaces in the guest vm should be manually set to ``1496`` or less bytes.",,9,0
openstack%2Fneutron~stable%2Fvictoria~If76c6ee1734f544abdd4196431351d4328ad26fd,openstack/neutron,stable/victoria,If76c6ee1734f544abdd4196431351d4328ad26fd,Read keepalived initial state in parallel to interface monitoring,MERGED,2021-06-18 07:33:51.000000000,2021-06-21 17:53:04.000000000,2021-06-21 17:50:54.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 07:33:51.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3ba317b8c58776cc3fdde80272871cf6aa6714d', 'message': 'Read keepalived initial state in parallel to interface monitoring\n\nThe initial router state method is now a thread that is executed\nin parallel with the ""ip monitor"" thread. If by any circumstance\nthis thread does not read the interface IP addresses on time, the\nstate of the router will be defined as ""backup"".\n\nRelated-Bug: #1917793\n\nChange-Id: If76c6ee1734f544abdd4196431351d4328ad26fd\n(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)\n'}]",0,796866,a3ba317b8c58776cc3fdde80272871cf6aa6714d,33,3,1,11975,,,0,"Read keepalived initial state in parallel to interface monitoring

The initial router state method is now a thread that is executed
in parallel with the ""ip monitor"" thread. If by any circumstance
this thread does not read the interface IP addresses on time, the
state of the router will be defined as ""backup"".

Related-Bug: #1917793

Change-Id: If76c6ee1734f544abdd4196431351d4328ad26fd
(cherry picked from commit c1ade52fda59163510dd0959ab72c442d1d07027)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/796866/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/agent/l3/keepalived_state_change.py']",2,a3ba317b8c58776cc3fdde80272871cf6aa6714d,bug/1917793-stable/wallaby-stable/victoria,"from neutron.common import utils as common_utilsINITIAL_STATE_READ_TIMEOUT = 10 self._initial_state = None @property def initial_state(self): return self._initial_state @initial_state.setter def initial_state(self, state): if not self._initial_state: LOG.debug('Initial status of router %s is %s', self.router_id, state) self._initial_state = state def run(self): self._thread_initial_state = threading.Thread( target=self.handle_initial_state) self._thread_initial_state.start() # NOTE(ralonsoh): if the initial status is not read in a defined # timeout, ""backup"" state is set. self._thread_initial_state.join(timeout=INITIAL_STATE_READ_TIMEOUT) if not self.initial_state: LOG.warning('Timeout reading the initial status of router %s, ' 'state is set to ""backup"".', self.router_id) self.write_state_change('backup') self.notify_agent('backup') cidr = common_utils.ip_to_cidr(self.cidr) # NOTE(ralonsoh): ""get_devices_with_ip"" without passing an IP # address performs one single pyroute2 command. Because the number # of interfaces in the namespace is reduced, this is faster. for address in ip_lib.get_devices_with_ip(self.namespace): if (address['name'] == self.interface and address['cidr'] == cidr): if not self.initial_state: self.write_state_change(state) self.notify_agent(state) except Exception: if not self.initial_state: LOG.exception('Failed to get initial status of router %s', self.router_id) self.initial_state = state"," def run(self): self.handle_initial_state() ip = ip_lib.IPDevice(self.interface, self.namespace) for address in ip.addr.list(): if address.get('cidr') == self.cidr: LOG.debug('Initial status of router %s is %s', self.router_id, state) self.write_state_change(state) self.notify_agent(state) except Exception: LOG.exception('Failed to get initial status of router %s', self.router_id)",60,10
openstack%2Fkolla~stable%2Fwallaby~I0cae18c1d5169cd444a14ba3b56de24dede5919c,openstack/kolla,stable/wallaby,I0cae18c1d5169cd444a14ba3b56de24dede5919c,Horizon: Install required policy files for heat-dashboard,MERGED,2021-06-21 09:37:31.000000000,2021-06-21 17:49:05.000000000,2021-06-21 17:47:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:37:31.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/128a45a2b04197e40d634658f82cca3f3fe7ffbd', 'message': 'Horizon: Install required policy files for heat-dashboard\n\nSince the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,\nheat-dashboard no longer use policy.json but it use two yaml files to\nmanage policy rules. This change updates managed files for\nheat-dashboard accordingly.\n\nChange-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c\n(cherry picked from commit f9715a66e24638cdcf11223c23a7958a1e2c3a8f)\n'}]",0,797261,128a45a2b04197e40d634658f82cca3f3fe7ffbd,11,4,1,14826,,,0,"Horizon: Install required policy files for heat-dashboard

Since the commit 8e7914fce24d2c9d94a83795983aaa0fb05f020c was merged,
heat-dashboard no longer use policy.json but it use two yaml files to
manage policy rules. This change updates managed files for
heat-dashboard accordingly.

Change-Id: I0cae18c1d5169cd444a14ba3b56de24dede5919c
(cherry picked from commit f9715a66e24638cdcf11223c23a7958a1e2c3a8f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/797261/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,128a45a2b04197e40d634658f82cca3f3fe7ffbd,heat-dashboard-policy-stable/wallaby," ""${SITE_PACKAGES}/heat_dashboard/conf/heat_policy.yaml"" \ ""/etc/openstack-dashboard/heat_policy.yaml"" config_dashboard ""${ENABLE_HEAT:-no}"" \ ""${SITE_PACKAGES}/heat_dashboard/conf/default_policies/heat.yaml"" \ ""/etc/openstack-dashboard/default_policies/heat.yaml"""," ""${SITE_PACKAGES}/heat_dashboard/conf/heat_policy.json"" \ ""/etc/openstack-dashboard/heat_policy.json""",5,2
openstack%2Fcinder~master~If8d847245e97505f204a4d29a09aed87d1e78cb3,openstack/cinder,master,If8d847245e97505f204a4d29a09aed87d1e78cb3,Unit test RBD clone depth calculation,MERGED,2020-10-24 00:17:07.000000000,2021-06-21 17:47:45.000000000,2021-06-21 17:43:58.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 30688}, {'_account_id': 32159}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-10-24 00:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23f49373b55eb8bb5c9c3b50987330c0d3f3e401', 'message': ""Add test for Bug #1901241\n\nThe function _get_clone_depth wasn't previously tested.\n\nChange-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3\n""}, {'number': 2, 'created': '2020-10-24 01:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4765fdf748f6b7e3ade9b7ad4785d20732bd84e7', 'message': ""Add test for Bug #1901241\n\nThe function _get_clone_depth wasn't previously tested.\n\nDepends-on: https://review.opendev.org/#/c/759328/\n\nChange-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3\n""}, {'number': 3, 'created': '2020-10-29 11:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5a683b0542bf791da3a2d2741c57e57e9f53f18', 'message': 'Unit test RBD clone depth calculation\n\nDepends-on: https://review.opendev.org/#/c/759328/\n\nRelated-bug: #1901241\nChange-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3\n'}, {'number': 4, 'created': '2021-03-24 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77d2477986898734ae26e12f91c0c3d10760043b', 'message': 'Unit test RBD clone depth calculation\n\nAdd a unit test for change I8c445058a25c\n\nRelated-bug: #1901241\nChange-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3\n'}, {'number': 5, 'created': '2021-04-17 14:31:13.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/738e77a0f122dafa6d4d4f1bc538ff4e7d9f41a5', 'message': 'Unit test RBD clone depth calculation\n\nAdd a unit test for change I8c445058a25c\n\nRelated-bug: #1901241\nChange-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3\n'}]",14,759536,738e77a0f122dafa6d4d4f1bc538ff4e7d9f41a5,109,31,5,5314,,,0,"Unit test RBD clone depth calculation

Add a unit test for change I8c445058a25c

Related-bug: #1901241
Change-Id: If8d847245e97505f204a4d29a09aed87d1e78cb3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/759536/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,23f49373b55eb8bb5c9c3b50987330c0d3f3e401,rbd-max-clone-test," @ddt.data(3, 2, 1, 0) @common_mocks def test_get_clone_depth(self, expected_depth): # set the max_clone_depth option to check for Bug #1901241, where # lowering the configured rbd_max_clone_depth prevented cloning of # volumes that had already (legally) exceeded the new value because # _get_clone_depth would raise an uncaught exception self.cfg.rbd_max_clone_depth = 1 # create a list of fake parents for the expected depth vols = [self.volume_a, self.volume_b, self.volume_c] volume_list = vols[:expected_depth] def fake_clone_info(volume, volume_name): parent = volume_list.pop() if volume_list else None return (None, parent, None) with mock.patch.object(self.driver, '_get_clone_info') as \ mock_get_clone_info: mock_get_clone_info.side_effect = fake_clone_info with mock.patch.object(self.driver.rbd.Image(), 'close') \ as mock_rbd_image_close: depth = self.driver._get_clone_depth(self.mock_client, self.volume_a.name) self.assertEqual(expected_depth, depth) # each parent must be closed plus the original volume self.assertEqual(expected_depth + 1, mock_rbd_image_close.call_count) ",,30,0
openstack%2Fkolla~stable%2Fwallaby~Id92145ba74237da2fd8430b9d84413465297d3a7,openstack/kolla,stable/wallaby,Id92145ba74237da2fd8430b9d84413465297d3a7,Horizon: Install policy files for manila-ui,MERGED,2021-06-21 09:39:09.000000000,2021-06-21 17:47:00.000000000,2021-06-21 17:44:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 09:39:09.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/24bad11edf41835e2d3da3bd7ac89464dce50e6c', 'message': 'Horizon: Install policy files for manila-ui\n\nSince the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,\nmanila-ui provides two policy files. This change ensures that these\nfiles are installed when manila-ui is enabled.\n\nChange-Id: Id92145ba74237da2fd8430b9d84413465297d3a7\n(cherry picked from commit 77fc442a91bf479772b45dd8a3c9de1691e450b9)\n'}]",0,797262,24bad11edf41835e2d3da3bd7ac89464dce50e6c,10,4,1,14826,,,0,"Horizon: Install policy files for manila-ui

Since the commit 89a90ff9773b93062760df5e3deefb9750112633 was merged,
manila-ui provides two policy files. This change ensures that these
files are installed when manila-ui is enabled.

Change-Id: Id92145ba74237da2fd8430b9d84413465297d3a7
(cherry picked from commit 77fc442a91bf479772b45dd8a3c9de1691e450b9)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/797262/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,24bad11edf41835e2d3da3bd7ac89464dce50e6c,manila-dashboard-policy-stable/wallaby," config_dashboard ""${ENABLE_MANILA:-no}"" \ ""${SITE_PACKAGES}/manila_ui/conf/manila_policy.yaml"" \ ""/etc/openstack-dashboard/manila_policy.yaml"" config_dashboard ""${ENABLE_MANILA:-no}"" \ ""${SITE_PACKAGES}/manila_ui/conf/default_policies/manila.yaml"" \ ""/etc/openstack-dashboard/default_policies/manila.yaml""",,7,0
openstack%2Fcinder~master~Icf8a4829a02a3b3bba9375af7a27f86e24a850b7,openstack/cinder,master,Icf8a4829a02a3b3bba9375af7a27f86e24a850b7,image_utils: Simplify fetch_verify_image,MERGED,2021-02-05 23:13:29.000000000,2021-06-21 17:46:30.000000000,2021-06-21 17:43:24.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 23:13:29.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e96f48d3692d92e80cebc2ac607fb1782162fc37', 'message': 'image_utils: Simplify fetch_verify_image\n\nRemove unused params and code.\n\nThis is only ever called with user_id,\nproject_id, and size set to None.\n\nChange-Id: Icf8a4829a02a3b3bba9375af7a27f86e24a850b7\n'}]",3,774321,e96f48d3692d92e80cebc2ac607fb1782162fc37,34,5,1,4523,,,0,"image_utils: Simplify fetch_verify_image

Remove unused params and code.

This is only ever called with user_id,
project_id, and size set to None.

Change-Id: Icf8a4829a02a3b3bba9375af7a27f86e24a850b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/774321/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",2,e96f48d3692d92e80cebc2ac607fb1782162fc37,," ctxt, image_service, image_id, dest) ctxt.user_id = mock.sentinel.user_id ctxt, image_service, image_id, dest) run_as_root=True)"," user_id = mock.sentinel.user_id project_id = mock.sentinel.project_id size = 2 run_as_root = mock.sentinel.run_as_root ctxt, image_service, image_id, dest, user_id=user_id, project_id=project_id, size=size, run_as_root=run_as_root) mock_check_size.assert_called_once_with(mock_data.virtual_size, size, image_id) @mock.patch('cinder.image.image_utils.check_virtual_size') @mock.patch('cinder.image.image_utils.qemu_img_info') @mock.patch('cinder.image.image_utils.fileutils') @mock.patch('cinder.image.image_utils.fetch') def test_size_error(self, mock_fetch, mock_fileutils, mock_info, mock_check_size): ctxt = mock.sentinel.context image_service = mock.Mock() image_id = mock.sentinel.image_id dest = mock.sentinel.dest size = 1 mock_data = mock_info.return_value mock_data.file_format = 'test_format' mock_data.backing_file = None mock_data.virtual_size = 2 * units.Gi mock_check_size.side_effect = exception.ImageUnacceptable( image_id='fake_image_id', reason='test') self.assertRaises(exception.ImageUnacceptable, image_utils.fetch_verify_image, ctxt, image_service, image_id, dest, size=size) ctxt.user_id = user_id = mock.sentinel.user_id project_id = mock.sentinel.project_id size = 4321 run_as_root = mock.sentinel.run_as_root ctxt, image_service, image_id, dest, user_id=user_id, project_id=project_id, size=size, run_as_root=run_as_root) run_as_root=run_as_root)",6,49
openstack%2Fdevstack~master~I32ee7457586e3de8ba4dfce3b1a12025f9776542,openstack/devstack,master,I32ee7457586e3de8ba4dfce3b1a12025f9776542,Delay horizon startup,MERGED,2021-06-19 12:17:14.000000000,2021-06-21 17:46:05.000000000,2021-06-21 17:44:27.000000000,"[{'_account_id': 4393}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-19 12:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/96493c31d45821db03cbf9f2622245ccd5b88c46', 'message': 'Delay horizon startup\n\nMove the \'Starting Horizon\' task after the end of the wait for\ncreate_flavors.\nThe start_horizon function restarts the httpd server, the openstack\nservices are unavailable during a short period of time, so the\n""openstack flavor create"" calls might fail randomly.\n\nCloses: #1932580\nChange-Id: I32ee7457586e3de8ba4dfce3b1a12025f9776542\n'}, {'number': 2, 'created': '2021-06-19 12:19:43.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7befae663c6aa99343cb2c90e74ee2e3bc676559', 'message': 'Delay horizon startup\n\nMove the \'Starting Horizon\' task after the end of the wait for\ncreate_flavors.\nThe start_horizon function restarts the httpd server, the openstack\nservices are unavailable during a short period of time, so the\n""openstack flavor create"" calls might fail randomly.\n\nCloses-Bug: #1932580\nChange-Id: I32ee7457586e3de8ba4dfce3b1a12025f9776542\n'}]",0,797177,7befae663c6aa99343cb2c90e74ee2e3bc676559,11,4,2,29244,,,0,"Delay horizon startup

Move the 'Starting Horizon' task after the end of the wait for
create_flavors.
The start_horizon function restarts the httpd server, the openstack
services are unavailable during a short period of time, so the
""openstack flavor create"" calls might fail randomly.

Closes-Bug: #1932580
Change-Id: I32ee7457586e3de8ba4dfce3b1a12025f9776542
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/797177/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,96493c31d45821db03cbf9f2622245ccd5b88c46,,async_wait create_flavors,async_wait create_flavors ,1,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I6ce262a6e77a4d40b6ff246240d21390289cc54b,openstack/tripleo-ansible,stable/wallaby,I6ce262a6e77a4d40b6ff246240d21390289cc54b,Ensure we get the relevant fcontext overrides,MERGED,2021-06-21 06:03:44.000000000,2021-06-21 17:41:44.000000000,2021-06-21 17:41:44.000000000,"[{'_account_id': 4978}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-21 06:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/528172988cfe6a93c9d75e741dd5b149fb9c9756', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n- we have to ensure SELinux is enabled on the host before actually\n  creating the rules.\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n(cherry picked from commit 608fdfae85be5e1d6d20d49c62583e48ce5a0bc5)\n""}, {'number': 2, 'created': '2021-06-21 06:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f0958653cac174f7ea93e640a3885f10ec8eb96', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n- we have to ensure SELinux is enabled on the host before actually\n  creating the rules.\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n(cherry picked from commit 608fdfae85be5e1d6d20d49c62583e48ce5a0bc5)\n""}, {'number': 3, 'created': '2021-06-21 07:56:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/tasks/create_persistent_directories.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57c7149488f05ce7c896a79dad3aa7dbcf3e61bf', 'message': ""Ensure we get the relevant fcontext overrides\n\nUntil now, running a restorecon could break the SELinux labels. In order\nto avoid such an issue, we can override the existing rules pushed in\n/etc/selinux/targeted/contexts/ using fcontext. It makes the change\npersistent across reboots.\n\nPlease note the following:\n- sefcontext triggers a policy reload\n- fcontext doesn't actually apply the labels\n- creating the fcontext entry before creating the file allows to get the\n  file created with the right labels directly\n- we have to ensure SELinux is enabled on the host before actually\n  creating the rules.\n\nChange-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b\n(cherry picked from commit 608fdfae85be5e1d6d20d49c62583e48ce5a0bc5)\n""}]",0,797206,57c7149488f05ce7c896a79dad3aa7dbcf3e61bf,12,6,3,28223,,,0,"Ensure we get the relevant fcontext overrides

Until now, running a restorecon could break the SELinux labels. In order
to avoid such an issue, we can override the existing rules pushed in
/etc/selinux/targeted/contexts/ using fcontext. It makes the change
persistent across reboots.

Please note the following:
- sefcontext triggers a policy reload
- fcontext doesn't actually apply the labels
- creating the fcontext entry before creating the file allows to get the
  file created with the right labels directly
- we have to ensure SELinux is enabled on the host before actually
  creating the rules.

Change-Id: I6ce262a6e77a4d40b6ff246240d21390289cc54b
(cherry picked from commit 608fdfae85be5e1d6d20d49c62583e48ce5a0bc5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/797206/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/tasks/create_persistent_directories.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_frr/tasks/main.yml', 'tripleo_ansible/roles/tripleo_multipathd/tasks/host_prep.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml']",19,528172988cfe6a93c9d75e741dd5b149fb9c9756,sefcontext-stable/wallaby, pkg_extras: python*setuptools libselinux-python* policycoreutils-python-utils pkg_extras: python*setuptools libselinux-python* policycoreutils-python-utils, pkg_extras: python*setuptools pkg_extras: python*setuptools,129,13
openstack%2Fuc-recognition~master~Ie4df1226ad07bad2f6a549b7e31c79f5b896470e,openstack/uc-recognition,master,Ie4df1226ad07bad2f6a549b7e31c79f5b896470e,Retire uc-recognition repo,MERGED,2021-06-18 00:19:06.000000000,2021-06-21 17:38:16.000000000,2021-06-21 17:38:16.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/3a0557a331cb088de3356a5815a0af8592ad8a93', 'message': 'Retire uc-recognition repo\n\nAs discussed in TC meeting[1], TC is retiring the\nuc-recognition repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ie4df1226ad07bad2f6a549b7e31c79f5b896470e\n'}, {'number': 2, 'created': '2021-06-18 17:13:40.000000000', 'files': ['tools/get_active_wg_members.py', 'README.rst', 'tools/get_active_commiters.py', 'tools/get_active_moderator.py', 'tools/get_meeting_data.sh', 'LICENSE', 'README.md'], 'web_link': 'https://opendev.org/openstack/uc-recognition/commit/8d9e110d9cbe0076f03f6783d0e47b815ae5fa9f', 'message': 'Retire uc-recognition repo\n\nAs discussed in TC meeting[1], TC is retiring the\nuc-recognition repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: Ie4df1226ad07bad2f6a549b7e31c79f5b896470e\n'}]",0,796969,8d9e110d9cbe0076f03f6783d0e47b815ae5fa9f,9,3,2,8556,,,0,"Retire uc-recognition repo

As discussed in TC meeting[1], TC is retiring the
uc-recognition repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: Ie4df1226ad07bad2f6a549b7e31c79f5b896470e
",git fetch https://review.opendev.org/openstack/uc-recognition refs/changes/69/796969/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/get_active_wg_members.py', 'README.rst', 'tools/get_active_commiters.py', 'tools/get_active_moderator.py', 'tools/get_meeting_data.sh', 'LICENSE', 'README.md']",7,3a0557a331cb088de3356a5815a0af8592ad8a93,retire-uc-recognition,,# uc-recognition This repository contains scripts and useful references to track contributions to OpenStack by users Find active moderators on Ask OpenStack: * get_active_moderator.py Uses IRC logs to attempt to determine active working group members: * get_meeting_data.sh * get_active_wg_members.py ,14,645
openstack%2Fops-tags-team~master~I2416860cc53f39cca3379667da70208670e401ff,openstack/ops-tags-team,master,I2416860cc53f39cca3379667da70208670e401ff,Retire ops-tags-team repo,MERGED,2021-06-18 00:18:12.000000000,2021-06-21 17:38:09.000000000,2021-06-21 17:38:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-18 00:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/96d82850e84eb046d90c039a76553aa12b2ae7c6', 'message': 'Retire ops-tags-team repo\n\nAs discussed in TC meeting[1], TC is retiring the\nops-tags-team repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I2416860cc53f39cca3379667da70208670e401ff\n'}, {'number': 2, 'created': '2021-06-18 17:13:30.000000000', 'files': ['liberty/ops-docs-install-guide.json', 'descriptions/ops-sdk-support.rst', 'README.rst', 'liberty/ops-packaged.json', 'descriptions/ops-docs-install-guide.rst', 'ocata/ops-sdk-support.json', 'descriptions/ops-packaged.rst', 'ocata/ops-production-use.json', 'juno/ops-production-use.json', 'liberty/ops-production-use.json', 'juno/ops-sdk-support.json', 'kilo/index.rst', 'liberty/ops-sdk-support.json', 'descriptions/ops-production-use.rst', 'juno/ops-docs-install-guide.json', 'kilo/ops-sdk-support.json', 'mitaka/ops-production-use.json', 'kilo/ops-docs-install-guide.json', 'newton/ops-sdk-support.json', 'mitaka/ops-sdk-support.json', 'newton/ops-docs-install-guide.json', 'newton/ops-production-use.json', 'descriptions/index.rst', 'kilo/ops-production-use.json', 'descriptions/template.rst', 'kilo/template.json', 'kilo/ops-packaged.json', 'ocata/ops-docs-install-guide.json', 'mitaka/ops-docs-install-guide.json'], 'web_link': 'https://opendev.org/openstack/ops-tags-team/commit/48f390085a0792c2f8f8d61588df858817c87f32', 'message': 'Retire ops-tags-team repo\n\nAs discussed in TC meeting[1], TC is retiring the\nops-tags-team repo.\n\n[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98\n\nChange-Id: I2416860cc53f39cca3379667da70208670e401ff\n'}]",0,796968,48f390085a0792c2f8f8d61588df858817c87f32,9,3,2,8556,,,0,"Retire ops-tags-team repo

As discussed in TC meeting[1], TC is retiring the
ops-tags-team repo.

[1] https://meetings.opendev.org/meetings/tc/2021/tc.2021-06-17-15.00.log.html#l-98

Change-Id: I2416860cc53f39cca3379667da70208670e401ff
",git fetch https://review.opendev.org/openstack/ops-tags-team refs/changes/68/796968/2 && git format-patch -1 --stdout FETCH_HEAD,"['liberty/ops-docs-install-guide.json', 'descriptions/ops-sdk-support.rst', 'README.rst', 'liberty/ops-packaged.json', 'descriptions/ops-docs-install-guide.rst', 'ocata/ops-sdk-support.json', 'descriptions/ops-packaged.rst', 'ocata/ops-production-use.json', 'juno/ops-production-use.json', 'liberty/ops-production-use.json', 'juno/ops-sdk-support.json', 'kilo/index.rst', 'liberty/ops-sdk-support.json', 'descriptions/ops-production-use.rst', 'juno/ops-docs-install-guide.json', 'kilo/ops-sdk-support.json', 'mitaka/ops-production-use.json', 'kilo/ops-docs-install-guide.json', 'newton/ops-sdk-support.json', 'mitaka/ops-sdk-support.json', 'newton/ops-docs-install-guide.json', 'newton/ops-production-use.json', 'descriptions/index.rst', 'kilo/ops-production-use.json', 'descriptions/template.rst', 'kilo/template.json', 'kilo/ops-packaged.json', 'ocata/ops-docs-install-guide.json', 'mitaka/ops-docs-install-guide.json']",29,96d82850e84eb046d90c039a76553aa12b2ae7c6,retire-ops-tags-team,,"{ ""Compute service (Nova)"": { ""status"": ""available"" }, ""Object Storage service (Swift)"": { ""status"": ""available"" }, ""Image service (Glance)"": { ""status"": ""available"" }, ""Identity service (Keystone)"": { ""status"": ""available"" }, ""Dashboard (Horizon)"": { ""status"": ""available"" }, ""Networking service (Neutron)"": { ""status"": ""available"" }, ""Block Storage service (Cinder)"": { ""status"": ""available"" }, ""Telemetry service (Ceilometer)"": { ""status"": ""available"" }, ""Orchestration service (Heat)"": { ""status"": ""available"" }, ""Database service (Trove)"": { ""status"": ""available"" }, ""Data Processing service (Sahara)"": { ""status"": ""available"" }, ""Bare Metal service (Ironic)"": { ""status"": ""available"" }, ""Messaging service (Zaqar)"": { ""status"": ""not available"" }, ""Key Management service (Barbican)"": { ""status"": ""not available"" }, ""DNS service (Designate)"": { ""status"": ""not available"" }, ""Deployment service (TripleO)"": { ""status"": ""not available"" }, ""Shared File Systems service (Manila)"": { ""status"": ""available"" }, ""Application Catalog (Murano)"": { ""status"": ""available"" } } ",11,2119
