id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Flarge-scale~master~Id4405691dcd4051ec64a448a82896c4f3e2a9594,openstack/large-scale,master,Id4405691dcd4051ec64a448a82896c4f3e2a9594,Add information about nova setting update_resources_interval,MERGED,2023-06-15 09:43:06.000000000,2023-06-19 14:07:26.000000000,2023-06-19 14:06:27.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 09:43:06.000000000', 'files': ['doc/source/journey/configure/rabbitmq.rst'], 'web_link': 'https://opendev.org/openstack/large-scale/commit/9e54292102f90ec05111e4cce1184722af5231fc', 'message': 'Add information about nova setting update_resources_interval\n\nAt large scale, we noticed that nova-compute was sending a lot of\nmessages to conductor.\nTuning the update_resources_interval parameter helped us drastically\nreducing the load on rabbit and nova side.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: Id4405691dcd4051ec64a448a82896c4f3e2a9594\n'}]",2,886166,9e54292102f90ec05111e4cce1184722af5231fc,8,3,1,11583,,,0,"Add information about nova setting update_resources_interval

At large scale, we noticed that nova-compute was sending a lot of
messages to conductor.
Tuning the update_resources_interval parameter helped us drastically
reducing the load on rabbit and nova side.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: Id4405691dcd4051ec64a448a82896c4f3e2a9594
",git fetch https://review.opendev.org/openstack/large-scale refs/changes/66/886166/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/journey/configure/rabbitmq.rst'],1,9e54292102f90ec05111e4cce1184722af5231fc,," update_resources_interval ^^^^^^^^^^^^^^^^^^^^^^^^^ This is a nova settings: https://docs.openstack.org/nova/latest/configuration/config.html#DEFAULT.update_resources_interval This option specifies how often the update_available_resource periodic task should run. The default periodic interval is 60 seconds, which could be too often for large-scale. The recommendation is to increase this value to something that would fit your needs, like 600 secs: .. code-block:: console update_resources_interval = 600",,15,0
openstack%2Fpuppet-cinder~master~I18bc265876f48a7569e971681428fac9e2504486,openstack/puppet-cinder,master,I18bc265876f48a7569e971681428fac9e2504486,replace validate_legacy with proper data types,MERGED,2023-06-15 17:31:33.000000000,2023-06-19 14:05:30.000000000,2023-06-15 21:40:59.000000000,"[{'_account_id': 7888}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 17:31:33.000000000', 'files': ['manifests/api.pp', 'manifests/backend/solidfire.pp', 'manifests/backend/dellemc_xtremio.pp', 'manifests/db/mysql.pp', 'manifests/backend/iscsi.pp', 'manifests/backend/san.pp', 'manifests/backend/dellemc_sc.pp', 'manifests/backend/nexenta.pp', 'manifests/backend/dellemc_powerflex.pp', 'manifests/backend/rbd.pp', 'manifests/backend/quobyte.pp', 'manifests/backend/nfs.pp', 'manifests/backup/nfs.pp', 'manifests/backend/emc_vnx.pp', 'manifests/backend/dellemc_powermax.pp', 'manifests/backup.pp', 'manifests/backend/gpfs.pp', 'manifests/backend/pure.pp', 'manifests/config.pp', 'manifests/volume.pp', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_unity.pp', 'manifests/backend/dellemc_powerstore.pp', 'manifests/backend/vmdk.pp', 'manifests/scheduler.pp', 'manifests/backend/hpe3par_iscsi.pp', 'manifests/backend/ibm_svf.pp', 'manifests/backend/vstorage.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4d1bb7c07c02131f1d34ceb866bb203762b1982a', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nThis change also adds a few more validations about some data types\ninexplicitly required.\n\nChange-Id: I18bc265876f48a7569e971681428fac9e2504486\n'}]",6,886199,4d1bb7c07c02131f1d34ceb866bb203762b1982a,11,4,1,9816,,,0,"replace validate_legacy with proper data types

the validate_legacy function is marked for deprecation in
v9.0.0 from puppetlabs-stdlib.

This change also adds a few more validations about some data types
inexplicitly required.

Change-Id: I18bc265876f48a7569e971681428fac9e2504486
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/99/886199/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/backend/solidfire.pp', 'manifests/backend/dellemc_xtremio.pp', 'manifests/db/mysql.pp', 'manifests/backend/iscsi.pp', 'manifests/backend/san.pp', 'manifests/backend/dellemc_sc.pp', 'manifests/backend/nexenta.pp', 'manifests/backend/dellemc_powerflex.pp', 'manifests/backend/rbd.pp', 'manifests/backend/quobyte.pp', 'manifests/backend/nfs.pp', 'manifests/backup/nfs.pp', 'manifests/backend/emc_vnx.pp', 'manifests/backend/dellemc_powermax.pp', 'manifests/backup.pp', 'manifests/backend/gpfs.pp', 'manifests/backend/pure.pp', 'manifests/config.pp', 'manifests/volume.pp', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_unity.pp', 'manifests/backend/dellemc_powerstore.pp', 'manifests/backend/vmdk.pp', 'manifests/scheduler.pp', 'manifests/backend/hpe3par_iscsi.pp', 'manifests/backend/ibm_svf.pp', 'manifests/backend/vstorage.pp', 'manifests/policy.pp']",29,4d1bb7c07c02131f1d34ceb866bb203762b1982a,replace-validate_legacy," Hash $policies = {},"," $policies = {}, validate_legacy(Hash, 'validate_hash', $policies) ",139,207
openstack%2Freleases~master~Ifa7288f2cad259c0569979d7744dd944c1165571,openstack/releases,master,Ifa7288f2cad259c0569979d7744dd944c1165571,Release a patch version of keystoneauth,MERGED,2023-06-14 04:58:39.000000000,2023-06-19 14:04:49.000000000,2023-06-19 14:04:49.000000000,"[{'_account_id': 308}, {'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-14 04:58:39.000000000', 'files': ['deliverables/bobcat/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21802906b745d7545a11a1747cf71ebe28146488', 'message': 'Release a patch version of keystoneauth\n\nlast releast of keystoneauth is actually broken, because it drops six in\nrequirements, but there is still one single plugin missed in the\ncleanup. This leads to an error of missing six for every sdk/cli/ansible\nusers that are just installing openstacksdk (and pulling latest\nkeystoneauth1). The issue itself was fixed in\nhttps://review.opendev.org/c/openstack/keystoneauth/+/883383 and we need\nto release it now.\n\nChange-Id: Ifa7288f2cad259c0569979d7744dd944c1165571\n'}]",1,886041,21802906b745d7545a11a1747cf71ebe28146488,9,5,1,27900,,,0,"Release a patch version of keystoneauth

last releast of keystoneauth is actually broken, because it drops six in
requirements, but there is still one single plugin missed in the
cleanup. This leads to an error of missing six for every sdk/cli/ansible
users that are just installing openstacksdk (and pulling latest
keystoneauth1). The issue itself was fixed in
https://review.opendev.org/c/openstack/keystoneauth/+/883383 and we need
to release it now.

Change-Id: Ifa7288f2cad259c0569979d7744dd944c1165571
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/886041/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/keystoneauth.yaml'],1,21802906b745d7545a11a1747cf71ebe28146488,, - version: 5.2.1 projects: - repo: openstack/keystoneauth hash: c69ade60a677a95c873a06fbc72e9810da7d5fdf,,4,0
openstack%2Fkolla~stable%2F2023.1~Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8,openstack/kolla,stable/2023.1,Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8,Fix rabbitmq image build,MERGED,2023-06-19 10:36:17.000000000,2023-06-19 13:43:47.000000000,2023-06-19 13:41:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-19 10:36:17.000000000', 'files': ['.zuul.d/debian.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8dc32be6f1b99eccca5f4f6d15a4e654d4519950', 'message': 'Fix rabbitmq image build\n\nThis patch is replacing ppa.launchpadcontent.net\nby ppa1.novemberain.com.\n\nReason for replacement is that only latest erlang version\nis available on the current ppa source.\n\nSetting Debian ARM jobs non voting for now, since the new ppa\ndoes not contain arm64 packages.\n\nThis repo is based on the official Erlang/OTP package\nfor Debian. The RabbitMQ team adapted the upstream package\nto produce packages for more/different combinations of\nErlang/OTP, Debian and Ubuntu releases.\n\nChange-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8\n(cherry picked from commit 4950c03e59b8d1af46018b81a49fa028e1b8296d)\n'}]",0,886388,8dc32be6f1b99eccca5f4f6d15a4e654d4519950,9,5,1,14200,,,0,"Fix rabbitmq image build

This patch is replacing ppa.launchpadcontent.net
by ppa1.novemberain.com.

Reason for replacement is that only latest erlang version
is available on the current ppa source.

Setting Debian ARM jobs non voting for now, since the new ppa
does not contain arm64 packages.

This repo is based on the official Erlang/OTP package
for Debian. The RabbitMQ team adapted the upstream package
to produce packages for more/different combinations of
Erlang/OTP, Debian and Ubuntu releases.

Change-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8
(cherry picked from commit 4950c03e59b8d1af46018b81a49fa028e1b8296d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/886388/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",3,8dc32be6f1b99eccca5f4f6d15a4e654d4519950,rabbitmq-ppa-novemberrain," url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"""," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu""",8,6
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ie560f0d00715235de79d3cd6074c4e9754781aba,openstack/tripleo-ansible,stable/wallaby,Ie560f0d00715235de79d3cd6074c4e9754781aba,Add playbook to rotate stack keys,MERGED,2023-03-01 11:43:04.000000000,2023-06-19 13:40:37.000000000,2023-06-19 13:40:37.000000000,"[{'_account_id': 9914}, {'_account_id': 11166}, {'_account_id': 14250}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-03-01 11:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ddfd0b8a9664ae8e270c4193327bb649c7966fc2', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 2, 'created': '2023-04-06 10:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eed57580d059112c2451da34df07a2c097e2bf6f', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 3, 'created': '2023-04-19 15:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3758341b9a38e40d3c4615210175ca7a1af1be23', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 4, 'created': '2023-04-20 09:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/08d3bed8162e812cdf3f55764033ea4d241fcc97', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 5, 'created': '2023-04-20 13:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a861a789b9abccd66ee8c13e97d0f55ee9c3271f', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 6, 'created': '2023-05-02 12:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1fbc306a4da04674d32e72434d2b91a2187140ec', 'message': '[WIP] Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 7, 'created': '2023-05-02 12:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/982ff247cfdb75dd50fae1144ff6a24e6157f078', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 8, 'created': '2023-05-03 15:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b127b8c8489b6901db20719fbf4a9299406cc78c', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 9, 'created': '2023-05-05 10:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2fd0658b26831809d0e1a30afb2ea47ce184dbdd', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 10, 'created': '2023-05-05 15:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7aa23806fd97e708cda9d2e36e912961d80490d', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 11, 'created': '2023-05-18 11:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc0b13f728848d1b151c88cbbf258706449f0690', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 12, 'created': '2023-05-25 10:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9bf024a3e99f7bef3b8e0dceed96487ad52fed5f', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 13, 'created': '2023-05-29 10:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c858ce88143b07cb2a172329faf88e82ed5cfe9', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 14, 'created': '2023-05-29 10:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c83ae28af2b87222ba3fd1eab2eccda56e4f2ed', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 15, 'created': '2023-05-29 11:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf9982e7be839ad0cfbab08883f671c5636479b4', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 16, 'created': '2023-05-30 10:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a88e2a0c54e14e9dd5955534053f6bbd665b7dc', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 17, 'created': '2023-05-31 09:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31ef0e96f8f039749ce36c79264cc21b01261d68', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 18, 'created': '2023-06-07 10:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4bc38c63f899da31e70631d13d93df69b65ee74', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 19, 'created': '2023-06-07 11:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4166025b11cdfc5a58837159ce27c660d480a11', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 20, 'created': '2023-06-07 14:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76bb4ed97c53f5cd7163f0ffeaf364c0e355011c', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 21, 'created': '2023-06-07 15:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/553b50c0cb0262cc05b669bff87cfb112ab273bf', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 22, 'created': '2023-06-08 08:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1e0483bc2880d3314655a3ea91d54e047730624', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 23, 'created': '2023-06-08 08:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28eb62e555a0d6efa55fbc9af5f0765336d37525', 'message': 'Add playbook to rotate stack keys\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}, {'number': 24, 'created': '2023-06-13 13:52:39.000000000', 'files': ['tripleo_ansible/playbooks/ssh_key_rotation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34088a2083b81cd904601a42ea14f580a3734e40', 'message': 'Add playbook to rotate stack keys\n\nSome OSs like RHEL9.1 now only support a minimum size keypair size of 2048-bits, using keys shorter\nthan that will cause errors and access issues.\nThis patch will allow customer to replace old keys by valid ones, longer then 2048 bits.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=2151002\n\nChange-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba\n'}]",35,875886,34088a2083b81cd904601a42ea14f580a3734e40,63,6,24,34120,,,0,"Add playbook to rotate stack keys

Some OSs like RHEL9.1 now only support a minimum size keypair size of 2048-bits, using keys shorter
than that will cause errors and access issues.
This patch will allow customer to replace old keys by valid ones, longer then 2048 bits.

https://bugzilla.redhat.com/show_bug.cgi?id=2151002

Change-Id: Ie560f0d00715235de79d3cd6074c4e9754781aba
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/875886/13 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/ssh_key_rotation.yaml'],1,ddfd0b8a9664ae8e270c4193327bb649c7966fc2,ssh_key_rotation,"--- # Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Initialize undercloud facts hosts: undercloud gather_facts: yes tasks: - set_fact: deployment_user: ""{{ deployment_user | default('stack') }}"" backup_folder_path: ""{{ backup_folder | default('/home/stack/backup_keys') }}/{{ ansible_date_time.epoch }}"" keys_folder_path: ""{{ keys_folder | default('/home/stack/.ssh') }}"" key_name: ""{{ key_name | default('id_rsa') }}"" - debug: var=backup_folder_path - name: Initialize overcloud facts hosts: overcloud gather_facts: yes tasks: - set_fact: backup_folder_path: ""/home/heat-admin/backup_keys/{{ ansible_date_time.epoch }}"" keys_folder_path: /home/heat-admin/.ssh - debug: var=backup_folder_path - name: Create undercloud temporary directory hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Create temp folder tempfile: state: directory register: temp_folder - set_fact: temp_folder_path: ""{{ temp_folder.path }}"" - debug: var=temp_folder_path - set_fact: private_key_path: ""{{ temp_folder_path }}/{{ key_name }}"" - set_fact: public_key_path: ""{{ private_key_path }}.pub"" # TODO(afaranha): Maybe we shouldn't create backup directory. - name: Create undercloud backup directory hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Create backup folder file: path: ""{{ backup_folder_path }}"" state: directory mode: '700' - name: Create overcloud backup directory hosts: overcloud remote_user: heat-admin gather_facts: no tasks: - name: Create backup folder file: path: ""{{ backup_folder_path }}"" state: directory mode: '700' - name: Backup stack undercloud keys hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Copy keys copy: backup: yes src: ""{{ keys_folder_path }}/"" dest: ""{{ backup_folder_path }}"" - name: Backup heat-admin overcloud keys hosts: overcloud remote_user: heat-admin gather_facts: no tasks: - name: Copy copy: backup: yes src: /home/heat-admin/.ssh/ dest: ""{{ backup_folder_path }}"" remote_src: yes - name: Generate new stack keys hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Generate private key openssh_keypair: path: ""{{ private_key_path }}"" size: ""{{ key_size | default('4096') }}"" type: ""{{ key_type | default('rsa') }}"" force: True - name: Add stack key to heat-admin overcloud authorized_keys hosts: overcloud remote_user: heat-admin gather_facts: no tasks: - name: Add generated key to authorized_keys authorized_key: user: heat-admin state: present key: ""{{ lookup('file', '{{ hostvars['undercloud']['public_key_path'] }}') }}"" - name: Update stack keys on undercloud hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Add generated key to authorized_keys authorized_key: user: ""{{ deployment_user }}"" state: present key: ""{{ lookup('file', '{{ public_key_path }}') }}"" - name: Copy private key to .ssh/ copy: src: ""{{ private_key_path }}"" dest: ""{{ keys_folder_path }}/"" - name: Copy public key to .ssh/ copy: src: ""{{ public_key_path }}"" dest: ""{{ keys_folder_path }}/"" - name: Remove old stack key from heat-admin overcloud authorized_keys hosts: overcloud remote_user: heat-admin gather_facts: no tasks: - name: Remove old keys from authorized_keys authorized_key: user: heat-admin state: absent key: ""{{ lookup('file', '{{ hostvars['undercloud']['backup_folder_path'] }}/{{ hostvars['undercloud']['key_name'] }}.pub') }}"" - name: Remove old stack key from undercloud authorized_keys hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Remove old keys from authorized_keys authorized_key: user: deployment_user state: absent key: ""{{ lookup('file', '{{ backup_folder_path }}/{{ key_name }}.pub') }}"" - name: Remove old mistral key hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Remove ssh_private_key from /var/lib/mistral/overcloud become: yes file: path: /var/lib/mistral/overcloud/ssh_private_key state: absent - name: Remove authorized keys from overcloud hosts: overcloud gather_facts: no remote_user: heat-admin tasks: - name: Remove previous authorized_keys from overcloud nodes become: yes file: path: /home/tripleo-admin/.ssh state: absent - name: Update new mistral key hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Authorizing new mistral ssh_key shell: openstack overcloud admin authorize - name: Replace old nova keypair on undercloud hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Remove old nova keypair from undercloud openstack.cloud.keypair: cloud: undercloud state: absent name: default - name: Add new nova keypair to undercloud openstack.cloud.keypair: cloud: undercloud state: present name: default public_key_file: ""{{ public_key_path }}"" - name: Remove undercloud temporary directory hosts: undercloud remote_user: ""{{ deployment_user }}"" gather_facts: no tasks: - name: Remove temp folder become: yes file: path: ""{{ temp_folder_path }}"" state: absent ",,222,0
openstack%2Fkayobe~stable%2Fzed~I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,openstack/kayobe,stable/zed,I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,Correct name for role mrlesmithjr.manage_lvm,MERGED,2023-06-19 11:10:05.000000000,2023-06-19 13:39:11.000000000,2023-06-19 13:37:26.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-19 11:10:05.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/seed.yml', 'ansible/inventory/group_vars/all/controllers', 'ansible/inventory/group_vars/all/monitoring', 'etc/kayobe/controllers.yml', 'etc/kayobe/seed-hypervisor.yml', 'doc/source/control-plane-service-placement.rst', 'ansible/inventory/group_vars/all/compute', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'etc/kayobe/monitoring.yml', 'ansible/inventory/group_vars/all/seed-hypervisor', 'ansible/inventory/group_vars/all/storage', 'ansible/inventory/group_vars/all/seed', 'ansible/inventory/group_vars/all/infra-vms', 'requirements.yml', 'zuul.d/project.yaml', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6accbcf6654423ee0a48ba8382b7fd7e0c2b00fa', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}]",0,886390,6accbcf6654423ee0a48ba8382b7fd7e0c2b00fa,9,4,1,15197,,,0,"Correct name for role mrlesmithjr.manage_lvm

The name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release
v0.2.10 to use an underscore, instead of a hyphen. As this changes the
name of the role on Ansible Galaxy, it needs to be updated in
``requirements.yml``.

Closes-Bug: #2024163
Change-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/886390/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/seed.yml', 'ansible/inventory/group_vars/all/controllers', 'ansible/inventory/group_vars/all/monitoring', 'etc/kayobe/controllers.yml', 'etc/kayobe/seed-hypervisor.yml', 'doc/source/control-plane-service-placement.rst', 'ansible/inventory/group_vars/all/compute', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'etc/kayobe/monitoring.yml', 'ansible/inventory/group_vars/all/seed-hypervisor', 'ansible/inventory/group_vars/all/storage', 'ansible/inventory/group_vars/all/seed', 'ansible/inventory/group_vars/all/infra-vms', 'requirements.yml', 'zuul.d/project.yaml', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml']",20,6accbcf6654423ee0a48ba8382b7fd7e0c2b00fa,,--- fixes: - | Fixes download of roles from Ansible Galaxy following the renaming of the ``mrlesmithjr.manage_lvm`` role. `LP#2023502 <https://bugs.launchpad.net/kolla-ansible/+bug/2024163>`__ ,,74,60
openstack%2Fcharm-specs~master~I6fea195c778ae84f88c7fe4474565e38d5395bdc,openstack/charm-specs,master,I6fea195c778ae84f88c7fe4474565e38d5395bdc,Open the 2023.2 Specs,MERGED,2023-05-23 17:53:03.000000000,2023-06-19 13:23:55.000000000,2023-06-15 19:43:01.000000000,"[{'_account_id': 1131}, {'_account_id': 11805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 17:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/62b5cc88eb34b86c4862a4dc90599bd333c7c2b3', 'message': 'Open the 2023.2 Specs\n\nOpen the 2023.2 (Bobcat) cycle specs\n\nChange-Id: I6fea195c778ae84f88c7fe4474565e38d5395bdc\n'}, {'number': 2, 'created': '2023-05-23 19:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/04054bac4cf73f76e71bd3a39a5e0aabf675d30e', 'message': 'Open the 2023.2 Specs\n\nOpen the 2023.2 (Bobcat) cycle specs\n\nChange-Id: I6fea195c778ae84f88c7fe4474565e38d5395bdc\n'}, {'number': 3, 'created': '2023-05-23 19:20:51.000000000', 'files': ['doc/source/specs/2023.1/backlog', 'specs/2023.2/backlog/rabbitmq-quorum-queue-support.rst', 'specs/2023.2/backlog/ceph-storage-action.rst', 'doc/source/specs/2023.1/redirects', 'specs/2023.2/backlog/pausing-charms-hacluster-no-false-alerts.rst', 'doc/source/specs/2023.2/backlog', 'doc/source/specs/2023.2/template.rst', 'doc/source/specs/2023.2/implemented', 'specs/2023.2/backlog/swift-extended-cluster-operations.rst', 'specs/2023.2/backlog/prometheus-metrics-exporter.rst', 'doc/source/specs/2023.2/index.rst', 'specs/2023.2/redirects', 'doc/source/specs/2023.1/implemented', 'specs/2023.2/backlog/cinder-solidfire.rst', 'doc/source/specs/2023.2/redirects', 'specs/2023.2/backlog/release-notes-migration-to-reno.rst', 'specs/2023.2/backlog/.keep', 'specs/2023.2/backlog/cinder-nimblestorage.rst', 'specs/2023.2/backlog/ncc-migration-ssh-auth-sharing.rst', 'specs/2023.2/implemented/.keep', 'doc/source/specs/2023.1/approved', 'specs/2023.2/approved/.keep', 'doc/source/specs/2023.2/approved', 'specs/2023.2/backlog/ovn-central-downscaling.rst', 'specs/2023.2/backlog/memory-fragmentation-tuning.rst', 'doc/source/index.rst', 'specs/2023.2/backlog/audit-middleware.rst', 'specs/2023.2/backlog/service-discovery.rst', 'doc/source/specs/2023.1/index.rst', 'specs/2023.2/backlog/numa-live-migration.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/5994599de0db9cd884d434a857b5e3f2e5773f05', 'message': 'Open the 2023.2 Specs\n\nOpen the 2023.2 (Bobcat) cycle specs\n\nChange-Id: I6fea195c778ae84f88c7fe4474565e38d5395bdc\n'}]",7,883964,5994599de0db9cd884d434a857b5e3f2e5773f05,14,4,3,2424,,,0,"Open the 2023.2 Specs

Open the 2023.2 (Bobcat) cycle specs

Change-Id: I6fea195c778ae84f88c7fe4474565e38d5395bdc
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/64/883964/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2023.2/backlog/rabbitmq-quorum-queue-support.rst', 'specs/2023.2/backlog/release-notes-migration-to-reno.rst', 'specs/2023.2/backlog/.keep', 'specs/2023.2/backlog/ceph-storage-action.rst', 'specs/2023.2/backlog/cinder-nimblestorage.rst', 'specs/2023.2/backlog/ncc-migration-ssh-auth-sharing.rst', 'specs/2023.2/implemented/.keep', 'specs/2023.2/backlog/pausing-charms-hacluster-no-false-alerts.rst', 'specs/2023.2/approved/.keep', 'specs/2023.2/backlog/ovn-central-downscaling.rst', 'specs/2023.2/backlog/memory-fragmentation-tuning.rst', 'specs/2023.2/backlog/swift-extended-cluster-operations.rst', 'specs/2023.2/backlog/audit-middleware.rst', 'specs/2023.2/backlog/prometheus-metrics-exporter.rst', 'specs/2023.2/backlog/service-discovery.rst', 'specs/2023.2/backlog/cinder-solidfire.rst', 'specs/2023.2/backlog/numa-live-migration.rst']",17,62b5cc88eb34b86c4862a4dc90599bd333c7c2b3,charm-2023.2-specs,,,0,0
openstack%2Fcharm-deployment-guide~stable%2F2023.1~I1ddc87821febcdf9bbce0d26b38c1cac37b302e9,openstack/charm-deployment-guide,stable/2023.1,I1ddc87821febcdf9bbce0d26b38c1cac37b302e9,Trivial fix for generating 2023.1 guide release,MERGED,2023-06-17 14:38:34.000000000,2023-06-19 13:23:19.000000000,2023-06-19 13:22:25.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-17 14:38:34.000000000', 'files': ['deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b0d2c4e834df20fca79cb684077757d11331ba3b', 'message': 'Trivial fix for generating 2023.1 guide release\n\nThis PR will be used to generate a 2023.1 version of\nthis guide by a follow-up backport of it to the\nnewly-created 2023.1 stable branch.\n\nChange-Id: I1ddc87821febcdf9bbce0d26b38c1cac37b302e9\n(cherry picked from commit fc7c83f5ecdfe05207cf8d6ef71743e2104c6547)\n'}]",1,886312,b0d2c4e834df20fca79cb684077757d11331ba3b,7,2,1,30561,,,0,"Trivial fix for generating 2023.1 guide release

This PR will be used to generate a 2023.1 version of
this guide by a follow-up backport of it to the
newly-created 2023.1 stable branch.

Change-Id: I1ddc87821febcdf9bbce0d26b38c1cac37b302e9
(cherry picked from commit fc7c83f5ecdfe05207cf8d6ef71743e2104c6547)
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/12/886312/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/index.rst'],1,b0d2c4e834df20fca79cb684077757d11331ba3b,generate-2023.1-guide-release-stable/2023.1,deploying and configuring Juju charms manually.,deploying and configuring each charm manually.,1,1
openstack%2Fkolla-ansible~stable%2Fzed~I608b84905fa69346a33a1cef10f159b3412cbfd7,openstack/kolla-ansible,stable/zed,I608b84905fa69346a33a1cef10f159b3412cbfd7,Fix Bifrost: remove an extra curly bracket,MERGED,2023-06-19 07:08:10.000000000,2023-06-19 13:10:00.000000000,2023-06-19 13:09:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-19 07:08:10.000000000', 'files': ['ansible/roles/bifrost/tasks/deploy-servers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc861e74a1690c5490894385c2f90740601357e2', 'message': 'Fix Bifrost: remove an extra curly bracket\n\nCloses-Bug: #2024314\nChange-Id: I608b84905fa69346a33a1cef10f159b3412cbfd7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 0104f3e3341c3158a0183a6db67c1028c50b4b92)\n'}]",0,886365,fc861e74a1690c5490894385c2f90740601357e2,9,4,1,14200,,,0,"Fix Bifrost: remove an extra curly bracket

Closes-Bug: #2024314
Change-Id: I608b84905fa69346a33a1cef10f159b3412cbfd7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 0104f3e3341c3158a0183a6db67c1028c50b4b92)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/886365/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/tasks/deploy-servers.yml'],1,fc861e74a1690c5490894385c2f90740601357e2,fix-bifrost-extra-bracket, ansible-playbook {{ bifrost_deploy_verbosity }}, ansible-playbook {{ bifrost_deploy_verbosity }}},1,1
openstack%2Fkayobe~master~Id5e946fd7b0526faea99536f4a055f0f5c2b8176,openstack/kayobe,master,Id5e946fd7b0526faea99536f4a055f0f5c2b8176,Use OpenStack 2023.1 release,MERGED,2023-05-26 09:51:00.000000000,2023-06-19 12:09:32.000000000,2023-05-30 12:05:07.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-26 09:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6f180cfeffc13d62c12e935910eae8bb7f34a464', 'message': 'Use OpenStack 2023.1 release\n\nSwitch all dependencies to use the OpenStack 2023.1 release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/2023.1 branch has been cut and RC1 released.\n\nChange-Id: Id5e946fd7b0526faea99536f4a055f0f5c2b8176\n'}, {'number': 2, 'created': '2023-05-29 10:56:08.000000000', 'files': ['ansible/inventory/group_vars/all/openstack', 'requirements.yml', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/16a61da41a9516445459c1ac75464e67b5f37ee2', 'message': 'Use OpenStack 2023.1 release\n\nSwitch all dependencies to use the OpenStack 2023.1 release.\n\nThis commit should be reverted on the master branch once the\nKayobe stable/2023.1 branch has been cut and RC1 released.\n\nChange-Id: Id5e946fd7b0526faea99536f4a055f0f5c2b8176\n'}]",7,884472,16a61da41a9516445459c1ac75464e67b5f37ee2,24,5,2,35263,,,0,"Use OpenStack 2023.1 release

Switch all dependencies to use the OpenStack 2023.1 release.

This commit should be reverted on the master branch once the
Kayobe stable/2023.1 branch has been cut and RC1 released.

Change-Id: Id5e946fd7b0526faea99536f4a055f0f5c2b8176
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/884472/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/group_vars/all/openstack', 'requirements.yml', 'etc/kayobe/openstack.yml', 'tox.ini', 'zuul.d/jobs.yaml']",5,6f180cfeffc13d62c12e935910eae8bb7f34a464,, # TODO(mattcrees): Remove when kayobe stable/2023.1 exists. override-checkout: stable/2023.1 # TODO(mattcrees): Remove when kayobe stable/2023.1 exists. override-checkout: stable/2023.1 # TODO(mattcrees): Remove when kayobe stable/2023.1 exists. override-checkout: stable/2023.1 # TODO(mattcrees): Remove when kayobe stable/2023.1 exists. override-checkout: stable/2023.1,,19,11
openstack%2Fpuppet-ceilometer~master~I0c047e9c8e33c05247d7af69d2a80e7cc22a0304,openstack/puppet-ceilometer,master,I0c047e9c8e33c05247d7af69d2a80e7cc22a0304,"Add ""tenant_name_discovery"" to all namespaces",MERGED,2023-06-12 08:19:42.000000000,2023-06-19 11:30:11.000000000,2023-06-19 11:29:07.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 08:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/0de69f7b0a170d7b3f57525e5674b644f548177a', 'message': 'Add ""tenant_name_discovery"" to all namespaces\n\nUpon enabling this parameter in all namespaces, ceilometer\nagents(central, compute, ipmi) will be able to identify users\nand project names in the metrics generated from their nodes.\n\nWithout this change, the parameter is missing in compute and\nipmi namespace.\n\nChange-Id: I0c047e9c8e33c05247d7af69d2a80e7cc22a0304\n'}, {'number': 2, 'created': '2023-06-13 05:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/05aaa6df5c499f0a4161e26bc8c36cf7d4e2b680', 'message': 'Add ""tenant_name_discovery"" to all namespaces\n\nUpon enabling this parameter in all namespaces, ceilometer\nagents(central, compute, ipmi) will be able to identify users\nand project names in the metrics generated from their nodes.\n\nWithout this change, the parameter is missing in compute and\nipmi namespace.\n\nChange-Id: I0c047e9c8e33c05247d7af69d2a80e7cc22a0304\n'}, {'number': 3, 'created': '2023-06-13 05:25:53.000000000', 'files': ['manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb', 'releasenotes/notes/fix_tenant_name_discovery-838f5d64bc405eca.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/524ae2eead2ad9014046bb703daccbf8a9cf0921', 'message': 'Add ""tenant_name_discovery"" to all namespaces\n\nUpon enabling this parameter in all namespaces, ceilometer\nagents(central, compute, ipmi) will be able to identify users\nand project names in the metrics generated from their nodes.\n\nWithout this change, the parameter is missing in compute and\nipmi namespace.\n\nChange-Id: I0c047e9c8e33c05247d7af69d2a80e7cc22a0304\n'}]",9,885842,524ae2eead2ad9014046bb703daccbf8a9cf0921,20,4,3,32240,,,0,"Add ""tenant_name_discovery"" to all namespaces

Upon enabling this parameter in all namespaces, ceilometer
agents(central, compute, ipmi) will be able to identify users
and project names in the metrics generated from their nodes.

Without this change, the parameter is missing in compute and
ipmi namespace.

Change-Id: I0c047e9c8e33c05247d7af69d2a80e7cc22a0304
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/42/885842/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_tenant_name_discovery-4671aec3daae9622.yaml', 'manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb']",3,0de69f7b0a170d7b3f57525e5674b644f548177a,, it { should contain_ceilometer_config('DEFAULT/tenant_name_discovery').with_value('<SERVICE DEFAULT>') }, should contain_ceilometer_config('DEFAULT/tenant_name_discovery').with_value('<SERVICE DEFAULT>') context 'with central parameters set' do before do params.merge!( :tenant_name_discovery => false ) end it { should contain_ceilometer_config('DEFAULT/tenant_name_discovery').with_value(false) } end should contain_ceilometer_config('DEFAULT/tenant_name_discovery').with_ensure('absent'),5,25
openstack%2Fovn-bgp-agent~master~Id94c0d911ab9bb320a88b87e834ecf2fc423e041,openstack/ovn-bgp-agent,master,Id94c0d911ab9bb320a88b87e834ecf2fc423e041,"Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils",MERGED,2023-06-12 09:25:17.000000000,2023-06-19 11:26:37.000000000,2023-06-19 09:59:27.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-12 09:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/be552922a23fd72b3c2d135c7d76049ded86c58f', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 2, 'created': '2023-06-12 09:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4c0bb965f386e8f6cc9d115b699ae76ccf231237', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 3, 'created': '2023-06-12 14:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/061b6946a2443843296f2ece6143f6374a6fcf89', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 4, 'created': '2023-06-12 18:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ae1a0a4ca2b07fbc566493ac7bda0327752738a7', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 5, 'created': '2023-06-13 07:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/fcc9a0bc785a51ed7a73a5a7737cc60768459de3', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 6, 'created': '2023-06-13 08:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b58f37b7f21ce226833147e3c71cc3c7418b7507', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 7, 'created': '2023-06-13 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bad36da37187938c98bbc6a4c89d7cf01c6fbbb3', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 8, 'created': '2023-06-13 13:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/166871589590269da25dc0d422249bf9998682f5', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 9, 'created': '2023-06-13 14:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cd69f4292ad2ae5a51474f7bf68f1c489053a076', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 10, 'created': '2023-06-14 07:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4d5e0935273dc38296bc505b581fa2b0dad24473', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 11, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f2602d5cea819937da023523a2104944f81d2c8e', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 12, 'created': '2023-06-15 08:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0d9960a4a7ec5f700e1270a989ba3e54df39f23d', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 13, 'created': '2023-06-15 10:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e3e64dc8c4a0c981058a5d81240d9c7956bd9b5b', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 14, 'created': '2023-06-15 22:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/97e7a63178c65a6403094114b5e534aca0dbb26c', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 15, 'created': '2023-06-16 05:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/fa656071a67af7868e8c903cc3a8c4bf5b427bdb', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}, {'number': 16, 'created': '2023-06-16 09:33:46.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/functional/utils/__init__.py', 'ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/drivers/openstack/utils/ovs.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovs.py', 'ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py', 'ovn_bgp_agent/tests/functional/utils/test_linux_net.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_nb_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1e954096664479f5e1eb7a4e4aef881b549cce20', 'message': 'Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041\n'}]",5,885784,1e954096664479f5e1eb7a4e4aef881b549cce20,41,4,16,23567,,,0,"Avoid usage of NDB in ovn_bgp_driver, and ovs and wire utils

This patch continues with the work on avoiding NDB usage in favor
of IPRoute

Partial-Bug: #2022357
Change-Id: Id94c0d911ab9bb320a88b87e834ecf2fc423e041
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/84/885784/16 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/drivers/openstack/utils/ovs.py']",6,be552922a23fd72b3c2d135c7d76049ded86c58f,bug/2022357," port_dst_mac = linux_net.get_interface_address(port_dst) if ip_version == constants.IP_VERSION_6: flow = ( ""cookie={},priority=1000,ipv6,in_port={},dl_src:{},"" ""ipv6_src={} actions=mod_dl_dst:{},{}output={}"".format( cookie, ovs_ofport, mac, net, port_dst_mac, strip_vlan_opt, vrf_ofport)) else: flow = ( ""cookie={},priority=1000,ip,in_port={},dl_src:{},nw_src={}"" ""actions=mod_dl_dst:{},{}output={}"".format( cookie, ovs_ofport, mac, net, port_dst_mac, strip_vlan_opt, vrf_ofport))","import pyroute2 with pyroute2.NDB() as ndb: if ip_version == constants.IP_VERSION_6: flow = ( ""cookie={},priority=1000,ipv6,in_port={},dl_src:{},"" ""ipv6_src={} actions=mod_dl_dst:{},{}output={}"".format( cookie, ovs_ofport, mac, net, ndb.interfaces[port_dst]['address'], strip_vlan_opt, vrf_ofport)) else: flow = ( ""cookie={},priority=1000,ip,in_port={},dl_src:{},nw_src={}"" ""actions=mod_dl_dst:{},{}output={}"".format( cookie, ovs_ofport, mac, net, ndb.interfaces[port_dst]['address'], strip_vlan_opt, vrf_ofport))",76,76
openstack%2Fkolla~master~If4e346c2db841aad9b2ddac049dbbbc1ba5782ec,openstack/kolla,master,If4e346c2db841aad9b2ddac049dbbbc1ba5782ec,Swift: Remove unused rootwrap,NEW,2023-06-19 09:00:52.000000000,2023-06-19 10:52:23.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 09:00:52.000000000', 'files': ['docker/swift/swift-base/rootwrap.conf', 'docker/swift/swift-base/swift_sudoers', 'docker/swift/swift-base/swift-rootwrap', 'docker/swift/swift-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e53fae7958d8cd62debecbb05739d3f7820ed85c', 'message': 'Swift: Remove unused rootwrap\n\nSwift does not use oslo.rootwrap. Thus the command and its config file\nis just useless.\n\nChange-Id: If4e346c2db841aad9b2ddac049dbbbc1ba5782ec\n'}]",0,886380,e53fae7958d8cd62debecbb05739d3f7820ed85c,5,2,1,9816,,,0,"Swift: Remove unused rootwrap

Swift does not use oslo.rootwrap. Thus the command and its config file
is just useless.

Change-Id: If4e346c2db841aad9b2ddac049dbbbc1ba5782ec
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/886380/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-base/rootwrap.conf', 'docker/swift/swift-base/swift_sudoers', 'docker/swift/swift-base/swift-rootwrap', 'docker/swift/swift-base/Dockerfile.j2']",4,e53fae7958d8cd62debecbb05739d3f7820ed85c,,,"COPY swift-rootwrap /var/lib/kolla/venv/bin/swift-rootwrap COPY rootwrap.conf /etc/swift/rootwrap.conf && chmod 755 /var/lib/kolla/venv/bin/swift-rootwrap \ && chmod 644 /etc/swift/rootwrap.conf \ && sed -i 's|^exec_dirs.*|exec_dirs=/var/lib/kolla/venv/bin,/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin|g' /etc/swift/rootwrap.conf \",0,43
openstack%2Fcharm-glance~master~I3004dc16092ea506211be553bf236d6eb40018f1,openstack/charm-glance,master,I3004dc16092ea506211be553bf236d6eb40018f1,Allow users to disable wsgi socket rotation,NEW,2023-06-19 07:49:27.000000000,2023-06-19 10:46:48.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 07:49:27.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'config.yaml', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f00c0c282dd53b57b53f88454a1b2e1b60933c89', 'message': 'Allow users to disable wsgi socket rotation\n\nThe lp bug 1863232 introduced a new configuration option called\nWSGISocketRotation which allows users to disable wsgi socket rotation on the\napache side. This patch will also allow setting this option on the charm side.\n\nIt depends on this RP - https://github.com/juju/charm-helpers/pull/801\n\nPartial-Bug: 2021550\nChange-Id: I3004dc16092ea506211be553bf236d6eb40018f1\n'}]",0,886376,f00c0c282dd53b57b53f88454a1b2e1b60933c89,3,2,1,2711,,,0,"Allow users to disable wsgi socket rotation

The lp bug 1863232 introduced a new configuration option called
WSGISocketRotation which allows users to disable wsgi socket rotation on the
apache side. This patch will also allow setting this option on the charm side.

It depends on this RP - https://github.com/juju/charm-helpers/pull/801

Partial-Bug: 2021550
Change-Id: I3004dc16092ea506211be553bf236d6eb40018f1
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/76/886376/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'config.yaml', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']",9,f00c0c282dd53b57b53f88454a1b2e1b60933c89,,{% if wsgi_rotation -%} WSGISocketRotation On {% else -%} WSGISocketRotation Off {% endif -%} ,,74,28
openstack%2Fnova~stable%2Fwallaby~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,stable/wallaby,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,NEW,2023-06-06 08:57:27.000000000,2023-06-19 10:35:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 34951}]","[{'number': 1, 'created': '2023-06-06 08:57:27.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e48fb15aaa462813fe9334a83bc76b43eb465fbd', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nConflicts:\n  nova/exception.py due to ShadowTableExists not exists in later\n  releases\n  nova/tests/functional/test_server_group.py due to db code moved\n  around in xena causing import differences\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n'}]",3,885348,e48fb15aaa462813fe9334a83bc76b43eb465fbd,12,2,1,9708,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Conflicts:
  nova/exception.py due to ShadowTableExists not exists in later
  releases
  nova/tests/functional/test_server_group.py due to db code moved
  around in xena causing import differences

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/885348/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",5,e48fb15aaa462813fe9334a83bc76b43eb465fbd,bug/1996732,"# Instance failed by policy violation (such as affinity or anti-affinity) # and was not rescheduled. In this case, the node's failed count won't be # increased. FAILED_BY_POLICY = 'failed_by_policy' # Instance failed by policy violation (such as affinity or anti-affinity) # but was rescheduled. In this case, the node's failed count won't be # increased. RESCHEDULED_BY_POLICY = 'rescheduled_by_policy'",,265,14
openstack%2Fkayobe~stable%2Fyoga~I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,openstack/kayobe,stable/yoga,I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,Correct name for role mrlesmithjr.manage_lvm,MERGED,2023-06-16 20:37:17.000000000,2023-06-19 10:29:39.000000000,2023-06-19 10:27:36.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-16 20:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67dc480eca18345b656841eff9567774ca7df331', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}, {'number': 2, 'created': '2023-06-17 09:03:01.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'etc/kayobe/seed-hypervisor.yml', 'ansible/group_vars/all/controllers', 'doc/source/control-plane-service-placement.rst', 'ansible/group_vars/all/storage', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/all/seed-hypervisor', 'etc/kayobe/monitoring.yml', 'requirements.yml', 'zuul.d/project.yaml', 'ansible/group_vars/all/compute', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c4fa262a53f3df6da5c5e7d1e5a3e3f33e5c3100', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}]",2,886293,c4fa262a53f3df6da5c5e7d1e5a3e3f33e5c3100,15,5,2,15197,,,0,"Correct name for role mrlesmithjr.manage_lvm

The name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release
v0.2.10 to use an underscore, instead of a hyphen. As this changes the
name of the role on Ansible Galaxy, it needs to be updated in
``requirements.yml``.

Closes-Bug: #2024163
Change-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/93/886293/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'etc/kayobe/seed-hypervisor.yml', 'ansible/group_vars/all/controllers', 'doc/source/control-plane-service-placement.rst', 'ansible/group_vars/all/storage', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/all/seed-hypervisor', 'etc/kayobe/monitoring.yml', 'requirements.yml', 'zuul.d/project.yaml', 'ansible/group_vars/all/compute', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml']",20,67dc480eca18345b656841eff9567774ca7df331,,--- fixes: - | Fixes download of roles from Ansible Galaxy following the renaming of the ``mrlesmithjr.manage_lvm`` role. `LP#2023502 <https://bugs.launchpad.net/kolla-ansible/+bug/2024163>`__ ,,66,60
openstack%2Fpython-openstackclient~master~I8fcfb734eb45308b80aa1478c2935c9881fee928,openstack/python-openstackclient,master,I8fcfb734eb45308b80aa1478c2935c9881fee928,Adopt sdk_fakes for compute.test_flavor,NEW,2023-06-07 13:43:54.000000000,2023-06-19 10:26:53.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/755875cf77148a3960819498ee0ce24f2908495c', 'message': 'Adopt sdk_fakes for compute.test_flavor\n\nUse sdk_fakes inside test_flavor. The only left fake is for\nflavor_access, for which there is no resource in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I8fcfb734eb45308b80aa1478c2935c9881fee928\n'}, {'number': 2, 'created': '2023-06-07 15:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a472356c9e832e86e42c24b7abd4be00a8541157', 'message': 'Adopt sdk_fakes for compute.test_flavor\n\nUse sdk_fakes inside test_flavor. The only left fake is for\nflavor_access, for which there is no resource in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/885498\nChange-Id: I8fcfb734eb45308b80aa1478c2935c9881fee928\n'}, {'number': 3, 'created': '2023-06-19 09:30:36.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_flavor.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3e182d4c6a63ee69e62686d32d93fe5d713c18c9', 'message': 'Adopt sdk_fakes for compute.test_flavor\n\nUse sdk_fakes inside test_flavor. The only left fake is for\nflavor_access, for which there is no resource in SDK.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/885498\nChange-Id: I8fcfb734eb45308b80aa1478c2935c9881fee928\n'}]",2,885493,3e182d4c6a63ee69e62686d32d93fe5d713c18c9,7,2,3,27900,,,0,"Adopt sdk_fakes for compute.test_flavor

Use sdk_fakes inside test_flavor. The only left fake is for
flavor_access, for which there is no resource in SDK.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/885498
Change-Id: I8fcfb734eb45308b80aa1478c2935c9881fee928
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/93/885493/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/test_flavor.py'],1,755875cf77148a3960819498ee0ce24f2908495c,fakes,"from openstack.identity.v3.project import Project from openstack.test import fakes as sdk_fakes flavor = sdk_fakes.generate_fake_resource( _flavor.Flavor, links='flavor-links' ) project = sdk_fakes.generate_fake_resource(Project) ('description', self.flavor.description), flavors = sdk_fakes.generate_fake_resources(_flavor.Flavor, 2) _flavor = sdk_fakes.generate_fake_resource( _flavor.Flavor, extra_specs={""property"": ""value""} ) flavor = sdk_fakes.generate_fake_resource( _flavor.Flavor, extra_specs={} ) flavor = sdk_fakes.generate_fake_resource( _flavor.Flavor, is_public=False, extra_specs={""property"": ""value""} project = sdk_fakes.generate_fake_resource(Project) flavor = sdk_fakes.generate_fake_resource(_flavor.Flavor) private_flavor = sdk_fakes.generate_fake_resource( _flavor.Flavor, is_public=False, flavor = sdk_fakes.generate_fake_resource(_flavor.Flavor, is_public=False) project = sdk_fakes.generate_fake_resource(Project)","from openstackclient.tests.unit.identity.v3 import fakes as identity_fakes flavor = compute_fakes.create_one_flavor(attrs={'links': 'flavor-links'}) project = identity_fakes.FakeProject.create_one_project() ('description', 'description'), flavors = compute_fakes.create_flavors(count=2) _flavor = compute_fakes.create_one_flavor() flavor = compute_fakes.create_one_flavor(attrs={""extra_specs"": {}}) flavor = compute_fakes.create_one_flavor( attrs={'os-flavor-access:is_public': False} project = identity_fakes.FakeProject.create_one_project() flavor = compute_fakes.create_one_flavor() private_flavor = compute_fakes.create_one_flavor( attrs={ 'os-flavor-access:is_public': False, } flavor = compute_fakes.create_one_flavor( attrs={'os-flavor-access:is_public': False} ) project = identity_fakes.FakeProject.create_one_project()",23,19
openstack%2Fkolla~master~I7eb97c6bfb65f26b044f26fece09521836ac5a3b,openstack/kolla,master,I7eb97c6bfb65f26b044f26fece09521836ac5a3b,Fix cinder-volume: Add forgotten lsscsi rpm package,MERGED,2023-06-18 20:34:38.000000000,2023-06-19 10:18:02.000000000,2023-06-19 10:17:04.000000000,"[{'_account_id': 290}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-18 20:34:38.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e2900e00bb88a38ea51c925d2c6c0cfcd5841bb', 'message': 'Fix cinder-volume: Add forgotten lsscsi rpm package\n\nCloses-Bug: #2024018\nChange-Id: I7eb97c6bfb65f26b044f26fece09521836ac5a3b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",1,886345,2e2900e00bb88a38ea51c925d2c6c0cfcd5841bb,13,8,1,14200,,,0,"Fix cinder-volume: Add forgotten lsscsi rpm package

Closes-Bug: #2024018
Change-Id: I7eb97c6bfb65f26b044f26fece09521836ac5a3b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/886345/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,2e2900e00bb88a38ea51c925d2c6c0cfcd5841bb,fix-cinder-volume-lsscsi," 'lsscsi',",,1,0
openstack%2Fpuppet-nova~stable%2Fzed~Ibd904309ee5327ec2010925459c1aee4a109b1b0,openstack/puppet-nova,stable/zed,Ibd904309ee5327ec2010925459c1aee4a109b1b0,Fix incorrect usage of manage_libvirt_services,MERGED,2023-06-09 11:40:07.000000000,2023-06-19 10:12:45.000000000,2023-06-19 10:11:50.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 11:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f79709af6136b09f42f76574fd72f94419cf1c30', 'message': 'Fix incorrect usage of manage_libvirt_services\n\nThis parameter determines whether the nova::compute::libvirt class\nshould manage libvirt services. Even if the parameter is set to false,\na user can include nova::compute::libvirt::services explicitly to\nmanage libvirt services. However the nova::migration::libvirt class\ndoes not care whether the service class is additionally included and\nalways ignores the service resources even though libvirt services are\nactually managed.\n\nThis fixes that problem and introduces a proper knob to manage/unmanage\nservices.\n\nChange-Id: Ibd904309ee5327ec2010925459c1aee4a109b1b0\n(cherry picked from commit 30bff6814091fcff6613bb9d20fb5fc402da5357)\n(cherry picked from commit 29f27cb228465f1927951be8e2d749188440a9bc)\n'}, {'number': 2, 'created': '2023-06-09 11:40:52.000000000', 'files': ['releasenotes/notes/fix-migration-libvirt-manage-service-3d205cd3772650b7.yaml', 'manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/549d89e3177528e9b57d1062a7f7dac10942abc3', 'message': 'Fix incorrect usage of manage_libvirt_services\n\nThis parameter determines whether the nova::compute::libvirt class\nshould manage libvirt services. Even if the parameter is set to false,\na user can include nova::compute::libvirt::services explicitly to\nmanage libvirt services. However the nova::migration::libvirt class\ndoes not care whether the service class is additionally included and\nalways ignores the service resources even though libvirt services are\nactually managed.\n\nThis fixes that problem and introduces a proper knob to manage/unmanage\nservices.\n\nChange-Id: Ibd904309ee5327ec2010925459c1aee4a109b1b0\n(cherry picked from commit 30bff6814091fcff6613bb9d20fb5fc402da5357)\n(cherry picked from commit 29f27cb228465f1927951be8e2d749188440a9bc)\n'}]",0,885742,549d89e3177528e9b57d1062a7f7dac10942abc3,9,3,2,16137,,,0,"Fix incorrect usage of manage_libvirt_services

This parameter determines whether the nova::compute::libvirt class
should manage libvirt services. Even if the parameter is set to false,
a user can include nova::compute::libvirt::services explicitly to
manage libvirt services. However the nova::migration::libvirt class
does not care whether the service class is additionally included and
always ignores the service resources even though libvirt services are
actually managed.

This fixes that problem and introduces a proper knob to manage/unmanage
services.

Change-Id: Ibd904309ee5327ec2010925459c1aee4a109b1b0
(cherry picked from commit 30bff6814091fcff6613bb9d20fb5fc402da5357)
(cherry picked from commit 29f27cb228465f1927951be8e2d749188440a9bc)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/42/885742/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-migration-libvirt-manage-service-3d205cd3772650b7.yaml', 'manifests/migration/libvirt.pp']",2,f79709af6136b09f42f76574fd72f94419cf1c30,,"# [*manage_service*] # (optional) Whether to start/stop the service # Defaults to true # $manage_service = true, validate_legacy(Boolean, 'validate_bool', $manage_service) validate_legacy(Boolean, 'validate_bool', $override_uuid) validate_legacy(Boolean, 'validate_bool', $configure_libvirt) validate_legacy(Boolean, 'validate_bool', $configure_nova) if $manage_service {"," # Since libvirt >= 5.6, system socket of libvirt should be activated # by systemd, not by --listen option $manage_services = pick($::nova::compute::libvirt::manage_libvirt_services, true) if $manage_services {",24,4
openstack%2Fcharm-nova-k8s~main~Ia6b36b5914b554d29374e426a9a3f19e075fec43,openstack/charm-nova-k8s,main,Ia6b36b5914b554d29374e426a9a3f19e075fec43,Drop priviledges for server process,MERGED,2023-06-14 10:51:20.000000000,2023-06-19 10:05:36.000000000,2023-06-19 09:42:36.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/82c73ad8c52f83b629b771a4d4c13c16dd8c684a', 'message': 'Drop priviledges for server process\n\nUse nova:nova to run the nova-server process.\n\nUpdate file permissions to allow nova user to read.\n\nRemove ""service X status"" health checks as pebble monitors the\nprocess so these don\'t add any value.\n\nChange-Id: Ia6b36b5914b554d29374e426a9a3f19e075fec43\n'}, {'number': 2, 'created': '2023-06-14 13:20:06.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/688546e53b388ac9b6e73924a58d5fdf4a9a1623', 'message': 'Drop priviledges for server process\n\nUse nova:nova to run the nova-server process.\n\nUpdate file permissions to allow nova user to read.\n\nRemove ""service X status"" health checks as pebble monitors the\nprocess so these don\'t add any value.\n\nChange-Id: Ia6b36b5914b554d29374e426a9a3f19e075fec43\n'}]",5,886080,688546e53b388ac9b6e73924a58d5fdf4a9a1623,17,2,2,12549,,,0,"Drop priviledges for server process

Use nova:nova to run the nova-server process.

Update file permissions to allow nova user to read.

Remove ""service X status"" health checks as pebble monitors the
process so these don't add any value.

Change-Id: Ia6b36b5914b554d29374e426a9a3f19e075fec43
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/80/886080/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,82c73ad8c52f83b629b771a4d4c13c16dd8c684a,unpriv-user,"NOVA_WSGI_CONTAINER = ""nova-api"" ""user"": ""nova"", ""group"": ""nova"", ""/etc/nova/nova.conf"", ""root"", ""nova"", 0o640, ""user"": ""nova"", ""group"": ""nova"", ""/etc/nova/nova.conf"", ""root"", ""nova"", 0o640, pebble_handlers = [ sunbeam_chandlers.WSGIPebbleHandler( self, NOVA_WSGI_CONTAINER, self.service_name, self.container_configs, self.template_dir, self.configure_charm, f""wsgi-{self.service_name}"", ), NovaSchedulerPebbleHandler( self, NOVA_SCHEDULER_CONTAINER, ""nova-scheduler"", [], self.template_dir, self.configure_charm, ), NovaConductorPebbleHandler( self, NOVA_CONDUCTOR_CONTAINER, ""nova-conductor"", [], self.template_dir, self.configure_charm, ), ] _cconfigs = [ sunbeam_core.ContainerConfigFile( ""/etc/nova/nova.conf"", ""root"", ""nova"", 0o640, ), sunbeam_core.ContainerConfigFile( ""/root/cell_create_wrapper.sh"", ""root"", ""root"", 0o755 ), ]"," def get_healthcheck_layer(self) -> dict: """"""Health check pebble layer. :returns: pebble health check layer configuration for scheduler service :rtype: dict """""" return { ""checks"": { ""online"": { ""override"": ""replace"", ""level"": ""ready"", ""exec"": {""command"": ""service nova-scheduler status""}, }, } } ""/etc/nova/nova.conf"", ""nova"", ""nova"" def get_healthcheck_layer(self) -> dict: """"""Health check pebble layer. :returns: pebble health check layer configuration for conductor service """""" return { ""checks"": { ""online"": { ""override"": ""replace"", ""level"": ""ready"", ""exec"": {""command"": ""service nova-conductor status""}, }, } } ""/etc/nova/nova.conf"", ""nova"", ""nova"" pebble_handlers = super().get_pebble_handlers() pebble_handlers.extend( [ NovaSchedulerPebbleHandler( self, NOVA_SCHEDULER_CONTAINER, ""nova-scheduler"", [], self.template_dir, self.configure_charm, ), NovaConductorPebbleHandler( self, NOVA_CONDUCTOR_CONTAINER, ""nova-conductor"", [], self.template_dir, self.configure_charm, ), ] ) _cconfigs = super().container_configs _cconfigs.extend( [ sunbeam_core.ContainerConfigFile( ""/root/cell_create_wrapper.sh"", ""root"", ""root"", 0o755 ) ] )",51,62
openstack%2Fovn-bgp-agent~master~I3ea3012e7dc5196c1d35b6265bb7c50ffa576c1e,openstack/ovn-bgp-agent,master,I3ea3012e7dc5196c1d35b6265bb7c50ffa576c1e,Minor code improvements around move from NDB to IPRoute,MERGED,2023-06-19 09:29:43.000000000,2023-06-19 10:01:07.000000000,2023-06-19 09:59:30.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 09:29:43.000000000', 'files': ['ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6194a579e75689a41e49ba3dd0ef77d27f9ee2e1', 'message': 'Minor code improvements around move from NDB to IPRoute\n\nThere was a few suggestions to improve the code that were not\nincluded in the main patch sets. Adding them here\n\nChange-Id: I3ea3012e7dc5196c1d35b6265bb7c50ffa576c1e\n'}]",0,885982,6194a579e75689a41e49ba3dd0ef77d27f9ee2e1,7,2,1,23567,,,0,"Minor code improvements around move from NDB to IPRoute

There was a few suggestions to improve the code that were not
included in the main patch sets. Adding them here

Change-Id: I3ea3012e7dc5196c1d35b6265bb7c50ffa576c1e
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/82/885982/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py']",3,6194a579e75689a41e49ba3dd0ef77d27f9ee2e1,bug/2022357," scope = route.pop('scope', 'link') route['scope'] = get_scope_name(scope) scope = route.pop('scope', 'link') route['scope'] = get_scope_name(scope) # NOTE(ltomasbo): This method is to set the default route for the table # (and hence default route for the VRF) # ip route add table 10 unreachable default metric 4278198272 raise agent_exc.InterfaceOperationNotSupported(device=device) if e.code == errno.EINVAL: raise agent_exc.InvalidArgument(device=device) if e.code == errno.EEXIST: raise agent_exc.InterfaceAlreadyExists(device=device) return","class InterfaceAlreadyExists(RuntimeError): message = ""Interface %(device)s already exists."" def __init__(self, message=None, device=None): message = message or self.message % {'device': device} super(InterfaceAlreadyExists, self).__init__(message) class InterfaceOperationNotSupported(RuntimeError): message = ""Operation not supported on interface %(device)s."" def __init__(self, message=None, device=None): message = message or self.message % {'device': device} super(InterfaceOperationNotSupported, self).__init__(message) class InvalidArgument(RuntimeError): message = ""Invalid parameter/value used on interface %(device)s."" def __init__(self, message=None, device=None): message = message or self.message % {'device': device} super(InvalidArgument, self).__init__(message) scope = 'link' if 'scope' not in route else route.pop('scope') if scope is not None: route['scope'] = get_scope_name(scope) scope = 'link' if 'scope' not in route else route.pop('scope') if scope is not None: route['scope'] = get_scope_name(scope) raise InterfaceOperationNotSupported(device=device) if e.code == errno.EINVAL: raise InvalidArgument(device=device) if e.code == errno.EEXIST: raise InterfaceAlreadyExists(device=device) return None",36,35
openstack%2Fovn-bgp-agent~master~I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7,openstack/ovn-bgp-agent,master,I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7,Avoid usage of NDB linux_net utils,MERGED,2023-06-12 12:04:51.000000000,2023-06-19 09:59:29.000000000,2023-06-19 09:59:29.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-12 12:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/441ae8dedc0c4bb69561e229b1927f06ce8e56c1', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 2, 'created': '2023-06-13 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b83ea3278acaf23decd62b7765b9eec37a58c277', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 3, 'created': '2023-06-13 13:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9d8fd9734a083cc83dcf028145e54fd779b2467e', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 4, 'created': '2023-06-14 07:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/89a5e67a04d33f83f789f6578f9fd7af3e3ef003', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 5, 'created': '2023-06-14 07:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6560939b5b089a4d9d985bcb4fe3b667d858f337', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 6, 'created': '2023-06-14 09:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6ff6ef9af1615648d0019400331b3e55af44bb85', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 7, 'created': '2023-06-14 09:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0ee3d34f04a284569fef42d95e9752fe6d02ef7a', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 8, 'created': '2023-06-14 09:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4bb195122bd6adac592e241065a01aa7746a3049', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 9, 'created': '2023-06-14 10:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8ae078134024fafeec7152afaf0d2d932fb5dfb1', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 10, 'created': '2023-06-14 12:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/aa625b00a07df93d58389fe0b2238542f4c5fbeb', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 11, 'created': '2023-06-14 13:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e2953efabb5e3bdb378b57fa63b0d0472fd8febb', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 12, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6fbb6f603b3166e60e5c4d582b78b0bc24fd9819', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 13, 'created': '2023-06-15 08:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a87569f084ffee5fdcd6552adba33f9c72ce38cd', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 14, 'created': '2023-06-15 10:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c0ee1a55c604a68c2801331b85924c598ad276b2', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 15, 'created': '2023-06-16 09:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d2c6faa033a3f743bec773e352dd6f915248b994', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 16, 'created': '2023-06-16 09:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b9b04ba017f69c09bf41344379c18739b89098bf', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 17, 'created': '2023-06-16 10:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e77e82b5355c2f12e33e0b42fde8492cbbc14b3c', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}, {'number': 18, 'created': '2023-06-16 11:04:58.000000000', 'files': ['ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/tests/functional/utils/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/14a78503de01264bb3b5d96025358008da39c325', 'message': 'Avoid usage of NDB linux_net utils\n\nThis patch continues with the work on avoiding NDB usage in favor\nof IPRoute\n\nPartial-Bug: #2022357\nChange-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7\n'}]",7,885785,14a78503de01264bb3b5d96025358008da39c325,41,5,18,23567,,,0,"Avoid usage of NDB linux_net utils

This patch continues with the work on avoiding NDB usage in favor
of IPRoute

Partial-Bug: #2022357
Change-Id: I1a8e1a8ca3c82d3cc5a4a10dbccd28cbe14f64c7
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/85/885785/4 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/exceptions.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py']",3,441ae8dedc0c4bb69561e229b1927f06ce8e56c1,bug/2022357,from ovn_bgp_agent.utils import linux_net as l_net,from ovn_bgp_agent.utils import linux_net as l_net,198,189
openstack%2Fkolla-ansible~master~I608b84905fa69346a33a1cef10f159b3412cbfd7,openstack/kolla-ansible,master,I608b84905fa69346a33a1cef10f159b3412cbfd7,Fix Bifrost: remove an extra curly bracket,MERGED,2023-06-18 20:10:01.000000000,2023-06-19 09:45:03.000000000,2023-06-19 09:43:49.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-18 20:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/644d3eb37319237cd63ee892d1ded33a77c426d2', 'message': 'Fix Bifrost: remove an extra curly bracket\n\nCloses-Bug: #2024314\nChange-Id: I608b84905fa69346a33a1cef10f159b3412cbfd7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-06-18 20:14:02.000000000', 'files': ['ansible/roles/bifrost/tasks/deploy-servers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0104f3e3341c3158a0183a6db67c1028c50b4b92', 'message': 'Fix Bifrost: remove an extra curly bracket\n\nCloses-Bug: #2024314\nChange-Id: I608b84905fa69346a33a1cef10f159b3412cbfd7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,886344,0104f3e3341c3158a0183a6db67c1028c50b4b92,12,4,2,14200,,,0,"Fix Bifrost: remove an extra curly bracket

Closes-Bug: #2024314
Change-Id: I608b84905fa69346a33a1cef10f159b3412cbfd7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/886344/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/tasks/deploy-servers.yml'],1,644d3eb37319237cd63ee892d1ded33a77c426d2,fix-bifrost-extra-bracket, ansible-playbook {{ bifrost_deploy_verbosity }}, ansible-playbook {{ bifrost_deploy_verbosity }}},1,1
openstack%2Fdevstack~master~I58bbf53be7bfa9bed9c40a4804447e1fa188163f,openstack/devstack,master,I58bbf53be7bfa9bed9c40a4804447e1fa188163f,[DNM]: test devstack,ABANDONED,2023-06-18 17:24:30.000000000,2023-06-19 09:35:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-18 17:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/56d2aa6af25a1409461320999a939fbdcf2b40cc', 'message': '[DNM]: test devstack\n\nChange-Id: I58bbf53be7bfa9bed9c40a4804447e1fa188163f\n'}, {'number': 2, 'created': '2023-06-18 17:38:57.000000000', 'files': ['functions', 'README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/94984f62c704eae917dddd86aa80b8c6cc3d50c0', 'message': '[DNM]: test devstack\n\nChange-Id: I58bbf53be7bfa9bed9c40a4804447e1fa188163f\n'}]",0,886342,94984f62c704eae917dddd86aa80b8c6cc3d50c0,5,1,2,27900,,,0,"[DNM]: test devstack

Change-Id: I58bbf53be7bfa9bed9c40a4804447e1fa188163f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/42/886342/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,56d2aa6af25a1409461320999a939fbdcf2b40cc,, DNM,,2,0
openstack%2Fpuppet-oslo~master~I8ad8f5246f7e7cf3d1e6104ac2e3ade69ce9735d,openstack/puppet-oslo,master,I8ad8f5246f7e7cf3d1e6104ac2e3ade69ce9735d,add spec test for type Oslo::Dbconn,MERGED,2023-06-13 06:30:33.000000000,2023-06-19 09:31:48.000000000,2023-06-19 09:31:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 06:30:33.000000000', 'files': ['spec/type_aliases/dbconn_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/471514fa533e5c42a94919fe884fa4a7b95751bc', 'message': 'add spec test for type Oslo::Dbconn\n\nChange-Id: I8ad8f5246f7e7cf3d1e6104ac2e3ade69ce9735d\n'}]",0,885935,471514fa533e5c42a94919fe884fa4a7b95751bc,7,3,1,7888,,,0,"add spec test for type Oslo::Dbconn

Change-Id: I8ad8f5246f7e7cf3d1e6104ac2e3ade69ce9735d
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/35/885935/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/type_aliases/dbconn_spec.rb'],1,471514fa533e5c42a94919fe884fa4a7b95751bc,dev_spec_for_dbconn,"require 'spec_helper' describe 'Oslo::Dbconn' do describe 'valid types' do context 'with valid types' do [ 'mysql+pymysql://db:db@localhost/db', 'postgresql://db:db@localhost/db', 'postgresql+psycopg2://db:db@localhost/db', 'sqlite:///var/lib/db.db', 'mongodb://db:db@localhost/db', ].each do |value| describe value.inspect do it { is_expected.to allow_value(value) } end end end end describe 'invalid types' do context 'with garbage inputs' do [ 'foo://db:db@localhost/db', 'foo+pymysql://db:db@localhost/db', true, false, nil, { 'foo' => 'bar' }, {}, '', 55555, ].each do |value| describe value.inspect do it { is_expected.not_to allow_value(value) } end end end end end ",,40,0
openstack%2Fpuppet-oslo~master~I58de785f83e11d3db2393bdc8dcd240f37e15fdd,openstack/puppet-oslo,master,I58de785f83e11d3db2393bdc8dcd240f37e15fdd,remove validate_legacy (Booleans only),MERGED,2023-06-13 07:13:41.000000000,2023-06-19 09:31:47.000000000,2023-06-19 09:31:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 07:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/15d275dc2d80ab55afa3df7bb31e45dc67c200f4', 'message': 'remove validate_legacy throughout the module\n\nChange-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd\n'}, {'number': 2, 'created': '2023-06-13 08:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/068c5195c60efd54617ae3ea05f8e7b76f3ec97b', 'message': 'remove validate_legacy throughout the module\n\nChange-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd\n'}, {'number': 3, 'created': '2023-06-13 11:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/96caf7127d84d8e8e14bdf572bfed2d54f3bade1', 'message': 'remove validate_legacy throughout the module\n\nChange-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd\n'}, {'number': 4, 'created': '2023-06-13 12:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b68072449cdecf566e36bbe48a5f71f306bafe9d', 'message': 'remove validate_legacy (Booleans only)\n\nChange-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd\n'}, {'number': 5, 'created': '2023-06-15 20:18:05.000000000', 'files': ['manifests/db.pp', 'manifests/cache.pp', 'manifests/coordination.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/fd712632841326e0e3b0ae38c80144783c8bcde7', 'message': 'remove validate_legacy (Booleans only)\n\nChange-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd\n'}]",2,885938,fd712632841326e0e3b0ae38c80144783c8bcde7,22,3,5,7888,,,0,"remove validate_legacy (Booleans only)

Change-Id: I58de785f83e11d3db2393bdc8dcd240f37e15fdd
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/38/885938/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/cache.pp', 'manifests/coordination.pp']",3,15d275dc2d80ab55afa3df7bb31e45dc67c200f4,replace-validate_legacy," $backend_url = $facts['os_service_default'], Boolean $manage_backend_package = true, $package_ensure = 'present', Boolean $manage_config = true,"," $backend_url = $facts['os_service_default'], $manage_backend_package = true, $package_ensure = 'present', $manage_config = true, validate_legacy(Boolean, 'validate_bool', $manage_backend_package) validate_legacy(Boolean, 'validate_bool', $manage_config) ",28,37
openstack%2Fcharm-zuul-jobs~master~I2a9e2e5ed9c6ea441f7f53e46b18ff10b6351e7d,openstack/charm-zuul-jobs,master,I2a9e2e5ed9c6ea441f7f53e46b18ff10b6351e7d,Prefix kubectl command with microk8s,MERGED,2023-06-19 09:02:14.000000000,2023-06-19 09:25:19.000000000,2023-06-19 09:25:19.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 09:02:14.000000000', 'files': ['roles/collect-run-data/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/b65aa34e5e8021eb397bd8181a123cdae4f4776e', 'message': 'Prefix kubectl command with microk8s\n\nKubectl alias is not set by default, use the microk8s command.\n\nChange-Id: I2a9e2e5ed9c6ea441f7f53e46b18ff10b6351e7d\n'}]",0,886381,b65aa34e5e8021eb397bd8181a123cdae4f4776e,6,2,1,35761,,,0,"Prefix kubectl command with microk8s

Kubectl alias is not set by default, use the microk8s command.

Change-Id: I2a9e2e5ed9c6ea441f7f53e46b18ff10b6351e7d
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/81/886381/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-run-data/tasks/main.yaml'],1,b65aa34e5e8021eb397bd8181a123cdae4f4776e,fix/kubectl-alias, for pod in $(microk8s.kubectl get pods -n $MODEL_NAME -o=jsonpath='{.items[*].metadata.name}');, for pod in $(kubectl get pods -n $MODEL_NAME -o=jsonpath='{.items[*].metadata.name}');,1,1
openstack%2Fovn-bgp-agent~master~I7cb004b7523d957b3849621a0387288e758b8520,openstack/ovn-bgp-agent,master,I7cb004b7523d957b3849621a0387288e758b8520,Add new privileged rule methods implementations,MERGED,2023-06-12 08:19:46.000000000,2023-06-19 09:19:52.000000000,2023-06-19 09:17:21.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-12 08:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cf418fd4f0b6dc51d9338d539cbabcad47ec3ad8', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 2, 'created': '2023-06-12 13:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9f451b8794d5dd2d15074c0ae201fe3582f5940b', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 3, 'created': '2023-06-13 00:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7e096fb6d3c920c2384817555d7fe81f3312c303', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 4, 'created': '2023-06-13 07:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2bbb0c482cc6426409e1a66a600a16c2c39075c8', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 5, 'created': '2023-06-13 08:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/87c8265b705f7caa520dad09ce6ba0ad8910e923', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 6, 'created': '2023-06-13 09:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e76ef99ff5ce080b083349a137cfde00e39cc753', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 7, 'created': '2023-06-13 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/52505989643bb1fe80a5c21911aea2f83a620ade', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 8, 'created': '2023-06-13 13:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b05ad0c80b1e89ea0a06773e8b5a7a6a880d962d', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 9, 'created': '2023-06-13 14:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2a787d455fa80318d1b4ab4742aeefdee177ee15', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 10, 'created': '2023-06-13 14:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cb0f52df9102210ebc3d03236454effb1c1f5c23', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 11, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8eaf80c8cce92b85fc2f2210ec60f43adaedb637', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 12, 'created': '2023-06-15 08:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d1112391271e3e58cb1e666d1ad473be06888428', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}, {'number': 13, 'created': '2023-06-15 10:13:53.000000000', 'files': ['ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7115d6bf93a9c294b4903f7cf080fca5a811b862', 'message': 'Add new privileged rule methods implementations\n\nThis patch add the following new privileged methods implementations:\n* rule_create\n* rule_delete\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: I7cb004b7523d957b3849621a0387288e758b8520\n'}]",1,885782,7115d6bf93a9c294b4903f7cf080fca5a811b862,33,4,13,23567,,,0,"Add new privileged rule methods implementations

This patch add the following new privileged methods implementations:
* rule_create
* rule_delete

These new method use pyroute2 IPRoute class, replacing the use of the
NDB class.

Partial-Bug: #2022357
Change-Id: I7cb004b7523d957b3849621a0387288e758b8520
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/82/885782/3 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/privileged/linux_net.py'],1,cf418fd4f0b6dc51d9338d539cbabcad47ec3ad8,bug/2022357," _run_iproute_rule('add', **rule) _run_iproute_rule('del', **rule) for rule_ip, rule_info in ip_rules.items(): rule = {'dst': rule_ip.split(""/"")[0], 'dst_len': rule_ip.split(""/"")[1], 'table': rule_info['table'], 'family': rule_info['family']} _run_iproute_rule('del', **rule)def _run_iproute_rule(command, **kwargs): try: with iproute.IPRoute() as ip: ip.rule(command, **kwargs) except netlink_exceptions.NetlinkError: raise "," with pyroute2.NDB() as ndb: try: ndb.rules[rule] except KeyError: LOG.debug(""Creating ip rule with: %s"", rule) try: ndb.rules.create(rule).commit() except ValueError: # FIXME: There is an issue with NDB and ip rules # Remove try/except once the next is fixed: # https://github.com/svinota/pyroute2/issues/967 pass with pyroute2.NDB() as ndb: try: ndb.rules[rule].remove().commit() LOG.debug(""Deleting ip rule with: %s"", rule) except KeyError: LOG.debug(""Rule already deleted: %s"", rule) except ValueError: # FIXME: There is an issue with NDB and ip rules # Remove except once the next is fixed: # https://github.com/svinota/pyroute2/issues/967 # fixed on pyroute2 0.7.2 version, remove it when that version # is the minimal one supported pass with pyroute2.NDB() as ndb: for rule_ip, rule_info in ip_rules.items(): rule = {'dst': rule_ip.split(""/"")[0], 'dst_len': rule_ip.split(""/"")[1], 'table': rule_info['table'], 'family': rule_info['family']} try: with ndb.rules[rule] as r: r.remove() except KeyError: LOG.debug(""Rule {} already deleted"".format(rule)) except pyroute_netlink.exceptions.NetlinkError: # FIXME: There is a issue with NDB and ip rules deletion: # https://github.com/svinota/pyroute2/issues/771 # fixed on pyroute2 0.7.2 version, remove it when that version # is the minimal one supported LOG.debug(""This should not happen, skipping: NetlinkError "" ""deleting rule %s"", rule)",16,43
openstack%2Fovn-bgp-agent~master~I40d70829bfccb2df98b822afacbdab7da5a5ab7f,openstack/ovn-bgp-agent,master,I40d70829bfccb2df98b822afacbdab7da5a5ab7f,Add new privileged method implementations,MERGED,2023-06-07 15:27:20.000000000,2023-06-19 09:19:13.000000000,2023-06-19 09:17:19.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-07 15:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5f24eec584554b1a5673545e5b97ed33b695c809', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 2, 'created': '2023-06-07 15:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4984b05d433e51517205d4296b3b98b6116e4dfc', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 3, 'created': '2023-06-07 16:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a6923a6cdb1659d27b6fb905a4ef948a062ade25', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 4, 'created': '2023-06-08 09:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6f3d60516550d185cf35a8ab38352634172ae0b3', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 5, 'created': '2023-06-08 10:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/851bc5b245b2c8000ebe7bf58241a119d983538d', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 6, 'created': '2023-06-08 10:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5cb1c34999e1365ab35c9dbee629a933f0a2cccb', 'message': 'WIP == Add privileged method\n\nThis patch add the following privileged methods:\n* create_interface\n* delete_interface\n* get_link_id\n\nThese method use pyroute2 IPRoute class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nRelated-Bug: #TBD\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 7, 'created': '2023-06-08 11:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/fee46e2f115c0569094e198854e0d69928180733', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nCloses-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 8, 'created': '2023-06-08 11:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/5cf49ff16294d249ab3271d4fbe62b3fba55c1be', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nCloses-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 9, 'created': '2023-06-08 11:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6a0b05d7e4a83734bf7298c2783de42dbccf82d0', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nCloses-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 10, 'created': '2023-06-09 10:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6b1cd77599925f4509d7274434f7cee96e68bbb5', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 11, 'created': '2023-06-09 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/90376dcd2cf47b9ee8c8b9f52c6d7b198896f6b1', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 12, 'created': '2023-06-09 14:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8be33f088089853405c40048b9fad2135038593b', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 13, 'created': '2023-06-09 14:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2d65981da9cdd8743cf9b0d2fbe33ea0216e9f39', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 14, 'created': '2023-06-09 14:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d0ac6d7219b06247358c3990982266798866b22c', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 15, 'created': '2023-06-09 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/203117ef8d196d10a6519ac88148caa0ff8d5435', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 16, 'created': '2023-06-12 18:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e8b23f989ab183d3ffa2d3484ef533dcdfe81a4c', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 17, 'created': '2023-06-12 18:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/442e9d2668499bb137027c27d2b461970ba59b80', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 18, 'created': '2023-06-12 18:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3fd7217870af97a4215840bc62d7dcc3077d6564', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 19, 'created': '2023-06-12 21:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f47b8ee88f93299191aaf656d2d7428b5b88adc6', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 20, 'created': '2023-06-13 12:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2ed3f4f92416deba4767fd769daee836bf00526a', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 21, 'created': '2023-06-13 12:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/238eb4cf49d6dd6a1c2cc445515f9f84454f5418', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 22, 'created': '2023-06-13 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/65794eb8bae9f75e4f9230e7cd20d6c175f8d260', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 23, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/da51cc9c0235c92e1c4b6bd5a91b9a9a7a5680e5', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 24, 'created': '2023-06-15 08:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bd659d287760f67d7263115e4db4d98c44ba1817', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}, {'number': 25, 'created': '2023-06-15 10:13:53.000000000', 'files': ['ovn_bgp_agent/tests/utils.py', 'ovn_bgp_agent/tests/functional/base.py', 'ovn_bgp_agent/exceptions.py', 'test-requirements.txt', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/functional/__init__.py', 'ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_stretched_l2_bgp_driver.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_bgp_agent/tests/functional/privileged/__init__.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/base.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1cbfe7823ccd1e6104529f832cddbf3f9b159eff', 'message': 'Add new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* create_interface: this method will be used to create dummy, vlan,\n  vxlan, bridge and vrf interfaces.\n* delete_interface: to delete a interface\n* set_link_attribute: to set UP the interface\n* add_ip_address: to add an IP address on a interface\n* delete_ip_address: to delete an IP address on a interface\n* set_master_for_device: defines a master device for a second one\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nThis patch is creating the functional test framework, in order to\ntest these new methods.\n\nThis patch is also adding a new CI job to the gate (to be defined).\n\nPartial-Bug: #2022357\nChange-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f\n'}]",107,885506,1cbfe7823ccd1e6104529f832cddbf3f9b159eff,76,5,25,16688,,,0,"Add new privileged method implementations

This patch add the following new privileged methods implementations:
* create_interface: this method will be used to create dummy, vlan,
  vxlan, bridge and vrf interfaces.
* delete_interface: to delete a interface
* set_link_attribute: to set UP the interface
* add_ip_address: to add an IP address on a interface
* delete_ip_address: to delete an IP address on a interface
* set_master_for_device: defines a master device for a second one

These new method use pyroute2 IPRoute class, replacing the use of the
NDB class.

This patch is creating the functional test framework, in order to
test these new methods.

This patch is also adding a new CI job to the gate (to be defined).

Partial-Bug: #2022357
Change-Id: I40d70829bfccb2df98b822afacbdab7da5a5ab7f
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/06/885506/11 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/tests/functional/base.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_bgp_agent/tests/functional/__init__.py', 'ovn_bgp_agent/tests/functional/privileged/__init__.py']",7,5f24eec584554b1a5673545e5b97ed33b695c809,bug/2022357,,,238,1
openstack%2Fovn-bgp-agent~master~Iff355d59d7e3bfe4434162b96391f9c7634accd9,openstack/ovn-bgp-agent,master,Iff355d59d7e3bfe4434162b96391f9c7634accd9,Add more new privileged method implementations,MERGED,2023-06-12 07:49:55.000000000,2023-06-19 09:17:20.000000000,2023-06-19 09:17:20.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-12 07:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9af2b99c32af3e3681c36435a28a71a717d7d33c', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 2, 'created': '2023-06-12 13:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7adc4e8d63c19d7936c4e826fe3177447ae5171d', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 3, 'created': '2023-06-12 13:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7b555169db1a8d4b60e61c49b9166d913dcbaa8d', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 4, 'created': '2023-06-12 21:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f266d95f46081bef99abe1c9a74d9a88b721a9a8', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 5, 'created': '2023-06-13 00:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/fccad63b16fbef9148861f35eada98074afd3dfc', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 6, 'created': '2023-06-13 06:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8bc97d0e43aeb51599856f63e55b767b30e4f417', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 7, 'created': '2023-06-13 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a2f7c69fb9d3d416e87e860f6cf8ee77096183c4', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 8, 'created': '2023-06-13 10:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d3197ddd6407c8dce7fee28f408ce6d20e9ea59b', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 9, 'created': '2023-06-13 13:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6a30fdf30bed0dc432653c00a3bb50becd0e982d', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 10, 'created': '2023-06-13 14:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a05168307997102ad3c4e2c6e59785706f7d0250', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 11, 'created': '2023-06-13 14:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e1264a34730bca46e47e83180ad4bffe9e1ba514', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 12, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b7a9d5a39dd8c7d4224655819e2570b74ff641e1', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 13, 'created': '2023-06-15 08:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c618b71362003f0d33177d96ddf95131dc70b0b9', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 14, 'created': '2023-06-15 08:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/f3c787daa005d32729239d869c775612777ffd2b', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}, {'number': 15, 'created': '2023-06-15 10:13:53.000000000', 'files': ['ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6f1d816f762123cd110724aa97d165020ea71739', 'message': 'Add more new privileged method implementations\n\nThis patch add the following new privileged methods implementations:\n* route_create\n* route_delete\n* add_unreachable_route\n\nThese new method use pyroute2 IPRoute class, replacing the use of the\nNDB class.\n\nPartial-Bug: #2022357\nChange-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9\n'}]",19,885781,6f1d816f762123cd110724aa97d165020ea71739,44,5,15,23567,,,0,"Add more new privileged method implementations

This patch add the following new privileged methods implementations:
* route_create
* route_delete
* add_unreachable_route

These new method use pyroute2 IPRoute class, replacing the use of the
NDB class.

Partial-Bug: #2022357
Change-Id: Iff355d59d7e3bfe4434162b96391f9c7634accd9
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/81/885781/14 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/privileged/linux_net.py'],1,9af2b99c32af3e3681c36435a28a71a717d7d33c,bug/2022357,"RTN_UNREACHABLE = 7 _run_iproute_route('add', **route) _run_iproute_route('del', **route) for ip_version in [4, 6]: kwargs = {'dst': ""default"", 'family': ip_version, 'vrf': vrf_name, 'type': RTN_UNREACHABLE, 'metrics': {""mtu"": 4278198272}} _run_iproute_route('add', **kwargs)def _translate_ip_route_exception(e, kwargs): if e.code == errno.EEXIST: # Already exists LOG.debug(""Route %s already exists."", kwargs) elif e.code == errno.ENOENT: # Not found LOG.debug(""Route already deleted: %s"", kwargs) else: raise def _run_iproute_route(command, **kwargs): try: with iproute.IPRoute() as ip: ip.route(command, **kwargs) except netlink_exceptions.NetlinkError as e: _translate_ip_route_exception(e, kwargs) "," try: with pyroute2.NDB() as ndb: ndb.routes.create(route).commit() except KeyError: # Already exists LOG.debug(""Route %s already exists."", route) with pyroute2.NDB() as ndb: try: with ndb.routes[route] as r: r.remove() except (KeyError, ValueError): LOG.debug(""Route already deleted: {}"".format(route)) # FIXME: This should use pyroute instead but I didn't find # out how env = dict(os.environ) env['LC_ALL'] = 'C' for ip_version in [-4, -6]: command = [""ip"", ip_version, ""route"", ""add"", ""vrf"", vrf_name, ""unreachable"", ""default"", ""metric"", ""4278198272""] try: processutils.execute(*command, env_variables=env) except Exception as e: if ""RTNETLINK answers: File exists"" in e.stderr: continue LOG.error(""Unable to execute %s. Exception: %s"", command, e) raise",27,25
openstack%2Foctavia~master~Idee0df28a88b4459fbd0a9464c36fcc3cfed9869,openstack/octavia,master,Idee0df28a88b4459fbd0a9464c36fcc3cfed9869,Disable debian-networking also for ubuntu,ABANDONED,2023-05-30 14:25:39.000000000,2023-06-19 09:17:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 14:25:39.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe165381e6a6cbd7c027d6e3ebdb3fd4080ec6de', 'message': ""Disable debian-networking also for ubuntu\n\nAs network is configured via cloud-init in\namphora images, interfaces eth0, eth1 shouldn't\nbe created as it is already done for centos-minimal.\n\nSee [1] and [2]\n\n[1] https://bugs.launchpad.net/snap-octavia-diskimage-retrofit/+bug/1909976\n[2] https://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/27/commits\n\nChange-Id: Idee0df28a88b4459fbd0a9464c36fcc3cfed9869\n""}]",0,884709,fe165381e6a6cbd7c027d6e3ebdb3fd4080ec6de,3,1,1,27339,,,0,"Disable debian-networking also for ubuntu

As network is configured via cloud-init in
amphora images, interfaces eth0, eth1 shouldn't
be created as it is already done for centos-minimal.

See [1] and [2]

[1] https://bugs.launchpad.net/snap-octavia-diskimage-retrofit/+bug/1909976
[2] https://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/27/commits

Change-Id: Idee0df28a88b4459fbd0a9464c36fcc3cfed9869
",git fetch https://review.opendev.org/openstack/octavia refs/changes/09/884709/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,fe165381e6a6cbd7c027d6e3ebdb3fd4080ec6de,,"if [ ""${AMP_BASEOS}"" = ""ubuntu-minimal"" ]; then export DIB_APT_MINIMAL_CREATE_INTERFACES=0 fi ",,4,0
openstack%2Fnetworking-bgpvpn~master~I24900290582a52b5d4ca0fcb68868c935b2222a8,openstack/networking-bgpvpn,master,I24900290582a52b5d4ca0fcb68868c935b2222a8,Imported Translations from Zanata,MERGED,2023-06-19 04:53:49.000000000,2023-06-19 09:12:59.000000000,2023-06-19 09:12:01.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 04:53:49.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5aa10bec919229af62bdcb45ee1c0bb236fa3b2b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I24900290582a52b5d4ca0fcb68868c935b2222a8\n'}]",0,886353,5aa10bec919229af62bdcb45ee1c0bb236fa3b2b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I24900290582a52b5d4ca0fcb68868c935b2222a8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/53/886353/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,5aa10bec919229af62bdcb45ee1c0bb236fa3b2b,zanata/translations,"""POT-Creation-Date: 2023-06-09 10:05+0000\n""""PO-Revision-Date: 2023-06-18 11:54+0000\n""msgid ""2023.1 Series Release Notes"" msgstr ""2023.1 Series Release Notes"" ","""POT-Creation-Date: 2023-02-14 04:42+0000\n""""PO-Revision-Date: 2023-01-26 10:19+0000\n""",5,2
openstack%2Fpuppet-openstacklib~master~I410875fe772863548e7804faca3dd70b2f1f7456,openstack/puppet-openstacklib,master,I410875fe772863548e7804faca3dd70b2f1f7456,Add type to accept service default value,ABANDONED,2023-06-19 08:10:40.000000000,2023-06-19 08:36:30.000000000,,[{'_account_id': 7888}],"[{'number': 1, 'created': '2023-06-19 08:10:40.000000000', 'files': ['types/service_default.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b3ea7a1b0fee2210bcea624a268ab15b5b1e0003', 'message': 'Add type to accept service default value\n\nThis introduces the new Openstacklib::ServiceDefault type, which can\nbe used to define types for parameters which accepts os_service_default\nfact value.\n\nChange-Id: I410875fe772863548e7804faca3dd70b2f1f7456\n'}]",3,886378,b3ea7a1b0fee2210bcea624a268ab15b5b1e0003,4,1,1,9816,,,0,"Add type to accept service default value

This introduces the new Openstacklib::ServiceDefault type, which can
be used to define types for parameters which accepts os_service_default
fact value.

Change-Id: I410875fe772863548e7804faca3dd70b2f1f7456
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/78/886378/1 && git format-patch -1 --stdout FETCH_HEAD,['types/service_default.rb'],1,b3ea7a1b0fee2210bcea624a268ab15b5b1e0003,,type Openstacklib::ServiceDefault = Enum['<SERVICE DEFAULT>'] ,,1,0
openstack%2Foslo.middleware~master~I5d42c30498b3e38d9ff979aea02232a13c5aa261,openstack/oslo.middleware,master,I5d42c30498b3e38d9ff979aea02232a13c5aa261,fix spelling,MERGED,2023-06-16 07:26:36.000000000,2023-06-19 08:28:48.000000000,2023-06-19 08:27:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-16 07:26:36.000000000', 'files': ['doc/source/configuration/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/ad9c2042cf9dc37c14260ca50f5665048354fc44', 'message': 'fix spelling\n\nChange-Id: I5d42c30498b3e38d9ff979aea02232a13c5aa261\n'}]",0,886245,ad9c2042cf9dc37c14260ca50f5665048354fc44,7,2,1,8064,,,0,"fix spelling

Change-Id: I5d42c30498b3e38d9ff979aea02232a13c5aa261
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/45/886245/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/index.rst'],1,ad9c2042cf9dc37c14260ca50f5665048354fc44,," healthcheck middleware does not yet use oslo.config, see :doc:`../reference/healthcheck_plugins`"," healtcheck middleware does not yet use oslo.config, see :doc:`../reference/healthcheck_plugins`",1,1
openstack%2Fnova~master~I3b17f386325b8f42c0c374f766fb21c520161a59,openstack/nova,master,I3b17f386325b8f42c0c374f766fb21c520161a59,Translate VF network capabilities to port binding,NEW,2023-05-25 19:53:08.000000000,2023-06-19 08:24:56.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 19:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f3722f97db56eb128ba19639ddec932210e084b', 'message': 'Translate VF network capabilities to port binding\n\nLibvirt\'s node device driver accumulates and reports information\nabout host devices. Network capabilities reported by node device\ndriver for NIC contain information about HW offloads supported\nby this NIC.\n\nOne of possible features reported by node device driver is\nswitchdev: a NIC capability to implement VFs similar to actual\nHW switch ports (also referred to as SR-IOV OVS hardware offload).\nFrom neutron perspective, vnic-type should be set to ""direct"" and\n""switchdev"" capability should be added to port binding profile to\nenable HW offload (there are also configuration steps on compute\nhosts to tune NIC config).\n\nThis patch was written to automatically translate ""switchdev"" from\nVF network capabilities reported by node device driver to Neutron\nport binding profile and allow user to skip manual step that\nrequires admin priveleges.\n\nOther capabilities are also translated: they are not used right\nnow, but privide visibility and can be utilized later.\n\nCloses-bug: #2020813\nCloses-bug: #2008238\nChange-Id: I3b17f386325b8f42c0c374f766fb21c520161a59\n'}, {'number': 2, 'created': '2023-05-29 13:23:37.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'nova/tests/fixtures/libvirt_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f22716e226b92ad3526a5b9bd55eace894b19a7f', 'message': 'Translate VF network capabilities to port binding\n\nLibvirt\'s node device driver accumulates and reports information\nabout host devices. Network capabilities reported by node device\ndriver for NIC contain information about HW offloads supported\nby this NIC.\n\nOne of possible features reported by node device driver is\nswitchdev: a NIC capability to implement VFs similar to actual\nHW switch ports (also referred to as SR-IOV OVS hardware offload).\nFrom neutron perspective, vnic-type should be set to ""direct"" and\n""switchdev"" capability should be added to port binding profile to\nenable HW offload (there are also configuration steps on compute\nhosts to tune NIC config).\n\nThis patch was written to automatically translate ""switchdev"" from\nVF network capabilities reported by node device driver to Neutron\nport binding profile and allow user to skip manual step that\nrequires admin priveleges.\n\nOther capabilities are also translated: they are not used right\nnow, but privide visibility and can be utilized later.\n\nCloses-bug: #2020813\nCloses-bug: #2008238\nChange-Id: I3b17f386325b8f42c0c374f766fb21c520161a59\n'}]",2,884439,f22716e226b92ad3526a5b9bd55eace894b19a7f,9,2,2,19234,,,0,"Translate VF network capabilities to port binding

Libvirt's node device driver accumulates and reports information
about host devices. Network capabilities reported by node device
driver for NIC contain information about HW offloads supported
by this NIC.

One of possible features reported by node device driver is
switchdev: a NIC capability to implement VFs similar to actual
HW switch ports (also referred to as SR-IOV OVS hardware offload).
From neutron perspective, vnic-type should be set to ""direct"" and
""switchdev"" capability should be added to port binding profile to
enable HW offload (there are also configuration steps on compute
hosts to tune NIC config).

This patch was written to automatically translate ""switchdev"" from
VF network capabilities reported by node device driver to Neutron
port binding profile and allow user to skip manual step that
requires admin priveleges.

Other capabilities are also translated: they are not used right
now, but privide visibility and can be utilized later.

Closes-bug: #2020813
Closes-bug: #2008238
Change-Id: I3b17f386325b8f42c0c374f766fb21c520161a59
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/884439/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",3,0f3722f97db56eb128ba19639ddec932210e084b,bug/2020813, # Update port binding capabilities using PCI device's network # capabilities if they exist. pci_net_caps = pci_dev.network_caps if pci_net_caps: vf_profile.update({'capabilities': pci_net_caps}) ,,19,2
openstack%2Fnova~master~If825375fe4bbc7c3a7f13e633fd6969ac4ded263,openstack/nova,master,If825375fe4bbc7c3a7f13e633fd6969ac4ded263,Fix live migration break group policy simultaneously,ABANDONED,2019-04-12 05:24:09.000000000,2023-06-19 08:23:07.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 8768}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19124}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 28706}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-04-12 05:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bac45de1589c1903bdece16d6656a9af81ac5b54', 'message': '[WIP] Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 2, 'created': '2019-04-15 01:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0b0c1e14d986e2d4722970ce66618394053c6f0', 'message': '[WIP] Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 3, 'created': '2019-04-15 10:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8d7c53f6f892d5fb162fe1a75ebceb239e366a2', 'message': '[WIP] Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 4, 'created': '2019-04-16 04:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2dc428c19c894fa9eb2341192f420819c5ac651', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 5, 'created': '2019-04-16 07:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fe0933ad362ca411a9e47d546642c37d44474da', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 6, 'created': '2019-04-18 05:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3539db67f74a4c4d0a65b8cf9127b8b30acf2c6', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 7, 'created': '2019-04-18 09:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c62910dc36ae5ee3bc678387b136d1e8f396531a', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 8, 'created': '2019-05-05 03:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f750c57fc464505069620a3a2fb758c22e4280f4', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 9, 'created': '2019-06-13 07:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e16add36704e1940a373a11f7096cc4762e97c', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 10, 'created': '2019-07-05 10:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94cae4441762910e46b012c4c3fe091b9699f5b2', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 11, 'created': '2019-07-09 15:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/052f0a18999ea944f38e7236a6e10503d76f8f2a', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 12, 'created': '2019-07-10 02:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32555bdbfaa1e5e2e5a4011410fd4085c8981eca', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 13, 'created': '2019-07-10 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b642a8756252c1bcdc3ad89b20957ba465a5424', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 14, 'created': '2019-08-13 11:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/127c9dca360301cf5452239ded1f3e0169ae972a', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 15, 'created': '2019-08-14 03:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f805b4220f9efc9bddf19d32d88a6978fb539bea', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 16, 'created': '2019-08-21 03:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/247e29af4fc1d97bc14d2054851726231f4cd454', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 17, 'created': '2019-09-05 07:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d37fb5a2fba4a0dcba46817269e97df46fc574', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 18, 'created': '2019-09-09 09:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/566b771207eaf0ad66a38163a2bea5f5fbb76122', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 19, 'created': '2019-09-16 05:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98f5d535a942559d74f5bc585e538584c202f542', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 20, 'created': '2019-09-17 06:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3976517c069201825ce313d2b1fadb0ed425e381', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 21, 'created': '2019-12-03 02:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/561001ae965ce05410b013d93b45a099359303b7', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 22, 'created': '2019-12-04 02:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e159d9ce226540177c5bd95d3fe4f30b8168882f', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 23, 'created': '2019-12-16 03:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f09affb60cd2905701c41aa69d89eb82468db267', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 24, 'created': '2019-12-16 06:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77e58091f0be07c072defe603a088427c8234eff', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}, {'number': 25, 'created': '2019-12-17 08:29:03.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7e2e783a41338d2e76e317f51b7572f19862ae81', 'message': 'Fix live migration break group policy simultaneously\n\nNow we will do later check for creating instances and\nevacuation. All of them will cause race.\n\nHere we also call later check for live migration.\n\nChange-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263\nCloses-Bug: 1821755\n'}]",6,651969,7e2e783a41338d2e76e317f51b7572f19862ae81,236,31,25,28706,,,0,"Fix live migration break group policy simultaneously

Now we will do later check for creating instances and
evacuation. All of them will cause race.

Here we also call later check for live migration.

Change-Id: If825375fe4bbc7c3a7f13e633fd6969ac4ded263
Closes-Bug: 1821755
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/651969/24 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/rpcapi.py']",2,bac45de1589c1903bdece16d6656a9af81ac5b54,bug/1821755," * 5.2 - Add migration to pre_live_migration host, migrate_data, migration): version = '5.1' kw = {'instance': instance, 'block_migration': block_migration, 'disk': disk, 'migrate_data': migrate_data, 'migration': migration} if not client.can_send_version(version): del kw['migration'] version = '5.0' return cctxt.call(ctxt, 'pre_live_migration', **kw)"," host, migrate_data): version = '5.0' return cctxt.call(ctxt, 'pre_live_migration', instance=instance, block_migration=block_migration, disk=disk, migrate_data=migrate_data)",26,8
openstack%2Fdesignate~master~Id9c796081ba9b0ed87135f473859720a77879cb4,openstack/designate,master,Id9c796081ba9b0ed87135f473859720a77879cb4,Imported Translations from Zanata,MERGED,2023-06-18 04:02:15.000000000,2023-06-19 07:25:15.000000000,2023-06-19 07:24:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-18 04:02:15.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/3621b9d1b1123f9004ebf07b026ed00ca53a9b76', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id9c796081ba9b0ed87135f473859720a77879cb4\n'}]",1,886334,3621b9d1b1123f9004ebf07b026ed00ca53a9b76,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id9c796081ba9b0ed87135f473859720a77879cb4
",git fetch https://review.opendev.org/openstack/designate refs/changes/34/886334/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3621b9d1b1123f9004ebf07b026ed00ca53a9b76,zanata/translations,"""POT-Creation-Date: 2023-06-08 16:18+0000\n""""PO-Revision-Date: 2023-06-17 02:38+0000\n""msgid ""11.0.2-7"" msgstr ""11.0.2-7""msgid ""12.1.0-11"" msgstr ""12.1.0-11""msgid ""16.0.0-11"" msgstr ""16.0.0-11"" msgid ""16.0.0-41"" msgstr ""16.0.0-41""""Fixed an issue where zones shared with other projects may not be visible "" ""when a zone list or zone show request is made by the other projects."" msgstr """" ""Fixed an issue where zones shared with other projects may not be visible "" ""when a zone list or zone show request is made by the other projects."" msgid """"","""POT-Creation-Date: 2023-05-02 19:37+0000\n""""PO-Revision-Date: 2023-05-08 10:13+0000\n""msgid ""11.0.2-6"" msgstr ""11.0.2-6""msgid ""12.1.0-10"" msgstr ""12.1.0-10""msgid ""16.0.0-15"" msgstr ""16.0.0-15"" msgid ""16.0.0-8"" msgstr ""16.0.0-8""",17,10
openstack%2Fceilometer~master~I6ef66c5a7da965caef6544f7f3b7b4e90e7aaec6,openstack/ceilometer,master,I6ef66c5a7da965caef6544f7f3b7b4e90e7aaec6,Imported Translations from Zanata,MERGED,2023-06-18 03:03:04.000000000,2023-06-19 06:28:21.000000000,2023-06-19 06:27:23.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-18 03:03:04.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/193836574fb287a1f91c2656be89d0da393cb714', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6ef66c5a7da965caef6544f7f3b7b4e90e7aaec6\n'}]",0,886331,193836574fb287a1f91c2656be89d0da393cb714,9,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6ef66c5a7da965caef6544f7f3b7b4e90e7aaec6
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/31/886331/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,193836574fb287a1f91c2656be89d0da393cb714,zanata/translations,"""POT-Creation-Date: 2023-06-15 19:40+0000\n""""PO-Revision-Date: 2023-06-17 02:35+0000\n""msgid ""16.0.1-10"" msgstr ""16.0.1-10""msgid ""18.1.0"" msgstr ""18.1.0""msgid ""19.1.0"" msgstr ""19.1.0""msgid ""20.0.0-11"" msgstr ""20.0.0-11""","""POT-Creation-Date: 2023-04-24 15:58+0000\n""""PO-Revision-Date: 2023-05-08 09:55+0000\n""msgid ""16.0.1-8"" msgstr ""16.0.1-8""msgid ""18.0.0-11"" msgstr ""18.0.0-11""msgid ""19.0.0-11"" msgstr ""19.0.0-11""msgid ""20.0.0-7"" msgstr ""20.0.0-7""",10,10
openstack%2Fcharm-nova-k8s~main~I6c18f1534a80e3a5ddcc61ac6433e09e5684bc35,openstack/charm-nova-k8s,main,I6c18f1534a80e3a5ddcc61ac6433e09e5684bc35,Fix typo in service-user section,MERGED,2023-06-16 16:18:46.000000000,2023-06-19 05:55:56.000000000,2023-06-19 05:34:01.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 16:18:46.000000000', 'files': ['src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/cfc28b28b77467ad786e1cbc582eec9ffa9f148a', 'message': 'Fix typo in service-user section\n\nChange-Id: I6c18f1534a80e3a5ddcc61ac6433e09e5684bc35\n'}]",2,886285,cfc28b28b77467ad786e1cbc582eec9ffa9f148a,9,2,1,12549,,,0,"Fix typo in service-user section

Change-Id: I6c18f1534a80e3a5ddcc61ac6433e09e5684bc35
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/85/886285/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/parts/section-service-user'],1,cfc28b28b77467ad786e1cbc582eec9ffa9f148a,service-token-fix,project_domain_id = {{ identity_service.service_domain_id }},project_domain_id = {{ identity_service.service_project_id }},1,1
openstack%2Fcharm-neutron-k8s~main~I3721bd67c617acf185cd31de463fde3a3a2ad55a,openstack/charm-neutron-k8s,main,I3721bd67c617acf185cd31de463fde3a3a2ad55a,Fix typo in service-user section,MERGED,2023-06-16 16:18:54.000000000,2023-06-19 05:25:38.000000000,2023-06-19 05:01:10.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 16:18:54.000000000', 'files': ['src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/cebf9b08f585ebfc54a06445f682aeb07f0a8d2e', 'message': 'Fix typo in service-user section\n\nChange-Id: I3721bd67c617acf185cd31de463fde3a3a2ad55a\n'}]",2,886286,cebf9b08f585ebfc54a06445f682aeb07f0a8d2e,9,2,1,12549,,,0,"Fix typo in service-user section

Change-Id: I3721bd67c617acf185cd31de463fde3a3a2ad55a
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/86/886286/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/parts/section-service-user'],1,cebf9b08f585ebfc54a06445f682aeb07f0a8d2e,service-token-fix,project_domain_id = {{ identity_service.service_domain_id }},project_domain_id = {{ identity_service.service_project_id }},1,1
openstack%2Fcharm-cinder-k8s~main~I8d0714d39a7bfc6488cab7a69930f7f8d7477511,openstack/charm-cinder-k8s,main,I8d0714d39a7bfc6488cab7a69930f7f8d7477511,Fix typo in service-user section,MERGED,2023-06-16 16:18:25.000000000,2023-06-19 04:37:57.000000000,2023-06-19 04:11:54.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 16:18:25.000000000', 'files': ['src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/8f4e4f9981a6bf676c17df2ceb928aa2e753d550', 'message': 'Fix typo in service-user section\n\nChange-Id: I8d0714d39a7bfc6488cab7a69930f7f8d7477511\n'}]",0,886283,8f4e4f9981a6bf676c17df2ceb928aa2e753d550,7,2,1,12549,,,0,"Fix typo in service-user section

Change-Id: I8d0714d39a7bfc6488cab7a69930f7f8d7477511
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/83/886283/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/parts/section-service-user'],1,8f4e4f9981a6bf676c17df2ceb928aa2e753d550,service-token-fix,project_domain_id = {{ identity_service.service_domain_id }},project_domain_id = {{ identity_service.service_project_id }},1,1
openstack%2Fkolla-ansible~stable%2Fyoga~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,stable/yoga,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-06-13 10:22:18.000000000,2023-06-19 04:20:55.000000000,2023-06-19 04:19:23.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-13 10:22:18.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09a8f69ce8b21ed55a7ca34aec089f055ab334dc', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)\n""}]",2,885963,09a8f69ce8b21ed55a7ca34aec089f055ab334dc,12,10,1,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/885963/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2']",3,09a8f69ce8b21ed55a7ca34aec089f055ab334dc,fix-cyborg-service,service_type = accelerator,,11,4
openstack%2Fkolla-ansible~stable%2Fwallaby~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,stable/wallaby,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-06-13 10:25:57.000000000,2023-06-19 04:20:54.000000000,2023-06-19 04:19:28.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-13 10:25:57.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69179ea9b1b37fd881acb467e775d24b19adfe61', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)\n(cherry picked from commit 5988fe0a207e7f5a3de2093e84dd7bdd208eb8ad)\n""}]",0,885965,69179ea9b1b37fd881acb467e775d24b19adfe61,11,10,1,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)
(cherry picked from commit 5988fe0a207e7f5a3de2093e84dd7bdd208eb8ad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/885965/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2']",3,69179ea9b1b37fd881acb467e775d24b19adfe61,fix-cyborg-service,service_type = accelerator,,12,5
openstack%2Fkolla-ansible~stable%2Fxena~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,stable/xena,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-06-13 10:25:08.000000000,2023-06-19 04:20:46.000000000,2023-06-19 04:19:26.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-13 10:25:08.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5988fe0a207e7f5a3de2093e84dd7bdd208eb8ad', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)\n""}]",0,885964,5988fe0a207e7f5a3de2093e84dd7bdd208eb8ad,11,10,1,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/885964/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2']",3,5988fe0a207e7f5a3de2093e84dd7bdd208eb8ad,fix-cyborg-service,service_type = accelerator,,12,5
openstack%2Fkolla-ansible~stable%2Fzed~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,stable/zed,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-06-13 10:20:30.000000000,2023-06-19 04:20:44.000000000,2023-06-19 04:19:21.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-13 10:20:30.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/99511eede7f6a39e27cd88b1cc85f96300f6ffdb', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)\n""}]",0,885962,99511eede7f6a39e27cd88b1cc85f96300f6ffdb,11,10,1,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/885962/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2']",3,99511eede7f6a39e27cd88b1cc85f96300f6ffdb,fix-cyborg-service,service_type = accelerator,service_type = cyborg,11,5
openstack%2Fkolla-ansible~stable%2F2023.1~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,stable/2023.1,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-06-13 10:20:09.000000000,2023-06-19 04:20:39.000000000,2023-06-19 04:19:19.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-06-13 10:20:09.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a12deeb36c065034b72bedeaa7c72a8ed1afdf56', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)\n""}]",1,885961,a12deeb36c065034b72bedeaa7c72a8ed1afdf56,14,10,1,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e8250d2824b4d2280fa71e7671d84f126f408db7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/885961/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2']",3,a12deeb36c065034b72bedeaa7c72a8ed1afdf56,fix-cyborg-service,service_type = accelerator,service_type = cyborg,11,5
openstack%2Fkolla~master~I76ac61604f5b0739ec27973a233a65e4c55c8c32,openstack/kolla,master,I76ac61604f5b0739ec27973a233a65e4c55c8c32,Fix Venus containers built from correct branch,MERGED,2023-06-13 10:40:56.000000000,2023-06-19 01:14:55.000000000,2023-06-19 01:13:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-13 10:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e389a2b043e584f8606a0bd079485ccff23b534', 'message': 'Fix Venus containers built from correct branch\n\nCloses-Bug: #2023628\nChange-Id: I76ac61604f5b0739ec27973a233a65e4c55c8c32\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-06-13 11:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e55e6adc5fc1b1622003f016f43157aea92248a3', 'message': 'Fix Venus containers built from correct branch\n\nCloses-Bug: #2023628\nChange-Id: I76ac61604f5b0739ec27973a233a65e4c55c8c32\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-06-14 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c7ce9ec1b648a525a71407fa113e8367be765b84', 'message': 'Fix Venus containers built from correct branch\n\nCloses-Bug: #2023628\nChange-Id: I76ac61604f5b0739ec27973a233a65e4c55c8c32\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-06-15 07:32:08.000000000', 'files': ['kolla/common/sources.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0804cd04cd2e47cf18666fc420ebd42e69aae75', 'message': 'Fix Venus containers built from correct branch\n\nCloses-Bug: #2023628\nChange-Id: I76ac61604f5b0739ec27973a233a65e4c55c8c32\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",11,885967,b0804cd04cd2e47cf18666fc420ebd42e69aae75,43,7,4,14200,,,0,"Fix Venus containers built from correct branch

Closes-Bug: #2023628
Change-Id: I76ac61604f5b0739ec27973a233a65e4c55c8c32
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/67/885967/4 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/sources.py'],1,5e389a2b043e584f8606a0bd079485ccff23b534,fix-venus," 'venus-${openstack_branch}.tar.gz')},"," # FIXME(mgoddard): Revert to ${openstack_branch} when a stable-yoga tarball # exists. 'venus-master.tar.gz')},",1,3
openstack%2Fpuppet-openstack-integration~master~Ide3214ceeac605b27edead4d43650c778c77cda6,openstack/puppet-openstack-integration,master,Ide3214ceeac605b27edead4d43650c778c77cda6,Downgrade and pin puppetlabs-apt to v9.0.2,MERGED,2023-06-14 17:23:05.000000000,2023-06-19 01:11:38.000000000,2023-06-19 01:11:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 17:23:05.000000000', 'files': ['Puppetfile', 'external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/21612738b40444026d01a4a346210de66488db23', 'message': 'Downgrade and pin puppetlabs-apt to v9.0.2\n\npuppetlabs-apt v9.1.0 requires puppetlabs-stdlib 9.0.0 which we have\nnot yet fully adapted to. This pins the module to an older version.\n\nChange-Id: Ide3214ceeac605b27edead4d43650c778c77cda6\n'}]",3,886114,21612738b40444026d01a4a346210de66488db23,14,3,1,9816,,,0,"Downgrade and pin puppetlabs-apt to v9.0.2

puppetlabs-apt v9.1.0 requires puppetlabs-stdlib 9.0.0 which we have
not yet fully adapted to. This pins the module to an older version.

Change-Id: Ide3214ceeac605b27edead4d43650c778c77cda6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/14/886114/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'external_modules.txt']",2,21612738b40444026d01a4a346210de66488db23,,"puppetlabs/puppetlabs-apt,v9.0.2",puppetlabs/puppetlabs-apt,2,2
openstack%2Fkolla~master~Id34d9b8d6ddf7ca363ded63a18fdfd11173ddc39,openstack/kolla,master,Id34d9b8d6ddf7ca363ded63a18fdfd11173ddc39,DNM test bifrost build,ABANDONED,2023-06-18 20:39:47.000000000,2023-06-18 22:29:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-18 20:39:47.000000000', 'files': ['kolla/image/unbuildable.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b66ac5dd6dfb653b5138cee7de5fd29c3593f6a', 'message': 'DNM test bifrost build\n\nRevert ""rocky/centos: mark bifrost buildable""\n\nThis reverts commit 878e9c0524e97dda7d61c6161d33e26052d6285f.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/886344\nChange-Id: Id34d9b8d6ddf7ca363ded63a18fdfd11173ddc39\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,886346,6b66ac5dd6dfb653b5138cee7de5fd29c3593f6a,4,1,1,14200,,,0,"DNM test bifrost build

Revert ""rocky/centos: mark bifrost buildable""

This reverts commit 878e9c0524e97dda7d61c6161d33e26052d6285f.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/886344
Change-Id: Id34d9b8d6ddf7ca363ded63a18fdfd11173ddc39
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/886346/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/unbuildable.py'],1,6b66ac5dd6dfb653b5138cee7de5fd29c3593f6a,fix-bifrost-build," ""bifrost-base"", # EPEL-related breakage ""bifrost-base"", # EPEL-related breakage",,2,0
openstack%2Frally-openstack~master~Ie2b42192b0233c3c30f08d2ef79de754922f012d,openstack/rally-openstack,master,Ie2b42192b0233c3c30f08d2ef79de754922f012d,Fix rally test can't update device_id,MERGED,2023-01-23 08:40:43.000000000,2023-06-18 21:59:17.000000000,2023-06-18 21:59:17.000000000,"[{'_account_id': 1736}, {'_account_id': 4428}, {'_account_id': 5948}, {'_account_id': 6172}, {'_account_id': 6835}, {'_account_id': 7369}, {'_account_id': 7428}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 11583}, {'_account_id': 11748}, {'_account_id': 12395}, {'_account_id': 19011}, {'_account_id': 20498}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2023-01-23 08:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/46379ec1e90f88c04d298a28ba4b666041394370', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 2, 'created': '2023-01-23 13:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cc92a503079500e996bb0c1c783e935539765745', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 3, 'created': '2023-01-23 15:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4e67413632abf0d976815415a2e2c8ce88f22c25', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 4, 'created': '2023-01-24 08:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/dc79954146420b6cc9e01538f97fd8eb4e2d4ee3', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 5, 'created': '2023-01-30 21:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e75bfab4dbd3e50481bef80a9badbb401d7e9058', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 6, 'created': '2023-05-24 09:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9a9ae2e2244cefb0f631a513d12fbc3a15dab568', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 7, 'created': '2023-05-31 10:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5ac9d8e3932ffcaa5a5c858b677d27de581776ac', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}, {'number': 8, 'created': '2023-06-18 18:31:33.000000000', 'files': ['rally_openstack/task/scenarios/neutron/trunk.py', 'tests/unit/task/scenarios/neutron/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/72f4e27e2d08404dacf0f166d4a7645bfc6ed1a6', 'message': ""Fix rally test can't update device_id\n\nIn neutron-lib new default policy disallowed create_port and update_port\nwith device_id parameter. This parameter is only for admin.\n\nBug #1986969\n\nChange-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d\n""}]",7,871452,72f4e27e2d08404dacf0f166d4a7645bfc6ed1a6,33,17,8,33607,,,0,"Fix rally test can't update device_id

In neutron-lib new default policy disallowed create_port and update_port
with device_id parameter. This parameter is only for admin.

Bug #1986969

Change-Id: Ie2b42192b0233c3c30f08d2ef79de754922f012d
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/52/871452/8 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/task/scenarios/neutron/trunk.py'],1,46379ec1e90f88c04d298a28ba4b666041394370,bug-1986969,," self._update_port(parent, {""device_id"": ""sometrunk""}) self._list_ports_by_device_id(""sometrunk"")",0,2
openstack%2Frally-openstack~master~I14185e3e013a3e80f05f87060cdea116da102abd,openstack/rally-openstack,master,I14185e3e013a3e80f05f87060cdea116da102abd,Require Rally>=3.4.0,MERGED,2023-06-18 09:53:51.000000000,2023-06-18 20:02:01.000000000,2023-06-18 20:02:01.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-18 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a224bd1662574b30c16970a7c60e23f29a20465b', 'message': 'Require Rally>=3.4.0\n\nChange-Id: I14185e3e013a3e80f05f87060cdea116da102abd\n'}, {'number': 2, 'created': '2023-06-18 17:30:22.000000000', 'files': ['Dockerfile', 'requirements.txt', 'tests/ci/rally_verify.py', 'upper-constraints.txt', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4ef9de16289ad495817805fa901582e7a9b03ae1', 'message': 'Require Rally>=3.4.0\n\nChange-Id: I14185e3e013a3e80f05f87060cdea116da102abd\n'}]",0,886335,4ef9de16289ad495817805fa901582e7a9b03ae1,9,2,2,9545,,,0,"Require Rally>=3.4.0

Change-Id: I14185e3e013a3e80f05f87060cdea116da102abd
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/35/886335/2 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'requirements.txt', 'upper-constraints.txt', 'CHANGELOG.rst']",4,a224bd1662574b30c16970a7c60e23f29a20465b,update_rally,Changed ~~~~~~~ * Bumped min required version of Rally to 3.4.0. ,,8,7
openstack%2Fcinder~stable%2F2023.1~I06b8c363c4017adfa1ad134ad7a8a0954c005e62,openstack/cinder,stable/2023.1,I06b8c363c4017adfa1ad134ad7a8a0954c005e62,Fix glance metadata properties filtering,MERGED,2023-06-05 13:03:08.000000000,2023-06-18 18:16:47.000000000,2023-06-07 19:57:33.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:03:08.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f542dd07b07162f39325a83fae67cda166e36798', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)\n'}]",2,885256,f542dd07b07162f39325a83fae67cda166e36798,15,3,1,14567,,,0,"Fix glance metadata properties filtering

Previous patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc
implemented filtering of glance ""os_glance..."" metadata
but its logic overlooked the fact that the glance metadata
to be filtered are actually in a ""properties"" sub-dict
as adjusted by the ""_merge_volume_image_meta"" method in
cinder/volume/api.py.

This patch re-invokes the filtering loop on
the ""properties"" sub-dict when it is present.

New unit test covers filtering in both cases.

Closes-bug: #1945500
Change-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62
(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/885256/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml']",3,f542dd07b07162f39325a83fae67cda166e36798,,"--- fixes: - | `Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: The original attempt at fixing this bug did not account for differences in how glance and cinder store image metadata, and as a result some image properties were not filtered out. This new improved fix addresses those differences and makes the filtering more thorough. ",,90,6
openstack%2Fcinder~stable%2Fzed~I06b8c363c4017adfa1ad134ad7a8a0954c005e62,openstack/cinder,stable/zed,I06b8c363c4017adfa1ad134ad7a8a0954c005e62,Fix glance metadata properties filtering,MERGED,2023-06-05 13:01:49.000000000,2023-06-18 13:22:37.000000000,2023-06-10 01:02:28.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-06-05 13:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dbe034d83ea400ffd04b3e1219ad06b0bd3e371', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)\n'}, {'number': 2, 'created': '2023-06-05 13:03:50.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7dad93bff14c8966d81ea164f1c400b02747e1db', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)\n(cherry picked from commit f542dd07b07162f39325a83fae67cda166e36798)\n'}]",8,885255,7dad93bff14c8966d81ea164f1c400b02747e1db,31,4,2,14567,,,0,"Fix glance metadata properties filtering

Previous patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc
implemented filtering of glance ""os_glance..."" metadata
but its logic overlooked the fact that the glance metadata
to be filtered are actually in a ""properties"" sub-dict
as adjusted by the ""_merge_volume_image_meta"" method in
cinder/volume/api.py.

This patch re-invokes the filtering loop on
the ""properties"" sub-dict when it is present.

New unit test covers filtering in both cases.

Closes-bug: #1945500
Change-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62
(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)
(cherry picked from commit f542dd07b07162f39325a83fae67cda166e36798)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/885255/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml']",3,5dbe034d83ea400ffd04b3e1219ad06b0bd3e371,,"--- fixes: - | `Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: The original attempt at fixing this bug did not account for differences in how glance and cinder store image metadata, and as a result some image properties were not filtered out. This new improved fix addresses those differences and makes the filtering more thorough. ",,90,6
openstack%2Fpython-openstackclient~master~I6181009a8b2ae7e632214364527ccc6fdd03fff9,openstack/python-openstackclient,master,I6181009a8b2ae7e632214364527ccc6fdd03fff9,Adopt sdk_fakes for compute.test_console,NEW,2023-06-07 13:43:54.000000000,2023-06-18 12:25:44.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/66f42ae4eb28065af612f3d1325bde5ddf14dc07', 'message': 'Adopt sdk_fakes for compute.test_console\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I6181009a8b2ae7e632214364527ccc6fdd03fff9\n'}, {'number': 2, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_console.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f2f620065e3ab73187f771dcc6907d1f026702b3', 'message': 'Adopt sdk_fakes for compute.test_console\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I6181009a8b2ae7e632214364527ccc6fdd03fff9\n'}]",2,885492,f2f620065e3ab73187f771dcc6907d1f026702b3,7,2,2,27900,,,0,"Adopt sdk_fakes for compute.test_console

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: I6181009a8b2ae7e632214364527ccc6fdd03fff9
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/92/885492/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/test_console.py'],1,66f42ae4eb28065af612f3d1325bde5ddf14dc07,fakes,from openstack.compute.v2.server import Server from openstack.test import fakes as sdk_fakes _server = sdk_fakes.generate_fake_resource(Server) _server = sdk_fakes.generate_fake_resource(Server), _server = compute_fakes.create_one_server() _server = compute_fakes.create_one_server(),5,2
openstack%2Fpython-openstackclient~master~Ifb5df852a9ae6eea3fabce13d450b16cb8348315,openstack/python-openstackclient,master,Ifb5df852a9ae6eea3fabce13d450b16cb8348315,Adopt sdk_fakes for compute.test_keypair,NEW,2023-06-07 13:43:54.000000000,2023-06-18 12:25:41.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/239bb14b2e4394fc972ad44b000a8651d6053d19', 'message': 'Adopt sdk_fakes for compute.test_keypair\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ifb5df852a9ae6eea3fabce13d450b16cb8348315\n'}, {'number': 2, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/21ae1fb1030e53ba1868fa921bca169934126da4', 'message': 'Adopt sdk_fakes for compute.test_keypair\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ifb5df852a9ae6eea3fabce13d450b16cb8348315\n'}]",2,885494,21ae1fb1030e53ba1868fa921bca169934126da4,6,2,2,27900,,,0,"Adopt sdk_fakes for compute.test_keypair

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: Ifb5df852a9ae6eea3fabce13d450b16cb8348315
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/94/885494/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_keypair.py', 'openstackclient/tests/unit/compute/v2/fakes.py']",2,239bb14b2e4394fc972ad44b000a8651d6053d19,fakes,,"from openstack.compute.v2 import keypair as _keypairdef create_one_keypair(attrs=None): """"""Create a fake keypair :param dict attrs: A dictionary with all attributes :return: A fake openstack.compute.v2.keypair.Keypair object """""" attrs = attrs or {} # Set default attributes. keypair_info = { 'name': 'keypair-name-' + uuid.uuid4().hex, 'type': 'ssh', 'fingerprint': 'dummy', 'public_key': 'dummy', 'user_id': 'user', } # Overwrite default attributes. keypair_info.update(attrs) return _keypair.Keypair(**keypair_info) def create_keypairs(attrs=None, count=2): """"""Create multiple fake keypairs. :param dict attrs: A dictionary with all attributes :param int count: The number of keypairs to fake :return: A list of fake openstack.compute.v2.keypair.Keypair objects """""" keypairs = [] for i in range(0, count): keypairs.append(create_one_keypair(attrs)) return keypairs def get_keypairs(keypairs=None, count=2): """"""Get an iterable MagicMock object with a list of faked keypairs. If keypairs list is provided, then initialize the Mock object with the list. Otherwise create one. :param list keypairs: A list of fake openstack.compute.v2.keypair.Keypair objects :param int count: The number of keypairs to fake :return: An iterable Mock object with side_effect set to a list of faked keypairs """""" if keypairs is None: keypairs = create_keypairs(count) return mock.Mock(side_effect=keypairs) ",51,121
openstack%2Fpython-openstackclient~master~Ibed4390be61c98f8c9e348835493bc714f8b9e87,openstack/python-openstackclient,master,Ibed4390be61c98f8c9e348835493bc714f8b9e87,Adopt sdk_fakes for compute.test_hypervisor,NEW,2023-06-07 15:44:02.000000000,2023-06-18 12:23:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 15:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4845d003193a201f2b8d38f2507827f115f21aae', 'message': 'Adopt sdk_fakes for compute.test_usage\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ibed4390be61c98f8c9e348835493bc714f8b9e87\n'}, {'number': 2, 'created': '2023-06-09 15:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d87e5d7fd8cf21c015197506d90c3527b44d0514', 'message': 'Adopt sdk_fakes for compute.test_hypervisor\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ibed4390be61c98f8c9e348835493bc714f8b9e87\n'}, {'number': 3, 'created': '2023-06-09 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7d59bda4c981cd55f362d5febc5f21225b9b7e05', 'message': 'Adopt sdk_fakes for compute.test_hypervisor\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ibed4390be61c98f8c9e348835493bc714f8b9e87\n'}, {'number': 4, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7afa6f03328b32f16dc1eaaff439b74736b66957', 'message': 'Adopt sdk_fakes for compute.test_hypervisor\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ibed4390be61c98f8c9e348835493bc714f8b9e87\n'}]",0,885517,7afa6f03328b32f16dc1eaaff439b74736b66957,6,1,4,27900,,,0,"Adopt sdk_fakes for compute.test_hypervisor

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: Ibed4390be61c98f8c9e348835493bc714f8b9e87
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/17/885517/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/fakes.py']",2,4845d003193a201f2b8d38f2507827f115f21aae,fakes,,"from openstack.compute.v2 import hypervisor as _hypervisordef create_one_hypervisor(attrs=None): """"""Create a fake hypervisor. :param dict attrs: A dictionary with all attributes :return: A fake openstack.compute.v2.hypervisor.Hypervisor object """""" attrs = attrs or {} # Set default attributes. hypervisor_info = { 'id': 'hypervisor-id-' + uuid.uuid4().hex, 'hypervisor_hostname': 'hypervisor-hostname-' + uuid.uuid4().hex, 'status': 'enabled', 'host_ip': '192.168.0.10', 'cpu_info': { 'aaa': 'aaa', }, 'free_disk_gb': 50, 'hypervisor_version': 2004001, 'disk_available_least': 50, 'local_gb': 50, 'free_ram_mb': 1024, 'service': { 'host': 'aaa', 'disabled_reason': None, 'id': 1, }, 'vcpus_used': 0, 'hypervisor_type': 'QEMU', 'local_gb_used': 0, 'vcpus': 4, 'memory_mb_used': 512, 'memory_mb': 1024, 'current_workload': 0, 'state': 'up', 'running_vms': 0, } # Overwrite default attributes. hypervisor_info.update(attrs) hypervisor = _hypervisor.Hypervisor(**hypervisor_info, loaded=True) return hypervisor def create_hypervisors(attrs=None, count=2): """"""Create multiple fake hypervisors. :param dict attrs: A dictionary with all attributes :param int count: The number of hypervisors to fake :return: A list of fake openstack.compute.v2.hypervisor.Hypervisor objects """""" hypervisors = [] for i in range(0, count): hypervisors.append(create_one_hypervisor(attrs)) return hypervisors ",56,112
openstack%2Fyaql~master~I69b99f3bf97a83f6021d0f2aab25e13fb2f7d1de,openstack/yaql,master,I69b99f3bf97a83f6021d0f2aab25e13fb2f7d1de,Document use of parent context with where operator,NEW,2023-06-18 12:05:00.000000000,2023-06-18 12:15:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-18 12:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/yaql/commit/50bad11c4c0dae4cbaf8551d9a3fdac3d45e7383', 'message': 'Document use of parent context with where operator\n\nCloses-Bug: #2024311\nChange-Id: I69b99f3bf97a83f6021d0f2aab25e13fb2f7d1de\n'}, {'number': 2, 'created': '2023-06-18 12:07:13.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/yaql/commit/3d656919881c78a554af0e61e2e8cfeb934bc01e', 'message': 'Document use of parent context with where operator\n\nCloses-Bug: #2024311\nChange-Id: I69b99f3bf97a83f6021d0f2aab25e13fb2f7d1de\n'}]",1,886338,3d656919881c78a554af0e61e2e8cfeb934bc01e,3,1,2,35979,,,0,"Document use of parent context with where operator

Closes-Bug: #2024311
Change-Id: I69b99f3bf97a83f6021d0f2aab25e13fb2f7d1de
",git fetch https://review.opendev.org/openstack/yaql refs/changes/38/886338/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,50bad11c4c0dae4cbaf8551d9a3fdac3d45e7383,, ... yaql> let(min_orders => $.min_orders) -> $.customers.where($.orders.len() >= $min_orders),,3,0
openstack%2Fpython-openstackclient~master~I331283f42914b91bd80dfca354635214fb7ba8a7,openstack/python-openstackclient,master,I331283f42914b91bd80dfca354635214fb7ba8a7,Adopt sdk_fakes for compute.test_service,NEW,2023-06-07 13:58:59.000000000,2023-06-18 12:08:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 13:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fddc43f9064035fb7449f43556e83108c3f0ea62', 'message': 'Adopt sdk_fakes for compute.test_service\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I331283f42914b91bd80dfca354635214fb7ba8a7\n'}, {'number': 2, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a24da7a58aeea729d11c191594e49a2a798c7f00', 'message': 'Adopt sdk_fakes for compute.test_service\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I331283f42914b91bd80dfca354635214fb7ba8a7\n'}]",0,885495,a24da7a58aeea729d11c191594e49a2a798c7f00,5,1,2,27900,,,0,"Adopt sdk_fakes for compute.test_service

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: I331283f42914b91bd80dfca354635214fb7ba8a7
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/95/885495/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_service.py']",2,fddc43f9064035fb7449f43556e83108c3f0ea62,fakes,"from openstack.compute.v2.service import Service from openstack.test import fakes as sdk_fakes services = sdk_fakes.generate_fake_resources(Service, count=2) service = sdk_fakes.generate_fake_resource(Service) self.service = sdk_fakes.generate_fake_resource(Service)", services = compute_fakes.create_services(count=2) service = compute_fakes.create_one_service() self.service = compute_fakes.create_one_service(),5,49
openstack%2Fpython-openstackclient~master~I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d,openstack/python-openstackclient,master,I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d,Adopt sdk_fakes for compute.test_server_volume,NEW,2023-06-09 16:01:06.000000000,2023-06-18 12:07:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 16:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cc23fc8c7a161e0d67a6abc68a248b1be66c7765', 'message': 'Adopt sdk_fakes for compute.test_server_volume\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d\n'}, {'number': 2, 'created': '2023-06-09 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/29e2dcc5a44504fcf0985249ab3e22c7a919d884', 'message': 'Adopt sdk_fakes for compute.test_server_volume\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d\n'}, {'number': 3, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b3dd2ab91ea32fbdba9222c4e837e6b35060f889', 'message': 'Adopt sdk_fakes for compute.test_server_volume\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d\n'}]",0,885768,b3dd2ab91ea32fbdba9222c4e837e6b35060f889,4,1,3,27900,,,0,"Adopt sdk_fakes for compute.test_server_volume

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: I5a82ff970ebb3622e6920cdb240a3c1dbc96e27d
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/885768/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_server_volume.py']",2,cc23fc8c7a161e0d67a6abc68a248b1be66c7765,fakes,"from openstack.block_storage.v3.volume import Volume from openstack.compute.v2.server import Server from openstack.compute.v2.volume_attachment import VolumeAttachment from openstack.test import fakes as sdk_fakes self.server = sdk_fakes.generate_fake_resource(Server) self.volume_attachments = sdk_fakes.generate_fake_resources( VolumeAttachment, count=2 ) self.server = sdk_fakes.generate_fake_resource(Server) self.volume = sdk_fakes.generate_fake_resource(Volume)",from openstackclient.tests.unit.volume.v2 import fakes as volume_fakes self.server = compute_fakes.create_one_sdk_server() self.volume_attachments = compute_fakes.create_volume_attachments() self.server = compute_fakes.create_one_sdk_server() self.volume = volume_fakes.create_one_sdk_volume(),12,6
openstack%2Fpython-openstackclient~master~I1c97a7b2e28233a3b345a81b62c01e74a0aec914,openstack/python-openstackclient,master,I1c97a7b2e28233a3b345a81b62c01e74a0aec914,Adopt sdk_fakes for compute.test_server_group,NEW,2023-06-09 15:51:05.000000000,2023-06-18 12:06:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 15:51:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bed6c18ff33bcbc5142af90bb465e004a4d1ff55', 'message': 'Adopt sdk_fakes for compute.test_server_group\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I1c97a7b2e28233a3b345a81b62c01e74a0aec914\n'}, {'number': 2, 'created': '2023-06-09 16:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cb916b29b0395f65ff1a60dbf5330b7c774348ef', 'message': 'Adopt sdk_fakes for compute.test_server_group\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I1c97a7b2e28233a3b345a81b62c01e74a0aec914\n'}, {'number': 3, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4516acc442c980b8a37fe78fcd1466dfce1e3edf', 'message': 'Adopt sdk_fakes for compute.test_server_group\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I1c97a7b2e28233a3b345a81b62c01e74a0aec914\n'}]",0,885766,4516acc442c980b8a37fe78fcd1466dfce1e3edf,4,1,3,27900,,,0,"Adopt sdk_fakes for compute.test_server_group

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: I1c97a7b2e28233a3b345a81b62c01e74a0aec914
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/66/885766/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",2,bed6c18ff33bcbc5142af90bb465e004a4d1ff55,fakes,from openstack.compute.v2.server_group import ServerGroup from openstack.test import fakes as sdk_fakes fake_server_group = sdk_fakes.generate_fake_resource(ServerGroup), fake_server_group = compute_fakes.create_one_server_group(),3,28
openstack%2Fpython-openstackclient~master~Ia8fd2ccfd1e86749fdeeb49c2d57de64635cbb82,openstack/python-openstackclient,master,Ia8fd2ccfd1e86749fdeeb49c2d57de64635cbb82,Adopt sdk_fakes for compute.test_usage,NEW,2023-06-07 13:58:59.000000000,2023-06-18 11:59:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 13:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/00185d13724b1974384a614c55513135c4a8b684', 'message': 'Adopt sdk_fakes for compute.test_usage\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ia8fd2ccfd1e86749fdeeb49c2d57de64635cbb82\n'}, {'number': 2, 'created': '2023-06-18 11:11:22.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_usage.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ce3f6bb2d867b69447765ff599a03452ba181c3a', 'message': 'Adopt sdk_fakes for compute.test_usage\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ia8fd2ccfd1e86749fdeeb49c2d57de64635cbb82\n'}]",0,885496,ce3f6bb2d867b69447765ff599a03452ba181c3a,5,1,2,27900,,,0,"Adopt sdk_fakes for compute.test_usage

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: Ia8fd2ccfd1e86749fdeeb49c2d57de64635cbb82
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/885496/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_usage.py']",2,00185d13724b1974384a614c55513135c4a8b684,fakes,"from openstack.compute.v2.usage import Usage from openstack.identity.v3.project import Project from openstack.test import fakes as sdk_fakes project = sdk_fakes.generate_fake_resource(Project) usages = [sdk_fakes.generate_fake_resource(Usage, project_id=project.name)] project = sdk_fakes.generate_fake_resource(Project) usage = sdk_fakes.generate_fake_resource(Usage, project_id=project.name)","from openstackclient.tests.unit.identity.v3 import fakes as identity_fakes project = identity_fakes.FakeProject.create_one_project() usages = compute_fakes.create_usages( attrs={'project_id': project.name}, count=1 ) project = identity_fakes.FakeProject.create_one_project() usage = compute_fakes.create_one_usage(attrs={'project_id': project.name})",8,64
openstack%2Fproject-config~master~I29e172f6c29f14e27d1ba607ae2adfd6bb43f40d,openstack/project-config,master,I29e172f6c29f14e27d1ba607ae2adfd6bb43f40d,Add more NebulOuS sandboxes and templates,MERGED,2023-06-17 12:50:01.000000000,2023-06-18 11:53:21.000000000,2023-06-18 11:47:50.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-17 12:50:01.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8c51cd98b9ad65ae4fa622582a01038053605975', 'message': 'Add more NebulOuS sandboxes and templates\n\nChange-Id: I29e172f6c29f14e27d1ba607ae2adfd6bb43f40d\n'}]",0,886302,8c51cd98b9ad65ae4fa622582a01038053605975,7,3,1,30491,,,0,"Add more NebulOuS sandboxes and templates

Change-Id: I29e172f6c29f14e27d1ba607ae2adfd6bb43f40d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/886302/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,8c51cd98b9ad65ae4fa622582a01038053605975,new-project,- project: nebulous/component-sandbox description: >- Sandbox component of the NebulOuS project. acl-config: /home/gerrit2/acls/nebulous/nebulous.config- project: nebulous/library-template description: >- Template repository for libraries of the NebulOuS project developed in OpenDev. https://www.nebulouscloud.eu/ acl-config: /home/gerrit2/acls/nebulous/nebulous.config- project: nebulous/nebulous-sandbox description: >- Sandbox repository of the NebulOuS project. acl-config: /home/gerrit2/acls/nebulous/nebulous.config,,13,0
openstack%2Fpython-openstackclient~master~I4965a5fe8fc3d70390ca0268716519b617ca24eb,openstack/python-openstackclient,master,I4965a5fe8fc3d70390ca0268716519b617ca24eb,Adopt sdk_fakes for compute.aggregate,NEW,2023-06-07 13:43:54.000000000,2023-06-18 11:23:37.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2db47df2ccac63e1ab1c4a4ef968fa69ed192ae8', 'message': 'Adopt sdk_fakes for compute.aggregate\n\nDrop fakes generation for compute aggregates in favor of sdk_fakes\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I4965a5fe8fc3d70390ca0268716519b617ca24eb\n'}, {'number': 2, 'created': '2023-06-18 10:34:40.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3db77c7214bcbf13cc657dfbbcda4ea58fdb5439', 'message': 'Adopt sdk_fakes for compute.aggregate\n\nDrop fakes generation for compute aggregates in favor of sdk_fakes\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: I4965a5fe8fc3d70390ca0268716519b617ca24eb\n'}]",6,885491,3db77c7214bcbf13cc657dfbbcda4ea58fdb5439,7,2,2,27900,,,0,"Adopt sdk_fakes for compute.aggregate

Drop fakes generation for compute aggregates in favor of sdk_fakes

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: I4965a5fe8fc3d70390ca0268716519b617ca24eb
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/91/885491/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/tests/unit/compute/v2/fakes.py']",2,2db47df2ccac63e1ab1c4a4ef968fa69ed192ae8,fakes,,"from openstack.compute.v2 import aggregate as _aggregatedef create_one_aggregate(attrs=None): """"""Create a fake aggregate. :param dict attrs: A dictionary with all attributes :return: A fake openstack.compute.v2.aggregate.Aggregate object """""" attrs = attrs or {} # Set default attribute aggregate_info = { ""name"": ""aggregate-name-"" + uuid.uuid4().hex, ""availability_zone"": ""ag_zone"", ""hosts"": [], ""id"": ""aggregate-id-"" + uuid.uuid4().hex, ""metadata"": { ""availability_zone"": ""ag_zone"", ""key1"": ""value1"", }, } # Overwrite default attributes. aggregate_info.update(attrs) aggregate = _aggregate.Aggregate(**aggregate_info) return aggregate def create_aggregates(attrs=None, count=2): """"""Create multiple fake aggregates. :param dict attrs: A dictionary with all attributes :param int count: The number of aggregates to fake :return: A list of fake openstack.compute.v2.aggregate.Aggregate objects """""" aggregates = [] for i in range(0, count): aggregates.append(create_one_aggregate(attrs)) return aggregates def get_aggregates(aggregates=None, count=2): """"""Get an iterable MagicMock object with a list of faked aggregates. If aggregates list is provided, then initialize the Mock object with the list. Otherwise create one. :return: A list of fake openstack.compute.v2.aggregate.Aggregate objects :param int count: The number of aggregates to fake :return: An iterable Mock object with side_effect set to a list of faked aggregates """""" if aggregates is None: aggregates = create_aggregates(count) return mock.Mock(side_effect=aggregates) ",7,63
openstack%2Fcharm-zuul-jobs~master~I60cda7ece63d6cf7839f2de2eb70af29bb016cd6,openstack/charm-zuul-jobs,master,I60cda7ece63d6cf7839f2de2eb70af29bb016cd6,Collect logs from pods,MERGED,2023-06-15 13:20:06.000000000,2023-06-17 12:37:01.000000000,2023-06-17 12:37:01.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 13:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/d241caab980185bf648b73b9bb04d0a0e2042ea5', 'message': 'Collect logs from pods\n\nCharm payloads now output to stdout, collectings the pod logs will help\nfor diagnosing issues.\n\nChange-Id: I60cda7ece63d6cf7839f2de2eb70af29bb016cd6\n'}, {'number': 2, 'created': '2023-06-16 15:45:18.000000000', 'files': ['test-requirements.txt', 'roles/collect-run-data/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/760617f64be07877d7ec4a1ba90facf19889ca5d', 'message': 'Collect logs from pods\n\nCharm payloads now output to stdout, collectings the pod logs will help\nfor diagnosing issues.\n\nAdd constraints on ansible_compat because of a bug introduced on 4.0\n\nChange-Id: I60cda7ece63d6cf7839f2de2eb70af29bb016cd6\n'}]",0,886174,760617f64be07877d7ec4a1ba90facf19889ca5d,8,2,2,35761,,,0,"Collect logs from pods

Charm payloads now output to stdout, collectings the pod logs will help
for diagnosing issues.

Add constraints on ansible_compat because of a bug introduced on 4.0

Change-Id: I60cda7ece63d6cf7839f2de2eb70af29bb016cd6
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/74/886174/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-run-data/tasks/main.yaml'],1,d241caab980185bf648b73b9bb04d0a0e2042ea5,feat/collect-pods,"- name: Collect pods logs args: executable: /bin/bash shell: | LOG_FOLDER={{ zuul.project.src_dir }}/log/pods/ MODEL_NAME=$(juju models --format=json | jq -r '.models[][""short-name""]' | grep '^zaza-') mkdir -p $LOG_FOLDER for pod in $(kubectl get pods -n $MODEL_NAME -o=jsonpath='{.items[*].metadata.name}'); do echo Collecting logs: $pod microk8s.kubectl logs -n $MODEL_NAME --all-containers $pod > $LOG_FOLDER/$pod.log done",,12,0
openstack%2Fneutron-vpnaas~master~Ie74d0dc96c986e83c8932676674beaee1bbbcdea,openstack/neutron-vpnaas,master,Ie74d0dc96c986e83c8932676674beaee1bbbcdea,Add dpdaction `none`,ABANDONED,2023-03-23 10:21:50.000000000,2023-06-17 09:48:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-23 10:21:50.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/template/strongswan/ipsec.conf.template', 'neutron_vpnaas/services/vpn/device_drivers/template/openswan/ipsec.conf.template', 'neutron_vpnaas/db/vpn/vpn_models.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7d56ea4adec3f3520ddd4f204ca4c5806c00fe72', 'message': ""Add dpdaction `none`\n\nAt the moment only strongswan seems to support disablement of\ndpdaction. At the same time, an option to disable it is called `none`\nrather then `disabled` [1]. For backwards compatability we don't drop\n`disabled` out of options, but handle it properly in the template.\nWith that we're adding proper `none` option.\n\nFor libreswan, since we can't really disable dpdaction, we're\njust dropping any configuration for it from the ipsec.conf to\nfollow default behaviour.\n\n[1] https://wiki.strongswan.org/projects/strongswan/wiki/connsection#General-Connection-Parameters\n\nChange-Id: Ie74d0dc96c986e83c8932676674beaee1bbbcdea\n""}]",0,878322,7d56ea4adec3f3520ddd4f204ca4c5806c00fe72,3,1,1,28619,,,0,"Add dpdaction `none`

At the moment only strongswan seems to support disablement of
dpdaction. At the same time, an option to disable it is called `none`
rather then `disabled` [1]. For backwards compatability we don't drop
`disabled` out of options, but handle it properly in the template.
With that we're adding proper `none` option.

For libreswan, since we can't really disable dpdaction, we're
just dropping any configuration for it from the ipsec.conf to
follow default behaviour.

[1] https://wiki.strongswan.org/projects/strongswan/wiki/connsection#General-Connection-Parameters

Change-Id: Ie74d0dc96c986e83c8932676674beaee1bbbcdea
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/22/878322/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/device_drivers/template/strongswan/ipsec.conf.template', 'neutron_vpnaas/services/vpn/device_drivers/template/openswan/ipsec.conf.template', 'neutron_vpnaas/db/vpn/vpn_models.py']",3,7d56ea4adec3f3520ddd4f204ca4c5806c00fe72,," ""restart"", ""disabled"", ""none"","," ""restart"", ""disabled"",",7,1
openstack%2Fneutron-tempest-plugin~master~I6be440a9ca41cbde92aaefc648546bf32d8e6bc9,openstack/neutron-tempest-plugin,master,I6be440a9ca41cbde92aaefc648546bf32d8e6bc9,[DNM] qemu on nested virt jammy nodes,ABANDONED,2023-03-30 10:43:21.000000000,2023-06-17 09:48:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-30 10:43:21.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ab69c285662feed44b529202f457e9e95990ac0', 'message': '[DNM] qemu on nested virt jammy nodes\n\nChange-Id: I6be440a9ca41cbde92aaefc648546bf32d8e6bc9\n'}]",0,879034,1ab69c285662feed44b529202f457e9e95990ac0,3,1,1,13861,,,0,"[DNM] qemu on nested virt jammy nodes

Change-Id: I6be440a9ca41cbde92aaefc648546bf32d8e6bc9
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/34/879034/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",3,1ab69c285662feed44b529202f457e9e95990ac0,bug/1999249,- job: name: neutron-tempest-plugin-linuxbridge-1 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-2 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-3 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-4 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-5 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-openvswitch-1 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-2 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-3 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-4 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-5 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-ovn-1 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-2 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-3 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-4 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-5 parent: neutron-tempest-plugin-ovn - neutron-tempest-plugin-ovn-1 - neutron-tempest-plugin-ovn-2 - neutron-tempest-plugin-ovn-3 - neutron-tempest-plugin-ovn-4 - neutron-tempest-plugin-ovn-5 - neutron-tempest-plugin-openvswitch-1 - neutron-tempest-plugin-openvswitch-2 - neutron-tempest-plugin-openvswitch-3 - neutron-tempest-plugin-openvswitch-4 - neutron-tempest-plugin-openvswitch-5 - neutron-tempest-plugin-linuxbridge-1 - neutron-tempest-plugin-linuxbridge-2 - neutron-tempest-plugin-linuxbridge-3 - neutron-tempest-plugin-linuxbridge-4 - neutron-tempest-plugin-linuxbridge-5, templates: - build-openstack-docs-pti - neutron-tempest-plugin-jobs - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - neutron-tempest-plugin-jobs-zed - neutron-tempest-plugin-jobs-2023-1 - check-requirements - tempest-plugin-jobs - release-notes-jobs-python3 - neutron-tempest-plugin-sfc - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-sfc-zed - neutron-tempest-plugin-sfc-2023-1 - neutron-tempest-plugin-bgpvpn-bagpipe - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-zed - neutron-tempest-plugin-bgpvpn-bagpipe-2023-1 - neutron-tempest-plugin-dynamic-routing - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-dynamic-routing-zed - neutron-tempest-plugin-dynamic-routing-2023-1 - neutron-tempest-plugin-fwaas - neutron-tempest-plugin-fwaas-zed - neutron-tempest-plugin-fwaas-2023-1 - neutron-tempest-plugin-vpnaas - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-vpnaas-zed - neutron-tempest-plugin-vpnaas-2023-1 - neutron-tempest-plugin-tap-as-a-service - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga - neutron-tempest-plugin-tap-as-a-service-zed - neutron-tempest-plugin-tap-as-a-service-2023-1,103,39
openstack%2Fneutron-tempest-plugin~master~Id0fe9c0cfa889647e0fecf65585dbebd040c02d1,openstack/neutron-tempest-plugin,master,Id0fe9c0cfa889647e0fecf65585dbebd040c02d1,[DNM] Test stability of workaround,ABANDONED,2022-12-14 12:26:01.000000000,2023-06-17 09:48:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-14 12:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/044333bbffb19b7ceafae86b4f4adf19a4c4d7f9', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 2, 'created': '2022-12-15 07:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/418ef4ff304c474a3a667546f096dbd1f66c70ed', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 3, 'created': '2022-12-15 13:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e0d0881749d7dd495c2cd842842ad7b00b9a592d', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 4, 'created': '2022-12-16 06:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/21f37c071912ebc22780e8a813bded48bcbeac57', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 5, 'created': '2022-12-16 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b248f5a0c637e0e372e61fbccd5380e62d43e2a5', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\nAlso check if zram helps as too much of swap uses\nis affecting slow vm boots and results into failures.\n\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 6, 'created': '2023-03-30 10:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/053505eda49e2c279a3621fc81e2e19b9f30065a', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 7, 'created': '2023-03-30 10:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8b811da2d0ed76af27bf3599792b1aa4bd7507d5', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}, {'number': 8, 'created': '2023-03-31 16:13:00.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2e70781bef3bc2969131bafbc3287b482dd89672', 'message': '[DNM] Test stability of workaround\n\nworkaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320\n\nJobs Timeout, so attempt\n- increase concurrency\n- increase swap\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1\n'}]",6,867650,2e70781bef3bc2969131bafbc3287b482dd89672,25,1,8,13861,,,0,"[DNM] Test stability of workaround

workaround https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/867320

Jobs Timeout, so attempt
- increase concurrency
- increase swap

Depends-On: https://review.opendev.org/c/openstack/nova/+/868419
Change-Id: Id0fe9c0cfa889647e0fecf65585dbebd040c02d1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/50/867650/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base-nested-switch.yaml', 'zuul.d/project.yaml']",2,044333bbffb19b7ceafae86b4f4adf19a4c4d7f9,bug/1999249,- job: name: neutron-tempest-plugin-linuxbridge-1 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-2 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-3 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-4 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-5 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-openvswitch-1 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-2 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-3 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-4 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-5 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-ovn-1 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-2 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-3 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-4 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-5 parent: neutron-tempest-plugin-ovn - neutron-tempest-plugin-ovn-1 - neutron-tempest-plugin-ovn-2 - neutron-tempest-plugin-ovn-3 - neutron-tempest-plugin-ovn-4 - neutron-tempest-plugin-ovn-5 - neutron-tempest-plugin-openvswitch-1 - neutron-tempest-plugin-openvswitch-2 - neutron-tempest-plugin-openvswitch-3 - neutron-tempest-plugin-openvswitch-4 - neutron-tempest-plugin-openvswitch-5 - neutron-tempest-plugin-linuxbridge-1 - neutron-tempest-plugin-linuxbridge-2 - neutron-tempest-plugin-linuxbridge-3 - neutron-tempest-plugin-linuxbridge-4 - neutron-tempest-plugin-linuxbridge-5, templates: - build-openstack-docs-pti - neutron-tempest-plugin-jobs - neutron-tempest-plugin-jobs-wallaby - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - neutron-tempest-plugin-jobs-zed - check-requirements - tempest-plugin-jobs - release-notes-jobs-python3 - neutron-tempest-plugin-sfc - neutron-tempest-plugin-sfc-wallaby - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-sfc-zed - neutron-tempest-plugin-bgpvpn-bagpipe - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-zed - neutron-tempest-plugin-dynamic-routing - neutron-tempest-plugin-dynamic-routing-wallaby - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-dynamic-routing-zed - neutron-tempest-plugin-fwaas - neutron-tempest-plugin-fwaas-zed - neutron-tempest-plugin-vpnaas - neutron-tempest-plugin-vpnaas-wallaby - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-vpnaas-zed - neutron-tempest-plugin-tap-as-a-service - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga - neutron-tempest-plugin-tap-as-a-service-zed,82,43
openstack%2Fnetworking-odl~master~Ib88acb90258da0b7e96fabea2c40f4ab91232740,openstack/networking-odl,master,Ib88acb90258da0b7e96fabea2c40f4ab91232740,Add context wrapper around periodic task methods,ABANDONED,2023-04-03 11:42:01.000000000,2023-06-17 09:48:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-03 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ad1cad5d8441d9a764223999fce447bbe2cb16e8', 'message': ""Add context wrapper around periodic task methods\n\nupdate_periodic_task and _update_periodic_task_state lacked\ncontext wrapper and this resulted in ugly tracebacks in CI logs\nalso.\nAs an extra use exc_to_retry from neutron-lib db_api in journal's\nrecord method.\n\nRelated-Bug: #1989718\nChange-Id: Ib88acb90258da0b7e96fabea2c40f4ab91232740\n""}, {'number': 2, 'created': '2023-04-13 08:02:25.000000000', 'files': ['networking_odl/journal/journal.py', 'networking_odl/db/db.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b2cae4aceed98b0f27d75cc4dbdf8db275e6e935', 'message': ""Add context wrapper around periodic task methods\n\nupdate_periodic_task and _update_periodic_task_state lacked\ncontext wrapper and this resulted in ugly tracebacks in CI logs\nalso.\nAs an extra use exc_to_retry from neutron-lib db_api in journal's\nrecord method.\nTODO: finalize commit msg when things are finished and working\n\nRelated-Bug: #1989718\nChange-Id: Ib88acb90258da0b7e96fabea2c40f4ab91232740\n""}]",1,879334,b2cae4aceed98b0f27d75cc4dbdf8db275e6e935,7,1,2,8313,,,0,"Add context wrapper around periodic task methods

update_periodic_task and _update_periodic_task_state lacked
context wrapper and this resulted in ugly tracebacks in CI logs
also.
As an extra use exc_to_retry from neutron-lib db_api in journal's
record method.
TODO: finalize commit msg when things are finished and working

Related-Bug: #1989718
Change-Id: Ib88acb90258da0b7e96fabea2c40f4ab91232740
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/34/879334/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_odl/journal/journal.py', 'networking_odl/db/db.py']",2,ad1cad5d8441d9a764223999fce447bbe2cb16e8,bug/1989718,@db_api.CONTEXT_WRITER.savepoint@db_api.CONTEXT_WRITER.savepoint,,5,3
openstack%2Fneutron~master~I5b39636f5afb6fa49334eea56d89ab23757193cc,openstack/neutron,master,I5b39636f5afb6fa49334eea56d89ab23757193cc,[DNM] validate 880539,ABANDONED,2023-04-17 06:13:22.000000000,2023-06-17 09:48:09.000000000,,[],"[{'number': 1, 'created': '2023-04-17 06:13:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8df1de8b586349fbdde877b5e89b109b01e40c3d', 'message': '[DNM] validate 880539\n\nChange-Id: I5b39636f5afb6fa49334eea56d89ab23757193cc\n'}]",1,880578,8df1de8b586349fbdde877b5e89b109b01e40c3d,4,0,1,13861,,,0,"[DNM] validate 880539

Change-Id: I5b39636f5afb6fa49334eea56d89ab23757193cc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/880578/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8df1de8b586349fbdde877b5e89b109b01e40c3d,dnm, jobs: [], - neutron-tempest-plugin-jobs - openstack-cover-jobs - openstack-python3-jobs - openstack-python3-jobs-arm64 - publish-openstack-docs-pti - periodic-stable-jobs - check-requirements - release-notes-jobs-python3 - neutron-tox-override-jobs jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovs-tempest-multinode-full - neutron-ovs-tempest-dvr-ha-multinode-full - neutron-ovn-tempest-ipv6-only-ovs-release - neutron-ovs-rally-task - neutron-ovn-rally-task - tempest-integrated-networking: irrelevant-files: &ovn-irrelevant-files - ^\.pylintrc$ - ^test-requirements.txt$ - ^releasenotes/.*$ - ^doc/.*$ - ^setup.cfg$ - ^.*\.conf\.sample$ - ^.*\.rst$ - ^neutron/locale/.*$ - ^neutron/tests/.*$ - ^tools/.*$ - ^tox.ini$ - ^neutron/agent/dhcp/.*$ - ^neutron/agent/l2/.*$ - ^neutron/agent/l3/.*$ - ^neutron/agent/metadata/.*$ - ^neutron/agent/windows/.*$ - ^neutron/agent/dhcp_agent.py - ^neutron/agent/l3_agent.py - ^neutron/agent/metadata_agent.py - ^neutron/agent/resource_cache.py - ^neutron/agent/rpc.py - ^neutron/agent/securitygroup_rpc.py - ^neutron/plugins/ml2/drivers/linuxbridge/.*$ - ^neutron/plugins/ml2/drivers/openvswitch/.*$ - ^neutron/plugins/ml2/drivers/macvtap/.*$ - ^neutron/plugins/ml2/drivers/mech_sriov/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/openvswitch/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/openvswitch/.*$ - ^neutron/scheduler/.*$ - ^roles/.*functional.*$ - ^playbooks/.*functional.*$ - ^zuul.d/(?!(project)).*\.yaml - neutron-ovn-tempest-ovs-release-ubuntu-old: irrelevant-files: *ovn-irrelevant-files gate: jobs: - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-ovs-tempest-multinode-full - neutron-ovs-grenade-multinode - neutron-ovs-grenade-dvr-multinode - neutron-ovn-tempest-ipv6-only-ovs-release - tempest-integrated-networking: irrelevant-files: *ovn-irrelevant-files - neutron-ovn-tempest-ovs-release-ubuntu-old: irrelevant-files: *ovn-irrelevant-files,1,70
openstack%2Fneutron~master~Idc693eea5f7a822ee007575bb4895dc651b990a1,openstack/neutron,master,Idc693eea5f7a822ee007575bb4895dc651b990a1,"[OVN] Add new ML2 extension ""dhcp_agent_scheduler""",ABANDONED,2022-11-20 22:28:50.000000000,2023-06-17 09:48:01.000000000,,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-20 22:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1aa0b0b89600dfe07ac0800e7061cfd4dfc3be6', 'message': ""OVN: Don't disable dhcp agent extension\n\nWhen using a mech_driver that needs dhcp_agent extension\neg. linuxbridge alongside the ovn mech_driver the dhcp\nagent extension is disabled. This is not desired as it\nwill break the other exension driver that needs it.\n\nCloses-Bug: #1997185\n\nChange-Id: Idc693eea5f7a822ee007575bb4895dc651b990a1\n""}, {'number': 2, 'created': '2022-11-23 09:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3591ba416037f954ed0cc1827732501d40f5ce44', 'message': '[OVN] Add new ML2 extension ""dhcp_agent_scheduler""\n\nWhen using a mech_driver that needs dhcp_agent extension\neg. linuxbridge alongside the ovn mech_driver the dhcp\nagent extension is disabled. This is not desired as it\nwill break the other exension driver that needs it.\n\nThis is also needed as OVN with barmetal uses dhcp agent.\n\nCloses-Bug: #1997185\n\nChange-Id: Idc693eea5f7a822ee007575bb4895dc651b990a1\n'}, {'number': 3, 'created': '2023-04-18 01:20:10.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1595245bbce77669dce12726f2b3d656e6ad631f', 'message': '[OVN] Add new ML2 extension ""dhcp_agent_scheduler""\n\nWhen using a mech_driver that needs dhcp_agent extension\neg. linuxbridge alongside the ovn mech_driver the dhcp\nagent extension is disabled. This is not desired as it\nwill break the other exension driver that needs it.\n\nThis is also needed as OVN with barmetal uses dhcp agent.\n\nCloses-Bug: #1997185\n\nChange-Id: Idc693eea5f7a822ee007575bb4895dc651b990a1\n'}]",14,865081,1595245bbce77669dce12726f2b3d656e6ad631f,34,8,3,3031,,,0,"[OVN] Add new ML2 extension ""dhcp_agent_scheduler""

When using a mech_driver that needs dhcp_agent extension
eg. linuxbridge alongside the ovn mech_driver the dhcp
agent extension is disabled. This is not desired as it
will break the other exension driver that needs it.

This is also needed as OVN with barmetal uses dhcp agent.

Closes-Bug: #1997185

Change-Id: Idc693eea5f7a822ee007575bb4895dc651b990a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/865081/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,e1aa0b0b89600dfe07ac0800e7061cfd4dfc3be6,,"from neutron_lib.api.definitions import dhcpagentscheduler dhcpagentscheduler.ALIAS,",,2,0
openstack%2Fneutron~master~Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005,openstack/neutron,master,Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005,WIP Use neutron db for ovn agents,ABANDONED,2021-11-23 03:58:49.000000000,2023-06-17 09:47:56.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 03:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4c37c3979085d9b9f810e8abb1b7fb15e5cd7a3', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 2, 'created': '2021-11-23 15:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/530a0004b62f5a650b58ffa303e7a680ce6b340f', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 3, 'created': '2021-11-23 15:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/937575aab0daae6f39950edeaae379a490ab25a9', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 4, 'created': '2021-11-23 16:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3aecdaee8003fb2c4122709051ae031e9e505f6f', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 5, 'created': '2021-11-24 04:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73d58350945d751cece9eeedda785230d496c764', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\nSee if there is a way to work around the SQLite in-memory bug\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 6, 'created': '2021-11-24 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b26ff3fe166e7a41985d3318090d12dfb7274e93', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\nSee if there is a way to work around the SQLite in-memory bug\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 7, 'created': '2022-01-04 20:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/265b863ccee0dcf6ca2bb5fc8e9ab1cef756bd64', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\nSee if there is a way to work around the SQLite in-memory bug\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 8, 'created': '2022-01-04 22:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c750d661382a8c3e521874c87455788d4dc4ebf1', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\nSee if there is a way to work around the SQLite in-memory bug\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 9, 'created': '2022-01-05 21:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc28c1a47308fa9ef14d330da812dc32517378e0', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\nSee if there is a way to work around the SQLite in-memory bug\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 10, 'created': '2022-01-06 16:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c16c86bc541b34434999c00e13a635e621b0acab', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 11, 'created': '2022-01-06 18:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0c5eb0b28fd7b54e9b7072b2bfb8ca1197f78dd', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 12, 'created': '2022-01-12 15:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25c680d6fd4136be73fde596e410dda058261ce4', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nWhether this is a good idea is still up for debate. Even after\ndoing WaitEvents, I've noticed locally that sometimes calling\nget_agent() with the ID of an agent just created by the event in\nthe RowEventHandler thread, fails to return the agent. I'm not\nexactly sure why that would race, since I'd expect the db commit\nto definitely be done. Again, this is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 13, 'created': '2022-01-25 23:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cad952553ca28c39022bfde12fb2b6b33ce31177', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 14, 'created': '2022-01-28 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87521dc70bf295ff0f9e31dca97b241c615a69e6', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 15, 'created': '2022-06-23 21:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b2b1f621260eb2a846111f2cefa3b6ba80ef542', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}, {'number': 16, 'created': '2023-04-21 17:28:39.000000000', 'files': ['neutron/db/agents_db.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dee3a0d96a68f28c4d01bb35ae21cf343d7017d5', 'message': ""WIP Use neutron db for ovn agents\n\nIt's just a lot simpler to use the neutron db for storing agents\ninstead of managing all of the edge cases of storing the cache\nourselves on each server. This is a PoC.\n\nI added the ability to specify agent.id when creating the db entry\njust so I wouldn't have to change the TestAgentApi code so I'd\nhave some original tests that passed as-is. It isn't necessary,\nthe tests could be rewritten to look at host/type instead of id.\n\nTODO:\nLimit the ChassisAgent events to MaintenanceWorker\n\nChange-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005\n""}]",40,818850,dee3a0d96a68f28c4d01bb35ae21cf343d7017d5,93,6,16,5756,,,0,"WIP Use neutron db for ovn agents

It's just a lot simpler to use the neutron db for storing agents
instead of managing all of the edge cases of storing the cache
ourselves on each server. This is a PoC.

I added the ability to specify agent.id when creating the db entry
just so I wouldn't have to change the TestAgentApi code so I'd
have some original tests that passed as-is. It isn't necessary,
the tests could be rewritten to look at host/type instead of id.

TODO:
Limit the ChassisAgent events to MaintenanceWorker

Change-Id: Ic9e343ce3b1fe3bfe7775b51a8a2f14b17cbb005
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/818850/14 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/agents_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",6,f4c37c3979085d9b9f810e8abb1b7fb15e5cd7a3,neutron_db_for_ovn_agents,"from oslo_service import loopingcallfrom neutron.db import agents_dbclass OVNMechanismDriver(api.MechanismDriver, agents_db.AgentDbMixin): self.admin_context = n_context.get_admin_context() report_interval = cfg.CONF.agent_down_time // 2 heartbeat = loopingcall.FixedIntervalLoopingCall( self._report_state) heartbeat.start(interval=report_interval) def _report_state(self): # write nb_cfg if we haven't updated in a while self.ping_all_chassis()","from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent as n_agentclass OVNMechanismDriver(api.MechanismDriver): n_agent.AgentCache(self) # Initialize singleton agent cache # Override agents API methods self.patch_plugin_merge(""get_agents"", get_agents) self.patch_plugin_choose(""get_agent"", get_agent) self.patch_plugin_choose(""update_agent"", update_agent) self.patch_plugin_choose(""delete_agent"", delete_agent) def get_agents(self, context, filters=None, fields=None, _driver=None): _driver.ping_all_chassis() filters = filters or {} agent_list = [] for agent in n_agent.AgentCache(): agent_dict = agent.as_dict() if all(agent_dict[k] in v for k, v in filters.items()): agent_list.append(agent_dict) return agent_list def get_agent(self, context, id, fields=None, _driver=None): try: return n_agent.AgentCache()[id].as_dict() except KeyError: raise n_exc.agent.AgentNotFound(id=id) def update_agent(self, context, id, agent, _driver=None): ovn_agent = get_agent(self, None, id, _driver=_driver) chassis_name = ovn_agent['configurations']['chassis_name'] agent_type = ovn_agent['agent_type'] agent = agent['agent'] # neutron-client always passes admin_state_up, openstack client doesn't # and we can just fall through to raising in the case that admin_state_up # is being set to False, otherwise the end-state will be fine if not agent.get('admin_state_up', True): pass elif 'description' in agent: _driver.sb_ovn.set_chassis_neutron_description( chassis_name, agent['description'], agent_type).execute(check_error=True) return agent else: # admin_state_up=True w/o description return agent raise n_exc.BadRequest(resource='agent', msg='OVN agent status cannot be updated') def delete_agent(self, context, id, _driver=None): # raise AgentNotFound if this isn't an ml2/ovn-related agent agent = get_agent(self, None, id, _driver=_driver) # NOTE(twilson) According to the API docs, an agent must be disabled # before deletion. Otherwise, behavior seems to be undefined. We could # check that alive=False before allowing deletion, but depending on the # agent_down_time setting, that could take quite a while. # If ovn-controller is up, the Chassis will be recreated and so the agent # will still show as up. The recreated Chassis will cause all kinds of # events to fire. But again, undefined behavior. chassis_name = agent['configurations']['chassis_name'] _driver.sb_ovn.chassis_del(chassis_name, if_exists=True).execute( check_error=True) # Send a specific event that all API workers can get to delete the agent # from their caches. Ideally we could send a single transaction that both # created and deleted the key, but alas python-ovs is too ""smart"" _driver.sb_ovn.db_set( 'SB_Global', '.', ('external_ids', {'delete_agent': str(id)})).execute( check_error=True) _driver.sb_ovn.db_remove( 'SB_Global', '.', 'external_ids', delete_agent=str(id), if_exists=True).execute(check_error=True) ",66,200
openstack%2Fneutron~master~Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e,openstack/neutron,master,Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e,ovn metadata agent: stop fetching all portbindings,ABANDONED,2023-03-23 09:46:56.000000000,2023-06-17 09:47:53.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-23 09:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c259c64369e0c94915adf9914427bff89df270d9', 'message': ""ovn metadata agent: stop fetching all portbindings\n\nNow uses ovsdb's filters to fetch all the port bindings that are really\nneeded.\n\nEspecially if there are a lot of port_bindings the metadata agent became\nvery slow and sometimes needs several seconds to start and answer\nrequests. This reduces the startup of the ovn metadata agent from\n30+ secs down to ~5 seconds in our setup (~7k portbindings).\n\nCo-authored-by: Maxim Korezkij <Maxim.Korezkij@mail.schwarz>\nCo-authored-by: Max Andr Lamprecht <Max.Lamprecht@mail.schwarz>\n\nChange-Id: Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e\n""}, {'number': 2, 'created': '2023-03-29 07:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e673977c9afae3af54b63fc2760668b76fa19b91', 'message': ""ovn metadata agent: stop fetching all portbindings\n\nNow uses ovsdb's filters to fetch all the port bindings that are really\nneeded.\n\nEspecially if there are a lot of port_bindings the metadata agent became\nvery slow and sometimes needs several seconds to start and answer\nrequests. This reduces the startup of the ovn metadata agent from\n30+ secs down to ~5 seconds in our setup (~7k portbindings).\n\nCo-authored-by: Maxim Korezkij <Maxim.Korezkij@mail.schwarz>\nCo-authored-by: Max Andr Lamprecht <Max.Lamprecht@mail.schwarz>\n\nChange-Id: Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e\n""}, {'number': 3, 'created': '2023-03-31 11:33:31.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d0d82311f9888ac7e9dacbddd2758e54ed594e4', 'message': ""ovn metadata agent: stop fetching all portbindings\n\nNow uses ovsdb's filters to fetch all the port bindings that are really\nneeded.\nEspecially if there are a lot of port_bindings the metadata agent became\nvery slow and sometimes needs several seconds to start and answer\nrequests. This reduces the startup of the ovn metadata agent from\n30+ secs down to ~5 seconds in our setup (~7k portbindings).\n\nCo-authored-by: Maxim Korezkij <Maxim.Korezkij@mail.schwarz>\nCo-authored-by: Luca Czesla <luca.czesla@mail.schwarz>\n\nChange-Id: Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e\n""}]",10,878320,3d0d82311f9888ac7e9dacbddd2758e54ed594e4,19,4,3,35676,,,0,"ovn metadata agent: stop fetching all portbindings

Now uses ovsdb's filters to fetch all the port bindings that are really
needed.
Especially if there are a lot of port_bindings the metadata agent became
very slow and sometimes needs several seconds to start and answer
requests. This reduces the startup of the ovn metadata agent from
30+ secs down to ~5 seconds in our setup (~7k portbindings).

Co-authored-by: Maxim Korezkij <Maxim.Korezkij@mail.schwarz>
Co-authored-by: Luca Czesla <luca.czesla@mail.schwarz>

Change-Id: Ib0e31633852dfd53cb3ce14ee2b899dc620d1f3e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/878320/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py']",4,c259c64369e0c94915adf9914427bff89df270d9,," def get_network_port_bindings_by_ip(self, chassis_id, network, ip_address): rows = self.get_ports_on_chassis(chassis_id, network) return [r for r in rows if r.mac and (ip_address in r.mac[0].split(' '))] def get_network_agent_chassis_id(self, chassis_name): chassis = self.db_find_rows( ""Chassis"", (""name"", ""="", chassis_name)).execute(check_error=True) if chassis: return chassis[0].uuid def get_ports_on_chassis(self, chassis_id, network_id=None): if network_id: return list( self.db_find_rows( ""Port_Binding"", (""chassis"", ""="", chassis_id), (""external_ids"", ""="", {ovn_const.OVN_NETWORK_NAME_EXT_ID_KEY: utils.ovn_name(network_id)},), ).execute(check_error=True) ) else: return list( self.db_find_rows( ""Port_Binding"", (""chassis"", ""="", chassis_id), ).execute(check_error=True) )"," def get_network_port_bindings_by_ip(self, network, ip_address): rows = self.db_list_rows('Port_Binding').execute(check_error=True) # TODO(twilson) It would be useful to have a db_find that takes a # comparison function def check_net_and_ip(port): # If the port is not bound to any chassis it is not relevant if not port.chassis: return False is_in_network = utils.get_network_name_from_datapath( port.datapath) == network return (port.mac and is_in_network and (ip_address in port.mac[0].split(' '))) return [r for r in rows if check_net_and_ip(r)] def get_ports_on_chassis(self, chassis): # TODO(twilson) Some day it would be nice to stop passing names around # and just start using chassis objects so db_find_rows could be used rows = self.db_list_rows('Port_Binding').execute(check_error=True) return [r for r in rows if r.chassis and r.chassis[0].name == chassis]",88,33
openstack%2Fneutron-tempest-plugin~master~Id48fc43aed103e55b3f5ca05bfda39dba2f167aa,openstack/neutron-tempest-plugin,master,Id48fc43aed103e55b3f5ca05bfda39dba2f167aa,[DNM] non nested virt jammy nodes with workaround,ABANDONED,2023-03-30 10:46:41.000000000,2023-06-17 09:47:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-30 10:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e5e7c10f31242fd3dfc707affec1e3485cfd3263', 'message': '[DNM] non nested virt jammy nodes\n\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}, {'number': 2, 'created': '2023-03-30 12:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2ee98711dfa310872de20e01f9b4bb2a81f98939', 'message': '[DNM] non nested virt jammy nodes\n\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}, {'number': 3, 'created': '2023-03-31 15:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d3304e60fe9af258e6b65659f141c5dbada21e04', 'message': '[DNM] non nested virt jammy nodes with workaround\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}, {'number': 4, 'created': '2023-03-31 15:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8f1715c0a8785ac39e41f762c16ba508a6226a43', 'message': '[DNM] non nested virt jammy nodes with workaround\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}, {'number': 5, 'created': '2023-04-11 15:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c8e3335cf7abd9232fa04f9afad8d99a31991145', 'message': '[DNM] non nested virt jammy nodes with workaround\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}, {'number': 6, 'created': '2023-04-12 04:46:57.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/72a07d0686e8794c6cc47fdef4be0d9507848e89', 'message': '[DNM] non nested virt jammy nodes with workaround\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/868419\nChange-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa\n'}]",2,879036,72a07d0686e8794c6cc47fdef4be0d9507848e89,16,1,6,13861,,,0,"[DNM] non nested virt jammy nodes with workaround

Depends-On: https://review.opendev.org/c/openstack/nova/+/868419
Change-Id: Id48fc43aed103e55b3f5ca05bfda39dba2f167aa
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/36/879036/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base-nested-switch.yaml', 'zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",3,e5e7c10f31242fd3dfc707affec1e3485cfd3263,bug/1999249,- job: name: neutron-tempest-plugin-linuxbridge-1 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-2 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-3 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-4 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-linuxbridge-5 parent: neutron-tempest-plugin-linuxbridge - job: name: neutron-tempest-plugin-openvswitch-1 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-2 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-3 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-4 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-openvswitch-5 parent: neutron-tempest-plugin-openvswitch - job: name: neutron-tempest-plugin-ovn-1 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-2 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-3 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-4 parent: neutron-tempest-plugin-ovn - job: name: neutron-tempest-plugin-ovn-5 parent: neutron-tempest-plugin-ovn - neutron-tempest-plugin-ovn-1 - neutron-tempest-plugin-ovn-2 - neutron-tempest-plugin-ovn-3 - neutron-tempest-plugin-ovn-4 - neutron-tempest-plugin-ovn-5 - neutron-tempest-plugin-openvswitch-1 - neutron-tempest-plugin-openvswitch-2 - neutron-tempest-plugin-openvswitch-3 - neutron-tempest-plugin-openvswitch-4 - neutron-tempest-plugin-openvswitch-5 - neutron-tempest-plugin-linuxbridge-1 - neutron-tempest-plugin-linuxbridge-2 - neutron-tempest-plugin-linuxbridge-3 - neutron-tempest-plugin-linuxbridge-4 - neutron-tempest-plugin-linuxbridge-5, templates: - build-openstack-docs-pti - neutron-tempest-plugin-jobs - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - neutron-tempest-plugin-jobs-zed - neutron-tempest-plugin-jobs-2023-1 - check-requirements - tempest-plugin-jobs - release-notes-jobs-python3 - neutron-tempest-plugin-sfc - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-sfc-zed - neutron-tempest-plugin-sfc-2023-1 - neutron-tempest-plugin-bgpvpn-bagpipe - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-zed - neutron-tempest-plugin-bgpvpn-bagpipe-2023-1 - neutron-tempest-plugin-dynamic-routing - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-dynamic-routing-zed - neutron-tempest-plugin-dynamic-routing-2023-1 - neutron-tempest-plugin-fwaas - neutron-tempest-plugin-fwaas-zed - neutron-tempest-plugin-fwaas-2023-1 - neutron-tempest-plugin-vpnaas - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-vpnaas-zed - neutron-tempest-plugin-vpnaas-2023-1 - neutron-tempest-plugin-tap-as-a-service - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga - neutron-tempest-plugin-tap-as-a-service-zed - neutron-tempest-plugin-tap-as-a-service-2023-1,103,39
openstack%2Fneutron~master~I1a06738bf767bfac5c76d51e55cae2ad916ab525,openstack/neutron,master,I1a06738bf767bfac5c76d51e55cae2ad916ab525,"New devstack's plugin service ""ovs-ports""",ABANDONED,2023-04-27 12:23:23.000000000,2023-06-17 09:47:45.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-27 12:23:23.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b083da3c275c466435ef1901c3b3928a1b6cf8c', 'message': 'New devstack\'s plugin service ""ovs-ports""\n\nThis new service is similar to br-int-flows service and just dumps all\novs ports and bridges every 30 seconds.\nIt is enabled in functional and fullstack jobs for debugging purpose.\n\nRelated-Bug: #2000150\nChange-Id: I1a06738bf767bfac5c76d51e55cae2ad916ab525\n'}]",3,881721,1b083da3c275c466435ef1901c3b3928a1b6cf8c,7,3,1,11975,,,0,"New devstack's plugin service ""ovs-ports""

This new service is similar to br-int-flows service and just dumps all
ovs ports and bridges every 30 seconds.
It is enabled in functional and fullstack jobs for debugging purpose.

Related-Bug: #2000150
Change-Id: I1a06738bf767bfac5c76d51e55cae2ad916ab525
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/881721/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'zuul.d/base.yaml']",2,1b083da3c275c466435ef1901c3b3928a1b6cf8c,bug/2000150, ovs-ports: true,,4,0
openstack%2Fneutron-tempest-plugin~master~I4918d5977b352d06509d290686c283c5a28fff35,openstack/neutron-tempest-plugin,master,I4918d5977b352d06509d290686c283c5a28fff35,[DNM] Check status jammy nested-virt nodes,ABANDONED,2022-12-14 07:27:41.000000000,2023-06-17 09:47:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-14 07:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/915a27d92153b479b700d067a498aadfd8eeb322', 'message': '[DNM] reproduce #1999249 attempt 2\n\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n'}, {'number': 2, 'created': '2023-01-09 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/60e55aafbeea41780d5d5fb339a543c5ad94596f', 'message': '[DNM] Check status jammy nodes\n\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n'}, {'number': 3, 'created': '2023-03-01 15:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3e3b0e34b511b6e34116e01dd601d34cd97b074c', 'message': '[DNM] Check status jammy nodes\n\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n'}, {'number': 4, 'created': '2023-04-27 13:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bec963ecc30cd1ca55aa33644c320a94ba9860a4', 'message': ""[DNM] Check status jammy nested-virt nodes\n\nAs per latest update from guilhermesp all\npending vexxhost nodes are upgraded, let's\nsee how this goes now.\n\nRelated-Bug: #1999249\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n""}, {'number': 5, 'created': '2023-04-28 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4e81fb60c55bff8de97558a43ddd158ec195401e', 'message': ""[DNM] Check status jammy nested-virt nodes\n\nAs per latest update from guilhermesp all\npending vexxhost nodes are upgraded, let's\nsee how this goes now.\n\nRelated-Bug: #1999249\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n""}, {'number': 6, 'created': '2023-04-28 12:00:38.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'playbooks/pre.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/project.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/893179993658bd48b715d567005af96eaa31f0e9', 'message': ""[DNM] Check status jammy nested-virt nodes\n\nAs per latest update from guilhermesp all\npending vexxhost nodes are upgraded, let's\nsee how this goes now.\n\nRelated-Bug: #1999249\nChange-Id: I4918d5977b352d06509d290686c283c5a28fff35\n""}]",8,867609,893179993658bd48b715d567005af96eaa31f0e9,29,1,6,13861,,,0,"[DNM] Check status jammy nested-virt nodes

As per latest update from guilhermesp all
pending vexxhost nodes are upgraded, let's
see how this goes now.

Related-Bug: #1999249
Change-Id: I4918d5977b352d06509d290686c283c5a28fff35
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/09/867609/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pre.yaml', 'zuul.d/project.yaml']",2,915a27d92153b479b700d067a498aadfd8eeb322,bug/1999249,- job: name: neutron-tempest-plugin-ovn-1 parent: neutron-tempest-plugin-ovn pre-run: playbooks/pre.yaml - job: name: neutron-tempest-plugin-ovn-2 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-3 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-4 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-5 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-6 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-7 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-8 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-9 parent: neutron-tempest-plugin-ovn-1 - job: name: neutron-tempest-plugin-ovn-10 parent: neutron-tempest-plugin-ovn-1 - neutron-tempest-plugin-ovn-1 - neutron-tempest-plugin-ovn-2 - neutron-tempest-plugin-ovn-3 - neutron-tempest-plugin-ovn-4 - neutron-tempest-plugin-ovn-5 - neutron-tempest-plugin-ovn-6 - neutron-tempest-plugin-ovn-7 - neutron-tempest-plugin-ovn-8 - neutron-tempest-plugin-ovn-9 - neutron-tempest-plugin-ovn-10, - neutron-tempest-plugin-linuxbridge - neutron-tempest-plugin-openvswitch - neutron-tempest-plugin-openvswitch-iptables_hybrid - neutron-tempest-plugin-ovn - neutron-tempest-plugin-designate-scenario - build-openstack-docs-pti - neutron-tempest-plugin-jobs-wallaby - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - neutron-tempest-plugin-jobs-zed - check-requirements - tempest-plugin-jobs - release-notes-jobs-python3 check: jobs: - neutron-tempest-plugin-sfc - neutron-tempest-plugin-sfc-wallaby - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-sfc-zed - neutron-tempest-plugin-bgpvpn-bagpipe - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-zed - neutron-tempest-plugin-dynamic-routing - neutron-tempest-plugin-dynamic-routing-wallaby - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-dynamic-routing-zed - neutron-tempest-plugin-fwaas - neutron-tempest-plugin-fwaas-zed - neutron-tempest-plugin-vpnaas - neutron-tempest-plugin-vpnaas-wallaby - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-vpnaas-zed - neutron-tempest-plugin-tap-as-a-service - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga - neutron-tempest-plugin-tap-as-a-service-zed ,57,42
openstack%2Fneutron-tempest-plugin~master~I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0,openstack/neutron-tempest-plugin,master,I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0,Use OVN version 22.06,ABANDONED,2022-06-29 23:54:20.000000000,2023-06-17 09:47:38.000000000,,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-29 23:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2e4885e20423c18fcd2d8331566c391172c0faa3', 'message': 'Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin version 22.06 of OVN. This change updates CI jobs definition to\nrequire OVN version 22.06\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n'}, {'number': 2, 'created': '2022-07-07 23:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7bea70f82d44f39b715ae252234b802c1104657', 'message': 'Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin version 22.06 of OVN. This change updates CI jobs definition to\nrequire OVN version 22.06\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n'}, {'number': 3, 'created': '2023-01-31 01:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f3bd780048fcf1308f4f202b72e5a22d4006ed69', 'message': 'Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin version 22.06 of OVN. This change updates CI jobs definition to\nrequire OVN version 22.06\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n'}, {'number': 4, 'created': '2023-02-13 04:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bc237b3ef8ea83280bf5fb67de7e915b33da241f', 'message': ""Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin OVN's latest versions. This change updates CI jobs definition to\nrequire OVN branch main.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n""}, {'number': 5, 'created': '2023-02-14 00:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/461d599b761a9984aaa1a9782afbead8adf6af9b', 'message': 'Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin version 22.06 of OVN. This change updates CI jobs definition to\nrequire OVN version 22.06.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n'}, {'number': 6, 'created': '2023-04-29 16:57:41.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a44372f605dffac72d63933b6decac7cb158c94d', 'message': 'Use OVN version 22.06\n\n[0] changes the default firewall policy in ML2 / OVN based on the new\ndefault_acl_drop option in upstream OVN [1]. This new option is included\nin version 22.06 of OVN. This change updates CI jobs definition to\nrequire OVN version 22.06.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/839066\n[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nChange-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0\n'}]",0,848198,a44372f605dffac72d63933b6decac7cb158c94d,22,5,6,4694,,,0,"Use OVN version 22.06

[0] changes the default firewall policy in ML2 / OVN based on the new
default_acl_drop option in upstream OVN [1]. This new option is included
in version 22.06 of OVN. This change updates CI jobs definition to
require OVN version 22.06.

[0] https://review.opendev.org/c/openstack/neutron/+/839066
[1] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/

Change-Id: I1d4ed4172031f0c2aae4886ca0daad1b90e55ee0
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/98/848198/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,2e4885e20423c18fcd2d8331566c391172c0faa3,default-acl-drop," OVN_BRANCH: ""v22.06.0"" OVS_BRANCH: ""d94cd0d3eec33e4290d7ca81918f5ac61444886e"""," OVN_BRANCH: ""v21.06.0"" OVS_BRANCH: ""a4b04276ab5934d087669ff2d191a23931335c87""",2,2
openstack%2Fneutron-tempest-plugin~master~If091110741730c83d05a78afc44c2c614e99e486,openstack/neutron-tempest-plugin,master,If091110741730c83d05a78afc44c2c614e99e486,[Secure RBAC] Add scope enforcement enabled job for Zed branch,ABANDONED,2023-02-21 21:44:49.000000000,2023-06-17 09:47:34.000000000,,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-21 21:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3abf5f622346ee00c09862bfdcbda676c91bbb24', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 2, 'created': '2023-02-22 08:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/41ba52e57ea22801bcc0be5c2e5ccc7e95e2e2f3', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 3, 'created': '2023-02-28 12:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/81b6a2fef31d4a01b01f737fefeecb38b23cbc70', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 4, 'created': '2023-03-08 10:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dd6baaa6ee5992747cb2cd3d512bcc14ba796937', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/876802\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 5, 'created': '2023-03-08 10:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e8650aa37cb0bd5f75ab4d88788e73b7e8948cfe', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/876802\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nRequires: https://review.opendev.org/c/openstack/releases/+/876837\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 6, 'created': '2023-03-08 10:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/bfb0175497e5650eb1726915666fce5397850729', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/876802\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nRequires: https://review.opendev.org/c/openstack/releases/+/876835\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 7, 'created': '2023-03-22 17:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b91b0bb5f03d8805b567a0ea9e41b6f5fe203846', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/876802\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nRequires: https://review.opendev.org/c/openstack/releases/+/876835\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 8, 'created': '2023-03-28 10:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c115e783d68863decc9003d4a1001aa7316281b5', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/876802\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875605\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875606\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/875607\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/874398\n\nRequires: https://review.opendev.org/c/openstack/releases/+/876835\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}, {'number': 9, 'created': '2023-03-28 12:20:50.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0a4aa8000f3117dbe64ac849d057f70b70ca832c', 'message': '[Secure RBAC] Add scope enforcement enabled job for Zed branch\n\nThis patch adds one new job\n\nneutron-tempest-plugin-openvswitch-enforce-scope-new-defaults\n\nalso to the stable/Zed branch.\n\nThis job have enabled using scope enforcing and new default API policies\nin Neutron and other projects (Glance, Nova) which supports that.\n\nWe implemented full support for the phase1 of the Secure RBAC policies\nin Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes\nare backported to stable/zed branch and as there is request from\ncommunity to actually support it in stable/Zed branch too we can add\nthis CI job to stable/Zed branch also to be sure that it works there\ntoo.\n\nChange-Id: If091110741730c83d05a78afc44c2c614e99e486\n'}]",27,874709,0a4aa8000f3117dbe64ac849d057f70b70ca832c,52,3,9,11975,,,0,"[Secure RBAC] Add scope enforcement enabled job for Zed branch

This patch adds one new job

neutron-tempest-plugin-openvswitch-enforce-scope-new-defaults

also to the stable/Zed branch.

This job have enabled using scope enforcing and new default API policies
in Neutron and other projects (Glance, Nova) which supports that.

We implemented full support for the phase1 of the Secure RBAC policies
in Neutron in 2023.1 (Anthelope) cycle but as all required (small) fixes
are backported to stable/zed branch and as there is request from
community to actually support it in stable/Zed branch too we can add
this CI job to stable/Zed branch also to be sure that it works there
too.

Change-Id: If091110741730c83d05a78afc44c2c614e99e486
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/09/874709/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/zed_jobs.yaml']",2,3abf5f622346ee00c09862bfdcbda676c91bbb24,cleaning-eol-branches," name: neutron-tempest-plugin-openvswitch-enforce-scope-new-defaults-zed parent: neutron-tempest-plugin-openvswitch-enforce-scope-new-defaults nodeset: openstack-single-node-focal override-checkout: stable/zed vars: network_api_extensions_openvswitch: - local_ip - qos-bw-minimum-ingress tempest_test_regex: ""\ (^neutron_tempest_plugin.api)|\ (^neutron_tempest_plugin.scenario)|\ (^tempest.api.compute.servers.test_attach_interfaces)|\ (^tempest.api.compute.servers.test_multiple_create)"" network_available_features: *available_features devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ (network_api_extensions_common + network_api_extensions_openvswitch) | join(',') }}"" devstack_local_conf: test-config: $TEMPEST_CONFIG: network-feature-enabled: available_features: ""{{ network_available_features | join(',') }}"" - job:",,24,0
openstack%2Fneutron-tempest-plugin~master~I92e8d0b989ab911860381f5d2ab4b1929d79e7ed,openstack/neutron-tempest-plugin,master,I92e8d0b989ab911860381f5d2ab4b1929d79e7ed,Move to python3.9 as minimal python version,ABANDONED,2023-04-24 10:10:05.000000000,2023-06-17 09:47:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 10:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f75344a3aac933dab73974a1c1f168511998dd22', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as\nminimal testing rutime[1]. openstack-tox-py38\njob started to fail as libraries(like tooz) already\ndropped py3.8 support.\n\nThis patch updates networking-bagpipe jobs and\nsetup.cfg to reflect the same.\n\n[1] https://review.opendev.org/c/openstack/governance/+/872232\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}, {'number': 2, 'created': '2023-04-24 11:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b8ed045894dce861d6c8d6762edb69f229056dbb', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as minimal\ntesting rutime[1]. Some libraries (like tooz) already\ndropped py3.8 support.\n\n[1]https://review.opendev.org/c/openstack/governance/+/872232\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881363\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}, {'number': 3, 'created': '2023-04-24 13:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ca1e3d75cf49d4b5f58dd81a7ed33ad33527ff18', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as minimal\ntesting rutime[1]. Some libraries (like tooz) already\ndropped py3.8 support.\n\n[1]https://review.opendev.org/c/openstack/governance/+/872232\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881363\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}, {'number': 4, 'created': '2023-04-24 14:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/987aa0324e4cf6953cf4a8a38e372a190a6d4522', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as minimal\ntesting rutime[1]. Some libraries (like tooz) already\ndropped py3.8 support.\n\n[1]https://review.opendev.org/c/openstack/governance/+/872232\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881363\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}, {'number': 5, 'created': '2023-04-24 14:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/439a266dc0c842a2637f94e598724db49a3a1f0f', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as minimal\ntesting rutime[1]. Some libraries (like tooz) already\ndropped py3.8 support.\n\n[1]https://review.opendev.org/c/openstack/governance/+/872232\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881363\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}, {'number': 6, 'created': '2023-04-24 16:05:08.000000000', 'files': ['zuul.d/base-nested-switch.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c5c8c6a6374dfa2192256fbf04c9bbdaa3cfa527', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as minimal\ntesting rutime[1]. Some libraries (like tooz) already\ndropped py3.8 support.\n\n[1]https://review.opendev.org/c/openstack/governance/+/872232\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/881363\n\nRelated-Bug: #2017478\nChange-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed\n'}]",5,881354,c5c8c6a6374dfa2192256fbf04c9bbdaa3cfa527,15,4,6,16688,,,0,"Move to python3.9 as minimal python version

2023.2 release is targetting python3.9 as minimal
testing rutime[1]. Some libraries (like tooz) already
dropped py3.8 support.

[1]https://review.opendev.org/c/openstack/governance/+/872232

Depends-On: https://review.opendev.org/c/openstack/devstack/+/881363

Related-Bug: #2017478
Change-Id: I92e8d0b989ab911860381f5d2ab4b1929d79e7ed
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/54/881354/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,f75344a3aac933dab73974a1c1f168511998dd22,bug/2017478, PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9 PYTHON3_VERSION: 3.9,,12,0
openstack%2Fnetworking-odl~master~Ied7bb6103b9c99a5a5aa7dcbcd052117ee74f97e,openstack/networking-odl,master,Ied7bb6103b9c99a5a5aa7dcbcd052117ee74f97e,Move to python3.9 as minimal python version,ABANDONED,2023-04-24 09:56:47.000000000,2023-06-17 09:47:27.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 09:56:47.000000000', 'files': ['.zuul.d/project.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/adc42b445f892a3ba63e5525b7cc97737f90a590', 'message': 'Move to python3.9 as minimal python version\n\n2023.2 release is targetting python3.9 as\nminimal testing rutime[1]. openstack-tox-py38\njob started to fail as libraries(like tooz) already\ndropped py3.8 support.\n\nThis patch updates networking-odl jobs and\nsetup.cfg to reflect the same.\n\n[1] https://review.opendev.org/c/openstack/governance/+/872232\n\nChange-Id: Ied7bb6103b9c99a5a5aa7dcbcd052117ee74f97e\nCloses-Bug: #2017478\n'}]",3,881346,adc42b445f892a3ba63e5525b7cc97737f90a590,7,4,1,8313,,,0,"Move to python3.9 as minimal python version

2023.2 release is targetting python3.9 as
minimal testing rutime[1]. openstack-tox-py38
job started to fail as libraries(like tooz) already
dropped py3.8 support.

This patch updates networking-odl jobs and
setup.cfg to reflect the same.

[1] https://review.opendev.org/c/openstack/governance/+/872232

Change-Id: Ied7bb6103b9c99a5a5aa7dcbcd052117ee74f97e
Closes-Bug: #2017478
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/46/881346/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'setup.cfg']",2,adc42b445f892a3ba63e5525b7cc97737f90a590,bug/2017478,python_requires = >=3.9 Programming Language :: Python :: 3.10,python_requires = >=3.8 Programming Language :: Python :: 3.8,2,6
openstack%2Fneutron-lib~master~I54808cbd4cdccfee97eb59053418f55ba57e11a6,openstack/neutron-lib,master,I54808cbd4cdccfee97eb59053418f55ba57e11a6,[WIP] rbacs: filter out model that are already owned by context,ABANDONED,2023-01-16 15:16:21.000000000,2023-06-17 09:47:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 33910}]","[{'number': 1, 'created': '2023-01-16 15:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2c853b805676282b7b8ece29cf39a587c2f6b32c', 'message': '[WIP] rbacs: filter out model that are already owned by context\n\nTaking example of a network that have multiple rbacs. In a situation\nof selecting networks that are shared to a project.\n\nIf we could could already match the one that are owned by the context\nwe can expect les rbacs to scan.\n\nhttps://bugs.launchpad.net/neutron/+bug/1918145/comments/54\n\nIn an environement with about 200 00 rbacs and 200 networks this\nreduce time of the request from more than 50s to less than a second.\n\nRelated-bug: #1918145\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I54808cbd4cdccfee97eb59053418f55ba57e11a6\n'}, {'number': 2, 'created': '2023-05-05 15:26:17.000000000', 'files': ['neutron_lib/db/model_query.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/305472b673eaee61a22e0d54a8873cbcc81911fb', 'message': '[WIP] rbacs: filter out model that are already owned by context\n\nTaking example of a network that have multiple rbacs. In a situation\nof selecting networks that are shared to a project.\n\nIf we could could already match the one that are owned by the context\nwe can expect les rbacs to scan.\n\nhttps://bugs.launchpad.net/neutron/+bug/1918145/comments/54\n\nIn an environement with about 200 00 rbacs and 200 networks this\nreduce time of the request from more than 50s to less than a second.\n\nRelated-bug: #1918145\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I54808cbd4cdccfee97eb59053418f55ba57e11a6\n'}]",11,870557,305472b673eaee61a22e0d54a8873cbcc81911fb,16,2,2,7730,,,0,"[WIP] rbacs: filter out model that are already owned by context

Taking example of a network that have multiple rbacs. In a situation
of selecting networks that are shared to a project.

If we could could already match the one that are owned by the context
we can expect les rbacs to scan.

https://bugs.launchpad.net/neutron/+bug/1918145/comments/54

In an environement with about 200 00 rbacs and 200 networks this
reduce time of the request from more than 50s to less than a second.

Related-bug: #1918145
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I54808cbd4cdccfee97eb59053418f55ba57e11a6
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/57/870557/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/db/model_query.py'],1,2c853b805676282b7b8ece29cf39a587c2f6b32c,rbac-issues," if context: # We want to already filter out model that are already # owned by context. is_shared = or_(model.tenant_id == context.tenant_id, is_shared)",,5,0
openstack%2Fovn-octavia-provider~master~I380c7aee4ea59e4b0675e2388e03220bf8436187,openstack/ovn-octavia-provider,master,I380c7aee4ea59e4b0675e2388e03220bf8436187,"[DNM] Test issue with ""test_port_forwarding""",ABANDONED,2023-05-10 15:16:01.000000000,2023-06-17 09:47:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-10 15:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/8a463f347a8ce06d38fcfada0892756a1f4ad5ec', 'message': '[DNM] Test issue with ""test_port_forwarding""\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882857\nChange-Id: I380c7aee4ea59e4b0675e2388e03220bf8436187\n'}, {'number': 2, 'created': '2023-05-10 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3e66d2a7503d46bf2d2923d7666d238fd46055f0', 'message': '[DNM] Test issue with ""test_port_forwarding""\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882857\nChange-Id: I380c7aee4ea59e4b0675e2388e03220bf8436187\n'}, {'number': 3, 'created': '2023-05-10 16:54:29.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/agent.py', 'ovn_octavia_provider/tests/functional/test_driver.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ac0e2fdefb9da29b60b09a8bb5202c58a3253f5c', 'message': '[DNM] Test issue with ""test_port_forwarding""\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882857\nChange-Id: I380c7aee4ea59e4b0675e2388e03220bf8436187\n'}]",0,882872,ac0e2fdefb9da29b60b09a8bb5202c58a3253f5c,7,1,3,16688,,,0,"[DNM] Test issue with ""test_port_forwarding""

Depends-On: https://review.opendev.org/c/openstack/neutron/+/882857
Change-Id: I380c7aee4ea59e4b0675e2388e03220bf8436187
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/72/882872/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/agent.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,8a463f347a8ce06d38fcfada0892756a1f4ad5ec,test_port_forwarding, - ovn-octavia-provider-functional-release-1 - ovn-octavia-provider-functional-release-2 - ovn-octavia-provider-functional-release-3 - ovn-octavia-provider-functional-release-4 - ovn-octavia-provider-functional-release-5 - ovn-octavia-provider-functional-release-6 - ovn-octavia-provider-functional-release-7 - ovn-octavia-provider-functional-release-8 - ovn-octavia-provider-functional-release-9 - ovn-octavia-provider-functional-release-10, templates: - publish-openstack-docs-pti - release-notes-jobs-python3 - check-requirements - openstack-cover-jobs - openstack-python3-jobs-neutron - openstack-tox-cover: required-projects: - openstack/neutron - ovn-octavia-provider-functional-release - ovn-octavia-provider-functional-master - ovn-octavia-provider-tempest-release - ovn-octavia-provider-tempest-master: voting: false - kuryr-kubernetes-tempest-ovn-provider-ovn: voting: false gate: fail-fast: true jobs: - ovn-octavia-provider-functional-release - ovn-octavia-provider-functional-master - ovn-octavia-provider-tempest-release,43,22
openstack%2Fovn-octavia-provider~stable%2Fxena~Ia8a604ffc221c38856a8c30b25e26f2951338819,openstack/ovn-octavia-provider,stable/xena,Ia8a604ffc221c38856a8c30b25e26f2951338819,[DNM] Test issue with sqlite3.InterfaceError,ABANDONED,2023-05-11 08:44:11.000000000,2023-06-17 09:47:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-11 08:44:11.000000000', 'files': ['ovn_octavia_provider/agent.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e29b2b73a6a5626fe0171528c459b32e300269b5', 'message': '[DNM] Test issue with sqlite3.InterfaceError\n\nPatch to try to identify if this branch is affected by\nsqlite3.Interface cursor error.\n\nChange-Id: Ia8a604ffc221c38856a8c30b25e26f2951338819\n'}]",0,882922,e29b2b73a6a5626fe0171528c459b32e300269b5,3,1,1,34451,,,0,"[DNM] Test issue with sqlite3.InterfaceError

Patch to try to identify if this branch is affected by
sqlite3.Interface cursor error.

Change-Id: Ia8a604ffc221c38856a8c30b25e26f2951338819
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/22/882922/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/agent.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,e29b2b73a6a5626fe0171528c459b32e300269b5,, - ovn-octavia-provider-functional-release-1 - ovn-octavia-provider-functional-release-2 - ovn-octavia-provider-functional-release-3 - ovn-octavia-provider-functional-release-4 - ovn-octavia-provider-functional-release-5 - ovn-octavia-provider-functional-release-6 - ovn-octavia-provider-functional-release-7 - ovn-octavia-provider-functional-release-8 - ovn-octavia-provider-functional-release-9 - ovn-octavia-provider-functional-release-10, templates: - publish-openstack-docs-pti - release-notes-jobs-python3 - check-requirements - openstack-python3-xena-jobs-neutron - openstack-cover-jobs - openstack-tox-cover: required-projects: - openstack/neutron - ovn-octavia-provider-functional-release - ovn-octavia-provider-tempest-release - kuryr-kubernetes-tempest-ovn-provider-ovn: voting: false gate: fail-fast: true jobs: - ovn-octavia-provider-functional-release - ovn-octavia-provider-tempest-release,42,18
openstack%2Fneutron~master~Ia8c6c411fc0b6ef9e23db0c108fa4594b2acc3d5,openstack/neutron,master,Ia8c6c411fc0b6ef9e23db0c108fa4594b2acc3d5,[DNM] Test,ABANDONED,2023-05-11 23:50:32.000000000,2023-06-17 09:47:09.000000000,,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 23:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/625ab570e361b79b4e093af258dcc6107548abe5', 'message': '[DNM] Test\n\nTest\n\nChange-Id: Ia8c6c411fc0b6ef9e23db0c108fa4594b2acc3d5\n'}, {'number': 2, 'created': '2023-05-12 21:58:38.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80c2875dac5819d3ce786558d8c18e78d4a8ad60', 'message': '[DNM] Test\n\nTest\n\nChange-Id: Ia8c6c411fc0b6ef9e23db0c108fa4594b2acc3d5\n'}]",3,883047,80c2875dac5819d3ce786558d8c18e78d4a8ad60,12,4,2,4694,,,0,"[DNM] Test

Test

Change-Id: Ia8c6c411fc0b6ef9e23db0c108fa4594b2acc3d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/883047/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,625ab570e361b79b4e093af258dcc6107548abe5,remote-secgroup-bug," # Some security groups, like the default created for projects, # have rules that point to it as remote group. No need to publish # event for them, since they will be deleted here. if rule['security_group_id'] != rule['remote_group_id']: registry.publish( resources.SECURITY_GROUP_RULE, events.AFTER_DELETE, self, payload=events.DBEventPayload( context, resource_id=rule['id'], metadata={'security_group_id': rule['security_group_id'], 'remote_group_id': rule['remote_group_id'], 'rule': rule } )"," registry.publish( resources.SECURITY_GROUP_RULE, events.AFTER_DELETE, self, payload=events.DBEventPayload( context, resource_id=rule['id'], metadata={'security_group_id': rule['security_group_id'], 'remote_group_id': rule['remote_group_id'], 'rule': rule } )",16,12
openstack%2Fneutron~master~Ibe94a1c1d2228daf37d2447034065ddd15308c1f,openstack/neutron,master,Ibe94a1c1d2228daf37d2447034065ddd15308c1f,[WIP][DNM][OVN] Change the default firewall policy,ABANDONED,2022-04-22 13:59:29.000000000,2023-06-17 09:47:03.000000000,,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 13:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f227c26980b6eb39b1da613fd208e49e329e10a7', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 2, 'created': '2022-05-22 00:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cdfc9c987a0338fabcc283d75413f7879db8049', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 3, 'created': '2022-05-26 23:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8a29d3dfca4316c622cf3af8ac37ef24e57df84', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 4, 'created': '2022-05-27 22:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84d4364c437fa41912079f1ed0709de8391b23db', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 5, 'created': '2022-05-29 23:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54c2d086ab03ca068ce4bb05301a19815b2843ae', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 6, 'created': '2022-05-30 17:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce865a4016ceb03b0960ebcb6fd36084a7500e0c', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 7, 'created': '2022-06-01 19:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12adbc18338e253bc7f25bfa1d2b74415e111e97', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 8, 'created': '2022-06-03 21:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/128c87c06724e041c2647d3aad6f3948d4ac2b51', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 9, 'created': '2022-06-06 21:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dae0563b92a8d62ed1623f4cb72086f6021d49bd', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 10, 'created': '2022-06-07 22:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a16e77f912ecae9c11715f79b182873dd2e1e617', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 11, 'created': '2022-06-08 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a3a3ce24ed49dfc1a22fe395f484da6e6dbbde4', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 12, 'created': '2022-06-30 00:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/578fb50b3d57726c125cd2390eb9ccfaa7d9a828', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 13, 'created': '2022-07-20 23:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a718c9018c27813f5da1393653f32cdd0a314b8', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 14, 'created': '2022-11-21 23:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f1d8d252301233f9692eab9735b46aa99744d0b', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 15, 'created': '2022-11-23 23:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/052cb1f0cda22b81ae3c9e3c2ebd2ec6d4f78838', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 16, 'created': '2022-11-24 19:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e48904c82ac4cf0eaa2f9a1f74e6c59353f07418', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 17, 'created': '2022-11-25 00:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3398a73f45c6ad6b730f250d7fe03b3790c103b4', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 18, 'created': '2022-11-27 00:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81a12d3a0d7c03b1350e5510e727a2da857a8a8d', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 19, 'created': '2023-01-31 04:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/090cdc0f60e7e45ceb620a77b15c2da1522e33d3', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 20, 'created': '2023-01-31 23:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d04310a22ca389bfa1f0bc6550c7c311f19d4bd5', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 21, 'created': '2023-02-01 00:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71ff65f4cb048bc3438311d4dfe8c94bf5ce5a3b', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 22, 'created': '2023-02-06 23:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9eb119b7c73852366390bcc9eb084b8fbf8b2dfd', 'message': ""[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group 'neutron_pg_drop'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default 'allow' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old 'drop' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nPlease keep in mind that:\n\n- This hasn't been tested\n- There's no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n""}, {'number': 23, 'created': '2023-02-13 17:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/563fa027ad74e1213ba02b890a03ecb83026ec36', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 24, 'created': '2023-02-13 17:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6da8f09e1d25bc2d925662ce093a40f2a10d87b', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 25, 'created': '2023-04-28 23:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a07ce361f10fc59e467fb9164c13392aea2da19', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 26, 'created': '2023-05-09 23:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89ee77e270271c7de604a9d1779a824c46a98f76', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 27, 'created': '2023-05-10 22:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1361aaf4c97c4d2c1a5f0337dc72e2ece8094566', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 28, 'created': '2023-05-10 22:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e4620f6032a98708c088a0aa9d59fdd8733a151', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 29, 'created': '2023-05-16 01:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab488cf308fd9c51baf2e4a9e445c6c764458e89', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}, {'number': 30, 'created': '2023-05-17 01:24:29.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/api.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'doc/source/admin/ovn/refarch/refarch.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfa0e788228ba45a35857f94cca04836bbfcd9b7', 'message': '[WIP][DNM][OVN] Change the default firewall policy\n\nThe default behavior in OVN has been to allow traffic by default\nunless explicitly blocked. Neutron default policy is to block all\nthe traffic for those ports that belong to a Security Group.\n\nTo implement this with OVN, we created a Port Group \'neutron_pg_drop\'\nto which we added all the ports that belonged to a Neutron SG.\nAt scale, this could pose some issues as we could find the PG\nwith tens of thousands ports affecting the performance.\n\nWith this core OVN patch [0], there is the option to reverse the\nbehavior and Neutron then would need to do the opposite:\n\n- Create a default \'allow\' port group and add those ports that\n  do not belong to any SG.\n\n- Set the config setting in OVN to change the policy.\n\n- Remove the old \'drop\' Port Group\n\nIdeally, this new Port Group will have a lot less ports and\nshould perform better.\n\nWith this new behavior, we also need to have three ""global"" ACLs in every\nsecurity group / port group:\n\n- Since now every traffic has to be allowed explicitly, there has to be\n  a couple of ACLs that allow ARP and ND packets, one for each\n  direction.\n- Since [1], traffic in the after load balancer stage has to be allowed\n  explicitly.\n\nPlease keep in mind that:\n\n- This hasn\'t been tested\n- There\'s no way to tell from the schema if the core OVN knob is going\n  to be honored\n- There are cases missing in this current patch (eg. port removed from a\n  SG)\n- No tests added\n- No code accounting for the db sync tool\n- Maybe others\n\nThis is just a quick PoC.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198\n\n[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/\n[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613\n\nCo-authored-by: Miguel Lavalle <mlavalle@redhat.com>\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f\n'}]",83,839066,dfa0e788228ba45a35857f94cca04836bbfcd9b7,180,5,30,23804,,,0,"[WIP][DNM][OVN] Change the default firewall policy

The default behavior in OVN has been to allow traffic by default
unless explicitly blocked. Neutron default policy is to block all
the traffic for those ports that belong to a Security Group.

To implement this with OVN, we created a Port Group 'neutron_pg_drop'
to which we added all the ports that belonged to a Neutron SG.
At scale, this could pose some issues as we could find the PG
with tens of thousands ports affecting the performance.

With this core OVN patch [0], there is the option to reverse the
behavior and Neutron then would need to do the opposite:

- Create a default 'allow' port group and add those ports that
  do not belong to any SG.

- Set the config setting in OVN to change the policy.

- Remove the old 'drop' Port Group

Ideally, this new Port Group will have a lot less ports and
should perform better.

With this new behavior, we also need to have three ""global"" ACLs in every
security group / port group:

- Since now every traffic has to be allowed explicitly, there has to be
  a couple of ACLs that allow ARP and ND packets, one for each
  direction.
- Since [1], traffic in the after load balancer stage has to be allowed
  explicitly.

Please keep in mind that:

- This hasn't been tested
- There's no way to tell from the schema if the core OVN knob is going
  to be honored
- There are cases missing in this current patch (eg. port removed from a
  SG)
- No tests added
- No code accounting for the db sync tool
- Maybe others

This is just a quick PoC.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/848198

[0] https://patchwork.ozlabs.org/project/ovn/patch/20220419133746.17712-1-dceara@redhat.com/
[1] https://github.com/ovn-org/ovn/commit/74d82e296f80f38948bcb39cd610447c1f435613

Co-authored-by: Miguel Lavalle <mlavalle@redhat.com>

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Ibe94a1c1d2228daf37d2447034065ddd15308c1f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/839066/15 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/services/logapi/drivers/ovn/test_driver.py', 'neutron/services/logapi/drivers/ovn/driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'doc/source/admin/ovn/refarch/refarch.rst', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",13,f227c26980b6eb39b1da613fd208e49e329e10a7,," def _create_neutron_pg_allow(self): """"""Create neutron_pg_allow Port Group. idl.set_lock('pg_allow_creation') create_default_allow_port_group(pre_ovn_nb_api) {'pg': ovn_const.OVN_ALLOW_PORT_GROUP_NAME}) if not idl.neutron_pg_allow_event.wait(): {'pg': ovn_const.OVN_ALLOW_PORT_GROUP_NAME}) {'pg': ovn_const.OVN_ALLOW_PORT_GROUP_NAME})def create_default_allow_port_group(nb_idl): pg_name = ovn_const.OVN_ALLOW_PORT_GROUP_NAME # If allow Port Group doesn't exist yet, create it. # Add ACLs to this Port Group so that all traffic is allowed. acls = ovn_acl.add_acls_for_allow_port_group(pg_name) ports_without_pg = set() for pg in nb_idl.get_no_sg_port_groups().values(): if ports_without_pg: txn.add(nb_idl.pg_add_ports(pg_name, list(ports_without_pg)))"," self._create_neutron_pg_drop() def _create_neutron_pg_drop(self): """"""Create neutron_pg_drop Port Group. idl.set_lock('pg_drop_creation') create_default_drop_port_group(pre_ovn_nb_api) {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) if not idl.neutron_pg_drop_event.wait(): {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) def create_default_drop_port_group(nb_idl): pg_name = ovn_const.OVN_DROP_PORT_GROUP_NAME # If drop Port Group doesn't exist yet, create it. # Add ACLs to this Port Group so that all traffic is dropped. acls = ovn_acl.add_acls_for_drop_port_group(pg_name) ports_with_pg = set() for pg in nb_idl.get_sg_port_groups().values(): if ports_with_pg: txn.add(nb_idl.pg_add_ports(pg_name, list(ports_with_pg))) ",62,175
openstack%2Fcinder~master~Idbcd0c583bf56cf0e811d5a6744002493b51a89c,openstack/cinder,master,Idbcd0c583bf56cf0e811d5a6744002493b51a89c,LIO: Add discard support,NEW,2023-06-07 09:24:47.000000000,2023-06-17 02:38:48.000000000,,"[{'_account_id': 597}, {'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 09:24:47.000000000', 'files': ['cinder/tests/unit/targets/test_lio_driver.py', 'cinder/volume/targets/driver.py', 'releasenotes/notes/lio-discard-support-e4a8df14c72683af.yaml', 'cinder/volume/targets/lio.py', 'cinder/cmd/rtstool.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b68782d4e1d4718389d0a538ebeded699d67ca9', 'message': 'LIO: Add discard support\n\nExisting LIO iSCSI targets do not support trimming, this means that thin\nprovisioned volumes are not able to free up disk space.\n\nThis patch enables the emulation of:\n- SCSI UNMAP\n- WRITE_SAME with UNMAP=1\n\nThis will allow LVM with LIO to reclaim space on Nova instances when the\nguest OS calls the ""fstrim"" command.\n\nCloses-Bug: #2023168\nChange-Id: Idbcd0c583bf56cf0e811d5a6744002493b51a89c\n'}]",0,885451,4b68782d4e1d4718389d0a538ebeded699d67ca9,21,3,1,9535,,,0,"LIO: Add discard support

Existing LIO iSCSI targets do not support trimming, this means that thin
provisioned volumes are not able to free up disk space.

This patch enables the emulation of:
- SCSI UNMAP
- WRITE_SAME with UNMAP=1

This will allow LVM with LIO to reclaim space on Nova instances when the
guest OS calls the ""fstrim"" command.

Closes-Bug: #2023168
Change-Id: Idbcd0c583bf56cf0e811d5a6744002493b51a89c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/885451/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/targets/test_lio_driver.py', 'cinder/volume/targets/driver.py', 'releasenotes/notes/lio-discard-support-e4a8df14c72683af.yaml', 'cinder/cmd/rtstool.py', 'cinder/volume/targets/lio.py', 'cinder/volume/drivers/lvm.py']",6,4b68782d4e1d4718389d0a538ebeded699d67ca9,discard-lio," res = self.target_driver.initialize_connection(volume, connector) res['data']['discard'] = self.target_driver.supports_discard return res"," return self.target_driver.initialize_connection(volume, connector)",49,8
openstack%2Fcharm-nova-compute~stable%2Ftrain~I12cd4bf5953170d227d52793764c49f3871e25f9,openstack/charm-nova-compute,stable/train,I12cd4bf5953170d227d52793764c49f3871e25f9,Render correct driver in nova-compute.conf,NEW,2023-06-16 20:01:02.000000000,2023-06-17 01:08:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 20:01:02.000000000', 'files': ['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/54d1f41013938e8cd729a3059034247963b7fc8f', 'message': 'Render correct driver in nova-compute.conf\n\nCommit abe5a289 fixed the rendering of the ironic driver in the\nnova-compute.conf file for OpenStack versions >= Wallaby. However, it\nalways renders the nova-compute.conf file for train and above, which is\nhard-coded to the Ironic libvirt driver.\n\nThis adds additional templating logic to the nova-compute.conf driver in\norder to render the correct driver to use.\n\nRelated-Bug: #1968547\nRelated-Bug: #1977803\nChange-Id: I12cd4bf5953170d227d52793764c49f3871e25f9\n(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)\n(cherry picked from commit 7f3fb79210857e40b58d6c61ed35a7ee4ac18030)\n'}]",0,886310,54d1f41013938e8cd729a3059034247963b7fc8f,3,2,1,11805,,,0,"Render correct driver in nova-compute.conf

Commit abe5a289 fixed the rendering of the ironic driver in the
nova-compute.conf file for OpenStack versions >= Wallaby. However, it
always renders the nova-compute.conf file for train and above, which is
hard-coded to the Ironic libvirt driver.

This adds additional templating logic to the nova-compute.conf driver in
order to render the correct driver to use.

Related-Bug: #1968547
Related-Bug: #1977803
Change-Id: I12cd4bf5953170d227d52793764c49f3871e25f9
(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)
(cherry picked from commit 7f3fb79210857e40b58d6c61ed35a7ee4ac18030)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/10/886310/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py']",2,54d1f41013938e8cd729a3059034247963b7fc8f,bug/1968547-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/queens-stable/train," @patch.object(compute_context, 'config') def test_resource_map_ironic_pre_victoria(self, _metadata, cctxt_config): cctxt_config.side_effect = self.test_config.get"," def test_resource_map_ironic_pre_victoria(self, _metadata):",12,2
openstack%2Fcharm-nova-compute~master~Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871,openstack/charm-nova-compute,master,Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871,[WIP] Improve instances-path,NEW,2020-04-07 20:34:03.000000000,2023-06-17 00:41:18.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-07 20:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b213b0be9b0ebbf15c38c1368623b4b8bd42edf6', 'message': '[WIP] Improve instances-path\n\nSet apparmor profile accordingly.\n\nNeeds to address backwards compatibility\nconcern.\n\nChange-Id: Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871\n'}, {'number': 2, 'created': '2020-04-22 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c6d7cd690352c8234ad091e3fc3a18830b7bdc8a', 'message': '[WIP] Improve instances-path\n\nSet apparmor profile accordingly.\n\nNeeds to address backwards compatibility\nconcern.\n\nChange-Id: Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871\n'}, {'number': 3, 'created': '2020-04-22 16:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c7cb99515106fa09d76a34e1cae25fd2117dece0', 'message': '[WIP] Improve instances-path\n\nSet apparmor profile accordingly.\n\nNeeds to address backwards compatibility\nconcern.\n\nChange-Id: Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871\n'}, {'number': 4, 'created': '2023-06-16 16:00:18.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/nova_compute_context.py', 'hooks/nova_compute_hooks.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ab043d49cded9764b814511946307d48fd7a964f', 'message': '[WIP] Improve instances-path\n\nSet apparmor profile accordingly.\n\nNeeds to address backwards compatibility\nconcern.\n\nChange-Id: Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871\n'}]",1,718219,ab043d49cded9764b814511946307d48fd7a964f,13,3,4,14567,,,0,"[WIP] Improve instances-path

Set apparmor profile accordingly.

Needs to address backwards compatibility
concern.

Change-Id: Ie753f4ced8d15c0c7765ab0e7fa17488bd26b871
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/19/718219/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'hooks/nova_compute_hooks.py', 'config.yaml']",4,b213b0be9b0ebbf15c38c1368623b4b8bd42edf6,bug/1866861," /var/lib/nova/instances. The value set will be the mount point of the encrypted volume, if enabled. Instances will be created in ""/instances"" appended at the end of the value set.", /var/lib/nova/instances.,28,7
openstack%2Fopenstack-helm-infra~master~I345e887b3f35f1d1d6c86cc40a29ff0b1920a1f1,openstack/openstack-helm-infra,master,I345e887b3f35f1d1d6c86cc40a29ff0b1920a1f1,Use --ignore-installed while install pip packages for dev env,MERGED,2023-06-15 03:27:30.000000000,2023-06-16 23:39:36.000000000,2023-06-16 23:38:41.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-15 03:27:30.000000000', 'files': ['tools/gate/devel/start.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d8935a536faaa87e084e7783ed53f4660a3a1f8', 'message': 'Use --ignore-installed while install pip packages for dev env\n\nstory: 2010785\ntask: 48210\nThere were a bunch of stories like this 2010785 and in most\ncases users face the conflict of pip and apt package\nmanagement systems. We can either use --ignore-installed\nor use python virtualenv. The second option does not contradict\nto the first one.\n\nChange-Id: I345e887b3f35f1d1d6c86cc40a29ff0b1920a1f1\n'}]",0,886158,3d8935a536faaa87e084e7783ed53f4660a3a1f8,8,3,1,3009,,,0,"Use --ignore-installed while install pip packages for dev env

story: 2010785
task: 48210
There were a bunch of stories like this 2010785 and in most
cases users face the conflict of pip and apt package
management systems. We can either use --ignore-installed
or use python virtualenv. The second option does not contradict
to the first one.

Change-Id: I345e887b3f35f1d1d6c86cc40a29ff0b1920a1f1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/58/886158/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/devel/start.sh'],1,3d8935a536faaa87e084e7783ed53f4660a3a1f8,, sudo -H -E pip3 install --ignore-installed --upgrade pip sudo -H -E pip3 install --ignore-installed --upgrade setuptools sudo -H -E pip3 install --ignore-installed --upgrade cmd2 sudo -H -E pip3 install --ignore-installed --upgrade pyopenssl sudo -H -E pip3 install --ignore-installed --upgrade ansible sudo -H -E pip3 install --ignore-installed --upgrade \, sudo -H -E pip3 install --upgrade pip sudo -H -E pip3 install --upgrade setuptools sudo -H -E pip3 install --upgrade cmd2 sudo -H -E pip3 install --upgrade pyopenssl sudo -H -E pip3 install --upgrade ansible sudo -H -E pip3 install --upgrade \,6,6
openstack%2Fcharm-deployment-guide~master~I1ddc87821febcdf9bbce0d26b38c1cac37b302e9,openstack/charm-deployment-guide,master,I1ddc87821febcdf9bbce0d26b38c1cac37b302e9,Trivial fix for generating 2023.1 guide release,MERGED,2023-06-16 17:18:24.000000000,2023-06-16 22:32:41.000000000,2023-06-16 22:31:32.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 17:18:24.000000000', 'files': ['deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/fc7c83f5ecdfe05207cf8d6ef71743e2104c6547', 'message': 'Trivial fix for generating 2023.1 guide release\n\nThis PR will be used to generate a 2023.1 version of\nthis guide by a follow-up backport of it to the\nnewly-created 2023.1 stable branch.\n\nChange-Id: I1ddc87821febcdf9bbce0d26b38c1cac37b302e9\n'}]",1,886288,fc7c83f5ecdfe05207cf8d6ef71743e2104c6547,7,2,1,30561,,,0,"Trivial fix for generating 2023.1 guide release

This PR will be used to generate a 2023.1 version of
this guide by a follow-up backport of it to the
newly-created 2023.1 stable branch.

Change-Id: I1ddc87821febcdf9bbce0d26b38c1cac37b302e9
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/88/886288/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/index.rst'],1,fc7c83f5ecdfe05207cf8d6ef71743e2104c6547,generate-2023.1-guide-release,deploying and configuring Juju charms manually.,deploying and configuring each charm manually.,1,1
openstack%2Fpuppet-aodh~master~I6a4e4fe824713a08839ab49f151415a9186a9a5a,openstack/puppet-aodh,master,I6a4e4fe824713a08839ab49f151415a9186a9a5a,replace validate_legacy with proper data types,MERGED,2023-06-15 17:03:07.000000000,2023-06-16 22:30:49.000000000,2023-06-16 22:30:49.000000000,"[{'_account_id': 7888}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 17:03:07.000000000', 'files': ['manifests/notifier.pp', 'manifests/api.pp', 'manifests/db/mysql.pp', 'manifests/listener.pp', 'manifests/config.pp', 'manifests/policy.pp', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c4ab7eb22a0888335b61ea2e2f7135a4acc78e7f', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I6a4e4fe824713a08839ab49f151415a9186a9a5a\n'}]",1,886193,c4ab7eb22a0888335b61ea2e2f7135a4acc78e7f,10,4,1,9816,,,0,"replace validate_legacy with proper data types

the validate_legacy function is marked for deprecation in
v9.0.0 from puppetlabs-stdlib.

Change-Id: I6a4e4fe824713a08839ab49f151415a9186a9a5a
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/93/886193/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/notifier.pp', 'manifests/api.pp', 'manifests/db/mysql.pp', 'manifests/listener.pp', 'manifests/config.pp', 'manifests/policy.pp', 'manifests/evaluator.pp']",7,c4ab7eb22a0888335b61ea2e2f7135a4acc78e7f,replace-validate_legacy," Boolean $manage_service = true, Boolean $enabled = true,"," $manage_service = true, $enabled = true, validate_legacy(Boolean, 'validate_bool', $manage_service) validate_legacy(Boolean, 'validate_bool', $enabled) ",22,42
openstack%2Fpuppet-barbican~master~I0707b0a8b200480dbfb8f52353596127cf4dc8b5,openstack/puppet-barbican,master,I0707b0a8b200480dbfb8f52353596127cf4dc8b5,replace validate_legacy with proper data types,MERGED,2023-06-15 17:07:18.000000000,2023-06-16 22:16:49.000000000,2023-06-16 22:16:49.000000000,"[{'_account_id': 7888}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 17:07:18.000000000', 'files': ['manifests/retry_scheduler.pp', 'manifests/keystone/notification.pp', 'manifests/worker.pp', 'manifests/api.pp', 'manifests/db/mysql.pp', 'manifests/config.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d3724a40b23e2ab952529cc7dcdf452e133b314b', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I0707b0a8b200480dbfb8f52353596127cf4dc8b5\n'}]",5,886195,d3724a40b23e2ab952529cc7dcdf452e133b314b,13,4,1,9816,,,0,"replace validate_legacy with proper data types

the validate_legacy function is marked for deprecation in
v9.0.0 from puppetlabs-stdlib.

Change-Id: I0707b0a8b200480dbfb8f52353596127cf4dc8b5
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/95/886195/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/retry_scheduler.pp', 'manifests/keystone/notification.pp', 'manifests/worker.pp', 'manifests/api.pp', 'manifests/db/mysql.pp', 'manifests/config.pp', 'manifests/policy.pp']",7,d3724a40b23e2ab952529cc7dcdf452e133b314b,replace-validate_legacy," Hash $policies = {},"," $policies = {}, validate_legacy(Hash, 'validate_hash', $policies) ",15,36
openstack%2Fpuppet-cloudkitty~master~I20a381329797402627cb14a6104014fae7ac839d,openstack/puppet-cloudkitty,master,I20a381329797402627cb14a6104014fae7ac839d,Add strict validation about boolean parameters,MERGED,2023-06-15 17:38:32.000000000,2023-06-16 21:42:34.000000000,2023-06-16 21:42:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 17:38:32.000000000', 'files': ['manifests/api.pp', 'manifests/processor.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/86c16519e248127bc86893467a8af8b97a3ed550', 'message': 'Add strict validation about boolean parameters\n\nThis ensures the parameters used by if-else logic accept only boolean\nvalues because non-boolean can result in unexpected behavior.\n\nChange-Id: I20a381329797402627cb14a6104014fae7ac839d\n'}]",0,886201,86c16519e248127bc86893467a8af8b97a3ed550,8,3,1,9816,,,0,"Add strict validation about boolean parameters

This ensures the parameters used by if-else logic accept only boolean
values because non-boolean can result in unexpected behavior.

Change-Id: I20a381329797402627cb14a6104014fae7ac839d
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/01/886201/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/processor.pp', 'manifests/keystone/auth.pp']",3,86c16519e248127bc86893467a8af8b97a3ed550,," $auth_name = 'cloudkitty', $email = 'cloudkitty@localhost', $tenant = 'services', $roles = ['admin'], $system_scope = 'all', $system_roles = [], $configure_endpoint = true, $configure_user = true, $configure_user_role = true, $service_name = 'cloudkitty', $service_description = 'OpenStack Rating Service', $service_type = 'rating', $region = 'RegionOne', $public_url = 'http://127.0.0.1:8889', $admin_url = 'http://127.0.0.1:8889', $internal_url = 'http://127.0.0.1:8889', Boolean $manage_rating_role = true, $rating_role = 'rating',"," $auth_name = 'cloudkitty', $email = 'cloudkitty@localhost', $tenant = 'services', $roles = ['admin'], $system_scope = 'all', $system_roles = [], $configure_endpoint = true, $configure_user = true, $configure_user_role = true, $service_name = 'cloudkitty', $service_description = 'OpenStack Rating Service', $service_type = 'rating', $region = 'RegionOne', $public_url = 'http://127.0.0.1:8889', $admin_url = 'http://127.0.0.1:8889', $internal_url = 'http://127.0.0.1:8889', $manage_rating_role = true, $rating_role = 'rating',",34,34
openstack%2Fpuppet-cloudkitty~master~I562568fe0e68b98bd80e4b7e1d20644a54d086df,openstack/puppet-cloudkitty,master,I562568fe0e68b98bd80e4b7e1d20644a54d086df,replace validate_legacy with proper data types,MERGED,2023-06-15 17:38:32.000000000,2023-06-16 21:38:47.000000000,2023-06-16 21:38:47.000000000,"[{'_account_id': 7888}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 17:38:32.000000000', 'files': ['manifests/db/mysql.pp', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/7fdd4f56cfbd42ba76721c4b485e7c86b1aed5d1', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I562568fe0e68b98bd80e4b7e1d20644a54d086df\n'}]",0,886200,7fdd4f56cfbd42ba76721c4b485e7c86b1aed5d1,8,4,1,9816,,,0,"replace validate_legacy with proper data types

the validate_legacy function is marked for deprecation in
v9.0.0 from puppetlabs-stdlib.

Change-Id: I562568fe0e68b98bd80e4b7e1d20644a54d086df
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/00/886200/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db/mysql.pp', 'manifests/config.pp']",2,7fdd4f56cfbd42ba76721c4b485e7c86b1aed5d1,replace-validate_legacy," Hash $cloudkitty_config = {}, Hash $cloudkitty_api_paste_ini = {},"," $cloudkitty_config = {}, $cloudkitty_api_paste_ini = {}, validate_legacy(Hash, 'validate_hash', $cloudkitty_config) validate_legacy(Hash, 'validate_hash', $cloudkitty_api_paste_ini) ",3,8
openstack%2Fkayobe~stable%2Fxena~I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,openstack/kayobe,stable/xena,I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,Correct name for role mrlesmithjr.manage_lvm,MERGED,2023-06-16 15:05:57.000000000,2023-06-16 20:11:46.000000000,2023-06-16 20:09:45.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-16 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/047982dc6b912640a5649c99562bb314a558736c', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}, {'number': 2, 'created': '2023-06-16 16:17:01.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'etc/kayobe/seed-hypervisor.yml', 'ansible/group_vars/all/controllers', 'doc/source/control-plane-service-placement.rst', 'ansible/group_vars/all/storage', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/all/seed-hypervisor', 'etc/kayobe/monitoring.yml', 'requirements.yml', 'zuul.d/project.yaml', 'ansible/group_vars/all/compute', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/98d8e04bb5645b25526bd3987629e6e8e4c4eebd', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}]",0,886274,98d8e04bb5645b25526bd3987629e6e8e4c4eebd,9,3,2,35263,,,0,"Correct name for role mrlesmithjr.manage_lvm

The name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release
v0.2.10 to use an underscore, instead of a hyphen. As this changes the
name of the role on Ansible Galaxy, it needs to be updated in
``requirements.yml``.

Closes-Bug: #2024163
Change-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/886274/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'ansible/group_vars/all/infra-vms', 'etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'etc/kayobe/seed-hypervisor.yml', 'ansible/group_vars/all/controllers', 'doc/source/control-plane-service-placement.rst', 'ansible/group_vars/all/storage', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/all/seed-hypervisor', 'etc/kayobe/monitoring.yml', 'requirements.yml', 'zuul.d/project.yaml', 'ansible/group_vars/all/compute', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml']",20,047982dc6b912640a5649c99562bb314a558736c,bug/2024163,--- fixes: - | Fixes download of roles from Ansible Galaxy following the renaming of the ``mrlesmithjr.manage_lvm`` role. `LP#2023502 <https://bugs.launchpad.net/kolla-ansible/+bug/2024163>`__ ,,64,58
openstack%2Fcharm-nova-compute~stable%2Fqueens~I12cd4bf5953170d227d52793764c49f3871e25f9,openstack/charm-nova-compute,stable/queens,I12cd4bf5953170d227d52793764c49f3871e25f9,Render correct driver in nova-compute.conf,ABANDONED,2023-06-16 20:00:54.000000000,2023-06-16 20:02:12.000000000,,[{'_account_id': 20648}],"[{'number': 1, 'created': '2023-06-16 20:00:54.000000000', 'files': ['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/034025173d317c61b776eef3129287cb413cbcef', 'message': 'Render correct driver in nova-compute.conf\n\nCommit abe5a289 fixed the rendering of the ironic driver in the\nnova-compute.conf file for OpenStack versions >= Wallaby. However, it\nalways renders the nova-compute.conf file for train and above, which is\nhard-coded to the Ironic libvirt driver.\n\nThis adds additional templating logic to the nova-compute.conf driver in\norder to render the correct driver to use.\n\nRelated-Bug: #1968547\nRelated-Bug: #1977803\nChange-Id: I12cd4bf5953170d227d52793764c49f3871e25f9\n(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)\n(cherry picked from commit 7f3fb79210857e40b58d6c61ed35a7ee4ac18030)\n'}]",0,886149,034025173d317c61b776eef3129287cb413cbcef,3,1,1,11805,,,0,"Render correct driver in nova-compute.conf

Commit abe5a289 fixed the rendering of the ironic driver in the
nova-compute.conf file for OpenStack versions >= Wallaby. However, it
always renders the nova-compute.conf file for train and above, which is
hard-coded to the Ironic libvirt driver.

This adds additional templating logic to the nova-compute.conf driver in
order to render the correct driver to use.

Related-Bug: #1968547
Related-Bug: #1977803
Change-Id: I12cd4bf5953170d227d52793764c49f3871e25f9
(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)
(cherry picked from commit 7f3fb79210857e40b58d6c61ed35a7ee4ac18030)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/49/886149/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py']",2,034025173d317c61b776eef3129287cb413cbcef,bug/1968547-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/queens," @patch.object(compute_context, 'config') def test_resource_map_ironic_pre_victoria(self, _metadata, cctxt_config): cctxt_config.side_effect = self.test_config.get"," def test_resource_map_ironic_pre_victoria(self, _metadata):",12,2
openstack%2Fkolla~master~Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8,openstack/kolla,master,Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8,Fix rabbitmq image build,MERGED,2023-06-12 10:15:01.000000000,2023-06-16 19:59:59.000000000,2023-06-16 19:58:04.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-12 10:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a2867f5053f35d12ae8b92bd695b150cbbdcb2b3', 'message': ""Fix rabbitmq image build, pin rabbitmq 3.12.0 and erlang to 1.26.*\n\nBecause of launchpad ppa release new version of erlang [1], it's\nneeded to bump rabbitmq version to 3.12.0 and also erlang-base.\n\n[1] erlang-base_26.0.1-1rmq1ppa1~ubuntu22.04.1_amd64.deb\t2023-06-09 15:53\t10M\n\nChange-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8\n""}, {'number': 2, 'created': '2023-06-12 11:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d70dd6d75b483d098507f6fbf08ddb1a4c8e939b', 'message': ""Fix rabbitmq image build, pin rabbitmq 3.12.0 and erlang to 1.26.*\n\nBecause of launchpad ppa release new version of erlang [1], it's\nneeded to bump rabbitmq version to 3.12.0 and also erlang-base.\n\n[1] erlang-base_26.0.1-1rmq1ppa1~ubuntu22.04.1_amd64.deb\t2023-06-09 15:53\t10M\n\nChange-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8\n""}, {'number': 3, 'created': '2023-06-14 10:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa913ecc34dda3883948e87a6e0e8167ee485c5e', 'message': 'Fix rabbitmq image build\n\nThis patch is replacing ppa.launchpadcontent.net\nby ppa1.novemberain.com.\nThis repo is based on the official Erlang/OTP package\nfor Debian. The RabbitMQ team adapted the upstream package\nto produce packages for more/different combinations of\nErlang/OTP, Debian and Ubuntu releases.\n\nChange-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8\n'}, {'number': 4, 'created': '2023-06-14 21:28:05.000000000', 'files': ['.zuul.d/debian.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4950c03e59b8d1af46018b81a49fa028e1b8296d', 'message': 'Fix rabbitmq image build\n\nThis patch is replacing ppa.launchpadcontent.net\nby ppa1.novemberain.com.\n\nReason for replacement is that only latest erlang version\nis available on the current ppa source.\n\nSetting Debian ARM jobs non voting for now, since the new ppa\ndoes not contain arm64 packages.\n\nThis repo is based on the official Erlang/OTP package\nfor Debian. The RabbitMQ team adapted the upstream package\nto produce packages for more/different combinations of\nErlang/OTP, Debian and Ubuntu releases.\n\nChange-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8\n'}]",32,885857,4950c03e59b8d1af46018b81a49fa028e1b8296d,66,6,4,27339,,,0,"Fix rabbitmq image build

This patch is replacing ppa.launchpadcontent.net
by ppa1.novemberain.com.

Reason for replacement is that only latest erlang version
is available on the current ppa source.

Setting Debian ARM jobs non voting for now, since the new ppa
does not contain arm64 packages.

This repo is based on the official Erlang/OTP package
for Debian. The RabbitMQ team adapted the upstream package
to produce packages for more/different combinations of
Erlang/OTP, Debian and Ubuntu releases.

Change-Id: Iddec6ec555f98e13c2f199e5ca7dad7f4819b1a8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/885857/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian']",2,a2867f5053f35d12ae8b92bd695b150cbbdcb2b3,rabbitmq-ppa-novemberrain,Pin: version 3.12.0-1Pin: version 1:26.*,Pin: version 3.11.16-1Pin: version 1:25.*,4,4
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I2c4e2a9c3f1d525fb922a68fc5337c6f2efbde97,openstack/tripleo-upgrade,stable/wallaby,I2c4e2a9c3f1d525fb922a68fc5337c6f2efbde97,Ignore ssl verification when downloading workload image,MERGED,2023-06-16 13:24:17.000000000,2023-06-16 19:50:01.000000000,2023-06-16 19:50:01.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-06-16 13:24:17.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b13b949584dcb272757c9d6b6886471e02b8cd08', 'message': 'Ignore ssl verification when downloading workload image\n\nChange-Id: I2c4e2a9c3f1d525fb922a68fc5337c6f2efbde97\n'}]",0,886258,b13b949584dcb272757c9d6b6886471e02b8cd08,8,3,1,29307,,,0,"Ignore ssl verification when downloading workload image

Change-Id: I2c4e2a9c3f1d525fb922a68fc5337c6f2efbde97
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/58/886258/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,b13b949584dcb272757c9d6b6886471e02b8cd08,, curl -4fsSLk --retry 5 -o ${IMAGE_FILE} ${IMAGE_URL}, curl -4fsSL --retry 5 -o ${IMAGE_FILE} ${IMAGE_URL},1,1
openstack%2Fcinder~stable%2Fvictoria~Ib6a2e4d68e532b91161df5245c17ce815f12f935,openstack/cinder,stable/victoria,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporary volume from being deleted accidentally,NEW,2022-02-28 17:55:11.000000000,2023-06-16 19:21:55.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-28 17:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c0dd5d62d27eeef39dd7783a6e5bb4be877df7b', 'message': ""Prevent temporal volume for backup from being deleted\n\nThis change sets 'backing-up' to a volume state of a temporal volume for\nbackup instead of 'available'. This prevents the temporal volume from\nbeing deleted during backup by DELETE API.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 2, 'created': '2022-06-02 04:28:07.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1970768-temp-vol-delete-6586a13f08d7a5c1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ae18d436ce140c4a6816a3e44b3dca7b5208b07', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)\n(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)\n(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)\nConflicts:\n\tcinder/volume/manager.py\n(cherry picked from commit 553264535dc34f676ff4db3c77e1869c1fb3c6b7)\n""}]",7,831188,2ae18d436ce140c4a6816a3e44b3dca7b5208b07,36,4,2,7130,,,0,"Prevent temporary volume from being deleted accidentally

A temporary volume can be deleted while it is in use by DELETE API
accidentally because its status is `available`. To avoid this deletion,
this fix sets a value which doesn't accept deletion to volume status of
a temporary volume. When a temporary volume is used for backing up,
`backing-up` is set. When a temporary volume is used for reverting a
snapshot, `in-use` is set because the volume is attached by a host.

Closes-Bug: #1970768
Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
(cherry picked from commit 53c13891b313d58923b223f6fbb1882e991f2785)
(cherry picked from commit d773fae8256f76ee78c81a5c07096a45227c6569)
(cherry picked from commit cf2f3d07ae4eccb4371d031fef992d107e9c07c4)
Conflicts:
	cinder/volume/manager.py
(cherry picked from commit 553264535dc34f676ff4db3c77e1869c1fb3c6b7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/831188/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py']",3,9c0dd5d62d27eeef39dd7783a6e5bb4be877df7b,backup-temp-volume/stable/victoria," self.assertEqual('backing-up', temp_vol['status']) self.assertEqual('backing-up', temp_vol['status'])"," self.assertEqual('available', temp_vol['status']) self.assertEqual('available', temp_vol['status'])",6,6
openstack%2Fhorizon~master~Ifd0fc27dc73526b8f03df171711c16740aaec664,openstack/horizon,master,Ifd0fc27dc73526b8f03df171711c16740aaec664,Add error handling for Floating IP workflow,NEW,2023-02-13 16:59:44.000000000,2023-06-16 18:46:21.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-02-13 16:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1db1e4d19c74e1ef455693b8bdbefda3bbbad1fe', 'message': 'Add error handling for Floating IP workflow\n\nIn some cases Horizon at environemtnt with non-OVS Neutron backend can fail\nwith confusing error message. Patch adds clearer error message and hint how\nto tune Horizon configuration\n\nChange-Id: Ifd0fc27dc73526b8f03df171711c16740aaec664\n'}, {'number': 2, 'created': '2023-02-22 22:21:02.000000000', 'files': ['openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/13c828e13daf7b5fa27a35c460b089077bbbb780', 'message': 'Add error handling for Floating IP workflow\n\nIn some cases Horizon at environemnt with non-OVS Neutron backend can\nfail with confusing error message. Patch adds clearer error message and hint how to tune Horizon configuration\n\nCloses-Bug: #2008132\nChange-Id: Ifd0fc27dc73526b8f03df171711c16740aaec664\n'}]",7,873623,13c828e13daf7b5fa27a35c460b089077bbbb780,10,3,2,27838,,,0,"Add error handling for Floating IP workflow

In some cases Horizon at environemnt with non-OVS Neutron backend can
fail with confusing error message. Patch adds clearer error message and hint how to tune Horizon configuration

Closes-Bug: #2008132
Change-Id: Ifd0fc27dc73526b8f03df171711c16740aaec664
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/873623/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py']",3,1db1e4d19c74e1ef455693b8bdbefda3bbbad1fe,fip_tf_master,, exceptions.handle(request),16,6
openstack%2Fcharm-neutron-api~master~I8c40fcce0a19fa7a5b9b6051fa39cedec60fe687,openstack/charm-neutron-api,master,I8c40fcce0a19fa7a5b9b6051fa39cedec60fe687,Add `rabbit_heartbeat_timeout_threshold` config option,ABANDONED,2021-03-11 16:57:02.000000000,2023-06-16 17:50:04.000000000,,"[{'_account_id': 2424}, {'_account_id': 2583}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-11 16:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/8d38a72a059c68a6e197fcd306b2303798c1e936', 'message': 'Add `rabbit_heartbeat_timeout_threshold` config option\n\nThis change adds the `rabbit_heartbeat_timeout_threshold` config\noption to the charm.\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nChange-Id: I8c40fcce0a19fa7a5b9b6051fa39cedec60fe687\n'}, {'number': 2, 'created': '2021-03-12 13:57:31.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5a85f58b1ac7658731952fd4babd36a90f88bf85', 'message': 'Add `rabbit_heartbeat_timeout_threshold` config option\n\nThis change adds the `rabbit_heartbeat_timeout_threshold` config\noption to the charm.\n\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\nDepends-On: https://github.com/juju/charm-helpers/pull/588\nChange-Id: I8c40fcce0a19fa7a5b9b6051fa39cedec60fe687\n'}]",1,780038,5a85f58b1ac7658731952fd4babd36a90f88bf85,8,5,2,19298,,,0,"Add `rabbit_heartbeat_timeout_threshold` config option

This change adds the `rabbit_heartbeat_timeout_threshold` config
option to the charm.

Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
Depends-On: https://github.com/juju/charm-helpers/pull/588
Change-Id: I8c40fcce0a19fa7a5b9b6051fa39cedec60fe687
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/38/780038/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,8d38a72a059c68a6e197fcd306b2303798c1e936,heartbeat, rabbit_heartbeat_timeout_threshold: type: int default: 20 description: | Number of seconds after which the Rabbit broker is considered down if heartbeats keep-alive fails (0 disables heartbeat).,,6,0
openstack%2Floci~master~I958677e3df88028d00ac0df812c0030419d517a7,openstack/loci,master,I958677e3df88028d00ac0df812c0030419d517a7,Fix setup-gate.yaml playbook,MERGED,2023-06-15 01:36:05.000000000,2023-06-16 17:44:31.000000000,2023-06-16 17:44:31.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 34520}]","[{'number': 1, 'created': '2023-06-15 01:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d77a63a798b076630a8df19ffaabdc64bf7a130e', 'message': 'Unpin pip docker package version\n\nIt used to be pinned to 2.7 and\nit is incompatible with the latest\ndocker api.\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}, {'number': 2, 'created': '2023-06-15 02:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4e51c12dbf96fd84c2f74bb4258ce91d880769f9', 'message': 'Unpin pip docker package version\n\nIt used to be pinned to 2.7 and\nit is incompatible with the latest\ndocker api.\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}, {'number': 3, 'created': '2023-06-15 02:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ffe4759caedbd20b54e51fe1d9979a46f09ec3b1', 'message': 'Unpin pip docker package version\n\nIt used to be pinned to 2.7 and it is incompatible\nwith the latest docker api.\n\nAlso disable build of Ubuntu Bionic images which\nby default used Ussuri release (not supported).\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}, {'number': 4, 'created': '2023-06-15 02:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8e8aab50f9642507b9446fb544a25b1d975be69f', 'message': 'Unpin pip docker package version\n\nIt used to be pinned to 2.7 and it is incompatible\nwith the latest docker api.\n\nAlso do not build Ubuntu Bionic images which\nby default use Ussuri release (not supported).\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}, {'number': 5, 'created': '2023-06-15 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6b5e6ff5a951643f4c393d8ae2371f00260b9046', 'message': 'Fix setup-gate.yaml playbook\n\n- Use roles from zuul-jobs\n- Unpin docker python package version. It used\n  to be pinned to 2.7 and it is incompatible\n  with the latest docker api.\n- Also do not build Ubuntu Bionic images which\n  by default use Ussuri release (not supported).\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}, {'number': 6, 'created': '2023-06-15 16:58:52.000000000', 'files': ['playbooks/setup-gate.yaml', 'playbooks/vars.yaml', 'playbooks/files/docker-systemd.conf'], 'web_link': 'https://opendev.org/openstack/loci/commit/e09a032257651effdf6a4f6dd28d4ecbe08ba59d', 'message': 'Fix setup-gate.yaml playbook\n\n- Use roles from zuul-jobs\n- Unpin docker python package version. It used\n  to be pinned to 2.7 and it is incompatible\n  with the latest docker api.\n- Also do not build Ubuntu Bionic images which\n  by default use Ussuri release (not supported).\n\nChange-Id: I958677e3df88028d00ac0df812c0030419d517a7\n'}]",21,886154,e09a032257651effdf6a4f6dd28d4ecbe08ba59d,25,4,6,3009,,,0,"Fix setup-gate.yaml playbook

- Use roles from zuul-jobs
- Unpin docker python package version. It used
  to be pinned to 2.7 and it is incompatible
  with the latest docker api.
- Also do not build Ubuntu Bionic images which
  by default use Ussuri release (not supported).

Change-Id: I958677e3df88028d00ac0df812c0030419d517a7
",git fetch https://review.opendev.org/openstack/loci refs/changes/54/886154/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup-gate.yaml'],1,d77a63a798b076630a8df19ffaabdc64bf7a130e,, name: - docker, name: docker version: 2.7.0,2,2
openstack%2Fcharm-designate~master~I1891793e499eb8835b4eecd8cc6b7c4dc348b151,openstack/charm-designate,master,I1891793e499eb8835b4eecd8cc6b7c4dc348b151,Removes nova-designate from provided interfaces,ABANDONED,2020-11-10 15:49:09.000000000,2023-06-16 17:37:00.000000000,,"[{'_account_id': 14567}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-10 15:49:09.000000000', 'files': ['src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/258201a5fe3e76d109b3f46e98802e05c45868d2', 'message': 'Removes nova-designate from provided interfaces\n\nCloses-Bug: 1756852\n\n- Removes nova-designate interface from metadata\n\nChange-Id: I1891793e499eb8835b4eecd8cc6b7c4dc348b151\n'}]",0,762163,258201a5fe3e76d109b3f46e98802e05c45868d2,6,4,1,31255,,,0,"Removes nova-designate from provided interfaces

Closes-Bug: 1756852

- Removes nova-designate interface from metadata

Change-Id: I1891793e499eb8835b4eecd8cc6b7c4dc348b151
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/63/762163/1 && git format-patch -1 --stdout FETCH_HEAD,['src/metadata.yaml'],1,258201a5fe3e76d109b3f46e98802e05c45868d2,bug/nova-designate-interface,, nova-designate: interface: nova-designate,0,2
openstack%2Fcharm-nova-compute~master~I53bc40fb86239d4796dd5fcda045f7b3a718abea,openstack/charm-nova-compute,master,I53bc40fb86239d4796dd5fcda045f7b3a718abea,Check if ephemeral device config exists,ABANDONED,2020-10-02 12:21:53.000000000,2023-06-16 17:35:14.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-02 12:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7de359fe897a109081ab444a2d0443487a4000f7', 'message': 'Check if ephemeral device config exists\n\nCurrently, there is a check if ephemeral-device exists or not.\nHowever, if that option returns non-empty and device is not found\ncharm code continues the processing without raising an error.\n\nThat can lead to confusion that is difficult to change once in\nenvironment is in production.\n\nThis change adds a check after: if ephemeral-device is non-empty\nbut not found, then raise an exception.\n\nChange-Id: I53bc40fb86239d4796dd5fcda045f7b3a718abea\nCloses-bug: #1870232\n'}, {'number': 2, 'created': '2020-10-02 12:47:01.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e53ab91845b949d7bb95ce9da4f67e9f8ae464b4', 'message': 'Check if ephemeral device config exists\n\nCurrently, there is a check if ephemeral-device exists or not.\nHowever, if that option returns non-empty and device is not found\ncharm code continues the processing without raising an error.\n\nThat can lead to confusion that is difficult to change once the\nenvironment is in production.\n\nThis change adds a check after: if ephemeral-device is non-empty\nbut not found, then raise an exception.\n\nChange-Id: I53bc40fb86239d4796dd5fcda045f7b3a718abea\nCloses-bug: #1870232\n'}]",6,755780,e53ab91845b949d7bb95ce9da4f67e9f8ae464b4,8,3,2,28510,,,0,"Check if ephemeral device config exists

Currently, there is a check if ephemeral-device exists or not.
However, if that option returns non-empty and device is not found
charm code continues the processing without raising an error.

That can lead to confusion that is difficult to change once the
environment is in production.

This change adds a check after: if ephemeral-device is non-empty
but not found, then raise an exception.

Change-Id: I53bc40fb86239d4796dd5fcda045f7b3a718abea
Closes-bug: #1870232
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/80/755780/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'hooks/nova_compute_hooks.py']",2,7de359fe897a109081ab444a2d0443487a4000f7,bug/1870232," EphemeralDeviceNotFound, try: configure_local_ephemeral_storage() except EphemeralDeviceNotFound: status_set('blocked', 'ephemeral-device specified but not found') return try: configure_local_ephemeral_storage() except EphemeralDeviceNotFound: status_set('blocked', 'ephemeral-device specified but not found') return try: configure_local_ephemeral_storage() except EphemeralDeviceNotFound: status_set('blocked', 'ephemeral-device specified but not found') return", configure_local_ephemeral_storage() configure_local_ephemeral_storage() configure_local_ephemeral_storage(),30,4
openstack%2Floci~master~I432481e34bfe2c38a9a5ddd89bc49965ac6a656c,openstack/loci,master,I432481e34bfe2c38a9a5ddd89bc49965ac6a656c,WIP: Try not to install docker python,ABANDONED,2023-06-16 16:21:26.000000000,2023-06-16 17:24:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-16 16:21:26.000000000', 'files': ['playbooks/setup-gate.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/0816f2d6251c3733f6ddcbb4050113b3a82d3fa0', 'message': 'WIP: Try not to install docker python\n\nChange-Id: I432481e34bfe2c38a9a5ddd89bc49965ac6a656c\n'}]",0,886287,0816f2d6251c3733f6ddcbb4050113b3a82d3fa0,3,1,1,3009,,,0,"WIP: Try not to install docker python

Change-Id: I432481e34bfe2c38a9a5ddd89bc49965ac6a656c
",git fetch https://review.opendev.org/openstack/loci refs/changes/87/886287/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup-gate.yaml'],1,0816f2d6251c3733f6ddcbb4050113b3a82d3fa0,," restart_policy: ""always""", - pip: name: - docker,1,3
openstack%2Fglance~master~I473684bb8f8a75c905b1afd95e6fd116a58a9d82,openstack/glance,master,I473684bb8f8a75c905b1afd95e6fd116a58a9d82,DNM: Test glance-store RBD trash,ABANDONED,2023-06-15 14:58:23.000000000,2023-06-16 17:14:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 14:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5794bf0f8548bd5d396b45e50f14aacc113c2509', 'message': 'DNM: Test glance-store RBD trash\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/884524\nChange-Id: I473684bb8f8a75c905b1afd95e6fd116a58a9d82\n'}, {'number': 2, 'created': '2023-06-15 18:57:52.000000000', 'files': ['glance/context.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4d4641a54c4b344bcf629242984f6c5333e0989c', 'message': 'DNM: Test glance-store RBD trash\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/884524\nChange-Id: I473684bb8f8a75c905b1afd95e6fd116a58a9d82\n'}]",1,886183,4d4641a54c4b344bcf629242984f6c5333e0989c,9,1,2,4393,,,0,"DNM: Test glance-store RBD trash

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/884524
Change-Id: I473684bb8f8a75c905b1afd95e6fd116a58a9d82
",git fetch https://review.opendev.org/openstack/glance refs/changes/83/886183/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/context.py'],1,5794bf0f8548bd5d396b45e50f14aacc113c2509,test-rbd-trash, RequestContext. FOO, RequestContext.,1,1
openstack%2Fcinder-tempest-plugin~master~Ic9c4bf7841f02ee06ef39af0565fa48dad444461,openstack/cinder-tempest-plugin,master,Ic9c4bf7841f02ee06ef39af0565fa48dad444461,DNM: Testing for bug 2018612 #4,ABANDONED,2023-05-05 16:57:42.000000000,2023-06-16 17:09:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 16:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cee0d579f8f892952345150fa8f4c582b37a8cd4', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}, {'number': 2, 'created': '2023-05-05 17:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b68167d1c15f020f590c7362dd2f195688713df2', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}, {'number': 3, 'created': '2023-05-05 19:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9631767a11f19478bad9f5c8850cc76c02f635e6', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}, {'number': 4, 'created': '2023-05-05 19:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6dca497a7291a80cc00679b282bf7ba58b805f09', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}, {'number': 5, 'created': '2023-05-30 17:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5a9fd7eb647bfce731d8338a1a48dbfc10c05840', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}, {'number': 6, 'created': '2023-05-30 17:36:55.000000000', 'files': ['cinder_tempest_plugin/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b43c4d45dc7152a95136c77d0c880dd3cfafe73e', 'message': ""DNM: Testing for bug 2018612 #4\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461\n""}]",1,882461,b43c4d45dc7152a95136c77d0c880dd3cfafe73e,16,1,6,4393,,,0,"DNM: Testing for bug 2018612 #4

I'm using cinder-tempest-plugin's job set to generate a bunch of
traffic on nested-kvm nodes to try to poke volume attach bug 2018612.
Ignore this :)

Change-Id: Ic9c4bf7841f02ee06ef39af0565fa48dad444461
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/61/882461/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/__init__.py'],1,cee0d579f8f892952345150fa8f4c582b37a8cd4,repro-2018612,# 4,# 3,1,1
openstack%2Fcinder-tempest-plugin~master~Iefb9073ea9adda2a3330a1abc665f01971e218fd,openstack/cinder-tempest-plugin,master,Iefb9073ea9adda2a3330a1abc665f01971e218fd,DNM: Testing for bug 2018612 #3,ABANDONED,2023-05-05 16:57:42.000000000,2023-06-16 17:09:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 16:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/affcf74bbf50dfe73ea0c3fc8b9cd84ebf293b6b', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}, {'number': 2, 'created': '2023-05-05 17:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/343e3f10788363a06f00bc3414d0108f06d81acb', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}, {'number': 3, 'created': '2023-05-05 19:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5d8f6fda1af55cb8ac619de141e761756174335d', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}, {'number': 4, 'created': '2023-05-05 19:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3179e8f74aeda4d2fb1f2777e73cb82122222621', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}, {'number': 5, 'created': '2023-05-30 17:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/35340ac15b8c82b88f725e18e263398e268c91f6', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}, {'number': 6, 'created': '2023-05-30 17:36:55.000000000', 'files': ['cinder_tempest_plugin/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ee52b69d2c5c116b82a43450c7c1b82b7adc829c', 'message': ""DNM: Testing for bug 2018612 #3\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd\n""}]",1,882460,ee52b69d2c5c116b82a43450c7c1b82b7adc829c,15,1,6,4393,,,0,"DNM: Testing for bug 2018612 #3

I'm using cinder-tempest-plugin's job set to generate a bunch of
traffic on nested-kvm nodes to try to poke volume attach bug 2018612.
Ignore this :)

Change-Id: Iefb9073ea9adda2a3330a1abc665f01971e218fd
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/60/882460/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/__init__.py'],1,affcf74bbf50dfe73ea0c3fc8b9cd84ebf293b6b,repro-2018612,# 3,# 2,1,1
openstack%2Fcinder-tempest-plugin~master~Iade58be08b56b270e8847ab83cff8a75bc9d4c68,openstack/cinder-tempest-plugin,master,Iade58be08b56b270e8847ab83cff8a75bc9d4c68,DNM: Testing for bug 2018612 #2,ABANDONED,2023-05-05 16:57:42.000000000,2023-06-16 17:09:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 16:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/0030babf458e65c0ff6538b36fcdd46b26137689', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}, {'number': 2, 'created': '2023-05-05 17:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b36f2cc085b8c0509664a0c904774f4de3b6b604', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}, {'number': 3, 'created': '2023-05-05 19:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7a368ed93e85984af1942d0ca2113f1b4aa7f234', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}, {'number': 4, 'created': '2023-05-05 19:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f485b50438f1c5228ab1795da8257266ee98d713', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}, {'number': 5, 'created': '2023-05-30 17:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/75866bfda3abda2ba3bcfae7449c19f8e9c8ac04', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}, {'number': 6, 'created': '2023-05-30 17:36:55.000000000', 'files': ['cinder_tempest_plugin/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a69c8305cce696bc727ffb243bf3ee7b54f7d910', 'message': ""DNM: Testing for bug 2018612 #2\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68\n""}]",1,882459,a69c8305cce696bc727ffb243bf3ee7b54f7d910,15,1,6,4393,,,0,"DNM: Testing for bug 2018612 #2

I'm using cinder-tempest-plugin's job set to generate a bunch of
traffic on nested-kvm nodes to try to poke volume attach bug 2018612.
Ignore this :)

Change-Id: Iade58be08b56b270e8847ab83cff8a75bc9d4c68
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/59/882459/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/__init__.py'],1,0030babf458e65c0ff6538b36fcdd46b26137689,repro-2018612,# 2,# 1,1,1
openstack%2Fcinder-tempest-plugin~master~If62a0e0df0486102239a3fdd3f81cd98e37daee8,openstack/cinder-tempest-plugin,master,If62a0e0df0486102239a3fdd3f81cd98e37daee8,DNM: Testing for bug 2018612 #1,ABANDONED,2023-05-05 16:43:46.000000000,2023-06-16 17:08:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 16:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b97d7051050aaf5973bc73c44a81d6a1b194fddc', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 2, 'created': '2023-05-05 16:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6130e9d885a23afa010be725bfb3f3664b8a59c5', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 3, 'created': '2023-05-05 16:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cbdba6a83ad2b395c8a3a099ee5cf14cb6bec8f9', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 4, 'created': '2023-05-05 16:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5d1488741f9f7d7722d5ebc3c86030eceb5d38e8', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 5, 'created': '2023-05-05 16:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ee054aced9192a9f47798e8efadd7ee123e5ee3c', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 6, 'created': '2023-05-05 16:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/36dccfd88f7e0edbe7081b307020004dd46126bc', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 7, 'created': '2023-05-05 18:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/facdc56258f55d429b65c188c9ad83601b990ec1', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 8, 'created': '2023-05-05 19:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fd4005bf0c79d693ee9075d392c4616cdea2b9b2', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 9, 'created': '2023-05-30 17:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/97199eee7ced39ed23219488a474317ff04daed3', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}, {'number': 10, 'created': '2023-05-30 17:36:13.000000000', 'files': ['.zuul.yaml', 'cinder_tempest_plugin/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4954015674571564edc36699579d1d3ce0b687b4', 'message': ""DNM: Testing for bug 2018612 #1\n\nI'm using cinder-tempest-plugin's job set to generate a bunch of\ntraffic on nested-kvm nodes to try to poke volume attach bug 2018612.\nIgnore this :)\n\nChange-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8\n""}]",10,882458,4954015674571564edc36699579d1d3ce0b687b4,27,1,10,4393,,,0,"DNM: Testing for bug 2018612 #1

I'm using cinder-tempest-plugin's job set to generate a bunch of
traffic on nested-kvm nodes to try to poke volume attach bug 2018612.
Ignore this :)

Change-Id: If62a0e0df0486102239a3fdd3f81cd98e37daee8
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/58/882458/10 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'cinder_tempest_plugin/__init__.py']",2,b97d7051050aaf5973bc73c44a81d6a1b194fddc,repro-2018612,# 1 ,,58,12
openstack%2Fcharm-vault~master~I960060d26013655083018fe651d9148a0eec003f,openstack/charm-vault,master,I960060d26013655083018fe651d9148a0eec003f,make etcd api version configurable,ABANDONED,2018-08-27 23:41:16.000000000,2023-06-16 17:07:56.000000000,,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2018-08-27 23:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/067ffa0102a297a6984e1b86fd6fb81226f9b3fb', 'message': 'make etcd api version configurable\n\nWhile there is a serious issue when v3 API is used for etcd\n\nhttps://github.com/hashicorp/vault/issues/4961\nhttps://github.com/coreos/etcd/issues/9949\n\nusing v2 API does not solve the problem because there are known issues\nin maintaining leader locks:\n\nhttps://github.com/hashicorp/vault/issues/1184#issuecomment-232433373\n(this comment describes intermittent issues with S3 storage and\netcd ha_storage with etcd2 API)\nhttps://github.com/hashicorp/vault/issues/2214#issuecomment-269718252\nhttps://github.com/hashicorp/vault/issues/1908#issuecomment-248686276\n\nThis is vaguely documented in the official documentation:\n\nhttps://www.vaultproject.io/docs/configuration/storage/etcd.html\n""the Etcd storage backend supports high availability. The v2 API has\nknown issues with HA support and should not be used in HA scenarios.""\n\nArguably, having v3 used by default and knowing that the failure of the\nfirst etcd endpoint in an ha_storage connection string will lead to\na vault outage is better than having v2 API used (meaning future v3\nmigration) with an unpredictable HA behavior.\n\nTherefore, this change makes the API version configurable for a deployer\nto decide until V3 API issues are fixed.\n\nha_enabled does not need to be set as configurable for etcd since\nha_backend has to have ha_enabled set to ""true"" for it to work as an\nha_backend (vault will error out and exit(1) if ha_enabled is false):\nhttps://git.io/fAOFA\n\nChange-Id: I960060d26013655083018fe651d9148a0eec003f\nRelated-Bug: 1782620\n'}, {'number': 2, 'created': '2020-09-25 13:57:10.000000000', 'files': ['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9848fd1696bf8f8528e4b5d0de0f13e75eec0adb', 'message': 'make etcd api version configurable\n\nWhile there is a serious issue when v3 API is used for etcd\n\nhttps://github.com/hashicorp/vault/issues/4961\nhttps://github.com/coreos/etcd/issues/9949\n\nusing v2 API does not solve the problem because there are known issues\nin maintaining leader locks:\n\nhttps://github.com/hashicorp/vault/issues/1184#issuecomment-232433373\n(this comment describes intermittent issues with S3 storage and\netcd ha_storage with etcd2 API)\nhttps://github.com/hashicorp/vault/issues/2214#issuecomment-269718252\nhttps://github.com/hashicorp/vault/issues/1908#issuecomment-248686276\n\nThis is vaguely documented in the official documentation:\n\nhttps://www.vaultproject.io/docs/configuration/storage/etcd.html\n""the Etcd storage backend supports high availability. The v2 API has\nknown issues with HA support and should not be used in HA scenarios.""\n\nArguably, having v3 used by default and knowing that the failure of the\nfirst etcd endpoint in an ha_storage connection string will lead to\na vault outage is better than having v2 API used (meaning future v3\nmigration) with an unpredictable HA behavior.\n\nTherefore, this change makes the API version configurable for a deployer\nto decide until V3 API issues are fixed.\n\nha_enabled does not need to be set as configurable for etcd since\nha_backend has to have ha_enabled set to ""true"" for it to work as an\nha_backend (vault will error out and exit(1) if ha_enabled is false):\nhttps://git.io/fAOFA\n\nChange-Id: I960060d26013655083018fe651d9148a0eec003f\nRelated-Bug: 1782620\nCo-Authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",2,596963,9848fd1696bf8f8528e4b5d0de0f13e75eec0adb,13,6,2,24824,,,0,"make etcd api version configurable

While there is a serious issue when v3 API is used for etcd

https://github.com/hashicorp/vault/issues/4961
https://github.com/coreos/etcd/issues/9949

using v2 API does not solve the problem because there are known issues
in maintaining leader locks:

https://github.com/hashicorp/vault/issues/1184#issuecomment-232433373
(this comment describes intermittent issues with S3 storage and
etcd ha_storage with etcd2 API)
https://github.com/hashicorp/vault/issues/2214#issuecomment-269718252
https://github.com/hashicorp/vault/issues/1908#issuecomment-248686276

This is vaguely documented in the official documentation:

https://www.vaultproject.io/docs/configuration/storage/etcd.html
""the Etcd storage backend supports high availability. The v2 API has
known issues with HA support and should not be used in HA scenarios.""

Arguably, having v3 used by default and knowing that the failure of the
first etcd endpoint in an ha_storage connection string will lead to
a vault outage is better than having v2 API used (meaning future v3
migration) with an unpredictable HA behavior.

Therefore, this change makes the API version configurable for a deployer
to decide until V3 API issues are fixed.

ha_enabled does not need to be set as configurable for etcd since
ha_backend has to have ha_enabled set to ""true"" for it to work as an
ha_backend (vault will error out and exit(1) if ha_enabled is false):
https://git.io/fAOFA

Change-Id: I960060d26013655083018fe651d9148a0eec003f
Related-Bug: 1782620
Co-Authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/63/596963/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_reactive_vault_handlers.py', 'src/templates/vault.hcl.j2', 'src/reactive/vault_handlers.py']",4,067ffa0102a297a6984e1b86fd6fb81226f9b3fb,bug/1782620, context['etcd_backend_api_version'] = ( config('etcd-backend-api-version')),,26,5
openstack%2Fcharm-neutron-gateway~master~I047502101c0c1e131cb4bf955ef8d3fc9a985439,openstack/charm-neutron-gateway,master,I047502101c0c1e131cb4bf955ef8d3fc9a985439,Add heartbeat timeout option to configuration file,ABANDONED,2020-09-02 19:27:21.000000000,2023-06-16 17:06:02.000000000,,"[{'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-09-02 19:27:21.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/af367a718f30dc13544cd2a4c49023e048e93b04', 'message': 'Add heartbeat timeout option to configuration file\n\nWe have had issues in the field where RMQ connection were reset\nbecause of missing timeouts. This change introduces a configuration\noption which allows the operator to set the timeout value the\noslo.messaging client will suggest to the rabbitmq server.\n\nChange-Id: I047502101c0c1e131cb4bf955ef8d3fc9a985439\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n'}]",0,749581,af367a718f30dc13544cd2a4c49023e048e93b04,7,5,1,19298,,,0,"Add heartbeat timeout option to configuration file

We have had issues in the field where RMQ connection were reset
because of missing timeouts. This change introduces a configuration
option which allows the operator to set the timeout value the
oslo.messaging client will suggest to the rabbitmq server.

Change-Id: I047502101c0c1e131cb4bf955ef8d3fc9a985439
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/81/749581/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit'],1,af367a718f30dc13544cd2a4c49023e048e93b04,heartbeat_timeout,{% if rabbit_heartbeat_timeout_threshold -%} heartbeat_timeout_threshold = {{ rabbit_heartbeat_timeout_threshold }} {% endif -%},,3,0
openstack%2Fkolla-ansible~master~Ie4d8ab5a3df748137835cae1c943b9180cd10eb1,openstack/kolla-ansible,master,Ie4d8ab5a3df748137835cae1c943b9180cd10eb1,Add support for multiple ceph files,MERGED,2023-03-14 17:00:35.000000000,2023-06-16 16:52:32.000000000,2023-06-16 16:51:23.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32398}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-03-14 17:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c87ef1aaa5e539b4f5d4189a36476b349f10530', 'message': 'Add support for multiple ceph files\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 2, 'created': '2023-03-14 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81b87f7b5fb9e629bff47e992b15fd70509c216b', 'message': 'Add support for multiple ceph files\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 3, 'created': '2023-03-14 19:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a1c7c8cf27535d194a048cfef9a75994ca2afaf', 'message': 'Add support for multiple ceph files\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 4, 'created': '2023-03-15 08:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac359e8f216b0260f4a90615cc08e5a8cdb03734', 'message': 'Add support for multiple ceph files\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 5, 'created': '2023-03-16 08:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce8fb29216cd4d0c76b56d207f7477c2e841919e', 'message': 'Add support for multiple ceph files\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 6, 'created': '2023-03-21 13:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab976045360411ef457a6578fe5d038f5c0c213e', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance\nand nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 7, 'created': '2023-04-18 10:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/232fc19bfb58e80eca9592442053daad06bcd816', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance\nand nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 8, 'created': '2023-04-20 11:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44dbe1eeba4de7954c7f2d2d0943e0b6e5854733', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance\nand nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 9, 'created': '2023-04-20 11:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e295b811336e16e6c028befce768e177bd29bab', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 10, 'created': '2023-04-21 12:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b018c8c4d6c210dfcebb921a8d6dcd3b88f08f4', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 11, 'created': '2023-04-24 13:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/145c7d3e816a46c876891b075b2d789874cf6768', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 12, 'created': '2023-06-12 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/729e091d3ae6d4ad1488aac2172845cc07457acd', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 13, 'created': '2023-06-12 18:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/464f85347d7b3ba4312a2f939c882f9e63eac6e0', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 14, 'created': '2023-06-13 09:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3dc127216ecdd877d072689df39fae0860ebbde', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 15, 'created': '2023-06-13 09:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23a7efca5fa8ad8dd34e0423c06564bc7562de60', 'message': 'Add support for multiple ceph files\n\nThis patch is adding feature for option to copy different ceph\nconfiguration files and corresponding keyrings for cinder, glance,\nmanila, gnocchi and nova services.\n\nThis is especially needed when deployment using availability zones.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 16, 'created': '2023-06-14 08:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b90c5707bb2dd1cd44796778d54d1630d53841ce', 'message': 'Add support for multiple ceph files\n\nThis patch is adding a feature for an option to copy different\nceph configuration files and corresponding keyrings for cinder,\nglance, manila, gnocchi and nova services.\n\nThis is especially useful when the deployment uses availability\nzones as below example.\n\n  - Individual compute can read/write to individual ceph\n    cluster in same AZ.\n  - Cinder can write to several ceph clusters in several AZs.\n  - Glance can use multistore and upload images to\n    several ceph clusters in several AZs at once.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}, {'number': 17, 'created': '2023-06-14 08:18:19.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/manila/templates/manila-share.json.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/gnocchi/templates/gnocchi-statsd.json.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/gnocchi/templates/gnocchi-metricd.json.j2', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'releasenotes/notes/multiple-ceph-backends-913051631c6e69ee.yaml', 'ansible/roles/glance/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'ansible/roles/manila/tasks/external_ceph.yml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/gnocchi/templates/gnocchi-api.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/zun/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdf2385f14850cdd580afb5762b6fb29ab246992', 'message': 'Add support for multiple ceph files\n\nThis patch is adding a feature for an option to copy different\nceph configuration files and corresponding keyrings for cinder,\nglance, manila, gnocchi and nova services.\n\nThis is especially useful when the deployment uses availability\nzones as below example.\n\n  - Individual compute can read/write to individual ceph\n    cluster in same AZ.\n  - Cinder can write to several ceph clusters in several AZs.\n  - Glance can use multistore and upload images to\n    several ceph clusters in several AZs at once.\n\nChange-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1\n'}]",92,877413,fdf2385f14850cdd580afb5762b6fb29ab246992,89,9,17,27339,,,0,"Add support for multiple ceph files

This patch is adding a feature for an option to copy different
ceph configuration files and corresponding keyrings for cinder,
glance, manila, gnocchi and nova services.

This is especially useful when the deployment uses availability
zones as below example.

  - Individual compute can read/write to individual ceph
    cluster in same AZ.
  - Cinder can write to several ceph clusters in several AZs.
  - Glance can use multistore and upload images to
    several ceph clusters in several AZs at once.

Change-Id: Ie4d8ab5a3df748137835cae1c943b9180cd10eb1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/877413/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/glance/templates/glance-api.json.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder-volume.json.j2', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder-backup.json.j2', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml', 'etc/kolla/globals.yml']",13,1c87ef1aaa5e539b4f5d4189a36476b349f10530,multiple-ceph-clusters,"#ceph_glance_keyring: ""client.{{ ceph_glance_user }}.keyring""#ceph_cinder_keyring: ""client.{{ ceph_cinder_user }}.keyring""#ceph_cinder_backup_keyring: ""client.{{ ceph_cinder_backup_user }}.keyring""","#ceph_glance_keyring: ""ceph.client.glance.keyring""#ceph_cinder_keyring: ""ceph.client.cinder.keyring""#ceph_cinder_backup_keyring: ""ceph.client.cinder-backup.keyring""",277,95
openstack%2Fcharm-percona-cluster~master~Icdb322035c5a50b19855d61bf13874b7307c3507,openstack/charm-percona-cluster,master,Icdb322035c5a50b19855d61bf13874b7307c3507,Use sha512 to create the username,ABANDONED,2018-09-28 21:00:31.000000000,2023-06-16 16:37:59.000000000,,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 29213}]","[{'number': 1, 'created': '2018-09-28 21:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/c2a0c72102abaa84b061df4eea3d09addf72f924', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 2, 'created': '2018-10-03 08:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/448624d6a87827c1452ecbefe7f7fdf3b4f63d84', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nMade sure that the way pwgen is used, is compatible with both python 2\nand 3.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 3, 'created': '2018-10-03 09:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/279215ce91cde12ec034374662a74e68c0de26f3', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nMade sure that the way pwgen is used, is compatible with both python 2\nand 3.\n\nUpdated the requirements.txt and test-requirements.txt to reflect\ncurrent dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 4, 'created': '2018-10-04 11:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/84748df5c9acc401cd77c58c3184035eafdc4c19', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nMade sure that the way pwgen is used, is compatible with both python 2\nand 3.\n\nUpdated the requirements.txt and test-requirements.txt to reflect\ncurrent dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 5, 'created': '2018-10-08 07:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/a638f8c39c10f5142aa1cc641478b05ada2b821c', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nMade sure that the way pwgen is used, is compatible with both python 2\nand 3.\n\nUpdated the requirements.txt and test-requirements.txt to reflect\ncurrent dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 6, 'created': '2018-10-08 15:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/5cf03d206eeaf1108bafb16c4bd4a35412610789', 'message': 'Use pwgen to create the username\n\nUse the same solution as the mysql-charm to generate the username. This\nis done with the pwgen utility.\n\nMade sure that the way pwgen is used, is compatible with both python 2\nand 3. Ensured the installation of six & pwgen.\n\nUpdated the requirements.txt and test-requirements.txt to reflect\ncurrent dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 7, 'created': '2018-10-09 20:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/ccee70cfa1523d5f6e09644a37de3c211c132d02', 'message': 'Use sha512 to create the username\n\nUse a sha512 hash of the provided unit / remote_unit() during the\ncreation of the username, and limit this to 16 characters.\n\nUpdated the requirements.txt and test-requirements.txt to reflect\ncurrent dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 8, 'created': '2018-10-10 13:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/51c71ab4cf4e2c7b80a9410854c85427ac0d6083', 'message': 'Use sha512 to create the username\n\nUse a sha512 hash of the provided unit / remote_unit() during the\ncreation of the username, and limit this to 16 characters.\n\nUpdated the requirements.txt to reflect current dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}, {'number': 9, 'created': '2018-11-08 04:21:50.000000000', 'files': ['requirements.txt', 'hooks/install', 'hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/9283de7f15829f67de6f675d506a9c2fb074a9cb', 'message': 'Use sha512 to create the username\n\nUse a sha512 hash of the provided unit / remote_unit() during the\ncreation of the username, and limit this to 16 characters.\n\nUpdated the requirements.txt to reflect current dependencies.\n\nCloses-Bug: 1794621\n\nChange-Id: Icdb322035c5a50b19855d61bf13874b7307c3507\nSigned-off-by: Wouter van Bommel <wouter.bommel@canonical.com>\n'}]",5,606202,9283de7f15829f67de6f675d506a9c2fb074a9cb,41,7,9,29213,,,0,"Use sha512 to create the username

Use a sha512 hash of the provided unit / remote_unit() during the
creation of the username, and limit this to 16 characters.

Updated the requirements.txt to reflect current dependencies.

Closes-Bug: 1794621

Change-Id: Icdb322035c5a50b19855d61bf13874b7307c3507
Signed-off-by: Wouter van Bommel <wouter.bommel@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/02/606202/8 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_hooks.py'],1,c2a0c72102abaa84b061df4eea3d09addf72f924,bug/1794621," username = str(subprocess.check_output(['pwgen', '-s', '16'])).strip()", username = db_name,1,1
openstack%2Fcharms.ceph~master~I6a86b3c51344e5b5791aa066c07db7a78c9fe375,openstack/charms.ceph,master,I6a86b3c51344e5b5791aa066c07db7a78c9fe375,Set default block.db size based on osd device size,ABANDONED,2020-06-15 14:12:15.000000000,2023-06-16 16:33:17.000000000,,"[{'_account_id': 19298}, {'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 31959}]","[{'number': 1, 'created': '2020-06-15 14:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/9b0bdb254f9f6e1f9ab1ed5e49e8fc21af61759c', 'message': 'Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\nSigned-off-by: Ponnuvel Palaniyappan <pponnuvel@gmail.com>\n'}, {'number': 2, 'created': '2020-06-15 15:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/3e444c3891071aa2cc4598b17c23127ebca64457', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nThe ioctl request 'BLOCKSIZE64' returns the size of the\nunderlying block device size in bytes. It's equivalent to\n`blockdev --getsize64 /dev/NAME`. Also see: `block/ioctl.c`\nunder Linux source tree.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\nSigned-off-by: Ponnuvel Palaniyappan <pponnuvel@gmail.com>\n""}, {'number': 3, 'created': '2020-06-15 18:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/e0ff11ede7499ffc1d8f845b3f75a6751e89005a', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nIn case, the size of the disk(s) can't be retrieved e.g.\nI/O error or it's less than 1G, it's set to 1G as that's\nthe previous default.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\n""}, {'number': 4, 'created': '2020-06-16 08:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/5c9b47fa19c3e0feadb038c1ad32e41a8b40c620', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nIn case, the size of the disk(s) can't be retrieved e.g.\nI/O error or it's less than 1G, it's set to 1G as that's\nthe previous default.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\n""}, {'number': 5, 'created': '2020-06-16 08:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/521493ce9fd3c7819d1d7bdefcd1d29eda35f5bb', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nIn case, the size of the disk(s) can't be retrieved e.g.\nI/O error or it's less than 1G, it's set to 1G as that's\nthe previous default.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\n""}, {'number': 6, 'created': '2020-07-01 11:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/9e6a5c3e429cc10dfe6bd6677e45e1ac7e8fcc55', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nIn case, the size of the disk(s) can't be retrieved e.g.\nI/O error or it's less than 1G, it's set to 1G as that's\nthe previous default.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\n""}, {'number': 7, 'created': '2020-07-14 14:26:24.000000000', 'files': ['charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/85840c380e8f43e7158dfb0ff9e2290c04075bfa', 'message': ""Set default block.db size based on osd device size\n\nDefault value of block.db (bluestore_block_db_size) is set\nto 1024. However, this may end up being lower than the\nrecommended size of 4%. This change sets the block.db size\nas the 4% of the osd device size.\n\nIn case, the size of the disk(s) can't be retrieved e.g.\nI/O error or it's less than 1G, it's set to 1G as that's\nthe previous default.\n\nPartial-Bug: #1827463\n\nChange-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375\n""}]",3,735596,85840c380e8f43e7158dfb0ff9e2290c04075bfa,20,4,7,31959,,,0,"Set default block.db size based on osd device size

Default value of block.db (bluestore_block_db_size) is set
to 1024. However, this may end up being lower than the
recommended size of 4%. This change sets the block.db size
as the 4% of the osd device size.

In case, the size of the disk(s) can't be retrieved e.g.
I/O error or it's less than 1G, it's set to 1G as that's
the previous default.

Partial-Bug: #1827463

Change-Id: I6a86b3c51344e5b5791aa066c07db7a78c9fe375
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/96/735596/5 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,9b0bdb254f9f6e1f9ab1ed5e49e8fc21af61759c,bug/1827463,"import fcntlimport mathimport struct def _get_total_block_size(): """""" Get the total size of OSD devices in MB. :param: none :returns: int. Total size in MB. """""" db = kv() osd_devices = db.get('osd-devices', []) bytes = 0 # ioctl request: BLKGETSIZE64 req = 0x80081272 for dev in osd_devices: buf = ' ' * 8 with open(dev) as fp: try: buf = fcntl.ioctl(fp.fileno(), req, buf) bytes += struct.unpack('L', buf)[0] except IOError as err: log(""Getting device size of {} failed with message: {}"". format(dev, err), level=WARNING) return (bytes / (1024 ** 2)) # 4% of the total block size db_size = math.ceil(_get_total_block_size() * 0.04) 'db': db_size,"," 'db': 1024,",32,1
openstack%2Fcharm-nova-compute~master~Ic6ca5f474d96fc141874b162f8ab7259a24435e9,openstack/charm-nova-compute,master,Ic6ca5f474d96fc141874b162f8ab7259a24435e9,[DEBUG] Test nova-compute CI with RBD,ABANDONED,2020-05-20 21:37:20.000000000,2023-06-16 16:32:16.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-20 21:37:20.000000000', 'files': ['tests/tests.yaml', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/181d533665a8d216d398f0d83aa78209cbae6bd5', 'message': '[DEBUG] Test nova-compute CI with RBD\n\nChange-Id: Ic6ca5f474d96fc141874b162f8ab7259a24435e9\n'}]",1,729768,181d533665a8d216d398f0d83aa78209cbae6bd5,8,4,1,14567,,,0,"[DEBUG] Test nova-compute CI with RBD

Change-Id: Ic6ca5f474d96fc141874b162f8ab7259a24435e9
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/68/729768/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'test-requirements.txt']",2,181d533665a8d216d398f0d83aa78209cbae6bd5,,git+https://github.com/rodrigogansobarbieri/zaza-openstack-tests.git@ceph-tests#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,2,2
openstack%2Fcharm-keystone-saml-mellon~master~I35a0031ef001ccacd562f5e79420dca041bbaacf,openstack/charm-keystone-saml-mellon,master,I35a0031ef001ccacd562f5e79420dca041bbaacf,Add configuration option to set the entityID,ABANDONED,2020-05-27 13:21:13.000000000,2023-06-16 16:31:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-05-27 13:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/9df85d75c711a426d9aa5de338ee97c6ce1fd889', 'message': 'add configuration option to set the entityID\n\nChange-Id: I35a0031ef001ccacd562f5e79420dca041bbaacf\n'}, {'number': 2, 'created': '2020-05-27 13:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/696bc082ab05f1213a06ed01abdd2883e836a594', 'message': 'Add configuration option to set the entityID\n\nAdd option to configure the entityID. If not specified, the\nentityID is autogenerated.\n\nChange-Id: I35a0031ef001ccacd562f5e79420dca041bbaacf\n'}, {'number': 3, 'created': '2020-05-29 12:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/cbdc46d4a8667ea2cf9e83ec1cb2ba0727554e0d', 'message': 'Add configuration option to set the entityID\n\nAdd option to configure the entityID. If not specified, the\nentityID is autogenerated.\n\nChange-Id: I35a0031ef001ccacd562f5e79420dca041bbaacf\n'}, {'number': 4, 'created': '2020-06-02 14:53:44.000000000', 'files': ['src/templates/mellon-sp-metadata.xml', 'src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8e24bd6ec9db38a8dbafdba11141e36a5546033f', 'message': 'Add configuration option to set the entityID\n\nAdd option to configure the entityID. If not specified, the\nentityID is autogenerated.\n\nChange-Id: I35a0031ef001ccacd562f5e79420dca041bbaacf\n'}]",1,731204,8e24bd6ec9db38a8dbafdba11141e36a5546033f,18,3,4,30113,,,0,"Add configuration option to set the entityID

Add option to configure the entityID. If not specified, the
entityID is autogenerated.

Change-Id: I35a0031ef001ccacd562f5e79420dca041bbaacf
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/04/731204/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/mellon-sp-metadata.xml']",2,9df85d75c711a426d9aa5de338ee97c6ce1fd889,entityID-config-option," {% if options.entityID %}entityID=""{{ options.entityID }}""{% else %}entityID=""{{ keystone_fid_service_provider.base_url }}{{ options.sp_auth_path }}""{% endif %}"," entityID=""{{ keystone_fid_service_provider.base_url }}{{ options.sp_auth_path }}""",6,1
openstack%2Fcharm-nova-compute~master~Iafb2caacc9578ed707f526168a433c9e6e9cc4e7,openstack/charm-nova-compute,master,Iafb2caacc9578ed707f526168a433c9e6e9cc4e7,[DEBUG] Test with charm-helpers PR #363,ABANDONED,2019-09-09 17:10:47.000000000,2023-06-16 16:28:22.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-09-09 17:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/db6302dad18a1f88f7d9347d0d3ea385de52d7bc', 'message': '[DEBUG] Test with charm-helpers PR #363\n\nChange-Id: Iafb2caacc9578ed707f526168a433c9e6e9cc4e7\n'}, {'number': 2, 'created': '2019-11-15 00:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a261ab237cc6e9eb1380de976c7e6a7ef0867883', 'message': '[DEBUG] Test with charm-helpers PR #363\n\nChange-Id: Iafb2caacc9578ed707f526168a433c9e6e9cc4e7\n'}, {'number': 3, 'created': '2019-11-29 14:06:34.000000000', 'files': ['test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7bd0f30c2df49764d7de501ed63b1d08425d49f9', 'message': '[DEBUG] Test with charm-helpers PR #363\n\nChange-Id: Iafb2caacc9578ed707f526168a433c9e6e9cc4e7\n'}]",0,681073,7bd0f30c2df49764d7de501ed63b1d08425d49f9,16,4,3,14567,,,0,"[DEBUG] Test with charm-helpers PR #363

Change-Id: Iafb2caacc9578ed707f526168a433c9e6e9cc4e7
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/73/681073/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'charm-helpers-hooks.yaml']",2,db6302dad18a1f88f7d9347d0d3ea385de52d7bc,,repo: https://github.com/rodrigogansobarbieri/charm-helpers,repo: https://github.com/juju/charm-helpers,2,2
openstack%2Fcharms.openstack~master~Id1891729e0d5f9002d5ba6722b6f989d39caa615,openstack/charms.openstack,master,Id1891729e0d5f9002d5ba6722b6f989d39caa615,Use unittest.mock instead of third party mock,NEW,2020-04-29 15:31:47.000000000,2023-06-16 16:28:10.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2020-04-29 15:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/bc7438ff145153ca84d9e94882dcc27d17799fd6', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Id1891729e0d5f9002d5ba6722b6f989d39caa615\n'}, {'number': 2, 'created': '2023-06-16 16:18:43.000000000', 'files': ['unit_tests/test_charms_openstack_devices_pci.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/b063da5fb232646da288f77df6c5930004c2264e', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Id1891729e0d5f9002d5ba6722b6f989d39caa615\n'}]",0,724358,b063da5fb232646da288f77df6c5930004c2264e,7,3,2,28614,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Id1891729e0d5f9002d5ba6722b6f989d39caa615
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/58/724358/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/plugins/test_adapters.py', 'test-requirements.txt', 'charms_openstack/test_mocks.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/__init__.py', 'unit_tests/charms_openstack/charm/test_defaults.py', 'unit_tests/charms_openstack/charm/utils.py', 'unit_tests/utils.py', 'unit_tests/test_charms_openstack_bus.py', 'unit_tests/test_charms_openstack_devices_pci.py', 'unit_tests/charms_openstack/plugins/test_classes.py', 'unit_tests/test_charms_openstack_adapters.py', 'charms_openstack/test_utils.py', 'unit_tests/charms_openstack/charm/test_classes.py']",14,bc7438ff145153ca84d9e94882dcc27d17799fd6,unittest.mock,from unittest import mock,import mock,13,14
openstack%2Fcharm-percona-cluster~master~I01f1462cbe02ceb1ec31a9f49f2dc3dcf77cca70,openstack/charm-percona-cluster,master,I01f1462cbe02ceb1ec31a9f49f2dc3dcf77cca70,Added wait_timeout to shared-db relation if configured on charm Partial-Bug: #1806784,ABANDONED,2020-05-19 22:47:02.000000000,2023-06-16 16:25:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-19 22:47:02.000000000', 'files': ['hooks/percona_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/cebc536267af14802eb4b759f03fffa03eae2806', 'message': 'Added wait_timeout to shared-db relation if configured on charm\nPartial-Bug: #1806784\n\nChange-Id: I01f1462cbe02ceb1ec31a9f49f2dc3dcf77cca70\n'}]",2,729414,cebc536267af14802eb4b759f03fffa03eae2806,5,3,1,31516,,,0,"Added wait_timeout to shared-db relation if configured on charm
Partial-Bug: #1806784

Change-Id: I01f1462cbe02ceb1ec31a9f49f2dc3dcf77cca70
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/14/729414/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/percona_hooks.py'],1,cebc536267af14802eb4b759f03fffa03eae2806,bug/1806784," # NOTE: (gabriel1109) If wait-timeout is set, then propagate # in shared-db relation so that related applications update # timeout as well if config('wait-timeout'): return_data.update(wait_timeout=config('wait-timeout'))",,5,0
openstack%2Fcharm-ceph-rbd-mirror~master~Ie39cef6965c30f2adb78b4be568ced17a140115b,openstack/charm-ceph-rbd-mirror,master,Ie39cef6965c30f2adb78b4be568ced17a140115b,Add support for interim Ubuntu releases,MERGED,2023-06-15 05:59:06.000000000,2023-06-16 16:23:21.000000000,2023-06-16 16:23:21.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-15 05:59:06.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'build-requirements.txt', 'pip.sh', '.zuul.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9e6128f46d6c66cc8cad024a43b6eb0e464b8fca', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1074\nChange-Id: Ie39cef6965c30f2adb78b4be568ced17a140115b\n'}]",1,886160,9e6128f46d6c66cc8cad024a43b6eb0e464b8fca,7,3,1,15382,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1074
Change-Id: Ie39cef6965c30f2adb78b4be568ced17a140115b
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/60/886160/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'build-requirements.txt', 'pip.sh', '.zuul.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml']",11,9e6128f46d6c66cc8cad024a43b6eb0e464b8fca,ceph-lunar,"variables: openstack-origin: &openstack-origin cloud:jammy-antelope series: &series jammy local_overlay_enabled: False series: *series machines: '0': constraints: ""mem=3072M"" '1': constraints: ""mem=3072M"" '2': constraints: ""mem=3072M"" applications: keystone-mysql-router: charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster num_units: 3 to: - '0' - '1' - '2' channel: 8.0.19/edge keystone: charm: ch:keystone num_units: 1 options: openstack-origin: *openstack-origin channel: 2023.1/edge rabbitmq-server: charm: ch:rabbitmq-server num_units: 1 channel: 3.9/edge cinder: charm: ch:cinder num_units: 1 options: block-device: None glance-api-version: 2 openstack-origin: *openstack-origin channel: 2023.1/edge cinder-ceph: charm: ch:cinder-ceph num_units: 0 channel: 2023.1/edge glance: charm: ch:glance num_units: 1 options: openstack-origin: *openstack-origin channel: 2023.1/edge nova-compute: charm: ch:nova-compute num_units: 1 options: openstack-origin: *openstack-origin channel: 2023.1/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin ceph-mon-b: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd-b: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror-b: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin relations: - - keystone:shared-db - keystone-mysql-router:shared-db - - keystone-mysql-router:db-router - mysql-innodb-cluster:db-router - - glance:shared-db - glance-mysql-router:shared-db - - glance-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:shared-db - cinder-mysql-router:shared-db - - cinder-mysql-router:db-router - mysql-innodb-cluster:db-router - - rabbitmq-server - cinder - - 'keystone:identity-service' - cinder - - 'keystone:identity-service' - glance - - cinder - cinder-ceph - - cinder-ceph:ceph - ceph-mon:client - - nova-compute:ceph-access - cinder-ceph:ceph-access - - nova-compute:amqp - rabbitmq-server:amqp - - glance:image-service - nova-compute:image-service - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ",,462,57
openstack%2Fglance_store~master~I87dd4a129113e6309bee1b35a7a45b2a04353b04,openstack/glance_store,master,I87dd4a129113e6309bee1b35a7a45b2a04353b04,RBD: Wrap RBD calls in native threads,MERGED,2023-05-19 13:40:21.000000000,2023-06-16 16:19:57.000000000,2023-06-16 16:18:57.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-19 13:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/40737d0cce25d7beac734ea8553785a621553253', 'message': ""RBD: Wrap RBD calls in native threads\n\nlibrbd methods call lower level C code which runs in native code\nand isn't aware about the eventlet threads hence hangs the eventlet\nloop until the native code is finished.\nThis could cause problems when we are creating multiple images\nwith large size where one call to librados can cause the process to\nhang and other operations can starve for execution and error out.\nThis patch wraps each RBD call in it's own native thread that won't\naffect other RBD call from executing.\n\nNote that since glance can run under eventlet *or* native threads\nwith something like uwsgi, this only delegates to an eventlet worker\nwhen we are running in that environment.\n\nNote: This was originally merged as commit\n27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447, but without the handling\nfor non-eventlet cases.\n\nChange-Id: I87dd4a129113e6309bee1b35a7a45b2a04353b04\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n""}, {'number': 2, 'created': '2023-05-19 18:50:03.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/127410cd811a58f77d255047ba0b245a30faa399', 'message': ""RBD: Wrap RBD calls in native threads\n\nlibrbd methods call lower level C code which runs in native code\nand isn't aware about the eventlet threads hence hangs the eventlet\nloop until the native code is finished.\nThis could cause problems when we are creating multiple images\nwith large size where one call to librados can cause the process to\nhang and other operations can starve for execution and error out.\nThis patch wraps each RBD call in it's own native thread that won't\naffect other RBD call from executing.\n\nNote that since glance can run under eventlet *or* native threads\nwith something like uwsgi, this only delegates to an eventlet worker\nwhen we are running in that environment.\n\nNote: This was originally merged as commit\n27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447, but without the handling\nfor non-eventlet cases.\n\nChange-Id: I87dd4a129113e6309bee1b35a7a45b2a04353b04\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n""}]",5,883670,127410cd811a58f77d255047ba0b245a30faa399,16,6,2,4393,,,0,"RBD: Wrap RBD calls in native threads

librbd methods call lower level C code which runs in native code
and isn't aware about the eventlet threads hence hangs the eventlet
loop until the native code is finished.
This could cause problems when we are creating multiple images
with large size where one call to librados can cause the process to
hang and other operations can starve for execution and error out.
This patch wraps each RBD call in it's own native thread that won't
affect other RBD call from executing.

Note that since glance can run under eventlet *or* native threads
with something like uwsgi, this only delegates to an eventlet worker
when we are running in that environment.

Note: This was originally merged as commit
27ab8a6aeb7a59bc56ed0ad26ffb5a83d426b447, but without the handling
for non-eventlet cases.

Change-Id: I87dd4a129113e6309bee1b35a7a45b2a04353b04
Co-Authored-By: Dan Smith <dms@danplanet.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/70/883670/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py']",2,40737d0cce25d7beac734ea8553785a621553253,rr-rbd-threads," @mock.patch('oslo_utils.eventletutils.is_monkey_patched') def test_create_image_in_native_thread(self, mock_patched): mock_patched.return_value = True # Tests that we use non-0 features from ceph.conf and cast to int. fsid = 'fake' features = '3' conf_get_mock = mock.Mock(return_value=features) conn = mock.Mock(conf_get=conf_get_mock) ioctxt = mock.sentinel.ioctxt name = '1' size = 1024 order = 3 fake_proxy = mock.MagicMock() fake_rbd = mock.MagicMock() with mock.patch.object(rbd_store.tpool, 'Proxy') as tpool_mock, \ mock.patch.object(rbd_store.rbd, 'RBD') as rbd_mock: tpool_mock.return_value = fake_proxy rbd_mock.return_value = fake_rbd location = self.store._create_image( fsid, conn, ioctxt, name, size, order) self.assertEqual(fsid, location.specs['fsid']) self.assertEqual(rbd_store.DEFAULT_POOL, location.specs['pool']) self.assertEqual(name, location.specs['image']) self.assertEqual(rbd_store.DEFAULT_SNAPNAME, location.specs['snapshot']) tpool_mock.assert_called_once_with(fake_rbd) fake_proxy.create.assert_called_once_with(ioctxt, name, size, order, old_format=False, features=3) @mock.patch('oslo_utils.eventletutils.is_monkey_patched') def test_delete_image_in_native_thread(self, mock_patched): mock_patched.return_value = True fake_proxy = mock.MagicMock() fake_rbd = mock.MagicMock() fake_ioctx = mock.MagicMock() with mock.patch.object(rbd_store.tpool, 'Proxy') as tpool_mock, \ mock.patch.object(rbd_store.rbd, 'RBD') as rbd_mock, \ mock.patch.object(self.store, 'get_connection') as mock_conn: mock_get_conn = mock_conn.return_value.__enter__.return_value mock_ioctx = mock_get_conn.open_ioctx.return_value.__enter__ mock_ioctx.return_value = fake_ioctx tpool_mock.return_value = fake_proxy rbd_mock.return_value = fake_rbd self.store._delete_image('fake_pool', self.location.image) tpool_mock.assert_called_once_with(fake_rbd) fake_proxy.remove.assert_called_once_with(fake_ioctx, self.location.image) @mock.patch.object(rbd_store, 'rbd') @mock.patch.object(rbd_store, 'tpool') @mock.patch('oslo_utils.eventletutils.is_monkey_patched') def test_rbd_proxy(self, mock_patched, mock_tpool, mock_rbd): mock_patched.return_value = False self.assertEqual(mock_rbd.RBD(), self.store.RBDProxy()) mock_patched.return_value = True self.assertEqual(mock_tpool.Proxy.return_value, self.store.RBDProxy())",,76,4
openstack%2Fcharm-deployment-guide~master~Ib6db2252b8d0967800305122e24c82da12a291c2,openstack/charm-deployment-guide,master,Ib6db2252b8d0967800305122e24c82da12a291c2,[WIP] Add description of control plane and data plane HA,ABANDONED,2020-03-19 12:15:57.000000000,2023-06-16 16:06:37.000000000,,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-19 12:15:57.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/69156bd7aaf4f5268cbd9ece5e85c968dc4d2218', 'message': '[WIP] Add description of control plane and data plane HA\n\nChange-Id: Ib6db2252b8d0967800305122e24c82da12a291c2\n'}]",0,713859,69156bd7aaf4f5268cbd9ece5e85c968dc4d2218,4,2,1,13686,,,0,"[WIP] Add description of control plane and data plane HA

Change-Id: Ib6db2252b8d0967800305122e24c82da12a291c2
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/59/713859/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,69156bd7aaf4f5268cbd9ece5e85c968dc4d2218,ovn-charm,"OVN control plane HA ~~~~~~~~~~~~~~~~~~~~~ An important facet of the OVN architecture is clear separation between the desired state and run-time state of the system. When OVN is used with OpenStack the end user specifies the desired state of the system by communicating with the Neutron APIs. The HA of Neutron APIs is maintained by the hacluster charm as for other API services. Neutron maintains its own state in a SQL database and this data is made HA by MySQL Innodb Cluster. From OVNs point of view the desired state is dictated by the Cloud Management System (CMS), in this case OpenStack Neutron, and programmed into the OVN Northbound database by workers on the Neutron API nodes. The OVN central control daemon, ovn-northd, reads the high level logical network configuration from the OVN Northbound database and programs it into logical datapath flows in the OVN Southbound database. The charms configure the OVN databases to use the Open vSwitch Database (OVSDB) Clustered Database Service Model. To ensure consistency OVSDB uses the Raft algorithm. The charms run multiple copies of the ovn-northd daemon and they will through the use of a locking mechanism in the database make sure that only one of them is active at a time. In the event of the currently active ovn-northd daemon becoming unavailable one of the others standing by will automatically take over. The ovn-central charm deploys the Northbound and Southbound databases along with the ovn-northd daemon. OVN control plane security ~~~~~~~~~~~~~~~~~~~~~~~~~~ OVN data plane HA ~~~~~~~~~~~~~~~~~ Each transport node in the system (chassis), typically a hypervisor in OpenStacks case, runs a local copy of Open vSwitch along with its local OVSDB server which together maintains the run-time state of the system. The local switch is programmed by the OVN local controller, ovn-controller, which connects up to the Southbound database to retrieve configuration data relevant to the chassis it runs on. The ovn-controller process is also placed in the datapath for some types of network control traffic such as DNS queries (to implement internal dns resolution) and DHCP requests. When possible the result of any packet processing done by the ovn-controller will be programmed back into the local Open vSwitch so that any similar flows arriving in the future can be dealt with by the networking stack without involving the ovn-controller process. Tunnels are established to other chassis in the system. Communication between instances in the same virtual network (East/West) flow directly from the chassis the traffic originates from to the chassis the traffic is destined to through these tunnels. Communication to the outside world or instances on other virtual networks (North/South) go through chassis selected as gateway chassis. Chassis are selected as gateways based on a combination of presence of external connectivity and a scheduling algorithm (least loaded or round robin). Other than that a gateway chassis is just like any other chassis and they still host a hypervisor with instances etc. HA for North/South traffic is accomplished by each virtual router being scheduled to up to 5 gateway chassis. Liveness detection between them is implemented using the Bidirectional Forwarding Detection protocol (BFD). It is also possible to configure the system in such a way that North/South traffic to/from instances with a Floating IP will be handled by the chassis that hosts the instance. Depending on your physical networking configuration this may or may not be desirable. As opposed to the Neutron legacy OVS+DVR implementation you do not need to have external connectivity to all hypervisors to get distributed east/west traffic and you can influence which chassis are selected for handling North/South traffic. Minimal deployment example ~~~~~~~~~~~~~~~~~~~~~~~~~~",OVN can then be deployed:,39,1
openstack%2Fcharm-neutron-openvswitch~master~Idac48d16d7867f73e7a6025775b0c3f61b6b391b,openstack/charm-neutron-openvswitch,master,Idac48d16d7867f73e7a6025775b0c3f61b6b391b,Move DPDK bits to charm-helpers,ABANDONED,2020-04-06 14:22:58.000000000,2023-06-16 15:53:14.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-04-06 14:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/057caed5831dd0f00dd89e1ef180b63569ac355f', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 2, 'created': '2020-04-07 12:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f9f694070cccb2fedc137be1d84556e111f370d3', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 3, 'created': '2020-04-07 13:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f0ca0c4e42d81a283a77f99ad4a2430f690366ec', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 4, 'created': '2020-04-07 16:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1ac40f535447a5c6937f46df708f0186a157638c', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 5, 'created': '2020-04-07 19:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1d56277bfa32484056fe3fce6bf8368c464073ac', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 6, 'created': '2020-04-08 10:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9dd2ca0b3d06650236a20559d52c7b8433d3d971', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 7, 'created': '2020-04-08 14:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b6eff441657d58ecc15e0e4333a9f5aa60f4f99a', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 8, 'created': '2020-04-08 14:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/dc5071c4341e9ba2e8227e591a8b00ea05deb727', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nConsume PCI library from ``sriov-netplan-shim`` package\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 9, 'created': '2020-04-10 07:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/35bdfa2ca504b2f34b497617831205d52c269f2a', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bond configuration.\n\nConsume PCI library from ``sriov-netplan-shim`` package\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}, {'number': 10, 'created': '2020-04-24 06:22:06.000000000', 'files': ['unit_tests/test_pci_helper.py', 'hooks/neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/core/sysctl.py', 'unit_tests/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'unit_tests/test_neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/pci_responses.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_pci.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/pci.py', 'hooks/neutron_ovs_context.py', 'hooks/charmhelpers/core/hookenv.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/edc410b58bfd26eb4c0a673a89b98057539de9ea', 'message': 'Move DPDK bits to charm-helpers\n\nAs a part of the work to move the DPDK initialization code to\ncharm-helpers we have written a more generic ``add_bridge_bond``\nhelper function that allows passing data to be set on ports added\nto the bond and the interfaces making up the ports.\n\nRefactor ``configure_ovs`` to consume ``add_bridge_bond`` and\nremove now unnecessary DPDK-specific helpers from charm.\n\nRefactor DPDKBridgeBondMap and DPDKBondsConfig into generic\ncontainers of bridge port interface mapping configuration.\n\nConsume PCI library from ``sriov-netplan-shim`` package\n\nChange-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b\n'}]",0,717765,edc410b58bfd26eb4c0a673a89b98057539de9ea,41,4,10,13686,,,0,"Move DPDK bits to charm-helpers

As a part of the work to move the DPDK initialization code to
charm-helpers we have written a more generic ``add_bridge_bond``
helper function that allows passing data to be set on ports added
to the bond and the interfaces making up the ports.

Refactor ``configure_ovs`` to consume ``add_bridge_bond`` and
remove now unnecessary DPDK-specific helpers from charm.

Refactor DPDKBridgeBondMap and DPDKBondsConfig into generic
containers of bridge port interface mapping configuration.

Consume PCI library from ``sriov-netplan-shim`` package

Change-Id: Idac48d16d7867f73e7a6025775b0c3f61b6b391b
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/65/717765/10 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py']",3,057caed5831dd0f00dd89e1ef180b63569ac355f,ovn-charm,"def add_bridge_bond(bridge, port, interfaces, portdata=None, ifdatamap=None, exclusive=False): """"""Add bonded port in bridge from interfaces. :param bridge: Name of bridge to add bonded port to :type bridge: str :param port: Name of created port :type port: str :param interfaces: Underlying interfaces that make up the bonded port :type interfaces: Iterator[str] :param portdata: Additional data to attach to the created bond port See _dict_to_vsctl_set() for detailed description. Example: { 'bond-mode': 'balance-tcp', 'lacp': 'active', 'other-config': { 'lacp-time': 'fast', }, } :type portdata: Optional[Dict[str,Union[str,Dict[str,str]]]] :param ifdatamap: Map of data to attach to created bond interfaces See _dict_to_vsctl_set() for detailed description. Example: { 'eth0': { 'type': 'dpdk', 'mtu-request': '9000', 'options': { 'dpdk-devargs': '0000:01:00.0', }, }, } :type ifdatamap: Optional[Dict[str,Dict[str,Union[str,Dict[str,str]]]]] :param exclusive: If True, raise exception if port exists :type exclusive: bool :raises: subprocess.CalledProcessError """""" cmd = ['ovs-vsctl', '--'] if not exclusive: cmd.append('--may-exist') cmd.extend(('add-bond', bridge, port)) cmd.extend(interfaces) if portdata: for setcmd in _dict_to_vsctl_set(portdata, 'port', port): cmd.extend(setcmd) if ifdatamap: for ifname, ifdata in ifdatamap.items(): for setcmd in _dict_to_vsctl_set(ifdata, 'Interface', ifname): cmd.extend(setcmd) subprocess.check_call(cmd) def add_ovsbridge_linuxbridge(name, bridge, ifdata=None): """"""Add linux bridge to the named openvswitch bridge :type name: str :type name: str :param ifdata: Additional data to attach to interface The keys in the ifdata dictionary map directly to column names in the OpenvSwitch Interface table as defined in DB-SCHEMA [0] referenced in RFC 7047 [1] There are some established conventions for keys in the external-ids column of various tables, consult the OVS Integration Guide [2] for more details. NOTE(fnordahl): Technically the ``external-ids`` column is called ``external_ids`` (with an underscore) and we rely on ``ovs-vsctl``'s behaviour of transforming dashes to underscores for us [3] so we can have a more pleasant data structure. 0: http://www.openvswitch.org/ovs-vswitchd.conf.db.5.pdf 1: https://tools.ietf.org/html/rfc7047 2: http://docs.openvswitch.org/en/latest/topics/integration/ 3: https://github.com/openvswitch/ovs/blob/ 20dac08fdcce4b7fda1d07add3b346aa9751cfbc/ lib/db-ctl-base.c#L189-L215 :type ifdata: Optional[Dict[str,Union[str,Dict[str,str]]]] """""" add_bridge_port(name, linuxbridge_port, ifdata=ifdata)","def add_ovsbridge_linuxbridge(name, bridge): ''' Add linux bridge to the named openvswitch bridge :returns: True if veth is added between ovs bridge and linux bridge, False otherwise''' add_bridge_port(name, linuxbridge_port)",195,191
openstack%2Fcharm-neutron-openvswitch~master~I2b4272ceb6148950065c737691e823b9a7f63760,openstack/charm-neutron-openvswitch,master,I2b4272ceb6148950065c737691e823b9a7f63760,Add unit test that measures aggregated output from configure_ovs,ABANDONED,2020-04-03 19:09:09.000000000,2023-06-16 15:52:34.000000000,,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-03 19:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3d6c01d9c5df5daae6c4ea1930ffb7372d78e331', 'message': '[WIP] Add unit test that measures aggregated output from configure_ovs\n\nTo be able to safely refactor and extract parts of the\n``configure_ovs`` function from the ``neutron-openvswitch`` charm\nwe need a unit test for configure_ovs that measures its output\nto Open vSwitch.\n\nThe Open vSwitch CLI provided by ``ovs-vsctl`` is rich, and multiple\ncombinations and orders of arguments can be used to accomplish\nexactly the same programming of the system.\n\nA side effect of any refactoring of this part of the code will lead\nto change in order of which things are called, so we want to be able\nto test that the expected set of ``ovs-vsctl`` sentences are called\nregardless of in which order they arrive.\n\nChange-Id: I2b4272ceb6148950065c737691e823b9a7f63760\n'}, {'number': 2, 'created': '2020-04-05 16:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3a54603755e74f4e2165a782865f10e77a7ca86f', 'message': 'Add unit test that measures aggregated output from configure_ovs\n\nTo be able to safely refactor and extract parts of the\n``configure_ovs`` function from the ``neutron-openvswitch`` charm\nwe need a unit test for configure_ovs that measures its output\nto Open vSwitch.\n\nThe Open vSwitch CLI provided by ``ovs-vsctl`` is rich, and multiple\ncombinations and orders of arguments can be used to accomplish\nexactly the same programming of the system.\n\nA side effect of any refactoring of this part of the code will lead\nto change in order of which things are called, so we want to be able\nto test that the expected set of ``ovs-vsctl`` sentences are called\nregardless of in which order they arrive.\n\nChange-Id: I2b4272ceb6148950065c737691e823b9a7f63760\n'}, {'number': 3, 'created': '2020-04-05 16:24:22.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/ca66a874bfbea818453a127fa593da8fdaa7c342', 'message': 'Add unit test that measures aggregated output from configure_ovs\n\nTo be able to safely refactor and extract parts of the\n``configure_ovs`` function from the ``neutron-openvswitch`` charm\nwe need a unit test for configure_ovs that measures its output\nto Open vSwitch.\n\nThe Open vSwitch CLI provided by ``ovs-vsctl`` is rich, and multiple\ncombinations and orders of arguments can be used to accomplish\nexactly the same programming of the system.\n\nA side effect of any refactoring of this part of the code will lead\nto change in order of which things are called, so we want to be able\nto test that the expected set of ``ovs-vsctl`` sentences are called\nregardless of in which order they arrive.\n\nChange-Id: I2b4272ceb6148950065c737691e823b9a7f63760\n'}]",0,717372,ca66a874bfbea818453a127fa593da8fdaa7c342,12,4,3,13686,,,0,"Add unit test that measures aggregated output from configure_ovs

To be able to safely refactor and extract parts of the
``configure_ovs`` function from the ``neutron-openvswitch`` charm
we need a unit test for configure_ovs that measures its output
to Open vSwitch.

The Open vSwitch CLI provided by ``ovs-vsctl`` is rich, and multiple
combinations and orders of arguments can be used to accomplish
exactly the same programming of the system.

A side effect of any refactoring of this part of the code will lead
to change in order of which things are called, so we want to be able
to test that the expected set of ``ovs-vsctl`` sentences are called
regardless of in which order they arrive.

Change-Id: I2b4272ceb6148950065c737691e823b9a7f63760
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/72/717372/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_neutron_ovs_utils.py'],1,3d6c01d9c5df5daae6c4ea1930ffb7372d78e331,ovn-charm," class ConfigureOvsMeasureOutputTest(CharmTestCase): """"""Test the output from ``configure_ovs``. The purpose of this test class is to measure the output from the ``configure_ovs`` function by letting the helper functions called do their work and measuring the resulting side effects (subprocess calls). This is a transitional necessity to aid a successful refactoring of the existing function as we lift it out from the ``neutron-openvswitch`` charm and into charm-helpers for charing with the OVN charms. """""" def setUp(self): super(ConfigureOvsMeasureOutputTest, self).setUp(nutils, [ 'config', 'firewall_driver', 'get_ovs_version', 'ovs_has_late_dpdk_init', 'parse_data_port_mappings', 'use_dpdk', 'use_dvr', 'use_hw_offload', ]) def assertVsctlSentencesCalled(self, call_args_list, expect): """"""Assert set of ``ovs-vscctl`` sentences has been called. The Open vSwitch CLI provided by ``ovs-vsctl`` is rich, and multiple combinations and orders of arguments can be used to accomplish exactly the same programming of the system. A side effect of any refactoring of this part of the code will lead to change in order of which things are called, so we want to be able to test that the expected set of ``ovs-vsctl`` sentences are called regardless of in which order they arrive. """""" # translate vsctl command line arguments into comparable Tuples called_vsctl_sentences = [] for _call in call_args_list: for args in _call[0]: assert args.pop(0) == 'ovs-vsctl' while args: try: end = args.index('--') if not end: args.pop(0) continue except ValueError: end = len(args) called_vsctl_sentences.append(tuple(args[:end])) del args[:end] _maxDiff = self.maxDiff self.maxDiff = None self.assertEquals(sorted(expect), sorted(called_vsctl_sentences)) self.maxDiff = _maxDiff @patch.object(neutron_ovs_context, 'NeutronAPIContext') @patch.object(neutron_ovs_context, 'resolve_dpdk_bridges') @patch.object(neutron_ovs_context, 'resolve_dpdk_bonds') @patch('subprocess.check_output') @patch('subprocess.check_call') @patch('charmhelpers.contrib.openstack.context.config') def test_output_vsctl_configure_ovs( self, mock_openstack_context_config, mock_check_call, mock_check_output, mock_resolve_dpdk_bonds, mock_resolve_dpdk_bridges, mock_NeutronAPIContext): mock_openstack_context_config.side_effect = self.test_config.get self.config.side_effect = self.test_config.get # FIXME: lack of cleanup/residue of previous test runs make the # IPFIX code not run, we need to fix that before this test is # reliable for refactoring work. mock_NeutronAPIContext.return_value = lambda: { 'global_physnet_mtu': 1500, 'ipfix-target': '192.0.2.42:51'} self.test_config.set('bridge-mappings', 'physnet1:br-foo') self.test_config.set('data-port', 'br-foo:eth0') self.test_config.set('ipfix-target', None) self.ovs_has_late_dpdk_init.return_value = True self.use_dpdk.return_value = False self.use_dvr.return_value = True self.use_hw_offload.return_value = True mock_resolve_dpdk_bonds.return_value = OrderedDict() mock_resolve_dpdk_bridges.return_value = OrderedDict([ ('0000:001c.01', 'br-phynet1'), ('0000:001c.02', 'br-phynet2'), ('0000:001c.03', 'br-phynet3'), ]) expected_vsctl_sentences = [ ('--may-exist', 'add-br', 'br-int'), ('--may-exist', 'add-br', 'br-ex'), ('--may-exist', 'add-br', 'br-foo'), ('set', 'bridge', 'br-int', 'datapath-type=system'), ('set', 'bridge', 'br-ex', 'datapath-type=system'), ('set', 'bridge', 'br-foo', 'datapath-type=system'), ('clear', 'Bridge', 'br-int', 'ipfix'), ('clear', 'Bridge', 'br-ex', 'ipfix'), ('clear', 'Bridge', 'br-foo', 'ipfix'), ] nutils.configure_ovs() self.assertVsctlSentencesCalled(mock_check_call.call_args_list, expected_vsctl_sentences) mock_check_call.reset_mock() self.use_hw_offload.return_value = False self.use_dpdk.return_value = True self.ovs_has_late_dpdk_init.return_value = False expected_vsctl_sentences = [ ('--may-exist', 'add-br', 'br-int'), ('--may-exist', 'add-br', 'br-ex'), ('--may-exist', 'add-br', 'br-phynet1'), ('--may-exist', 'add-br', 'br-phynet2'), ('--may-exist', 'add-br', 'br-phynet3'), ('--may-exist', 'add-port', 'br-phynet1', 'dpdk0'), ('--may-exist', 'add-port', 'br-phynet2', 'dpdk1'), ('--may-exist', 'add-port', 'br-phynet3', 'dpdk2'), ('set', 'bridge', 'br-int', 'datapath-type=netdev'), ('set', 'bridge', 'br-ex', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet1', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet2', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet3', 'datapath-type=netdev'), ('clear', 'Bridge', 'br-int', 'ipfix'), ('clear', 'Bridge', 'br-ex', 'ipfix'), ('clear', 'Bridge', 'br-phynet1', 'ipfix'), ('clear', 'Bridge', 'br-phynet2', 'ipfix'), ('clear', 'Bridge', 'br-phynet3', 'ipfix'), ('set', 'Interface', 'dpdk0', 'mtu_request=1500'), ('set', 'Interface', 'dpdk0', 'type=dpdk'), ('set', 'Interface', 'dpdk1', 'mtu_request=1500'), ('set', 'Interface', 'dpdk1', 'type=dpdk'), ('set', 'Interface', 'dpdk2', 'mtu_request=1500'), ('set', 'Interface', 'dpdk2', 'type=dpdk'), ] nutils.configure_ovs() self.assertVsctlSentencesCalled(mock_check_call.call_args_list, expected_vsctl_sentences) mock_check_call.reset_mock() self.use_dpdk.return_value = True self.ovs_has_late_dpdk_init.return_value = True expected_vsctl_sentences = [ ('--may-exist', 'add-br', 'br-int'), ('--may-exist', 'add-br', 'br-ex'), ('--may-exist', 'add-br', 'br-phynet1'), ('--may-exist', 'add-br', 'br-phynet2'), ('--may-exist', 'add-br', 'br-phynet3'), ('add-port', 'br-phynet1', 'dpdk-ac48d24'), ('add-port', 'br-phynet2', 'dpdk-82c1c9e'), ('add-port', 'br-phynet3', 'dpdk-aebdb4d'), ('set', 'bridge', 'br-int', 'datapath-type=netdev'), ('set', 'bridge', 'br-ex', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet1', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet2', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet3', 'datapath-type=netdev'), ('clear', 'Bridge', 'br-int', 'ipfix'), ('clear', 'Bridge', 'br-ex', 'ipfix'), ('clear', 'Bridge', 'br-phynet1', 'ipfix'), ('clear', 'Bridge', 'br-phynet2', 'ipfix'), ('clear', 'Bridge', 'br-phynet3', 'ipfix'), ('set', 'Interface', 'dpdk-82c1c9e', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-82c1c9e', 'type=dpdk', 'options:dpdk-devargs=0000:001c.02'), ('set', 'Interface', 'dpdk-ac48d24', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-ac48d24', 'type=dpdk', 'options:dpdk-devargs=0000:001c.01'), ('set', 'Interface', 'dpdk-aebdb4d', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-aebdb4d', 'type=dpdk', 'options:dpdk-devargs=0000:001c.03'), ] nutils.configure_ovs() self.assertVsctlSentencesCalled(mock_check_call.call_args_list, expected_vsctl_sentences) mock_check_call.reset_mock() self.use_dpdk.return_value = True self.ovs_has_late_dpdk_init.return_value = True mock_resolve_dpdk_bridges.return_value = OrderedDict() mock_resolve_dpdk_bonds.return_value = OrderedDict([ ('0000:001c.01', 'bond0'), ('0000:001c.02', 'bond1'), ('0000:001c.03', 'bond2'), ]) self.parse_data_port_mappings.return_value = OrderedDict([ ('bond0', 'br-phynet1'), ('bond1', 'br-phynet2'), ('bond2', 'br-phynet3'), ]) expected_vsctl_sentences = [ ('--may-exist', 'add-bond', 'br-phynet1', 'bond0', 'dpdk-ac48d24'), ('--may-exist', 'add-bond', 'br-phynet2', 'bond1', 'dpdk-82c1c9e'), ('--may-exist', 'add-bond', 'br-phynet3', 'bond2', 'dpdk-aebdb4d'), ('--may-exist', 'add-br', 'br-int'), ('--may-exist', 'add-br', 'br-ex'), ('--may-exist', 'add-br', 'br-phynet1'), ('--may-exist', 'add-br', 'br-phynet2'), ('--may-exist', 'add-br', 'br-phynet3'), ('set', 'bridge', 'br-int', 'datapath-type=netdev'), ('set', 'bridge', 'br-ex', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet1', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet2', 'datapath-type=netdev'), ('set', 'bridge', 'br-phynet3', 'datapath-type=netdev'), ('clear', 'Bridge', 'br-int', 'ipfix'), ('clear', 'Bridge', 'br-ex', 'ipfix'), ('set', 'Interface', 'dpdk-82c1c9e', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-82c1c9e', 'type=dpdk', 'options:dpdk-devargs=0000:001c.02'), ('set', 'Interface', 'dpdk-ac48d24', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-ac48d24', 'type=dpdk', 'options:dpdk-devargs=0000:001c.01'), ('set', 'Interface', 'dpdk-aebdb4d', 'mtu_request=1500'), ('set', 'Interface', 'dpdk-aebdb4d', 'type=dpdk', 'options:dpdk-devargs=0000:001c.03'), ('set', 'port', 'bond0', 'bond_mode=balance-tcp'), ('set', 'port', 'bond0', 'lacp=active'), ('set', 'port', 'bond0', 'other_config:lacp-time==fast'), ('set', 'port', 'bond1', 'bond_mode=balance-tcp'), ('set', 'port', 'bond1', 'lacp=active'), ('set', 'port', 'bond1', 'other_config:lacp-time==fast'), ('set', 'port', 'bond2', 'bond_mode=balance-tcp'), ('set', 'port', 'bond2', 'lacp=active'), ('set', 'port', 'bond2', 'other_config:lacp-time==fast') ] nutils.configure_ovs() self.assertVsctlSentencesCalled(mock_check_call.call_args_list, expected_vsctl_sentences)",,244,0
openstack%2Fcharm-glance-simplestreams-sync~master~Ic747fcb727367fd30070532817c281ef42ebccb1,openstack/charm-glance-simplestreams-sync,master,Ic747fcb727367fd30070532817c281ef42ebccb1,Make use of auth_host config and set it in openstack env,ABANDONED,2019-11-15 23:18:26.000000000,2023-06-16 15:48:45.000000000,,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 29444}]","[{'number': 1, 'created': '2019-11-15 23:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9725598a6ec5e6d585072df4f7714a30f9c0f607', 'message': 'Make use of auth_host config and set it in openstack env\n\nChange-Id: Ic747fcb727367fd30070532817c281ef42ebccb1\n'}, {'number': 2, 'created': '2020-01-30 00:29:56.000000000', 'files': ['files/glance-simplestreams-sync.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/5a80305180322c43e612fa55d2b3565489a6cde6', 'message': 'Make use of auth_host config and set it in openstack env\n\nChange-Id: Ic747fcb727367fd30070532817c281ef42ebccb1\n'}]",4,694643,5a80305180322c43e612fa55d2b3565489a6cde6,12,6,2,29444,,,0,"Make use of auth_host config and set it in openstack env

Change-Id: Ic747fcb727367fd30070532817c281ef42ebccb1
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/43/694643/2 && git format-patch -1 --stdout FETCH_HEAD,['files/glance-simplestreams-sync.py'],1,9725598a6ec5e6d585072df4f7714a30f9c0f607,auth_host," host=id_conf['auth_host'], port=id_conf['auth_port'], public_auth_url = (""{protocol}://{host}:{port}/{version}"" .format(protocol=id_conf['service_protocol'], host=id_conf['service_host'], port=id_conf['service_port'], version=version)) os.environ['OS_PUBLIC_AUTH_URL'] = public_auth_url"," host=id_conf['service_host'], port=id_conf['service_port'],",8,2
openstack%2Fcharms.ceph~master~I3b5f9e02fe73b36a0bdad81f8ed2759f426a2432,openstack/charms.ceph,master,I3b5f9e02fe73b36a0bdad81f8ed2759f426a2432,Wipe FS signatures outside the 1st sector,ABANDONED,2019-11-02 23:29:05.000000000,2023-06-16 15:45:37.000000000,,"[{'_account_id': 20634}, {'_account_id': 22348}, {'_account_id': 30110}]","[{'number': 1, 'created': '2019-11-02 23:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/ccab6744ef6d66445d7b0411029507c96f0b38aa', 'message': 'Wipe FS signatures outside the 1st sector\n\nUse wipefs to clear more FS signatures.\nLP:1851049\n\nChange-Id: I3b5f9e02fe73b36a0bdad81f8ed2759f426a2432\n'}, {'number': 2, 'created': '2019-11-02 23:33:18.000000000', 'files': ['ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/bff48f927fb4417ba70790768cb2587775598256', 'message': 'Wipe FS signatures outside the 1st sector\n\nUse wipefs to clear more FS signatures.\nLP:1851049\n\nChange-Id: I3b5f9e02fe73b36a0bdad81f8ed2759f426a2432\n'}]",2,692688,bff48f927fb4417ba70790768cb2587775598256,8,3,2,30110,,,0,"Wipe FS signatures outside the 1st sector

Use wipefs to clear more FS signatures.
LP:1851049

Change-Id: I3b5f9e02fe73b36a0bdad81f8ed2759f426a2432
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/88/692688/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,ccab6744ef6d66445d7b0411029507c96f0b38aa,bug/1851049," subprocess.check_call([ 'wipefs', '-a', '{}'.format(dm_crypt), ])",,5,0
openstack%2Fcharm-specs~master~I115281cdd5c667b1d5c47429e226ec9df2d7e780,openstack/charm-specs,master,I115281cdd5c667b1d5c47429e226ec9df2d7e780,ovn-charm: Amendment with separate DB placement support,ABANDONED,2019-09-05 13:48:40.000000000,2023-06-16 15:38:08.000000000,,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 13:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/3b2ca4a966621b84f6fa10f718dd97c2a1353641', 'message': 'ovn-charm: Amendment with separate DB placement support\n\nChange-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780\n'}, {'number': 2, 'created': '2019-09-05 14:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/b57a33b114b1538a706c4f947541669e07bf7d9f', 'message': 'ovn-charm: Amendment with separate DB placement support\n\nChange-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780\n'}, {'number': 3, 'created': '2019-09-06 05:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/e1a20d0b7a51cbf59d39a4e81f8f42dd43181a81', 'message': 'ovn-charm: Amendment with separate DB placement support\n\nChange-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780\n'}, {'number': 4, 'created': '2019-09-06 05:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/07428b2aed5f1481dbbd30c0f3a0d9979f7b3c54', 'message': 'ovn-charm: Amendment with separate DB placement support\n\nChange-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780\n'}, {'number': 5, 'created': '2019-09-06 06:02:13.000000000', 'files': ['specs/train/approved/charm-openstack-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/9ccabb098bb1ba8412affcc153708bd64a949046', 'message': 'ovn-charm: Amendment with separate DB placement support\n\nChange-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780\n'}]",0,680415,9ccabb098bb1ba8412affcc153708bd64a949046,11,2,5,13686,,,0,"ovn-charm: Amendment with separate DB placement support

Change-Id: I115281cdd5c667b1d5c47429e226ec9df2d7e780
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/15/680415/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/charm-openstack-ovn.rst'],1,3b2ca4a966621b84f6fa10f718dd97c2a1353641,ovn-charm," - The charm SHOULD support separate deployment of the Northbound- and Southbound- databases for use in large scale deployments. This can be accomplished with re-using the same charm code and utilizing Juju support for multiple instances of an application. - The ``nb-ovsdb-server`` and ``nb-ovsdb-client`` endpoints with the ``ovsdb-cluster`` interface will be usded by the charm to deduce if it is used in this mode of operation. - The first iteration of the charm MAY not support automatic migration between the two topologies. - ovsdb-cluster - Similar to the ``ovsdb`` interface but will contain information about both the Northbound and Southbound OVSDB databases and any information specific to configuring clustering for these. - Main reasons for separating this out into a different interface are - The distributed dataplane components should under no circumstance talk directly to the Northbound databases, thus keep it out of the ""public"" facing interface. - Avoid accidental endpoint cross connection in the field when a end user builds a bundle or augments a deployment using ``juju`` commands. - Note that we should go through lenghts to make the ``ovsdb`` and ``ovsdb-cluster`` interfaces share as much code as possible, perhaps use a shared repository and have two entries in the layer-index. ",,31,0
openstack%2Fcinder~master~Ibeff5abe4c831b92a2b79849a7bf8f0433cd7c8b,openstack/cinder,master,Ibeff5abe4c831b92a2b79849a7bf8f0433cd7c8b,DNM: testing nfs job with devstack nfs change,NEW,2023-03-23 00:44:48.000000000,2023-06-16 15:33:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-03-23 00:44:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fad440674184ca79cc76c09ce1d403aadbc06068', 'message': 'DNM: testing nfs job with devstack nfs change\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/868672\nChange-Id: Ibeff5abe4c831b92a2b79849a7bf8f0433cd7c8b\n'}]",1,878294,fad440674184ca79cc76c09ce1d403aadbc06068,26,2,1,27615,,,0,"DNM: testing nfs job with devstack nfs change

Depends-On: https://review.opendev.org/c/openstack/devstack/+/868672
Change-Id: Ibeff5abe4c831b92a2b79849a7bf8f0433cd7c8b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/878294/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fad440674184ca79cc76c09ce1d403aadbc06068,, # testing this job,,1,0
openstack%2Fcharm-cinder~master~I92cabba6bba1a64babf36d8f5e9fb3a3c556b777,openstack/charm-cinder,master,I92cabba6bba1a64babf36d8f5e9fb3a3c556b777,Add Python 3 Train unit tests,ABANDONED,2019-07-26 18:54:40.000000000,2023-06-16 15:14:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 11805}, {'_account_id': 17499}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-07-26 18:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c876c8ecfa1bd7677f0b4c433243ec713ae93e80', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I92cabba6bba1a64babf36d8f5e9fb3a3c556b777\nStory: #2005924\nTask: #34228\n'}, {'number': 2, 'created': '2019-08-09 16:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1fbc087a87a284479628f4d869ed96548b617b78', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that python35-charm-jobs is retained since this charm is supported\non Xenial.\n\nChange-Id: I92cabba6bba1a64babf36d8f5e9fb3a3c556b777\nStory: #2005924\nTask: #34228\n'}, {'number': 3, 'created': '2019-08-29 20:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d6e1a264f1602b4fb3d814c4a2accf2952939a99', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that python35-charm-jobs is retained since this charm is supported\non Xenial.\n\nChange-Id: I92cabba6bba1a64babf36d8f5e9fb3a3c556b777\nStory: #2005924\nTask: #34228\nDepends-On: https://review.opendev.org/#/c/678676\n'}, {'number': 4, 'created': '2019-08-30 18:52:10.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/9f30b214eb4a85f5e06542fa35b2b8875a0d5fb7', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nNote that python35-charm-jobs is retained since this charm is supported\non Xenial.\n\nChange-Id: I92cabba6bba1a64babf36d8f5e9fb3a3c556b777\nStory: #2005924\nTask: #34228\nDepends-On: https://review.opendev.org/#/c/678676\n'}]",1,673062,9f30b214eb4a85f5e06542fa35b2b8875a0d5fb7,29,9,4,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Note that python35-charm-jobs is retained since this charm is supported
on Xenial.

Change-Id: I92cabba6bba1a64babf36d8f5e9fb3a3c556b777
Story: #2005924
Task: #34228
Depends-On: https://review.opendev.org/#/c/678676
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/62/673062/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,c876c8ecfa1bd7677f0b4c433243ec713ae93e80,corey,"envlist = pep8,py37[testenv:py37] basepython = python3.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ","envlist = pep8,py35,py36",12,1
openstack%2Fcharm-nova-cloud-controller~master~I53fb879ce1fc173b7aa1e2b477b850135576a040,openstack/charm-nova-cloud-controller,master,I53fb879ce1fc173b7aa1e2b477b850135576a040,utils: make update_cell_database() flexible,ABANDONED,2019-07-17 12:35:38.000000000,2023-06-16 15:12:57.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-17 12:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f7ada722962729bb6fd47346b10f15d5e274957b', 'message': 'utils: make update_cell_database() flexible\n\nIn order to fix bug/1835037 it will be necessary to update cell\ndetails of both cell0 and cell1.\n\nIn this commit we update the method update_cell_database() to take a\nnew argument which provides ability to set cell names that have to be\nupdated.\n\nRelated-bug: #1835037\nChange-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-07-17 14:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/497ac993b8acba58223be8da47a8bbde36cf59ed', 'message': 'utils: add method to update cell0 properties\n\nIn order to fix bug/1835037 it will be necessary to update cell\ndetails of both cell0 and cell1. Currently we only support updating\nproperties of cell1.\n\nIn this commit we add new method update_cell0_database(). It is to\nnote that, using update_cell does not work fo cell0.\n\nRelated-bug: #1835037\nChange-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-07-22 11:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f6ea589efd52ae03e224dbf1e7610987f808ab3e', 'message': 'utils: make update_cell_database() flexible\n\nIn order to fix bug/1835037 it will be necessary to update cell\ndetails of both cell0 and cell1.\n\nIn this commit we update the method update_cell_database() to take a\nnew argument which provides ability to set cell names that have to be\nupdated.\n\nRelated-bug: #1835037\nChange-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 4, 'created': '2019-07-25 14:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/da410141a0a441044942ad583b9e348c86b14db2', 'message': 'utils: make update_cell_database() flexible\n\nIn order to fix bug/1835037 it will be necessary to update cell\ndetails of both cell0 and cell1.\n\nIn this commit we update the method update_cell_database() to take a\nnew argument which provides ability to set cell names that have to be\nupdated.\n\nRelated-bug: #1835037\nChange-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 5, 'created': '2019-07-25 16:20:46.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ff792a65654bc7c6eb0d7cba867e4497f782cb67', 'message': 'utils: make update_cell_database() flexible\n\nIn order to fix bug/1835037 it will be necessary to update cell\ndetails of both cell0 and cell1.\n\nIn this commit we update the method update_cell_database() to take a\nnew argument which provides ability to set cell names that have to be\nupdated.\n\nRelated-bug: #1835037\nChange-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",3,671252,ff792a65654bc7c6eb0d7cba867e4497f782cb67,16,4,5,7730,,,0,"utils: make update_cell_database() flexible

In order to fix bug/1835037 it will be necessary to update cell
details of both cell0 and cell1.

In this commit we update the method update_cell_database() to take a
new argument which provides ability to set cell names that have to be
updated.

Related-bug: #1835037
Change-Id: I53fb879ce1fc173b7aa1e2b477b850135576a040
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/52/671252/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,f7ada722962729bb6fd47346b10f15d5e274957b,bug/1835037,"def update_cell_database(cell_names=['cell1']): '''Update a cell database properties for name in cell_names: _update_cell_database(name) def _update_cell_database(name): hookenv.log('Updating {} properties'.format(name), level=hookenv.INFO) cell_uuid = get_cell_uuid(name) cmd = ['nova-manage', 'cell_v2', 'update_cell', '--cell_uuid', cell_uuid] hookenv.log('{} update_cell failed\n{}'.format(name, e.output), '{} update_cell failure ignored - the properties cannot ' 'be set.'.format(name), level=hookenv.INFO) else: hookenv.log('{} was successfully updated'.format(name), level=hookenv.INFO)","def update_cell_database(): '''Update the cell1 database properties hookenv.log('Updating cell1 properties', level=hookenv.INFO) cell1_uuid = get_cell_uuid('cell1') cmd = ['nova-manage', 'cell_v2', 'update_cell', '--cell_uuid', cell1_uuid] hookenv.log('Cell1 update_cell failed\n{}'.format(e.output), 'Cell1 update_cell failure ignored - the properties cannot ' 'be set.', level=hookenv.INFO) else: hookenv.log('cell1 was successfully updated', level=hookenv.INFO)",25,9
openstack%2Fcharm-nova-cloud-controller~master~If9439ec80883d74fb5d6929c6604192eff014740,openstack/charm-nova-cloud-controller,master,If9439ec80883d74fb5d6929c6604192eff014740,utils: workaround to update cell0's transport/database URLs,ABANDONED,2019-07-24 10:11:37.000000000,2023-06-16 15:03:08.000000000,,"[{'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-24 10:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/bad38226cd0e90786ab947f0e2db89b84d3936e4', 'message': 'workaround\n\nChange-Id: If9439ec80883d74fb5d6929c6604192eff014740\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-07-25 16:20:46.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/628d67bedc7943d7a7e6673c9ea290ab31c59bb5', 'message': ""utils: workaround to update cell0's transport/database URLs\n\nThe command to update cells is curently bugged when requesting\ncell0. This change workaround the problem by passing the correct\ntransport and database URLs.\n\nRelated-Bug: #1835037\nChange-Id: If9439ec80883d74fb5d6929c6604192eff014740\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}]",1,672486,628d67bedc7943d7a7e6673c9ea290ab31c59bb5,8,3,2,7730,,,0,"utils: workaround to update cell0's transport/database URLs

The command to update cells is curently bugged when requesting
cell0. This change workaround the problem by passing the correct
transport and database URLs.

Related-Bug: #1835037
Change-Id: If9439ec80883d74fb5d6929c6604192eff014740
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/86/672486/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_utils.py'],1,bad38226cd0e90786ab947f0e2db89b84d3936e4,bug/1835037," if name == ""cell0"": # Workaround for cell0 until # https://review.opendev.org/#/c/672045/ get merged. dbconnection = ""_cell0"" cmd.extend([""--transport-url"", ""none:///"", ""--database_connection"", dbconnection])",,6,0
openstack%2Fkayobe~stable%2Fwallaby~I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,openstack/kayobe,stable/wallaby,I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed,Correct name for role mrlesmithjr.manage_lvm,MERGED,2023-06-16 10:04:04.000000000,2023-06-16 15:01:24.000000000,2023-06-16 14:59:24.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-16 10:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/12c77ddd7b6d182d8bacf6358bf73dd4916652b4', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}, {'number': 2, 'created': '2023-06-16 10:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/11ea4c2078166e30277103bb836243096c098bc9', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}, {'number': 3, 'created': '2023-06-16 10:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/091d0a5f386468f656d5beb58b377d2c932d6bf8', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}, {'number': 4, 'created': '2023-06-16 12:23:56.000000000', 'files': ['etc/kayobe/seed.yml', 'etc/kayobe/controllers.yml', 'ansible/group_vars/all/monitoring', 'ansible/group_vars/all/seed', 'etc/kayobe/seed-hypervisor.yml', 'ansible/group_vars/all/controllers', 'doc/source/control-plane-service-placement.rst', 'ansible/group_vars/all/storage', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'ansible/group_vars/all/seed-hypervisor', 'etc/kayobe/monitoring.yml', 'requirements.yml', 'zuul.d/project.yaml', 'ansible/group_vars/all/compute', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b4b70123790037eea71d50a0c6d42397888a67a0', 'message': 'Correct name for role mrlesmithjr.manage_lvm\n\nThe name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release\nv0.2.10 to use an underscore, instead of a hyphen. As this changes the\nname of the role on Ansible Galaxy, it needs to be updated in\n``requirements.yml``.\n\nCloses-Bug: #2024163\nChange-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed\n'}]",7,886144,b4b70123790037eea71d50a0c6d42397888a67a0,21,4,4,35263,,,0,"Correct name for role mrlesmithjr.manage_lvm

The name of ``mrlesmithjr.manage_lvm`` was changed yesterday in release
v0.2.10 to use an underscore, instead of a hyphen. As this changes the
name of the role on Ansible Galaxy, it needs to be updated in
``requirements.yml``.

Closes-Bug: #2024163
Change-Id: I4ea8d8c3a822a7c217bcfcfd5027eecfd21beaed
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/886144/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/seed.yml', 'ansible/inventory/group_vars/all/controllers', 'ansible/inventory/group_vars/all/monitoring', 'etc/kayobe/controllers.yml', 'etc/kayobe/seed-hypervisor.yml', 'doc/source/control-plane-service-placement.rst', 'ansible/inventory/group_vars/all/compute', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/storage.yml', 'ansible/lvm.yml', 'etc/kayobe/compute.yml', 'etc/kayobe/monitoring.yml', 'ansible/inventory/group_vars/all/seed-hypervisor', 'ansible/inventory/group_vars/all/storage', 'ansible/inventory/group_vars/all/seed', 'ansible/inventory/group_vars/all/infra-vms', 'requirements.yml', 'releasenotes/notes/correct-name-of-mrlesmithjr-manage_lvm-role-c34e217446c19a57.yaml']",19,12c77ddd7b6d182d8bacf6358bf73dd4916652b4,bug/2024163,--- fixes: - | Fixes download of roles from Ansible Galaxy following the renaming of the ``mrlesmithjr.manage_lvm`` role. `LP#2023502 <https://bugs.launchpad.net/kolla-ansible/+bug/2024163>`__ ,,1550,26
openstack%2Fmistral-tempest-plugin~master~Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d,openstack/mistral-tempest-plugin,master,Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d,Update stable branch jobs on master gate,NEW,2022-04-15 02:16:18.000000000,2023-06-16 14:57:52.000000000,,"[{'_account_id': 11583}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-04-15 02:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/72f0be113e545ff8ac689e74d73bb777cc1c6c34', 'message': 'Add wallaby|yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri job as it is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d\n'}, {'number': 2, 'created': '2022-04-15 02:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/554bc6fadc2c1dafc06f51d1142762c35231a263', 'message': 'Add yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri job as it is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d\n'}, {'number': 3, 'created': '2022-05-31 21:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/ae15543260c66856a410fff1d2d8b3e83e16c3f5', 'message': 'Add yoga stable branch jobs on master gate\n\nWe have stable/yoga released now so we should add their\njob on master gate to keep branchless tempest plugins compatible\nto those branch.\n\nThis also removes the stable/ussuri and stable/victoria\njob as they are in EM state now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d\n'}, {'number': 4, 'created': '2023-01-09 18:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/2bebf6be3db6cb8639c94802d5de29fbe61a00db', 'message': 'Update stable branch jobs on master gate\n\nWe have stable/xena to stable/zed are the supported\nstable branches and we should add their job on master gate\nto keep branchless tempest plugins compatible to those branch.\n\nThis also removes the old EM stable branch jobs.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d\n'}, {'number': 5, 'created': '2023-01-19 17:45:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/ed861f9aaa6a8acc0a0db39173ce50c8dded98e2', 'message': 'Update stable branch jobs on master gate\n\nWe have stable/xena to stable/zed are the supported\nstable branches and we should add their job on master gate\nto keep branchless tempest plugins compatible to those branch.\n\nThis also removes the old EM stable branch jobs.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d\n'}]",1,838071,ed861f9aaa6a8acc0a0db39173ce50c8dded98e2,18,3,5,8556,,,0,"Update stable branch jobs on master gate

We have stable/xena to stable/zed are the supported
stable branches and we should add their job on master gate
to keep branchless tempest plugins compatible to those branch.

This also removes the old EM stable branch jobs.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ie8278999af25be7e7d88304dca6b3b5ad24a1c3d
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/71/838071/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,72f0be113e545ff8ac689e74d73bb777cc1c6c34,zed-stable-branch, - mistral-devstack-yoga name: mistral-devstack-yoga parent: mistral-devstack nodeset: openstack-single-node-focal override-checkout: stable/yoga - job:, - mistral-devstack-ussuri - job: name: mistral-devstack-ussuri parent: mistral-devstack nodeset: openstack-single-node-bionic override-checkout: stable/ussuri,7,7
openstack%2Fopenstacksdk~master~I716b83e992ac0693d05167c0e33e6de68a61a214,openstack/openstacksdk,master,I716b83e992ac0693d05167c0e33e6de68a61a214,Add support for targeting host in a cold-migration,NEW,2023-04-26 12:11:19.000000000,2023-06-16 14:31:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-26 12:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/148ff135c609234819477cd3f9cebd6365556f69', 'message': 'Add support for targeting host in a cold-migration\n\nSince Nova microversion 2.56 (queens), the api\naccepts a parameter of host for letting the caller of the api\nspecify the target host in the migration.\n\nThis change exposes the feature in the sdk.\n\nChange-Id: I716b83e992ac0693d05167c0e33e6de68a61a214\n'}, {'number': 2, 'created': '2023-04-26 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7c26931983389483ad9d2d6c1740b1a6fed1e5ec', 'message': 'Add support for targeting host in a cold-migration\n\nSince Nova microversion 2.56 (queens), the api\naccepts a parameter of host for letting the caller of the api\nspecify the target host in the migration.\n\nThis change exposes the feature in the sdk.\n\nChange-Id: I716b83e992ac0693d05167c0e33e6de68a61a214\n'}, {'number': 3, 'created': '2023-05-02 14:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ee8488a2bbfd2c60b92af967b83b1813f10f966b', 'message': 'Add support for targeting host in a cold-migration\n\nSince Nova microversion 2.56 (queens), the api\naccepts a parameter of host for letting the caller of the api\nspecify the target host in the migration.\n\nThis change exposes the feature in the sdk.\n\nChange-Id: I716b83e992ac0693d05167c0e33e6de68a61a214\n'}, {'number': 4, 'created': '2023-06-13 08:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/50f53ec602aa8de52e68f165edc4e3a0f5725a7e', 'message': 'Add support for targeting host in a cold-migration\n\nSince Nova microversion 2.56 (queens), the api\naccepts a parameter of host for letting the caller of the api\nspecify the target host in the migration.\n\nThis change exposes the feature in the sdk.\n\nChange-Id: I716b83e992ac0693d05167c0e33e6de68a61a214\n'}, {'number': 5, 'created': '2023-06-16 12:30:50.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c5e8f525bb43dee3b7d8c69a7c6fa474bd1001ab', 'message': 'Add support for targeting host in a cold-migration\n\nSince Nova microversion 2.56 (queens), the api\naccepts a parameter of host for letting the caller of the api\nspecify the target host in the migration.\n\nThis change exposes the feature in the sdk.\n\nChange-Id: I716b83e992ac0693d05167c0e33e6de68a61a214\n'}]",2,881552,c5e8f525bb43dee3b7d8c69a7c6fa474bd1001ab,11,1,5,24434,,,0,"Add support for targeting host in a cold-migration

Since Nova microversion 2.56 (queens), the api
accepts a parameter of host for letting the caller of the api
specify the target host in the migration.

This change exposes the feature in the sdk.

Change-Id: I716b83e992ac0693d05167c0e33e6de68a61a214
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/52/881552/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/block_storage/v3/attachment.py']",3,148ff135c609234819477cd3f9cebd6365556f69,nova_migrate_56,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import resource class Attachment(resource.Resource): resource_key = ""attachment"" resources_key = ""attachments"" base_path = ""/attachments"" _query_mapping = resource.QueryParameters( 'project_id', 'volume_id', 'instance_id', all_projects='all_tenants', instance_uuid='instance_id') # Capabilities allow_fetch = True allow_create = True allow_delete = True allow_list = True # Added in 3.27 _max_microversion = '3.27' # Properties #: The timestamp of this snapshot creation. created_at = resource.Body(""created_at"") #: Description of snapshot. Default is None. description = resource.Body(""description"") #: Indicate whether to create snapshot, even if the volume is attached. #: Default is ``False``. *Type: bool* is_forced = resource.Body(""force"", type=format.BoolStr) #: The percentage of completeness the snapshot is currently at. progress = resource.Body(""os-extended-snapshot-attributes:progress"") #: The project ID this snapshot is associated with. project_id = resource.Body(""os-extended-snapshot-attributes:project_id"") #: The size of the volume, in GBs. size = resource.Body(""size"", type=int) #: The current status of this snapshot. Potential values are creating, #: available, deleting, error, and error_deleting. status = resource.Body(""status"") #: The ID of the volume this snapshot was taken of. volume_id = resource.Body(""volume_id"") id = resource.Body(""id"") instance_id = resource.Body(""instance"") volume_id = resource.Body(""volume_id"") status = resource.Body(""status"") attach_mode = resource.Body(""attach_mode"") attached_at = resource.Body(""attached_at"") connection_info = resource.Body(""connection_info"") detached_at = resource.Body(""detached_at"") class AttachmentDetail(Attachment): base_path = base_path = ""/attachments/detail"" ",,127,3
openstack%2Fcharm-deployment-guide~master~I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6,openstack/charm-deployment-guide,master,I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6,Update guide to 2023.1,MERGED,2023-06-14 21:37:45.000000000,2023-06-16 14:16:23.000000000,2023-06-16 14:15:28.000000000,"[{'_account_id': 2424}, {'_account_id': 15382}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 21:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/7114cd32b1fef014bba56cf5c499276d52b705f7', 'message': 'Update guide to 2023.1\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}, {'number': 2, 'created': '2023-06-15 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c0acdc86f710e8d648d568888b3bcfc2894aa1c7', 'message': 'Update guide to 2023.1\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}, {'number': 3, 'created': '2023-06-15 15:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ebd5ae8a3943c8296b971278b2a7ebd10ed22c77', 'message': 'Update guide to 2023.1\n\nUpdate guide to 2023.1 Antelope.\n\nUpdate Juju and MAAS versions.\n\nMake some minor text improvements, including links to\ncharms.\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}, {'number': 4, 'created': '2023-06-15 15:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b3c19d9761c6ff4e1dbfdf1de8c0a8cee44b0cef', 'message': 'Update guide to 2023.1\n\nUpdate Juju and MAAS versions.\n\nMake some minor text improvements, including links to\ncharms.\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}, {'number': 5, 'created': '2023-06-15 22:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/407ef31a8c3103ea4016bcb5a1d64e9db778db12', 'message': 'Update guide to 2023.1\n\nUpdate Juju and MAAS versions.\n\nMake some minor text improvements, including links to\ncharms.\n\nUse channel-specific Charmhub links for charms\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}, {'number': 6, 'created': '2023-06-15 22:39:39.000000000', 'files': ['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/configure-openstack.rst', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d7591029fe0bb19c47dcd84cf0bb3b7f8d20ad9c', 'message': 'Update guide to 2023.1\n\nUpdate Juju and MAAS versions.\n\nMake some minor text improvements, including links to\ncharms.\n\nUse channel-specific Charmhub links for charms\n\nChange-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6\n'}]",13,886127,d7591029fe0bb19c47dcd84cf0bb3b7f8d20ad9c,18,3,6,30561,,,0,"Update guide to 2023.1

Update Juju and MAAS versions.

Make some minor text improvements, including links to
charms.

Use channel-specific Charmhub links for charms

Change-Id: I04ab75a56f4311ffb7ec49f4627b75e5d24ef4c6
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/27/886127/4 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-maas.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/index.rst']",5,7114cd32b1fef014bba56cf5c499276d52b705f7,update-guide-to-2023.1,* **MAAS 3.3.3** * **Juju 2.9.43** * **OpenStack 2023.1 (Antelope)**,* **MAAS 3.2.6** * **Juju 2.9.38** * **OpenStack Zed**,201,190
openstack%2Fcharm-percona-cluster~master~I7880781a2fd1733f493ed3a647c9c24b4ed8fee6,openstack/charm-percona-cluster,master,I7880781a2fd1733f493ed3a647c9c24b4ed8fee6,Add support for autoeviction of slow nodes,ABANDONED,2019-04-01 15:55:22.000000000,2023-06-16 14:12:55.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-01 15:55:22.000000000', 'files': ['config.yaml', 'hooks/percona_hooks.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/c228e462aeb0479219006a79dac931b521e0ae4a', 'message': 'Add support for autoeviction of slow nodes\n\nRequires evs.version 1, not supported on Trusty\n\nChange-Id: I7880781a2fd1733f493ed3a647c9c24b4ed8fee6\nPartial-Bug: 1815196\n'}]",0,649083,c228e462aeb0479219006a79dac931b521e0ae4a,6,4,1,30128,,,0,"Add support for autoeviction of slow nodes

Requires evs.version 1, not supported on Trusty

Change-Id: I7880781a2fd1733f493ed3a647c9c24b4ed8fee6
Partial-Bug: 1815196
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/83/649083/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'hooks/percona_hooks.py', 'hooks/percona_utils.py']",3,c228e462aeb0479219006a79dac931b521e0ae4a,bug/1815196,"def assert_charm_supports_autoevict(): """"""Check whether we are able to support charms autoevict."""""" _release = lsb_release()['DISTRIB_CODENAME'].lower() if CompareHostReleases(_release) < ""xenial"": raise Exception(""autoevict is not supported in the charms for Ubuntu "" ""versions less than Xenial 16.04"") if config('autoevict') is not None and config('autoevict') > 0: wsrep_provider_options.append( 'evs.auto_evict={}'.format(config('autoevict'))) wsrep_provider_options.append( 'evs.version=1')",,30,0
openstack%2Fcharm-keystone~stable%2F2023.1~I49e46e010c543f831959581b2122f59068f2c07b,openstack/charm-keystone,stable/2023.1,I49e46e010c543f831959581b2122f59068f2c07b,Make role-cache-expiration configurable,MERGED,2023-06-13 11:45:08.000000000,2023-06-16 14:12:53.000000000,2023-06-16 14:12:53.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 11:45:08.000000000', 'files': ['templates/queens/keystone.conf', 'config.yaml', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/64e5347b4b4ba2ad3b8fa53dbc7fa6dae8c42880', 'message': 'Make role-cache-expiration configurable\n\nWe use a default expiration_time (dogpile-expiration-time)\nof 600s which means that role assignments will take up to\nthis amount of time before all caches are updated to\nreflect changes. This may not be suitable for some clouds\nthat make frequent changes to role assignments and lowering\nthe global value is not recommended so this overrides the\n[role] cache_time to a more appropriate value and also\nmakes it configurable. We leave default value as None so\nthat the global value is still inherited but this at least\nallows it to be customised.\n\nChange-Id: I49e46e010c543f831959581b2122f59068f2c07b\nCloses-Bug: #1771114\n(cherry picked from commit 0cb787bb9d2e8a5c87821646f2387ae1f2dcd8a0)\n'}]",4,885991,64e5347b4b4ba2ad3b8fa53dbc7fa6dae8c42880,10,4,1,36093,,,0,"Make role-cache-expiration configurable

We use a default expiration_time (dogpile-expiration-time)
of 600s which means that role assignments will take up to
this amount of time before all caches are updated to
reflect changes. This may not be suitable for some clouds
that make frequent changes to role assignments and lowering
the global value is not recommended so this overrides the
[role] cache_time to a more appropriate value and also
makes it configurable. We leave default value as None so
that the global value is still inherited but this at least
allows it to be customised.

Change-Id: I49e46e010c543f831959581b2122f59068f2c07b
Closes-Bug: #1771114
(cherry picked from commit 0cb787bb9d2e8a5c87821646f2387ae1f2dcd8a0)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/885991/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'config.yaml', 'hooks/keystone_context.py']",3,64e5347b4b4ba2ad3b8fa53dbc7fa6dae8c42880,, if config('role-cache-expiration') is not None: ctxt['role_cache_expiration'] = config('role-cache-expiration') ,,18,0
openstack%2Fcharm-keystone~master~Ic38e0224058c12bf504b87065710d986b61d64ae,openstack/charm-keystone,master,Ic38e0224058c12bf504b87065710d986b61d64ae,Check for apache pid on service restart,ABANDONED,2019-03-05 15:28:48.000000000,2023-06-16 14:11:08.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-05 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/b6c1e97d47a1c544b208e3767dd8a623cd7150b5', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}, {'number': 2, 'created': '2019-03-06 14:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/b301860c68b36a601300606dda85fd0485957682', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}, {'number': 3, 'created': '2019-04-01 12:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2a5e283dbe193c09017fd2bc6ddd8540d3401066', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nCloses-Bug: #1795918\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}, {'number': 4, 'created': '2019-04-11 13:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/12981d6449c8e9301b7c5ef1743f6622e7ba8e58', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nCloses-Bug: #1795918\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}, {'number': 5, 'created': '2019-04-11 13:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a932e6c949acdfd7370ac5f2996eb52ebfe1d2ff', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nCloses-Bug: #1795918\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}, {'number': 6, 'created': '2019-04-15 08:17:12.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'unit_tests/test_keystone_hooks.py', 'unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/73dc038c0baa5164559d8e2bf88a09ab70cdba82', 'message': 'Check for apache pid on service restart\n\nFor openstack services fronted by apache WSGI, we need to check\nfor correct apache process restart in containerized environments\nwhere there are more than one apache container\n\nCloses-Bug: #1795918\n\nChange-Id: Ic38e0224058c12bf504b87065710d986b61d64ae\n'}]",1,641043,73dc038c0baa5164559d8e2bf88a09ab70cdba82,20,3,6,29799,,,0,"Check for apache pid on service restart

For openstack services fronted by apache WSGI, we need to check
for correct apache process restart in containerized environments
where there are more than one apache container

Closes-Bug: #1795918

Change-Id: Ic38e0224058c12bf504b87065710d986b61d64ae
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/43/641043/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'charmhelpers/core/hookenv.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/audits/__init__.py', 'charmhelpers/core/host.py', 'unit_tests/test_keystone_hooks.py', 'charmhelpers/contrib/openstack/ip.py', 'unit_tests/test_keystone_utils.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit', 'charmhelpers/cli/unitdata.py']",15,b6c1e97d47a1c544b208e3767dd8a623cd7150b5,641043," getrange_cmd = nested.add_parser('getrange', help='Retrieve multiple data') getrange_cmd.add_argument('key', metavar='prefix', help='Prefix of the keys to retrieve') getrange_cmd.set_defaults(action='getrange', value=None) elif action == 'getrange': return unitdata.kv().getrange(key)",,989,240
openstack%2Fcharm-guide~master~I7c1f1e16ee1ac41318f16bac7ba8a134a200c003,openstack/charm-guide,master,I7c1f1e16ee1ac41318f16bac7ba8a134a200c003,Add release note for new keystone role cache config,MERGED,2023-06-14 15:59:04.000000000,2023-06-16 14:06:14.000000000,2023-06-16 14:05:20.000000000,"[{'_account_id': 2424}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ebd5a63cdefa24b9c9362caf123889a12dcbd920', 'message': 'Add release note for new keystone role cache config\n\nChange-Id: I7c1f1e16ee1ac41318f16bac7ba8a134a200c003\nRelated-Bug: #1771114\n'}, {'number': 2, 'created': '2023-06-15 14:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/cf65d548b477666e99291280d8e4d2b5bd517ab0', 'message': 'Add release note for new keystone role cache config\n\nChange-Id: I7c1f1e16ee1ac41318f16bac7ba8a134a200c003\nRelated-Bug: #1771114\n'}, {'number': 3, 'created': '2023-06-16 08:18:10.000000000', 'files': ['doc/source/release-notes/2023.2-bobcat.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7c6618e69a2cfcd63450e5c264d4371d600e2675', 'message': 'Add release note for new keystone role cache config\n\nChange-Id: I7c1f1e16ee1ac41318f16bac7ba8a134a200c003\nCloses-Bug: #1771114\n'}]",10,886106,7c6618e69a2cfcd63450e5c264d4371d600e2675,15,3,3,6737,,,0,"Add release note for new keystone role cache config

Change-Id: I7c1f1e16ee1ac41318f16bac7ba8a134a200c003
Closes-Bug: #1771114
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/06/886106/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2023.2-bobcat.rst'],1,ebd5a63cdefa24b9c9362caf123889a12dcbd920,bug/1771114,"keystone role cache configThe keystone charm now supports configuring the keystone [role] cache_time using a new role-cache-expiration config. If not set, this defaults to the global expiration_time (set using the dogpile-cache-expiration config option). Setting the role cache_time to something closer to 10s is recommended for clouds that receive frequent role assignment changes and are sensitive to the (default) 600s delay that assignements can take to propagate to all keystone peer caches. ",<TITLE>,9,1
openstack%2Fcharm-neutron-openvswitch~master~Ib373150290e12a4c48edbfeef8bfabd5677bb8ac,openstack/charm-neutron-openvswitch,master,Ib373150290e12a4c48edbfeef8bfabd5677bb8ac,hooks: avoid restart of nova-compute after SRIOV configuration,ABANDONED,2019-02-25 15:41:43.000000000,2023-06-16 14:05:33.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-25 15:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7d6747a517dcb84d997726391921f24cfff0cdf2', 'message': ""hook: avoid restart of nova-compute after SRIOV configuration\n\nIt's not necessary to trigger a restart of Nova compute service after\nto have configured virtual functions on host. Nova is running a\nperiodic task to collect resources on host. The process of collecting\nis refering to libvirt to get details of PCI devices, where libvirt\ngot automatically notified by UDEV events whether a change occurs.\n\nAlso that we may be in a situation where we ask for a restart however\nthe pci/pci_passthough_whitlist config from nova.conf has not yet been\nupdated.\n\nChange-Id: Ib373150290e12a4c48edbfeef8bfabd5677bb8ac\nRelated-To: #1817085\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}, {'number': 2, 'created': '2019-02-28 09:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9f2d3c7dbfb7b6485ef1a9fe1b86e1721a943048', 'message': ""hooks: avoid restart of nova-compute after SRIOV configuration\n\nIt's not necessary to trigger a restart of Nova compute service after\nto have configured virtual functions on host. Nova is running a\nperiodic task to collect resources on host. The process of collecting\nis refering to libvirt to get details of PCI devices, where libvirt\ngot automatically notified by UDEV events whether a change occurs.\n\nAlso that we may be in a situation where we ask for a restart however\nthe pci/pci_passthough_whitlist config from nova.conf has not yet been\nupdated.\n\nChange-Id: Ib373150290e12a4c48edbfeef8bfabd5677bb8ac\nRelated-to: #1817085\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}, {'number': 3, 'created': '2019-03-07 11:54:42.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/efb2233c490fe018446d3a950e307dba4422ad89', 'message': ""hooks: avoid restart of nova-compute after SRIOV configuration\n\nIt's not necessary to trigger a restart of Nova compute service after\nto have configured virtual functions on host. Nova is running a\nperiodic task to collect resources on host. The process of collecting\nis refering to libvirt to get details of PCI devices, where libvirt\ngot automatically notified by UDEV events whether a change occurs.\n\nAlso that we may be in a situation where we ask for a restart however\nthe pci/pci_passthough_whitlist config from nova.conf has not yet been\nupdated.\n\nChange-Id: Ib373150290e12a4c48edbfeef8bfabd5677bb8ac\nRelated-to: #1817085\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}]",1,639135,efb2233c490fe018446d3a950e307dba4422ad89,22,5,3,7730,,,0,"hooks: avoid restart of nova-compute after SRIOV configuration

It's not necessary to trigger a restart of Nova compute service after
to have configured virtual functions on host. Nova is running a
periodic task to collect resources on host. The process of collecting
is refering to libvirt to get details of PCI devices, where libvirt
got automatically notified by UDEV events whether a change occurs.

Also that we may be in a situation where we ask for a restart however
the pci/pci_passthough_whitlist config from nova.conf has not yet been
updated.

Change-Id: Ib373150290e12a4c48edbfeef8bfabd5677bb8ac
Related-to: #1817085
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/35/639135/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py']",2,7d6747a517dcb84d997726391921f24cfff0cdf2,bug/1817079,," remote_restart, # Trigger remote restart in parent application remote_restart('neutron-plugin', 'nova-compute') ",0,12
openstack%2Fdevstack-plugin-ceph~master~I1067d52b7a435fcef7996eea6479d598be842dca,openstack/devstack-plugin-ceph,master,I1067d52b7a435fcef7996eea6479d598be842dca,Add service secret to libvirt when cinder enabled,NEW,2023-06-06 16:38:08.000000000,2023-06-16 14:04:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 35063}]","[{'number': 1, 'created': '2023-06-06 16:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bc0d9698851218bb887d5db26babcecccfc526e7', 'message': ""Add service secret to libvirt when cinder enabled\n\nThe current code only adds the service secret to libvirt when Ceph has\nbeen enabled in Nova, but it should also be enabled if it has only been\nenabled in Cinder.\n\nThis patch changes devstack/plugin.sh to write the service secret to\nlibvirt whenever Nova or Cinder is using Ceph.\n\nThis would be the counterpart of the code we already have in\n_undefine_virsh_secret where we are already checking if it's enabled in\neither of the services to remove the secret.\n\nChange-Id: I1067d52b7a435fcef7996eea6479d598be842dca\n""}, {'number': 2, 'created': '2023-06-07 15:55:53.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a89fb90b6385ed0331ce994e46f0ebd9f9a02b48', 'message': ""Add service secret to libvirt when cinder enabled\n\nThe current code only adds the service secret to libvirt when Ceph has\nbeen enabled in Nova, but it should also be enabled if it has only been\nenabled in Cinder.\n\nThis patch changes devstack/plugin.sh to write the service secret to\nlibvirt whenever Nova or Cinder is using Ceph.\n\nThis would be the counterpart of the code we already have in\n_undefine_virsh_secret where we are already checking if it's enabled in\neither of the services to remove the secret.\n\nChange-Id: I1067d52b7a435fcef7996eea6479d598be842dca\n""}]",2,885374,a89fb90b6385ed0331ce994e46f0ebd9f9a02b48,5,2,2,9535,,,0,"Add service secret to libvirt when cinder enabled

The current code only adds the service secret to libvirt when Ceph has
been enabled in Nova, but it should also be enabled if it has only been
enabled in Cinder.

This patch changes devstack/plugin.sh to write the service secret to
libvirt whenever Nova or Cinder is using Ceph.

This would be the counterpart of the code we already have in
_undefine_virsh_secret where we are already checking if it's enabled in
either of the services to remove the secret.

Change-Id: I1067d52b7a435fcef7996eea6479d598be842dca
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/74/885374/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,bc0d9698851218bb887d5db26babcecccfc526e7,only-cinder, if is_ceph_enabled_for_service nova || is_ceph_enabled_for_service cinder; then, if is_ceph_enabled_for_service nova; then,2,1
openstack%2Fcharm-nova-compute~master~I4fabe34112f1dedc0362edcded249ea82455d941,openstack/charm-nova-compute,master,I4fabe34112f1dedc0362edcded249ea82455d941,config: add note for deployers when multipath is configured,ABANDONED,2019-02-27 15:56:52.000000000,2023-06-16 14:02:35.000000000,,"[{'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-27 15:56:52.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b428c913255dcd7f69372c36d3bba153af795b87', 'message': 'config: add note for deployers when multipath is configured\n\nThe current release of os-brick does not support find multipaths\nfeature. This commit adds small note about it.\n\nChange-Id: I4fabe34112f1dedc0362edcded249ea82455d941\nCloses-Bug: 1815844\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,639719,b428c913255dcd7f69372c36d3bba153af795b87,7,3,1,7730,,,0,"config: add note for deployers when multipath is configured

The current release of os-brick does not support find multipaths
feature. This commit adds small note about it.

Change-Id: I4fabe34112f1dedc0362edcded249ea82455d941
Closes-Bug: 1815844
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/19/639719/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,b428c913255dcd7f69372c36d3bba153af795b87,bug/1815844," This feature is currently supported when multipathd is configured to not automatically discover multipaths (find_multipaths ""no"").",,2,0
openstack%2Fcharm-nova-cloud-controller~master~I9a2b4b9c614e9f8a64a2c229ff13073fdc14b521,openstack/charm-nova-cloud-controller,master,I9a2b4b9c614e9f8a64a2c229ff13073fdc14b521,fix handling of vendor-data and vendor-data-url config options,ABANDONED,2019-01-22 08:31:05.000000000,2023-06-16 13:47:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 29720}]","[{'number': 1, 'created': '2019-01-22 08:31:05.000000000', 'files': ['config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a93bc72d6925ae5b498e3d340f8a6701dd84830b', 'message': ""fix handling of vendor-data and vendor-data-url config options\n\nAlso fix the doc to mention Rocky as the turning point, because that's\nwhat the code does\n\nChange-Id: I9a2b4b9c614e9f8a64a2c229ff13073fdc14b521\n""}]",0,632300,a93bc72d6925ae5b498e3d340f8a6701dd84830b,7,3,1,29720,,,0,"fix handling of vendor-data and vendor-data-url config options

Also fix the doc to mention Rocky as the turning point, because that's
what the code does

Change-Id: I9a2b4b9c614e9f8a64a2c229ff13073fdc14b521
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/00/632300/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",3,a93bc72d6925ae5b498e3d340f8a6701dd84830b,fix-vendor-data," self.assertEqual(ctxt['vendordata_providers'], 'StaticJSON') self.assertEqual(ctxt['vendordata_providers'], 'DynamicJSON') self.assertEqual(ctxt['vendordata_providers'], 'StaticJSON,DynamicJSON')"," self.assertEqual(ctxt['vendordata_providers'], ['StaticJSON']) self.assertEqual(ctxt['vendordata_providers'], ['DynamicJSON']) self.assertEqual(ctxt['vendordata_providers'], ['StaticJSON', 'DynamicJSON'])",9,8
openstack%2Fcharm-rabbitmq-server~master~I98d44f5a3d047f1632a314fc43e172652e215ef6,openstack/charm-rabbitmq-server,master,I98d44f5a3d047f1632a314fc43e172652e215ef6,Fix cronjob file removal in update_nrpe_checks(),ABANDONED,2018-06-29 09:05:29.000000000,2023-06-16 13:38:11.000000000,,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-29 09:05:29.000000000', 'files': ['hooks/rabbitmq_server_relations.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/59999110a3984dafcd096757255737afc74313a2', 'message': 'Fix cronjob file removal in update_nrpe_checks()\n\nThe cron stats file had been removed if the management_plugin was not enabled.\nAs the rabbitmq-stats cron job is calling the collect_rabbitmq_stats.sh\nscript, what is creating the /var/lib/rabbitmq/data directory with proper\npermissions, the check_rabbitmq_queue nrpe command cannot run properly, because\nit is trying to redirect the output to the non-existent /var/lib/rabbitmq/data/.\n\nThis change is moving the check_rabbitmq_cluster.py conditional block out of\nthe cronjob creation block, and fixing the block placement introduced by\nchange Ib7eb1afe258931cc917c151a2b6d72dc56d30c95\n\nChange-Id: I98d44f5a3d047f1632a314fc43e172652e215ef6\nCloses-Bug: #1779171\n'}]",0,579105,59999110a3984dafcd096757255737afc74313a2,6,4,1,6633,,,0,"Fix cronjob file removal in update_nrpe_checks()

The cron stats file had been removed if the management_plugin was not enabled.
As the rabbitmq-stats cron job is calling the collect_rabbitmq_stats.sh
script, what is creating the /var/lib/rabbitmq/data directory with proper
permissions, the check_rabbitmq_queue nrpe command cannot run properly, because
it is trying to redirect the output to the non-existent /var/lib/rabbitmq/data/.

This change is moving the check_rabbitmq_cluster.py conditional block out of
the cronjob creation block, and fixing the block placement introduced by
change Ib7eb1afe258931cc917c151a2b6d72dc56d30c95

Change-Id: I98d44f5a3d047f1632a314fc43e172652e215ef6
Closes-Bug: #1779171
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/05/579105/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbitmq_server_relations.py'],1,59999110a3984dafcd096757255737afc74313a2,bug/1779171, elif os.path.isfile(STATS_CRONFILE): os.remove(STATS_CRONFILE), elif os.path.isfile(STATS_CRONFILE): os.remove(STATS_CRONFILE),2,2
openstack%2Fcharm-glance-k8s~main~I680608e42b38f3429054d8fde0af6b07b06db629,openstack/charm-glance-k8s,main,I680608e42b38f3429054d8fde0af6b07b06db629,Set perms on ceph client files,MERGED,2023-06-16 08:37:40.000000000,2023-06-16 13:32:47.000000000,2023-06-16 13:10:46.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 08:37:40.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/dba4e19baa26cc70e02811ee2640427c724d0d50', 'message': 'Set perms on ceph client files\n\nChange-Id: I680608e42b38f3429054d8fde0af6b07b06db629\n'}]",2,886248,dba4e19baa26cc70e02811ee2640427c724d0d50,10,2,1,12549,,,0,"Set perms on ceph client files

Change-Id: I680608e42b38f3429054d8fde0af6b07b06db629
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/48/886248/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,dba4e19baa26cc70e02811ee2640427c724d0d50,fix-ceph-file-perms," # The code for managing ceph client config should move to # a shared lib as it is common across clients ph.execute( [ ""chown"", f""root:{self.service_group}"", f""/etc/ceph/ceph.client.{self.app.name}.keyring"", ""/etc/ceph/rbdmap"", ], exception_on_error=True, ) ph.execute( [ ""chmod"", ""640"", f""/etc/ceph/ceph.client.{self.app.name}.keyring"", ""/etc/ceph/rbdmap"", ], exception_on_error=True, )",,20,0
openstack%2Fcharm-placement-k8s~main~I5aac7e0812ffd72df3a1473d21cca5c9ed626e71,openstack/charm-placement-k8s,main,I5aac7e0812ffd72df3a1473d21cca5c9ed626e71,Add Service Token support,MERGED,2023-06-10 08:32:25.000000000,2023-06-16 13:29:54.000000000,2023-06-16 13:04:39.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/9296ae9b3866ea46e6e25986abe8e7d17b6d50d8', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71\n'}, {'number': 2, 'created': '2023-06-14 13:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/bd4684762782475e8a2875a344eb846814ce6c4a', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71\n'}, {'number': 3, 'created': '2023-06-15 11:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/61faaf968701f2ee4ebb25200b9debc1f788e3d8', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71\n'}, {'number': 4, 'created': '2023-06-15 11:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/466b8b079a59a907949a4ddb35dc816e93a6d25f', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71\n'}, {'number': 5, 'created': '2023-06-16 10:20:03.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/placement.conf', 'tests/unit/test_placement_charm.py', 'src/templates/parts/section-identity', 'src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/ad766a1ca9f10dd531a07bf468917a0eaf07835d', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71\n'}]",4,885820,ad766a1ca9f10dd531a07bf468917a0eaf07835d,19,2,5,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973
Change-Id: I5aac7e0812ffd72df3a1473d21cca5c9ed626e71
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/20/885820/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/placement.conf', 'tests/unit/test_placement_charm.py', 'src/templates/parts/section-identity', 'src/templates/parts/section-service-user']",5,9296ae9b3866ea46e6e25986abe8e7d17b6d50d8,service-tokens,{% if identity_service.auth_host -%} [service_user] send_service_user_token = true auth_type = password auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_id = {{ identity_service.service_project_id }} user_domain_id = {{ identity_service.service_domain_id }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} {% endif -%} ,,36,1
openstack%2Fneutron~master~Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e,openstack/neutron,master,Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e,[OVN] Improve Hash Ring logs,MERGED,2023-06-13 15:04:06.000000000,2023-06-16 13:03:17.000000000,2023-06-16 13:02:09.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 33983}]","[{'number': 1, 'created': '2023-06-13 15:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/062280c161e3ebe0c6a0dd47c5e38079a0f164eb', 'message': '[OVN] Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entry in it)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2023-06-14 09:07:24.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/afa20faec3c37bd06346360cadbad0d69e9925f0', 'message': '[OVN] Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entries)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",20,886005,afa20faec3c37bd06346360cadbad0d69e9925f0,30,7,2,6773,,,0,"[OVN] Improve Hash Ring logs

Debugging Hash Ring problems can be difficult challenge given that prior
to this patch the logs were very limited.

This patch improves the logging for this feature as follow:

1. Log when a node is added to the ring
2. Log when nodes are removed from the ring
3. Keep track the number of offline nodes and log it upon loading the
   ring
4. Improve the ""Hash Ring is empty"" exception with the number of offline
   nodes found (if 0, means the ovn_hash_ring table has no entries)

Closes-Bug: #2023670
Change-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/886005/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py']",4,062280c161e3ebe0c6a0dd47c5e38079a0f164eb,bug/2023670-improve-hash-ring-logging," self._offline_node_count = 0 self._offline_node_count = db_hash_ring.count_offline_nodes( self.admin_ctx, constants.HASH_RING_NODES_TIMEOUT, self._group) LOG.debug(""Hash Ring loaded. %d active nodes. %d offline nodes"", len(nodes), self._offline_node_count) raise exceptions.HashRingIsEmpty( key=key, node_count=self._offline_node_count)", raise exceptions.HashRingIsEmpty(key=key),64,7
openstack%2Fglance~master~I70b4a970d7e16174f715c54bdae9467cc321c13e,openstack/glance,master,I70b4a970d7e16174f715c54bdae9467cc321c13e,Handle case for multiple cirros images,MERGED,2023-06-14 09:27:59.000000000,2023-06-16 12:00:56.000000000,2023-06-16 11:59:55.000000000,"[{'_account_id': 8122}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-06-14 09:27:59.000000000', 'files': ['playbooks/post-check-metadata-injection.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/d47803613d501b18f9fa4f6aa3c899bd16f9ddde', 'message': 'Handle case for multiple cirros images\n\nThe change[1] configures multiple images for the devstack-tempest\njob and all the jobs deriving from it. This causes problem with\nthe current post-check-metadata-injection.yaml playbook since\nwe only expect one cirros image and perform steps accordingly.\nThis change modifies the playbook to handle multiple cirros\nimages.\nFailure in the glance-multistore-cinder-import job can be\nseen here[2].\n\n[1] https://review.opendev.org/c/openstack/tempest/+/831018\n[2] https://zuul.opendev.org/t/openstack/build/68a4d3ec6ce04c87b21d73a333f5b5cd/log/job-output.txt#23161\n\nChange-Id: I70b4a970d7e16174f715c54bdae9467cc321c13e\n'}]",4,886071,d47803613d501b18f9fa4f6aa3c899bd16f9ddde,14,5,1,27615,,,0,"Handle case for multiple cirros images

The change[1] configures multiple images for the devstack-tempest
job and all the jobs deriving from it. This causes problem with
the current post-check-metadata-injection.yaml playbook since
we only expect one cirros image and perform steps accordingly.
This change modifies the playbook to handle multiple cirros
images.
Failure in the glance-multistore-cinder-import job can be
seen here[2].

[1] https://review.opendev.org/c/openstack/tempest/+/831018
[2] https://zuul.opendev.org/t/openstack/build/68a4d3ec6ce04c87b21d73a333f5b5cd/log/job-output.txt#23161

Change-Id: I70b4a970d7e16174f715c54bdae9467cc321c13e
",git fetch https://review.opendev.org/openstack/glance refs/changes/71/886071/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/post-check-metadata-injection.yaml'],1,d47803613d501b18f9fa4f6aa3c899bd16f9ddde,," # There could be more than one cirros image so traverse through the list for image in $cirrosimg do echo ""Dumping the cirros image for debugging..."" glance image-show $image echo ""Checking that the cirros image was decorated with metdata on import..."" glance image-list --property-filter 'glance_devstack_test=doyouseeme?' | grep $image echo ""Checking that the cirros image was converted to raw on import..."" glance image-show $image | egrep -e 'disk_format.*raw' done"," echo ""Dumping the cirros image for debugging..."" glance image-show $cirrosimg echo ""Checking that the cirros image was decorated with metdata on import..."" glance image-list --property-filter 'glance_devstack_test=doyouseeme?' | grep cirros echo ""Checking that the cirros image was converted to raw on import..."" glance image-show $cirrosimg | egrep -e 'disk_format.*raw'",10,6
openstack%2Fcharm-openstack-hypervisor~main~I4d906132876a3efe4bd1154ad2c58a3bc635febe,openstack/charm-openstack-hypervisor,main,I4d906132876a3efe4bd1154ad2c58a3bc635febe,Add Service Token support,MERGED,2023-06-10 08:56:38.000000000,2023-06-16 10:49:12.000000000,2023-06-16 10:20:51.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/91db7c42ac256f3dc4e18a08e1daa708cec151d1', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\n\nChange-Id: I4d906132876a3efe4bd1154ad2c58a3bc635febe\n'}, {'number': 2, 'created': '2023-06-15 11:36:04.000000000', 'files': ['lib/charms/keystone_k8s/v0/identity_credentials.py', 'src/charm.py', 'tests/unit/test_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/a4fb8a5c860b5ca51f861e57b92e2bd5dad51da0', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\n\nChange-Id: I4d906132876a3efe4bd1154ad2c58a3bc635febe\n'}]",3,885821,a4fb8a5c860b5ca51f861e57b92e2bd5dad51da0,13,2,2,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973

Change-Id: I4d906132876a3efe4bd1154ad2c58a3bc635febe
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/21/885821/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v0/identity_credentials.py', 'src/charm.py', 'tests/unit/test_charm.py']",3,91db7c42ac256f3dc4e18a08e1daa708cec151d1,service-tokens," ""identity.admin-role"": None, ""identity.project-domain-id"": ""pdomain-id"", ""identity.user-domain-id"": ""udomain-id"",",,14,1
openstack%2Fcharm-ceph-mon~master~Id3f21f8ab68fb88529b6cbd78217e27772c2739c,openstack/charm-ceph-mon,master,Id3f21f8ab68fb88529b6cbd78217e27772c2739c,Configure ceph with osd-memory-target from ceph-osd charm,MERGED,2023-01-12 05:50:54.000000000,2023-06-16 10:29:49.000000000,2023-06-16 10:29:49.000000000,"[{'_account_id': 8108}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-12 05:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c9ec27f4f0cfe3fa198ac55398a74f104f2d55e7', 'message': 'Configure ceph with osd-memory-target from ceph-osd charm\n\nChange-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c\n'}, {'number': 2, 'created': '2023-01-12 06:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b5ada679ee7351d293688ccdacfcd3644328b937', 'message': 'Configure ceph with osd-memory-target from ceph-osd charm\n\nChange-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c\n'}, {'number': 3, 'created': '2023-01-22 22:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/310ae1cc0e81a615a9761a9fa970410d2f002386', 'message': 'Configure ceph with osd-memory-target from ceph-osd charm\n\nChange-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c\n'}, {'number': 4, 'created': '2023-05-31 04:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/053f84ff286d968394d59b1d77f7aebc0981acce', 'message': 'Configure ceph with osd-memory-target from ceph-osd charm\n\nChange-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c\n'}, {'number': 5, 'created': '2023-06-13 10:31:36.000000000', 'files': ['src/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/87da61b687ce43ad565beb764c43dd875b99cde9', 'message': 'Configure ceph with osd-memory-target from ceph-osd charm\n\nChange-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c\n'}]",8,869896,87da61b687ce43ad565beb764c43dd875b99cde9,25,4,5,34352,,,0,"Configure ceph with osd-memory-target from ceph-osd charm

Change-Id: Id3f21f8ab68fb88529b6cbd78217e27772c2739c
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/96/869896/5 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_hooks.py'],1,c9ec27f4f0cfe3fa198ac55398a74f104f2d55e7,osd-memory-target," if is_leader(): osd_host = relation_get(rid=relid, unit=unit, attribute='osd-host') osd = f""osd/host:{osd_host}"" osd_memory_target = relation_get(rid=relid, unit=unit, attribute='osd-memory-target') if osd_host: if osd_memory_target: ceph.ceph_config_set( ""osd_memory_target"", get_osd_memory_target(), osd ) else: subprocess.check_call([""ceph"", ""config"", ""rm"", osd, ""osd_memory_target""]) ",,14,0
openstack%2Fcharm-cinder-k8s~main~I72f8e0e1fa56f960d1a4da84f2f08174739caf85,openstack/charm-cinder-k8s,main,I72f8e0e1fa56f960d1a4da84f2f08174739caf85,Remove service check,MERGED,2023-06-16 08:39:39.000000000,2023-06-16 10:17:29.000000000,2023-06-16 09:37:41.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-06-16 08:39:39.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/18990d2a16ff605075f779c020cc9bb770410e66', 'message': 'Remove service check\n\nThe ""service X status"" checks do not add any value to the the\npebble process monitoring and break with unpriv users.\n\nChange-Id: I72f8e0e1fa56f960d1a4da84f2f08174739caf85\n'}]",0,886249,18990d2a16ff605075f779c020cc9bb770410e66,8,3,1,12549,,,0,"Remove service check

The ""service X status"" checks do not add any value to the the
pebble process monitoring and break with unpriv users.

Change-Id: I72f8e0e1fa56f960d1a4da84f2f08174739caf85
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/49/886249/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,18990d2a16ff605075f779c020cc9bb770410e66,remove-service-check,," def get_healthcheck_layer(self) -> dict: """"""Health check pebble layer. :returns: pebble health check layer configuration for scheduler service :rtype: dict """""" return { ""checks"": { ""online"": { ""override"": ""replace"", ""level"": ""ready"", ""exec"": {""command"": ""service cinder-scheduler status""}, }, } } ",0,16
openstack%2Ftripleo-docs~master~I7f778013274556796078c451fb4225296d343e03,openstack/tripleo-docs,master,I7f778013274556796078c451fb4225296d343e03,Doc: Update crush_hierarchy example,MERGED,2023-06-12 13:57:42.000000000,2023-06-16 09:52:42.000000000,2023-06-16 09:51:25.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-06-12 13:57:42.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4bf2d5de7e1d0171327c4d97c1b1112b886f39a1', 'message': 'Doc: Update crush_hierarchy example\n\nThis patch will fix the crush_hierarchy example in\ndeployed_ceph documentation.\n\nChange-Id: I7f778013274556796078c451fb4225296d343e03\n'}]",1,885786,4bf2d5de7e1d0171327c4d97c1b1112b886f39a1,8,3,1,34598,,,0,"Doc: Update crush_hierarchy example

This patch will fix the crush_hierarchy example in
deployed_ceph documentation.

Change-Id: I7f778013274556796078c451fb4225296d343e03
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/86/885786/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,4bf2d5de7e1d0171327c4d97c1b1112b886f39a1,crush_hierarchy_update, ceph-0: root: default rack: r0 ceph-1: root: default rack: r1 ceph-2: root: default rack: r2, ceph_crush_hierarchy: ceph-0: root: default rack: r0 ceph-1: root: default rack: r1 ceph-2: root: default rack: r2,9,10
openstack%2Fcharm-cinder-ceph-k8s~main~I86c552c25ede6585e5fed394a71ec636b59256ca,openstack/charm-cinder-ceph-k8s,main,I86c552c25ede6585e5fed394a71ec636b59256ca,Set perms on ceph client files,MERGED,2023-06-16 08:35:26.000000000,2023-06-16 09:52:39.000000000,2023-06-16 09:18:04.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 08:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/f5d880053c2cc95e6be40197aa679c0457653fd2', 'message': 'Set perms on ceph client files\n\nChange-Id: I86c552c25ede6585e5fed394a71ec636b59256ca\n'}, {'number': 2, 'created': '2023-06-16 08:38:06.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/eb26d8f4e55664208007de34a79828a3d3c20ddc', 'message': 'Set perms on ceph client files\n\nChange-Id: I86c552c25ede6585e5fed394a71ec636b59256ca\n'}]",0,886247,eb26d8f4e55664208007de34a79828a3d3c20ddc,9,3,2,12549,,,0,"Set perms on ceph client files

Change-Id: I86c552c25ede6585e5fed394a71ec636b59256ca
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/47/886247/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,f5d880053c2cc95e6be40197aa679c0457653fd2,fix-ceph-file-perms," # The code for managing ceph client config should move to # a shared lib as it is common accross clients. ph.execute( [ ""chown"", f""root:{self.service_group}"", f""/etc/ceph/ceph.client.{self.app.name}.keyring"", ""/etc/ceph/rbdmap"", ], exception_on_error=True, ) ph.execute( [ ""chmod"", ""640"", f""/etc/ceph/ceph.client.{self.app.name}.keyring"", ""/etc/ceph/rbdmap"", ], exception_on_error=True, )",,20,0
openstack%2Fcharm-ceph-rbd-mirror~master~Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90,openstack/charm-ceph-rbd-mirror,master,Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90,Add support for interim Ubuntu releases,ABANDONED,2023-03-20 18:18:22.000000000,2023-06-16 09:47:58.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-20 18:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/c527af68bc7a66f600cd7a30d63688e1201e2255', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 2, 'created': '2023-03-20 18:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/332f2107115822ce05ea1756163917679a819d25', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 3, 'created': '2023-03-20 18:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/9a744842cba4197899c9ca1f6c8526b522329d69', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 4, 'created': '2023-03-20 18:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1c7e25f90029e363179b99066e42253f8c635b55', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 5, 'created': '2023-03-20 19:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/57e6c27de84fbe6ede3a5d44f8410570b1e454df', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 6, 'created': '2023-03-20 19:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/21fd4f41feaaf3743e0b229d540e5e4ac2e19a8f', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 7, 'created': '2023-03-20 19:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7af216579b9999dd5bb7a717b9c4603092819e99', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 8, 'created': '2023-03-20 20:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e7f8ae67342b8f041bbaa65498184b1b86e66155', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 9, 'created': '2023-03-20 20:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e92edf750f9113db9b45bda9125b0cec376ef346', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 10, 'created': '2023-03-21 12:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/28ab955f2ba2841bd760d2122da1b52a56306477', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 11, 'created': '2023-03-21 19:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/08ceceffaa94f6f9ccd9b3f33dc3a367998529b7', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 12, 'created': '2023-03-21 19:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/7441b0dd3dd99d8423217357931ed07ede14e58f', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 13, 'created': '2023-04-26 10:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/cdae6d08da9a7ed5b7ea85dc0f0a89fc8c2d3bdf', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 14, 'created': '2023-05-08 08:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/b980a26cd943905e8afc6bec97ff9cf8b36e6179', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 15, 'created': '2023-05-08 09:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/b165430fbdb2931e3c9091ff053f11478f1b5318', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 16, 'created': '2023-05-15 11:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/bd57ae800f074cd44b1927b5f5023522e4ae65a6', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 17, 'created': '2023-05-16 08:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/255fefc1ed9147bdc0aa3da27ebba1404693350c', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 18, 'created': '2023-05-16 08:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/839292e9bb86221e80ff03d7ade3429a432535e9', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 19, 'created': '2023-05-16 09:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8aa153c3bca1078b9b65f3f200e40c6afda2b2a7', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 20, 'created': '2023-05-16 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/90fc4c1dc749e749447452f88777ff4561c72aa4', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 21, 'created': '2023-05-16 14:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/bc5814a2361d4ee2ce8faa94e6621813311b00b3', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 22, 'created': '2023-06-06 07:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/36d2f1a93994d6fa3fb88086dc680bb39cab974e', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n- Update charm for tox4 compatibility\n- Remove focal-xena\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}, {'number': 23, 'created': '2023-06-13 07:42:34.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'build-requirements.txt', 'pip.sh', '.zuul.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1571dd2ef87c3a01086c50f52e3b01abbdeac528', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90\n'}]",16,877995,1571dd2ef87c3a01086c50f52e3b01abbdeac528,96,2,23,20634,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: Ic9c1aef2b8c81bf53be3a18ca2806c69ce618f90
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/95/877995/21 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', '.zuul.yaml', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml']",7,c527af68bc7a66f600cd7a30d63688e1201e2255,ceph-lunar,"variables: openstack-origin: &openstack-origin cloud:jammy-antelope local_overlay_enabled: False series: &series jammy machines: '0': constraints: ""mem=3072M"" '1': constraints: ""mem=3072M"" '2': constraints: ""mem=3072M"" applications: keystone-mysql-router: charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' channel: latest/edge keystone: charm: ch:keystone num_units: 1 options: openstack-origin: *openstack-origin channel: yoga/edge rabbitmq-server: charm: ch:rabbitmq-server num_units: 1 options: source: *openstack-origin channel: latest/edge cinder: charm: ch:cinder num_units: 1 options: block-device: None glance-api-version: 2 openstack-origin: *openstack-origin channel: yoga/edge cinder-ceph: charm: ch:cinder-ceph num_units: 0 channel: yoga/edge glance: charm: ch:glance num_units: 1 options: openstack-origin: *openstack-origin channel: yoga/edge nova-compute: charm: ch:nova-compute num_units: 1 options: openstack-origin: *openstack-origin channel: yoga/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin ceph-mon-b: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd-b: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror-b: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin relations: - - keystone:shared-db - keystone-mysql-router:shared-db - - keystone-mysql-router:db-router - mysql-innodb-cluster:db-router - - glance:shared-db - glance-mysql-router:shared-db - - glance-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:shared-db - cinder-mysql-router:shared-db - - cinder-mysql-router:db-router - mysql-innodb-cluster:db-router - - rabbitmq-server - cinder - - keystone - cinder - - keystone - glance - - cinder - cinder-ceph - - cinder-ceph:ceph - ceph-mon:client - - nova-compute:ceph-access - cinder-ceph:ceph-access - - nova-compute:amqp - rabbitmq-server:amqp - - glance:image-service - nova-compute:image-service - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ",,770,8
openstack%2Fbarbican-specs~master~I8b5376ffac1996c68cda0064a1f3f60de89d158a,openstack/barbican-specs,master,I8b5376ffac1996c68cda0064a1f3f60de89d158a,setup.cfg: Replace dashes with underscores,ABANDONED,2021-06-17 07:02:04.000000000,2023-06-16 09:26:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-06-17 07:02:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/3b796d4bb6137869e3373b4fb92f21895f21faa7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8b5376ffac1996c68cda0064a1f3f60de89d158a\n""}]",1,796767,3b796d4bb6137869e3373b4fb92f21895f21faa7,5,3,1,32238,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8b5376ffac1996c68cda0064a1f3f60de89d158a
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/67/796767/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3b796d4bb6137869e3373b4fb92f21895f21faa7,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/barbican-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/barbican-specs/,3,3
openstack%2Fkolla-ansible~master~I9cfd602906e4caeb1a184afcc36fb09cdd84883c,openstack/kolla-ansible,master,I9cfd602906e4caeb1a184afcc36fb09cdd84883c,DNM: CI test,ABANDONED,2023-06-15 05:05:32.000000000,2023-06-16 08:46:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 05:05:32.000000000', 'files': ['kolla_ansible/__init__.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80a9974262548392ada9836e727708719a1aee4d', 'message': 'DNM: CI test\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/885857\nChange-Id: I9cfd602906e4caeb1a184afcc36fb09cdd84883c\n'}]",1,886159,80a9974262548392ada9836e727708719a1aee4d,5,1,1,13252,,,0,"DNM: CI test

Depends-On: https://review.opendev.org/c/openstack/kolla/+/885857
Change-Id: I9cfd602906e4caeb1a184afcc36fb09cdd84883c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/886159/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/__init__.py'],1,80a9974262548392ada9836e727708719a1aee4d,ci-test,# TEST,,1,0
openstack%2Fglance_store~master~I34dcd90a09d43127ff2e8b477750c70f3cc01113,openstack/glance_store,master,I34dcd90a09d43127ff2e8b477750c70f3cc01113,RBD: Trash image when snapshots prevent deletion,MERGED,2023-05-26 16:01:35.000000000,2023-06-16 08:37:03.000000000,2023-06-16 08:35:53.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 16:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/0e969ebc3ef911eb0dd4843096784a0bd3c52b3e', 'message': 'RBD: Trash image when snapshots prevent deletion\n\nRBD snapshots automatically end up in the trash\nwhen deleted when using RBD image format v2.\n\nHowever, they prevent images from being deleted.\n\nInstead, move RBD images to the trash in this\nsituation.  This trash must be purged by a scheduled\nrbd trash purge operation outside of Glance.\n\nThis passes new cinder<->image dependency tests in\nI5fee2395195 when using ceph require-min-compat-client\nof ""mimic"", which enables clone v2.\n\nChange-Id: I34dcd90a09d43127ff2e8b477750c70f3cc01113\n'}, {'number': 2, 'created': '2023-06-15 14:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fe7e15e9ed1eb2a677cc3645f7ad69f42ec96545', 'message': 'RBD: Trash image when snapshots prevent deletion\n\nRBD snapshots automatically end up in the trash\nwhen deleted when using RBD image format v2.\n\nHowever, they prevent images from being deleted.\n\nInstead, move RBD images to the trash in this\nsituation.  This trash must be purged by a scheduled\nrbd trash purge operation outside of Glance.\n\nThis passes new cinder<->image dependency tests in\nI5fee2395195 when using ceph require-min-compat-client\nof ""mimic"", which enables clone v2.\n\nCloses-Bug: #1959186\nChange-Id: I34dcd90a09d43127ff2e8b477750c70f3cc01113\n'}, {'number': 3, 'created': '2023-06-15 14:58:52.000000000', 'files': ['releasenotes/notes/rbd-trash-snapshots-158a39da4248fb0c.yaml', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5427e0ca484e94f00747377be3f1c919201cda62', 'message': 'RBD: Trash image when snapshots prevent deletion\n\nRBD snapshots automatically end up in the trash\nwhen deleted when using RBD image format v2.\n\nHowever, they prevent images from being deleted.\n\nInstead, move RBD images to the trash in this\nsituation.  This trash must be purged by a scheduled\nrbd trash purge operation outside of Glance.\n\nThis passes new cinder<->image dependency tests in\nI5fee2395195 when using ceph require-min-compat-client\nof ""mimic"", which enables clone v2.\n\nCloses-Bug: #1959186\nChange-Id: I34dcd90a09d43127ff2e8b477750c70f3cc01113\n'}]",16,884524,5427e0ca484e94f00747377be3f1c919201cda62,18,5,3,4523,,,0,"RBD: Trash image when snapshots prevent deletion

RBD snapshots automatically end up in the trash
when deleted when using RBD image format v2.

However, they prevent images from being deleted.

Instead, move RBD images to the trash in this
situation.  This trash must be purged by a scheduled
rbd trash purge operation outside of Glance.

This passes new cinder<->image dependency tests in
I5fee2395195 when using ceph require-min-compat-client
of ""mimic"", which enables clone v2.

Closes-Bug: #1959186
Change-Id: I34dcd90a09d43127ff2e8b477750c70f3cc01113
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/24/884524/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_rbd.py', 'glance_store/tests/unit/test_rbd_store.py']",3,0e969ebc3ef911eb0dd4843096784a0bd3c52b3e,rbd," def trash_move(self, *args, **kwargs): pass self.store._delete_image('fake_pool', self.location.image, snapshot_name='snap') mock.patch.object(MockRBD.RBD, 'trash_move').start() self.store._delete_image('fake_pool', self.location.image) MockRBD.RBD.trash_move.assert_called_once_with(mock.ANY, 'fake_image') def test_delete_image_w_snap_exc_image_has_snap_2(self): def _fake_remove(*args, **kwargs): self.called_commands_actual.append('remove') raise MockRBD.ImageHasSnapshots() mock.patch.object(MockRBD.RBD, 'trash_move', side_effect=MockRBD.ImageBusy).start() with mock.patch.object(MockRBD.RBD, 'remove') as remove: remove.side_effect = _fake_remove self.assertRaises(exceptions.InUseByStore, self.store._delete_image, 'fake_pool', self.location.image) self.called_commands_expected = ['remove'] MockRBD.RBD.trash_move.assert_called_once_with(mock.ANY, 'fake_image') "," self.assertRaises(exceptions.InUseByStore, self.store._delete_image, 'fake_pool', self.location.image, snapshot_name='snap') self.assertRaises(exceptions.HasSnapshot, self.store._delete_image, 'fake_pool', self.location.image)",46,20
openstack%2Fkolla-ansible~master~Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc,openstack/kolla-ansible,master,Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc,DNM: Debug openEuler CI,ABANDONED,2023-03-17 06:22:31.000000000,2023-06-16 08:35:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-17 06:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e26238a8d2d4d20698664220a2443a48aedcc63', 'message': 'DNM: Debug openEuler CI\n\nChange-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc\n'}, {'number': 2, 'created': '2023-03-17 06:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96c3eed6a2b489418e7f1d7ef78dae77fbc3fbce', 'message': 'DNM: Debug openEuler CI\n\nChange-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc\n'}, {'number': 3, 'created': '2023-03-22 01:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c6095d9c31fcf1c4eb38e4d901ce075c152f684', 'message': 'DNM: Debug openEuler CI\n\nChange-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc\n'}, {'number': 4, 'created': '2023-04-21 06:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c840e4bd4537bdb7857bbebaf8eca377b424e2d', 'message': 'DNM: Debug openEuler CI\n\nChange-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc\n'}, {'number': 5, 'created': '2023-05-04 15:53:35.000000000', 'files': ['tests/run.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/403e77f41961910e11832c562b74383c57a4be1a', 'message': 'DNM: Debug openEuler CI\n\nChange-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc\n'}]",5,877739,403e77f41961910e11832c562b74383c57a4be1a,16,1,5,15054,,,0,"DNM: Debug openEuler CI

Change-Id: Ia04e06e411d8ac1c92aa7c6d9d1be91d1900cdcc
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/877739/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'ansible/roles/mariadb/tasks/bootstrap_cluster.yml']",2,6e26238a8d2d4d20698664220a2443a48aedcc63,ci_debug," - name: debug user: name: wxy password: $6$HSWeJwi87pBTslKL$wtNLFyVsIMFtdK5y4RP2dL.VmgngYqMNpeCeSKy36WKpf6ReOChSfY.nszLyf1jTfbHWdmAjb66vZXgsX4MNo. shell: /bin/bash become: true when: ansible_facts.distribution == ""openEuler"" - name: Allow login with pasword shell: cmd: | sed -i 's/.*PasswordAuthentication no/PasswordAuthentication yes/' /etc/ssh/sshd_config systemctl restart sshd executable: /bin/bash become: true - name: Give sudo right lineinfile: dest=/etc/sudoers state=present line='{{item}}' validate='visudo -cf %s' with_items: - ""wxy ALL=(ALL) NOPASSWD: ALL"" become: true - name: debug shell: cmd: | sleep 360000 executable: /bin/bash become: true ",,89,59
openstack%2Fdevstack~master~I644fc45072e94f53dfe548c92a67ee05f08ba7d9,openstack/devstack,master,I644fc45072e94f53dfe548c92a67ee05f08ba7d9,stack.sh doesn't support shared nova instance path,ABANDONED,2016-12-12 20:08:26.000000000,2023-06-16 07:11:25.000000000,,"[{'_account_id': 5196}, {'_account_id': 7350}, {'_account_id': 8768}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}, {'_account_id': 17845}, {'_account_id': 21513}, {'_account_id': 21784}, {'_account_id': 23122}]","[{'number': 1, 'created': '2016-12-12 20:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bd8350ce7e50ca3cda0cc66e8bb19d10b2b6a5c6', 'message': ""stack.sh doesn't support shared nova instance path\n\nIn cases where the nova instances directory is an (nfs) shared directory\nand nova instances path is located somewhere under nova state path,\nrunning stack.sh for a multinode setup and for a compute node results\nin an error message when stack.sh tries to cleanup.\n\nThis fix unmounts and remounts the nfs directory as needed during the\ncleanup.\n\nChange-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9\nCloses-Bug: #1649389\n""}, {'number': 2, 'created': '2017-01-04 19:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/93fa78e3b9926c1bfbc198e0ebbd39c2addc85e5', 'message': ""stack.sh doesn't support shared nova instance path\n\nIntroduces parameter SHARED_INSTANCE_DIR.\n\nNova's instances directory may be a shared directory (ie nfs), in\nthese cases, we do not want to clean out the directory.\n\nChange-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9\nCloses-Bug: #1649389\n""}, {'number': 3, 'created': '2017-01-06 16:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/de2b25a0c12ce975540376e0b968f57a75b68e9e', 'message': ""stack.sh doesn't support shared nova instance path\n\nIntroduces parameter SHARED_INSTANCE_DIR.\n\nNova's instances directory may be a shared directory (ie nfs), in\nthese cases, we do not want to clean out the directory.\n\nChange-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9\nCloses-Bug: #1649389\n""}, {'number': 4, 'created': '2017-02-22 16:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7c883d6aab13b74bf855f8484d26da35db6d49e7', 'message': ""stack.sh doesn't support shared nova instance path\n\nNova's instances directory may be a shared directory (ie nfs), in\nthese cases, we do not want to clean out the directory.\n\nThis patch introduces the parameter SHARED_INSTANCE_DIR. This value can\nbe set to True or False (defaults to False). If set to True, nova instances\ndirectory is treated as shared and will not be deleted; otherwise, it will be\ndeleted when stack.sh is invoked.\n\nChange-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9\nCloses-Bug: #1649389\n""}, {'number': 5, 'created': '2017-02-23 02:21:43.000000000', 'files': ['lib/nova', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9de482f532431188a8daca4d2e71cf1baa04b4e5', 'message': ""stack.sh doesn't support shared nova instance path\n\nNova's instances directory may be a shared directory (ie nfs), in\nthese cases, we do not want to clean out the directory.\n\nThis patch introduces the parameter SHARED_INSTANCE_DIR. This value can\nbe set to True or False (defaults to False). If set to True, nova instances\ndirectory is treated as shared and will not be deleted; otherwise, it will be\ndeleted when stack.sh is invoked.\n\nChange-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9\nCloses-Bug: #1649389\n""}]",6,409907,9de482f532431188a8daca4d2e71cf1baa04b4e5,58,11,5,23122,,,0,"stack.sh doesn't support shared nova instance path

Nova's instances directory may be a shared directory (ie nfs), in
these cases, we do not want to clean out the directory.

This patch introduces the parameter SHARED_INSTANCE_DIR. This value can
be set to True or False (defaults to False). If set to True, nova instances
directory is treated as shared and will not be deleted; otherwise, it will be
deleted when stack.sh is invoked.

Change-Id: I644fc45072e94f53dfe548c92a67ee05f08ba7d9
Closes-Bug: #1649389
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/409907/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,bd8350ce7e50ca3cda0cc66e8bb19d10b2b6a5c6,bug/1649389," FSTYPE=`grep $NOVA_INSTANCES_PATH /proc/mounts |awk '{print $3;}'` DEVICE=`grep $NOVA_INSTANCES_PATH /proc/mounts |awk '{print $1;}'` OPTS=`grep $NOVA_INSTANCES_PATH /proc/mounts |awk '{print $4;}'` if [ $FSTYPE = ""nfs"" -o $FSTYPE = ""nfsv4"" ]; then sudo umount $NOVA_INSTANCES_PATH else DEVICE="""" TYPE="""" sudo rm -rf $NOVA_INSTANCES_PATH/* fi if [ -n ""$FSTYPE"" -a -n ""$DEVICE"" ]; then sudo mkdir -p $NOVA_INSTANCES_PATH sudo mount -t $FSTYPE -o ""$OPTS"" $DEVICE $NOVA_INSTANCES_PATH fi", sudo rm -rf $NOVA_INSTANCES_PATH/*,14,1
openstack%2Fhorizon~master~I6a06c787192b99c562d692531714d5f2a0d017e2,openstack/horizon,master,I6a06c787192b99c562d692531714d5f2a0d017e2,[DNM] Revert Update jQuery Changes,ABANDONED,2023-06-14 17:19:53.000000000,2023-06-16 06:32:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 17:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/35e2a13f64bcca97b76aeb87365b911dafe41c8f', 'message': '[DNM] Revert Update jQuery Changes\n\nChange-Id: I6a06c787192b99c562d692531714d5f2a0d017e2\n'}, {'number': 2, 'created': '2023-06-15 17:32:13.000000000', 'files': ['horizon/static/horizon/js/horizon.forms.js', '.zuul.d/project.yaml', 'horizon/static/horizon/js/horizon.modals.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/keypair/keypair.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/12ae30290e2828ce9cf2582893223da6a65a60a5', 'message': '[DNM] Revert Update jQuery Changes\n\nChange-Id: I6a06c787192b99c562d692531714d5f2a0d017e2\n'}]",2,886113,12ae30290e2828ce9cf2582893223da6a65a60a5,6,1,2,29313,,,0,"[DNM] Revert Update jQuery Changes

Change-Id: I6a06c787192b99c562d692531714d5f2a0d017e2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/886113/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/horizon/js/horizon.forms.js', '.zuul.d/project.yaml', 'horizon/static/horizon/js/horizon.modals.js']",3,35e2a13f64bcca97b76aeb87365b911dafe41c8f,883953," $field.focus(); field_to_update.change(); $(modal).find("":text, select, textarea"").filter("":visible:first"").focus();"," $field.trigger('focus'); field_to_update.trigger(""change""); $(modal).find("":text, select, textarea"").filter("":visible:first"").trigger(""focus"");",16,16
openstack%2Ftrove~master~I4dcd2f4b556d3ea95b3562580d5a18899fb1100b,openstack/trove,master,I4dcd2f4b556d3ea95b3562580d5a18899fb1100b,Fix psql connection,NEW,2023-04-06 12:31:06.000000000,2023-06-16 03:46:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-04-06 12:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f6baa6823a2905af623f37524b57323c149b0064', 'message': ""Fix psql connection\n\nFix creating database if DB is 'shutting down','starting up'\nor 'cannot run inside a transaction block'.\n\nStory: 2010561\nChange-Id: I4dcd2f4b556d3ea95b3562580d5a18899fb1100b\n""}, {'number': 2, 'created': '2023-04-06 12:44:15.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/84d574d7e1cee03240290315e43f8df125ff6719', 'message': ""Fix psql connection\n\nFix creating database if DB is 'shutting down','starting up'\nor 'cannot run inside a transaction block'.\n\nStory: 2010561\nChange-Id: I4dcd2f4b556d3ea95b3562580d5a18899fb1100b\n""}]",1,879738,84d574d7e1cee03240290315e43f8df125ff6719,6,2,2,35169,,,0,"Fix psql connection

Fix creating database if DB is 'shutting down','starting up'
or 'cannot run inside a transaction block'.

Story: 2010561
Change-Id: I4dcd2f4b556d3ea95b3562580d5a18899fb1100b
",git fetch https://review.opendev.org/openstack/trove refs/changes/38/879738/2 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/datastore/postgres/service.py'],1,f6baa6823a2905af623f37524b57323c149b0064,psql-fix," from pathlib import Path path_to_socket = '/var/run/postgresql/.s.PGSQL.5432' path = Path(path_to_socket) while not path.is_socket(): time.sleep(1) LOG.warning(f""{path} is not socket yet"") else: LOG.warning(f""Socket is ready"") import time timeout = 30 LOG.warning(f""Waiting %s sec for ready database"",timeout) time.sleep(timeout) try: conn = psycopg2.connect(self.connect_str) conn.autocommit = autocommit with conn.cursor() as cursor: finally: LOG.warning(f""Request {cmd}"") ", with psycopg2.connect(self.connect_str) as connection: connection.autocommit = autocommit with connection.cursor() as cursor:,22,3
openstack%2Fcyborg~master~I2ed16ab3e779715cd7f7453bf61cab7069adecc6,openstack/cyborg,master,I2ed16ab3e779715cd7f7453bf61cab7069adecc6,Add accelerator.common.utils test,MERGED,2023-06-15 12:06:48.000000000,2023-06-16 03:21:20.000000000,2023-06-16 03:20:06.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-15 12:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/20e10b96a5e98448f9708af1875d564adad92463', 'message': 'Add accelerator.common.utils test\n\nThis patch is proposed to test accelerator.common.utils scripts.\n\nChange-Id: I2ed16ab3e779715cd7f7453bf61cab7069adecc6\n'}, {'number': 2, 'created': '2023-06-16 01:08:15.000000000', 'files': ['cyborg/tests/unit/accelerator/common/test_utils.py', 'cyborg/tests/unit/accelerator/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b0e7892d2ff1871fd7b3078c05d0dee9c0666a5d', 'message': 'Add accelerator.common.utils test\n\nThis patch is proposed to test accelerator.common.utils scripts.\n\nChange-Id: I2ed16ab3e779715cd7f7453bf61cab7069adecc6\n'}]",2,886172,b0e7892d2ff1871fd7b3078c05d0dee9c0666a5d,9,2,2,35819,,,0,"Add accelerator.common.utils test

This patch is proposed to test accelerator.common.utils scripts.

Change-Id: I2ed16ab3e779715cd7f7453bf61cab7069adecc6
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/72/886172/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/accelerator/common/test_utils.py', 'cyborg/tests/unit/accelerator/common/__init__.py']",2,20e10b96a5e98448f9708af1875d564adad92463,,,,52,0
openstack%2Fneutron-lib~master~Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880,openstack/neutron-lib,master,Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880,Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``,MERGED,2023-05-23 13:16:59.000000000,2023-06-16 00:27:58.000000000,2023-06-16 00:26:40.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-05-23 13:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a971a4301a16ca599c8d5951812a663f173f9ece', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\nRelated-Bug: #2019960\n'}, {'number': 2, 'created': '2023-05-29 14:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d08260caef3e4bcb29603efed15d6506a4751fb1', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 3, 'created': '2023-05-30 07:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3ee468e7c5e37f623c50801b5e09a5a2c62128e0', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 4, 'created': '2023-05-30 09:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/951e559257b6c0d4fa50c343abd4f6aefbeea623', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 5, 'created': '2023-06-02 11:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/01ae28feb5db92006752cfce3bef8010cba816b7', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 6, 'created': '2023-06-02 13:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d3d8c76d5ff2a7108486672be967ff64b446664d', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 7, 'created': '2023-06-02 13:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1ca3a7650f6e6b0070f73fde9a4272b6ccc78ec', 'message': 'Add new SG rule extension ``security-groups-rules-is-default``\n\nAdded a new API extension ``security-groups-rules-is-default`` that adds\na new read only field ``is_default`` in the security group rules. This\nflag determines if this security group rule belongs to a project\ndefault security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n'}, {'number': 8, 'created': '2023-06-03 17:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/46539613a9588c427bd5b90476e8956872382a0e', 'message': ""Add new SG rule extension ``security-groups-rules-belongs-to-default-sg``\n\nAdded a new API extension ``security-groups-rules-belongs-to-default-sg``\nthat adds a new read only field ``belongs_to_default_sg`` in the security\ngroup rules. This flag determines if this security group rule belongs to\nthe project's default security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n""}, {'number': 9, 'created': '2023-06-07 09:50:58.000000000', 'files': ['neutron_lib/api/definitions/security_groups_rules_belongs_to_default_sg.py', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/add-extension-security-groups-rules-belongs-to-default-sg-36a5ac28831101e6.yaml', 'api-ref/source/v2/samples/security-groups/security-group-rule-show-response.json', 'api-ref/source/v2/samples/security-groups/security-group-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-groups/security-group-update-response.json', 'neutron_lib/tests/unit/api/definitions/test_security_groups_rules_belongs_to_default_sg.py', 'api-ref/source/v2/security-group-rules.inc', 'api-ref/source/v2/samples/security-groups/security-groups-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rules-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-create-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7da72b7f2d009e46807cc2c4fb30cc96f3693344', 'message': ""Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``\n\nAdded a new API extension\n``security-groups-rules-belongs-to-default-sg`` that adds a new\nread only field ``belongs_to_default_sg`` in the security group\nrules. This flag determines if this security group rule belongs\nto the project's default security group.\n\nRelated-Bug: #2019960\n\nChange-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880\n""}]",17,883939,7da72b7f2d009e46807cc2c4fb30cc96f3693344,34,6,9,16688,,,0,"Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``

Added a new API extension
``security-groups-rules-belongs-to-default-sg`` that adds a new
read only field ``belongs_to_default_sg`` in the security group
rules. This flag determines if this security group rule belongs
to the project's default security group.

Related-Bug: #2019960

Change-Id: Ibd8f57d82b28f5cdb8874f1ae22cb35adcd8e880
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/39/883939/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/security_groups_rules_is_default.py', 'api-ref/source/v2/samples/security-groups/security-group-show-response.json', 'api-ref/source/v2/samples/security-groups/security-group-update-response.json', 'neutron_lib/tests/unit/api/definitions/test_security_groups_rules_is_default.py', 'releasenotes/notes/add-extension-security-groups-rules-is-default-36a5ac28831101e6.yaml', 'api-ref/source/v2/security-group-rules.inc', 'api-ref/source/v2/samples/security-groups/security-groups-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rules-list-response.json', 'api-ref/source/v2/samples/security-groups/security-group-create-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-create-response.json', 'api-ref/source/v2/samples/security-groups/security-group-rule-show-response.json']",11,a971a4301a16ca599c8d5951812a663f173f9ece,bug/2019960," ""tenant_id"": ""e4f50856753b4dc6afee5fa6b9b6c550"", ""is_default"": false"," ""tenant_id"": ""e4f50856753b4dc6afee5fa6b9b6c550""",123,17
openstack%2Fpuppet-openstack-integration~master~Ie75eb577bbd69732665dd7d74e1eb59081e975ec,openstack/puppet-openstack-integration,master,Ie75eb577bbd69732665dd7d74e1eb59081e975ec,Updated from Puppet OpenStack modules constraints,MERGED,2023-06-13 02:18:32.000000000,2023-06-16 00:04:19.000000000,2023-06-16 00:04:19.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 02:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b134a4494a145bb3b088396b898229f78e261fbf', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ie75eb577bbd69732665dd7d74e1eb59081e975ec\n'}, {'number': 2, 'created': '2023-06-14 02:16:34.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4f259aa519157a40c3eed344a4c7a151d1e4a3f3', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ie75eb577bbd69732665dd7d74e1eb59081e975ec\n'}]",3,885931,4f259aa519157a40c3eed344a4c7a151d1e4a3f3,11,4,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ie75eb577bbd69732665dd7d74e1eb59081e975ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/31/885931/2 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,b134a4494a145bb3b088396b898229f78e261fbf,openstack/puppet/constraints, :ref => 'v9.1.0', :ref => 'v9.0.3',1,1
openstack%2Fdevstack~stable%2Fwallaby~I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1,openstack/devstack,stable/wallaby,I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1,Use proper sed separator for paths,NEW,2022-11-28 15:26:53.000000000,2023-06-15 23:46:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-28 15:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f7b0623ebd9714bf798c01a70d88b146faf3d801', 'message': ""Use proper sed separator for paths\n\nI941ef5ea90970a0901236afe81c551aaf24ac1d8 added a sed command that\nshould match and delete path values but used '/' as sed separator. This\nleads to error in unstack.sh runs when the path also contains '/':\n\n+./unstack.sh:main:188 sudo sed -i '/directory=/opt/stack/ d' /etc/gitconfig\nsed: -e expression #1, char 13: unknown command: `o'\n\nSo this patch replace '/' separator with '+'.\n\nChange-Id: I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1\n(cherry picked from commit 7191c5e7e7edb1e2f28c0ce71294f61b409cf16b)\n(cherry picked from commit 7cfe94664f18329154f667146390a387d034b745)\n""}, {'number': 2, 'created': '2023-02-03 18:15:18.000000000', 'files': ['unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/41147b7cbc7cfbba2b79e7ba6bf6574b1877a151', 'message': ""Use proper sed separator for paths\n\nI941ef5ea90970a0901236afe81c551aaf24ac1d8 added a sed command that\nshould match and delete path values but used '/' as sed separator. This\nleads to error in unstack.sh runs when the path also contains '/':\n\n+./unstack.sh:main:188 sudo sed -i '/directory=/opt/stack/ d' /etc/gitconfig\nsed: -e expression #1, char 13: unknown command: `o'\n\nSo this patch replace '/' separator with '+'.\n\nChange-Id: I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1\n(cherry picked from commit 7191c5e7e7edb1e2f28c0ce71294f61b409cf16b)\n(cherry picked from commit 7cfe94664f18329154f667146390a387d034b745)\n""}]",2,865841,41147b7cbc7cfbba2b79e7ba6bf6574b1877a151,8,1,2,27838,,,0,"Use proper sed separator for paths

I941ef5ea90970a0901236afe81c551aaf24ac1d8 added a sed command that
should match and delete path values but used '/' as sed separator. This
leads to error in unstack.sh runs when the path also contains '/':

+./unstack.sh:main:188 sudo sed -i '/directory=/opt/stack/ d' /etc/gitconfig
sed: -e expression #1, char 13: unknown command: `o'

So this patch replace '/' separator with '+'.

Change-Id: I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1
(cherry picked from commit 7191c5e7e7edb1e2f28c0ce71294f61b409cf16b)
(cherry picked from commit 7cfe94664f18329154f667146390a387d034b745)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/865841/2 && git format-patch -1 --stdout FETCH_HEAD,['unstack.sh'],1,f7b0623ebd9714bf798c01a70d88b146faf3d801,git-mark-safe-stable/yoga-stable/wallaby,"sudo sed -i ""\+directory = ${DEST}+ d"" /etc/gitconfig","sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",1,1
openstack%2Fplacement~master~Ice70d5f0eb93537c4580964d0c70d439182977c0,openstack/placement,master,Ice70d5f0eb93537c4580964d0c70d439182977c0,tests: Warn on *any* SAWarning warning,MERGED,2023-04-17 12:24:07.000000000,2023-06-15 23:46:32.000000000,2023-06-15 23:45:35.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-17 12:24:07.000000000', 'files': ['placement/tests/functional/fixtures/capture.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/b2f4fbd5f1bb919c9111333e0ecfc7b9c34afd23', 'message': 'tests: Warn on *any* SAWarning warning\n\nWe were explicitly warning on one type of warning. We should warn on all\nof them, since they are issues that need prompt addressing.\n\nChange-Id: Ice70d5f0eb93537c4580964d0c70d439182977c0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,880625,b2f4fbd5f1bb919c9111333e0ecfc7b9c34afd23,12,3,1,15334,,,0,"tests: Warn on *any* SAWarning warning

We were explicitly warning on one type of warning. We should warn on all
of them, since they are issues that need prompt addressing.

Change-Id: Ice70d5f0eb93537c4580964d0c70d439182977c0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/25/880625/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/fixtures/capture.py'],1,b2f4fbd5f1bb919c9111333e0ecfc7b9c34afd23,sqlalchemy-20,," message='Evaluating non-mapped column expression',",0,1
openstack%2Fheat~master~I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86,openstack/heat,master,I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86,Keep request-id at version negotiation,NEW,2022-11-11 21:06:21.000000000,2023-06-15 23:39:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-11 21:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/62365269210b147ef99729051aad395583e9f64f', 'message': 'Keep request-id at version negotiation\n\nProposed patch calls version negotiation middleware before handling of\nrequest-id. It allows to keep request-id unchanged for the whole request\nprocessing\n\nChange-Id: I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86\n'}, {'number': 2, 'created': '2022-12-29 20:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3668d131c275b2dfc7f3aa62062978dc7170b637', 'message': 'Keep request-id at version negotiation\n\nProposed patch calls version negotiation middleware before handling of\nrequest-id. It allows to keep request-id unchanged for the whole request\nprocessing\n\nRelated-Bug: #2000742\nChange-Id: I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86\n'}, {'number': 3, 'created': '2022-12-29 20:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cc28bd4cb75fc99be88fd9ca3c0fdddd3fea6f48', 'message': 'Keep request-id at version negotiation\n\nProposed patch calls version negotiation middleware before handling of\nrequest-id. It allows to keep request-id unchanged for the whole request\nprocessing\n\nRelated-Bug: #2000742\nChange-Id: I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86\n'}, {'number': 4, 'created': '2023-06-15 22:07:21.000000000', 'files': ['etc/heat/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/54216d402bfa78d2199f73699014b5a6882c97f4', 'message': 'Keep request-id at version negotiation\n\nProposed patch calls version negotiation middleware before handling of\nrequest-id. It allows to keep request-id unchanged for the whole request\nprocessing\n\nRelated-Bug: #2000742\nChange-Id: I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86\n'}]",1,864311,54216d402bfa78d2199f73699014b5a6882c97f4,13,1,4,27838,,,0,"Keep request-id at version negotiation

Proposed patch calls version negotiation middleware before handling of
request-id. It allows to keep request-id unchanged for the whole request
processing

Related-Bug: #2000742
Change-Id: I9d9c41f5eaebae00c21f9b07c9a9e9c8ea0c9b86
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/864311/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/heat/api-paste.ini'],1,62365269210b147ef99729051aad395583e9f64f,bug/2000742,pipeline = healthcheck cors versionnegotiation request_id faultwrap http_proxy_to_wsgi authurl authtoken context osprofiler apiv1apppipeline = healthcheck cors versionnegotiation request_id faultwrap http_proxy_to_wsgi authurl authpassword context apiv1apppipeline = healthcheck cors versionnegotiation request_id context faultwrap custombackendauth apiv1apppipeline = healthcheck cors versionnegotiation request_id faultwrap noauth context http_proxy_to_wsgi apiv1apppipeline = healthcheck cors cfnversionnegotiation request_id http_proxy_to_wsgi ec2authtoken authtoken context osprofiler apicfnv1apppipeline = healthcheck cors cfnversionnegotiation request_id http_proxy_to_wsgi ec2authtoken context apicfnv1app,pipeline = healthcheck cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authtoken context osprofiler apiv1apppipeline = healthcheck cors request_id faultwrap http_proxy_to_wsgi versionnegotiation authurl authpassword context apiv1apppipeline = healthcheck cors request_id context faultwrap versionnegotiation custombackendauth apiv1apppipeline = healthcheck cors request_id faultwrap noauth context http_proxy_to_wsgi versionnegotiation apiv1apppipeline = healthcheck cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken authtoken context osprofiler apicfnv1apppipeline = healthcheck cors request_id http_proxy_to_wsgi cfnversionnegotiation ec2authtoken context apicfnv1app,6,6
openstack%2Foctavia~stable%2Ftrain~I7f150c2c1c3da706055aba5e02b5ad7c032806f1,openstack/octavia,stable/train,I7f150c2c1c3da706055aba5e02b5ad7c032806f1,Avoid interface name collisions in the amphora,MERGED,2023-06-09 08:13:51.000000000,2023-06-15 21:42:57.000000000,2023-06-15 21:41:47.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-06-09 08:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b6c5b13542e3a3a683aa6a5c5a9ddc6c6d5fde3', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nConflicts:\n    octavia/amphorae/backends/agent/api_server/plug.py\n    octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py\n    octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py\n    octavia/common/constants.py\n\nNote: Victoria and older\n    Added a missing constant in octavia/common/constants.py\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)\n(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)\n(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)\n(cherry picked from commit 202d1dc4002f9996eb8047613757a572bc4366ed)\n(cherry picked from commit 4260a127045b01fa58cf49b33883fae9106daccb)\n(cherry picked from commit f204b6f2c5e7ea6958123cd1f01f5e26271335c4)\n(cherry picked from commit fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded)\n(cherry picked from commit 7d9faf452c6375b9539fb71eb3ee628368d6e5a4)\n'}, {'number': 2, 'created': '2023-06-13 09:59:07.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/355f6b1c1bf2e524cde403011b882dc79f91039a', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nConflicts:\n    octavia/amphorae/backends/agent/api_server/plug.py\n    octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py\n    octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py\n    octavia/common/constants.py\n\nNote: Victoria and older\n    Added a missing constant in octavia/common/constants.py\nNote: Train\n    Removed f-strings\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)\n(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)\n(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)\n(cherry picked from commit 202d1dc4002f9996eb8047613757a572bc4366ed)\n(cherry picked from commit 4260a127045b01fa58cf49b33883fae9106daccb)\n(cherry picked from commit f204b6f2c5e7ea6958123cd1f01f5e26271335c4)\n(cherry picked from commit fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded)\n(cherry picked from commit 7d9faf452c6375b9539fb71eb3ee628368d6e5a4)\n'}]",1,885727,355f6b1c1bf2e524cde403011b882dc79f91039a,10,3,2,29244,,,0,"Avoid interface name collisions in the amphora

After unpluging a network, the octavia-agent may try to plug a new
network to a new interface while another interface with the same name
already exists.

Closes-Bug: #2017894

Conflicts:
    octavia/amphorae/backends/agent/api_server/plug.py
    octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py
    octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py
    octavia/common/constants.py

Note: Victoria and older
    Added a missing constant in octavia/common/constants.py
Note: Train
    Removed f-strings

Change-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1
(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)
(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)
(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)
(cherry picked from commit 202d1dc4002f9996eb8047613757a572bc4366ed)
(cherry picked from commit 4260a127045b01fa58cf49b33883fae9106daccb)
(cherry picked from commit f204b6f2c5e7ea6958123cd1f01f5e26271335c4)
(cherry picked from commit fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded)
(cherry picked from commit 7d9faf452c6375b9539fb71eb3ee628368d6e5a4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/885727/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/common/constants.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",5,8b6c5b13542e3a3a683aa6a5c5a9ddc6c6d5fde3,," netns_handle.get_links.return_value = [ {'attrs': [['IFLA_IFNAME', f'eth{idx}']]} for idx in range(test_int_num)] 'attrs': [['IFLA_IFNAME', 'eth2']]}] file_name = '/etc/netns/{0}/network/interfaces.d/eth3.cfg'.format( consts.AMPHORA_NAMESPACE) 'ifcfg-eth3'.format(consts.AMPHORA_NAMESPACE)) 'auto eth3\niface eth3 inet static\n' + ' dev eth3\n' ' dev eth3\n' ' dev eth3\n' ' dev eth3\n' + 'eth3 -j MASQUERADE' + '\n' + '-o eth3 -j MASQUERADE' + '\n\n' '-i eth3 -j NOTRACK\n' '-o eth3 -j NOTRACK\n' '-i eth3 -j NOTRACK\n' '-o eth3 -j NOTRACK\n') int='eth3', 'ifup', 'eth3'], stderr=-2)"," netns_handle.get_links.return_value = [0] * test_int_num 'attrs': [['IFLA_IFNAME', consts.NETNS_PRIMARY_INTERFACE]]}] file_name = '/etc/netns/{0}/network/interfaces.d/{1}.cfg'.format( consts.AMPHORA_NAMESPACE, consts.NETNS_PRIMARY_INTERFACE) 'ifcfg-{1}'.format(consts.AMPHORA_NAMESPACE, consts.NETNS_PRIMARY_INTERFACE)) 'auto ' + consts.NETNS_PRIMARY_INTERFACE + '\niface ' + consts.NETNS_PRIMARY_INTERFACE + ' inet static\n' + ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' + consts.NETNS_PRIMARY_INTERFACE + ' -j MASQUERADE' + '\n' + '-o ' + consts.NETNS_PRIMARY_INTERFACE + ' -j MASQUERADE' + '\n\n' '-i ' + consts.NETNS_PRIMARY_INTERFACE + ' -j NOTRACK\n' '-o ' + consts.NETNS_PRIMARY_INTERFACE + ' -j NOTRACK\n' '-i ' + consts.NETNS_PRIMARY_INTERFACE + ' -j NOTRACK\n' '-o ' + consts.NETNS_PRIMARY_INTERFACE + ' -j NOTRACK\n') int=consts.NETNS_PRIMARY_INTERFACE, 'ifup', consts.NETNS_PRIMARY_INTERFACE], stderr=-2)",83,29
openstack%2Fnova~master~If6a5b28e8b5680c716521db0255accf8867a13bb,openstack/nova,master,If6a5b28e8b5680c716521db0255accf8867a13bb,Show candidate combinatorial explosion by dev number,NEW,2022-09-05 13:00:33.000000000,2023-06-15 21:15:14.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-05 13:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d36de9fdb630349e4faec1c904ad7c1c0a441275', 'message': 'Show candidate combinatorial explosion by dev number\n\nPlacement GET /allocation_candidates API returns all possible allocation\ncandidates for a given host. If the request has multiple groups\nrequesting the same resources and traits and such group can be fulfilled\nby multiple providers from the same tree then placement generates all\ngroup - RP combination[1]. In worst case this is an exponential algorithm.\n\nWith 4 RPs where each provides one device and 3 requested devices the\nfirst group can fit to 4 RPs then the next can fit to 3 then the last\ncan fit to 2. So Placement returns 4*3*2 = 24 candidates. With 8 RPs\nand 4 devices this is 8*7*6*5 = 1680. With 8 RPs and 8 devices it is\n8! = 40320\n\nNote that if each RP alone can provide resources for every groups then\nthe candidate generation logic always produces len(RP)^len(groups)\ncandidates. For 8 RPs and 4 groups that is 4096 candidates.\nFor 8 RPs and 8 groups that ~16M candidates.\n\n[1] https://github.com/openstack/placement/blob/723da65faf66cc9b8d02f3756387dc58437e62af/placement/objects/allocation_candidate.py#L371\n\nChange-Id: If6a5b28e8b5680c716521db0255accf8867a13bb\n'}, {'number': 2, 'created': '2022-10-17 11:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b23e9a9778608afa21c5cfa6493692cf0aa4a253', 'message': 'Show candidate combinatorial explosion by dev number\n\nPlacement GET /allocation_candidates API returns all possible allocation\ncandidates for a given host. If the request has multiple groups\nrequesting the same resources and traits and such group can be fulfilled\nby multiple providers from the same tree then placement generates all\ngroup - RP combination[1]. In worst case this is an exponential algorithm.\n\nWith 4 RPs where each provides one device and 3 requested devices the\nfirst group can fit to 4 RPs then the next can fit to 3 then the last\ncan fit to 2. So Placement returns 4*3*2 = 24 candidates. With 8 RPs\nand 4 devices this is 8*7*6*5 = 1680. With 8 RPs and 8 devices it is\n8! = 40320\n\nNote that if each RP alone can provide resources for every groups then\nthe candidate generation logic always produces len(RP)^len(groups)\ncandidates. For 8 RPs and 4 groups that is 4096 candidates.\nFor 8 RPs and 8 groups that ~16M candidates.\n\n[1] https://github.com/openstack/placement/blob/723da65faf66cc9b8d02f3756387dc58437e62af/placement/objects/allocation_candidate.py#L371\n\nChange-Id: If6a5b28e8b5680c716521db0255accf8867a13bb\n'}, {'number': 3, 'created': '2022-10-27 08:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/215db8f720c98dfe75708707f9791bd388086a85', 'message': 'Show candidate combinatorial explosion by dev number\n\nPlacement GET /allocation_candidates API returns all possible allocation\ncandidates for a given host. If the request has multiple groups\nrequesting the same resources and traits and such group can be fulfilled\nby multiple providers from the same tree then placement generates all\ngroup - RP combination[1]. In worst case this is an exponential algorithm.\n\nWith 4 RPs where each provides one device and 3 requested devices the\nfirst group can fit to 4 RPs then the next can fit to 3 then the last\ncan fit to 2. So Placement returns 4*3*2 = 24 candidates. With 8 RPs\nand 4 devices this is 8*7*6*5 = 1680. With 8 RPs and 8 devices it is\n8! = 40320\n\nNote that if each RP alone can provide resources for every groups then\nthe candidate generation logic always produces len(RP)^len(groups)\ncandidates. For 8 RPs and 4 groups that is 4096 candidates.\nFor 8 RPs and 8 groups that ~16M candidates.\n\n[1] https://github.com/openstack/placement/blob/723da65faf66cc9b8d02f3756387dc58437e62af/placement/objects/allocation_candidate.py#L371\n\nChange-Id: If6a5b28e8b5680c716521db0255accf8867a13bb\n'}, {'number': 4, 'created': '2023-01-20 15:18:18.000000000', 'files': ['nova/scheduler/manager.py', 'nova/tests/functional/libvirt/test_pci_in_placement.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9381f79470d9bb682edfb8ce083fa273f603edcc', 'message': 'Show candidate combinatorial explosion by dev number\n\nPlacement GET /allocation_candidates API returns all possible allocation\ncandidates for a given host. If the request has multiple groups\nrequesting the same resources and traits and such group can be fulfilled\nby multiple providers from the same tree then placement generates all\ngroup - RP combination[1]. In worst case this is an exponential algorithm.\n\nWith 4 RPs where each provides one device and 3 requested devices the\nfirst group can fit to 4 RPs then the next can fit to 3 then the last\ncan fit to 2. So Placement returns 4*3*2 = 24 candidates. With 8 RPs\nand 4 devices this is 8*7*6*5 = 1680. With 8 RPs and 8 devices it is\n8! = 40320\n\nNote that if each RP alone can provide resources for every groups then\nthe candidate generation logic always produces len(RP)^len(groups)\ncandidates. For 8 RPs and 4 groups that is 4096 candidates.\nFor 8 RPs and 8 groups that ~16M candidates.\n\n[1] https://github.com/openstack/placement/blob/723da65faf66cc9b8d02f3756387dc58437e62af/placement/objects/allocation_candidate.py#L371\n\nChange-Id: If6a5b28e8b5680c716521db0255accf8867a13bb\n'}]",3,855885,9381f79470d9bb682edfb8ce083fa273f603edcc,21,2,4,9708,,,0,"Show candidate combinatorial explosion by dev number

Placement GET /allocation_candidates API returns all possible allocation
candidates for a given host. If the request has multiple groups
requesting the same resources and traits and such group can be fulfilled
by multiple providers from the same tree then placement generates all
group - RP combination[1]. In worst case this is an exponential algorithm.

With 4 RPs where each provides one device and 3 requested devices the
first group can fit to 4 RPs then the next can fit to 3 then the last
can fit to 2. So Placement returns 4*3*2 = 24 candidates. With 8 RPs
and 4 devices this is 8*7*6*5 = 1680. With 8 RPs and 8 devices it is
8! = 40320

Note that if each RP alone can provide resources for every groups then
the candidate generation logic always produces len(RP)^len(groups)
candidates. For 8 RPs and 4 groups that is 4096 candidates.
For 8 RPs and 8 groups that ~16M candidates.

[1] https://github.com/openstack/placement/blob/723da65faf66cc9b8d02f3756387dc58437e62af/placement/objects/allocation_candidate.py#L371

Change-Id: If6a5b28e8b5680c716521db0255accf8867a13bb
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/855885/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/manager.py', 'nova/tests/functional/libvirt/test_pci_in_placement.py']",2,d36de9fdb630349e4faec1c904ad7c1c0a441275,bp/pci-device-tracking-in-placement," def test_combinatorial_explosion_one_dev_per_rp(self): # with a single host this will result in 1680 candidates available_devs = 8 requested_devs = 4 pci_info = fakelibvirt.HostPCIDevicesInfo( num_pci=available_devs, num_pfs=0, num_vfs=0) device_spec = self._to_list_of_json_str( [ { ""product_id"": fakelibvirt.PCI_PROD_ID, ""resource_class"": ""MY_PCI"", ""traits"": ""blue"", }, ] ) self.flags(group='pci', device_spec=device_spec) self.start_compute(hostname=""compute1"", pci_info=pci_info) compute1_expected_placement_view = { ""inventories"": {}, ""traits"": {}, ""usages"": {}, ""allocations"": {}, } for slot in range(available_devs): compute1_expected_placement_view[""inventories""][ f""0000:81:0{slot}.0"" ] = {""CUSTOM_MY_PCI"": 1} compute1_expected_placement_view[""traits""][ f""0000:81:0{slot}.0"" ] = [""CUSTOM_BLUE""] compute1_expected_placement_view[""usages""][ f""0000:81:0{slot}.0"" ] = {""CUSTOM_MY_PCI"": 0} self.assert_placement_pci_view( ""compute1"", **compute1_expected_placement_view) self.assertPCIDeviceCounts( ""compute1"", total=available_devs, free=available_devs ) pci_alias = { ""resource_class"": ""MY_PCI"", ""traits"": ""blue"", ""name"": ""a-dev"", } self.flags( group=""pci"", alias=self._to_list_of_json_str([pci_alias]), ) extra_spec = {""pci_passthrough:alias"": f""a-dev:{requested_devs}""} flavor_id = self._create_flavor(extra_spec=extra_spec) self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts( ""compute1"", total=available_devs, free=available_devs - requested_devs, ) def test_combinatorial_explosion_multiple_dev_per_rp(self): # Make sure that we have enough VF at each PF to potentially fulfill # the whole request from the same PF/RP. # With a single host this will result in 4096 candidates rps = 8 requested_devs = 4 pci_info = fakelibvirt.HostPCIDevicesInfo( num_pci=0, num_pfs=rps, num_vfs=rps * requested_devs) device_spec = self._to_list_of_json_str( [ { ""product_id"": fakelibvirt.VF_PROD_ID, ""resource_class"": ""MY_VF"", ""traits"": ""blue"", }, ] ) self.flags(group='pci', device_spec=device_spec) self.start_compute(hostname=""compute1"", pci_info=pci_info) compute1_expected_placement_view = { ""inventories"": {}, ""traits"": {}, ""usages"": {}, ""allocations"": {}, } for slot in range(rps): compute1_expected_placement_view[""inventories""][ f""0000:81:0{slot}.0"" ] = {""CUSTOM_MY_VF"": requested_devs} compute1_expected_placement_view[""traits""][ f""0000:81:0{slot}.0"" ] = [""CUSTOM_BLUE""] compute1_expected_placement_view[""usages""][ f""0000:81:0{slot}.0"" ] = {""CUSTOM_MY_VF"": 0} self.assert_placement_pci_view( ""compute1"", **compute1_expected_placement_view) self.assertPCIDeviceCounts( ""compute1"", total=rps * requested_devs, free=rps * requested_devs ) pci_alias = { ""resource_class"": ""MY_VF"", ""traits"": ""blue"", ""name"": ""a-dev"", } self.flags( group=""pci"", alias=self._to_list_of_json_str([pci_alias]), ) extra_spec = {""pci_passthrough:alias"": f""a-dev:{requested_devs}""} flavor_id = self._create_flavor(extra_spec=extra_spec) self._create_server(flavor_id=flavor_id, networks=[]) self.assertPCIDeviceCounts( ""compute1"", total=rps * requested_devs, free=rps * requested_devs - requested_devs, )",,127,0
openstack%2Ftrove~master~I8156bb87ce3e4d1a19d2df9e2c3f67f789bffa46,openstack/trove,master,I8156bb87ce3e4d1a19d2df9e2c3f67f789bffa46,Don't ignore E125 check,MERGED,2023-06-14 06:36:11.000000000,2023-06-15 20:49:22.000000000,2023-06-15 20:48:18.000000000,"[{'_account_id': 22348}, {'_account_id': 31737}]","[{'number': 1, 'created': '2023-06-14 06:36:11.000000000', 'files': ['trove/guestagent/datastore/mysql_common/service.py', 'tox.ini', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/89514c0d5b3e125496c55d1b361693f7ecaa2972', 'message': ""Don't ignore E125 check\n\nE125: https://www.flake8rules.com/rules/E125.html\nChange-Id: I8156bb87ce3e4d1a19d2df9e2c3f67f789bffa46\n""}]",1,886044,89514c0d5b3e125496c55d1b361693f7ecaa2972,8,2,1,26285,,,0,"Don't ignore E125 check

E125: https://www.flake8rules.com/rules/E125.html
Change-Id: I8156bb87ce3e4d1a19d2df9e2c3f67f789bffa46
",git fetch https://review.opendev.org/openstack/trove refs/changes/44/886044/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'tox.ini', 'trove/tests/unittests/taskmanager/test_models.py']",3,89514c0d5b3e125496c55d1b361693f7ecaa2972,enable-e125-extension," self, mock_hostname, mock_name):"," self, mock_hostname, mock_name):",16,16
openstack%2Fheat-dashboard~master~Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da,openstack/heat-dashboard,master,Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da,Fix 500 error when fetch data about deleted stack,NEW,2021-12-08 13:18:32.000000000,2023-06-15 20:47:05.000000000,,"[{'_account_id': 841}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 13:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/74c3f8de9fb69e44b72b1622b69ff3839dd8b61a', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 2, 'created': '2021-12-08 13:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/397d6d64db6387993c2335efe8ce3fe2f09d5125', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nStory 2009731\nTask 44148\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 3, 'created': '2021-12-28 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/63db6dde2b06a7a9c0dba682dc8feecef7494429', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 4, 'created': '2022-02-17 18:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/a60ee4a5dc2a8e21728757b82cd56566eae868b9', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 5, 'created': '2022-05-23 21:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f923c683fe279493dcc3cd2c13f3a9feea2bbad5', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 6, 'created': '2022-05-25 09:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/abcd215854fe50769f28326f82d108f86769b161', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 7, 'created': '2022-05-25 09:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/38dd7cc17db091dcc82de7a0a7c341434b883f90', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nCloses-Bug: #2009731\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 8, 'created': '2022-08-08 05:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/524c32e2e13af1c18562eb434c57b9ffebbe714c', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nStory: 2009731\nTask: 44148\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}, {'number': 9, 'created': '2023-06-15 20:06:30.000000000', 'files': ['heat_dashboard/content/stacks/api.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/b7f3dcc774f447a075d2e6d9aaf5f73779c2c348', 'message': 'Fix 500 error when fetch data about deleted stack\n\nCurrnetly, request of dashboard to Horizon API works only for existing\nstack. Request about deleted stack fails with 500 status. Proposed patch\nfixes it\n\nStory: 2009731\nTask: 44148\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da\n'}]",9,821029,b7f3dcc774f447a075d2e6d9aaf5f73779c2c348,26,3,9,27838,,,0,"Fix 500 error when fetch data about deleted stack

Currnetly, request of dashboard to Horizon API works only for existing
stack. Request about deleted stack fails with 500 status. Proposed patch
fixes it

Story: 2009731
Task: 44148
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: Ia6ef4459ab8c4c8f3f08e7c655c894cb152238da
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/29/821029/6 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/content/stacks/api.py'],1,74c3f8de9fb69e44b72b1622b69ff3839dd8b61a,bug/2009731, @property def status(self): s = self.stack_status # Return everything after the first underscore return s[s.index('_') + 1:], pass,6,1
openstack%2Foctavia~stable%2Fvictoria~I7f150c2c1c3da706055aba5e02b5ad7c032806f1,openstack/octavia,stable/victoria,I7f150c2c1c3da706055aba5e02b5ad7c032806f1,Avoid interface name collisions in the amphora,MERGED,2023-06-09 07:29:16.000000000,2023-06-15 20:19:06.000000000,2023-06-15 20:17:51.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-06-09 07:29:16.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nConflicts:\n    octavia/amphorae/backends/agent/api_server/plug.py\n    octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py\n    octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py\n\nNote: Victoria and older\n    Added a missing constant in octavia/common/constants.py\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)\n(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)\n(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)\n(cherry picked from commit 202d1dc4002f9996eb8047613757a572bc4366ed)\n(cherry picked from commit 4260a127045b01fa58cf49b33883fae9106daccb)\n(cherry picked from commit f204b6f2c5e7ea6958123cd1f01f5e26271335c4)\n'}]",1,885724,fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded,8,3,1,29244,,,0,"Avoid interface name collisions in the amphora

After unpluging a network, the octavia-agent may try to plug a new
network to a new interface while another interface with the same name
already exists.

Closes-Bug: #2017894

Conflicts:
    octavia/amphorae/backends/agent/api_server/plug.py
    octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py
    octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py

Note: Victoria and older
    Added a missing constant in octavia/common/constants.py

Change-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1
(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)
(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)
(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)
(cherry picked from commit 202d1dc4002f9996eb8047613757a572bc4366ed)
(cherry picked from commit 4260a127045b01fa58cf49b33883fae9106daccb)
(cherry picked from commit f204b6f2c5e7ea6958123cd1f01f5e26271335c4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/885724/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/common/constants.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",5,fe0b3fa4a9517f8772ec8e6bd6591555c5bd3ded,," netns_handle.get_links.return_value = [ {'attrs': [['IFLA_IFNAME', f'eth{idx}']]} for idx in range(test_int_num)] 'attrs': [['IFLA_IFNAME', 'eth2']]}] file_name = '/etc/netns/{0}/network/interfaces.d/eth3.cfg'.format( consts.AMPHORA_NAMESPACE) 'ifcfg-eth3'.format(consts.AMPHORA_NAMESPACE)) 'auto eth3\niface eth3 inet static\n' + ' dev eth3\n' ' dev eth3\n' ' dev eth3\n' ' dev eth3\n' + 'eth3\n' + 'eth3\n') int='eth3', 'ifup', 'eth3'], stderr=-2)"," netns_handle.get_links.return_value = [0] * test_int_num 'attrs': [['IFLA_IFNAME', consts.NETNS_PRIMARY_INTERFACE]]}] file_name = '/etc/netns/{0}/network/interfaces.d/{1}.cfg'.format( consts.AMPHORA_NAMESPACE, consts.NETNS_PRIMARY_INTERFACE) 'ifcfg-{1}'.format(consts.AMPHORA_NAMESPACE, consts.NETNS_PRIMARY_INTERFACE)) 'auto ' + consts.NETNS_PRIMARY_INTERFACE + '\niface ' + consts.NETNS_PRIMARY_INTERFACE + ' inet static\n' + ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' ' dev ' + consts.NETNS_PRIMARY_INTERFACE + '\n' + consts.NETNS_PRIMARY_INTERFACE + '\n' + consts.NETNS_PRIMARY_INTERFACE + '\n') int=consts.NETNS_PRIMARY_INTERFACE, 'ifup', consts.NETNS_PRIMARY_INTERFACE], stderr=-2)",79,24
openstack%2Fhorizon~master~I7cebf4fa8d09a061774dfaba6b230d8090b7ac73,openstack/horizon,master,I7cebf4fa8d09a061774dfaba6b230d8090b7ac73,Enable redirect URL check,NEW,2022-02-22 12:55:12.000000000,2023-06-15 20:05:02.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 12:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8853cc9baa59667ac0626f7fac7dd5da651c9b9', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}, {'number': 2, 'created': '2022-03-12 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8441dd531ac4cd1ccfd8ec5c2299bd29e26a220b', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}, {'number': 3, 'created': '2022-03-15 15:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/20d13757a714b1955be31f429ac59a8156fcf74b', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}, {'number': 4, 'created': '2022-05-24 17:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ded54f06135b9b3d3c8dfd06bbd3ad537ef42c48', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}, {'number': 5, 'created': '2022-06-29 16:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/27aae3ff6bcd0e519e5e308b5c4c951976913e9c', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}, {'number': 6, 'created': '2023-06-15 18:59:35.000000000', 'files': ['openstack_auth/tests/unit/test_auth.py', 'openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b83729944ee310bae6cf7c3b4970de9a2b7e4f3f', 'message': 'Enable redirect URL check\n\nRedirect parameter at project change button link was not validated. In\ncase of invalid parameter, user get response 500\n\nPartial-Bug: #1961595\nChange-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73\n'}]",9,830410,b83729944ee310bae6cf7c3b4970de9a2b7e4f3f,23,2,6,27838,,,0,"Enable redirect URL check

Redirect parameter at project change button link was not validated. In
case of invalid parameter, user get response 500

Partial-Bug: #1961595
Change-Id: I7cebf4fa8d09a061774dfaba6b230d8090b7ac73
",git fetch https://review.opendev.org/openstack/horizon refs/changes/10/830410/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/tests/unit/test_auth.py', 'openstack_auth/views.py']",2,c8853cc9baa59667ac0626f7fac7dd5da651c9b9,bug/1961595,from django.urls import NoReverseMatch try: response = shortcuts.redirect(redirect_to) except NoReverseMatch: response = shortcuts.redirect(settings.LOGIN_REDIRECT_URL), response = shortcuts.redirect(redirect_to),22,3
openstack%2Fcharm-specs~master~Ie21f817d617d7d0c4977fae4134fed2022adf88c,openstack/charm-specs,master,Ie21f817d617d7d0c4977fae4134fed2022adf88c,Rename 'antelope' to '2023.1',MERGED,2023-05-23 17:53:03.000000000,2023-06-15 19:43:40.000000000,2023-06-15 19:42:41.000000000,"[{'_account_id': 1131}, {'_account_id': 11805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 17:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/dcb2c10e9f1caed24b835168a4c95c1cd0995d9f', 'message': ""Rename 'antelope' to '2023.1'\n\nChange-Id: Ie21f817d617d7d0c4977fae4134fed2022adf88c\n""}, {'number': 2, 'created': '2023-05-23 19:16:38.000000000', 'files': ['doc/source/specs/2023.1/backlog', 'specs/2023.1/backlog/rabbitmq-quorum-queue-support.rst', 'doc/source/specs/antelope/approved', 'specs/2023.1/backlog/release-notes-migration-to-reno.rst', 'doc/source/specs/2023.1/redirects', 'specs/2023.1/backlog/ovn-central-downscaling.rst', 'doc/source/specs/antelope/backlog', 'specs/2023.1/backlog/audit-middleware.rst', 'doc/source/specs/antelope/implemented', 'specs/2023.1/backlog/cinder-solidfire.rst', 'specs/2023.1/backlog/memory-fragmentation-tuning.rst', 'doc/source/specs/2023.1/template.rst', 'specs/2023.1/backlog/ncc-migration-ssh-auth-sharing.rst', 'specs/2023.1/backlog/numa-live-migration.rst', 'specs/2023.1/approved/.keep', 'specs/2023.1/backlog/.keep', 'specs/2023.1/backlog/ceph-storage-action.rst', 'doc/source/specs/2023.1/implemented', 'specs/2023.1/backlog/swift-extended-cluster-operations.rst', 'specs/2023.1/implemented/.keep', 'specs/2023.1/backlog/cinder-nimblestorage.rst', 'doc/source/specs/2023.1/approved', 'specs/2023.1/backlog/service-discovery.rst', 'doc/source/specs/antelope/redirects', 'specs/2023.1/redirects', 'doc/source/index.rst', 'specs/2023.1/backlog/pausing-charms-hacluster-no-false-alerts.rst', 'specs/2023.1/backlog/prometheus-metrics-exporter.rst', 'doc/source/specs/2023.1/index.rst', 'doc/source/specs/antelope/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/6acfd3ace940b9424e0134ae09c6d2182749476d', 'message': ""Rename 'antelope' to '2023.1'\n\nChange-Id: Ie21f817d617d7d0c4977fae4134fed2022adf88c\n""}]",2,883963,6acfd3ace940b9424e0134ae09c6d2182749476d,11,4,2,2424,,,0,"Rename 'antelope' to '2023.1'

Change-Id: Ie21f817d617d7d0c4977fae4134fed2022adf88c
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/63/883963/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2023.1/backlog/cinder-nimblestorage.rst', 'specs/2023.1/backlog/rabbitmq-quorum-queue-support.rst', 'specs/2023.1/backlog/release-notes-migration-to-reno.rst', 'specs/2023.1/backlog/ovn-central-downscaling.rst', 'specs/2023.1/backlog/audit-middleware.rst', 'specs/2023.1/backlog/service-discovery.rst', 'specs/2023.1/backlog/cinder-solidfire.rst', 'specs/2023.1/backlog/memory-fragmentation-tuning.rst', 'specs/2023.1/backlog/ncc-migration-ssh-auth-sharing.rst', 'specs/2023.1/redirects', 'specs/2023.1/backlog/pausing-charms-hacluster-no-false-alerts.rst', 'specs/2023.1/backlog/prometheus-metrics-exporter.rst', 'specs/2023.1/backlog/numa-live-migration.rst', 'specs/2023.1/backlog/.keep', 'specs/2023.1/backlog/ceph-storage-action.rst', 'specs/2023.1/backlog/swift-extended-cluster-operations.rst', 'specs/2023.1/implemented/.keep']",17,dcb2c10e9f1caed24b835168a4c95c1cd0995d9f,charm-2023.2-specs,,,0,0
openstack%2Fceilometer~master~Ia223b6518948765a74bb920829b6f76c354a3919,openstack/ceilometer,master,Ia223b6518948765a74bb920829b6f76c354a3919,Make multiple attempts to obtain gnocchiclient,MERGED,2023-06-09 05:22:13.000000000,2023-06-15 19:37:06.000000000,2023-06-15 19:36:07.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 05:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a2141edda8b17ca752ed83a0d0d4b2fdc28f97f2', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient,\nif this request fails due any intermittent issue, ceilometer\nfails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if\nit fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure""\nor ""ConnectTimeout"" before assuming gnocchi service is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 2, 'created': '2023-06-09 05:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b6715b70fc10edec5c5b93a32fb827ba1216afd2', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient, if this request fails due any intermittent issue, ceilometer fails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if it fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure""\nor ""ConnectTimeout"" before assuming gnocchi service is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 3, 'created': '2023-06-09 05:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/440d036dcc92658ab9016b88f126410bc232ae67', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient, if\nthis request fails due any intermittent issue, ceilometer fails\nto load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if it\nfails with keystone exceptions ""ServiceUnavailable"",\n""DiscoveryFailure"" or ""ConnectTimeout"" before assuming gnocchi\nservice is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 4, 'created': '2023-06-09 06:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1187fda7851212f285b5442fbc837add889ec633', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient,\nif this request fails due any intermittent issue, ceilometer\nfails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if\nit fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure""\nor ""ConnectTimeout"" before assuming gnocchi service is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 5, 'created': '2023-06-09 06:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1171adfbdc54916c7ff28fc926c82cee8846887f', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient,\nif this request fails due any intermittent issue, ceilometer\nfails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if\nit fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure"" or ""ConnectTimeout"" before assuming gnocchi\nservice is not available.\n\nUpon restart of ceilometer service, definitions config file ""event_pipeline.yaml"" is logged which creates a lot of noise when the  service is running in INFO mode. This should only be logged during\ndebug mode. Also this makes the logging config files behaviour more  consistent throughout the project.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 6, 'created': '2023-06-09 07:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5c36cb585738350d2ee6957245c94755aa95db6b', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient,\nif this request fails due any intermittent issue, ceilometer\nfails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if\nit fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure""\nor ""ConnectTimeout"" before assuming gnocchi service is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 7, 'created': '2023-06-09 07:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6ae6aebcac47ed33a3561ac8508e10a4fec00bd7', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient,\nif this request fails due any intermittent issue, ceilometer\nfails to load gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if\nit fails with keystone exceptions ""ServiceUnavailable"", ""DiscoveryFailure""\nor ""ConnectTimeout"" before assuming gnocchi service is not available.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 8, 'created': '2023-06-09 09:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d9d0f01a5bc6cf18b68ff75b7556e54f06725761', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient, if\nthis request fails due any intermittent issue, ceilometer fails to\nload gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if it\nfails with keystone exceptions ""ServiceUnavailable"",\n""DiscoveryFailure"" or ""ConnectTimeout"" before assuming gnocchi service  is not available.\n\nUpon restarting ceilometer services, ""event_pipeline.yaml"" definitions\nfile is logged during info mode which is unnecessary . This config\nfile must be logged only when debug is enabled.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}, {'number': 9, 'created': '2023-06-09 09:58:34.000000000', 'files': ['ceilometer/declarative.py', 'ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/838a32681ce3b6aa9bd251b849183dd26216bb78', 'message': 'Make multiple attempts to obtain gnocchiclient\n\nAs of now a single attempt is made to obtain gnocchiclient, if\nthis request fails due any intermittent issue, ceilometer fails to\nload gnocchi publisher.\n\nThis change uses tenacity to retry fetching gnocchiclient if it\nfails with keystone exceptions ""ServiceUnavailable"",\n""DiscoveryFailure"" or ""ConnectTimeout"" before assuming gnocchi service  is not available.\n\nUpon restarting ceilometer services, ""event_pipeline.yaml"" definitions\nfile is logged during info mode which is unnecessary . This config\nfile must be logged only when debug is enabled.\n\nResolves: rhbz#2167428\nChange-Id: Ia223b6518948765a74bb920829b6f76c354a3919\n'}]",1,885690,838a32681ce3b6aa9bd251b849183dd26216bb78,19,3,9,32240,,,0,"Make multiple attempts to obtain gnocchiclient

As of now a single attempt is made to obtain gnocchiclient, if
this request fails due any intermittent issue, ceilometer fails to
load gnocchi publisher.

This change uses tenacity to retry fetching gnocchiclient if it
fails with keystone exceptions ""ServiceUnavailable"",
""DiscoveryFailure"" or ""ConnectTimeout"" before assuming gnocchi service  is not available.

Upon restarting ceilometer services, ""event_pipeline.yaml"" definitions
file is logged during info mode which is unnecessary . This config
file must be logged only when debug is enabled.

Resolves: rhbz#2167428
Change-Id: Ia223b6518948765a74bb920829b6f76c354a3919
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/90/885690/9 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/declarative.py', 'ceilometer/tests/unit/publisher/test_gnocchi.py', 'ceilometer/publisher/gnocchi.py']",3,a2141edda8b17ca752ed83a0d0d4b2fdc28f97f2,,"import tenacity try: self._gnocchi = self._get_gnocchi_client(conf, timeout) except tenacity.RetryError as e: raise e.last_attempt._exception from None @tenacity.retry( stop=tenacity.stop_after_attempt(3), wait=tenacity.wait_fixed(5), retry=( tenacity.retry_if_exception_type(ka_exceptions.ServiceUnavailable)| tenacity.retry_if_exception_type(ka_exceptions.DiscoveryFailure)| tenacity.retry_if_exception_type(ka_exceptions.ConnectTimeout) ), reraise=False) def _get_gnocchi_client(self, conf, timeout): return gnocchi_client.get_gnocchiclient(conf, request_timeout=timeout) "," self._gnocchi = gnocchi_client.get_gnocchiclient( conf, request_timeout=timeout)",26,3
openstack%2Fopenstack-ansible~master~Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686,openstack/openstack-ansible,master,Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686,Add is_nest property for container_skel,MERGED,2023-01-10 20:22:41.000000000,2023-06-15 19:30:30.000000000,2023-04-20 14:51:29.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-01-10 20:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/80fe63823525c7a5be0019715df89af25bf68222', 'message': 'Allow empty records for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsie hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel. Then\ncontainer_skel item will contain host-containers as it\'s children.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 2, 'created': '2023-01-10 22:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54b0608a02d98399824552a14b804d49dbea36a0', 'message': 'Allow empty records for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsie hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel. Then\ncontainer_skel item will contain host-containers as it\'s children.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 3, 'created': '2023-01-10 22:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3a379f2be9decaa5b293267d58e38358f9aa6a16', 'message': 'Allow empty records for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsie hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel. Then\ncontainer_skel item will contain host-containers as it\'s children.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 4, 'created': '2023-01-11 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7223eea249c59c50d7ebfaaaf74105c0cd03fea3', 'message': 'Allow empty records for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsie hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel. Then\ncontainer_skel item will contain host-containers as it\'s children.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 5, 'created': '2023-01-12 11:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e6650c2397343e6ad479d36aee54156ff0c515a', 'message': 'Allow empty records for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsie hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel. Then\ncontainer_skel item will contain host-containers as it\'s children.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 6, 'created': '2023-01-12 11:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c23ded1a852e2c3db2c865b702202776d13a977', 'message': 'Add is_nest property for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsive hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel along with is_nest\nproperty. Then container_skel item will contain host-containers and it\'s\nchildren.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 7, 'created': '2023-01-12 15:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/557acbaa2ae4d17031407c5d0b9503c0109c18dd', 'message': 'Add is_nest property for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsive hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel along with is_nest\nproperty. Then container_skel item will contain host-containers and it\'s\nchildren.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}, {'number': 8, 'created': '2023-03-27 15:33:33.000000000', 'files': ['doc/source/reference/inventory/configure-inventory.rst', 'etc/openstack_deploy/openstack_user_config.yml.pod.example', 'doc/source/user/l3pods/example.rst', 'etc/openstack_deploy/env.d/pods.yml.example', 'tests/test_inventory.py', 'osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb34651cc233fffb3d54d69dd7ba32fbf197228b', 'message': 'Add is_nest property for container_skel\n\nThe main purpose of that patch is to allow creation of ""virtual""\ncontainer_skel, that will not generate any containers in inventory,\nbut will contain all containers of corresponsive hosts. That might be\nuseful in usecases like AZs, or when deployer simply wants to create\ncustom groups and include all bare metal hosts along with all\ncontainers on them to the same group. Such behaviour can be triggered\nwhen empty belongs_to is provided for container_skel along with is_nest\nproperty. Then container_skel item will contain host-containers and it\'s\nchildren.\n\nChange-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686\n'}]",6,869762,fb34651cc233fffb3d54d69dd7ba32fbf197228b,33,4,8,28619,,,0,"Add is_nest property for container_skel

The main purpose of that patch is to allow creation of ""virtual""
container_skel, that will not generate any containers in inventory,
but will contain all containers of corresponsive hosts. That might be
useful in usecases like AZs, or when deployer simply wants to create
custom groups and include all bare metal hosts along with all
containers on them to the same group. Such behaviour can be triggered
when empty belongs_to is provided for container_skel along with is_nest
property. Then container_skel item will contain host-containers and it's
children.

Change-Id: Ic5570bfe9f0f54d1ea1e067834c11e6c390a2686
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/869762/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/openstack_user_config.yml.pod.example', 'doc/source/user/l3pods/example.rst', 'etc/openstack_deploy/env.d/pods.yml.example', 'osa_toolkit/generate.py']",4,80fe63823525c7a5be0019715df89af25bf68222,," contains_in = value.get('contains', list()) belongs_to_in = value.get('belongs_to', list()) else: physical_host_type = '{}_hosts'.format(key.split('_')[0]) for host_type in inventory[physical_host_type]['hosts']: container_mapping = inventory[key]['children'] host_type_containers = '{}-host_containers'.format(host_type) if host_type_containers in inventory: du.append_if(array=container_mapping, item=host_type_containers) for assignment in contains_in: for container_type in belongs_to_in: _add_container_hosts( assignment, config, key, container_type, inventory, value.get('properties', {}) cidr_networks = config.get('cidr_networks') provider_queues = {} for net_name in cidr_networks: ip_q = ip.load_optional_q( cidr_networks, cidr_name=net_name ) provider_queues[net_name] = ip_q if ip_q is not None: net = netaddr.IPNetwork(cidr_networks.get(net_name)) q_netmask = '{}_netmask'.format(net_name) provider_queues[q_netmask] = str(net.netmask) overrides = config.get('global_overrides', dict()) # iterate over a list of provider_networks, var=pn pns = overrides.get('provider_networks', list()) for pn in pns: # p_net are the provider_network values p_net = pn.get('network') if not p_net: continue q_name = p_net.get('ip_from_q') ip_from_q = provider_queues.get(q_name) if ip_from_q: netmask = provider_queues['{}_netmask'.format(q_name)] else: netmask = None for group in p_net.get('group_binds', list()): _add_additional_networks( key=group, inventory=inventory, ip_q=ip_from_q, q_name=q_name, netmask=netmask, interface=p_net.get('container_interface'), bridge=p_net.get('container_bridge'), bridge_type=p_net.get('container_bridge_type'), net_type=p_net.get('container_type'), net_mtu=p_net.get('container_mtu'), user_config=config, is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes'), gateway=p_net.get('gateway'), reference_group=p_net.get('reference_group'), address_prefix=p_net.get('address_prefix') ) "," contains_in = value.get('contains', False) belongs_to_in = value.get('belongs_to', False) if contains_in or belongs_to_in: for assignment in value['contains']: for container_type in value['belongs_to']: _add_container_hosts( assignment, config, key, container_type, inventory, value.get('properties', {}) ) else: cidr_networks = config.get('cidr_networks') provider_queues = {} for net_name in cidr_networks: ip_q = ip.load_optional_q( cidr_networks, cidr_name=net_name ) provider_queues[net_name] = ip_q if ip_q is not None: net = netaddr.IPNetwork(cidr_networks.get(net_name)) q_netmask = '{}_netmask'.format(net_name) provider_queues[q_netmask] = str(net.netmask) overrides = config.get('global_overrides', dict()) # iterate over a list of provider_networks, var=pn pns = overrides.get('provider_networks', list()) for pn in pns: # p_net are the provider_network values p_net = pn.get('network') if not p_net: continue q_name = p_net.get('ip_from_q') ip_from_q = provider_queues.get(q_name) if ip_from_q: netmask = provider_queues['{}_netmask'.format(q_name)] else: netmask = None for group in p_net.get('group_binds', list()): _add_additional_networks( key=group, inventory=inventory, ip_q=ip_from_q, q_name=q_name, netmask=netmask, interface=p_net.get('container_interface'), bridge=p_net.get('container_bridge'), bridge_type=p_net.get('container_bridge_type'), net_type=p_net.get('container_type'), net_mtu=p_net.get('container_mtu'), user_config=config, is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes'), gateway=p_net.get('gateway'), reference_group=p_net.get('reference_group'), address_prefix=p_net.get('address_prefix')",140,161
openstack%2Fopenstack-ansible~master~I82275f208b6674ac9b528d01b738748965bfe46e,openstack/openstack-ansible,master,I82275f208b6674ac9b528d01b738748965bfe46e,Drop `else` condition in the container_skel_load loop,MERGED,2023-03-27 15:32:14.000000000,2023-06-15 19:30:24.000000000,2023-04-19 14:04:37.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-03-27 15:32:14.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/90fdc6322f678b3c2ef7b68d1d48034baf0d90e0', 'message': 'Drop `else` condition in the container_skel_load loop\n\nThis cycle does contain `break` statement, thus there is no reason\nto have `for/else` statement since `else` is always executed.\n\nChange-Id: I82275f208b6674ac9b528d01b738748965bfe46e\n'}]",4,878696,90fdc6322f678b3c2ef7b68d1d48034baf0d90e0,19,4,1,28619,,,0,"Drop `else` condition in the container_skel_load loop

This cycle does contain `break` statement, thus there is no reason
to have `for/else` statement since `else` is always executed.

Change-Id: I82275f208b6674ac9b528d01b738748965bfe46e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/878696/1 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/generate.py'],1,90fdc6322f678b3c2ef7b68d1d48034baf0d90e0,," cidr_networks = config.get('cidr_networks') provider_queues = {} for net_name in cidr_networks: ip_q = ip.load_optional_q( cidr_networks, cidr_name=net_name ) provider_queues[net_name] = ip_q if ip_q is not None: net = netaddr.IPNetwork(cidr_networks.get(net_name)) q_netmask = '{}_netmask'.format(net_name) provider_queues[q_netmask] = str(net.netmask) overrides = config.get('global_overrides', dict()) # iterate over a list of provider_networks, var=pn pns = overrides.get('provider_networks', list()) for pn in pns: # p_net are the provider_network values p_net = pn.get('network') if not p_net: continue q_name = p_net.get('ip_from_q') ip_from_q = provider_queues.get(q_name) if ip_from_q: netmask = provider_queues['{}_netmask'.format(q_name)] else: netmask = None for group in p_net.get('group_binds', list()): _add_additional_networks( key=group, inventory=inventory, ip_q=ip_from_q, q_name=q_name, netmask=netmask, interface=p_net.get('container_interface'), bridge=p_net.get('container_bridge'), bridge_type=p_net.get('container_bridge_type'), net_type=p_net.get('container_type'), net_mtu=p_net.get('container_mtu'), user_config=config, is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes'), gateway=p_net.get('gateway'), reference_group=p_net.get('reference_group'), address_prefix=p_net.get('address_prefix')"," else: cidr_networks = config.get('cidr_networks') provider_queues = {} for net_name in cidr_networks: ip_q = ip.load_optional_q( cidr_networks, cidr_name=net_name provider_queues[net_name] = ip_q if ip_q is not None: net = netaddr.IPNetwork(cidr_networks.get(net_name)) q_netmask = '{}_netmask'.format(net_name) provider_queues[q_netmask] = str(net.netmask) overrides = config.get('global_overrides', dict()) # iterate over a list of provider_networks, var=pn pns = overrides.get('provider_networks', list()) for pn in pns: # p_net are the provider_network values p_net = pn.get('network') if not p_net: continue q_name = p_net.get('ip_from_q') ip_from_q = provider_queues.get(q_name) if ip_from_q: netmask = provider_queues['{}_netmask'.format(q_name)] else: netmask = None for group in p_net.get('group_binds', list()): _add_additional_networks( key=group, inventory=inventory, ip_q=ip_from_q, q_name=q_name, netmask=netmask, interface=p_net.get('container_interface'), bridge=p_net.get('container_bridge'), bridge_type=p_net.get('container_bridge_type'), net_type=p_net.get('container_type'), net_mtu=p_net.get('container_mtu'), user_config=config, is_container_address=p_net.get('is_container_address'), static_routes=p_net.get('static_routes'), gateway=p_net.get('gateway'), reference_group=p_net.get('reference_group'), address_prefix=p_net.get('address_prefix') )",47,47
openstack%2Foslo.privsep~master~I1bcb7d1cb8c598ac96708ae0b83ec9eea05bc8ec,openstack/oslo.privsep,master,I1bcb7d1cb8c598ac96708ae0b83ec9eea05bc8ec,Dell PowerFlex password appears in plain text when creating a volume from an image,NEW,2023-05-26 18:11:43.000000000,2023-06-15 18:38:08.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-26 18:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/065dc2b98d438f6c66936926c2d1b19e3efdf749', 'message': 'Dell PowerFlex password appears in plain text when creating a volume from an image\n\nThis patch fixes the issue of password getting writen in plain text in logs\nwhile creating a new volume. It created a new logger with defualt log level\nat error.\n\nCloses-Bug: #2003179\nChange-Id: I1bcb7d1cb8c598ac96708ae0b83ec9eea05bc8ec\n'}, {'number': 2, 'created': '2023-05-30 14:10:22.000000000', 'files': ['oslo_privsep/daemon.py', 'releasenotes/notes/bug-2003179-f88922a47abcf07a.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/e9954f323969220da39a33fe45c2a8fabdad848e', 'message': 'Dell PowerFlex password appears in plain text when creating a volume from an image\n\nThis patch fixes the issue of password getting writen in plain text in logs\nwhile creating a new volume. It created a new logger with defualt log level\nat error.\n\nCloses-Bug: #2003179\nChange-Id: I1bcb7d1cb8c598ac96708ae0b83ec9eea05bc8ec\n'}]",10,884344,e9954f323969220da39a33fe45c2a8fabdad848e,10,6,2,35063,,,0,"Dell PowerFlex password appears in plain text when creating a volume from an image

This patch fixes the issue of password getting writen in plain text in logs
while creating a new volume. It created a new logger with defualt log level
at error.

Closes-Bug: #2003179
Change-Id: I1bcb7d1cb8c598ac96708ae0b83ec9eea05bc8ec
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/44/884344/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/daemon.py', 'releasenotes/notes/bug-2003179-f88922a47abcf07a.yaml']",2,065dc2b98d438f6c66936926c2d1b19e3efdf749,bug/2003179,--- fixes: - | `Bug #2003179 <https://bugs.launchpad.net/cinder/+bug/2003179>`_: Fixed Workaround for an issue that causes privsep to log password in plaintext by creating a new logger with default log level error. ,,9,1
openstack%2Frpm-packaging~master~Ibac44f9f6a0d214e4dfa3135cfb0c917790a2d8d,openstack/rpm-packaging,master,Ibac44f9f6a0d214e4dfa3135cfb0c917790a2d8d,Update to lastest master versions,MERGED,2023-06-15 16:55:21.000000000,2023-06-15 17:49:04.000000000,2023-06-15 17:49:04.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 16:55:21.000000000', 'files': ['openstack/stevedore/stevedore.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/pyghmi/pyghmi.spec.j2', 'openstack/openstackdocstheme/openstackdocstheme.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e28ff87aa31a839204fbc50493c7c8fdaa838c4d', 'message': 'Update to lastest master versions\n\nChange-Id: Ibac44f9f6a0d214e4dfa3135cfb0c917790a2d8d\n'}]",0,886192,e28ff87aa31a839204fbc50493c7c8fdaa838c4d,6,2,1,6593,,,0,"Update to lastest master versions

Change-Id: Ibac44f9f6a0d214e4dfa3135cfb0c917790a2d8d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/92/886192/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/stevedore/stevedore.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/osc-lib/osc-lib.spec.j2', 'openstack/pyghmi/pyghmi.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/openstackdocstheme/openstackdocstheme.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2']",9,e28ff87aa31a839204fbc50493c7c8fdaa838c4d,,{% set upstream_version = upstream_version('2.3.0') %},{% set upstream_version = upstream_version('2.2.1') %},9,9
openstack%2Foctavia~stable%2F2023.1~I7f150c2c1c3da706055aba5e02b5ad7c032806f1,openstack/octavia,stable/2023.1,I7f150c2c1c3da706055aba5e02b5ad7c032806f1,Avoid interface name collisions in the amphora,MERGED,2023-06-08 08:25:26.000000000,2023-06-15 17:43:26.000000000,2023-06-15 17:42:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-06-08 08:25:26.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b17529b134456980e302239225514f8f876aa36', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)\n'}]",1,885572,1b17529b134456980e302239225514f8f876aa36,8,3,1,29244,,,0,"Avoid interface name collisions in the amphora

After unpluging a network, the octavia-agent may try to plug a new
network to a new interface while another interface with the same name
already exists.

Closes-Bug: #2017894

Change-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1
(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/885572/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",4,1b17529b134456980e302239225514f8f876aa36,," netns_handle.get_links.return_value = [ {'attrs': [['IFLA_IFNAME', f'eth{idx}']]} for idx in range(test_int_num)] 'attrs': [['IFLA_IFNAME', 'eth2']]}] file_name = '/etc/octavia/interfaces/eth3.json' consts.NAME: 'eth3', ""/usr/local/bin/lvs-masquerade.sh add ipv4 eth3"") ""eth3"") 'amphora-interface', 'up', 'eth3'], stderr=-2)"," netns_handle.get_links.return_value = [0] * test_int_num 'attrs': [['IFLA_IFNAME', consts.NETNS_PRIMARY_INTERFACE]]}] file_name = '/etc/octavia/interfaces/{}.json'.format( consts.NETNS_PRIMARY_INTERFACE) consts.NAME: consts.NETNS_PRIMARY_INTERFACE, ""/usr/local/bin/lvs-masquerade.sh add ipv4 "" ""{}"".format(consts.NETNS_PRIMARY_INTERFACE)) ""{}"".format(consts.NETNS_PRIMARY_INTERFACE)) 'amphora-interface', 'up', consts.NETNS_PRIMARY_INTERFACE], stderr=-2)",72,20
openstack%2Fcharm-cinder-k8s~main~Ifc51d4de47c5518a7eeda8b3aa8400b33228a388,openstack/charm-cinder-k8s,main,Ifc51d4de47c5518a7eeda8b3aa8400b33228a388,Add Service Token support,MERGED,2023-06-10 08:22:23.000000000,2023-06-15 16:12:47.000000000,2023-06-15 15:48:57.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/b8a6507f22e19501d11ba6ec079bc9262e75e4a9', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Ifc51d4de47c5518a7eeda8b3aa8400b33228a388\n'}, {'number': 2, 'created': '2023-06-14 13:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/425f5cf5f362f004a9bc2098218aef4ad48d40f8', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Ifc51d4de47c5518a7eeda8b3aa8400b33228a388\n'}, {'number': 3, 'created': '2023-06-15 11:30:49.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/cinder.conf.j2', 'src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/96a05c92f2c871bd3f406a7925db889ef25368af', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Ifc51d4de47c5518a7eeda8b3aa8400b33228a388\n'}]",2,885816,96a05c92f2c871bd3f406a7925db889ef25368af,15,2,3,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973
Change-Id: Ifc51d4de47c5518a7eeda8b3aa8400b33228a388
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/16/885816/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/cinder.conf.j2', 'src/templates/parts/section-service-user']",4,b8a6507f22e19501d11ba6ec079bc9262e75e4a9,service-tokens,{% if identity_service.auth_host -%} [service_user] send_service_user_token = true auth_type = password auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_id = {{ identity_service.service_project_id }} user_domain_id = {{ identity_service.service_domain_id }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} {% endif -%} ,,23,1
openstack%2Fcharm-guide~master~I47e4f727dc9868eabb943ab9f0f50df5ae8f78d7,openstack/charm-guide,master,I47e4f727dc9868eabb943ab9f0f50df5ae8f78d7,Add operation: Remove a mysql8 database node,MERGED,2023-05-31 09:40:59.000000000,2023-06-15 16:10:59.000000000,2023-06-15 16:10:00.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/90882f3f0abaf0c2c568f6116b48df7f3ac6fb92', 'message': 'Add operation: Remove a mysql8 database node\n\nNote originally this was a charm deployment guide review\nat the related ID.\n\nChange-Id: I47e4f727dc9868eabb943ab9f0f50df5ae8f78d7\nRelated-ID: I07aa35937666aaf000f5c2bc5803bee672c1f126\nCloses-Bug: #1889792\n'}, {'number': 2, 'created': '2023-06-02 11:54:51.000000000', 'files': ['doc/source/admin/ops-remove-mysql8-node.rst', 'doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/02d50f28159729180e4c525e21a1f327b60a701a', 'message': 'Add operation: Remove a mysql8 database node\n\nNote originally this was a charm deployment guide review\nat the related ID.\n\nChange-Id: I47e4f727dc9868eabb943ab9f0f50df5ae8f78d7\nRelated-ID: I07aa35937666aaf000f5c2bc5803bee672c1f126\nCloses-Bug: #1889792\n'}]",10,884853,02d50f28159729180e4c525e21a1f327b60a701a,12,2,2,20870,,,0,"Add operation: Remove a mysql8 database node

Note originally this was a charm deployment guide review
at the related ID.

Change-Id: I47e4f727dc9868eabb943ab9f0f50df5ae8f78d7
Related-ID: I07aa35937666aaf000f5c2bc5803bee672c1f126
Closes-Bug: #1889792
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/53/884853/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ops-remove-mysql8-node.rst', 'doc/source/admin/index.rst']",2,90882f3f0abaf0c2c568f6116b48df7f3ac6fb92,bug/1889792, ops-remove-mysql8-node,,93,0
openstack%2Fcharm-glance-k8s~main~I433c74fb43c8e0a37dd32d10858a65f12001b3a9,openstack/charm-glance-k8s,main,I433c74fb43c8e0a37dd32d10858a65f12001b3a9,Add Service Token support,MERGED,2023-06-10 08:24:49.000000000,2023-06-15 16:05:05.000000000,2023-06-15 15:47:10.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/8d6e5d3da52386b97ef4bb36073a96bb8baea9d6', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I433c74fb43c8e0a37dd32d10858a65f12001b3a9\n'}, {'number': 2, 'created': '2023-06-14 13:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/ecdcf4b2fd23b1598de92691aaf762e686b4dc88', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I433c74fb43c8e0a37dd32d10858a65f12001b3a9\n'}, {'number': 3, 'created': '2023-06-15 11:31:18.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/glance-api.conf.j2', 'src/templates/parts/section-identity', 'src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/874b5b98e01f1b35e00fed909931ce1e007cc0af', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: I433c74fb43c8e0a37dd32d10858a65f12001b3a9\n'}]",2,885817,874b5b98e01f1b35e00fed909931ce1e007cc0af,15,2,3,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973
Change-Id: I433c74fb43c8e0a37dd32d10858a65f12001b3a9
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/17/885817/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/glance-api.conf.j2', 'src/templates/parts/section-identity', 'src/templates/parts/section-service-user']",4,8d6e5d3da52386b97ef4bb36073a96bb8baea9d6,service-tokens,{% if identity_service.auth_host -%} [service_user] send_service_user_token = true auth_type = password auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_id = {{ identity_service.service_project_id }} user_domain_id = {{ identity_service.service_domain_id }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} {% endif -%} ,,23,1
openstack%2Fcharm-cinder-ceph-k8s~main~If06995aa1a4e098b980029f60c236605aeeebd8b,openstack/charm-cinder-ceph-k8s,main,If06995aa1a4e098b980029f60c236605aeeebd8b,Drop priviledges for server process,MERGED,2023-06-14 10:34:18.000000000,2023-06-15 16:01:43.000000000,2023-06-15 15:39:34.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:34:18.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/cb3293b65c12a2754fefd2cc467edee8a0bbe1cf', 'message': 'Drop priviledges for server process\n\nUse cinder:cinder to run the cinder-server process.\n\nUpdate file permissions to allow cinder user to read.\n\nChange-Id: If06995aa1a4e098b980029f60c236605aeeebd8b\n'}]",1,886075,cb3293b65c12a2754fefd2cc467edee8a0bbe1cf,14,3,1,12549,,,0,"Drop priviledges for server process

Use cinder:cinder to run the cinder-server process.

Update file permissions to allow cinder user to read.

Change-Id: If06995aa1a4e098b980029f60c236605aeeebd8b
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/75/886075/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,cb3293b65c12a2754fefd2cc467edee8a0bbe1cf,unpriv-user," ""user"": ""cinder"", ""group"": ""cinder"", ""root"", 0o640, ""root"", 0o640,"," self.service_user, self.service_user,",6,2
openstack%2Fcharm-ironic-api~stable%2Fyoga~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,stable/yoga,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-06-13 18:44:24.000000000,2023-06-15 15:35:31.000000000,2023-06-15 15:35:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/e83b3c5f145e494a4093ff0c43d4e55724918644', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/yoga\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}, {'number': 2, 'created': '2023-06-13 19:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d8c5cbb97c8778427be0ff8df9b540fdcde5c4a6', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/yoga\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}, {'number': 3, 'created': '2023-06-13 20:03:23.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/fca337274407d8c145c33fe5ce4805497878eb04', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/yoga\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}]",1,886019,fca337274407d8c145c33fe5ce4805497878eb04,14,4,3,2424,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/yoga

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/19/886019/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock']",3,e83b3c5f145e494a4093ff0c43d4e55724918644,bug/1992840-yoga," ""version"": ""32772ff502e179027f46daaa04729a2f5d49f5e5"",} "," ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"",}",6,2
openstack%2Fglance_store~master~Ib11da7ee08a85b6b3c00e003d1170f5ed72e3582,openstack/glance_store,master,Ib11da7ee08a85b6b3c00e003d1170f5ed72e3582,Make ceph job voting,MERGED,2023-05-18 16:52:13.000000000,2023-06-15 15:34:47.000000000,2023-06-15 15:33:03.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-18 16:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f0b5ad71e70211ff2b7a4d51db927cea64d5f1ca', 'message': 'Make ceph job voting\n\nThis job should be voting on glance-store.\n\nChange-Id: Ib11da7ee08a85b6b3c00e003d1170f5ed72e3582\n'}, {'number': 2, 'created': '2023-05-19 18:50:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cc393262307e65ccfe8306d8e52e902c6bb57898', 'message': 'Make ceph job voting\n\nThis job should be voting on glance-store.\n\nChange-Id: Ib11da7ee08a85b6b3c00e003d1170f5ed72e3582\n'}]",3,883551,cc393262307e65ccfe8306d8e52e902c6bb57898,12,5,2,4393,,,0,"Make ceph job voting

This job should be voting on glance-store.

Change-Id: Ib11da7ee08a85b6b3c00e003d1170f5ed72e3582
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/51/883551/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f0b5ad71e70211ff2b7a4d51db927cea64d5f1ca,rr-rbd-threads,, voting: false,0,1
openstack%2Fcharm-ironic-api~stable%2Fyoga~Ibb7c48a4f67a9d829852cfb64babc70916f8339f,openstack/charm-ironic-api,stable/yoga,Ibb7c48a4f67a9d829852cfb64babc70916f8339f,Pin tox to < 4.0.0,MERGED,2023-01-13 20:03:33.000000000,2023-06-15 15:30:51.000000000,2023-06-15 15:30:51.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-13 20:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/38f097a37310c5b0ac37b9a7a71b3305a8566d52', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Ibb7c48a4f67a9d829852cfb64babc70916f8339f\n""}, {'number': 2, 'created': '2023-06-13 19:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/84450506455905f8703d0ed3e27fe67f1140815c', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Ibb7c48a4f67a9d829852cfb64babc70916f8339f\n""}, {'number': 3, 'created': '2023-06-13 20:03:23.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/8cb57f07ac6c64a42453721ce58dc07aa04d1b53', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Ibb7c48a4f67a9d829852cfb64babc70916f8339f\n""}]",2,870141,8cb57f07ac6c64a42453721ce58dc07aa04d1b53,16,4,3,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: Ibb7c48a4f67a9d829852cfb64babc70916f8339f
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/41/870141/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,38f097a37310c5b0ac37b9a7a71b3305a8566d52,bug/1992840-yoga, tox < 4.0.0,,1,0
openstack%2Fcharm-nova-k8s~main~Id8df2d4dffab63ed26d25c59bff671e972face5f,openstack/charm-nova-k8s,main,Id8df2d4dffab63ed26d25c59bff671e972face5f,Add Service Token support,MERGED,2023-06-10 08:27:29.000000000,2023-06-15 13:50:13.000000000,2023-06-15 13:29:24.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/908c4ef9ee08e4bd2683137780320da08f39d673', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Id8df2d4dffab63ed26d25c59bff671e972face5f\n'}, {'number': 2, 'created': '2023-06-14 13:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/b10298bf49d2360388212f04861c544f0be95042', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Id8df2d4dffab63ed26d25c59bff671e972face5f\n'}, {'number': 3, 'created': '2023-06-15 11:33:06.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/nova.conf.j2', 'src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/a3eb9aa7414a3e95ec8b5f61cef4e8be54d5b804', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\nChange-Id: Id8df2d4dffab63ed26d25c59bff671e972face5f\n'}]",1,885819,a3eb9aa7414a3e95ec8b5f61cef4e8be54d5b804,13,2,3,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973
Change-Id: Id8df2d4dffab63ed26d25c59bff671e972face5f
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/19/885819/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/nova.conf.j2', 'src/templates/parts/section-service-user']",4,908c4ef9ee08e4bd2683137780320da08f39d673,service-tokens,{% if identity_service.auth_host -%} [service_user] send_service_user_token = true auth_type = password auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_id = {{ identity_service.service_project_id }} user_domain_id = {{ identity_service.service_domain_id }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} {% endif -%} ,,23,2
openstack%2Fcharm-neutron-k8s~main~I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23,openstack/charm-neutron-k8s,main,I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23,Add Service Token support,MERGED,2023-06-10 08:26:04.000000000,2023-06-15 13:43:04.000000000,2023-06-15 13:29:02.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/1a24d609e7e135eaee637a3eebbf4cbc34cb7d90', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\n\nChange-Id: I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23\n'}, {'number': 2, 'created': '2023-06-14 13:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/35d9f213cc409e8325a91d87206726b2c37907f1', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\n\nChange-Id: I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23\n'}, {'number': 3, 'created': '2023-06-15 11:31:40.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/neutron.conf.j2', 'src/templates/parts/section-service-user'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/b585cd933f87396cadef5a13cb208d7fc94ce2e0', 'message': 'Add Service Token support\n\nAs documented in [1] service tokens are useful to prevent issues\nwith long running services or with requests that take a long time\nto finish where the user token can expire in the middle of an operation.\n\n[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html\n\nDepends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973\n\nChange-Id: I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23\n'}]",1,885818,b585cd933f87396cadef5a13cb208d7fc94ce2e0,13,2,3,12549,,,0,"Add Service Token support

As documented in [1] service tokens are useful to prevent issues
with long running services or with requests that take a long time
to finish where the user token can expire in the middle of an operation.

[1] https://docs.openstack.org/cinder/latest/configuration/block-storage/service-token.html

Depends-On: I15682c66d252d506e8f1c9b8de818bc19b1af973

Change-Id: I6d38c7c8ca78ceafd6ff5b35e6093ce2c9930c23
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/18/885818/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'src/templates/parts/section-identity', 'src/templates/neutron.conf.j2', 'src/templates/parts/section-service-user']",4,1a24d609e7e135eaee637a3eebbf4cbc34cb7d90,service-tokens,{% if identity_service.auth_host -%} [service_user] send_service_user_token = true auth_type = password auth_url = {{ identity_service.auth_protocol }}://{{ identity_service.auth_host }}:{{ identity_service.auth_port }} project_domain_id = {{ identity_service.service_project_id }} user_domain_id = {{ identity_service.service_domain_id }} project_name = {{ identity_service.service_project_name }} username = {{ identity_service.service_user_name }} password = {{ identity_service.service_password }} {% endif -%} ,,23,1
openstack%2Fcharm-keystone-k8s~main~I8f9c499ae955e538f78f3fc997315b6c8a66f231,openstack/charm-keystone-k8s,main,I8f9c499ae955e538f78f3fc997315b6c8a66f231,Update file priviledges for config,MERGED,2023-06-14 10:42:46.000000000,2023-06-15 13:22:24.000000000,2023-06-15 12:58:34.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:42:46.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/42fb7ca3053e5d9de68988058d612d38680e185d', 'message': 'Update file priviledges for config\n\nUpdate file permissions to allow keystone user to read.\n\nChange-Id: I8f9c499ae955e538f78f3fc997315b6c8a66f231\n'}]",1,886078,42fb7ca3053e5d9de68988058d612d38680e185d,9,2,1,12549,,,0,"Update file priviledges for config

Update file permissions to allow keystone user to read.

Change-Id: I8f9c499ae955e538f78f3fc997315b6c8a66f231
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/78/886078/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,42fb7ca3053e5d9de68988058d612d38680e185d,unpriv-user," _cconfigs = [ sunbeam_core.ContainerConfigFile( self.service_conf, ""root"", self.service_group, 0o640, ), sunbeam_core.ContainerConfigFile( LOGGING_CONF, ""root"", self.service_group, 0o640, ), ]"," _cconfigs = super().container_configs _cconfigs.extend( [ sunbeam_core.ContainerConfigFile( LOGGING_CONF, ""keystone"", ""keystone"" ) ] )",14,8
openstack%2Fcharm-glance-k8s~main~I464a2b3d2ddf11627d1fd3cb12c37503863b58d3,openstack/charm-glance-k8s,main,I464a2b3d2ddf11627d1fd3cb12c37503863b58d3,Drop priviledges for server process,MERGED,2023-06-14 10:39:55.000000000,2023-06-15 13:22:04.000000000,2023-06-15 13:05:18.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:39:55.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/319e4be1b0c514cd6a8ce88eaf4e2db8650d099b', 'message': 'Drop priviledges for server process\n\nUse glance:glance to run the glance-server process.\n\nUpdate file permissions to allow glance user to read.\n\nChange-Id: I464a2b3d2ddf11627d1fd3cb12c37503863b58d3\n'}]",1,886077,319e4be1b0c514cd6a8ce88eaf4e2db8650d099b,10,2,1,12549,,,0,"Drop priviledges for server process

Use glance:glance to run the glance-server process.

Update file permissions to allow glance user to read.

Change-Id: I464a2b3d2ddf11627d1fd3cb12c37503863b58d3
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/77/886077/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,319e4be1b0c514cd6a8ce88eaf4e2db8650d099b,unpriv-user," ""user"": ""glance"", ""group"": ""glance"", _cconfigs = [ sunbeam_core.ContainerConfigFile( self.service_conf, ""root"", self.service_group, 0o640, ), sunbeam_core.ContainerConfigFile( ""/etc/apache2/sites-enabled/glance-forwarding.conf"", ""root"", self.service_group, 0o640, ), ] ""root"", 0o640,"," _cconfigs = super().container_configs _cconfigs.extend( [ sunbeam_core.ContainerConfigFile( ""/etc/apache2/sites-enabled/glance-forwarding.conf"", self.service_user, self.service_group, ), ] ) self.service_user,",18,11
openstack%2Fcharm-cinder-k8s~main~I7cbe3d4c3107ea76bb39b0cfb460804de96852fe,openstack/charm-cinder-k8s,main,I7cbe3d4c3107ea76bb39b0cfb460804de96852fe,Drop priviledges for server process,MERGED,2023-06-14 10:38:05.000000000,2023-06-15 13:22:03.000000000,2023-06-15 12:58:05.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:38:05.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/71dcf38f9a2d89bca499691118e5276df650990c', 'message': 'Drop priviledges for server process\n\nUse cinder:cinder to run the cinder-server process.\n\nUpdate file permissions to allow cinder user to read.\n\nChange-Id: I7cbe3d4c3107ea76bb39b0cfb460804de96852fe\n'}]",0,886076,71dcf38f9a2d89bca499691118e5276df650990c,8,2,1,12549,,,0,"Drop priviledges for server process

Use cinder:cinder to run the cinder-server process.

Update file permissions to allow cinder user to read.

Change-Id: I7cbe3d4c3107ea76bb39b0cfb460804de96852fe
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/76/886076/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,71dcf38f9a2d89bca499691118e5276df650990c,unpriv-user," def default_container_configs(self) -> List[Dict]: """"""Generate default configuration files for container."""""" return [ sunbeam_core.ContainerConfigFile(self.wsgi_conf, ""root"", ""root""), sunbeam_core.ContainerConfigFile( ""/etc/cinder/cinder.conf"", ""root"", ""cinder"", 0o640 ), ] ""user"": ""cinder"", ""group"": ""cinder"", ""/etc/cinder/cinder.conf"", ""root"", ""cinder"", 0o640 _cconfigs = [ sunbeam_core.ContainerConfigFile( ""/etc/cinder/api-paste.ini"", ""root"", self.service_group, 0o640, ) ]"," ""/etc/cinder/cinder.conf"", ""cinder"", ""cinder"", _cconfigs = super().container_configs _cconfigs.extend( [ sunbeam_core.ContainerConfigFile( ""/etc/cinder/api-paste.ini"", self.service_user, self.service_group, ) ] )",20,13
openstack%2Fcharm-placement-k8s~main~If188e7e81ac2d7e108975b867ff61563b5f9ed39,openstack/charm-placement-k8s,main,If188e7e81ac2d7e108975b867ff61563b5f9ed39,Update priviledges for config file,MERGED,2023-06-14 10:53:40.000000000,2023-06-15 13:18:51.000000000,2023-06-15 13:01:46.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:53:40.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/b5961ef70d96fabbce898a4793ab8df78ca5ab5c', 'message': 'Update priviledges for config file\n\nTighten file permissions for config\n\nChange-Id: If188e7e81ac2d7e108975b867ff61563b5f9ed39\n'}]",0,886081,b5961ef70d96fabbce898a4793ab8df78ca5ab5c,8,2,1,12549,,,0,"Update priviledges for config file

Tighten file permissions for config

Change-Id: If188e7e81ac2d7e108975b867ff61563b5f9ed39
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/81/886081/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,b5961ef70d96fabbce898a4793ab8df78ca5ab5c,unpriv-user," def container_configs(self) -> List[sunbeam_core.ContainerConfigFile]: """"""Container configurations for the operator."""""" _cconfigs = [ sunbeam_core.ContainerConfigFile( self.service_conf, ""root"", self.service_group, 0o640, ), ] return _cconfigs @property",,13,0
openstack%2Fcharm-neutron-k8s~main~Ia1c9e3dfa1d211fd50d51651d5e431dbb75a5cc4,openstack/charm-neutron-k8s,main,Ia1c9e3dfa1d211fd50d51651d5e431dbb75a5cc4,Fix neutron.conf permissions,MERGED,2023-06-14 10:44:17.000000000,2023-06-15 13:16:20.000000000,2023-06-15 12:59:29.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 10:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/9160f98831e0613abc1cf1a7fcc2cb0fbecd4e86', 'message': 'Fix neutron.conf permissions\n\nChange-Id: Ia1c9e3dfa1d211fd50d51651d5e431dbb75a5cc4\n'}, {'number': 2, 'created': '2023-06-15 11:38:58.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/12349b77557b053121b2e4ff14579eeca54ab032', 'message': 'Fix neutron.conf permissions\n\nThe neutron-server container contains a full list of configs. Since\nthe charm does not specify container_configs the super classes\ndefinition will be used which has the wrong permissions.\n\nChange-Id: Ia1c9e3dfa1d211fd50d51651d5e431dbb75a5cc4\n'}]",1,886079,12349b77557b053121b2e4ff14579eeca54ab032,10,2,2,12549,,,0,"Fix neutron.conf permissions

The neutron-server container contains a full list of configs. Since
the charm does not specify container_configs the super classes
definition will be used which has the wrong permissions.

Change-Id: Ia1c9e3dfa1d211fd50d51651d5e431dbb75a5cc4
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/79/886079/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,9160f98831e0613abc1cf1a7fcc2cb0fbecd4e86,unpriv-user," [],"," self.container_configs,",1,1
openstack%2Fcinder~stable%2Fzed~I80923f9968de31738c554b77c0942a6182f0e67c,openstack/cinder,stable/zed,I80923f9968de31738c554b77c0942a6182f0e67c,Fix Infinidat driver generic volume migration,MERGED,2022-12-20 12:51:14.000000000,2023-06-15 11:50:43.000000000,2023-06-15 11:49:14.000000000,"[{'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-20 12:51:14.000000000', 'files': ['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/40ee7d0739fd65258207709511842b5eddbac4b7', 'message': 'Fix Infinidat driver generic volume migration\n\n- Use volume name_id to resolve Infinidat volume name.\n- Add update_migrated_volume function to fix generic volume\n  migration between two pools within the same storage cluster.\n\nCloses-bug: #1982405\nChange-Id: I80923f9968de31738c554b77c0942a6182f0e67c\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)\n'}]",4,868179,40ee7d0739fd65258207709511842b5eddbac4b7,22,4,1,35075,,,0,"Fix Infinidat driver generic volume migration

- Use volume name_id to resolve Infinidat volume name.
- Add update_migrated_volume function to fix generic volume
  migration between two pools within the same storage cluster.

Closes-bug: #1982405
Change-Id: I80923f9968de31738c554b77c0942a6182f0e67c
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit 9a29d57a61cfb845eabc2cc7f72480b48b9a68e9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/868179/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1982405-infinidat-fix-generic-volume-migration-da33a6fe980ac4eb.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,40ee7d0739fd65258207709511842b5eddbac4b7,infinidat-add-local-volume-migration-stable/zed," 1.11 - fixed generic volume migration VERSION = '1.11' def _make_volume_name(self, cinder_volume, migration=False): """"""Return the Infinidat volume name. Use Cinder volume id in case of volume migration and use Cinder volume name_id for all other cases. """""" if migration: key = cinder_volume.id else: key = cinder_volume.name_id return 'openstack-vol-%s' % key clone = mock.Mock(name_id=str(volume.name_id) + '-internal') @infinisdk_to_cinder_exceptions def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): """"""Return model update from Infinidat for migrated volume. This method should rename the back-end volume name(id) on the destination host back to its original name(id) on the source host. :param ctxt: The context used to run the method update_migrated_volume :param volume: The original volume that was migrated to this backend :param new_volume: The migration volume object that was created on this backend as part of the migration process :param original_volume_status: The status of the original volume :returns: model_update to update DB with any needed changes """""" model_update = {'_name_id': new_volume.name_id, 'provider_location': None} new_volume_name = self._make_volume_name(new_volume, migration=True) new_infinidat_volume = self._get_infinidat_volume(new_volume) self._set_cinder_object_metadata(new_infinidat_volume, volume) volume_name = self._make_volume_name(volume, migration=True) try: infinidat_volume = self._get_infinidat_volume(volume) except exception.VolumeNotFound: LOG.debug('Source volume %s not found', volume_name) else: volume_pool = infinidat_volume.get_pool_name() LOG.debug('Found source volume %s in pool %s', volume_name, volume_pool) return model_update try: new_infinidat_volume.update_name(volume_name) except infinisdk.core.exceptions.InfiniSDKException as error: LOG.error('Failed to rename destination volume %s -> %s: %s', new_volume_name, volume_name, error) return model_update return {'_name_id': None, 'provider_location': None}"," VERSION = '1.10' def _make_volume_name(self, cinder_volume): return 'openstack-vol-%s' % cinder_volume.id clone = mock.Mock(id=str(volume.id) + '-internal')",119,5
openstack%2Fplacement~master~I921646053c9c68b06df54d206c3d51838c4cafa6,openstack/placement,master,I921646053c9c68b06df54d206c3d51838c4cafa6,tests: Use base class for all functional tests,MERGED,2023-04-17 12:24:07.000000000,2023-06-15 11:50:36.000000000,2023-06-15 11:49:16.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-17 12:24:07.000000000', 'files': ['placement/tests/functional/base.py', 'placement/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/d00a9fedd532ecde6516d9c35f0d359d40779b2d', 'message': 'tests: Use base class for all functional tests\n\nWe were not using our own base class for some of the functional tests,\nwhich resulted in us missing SQLAlchemy 2.0 issues. Correct this.\n\nChange-Id: I921646053c9c68b06df54d206c3d51838c4cafa6\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,880624,d00a9fedd532ecde6516d9c35f0d359d40779b2d,11,5,1,15334,,,0,"tests: Use base class for all functional tests

We were not using our own base class for some of the functional tests,
which resulted in us missing SQLAlchemy 2.0 issues. Correct this.

Change-Id: I921646053c9c68b06df54d206c3d51838c4cafa6
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/24/880624/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/base.py', 'placement/tests/functional/db/test_migrations.py']",2,d00a9fedd532ecde6516d9c35f0d359d40779b2d,sqlalchemy-20,"from placement.tests.functional import baseclass TestWalkVersions(base.NoDBTestCase, WalkVersionsMixin): base.NoDBTestCase): base.NoDBTestCase): base.NoDBTestCase): base.NoDBTestCase): base.NoDBTestCase): base.NoDBTestCase):","from oslotest import base as test_baseimport testtoolsclass TestWalkVersions(testtools.TestCase, WalkVersionsMixin): test_base.BaseTestCase): test_base.BaseTestCase): test_base.BaseTestCase): test_base.BaseTestCase): test_base.BaseTestCase): test_base.BaseTestCase):",22,12
openstack%2Fopenstack-ansible-os_tempest~master~Ia53e458bf29b0c29480a8036c0387c7ac9997688,openstack/openstack-ansible-os_tempest,master,Ia53e458bf29b0c29480a8036c0387c7ac9997688,Update to cirros 0.6.2,NEW,2023-06-15 09:08:36.000000000,2023-06-15 11:39:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 09:08:36.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e3c52bf07f404df007fb801e121c32a6e8babeea', 'message': 'Update to cirros 0.6.2\n\nChange-Id: Ia53e458bf29b0c29480a8036c0387c7ac9997688\n'}]",0,886165,e3c52bf07f404df007fb801e121c32a6e8babeea,2,1,1,25023,,,0,"Update to cirros 0.6.2

Change-Id: Ia53e458bf29b0c29480a8036c0387c7ac9997688
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/65/886165/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,e3c52bf07f404df007fb801e121c32a6e8babeea,," - url: ""https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-x86_64-disk.img"" checksum: ""sha256:07e44a73e54c94d988028515403c1ed762055e01b83a767edf3c2b387f78ce00"" - url: ""https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-x86_64-disk.img"" checksum: ""sha256:07e44a73e54c94d988028515403c1ed762055e01b83a767edf3c2b387f78ce00"" - url: ""https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-aarch64-disk.img"" checksum: ""sha256:6a2222bd7ba89384d35378b5065bd5e838857f25db08c7abbff99b6d9bb48986"" - url: ""https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-aarch64-disk.img"" checksum: ""sha256:6a2222bd7ba89384d35378b5065bd5e838857f25db08c7abbff99b6d9bb48986"""," - url: ""https://download.cirros-cloud.net/0.6.1/cirros-0.6.1-x86_64-disk.img"" checksum: ""sha256:cc704ab14342c1c8a8d91b66a7fc611d921c8b8f1aaf4695f9d6463d913fa8d1"" - url: ""https://download.cirros-cloud.net/0.6.1/cirros-0.6.1-x86_64-disk.img"" checksum: ""sha256:cc704ab14342c1c8a8d91b66a7fc611d921c8b8f1aaf4695f9d6463d913fa8d1"" - url: ""https://download.cirros-cloud.net/0.6.1/cirros-0.6.1-aarch64-disk.img"" checksum: ""sha256:db9420c481c11dee17860aa46fb1a3efa05fa4fb152726d6344e24da03cb0ccf"" - url: ""https://download.cirros-cloud.net/0.6.1/cirros-0.6.1-aarch64-disk.img"" checksum: ""sha256:db9420c481c11dee17860aa46fb1a3efa05fa4fb152726d6344e24da03cb0ccf""",8,8
openstack%2Ftripleo-quickstart~master~I0bdfee137960dbe6db53e52845d97238a00e0bd4,openstack/tripleo-quickstart,master,I0bdfee137960dbe6db53e52845d97238a00e0bd4,DNM: Testing kernel downgrade in wallaby c9,ABANDONED,2023-06-14 18:14:52.000000000,2023-06-15 11:05:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 18:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5fb48d8748a1f4ae0df288ee27723a13da959d8d', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 2, 'created': '2023-06-14 18:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f8d01645ba331ffe0931afb8782ec68b23bf9a60', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 3, 'created': '2023-06-14 19:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1612b6bc73e364485d6dd18f4d959d1ecd00cd58', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 4, 'created': '2023-06-14 19:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d26c5d186c836f4e41a66dd4fcb42fe235224379', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 5, 'created': '2023-06-14 20:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f3b473a48e2fab773227827c2a41818694aa077e', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 6, 'created': '2023-06-14 20:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/652dbad8e6729d3836327b58ddc12f41c8b0a38b', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 7, 'created': '2023-06-14 20:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0c336e9f8f9e1e014d4fd7ea723b0191744f6478', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 8, 'created': '2023-06-14 21:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f3d2a49ff2d5a29915f4b77b0257c960f3cf6681', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}, {'number': 9, 'created': '2023-06-14 21:40:19.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/wallaby.yml', 'roles/repo-setup/tasks/setup_repos_new.yml', 'roles/repo-setup/tasks/setup_repos.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b76d28bfe6ae0b57820e0d57e66db540fbe461f6', 'message': 'DNM: Testing kernel downgrade in wallaby c9\n\nChange-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4\n'}]",0,886118,b76d28bfe6ae0b57820e0d57e66db540fbe461f6,11,1,9,9976,,,0,"DNM: Testing kernel downgrade in wallaby c9

Change-Id: I0bdfee137960dbe6db53e52845d97238a00e0bd4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/18/886118/8 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-9/wallaby.yml'],1,5fb48d8748a1f4ae0df288ee27723a13da959d8d,LP2023764, sudo dnf downgrade -y kernel.x86_64 5.14.0-319.el9 sudo reboot,,2,0
openstack%2Fdevstack~stable%2F2023.1~I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7,openstack/devstack,stable/2023.1,I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7,Bump default cirros version to 0.5.3,NEW,2023-06-15 09:02:04.000000000,2023-06-15 10:46:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 09:02:04.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bbf76bf02bff413e49ede02b30e1fa10bec4c412', 'message': 'Bump default cirros version to 0.5.3\n\nCirros has made a new release, including a newer kernel that should fix\nsome issues when using nested virtualization.\n\nStick to the 0.5.x series since 0.6.0 introduced a different DHCP client\nthat needs changed in tempest.\n\nChange-Id: I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7\n'}]",0,886163,bbf76bf02bff413e49ede02b30e1fa10bec4c412,2,1,1,13252,,,0,"Bump default cirros version to 0.5.3

Cirros has made a new release, including a newer kernel that should fix
some issues when using nested virtualization.

Stick to the 0.5.x series since 0.6.0 introduced a different DHCP client
that needs changed in tempest.

Change-Id: I172cfcf6b2553fa0f0db5ca175ff2bc5cf098cf7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/63/886163/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,bbf76bf02bff413e49ede02b30e1fa10bec4c412,bump-cirros,"CIRROS_VERSION=${CIRROS_VERSION:-""0.5.3""}","CIRROS_VERSION=${CIRROS_VERSION:-""0.5.2""}",1,1
openstack%2Fovn-bgp-agent~master~I2f0766c3a018336168c02ab77bbdfc9ed246a150,openstack/ovn-bgp-agent,master,I2f0766c3a018336168c02ab77bbdfc9ed246a150,Retry get_ovs_patch_port_ofport if empty port,MERGED,2023-06-14 14:52:24.000000000,2023-06-15 09:56:30.000000000,2023-06-15 09:55:37.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2ad90cf4a8b414b655b0f2016693858fe52ede34', 'message': 'Retry get_ovs_patch_port_ofport if empty port\n\nIt seems sometimes we are getting [] instead of the ofport,\npossibly due to a race between creating the interface and\nattaching it to the ovs bridge. This ensure it is also\nretried in that case\n\nChange-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150\n'}, {'number': 2, 'created': '2023-06-14 17:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a4663a678217f97adb9a4d585d219283bb2183a6', 'message': 'Retry get_ovs_patch_port_ofport if empty port\n\nIt seems sometimes we are getting [] instead of the ofport,\npossibly due to a race between creating the interface and\nattaching it to the ovs bridge. This ensure it is also\nretried in that case\n\nChange-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150\n'}, {'number': 3, 'created': '2023-06-14 18:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/324a1617cd26e213c8c2c3232e3ba76517ff7c27', 'message': 'Retry get_ovs_patch_port_ofport if empty port\n\nIt seems sometimes we are getting [] instead of the ofport,\npossibly due to a race between creating the interface and\nattaching it to the ovs bridge. This ensure it is also\nretried in that case\n\nChange-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150\n'}, {'number': 4, 'created': '2023-06-15 07:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1fcbc8fa10a882b1e464eb64ba109cfbf055e939', 'message': 'Retry get_ovs_patch_port_ofport if empty port\n\nIt seems sometimes we are getting [] instead of the ofport,\npossibly due to a race between creating the interface and\nattaching it to the ovs bridge. This ensure it is also\nretried in that case\n\nChange-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150\n'}, {'number': 5, 'created': '2023-06-15 09:03:26.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/utils/ovs.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1d00d2c58fb5cd3585e321e3eea54fc8ae0178d8', 'message': 'Retry get_ovs_patch_port_ofport if empty port\n\nIt seems sometimes we are getting [] instead of the ofport,\npossibly due to a race between creating the interface and\nattaching it to the ovs bridge. This ensure it is also\nretried in that case\n\nChange-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150\n'}]",2,885976,1d00d2c58fb5cd3585e321e3eea54fc8ae0178d8,17,2,5,23567,,,0,"Retry get_ovs_patch_port_ofport if empty port

It seems sometimes we are getting [] instead of the ofport,
possibly due to a race between creating the interface and
attaching it to the ovs bridge. This ensure it is also
retried in that case

Change-Id: I2f0766c3a018336168c02ab77bbdfc9ed246a150
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/76/885976/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/utils/wire.py'],1,2ad90cf4a8b414b655b0f2016693858fe52ede34,bug/2022357, if not ofport: raise agent_exc.PatchPortNotFound(localnet=localnet),,2,0
openstack%2Fcharm-keystone-k8s~main~I15682c66d252d506e8f1c9b8de818bc19b1af973,openstack/charm-keystone-k8s,main,I15682c66d252d506e8f1c9b8de818bc19b1af973,Add admin-role param value to identity relation,MERGED,2023-06-10 08:18:57.000000000,2023-06-15 09:21:51.000000000,2023-06-15 08:58:12.000000000,"[{'_account_id': 935}, {'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 08:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/9b84bcf69e01d3242fce77c4364cc8cdbf0e6db6', 'message': 'Add admin-role param value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nChange-Id: I15682c66d252d506e8f1c9b8de818bc19b1af973\n'}, {'number': 2, 'created': '2023-06-13 10:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/555659b562ce3fc8ecf2cfdaa1ad155f14b21b6b', 'message': 'Add admin-role param value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nChange-Id: I15682c66d252d506e8f1c9b8de818bc19b1af973\n'}, {'number': 3, 'created': '2023-06-14 08:05:54.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'tests/unit/test_keystone_charm.py', 'lib/charms/keystone_k8s/v0/identity_credentials.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/b0f4a239673072c26ce44959ce2fd1be17dac92b', 'message': 'Add admin-role param value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nChange-Id: I15682c66d252d506e8f1c9b8de818bc19b1af973\n'}]",1,885815,b0f4a239673072c26ce44959ce2fd1be17dac92b,12,3,3,12549,,,0,"Add admin-role param value to identity relation

This parameter is added to the relation in order to configure service
tokens on related services. The role of the service user is required for
service token validation.

Change-Id: I15682c66d252d506e8f1c9b8de818bc19b1af973
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/15/885815/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'tests/unit/test_keystone_charm.py', 'lib/charms/keystone_k8s/v0/identity_credentials.py', 'src/charm.py']",4,9b84bcf69e01d3242fce77c4364cc8cdbf0e6db6,service-tokens," if relation.data[self.app].get( ""service-credentials"" ) and relation.data[self.app].get(""admin-role""): if relation.data[self.app].get(""credentials"") and relation.data[ self.app ].get(""admin-role""): self.admin_role, admin_role=self.admin_role,"," if relation.data[self.app].get(""service-credentials""): if relation.data[self.app].get(""credentials""):",25,4
openstack%2Freleases~master~I24a4d1adea66d45e29229b17dd00ef700261a5cc,openstack/releases,master,I24a4d1adea66d45e29229b17dd00ef700261a5cc,"[storlets] EOL Train, Ussuri and Victoria",MERGED,2023-06-13 19:23:00.000000000,2023-06-15 09:11:19.000000000,2023-06-15 09:11:19.000000000,"[{'_account_id': 4608}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-13 19:23:00.000000000', 'files': ['deliverables/train/storlets.yaml', 'deliverables/victoria/storlets.yaml', 'deliverables/ussuri/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a2fdbf3d674e7fc5ba3a48466fbbd9b8c20b1ec9', 'message': ""[storlets] EOL Train, Ussuri and Victoria\n\nWe've not seen any backport to these old branches for long. We have not\nheard any objections so far[1], so are ready to EOL these branches to\nreduce the number of open branches.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032806.html\n\nChange-Id: I24a4d1adea66d45e29229b17dd00ef700261a5cc\n""}]",1,886026,a2fdbf3d674e7fc5ba3a48466fbbd9b8c20b1ec9,8,4,1,9816,,,0,"[storlets] EOL Train, Ussuri and Victoria

We've not seen any backport to these old branches for long. We have not
heard any objections so far[1], so are ready to EOL these branches to
reduce the number of open branches.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/032806.html

Change-Id: I24a4d1adea66d45e29229b17dd00ef700261a5cc
",git fetch https://review.opendev.org/openstack/releases refs/changes/26/886026/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/storlets.yaml', 'deliverables/victoria/storlets.yaml', 'deliverables/ussuri/storlets.yaml']",3,a2fdbf3d674e7fc5ba3a48466fbbd9b8c20b1ec9,, - version: ussuri-eol projects: - repo: openstack/storlets hash: 40ab614982651613284380473f086637cd3649c1,,12,0
openstack%2Freleases~master~I25301e943d60e17195e4a5eb012e6a336e5f8c8a,openstack/releases,master,I25301e943d60e17195e4a5eb012e6a336e5f8c8a,Release OpenStack-Ansible Yoga,MERGED,2023-06-07 10:47:25.000000000,2023-06-15 09:11:17.000000000,2023-06-15 09:11:17.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-07 10:47:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a075eab0251bb0f2289f9c7688e59e7990ef20d4', 'message': 'Release OpenStack-Ansible Yoga\n\nChange-Id: I25301e943d60e17195e4a5eb012e6a336e5f8c8a\n'}, {'number': 2, 'created': '2023-06-09 11:55:41.000000000', 'files': ['deliverables/yoga/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8add7d3fd4b6c67d46f11b6bf76a6a388093ebd3', 'message': 'Release OpenStack-Ansible Yoga\n\nChange-Id: I25301e943d60e17195e4a5eb012e6a336e5f8c8a\n'}]",3,885453,8add7d3fd4b6c67d46f11b6bf76a6a388093ebd3,13,3,2,28619,,,0,"Release OpenStack-Ansible Yoga

Change-Id: I25301e943d60e17195e4a5eb012e6a336e5f8c8a
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/885453/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/openstack-ansible.yaml'],1,a075eab0251bb0f2289f9c7688e59e7990ef20d4,release_osa, - projects: - hash: f532987d44e080e851dafcec957deadde9f54fae repo: openstack/openstack-ansible version: 25.3.3,,4,0
openstack%2Freleases~master~Ia0d57ede2c0c22979e836de739eea381e8510d40,openstack/releases,master,Ia0d57ede2c0c22979e836de739eea381e8510d40,[cloudkitty] Transition Rocky to End of Life,MERGED,2023-04-26 18:12:19.000000000,2023-06-15 09:11:13.000000000,2023-06-15 09:11:13.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-26 18:12:19.000000000', 'files': ['deliverables/rocky/cloudkitty.yaml', 'deliverables/rocky/python-cloudkittyclient.yaml', 'deliverables/rocky/cloudkitty-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74ba6302429d7ea0ebc5ccfb9922e669ee2e4754', 'message': ""[cloudkitty] Transition Rocky to End of Life\n\nAs discussed in the mail thread [1][2], this patch transition the Rocky\nbranch to End of Life. The last patch of the branch will be tagged with\nrocky-eol tag. stable/rocky branch cannot be used anymore and will be\ndeleted if this patch merges.\n\nThis is needed as stable/rocky is not actively maintained in recent\nperiod, thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/rocky is deleted. Propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html\n\nChange-Id: Ia0d57ede2c0c22979e836de739eea381e8510d40\n""}]",6,881603,74ba6302429d7ea0ebc5ccfb9922e669ee2e4754,13,4,1,17685,,,0,"[cloudkitty] Transition Rocky to End of Life

As discussed in the mail thread [1][2], this patch transition the Rocky
branch to End of Life. The last patch of the branch will be tagged with
rocky-eol tag. stable/rocky branch cannot be used anymore and will be
deleted if this patch merges.

This is needed as stable/rocky is not actively maintained in recent
period, thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/rocky is deleted. Propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html
[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html

Change-Id: Ia0d57ede2c0c22979e836de739eea381e8510d40
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/881603/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/cloudkitty.yaml', 'deliverables/rocky/python-cloudkittyclient.yaml', 'deliverables/rocky/cloudkitty-dashboard.yaml']",3,74ba6302429d7ea0ebc5ccfb9922e669ee2e4754,rocky-eol, - version: rocky-eol projects: - repo: openstack/cloudkitty-dashboard hash: 6e7db6c425c00cec907cd1cd88e5af78bfaa8898,,12,0
openstack%2Freleases~master~I6f6bdc2336f8e951318acaedf6b1417f6aaf4271,openstack/releases,master,I6f6bdc2336f8e951318acaedf6b1417f6aaf4271,[OpenStackSDK] Transition Rocky to End of Life,MERGED,2023-04-26 18:17:08.000000000,2023-06-15 09:11:11.000000000,2023-06-15 09:11:11.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-26 18:17:08.000000000', 'files': ['deliverables/rocky/cliff.yaml', 'deliverables/rocky/osc-lib.yaml', 'deliverables/rocky/python-openstackclient.yaml', 'deliverables/rocky/shade.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/rocky/os-client-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/afc751b011daab580ffeb98f2377089554344e45', 'message': ""[OpenStackSDK] Transition Rocky to End of Life\n\nAs discussed in the mail thread [1][2], this patch transition the Rocky\nbranch to End of Life. The last patch of the branch will be tagged with\nrocky-eol tag. stable/rocky branch cannot be used anymore and will be\ndeleted if this patch merges.\n\nThis is needed as stable/rocky is not actively maintained in recent\nperiod, thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/rocky is deleted. Propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html\n\nChange-Id: I6f6bdc2336f8e951318acaedf6b1417f6aaf4271\n""}]",2,881619,afc751b011daab580ffeb98f2377089554344e45,10,4,1,17685,,,0,"[OpenStackSDK] Transition Rocky to End of Life

As discussed in the mail thread [1][2], this patch transition the Rocky
branch to End of Life. The last patch of the branch will be tagged with
rocky-eol tag. stable/rocky branch cannot be used anymore and will be
deleted if this patch merges.

This is needed as stable/rocky is not actively maintained in recent
period, thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/rocky is deleted. Propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html
[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html

Change-Id: I6f6bdc2336f8e951318acaedf6b1417f6aaf4271
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/881619/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/cliff.yaml', 'deliverables/rocky/osc-lib.yaml', 'deliverables/rocky/python-openstackclient.yaml', 'deliverables/rocky/shade.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/rocky/os-client-config.yaml']",6,afc751b011daab580ffeb98f2377089554344e45,rocky-eol, - version: rocky-eol projects: - repo: openstack/os-client-config hash: 0942b39fa4225dfbb7cdc80d7959c126d50a3c21,,24,0
openstack%2Freleases~master~I8e15273cd3899b38370e52d2be74e993e0f5ba6e,openstack/releases,master,I8e15273cd3899b38370e52d2be74e993e0f5ba6e,[OpenStack-Ansible Roles] EOL Rocky branch,MERGED,2023-05-30 15:00:47.000000000,2023-06-15 09:11:09.000000000,2023-06-15 09:11:09.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-30 15:00:47.000000000', 'files': ['deliverables/rocky/openstack-ansible-roles.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/907d022dcbb0952e2911d9ce388e3a886b05a940', 'message': '[OpenStack-Ansible Roles] EOL Rocky branch\n\nChange-Id: I8e15273cd3899b38370e52d2be74e993e0f5ba6e\n'}]",1,884713,907d022dcbb0952e2911d9ce388e3a886b05a940,12,5,1,28619,,,0,"[OpenStack-Ansible Roles] EOL Rocky branch

Change-Id: I8e15273cd3899b38370e52d2be74e993e0f5ba6e
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/884713/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/openstack-ansible-roles.yaml'],1,907d022dcbb0952e2911d9ce388e3a886b05a940,rocky-eol,releases: - version: rocky-eol projects: - hash: c4109f6f4164f472684bc358257f04ac2a12fd1a repo: openstack/ansible-role-qdrouterd - hash: cdb90f063bcd148eb779a575be2e65c799fee28f repo: openstack/ansible-role-python_venv_build - hash: 21ca82023b98d9ed4e15d1d45772dd9a6017e3f4 repo: openstack/ansible-role-systemd_mount - hash: 6b5f441210896f4e1fb658f0a8471bb5fca3760a repo: openstack/ansible-role-systemd_networkd - hash: 487e2179c31d2aed565e58a838491d34b75000b3 repo: openstack/ansible-role-systemd_service - hash: ea2c68945e26cf46e551e45286810362e3e97068 repo: openstack/ansible-hardening - hash: 50977e4921e5a86d0abc3e70b5db0ab2f5273246 repo: openstack/openstack-ansible-apt_package_pinning - hash: c2ef8527489f6104d5034a38753cb4a26018f027 repo: openstack/openstack-ansible-ceph_client - hash: 016a76a10dbb0e52aead0e33a287832281e6ad6a repo: openstack/openstack-ansible-galera_client - hash: 508ab4b90fa7fcc82d2d554ece61970e5eedde81 repo: openstack/openstack-ansible-galera_server - hash: 4441f2c828cb34c5c4677a333e0319d4aa411a19 repo: openstack/openstack-ansible-haproxy_server - hash: 0ae0b51de8da04e6f11d587d703f761435f07b56 repo: openstack/openstack-ansible-lxc_container_create - hash: 5b67e317ab6f4741fbb3f28b848a62a10057e829 repo: openstack/openstack-ansible-lxc_hosts - hash: 16aedf1d761b6174797288fedc55eba5972ba96a repo: openstack/openstack-ansible-memcached_server - hash: 27fe278729fae842af77b261ddb1f12f710f8853 repo: openstack/openstack-ansible-nspawn_container_create - hash: 69a25d7c1d6f850377cce410d2b5f819ab4b11e6 repo: openstack/openstack-ansible-nspawn_hosts - hash: 761055f38065dd2a8771a09b3ff43cc791840b19 repo: openstack/openstack-ansible-openstack_hosts - hash: 87f389d0e0b6b45709bd36c0526419eb846bf0b2 repo: openstack/openstack-ansible-openstack_openrc - hash: ae971ffa9d01c23be36b2c3007c69acd63716b8d repo: openstack/openstack-ansible-ops - hash: 98426e75011a33f27a7383fb6cb4f8918b13d0ae repo: openstack/openstack-ansible-os_almanach - hash: 6ccf1ab9ea1a7bb8588a899ed2defbb4d8b4c5ae repo: openstack/openstack-ansible-os_aodh - hash: c0f45f93d4ab5c25c094783bdcb3db5db5e82479 repo: openstack/openstack-ansible-os_barbican - hash: 7faba5e2e962163fa2e9b7aa097c7899f4170abc repo: openstack/openstack-ansible-os_blazar - hash: 257e22ccf78716cc7a09ae67b27ae8027adfce57 repo: openstack/openstack-ansible-os_ceilometer - hash: e01c225a8d85519da158aba3df96843ede4ed3a3 repo: openstack/openstack-ansible-os_cinder - hash: 1aa9f9ad9e66748fade0a92e330d8f27dace5bfd repo: openstack/openstack-ansible-os_cloudkitty - hash: 806986c4b3c06414ad7fbb053f5a6a7abbfa861c repo: openstack/openstack-ansible-os_congress - hash: d632c1105b54c95c6c2a61ab18cf566101ff1281 repo: openstack/openstack-ansible-os_designate - hash: 9ed3f3031d9f5f29b84d44c5f6b419fae05e18d8 repo: openstack/openstack-ansible-os_glance - hash: 8cfb1ffd6eda7bb33691fb907cb693b5eefe5a42 repo: openstack/openstack-ansible-os_gnocchi - hash: 14580e8e2c61b9fa748bf9b58a941de338fa3a2e repo: openstack/openstack-ansible-os_heat - hash: f6c829902dc224cd8bed6946a58ed86965fa261e repo: openstack/openstack-ansible-os_horizon - hash: 93c60b6382d4b911836a30cdbd82864d1cee1fe3 repo: openstack/openstack-ansible-os_ironic - hash: 1d12e1553ce332863c879c6df1617724b95e329d repo: openstack/openstack-ansible-os_keystone - hash: 387d0b145aaa75e89d781cbadb238688a1eb893b repo: openstack/openstack-ansible-os_magnum - hash: db43893f494c7249be05650b23575b1e6fc3cebd repo: openstack/openstack-ansible-os_masakari - hash: 91944aefea429b84cd38eceb1ff89424d6347ce3 repo: openstack/openstack-ansible-os_mistral - hash: 623e1972ba6388e97dc7b0c0581a7593971fdc6f repo: openstack/openstack-ansible-os_molteniron - hash: a667af9f66d0f325b22fe47fa8892c3a85b37f0e repo: openstack/openstack-ansible-os_monasca - hash: 78ad25db8f8ef115b8262d86dc87ee2f89012a6e repo: openstack/openstack-ansible-os_monasca-agent - hash: e16efea1e2442f5372833c5876e713e1cd9462ba repo: openstack/openstack-ansible-os_neutron - hash: 39e1064599cc553628c6a1197fda63f8b973dcb5 repo: openstack/openstack-ansible-os_nova - hash: d7ecaa1924550cb550774f49167c671d9fd480d0 repo: openstack/openstack-ansible-os_octavia - hash: abe9e1f92abba44910546a347616b65058f06e20 repo: openstack/openstack-ansible-os_panko - hash: 3e8a89f72c8248895bdb1080bdd3de928fa1b38c repo: openstack/openstack-ansible-os_rally - hash: 059788c1d3e4d22b28fa31e66f08a0d05ccbb665 repo: openstack/openstack-ansible-os_sahara - hash: abe2a391209c66e61909a03326b2b03e067ad3b8 repo: openstack/openstack-ansible-os_searchlight - hash: 817090d65d36c69cd9bea3b4f3d38ddb5ef28a3b repo: openstack/openstack-ansible-os_swift - hash: c099c2891083343b0b0df2ac80e8d9915c0bfc7e repo: openstack/openstack-ansible-os_tacker - hash: ed7e0452c406d171bd3cebccda481895e6e0fb32 repo: openstack/openstack-ansible-os_tempest - hash: da5c7a504cd41925c64385f95a3faa85d3deff61 repo: openstack/openstack-ansible-os_trove - hash: 391b1dc703697c40e5ccce3ae6e9fe5ba6c08e24 repo: openstack/openstack-ansible-os_watcher - hash: 5504e05ee5f1ef8d1d250962909e404b17b45985 repo: openstack/openstack-ansible-os_zaqar - hash: 0bdb36fd3ed9143e9f7de284ffdd14b93da5e53d repo: openstack/openstack-ansible-os_zun - hash: 04ba1935f915ba8207b6ef970949791807a1c12e repo: openstack/openstack-ansible-pip_install - hash: 2bfe611882580c709116b2649768871a3e2a22da repo: openstack/openstack-ansible-plugins - hash: c86ed70091f853def383fe7ae6ae556c74a7a55d repo: openstack/openstack-ansible-rabbitmq_server - hash: 39694ad218a5811d069df23203393ae9b3dcf337 repo: openstack/openstack-ansible-repo_build - hash: 936c2570a8ddfeda29a307711436cd151f648df9 repo: openstack/openstack-ansible-repo_server - hash: 434d9de5899c0e775be65ed0b57fdfc016276985 repo: openstack/openstack-ansible-rsyslog_client - hash: e04c4e098aa2595cb2abbdea9e42aafc3ad34e4a repo: openstack/openstack-ansible-rsyslog_server - hash: 97e12b85613934f1a523aa69867009182351ed12 repo: openstack/openstack-ansible-tests,,127,0
openstack%2Fovn-bgp-agent~master~I64680c4ce8d776e57c16e06e0f376d7d9fba3733,openstack/ovn-bgp-agent,master,I64680c4ce8d776e57c16e06e0f376d7d9fba3733,Ensure PortBindingChassis Events consider the port up status,MERGED,2023-06-15 07:14:05.000000000,2023-06-15 09:02:11.000000000,2023-06-15 09:01:17.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 07:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6557e4478a2de07574afa08e41174eb06a9bca76', 'message': ""Ensure PortBindingChassis Events consider the port up status\n\nThere may be cases where the port is not up, so it does not matter\nif the chassis is set, we don't need to expose the IP, and the\nopposite for the deletion. This also avoid races where the chassis\ngets re-added but the port is still down, avoiding to process extra\nevents that are not needed\n\nChange-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733\n""}, {'number': 2, 'created': '2023-06-15 07:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/c6a630a9fffc42fe31f4a92b6c6831774ff66ade', 'message': ""Ensure PortBindingChassis Events consider the port up status\n\nThere may be cases where the port is not up, so it does not matter\nif the chassis is set, we don't need to expose the IP, and the\nopposite for the deletion. This also avoid races where the chassis\ngets re-added but the port is still down, avoiding to process extra\nevents that are not needed\n\nChange-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733\n""}, {'number': 3, 'created': '2023-06-15 07:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e95b208ab98995c29b36e1bd6bb2c3c2672f9eca', 'message': ""Ensure PortBindingChassis Events consider the port up status\n\nThere may be cases where the port is not up, so it does not matter\nif the chassis is set, we don't need to expose the IP, and the\nopposite for the deletion. This also avoid races where the chassis\ngets re-added but the port is still down, avoiding to process extra\nevents that are not needed\n\nChange-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733\n""}, {'number': 4, 'created': '2023-06-15 07:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e85cb0de957a984688220db475b1fa2b78e3103b', 'message': ""Ensure PortBindingChassis Events consider the port up status\n\nThere may be cases where the port is not up, so it does not matter\nif the chassis is set, we don't need to expose the IP, and the\nopposite for the deletion. This also avoid races where the chassis\ngets re-added but the port is still down, avoiding to process extra\nevents that are not needed\n\nChange-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733\n""}, {'number': 5, 'created': '2023-06-15 07:38:53.000000000', 'files': ['ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b5ac73f13816c8ccfcd05c26179711e2f85cdc30', 'message': ""Ensure PortBindingChassis Events consider the port up status\n\nThere may be cases where the port is not up, so it does not matter\nif the chassis is set, we don't need to expose the IP, and the\nopposite for the deletion. This also avoid races where the chassis\ngets re-added but the port is still down, avoiding to process extra\nevents that are not needed\n\nChange-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733\n""}]",0,885977,b5ac73f13816c8ccfcd05c26179711e2f85cdc30,12,2,5,23567,,,0,"Ensure PortBindingChassis Events consider the port up status

There may be cases where the port is not up, so it does not matter
if the chassis is set, we don't need to expose the IP, and the
opposite for the deletion. This also avoid races where the chassis
gets re-added but the port is still down, avoiding to process extra
events that are not needed

Change-Id: I64680c4ce8d776e57c16e06e0f376d7d9fba3733
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/77/885977/3 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/drivers/openstack/watchers/bgp_watcher.py'],1,6557e4478a2de07574afa08e41174eb06a9bca76,bug/2022357," if not bool(row.up[0]): return False if row.chassis[0].name == self.agent.chassis: if hasattr(old, 'chassis'): if not old.chassis or row.chassis != old.chassis: return True if hasattr(old, 'up'): if not bool(old.up[0]): return True if event == self.ROW_DELETE: if hasattr(old, 'chassis'): if (old.chassis[0].name == self.agent.chassis and (not row.chassis or row.chassis != old.chassis)): return True if hasattr(old, 'up'): if not bool(old.up[0]): return False if not bool(row.up[0]): return True", return (row.chassis[0].name == self.agent.chassis and (not old.chassis or row.chassis != old.chassis)) if event == self.ROW_UPDATE: return (old.chassis[0].name == self.agent.chassis and (not row.chassis or row.chassis != old.chassis)) else:,21,6
openstack%2Freleases~master~Ia7899de94c6c79895f89ab26854e68cbe24d8a6f,openstack/releases,master,Ia7899de94c6c79895f89ab26854e68cbe24d8a6f,[winstackers] Transition Rocky to End of Life,MERGED,2023-04-26 18:14:12.000000000,2023-06-15 08:54:08.000000000,2023-06-15 08:54:08.000000000,"[{'_account_id': 8213}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-26 18:14:12.000000000', 'files': ['deliverables/rocky/os-win.yaml', 'deliverables/rocky/networking-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf711018a02cef55cd9ec47483df1b45eedfbc40', 'message': ""[winstackers] Transition Rocky to End of Life\n\nAs discussed in the mail thread [1][2], this patch transition the Rocky\nbranch to End of Life. The last patch of the branch will be tagged with\nrocky-eol tag. stable/rocky branch cannot be used anymore and will be\ndeleted if this patch merges.\n\nThis is needed as stable/rocky is not actively maintained in recent\nperiod, thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/rocky is deleted. Propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html\n\nChange-Id: Ia7899de94c6c79895f89ab26854e68cbe24d8a6f\n""}]",1,881612,bf711018a02cef55cd9ec47483df1b45eedfbc40,7,4,1,17685,,,0,"[winstackers] Transition Rocky to End of Life

As discussed in the mail thread [1][2], this patch transition the Rocky
branch to End of Life. The last patch of the branch will be tagged with
rocky-eol tag. stable/rocky branch cannot be used anymore and will be
deleted if this patch merges.

This is needed as stable/rocky is not actively maintained in recent
period, thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/rocky is deleted. Propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html
[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html

Change-Id: Ia7899de94c6c79895f89ab26854e68cbe24d8a6f
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/881612/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/os-win.yaml', 'deliverables/rocky/networking-hyperv.yaml']",2,bf711018a02cef55cd9ec47483df1b45eedfbc40,rocky-eol, - version: rocky-eol projects: - repo: openstack/networking-hyperv hash: 4bc34c3178e31b78df186ff82dcc5c2bd602ec59,,8,0
openstack%2Freleases~master~I75464d9fab0b1b6ed093d20dc0e67051ac5ee660,openstack/releases,master,I75464d9fab0b1b6ed093d20dc0e67051ac5ee660,[mistral] Transition Rocky to End of Life,MERGED,2023-04-26 18:12:39.000000000,2023-06-15 08:54:06.000000000,2023-06-15 08:54:06.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-04-26 18:12:39.000000000', 'files': ['deliverables/rocky/mistral-lib.yaml', 'deliverables/rocky/mistral-dashboard.yaml', 'deliverables/rocky/mistral.yaml', 'deliverables/rocky/mistral-extra.yaml', 'deliverables/rocky/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e737c1067d05cfc3d5f5f0e127e9f4ff93c9ccb', 'message': ""[mistral] Transition Rocky to End of Life\n\nAs discussed in the mail thread [1][2], this patch transition the Rocky\nbranch to End of Life. The last patch of the branch will be tagged with\nrocky-eol tag. stable/rocky branch cannot be used anymore and will be\ndeleted if this patch merges.\n\nThis is needed as stable/rocky is not actively maintained in recent\nperiod, thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/rocky is deleted. Propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html\n\nChange-Id: I75464d9fab0b1b6ed093d20dc0e67051ac5ee660\n""}]",1,881605,6e737c1067d05cfc3d5f5f0e127e9f4ff93c9ccb,9,4,1,17685,,,0,"[mistral] Transition Rocky to End of Life

As discussed in the mail thread [1][2], this patch transition the Rocky
branch to End of Life. The last patch of the branch will be tagged with
rocky-eol tag. stable/rocky branch cannot be used anymore and will be
deleted if this patch merges.

This is needed as stable/rocky is not actively maintained in recent
period, thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/rocky is deleted. Propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html
[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html

Change-Id: I75464d9fab0b1b6ed093d20dc0e67051ac5ee660
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/881605/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/mistral-lib.yaml', 'deliverables/rocky/mistral-dashboard.yaml', 'deliverables/rocky/mistral.yaml', 'deliverables/rocky/mistral-extra.yaml', 'deliverables/rocky/python-mistralclient.yaml']",5,6e737c1067d05cfc3d5f5f0e127e9f4ff93c9ccb,rocky-eol, - version: rocky-eol projects: - repo: openstack/python-mistralclient hash: 370d02b2c6292fe61b337a97715a125b57197c04,,20,0
openstack%2Freleases~master~I731b829ba5b86dcfc93809c412c5ff90d21e35ce,openstack/releases,master,I731b829ba5b86dcfc93809c412c5ff90d21e35ce,Create new puppet-nova releases for zed/yoga/antelope,MERGED,2023-06-09 08:33:13.000000000,2023-06-15 08:54:04.000000000,2023-06-15 08:54:04.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-06-09 08:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/49f92d597be2f993bd75ad4bb62302b626579a02', 'message': 'Create new puppet-nova releases for zed/yoga/antelope\n\nThey contain required fixes for latest libvirt in CentOS Stream 9.\n\nChange-Id: I731b829ba5b86dcfc93809c412c5ff90d21e35ce\n'}, {'number': 2, 'created': '2023-06-09 09:54:16.000000000', 'files': ['deliverables/antelope/puppet-nova.yaml', 'deliverables/zed/puppet-nova.yaml', 'deliverables/yoga/puppet-nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b4c56e11adda5a64f76b5589ba0e184efd1d96ea', 'message': 'Create new puppet-nova releases for zed/yoga/antelope\n\nThey contain required fixes for latest libvirt in CentOS Stream 9.\n\nChange-Id: I731b829ba5b86dcfc93809c412c5ff90d21e35ce\n'}]",1,885728,b4c56e11adda5a64f76b5589ba0e184efd1d96ea,12,6,2,16312,,,0,"Create new puppet-nova releases for zed/yoga/antelope

They contain required fixes for latest libvirt in CentOS Stream 9.

Change-Id: I731b829ba5b86dcfc93809c412c5ff90d21e35ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/885728/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/puppet-nova.yaml', 'deliverables/zed/puppet-nova.yaml', 'deliverables/yoga/puppet-nova.yaml']",3,49f92d597be2f993bd75ad4bb62302b626579a02,, - projects: - hash: 315fd6ea236face143d2266428a9db788885efc0 repo: openstack/puppet-nova version: 20.4.0,,12,0
openstack%2Ftrove-tempest-plugin~master~Ide34b9384503aa5a37f3b9ffecf71bc359036ce3,openstack/trove-tempest-plugin,master,Ide34b9384503aa5a37f3b9ffecf71bc359036ce3,remove trove-tempest-ipv6-only to experimental pipline,MERGED,2023-06-15 02:44:30.000000000,2023-06-15 08:01:20.000000000,2023-06-15 07:59:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-15 02:44:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/089f238cb17afec7f8107a433fb5c3fe32642bd6', 'message': 'remove trove-tempest-ipv6-only to experimental pipline\n\nChange-Id: Ide34b9384503aa5a37f3b9ffecf71bc359036ce3\n'}]",0,886155,089f238cb17afec7f8107a433fb5c3fe32642bd6,7,2,1,26285,,,0,"remove trove-tempest-ipv6-only to experimental pipline

Change-Id: Ide34b9384503aa5a37f3b9ffecf71bc359036ce3
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/55/886155/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,089f238cb17afec7f8107a433fb5c3fe32642bd6,, experimental: jobs:, - trove-tempest-ipv6-only: voting: false,2,2
openstack%2Ffreezer~stable%2Fvictoria~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/victoria,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:27:51.000000000,2023-06-15 07:01:47.000000000,2023-06-15 06:57:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:27:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/9e0e12ba36fcd8fc05d996855f38f6083b33b1f7', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,886050,9e0e12ba36fcd8fc05d996855f38f6083b33b1f7,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/50/886050/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e0e12ba36fcd8fc05d996855f38f6083b33b1f7,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fstein~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/stein,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:28:56.000000000,2023-06-15 07:01:32.000000000,2023-06-15 06:59:02.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:28:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c83cc63e8853e3ece92232d0b751b8b585e42e99', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,886053,c83cc63e8853e3ece92232d0b751b8b585e42e99,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/53/886053/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c83cc63e8853e3ece92232d0b751b8b585e42e99,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Ftrain~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/train,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:28:28.000000000,2023-06-15 07:01:32.000000000,2023-06-15 06:58:27.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:28:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/3bba0acd6a734de68d96f88a0a8b5ba984b3da20', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,886052,3bba0acd6a734de68d96f88a0a8b5ba984b3da20,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/52/886052/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3bba0acd6a734de68d96f88a0a8b5ba984b3da20,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fussuri~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/ussuri,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:28:08.000000000,2023-06-15 07:01:18.000000000,2023-06-15 06:57:46.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:28:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/41fa87f2486c59cddc1428fdbbb4e3d24cd94756', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,886051,41fa87f2486c59cddc1428fdbbb4e3d24cd94756,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/51/886051/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41fa87f2486c59cddc1428fdbbb4e3d24cd94756,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fwallaby~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/wallaby,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:27:39.000000000,2023-06-15 07:00:52.000000000,2023-06-15 06:56:32.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:27:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/19f1c204fb98baa3258f6b52578cdb23275db7c4', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,885929,19f1c204fb98baa3258f6b52578cdb23275db7c4,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/29/885929/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,19f1c204fb98baa3258f6b52578cdb23275db7c4,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fxena~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/xena,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:27:22.000000000,2023-06-15 07:00:22.000000000,2023-06-15 06:55:51.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:27:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/216d2f3a6cf8884a6174d40614c35d62abfb8f35', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,885928,216d2f3a6cf8884a6174d40614c35d62abfb8f35,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/28/885928/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,216d2f3a6cf8884a6174d40614c35d62abfb8f35,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fyoga~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/yoga,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-14 06:27:02.000000000,2023-06-15 07:00:22.000000000,2023-06-15 06:55:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 06:27:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/14b1db6780d44ebb2c38f27983aab028fbd7372a', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",1,885927,14b1db6780d44ebb2c38f27983aab028fbd7372a,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/27/885927/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14b1db6780d44ebb2c38f27983aab028fbd7372a,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Ffreezer~stable%2Fzed~I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,openstack/freezer,stable/zed,I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5,Fix deprecated zuul queue syntax,MERGED,2023-06-13 22:57:44.000000000,2023-06-15 06:59:21.000000000,2023-06-15 06:54:53.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 22:57:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer/commit/6c7d8a3ab9cb51fd1d185ce084292e09837139c7', 'message': 'Fix deprecated zuul queue syntax\n\nManually edited for stable backports to only fix the zuul config error\nto avoid merge conflicts.\n\n1. Zuul deprecated (and removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nfreezer.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5\n(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)\n'}]",2,886035,6c7d8a3ab9cb51fd1d185ce084292e09837139c7,7,3,1,13252,,,0,"Fix deprecated zuul queue syntax

Manually edited for stable backports to only fix the zuul config error
to avoid merge conflicts.

1. Zuul deprecated (and removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
freezer.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3c95bb48c7fdd0c752db121f1745f64a53b5a0e5
(cherry picked from commit f6a599609239afc14569ceab9c8870386a3b1139)
",git fetch https://review.opendev.org/openstack/freezer refs/changes/35/886035/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c7d8a3ab9cb51fd1d185ce084292e09837139c7,fix-zuul-errors, queue: freezer, queue: freezer,1,1
openstack%2Fmonasca-events-api~master~I01f2b5033aed9d97758f32a00c61e5fc8f73f7fa,openstack/monasca-events-api,master,I01f2b5033aed9d97758f32a00c61e5fc8f73f7fa,Fix deprecated zuul queue syntax,MERGED,2022-09-28 15:48:15.000000000,2023-06-15 06:58:22.000000000,2023-06-15 06:53:44.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 15:48:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-events-api/commit/04633984a03e901d077b794b7c185a87756595a7', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work for\nmonasca-events-api.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I01f2b5033aed9d97758f32a00c61e5fc8f73f7fa\n'}]",1,859641,04633984a03e901d077b794b7c185a87756595a7,6,2,1,17685,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work for
monasca-events-api.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I01f2b5033aed9d97758f32a00c61e5fc8f73f7fa
",git fetch https://review.opendev.org/openstack/monasca-events-api refs/changes/41/859641/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,04633984a03e901d077b794b7c185a87756595a7,fix-zuul-errors, queue: monasca, queue: monasca,1,1
openstack%2Fpython-saharaclient~master~I43b341018423a0702bb1ed1ba7e394c1ad0b146a,openstack/python-saharaclient,master,I43b341018423a0702bb1ed1ba7e394c1ad0b146a,Fix deprecated zuul queue syntax,MERGED,2023-02-17 19:24:50.000000000,2023-06-15 06:55:16.000000000,2023-06-15 06:52:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-17 19:24:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/64f32c3fe43391b0ba726fa9313ed9718fd6e1d4', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\npython-saharaclient.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I43b341018423a0702bb1ed1ba7e394c1ad0b146a\n'}]",1,874298,64f32c3fe43391b0ba726fa9313ed9718fd6e1d4,6,2,1,17685,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
python-saharaclient.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I43b341018423a0702bb1ed1ba7e394c1ad0b146a
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/98/874298/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,64f32c3fe43391b0ba726fa9313ed9718fd6e1d4,fix-zuul-errors, queue: sahara, queue: sahara,1,1
openstack%2Fmonasca-common~master~Id9c0956d4800f01dadfece02638bc4fcc9ef1e8a,openstack/monasca-common,master,Id9c0956d4800f01dadfece02638bc4fcc9ef1e8a,Fix deprecated zuul queue syntax,MERGED,2023-02-17 19:20:25.000000000,2023-06-15 06:53:22.000000000,2023-06-15 06:53:04.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-17 19:20:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/1ca41523731c0f78e7322d6770a9dcdc1710b7ba', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work again for\nmonasca-common.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: Id9c0956d4800f01dadfece02638bc4fcc9ef1e8a\n'}]",2,874297,1ca41523731c0f78e7322d6770a9dcdc1710b7ba,6,2,1,17685,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work again for
monasca-common.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: Id9c0956d4800f01dadfece02638bc4fcc9ef1e8a
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/97/874297/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ca41523731c0f78e7322d6770a9dcdc1710b7ba,fix-zuul-errors, queue: monasca, queue: monasca,1,1
openstack%2Fskyline-console~master~I4a33649d3dbf630e36bcdee71462b4796e17f714,openstack/skyline-console,master,I4a33649d3dbf630e36bcdee71462b4796e17f714,feat: add jwt expire check,MERGED,2023-06-14 08:34:52.000000000,2023-06-15 06:27:31.000000000,2023-06-15 06:26:38.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-06-14 08:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4a6c5132e02848b2ae4ccea84bc493c7a0634eb2', 'message': ""feat: add jwt expire check\n\nCheck jwt expire by the time_expired value in the cookie, if current time is bigger than the time_expired value, the request's header will not has the X-Auth-Token, then the skyline-api will return 401.\n\nChange-Id: I4a33649d3dbf630e36bcdee71462b4796e17f714\n""}, {'number': 2, 'created': '2023-06-15 01:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2780e41a94e71ad8709e1f1b0052640f93d389ed', 'message': ""feat: add jwt expire check\n\n1. Check jwt expire by the time_expired value in the cookie, if current time is bigger than the time_expired value, the request's header will not has the X-Auth-Token, then the skyline-api will return 401.\n2. update cypress command to use time_expired cookie\n\nChange-Id: I4a33649d3dbf630e36bcdee71462b4796e17f714\n""}, {'number': 3, 'created': '2023-06-15 02:44:40.000000000', 'files': ['src/client/client/request.js', 'test/e2e/support/commands.js', 'test/e2e/support/index.js', 'releasenotes/notes/Add-JWT-Expire-Check-c4dce4d269782a8c.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d07227822f26164ba8dee5798a0f675d09995079', 'message': ""feat: add jwt expire check\n\n1. Check jwt expire by the time_expired value in the cookie, if current time is bigger than the time_expired value, the request's header will not has the X-Auth-Token, then the skyline-api will return 401.\n2. update cypress command to use time_expired cookie\n\nChange-Id: I4a33649d3dbf630e36bcdee71462b4796e17f714\n""}]",0,886045,d07227822f26164ba8dee5798a0f675d09995079,12,3,3,30434,,,0,"feat: add jwt expire check

1. Check jwt expire by the time_expired value in the cookie, if current time is bigger than the time_expired value, the request's header will not has the X-Auth-Token, then the skyline-api will return 401.
2. update cypress command to use time_expired cookie

Change-Id: I4a33649d3dbf630e36bcdee71462b4796e17f714
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/45/886045/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/client/client/request.js', 'releasenotes/notes/Add-JWT-Expire-Check-c4dce4d269782a8c.yaml']",2,4a6c5132e02848b2ae4ccea84bc493c7a0634eb2,jwt,--- features: - | Check the JWT expire by the `time_expired` in the cookie for each request. ,,13,1
openstack%2Fopenstack-helm~master~I870619626e1bfe6f40f293c01835dac6157947d7,openstack/openstack-helm,master,I870619626e1bfe6f40f293c01835dac6157947d7,title: Update oslo_messaging_RPCClient and get_rpc_transport in neutron,MERGED,2023-06-14 04:50:44.000000000,2023-06-15 05:01:59.000000000,2023-06-15 05:00:45.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 04:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/271ffacdf0b5c6d13e2633c2bb106ff20567d6dc', 'message': 'title: Update oslo_messaging_RPCClient and get_rpc_transport in neutron\n\noslo_messaging.RPCClient and get_transport is deprecated in antelop version (2023.1).This change moves the health prove to use get_rpc_client and get_rpc_transport instead.\n\nstory: 2010792\ntask: 48229\nChange-Id: I870619626e1bfe6f40f293c01835dac6157947d7\n'}, {'number': 2, 'created': '2023-06-14 10:31:01.000000000', 'files': ['neutron/templates/bin/_health-probe.py.tpl', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/faf0998be7099f7e80384a50782d86a6f720d144', 'message': 'title: Update oslo_messaging_RPCClient and get_rpc_transport in neutron\n\noslo_messaging.RPCClient and get_transport is deprecated in antelop version (2023.1).This change moves the health prove to use get_rpc_client and get_rpc_transport instead.\n\nstory: 2010792\ntask: 48229\nChange-Id: I870619626e1bfe6f40f293c01835dac6157947d7\n'}]",1,885972,faf0998be7099f7e80384a50782d86a6f720d144,10,3,2,35655,,,0,"title: Update oslo_messaging_RPCClient and get_rpc_transport in neutron

oslo_messaging.RPCClient and get_transport is deprecated in antelop version (2023.1).This change moves the health prove to use get_rpc_client and get_rpc_transport instead.

story: 2010792
task: 48229
Change-Id: I870619626e1bfe6f40f293c01835dac6157947d7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/885972/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_health-probe.py.tpl', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml']",3,271ffacdf0b5c6d13e2633c2bb106ff20567d6dc,, - 0.3.12 Update oslo_messaging_RPCClient and get_rpc_transport,,14,5
openstack%2Fvenus~master~I51a3c26c48c8e0979e79b7313f5d812c6c9b0589,openstack/venus,master,I51a3c26c48c8e0979e79b7313f5d812c6c9b0589,Supplement a unit test case for 'get_items',MERGED,2023-06-14 10:01:10.000000000,2023-06-15 01:58:39.000000000,2023-06-15 01:57:44.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-14 10:01:10.000000000', 'files': ['venus/tests/unit/api/test_xmlutil.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/ef559935f93de48debd716ff7d3b7289ba510c1f', 'message': ""Supplement a unit test case for 'get_items'\n\nthe test case for api.xmlutil\n\nChange-Id: I51a3c26c48c8e0979e79b7313f5d812c6c9b0589\n""}]",0,886072,ef559935f93de48debd716ff7d3b7289ba510c1f,7,2,1,35819,,,0,"Supplement a unit test case for 'get_items'

the test case for api.xmlutil

Change-Id: I51a3c26c48c8e0979e79b7313f5d812c6c9b0589
",git fetch https://review.opendev.org/openstack/venus refs/changes/72/886072/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_xmlutil.py'],1,ef559935f93de48debd716ff7d3b7289ba510c1f,," def test_get_items(self): result = self.xmlutil.get_items({'test1': 1, 'test2': '2'}) self.assertEqual(result, [('test1', 1), ('test2', '2')])",,4,0
openstack%2Fopenstacksdk~master~I1e665a45c8c2c3658099aa6aa070facb3a6c9e60,openstack/openstacksdk,master,I1e665a45c8c2c3658099aa6aa070facb3a6c9e60,Add block storage summary support,MERGED,2023-05-25 13:27:36.000000000,2023-06-15 01:49:45.000000000,2023-06-15 01:48:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/74b513fdbf5bad424a642e0a82d8afa588c24d88', 'message': 'WIP: Add volume summary support\n\nChange-Id: I1e665a45c8c2c3658099aa6aa070facb3a6c9e60\n'}, {'number': 2, 'created': '2023-06-02 19:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e31228a28eb4d3bf8eba6ccf792efd6516891372', 'message': 'Add block storage summary support\n\nAdded support to provide block storage summary.\n\nChange-Id: I1e665a45c8c2c3658099aa6aa070facb3a6c9e60\n'}, {'number': 3, 'created': '2023-06-14 06:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7a04473a085a9cbf9238c9f679068485fcc5aa09', 'message': 'Add block storage summary support\n\nAdded support to provide block storage summary.\n\nChange-Id: I1e665a45c8c2c3658099aa6aa070facb3a6c9e60\n'}, {'number': 4, 'created': '2023-06-14 09:36:32.000000000', 'files': ['releasenotes/notes/add-block-storage-summary-support-dd00d424c4e6a3b1.yaml', 'openstack/tests/unit/block_storage/v3/test_block_storage_summary.py', 'openstack/block_storage/v3/block_storage_summary.py', 'openstack/tests/functional/block_storage/v3/test_block_storage_summary.py', 'openstack/block_storage/v3/_proxy.py', 'doc/source/user/proxies/block_storage_v3.rst', 'doc/source/user/resources/block_storage/v3/block_storage_summary.rst', 'doc/source/user/resources/block_storage/index.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/200cd5c4f8f06d69ae886880fdcf9f2000463c20', 'message': 'Add block storage summary support\n\nAdded support to provide block storage summary.\n\nChange-Id: I1e665a45c8c2c3658099aa6aa070facb3a6c9e60\n'}]",12,884397,200cd5c4f8f06d69ae886880fdcf9f2000463c20,20,3,4,27615,,,0,"Add block storage summary support

Added support to provide block storage summary.

Change-Id: I1e665a45c8c2c3658099aa6aa070facb3a6c9e60
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/884397/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/block_storage_summary.py', 'openstack/block_storage/v3/_proxy.py']",2,74b513fdbf5bad424a642e0a82d8afa588c24d88,884397,"from openstack.block_storage.v3 import block_storage_summary as _summary ""summary"": _summary.Summary, def summary(self, all_projects): """"""Get Volumes Summary This method returns the volumes summary in the deployment. :param all_projects: Whether to return the summary of all projects or not. :returns: One :class: `~openstack.block_storage.v3.block_storage_summary.Summary` instance. """""" res = self._get(_summary.Summary, requires_id=False) return res.summary(self, all_projects)",,61,0
openstack%2Fironic~master~I0b235e57a7c908d1021ed6d40ad4b6741c950709,openstack/ironic,master,I0b235e57a7c908d1021ed6d40ad4b6741c950709,Adding NetworkOnlyDeploy driver,NEW,2023-06-14 22:36:52.000000000,2023-06-15 01:49:38.000000000,,"[{'_account_id': 782}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 22:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c823793fc1aa8d1dad0ea2d4a49dcc3d7058aa98', 'message': 'Adding NetworkOnlyDeploy driver\n\nThe NetworkOnlyDeploy lets you move a network appliance\nbetween tenant networks, without actually doing any more\nof the deploy. You can use the Noop driver to get the\noriginal behaviour.\n\nChange-Id: I0b235e57a7c908d1021ed6d40ad4b6741c950709\n'}, {'number': 2, 'created': '2023-06-14 22:44:23.000000000', 'files': ['ironic/drivers/modules/fake.py', 'ironic/drivers/fake_hardware.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b630da728ed63c3cee8904cb2ebd0f292b57202', 'message': 'Adding NetworkOnlyDeploy driver\n\nThe NetworkOnlyDeploy lets you move a network appliance\nbetween tenant networks, without actually doing any more\nof the deploy. You can use the Noop driver to get the\noriginal behaviour.\n\nChange-Id: I0b235e57a7c908d1021ed6d40ad4b6741c950709\n'}]",4,886129,5b630da728ed63c3cee8904cb2ebd0f292b57202,7,3,2,782,,,0,"Adding NetworkOnlyDeploy driver

The NetworkOnlyDeploy lets you move a network appliance
between tenant networks, without actually doing any more
of the deploy. You can use the Noop driver to get the
original behaviour.

Change-Id: I0b235e57a7c908d1021ed6d40ad4b6741c950709
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/886129/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/fake.py', 'ironic/drivers/fake_hardware.py']",2,c823793fc1aa8d1dad0ea2d4a49dcc3d7058aa98,," return [fake.FakeDeploy, fake.NetworkOnlyDeploy] + super().supported_deploy_interfaces @property def supported_network_interfaces(self): """"""List of supported network interfaces."""""" return [neutron.NeutronNetwork, flat_net.FlatNetwork, noop_net.NoopNetwork]", return [fake.FakeDeploy] + super().supported_deploy_interfaces,42,1
openstack%2Fcinder~stable%2F2023.1~I5e7fb425c92cdf8c16d5a86a58ca1a52421543d7,openstack/cinder,stable/2023.1,I5e7fb425c92cdf8c16d5a86a58ca1a52421543d7,3PAR: Error out if vol cannot be converted to base,NEW,2023-05-11 05:17:10.000000000,2023-06-15 01:30:14.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 05:17:10.000000000', 'files': ['releasenotes/notes/hpe-3par-convert-to-base-vol-delete-snap-a460a4b1c419804a.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a87cf91a67c694c8f03971b52cf3247b41f5d87', 'message': ""3PAR: Error out if vol cannot be converted to base\n\nConsider volume and snapshots as below:\n\nv1\n|\n`-- s1\n    |\n    `-- v2\n        |\n        `-- s2\n\nUser initiated deletion of snapshot s1.\nIt failed with some vague message.\n\nInitially, it was suspected that ...\nWhile copying volume v2 (sometimes an intermediate step to break\nvolume dependency), we send a request to clone the volume v2 to new\nbase volume; and the exception [1] isn't handled properly.\n\n[1] Conflict (HTTP 409) 32 - volume has a child\n\nHowever, on further investigation it was found that ...\nafter a new volume v2 (omv-<id>) is created and\nwhen we try to delete old volume v2 (osv-<id>),\nat this point the exception [1] is thrown as error.\n\nThis is now handled gracefully. Appropriate error is thrown\nif the volume (v2) has snapshot (s2).\n\nCo-Authored-By: raghavendrat <raghavendra-uddhav.tilay@hpe.com>\nCloses-Bug: #1994521\nChange-Id: I5e7fb425c92cdf8c16d5a86a58ca1a52421543d7\n(cherry picked from commit dfd8f99743a29220ca3face5fdf00a1a6071cf48)\n""}]",7,882782,5a87cf91a67c694c8f03971b52cf3247b41f5d87,19,2,1,29122,,,0,"3PAR: Error out if vol cannot be converted to base

Consider volume and snapshots as below:

v1
|
`-- s1
    |
    `-- v2
        |
        `-- s2

User initiated deletion of snapshot s1.
It failed with some vague message.

Initially, it was suspected that ...
While copying volume v2 (sometimes an intermediate step to break
volume dependency), we send a request to clone the volume v2 to new
base volume; and the exception [1] isn't handled properly.

[1] Conflict (HTTP 409) 32 - volume has a child

However, on further investigation it was found that ...
after a new volume v2 (omv-<id>) is created and
when we try to delete old volume v2 (osv-<id>),
at this point the exception [1] is thrown as error.

This is now handled gracefully. Appropriate error is thrown
if the volume (v2) has snapshot (s2).

Co-Authored-By: raghavendrat <raghavendra-uddhav.tilay@hpe.com>
Closes-Bug: #1994521
Change-Id: I5e7fb425c92cdf8c16d5a86a58ca1a52421543d7
(cherry picked from commit dfd8f99743a29220ca3face5fdf00a1a6071cf48)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/882782/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-convert-to-base-vol-delete-snap-a460a4b1c419804a.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,5a87cf91a67c694c8f03971b52cf3247b41f5d87,bug/1994521-stable/2023.1," 4.0.18 - During conversion of volume to base volume, error out if it has child snapshot(s). Bug #1994521 VERSION = ""4.0.18"" # If volume (osv-) has snapshot, while converting the volume # to base volume (omv-), snapshot cannot be transferred to # new base volume (omv-) i.e it remain with volume (osv-). # So error out for such volume. snap_list = self.client.getVolumeSnapshots(volume_name) if snap_list: snap_str = "","".join(snap_list) msg = (_(""Volume %(name)s has dependent snapshots: %(snap)s."" "" Either flatten or remove the dependent snapshots:"" "" %(snap)s for the conversion of volume %(name)s to"" "" succeed."" % {'name': volume_name, 'snap': snap_str})) raise exception.VolumeIsBusy(message=msg) LOG.debug('Assigned the comment: convert_to_base_volume: ' 'id=%s.', volume['id']) # Delete source volume (osv-) after the copy is complete # Rename the new volume (omv-) to the original name (osv-) LOG.debug('Volume rename completed: convert_to_base_volume: ' 'id=%s.', volume['id'])"," VERSION = ""4.0.17"" LOG.debug('Volume rename completed: convert_to_base_volume: ' 'id=%s.', volume['id']) # Delete source volume after the copy is complete # Rename the new volume to the original name",59,5
openstack%2Fcinder~stable%2Fxena~I79d70543856c01a45e2d8c083ab8df6b9c047ebc,openstack/cinder,stable/xena,I79d70543856c01a45e2d8c083ab8df6b9c047ebc,Filter reserved image properties,NEW,2023-02-23 12:19:34.000000000,2023-06-15 00:21:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-02-23 12:19:34.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/fix-reserved-image-properties-9519ddc080e7ed1a.yaml', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/58df96773b7a0df22166c1db489c2a824f4a24ad', 'message': 'Filter reserved image properties\n\nCinder is currently not able to upload a volume that is based on an\nimage back to glance. This bug is triggered if glance multistore is\nenabled (devstack in this example).\n\nWhen enabling multistore, the following properties will be stored in Cinder:\n* os_glance_failed_import=\'\'\n* os_glance_importing_to_stores=\'\'\n\nThose properties will cause problems when Cinder tries to perform some\nactions with Glance. Error msg:\n```\ncinderclient.exceptions.BadRequest: HTTP 403 Forbidden: Access was denied to this resource.: Attribute &#x27;os_glance_failed_import&#x27; is reserved. (HTTP 400)\n```\n\nNova had the same issue and solved it with:\nhttps://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/releasenotes/notes/absolutely-non-inheritable-image-properties-85f7f304fdc20b61.yaml\n\nand\n\nhttps://github.com/openstack/nova/commit/dda179d3f901e4f23091f3095f1af58bc26e222e\n\nTherefore, this patch is intended to apply a similar solution in Cinder.\n\nChange-Id: I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nCloses-Bug: #1945500\n(cherry picked from commit c43fb490b204aadf41a32bcb5eb075b1656e2af4)\n(cherry picked from commit 826b40281123d700b3aeba5dcf076544982973a3)\nConflicts: cinder/image/image_utils.py\n   - Changed syntax from ""dict[str, str]"" to ""Dict[str, str]"" for\n     Python <3.8 compatibility\n(cherry picked from commit f2faf7d70f5cd3ace461d9de9fdfe448d78a0107)\n'}]",6,874831,58df96773b7a0df22166c1db489c2a824f4a24ad,21,2,1,14567,,,0,"Filter reserved image properties

Cinder is currently not able to upload a volume that is based on an
image back to glance. This bug is triggered if glance multistore is
enabled (devstack in this example).

When enabling multistore, the following properties will be stored in Cinder:
* os_glance_failed_import=''
* os_glance_importing_to_stores=''

Those properties will cause problems when Cinder tries to perform some
actions with Glance. Error msg:
```
cinderclient.exceptions.BadRequest: HTTP 403 Forbidden: Access was denied to this resource.: Attribute &#x27;os_glance_failed_import&#x27; is reserved. (HTTP 400)
```

Nova had the same issue and solved it with:
https://github.com/openstack/nova/blob/50fdbc752a9ca9c31488140ef2997ed59d861a41/releasenotes/notes/absolutely-non-inheritable-image-properties-85f7f304fdc20b61.yaml

and

https://github.com/openstack/nova/commit/dda179d3f901e4f23091f3095f1af58bc26e222e

Therefore, this patch is intended to apply a similar solution in Cinder.

Change-Id: I79d70543856c01a45e2d8c083ab8df6b9c047ebc
Closes-Bug: #1945500
(cherry picked from commit c43fb490b204aadf41a32bcb5eb075b1656e2af4)
(cherry picked from commit 826b40281123d700b3aeba5dcf076544982973a3)
Conflicts: cinder/image/image_utils.py
   - Changed syntax from ""dict[str, str]"" to ""Dict[str, str]"" for
     Python <3.8 compatibility
(cherry picked from commit f2faf7d70f5cd3ace461d9de9fdfe448d78a0107)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/874831/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/volume/api.py', 'releasenotes/notes/fix-reserved-image-properties-9519ddc080e7ed1a.yaml']",4,58df96773b7a0df22166c1db489c2a824f4a24ad,filter_out_os_glance_metadata-upstream-stable/zed-stable/yoga-stable/xena,"--- upgrade: - | We introduced a new config parameter, ``reserved_image_namespaces``, that allows operators to set the image properties to filter out from volume image metadata by namespace when uploading a volume to Glance. These properties, if not filtered out, cause failures when uploading images back to Glance. The error will happen on Glance side when the reserved namespaces are used. This option is also useful when an operator wants to use the Glance property protections feature to make some image properties read-only. fixes: - | `Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: Fixed an error when uploading to Glance a previously downloaded glance image when glance multistore is enabled. Glance reserves image properties in the namespace 'os_glance' for its own use and will not allow images to be created with these properties. Additionally, there are image properties, such as those associated with image signature verification, that are stored in a volume's image metadata, which should not be added to a new image when a volume is being uploaded as an image. Thus Cinder will no longer include any volume image metadata in the namespaces ``os_glance`` and ``img_signature`` when it creates an image in Glance. Furthermore, because the Glance property protections feature allows an operator to configure specific image properties as read-only, this fix adds a configuration option, ``reserved_image_namespaces``, that allows an operator to exclude additional image properties by namespace (the ``os_glance`` and ``img_signature`` namespaces are *always* excluded). ",,144,0
openstack%2Fneutron~master~I4d382793255520b9c44ca2aaacebcbda9a432dde,openstack/neutron,master,I4d382793255520b9c44ca2aaacebcbda9a432dde,Send ovn heatbeat more often.,MERGED,2023-05-19 17:09:36.000000000,2023-06-14 23:41:39.000000000,2023-06-14 23:40:28.000000000,"[{'_account_id': 4690}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c14d63808f54be168eb0e038a46c579286c934e', 'message': 'send ovn heatbeat more often.\n\nThis change change the default stread from\nagent_down_time / 2 to agent_down_time / 3\nto reduce random test failures due to port binding\nfailure as a result of a ""dead"" agent.\n\nthe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now atempt to send 3 heatbeats during\nthe agent_downtime interval instead of 2.\n\nThis is done to mitigate the change that a miss timed\nupdate of the ovs db or invocation of privesep will\nresult in missing the heatbeat.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}, {'number': 2, 'created': '2023-05-31 12:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ee9c0e0d55bc405f83a51d428a8e6b08d9d23bb', 'message': 'Send ovn heatbeat more often.\n\nThis change change the default stread from\nagent_down_time / 2 to agent_down_time / 3\nto reduce random test failures due to port binding\nfailure as a result of a ""dead"" agent.\n\nThe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now atempt to send 3 heatbeats during\nthe agent_downtime interval instead of 2.\n\nThis is done to mitigate the change that a miss timed\nupdate of the ovs db or invocation of privesep will\nresult in missing the heatbeat.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}, {'number': 3, 'created': '2023-06-07 19:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aec2af13eb1657052061386b35fd954e9d03f49a', 'message': 'Send ovn heatbeat more often.\n\nThis change modifies the metadata agent heatbeat\nto use a random offset with a max delay of 10 seconds.\n\nThe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now set an upper bound on the delay.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}, {'number': 4, 'created': '2023-06-08 11:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2a66462bc6615dc9fb5612392982a1f24c16650', 'message': 'Send ovn heatbeat more often.\n\nThis change modifies the metadata agent heatbeat\nto use a random offset with a max delay of 10 seconds.\n\nThe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now set an upper bound on the delay.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}, {'number': 5, 'created': '2023-06-08 12:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d1f06888f0fdd92285ca153924f75aa3340295c', 'message': 'Send ovn heatbeat more often.\n\nThis change modifies the metadata agent heatbeat\nto use a random offset with a max delay of 10 seconds.\n\nThe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now set an upper bound on the delay.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}, {'number': 6, 'created': '2023-06-08 12:09:22.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e0c102830a18850e35f746160867613e96d1dbc', 'message': 'Send ovn heatbeat more often.\n\nThis change modifies the metadata agent heatbeat\nto use a random offset with a max delay of 10 seconds.\n\nThe orgial reason for the current logic was to mitigate\nhttps://bugs.launchpad.net/neutron/+bug/1991817\nso the logic to spread the heatbeats is maintained but\nwe now set an upper bound on the delay.\n\nClose-Bug: #2020215\nChange-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde\n'}]",16,883687,5e0c102830a18850e35f746160867613e96d1dbc,39,6,6,11604,,,0,"Send ovn heatbeat more often.

This change modifies the metadata agent heatbeat
to use a random offset with a max delay of 10 seconds.

The orgial reason for the current logic was to mitigate
https://bugs.launchpad.net/neutron/+bug/1991817
so the logic to spread the heatbeats is maintained but
we now set an upper bound on the delay.

Close-Bug: #2020215
Change-Id: I4d382793255520b9c44ca2aaacebcbda9a432dde
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/883687/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,8c14d63808f54be168eb0e038a46c579286c934e,bug/2020215," # we ocationally see port binding failed errors due to a # the ml2 driver refusing to bind the port to a dead agent # so we increase the frequency of heatbeats by deviding by # 3 instead of 2 to make that less likely while still # spreading the updates. interval = randint(0, cfg.CONF.agent_down_time // 3)"," interval = randint(0, cfg.CONF.agent_down_time // 2)",6,1
openstack%2Foctavia-tempest-plugin~master~Id3dd820aa66a8d6c128aea76cd84736494d36cdc,openstack/octavia-tempest-plugin,master,Id3dd820aa66a8d6c128aea76cd84736494d36cdc,DNM/WIP Testing server output with cirros 0.6.1,NEW,2023-03-16 15:07:37.000000000,2023-06-14 23:09:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-16 15:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c939b8022afea9047846180eaf476cda78198797', 'message': 'DNM/WIP Testing server output\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 2, 'created': '2023-03-16 18:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/17ed0b6c307a54449e19d53af0003ba9de406b33', 'message': 'DNM/WIP Testing server output\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 3, 'created': '2023-03-17 15:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b97f54e3e587117d13292fabf77749b249e4bfeb', 'message': 'DNM/WIP Testing server output\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 4, 'created': '2023-04-04 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/62c51bc0f5f6e09ebb10fb4fcdbb61646c70f56c', 'message': 'DNM/WIP Testing server output\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 5, 'created': '2023-04-06 10:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/301d06d411d7ac9799439db9b768e8cfc1bc7eb5', 'message': 'DNM/WIP Testing server output\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 6, 'created': '2023-06-07 19:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2b2b13fdc471e76b765d1c5c483c727f05a08ca4', 'message': 'DNM/WIP Testing server output for FIPS\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 7, 'created': '2023-06-12 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/86bcae8f741c791e3ddd8c40371aef87b6ceb995', 'message': 'DNM/WIP Testing server output for FIPS\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 8, 'created': '2023-06-13 19:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/94ac1d73ed0633e5b296c7d5d6c289d09b2eed85', 'message': 'DNM/WIP Testing server output with cirros 0.6.2\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 9, 'created': '2023-06-14 08:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/658de9012959975524ee588f14d68eb4f6f8788f', 'message': 'DNM/WIP Testing server output with cirros 0.6.2\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}, {'number': 10, 'created': '2023-06-14 21:10:24.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/52d94759e21f4af42cff1054141c5843620183fa', 'message': 'DNM/WIP Testing server output with cirros 0.6.1\n\nChange-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc\n'}]",36,877667,52d94759e21f4af42cff1054141c5843620183fa,90,1,10,29244,,,0,"DNM/WIP Testing server output with cirros 0.6.1

Change-Id: Id3dd820aa66a8d6c128aea76cd84736494d36cdc
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/67/877667/6 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml']",2,c939b8022afea9047846180eaf476cda78198797,cirros-logs, templates: [], templates: - check-requirements - publish-openstack-docs-pti - tempest-plugin-jobs - release-notes-jobs-python3 - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-api-stable-yoga - octavia-v2-dsvm-noop-api-stable-xena - octavia-v2-dsvm-noop-api-stable-wallaby - octavia-v2-dsvm-noop-api-scoped-tokens - octavia-v2-dsvm-scenario-stable-yoga - octavia-v2-dsvm-scenario-stable-xena - octavia-v2-dsvm-scenario-stable-wallaby - octavia-v2-dsvm-tls-barbican-stable-yoga - octavia-v2-dsvm-tls-barbican-stable-xena - octavia-v2-dsvm-tls-barbican-stable-wallaby - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-dsvm-scenario-centos-8-stream: voting: false - octavia-v2-dsvm-scenario-centos-9-stream: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-yoga: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-xena: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-wallaby: voting: false - octavia-v2-dsvm-spare-pool-stable-wallaby: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false # Third party provider jobs - neutron-ovn-provider-v2-api: voting: false - neutron-ovn-provider-v2-scenario: voting: false,15,45
openstack%2Fplacement~master~I8724b0738f097739f55cd8566bb30b7ddbe154d9,openstack/placement,master,I8724b0738f097739f55cd8566bb30b7ddbe154d9,db: Replace use of deprecated API,MERGED,2023-04-17 12:24:07.000000000,2023-06-14 22:49:03.000000000,2023-06-14 22:48:12.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-17 12:24:07.000000000', 'files': ['placement/db/sqlalchemy/alembic/versions/b5c396305c25_block_on_null_consumer.py', 'placement/db/sqlalchemy/alembic/versions/611cd6dffd7b_block_on_null_root_provider_id.py', 'placement/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/f71603d69575a5a271c285c61f26bd89bed1247b', 'message': ""db: Replace use of deprecated API\n\nWe were missing a number of users of SQLALchemy APIs that were either\nchanged or removed in 2.0. These were yielding the following errors in\n2.0.\n\n  TypeError: MetaData.__init__() got an unexpected keyword argument\n  'bind'\n\n  TypeError: TableClause.insert() got an unexpected keyword argument\n  'values'\n\n  TypeError: TableClause.update() got an unexpected keyword argument\n  'values'\n\n  AttributeError: 'Engine' object has no attribute 'execute'\n\nResolve these issues. We will fix the test class issue in a follow-up.\n\nChange-Id: I8724b0738f097739f55cd8566bb30b7ddbe154d9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,880623,f71603d69575a5a271c285c61f26bd89bed1247b,8,5,1,15334,,,0,"db: Replace use of deprecated API

We were missing a number of users of SQLALchemy APIs that were either
changed or removed in 2.0. These were yielding the following errors in
2.0.

  TypeError: MetaData.__init__() got an unexpected keyword argument
  'bind'

  TypeError: TableClause.insert() got an unexpected keyword argument
  'values'

  TypeError: TableClause.update() got an unexpected keyword argument
  'values'

  AttributeError: 'Engine' object has no attribute 'execute'

Resolve these issues. We will fix the test class issue in a follow-up.

Change-Id: I8724b0738f097739f55cd8566bb30b7ddbe154d9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/23/880623/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/db/sqlalchemy/alembic/versions/b5c396305c25_block_on_null_consumer.py', 'placement/db/sqlalchemy/alembic/versions/611cd6dffd7b_block_on_null_root_provider_id.py', 'placement/tests/functional/db/test_migrations.py']",3,f71603d69575a5a271c285c61f26bd89bed1247b,sqlalchemy-20," ins_stmt = rps.insert().values( name='fake-rp-name', uuid=uuids.rp_uuid, ) with self.engine.connect() as conn, conn.begin(): rp_id = conn.execute(ins_stmt).inserted_primary_key[0] update_stmt = rps.update().values( root_provider_id=rp_id, ).where(rps.c.id == rp_id) with self.engine.connect() as conn, conn.begin(): conn.execute(update_stmt) ins_stmt = rps.insert().values( name='fake-rp-name', uuid=uuids.rp_uuid, root_provider_id=1, ) with self.engine.connect() as conn, conn.begin(): rp_id = conn.execute(ins_stmt).inserted_primary_key[0] ins_stmt = allocations.insert().values( resource_provider_id=rp_id, resource_class_id=1, used=5, consumer_id=uuids.consumer1, ) with self.engine.connect() as conn, conn.begin(): conn.execute(ins_stmt).inserted_primary_key[0] ins_stmt = consumers.insert().values( uuid=uuids.consumer1, project_id=1, user_id=1, ) with self.engine.connect() as conn, conn.begin(): conn.execute(ins_stmt).inserted_primary_key[0]"," ins_stmt = rps.insert(values={ 'name': 'fake-rp-name', 'uuid': uuids.rp_uuid }) rp_id = self.engine.execute(ins_stmt).inserted_primary_key[0] update_stmt = rps.update( values={'root_provider_id': rp_id}).where( rps.c.id == rp_id) self.engine.execute(update_stmt) ins_stmt = rps.insert(values={ 'name': 'fake-rp-name', 'uuid': uuids.rp_uuid, 'root_provider_id': 1 }) rp_id = self.engine.execute(ins_stmt).inserted_primary_key[0] ins_stmt = allocations.insert(values={ 'resource_provider_id': rp_id, 'resource_class_id': 1, 'used': 5, 'consumer_id': uuids.consumer1 }) self.engine.execute(ins_stmt).inserted_primary_key[0] ins_stmt = consumers.insert(values={ 'uuid': uuids.consumer1, 'project_id': 1, 'user_id': 1 }) self.engine.execute(ins_stmt).inserted_primary_key[0]",58,30
openstack%2Ftempest~master~I65dfe051c891b3679538acec713e8616746c47f6,openstack/tempest,master,I65dfe051c891b3679538acec713e8616746c47f6,Avoiding the clean of not tempest created resources,NEW,2023-04-09 15:35:45.000000000,2023-06-14 22:21:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 33983}]","[{'number': 1, 'created': '2023-04-09 15:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4caab206ae4b12a371d3754a070a2afd80a6acd', 'message': ""Avoinding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nCloses-Bug: \xa0 #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 2, 'created': '2023-04-19 14:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c32bff9f0ec43b22705362a7e1d21d342a20ce7', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nCloses-Bug:   #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 3, 'created': '2023-04-21 14:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/867491f3bfbb065acc4b6a0a5bead1b29f997bab', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nCloses-Bug:   #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 4, 'created': '2023-04-27 15:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd2e1fe2163563322b3955e3fe1146826b7783f0', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 5, 'created': '2023-04-28 13:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5711e6be48f1ae9cc21f5215a579f16bbceecbc8', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nRelated-Bug: #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 6, 'created': '2023-05-02 14:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f0deb2e774fa0c1a24978faa7f1098fb54a5038', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nRelated-Bug: #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 7, 'created': '2023-05-03 12:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f051ee938467cc374deeab215fb349d347b259b', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nRelated-Bug: #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 8, 'created': '2023-05-15 10:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/43ae3193c93cf7cef08302573b98f2c607a702c7', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nRelated-Bug: #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}, {'number': 9, 'created': '2023-05-15 14:11:24.000000000', 'files': ['tempest/cmd/cleanup.py', 'tempest/cmd/cleanup_service.py', 'tempest/tests/cmd/test_cleanup_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f515da8c62e8eaa7c5f085fe0be39b4dad6116a9', 'message': ""Avoiding the clean of not tempest created resources\n\nI add a warning in command description of run cleanup first with dry-run\nI add a new options prefix with default value tempest-\nI change cleanup behavior to delete only resources with 'prefix'Name\n\nThis change should help avoiding remove resource not created by tempest\nand not present on saved_state.json.\n\nRelated-Bug: #1945082\nChange-Id: I65dfe051c891b3679538acec713e8616746c47f6\n""}]",62,879923,f515da8c62e8eaa7c5f085fe0be39b4dad6116a9,39,4,9,33983,,,0,"Avoiding the clean of not tempest created resources

I add a warning in command description of run cleanup first with dry-run
I add a new options prefix with default value tempest-
I change cleanup behavior to delete only resources with 'prefix'Name

This change should help avoiding remove resource not created by tempest
and not present on saved_state.json.

Related-Bug: #1945082
Change-Id: I65dfe051c891b3679538acec713e8616746c47f6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/879923/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/cleanup.py', 'tempest/cmd/cleanup_service.py']",2,d4caab206ae4b12a371d3754a070a2afd80a6acd,I65dfe051c891b3679538acec713e8616746c47f6," snaps = [snap for snap in snaps if snap['name'].startswith(self.prefix)] servers = [server for server in servers if server['name'].startswith(self.prefix)] sgs = [sg for sg in sgs if sg['name'].startswith(self.prefix)] keypairs = [keypair for keypair in keypairs if keypair['keypair']['name'].startswith(self.prefix)] vols = [vol for vol in vols if vol['name'].startswith(self.prefix)] networks = [network for network in networks if network['name'].startswith(self.prefix)] #TODO:Floating ip don't have a prefix now #flips = [flip for flip in flips if flip['name'].startswith(self.prefix)] routers = [router for router in routers if router[""name""].startswith(self.prefix)] rules = [rule for rule in rules if rule['name'].startswith(self.prefix)] labels = [label for label in labels if label['name'].startswith(self.prefix)] #TODO:port don't have a prefix now #ports = [port for port in ports if port['name'].startswith(self.prefix)] if secgroup['name'] != 'default' and secgroup[""name""].startswith(self.prefix)] #TODO: subnet don't have a prefix now #subnets = [subnet for subnet in subnets if subnet['name'].startswith(self.prefix)] pools = [pool for pool in pools if pool['name'].startswith(self.prefix)] #TODO:I'm not sure about the region #regions = [region for region in regions['regions'] if region['name'].startswith(self.prefix)] #TODO:I'm not sure why for flavor is not working #flavors = [flavor for flavor in flavors if flavor['name'].startwith(self.prefix)] images = [image for image in images if image['name'].startswith(self.prefix)] users = [user for user in users if user['name'].startswith(self.prefix)] roles = [role for role in roles if role['name'].startswith(self.prefix)] projects = [project for project in projects if project['name'].startswith(self.prefix)] domains = [domain for domain in domains if domain['name'].startswith(self.prefix)]", if secgroup['name'] != 'default'],39,4
openstack%2Fnova~stable%2Fxena~I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c,openstack/nova,stable/xena,I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c,Remove mentions of removed scheduler filters,MERGED,2022-09-16 09:20:44.000000000,2023-06-14 21:45:15.000000000,2023-06-14 21:43:56.000000000,"[{'_account_id': 7166}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-16 09:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf4abf77f56335fa486e2c089111aa2467aea6c6', 'message': 'Remove mentions of removed scheduler filters\n\nChange-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c\n(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)\n'}, {'number': 2, 'created': '2022-09-16 09:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fa73cb76d455cfb220823b1483c40e348ab97c7', 'message': 'Remove mentions of removed scheduler filters\n\nChange-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c\n(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)\n(cherry picked from commit b9d10c45790dfccb645e02db957d1e3015aed306)\n'}, {'number': 3, 'created': '2022-09-20 13:51:26.000000000', 'files': ['nova/conf/compute.py', 'doc/source/contributor/development-environment.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f1e83cfbc52fb88dc8f38af5ef96a2d2893cecf', 'message': 'Remove mentions of removed scheduler filters\n\nChange-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c\n(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)\n(cherry picked from commit c3489ed5cc21a9fa968949e04f1c7762f09b5606)\n(cherry picked from commit 37129b4b4423ef8ce932ae506f0e9a6ae771ec0c)\n'}]",2,858024,5f1e83cfbc52fb88dc8f38af5ef96a2d2893cecf,16,5,3,15334,,,0,"Remove mentions of removed scheduler filters

Change-Id: I1348cca8cbd8b1142dab8507c8aa1b9baf01e73c
(cherry picked from commit 4fb4f6832c156907b786571f214984894703bf16)
(cherry picked from commit c3489ed5cc21a9fa968949e04f1c7762f09b5606)
(cherry picked from commit 37129b4b4423ef8ce932ae506f0e9a6ae771ec0c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/858024/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'doc/source/contributor/development-environment.rst']",2,bf4abf77f56335fa486e2c089111aa2467aea6c6,docs-removed-filters,"that will limit the number of instances per compute, such as ``NumInstancesFilter``.","that will limit the number of instances per compute, such as ``AggregateCoreFilter``.",4,10
openstack%2Fneutron-tempest-plugin~master~I656569cb333e98f5f55b51b0cfec8e99922424b3,openstack/neutron-tempest-plugin,master,I656569cb333e98f5f55b51b0cfec8e99922424b3,Always run iptables-save as root,MERGED,2023-05-11 15:51:56.000000000,2023-06-14 21:43:52.000000000,2023-06-14 21:43:52.000000000,"[{'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:51:56.000000000', 'files': ['neutron_tempest_plugin/common/ip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/52582a0c1207b9463a6949ae0b0e85a0d9b62002', 'message': ""Always run iptables-save as root\n\nWhen there is a failure and we run commands to collect\nnetwork information, the iptables-save command always\nfails in the root namespace:\n\n  Executing command 'iptables-save' on local host (timeout=None)...\n  Command 'iptables-save' failed (exit_status=4):\n  stderr:\n  iptables-save v1.8.7 (nf_tables): Could not fetch rule set\n    generation id: Permission denied (you must be root)\n\nChange list_iptables() to always use sudo fixes the issue.\n\nTrivialfix\n\nChange-Id: I656569cb333e98f5f55b51b0cfec8e99922424b3\n""}]",28,882976,52582a0c1207b9463a6949ae0b0e85a0d9b62002,57,5,1,1131,,,0,"Always run iptables-save as root

When there is a failure and we run commands to collect
network information, the iptables-save command always
fails in the root namespace:

  Executing command 'iptables-save' on local host (timeout=None)...
  Command 'iptables-save' failed (exit_status=4):
  stderr:
  iptables-save v1.8.7 (nf_tables): Could not fetch rule set
    generation id: Permission denied (you must be root)

Change list_iptables() to always use sudo fixes the issue.

Trivialfix

Change-Id: I656569cb333e98f5f55b51b0cfec8e99922424b3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/76/882976/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/common/ip.py'],1,52582a0c1207b9463a6949ae0b0e85a0d9b62002,fix-list-iptables, cmd = 'sudo ' if namespace: cmd += 'ip netns exec %s ' % namespace, cmd = '' if namespace: cmd = 'sudo ip netns exec %s ' % namespace,2,2
openstack%2Fkeystone~stable%2Fvictoria~If6f9f72cf25769d022a970fac36cead17b2030f2,openstack/keystone,stable/victoria,If6f9f72cf25769d022a970fac36cead17b2030f2,Limit token expiration to application credential expiration,MERGED,2022-10-30 02:29:13.000000000,2023-06-14 20:54:10.000000000,2023-06-14 20:52:57.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-30 02:29:13.000000000', 'files': ['releasenotes/notes/token_expiration_to_match_application_credential-56d058355a9f240d.yaml', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ab9366b9f9c0f86eac11e7befa454d3358750c73', 'message': 'Limit token expiration to application credential expiration\n\nIf a token is issued with an application credential we need to check\nthe expiration of the application credential to ensure that the token\ndoes not outlive the application credential. This ensures that if the\ntoken expiration is greaten than that of the application credential it\nis reset to the expiration of the application credential and a warning\nis logged. Please see CVE-2022-2447 for more information.\n\nCloses-Bug: 1992183\nChange-Id: If6f9f72cf25769d022a970fac36cead17b2030f2\n(cherry picked from commit 8f999d1c1f54a903c1da648ecaa2ce44acdb1fd1)\n'}]",0,862907,ab9366b9f9c0f86eac11e7befa454d3358750c73,8,4,1,7414,,,0,"Limit token expiration to application credential expiration

If a token is issued with an application credential we need to check
the expiration of the application credential to ensure that the token
does not outlive the application credential. This ensures that if the
token expiration is greaten than that of the application credential it
is reset to the expiration of the application credential and a warning
is logged. Please see CVE-2022-2447 for more information.

Closes-Bug: 1992183
Change-Id: If6f9f72cf25769d022a970fac36cead17b2030f2
(cherry picked from commit 8f999d1c1f54a903c1da648ecaa2ce44acdb1fd1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/862907/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/token_expiration_to_match_application_credential-56d058355a9f240d.yaml', 'keystone/token/provider.py', 'keystone/tests/unit/test_v3_auth.py']",3,ab9366b9f9c0f86eac11e7befa454d3358750c73,bug/1992183-stable/victoria," def test_application_credential_expiration_limits_token_expiration(self): expires_at = datetime.datetime.utcnow() + datetime.timedelta(minutes=1) app_cred = self._make_app_cred(expires=expires_at) app_cred_ref = self.app_cred_api.create_application_credential( app_cred) auth_data = self.build_authentication_request( app_cred_id=app_cred_ref['id'], secret=app_cred_ref['secret']) resp = self.v3_create_token(auth_data, expected_status=http.client.CREATED) token = resp.headers.get('X-Subject-Token') future = datetime.datetime.utcnow() + datetime.timedelta(minutes=2) with freezegun.freeze_time(future): self._validate_token(token, expected_status=http.client.UNAUTHORIZED) ",,42,0
openstack%2Fpython-glanceclient~master~I1cd417262ed66925300ecfe7252d2e1ff9e45f46,openstack/python-glanceclient,master,I1cd417262ed66925300ecfe7252d2e1ff9e45f46,image create/update: fix handling of custom properties,NEW,2022-09-21 14:47:53.000000000,2023-06-14 20:47:24.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 14:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b9a0002fa15c192e354a4abb7a2b35343d6176d2', 'message': 'image create/update: Prevent user from passing read-only properties\n\nUsers should not be allowed to pass read-only properties to\nimage-create, image-create-via-import and image-update.\n\nChange-Id: I1cd417262ed66925300ecfe7252d2e1ff9e45f46\nCloses-Bug: #1578596\n'}, {'number': 2, 'created': '2022-09-21 17:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/d1d98bf3e6927123c613ee0f159ef5f2e2d2ab98', 'message': 'image create/update: Prevent user from passing read-only properties\n\nUsers should not be allowed to pass read-only properties to\nimage-create, image-create-via-import and image-update.\n\nChange-Id: I1cd417262ed66925300ecfe7252d2e1ff9e45f46\nCloses-Bug: #1578596\n'}, {'number': 3, 'created': '2023-06-14 18:59:44.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py', 'glanceclient/tests/unit/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/bd2e2ba8aea33080b14fb22844f9bcfb8dfb8c99', 'message': ""image create/update: fix handling of custom properties\n\nWhen passing custom properties that are not strings to image-create,\nimage-create-via-import and image-update, we get the following error:\n\n---8<------------------------------------------------------------------\n$ glance image-create --name myimg --property min_ram=123\nUnable to set 'min_ram' to '123'. Reason: '123' is not of type 'integer'\n\nFailed validating 'type' in schema['properties']['min_ram']:\n    {'description': 'Amount of ram (in MB) required to boot image.',\n     'type': 'integer'}\n\nOn instance['min_ram']:\n    '123'\n---8<------------------------------------------------------------------\n\nBecause we get custom properties through the command line, they all\ndefault to being strings, which means warlock cannot properly validate\ntheir types.\n\nFurthermore, warlock does not check the readOnly attribute of the\njsonschema, which means it will not complain if we try to set the value\nof a read-only property, thus making one useless API call and taking\ntime to give feedback to the user:\n\n---8<------------------------------------------------------------------\n$ time glance image-create --name myimg --property updated_at=foo\nHTTP 403 Forbidden: Attribute &#x27;updated_at&#x27; is read-only.\n\nreal    0m1.191s\nuser    0m0.503s\nsys     0m0.063s\n---8<------------------------------------------------------------------\n\nThis patch makes sure that:\n- integer properties are cast from string to integer before they have to\n  be validated by Warlock;\n- we exit early if a read-only property is given on the command line;\n- we do not repeat ourselves by factorising this code in\n  _populate_properties.\n\nChange-Id: I1cd417262ed66925300ecfe7252d2e1ff9e45f46\nCloses-Bug: #1578596\n""}]",2,858757,bd2e2ba8aea33080b14fb22844f9bcfb8dfb8c99,8,2,3,8122,,,0,"image create/update: fix handling of custom properties

When passing custom properties that are not strings to image-create,
image-create-via-import and image-update, we get the following error:

---8<------------------------------------------------------------------
$ glance image-create --name myimg --property min_ram=123
Unable to set 'min_ram' to '123'. Reason: '123' is not of type 'integer'

Failed validating 'type' in schema['properties']['min_ram']:
    {'description': 'Amount of ram (in MB) required to boot image.',
     'type': 'integer'}

On instance['min_ram']:
    '123'
---8<------------------------------------------------------------------

Because we get custom properties through the command line, they all
default to being strings, which means warlock cannot properly validate
their types.

Furthermore, warlock does not check the readOnly attribute of the
jsonschema, which means it will not complain if we try to set the value
of a read-only property, thus making one useless API call and taking
time to give feedback to the user:

---8<------------------------------------------------------------------
$ time glance image-create --name myimg --property updated_at=foo
HTTP 403 Forbidden: Attribute &#x27;updated_at&#x27; is read-only.

real    0m1.191s
user    0m0.503s
sys     0m0.063s
---8<------------------------------------------------------------------

This patch makes sure that:
- integer properties are cast from string to integer before they have to
  be validated by Warlock;
- we exit early if a read-only property is given on the command line;
- we do not repeat ourselves by factorising this code in
  _populate_properties.

Change-Id: I1cd417262ed66925300ecfe7252d2e1ff9e45f46
Closes-Bug: #1578596
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/57/858757/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",2,b9a0002fa15c192e354a4abb7a2b35343d6176d2,bug/1578596,"def populate_properties(fields): """"""Add one entry to ""fields"" per property defined in the ""property"" key The ""fields"" parameter is modified in-place: - the ""property"" field is removed; - one entry per property is added. If a read-only property is encountered, the whole program exits. Example: if this function is called with a ""fields"" variable that has the following value: { 'property': [ 'min_disk=1', 'min_ram=42' ] } Then, after this function has exited, ""fields"" will have the following value: { 'min_disk': 1, 'min_ram': 42, } """""" schema = get_image_schema() schema_properties = schema.get('properties', {}) for datum in fields.pop('property', []): key, value = datum.split('=', 1) if schema_properties.get(key, {}).get('readOnly', False): utils.exit(f'Property ""{key}"" is read-only') fields[key] = value populate_properties(fields) populate_properties(fields) populate_properties(fields)"," raw_properties = fields.pop('property', []) for datum in raw_properties: key, value = datum.split('=', 1) fields[key] = value raw_properties = fields.pop('property', []) for datum in raw_properties: key, value = datum.split('=', 1) fields[key] = value raw_properties = fields.pop('property', []) for datum in raw_properties: key, value = datum.split('=', 1) fields[key] = value",67,13
openstack%2Fcharm-cinder-purestorage~stable%2Ftrain~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/train,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:38:26.000000000,2023-06-14 20:33:07.000000000,2023-06-14 20:33:07.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:38:26.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/29760d3a8f6c67daed3c0b1a3b4b871528fcc3d9', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886066,29760d3a8f6c67daed3c0b1a3b4b871528fcc3d9,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/66/886066/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,29760d3a8f6c67daed3c0b1a3b4b871528fcc3d9,bug/2023777-stable/zed-stable/train,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fcharm-cinder-purestorage~stable%2Fussuri~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/ussuri,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:38:03.000000000,2023-06-14 20:33:06.000000000,2023-06-14 20:33:06.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:38:03.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/20bed98c69aac93adc012e120cb4c2bedac569f6', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886065,20bed98c69aac93adc012e120cb4c2bedac569f6,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/65/886065/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,20bed98c69aac93adc012e120cb4c2bedac569f6,bug/2023777-stable/zed-stable/ussuri,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fcharm-cinder-purestorage~stable%2Fvictoria~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/victoria,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:37:50.000000000,2023-06-14 20:33:05.000000000,2023-06-14 20:33:05.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:37:50.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/32443ca63aef8eaf564e3e80a4ce2966df9685db', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886064,32443ca63aef8eaf564e3e80a4ce2966df9685db,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/64/886064/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,32443ca63aef8eaf564e3e80a4ce2966df9685db,bug/2023777-stable/zed-stable/victoria,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fcharm-cinder-purestorage~stable%2Fwallaby~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/wallaby,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:37:37.000000000,2023-06-14 20:32:30.000000000,2023-06-14 20:32:30.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:37:37.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/dd3e54a77b40297abf0aa4226cfe4d96a3deda3d', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886063,dd3e54a77b40297abf0aa4226cfe4d96a3deda3d,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/63/886063/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,dd3e54a77b40297abf0aa4226cfe4d96a3deda3d,bug/2023777-stable/zed-stable/wallaby,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fopenstacksdk~master~I4beae6dc14f28b9962ff23dd3a623b0aa59ac957,openstack/openstacksdk,master,I4beae6dc14f28b9962ff23dd3a623b0aa59ac957,Fix typo,MERGED,2023-06-09 17:19:46.000000000,2023-06-14 20:32:12.000000000,2023-06-14 20:31:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-09 17:19:46.000000000', 'files': ['openstack/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1c3157e1ed24d9b76c64297f9ec4803a7a68f2cf', 'message': 'Fix typo\n\nChange-Id: I4beae6dc14f28b9962ff23dd3a623b0aa59ac957\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,885793,1c3157e1ed24d9b76c64297f9ec4803a7a68f2cf,8,2,1,15334,,,0,"Fix typo

Change-Id: I4beae6dc14f28b9962ff23dd3a623b0aa59ac957
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/885793/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/utils.py'],1,1c3157e1ed24d9b76c64297f9ec4803a7a68f2cf,trivial, provided version. ``version`` can be a major version or a major-minor, provided version. ``version`` can be a major version of a major-minor,1,1
openstack%2Fcharm-cinder-purestorage~stable%2Fxena~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/xena,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:36:37.000000000,2023-06-14 20:27:37.000000000,2023-06-14 20:27:37.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:36:37.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/01c95a2c65cdce9b584e9907c9f15ef4bbaee6fd', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886062,01c95a2c65cdce9b584e9907c9f15ef4bbaee6fd,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/62/886062/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,01c95a2c65cdce9b584e9907c9f15ef4bbaee6fd,bug/2023777-stable/zed-stable/yoga-stable/xena,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fcharm-cinder-purestorage~stable%2Fyoga~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/yoga,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:36:09.000000000,2023-06-14 20:27:27.000000000,2023-06-14 20:27:27.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:36:09.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/1cdee6da0c781b960b5102d896805d93bd6c1d0e', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886061,1cdee6da0c781b960b5102d896805d93bd6c1d0e,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/61/886061/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,1cdee6da0c781b960b5102d896805d93bd6c1d0e,bug/2023777-stable/zed-stable/yoga,deps =,deps = -r{toxinidir}/build-requirements.txt,2,1
openstack%2Fcharm-cinder-purestorage~stable%2Fzed~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/zed,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:13:43.000000000,2023-06-14 20:27:11.000000000,2023-06-14 20:27:11.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/cf68624e76ba43e1a7b7f45d036e85c477c61ff6', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}, {'number': 2, 'created': '2023-06-14 15:35:29.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/9151086947981599e5a9431b16bea14d5b9fde16', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886060,9151086947981599e5a9431b16bea14d5b9fde16,12,4,2,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/60/886060/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,cf68624e76ba43e1a7b7f45d036e85c477c61ff6,bug/2023777-stable/zed,"<<<<<<< HEAD (d69a34 Merge ""Remove charm artefact and ensure ignored"" into stable)======= # charmcraft clean is done to ensure that # `tox -e build` always performs a clean, repeatable build. # For faster rebuilds during development, # directly run `charmcraft -v pack && ./rename.sh`. deps = >>>>>>> CHANGE (c2a17e Add pkg-config to charmcraft.yaml for binary builds)",,15,0
openstack%2Fcharm-cinder-purestorage~stable%2F2023.1~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,stable/2023.1,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 15:13:04.000000000,2023-06-14 20:24:52.000000000,2023-06-14 20:24:52.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 15:13:04.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/38597f10d56a21bb82723f037d015cc6af112398', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)\n""}]",1,886059,38597f10d56a21bb82723f037d015cc6af112398,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
(cherry picked from commit c2a17eb5c137f3431c322a6cc47a71cd5071e6e3)
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/59/886059/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,38597f10d56a21bb82723f037d015cc6af112398,bug/2023777-stable/2023.1,deps =,,2,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fyoga~I95021600da8af12cb75ef5681fb5af8780ade4f8,openstack/charm-nova-cloud-controller,stable/yoga,I95021600da8af12cb75ef5681fb5af8780ade4f8,Add support for using service tokens,MERGED,2023-06-13 18:36:48.000000000,2023-06-14 20:14:37.000000000,2023-06-14 20:14:37.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:36:48.000000000', 'files': ['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/98b637d8e9d9df19cd001e582f846e2046fba1bd', 'message': 'Add support for using service tokens\n\nThis patch configures nova-cloud-controller to send a service token\nalong with the received user token on requests sent to other services.\nThis allows those other services to accept the request even if the user\ntoken has been invalidated since received by the nova services running\nin nova-cloud-controller units, the same applies for incoming requests\nfrom other services. Service tokens exist since Openstack Queens.\n\nChange-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8\nCloses-Bug: #1992840\n(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)\n'}]",2,886014,98b637d8e9d9df19cd001e582f846e2046fba1bd,10,4,1,2424,,,0,"Add support for using service tokens

This patch configures nova-cloud-controller to send a service token
along with the received user token on requests sent to other services.
This allows those other services to accept the request even if the user
token has been invalidated since received by the nova services running
in nova-cloud-controller units, the same applies for incoming requests
from other services. Service tokens exist since Openstack Queens.

Change-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8
Closes-Bug: #1992840
(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/14/886014/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf']",3,98b637d8e9d9df19cd001e582f846e2046fba1bd,bug/1992840-yoga,"{% include ""section-service-user"" %} ",,6,0
openstack%2Fkeystone-specs~master~Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb,openstack/keystone-specs,master,Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb,External OAuth2.0 Authorization Server Support,MERGED,2022-10-17 03:39:48.000000000,2023-06-14 19:36:21.000000000,2023-06-14 19:35:21.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 11655}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 03:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/33b242e7b5bdba0066bccdfa35f850b2a90117eb', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 2, 'created': '2022-10-17 12:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/a28613b7a3099fcf36224b1dd150ac2b659e5a38', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 3, 'created': '2022-11-01 14:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/e2a92806681b2b8cd07580688044a73fbd2b88ff', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 4, 'created': '2022-11-29 01:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/bd6480fcbf2cd9966391c2d10e79c0278db1b8b0', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 5, 'created': '2022-11-29 01:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/48448db09a4a9c1cc45c64364959a388f9fcb231', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 6, 'created': '2023-01-03 14:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/8c0b79dabc4dd40fdb51e843f777a252eb6f5e8d', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 7, 'created': '2023-05-30 14:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/fe378c53994e454823f4278d734319f072a21a74', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 8, 'created': '2023-05-30 15:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/3058902d6e5b70ac313d317badbad6af92e36309', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}, {'number': 9, 'created': '2023-05-30 15:55:40.000000000', 'files': ['doc/source/index.rst', 'specs/keystonemiddleware/2023.1/external_authentication_server_oauth2_grant_support.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4dd8dfab34863240bd31d8ec70b5f0d33fa58524', 'message': 'External OAuth2.0 Authorization Server Support\n\nThis spec proposes to to add a new keystone middleware that implements\nRFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally\nuse that middleware when using an external authorization server.\nOpenStack services will be able to validate their OAuth2.0 client with\nan external authorization server other than Keystone.\n\n[1] https://datatracker.ietf.org/doc/html/rfc7662\n\nChange-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb\n'}]",48,861554,4dd8dfab34863240bd31d8ec70b5f0d33fa58524,41,7,9,33455,,,0,"External OAuth2.0 Authorization Server Support

This spec proposes to to add a new keystone middleware that implements
RFC7662 OAuth 2.0 Token Introspection [1] and allows users to optionally
use that middleware when using an external authorization server.
OpenStack services will be able to validate their OAuth2.0 client with
an external authorization server other than Keystone.

[1] https://datatracker.ietf.org/doc/html/rfc7662

Change-Id: Ie1066ab2735205fcb534e7697c3b9a5aa2d23eeb
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/54/861554/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/keystonemiddleware/2023.1/external_authentication_server_oauth2_grant_support.rst']",2,33b242e7b5bdba0066bccdfa35f850b2a90117eb,bp/enhance-oauth2-interoperability,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================== External Authentication Server OAuth2.0 Grant Support ===================================================== Provides a capability for the third-party end-users authenticated by an External Authentication Server via the Resource Owner Password Credentials Grant in `RFC6749 OAuth 2.0 Authentication Framework` [#oauth2_specification]_ to access the protected OpenStack service directly. Problem Description =================== The current OAuth2.0 in keystone middleware only supports Keystone as an authorization server. In other words, Keystone users cannot use a third-party authorization server (such as Keycloak [#keycloak]_). This limitation reduces the benefit of supporting OAuth2.0 which defines general procedures of authorization so that an API server can use various authorization servers supporting OAuth2.0. Thus, it is necessary to improve the interoperability of OAuth2.0 in Keystone by allowing the use of a third-party authorization server. Proposed Change =============== The proposed change is to add a new keystone middleware that implements RFC7662 OAuth 2.0 Token Introspection [#token_introspection]_ and allows users to optionally use that middleware when using an external authorization server. Terminology ----------- - *Administrator:* The administrators of the External Authentication Server who can create clients, roles, users, and set the scopes that each user can access. - *Client:* The application that is managed by the External Authentication Server, and can access the protected OpenStack service on behalf of the user. - *User:* The end-users who are managed by the External Authentication Server, and can access the protected OpenStack service. - *Access Token:* A token used by the end-users to make protected resource requests with the delegated roles. - *Service credentials:* The credential used by the application with a grant type of Client Credentials. With this credential the application can access the introspect APIs provided by the External Authentication Server. - *User credentials:* The credential used by the end-user with a grant type of Resource Owner Password Credentials. This grant type is suitable for clients capable of obtaining the resource owner's credentials (username and password, typically using an interactive form). External Authentication Server OAuth2.0 Grant Preparation Flow -------------------------------------------------------------- .. seqdiag:: seqdiag { Administrator; AuthServer [label = ""External\nAuthentication\nServer""]; Administrator -> AuthServer [label = ""1. create service credentials""]; Administrator <-- AuthServer [label = ""Response 201 Created\n service credentials""]; Administrator -> AuthServer [label = ""2. create user credentials""]; Administrator <-- AuthServer [label = ""Response 201 Created\n user credentials""]; } The prepare flow consists of the following steps as illustrated in the above sequence: #. A administrator user creates a service credentials, and maintain relevant information for resource access control, such as roles, groups, scopes, tokens, certificates, etc. #. A administrator user creates a user credentials, and maintain relevant information, such as roles, attributes, etc. External Authentication Server OAuth2.0 Grant Flow -------------------------------------------------- .. seqdiag:: seqdiag { User; AuthServer [label = ""External\nAuthentication\nServer""]; ""Keystone Middleware""; ""OpenStack Service""; User -> AuthServer [label = ""1. request\n Token API\n with user credentials""]; User <-- AuthServer [label = ""Response 200 OK\n with Access Token""]; User -> ""OpenStack Service"" [label = ""2. request\n OpenStack Service API\n with Access Token""]; ""OpenStack Service"" -> ""Keystone Middleware"" [label = ""3. verify the Access Token""]; ""Keystone Middleware"" -> AuthServer [label = ""4. request\n Introspect API\n with service credentials\n and the Access Token""]; ""Keystone Middleware"" <-- AuthServer [label = ""Response 200 OK\n with Access Token metadata""]; ""Keystone Middleware"" -> ""Keystone Middleware"" [label = ""5. parse\n the necessary\n information\n from the metadata""]; ""Keystone Middleware"" -> ""Keystone Middleware"" [label = ""6. set\n request.environ\n with the necessary\n information""]; ""OpenStack Service"" <-- ""Keystone Middleware"" [label = ""return request.environ\n with the necessary\n information""]; ""OpenStack Service"" -> ""OpenStack Service"" [label = ""7. continue\n OpenStack\n Service\n processing""]; ""User"" <-- ""OpenStack Service"" [label = ""Response 200 OK""]; } The flow consists of the following steps as illustrated in the above sequence: #. The end-user authenticates with the External Authentication Server and requests a new OAuth2.0 Access Token. #. The end-user uses the OAuth2.0 Access Token to make requests for OpenStack Service APIs. #. The OpenStack Service use Keystone Middleware to validate the Access Token. #. Keystone Middleware sends a request to the External Authentication Server to verify if the Access Token is active and to obtain the metadata for the Access Token. If validation fails, Keystone Middleware sends an error response directly to the end-user, such as ""401 Unauthorized"". In general, end-users will send multiple requests using the same Access Token, so to provide performance, the metadata can be saved to a local cache such as the Memcached Server. Keystone Middleware access the External Authentication Server via Client Credentials, therefore, it is necessary to use the auth_method that the External Authentication Server allows, such as SSL, Mutual-TLS, client_secret_basic, client_secret_post, client_secret_jwt, private_key_jwt, etc. #. Keystone Middleware uses the mapping definition in the config file to parse all the necessary information from the metadata. If parsing fails, Keystone Middleware sends an error response directly to the end-user, such as ""403 Forbidden"". #. Keystone Middleware sets the environment variables in the OpenStack service HTTP request with the required information. #. After verifying the access token, the OpenStack applies the matching policy according to the request environment variable, and continues the subsequent business processing, and finally sends the response to the end-user. Alternatives ------------ * The delegated mode in the Keystone Middleware [#delegated_mode]_ can be used to handle request that needs an external authorization server. In this case, no changes to the Keystone Middleware are needed and an API server will perform the token introspection instead. However, the proposed features in the present document doesn't impair the current Keystone Middleware, but rather is beneficial feature for the OpenStack users. Security Impact --------------- * During the OAuth2.0 Grant flow, some sensitive values are sent in plain text. Thus, Keystone using this feature must enable HTTPS. * Check the security requirements of a third-party authorization server and do not access vulnerable one. Notifications Impact -------------------- None Other End User Impact --------------------- * Enables the use OAuth2.0 access token for the External Authentication Server from the settings of Keystone Middleware without using API. These configurations are shown in the part of Other Deployer Impact. Performance Impact ------------------ None Other Deployer Impact --------------------- Configuration of Keystone Middleware ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To use OAuth2.0 access token for the External Authentication Server, a deployer has to configure Keystone Middleware by changing ``[filter:authtoken]`` in ``/etc/tacker/api-paste.ini`` as shown below. :: [filter:authtoken] paste.filter_factory=keystonemiddleware.external_oauth2_token:filter_factory .. note:: If the Openstack services require authorization to an external authorization server through Keystone Middleware, the config for each service must be changed. This section shows how to set up Tacker as an example. In order for Keystone Middleware to access the External Authentication Server for token verification and to obtain metadata, has to configure Keystone Middleware by appending some options in ``/etc/tacker/tacker.conf`` as shown below. Regarding the option ``auth_method`` may need to support the following: client_secret_basic, client_secret_post, client_secret_jwt, private_key_jwt, etc. :: [keystone_authtoken] memcached_servers=localhost:11211 introspect_endpoint=https://keycloak/protocol/openid-connect/token/introspect cacert=/opt/stack/keycloak_ca.pem key=/opt/stack/tacker_client.key cert=/opt/stack/tacker_client.pem auth_method=client_secret_basic client_id=tacker_client_id client_secret=tacker_client_secret jwt_key=/opt/stack/jwt.pem jwt_algorithm=S256 mapping_domain_id=domain_id mapping_domain_name=domain_name mapping_project_id=tenant_id mapping_project_name=tenant_name mapping_project_domain_id=domain_id mapping_project_domain_name=domain_name mapping_tenant_id=tenant_id mapping_tenant_name=tenant_name mapping_provider_id=provider_id mapping_provider_name=provider_name mapping_user_id=user_id mapping_user_name=username mapping_user_domain_id=domain_id mapping_user_domain_name=domain_name mapping_roles=roles Configuration of Keystoneauth ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ In order for OpenStack Command to access the External Authentication Server to get an OAuth2.0 Access Token, has to configure Keystoneauth by appending some fields to the environment variable of the operating system as shown below. :: export OS_AUTH_TYPE=v3externaloauth2password export OS_EXTERNAL_OAUTH2_ENDPOINT=https://keycloak/protocol/openid-connect/token export OS_EXTERNAL_OAUTH2_CLIENT_ID=333e5ae19cbb47e8b18969306582be25 export OS_EXTERNAL_OAUTH2_CLIENT_SECRET=333e5ae19cbb47e8b18969306582be25 export OS_EXTERNAL_OAUTH2_CACERT=/opt/stack/keycloak_ca.pem export OS_EXTERNAL_OAUTH2_CERT=/opt/stack/client.pem export OS_EXTERNAL_OAUTH2_KEY=/opt/stack/client.key export OS_EXTERNAL_OAUTH2_USER_NAME=admin export OS_EXTERNAL_OAUTH2_PASSWORD=test Developer Impact ---------------- None * There is no impact on other Openstack developers and backend services. Implementation ============== Assignee(s) ----------- Primary assignee: * Hiromu Asahina (h-asahina) <hiromu.asahina.az@hco.ntt.co.jp> Other contributors: * Yuta Kazato (yuta-kazato) <yuta.kazato.nw@hco.ntt.co.jp> * Yusuke Niimi <niimi.yusuke@fujitsu.com> * Keiichiro Yamakawa <yamakawa.keiich@fujitsu.com> Work Items ---------- * Add a new keystone middleware that can send Introspection Request in RFC7662 Sec. 2.1 and can retrieve necessary metadata for an API server from Introspection Response in RFC7662 Sec. 2.2 * Add unit tests for the new keystone middleware * Change API Keystone Middleware documentation. Dependencies ============ None Documentation Impact ==================== * We would need to update API Keystone Middleware documents and Middleware Architecture. References ========== .. [#oauth2_specification] https://tools.ietf.org/html/rfc6749 .. [#keycloak] https://www.keycloak.org/ .. [#token_introspection] https://datatracker.ietf.org/doc/html/rfc7662 .. [#delegated_mode] https://docs.openstack.org/keystonemiddleware/latest/middlewarearchitecture.html ",,321,2
openstack%2Fnetworking-sfc~master~I9738f10b5e4caba06bce380515eda7000650becd,openstack/networking-sfc,master,I9738f10b5e4caba06bce380515eda7000650becd,Doc: refresh sfc install details,MERGED,2023-04-21 15:43:15.000000000,2023-06-14 19:33:21.000000000,2023-06-14 19:32:22.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 15:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/51772f1d59f871e13b271413b317d07bde18f9e5', 'message': 'Doc: refresh sfc install details\n\nChange-Id: I9738f10b5e4caba06bce380515eda7000650becd\nRelated-bug: #2009832\n'}, {'number': 2, 'created': '2023-05-30 08:36:24.000000000', 'files': ['doc/source/install/install.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/73abb769be34531e96874845d59d1738cba2d354', 'message': 'Doc: refresh sfc install details\n\nChange-Id: I9738f10b5e4caba06bce380515eda7000650becd\nRelated-bug: #2009832\n'}]",6,881240,73abb769be34531e96874845d59d1738cba2d354,13,5,2,8313,,,0,"Doc: refresh sfc install details

Change-Id: I9738f10b5e4caba06bce380515eda7000650becd
Related-bug: #2009832
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/40/881240/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install.rst'],1,51772f1d59f871e13b271413b317d07bde18f9e5,bug/2009832, <doc/source/admin/fwaas-v2-scenario.rst>`_ * 2023.1 Antelope: latest 16.0.x version * Zed: latest 15.0.x version * Yoga: latest 14.0.x version pip install -c https://opendev.org/openstack/requirements/raw/branch/stable/2023.1/upper-constraints.txt networking-sfc==16.0.0, <https://opendev.org/openstack/releases/raw/branch/master/deliverables/_independent/networking-sfc.yaml>`_ * Ocata: latest 4.0.x version * Newton: latest 3.0.x version * Mitaka: latest 2.0.x version pip install -c https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt?h=stable/ocata networking-sfc==4.0.0,5,5
openstack%2Fdesignate-tempest-plugin~master~I94f8511ab4adab2dfba21260c69c6e691911e16d,openstack/designate-tempest-plugin,master,I94f8511ab4adab2dfba21260c69c6e691911e16d,Remove EM stable/xena job from master gate,MERGED,2023-06-09 04:10:33.000000000,2023-06-14 19:27:48.000000000,2023-06-14 19:25:58.000000000,"[{'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:10:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/300523aa659223c85190c0028404fe07d448f22e', 'message': 'Remove EM stable/xena job from master gate\n\nstable/xena is in EM state. As Tempest and\nplugins masters does not support EM stable branches\nQA team will be pinning tempest in devstack stable/xena\nsoon. With that we do not need to test the stable/xena\njobs on master gate\n\n- https://review.opendev.org/c/openstack/releases/+/881254\n\nChange-Id: I94f8511ab4adab2dfba21260c69c6e691911e16d\n'}]",3,885674,300523aa659223c85190c0028404fe07d448f22e,9,3,1,8556,,,0,"Remove EM stable/xena job from master gate

stable/xena is in EM state. As Tempest and
plugins masters does not support EM stable branches
QA team will be pinning tempest in devstack stable/xena
soon. With that we do not need to test the stable/xena
jobs on master gate

- https://review.opendev.org/c/openstack/releases/+/881254

Change-Id: I94f8511ab4adab2dfba21260c69c6e691911e16d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/74/885674/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,300523aa659223c85190c0028404fe07d448f22e,xena-last,,- job: name: designate-bind9-stable-xena parent: designate-bind9 nodeset: openstack-single-node-focal override-checkout: stable/xena - designate-bind9-stable-xena,0,7
openstack%2Fopenstack-helm~master~Ie370429a9fe48c98894ce60470e3266649c4685c,openstack/openstack-helm,master,Ie370429a9fe48c98894ce60470e3266649c4685c,Allow custom loopback devices in multinode scripts,MERGED,2023-06-09 20:21:03.000000000,2023-06-14 18:59:21.000000000,2023-06-14 18:58:03.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-09 20:21:03.000000000', 'files': ['tools/gate/playbooks/vars.yaml', 'tools/gate/playbooks/multinode-deploy-cinder.yaml', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1651f252aa82b3cdc07faa955da1b61e767bea4a', 'message': 'Allow custom loopback devices in multinode scripts\n\nstory: 2010760\ntask: 48047\nChange-Id: Ie370429a9fe48c98894ce60470e3266649c4685c\n'}]",0,885801,1651f252aa82b3cdc07faa955da1b61e767bea4a,8,3,1,3009,,,0,"Allow custom loopback devices in multinode scripts

story: 2010760
task: 48047
Change-Id: Ie370429a9fe48c98894ce60470e3266649c4685c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/01/885801/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/vars.yaml', 'tools/gate/playbooks/multinode-deploy-cinder.yaml', 'tools/deployment/multinode/030-ceph.sh']",3,1651f252aa82b3cdc07faa955da1b61e767bea4a,,: ${CEPH_OSD_DATA_DEVICE:=/dev/loop0} : ${CEPH_OSD_DB_WAL_DEVICE:=/dev/loop1} location: ${CEPH_OSD_DATA_DEVICE} block_db: location: ${CEPH_OSD_DB_WAL_DEVICE} location: ${CEPH_OSD_DB_WAL_DEVICE}, location: /dev/loop0 block_db: location: /dev/loop1 location: /dev/loop1,12,4
openstack%2Fkeystoneauth~master~Iefaa997c1e561f51cb0e93d80106ccaa70932755,openstack/keystoneauth,master,Iefaa997c1e561f51cb0e93d80106ccaa70932755,Add doc of OAuth2.0 Client Credentials Grant Flow,MERGED,2022-04-15 09:46:46.000000000,2023-06-14 18:31:23.000000000,2023-06-14 18:29:45.000000000,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 31857}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-04-15 09:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/4255a401896f7dd2b1103fc3510894fa40783f9b', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystoneauth documents for OAuth2.0 client\nauthorization. The specification about OAuth2.0 Client Credential Grant\nis added to authentication plugins.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: Iefaa997c1e561f51cb0e93d80106ccaa70932755\n'}, {'number': 2, 'created': '2022-06-29 07:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/227adb94845d5a4237049f6ed6346eee09904a24', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystoneauth documents for OAuth2.0 client\nauthorization. The specification about OAuth2.0 Client Credential Grant\nis added to authentication plugins.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: Iefaa997c1e561f51cb0e93d80106ccaa70932755\n'}, {'number': 3, 'created': '2022-07-21 05:20:01.000000000', 'files': ['doc/source/authentication-plugins.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e8335e56dc0837b98d5927fdae708cbcecc4e884', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystoneauth documents for OAuth2.0 client\nauthorization. The specification about OAuth2.0 Client Credential Grant\nis added to authentication plugins.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: Iefaa997c1e561f51cb0e93d80106ccaa70932755\n'}]",17,838104,e8335e56dc0837b98d5927fdae708cbcecc4e884,21,10,3,33920,,,0,"Add doc of OAuth2.0 Client Credentials Grant Flow

This patch provides Keystoneauth documents for OAuth2.0 client
authorization. The specification about OAuth2.0 Client Credential Grant
is added to authentication plugins.

Implement: blueprint oauth2-client-credentials-ext
Change-Id: Iefaa997c1e561f51cb0e93d80106ccaa70932755
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/04/838104/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/authentication-plugins.rst'],1,4255a401896f7dd2b1103fc3510894fa40783f9b,bp/oauth2-client-credentials-ext,"- :py:class:`~keystoneauth1.identity.v3.OAuth2ClientCredentialMethod`: Authenticate against a V3 identity service using an OAuth2.0 client credential.same provided token and endpoint is available. This is useful in situations where you have an token or in testing when you specifically know the endpoint you want to communicate with.OAuth2.0 Client Credentials =========================== There is a specific authentication method for interacting with Identity servers that support OAuth2.0 Client Credential Grant. There are obvious differences with other authentication methods, After the authentication ispassed, if the subsequent request is sent via HTTPS protocol by the session, the ""Authorization"" field with an OAuth2.0 access token is automatically added to the request headers. If the subsequent request is sent via HTTP protocol by the session, the ""Authorization"" field is not added to the request headers. The following method can be used to authenticate for a token using OAuth2.0 client credentials: - :py:class:`~keystoneauth1.identity.v3.OAuth2ClientCredential`: The following example shows the method usage with a session:: >>> from keystoneauth1 import session >>> from keystone.identity import v3 >>> auth = v3.OAuth2ClientCredential( oauth2_endpoint='https://keystone.host/identity/v3/OS-OAUTH2/token' oauth2_client_id='f96a2fec117141a6b5fbaa0485632244', oauth2_client_secret='client_credential_secret' ) >>> sess = session.Session(auth=auth) - v3oauth2clientcredential: :py:class:`keystoneauth1.identity.v3.OAuth2ClientCredential`","same provided token and endpoint is available. This is useful for situations where you have a token and want to bypass authentication to obtain a new token for subsequent requests. Testing, proxies, and service-to-service authentication on behalf of a user are good examples use cases for this authentication plugin.For example:: >>> from keystoneauth1 import token_endpoint >>> from keystoneauth1 import session >>> a = token_endpoint.Token('http://my.keystone.com:5000/v3', ... token=token) >>> s = session.Session(auth=a) ",34,14
openstack%2Fstorlets~stable%2Fwallaby~I69c843172ee21548ccd12493cae407057ddcb5ce,openstack/storlets,stable/wallaby,I69c843172ee21548ccd12493cae407057ddcb5ce,Stable-only: Pin tox to < 3.x,MERGED,2023-06-14 17:03:12.000000000,2023-06-14 18:14:47.000000000,2023-06-14 18:13:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 17:03:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/d6edad01309e06baadd84fa7af9fa5d7e0fc05e2', 'message': 'Stable-only: Pin tox to < 3.x\n\ntox 4.0 introduced some incompatible changes which broke our usage.\nThe issue has been fixed in master but we pin it to an old version to\navoid backporting the change to multiple branches in case old tox is\nstill used.\n\nChange-Id: I69c843172ee21548ccd12493cae407057ddcb5ce\n(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)\n(cherry picked from commit 9c91632cadfefa8a3bb69b7bca1dc06e029f853f)\n(cherry picked from commit b524ed936708d74bb9c5064da6866879feb67a14)\n'}]",0,886068,d6edad01309e06baadd84fa7af9fa5d7e0fc05e2,7,2,1,9816,,,0,"Stable-only: Pin tox to < 3.x

tox 4.0 introduced some incompatible changes which broke our usage.
The issue has been fixed in master but we pin it to an old version to
avoid backporting the change to multiple branches in case old tox is
still used.

Change-Id: I69c843172ee21548ccd12493cae407057ddcb5ce
(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)
(cherry picked from commit 9c91632cadfefa8a3bb69b7bca1dc06e029f853f)
(cherry picked from commit b524ed936708d74bb9c5064da6866879feb67a14)
",git fetch https://review.opendev.org/openstack/storlets refs/changes/68/886068/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d6edad01309e06baadd84fa7af9fa5d7e0fc05e2,, vars: ensure_tox_version: '<4',,2,0
openstack%2Fnova-specs~master~I599decf08e7a82fe3456a04257c71d67ccfd4e63,openstack/nova-specs,master,I599decf08e7a82fe3456a04257c71d67ccfd4e63,dnm test,ABANDONED,2023-06-14 17:53:39.000000000,2023-06-14 17:56:20.000000000,,[{'_account_id': 7166}],"[{'number': 1, 'created': '2023-06-14 17:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e92900f725b9705746bb61e3c04a4e5b30a15671', 'message': 'dnm test\n\nThis is a test.\n\nChange-Id: I599decf08e7a82fe3456a04257c71d67ccfd4e63\n'}, {'number': 2, 'created': '2023-06-14 17:55:40.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8ab63d0f29db621cf59e0921d8d75a2ec74e63cd', 'message': 'dnm test\n\nThis is a test.\n\nChange-Id: I599decf08e7a82fe3456a04257c71d67ccfd4e63\n'}]",1,886116,8ab63d0f29db621cf59e0921d8d75a2ec74e63cd,4,1,2,9301,,,0,"dnm test

This is a test.

Change-Id: I599decf08e7a82fe3456a04257c71d67ccfd4e63
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/16/886116/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e92900f725b9705746bb61e3c04a4e5b30a15671,test,this is a test.,,1,0
openstack%2Freleases~master~Icfdaff39400b45092ca41a5d14e8b7f5097d9686,openstack/releases,master,Icfdaff39400b45092ca41a5d14e8b7f5097d9686,[cloudkitty-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:01:19.000000000,2023-06-14 17:36:27.000000000,2023-06-13 10:18:58.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:01:19.000000000', 'files': ['deliverables/xena/cloudkitty-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4cafc02695dc8fa2ad91d3a05de5f94c66147195', 'message': ""[cloudkitty-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 2.7.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Icfdaff39400b45092ca41a5d14e8b7f5097d9686\n""}]",6,885695,4cafc02695dc8fa2ad91d3a05de5f94c66147195,13,4,1,8556,,,0,"[cloudkitty-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 2.7.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Icfdaff39400b45092ca41a5d14e8b7f5097d9686
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/885695/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/cloudkitty-tempest-plugin.yaml'],1,4cafc02695dc8fa2ad91d3a05de5f94c66147195,xena-last, - version: xena-last projects: - repo: openstack/cloudkitty-tempest-plugin hash: b62f4684676f5aaa77f77cc68b3c89a618e86a51,,4,0
openstack%2Fgovernance~master~Id1f3daf78b3ca09cffde1863dd27a1db85927f4b,openstack/governance,master,Id1f3daf78b3ca09cffde1863dd27a1db85927f4b,Upstream investment: translations infrastructure engineer,MERGED,2023-06-06 17:52:28.000000000,2023-06-14 17:23:04.000000000,2023-06-14 16:34:46.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 23279}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-06 17:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c17477d3bb8f1db93bc79716532291d6117bcda8', 'message': 'Upstream investment: translations infrastructure engineer\n\nOutline the need for an engineer to handle adapting the current\nZanata-based translations infrastructure to instead use Weblate.\n\nChange-Id: Id1f3daf78b3ca09cffde1863dd27a1db85927f4b\n'}, {'number': 2, 'created': '2023-06-06 19:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f66aebb90a2fa2d8909298aec061dae2fa660a8b', 'message': 'Upstream investment: translations infrastructure engineer\n\nOutline the need for an engineer to handle adapting the current\nZanata-based translations infrastructure to instead use Weblate.\n\nChange-Id: Id1f3daf78b3ca09cffde1863dd27a1db85927f4b\n'}, {'number': 3, 'created': '2023-06-06 21:06:38.000000000', 'files': ['reference/upstream-investment-opportunities/2023/translations-infrastructure.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/8387f7e32afebbe4c892115e439ef861f31532f9', 'message': 'Upstream investment: translations infrastructure engineer\n\nOutline the need for an engineer to handle adapting the current\nZanata-based translations infrastructure to instead use Weblate.\n\nChange-Id: Id1f3daf78b3ca09cffde1863dd27a1db85927f4b\n'}]",17,885379,8387f7e32afebbe4c892115e439ef861f31532f9,26,7,3,5314,,,0,"Upstream investment: translations infrastructure engineer

Outline the need for an engineer to handle adapting the current
Zanata-based translations infrastructure to instead use Weblate.

Change-Id: Id1f3daf78b3ca09cffde1863dd27a1db85927f4b
",git fetch https://review.opendev.org/openstack/governance refs/changes/79/885379/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/upstream-investment-opportunities/2023/translations-infrastructure.rst'],1,c17477d3bb8f1db93bc79716532291d6117bcda8,formal-vote,"============================================================================= Engineer to Adapt the Current Zanata Translations Infrastructure to Weblate ============================================================================= Summary ------- The OpenStack community is seeking an engineer with system administrator skills (or a system administrator with engineering skills) to adapt the current translations infrastructure that connects gerrit/zuul to a self-hosted Zanata server, to connect instead to a third-party hosted Weblate server. Business Case ------------- The official language of OpenStack is United States English (en-us). End-user-facing strings in both the web UI and in responses from the OpenStack APIs appear by default in en-us. This can be a barrier to non-native English readers who would otherwise like to use an OpenStack cloud. Sponsoring an engineer to adapt the current translations infrastructure from Zanata to Weblate is a way to visibly demonstrate your commitment to the OpenStack community and investment in support for its translation to other languages. Technical Details ----------------- There are two Zuul CI jobs that exist today: upstream-translation-update and propose-translation-update [0]. upstream-translation-update operates in a source repository and generates a gettext .pot translations file for that repo then uploads those to Zanata [1]. This is the piece that takes information from the git repos and puts it in Zanata so that translators know what needs to be translated. propose-translation-update operates in a source repository and fetches .po files containing translated strings for various languages and synchronizes them into the git repositories then pushes the result to Gerrit for review [2]. Unfortunately, the end result here is a bit of spaghetti. A possibly incomplete list of bits that come into play here: [3][4][5]. Much of this isn't actually Zanata specific and can be reused. We suspect that the bulk of the work in switching to Weblate is updating these scripts [1][2] to talk to Weblate. Additionally, reorganizing things to be more centralized and easier to maintain would be helpful. Another approach would be to build new jobs from scratch copying what is useful from the old Zanata stuff. Then we can run both sets of jobs in parallel as part of the transition ; this also has the upside of allowing you to refactor from the start. [0] https://opendev.org/openstack/project-config/src/branch/master/zuul.d/jobs.yaml#L1169-L1224 [1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/roles/prepare-zanata-client/files/upstream_translation_update.sh (Note the extract_messages_* functions that are called; these create .pot files for various types of sources.) [2] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/roles/prepare-zanata-client/files/propose_translation_update.sh [3] https://opendev.org/openstack/project-config/src/branch/master/playbooks/translation [4] https://opendev.org/openstack/project-config/src/branch/master/roles/copy-proposal-common-scripts [5] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/roles/prepare-zanata-client Contact ------- * `Ian Y. Choi <https://www.openstack.org/community/members/profile/28546/iany-choi>`_ ",,69,0
openstack%2Fstorlets~stable%2Fxena~I69c843172ee21548ccd12493cae407057ddcb5ce,openstack/storlets,stable/xena,I69c843172ee21548ccd12493cae407057ddcb5ce,Stable-only: Pin tox to < 3.x,MERGED,2023-06-14 14:41:50.000000000,2023-06-14 16:45:00.000000000,2023-06-14 16:43:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 14:41:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/b524ed936708d74bb9c5064da6866879feb67a14', 'message': 'Stable-only: Pin tox to < 3.x\n\ntox 4.0 introduced some incompatible changes which broke our usage.\nThe issue has been fixed in master but we pin it to an old version to\navoid backporting the change to multiple branches in case old tox is\nstill used.\n\nChange-Id: I69c843172ee21548ccd12493cae407057ddcb5ce\n(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)\n(cherry picked from commit 9c91632cadfefa8a3bb69b7bca1dc06e029f853f)\n'}]",0,886058,b524ed936708d74bb9c5064da6866879feb67a14,7,2,1,9816,,,0,"Stable-only: Pin tox to < 3.x

tox 4.0 introduced some incompatible changes which broke our usage.
The issue has been fixed in master but we pin it to an old version to
avoid backporting the change to multiple branches in case old tox is
still used.

Change-Id: I69c843172ee21548ccd12493cae407057ddcb5ce
(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)
(cherry picked from commit 9c91632cadfefa8a3bb69b7bca1dc06e029f853f)
",git fetch https://review.opendev.org/openstack/storlets refs/changes/58/886058/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b524ed936708d74bb9c5064da6866879feb67a14,, vars: ensure_tox_version: '<4',,2,0
openstack%2Fcharm-nova-compute~stable%2Fyoga~I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,openstack/charm-nova-compute,stable/yoga,I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,Add support for using service tokens,MERGED,2023-06-13 18:38:15.000000000,2023-06-14 16:42:15.000000000,2023-06-14 16:42:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:38:15.000000000', 'files': ['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b54f6701d6cc408990add5fdb81bac1c74aa20db', 'message': 'Add support for using service tokens\n\nThis patch configures Nova to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Nova. Also with this patch Nova will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1\n(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)\n'}]",0,886016,b54f6701d6cc408990add5fdb81bac1c74aa20db,8,4,1,2424,,,0,"Add support for using service tokens

This patch configures Nova to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Nova. Also with this patch Nova will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1
(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/16/886016/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",7,b54f6701d6cc408990add5fdb81bac1c74aa20db,bug/1992840-yoga," 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin',",,17,0
openstack%2Fcharm-nova-compute~stable%2Fyoga~I5245a7728eb429c7b2c27c14792be24debee58c5,openstack/charm-nova-compute,stable/yoga,I5245a7728eb429c7b2c27c14792be24debee58c5,charm-helpers sync,MERGED,2023-06-13 18:38:15.000000000,2023-06-14 16:42:14.000000000,2023-06-14 16:42:14.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:38:15.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/templates/section-service-user', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/e020bb8c520dacb5daaab79c807d81f3c222a9e8', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: I5245a7728eb429c7b2c27c14792be24debee58c5\nRelated-Bug: #1992840\n'}]",0,886015,e020bb8c520dacb5daaab79c807d81f3c222a9e8,8,4,1,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: I5245a7728eb429c7b2c27c14792be24debee58c5
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/15/886015/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/openstack/ssh_migrations.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/charmhelpers/contrib/openstack/templates/section-service-user', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py']",13,e020bb8c520dacb5daaab79c807d81f3c222a9e8,bug/1992840-yoga," except (dns.resolver.NXDOMAIN, dns.resolver.NoNameservers): return not (bool(result))", except dns.resolver.NXDOMAIN: return not(bool(result)),105,25
openstack%2Fcharm-nova-compute~stable%2Fzed~I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,openstack/charm-nova-compute,stable/zed,I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1,Add support for using service tokens,MERGED,2023-05-05 06:48:52.000000000,2023-06-14 16:42:13.000000000,2023-06-14 16:42:13.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 06:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/de3bfabe517edffd43427c04a692df50c3ff5827', 'message': 'Add support for using service tokens\n\nThis patch configures Nova to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Nova. Also with this patch Nova will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1\n(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)\n'}, {'number': 2, 'created': '2023-06-05 13:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a971be915d1368d06a12a2fec88ac18b03e4a958', 'message': 'Add support for using service tokens\n\nThis patch configures Nova to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Nova. Also with this patch Nova will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1\n(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)\n'}, {'number': 3, 'created': '2023-06-08 19:12:46.000000000', 'files': ['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d9dc048a514546c481d1a1acb87f7f52a31a4a39', 'message': 'Add support for using service tokens\n\nThis patch configures Nova to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Nova. Also with this patch Nova will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1\n(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)\n'}]",1,882390,d9dc048a514546c481d1a1acb87f7f52a31a4a39,16,4,3,34275,,,0,"Add support for using service tokens

This patch configures Nova to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Nova. Also with this patch Nova will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I78b43ef77dc1d7b5976ec81ecddf63c9e6c8b6c1
(cherry picked from commit 3c53110282b97c42a00cee9ee344f32dc8cf29c5)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/90/882390/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/yoga/nova.conf', 'hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",7,de3bfabe517edffd43427c04a692df50c3ff5827,bug/1992840-zed," 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin', 'admin_role': 'Admin',",,17,0
openstack%2Fcharm-nova-compute~stable%2Fzed~Iadd0d4c408460db77687fc89d8b8f75b7fd5b817,openstack/charm-nova-compute,stable/zed,Iadd0d4c408460db77687fc89d8b8f75b7fd5b817,charm-helpers sync,MERGED,2023-06-05 13:21:12.000000000,2023-06-14 16:42:12.000000000,2023-06-14 16:42:12.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/34a0d0fbc509feff277b29650f19669bc347d513', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Iadd0d4c408460db77687fc89d8b8f75b7fd5b817\nRelated-Bug: #1992840\n'}, {'number': 2, 'created': '2023-06-08 19:12:46.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/templates/section-service-user', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8df5e9356f5972c0eb2db7f863fe93f485f84b95', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Iadd0d4c408460db77687fc89d8b8f75b7fd5b817\nRelated-Bug: #1992840\n'}]",1,885283,8df5e9356f5972c0eb2db7f863fe93f485f84b95,11,4,2,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: Iadd0d4c408460db77687fc89d8b8f75b7fd5b817
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/83/885283/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/templates/section-service-user', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/context.py']",4,34a0d0fbc509feff277b29650f19669bc347d513,bug/1992840-zed," adata = {} # if no app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) adata[key.replace('-', '_')] = value.strip('v') else: adata[key.replace('-', '_')] = value adata[target] = _adata.get(source) # Now preferentially get data from the app data bag, but if # it's not available, get it from the legacy based relation # data. def _resolve(key): return adata.get(key) or rdata.get(key) serv_host = _resolve('service_host') auth_host = _resolve('auth_host') int_host = _resolve('internal_host',) svc_protocol = _resolve('service_protocol') or 'http' auth_protocol = _resolve('auth_protocol') or 'http' admin_role = _resolve('admin_role') or 'Admin' int_protocol = _resolve('internal_protocol') or 'http' api_version = _resolve('api_version') or '2.0' ctxt.update({'service_port': _resolve('service_port'), 'auth_port': _resolve('auth_port'), 'internal_port': _resolve('internal_port'), 'admin_tenant_name': _resolve('service_tenant'), 'admin_user': _resolve('service_username'), 'admin_password': _resolve('service_password'), 'admin_role': admin_role, service_type = _resolve('service_type') if service_type: ctxt['service_type'] = service_type 'admin_domain_name': _resolve('service_domain'), 'service_project_id': _resolve('service_tenant_id'), 'service_domain_id': _resolve('service_domain_id')}) public_auth_url = _resolve('public_auth_url') # if 'public_auth_url' in rdata: if public_auth_url: ctxt.update({ 'public_auth_url': public_auth_url, internal_auth_url = _resolve('internal_auth_url') # if 'internal_auth_url' in rdata: if internal_auth_url: ctxt.update({ 'internal_auth_url': internal_auth_url, ctxt['admin_tenant_id'] = _resolve('service_tenant_id') ctxt['admin_domain_id'] = _resolve('service_domain_id')"," rdata[key.replace('-', '_')] = value.strip('v') else: rdata[key.replace('-', '_')] = value rdata[target] = _adata.get(source) else: # No app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) serv_host = rdata.get('service_host') auth_host = rdata.get('auth_host') int_host = rdata.get('internal_host') svc_protocol = rdata.get('service_protocol') or 'http' auth_protocol = rdata.get('auth_protocol') or 'http' int_protocol = rdata.get('internal_protocol') or 'http' api_version = rdata.get('api_version') or '2.0' ctxt.update({'service_port': rdata.get('service_port'), 'auth_port': rdata.get('auth_port'), 'internal_port': rdata.get('internal_port'), 'admin_tenant_name': rdata.get('service_tenant'), 'admin_user': rdata.get('service_username'), 'admin_password': rdata.get('service_password'), if rdata.get('service_type'): ctxt['service_type'] = rdata.get('service_type') 'admin_domain_name': rdata.get('service_domain'), 'service_project_id': rdata.get('service_tenant_id'), 'service_domain_id': rdata.get('service_domain_id')}) if 'public_auth_url' in rdata: ctxt.update({ 'public_auth_url': rdata.get('public_auth_url'), if 'internal_auth_url' in rdata: ctxt.update({ 'internal_auth_url': rdata.get('internal_auth_url'), ctxt['admin_tenant_id'] = rdata.get('service_tenant_id') ctxt['admin_domain_id'] = rdata.get('service_domain_id')",60,31
openstack%2Fcharm-keystone~stable%2Fyoga~Id7e84d38a9f774179808137548307c9174a87f87,openstack/charm-keystone,stable/yoga,Id7e84d38a9f774179808137548307c9174a87f87,Add admin-role parameter value to identity relation,MERGED,2023-06-13 18:35:06.000000000,2023-06-14 16:35:49.000000000,2023-06-14 16:35:49.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:35:06.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/d3246b4c6e3e6274c67f49b282f1077373c3247a', 'message': 'Add admin-role parameter value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nCloses-Bug: #1992840\nChange-Id: Id7e84d38a9f774179808137548307c9174a87f87\n(cherry picked from commit 55bd7022242857fd8d8c1cc823411021e61bcba4)\n'}]",0,886012,d3246b4c6e3e6274c67f49b282f1077373c3247a,8,4,1,2424,,,0,"Add admin-role parameter value to identity relation

This parameter is added to the relation in order to configure service
tokens on related services. The role of the service user is required for
service token validation.

Closes-Bug: #1992840
Change-Id: Id7e84d38a9f774179808137548307c9174a87f87
(cherry picked from commit 55bd7022242857fd8d8c1cc823411021e61bcba4)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/12/886012/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,d3246b4c6e3e6274c67f49b282f1077373c3247a,bug/1992840-yoga," ""admin_role"": config(""admin-role""),",,2,0
openstack%2Fcharm-keystone~stable%2Fyoga~Ia8c65639f82bf881349f0319eca19510eb1ce53b,openstack/charm-keystone,stable/yoga,Ia8c65639f82bf881349f0319eca19510eb1ce53b,charm-helpers sync,MERGED,2023-06-13 18:35:06.000000000,2023-06-14 16:35:48.000000000,2023-06-14 16:35:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:35:06.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/51cdd61fdcb4a27c58a36e141b4ca46dbe2167ac', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Ia8c65639f82bf881349f0319eca19510eb1ce53b\nRelated-Bug: #1992840\n'}]",0,886011,51cdd61fdcb4a27c58a36e141b4ca46dbe2167ac,8,4,1,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: Ia8c65639f82bf881349f0319eca19510eb1ce53b
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/11/886011/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",10,51cdd61fdcb4a27c58a36e141b4ca46dbe2167ac,bug/1992840-yoga,service_token_roles = {{ admin_role }} service_token_roles_required = True,,36,8
openstack%2Fironic~master~Ic3df86f395601742d2fea2bcde62f7547067d8e4,openstack/ironic,master,Ic3df86f395601742d2fea2bcde62f7547067d8e4,Handle duplicate node inventory entries per node,MERGED,2023-06-05 05:38:41.000000000,2023-06-14 16:35:32.000000000,2023-06-14 16:33:52.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-05 05:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfe0e8e2fa74c5c74edfbb25352ea23e16f73418', 'message': 'Handle duplicate node inventory entries per node\n\nWhen a node is inspected more than one time and the database is\nconfigured as a storage backend, a new entry is made in the database\nfor each inspection result (node inventory). This patch handles this\nbehaviour as follows:\nBy deleting previous inventory entries for the same node before adding\n a new entry in the database.\nBy retrieving the most recent node inventory from the database when the\ndatabase is queried.\n\nChange-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4\n'}, {'number': 2, 'created': '2023-06-05 05:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/026ac092875d4cc81fbf21943876b497b1d6efba', 'message': 'Handle duplicate node inventory entries per node\n\nWhen a node is inspected more than one time and the database is\nconfigured as a storage backend, a new entry is made in the database\nfor each inspection result (node inventory). This patch handles this\nbehaviour as follows:\nBy deleting previous inventory entries for the same node before adding\n a new entry in the database.\nBy retrieving the most recent node inventory from the database when the\ndatabase is queried.\n\nChange-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4\n'}, {'number': 3, 'created': '2023-06-05 06:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4808fae1acb8d578f1a52ac542e8dbbcd42f39c1', 'message': 'Handle duplicate node inventory entries per node\n\nWhen a node is inspected more than one time and the database is\nconfigured as a storage backend, a new entry is made in the database\nfor each inspection result (node inventory). This patch handles this\nbehaviour as follows:\nBy deleting previous inventory entries for the same node before adding\n a new entry in the database.\nBy retrieving the most recent node inventory from the database when the\ndatabase is queried.\n\nChange-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4\n'}, {'number': 4, 'created': '2023-06-07 10:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dbfd2388080a741d196aeec81d2b655ea17c6727', 'message': 'Handle duplicate node inventory entries per node\n\nWhen a node is inspected more than one time and the database is\nconfigured as a storage backend, a new entry is made in the database\nfor each inspection result (node inventory). This patch handles this\nbehaviour as follows:\nBy deleting previous inventory entries for the same node before adding\n a new entry in the database.\nBy retrieving the most recent node inventory from the database when the\ndatabase is queried.\n\nChange-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4\n'}, {'number': 5, 'created': '2023-06-07 12:09:47.000000000', 'files': ['ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_nodes.py', 'releasenotes/notes/handle-duplicate-node-inventories-fc41a7decbb6da76.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa2d6685f373168a9dfe4cd1f7d83af9d87a025c', 'message': 'Handle duplicate node inventory entries per node\n\nWhen a node is inspected more than one time and the database is\nconfigured as a storage backend, a new entry is made in the database\nfor each inspection result (node inventory). This patch handles this\nbehaviour as follows:\nBy deleting previous inventory entries for the same node before adding\n a new entry in the database.\nBy retrieving the most recent node inventory from the database when the\ndatabase is queried.\n\nChange-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4\n'}]",6,884608,fa2d6685f373168a9dfe4cd1f7d83af9d87a025c,31,3,5,35929,,,0,"Handle duplicate node inventory entries per node

When a node is inspected more than one time and the database is
configured as a storage backend, a new entry is made in the database
for each inspection result (node inventory). This patch handles this
behaviour as follows:
By deleting previous inventory entries for the same node before adding
 a new entry in the database.
By retrieving the most recent node inventory from the database when the
database is queried.

Change-Id: Ic3df86f395601742d2fea2bcde62f7547067d8e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/884608/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/db/test_node_inventory.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",5,bfe0e8e2fa74c5c74edfbb25352ea23e16f73418,handle-duplicate-inventories-db," fake_inventory_data = {'cpu': {'count': 1, 'model_name': 'qemu64', 'architecture': 'x86_64'}}"," fake_inventory_data = {""cpu"": ""amd""}",49,15
openstack%2Fcharm-ironic-conductor~stable%2Fyoga~Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,openstack/charm-ironic-conductor,stable/yoga,Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,Add support for using service tokens,MERGED,2023-06-13 20:15:04.000000000,2023-06-14 16:34:53.000000000,2023-06-14 16:34:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 20:15:04.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/f2b4c4b6540752e8de1b9f2b8d04c5e2f1b59a98', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)\n'}]",0,886029,f2b4c4b6540752e8de1b9f2b8d04c5e2f1b59a98,8,4,1,2424,,,0,"Add support for using service tokens

This patch configures ironic-conductor to send a service token along
with the received user token on requests to other services. This allow
those other services to accept the request even if the user token has
been invalidated since received by Ironic. Also with this patch Ironic
will accept request from other services with invalid user tokens but
valid service tokens.

Closes-Bug: #1992840
Change-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9
(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/29/886029/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,f2b4c4b6540752e8de1b9f2b8d04c5e2f1b59a98,bug/1992840-yoga,service_token_roles = {{ identity_credentials.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fyoga~Ic581a63abdbce5a71a45f9390c0615942e6f0876,openstack/charm-nova-cloud-controller,stable/yoga,Ic581a63abdbce5a71a45f9390c0615942e6f0876,charm-helpers sync,MERGED,2023-06-13 18:36:48.000000000,2023-06-14 16:33:33.000000000,2023-06-14 16:33:33.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:36:48.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ef45a47655ecd78ef141f86756e46d0fe90b99f7', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Ic581a63abdbce5a71a45f9390c0615942e6f0876\nRelated-Bug: #1992840\n'}]",0,886013,ef45a47655ecd78ef141f86756e46d0fe90b99f7,8,4,1,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: Ic581a63abdbce5a71a45f9390c0615942e6f0876
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/13/886013/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",11,ef45a47655ecd78ef141f86756e46d0fe90b99f7,bug/1992840-yoga,service_token_roles = {{ admin_role }} service_token_roles_required = True,,56,10
openstack%2Fkolla-ansible~master~Id2616d8490523b5994d51344bb89eb4e4feb21fe,openstack/kolla-ansible,master,Id2616d8490523b5994d51344bb89eb4e4feb21fe,remove unnecessary comments,NEW,2023-05-26 13:43:16.000000000,2023-06-14 16:33:11.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f143b96aaad409d6822ce25bbaf4d8c1097ddd6', 'message': 'remove unnecessary comments\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: Id2616d8490523b5994d51344bb89eb4e4feb21fe\n'}, {'number': 2, 'created': '2023-06-14 15:03:55.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e327267d0a2bc6ac601836b9fa7eb6ef8be8588', 'message': 'remove unnecessary comments\n\nSigned-off-by: Sven Kieske <kieske@osism.tech>\nChange-Id: Id2616d8490523b5994d51344bb89eb4e4feb21fe\n'}]",0,884503,2e327267d0a2bc6ac601836b9fa7eb6ef8be8588,7,2,2,32553,,,0,"remove unnecessary comments

Signed-off-by: Sven Kieske <kieske@osism.tech>
Change-Id: Id2616d8490523b5994d51344bb89eb4e4feb21fe
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/884503/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,0f143b96aaad409d6822ce25bbaf4d8c1097ddd6,cleanup/remove_comments,, # Ansible inventory # globals.yml # global.conf # nova-compute.conf # neutron.conf # bifrost/dib.yml # ironic.conf,0,7
openstack%2Fcharm-cinder~stable%2Fyoga~I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,openstack/charm-cinder,stable/yoga,I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,Add support for using service tokens,MERGED,2023-06-13 18:39:18.000000000,2023-06-14 16:32:20.000000000,2023-06-14 16:32:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:39:18.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/b96c85f5a6b8e3d173a4f810fd4d5fd82737795e', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)\n'}]",0,886018,b96c85f5a6b8e3d173a4f810fd4d5fd82737795e,8,4,1,2424,,,0,"Add support for using service tokens

This patch configures Cinder to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Cinder. Also with this patch Cinder will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9
(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/18/886018/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,b96c85f5a6b8e3d173a4f810fd4d5fd82737795e,bug/1992840-yoga,"{% include ""section-service-user"" %} ",,2,0
openstack%2Fcharm-cinder~stable%2Fyoga~Iba36e4b97f542c4c7727a1851c3e68b049a25f85,openstack/charm-cinder,stable/yoga,Iba36e4b97f542c4c7727a1851c3e68b049a25f85,charm-helpers sync,MERGED,2023-06-13 18:39:18.000000000,2023-06-14 16:31:15.000000000,2023-06-14 16:31:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 18:39:18.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/68752c604e7a6541eb95fa3060b35222d5be3424', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nRelated-Bug: #1992840\nChange-Id: Iba36e4b97f542c4c7727a1851c3e68b049a25f85\n'}]",0,886017,68752c604e7a6541eb95fa3060b35222d5be3424,8,4,1,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Related-Bug: #1992840
Change-Id: Iba36e4b97f542c4c7727a1851c3e68b049a25f85
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/17/886017/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",11,68752c604e7a6541eb95fa3060b35222d5be3424,bug/1992840-yoga,service_token_roles = {{ admin_role }} service_token_roles_required = True,,57,11
openstack%2Fcharm-ironic-api~stable%2Fzed~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,stable/zed,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-06-07 22:10:39.000000000,2023-06-14 16:22:53.000000000,2023-06-14 16:22:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/eca9a37e02823976e1ff798855c166ac103421a3', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}, {'number': 2, 'created': '2023-06-08 19:06:56.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/a2ef3dda1001d591b934e7c5e361f708d344bdcb', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/zed\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}]",1,885476,a2ef3dda1001d591b934e7c5e361f708d344bdcb,13,4,2,2424,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/zed

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/76/885476/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,eca9a37e02823976e1ff798855c166ac103421a3,bug/1992840-stable/zed,service_token_roles = {{ identity_service.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fcinder~stable%2Fzed~I347f0ee63d8d13ff181dd41a542a006b7c10b488,openstack/cinder,stable/zed,I347f0ee63d8d13ff181dd41a542a006b7c10b488,DNM:Netapp ONTAP: Add support to revert to snapshot,ABANDONED,2023-06-14 13:30:17.000000000,2023-06-14 16:18:11.000000000,,[],"[{'number': 1, 'created': '2023-06-14 13:30:17.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b80669c4961d674255be44cc8f7b584a2f4557c', 'message': 'DNM:Netapp ONTAP: Add support to revert to snapshot\n\nThis patch adds support to revert to snapshot for NFS, FC and\niSCSI drivers with FlexVol pool.\n\nAdds a method on client_cmode to rename a NFS volume file using\nthe file-rename-file zapi call.\n\nThe revert steps are:\n  1. Create a clone volume file/LUN from snapshot.\n  2. Change the original volume file/LUN path to a temporary path.\n  3. Change clone file/LUN path to the original path.\n  4. Delete the volume file/LUN on temporary path.\n\nIf any step fails, the original volume file/LUN is preserved and\nthe clone file/LUN is deleted.\n\nFor NFS, ONTAP clone file is not supported on FlexGroup pool, in\nthis case the generic implementation will perform the revert to\nsnapshot.\n\nImplements: blueprint ontap-revert-to-snapshot\nCo-Authored-By: Fabio Oliveira <fabioaurelio1269@gmail.com>\nChange-Id: I347f0ee63d8d13ff181dd41a542a006b7c10b488\n(cherry picked from commit 1f96b386b35841c181c390a199c80487fde41b5d)\n'}]",0,886096,8b80669c4961d674255be44cc8f7b584a2f4557c,4,0,1,35586,,,0,"DNM:Netapp ONTAP: Add support to revert to snapshot

This patch adds support to revert to snapshot for NFS, FC and
iSCSI drivers with FlexVol pool.

Adds a method on client_cmode to rename a NFS volume file using
the file-rename-file zapi call.

The revert steps are:
  1. Create a clone volume file/LUN from snapshot.
  2. Change the original volume file/LUN path to a temporary path.
  3. Change clone file/LUN path to the original path.
  4. Delete the volume file/LUN on temporary path.

If any step fails, the original volume file/LUN is preserved and
the clone file/LUN is deleted.

For NFS, ONTAP clone file is not supported on FlexGroup pool, in
this case the generic implementation will perform the revert to
snapshot.

Implements: blueprint ontap-revert-to-snapshot
Co-Authored-By: Fabio Oliveira <fabioaurelio1269@gmail.com>
Change-Id: I347f0ee63d8d13ff181dd41a542a006b7c10b488
(cherry picked from commit 1f96b386b35841c181c390a199c80487fde41b5d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/886096/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py']",2,8b80669c4961d674255be44cc8f7b584a2f4557c,bp/ontap-revert-to-snapshot," metadata = snapshot_lun.metadata self.zapi_client.create_lun( flexvol_name, new_snap_name, six.text_type(snapshot_lun.size), metadata) block_count=block_count)"," space_reserved='false', is_snapshot=True)",20,5
openstack%2Fcharm-nova-cloud-controller~stable%2Fzed~I95021600da8af12cb75ef5681fb5af8780ade4f8,openstack/charm-nova-cloud-controller,stable/zed,I95021600da8af12cb75ef5681fb5af8780ade4f8,Add support for using service tokens,MERGED,2023-06-05 13:26:35.000000000,2023-06-14 16:15:58.000000000,2023-06-14 16:15:58.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/713fda0dc614a2391714552c356d703226dd99ac', 'message': 'Add support for using service tokens\n\nThis patch configures nova-cloud-controller to send a service token\nalong with the received user token on requests sent to other services.\nThis allows those other services to accept the request even if the user\ntoken has been invalidated since received by the nova services running\nin nova-cloud-controller units, the same applies for incoming requests\nfrom other services. Service tokens exist since Openstack Queens.\n\nChange-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8\nCloses-Bug: #1992840\n(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)\n'}, {'number': 2, 'created': '2023-06-08 19:15:12.000000000', 'files': ['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/54e27a1f0c11075ac7427fdb592c2c521f7c15e6', 'message': 'Add support for using service tokens\n\nThis patch configures nova-cloud-controller to send a service token\nalong with the received user token on requests sent to other services.\nThis allows those other services to accept the request even if the user\ntoken has been invalidated since received by the nova services running\nin nova-cloud-controller units, the same applies for incoming requests\nfrom other services. Service tokens exist since Openstack Queens.\n\nChange-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8\nCloses-Bug: #1992840\n(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)\n'}]",0,885285,54e27a1f0c11075ac7427fdb592c2c521f7c15e6,11,4,2,2424,,,0,"Add support for using service tokens

This patch configures nova-cloud-controller to send a service token
along with the received user token on requests sent to other services.
This allows those other services to accept the request even if the user
token has been invalidated since received by the nova services running
in nova-cloud-controller units, the same applies for incoming requests
from other services. Service tokens exist since Openstack Queens.

Change-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8
Closes-Bug: #1992840
(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/85/885285/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf']",3,713fda0dc614a2391714552c356d703226dd99ac,bug/1992840-zed,"{% include ""section-service-user"" %} ",,6,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fzed~I999900d6e68ceef901b8d34e54d32fa06e849f72,openstack/charm-nova-cloud-controller,stable/zed,I999900d6e68ceef901b8d34e54d32fa06e849f72,charm-helpers sync,MERGED,2023-06-05 13:26:35.000000000,2023-06-14 16:15:57.000000000,2023-06-14 16:15:57.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/465bf7a41030da1ddea408353c7ec4a93cab55b0', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: I999900d6e68ceef901b8d34e54d32fa06e849f72\nRelated-Bug: #1992840\n'}, {'number': 2, 'created': '2023-06-08 19:15:12.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8359987460c47c6d5d9b618b43f59cda19526881', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: I999900d6e68ceef901b8d34e54d32fa06e849f72\nRelated-Bug: #1992840\n'}]",0,885284,8359987460c47c6d5d9b618b43f59cda19526881,11,4,2,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: I999900d6e68ceef901b8d34e54d32fa06e849f72
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/84/885284/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",4,465bf7a41030da1ddea408353c7ec4a93cab55b0,bug/1992840-zed,service_token_roles = {{ admin_role }} service_token_roles_required = True,,17,0
openstack%2Fcharm-ironic-conductor~stable%2Fzed~Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,openstack/charm-ironic-conductor,stable/zed,Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,Add support for using service tokens,MERGED,2023-06-07 22:10:14.000000000,2023-06-14 16:13:03.000000000,2023-06-14 16:13:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/349ba0555366bf1d7130ecaef1c6e341da10f0aa', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)\n'}, {'number': 2, 'created': '2023-06-08 19:08:53.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/aa73b57b9c4bffd376ca65869df964bc205accef', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/zed\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)\n'}]",1,885475,aa73b57b9c4bffd376ca65869df964bc205accef,11,4,2,2424,,,0,"Add support for using service tokens

This patch configures ironic-conductor to send a service token along
with the received user token on requests to other services. This allow
those other services to accept the request even if the user token has
been invalidated since received by Ironic. Also with this patch Ironic
will accept request from other services with invalid user tokens but
valid service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/zed

Closes-Bug: #1992840
Change-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9
(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/75/885475/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,349ba0555366bf1d7130ecaef1c6e341da10f0aa,bug/1992840-stable/zed,service_token_roles = {{ identity_credentials.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fcharm-keystone~stable%2Fzed~Id7e84d38a9f774179808137548307c9174a87f87,openstack/charm-keystone,stable/zed,Id7e84d38a9f774179808137548307c9174a87f87,Add admin-role parameter value to identity relation,MERGED,2023-06-01 20:35:55.000000000,2023-06-14 16:09:58.000000000,2023-06-14 16:09:58.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 20:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/bac1678c9a097ddcf4207d5597dd07251191eb30', 'message': 'Add admin-role parameter value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nCloses-Bug: #1992840\nChange-Id: Id7e84d38a9f774179808137548307c9174a87f87\n(cherry picked from commit 55bd7022242857fd8d8c1cc823411021e61bcba4)\n'}, {'number': 2, 'created': '2023-06-08 19:14:36.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/70ef4f388a8d76a4368b6250817046d37bb73513', 'message': 'Add admin-role parameter value to identity relation\n\nThis parameter is added to the relation in order to configure service\ntokens on related services. The role of the service user is required for\nservice token validation.\n\nCloses-Bug: #1992840\nChange-Id: Id7e84d38a9f774179808137548307c9174a87f87\n(cherry picked from commit 55bd7022242857fd8d8c1cc823411021e61bcba4)\n'}]",0,885096,70ef4f388a8d76a4368b6250817046d37bb73513,12,4,2,2424,,,0,"Add admin-role parameter value to identity relation

This parameter is added to the relation in order to configure service
tokens on related services. The role of the service user is required for
service token validation.

Closes-Bug: #1992840
Change-Id: Id7e84d38a9f774179808137548307c9174a87f87
(cherry picked from commit 55bd7022242857fd8d8c1cc823411021e61bcba4)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/96/885096/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,bac1678c9a097ddcf4207d5597dd07251191eb30,bug/1992840-zed," ""admin_role"": config(""admin-role""),",,2,0
openstack%2Fcharm-keystone~stable%2Fzed~Ic2fa24e864a495e80b6ffa024d3ba55df84f34e0,openstack/charm-keystone,stable/zed,Ic2fa24e864a495e80b6ffa024d3ba55df84f34e0,charm-helpers sync,MERGED,2023-06-01 20:35:55.000000000,2023-06-14 16:09:57.000000000,2023-06-14 16:09:57.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 20:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/09b139ec1b3f9cdfc1d4b9715c2ed3c26bc9aea7', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Ic2fa24e864a495e80b6ffa024d3ba55df84f34e0\nRelated-Bug: #1992840\n'}, {'number': 2, 'created': '2023-06-08 19:14:36.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1b940a11020d5ed264670420c48aef2b6013dfd4', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nChange-Id: Ic2fa24e864a495e80b6ffa024d3ba55df84f34e0\nRelated-Bug: #1992840\n'}]",0,885095,1b940a11020d5ed264670420c48aef2b6013dfd4,12,4,2,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Change-Id: Ic2fa24e864a495e80b6ffa024d3ba55df84f34e0
Related-Bug: #1992840
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/95/885095/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",4,09b139ec1b3f9cdfc1d4b9715c2ed3c26bc9aea7,bug/1992840-zed,service_token_roles = {{ admin_role }} service_token_roles_required = True,,17,0
openstack%2Fcharm-cinder~stable%2Fzed~I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,openstack/charm-cinder,stable/zed,I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9,Add support for using service tokens,MERGED,2023-06-05 13:28:25.000000000,2023-06-14 16:08:38.000000000,2023-06-14 16:08:38.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2eb6c9179278ec9608f6ed5eebf5922c0f2ae8bc', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)\n'}, {'number': 2, 'created': '2023-06-08 19:11:52.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/4f2a3524462b7f4be4f65077d7f8840a15db4c25', 'message': 'Add support for using service tokens\n\nThis patch configures Cinder to send a service token along with the\nreceived user token on requests to other services. This can allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Cinder. Also with this patch Cinder will\naccept request from other services with invalid user tokens but valid\nservice tokens. Service tokens exist since Openstack Queens.\n\nCloses-Bug: #1992840\nChange-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9\n(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)\n'}]",0,885287,4f2a3524462b7f4be4f65077d7f8840a15db4c25,11,4,2,2424,,,0,"Add support for using service tokens

This patch configures Cinder to send a service token along with the
received user token on requests to other services. This can allow those
other services to accept the request even if the user token has been
invalidated since received by Cinder. Also with this patch Cinder will
accept request from other services with invalid user tokens but valid
service tokens. Service tokens exist since Openstack Queens.

Closes-Bug: #1992840
Change-Id: I6cb9b1cb257db0b57bd7984c795b8caa1e3b74d9
(cherry picked from commit 81c330b5d87a64a7a9ec601f4dd263b836ee9c01)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/87/885287/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,2eb6c9179278ec9608f6ed5eebf5922c0f2ae8bc,bug/1992840-zed,"{% include ""section-service-user"" %} ",,2,0
openstack%2Fcharm-ironic-api~stable%2F2023.1~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,stable/2023.1,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-06-07 21:49:24.000000000,2023-06-14 16:08:09.000000000,2023-06-14 16:08:09.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 21:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/03d48e846390907186ce9365bd9e2a678e8a1eaf', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}, {'number': 2, 'created': '2023-06-08 18:57:31.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/44cd40185aeef5e5e91eadd15f0c26798ed1dfc8', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/antelope\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n'}]",1,885473,44cd40185aeef5e5e91eadd15f0c26798ed1dfc8,13,4,2,2424,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/antelope

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/73/885473/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,03d48e846390907186ce9365bd9e2a678e8a1eaf,bug/1992840-stable/2023.1,service_token_roles = {{ identity_service.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fcharm-cinder~stable%2Fzed~I8f26519afb36a0c54c35c8e0b8d0800893f22ffc,openstack/charm-cinder,stable/zed,I8f26519afb36a0c54c35c8e0b8d0800893f22ffc,charm-helpers sync,MERGED,2023-06-05 13:28:25.000000000,2023-06-14 16:08:01.000000000,2023-06-14 16:08:01.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d6e381f7376eac980f71c9a24a2178330306d0d1', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nRelated-Bug: #1992840\nChange-Id: I8f26519afb36a0c54c35c8e0b8d0800893f22ffc\n'}, {'number': 2, 'created': '2023-06-08 19:11:52.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1299b2da5611ba331ecc47c01e387937565aaad4', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nRelated-Bug: #1992840\nChange-Id: I8f26519afb36a0c54c35c8e0b8d0800893f22ffc\n'}]",1,885286,1299b2da5611ba331ecc47c01e387937565aaad4,11,4,2,2424,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Related-Bug: #1992840
Change-Id: I8f26519afb36a0c54c35c8e0b8d0800893f22ffc
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/86/885286/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",4,d6e381f7376eac980f71c9a24a2178330306d0d1,bug/1992840-zed,service_token_roles = {{ admin_role }} service_token_roles_required = True,,60,31
openstack%2Fstorlets~stable%2Fzed~Ibfd2c107e5be54fee284981bed2e508e18e1cc3b,openstack/storlets,stable/zed,Ibfd2c107e5be54fee284981bed2e508e18e1cc3b,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-09-16 09:56:31.000000000,2023-06-14 15:30:38.000000000,2023-06-14 15:29:35.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-16 09:56:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/ac7dd6e6bbcff9ea534aaf15bb40795655399d8b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ibfd2c107e5be54fee284981bed2e508e18e1cc3b\n'}]",3,858062,ac7dd6e6bbcff9ea534aaf15bb40795655399d8b,14,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ibfd2c107e5be54fee284981bed2e508e18e1cc3b
",git fetch https://review.opendev.org/openstack/storlets refs/changes/62/858062/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ac7dd6e6bbcff9ea534aaf15bb40795655399d8b,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fcharm-cinder-backup~stable%2F2023.1~I81839f5cddcd0072d978e203883e5c50e2c0c891,openstack/charm-cinder-backup,stable/2023.1,I81839f5cddcd0072d978e203883e5c50e2c0c891,Charm-helpers sync,NEW,2023-06-08 19:37:19.000000000,2023-06-14 15:24:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:37:19.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/115075a02466809e7a8096f1bbc1f2e80e68c05a', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I81839f5cddcd0072d978e203883e5c50e2c0c891\n'}]",3,885614,115075a02466809e7a8096f1bbc1f2e80e68c05a,9,2,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I81839f5cddcd0072d978e203883e5c50e2c0c891
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/14/885614/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",4,115075a02466809e7a8096f1bbc1f2e80e68c05a,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-ops-sunbeam~main~I5f1e36fd2594ffe45c8d418c53afd8f561d2509e,openstack/charm-ops-sunbeam,main,I5f1e36fd2594ffe45c8d418c53afd8f561d2509e,Use ops framework for opening ports,ABANDONED,2023-03-03 09:40:35.000000000,2023-06-14 15:13:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-03 09:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/e640a89f89e7b60abf80e938178f2db440684ab8', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 2, 'created': '2023-03-03 09:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/b3d980dc5e0c0236828189b9cb1762cc8f791bcf', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 3, 'created': '2023-03-03 09:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/b9a97e21d05ac98f509b9c8611de81b2d99ffa2d', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 4, 'created': '2023-03-03 10:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/d0bfb70d202ccb7f3c7acf16812ea4b9796b2827', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 5, 'created': '2023-03-03 10:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/6eeaccc323c066f094ab0441235019de95708d9e', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 6, 'created': '2023-03-03 10:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/b2593da185cada757267e75e43f176cbe5305861', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 7, 'created': '2023-04-04 09:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/4a577685361a8193a7563fce9651347166cb51e7', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}, {'number': 8, 'created': '2023-04-24 08:04:41.000000000', 'files': ['requirements.txt', 'doc/writing-OS-API-charm.rst', 'unit_tests/test_core.py', 'unit_tests/test_job_ctrl.py', 'ops_sunbeam/charm.py', 'unit_tests/lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'unit_tests/test_charms.py', 'pyproject.toml', 'tox.ini', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/d6128ddc4e48c149008f1ccf1cfca26769e00c5d', 'message': 'Use ops framework for opening ports\n\nJuju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S\noperators using the open-port hook commands.\n\nSwitch away from use of k8s service patcher for this purpose;\nthis probably means that most OpenStack K8S operators can now\nbe deployed untrusted aside from those that patch their service\ndefinition to be of type LoadBalancer rather than ClusterIP.\n\nThe existing method of exposing the default ingress port is\nsupported as well as the ability to provide a charm specific\nset of ports to open for the service.\n\nChange-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e\n'}]",1,876262,d6128ddc4e48c149008f1ccf1cfca26769e00c5d,15,1,8,935,,,0,"Use ops framework for opening ports

Juju >= 3.1 and ops >= 2.1.0 support opening of ports for K8S
operators using the open-port hook commands.

Switch away from use of k8s service patcher for this purpose;
this probably means that most OpenStack K8S operators can now
be deployed untrusted aside from those that patch their service
definition to be of type LoadBalancer rather than ClusterIP.

The existing method of exposing the default ingress port is
supported as well as the ability to provide a charm specific
set of ports to open for the service.

Change-Id: I5f1e36fd2594ffe45c8d418c53afd8f561d2509e
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/62/876262/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'unit_tests/test_core.py', 'unit_tests/lib/charms/observability_libs/v0/kubernetes_service_patch.py', 'ops_sunbeam/charm.py', 'pyproject.toml', 'unit_tests/test_charms.py', 'tox.ini', 'fetch-libs.sh']",8,e640a89f89e7b60abf80e938178f2db440684ab8,ops-open-port,,charmcraft fetch-lib charms.observability_libs.v0.kubernetes_service_patch,33,289
openstack%2Fcharm-keystone-k8s~main~I31a36a421f6691adadc4bc18f76d6f5358c1b032,openstack/charm-keystone-k8s,main,I31a36a421f6691adadc4bc18f76d6f5358c1b032,Prepare for rollout of service tokens,ABANDONED,2023-05-30 14:52:38.000000000,2023-06-14 15:13:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 14:52:38.000000000', 'files': ['lib/charms/keystone_k8s/v1/identity_service.py', 'tests/unit/test_keystone_charm.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/08c5c7b700b9b5d3424981c401bd915ba0f8582c', 'message': 'Prepare for rollout of service tokens\n\nPass the configured admin role across identity-service relations.\n\nChange-Id: I31a36a421f6691adadc4bc18f76d6f5358c1b032\n'}]",0,884712,08c5c7b700b9b5d3424981c401bd915ba0f8582c,3,1,1,935,,,0,"Prepare for rollout of service tokens

Pass the configured admin role across identity-service relations.

Change-Id: I31a36a421f6691adadc4bc18f76d6f5358c1b032
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/12/884712/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/keystone_k8s/v1/identity_service.py', 'tests/unit/test_keystone_charm.py', 'src/charm.py']",3,08c5c7b700b9b5d3424981c401bd915ba0f8582c,feat/service-tokens," admin_role = self.model.config[""admin-role""] admin_role,",,11,2
openstack%2Fos-net-config~stable%2Fzed~I528337801f0c31d8e72ebb11a602bacbb565cd3b,openstack/os-net-config,stable/zed,I528337801f0c31d8e72ebb11a602bacbb565cd3b,Remove jobs which blocks CI.,MERGED,2023-06-09 09:51:28.000000000,2023-06-14 15:13:14.000000000,2023-06-14 15:11:24.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 33688}]","[{'number': 1, 'created': '2023-06-09 09:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/448e38a74995337099519e79761d7f7bd9db461e', 'message': 'Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n(cherry picked from commit ed17dcc2cb157e2fe83ea9d00272bb98e48f2a54)\n'}, {'number': 2, 'created': '2023-06-09 09:51:59.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/916ab60737a96ba3bde95d21e22700c7aee6f654', 'message': 'Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n(cherry picked from commit ed17dcc2cb157e2fe83ea9d00272bb98e48f2a54)\n'}]",0,885484,916ab60737a96ba3bde95d21e22700c7aee6f654,12,4,2,18904,,,0,"Remove jobs which blocks CI.

Remove the job tripleo-multinode-container-minimal-pipeline, since
it blocks the CI and is no longer maintained in master/Zed.

Change-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b
(cherry picked from commit ed17dcc2cb157e2fe83ea9d00272bb98e48f2a54)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/84/885484/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,448e38a74995337099519e79761d7f7bd9db461e,,"<<<<<<< HEAD (dcd4d9 Merge ""Fix PKEY_ID value in ifcfg file of infiniband child i)======= >>>>>>> CHANGE (ed17dc Remove jobs which blocks CI.)", - tripleo-ci-centos-9-content-provider: dependencies: - openstack-tox-pep8,3,3
openstack%2Fcharm-guide~master~I6eb06b8eea845be800e69cf352f519b31f988b0b,openstack/charm-guide,master,I6eb06b8eea845be800e69cf352f519b31f988b0b,Set up pages for 2023.2 release,MERGED,2023-06-13 13:06:36.000000000,2023-06-14 15:09:14.000000000,2023-06-14 15:08:17.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-06-13 13:06:36.000000000', 'files': ['doc/source/release-notes/2023.2-bobcat.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/220e9b3de0b68e1146bfdddc2674ec3947073ef4', 'message': ""Set up pages for 2023.2 release\n\n- Add release notes page (with milestone '2023.2 (Bobcat)')\n- Add entry to the release schedule page\n\nChange-Id: I6eb06b8eea845be800e69cf352f519b31f988b0b\n""}]",1,885995,220e9b3de0b68e1146bfdddc2674ec3947073ef4,8,2,1,2424,,,0,"Set up pages for 2023.2 release

- Add release notes page (with milestone '2023.2 (Bobcat)')
- Add entry to the release schedule page

Change-Id: I6eb06b8eea845be800e69cf352f519b31f988b0b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/95/885995/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/release-notes/2023.2-bobcat.rst', 'doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst']",3,220e9b3de0b68e1146bfdddc2674ec3947073ef4,open-2023.2,* :doc:`2023.2-bobcat`,* *coming soon*,109,1
openstack%2Fstorlets~stable%2Fyoga~I69c843172ee21548ccd12493cae407057ddcb5ce,openstack/storlets,stable/yoga,I69c843172ee21548ccd12493cae407057ddcb5ce,Stable-only: Pin tox to < 3.x,MERGED,2023-06-14 14:14:50.000000000,2023-06-14 15:01:34.000000000,2023-06-14 14:59:46.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 14:14:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/9c91632cadfefa8a3bb69b7bca1dc06e029f853f', 'message': 'Stable-only: Pin tox to < 3.x\n\ntox 4.0 introduced some incompatible changes which broke our usage.\nThe issue has been fixed in master but we pin it to an old version to\navoid backporting the change to multiple branches in case old tox is\nstill used.\n\nChange-Id: I69c843172ee21548ccd12493cae407057ddcb5ce\n(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)\n'}]",0,886057,9c91632cadfefa8a3bb69b7bca1dc06e029f853f,7,2,1,9816,,,0,"Stable-only: Pin tox to < 3.x

tox 4.0 introduced some incompatible changes which broke our usage.
The issue has been fixed in master but we pin it to an old version to
avoid backporting the change to multiple branches in case old tox is
still used.

Change-Id: I69c843172ee21548ccd12493cae407057ddcb5ce
(cherry picked from commit 513ffada48a1774186d2d7290ad549a83a02161b)
",git fetch https://review.opendev.org/openstack/storlets refs/changes/57/886057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9c91632cadfefa8a3bb69b7bca1dc06e029f853f,, vars: ensure_tox_version: '<4',,2,0
openstack%2Fcharm-cinder-purestorage~master~I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,openstack/charm-cinder-purestorage,master,I3cdcea3a6bcadd38680a30553649dc6ed5202dd5,Add pkg-config to charmcraft.yaml for binary builds,MERGED,2023-06-14 13:22:46.000000000,2023-06-14 14:59:52.000000000,2023-06-14 14:59:52.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 13:22:46.000000000', 'files': ['charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/c2a17eb5c137f3431c322a6cc47a71cd5071e6e3', 'message': ""Add pkg-config to charmcraft.yaml for binary builds\n\nDepending on the build platform (e.g. s390x, ppc64el), sometimes\npkg-config is required, and sometimes it isn't.  Add it to make sure it\nis available depending on the availability of binary wheels for\narchitectures.\n\nCloses-Bug: #2023777\nChange-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5\n""}]",1,886094,c2a17eb5c137f3431c322a6cc47a71cd5071e6e3,8,4,1,20870,,,0,"Add pkg-config to charmcraft.yaml for binary builds

Depending on the build platform (e.g. s390x, ppc64el), sometimes
pkg-config is required, and sometimes it isn't.  Add it to make sure it
is available depending on the availability of binary wheels for
architectures.

Closes-Bug: #2023777
Change-Id: I3cdcea3a6bcadd38680a30553649dc6ed5202dd5
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/94/886094/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmcraft.yaml', 'tox.ini']",2,c2a17eb5c137f3431c322a6cc47a71cd5071e6e3,bug/2023777,deps =,,2,0
openstack%2Fec2-api~stable%2Fpike~I6483fa7a45809c97271d75b9dc9c5e9f012c488f,openstack/ec2-api,stable/pike,I6483fa7a45809c97271d75b9dc9c5e9f012c488f,WIP: fix pep8 errors,NEW,2023-06-14 14:47:55.000000000,2023-06-14 14:56:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 14:47:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ab714e331351c91fdbf40b483d995081a56b8843', 'message': 'WIP: fix pep8 errors\n\nupdate hacking to be compatible with python 3.10\n\nChange-Id: I6483fa7a45809c97271d75b9dc9c5e9f012c488f\nSigned-off-by: tikitavi <rtikitavi@gmail.com>\n'}]",0,886103,ab714e331351c91fdbf40b483d995081a56b8843,2,1,1,19065,,,0,"WIP: fix pep8 errors

update hacking to be compatible with python 3.10

Change-Id: I6483fa7a45809c97271d75b9dc9c5e9f012c488f
Signed-off-by: tikitavi <rtikitavi@gmail.com>
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/03/886103/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ab714e331351c91fdbf40b483d995081a56b8843,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking!=0.13.0,<0.14,>=0.12.0 # Apache-2.0",1,1
openstack%2Fcharm-guide~stable%2F2023.1~I533b7d76a67f0f002866c29561ce4e0787bdbb80,openstack/charm-guide,stable/2023.1,I533b7d76a67f0f002866c29561ce4e0787bdbb80,Update versioning for 2023.1,MERGED,2023-06-13 22:55:23.000000000,2023-06-14 14:48:36.000000000,2023-06-14 14:47:34.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 22:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9adb8cb58fade3f08538108ff25f2beaeb33d32b', 'message': ""Update versioning for 2023.1\n\n* Set the default Git branch.\n* Set a user-friendly release name on the front page.\n* Drive by:\n  Have the frontpage show a better name for the guide ('name').\n\nChange-Id: I533b7d76a67f0f002866c29561ce4e0787bdbb80\n""}, {'number': 2, 'created': '2023-06-13 22:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a8c05b9d46114c94f44fc6761c0a19bea1577af2', 'message': ""Update versioning for 2023.1\n\n* Set the default Git branch.\n* Set the release version on the front page.\n* Drive by:\n  Have the frontpage show a user-friendly name for the\n  guide ('name').\n\nChange-Id: I533b7d76a67f0f002866c29561ce4e0787bdbb80\n""}, {'number': 3, 'created': '2023-06-13 23:18:48.000000000', 'files': ['.gitreview', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c385c65a4813dc402e23f2a3ffcab6a1f6b4ef72', 'message': 'Update versioning for 2023.1\n\n* Set the default Git branch.\n* Set the release version on the front page.\n\nChange-Id: I533b7d76a67f0f002866c29561ce4e0787bdbb80\n'}]",2,886034,c385c65a4813dc402e23f2a3ffcab6a1f6b4ef72,11,2,3,30561,,,0,"Update versioning for 2023.1

* Set the default Git branch.
* Set the release version on the front page.

Change-Id: I533b7d76a67f0f002866c29561ce4e0787bdbb80
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/886034/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'doc/source/conf.py', 'setup.cfg']",3,9adb8cb58fade3f08538108ff25f2beaeb33d32b,update-versioning-for-2023.1,name = OpenStack Charm Guide,name = charm-guide,4,2
openstack%2Fcharm-manila-ganesha~stable%2F2023.1~I3541d5c8a093f050e25df7fcc20ac6fc16b3cd31,openstack/charm-manila-ganesha,stable/2023.1,I3541d5c8a093f050e25df7fcc20ac6fc16b3cd31,Bump up Charm-helpers revision,MERGED,2023-06-08 20:02:39.000000000,2023-06-14 14:41:16.000000000,2023-06-14 14:41:16.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:02:39.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/4daafb6ed5229383ce4ad53d2d74a642c1023354', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I3541d5c8a093f050e25df7fcc20ac6fc16b3cd31\n'}]",0,885644,4daafb6ed5229383ce4ad53d2d74a642c1023354,10,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I3541d5c8a093f050e25df7fcc20ac6fc16b3cd31
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/44/885644/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,4daafb6ed5229383ce4ad53d2d74a642c1023354,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fkolla-ansible~master~Icb5837b678c146890d5c8470bebe14074d87d126,openstack/kolla-ansible,master,Icb5837b678c146890d5c8470bebe14074d87d126,fix typo for om_rpc_transport default value.,ABANDONED,2020-07-08 08:34:44.000000000,2023-06-14 14:40:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-08 08:34:44.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbb5f9304c9881f9f7644bb713d5c512c1b37e51', 'message': 'fix typo for om_rpc_transport default value.\n\nChange-Id: Icb5837b678c146890d5c8470bebe14074d87d126\n'}]",0,739925,bbb5f9304c9881f9f7644bb713d5c512c1b37e51,5,1,1,26498,,,0,"fix typo for om_rpc_transport default value.

Change-Id: Icb5837b678c146890d5c8470bebe14074d87d126
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/739925/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,bbb5f9304c9881f9f7644bb713d5c512c1b37e51,,"#om_rpc_transport: ""rabbit""","#om_rpc_transport: ""amqp""",1,1
openstack%2Fstorlets~stable%2Fzed~I69c843172ee21548ccd12493cae407057ddcb5ce,openstack/storlets,stable/zed,I69c843172ee21548ccd12493cae407057ddcb5ce,Stable-only: Pin tox to < 3.x,MERGED,2023-06-14 13:54:17.000000000,2023-06-14 14:36:32.000000000,2023-06-14 14:34:53.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 13:54:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/storlets/commit/513ffada48a1774186d2d7290ad549a83a02161b', 'message': 'Stable-only: Pin tox to < 3.x\n\ntox 4.0 introduced some incompatible changes which broke our usage.\nThe issue has been fixed in master but we pin it to an old version to\navoid backporting the change to multiple branches in case old tox is\nstill used.\n\nChange-Id: I69c843172ee21548ccd12493cae407057ddcb5ce\n'}]",0,886100,513ffada48a1774186d2d7290ad549a83a02161b,7,2,1,9816,,,0,"Stable-only: Pin tox to < 3.x

tox 4.0 introduced some incompatible changes which broke our usage.
The issue has been fixed in master but we pin it to an old version to
avoid backporting the change to multiple branches in case old tox is
still used.

Change-Id: I69c843172ee21548ccd12493cae407057ddcb5ce
",git fetch https://review.opendev.org/openstack/storlets refs/changes/00/886100/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,513ffada48a1774186d2d7290ad549a83a02161b,, vars: ensure_tox_version: '<4',,2,0
openstack%2Fcinder-specs~master~I5f25aa2eca758a00a7402d1f3b89610aa715eea4,openstack/cinder-specs,master,I5f25aa2eca758a00a7402d1f3b89610aa715eea4,Sizing capacity rounded volumes,NEW,2023-01-27 14:09:31.000000000,2023-06-14 14:16:10.000000000,,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-01-27 14:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/facb9a4d34b5227007b6371e5393393ae9739cb7', 'message': 'Sizing capacity rounded volumes\n\nThis feature will support storage providers which use a rounding\nincrement to allocate space on the backend.\nThis will prevent the discrepency between what the end user has\nasked and what is being presented from the backend as a volume\n\nImplements: blueprint allocated-size-distinction\nChange-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4\n'}, {'number': 2, 'created': '2023-01-27 14:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/1963171b878e0a0e089aec039afd95409bf92ddb', 'message': 'Sizing capacity rounded volumes\n\nThis feature will support storage providers which use a rounding\nincrement to allocate space on the backend.\nThis will prevent the discrepency between what the end user has\nasked and what is being presented from the backend as a volume\n\nImplements: blueprint allocated-size-distinction\nChange-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4\n'}, {'number': 3, 'created': '2023-01-27 15:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d614688d8b1c3c24235d131015cf269bd3dd833d', 'message': 'Sizing capacity rounded volumes\n\nThis feature will support storage providers which use a rounding\nincrement to allocate space on the backend.\nThis will prevent the discrepency between what the end user has\nasked and what is being presented from the backend as a volume\n\nImplements: blueprint allocated-size-distinction\nChange-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4\n'}, {'number': 4, 'created': '2023-04-27 13:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/466087ef3fe4d8d7ef26a2b2abfda319604a1b04', 'message': 'Sizing capacity rounded volumes\n\nThis feature will support storage providers which use a rounding\nincrement to allocate space on the backend.\nThis will prevent the discrepency between what the end user has\nasked and what is being presented from the backend as a volume\n\nImplements: blueprint allocated-size-distinction\nChange-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4\n'}, {'number': 5, 'created': '2023-06-12 14:02:21.000000000', 'files': ['specs/untargeted/sizing-capacity-rounded-volumes.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/9ce0b6c99b9bd122ad3b412627a2fa1d2c8b3f14', 'message': 'Sizing capacity rounded volumes\n\nThis feature will support storage providers which use a rounding\nincrement to allocate space on the backend.\nThis will prevent the discrepency between what the end user has\nasked and what is being presented from the backend as a volume\n\nImplements: blueprint allocated-size-distinction\nChange-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4\n'}]",37,872019,9ce0b6c99b9bd122ad3b412627a2fa1d2c8b3f14,25,5,5,31779,,,0,"Sizing capacity rounded volumes

This feature will support storage providers which use a rounding
increment to allocate space on the backend.
This will prevent the discrepency between what the end user has
asked and what is being presented from the backend as a volume

Implements: blueprint allocated-size-distinction
Change-Id: I5f25aa2eca758a00a7402d1f3b89610aa715eea4
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/19/872019/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/untargeted/sizing-capacity-rounded-volumes.rst'],1,facb9a4d34b5227007b6371e5393393ae9739cb7,bp/allocated-size-distinction,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Generic backup implementation ============================= https://blueprints.launchpad.net/cinder/+spec/allocated-size-distinction Problem description =================== When creating a volume, Dell PowerFlex will round the value of the capacity by a multiple of 8GB leaving inconsistency between cinder which shows the value requested by the user and powerflex which shows the current allocation. This introduces multiple side effects: * Allocation capacity not being monitored correctly. * Extension of volume withing the same range will fail as the volume is already at that size (Example: volume extention from 5 to 7, backend already set to 8) * Quota also affected. * Data usage when migrating volumes will be hard to get accurately. Use Cases ========= The main use-case here is when creating or extending a volume with a size which is not a multiplier of an increment size. This is typically the case with Dell PowerFlex storage provider which uses an increment size of 8GB. Proposed change =============== * Add a new field in the database called 'allocated_size'. This size will be the size allocated on the backend and will be the result of the rounding increment * The volume is created at the size the user has request and will be shown in two different values. The 'size' which displays the size that cinder is aware of and the 'allocated_size' which displays the size created in the backend * The 'allocated_size' is not displayed by default the cinder-client and the information is shown using the '--long' option * Add a new field in the API to fetch the 'allocated_size' value * The create_volume.py will update the database volume reference according to the computation of the rounded size * The manager.py will update the table according to the computation of the rounded size * When creating the volume, os-brick will partition the volume in order to provide access to the portion of volume asked by the end-user by using privsep library * When extending the volume, os-brick will moodify the partition accordingly Vendor-specific changes ----------------------- Dell PowerFlex driver should be updated to use that new functionality Alternatives ------------ Datave everything as it is but the volume size reported by cinder doesn't reflect what's been allocated on the backend. As a side-effect, allocation monitoring is quite hard to follow for end users, extension of capacity can sometimes fail and quota is also affected. Data model impact ----------------- New field in the cinder/volumes table REST API impact --------------- New field in the API Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Jean-Pierre Roquesalane <jeanpierre.roquesalane@dell.com> Work Items ---------- * Modify SQL structure * Implement new logic in cinder * Implement new logic in os-brick/privsep * Unit-tests * Tempest tests Dependencies ============ None Testing ======= * Unit-tests * Tempest tests Documentation Impact ==================== We will need to update documentation to describe the new capability. References ========== * Antelope PTG https://etherpad.opendev.org/p/antelope-ptg-cinder ",,152,0
openstack%2Fos-brick~master~Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14,openstack/os-brick,master,Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14,SCSI: Cleanup leftover devices and validate result,NEW,2023-05-10 14:39:38.000000000,2023-06-14 14:04:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 14:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/fb7749bcff57c8fcccada3fa0de3a257aeeadad5', 'message': ""SCSI: Cleanup leftover devices and validate result\n\nFor SCSI based protocols (iSCSI and FCP) the ``connect_volume`` method\nnow cleans up leftover devices as best it can at the begining, and it\nalso validates the result of the operation at the end before returning\nit to the caller.\n\nOS-brick can now validate the WWN of iSCSI and FCP volumes for Cinder\ndrivers that provide the value in the connection properties ``wwn`` key.\nAll Cinder drivers are encouraged to provide this value in their\nconnection properties to increase robustness and security.\n\nThis ``wwn`` value also helps with the cleanup of leftover devices at\nthe beginning of the ``connect_volume`` which can help detect conflicts\nbefore any scans have been made.\n\nDeployments using this os-brick release and iSCSI and FCP storage with\nmultipathing are encouraged to update their ``multipath.conf`` file to\nadd the ``recheck_wwid yes`` option to the ``defaults`` section.  This\ncan help with some scenarios where there can be a window where a volume\nis incorrectly being used as a path for one, or multiple, multipath\ndevices which can lead to data leak or corruption.  The window happens\nwhen there are leftover devices and it's between Cinder mapping the\nvolume on the storage array and os-brick cleaning the leftover devices.\n\nThe cleanup will remove all devices that match this connection\ninformation, all devices that match the WWN, and the multipath that also\nmatches the WWN.  It checks whether these devices are in use or not.\n\nThe validation has to double check some of those things before returning\nthe result to the caller because os-brick is not as effective when\nCinder hasn't provided the WWN, which is the case for most Cinder\ndrivers at this time.\n\nCloses-Bug: #2004555\nChange-Id: Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14\n""}, {'number': 2, 'created': '2023-05-11 18:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6bb6c26d02f6fe26ddcebcbcfc8c8e79bc042f8d', 'message': ""SCSI: Cleanup leftover devices and validate result\n\nFor SCSI based protocols (iSCSI and FCP) the ``connect_volume`` method\nnow cleans up leftover devices as best it can at the begining, and it\nalso validates the result of the operation at the end before returning\nit to the caller.\n\nOS-brick can now validate the WWN of iSCSI and FCP volumes for Cinder\ndrivers that provide the value in the connection properties ``wwn`` key.\nAll Cinder drivers are encouraged to provide this value in their\nconnection properties to increase robustness and security.\n\nThis ``wwn`` value also helps with the cleanup of leftover devices at\nthe beginning of the ``connect_volume`` which can help detect conflicts\nbefore any scans have been made.\n\nDeployments using this os-brick release and iSCSI and FCP storage with\nmultipathing are encouraged to update their ``multipath.conf`` file to\nadd the ``recheck_wwid yes`` option to the ``defaults`` section.  This\ncan help with some scenarios where there can be a window where a volume\nis incorrectly being used as a path for one, or multiple, multipath\ndevices which can lead to data leak or corruption.  The window happens\nwhen there are leftover devices and it's between Cinder mapping the\nvolume on the storage array and os-brick cleaning the leftover devices.\n\nThe cleanup will remove all devices that match this connection\ninformation, all devices that match the WWN, and the multipath that also\nmatches the WWN.  It checks whether these devices are in use or not.\n\nThe validation has to double check some of those things before returning\nthe result to the caller because os-brick is not as effective when\nCinder hasn't provided the WWN, which is the case for most Cinder\ndrivers at this time.\n\nCloses-Bug: #2004555\nChange-Id: Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14\n""}, {'number': 3, 'created': '2023-05-23 16:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f82768d5b7663ca92132778ef2ef4b5c2a459e1e', 'message': ""SCSI: Cleanup leftover devices and validate result\n\nFor SCSI based protocols (iSCSI and FCP) the ``connect_volume`` method\nnow cleans up leftover devices as best it can at the begining, and it\nalso validates the result of the operation at the end before returning\nit to the caller.\n\nOS-brick can now validate the WWN of iSCSI and FCP volumes for Cinder\ndrivers that provide the value in the connection properties ``wwn`` key.\nAll Cinder drivers are encouraged to provide this value in their\nconnection properties to increase robustness and security.\n\nThis ``wwn`` value also helps with the cleanup of leftover devices at\nthe beginning of the ``connect_volume`` which can help detect conflicts\nbefore any scans have been made.\n\nDeployments using this os-brick release and iSCSI and FCP storage with\nmultipathing are encouraged to update their ``multipath.conf`` file to\nadd the ``recheck_wwid yes`` option to the ``defaults`` section.  This\ncan help with some scenarios where there can be a window where a volume\nis incorrectly being used as a path for one, or multiple, multipath\ndevices which can lead to data leak or corruption.  The window happens\nwhen there are leftover devices and it's between Cinder mapping the\nvolume on the storage array and os-brick cleaning the leftover devices.\n\nThe cleanup will remove all devices that match this connection\ninformation, all devices that match the WWN, and the multipath that also\nmatches the WWN.  It checks whether these devices are in use or not.\n\nThe validation has to double check some of those things before returning\nthe result to the caller because os-brick is not as effective when\nCinder hasn't provided the WWN, which is the case for most Cinder\ndrivers at this time.\n\nCloses-Bug: #2004555\nChange-Id: Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14\n""}, {'number': 4, 'created': '2023-05-24 18:40:48.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/__init__.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/tests/privileged/test_utils.py', 'releasenotes/notes/check-validate-scsi-7309e8d18e2004cd.yaml', 'os_brick/privileged/utils.py', 'os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2de794d3021fbd56a9a95a222a4cee53236e2d1d', 'message': ""SCSI: Cleanup leftover devices and validate result\n\nFor SCSI based protocols (iSCSI and FCP) the ``connect_volume`` method\nnow cleans up leftover devices as best it can at the begining, and it\nalso validates the result of the operation at the end before returning\nit to the caller.\n\nOS-brick can now validate the WWN of iSCSI and FCP volumes for Cinder\ndrivers that provide the value in the connection properties ``wwn`` key.\nAll Cinder drivers are encouraged to provide this value in their\nconnection properties to increase robustness and security.\n\nThis ``wwn`` value also helps with the cleanup of leftover devices at\nthe beginning of the ``connect_volume`` which can help detect conflicts\nbefore any scans have been made.\n\nDeployments using this os-brick release and iSCSI and FCP storage with\nmultipathing are encouraged to update their ``multipath.conf`` file to\nadd the ``recheck_wwid yes`` option to the ``defaults`` section.  This\ncan help with some scenarios where there can be a window where a volume\nis incorrectly being used as a path for one, or multiple, multipath\ndevices which can lead to data leak or corruption.  The window happens\nwhen there are leftover devices and it's between Cinder mapping the\nvolume on the storage array and os-brick cleaning the leftover devices.\n\nThe cleanup will remove all devices that match this connection\ninformation, all devices that match the WWN, and the multipath that also\nmatches the WWN.  It checks whether these devices are in use or not.\n\nThe validation has to double check some of those things before returning\nthe result to the caller because os-brick is not as effective when\nCinder hasn't provided the WWN, which is the case for most Cinder\ndrivers at this time.\n\nCloses-Bug: #2004555\nChange-Id: Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14\n""}]",14,882841,2de794d3021fbd56a9a95a222a4cee53236e2d1d,39,2,4,9535,,,0,"SCSI: Cleanup leftover devices and validate result

For SCSI based protocols (iSCSI and FCP) the ``connect_volume`` method
now cleans up leftover devices as best it can at the begining, and it
also validates the result of the operation at the end before returning
it to the caller.

OS-brick can now validate the WWN of iSCSI and FCP volumes for Cinder
drivers that provide the value in the connection properties ``wwn`` key.
All Cinder drivers are encouraged to provide this value in their
connection properties to increase robustness and security.

This ``wwn`` value also helps with the cleanup of leftover devices at
the beginning of the ``connect_volume`` which can help detect conflicts
before any scans have been made.

Deployments using this os-brick release and iSCSI and FCP storage with
multipathing are encouraged to update their ``multipath.conf`` file to
add the ``recheck_wwid yes`` option to the ``defaults`` section.  This
can help with some scenarios where there can be a window where a volume
is incorrectly being used as a path for one, or multiple, multipath
devices which can lead to data leak or corruption.  The window happens
when there are leftover devices and it's between Cinder mapping the
volume on the storage array and os-brick cleaning the leftover devices.

The cleanup will remove all devices that match this connection
information, all devices that match the WWN, and the multipath that also
matches the WWN.  It checks whether these devices are in use or not.

The validation has to double check some of those things before returning
the result to the caller because os-brick is not as effective when
Cinder hasn't provided the WWN, which is the case for most Cinder
drivers at this time.

Closes-Bug: #2004555
Change-Id: Icd4cde6b3fbde4d529b392b968ef0d9594dfcf14
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/41/882841/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/privileged/test_utils.py', 'releasenotes/notes/check-validate-scsi-7309e8d18e2004cd.yaml', 'os_brick/privileged/utils.py', 'os_brick/privileged/__init__.py', 'os_brick/exception.py']",11,fb7749bcff57c8fcccada3fa0de3a257aeeadad5,leak-prevention," class DeviceInUse(BrickException): message = _('Potential data leak/corruption detected!! Device %(device)s ' 'used by this volume was already in use. Aborting.') class ActivePaths(BrickException): message = _('Devices %(devices)s from other connections are in our mpath ' '%(mpath)s and are being used.') class UnknownMultipath(BrickException): message = _(""Multipath %(mpath)s doesn't exist"") class AttributeMismatch(BrickException): message = _(""Detected block attribute inconsistency. %(attr)s is "" ""%(val1)s on %(dev1)s but %(val2)s on %(dev2)s."") class UnknownWWN(BrickException): message = _(""Cannot determine volume's WWN for %(devices)s, aborting."") class WWNValidationFail(BrickException): message = _(""Validating WWN failed, probably due to leftover devices. "" ""Device's cinder reported WWN is %(cinder_wwn)s but in "" ""%(devices)s we have %(devices_wwns)s"") class WWNMismatch(BrickException): message = _(""Mismatch in WWN between this volume's SCSI WWN "" ""[%(wwn)s] and the one in the multipath [%(mpath_wwn)s]"")",,1288,85
openstack%2Fcharm-glance-k8s~main~I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3,openstack/charm-glance-k8s,main,I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:33:58.000000000,2023-06-14 14:01:23.000000000,2023-06-14 13:41:09.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/74c20c95228dfc6c748cd83be3b68e84f9b648d6', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3\n'}, {'number': 2, 'created': '2023-06-12 10:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/5c044f988801b9bb0ec1f677112a19908c4f2e9c', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3\n'}, {'number': 3, 'created': '2023-06-13 16:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/59639fbc2904dfe1f067ab441025df95eb518078', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3\n'}, {'number': 4, 'created': '2023-06-14 10:33:02.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/60a1b5f08c2e3b2ce9152e9671cc9957ad405996', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3\n'}]",2,885847,60a1b5f08c2e3b2ce9152e9671cc9957ad405996,17,2,4,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: I559e1bb2f89ac04df08806a3fe57bfc2f8ff87b3
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/47/885847/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,74c20c95228dfc6c748cd83be3b68e84f9b648d6,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fkolla~master~I247465bc375652b956a677ab6f5b496b0f35f781,openstack/kolla,master,I247465bc375652b956a677ab6f5b496b0f35f781,base: switch to new Grafana key,NEW,2023-06-14 12:03:45.000000000,2023-06-14 13:43:07.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 12:03:45.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/base/grafana.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6895e0ba40aecda4318cba2ce264f54edb3aba97', 'message': 'base: switch to new Grafana key\n\nhttps://grafana.com/blog/2023/01/12/grafana-labs-update-regarding-circleci-security-updates/\n\n""On January 4, CircleCI published a security update on their blog asking\nall customers on their platform to rotate secrets. While CircleCI is no\nlonger a part of our CI/CD pipeline, we have made use of their services\nin the past.\n\nAs a best practice, we have rotated or invalidated any secrets that may\nhave been present on CircleCI. Following a thorough review, we have not\nidentified any signs of suspicious activity and we believe, with a high\nlevel of confidence, that none of our systems or code are or have been\nat risk of compromise.""\n\nChange-Id: I247465bc375652b956a677ab6f5b496b0f35f781\n'}]",0,886086,6895e0ba40aecda4318cba2ce264f54edb3aba97,4,2,1,24072,,,0,"base: switch to new Grafana key

https://grafana.com/blog/2023/01/12/grafana-labs-update-regarding-circleci-security-updates/

""On January 4, CircleCI published a security update on their blog asking
all customers on their platform to rotate secrets. While CircleCI is no
longer a part of our CI/CD pipeline, we have made use of their services
in the past.

As a best practice, we have rotated or invalidated any secrets that may
have been present on CircleCI. Following a thorough review, we have not
identified any signs of suspicious activity and we believe, with a high
level of confidence, that none of our systems or code are or have been
at risk of compromise.""

Change-Id: I247465bc375652b956a677ab6f5b496b0f35f781
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/886086/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/base/grafana.repo']",2,6895e0ba40aecda4318cba2ce264f54edb3aba97,grafana-new-key,gpgkey=https://rpm.grafana.com/gpg-full.key,gpgkey=https://rpm.grafana.com/gpg.key,2,2
openstack%2Fneutron~master~Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24,openstack/neutron,master,Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24,Delete dhcp ports totally during scale down of dhcp agents,ABANDONED,2019-07-01 06:33:10.000000000,2023-06-14 13:41:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27295}]","[{'number': 1, 'created': '2019-07-01 06:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25d5efc55a3aedfa7b22e11624cded580aeb37a5', 'message': ""Delete dhcp port totally as agent scale down\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 2, 'created': '2019-07-02 06:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cae89016ff398c3254da670aba527b7aed40f31', 'message': ""Delete dhcp port totally as agent scale down\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 3, 'created': '2019-07-03 02:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f20df7d27abeafa868361dd3fbaec26e1d0f2a76', 'message': ""Delete dhcp port totally as agent scale down\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 4, 'created': '2019-07-03 07:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b37a6931cc13a561217dd6c79489fe57f8ff9e51', 'message': ""Delete dhcp port totally as agent scale down\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 5, 'created': '2019-07-05 05:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ed3df9c2ce0112341e919faa9a305bd8e0cb4bb', 'message': ""Delete dhcp port totally as agent scale down\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 6, 'created': '2019-07-11 05:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b48282761d258ec86fa35c2d0ab8e26ca1fc510f', 'message': ""Delete dhcp ports totally during scale down of dhcp agents\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 7, 'created': '2019-07-15 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d07814d6de670092d6e123910aa94f7a1635063', 'message': ""Delete dhcp ports totally during scale down of dhcp agents\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 8, 'created': '2019-07-16 01:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0882aec3df595395a9f6e1f09ab137131da6807', 'message': ""Delete dhcp ports totally during scale down of dhcp agents\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}, {'number': 9, 'created': '2019-07-16 03:16:35.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0de5d55f333544ce367f96f639f8c6a0d5967195', 'message': ""Delete dhcp ports totally during scale down of dhcp agents\n\nWhen we scale down the dhcp agent, such as from 4 to 3,\nneutron-server will remove network from one dhcp agent. However,\nit will remain a 'reserved_dhcp_port' in DB and result in dnsmasq\nconfig still records this port ip in opts file.\n\nChange-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24\nCloses-Bug: #1739219\n""}]",63,668359,0de5d55f333544ce367f96f639f8c6a0d5967195,56,9,9,27295,,,0,"Delete dhcp ports totally during scale down of dhcp agents

When we scale down the dhcp agent, such as from 4 to 3,
neutron-server will remove network from one dhcp agent. However,
it will remain a 'reserved_dhcp_port' in DB and result in dnsmasq
config still records this port ip in opts file.

Change-Id: Ie289ac8e8f2bb2748ac3c8656d82f80aa8660f24
Closes-Bug: #1739219
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/668359/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agentschedulers_db.py'],1,25d5efc55a3aedfa7b22e11624cded580aeb37a5,bug/1739219," # Note(jetlee): if scale down the DHCP agents or # dhcp_agents_per_network, we should delete surplus # 'reserved_dhcp_port' removed_dhcp_port = self._removed_dhcp_port(context, network_id) for port in ports: if removed_dhcp_port <= 0: port['device_id'] = constants.DEVICE_ID_RESERVED_DHCP_PORT try: self.update_port(context, port['id'], dict(port=port)) except n_exc.PortNotFound: LOG.debug(""DHCP port %s has been deleted concurrently"", port['id']) def _removed_dhcp_port(self, context, network_id): """"""Count the number of removed ports If we scale the number of DHCP agents, the network should be removed from the agent. However, the dhcp port still remain in DB, and the device_id set to 'reserved_dhcp_port'. So we should count the numbers of useless ports from DB. """""" dhcp_ports_filters = \ dict(network_id=[network_id], device_owner=[constants.DEVICE_OWNER_DHCP]) dhcp_ports_num = self.get_ports_count(context, filters=dhcp_ports_filters) return dhcp_ports_num - cfg.CONF.dhcp_agents_per_network "," for port in ports: port['device_id'] = constants.DEVICE_ID_RESERVED_DHCP_PORT try: self.update_port(context, port['id'], dict(port=port)) except n_exc.PortNotFound: LOG.debug(""DHCP port %s has been deleted concurrently"", port['id'])",28,6
openstack%2Fcharm-keystone-k8s~main~Ic04d63bc86f267dbd520632f3313be8d9bf9985f,openstack/charm-keystone-k8s,main,Ic04d63bc86f267dbd520632f3313be8d9bf9985f,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:34:06.000000000,2023-06-14 13:19:46.000000000,2023-06-14 12:51:47.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/ba3914297dad589a3865c1091b925db2617e21a9', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ic04d63bc86f267dbd520632f3313be8d9bf9985f\n'}, {'number': 2, 'created': '2023-06-12 10:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/f06bc66d24e734d29eafa40e39b4462a5709cb3e', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ic04d63bc86f267dbd520632f3313be8d9bf9985f\n'}, {'number': 3, 'created': '2023-06-13 16:14:27.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/fb6f9d24b50f44453592ba65ed90eb178b8e8d07', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ic04d63bc86f267dbd520632f3313be8d9bf9985f\n'}]",0,885849,fb6f9d24b50f44453592ba65ed90eb178b8e8d07,11,2,3,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: Ic04d63bc86f267dbd520632f3313be8d9bf9985f
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/49/885849/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,ba3914297dad589a3865c1091b925db2617e21a9,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fkolla~master~If48652b0bcc5603a587bb43b0dbe9b69e698e005,openstack/kolla,master,If48652b0bcc5603a587bb43b0dbe9b69e698e005,base: install adduser on Debian/Ubuntu,ABANDONED,2023-03-20 15:40:56.000000000,2023-06-14 13:16:01.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-03-20 15:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1cabc4dab3e294eba203a118590ded63e0ab7587', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nChange-Id: If48652b0bcc5603a587bb43b0dbe9b69e698e005\n""}, {'number': 2, 'created': '2023-03-20 16:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27a77f683aa6e3908abbbbc3b99f21945c1e267b', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nChange-Id: If48652b0bcc5603a587bb43b0dbe9b69e698e005\n""}, {'number': 3, 'created': '2023-05-02 08:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1aeb351d6f2410982fbca65044cb81be583d7344', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nChange-Id: If48652b0bcc5603a587bb43b0dbe9b69e698e005\n""}, {'number': 4, 'created': '2023-05-02 09:50:38.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/20eb6d1ccb0e2957788d07d6d20a77e0e70689e0', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nChange-Id: If48652b0bcc5603a587bb43b0dbe9b69e698e005\n""}]",5,877970,20eb6d1ccb0e2957788d07d6d20a77e0e70689e0,17,3,4,24072,,,0,"base: install adduser on Debian/Ubuntu

Debian:bookworm container does not have 'adduser' installed so
we need to do it before we touch /etc/adduser.conf file.

Change-Id: If48652b0bcc5603a587bb43b0dbe9b69e698e005
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/877970/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,1cabc4dab3e294eba203a118590ded63e0ab7587,for-debian-bookworm-upgrade," 'adduser',# Customize PS1 bash shell # - enlarge 'system users' range so 'haproxy' package will not complain # see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=939470 # - enlarge 'system groups' range so 'hacluster' user added in # https://review.opendev.org/c/openstack/kolla/+/802671 # can be in 'haclient' group with same high uid RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc \ && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g \ -e s/LAST_SYSTEM_GID=999/LAST_SYSTEM_GID=59999/g /etc/adduser.conf ",# Customize PS1 bash shell # - enlarge 'system users' range so 'haproxy' package will not complain # see https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=939470 # - enlarge 'system groups' range so 'hacluster' user added in # https://review.opendev.org/c/openstack/kolla/+/802671 # can be in 'haclient' group with same high uid RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc \ && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g \ -e s/LAST_SYSTEM_GID=999/LAST_SYSTEM_GID=59999/g /etc/adduser.conf ,11,10
openstack%2Fcharm-nova-k8s~main~I4e9f26df83ddaccb4c2979974eebf4b921d49b19,openstack/charm-nova-k8s,main,I4e9f26df83ddaccb4c2979974eebf4b921d49b19,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:34:14.000000000,2023-06-14 13:15:38.000000000,2023-06-14 12:53:56.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/f4974ef9176941a53e83fa86a8685104ddb81085', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I4e9f26df83ddaccb4c2979974eebf4b921d49b19\n'}, {'number': 2, 'created': '2023-06-12 10:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/b4be2004338ce53001803f0a56e46bdb5b67c93a', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I4e9f26df83ddaccb4c2979974eebf4b921d49b19\n'}, {'number': 3, 'created': '2023-06-13 16:11:17.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/c395d6be52573f843748befc55c1b9170ccc89db', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I4e9f26df83ddaccb4c2979974eebf4b921d49b19\n'}]",1,885851,c395d6be52573f843748befc55c1b9170ccc89db,13,2,3,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: I4e9f26df83ddaccb4c2979974eebf4b921d49b19
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/51/885851/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,f4974ef9176941a53e83fa86a8685104ddb81085,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-horizon-k8s~main~Id5ad0c56023faa3afc07868d330699d778545c16,openstack/charm-horizon-k8s,main,Id5ad0c56023faa3afc07868d330699d778545c16,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:34:02.000000000,2023-06-14 13:11:58.000000000,2023-06-14 12:53:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/48e0ac7b6bd006469ce4a1f1a72bb7d53be6c02d', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id5ad0c56023faa3afc07868d330699d778545c16\n'}, {'number': 2, 'created': '2023-06-12 10:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/1e531cda80faa9806f792fbafa308d1e889f8249', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id5ad0c56023faa3afc07868d330699d778545c16\n'}, {'number': 3, 'created': '2023-06-13 16:17:38.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/2f1f0ca87159594ef85ba15d86ae6ecba005c6f8', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id5ad0c56023faa3afc07868d330699d778545c16\n'}]",0,885848,2f1f0ca87159594ef85ba15d86ae6ecba005c6f8,14,3,3,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: Id5ad0c56023faa3afc07868d330699d778545c16
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/48/885848/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,48e0ac7b6bd006469ce4a1f1a72bb7d53be6c02d,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-placement-k8s~main~I1cb6333721190263bb88ae7b4d5e43f7e753655f,openstack/charm-placement-k8s,main,I1cb6333721190263bb88ae7b4d5e43f7e753655f,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:34:26.000000000,2023-06-14 13:09:35.000000000,2023-06-14 12:53:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/4040cd75b70c7423808730530f56284b88f9f17e', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I1cb6333721190263bb88ae7b4d5e43f7e753655f\n'}, {'number': 2, 'created': '2023-06-12 10:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/725740d4445c2d4a35f36ccb9087f18209d7db29', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I1cb6333721190263bb88ae7b4d5e43f7e753655f\n'}, {'number': 3, 'created': '2023-06-13 11:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/8ec7818f989015a95a927f0ac184f6483e0099a4', 'message': 'Enforce min juju version and k8s substrate\n\n* Fix .zuul.yaml as well\n\nChange-Id: I1cb6333721190263bb88ae7b4d5e43f7e753655f\n'}, {'number': 4, 'created': '2023-06-13 16:10:25.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/bd648e221a7d2d1b3a96c92c731a828e64bd1785', 'message': 'Enforce min juju version and k8s substrate\n\n* Fix .zuul.yaml as well\n\nChange-Id: I1cb6333721190263bb88ae7b4d5e43f7e753655f\n'}]",0,885854,bd648e221a7d2d1b3a96c92c731a828e64bd1785,14,3,4,12549,,,0,"Enforce min juju version and k8s substrate

* Fix .zuul.yaml as well

Change-Id: I1cb6333721190263bb88ae7b4d5e43f7e753655f
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/54/885854/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,4040cd75b70c7423808730530f56284b88f9f17e,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-cinder-k8s~main~I43ad3de9133693f62e7513907cbad95174b0a709,openstack/charm-cinder-k8s,main,I43ad3de9133693f62e7513907cbad95174b0a709,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:33:54.000000000,2023-06-14 13:08:01.000000000,2023-06-14 12:47:37.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/1b4a396d70f0c32dfa017996aed70a4ffdfcb577', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I43ad3de9133693f62e7513907cbad95174b0a709\n'}, {'number': 2, 'created': '2023-06-12 10:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/23dab100d2f678b12301a86f92afbdf5892c7e43', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I43ad3de9133693f62e7513907cbad95174b0a709\n'}, {'number': 3, 'created': '2023-06-12 10:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/dfe70a5338dba2c090ac834b3d56146fb74d0ac6', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I43ad3de9133693f62e7513907cbad95174b0a709\n'}, {'number': 4, 'created': '2023-06-13 16:15:58.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/4c0621080e17bc85c5422c95d49e89816dc1787d', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: I43ad3de9133693f62e7513907cbad95174b0a709\n'}]",0,885846,4c0621080e17bc85c5422c95d49e89816dc1787d,12,2,4,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: I43ad3de9133693f62e7513907cbad95174b0a709
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/46/885846/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,1b4a396d70f0c32dfa017996aed70a4ffdfcb577,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-cinder-ceph-k8s~main~Id012d19054ea14ee67d88b286e0f02f1d6da1288,openstack/charm-cinder-ceph-k8s,main,Id012d19054ea14ee67d88b286e0f02f1d6da1288,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:33:51.000000000,2023-06-14 13:07:55.000000000,2023-06-14 12:48:29.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/94bd6745f32a248d4b42f36a7a028ad1beb1d224', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id012d19054ea14ee67d88b286e0f02f1d6da1288\n'}, {'number': 2, 'created': '2023-06-12 10:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/7cefd177e9203c5d98d4aeafc5704bc06d88d24b', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id012d19054ea14ee67d88b286e0f02f1d6da1288\n'}, {'number': 3, 'created': '2023-06-13 16:12:33.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/0f5ad5bb7a35cab3abc7423bdaedd46300f6bb59', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Id012d19054ea14ee67d88b286e0f02f1d6da1288\n'}]",0,885845,0f5ad5bb7a35cab3abc7423bdaedd46300f6bb59,14,3,3,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: Id012d19054ea14ee67d88b286e0f02f1d6da1288
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/45/885845/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,94bd6745f32a248d4b42f36a7a028ad1beb1d224,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-neutron-k8s~main~Ie071583d67771a403498287e71479a564eafd9cf,openstack/charm-neutron-k8s,main,Ie071583d67771a403498287e71479a564eafd9cf,Enforce min juju version and k8s substrate,MERGED,2023-06-12 09:34:10.000000000,2023-06-14 13:07:20.000000000,2023-06-14 12:53:36.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3e6eaf538e2a0d4007320254688ce6d9104f9301', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ie071583d67771a403498287e71479a564eafd9cf\n'}, {'number': 2, 'created': '2023-06-12 10:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/10e34edc16204580b38b3fa796a7166c1f115944', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ie071583d67771a403498287e71479a564eafd9cf\n'}, {'number': 3, 'created': '2023-06-13 16:13:45.000000000', 'files': ['.zuul.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/9c45668270d4efc5073228ad7d39f85fbca336b5', 'message': 'Enforce min juju version and k8s substrate\n\nChange-Id: Ie071583d67771a403498287e71479a564eafd9cf\n'}]",0,885850,9c45668270d4efc5073228ad7d39f85fbca336b5,11,2,3,12549,,,0,"Enforce min juju version and k8s substrate

Change-Id: Ie071583d67771a403498287e71479a564eafd9cf
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/50/885850/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3e6eaf538e2a0d4007320254688ce6d9104f9301,set-juju-min-version, assumes: - juju >= 3.2 - k8s-api,,4,0
openstack%2Fcharm-openstack-hypervisor~main~Ic37e39c7a87d855b467b2210931464b8e4c9a521,openstack/charm-openstack-hypervisor,main,Ic37e39c7a87d855b467b2210931464b8e4c9a521,Enforce min juju version,MERGED,2023-06-12 09:37:57.000000000,2023-06-14 13:00:25.000000000,2023-06-14 12:45:32.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:37:57.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/fd836db7040536a7ae1837f6514fce76447d12c1', 'message': 'Enforce min juju version\n\nChange-Id: Ic37e39c7a87d855b467b2210931464b8e4c9a521\n'}]",0,885855,fd836db7040536a7ae1837f6514fce76447d12c1,7,2,1,12549,,,0,"Enforce min juju version

Change-Id: Ic37e39c7a87d855b467b2210931464b8e4c9a521
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/55/885855/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,fd836db7040536a7ae1837f6514fce76447d12c1,set-juju-min-version, assumes: - juju >= 3.2,,3,0
openstack%2Fhorizon~master~Ie5e79560166bfa0360c947ec4c21cf37cf9c44ed,openstack/horizon,master,Ie5e79560166bfa0360c947ec4c21cf37cf9c44ed,[WIP] Rewrite integration tests from scratch,NEW,2023-06-14 12:08:47.000000000,2023-06-14 12:57:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 35133}]","[{'number': 1, 'created': '2023-06-14 12:08:47.000000000', 'files': ['openstack_dashboard/test/integration_tests/scenarios_webdriver_from_scratch/helpers.py', 'openstack_dashboard/test/integration_tests/scenarios_webdriver_from_scratch/test_login_scenario.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/896a050b794cf1f1e8d6ba4f461a6fac0bd9071a', 'message': '[WIP] Rewrite integration tests from scratch\n\nChange-Id: Ie5e79560166bfa0360c947ec4c21cf37cf9c44ed\n'}]",171,886089,896a050b794cf1f1e8d6ba4f461a6fac0bd9071a,3,2,1,35133,,,0,"[WIP] Rewrite integration tests from scratch

Change-Id: Ie5e79560166bfa0360c947ec4c21cf37cf9c44ed
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/886089/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/scenarios_webdriver_from_scratch/helpers.py', 'openstack_dashboard/test/integration_tests/scenarios_webdriver_from_scratch/test_login_scenario.py']",2,896a050b794cf1f1e8d6ba4f461a6fac0bd9071a,,"from helpers import * instance_image = ""cirros-0.6.1-x86_64-disk"" instance_flavor = ""m1.tiny"" instance_network = ""private"" dashboard_url = ""http://10.0.147.185/dashboard/"" name = 'admin' password = 'secretadmin' dc_log_page_loc = { ""username_textbox"" : ""//*[@id='id_username']"", ""password_textbox"" : ""//*[@id='id_password']"", ""sign_in_btn"" : ""//*[@id='loginBtn']"", } dc_overview_page_loc = { ""project_instance_btn"" : ""//a[@href='/dashboard/project/instances/']"", } dc_instances_page_loc = { ""launch_instance_btn"" : ""//*[@id='instances__action_launch-ng']"", ""launch_instance_tab_details_instancename_textbox"" : ""//*[@id='name']"", ""launch_instance_tab_details_description_textbox"" : ""//*[@id='description']"", ""launch_instance_tab_source_createnewvolume_no_btn"" : ""//*[@id='vol-create'][text()='No']"", ""launch_instance_tab_finish_btn"" : ""//*[contains(@class,'btn btn-primary finish')]"", ""dropdown_menu_right_action_delete"" : ""//*[contains(@class,'row_actions')]//*[contains(@id,'__action_delete')]"", # Will be rewrite to dynamic ""dialog_window_confirm_delete"" : ""//*[contains(@class,'modal-dialog')]//*[contains(@class,'btn-danger')][contains(text(),'Delete Instance')]"" } def test_step_login(): get_url(dashboard_url) find_element_by_xpath(dc_log_page_loc['username_textbox']).send_keys(name) find_element_by_xpath(dc_log_page_loc['password_textbox']).send_keys(password) click_on_element(dc_log_page_loc['sign_in_btn']) assert get_website_title() == 'Instance Overview - OpenStack Dashboard' def test_go_to_instancepage(): click_on_element(dc_overview_page_loc['project_instance_btn']) assert get_website_title() == 'Instances - OpenStack Dashboard' instance_name = gen_random_resource_name('instance') def test_create_instance(): click_on_element(dc_instances_page_loc['launch_instance_btn']) find_element_by_xpath(dc_instances_page_loc['launch_instance_tab_details_instancename_textbox']).send_keys(instance_name) find_element_by_xpath(dc_instances_page_loc['launch_instance_tab_details_description_textbox']).send_keys(instance_name) choose_from_steps_in_launch_tab(""Source"") click_on_element(dc_instances_page_loc['launch_instance_tab_source_createnewvolume_no_btn']) choose_from_available_in_launch_tab(instance_image) choose_from_steps_in_launch_tab(""Flavor"") choose_from_available_in_launch_tab(instance_flavor) choose_from_steps_in_launch_tab(""Networks"") choose_from_available_in_launch_tab(instance_network) click_on_element(dc_instances_page_loc['launch_instance_tab_finish_btn']) assert is_instance_active(instance_name) def test_delete_instance(): open_dropdown_menu_specific_instance(instance_name) click_on_element(dc_instances_page_loc['dropdown_menu_right_action_delete']) click_on_element(dc_instances_page_loc['dialog_window_confirm_delete']) assert find_messages_and_dismiss() == {INFO} ",,164,0
openstack%2Fcharm-nova-cell-controller~stable%2F2023.1~I82a3d8d8717693fedf6b4f1ceabddc9441fc522c,openstack/charm-nova-cell-controller,stable/2023.1,I82a3d8d8717693fedf6b4f1ceabddc9441fc522c,Bump up Charm-helpers revision,NEW,2023-06-08 20:04:16.000000000,2023-06-14 12:55:51.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:04:16.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/4c5f39680a90e942e3ab4e0e535e9892edb33622', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I82a3d8d8717693fedf6b4f1ceabddc9441fc522c\n'}]",3,885651,4c5f39680a90e942e3ab4e0e535e9892edb33622,8,3,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I82a3d8d8717693fedf6b4f1ceabddc9441fc522c
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/51/885651/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,4c5f39680a90e942e3ab4e0e535e9892edb33622,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fswift~master~I0e13e0148a6e19fd6d0a9438604aa791f948502a,openstack/swift,master,I0e13e0148a6e19fd6d0a9438604aa791f948502a,proxy: print logs when write new shard range cache into memcache.,MERGED,2023-05-12 22:37:58.000000000,2023-06-14 12:23:39.000000000,2023-06-14 12:22:29.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 22:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/23f24bdffd8875aa3cba7b4dccca1e3b1298d03d', 'message': 'proxy: print logs when write new shard range cache into memcache.\n\nChange-Id: I0e13e0148a6e19fd6d0a9438604aa791f948502a\n'}, {'number': 2, 'created': '2023-06-13 05:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/725bb2d1eb5bbae62c25c073912edd69ab95731a', 'message': 'proxy: print logs when write new shard range cache into memcache.\n\nChange-Id: I0e13e0148a6e19fd6d0a9438604aa791f948502a\n'}, {'number': 3, 'created': '2023-06-13 18:21:17.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f150a5035ced99f40cad0888c2301bd1469ec279', 'message': 'proxy: print logs when write new shard range cache into memcache.\n\nChange-Id: I0e13e0148a6e19fd6d0a9438604aa791f948502a\n'}]",9,883091,f150a5035ced99f40cad0888c2301bd1469ec279,18,2,3,34930,,,0,"proxy: print logs when write new shard range cache into memcache.

Change-Id: I0e13e0148a6e19fd6d0a9438604aa791f948502a
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/883091/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/container.py']",4,23f24bdffd8875aa3cba7b4dccca1e3b1298d03d,sr_cache_log," self.logger.info('Caching %d listing shards for %s', len(ns_bound_list.bounds), cache_key)"," self.logger.debug('Caching %d shards for %s', len(ns_bound_list.bounds), req.path_qs)",14,2
openstack%2Fnova~master~I5b995883a41f65296de86f3effa0102ecb12c1fa,openstack/nova,master,I5b995883a41f65296de86f3effa0102ecb12c1fa,Add more password generation options,NEW,2022-11-25 11:09:59.000000000,2023-06-14 12:08:45.000000000,,"[{'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 11:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33b2fd3e9337559369e313ec0d5fbf1ad7be8bb9', 'message': ""Add more password generation options\n\nSome password policies require more than one\noccurence of symbols of one kind,\nor make restrictions about their occurence effectively\nrequiring them to occure more often.\n\nBy providing the configuration value 'password_all_group_samples'\nthe administrator can increase the rounds to sample\nfrom all groups to adhere to such policies\n\nOften, password policies require not only ascii letters (upper/lower-case) and numbers,\nbut also other printable characters in the password as a fourth symbol group.\n\nThe config-string 'password_additional_symbols' can be used to define\nthose. To ensure backward compatibility, it is left blank by default,\nrestricting the generated passwords to the original three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 2, 'created': '2022-11-25 11:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33d79b8b88a0b8cdc3d450f3fc9a514cea702234', 'message': ""Add more password generation options\n\nSome password policies require more than one\noccurence of symbols of one kind,\nor make restrictions about their occurence effectively\nrequiring them to occure more often.\n\nBy providing the configuration value 'password_all_group_samples'\nthe administrator can increase the rounds to sample\nfrom all groups to adhere to such policies\n\nOften, password policies require not only ascii letters (upper/lower-case) and numbers,\nbut also other printable characters in the password as a fourth symbol group.\n\nThe config-string 'password_additional_symbols' can be used to define\nthose. To ensure backward compatibility, it is left blank by default,\nrestricting the generated passwords to the original three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 3, 'created': '2022-11-25 11:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19940969eaa2a793701ec08191a0bb3ed5264ab5', 'message': ""Add more password generation options\n\nSome password policies require more than one\noccurence of symbols of one kind, or make\nrestrictions about their occurence effectively\nrequiring them to occure more often.\n\nBy providing the configuration value\n'password_all_group_samples' the administrator can\nincrease the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii\nletters (upper/lower-case) and numbers, but also\nother printable characters in the password as a\nfourth symbol group.\n\nThe config-string 'password_additional_symbols'\ncan be used to define those. To ensure backward\ncompatibility, it is left blank by default,\nrestricting the generated passwords to the\noriginal three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 4, 'created': '2022-11-25 11:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c57ee1c827f0089f21d3ec36cebb3160cdaaf48', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nThe config-string 'password_additional_symbols' can be used to define\nthose. To ensure backward compatibility, it is left blank by default,\nrestricting the generated passwords to the original three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 5, 'created': '2022-11-25 11:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e05ac7312f31bbf1fe80f2b9893b06f20b025761', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nThe config-string 'password_additional_symbols' can be used to define\nthose. To ensure backward compatibility, it is left blank by default,\nrestricting the generated passwords to the original three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 6, 'created': '2022-11-25 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20b83c4e02ae7af2fb521d361e4ff22d25b90a17', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nThe config-string 'password_additional_symbols' can be used to define\nthose. To ensure backward compatibility, it is left blank by default,\nrestricting the generated passwords to the original three symbol groups.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 7, 'created': '2022-11-30 09:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40e97c56578118dd839c37b8aec55bd2e6764ad8', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nBy makeing the symbol-classes the multi-string list\n'password_symbol_groups', the administrator can add those and\nalso override the other classes, if desired.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 8, 'created': '2023-03-15 10:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8d8c5546bce92791f1847fe9c58a6cbd3b210e2', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nBy makeing the symbol-classes the multi-string list\n'password_symbol_groups', the administrator can add those and\nalso override the other classes, if desired.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 9, 'created': '2023-05-02 14:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc6c3c9570e5c684592a82c585cb528e712c55e0', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nBy makeing the symbol-classes the multi-string list\n'password_symbol_groups', the administrator can add those and\nalso override the other classes, if desired.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}, {'number': 10, 'created': '2023-06-13 08:14:12.000000000', 'files': ['nova/tests/unit/test_utils.py', 'nova/conf/base.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ebc14f8f883aed310e583089205e7a21d364bd7', 'message': ""Add more password generation options\n\nSome password policies require more than one occurence of symbols of one\nkind, or make restrictions about their occurence effectively requiring\nthem to occure more often.\n\nBy providing the configuration value 'password_all_group_samples' the\nadministrator can increase the rounds to sample from all groups to\nadhere to such policies\n\nOften, password policies require not only ascii letters\n(upper/lower-case) and numbers, but also other printable characters in\nthe password as a fourth symbol group.\n\nBy makeing the symbol-classes the multi-string list\n'password_symbol_groups', the administrator can add those and\nalso override the other classes, if desired.\n\nChange-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa\n""}]",2,865669,0ebc14f8f883aed310e583089205e7a21d364bd7,29,2,10,24434,,,0,"Add more password generation options

Some password policies require more than one occurence of symbols of one
kind, or make restrictions about their occurence effectively requiring
them to occure more often.

By providing the configuration value 'password_all_group_samples' the
administrator can increase the rounds to sample from all groups to
adhere to such policies

Often, password policies require not only ascii letters
(upper/lower-case) and numbers, but also other printable characters in
the password as a fourth symbol group.

By makeing the symbol-classes the multi-string list
'password_symbol_groups', the administrator can add those and
also override the other classes, if desired.

Change-Id: I5b995883a41f65296de86f3effa0102ecb12c1fa
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/865669/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/base.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py']",3,33b2fd3e9337559369e313ec0d5fbf1ad7be8bb9,password_policy_master," 'abcdefghijkmnopqrstuvwxyz', # Removed: l CONF.password_additional_symbols, ) # NOTE(fwiesel): And some policies require even more of them, so # do it as often as configured in DEFAULT.password_all_group_samples password = [r.choice(s) for s in symbolgroups * CONF.password_all_group_samples if s]", 'abcdefghijkmnopqrstuvwxyz') # Removed: l password = [r.choice(s) for s in symbolgroups],77,7
openstack%2Fpuppet-nova~master~I6a920aa72bf45b0805a3ed0bcbcc39d428749d8e,openstack/puppet-nova,master,I6a920aa72bf45b0805a3ed0bcbcc39d428749d8e,Namespace ensure_packages in stdlib puppet module,NEW,2023-06-14 10:05:54.000000000,2023-06-14 10:48:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 10:05:54.000000000', 'files': ['manifests/key_manager/barbican.pp', 'manifests/compute.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2f3396ee09e886a5ba6537d2ae476c002a9ed8d0', 'message': 'Namespace ensure_packages in stdlib puppet module\n\nNamespace ensure_packages in stdlib puppet module\n\nRequired after [1] as documented in [2].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1356/\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/24a0f2138f0fa3ef535b3424c314324ff3955680/REFERENCE.md#functions\n\nChange-Id: I6a920aa72bf45b0805a3ed0bcbcc39d428749d8e\n'}]",1,886073,2f3396ee09e886a5ba6537d2ae476c002a9ed8d0,3,1,1,16312,,,0,"Namespace ensure_packages in stdlib puppet module

Namespace ensure_packages in stdlib puppet module

Required after [1] as documented in [2].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1356/
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/24a0f2138f0fa3ef535b3424c314324ff3955680/REFERENCE.md#functions

Change-Id: I6a920aa72bf45b0805a3ed0bcbcc39d428749d8e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/73/886073/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'manifests/key_manager/barbican.pp']",2,2f3396ee09e886a5ba6537d2ae476c002a9ed8d0,," stdlib::ensure_packages('cryptsetup', {"," ensure_packages('cryptsetup', {",2,2
openstack%2Fkolla~master~I5c01ca5aa70b157575872189093193662141e3c1,openstack/kolla,master,I5c01ca5aa70b157575872189093193662141e3c1,Fix rabbitmq image build,ABANDONED,2023-06-14 10:16:53.000000000,2023-06-14 10:17:50.000000000,,[],"[{'number': 1, 'created': '2023-06-14 10:16:53.000000000', 'files': ['docker/base/Dockerfile.j2', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2d48e3d54280d768dc21787973450fdd7b6e2387', 'message': 'Fix rabbitmq image build\n\nThis patch is replacing ppa.launchpadcontent.net\nby ppa1.novemberain.com.\nThis repo is based on the official Erlang/OTP package\nfor Debian. The RabbitMQ team adapted the upstream package\nto produce packages for more/different combinations of\nErlang/OTP, Debian and Ubuntu releases.\n\nChange-Id: I5c01ca5aa70b157575872189093193662141e3c1\n'}]",0,886074,2d48e3d54280d768dc21787973450fdd7b6e2387,2,0,1,27339,,,0,"Fix rabbitmq image build

This patch is replacing ppa.launchpadcontent.net
by ppa1.novemberain.com.
This repo is based on the official Erlang/OTP package
for Debian. The RabbitMQ team adapted the upstream package
to produce packages for more/different combinations of
Erlang/OTP, Debian and Ubuntu releases.

Change-Id: I5c01ca5aa70b157575872189093193662141e3c1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/886074/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'kolla/template/repos.yaml']",2,2d48e3d54280d768dc21787973450fdd7b6e2387,rabbitmq-ppa-novemberrain," url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"" url: ""https://ppa1.novemberain.com/rabbitmq/rabbitmq-erlang/deb/ubuntu"""," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu"" url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang/ubuntu""",5,5
openstack%2Fkolla-ansible~stable%2Fxena~I4b50053ced9150499d1d09fd4a0ec2e243cf938b,openstack/kolla-ansible,stable/xena,I4b50053ced9150499d1d09fd4a0ec2e243cf938b,Fix passwords.yml permissions,MERGED,2023-06-12 12:23:41.000000000,2023-06-14 09:55:31.000000000,2023-06-14 09:54:16.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-12 12:23:41.000000000', 'files': ['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46c05054361d24f6702afc6bc62beac0cd2bf693', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)\n'}]",0,885870,46c05054361d24f6702afc6bc62beac0cd2bf693,10,7,1,14200,,,0,"Fix passwords.yml permissions

The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd
commands now creates or updates passwords.yml with correct
permissions. Also they display warning message about incorrect
permissions.

Closes-Bug: #2018338
Change-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/885870/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml']",7,46c05054361d24f6702afc6bc62beac0cd2bf693,fix-passwords-yml-permissions,"--- security: - | The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd commands now creates or updates passwords.yml with correct permissions. Also they display warning message about incorrect permissions. ",,79,3
openstack%2Fcharm-cinder-ceph~stable%2F2023.1~I9fa88d9e0db166d1adf610bdae7eff6577724042,openstack/charm-cinder-ceph,stable/2023.1,I9fa88d9e0db166d1adf610bdae7eff6577724042,Charm-helpers sync,MERGED,2023-06-08 19:39:30.000000000,2023-06-14 09:54:09.000000000,2023-06-14 09:54:09.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:39:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/a9cc480d3a26d41ec2843c24f6a16d962e0bbf12', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I9fa88d9e0db166d1adf610bdae7eff6577724042\n'}]",1,885618,a9cc480d3a26d41ec2843c24f6a16d962e0bbf12,10,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I9fa88d9e0db166d1adf610bdae7eff6577724042
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/18/885618/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,a9cc480d3a26d41ec2843c24f6a16d962e0bbf12,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-ceilometer~stable%2F2023.1~I967c3e7b2563337edf93ea44ee28e72fdc938d4d,openstack/charm-ceilometer,stable/2023.1,I967c3e7b2563337edf93ea44ee28e72fdc938d4d,Charm-helpers sync,MERGED,2023-06-08 19:33:05.000000000,2023-06-14 09:52:44.000000000,2023-06-14 09:52:44.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:33:05.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/ab3e202978c14b03d54dbf86c90c8ea3e00a17d4', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I967c3e7b2563337edf93ea44ee28e72fdc938d4d\n'}]",0,885606,ab3e202978c14b03d54dbf86c90c8ea3e00a17d4,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I967c3e7b2563337edf93ea44ee28e72fdc938d4d
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/06/885606/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,ab3e202978c14b03d54dbf86c90c8ea3e00a17d4,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-cinder~stable%2F2023.1~I74e89feee19f54cde930949a340a04b56ec4c407,openstack/charm-cinder,stable/2023.1,I74e89feee19f54cde930949a340a04b56ec4c407,Charm-helpers sync,MERGED,2023-06-08 19:34:29.000000000,2023-06-14 09:47:02.000000000,2023-06-14 09:47:02.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:34:29.000000000', 'files': ['charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d18b2dbfddee6652d945737dd1f274b62ad68833', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I74e89feee19f54cde930949a340a04b56ec4c407\n'}]",0,885608,d18b2dbfddee6652d945737dd1f274b62ad68833,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I74e89feee19f54cde930949a340a04b56ec4c407
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/08/885608/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/cert_utils.py'],1,d18b2dbfddee6652d945737dd1f274b62ad68833,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,11,0
openstack%2Fcharm-keystone~stable%2F2023.1~Ic673d2f818d9f22d0166b1b2b1df78602a82d4f5,openstack/charm-keystone,stable/2023.1,Ic673d2f818d9f22d0166b1b2b1df78602a82d4f5,Charm-helpers sync,MERGED,2023-06-08 19:40:57.000000000,2023-06-14 09:46:37.000000000,2023-06-14 09:46:37.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:40:57.000000000', 'files': ['charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/bfc2d62799868fdcd4b5b247d1d5f2f0ee2a7b34', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ic673d2f818d9f22d0166b1b2b1df78602a82d4f5\n'}]",0,885622,bfc2d62799868fdcd4b5b247d1d5f2f0ee2a7b34,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ic673d2f818d9f22d0166b1b2b1df78602a82d4f5
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/22/885622/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/cert_utils.py'],1,bfc2d62799868fdcd4b5b247d1d5f2f0ee2a7b34,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,11,0
openstack%2Fcharm-ceilometer-agent~stable%2F2023.1~I2622e0e814a1fea64046c32d94335aa9032b5a3b,openstack/charm-ceilometer-agent,stable/2023.1,I2622e0e814a1fea64046c32d94335aa9032b5a3b,Charm-helpers sync,MERGED,2023-06-08 19:36:47.000000000,2023-06-14 09:46:31.000000000,2023-06-14 09:46:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:36:47.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/f64c3850e517bbcb8d13af8d6f822509e1aeca75', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I2622e0e814a1fea64046c32d94335aa9032b5a3b\n'}]",0,885613,f64c3850e517bbcb8d13af8d6f822509e1aeca75,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I2622e0e814a1fea64046c32d94335aa9032b5a3b
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/13/885613/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,f64c3850e517bbcb8d13af8d6f822509e1aeca75,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-openstack-dashboard~stable%2F2023.1~Iab7c28a3aa9142140b509fbc2db0c5c33c7c5cea,openstack/charm-openstack-dashboard,stable/2023.1,Iab7c28a3aa9142140b509fbc2db0c5c33c7c5cea,Charm-helpers sync,MERGED,2023-06-08 19:40:36.000000000,2023-06-14 09:46:28.000000000,2023-06-14 09:46:28.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:40:36.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2c7d63913485a91da5c8b337af76f15cf1582446', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Iab7c28a3aa9142140b509fbc2db0c5c33c7c5cea\n'}]",0,885621,2c7d63913485a91da5c8b337af76f15cf1582446,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Iab7c28a3aa9142140b509fbc2db0c5c33c7c5cea
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/21/885621/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,2c7d63913485a91da5c8b337af76f15cf1582446,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-neutron-api~stable%2F2023.1~Ie15bbf01b34c778493cff78a75cb59c0237e16fd,openstack/charm-neutron-api,stable/2023.1,Ie15bbf01b34c778493cff78a75cb59c0237e16fd,Charm-helpers sync,MERGED,2023-06-08 19:40:12.000000000,2023-06-14 09:45:13.000000000,2023-06-14 09:45:13.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:40:12.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/98ded88ece79387895bebc5f1043283bd1d243b6', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ie15bbf01b34c778493cff78a75cb59c0237e16fd\n'}]",0,885620,98ded88ece79387895bebc5f1043283bd1d243b6,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ie15bbf01b34c778493cff78a75cb59c0237e16fd
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/20/885620/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",4,98ded88ece79387895bebc5f1043283bd1d243b6,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-nova-cloud-controller~stable%2F2023.1~I6529394238b09224de9b70901b3ea238c2b998cb,openstack/charm-nova-cloud-controller,stable/2023.1,I6529394238b09224de9b70901b3ea238c2b998cb,Charm-helpers sync,MERGED,2023-06-08 19:35:15.000000000,2023-06-14 09:45:12.000000000,2023-06-14 09:45:12.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:35:15.000000000', 'files': ['charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4fab1eb5f19193cad0421a4943731651733ca4f6', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I6529394238b09224de9b70901b3ea238c2b998cb\n'}]",0,885610,4fab1eb5f19193cad0421a4943731651733ca4f6,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I6529394238b09224de9b70901b3ea238c2b998cb
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/10/885610/1 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/contrib/openstack/cert_utils.py'],1,4fab1eb5f19193cad0421a4943731651733ca4f6,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,11,0
openstack%2Fcharm-cinder-purestorage~stable%2F2023.1~I456f0f9cc87e5f148c7e8cf70998c8cf7cb5ea83,openstack/charm-cinder-purestorage,stable/2023.1,I456f0f9cc87e5f148c7e8cf70998c8cf7cb5ea83,Bump up Charm-helpers revision,MERGED,2023-06-08 19:59:38.000000000,2023-06-14 09:45:03.000000000,2023-06-14 09:45:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:59:38.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/69037ff73780980929c4eec4adca1521c9fe22ed', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I456f0f9cc87e5f148c7e8cf70998c8cf7cb5ea83\n'}]",0,885631,69037ff73780980929c4eec4adca1521c9fe22ed,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I456f0f9cc87e5f148c7e8cf70998c8cf7cb5ea83
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/31/885631/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,69037ff73780980929c4eec4adca1521c9fe22ed,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-magnum-dashboard~stable%2F2023.1~I7718e890c6b5cacc8285020b12221b4eeb2efa86,openstack/charm-magnum-dashboard,stable/2023.1,I7718e890c6b5cacc8285020b12221b4eeb2efa86,Bump up Charm-helpers revision,MERGED,2023-06-08 20:01:58.000000000,2023-06-14 09:43:16.000000000,2023-06-14 09:43:16.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:01:58.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/fd1dfa9e19b54ab3d1b88b8ff03e1ebeabe9cb81', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I7718e890c6b5cacc8285020b12221b4eeb2efa86\n'}]",0,885641,fd1dfa9e19b54ab3d1b88b8ff03e1ebeabe9cb81,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I7718e890c6b5cacc8285020b12221b4eeb2efa86
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/41/885641/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,fd1dfa9e19b54ab3d1b88b8ff03e1ebeabe9cb81,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-swift-proxy~stable%2F2023.1~I53efb8ce940fda5cb95a96b7aa46e2e1bec2d0e4,openstack/charm-swift-proxy,stable/2023.1,I53efb8ce940fda5cb95a96b7aa46e2e1bec2d0e4,Charm-helpers sync,MERGED,2023-06-08 19:38:01.000000000,2023-06-14 09:43:05.000000000,2023-06-14 09:43:05.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:38:01.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/0b95a3f272ca5c3032f1d906546bbc0f29908ff6', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I53efb8ce940fda5cb95a96b7aa46e2e1bec2d0e4\n'}]",1,885615,0b95a3f272ca5c3032f1d906546bbc0f29908ff6,10,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I53efb8ce940fda5cb95a96b7aa46e2e1bec2d0e4
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/15/885615/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,0b95a3f272ca5c3032f1d906546bbc0f29908ff6,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-aodh~stable%2F2023.1~I1634e22a02114d5e0c7525fe361e8edf135f4554,openstack/charm-aodh,stable/2023.1,I1634e22a02114d5e0c7525fe361e8edf135f4554,Bump up Charm-helpers revision,MERGED,2023-06-08 19:58:07.000000000,2023-06-14 09:42:53.000000000,2023-06-14 09:42:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:58:07.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/560dc2b5d593e00420050c990a6040743cbe7845', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I1634e22a02114d5e0c7525fe361e8edf135f4554\n'}]",0,885625,560dc2b5d593e00420050c990a6040743cbe7845,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I1634e22a02114d5e0c7525fe361e8edf135f4554
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/25/885625/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,560dc2b5d593e00420050c990a6040743cbe7845,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-barbican-vault~stable%2F2023.1~Iadd5adc6144a030c73bbf21c2c66a1fcfa6e6f98,openstack/charm-barbican-vault,stable/2023.1,Iadd5adc6144a030c73bbf21c2c66a1fcfa6e6f98,Bump up Charm-helpers revision,MERGED,2023-06-08 19:58:40.000000000,2023-06-14 09:42:51.000000000,2023-06-14 09:42:51.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:58:40.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/518c6bd894b1d6cd0aeeeea7f19396de02bd1fd6', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Iadd5adc6144a030c73bbf21c2c66a1fcfa6e6f98\n'}]",0,885627,518c6bd894b1d6cd0aeeeea7f19396de02bd1fd6,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Iadd5adc6144a030c73bbf21c2c66a1fcfa6e6f98
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/27/885627/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,518c6bd894b1d6cd0aeeeea7f19396de02bd1fd6,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-barbican~stable%2F2023.1~I3414a8ba85e3a248c97cce4e476f9de1ceef466a,openstack/charm-barbican,stable/2023.1,I3414a8ba85e3a248c97cce4e476f9de1ceef466a,Bump up Charm-helpers revision,MERGED,2023-06-08 19:58:26.000000000,2023-06-14 09:42:40.000000000,2023-06-14 09:42:40.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:58:26.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/df00f3fb533cd86ac5255e1da5906b4fde7db476', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I3414a8ba85e3a248c97cce4e476f9de1ceef466a\n'}]",0,885626,df00f3fb533cd86ac5255e1da5906b4fde7db476,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I3414a8ba85e3a248c97cce4e476f9de1ceef466a
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/26/885626/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,df00f3fb533cd86ac5255e1da5906b4fde7db476,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-nova-compute~stable%2F2023.1~I75e5388c4b0a789e45e4b43773ea5b8c078e44b4,openstack/charm-nova-compute,stable/2023.1,I75e5388c4b0a789e45e4b43773ea5b8c078e44b4,Charm-helpers sync,MERGED,2023-06-08 19:39:50.000000000,2023-06-14 09:42:30.000000000,2023-06-14 09:42:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:39:50.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7466f21af1bc17d726a2243c1060945c7a7f35d9', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I75e5388c4b0a789e45e4b43773ea5b8c078e44b4\n'}]",0,885619,7466f21af1bc17d726a2243c1060945c7a7f35d9,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I75e5388c4b0a789e45e4b43773ea5b8c078e44b4
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/19/885619/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",2,7466f21af1bc17d726a2243c1060945c7a7f35d9,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,18,0
openstack%2Fcharm-keystone-ldap~stable%2F2023.1~Iec412c6990ffae3b4f42b0ca2c64a209202a252e,openstack/charm-keystone-ldap,stable/2023.1,Iec412c6990ffae3b4f42b0ca2c64a209202a252e,Bump up Charm-helpers revision,MERGED,2023-06-08 20:01:14.000000000,2023-06-14 09:42:14.000000000,2023-06-14 09:42:14.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:01:14.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/ab42225e15203f36abb8596e3024c42ccd2ef05c', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Iec412c6990ffae3b4f42b0ca2c64a209202a252e\n'}]",0,885638,ab42225e15203f36abb8596e3024c42ccd2ef05c,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Iec412c6990ffae3b4f42b0ca2c64a209202a252e
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/38/885638/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,ab42225e15203f36abb8596e3024c42ccd2ef05c,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-cinder-lvm~stable%2F2023.1~I8b596607df0f3ca3be76127922dc76c7e6778f2b,openstack/charm-cinder-lvm,stable/2023.1,I8b596607df0f3ca3be76127922dc76c7e6778f2b,Bump up Charm-helpers revision,MERGED,2023-06-08 19:59:10.000000000,2023-06-14 09:42:10.000000000,2023-06-14 09:42:10.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:59:10.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/539a5805324d095b85f98aefbd93dc1a6ce862ac', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I8b596607df0f3ca3be76127922dc76c7e6778f2b\n'}]",0,885629,539a5805324d095b85f98aefbd93dc1a6ce862ac,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I8b596607df0f3ca3be76127922dc76c7e6778f2b
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/29/885629/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,539a5805324d095b85f98aefbd93dc1a6ce862ac,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-swift-storage~stable%2F2023.1~I820ab3647c684e1f2a0b8e2f2810b44fae9046ba,openstack/charm-swift-storage,stable/2023.1,I820ab3647c684e1f2a0b8e2f2810b44fae9046ba,Charm-helpers sync,MERGED,2023-06-08 19:38:59.000000000,2023-06-14 09:41:12.000000000,2023-06-14 09:41:12.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:38:59.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/31e49e03ea985e4bad294719ec5d98962a5d4a32', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I820ab3647c684e1f2a0b8e2f2810b44fae9046ba\n'}]",0,885617,31e49e03ea985e4bad294719ec5d98962a5d4a32,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I820ab3647c684e1f2a0b8e2f2810b44fae9046ba
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/17/885617/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,31e49e03ea985e4bad294719ec5d98962a5d4a32,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-glance-simplestreams-sync~stable%2F2023.1~Ie17b9431d51e9989372d695f4077f5b034154422,openstack/charm-glance-simplestreams-sync,stable/2023.1,Ie17b9431d51e9989372d695f4077f5b034154422,Charm-helpers sync,MERGED,2023-06-08 19:33:50.000000000,2023-06-14 09:41:00.000000000,2023-06-14 09:41:00.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:33:50.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/0c2a213a6ab4dd2d88489626ec548428d7ea8114', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ie17b9431d51e9989372d695f4077f5b034154422\n'}]",0,885607,0c2a213a6ab4dd2d88489626ec548428d7ea8114,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ie17b9431d51e9989372d695f4077f5b034154422
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/07/885607/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/cert_utils.py']",4,0c2a213a6ab4dd2d88489626ec548428d7ea8114,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-heat~stable%2F2023.1~I6a3bd15ef4b7bb8b0519b827a662a4bc0972f4e4,openstack/charm-heat,stable/2023.1,I6a3bd15ef4b7bb8b0519b827a662a4bc0972f4e4,Charm-helpers sync,MERGED,2023-06-08 19:35:57.000000000,2023-06-14 09:40:49.000000000,2023-06-14 09:40:49.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:35:57.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/ceb7aab69760732f832a1ec138208fd355eb27a4', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I6a3bd15ef4b7bb8b0519b827a662a4bc0972f4e4\n'}]",0,885612,ceb7aab69760732f832a1ec138208fd355eb27a4,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I6a3bd15ef4b7bb8b0519b827a662a4bc0972f4e4
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/12/885612/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",4,ceb7aab69760732f832a1ec138208fd355eb27a4,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-manila~stable%2F2023.1~Ibaede62e685556c3767b8082ab0e4c3ef93e1550,openstack/charm-manila,stable/2023.1,Ibaede62e685556c3767b8082ab0e4c3ef93e1550,Bump up Charm-helpers revision,MERGED,2023-06-08 20:02:12.000000000,2023-06-14 09:40:45.000000000,2023-06-14 09:40:45.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:02:12.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/0fbca42e21656c436ba9090a71fee77b87070b39', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ibaede62e685556c3767b8082ab0e4c3ef93e1550\n'}]",0,885642,0fbca42e21656c436ba9090a71fee77b87070b39,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ibaede62e685556c3767b8082ab0e4c3ef93e1550
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/42/885642/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0fbca42e21656c436ba9090a71fee77b87070b39,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-neutron-gateway~stable%2F2023.1~I9ff72a21b3720842985840bfad4dd5691370ae7d,openstack/charm-neutron-gateway,stable/2023.1,I9ff72a21b3720842985840bfad4dd5691370ae7d,Charm-helpers sync,MERGED,2023-06-08 19:34:53.000000000,2023-06-14 09:40:31.000000000,2023-06-14 09:40:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:34:53.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0a27118f46999c1d9edded26f0f53da27e0fe2ac', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I9ff72a21b3720842985840bfad4dd5691370ae7d\n'}]",0,885609,0a27118f46999c1d9edded26f0f53da27e0fe2ac,8,4,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I9ff72a21b3720842985840bfad4dd5691370ae7d
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/09/885609/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",4,0a27118f46999c1d9edded26f0f53da27e0fe2ac,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,23,1
openstack%2Fcharm-keystone-saml-mellon~stable%2F2023.1~If7252cdc19c35574a6ab1e9d72c16d693f954667,openstack/charm-keystone-saml-mellon,stable/2023.1,If7252cdc19c35574a6ab1e9d72c16d693f954667,Bump up Charm-helpers revision,MERGED,2023-06-08 20:01:29.000000000,2023-06-14 09:40:26.000000000,2023-06-14 09:40:26.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:01:29.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8ce1dbc48a2ab640d40451940f8249deb63e4f6e', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: If7252cdc19c35574a6ab1e9d72c16d693f954667\n'}]",0,885639,8ce1dbc48a2ab640d40451940f8249deb63e4f6e,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: If7252cdc19c35574a6ab1e9d72c16d693f954667
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/39/885639/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,8ce1dbc48a2ab640d40451940f8249deb63e4f6e,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-neutron-api-plugin-arista~stable%2F2023.1~I77504b0c73aaf2b65bbaf38a3b2aeb47ba35d04f,openstack/charm-neutron-api-plugin-arista,stable/2023.1,I77504b0c73aaf2b65bbaf38a3b2aeb47ba35d04f,Bump up Charm-helpers revision,MERGED,2023-06-08 20:03:34.000000000,2023-06-14 09:40:07.000000000,2023-06-14 09:40:07.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:03:34.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/d6822ebfdba4427dcdc90577eaec556178914abd', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I77504b0c73aaf2b65bbaf38a3b2aeb47ba35d04f\n'}]",0,885648,d6822ebfdba4427dcdc90577eaec556178914abd,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I77504b0c73aaf2b65bbaf38a3b2aeb47ba35d04f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/48/885648/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,d6822ebfdba4427dcdc90577eaec556178914abd,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-designate~stable%2F2023.1~I155e1f699c3829e0088f9a244afee81b4b6ae93c,openstack/charm-designate,stable/2023.1,I155e1f699c3829e0088f9a244afee81b4b6ae93c,Bump up Charm-helpers revision,MERGED,2023-06-08 19:59:51.000000000,2023-06-14 09:40:04.000000000,2023-06-14 09:40:04.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:59:51.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/388de96f8367458ff6c63e1151c37eb5c5d0d2f4', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I155e1f699c3829e0088f9a244afee81b4b6ae93c\n'}]",0,885632,388de96f8367458ff6c63e1151c37eb5c5d0d2f4,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I155e1f699c3829e0088f9a244afee81b4b6ae93c
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/32/885632/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,388de96f8367458ff6c63e1151c37eb5c5d0d2f4,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-designate-bind~stable%2F2023.1~I1fe338fb40b647b4d4f4bb424e315d46e093e97e,openstack/charm-designate-bind,stable/2023.1,I1fe338fb40b647b4d4f4bb424e315d46e093e97e,Bump up Charm-helpers revision,MERGED,2023-06-08 20:00:04.000000000,2023-06-14 09:40:00.000000000,2023-06-14 09:40:00.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:00:04.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/8fed2f9eaf28cbb6ed59296f4abed9887d8a80a4', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I1fe338fb40b647b4d4f4bb424e315d46e093e97e\n'}]",0,885633,8fed2f9eaf28cbb6ed59296f4abed9887d8a80a4,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I1fe338fb40b647b4d4f4bb424e315d46e093e97e
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/33/885633/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,8fed2f9eaf28cbb6ed59296f4abed9887d8a80a4,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-manila-generic~stable%2F2023.1~Ie27238fcd2583e02b203108c26d444f237095420,openstack/charm-manila-generic,stable/2023.1,Ie27238fcd2583e02b203108c26d444f237095420,Bump up Charm-helpers revision,MERGED,2023-06-08 20:02:52.000000000,2023-06-14 09:39:47.000000000,2023-06-14 09:39:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:02:52.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/dd8a5623f502b7f6de69b90644f9cc6a96ee0814', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ie27238fcd2583e02b203108c26d444f237095420\n'}]",0,885645,dd8a5623f502b7f6de69b90644f9cc6a96ee0814,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ie27238fcd2583e02b203108c26d444f237095420
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/45/885645/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,dd8a5623f502b7f6de69b90644f9cc6a96ee0814,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-magnum~stable%2F2023.1~If238aa7b22d8f0fa7b3c75246632b425a9c8fee4,openstack/charm-magnum,stable/2023.1,If238aa7b22d8f0fa7b3c75246632b425a9c8fee4,Bump up Charm-helpers revision,MERGED,2023-06-08 20:01:43.000000000,2023-06-14 09:39:28.000000000,2023-06-14 09:39:28.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:01:43.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/d5a4a19978dbebdf7d7c7b41caa9b9d7b7cbab7d', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: If238aa7b22d8f0fa7b3c75246632b425a9c8fee4\n'}]",0,885640,d5a4a19978dbebdf7d7c7b41caa9b9d7b7cbab7d,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: If238aa7b22d8f0fa7b3c75246632b425a9c8fee4
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/40/885640/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,d5a4a19978dbebdf7d7c7b41caa9b9d7b7cbab7d,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-gnocchi~stable%2F2023.1~I005fe551d9294ce78463f536f6f8def02e1242b8,openstack/charm-gnocchi,stable/2023.1,I005fe551d9294ce78463f536f6f8def02e1242b8,Bump up Charm-helpers revision,MERGED,2023-06-08 20:00:18.000000000,2023-06-14 09:39:23.000000000,2023-06-14 09:39:23.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:00:18.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/a58cb06c934bf9d5cd3c05c6b6a7565af06d1c9f', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I005fe551d9294ce78463f536f6f8def02e1242b8\n'}]",0,885634,a58cb06c934bf9d5cd3c05c6b6a7565af06d1c9f,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I005fe551d9294ce78463f536f6f8def02e1242b8
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/34/885634/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,a58cb06c934bf9d5cd3c05c6b6a7565af06d1c9f,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2F2023.1~Ia191261179bbad3c01ff0b6fe78194f4212a6e4f,openstack/charm-neutron-api-plugin-ironic,stable/2023.1,Ia191261179bbad3c01ff0b6fe78194f4212a6e4f,Bump up Charm-helpers revision,MERGED,2023-06-08 20:03:48.000000000,2023-06-14 09:38:47.000000000,2023-06-14 09:38:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:03:48.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/5a9bc26259bacdf19bb7a5536afc6ffd4e40628e', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ia191261179bbad3c01ff0b6fe78194f4212a6e4f\n'}]",0,885649,5a9bc26259bacdf19bb7a5536afc6ffd4e40628e,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ia191261179bbad3c01ff0b6fe78194f4212a6e4f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/49/885649/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,5a9bc26259bacdf19bb7a5536afc6ffd4e40628e,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-cinder-netapp~stable%2F2023.1~Ic186921a486b8a384169e4d84d07b2c1912e5ebd,openstack/charm-cinder-netapp,stable/2023.1,Ic186921a486b8a384169e4d84d07b2c1912e5ebd,Bump up Charm-helpers revision,MERGED,2023-06-08 19:59:24.000000000,2023-06-14 09:36:57.000000000,2023-06-14 09:36:57.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:59:24.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/79728c6bd5440730ab0445313133522120e86c28', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ic186921a486b8a384169e4d84d07b2c1912e5ebd\n'}]",0,885630,79728c6bd5440730ab0445313133522120e86c28,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ic186921a486b8a384169e4d84d07b2c1912e5ebd
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/30/885630/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,79728c6bd5440730ab0445313133522120e86c28,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-masakari~stable%2F2023.1~I0611580c3391fc99be93b7f53720f28885541ad4,openstack/charm-masakari,stable/2023.1,I0611580c3391fc99be93b7f53720f28885541ad4,Bump up Charm-helpers revision,MERGED,2023-06-08 20:03:06.000000000,2023-06-14 09:36:21.000000000,2023-06-14 09:36:21.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:03:06.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/c9081c0b447319d6e52b9f7b1788a7085027f304', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I0611580c3391fc99be93b7f53720f28885541ad4\n'}]",0,885646,c9081c0b447319d6e52b9f7b1788a7085027f304,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I0611580c3391fc99be93b7f53720f28885541ad4
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/46/885646/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,c9081c0b447319d6e52b9f7b1788a7085027f304,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-masakari-monitors~stable%2F2023.1~I5ed4a3fc64d3584f90fe393ea88069a3c8f64611,openstack/charm-masakari-monitors,stable/2023.1,I5ed4a3fc64d3584f90fe393ea88069a3c8f64611,Bump up Charm-helpers revision,MERGED,2023-06-08 20:03:20.000000000,2023-06-14 09:36:09.000000000,2023-06-14 09:36:09.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:03:20.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/7f046a5fb54cdbe06d5ab74649c9a7688f11b7ac', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I5ed4a3fc64d3584f90fe393ea88069a3c8f64611\n'}]",0,885647,7f046a5fb54cdbe06d5ab74649c9a7688f11b7ac,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I5ed4a3fc64d3584f90fe393ea88069a3c8f64611
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/47/885647/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,7f046a5fb54cdbe06d5ab74649c9a7688f11b7ac,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-manila-dashboard~stable%2F2023.1~I863d59c770ff214026ee56b1006671066d95f886,openstack/charm-manila-dashboard,stable/2023.1,I863d59c770ff214026ee56b1006671066d95f886,Bump up Charm-helpers revision,MERGED,2023-06-08 20:02:25.000000000,2023-06-14 09:34:35.000000000,2023-06-14 09:34:35.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:02:25.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/ee57bc79af4335afbf42634bef70124e38b3c232', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I863d59c770ff214026ee56b1006671066d95f886\n'}]",0,885643,ee57bc79af4335afbf42634bef70124e38b3c232,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I863d59c770ff214026ee56b1006671066d95f886
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/43/885643/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,ee57bc79af4335afbf42634bef70124e38b3c232,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fkolla-ansible~stable%2Fyoga~I4b50053ced9150499d1d09fd4a0ec2e243cf938b,openstack/kolla-ansible,stable/yoga,I4b50053ced9150499d1d09fd4a0ec2e243cf938b,Fix passwords.yml permissions,MERGED,2023-06-12 12:23:15.000000000,2023-06-14 09:33:21.000000000,2023-06-14 09:32:13.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-12 12:23:15.000000000', 'files': ['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64c77ef013540e8995ce421b10a979503c5252ed', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)\n'}]",0,885869,64c77ef013540e8995ce421b10a979503c5252ed,10,7,1,14200,,,0,"Fix passwords.yml permissions

The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd
commands now creates or updates passwords.yml with correct
permissions. Also they display warning message about incorrect
permissions.

Closes-Bug: #2018338
Change-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/885869/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml']",7,64c77ef013540e8995ce421b10a979503c5252ed,fix-passwords-yml-permissions,"--- security: - | The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd commands now creates or updates passwords.yml with correct permissions. Also they display warning message about incorrect permissions. ",,79,3
openstack%2Fkolla-ansible~stable%2F2023.1~I4b50053ced9150499d1d09fd4a0ec2e243cf938b,openstack/kolla-ansible,stable/2023.1,I4b50053ced9150499d1d09fd4a0ec2e243cf938b,Fix passwords.yml permissions,MERGED,2023-06-12 12:22:31.000000000,2023-06-14 09:33:14.000000000,2023-06-14 09:32:16.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-12 12:22:31.000000000', 'files': ['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1740c7f271690ceb238a8b27c0d6b8ec9f94b96b', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)\n'}]",0,885867,1740c7f271690ceb238a8b27c0d6b8ec9f94b96b,10,7,1,14200,,,0,"Fix passwords.yml permissions

The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd
commands now creates or updates passwords.yml with correct
permissions. Also they display warning message about incorrect
permissions.

Closes-Bug: #2018338
Change-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/885867/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml']",7,1740c7f271690ceb238a8b27c0d6b8ec9f94b96b,fix-passwords-yml-permissions,"--- security: - | The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd commands now creates or updates passwords.yml with correct permissions. Also they display warning message about incorrect permissions. ",,79,3
openstack%2Fkolla-ansible~stable%2Fzed~I4b50053ced9150499d1d09fd4a0ec2e243cf938b,openstack/kolla-ansible,stable/zed,I4b50053ced9150499d1d09fd4a0ec2e243cf938b,Fix passwords.yml permissions,MERGED,2023-06-12 12:22:53.000000000,2023-06-14 09:33:14.000000000,2023-06-14 09:32:11.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-12 12:22:53.000000000', 'files': ['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/635330912d6ae2ff0a355feda2768fba3fa8ea9a', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)\n'}]",0,885868,635330912d6ae2ff0a355feda2768fba3fa8ea9a,10,7,1,14200,,,0,"Fix passwords.yml permissions

The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd
commands now creates or updates passwords.yml with correct
permissions. Also they display warning message about incorrect
permissions.

Closes-Bug: #2018338
Change-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/885868/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml']",7,635330912d6ae2ff0a355feda2768fba3fa8ea9a,fix-passwords-yml-permissions,"--- security: - | The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd commands now creates or updates passwords.yml with correct permissions. Also they display warning message about incorrect permissions. ",,79,3
openstack%2Fskyline-console~master~I43fa54f52c791e629f9a04484c80947a04849556,openstack/skyline-console,master,I43fa54f52c791e629f9a04484c80947a04849556,feat: update layout styles,MERGED,2023-06-14 06:32:40.000000000,2023-06-14 09:30:29.000000000,2023-06-14 09:29:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-06-14 06:32:40.000000000', 'files': ['src/components/Layout/GlobalNav/index.less', 'src/components/Layout/GlobalNav/index.jsx', 'src/components/Layout/GlobalHeader/index.less', 'src/layouts/Base/index.less', '.stylelintrc.json', 'src/styles/variables.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4496eb4f05e5bbf5c2e24849c3eb9e4d5e7a9f5a', 'message': 'feat: update layout styles\n\nupdate layout styles by variables in the variables.less\n\nChange-Id: I43fa54f52c791e629f9a04484c80947a04849556\n'}]",0,886043,4496eb4f05e5bbf5c2e24849c3eb9e4d5e7a9f5a,8,3,1,30434,,,0,"feat: update layout styles

update layout styles by variables in the variables.less

Change-Id: I43fa54f52c791e629f9a04484c80947a04849556
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/43/886043/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Layout/GlobalNav/index.less', 'src/components/Layout/GlobalNav/index.jsx', 'src/components/Layout/GlobalHeader/index.less', 'src/layouts/Base/index.less', '.stylelintrc.json', 'src/styles/variables.less']",6,4496eb4f05e5bbf5c2e24849c3eb9e4d5e7a9f5a,styles,@sider-collapsed-width: 40px; headerHeight: @header-height;,,12,10
openstack%2Fopenstack-manuals~master~Ib214b3887850855d533de20a1d56bb8991998f72,openstack/openstack-manuals,master,Ib214b3887850855d533de20a1d56bb8991998f72,2023.1: Add front page links to charm-guide,MERGED,2023-06-13 23:08:38.000000000,2023-06-14 08:32:07.000000000,2023-06-14 08:10:12.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 23:08:38.000000000', 'files': ['www/project-data/2023.1.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/3ac5ee323c40e02eac343ca786f2573a9ca7edb4', 'message': '2023.1: Add front page links to charm-guide\n\nAdd front page doc links for the following project guide:\n\n* charm-guide\n\nChange-Id: Ib214b3887850855d533de20a1d56bb8991998f72\n'}]",0,886036,3ac5ee323c40e02eac343ca786f2573a9ca7edb4,7,2,1,30561,,,0,"2023.1: Add front page links to charm-guide

Add front page doc links for the following project guide:

* charm-guide

Change-Id: Ib214b3887850855d533de20a1d56bb8991998f72
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/36/886036/1 && git format-patch -1 --stdout FETCH_HEAD,['www/project-data/2023.1.yaml'],1,3ac5ee323c40e02eac343ca786f2573a9ca7edb4,add-links-to-charm-guide-2023.1,- name: charm-guide type: deployment service: OpenStack Charm Guide has_admin_guide: true has_in_tree_htaccess: true,#- name: charm-guide # type: deployment # service: OpenStack Charm Guide # has_admin_guide: true # has_in_tree_htaccess: true,5,5
openstack%2Fmanila~stable%2Fxena~Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562,openstack/manila,stable/xena,Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562,WIP - NetApp API failed. Reason - 18177:Relationship is in use by SnapMirror in local cluster,NEW,2023-06-05 14:49:19.000000000,2023-06-14 08:28:27.000000000,,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 14:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c5de759e9d49259482a206a1395c7ce27621888c', 'message': ""NetApp API failed. Reason - 18177:Relationship is in use by SnapMirror in local cluster\n\nChanged the client method 'get_snapmirror_destinations' instead of 'get_snapmirrors'\n\nCloses-Bug: #1996907\nChange-Id: Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562\n""}, {'number': 2, 'created': '2023-06-12 12:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f88082ceb7d8e662aff331cb2a544a92d1afed6e', 'message': ""WIP - NetApp API failed. Reason - 18177:Relationship is in use by SnapMirror in local cluster\n\nChanged the client method 'get_snapmirror_destinations' instead of 'get_snapmirrors'\n\nCloses-Bug: #1996907\nChange-Id: Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562\n""}, {'number': 3, 'created': '2023-06-12 12:40:37.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/abc074883991933c4ddbd26db9bc5ebd9fb1406f', 'message': ""WIP - NetApp API failed. Reason - 18177:Relationship is in use by SnapMirror in local cluster\n\nChanged the client method 'get_snapmirror_destinations' instead of 'get_snapmirrors'\n\nCloses-Bug: #1996907\nChange-Id: Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562\n""}]",4,885213,abc074883991933c4ddbd26db9bc5ebd9fb1406f,8,3,3,35002,,,0,"WIP - NetApp API failed. Reason - 18177:Relationship is in use by SnapMirror in local cluster

Changed the client method 'get_snapmirror_destinations' instead of 'get_snapmirrors'

Closes-Bug: #1996907
Change-Id: Ie857caf8a439ca6b252baa3c1fbfb3f0e62d7562
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/885213/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",2,c5de759e9d49259482a206a1395c7ce27621888c,bug/1996907," self.mock_object(self.library, '_get_snapmirrors_destinations', self.library._get_snapmirrors_destinations.assert_has_calls("," self.mock_object(self.library, '_get_snapmirrors', self.library._get_snapmirrors.assert_has_calls(",9,4
openstack%2Fcharm-ops-sunbeam~main~I368f162e4f8190a6f8a777d46320aed0a005624f,openstack/charm-ops-sunbeam,main,I368f162e4f8190a6f8a777d46320aed0a005624f,Update data_platform_libs to use data_interfaces,ABANDONED,2023-04-19 09:37:17.000000000,2023-06-14 06:18:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-19 09:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/de221d871712c8c0e2ed11fa832bb13acca64214', 'message': 'Update data_platform_libs to use data_interfaces\n\nInterface `database_requires.DatabaseRequires` has been deprecated in\nfavor of `data_interfaces.DatabaseRequires`.\n\nChange-Id: I368f162e4f8190a6f8a777d46320aed0a005624f\n'}, {'number': 2, 'created': '2023-04-19 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/264cef8dd9b9fc96ca5474a266a6b03cd6dd30df', 'message': 'Update data_platform_libs to use data_interfaces\n\nInterface `database_requires.DatabaseRequires` has been deprecated in\nfavor of `data_interfaces.DatabaseRequires`.\n\nChange-Id: I368f162e4f8190a6f8a777d46320aed0a005624f\n'}, {'number': 3, 'created': '2023-04-19 09:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/54d18c44b6792b6d9d6fb09a26fe530150f2a3f4', 'message': 'Update data_platform_libs to use data_interfaces\n\nInterface `database_requires.DatabaseRequires` has been deprecated in\nfavor of `data_interfaces.DatabaseRequires`.\n\nChange-Id: I368f162e4f8190a6f8a777d46320aed0a005624f\n'}, {'number': 4, 'created': '2023-04-20 12:05:14.000000000', 'files': ['doc/writing-OS-API-charm.rst', 'unit_tests/test_core.py', 'unit_tests/test_job_ctrl.py', 'unit_tests/lib/charms/data_platform_libs/v0/data_interfaces.py', 'unit_tests/lib/charms/data_platform_libs/v0/database_requires.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/08ec54f6a3137150885b249313d1b0f5d0864217', 'message': 'Update data_platform_libs to use data_interfaces\n\nInterface `database_requires.DatabaseRequires` has been deprecated in\nfavor of `data_interfaces.DatabaseRequires`.\n\nChange-Id: I368f162e4f8190a6f8a777d46320aed0a005624f\n'}]",0,880802,08ec54f6a3137150885b249313d1b0f5d0864217,8,1,4,35761,,,0,"Update data_platform_libs to use data_interfaces

Interface `database_requires.DatabaseRequires` has been deprecated in
favor of `data_interfaces.DatabaseRequires`.

Change-Id: I368f162e4f8190a6f8a777d46320aed0a005624f
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/02/880802/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/writing-OS-API-charm.rst', 'unit_tests/test_core.py', 'unit_tests/lib/charms/data_platform_libs/v0/data_interfaces.py', 'unit_tests/test_job_ctrl.py', 'unit_tests/lib/charms/data_platform_libs/v0/database_requires.py', 'ops_sunbeam/relation_handlers.py', 'fetch-libs.sh']",7,de221d871712c8c0e2ed11fa832bb13acca64214,refactor/migrate-data-interfaces,charmcraft fetch-lib charms.data_platform_libs.v0.data_interfaces,charmcraft fetch-lib charms.data_platform_libs.v0.database_requires,1174,534
openstack%2Fskyline-console~master~I06d09327d1423578efafc8e51107acb4025e992b,openstack/skyline-console,master,I06d09327d1423578efafc8e51107acb4025e992b,fix: fix the error message,MERGED,2023-06-13 06:45:18.000000000,2023-06-14 03:48:26.000000000,2023-06-14 03:47:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-06-13 06:45:18.000000000', 'files': ['yarn.lock', 'package.json', 'src/components/Notify/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/38c2939d658e752cb21517060db332aaa17e3185', 'message': 'fix: fix the error message\n\nFix the unreadable error messages with html characters.\n\nCloses-Bug: #2023627\nChange-Id: I06d09327d1423578efafc8e51107acb4025e992b\n'}]",1,885936,38c2939d658e752cb21517060db332aaa17e3185,12,3,1,30434,,,0,"fix: fix the error message

Fix the unreadable error messages with html characters.

Closes-Bug: #2023627
Change-Id: I06d09327d1423578efafc8e51107acb4025e992b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/36/885936/1 && git format-patch -1 --stdout FETCH_HEAD,"['yarn.lock', 'package.json', 'src/components/Notify/index.jsx']",3,38c2939d658e752cb21517060db332aaa17e3185,bug/2023627,"import { decode } from 'html-entities'; const decodeErr = err && isString(err) ? decode(err, { level: 'html5' }) : err; value={decodeErr}", value={err},10,1
openstack%2Fopenstacksdk~master~Iaf62662ca3dc4415737369f676109cccf7090e5a,openstack/openstacksdk,master,Iaf62662ca3dc4415737369f676109cccf7090e5a,add extended neutron job,MERGED,2023-05-04 12:08:37.000000000,2023-06-14 02:14:38.000000000,2023-06-14 02:04:40.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 12:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d5aa22ae722f96a9e1cf4d760bb90cde6700dcae', 'message': 'WIP: add fwaas enabled job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module.\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 2, 'created': '2023-05-04 14:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/518c6d3adb37d6f4caeb4a0043ffaca436828436', 'message': 'WIP: add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 3, 'created': '2023-05-04 17:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1aad463d15f3f7aaea5ba973f0557f3cee8047fc', 'message': 'WIP: add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 4, 'created': '2023-05-05 07:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6c9835a714f9cb82e6ab38292a2fd9e9087ea649', 'message': 'WIP: add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 5, 'created': '2023-05-05 09:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0e5360e7b11d0a6e8b38a908a621c0dd60dcafbf', 'message': 'add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 6, 'created': '2023-05-08 09:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a7bc1eb131fbfa65574b5a3f913cca504b165cea', 'message': 'add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas.\nHopefully fix flaking auto_allocated_topology which tried to idenfity\nprojects by available networks.\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 7, 'created': '2023-05-08 12:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fe501871e855783bef58b8df99d2d8427a711909', 'message': 'add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas.\nHopefully fix flaking auto_allocated_topology which tried to idenfity\nprojects by available networks.\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 8, 'created': '2023-05-08 14:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c324465baae4f54877a438be6719ab4d4bd2b93e', 'message': 'add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas.\nHopefully fix flaking auto_allocated_topology which tried to idenfity\nprojects by available networks.\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}, {'number': 9, 'created': '2023-05-08 16:02:47.000000000', 'files': ['zuul.d/project.yaml', 'openstack/tests/functional/network/v2/test_auto_allocated_topology.py', 'zuul.d/functional-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/165b50d9f0c3b6d3c1c9a9e6fc3be26263ce146a', 'message': 'add extended neutron job\n\nWe are currently not testing fwaas at all and not seeing it is not\nworking at all as seen by an attempt to add ansible module. Same is true\nfor vpnaas.\nHopefully fix flaking auto_allocated_topology which tried to idenfity\nprojects by available networks.\n\nChange-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a\n'}]",7,882282,165b50d9f0c3b6d3c1c9a9e6fc3be26263ce146a,28,3,9,27900,,,0,"add extended neutron job

We are currently not testing fwaas at all and not seeing it is not
working at all as seen by an attempt to add ansible module. Same is true
for vpnaas.
Hopefully fix flaking auto_allocated_topology which tried to idenfity
projects by available networks.

Change-Id: Iaf62662ca3dc4415737369f676109cccf7090e5a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/82/882282/9 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/functional-jobs.yaml']",2,d5aa22ae722f96a9e1cf4d760bb90cde6700dcae,," name: openstacksdk-functional-devstack-networking-fwaas parent: openstacksdk-functional-devstack-networking description: | Run openstacksdk functional tests against a devstack with super advanced networking services enabled. required-projects: - openstack/neutron-fwaas vars: INSTALL_OVN: False configure_swap_size: 4096 devstack_local_conf: post-config: $OCTAVIA_CONF: DEFAULT: debug: true controller_worker: amphora_driver: amphora_noop_driver compute_driver: compute_noop_driver network_driver: network_noop_driver certificates: cert_manager: local_cert_manager $NEUTRON_CONF: DEFAULT: router_distributed: True l3_ha: True ""/$NEUTRON_CORE_PLUGIN_CONF"": ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex $NEUTRON_L3_CONF: DEFAULT: agent_mode: dvr_snat agent: availability_zone: nova debug_iptables_rules: True $NEUTRON_DHCP_CONF: agent: availability_zone: nova devstack_localrc: Q_SERVICE_PLUGIN_CLASSES: qos,trunk NETWORK_API_EXTENSIONS: ""agent,binding,dhcp_agent_scheduler,external-net,ext-gw-mode,extra_dhcp_opts,quotas,router,security-group,subnet_allocation,network-ip-availability,auto-allocated-topology,timestamp_core,tag,service-type,rbac-policies,standard-attr-description,pagination,sorting,project-id,fwaas_v2"" Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch devstack_plugins: designate: https://opendev.org/openstack/designate octavia: https://opendev.org/openstack/octavia neutron-fwaas: https://opendev.org/openstack/neutron-fwaas.git devstack_services: designate: true octavia: true o-api: true o-cw: true o-hm: true o-hk: true neutron-dns: true s-account: false s-container: false s-object: false s-proxy: false h-eng: false h-api: false h-api-cfn: false q-fwaas-v2: true tox_environment: OPENSTACKSDK_HAS_DESIGNATE: 1 OPENSTACKSDK_HAS_SWIFT: 0 OPENSTACKSDK_HAS_HEAT: 0 - job:",,100,29
openstack%2Fironic~bugfix%2F21.3~I774c459a5e11b7cd01f7a65754d5a2c7cc573476,openstack/ironic,bugfix/21.3,I774c459a5e11b7cd01f7a65754d5a2c7cc573476,[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode,NEW,2023-06-05 08:25:26.000000000,2023-06-14 01:26:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-05 08:25:26.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e84ee33e351773bb8199f924d63b04f604ae6416', 'message': '[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes a condition where iRMC driver interfaces would have\nthe FIPS enforcement logic check applied if the SNMP version was not\nset to SNMP v3, even if the interfaces did not use SNMP.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)\n(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)\n'}]",8,885234,e84ee33e351773bb8199f924d63b04f604ae6416,25,2,1,30566,,,0,"[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode

This patch fixes a condition where iRMC driver interfaces would have
the FIPS enforcement logic check applied if the SNMP version was not
set to SNMP v3, even if the interfaces did not use SNMP.

With this patch, if FIPS enabled, iRMC driver enforces SNMP
version to be version 3 only when any xxx_interface of iRMC
driver actually uses SNMP.

Story: 2010713
Task: 47879
Change-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476
(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)
(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/885234/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml']",3,e84ee33e351773bb8199f924d63b04f604ae6416,21.3_fix_always_check_snmp_bug,"--- fixes: - | Fixes bug of iRMC driver in parse_driver_info where, if FIPS is enabled, SNMP version is always required to be version 3 even though iRMC driver's xxx_interface doesn't use SNMP actually. ",,60,0
openstack%2Fswift~master~Idad8d8f5be8cd42f25bfadd18d5694b822bbb9d3,openstack/swift,master,Idad8d8f5be8cd42f25bfadd18d5694b822bbb9d3,proxy: Remove unused arg from set/clear_info_cache,MERGED,2023-06-12 21:18:23.000000000,2023-06-13 23:36:46.000000000,2023-06-13 23:35:42.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 21:18:23.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d2838ada479ce6d281b8353337e9f016bf4a4f19', 'message': 'proxy: Remove unused arg from set/clear_info_cache\n\nRelated-Change: https://review.opendev.org/c/openstack/swift/+/280978\nChange-Id: Idad8d8f5be8cd42f25bfadd18d5694b822bbb9d3\n'}]",1,885905,d2838ada479ce6d281b8353337e9f016bf4a4f19,8,2,1,15343,,,0,"proxy: Remove unused arg from set/clear_info_cache

Related-Change: https://review.opendev.org/c/openstack/swift/+/280978
Change-Id: Idad8d8f5be8cd42f25bfadd18d5694b822bbb9d3
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/885905/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",4,d2838ada479ce6d281b8353337e9f016bf4a4f19,," info = set_info_cache(env, account, container, resp) info = set_info_cache(env, account, None, resp)def set_info_cache(env, account, container, resp): :param env: the WSGI request environment clear_info_cache(env, account, container)def clear_info_cache(env, account, container=None, shard=None): :param env: the WSGI request environment clear_info_cache(req.environ, account)"," info = set_info_cache(app, env, account, container, resp) info = set_info_cache(app, env, account, None, resp)def set_info_cache(app, env, account, container, resp): :param app: the application object clear_info_cache(app, env, account, container)def clear_info_cache(app, env, account, container=None, shard=None): :param app: the application object :param env: the WSGI environment clear_info_cache(self.app, req.environ, account)",18,19
openstack%2Frequirements~stable%2F2023.1~I369b2140ff3203d069530dcbabffb79cd29d859b,openstack/requirements,stable/2023.1,I369b2140ff3203d069530dcbabffb79cd29d859b,update constraint for neutron-lib to new release 3.4.1,MERGED,2023-06-13 19:18:31.000000000,2023-06-13 23:23:56.000000000,2023-06-13 23:23:56.000000000,"[{'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 19:18:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/42f9e16674b7c873778803b454e3ccd562db8995', 'message': 'update constraint for neutron-lib to new release 3.4.1\n\nmeta: version: 3.4.1\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I369b2140ff3203d069530dcbabffb79cd29d859b\n'}]",0,886025,42f9e16674b7c873778803b454e3ccd562db8995,7,2,1,12898,,,0,"update constraint for neutron-lib to new release 3.4.1

meta: version: 3.4.1
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I369b2140ff3203d069530dcbabffb79cd29d859b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/886025/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,42f9e16674b7c873778803b454e3ccd562db8995,,neutron-lib===3.4.1,neutron-lib===3.4.0,1,1
openstack%2Fswift~master~Ic372ea9866bb7f2659e02f8796cdee01406e2079,openstack/swift,master,Ic372ea9866bb7f2659e02f8796cdee01406e2079,Fix proxy traceback for GeneratorExit in py3,MERGED,2023-04-13 19:01:17.000000000,2023-06-13 23:16:54.000000000,2023-06-13 23:15:55.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34892}]","[{'number': 1, 'created': '2023-04-13 19:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4dd452fb303f1d0607743d07399e6af5db02a5df', 'message': 'fix proxy traceback in py3\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 2, 'created': '2023-04-13 19:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dc3514de34f915d2f0a5a324d7280dbcf9b654dc', 'message': 'Fix proxy traceback in py3\n\nclient when explictly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 3, 'created': '2023-04-13 19:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5c20aa548747f881321c489b00753a210c710f96', 'message': 'Fix proxy traceback in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 4, 'created': '2023-04-13 19:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73644672464d5ed544798e49ed6db0b1f85e1a0a', 'message': 'Fix proxy traceback in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 5, 'created': '2023-04-13 19:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b0cdc65579189841fb0285abbf3beec3c814c37c', 'message': 'Fix proxy traceback in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 6, 'created': '2023-04-13 20:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1a49e6941a35735869dad195f01e103dc310784c', 'message': 'Fix proxy traceback in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 7, 'created': '2023-04-13 20:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f614942baa7a1b764c20783b02f2aa3858400b7d', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 8, 'created': '2023-04-13 23:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77f4e65e3b17f2314728a5bcffe31d65972240b9', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 9, 'created': '2023-04-13 23:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ad3ab7827f4fe98ea0771246f3cc07dc09e245f4', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 10, 'created': '2023-04-20 02:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ef580c14fb734c266b21241bc701c3ad0343a36', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 11, 'created': '2023-04-25 18:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/838df397123f4ce3efba9c9ecd26c58184e0f3f3', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 12, 'created': '2023-04-25 18:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ecb4da3546406ae78ce2b4651079dd4c1e06f4b0', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 13, 'created': '2023-04-27 21:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e708e06a92ea5d25d81997c81244ea061ba20a50', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 14, 'created': '2023-04-27 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e800d52bba504566d03d7f7c9ead851963ce7994', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed.\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 15, 'created': '2023-04-27 21:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86152d473d9e15c1d0931c8a868afb051c9ad97c', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 16, 'created': '2023-05-01 16:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8382dc6914d50a4fd1bf917b3e5dc77f6fbfa404', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 17, 'created': '2023-05-01 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/839c5daa74478f4307d5c5829b124317d19d5dd8', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 18, 'created': '2023-05-01 18:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7aebf3d867edb2586c5daf51194785c56649e8c0', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 19, 'created': '2023-05-02 04:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ca09e7eaf998833fe51487c82370503b0ac7e30', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 20, 'created': '2023-05-02 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8062f9006f77183ede4f841089ebed8d45462877', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 21, 'created': '2023-06-13 18:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/44bedebcf2fa89202869e14a1d000d576d3328d7', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 22, 'created': '2023-06-13 18:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ef8469af83c3d34b91452b19b3dfa1895351b673', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 23, 'created': '2023-06-13 18:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/119104293f728a64a0054e2a76900fcb663d0d09', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 24, 'created': '2023-06-13 18:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d709db1b5bb791b348f226266e2be1701fff223', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 25, 'created': '2023-06-13 18:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c50f20301833f43798161212fa62025474aebd1d', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}, {'number': 26, 'created': '2023-06-13 20:58:10.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'swift/common/utils/__init__.py', 'swift/proxy/controllers/obj.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/be0c481e44e4f09b3c7fbe37f4b9ee62caa12a27', 'message': 'Fix proxy traceback for GeneratorExit in py3\n\nClient when explicitly closed before finishing the download.\nleads to a 499, but the shutdown logging for proxy in py3\nneeds to be fixed. We have done it by killing all running\ncoroutines in the ContextPool\n\nChange-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079\n'}]",81,880356,be0c481e44e4f09b3c7fbe37f4b9ee62caa12a27,68,5,26,34892,,,0,"Fix proxy traceback for GeneratorExit in py3

Client when explicitly closed before finishing the download.
leads to a 499, but the shutdown logging for proxy in py3
needs to be fixed. We have done it by killing all running
coroutines in the ContextPool

Change-Id: Ic372ea9866bb7f2659e02f8796cdee01406e2079
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/880356/26 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_object_failures.py'],1,4dd452fb303f1d0607743d07399e6af5db02a5df,proxy-py3,"import http.clientfrom urllib.parse import urlparse def test_ec_client_disconnected_timeout(self): # This tests replicates a client sending a proxy and explictly closing # before finishing the download. def get_object_disconnect(url, token, container, object_name, options): parsed = urlparse(url) conn = http.client.HTTPConnection(parsed.hostname, parsed.port) conn.connect() path = '/'.join([parsed.path, container, object_name]) conn.putrequest('GET', path) conn.putheader('X-Auth-Token', token) conn.endheaders() resp = conn.getresponse() print('status', resp.status) for i in range(3): resp.read(64 * 2 ** 10) time.sleep(options) # We're only going to read the first 3 64KiB chunks and disconnect. conn.close() container_name = 'container-%s' % uuid4() object_name = 'object-%s' % uuid4() # create EC container headers = {'X-Storage-Policy': self.policy.name} client.put_container(self.url, self.token, container_name, headers=headers) # PUT object, should go to primary nodes client.put_object(self.url, self.token, container_name, object_name, contents=b'object contents') get_object_disconnect(self.url, self.token, container_name, object_name, 0.0) print('finished!') ",,38,0
openstack%2Fswift~master~I946c72f40dce2f33ef845a0ca816038727848b3a,openstack/swift,master,I946c72f40dce2f33ef845a0ca816038727848b3a,docs: Move metric name/description tables out to separate page(s),MERGED,2023-05-25 20:59:25.000000000,2023-06-13 23:11:12.000000000,2023-06-13 23:09:26.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 20:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0db9dbd019dd8d29fcacfc3a5b27ddb3f5651d79', 'message': 'docs: Move metric anem/description tables out to separate pages\n\nThat admin guide is *still* too long, but this should help a bit.\n\nChange-Id: I946c72f40dce2f33ef845a0ca816038727848b3a\n'}, {'number': 2, 'created': '2023-05-30 18:40:07.000000000', 'files': ['doc/source/metrics/all.rst', 'doc/source/metrics/object_server.rst', 'doc/source/metrics/container_sync.rst', 'doc/source/metrics/container_server.rst', 'doc/source/admin_guide.rst', 'doc/source/metrics/container_auditor.rst', 'doc/source/metrics/container_updater.rst', 'doc/source/metrics/object_replicator.rst', 'doc/source/metrics/object_updater.rst', 'doc/source/metrics/proxy_server.rst', 'doc/source/metrics/account_auditor.rst', 'doc/source/metrics/account_reaper.rst', 'doc/source/metrics/account_replicator.rst', 'doc/source/metrics/object_reconstructor.rst', 'doc/source/metrics/object_expirer.rst', 'doc/source/metrics/container_replicator.rst', 'doc/source/metrics/object_auditor.rst', 'doc/source/metrics/account_server.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/307315bde2691d8aaea397a6c7eef6d2151e3b69', 'message': 'docs: Move metric name/description tables out to separate page(s)\n\nOffer it both by service and as a single, more easily searchable, page.\n\nThat admin guide is *still* too long, but this should help a bit.\n\nChange-Id: I946c72f40dce2f33ef845a0ca816038727848b3a\n'}]",2,884443,307315bde2691d8aaea397a6c7eef6d2151e3b69,11,3,2,15343,,,0,"docs: Move metric name/description tables out to separate page(s)

Offer it both by service and as a single, more easily searchable, page.

That admin guide is *still* too long, but this should help a bit.

Change-Id: I946c72f40dce2f33ef845a0ca816038727848b3a
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/884443/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/metrics/object_server.rst', 'doc/source/metrics/container_sync.rst', 'doc/source/metrics/container_server.rst', 'doc/source/admin_guide.rst', 'doc/source/metrics/container_auditor.rst', 'doc/source/metrics/container_updater.rst', 'doc/source/metrics/object_replicator.rst', 'doc/source/metrics/object_updater.rst', 'doc/source/metrics/proxy_server.rst', 'doc/source/metrics/account_auditor.rst', 'doc/source/metrics/account_reaper.rst', 'doc/source/metrics/account_replicator.rst', 'doc/source/metrics/object_reconstructor.rst', 'doc/source/metrics/object_expirer.rst', 'doc/source/metrics/container_replicator.rst', 'doc/source/metrics/object_auditor.rst', 'doc/source/metrics/account_server.rst']",17,0db9dbd019dd8d29fcacfc3a5b27ddb3f5651d79,,"``account-server`` Metrics ========================== ..note:: ""Not Found"" is not considered an error and requests which increment `errors` are not included in the timing data. ======================================== ======================================================= Metric Name Description ---------------------------------------- ------------------------------------------------------- `account-server.DELETE.errors.timing` Timing data for each DELETE request resulting in an error: bad request, not mounted, missing timestamp. `account-server.DELETE.timing` Timing data for each DELETE request not resulting in an error. `account-server.PUT.errors.timing` Timing data for each PUT request resulting in an error: bad request, not mounted, conflict, recently-deleted. `account-server.PUT.timing` Timing data for each PUT request not resulting in an error. `account-server.HEAD.errors.timing` Timing data for each HEAD request resulting in an error: bad request, not mounted. `account-server.HEAD.timing` Timing data for each HEAD request not resulting in an error. `account-server.GET.errors.timing` Timing data for each GET request resulting in an error: bad request, not mounted, bad delimiter, account listing limit too high, bad accept header. `account-server.GET.timing` Timing data for each GET request not resulting in an error. `account-server.REPLICATE.errors.timing` Timing data for each REPLICATE request resulting in an error: bad request, not mounted. `account-server.REPLICATE.timing` Timing data for each REPLICATE request not resulting in an error. `account-server.POST.errors.timing` Timing data for each POST request resulting in an error: bad request, bad or missing timestamp, not mounted. `account-server.POST.timing` Timing data for each POST request not resulting in an error. ======================================== ======================================================= ",,474,443
openstack%2Fswift~master~I17bc7d7489e8947f53e77b1cd6eb9f792f750481,openstack/swift,master,I17bc7d7489e8947f53e77b1cd6eb9f792f750481,Use the db for get_shard_usage,MERGED,2023-05-19 19:17:13.000000000,2023-06-13 23:10:27.000000000,2023-06-13 23:09:24.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-05-19 19:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cfa92a4ba375dee8f6a40d010535d36ccee385a', 'message': 'Use the db for get_shard_usage\n\nWe noticed on a large db getting the full list of shard ranges and doing\nthe sum in python is slow; move the query to sql to make it faster.\n\nChange-Id: I17bc7d7489e8947f53e77b1cd6eb9f792f750481\n'}, {'number': 2, 'created': '2023-05-19 19:28:46.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/776a9d9a121884b2f400ad632c15c9517aab2162', 'message': 'Use the db for get_shard_usage\n\nWe noticed on a large db getting the full list of shard ranges and doing\nthe sum in python is slow; move the query to sql to make it faster.\n\nChange-Id: I17bc7d7489e8947f53e77b1cd6eb9f792f750481\n'}]",9,883700,776a9d9a121884b2f400ad632c15c9517aab2162,14,3,2,1179,,,0,"Use the db for get_shard_usage

We noticed on a large db getting the full list of shard ranges and doing
the sum in python is slow; move the query to sql to make it faster.

Change-Id: I17bc7d7489e8947f53e77b1cd6eb9f792f750481
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/883700/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,1cfa92a4ba375dee8f6a40d010535d36ccee385a,fast-shard-usage," with self.get() as conn: sql = ''' SELECT sum(bytes_used) as bytes_used, sum(object_count) as object_count FROM %s WHERE state in (%s) ''' % (SHARD_RANGE_TABLE, ','.join('?' * len(SHARD_STATS_STATES))) row = conn.execute(sql, SHARD_STATS_STATES).fetchone() return {'bytes_used': row[0], 'object_count': row[1]}"," shard_ranges = self.get_shard_ranges(states=SHARD_STATS_STATES) return {'bytes_used': sum(sr.bytes_used for sr in shard_ranges), 'object_count': sum(sr.object_count for sr in shard_ranges)}",10,3
openstack%2Ftripleo-upgrade~stable%2Fzed~Ic808dd2d9bc4909de83806f9821369b68ce8edec,openstack/tripleo-upgrade,stable/zed,Ic808dd2d9bc4909de83806f9821369b68ce8edec,[update] replace openstack tripleo validator with validation,ABANDONED,2023-06-08 20:06:52.000000000,2023-06-13 22:29:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-06-08 20:06:52.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/59b9f2cfb823cb7d6a84b455bf36ae1945c85ecd', 'message': ""[update] replace openstack tripleo validator with validation\n\nCommand 'openstack tripleo validator' has been deprecated\nChange to use new 'validation' command.\n\nChange-Id: Ic808dd2d9bc4909de83806f9821369b68ce8edec\n""}]",1,885656,59b9f2cfb823cb7d6a84b455bf36ae1945c85ecd,5,2,1,32432,,,0,"[update] replace openstack tripleo validator with validation

Command 'openstack tripleo validator' has been deprecated
Change to use new 'validation' command.

Change-Id: Ic808dd2d9bc4909de83806f9821369b68ce8edec
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/56/885656/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,59b9f2cfb823cb7d6a84b455bf36ae1945c85ecd,osp_24601_zed," command: ""validation list --group {{ validation_group }} -f value -c ID"" validation run --validation {{ validations_filtered | join(',') }} --inventory {{ upgrade_validation_inventory }} \ command: validation show history -f json -c UUID -c Status validation show run {{ item }} &>> validation-{{ validation_group }}-failed.log"," command: ""openstack tripleo validator list --group {{ validation_group }} -f value -c ID"" openstack tripleo validator run --validation {{ validations_filtered | join(',') }} --inventory {{ upgrade_validation_inventory }} \ command: openstack tripleo validator show history -f json -c UUID -c Status openstack tripleo validator show run {{ item }} &>> validation-{{ validation_group }}-failed.log",4,4
openstack%2Fblazar~stable%2Fussuri~Ia13402213bc82027e3d658918a22003be26576d6,openstack/blazar,stable/ussuri,Ia13402213bc82027e3d658918a22003be26576d6,Make test-setup.sh compatible with mysql8,MERGED,2023-06-07 07:53:03.000000000,2023-06-13 22:23:36.000000000,2023-06-13 22:22:41.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 07:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9a4a3a67e5dac0cb32966dfe7c49148f3a251936', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia13402213bc82027e3d658918a22003be26576d6\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)\n""}, {'number': 2, 'created': '2023-06-13 20:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e2d6ce36609fcf7ba0b5ca664fd6648889d2168e', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia13402213bc82027e3d658918a22003be26576d6\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)\n""}]",0,885408,e2d6ce36609fcf7ba0b5ca664fd6648889d2168e,8,2,2,15197,,,0,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia13402213bc82027e3d658918a22003be26576d6
Co-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/08/885408/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,9a4a3a67e5dac0cb32966dfe7c49148f3a251936,," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Foslo.db~stable%2F2023.1~I3008562db52a5625504b262d7148528a832246dd,openstack/oslo.db,stable/2023.1,I3008562db52a5625504b262d7148528a832246dd,Ignore unset opts when deprecated,MERGED,2023-04-17 09:40:09.000000000,2023-06-13 22:22:17.000000000,2023-06-13 22:21:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-17 09:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9d87518e1bf9b129eb426d4ee8bf1a1f3c761bc4', 'message': ""Ignore unset opts when deprecated\n\nIf an option is deprecated, there's a good chance we want to ignore it\nunless explicitly requested by the user. Start ignoring options that are\ndeprecated and unset.\n\nChange-Id: I3008562db52a5625504b262d7148528a832246dd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #2008720\n""}, {'number': 2, 'created': '2023-04-17 09:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5452e88380de73c7f63cff3353d676a5a1e65807', 'message': ""Ignore unset opts when deprecated\n\nIf an option is deprecated, there's a good chance we want to ignore it\nunless explicitly requested by the user. Start ignoring options that are\ndeprecated and unset.\n\nChange-Id: I3008562db52a5625504b262d7148528a832246dd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #2008720\nStable-Only\n""}, {'number': 3, 'created': '2023-04-17 12:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/249c3ef2347d8d4d9a31beb199b61ed3abe92822', 'message': ""Ignore unset opts when deprecated\n\nIf an option is deprecated, there's a good chance we want to ignore it\nunless explicitly requested by the user. Start ignoring options that are\ndeprecated and unset.\n\nConflicts:\n  oslo_db/tests/sqlalchemy/test_sqlalchemy.py\n\nNOTE(stephenfin): Conflicts are because we still have the autocommit\nparameter in our engine calls. This was removed in master in\npreparation for SQLAlchemy 2.0.\n\nChange-Id: I3008562db52a5625504b262d7148528a832246dd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #2008720\n(cherry picked from commit 5afe56507861c7fe7d1c14a736d8ed34697c3878)\n""}, {'number': 4, 'created': '2023-04-17 14:48:18.000000000', 'files': ['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/62aff14693373842cd7a28a737ccbbf9bbdb1218', 'message': ""Ignore unset opts when deprecated\n\nIf an option is deprecated, there's a good chance we want to ignore it\nunless explicitly requested by the user. Start ignoring options that are\ndeprecated and unset.\n\nConflicts:\n  oslo_db/tests/sqlalchemy/test_sqlalchemy.py\n\nNOTE(stephenfin): Conflicts are because we still have the autocommit\nparameter in our engine calls. This was removed in master in\npreparation for SQLAlchemy 2.0.\n\nChange-Id: I3008562db52a5625504b262d7148528a832246dd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #2008720\n(cherry picked from commit f6ba070657b3bb6b57cef3728b3e6b95f0bf08cb)\n""}]",5,880617,62aff14693373842cd7a28a737ccbbf9bbdb1218,17,3,4,15334,,,0,"Ignore unset opts when deprecated

If an option is deprecated, there's a good chance we want to ignore it
unless explicitly requested by the user. Start ignoring options that are
deprecated and unset.

Conflicts:
  oslo_db/tests/sqlalchemy/test_sqlalchemy.py

NOTE(stephenfin): Conflicts are because we still have the autocommit
parameter in our engine calls. This was removed in master in
preparation for SQLAlchemy 2.0.

Change-Id: I3008562db52a5625504b262d7148528a832246dd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #2008720
(cherry picked from commit f6ba070657b3bb6b57cef3728b3e6b95f0bf08cb)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/17/880617/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/tests/sqlalchemy/test_enginefacade.py', 'oslo_db/sqlalchemy/enginefacade.py', 'oslo_db/tests/sqlalchemy/test_sqlalchemy.py']",3,9d87518e1bf9b129eb426d4ee8bf1a1f3c761bc4,bug/2008720," session.EngineFacade.from_config( conf, autocommit=False, expire_on_commit=True, ) # NOTE: mysql_enable_ndb should *not* be passed through since it's # deprecated and not set in the configopts # mysql_enable_ndb=False, get_maker.assert_called_once_with( engine=create_engine(), autocommit=False, expire_on_commit=True, ) @mock.patch('oslo_db.sqlalchemy.orm.get_maker') @mock.patch('oslo_db.sqlalchemy.engines.create_engine') def test_creation_from_config_with_deprecated_opts( self, create_engine, get_maker, ): conf = cfg.ConfigOpts() conf.register_opts(db_options.database_opts, group='database') overrides = { 'connection': 'sqlite:///:memory:', 'slave_connection': None, 'connection_debug': 100, 'max_pool_size': 10, 'mysql_sql_mode': 'TRADITIONAL', 'mysql_enable_ndb': True, } for optname, optvalue in overrides.items(): conf.set_override(optname, optvalue, group='database') session.EngineFacade.from_config( conf, autocommit=False, expire_on_commit=True, ) create_engine.assert_called_once_with( sql_connection='sqlite:///:memory:', connection_debug=100, max_pool_size=10, mysql_sql_mode='TRADITIONAL', mysql_wsrep_sync_wait=None, # NOTE: mysql_enable_ndb *should* be passed through since it's set # in the configopts mysql_enable_ndb=True, sqlite_fk=False, connection_recycle_time=mock.ANY, retry_interval=mock.ANY, max_retries=mock.ANY, max_overflow=mock.ANY, connection_trace=mock.ANY, sqlite_synchronous=mock.ANY, pool_timeout=mock.ANY, thread_checkin=mock.ANY, json_serializer=None, json_deserializer=None, connection_parameters='', logging_name=mock.ANY, ) get_maker.assert_called_once_with( engine=create_engine(), autocommit=False, expire_on_commit=True, )"," session.EngineFacade.from_config(conf, autocommit=False, expire_on_commit=True) mysql_enable_ndb=False, get_maker.assert_called_once_with(engine=create_engine(), autocommit=False, expire_on_commit=True)",109,29
openstack%2Fcharm-guide~stable%2F2023.1~I499149db54b46786f7089ad2f12dc075267fc88c,openstack/charm-guide,stable/2023.1,I499149db54b46786f7089ad2f12dc075267fc88c,Trivial fix for generating 2023.1 guide release,MERGED,2023-06-13 21:31:00.000000000,2023-06-13 22:06:24.000000000,2023-06-13 22:05:31.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 21:31:00.000000000', 'files': ['doc/source/community/contact.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/dd6209e0f28204f349221463755fd6c979ffc936', 'message': 'Trivial fix for generating 2023.1 guide release\n\nThis PR will be used to generate a 2023.1 version of\nthis guide by a follow-up backport of it to the\nnewly-created 2023.1 stable branch.\n\nChange-Id: I499149db54b46786f7089ad2f12dc075267fc88c\n(cherry picked from commit a39f7e62b746bd4ef394c2b7e3fd62c6949ae80b)\n'}]",1,885926,dd6209e0f28204f349221463755fd6c979ffc936,7,2,1,30561,,,0,"Trivial fix for generating 2023.1 guide release

This PR will be used to generate a 2023.1 version of
this guide by a follow-up backport of it to the
newly-created 2023.1 stable branch.

Change-Id: I499149db54b46786f7089ad2f12dc075267fc88c
(cherry picked from commit a39f7e62b746bd4ef394c2b7e3fd62c6949ae80b)
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/26/885926/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/contact.rst'],1,dd6209e0f28204f349221463755fd6c979ffc936,generate-2023.1-guide-release-stable/2023.1,Please begin the email subject with **[charms]** to differentiate the thread from the many other topics that are discussed on this list.,Please begin the subject with **[charms]** to differentiate the thread from the many other topics that are discussed on this list.,2,2
openstack%2Ftripleo-common~stable%2Fwallaby~Icb3519879bfb44536e5a8812e39a50ea61d61595,openstack/tripleo-common,stable/wallaby,Icb3519879bfb44536e5a8812e39a50ea61d61595,Always install nettle and gnutls in CentOS-Stream-9,MERGED,2023-05-30 14:33:07.000000000,2023-06-13 21:48:37.000000000,2023-06-13 21:47:41.000000000,"[{'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30002}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-30 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dec5f6c70038ccbf6119c551b9026fbd236cef40', 'message': 'Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\n\nThis reverts commit 5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed.\n\nReason for revert: new ubi release\n\nChange-Id: Icb3519879bfb44536e5a8812e39a50ea61d61595\n'}, {'number': 2, 'created': '2023-05-30 21:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/460a3a82f84881bd14abe6a50638f6726b893909', 'message': 'Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\n\nThis reverts commit 5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed.\n\nReason for revert: new ubi release\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/884774\n\nChange-Id: Icb3519879bfb44536e5a8812e39a50ea61d61595\n'}, {'number': 3, 'created': '2023-05-31 20:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f5a9f1d22760092705ce78c0bc3f6f5ae5647133', 'message': 'Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\n\nThis reverts commit 5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed.\n\nReason for revert: new ubi release\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/884774\n\nChange-Id: Icb3519879bfb44536e5a8812e39a50ea61d61595\n'}, {'number': 4, 'created': '2023-06-06 00:11:16.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a27e9268aaba5e9301f1653c0cb45eca0d8598ef', 'message': 'Always install nettle and gnutls in CentOS-Stream-9\n\nThis patch update previous workaround to always update\nboth ""nettle"" and ""gnutls"" packages in base container.\nThis solution guarantee that we don\'t have any of these\npackages from ubi repositories, avoiding GNUTLS FIPS\nvalidation issues. The fix should always install the latest\npackage version from CentOS repos and should not fail even\nif some container build needs to downgrade gnutls version.\n\nThis reverts commit 5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed:\n  ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\nReason for revert: new ubi release\n\nCloses-Bug: #1984237\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/884774\n\nChange-Id: Icb3519879bfb44536e5a8812e39a50ea61d61595\n'}]",8,884544,a27e9268aaba5e9301f1653c0cb45eca0d8598ef,30,6,4,30002,,,0,"Always install nettle and gnutls in CentOS-Stream-9

This patch update previous workaround to always update
both ""nettle"" and ""gnutls"" packages in base container.
This solution guarantee that we don't have any of these
packages from ubi repositories, avoiding GNUTLS FIPS
validation issues. The fix should always install the latest
package version from CentOS repos and should not fail even
if some container build needs to downgrade gnutls version.

This reverts commit 5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed:
  ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""
Reason for revert: new ubi release

Closes-Bug: #1984237

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/884774

Change-Id: Icb3519879bfb44536e5a8812e39a50ea61d61595
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/884544/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,dec5f6c70038ccbf6119c551b9026fbd236cef40,pin_nettle_base_container,,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. # See: https://bugzilla.redhat.com/show_bug.cgi?id=2154924 and # https://bugs.launchpad.net/tripleo/+bug/1984237 - run: >- if [ '{{ tcib_release }}' == '9' ];then dnf -y install nettle-3.8-3.el9; fi",0,9
openstack%2Fcharm-guide~master~I499149db54b46786f7089ad2f12dc075267fc88c,openstack/charm-guide,master,I499149db54b46786f7089ad2f12dc075267fc88c,Trivial fix for generating 2023.1 guide release,MERGED,2023-06-13 21:08:06.000000000,2023-06-13 21:29:11.000000000,2023-06-13 21:28:08.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 21:08:06.000000000', 'files': ['doc/source/community/contact.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a39f7e62b746bd4ef394c2b7e3fd62c6949ae80b', 'message': 'Trivial fix for generating 2023.1 guide release\n\nThis PR will be used to generate a 2023.1 version of\nthis guide by a follow-up backport of it to the\nnewly-created 2023.1 stable branch.\n\nChange-Id: I499149db54b46786f7089ad2f12dc075267fc88c\n'}]",1,886031,a39f7e62b746bd4ef394c2b7e3fd62c6949ae80b,7,2,1,30561,,,0,"Trivial fix for generating 2023.1 guide release

This PR will be used to generate a 2023.1 version of
this guide by a follow-up backport of it to the
newly-created 2023.1 stable branch.

Change-Id: I499149db54b46786f7089ad2f12dc075267fc88c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/31/886031/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/contact.rst'],1,a39f7e62b746bd4ef394c2b7e3fd62c6949ae80b,generate-2023.1-guide-release,Please begin the email subject with **[charms]** to differentiate the thread from the many other topics that are discussed on this list.,Please begin the subject with **[charms]** to differentiate the thread from the many other topics that are discussed on this list.,2,2
openstack%2Fcharm-keystone-kerberos~stable%2F2023.1~I92c52b11f8436eb60a545ed212b58d6bff5426ba,openstack/charm-keystone-kerberos,stable/2023.1,I92c52b11f8436eb60a545ed212b58d6bff5426ba,Bump up Charm-helpers revision,NEW,2023-06-08 20:01:00.000000000,2023-06-13 21:02:43.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:01:00.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/812eda6c223e7f369628dd8361a1fbea439cff2e', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I92c52b11f8436eb60a545ed212b58d6bff5426ba\n'}]",1,885637,812eda6c223e7f369628dd8361a1fbea439cff2e,4,2,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I92c52b11f8436eb60a545ed212b58d6bff5426ba
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/37/885637/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,812eda6c223e7f369628dd8361a1fbea439cff2e,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-octavia~master~I80b5cea812becd1724fcfe2a8a232253eac76735,openstack/charm-octavia,master,I80b5cea812becd1724fcfe2a8a232253eac76735,Ensure mgmt network mtu,MERGED,2023-05-22 19:06:00.000000000,2023-06-13 20:48:22.000000000,2023-06-13 20:48:22.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 19:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f0945713281db52729504a21ba456f9540b6d44f', 'message': 'Ensure mgmt network mtu\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 2, 'created': '2023-05-23 11:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/40da2ac0c1bc7d8f9836b2163ec4ac021ae8381d', 'message': 'Ensure mgmt network mtu\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 3, 'created': '2023-05-25 10:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/76763d485d0fd1186c9ca9d773f9d7c8eb952fc1', 'message': 'Ensure mgmt network mtu\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 4, 'created': '2023-05-25 20:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f7709a8bfb2b0b40adaf203e78b10cbdf71c960d', 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 5, 'created': '2023-06-08 19:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/411fa7c3d83caa4f33c14df614023baf46872c8e', 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not. Also checks mtu in update-status hook.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 6, 'created': '2023-06-09 15:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9f60f4a321e230f8b2b38d60a7b86bb513b5b04b', 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not. Also checks mtu in update-status hook.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}, {'number': 7, 'created': '2023-06-09 16:01:15.000000000', 'files': ['unit_tests/test_lib_charm_openstack_api_crud.py', 'src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f326ef267aa3e671b608b823bfcaf938868cba45', 'message': 'Ensure mgmt network mtu\n\nThis will ensure that mtu is set whenever setup_hm_port()\nis called regardless of if the port has just been created\nor not. Also checks mtu in update-status hook.\n\nChange-Id: I80b5cea812becd1724fcfe2a8a232253eac76735\nCloses-Bug: #2018998\n'}]",30,883868,f326ef267aa3e671b608b823bfcaf938868cba45,54,4,7,6737,,,0,"Ensure mgmt network mtu

This will ensure that mtu is set whenever setup_hm_port()
is called regardless of if the port has just been created
or not. Also checks mtu in update-status hook.

Change-Id: I80b5cea812becd1724fcfe2a8a232253eac76735
Closes-Bug: #2018998
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/68/883868/7 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/api_crud.py'],1,f0945713281db52729504a21ba456f9540b6d44f,bug/2018998," network = get_mgmt_network(create=False) ch_core.hookenv.log('ensuring mgmt network {} mtu={}'. format(network['id'], network['mtu'])) subprocess.check_call( ['ovs-vsctl', 'set', 'Interface', octavia.OCTAVIA_MGMT_INTF, 'mtu={}'.format(network['mtu'])]) subprocess.check_call( ['ip', 'link', 'set', octavia.OCTAVIA_MGMT_INTF, 'mtu', network['mtu']]) ",,11,0
openstack%2Fheat-tempest-plugin~master~If0ea61f0b13f2a76720f30236aae57045cfc48a6,openstack/heat-tempest-plugin,master,If0ea61f0b13f2a76720f30236aae57045cfc48a6,Remove some notes no longer valid,NEW,2023-06-13 19:12:41.000000000,2023-06-13 20:28:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-13 19:12:41.000000000', 'files': ['requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/e945e1871004be9c2f80d0d1ac21921b0a71754d', 'message': 'Remove some notes no longer valid\n\nsetup.py is no longer maintained by the global sync. Also the note\nin requirements.txt does not apply since pip 20.3. This also removes\nworkaround for old python which we no longer support.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html\n\nChange-Id: If0ea61f0b13f2a76720f30236aae57045cfc48a6\n'}]",0,886023,e945e1871004be9c2f80d0d1ac21921b0a71754d,2,1,1,9816,,,0,"Remove some notes no longer valid

setup.py is no longer maintained by the global sync. Also the note
in requirements.txt does not apply since pip 20.3. This also removes
workaround for old python which we no longer support.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html

Change-Id: If0ea61f0b13f2a76720f30236aae57045cfc48a6
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/23/886023/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py']",2,e945e1871004be9c2f80d0d1ac21921b0a71754d,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,12
openstack%2Fheat~master~I8c9fef97e5e62d1024da9231e2cbb96b15edbf80,openstack/heat,master,I8c9fef97e5e62d1024da9231e2cbb96b15edbf80,Remove some notes no longer valid,NEW,2023-06-13 19:10:25.000000000,2023-06-13 20:12:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-13 19:10:25.000000000', 'files': ['requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/81586711f5a3f4da147196e3d2cf068fe2d49d8d', 'message': 'Remove some notes no longer valid\n\nsetup.py is no longer maintained by the global sync. Also the note\nin requirements.txt does not apply since pip 20.3.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html\n\nChange-Id: I8c9fef97e5e62d1024da9231e2cbb96b15edbf80\n'}]",0,886021,81586711f5a3f4da147196e3d2cf068fe2d49d8d,3,1,1,9816,,,0,"Remove some notes no longer valid

setup.py is no longer maintained by the global sync. Also the note
in requirements.txt does not apply since pip 20.3.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html

Change-Id: I8c9fef97e5e62d1024da9231e2cbb96b15edbf80
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/886021/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py']",2,81586711f5a3f4da147196e3d2cf068fe2d49d8d,,,# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT,0,5
openstack%2Fblazar~stable%2Fstein~Ia13402213bc82027e3d658918a22003be26576d6,openstack/blazar,stable/stein,Ia13402213bc82027e3d658918a22003be26576d6,Make test-setup.sh compatible with mysql8,ABANDONED,2023-06-12 20:07:22.000000000,2023-06-13 20:05:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 20:07:22.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/f5e225792b5a8a30a6ef6f1e3eda6a97b6992a1f', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia13402213bc82027e3d658918a22003be26576d6\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)\n""}]",0,885916,f5e225792b5a8a30a6ef6f1e3eda6a97b6992a1f,3,1,1,15197,,,0,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia13402213bc82027e3d658918a22003be26576d6
Co-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/16/885916/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,f5e225792b5a8a30a6ef6f1e3eda6a97b6992a1f,," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fpython-heatclient~master~Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38,openstack/python-heatclient,master,Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38,Remove some notes no longer valid,NEW,2023-06-13 19:11:37.000000000,2023-06-13 19:39:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-13 19:11:37.000000000', 'files': ['requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/c1938fbe8281beedf8f8d4ea81d8cb7898210767', 'message': 'Remove some notes no longer valid\n\nsetup.py is no longer maintained by the global sync. Also the note\nin requirements.txt does not apply since pip 20.3.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html\n\nChange-Id: Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38\n'}]",0,886022,c1938fbe8281beedf8f8d4ea81d8cb7898210767,2,1,1,9816,,,0,"Remove some notes no longer valid

setup.py is no longer maintained by the global sync. Also the note
in requirements.txt does not apply since pip 20.3.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034073.html

Change-Id: Id5c3bcdaaf31cc7de0a69500ed7a18d0d6680c38
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/22/886022/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py']",2,c1938fbe8281beedf8f8d4ea81d8cb7898210767,,,# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT,0,5
openstack%2Fheat~master~I40168146ff7ef700d66371e022bb3118dab4fe13,openstack/heat,master,I40168146ff7ef700d66371e022bb3118dab4fe13,Imported Translations from Zanata,MERGED,2023-05-05 04:12:09.000000000,2023-06-13 19:27:32.000000000,2023-06-13 19:26:19.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 04:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6e13e1147627ab080b2271b50f9ad6b1a4a09e4b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40168146ff7ef700d66371e022bb3118dab4fe13\n'}, {'number': 2, 'created': '2023-05-09 03:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/84739c0afc42da7c35277f22dd156314a1af4286', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40168146ff7ef700d66371e022bb3118dab4fe13\n'}, {'number': 3, 'created': '2023-06-01 03:10:39.000000000', 'files': ['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/3896d8536a09a1c51f3ac951d5bc6dffd0bd3bab', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I40168146ff7ef700d66371e022bb3118dab4fe13\n'}]",1,882372,3896d8536a09a1c51f3ac951d5bc6dffd0bd3bab,14,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I40168146ff7ef700d66371e022bb3118dab4fe13
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/882372/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/locale/fr/LC_MESSAGES/heat.po', 'heat/locale/ja/LC_MESSAGES/heat.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'heat/locale/ru/LC_MESSAGES/heat.po', 'heat/locale/it/LC_MESSAGES/heat.po', 'heat/locale/de/LC_MESSAGES/heat.po', 'heat/locale/ko_KR/LC_MESSAGES/heat.po', 'heat/locale/zh_TW/LC_MESSAGES/heat.po', 'heat/locale/pt_BR/LC_MESSAGES/heat.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'heat/locale/zh_CN/LC_MESSAGES/heat.po', 'heat/locale/es/LC_MESSAGES/heat.po']",13,6e13e1147627ab080b2271b50f9ad6b1a4a09e4b,zanata/translations,"""POT-Creation-Date: 2023-05-04 05:24+0000\n""","""POT-Creation-Date: 2022-11-11 06:43+0000\n""msgid ""Cannot migrate to lower schema version."" msgstr ""No se ha podido migrar a una versin inferior del esquema"" ",16,177
openstack%2Frequirements~master~I369b2140ff3203d069530dcbabffb79cd29d859b,openstack/requirements,master,I369b2140ff3203d069530dcbabffb79cd29d859b,update constraint for neutron-lib to new release 3.4.1,ABANDONED,2023-06-08 14:41:34.000000000,2023-06-13 19:18:53.000000000,,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 14:41:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/12f9054653dc8a45652ee5ff78efef6d6b800a8b', 'message': 'update constraint for neutron-lib to new release 3.4.1\n\nmeta: version: 3.4.1\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I369b2140ff3203d069530dcbabffb79cd29d859b\n'}]",2,885591,12f9054653dc8a45652ee5ff78efef6d6b800a8b,5,3,1,11131,,,0,"update constraint for neutron-lib to new release 3.4.1

meta: version: 3.4.1
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I369b2140ff3203d069530dcbabffb79cd29d859b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/885591/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,12f9054653dc8a45652ee5ff78efef6d6b800a8b,new-release,neutron-lib===3.4.1,neutron-lib===3.6.1,1,1
openstack%2Frequirements~master~Iadc94128566ee68da13eb6fd4f9dd20e2e3d4b35,openstack/requirements,master,Iadc94128566ee68da13eb6fd4f9dd20e2e3d4b35,Pin XStatic-Font-Awesome to <4.8.0.0,MERGED,2023-06-02 19:09:49.000000000,2023-06-13 19:02:04.000000000,2023-06-13 19:00:25.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 19:09:49.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/265cad8956fd4d018f4aba4702247785d9b379f0', 'message': 'Pin XStatic-Font-Awesome to <4.8.0.0\n\nThis patch limits the version of XStatic-Font-Awesome in\n``global-requirements.txt`` to <4.8.0. The purpose is to\nprevent automatic updates of XStatic-Font-Awesome, as the\nHorizon team does not currently support or require the\nupdated versions. This decision is based on the fact that\nXStatic-Font-Awesome, being a font package[1], does not pose\nany security risks or vulnerabilities (CVEs). By maintaining\nthe current version, we ensure compatibility and stability\nwithin the Horizon project.\n\n[1] https://meetings.opendev.org/irclogs/%23openstack-horizon/%23openstack-horizon.2023-05-31.log.html#t2023-05-31T15:50:28\n\nChange-Id: Iadc94128566ee68da13eb6fd4f9dd20e2e3d4b35\n'}]",2,885159,265cad8956fd4d018f4aba4702247785d9b379f0,9,3,1,29313,,,0,"Pin XStatic-Font-Awesome to <4.8.0.0

This patch limits the version of XStatic-Font-Awesome in
``global-requirements.txt`` to <4.8.0. The purpose is to
prevent automatic updates of XStatic-Font-Awesome, as the
Horizon team does not currently support or require the
updated versions. This decision is based on the fact that
XStatic-Font-Awesome, being a font package[1], does not pose
any security risks or vulnerabilities (CVEs). By maintaining
the current version, we ensure compatibility and stability
within the Horizon project.

[1] https://meetings.opendev.org/irclogs/%23openstack-horizon/%23openstack-horizon.2023-05-31.log.html#t2023-05-31T15:50:28

Change-Id: Iadc94128566ee68da13eb6fd4f9dd20e2e3d4b35
",git fetch https://review.opendev.org/openstack/requirements refs/changes/59/885159/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,265cad8956fd4d018f4aba4702247785d9b379f0,,"XStatic-Font-Awesome<4.8.0 # SIL OFL 1.1 License, MIT License","XStatic-Font-Awesome # SIL OFL 1.1 License, MIT License",1,1
openstack%2Fcinder-tempest-plugin~master~I35beb893ad135043deb5a4ea283e0d668692a438,openstack/cinder-tempest-plugin,master,I35beb893ad135043deb5a4ea283e0d668692a438,zuul: new LVM/nvmet job (relevant scenario),MERGED,2023-01-18 09:27:12.000000000,2023-06-13 19:00:23.000000000,2023-06-13 19:00:23.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-01-18 09:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c9673d60241dfadc824f62638b85f8dad6d85b3f', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 2, 'created': '2023-01-18 09:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/47bf93b3640c479243385e8b899e1bde3fb26aa5', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 3, 'created': '2023-01-24 11:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f3c1fdba6294c4fac0768f1493180c8227e3f602', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 4, 'created': '2023-01-25 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e21af8924f2bb985299dbb96a885d1c3f0c69e18', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 5, 'created': '2023-01-25 18:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/64644f67a330a005932632201e5014b4c1a1915c', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 6, 'created': '2023-01-26 09:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f51716aaaf84da9dbdc308913cabfcf18db0f095', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 7, 'created': '2023-02-16 15:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/172be410a597a01533aeaff509bc597df2c09c73', 'message': ""WIP: zuul: Test LVM/nvmet additional job\n\nThis is a patch that adds a new LVM/nvmet job similar to the one we\nadded before, but in this case we test a completely different\nconfiguration to exercise different code paths in os-brick:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nNOTE: Since it's a WIP patch all other check jobs have been removed.\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 8, 'created': '2023-03-01 13:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ceeab16dbc2cd38d9f82544f39061f71ce571fc5', 'message': ""zuul: new LVM/nvmet job (relevant scenario)\n\nThis is a patch that adds a new LVM/nvmet job which also\nexercises a few relevant code paths in os-brick\nwhich are likely to be used in a production environment:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 9, 'created': '2023-03-10 10:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cd80224404c5f462095ab24c935bb7bbc0b4686b', 'message': ""zuul: new LVM/nvmet job (relevant scenario)\n\nThis is a patch that adds a new LVM/nvmet job which also\nexercises a few relevant code paths in os-brick\nwhich are likely to be used in a production environment:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}, {'number': 10, 'created': '2023-03-31 08:10:15.000000000', 'files': ['.zuul.yaml', 'playbooks/install-multipath.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/87d48028b1e5cb3c6ce61a460f4c623b68442e36', 'message': ""zuul: new LVM/nvmet job (relevant scenario)\n\nThis is a patch that adds a new LVM/nvmet job which also\nexercises a few relevant code paths in os-brick\nwhich are likely to be used in a production environment:\n\n- Uses the new NVMe-oF connection information.\n\n- Uses NVMe-oF native multipathing, even if it's by using the local IP\n  address, which is not real multipathing.\n\n- Shares the namespace for all connections on the same node.\n\nChange-Id: I35beb893ad135043deb5a4ea283e0d668692a438\n""}]",7,870889,87d48028b1e5cb3c6ce61a460f4c623b68442e36,42,5,10,9535,,,0,"zuul: new LVM/nvmet job (relevant scenario)

This is a patch that adds a new LVM/nvmet job which also
exercises a few relevant code paths in os-brick
which are likely to be used in a production environment:

- Uses the new NVMe-oF connection information.

- Uses NVMe-oF native multipathing, even if it's by using the local IP
  address, which is not real multipathing.

- Shares the namespace for all connections on the same node.

Change-Id: I35beb893ad135043deb5a4ea283e0d668692a438
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/89/870889/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c9673d60241dfadc824f62638b85f8dad6d85b3f,nvmet," - cinder-tempest-plugin-lvm-nvmet-barbican: voting: true - cinder-tempest-plugin-lvm-nvmet-new-conninfo-barbican: voting: true name: cinder-tempest-plugin-lvm-nvmet-new-conninfo-barbican: description: | This jobs configures Cinder with LVM, nvmet, barbican and runs tempest tests and cinderlib tests. nvmet is configured to use the new connection information format, NVMe-oF native multipathing, and sharing the NVMe-oF namespace for all the connections to the same node. # TODO: switch to cinder-tempest-plugin-lvm-barbican-base # when cinderlib support for NVMe is fixed parent: cinder-tempest-plugin-lvm-barbican-base-abstract vars: devstack_localrc: CINDER_TARGET_HELPER: nvmet CINDER_TARGET_PROTOCOL: nvmet_tcp TEMPEST_STORAGE_PROTOCOL: nvmeof devstack_local_conf: test-config: $TEMPEST_CONFIG: volume-feature-enabled: # NotImplementedError: Revert volume to snapshot not implemented for thin LVM. volume_revert: False post-config: $CINDER_CONF: lvmdriver-1: nvmeof_new_conn_info: true lvm_share_target: true target_secondary_ip_addresses: 127.0.0.1 - job:"," templates: - check-requirements - tempest-plugin-jobs - cinder-tempest-plugin-lvm-multiattach - cinder-tempest-plugin-lvm-lio-barbican - cinder-tempest-plugin-lvm-lio-barbican-centos-9-stream: voting: false - cinder-tempest-plugin-lvm-nvmet-barbican: voting: false - cinder-tempest-plugin-lvm-tgt-barbican - nova-ceph-multistore: voting: false - cinder-tempest-plugin-cbak-ceph - cinder-tempest-plugin-cbak-s3 # As per the Tempest ""Stable Branch Support Policy"", Tempest will only # support the ""Maintained"" stable branches and not the ""Extended Maintained"" # branches. That is what we need to do for all tempest plugins. Only jobs # for the current releasable (""Maintained"") stable branches should be listed # here. - cinder-tempest-plugin-basic-yoga - cinder-tempest-plugin-basic-xena - cinder-tempest-plugin-basic-wallaby # Set this job to voting once we have some actual tests to run - cinder-tempest-plugin-protection-functional: voting: false",32,24
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2F2023.1~I6a1aaf9d2fda5dd3f4d13f2993e94fe95810b62e,openstack/charm-octavia-diskimage-retrofit,stable/2023.1,I6a1aaf9d2fda5dd3f4d13f2993e94fe95810b62e,Bump up Charm-helpers revision,MERGED,2023-06-08 20:04:57.000000000,2023-06-13 18:59:43.000000000,2023-06-13 18:59:43.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:04:57.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/0496e6a55086baf9b03776a5f80d053c9f33a907', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I6a1aaf9d2fda5dd3f4d13f2993e94fe95810b62e\n'}]",0,885654,0496e6a55086baf9b03776a5f80d053c9f33a907,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I6a1aaf9d2fda5dd3f4d13f2993e94fe95810b62e
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/54/885654/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0496e6a55086baf9b03776a5f80d053c9f33a907,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2F2023.1~Icc60db9c708f72af475e0ed4b54ddbbcb9fb9a3a,openstack/charm-neutron-api-plugin-ovn,stable/2023.1,Icc60db9c708f72af475e0ed4b54ddbbcb9fb9a3a,Bump up Charm-helpers revision,MERGED,2023-06-08 20:04:02.000000000,2023-06-13 18:56:19.000000000,2023-06-13 18:56:19.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:04:02.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0d1c15bfb79a306b2358b91654081f40deaeabc9', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Icc60db9c708f72af475e0ed4b54ddbbcb9fb9a3a\n'}]",0,885650,0d1c15bfb79a306b2358b91654081f40deaeabc9,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Icc60db9c708f72af475e0ed4b54ddbbcb9fb9a3a
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/50/885650/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0d1c15bfb79a306b2358b91654081f40deaeabc9,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-octavia-dashboard~stable%2F2023.1~Ieade4b80d0147dd208c5d5eca2c848480cd66a5f,openstack/charm-octavia-dashboard,stable/2023.1,Ieade4b80d0147dd208c5d5eca2c848480cd66a5f,Bump up Charm-helpers revision,MERGED,2023-06-08 20:04:44.000000000,2023-06-13 18:56:04.000000000,2023-06-13 18:56:04.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:04:44.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/0387bdbc282c651a8b3b3afde7ad552448b4c9bb', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ieade4b80d0147dd208c5d5eca2c848480cd66a5f\n'}]",0,885653,0387bdbc282c651a8b3b3afde7ad552448b4c9bb,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ieade4b80d0147dd208c5d5eca2c848480cd66a5f
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/53/885653/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0387bdbc282c651a8b3b3afde7ad552448b4c9bb,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2F2023.1~I9ecf4af2a4bd1fc2509eb5f8a7df69fcda67be8a,openstack/charm-cinder-backup-swift-proxy,stable/2023.1,I9ecf4af2a4bd1fc2509eb5f8a7df69fcda67be8a,Bump up Charm-helpers revision,MERGED,2023-06-08 19:58:55.000000000,2023-06-13 18:52:54.000000000,2023-06-13 18:52:54.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:58:55.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/df572dee0f90cb2d36816287b767fe92026b4ec8', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I9ecf4af2a4bd1fc2509eb5f8a7df69fcda67be8a\n'}]",2,885628,df572dee0f90cb2d36816287b767fe92026b4ec8,11,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I9ecf4af2a4bd1fc2509eb5f8a7df69fcda67be8a
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/28/885628/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,df572dee0f90cb2d36816287b767fe92026b4ec8,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-placement~stable%2F2023.1~Ie7feef61a15ef53e08c27d3bb9a235682899c950,openstack/charm-placement,stable/2023.1,Ie7feef61a15ef53e08c27d3bb9a235682899c950,Bump up Charm-helpers revision,MERGED,2023-06-08 20:05:11.000000000,2023-06-13 18:51:12.000000000,2023-06-13 18:51:12.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:05:11.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/5d7ef8e7d943fc5e3d78a8f7a479ed50ade42461', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ie7feef61a15ef53e08c27d3bb9a235682899c950\n'}]",0,885655,5d7ef8e7d943fc5e3d78a8f7a479ed50ade42461,8,4,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ie7feef61a15ef53e08c27d3bb9a235682899c950
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/55/885655/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,5d7ef8e7d943fc5e3d78a8f7a479ed50ade42461,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fgovernance~master~I8ecf4acc658854b971c3d6b855bb84d6f5932f85,openstack/governance,master,I8ecf4acc658854b971c3d6b855bb84d6f5932f85,Add py38 as a PTI requirement for Python projects,MERGED,2023-05-03 16:11:48.000000000,2023-06-13 18:50:07.000000000,2023-06-13 18:49:06.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 16:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/61a293314ca61e62818500f8696bcb0a50edddbe', 'message': ""Add py38 as a PTI requirement for libraries\n\nAt the moment we're not ready to drop Python 3.8 as it breaks a lot\nof projects. Thus, we're returning py38 back to PTI as a requirement for\nlibraries.\n\nChange-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85\n""}, {'number': 2, 'created': '2023-05-03 16:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/dcaebe86ec8b0263a119efa79386f9df99d65078', 'message': ""Add py38 as a PTI requirement for libraries\n\nAt the moment we're not ready to drop Python 3.8 as it breaks a lot\nof projects. Thus, we're returning py38 back to PTI as a requirement for\nlibraries.\n\nChange-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85\n""}, {'number': 3, 'created': '2023-05-07 12:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/24698bf24ab7766ec2bd69eff6862c4abee8dc05', 'message': ""Add py38 as a PTI requirement for libraries\n\nAt the moment we're not ready to drop Python 3.8 as it breaks a lot\nof projects. Thus, we're returning py38 back to PTI as a requirement for\nlibraries.\n\nChange-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85\n""}, {'number': 4, 'created': '2023-05-29 10:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/c0fb3a1509d38e24665258ce5ad7760549fb526a', 'message': ""Add py38 as a PTI requirement for libraries\n\nAt the moment we're not ready to drop Python 3.8 as it breaks a lot\nof projects. Thus, we're returning py38 back to PTI as a requirement for\nlibraries.\n\nChange-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85\n""}, {'number': 5, 'created': '2023-05-30 18:20:47.000000000', 'files': ['reference/runtimes/2023.2.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/05ac02c2acd6117092c628fb5b04a17c640c415e', 'message': ""Add py38 as a PTI requirement for Python projects\n\nAt the moment we're not ready to drop Python 3.8 as it breaks a lot\nof projects. Thus, we're returning py38 back to PTI as a requirement for\nall Python-based projects.\n\nChange-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85\n""}]",9,882165,05ac02c2acd6117092c628fb5b04a17c640c415e,27,7,5,28619,,,0,"Add py38 as a PTI requirement for Python projects

At the moment we're not ready to drop Python 3.8 as it breaks a lot
of projects. Thus, we're returning py38 back to PTI as a requirement for
all Python-based projects.

Change-Id: I8ecf4acc658854b971c3d6b855bb84d6f5932f85
",git fetch https://review.opendev.org/openstack/governance refs/changes/65/882165/5 && git format-patch -1 --stdout FETCH_HEAD,['reference/runtimes/2023.2.rst'],1,61a293314ca61e62818500f8696bcb0a50edddbe,formal-vote,"Additionally, all Python-based libraries must target and test against following Python versions: * Python 3.8 (available as default in Ubuntu 20.04) ",,5,0
openstack%2Fironic~stable%2Fzed~Id353c4f5260a7c469779b50ad302f442223df5a0,openstack/ironic,stable/zed,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,NEW,2023-06-05 12:34:58.000000000,2023-06-13 18:30:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 12:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6749eb8c1fbf21f45ec4854f6af7981956b469c6', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)\n(cherry picked from commit 0859c6d176d74a97dd821218fc4b11c3d1023e9f)\n(cherry picked from commit f6e8f9821f8fe9661c8ea885bb90c52b29e7106f)\n""}, {'number': 2, 'created': '2023-06-13 12:19:51.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aae565bdc39376fc74c6aec93c28b22ae7128df6', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)\n(cherry picked from commit 0859c6d176d74a97dd821218fc4b11c3d1023e9f)\n""}]",0,885282,aae565bdc39376fc74c6aec93c28b22ae7128df6,8,1,2,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)
(cherry picked from commit 0859c6d176d74a97dd821218fc4b11c3d1023e9f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/885282/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py']",3,6749eb8c1fbf21f45ec4854f6af7981956b469c6,zed_fix_ipmi_incompat_handling_bug," if (getattr(node, 'power_interface') == 'ipmitool' or node.driver_internal_info.get('irmc_ipmi_succeed')):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,22,7
openstack%2Fcinder~stable%2F2023.1~Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba,openstack/cinder,stable/2023.1,Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba,Add fips check jobs,NEW,2023-06-08 12:09:43.000000000,2023-06-13 18:12:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 12:09:43.000000000', 'files': ['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/16207d0e59f8faa726dd901f0bbf7b3fc82bcc93', 'message': 'Add fips check jobs\n\nThis patch adds two new FIPS enabled jobs to determine if there are any\nissues when FIPS is enabled.\n\nBecause the FIPS jobs currently run on centos, code is added to the\ntest setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nChange-Id: Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba\n(cherry picked from commit 933a7b7e6c1ce2e93f7bd22d6abb07180e43625a)\n'}]",0,885478,16207d0e59f8faa726dd901f0bbf7b3fc82bcc93,7,1,1,34120,,,0,"Add fips check jobs

This patch adds two new FIPS enabled jobs to determine if there are any
issues when FIPS is enabled.

Because the FIPS jobs currently run on centos, code is added to the
test setup script to set up the databases correctly.  Also had
to increase the swap space on the nodes; see [0] for an explanation.

[0] https://review.opendev.org/c/openstack/devstack/+/803706

Change-Id: Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba
(cherry picked from commit 933a7b7e6c1ce2e93f7bd22d6abb07180e43625a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/885478/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",4,16207d0e59f8faa726dd901f0bbf7b3fc82bcc93,fips-compatibility-stable/2023.1,"function is_rhel7 { [ -f /usr/bin/yum ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 7' } function is_rhel8 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 8' } function is_rhel9 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 9' } function set_conf_line { # file regex value sudo sh -c ""grep -q -e '$2' $1 && \ sed -i 's|$2|$3|g' $1 || \ echo '$3' >> $1"" } if is_rhel7 || is_rhel8 || is_rhel9; then # mysql needs to be started on centos/rhel sudo systemctl restart mariadb.service # postgres setup for centos sudo postgresql-setup --initdb PG_CONF=/var/lib/pgsql/data/postgresql.conf set_conf_line $PG_CONF '^password_encryption =.*' 'password_encryption = scram-sha-256' PG_HBA=/var/lib/pgsql/data/pg_hba.conf set_conf_line $PG_HBA '^local[ \t]*all[ \t]*all.*' 'local all all peer' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*127.0.0.1\/32.*' 'host all all 127.0.0.1/32 scram-sha-256' set_conf_line $PG_HBA '^host[ \t]*all[ \t]*all[ \t]*::1\/128.*' 'host all all ::1/128 scram-sha-256' sudo systemctl restart postgresql.service fi ",,62,0
openstack%2Frequirements~stable%2Fyoga~I86fbb528e78edfe6541b77e8b0f63ca0fb124e3d,openstack/requirements,stable/yoga,I86fbb528e78edfe6541b77e8b0f63ca0fb124e3d,update constraint for neutron to new release 20.3.1,MERGED,2023-06-12 13:57:00.000000000,2023-06-13 17:33:41.000000000,2023-06-13 17:33:41.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-12 13:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/38dd844bb32e83986a3d81295a03dfc857477873', 'message': 'update constraint for neutron to new release 20.3.1\n\nmeta: version: 20.3.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\nmeta: release:Code-Review+1: Miguel Lavalle <miguel@mlavalle.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I86fbb528e78edfe6541b77e8b0f63ca0fb124e3d\n'}, {'number': 2, 'created': '2023-06-13 12:58:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/58a8ea285c47c6b0e8abff59175dd17772142f08', 'message': 'update constraint for neutron to new release 20.3.1\n\nmeta: version: 20.3.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\nmeta: release:Code-Review+1: Miguel Lavalle <miguel@mlavalle.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I86fbb528e78edfe6541b77e8b0f63ca0fb124e3d\n'}]",2,885882,58a8ea285c47c6b0e8abff59175dd17772142f08,17,4,2,11131,,,0,"update constraint for neutron to new release 20.3.1

meta: version: 20.3.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02
meta: release:Code-Review+1: Miguel Lavalle <miguel@mlavalle.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I86fbb528e78edfe6541b77e8b0f63ca0fb124e3d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/885882/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,38dd844bb32e83986a3d81295a03dfc857477873,new-release,neutron===20.3.1,neutron===20.3.0,1,1
openstack%2Fcinder-tempest-plugin~master~I7c39797918e5f6577e0b5269b951ceaef01a9914,openstack/cinder-tempest-plugin,master,I7c39797918e5f6577e0b5269b951ceaef01a9914,Refactor rbac cinder tests,ABANDONED,2022-05-23 09:59:41.000000000,2023-06-13 17:04:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-23 09:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/88655c68fc1c4fab3e711d4cbb84f797f6e40c3f', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client\n- Add new testcase for encrypted volume type with persona\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}, {'number': 2, 'created': '2022-05-23 13:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bc88b274f675aeb050a77e6e3efb0a40e53cf28c', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client\n- Add new testcase for encrypted volume type with persona\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}, {'number': 3, 'created': '2022-05-24 09:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c7a8ec99a0e01a400e8247050ba61cd658cb611c', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client\n- Add new testcase for volume type with persona\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}, {'number': 4, 'created': '2022-05-25 15:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/158fa63254166938bd1f317b79f936ffaa7a0ba2', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client in base.\n- Update existing testcase for volume capability with persona\n- Add new project client based on persona for resource manage\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}, {'number': 5, 'created': '2022-05-27 11:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c8939d2304edb932f0d85fb58716f9abfffbba4f', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client in base.\n- Update existing testcase for volume capability with persona\n- Add new project client based on persona for resource manage\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}, {'number': 6, 'created': '2022-06-28 10:21:32.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volumes_capabilities.py', 'cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_capabilities.py', 'cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/rbac/v3/rbac_templates.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a05555d1915012596a70f5078f514e7012f0700e', 'message': 'Refactor rbac cinder tests\n\n- Add support for credentials per project groups\n- Add support for base api to receive a client in base.\n- Update existing testcase for volume capability with persona\n- Add new project client based on persona for resource manage\n\nTempest allocates the credentials per project groups,\nThe class testcase pick a persona to test, allocate\nresources with required client (admin or others)\nwe will be able to allocate any resource from any project\nscope because base api accepts the client.\n\nWe can reuse the code and run the same tests with differnet\npersonas by inheritence.\n\nChange-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914\n'}]",17,842954,a05555d1915012596a70f5078f514e7012f0700e,31,2,6,11075,,,0,"Refactor rbac cinder tests

- Add support for credentials per project groups
- Add support for base api to receive a client in base.
- Update existing testcase for volume capability with persona
- Add new project client based on persona for resource manage

Tempest allocates the credentials per project groups,
The class testcase pick a persona to test, allocate
resources with required client (admin or others)
we will be able to allocate any resource from any project
scope because base api accepts the client.

We can reuse the code and run the same tests with differnet
personas by inheritence.

Change-Id: I7c39797918e5f6577e0b5269b951ceaef01a9914
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/54/842954/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/rbac/v3/test_project_members_tests.py', 'cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_capabilities.py', 'cinder_tempest_plugin/api/volume/base.py', 'cinder_tempest_plugin/rbac/v3/test_project_reader_tests.py', 'cinder_tempest_plugin/rbac/v3/test_project_admin_tests.py']",6,88655c68fc1c4fab3e711d4cbb84f797f6e40c3f,,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib import decorators from cinder_tempest_plugin.rbac.v3 import base class ProjectAdminCapabilitiesClient(base.ProjectAdminBaseTests): credential = ""project_admin"" @decorators.idempotent_id('62c700a9-b0be-4498-a1c8-7b60cba28ca2') def test_get_capabilities(self): pools = self.admin_stats_client.list_pools()['pools'] host_name = pools[0]['name'] self.do_request( 'show_backend_capabilities', expected_status=200, client=getattr(self.persona, ""volume_capabilities_client_latest""), host=host_name) class ProjectAdminVolumeEncryptionTypeClient(base.ProjectAdminBaseTests): credential = ""project_admin"" @decorators.idempotent_id('e2f8a79d-d121-4a58-95ac-a4b9a8391823') def test_get_volume_type(self): # create volume type from os_admin admin_volume_types_client vol_type = self.create_volume_type( client=self.admin_volume_types_client) create_kwargs = { 'type_id': vol_type['id'], 'provider': 'LuksEncryptor', 'key_size': 256, 'cipher': 'aes-xts-plain64', 'control_location': 'front-end' } self.create_encryption_type(**create_kwargs) self.do_request( 'show_encryption_type', expected_status=200, client=getattr(self.persona, ""encryption_types_client_latest""), volume_type_id=vol_type['id']) ",,313,102
openstack%2Fcinder-tempest-plugin~master~Iec6c1435ae934f44e4f07c16393d5877dbf0e502,openstack/cinder-tempest-plugin,master,Iec6c1435ae934f44e4f07c16393d5877dbf0e502,Add basic volume protection tests,ABANDONED,2021-03-03 05:43:46.000000000,2023-06-13 16:59:00.000000000,,"[{'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 05:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c1caa0aeaf750263dbfc0b5b768866e0694a9b49', 'message': 'Add basic volume protection tests\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n'}, {'number': 2, 'created': '2021-03-04 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2cb8d7fd5c0833ea026bb3d17f5622700cc5bbf5', 'message': 'Add basic volume protection tests\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n'}, {'number': 3, 'created': '2021-03-04 18:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/de14a272c8fd2f95050044cd5cf6926ffab91416', 'message': 'Add basic volume protection tests\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n'}, {'number': 4, 'created': '2021-03-04 19:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/91420fdaea2e55230f5165ceadc1017bb359ed07', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 5, 'created': '2021-03-04 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e1e3d18a24655d9d83c1ab11e25811dbb6801363', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 6, 'created': '2021-03-04 19:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fcbcae9e9dfe54c11613e93e685c2b395ffd1760', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 7, 'created': '2021-03-04 19:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7805752224a0c632956e3007b0afef3f9619a81c', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 8, 'created': '2021-03-05 21:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e648d8889c26759b5e0a28865fca35ca9a18e07e', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 9, 'created': '2021-03-05 23:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bc11348fbaa21b55a7802794f228a481d515a9d1', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 10, 'created': '2021-03-06 04:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8ec7ee45697592c54377797e30b8a4b05791802d', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 11, 'created': '2021-03-08 23:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d147a8785240e5bb529b31b026d7a5207c80c4c3', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 12, 'created': '2021-03-09 03:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6a2d213da55549f65a947f84bc69019aab197a97', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 13, 'created': '2021-03-09 15:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ac48cb1ba45304538fd88ca737efb26daaf6fb49', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 14, 'created': '2021-03-09 19:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ce027bdd90e1734550923547c8240c88b4b2f1b3', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 15, 'created': '2021-03-09 21:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1b10b695dce546f176b57cf4b91e8ac8a6c26be5', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 16, 'created': '2021-03-15 21:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/acc69d2dda9c7046487c3c5a152f37fb487d3c76', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 17, 'created': '2021-04-09 21:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4c2fa208452359f9284c86b1952bdaea7e9dd837', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\nRelated-Bug: 1917795\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}, {'number': 18, 'created': '2021-04-23 16:12:18.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7ebaa31bccb838d605736317e8d1c28507743854', 'message': ""Add basic volume protection tests\n\nThis commit adds some trivial protection tests for volume operations\nwith the default role and scope permutations possible from keystone and\navailable by default through tempest and devstack.\n\nSome of these tests are execising the read-only role in keystone, which\nis going to fail until we update cinder's policies to do valid role\nchecking for writeable operations. For now, those tests are skipped and\nwe will remove the skips as we incrementally work through cinder's\npolicies and implememnt default roles.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/779382\nRelated-Bug: 1917795\n\nChange-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502\n""}]",5,778357,7ebaa31bccb838d605736317e8d1c28507743854,44,3,18,5046,,,0,"Add basic volume protection tests

This commit adds some trivial protection tests for volume operations
with the default role and scope permutations possible from keystone and
available by default through tempest and devstack.

Some of these tests are execising the read-only role in keystone, which
is going to fail until we update cinder's policies to do valid role
checking for writeable operations. For now, those tests are skipped and
we will remove the skips as we incrementally work through cinder's
policies and implememnt default roles.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/779382
Related-Bug: 1917795

Change-Id: Iec6c1435ae934f44e4f07c16393d5877dbf0e502
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/57/778357/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_volumes.py']",2,c1caa0aeaf750263dbfc0b5b768866e0694a9b49,,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.api.volume import base from tempest.common import waiters from tempest.lib.common.utils import data_utils from tempest.lib import exceptions from cinder_tempest_plugin.rbac.v3 import base as rbac_base class VolumeV3RbacVolumeTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.volumes_v3_client # NOTE(lbragstad): This admin_client will be more useful later when # cinder supports system-scope and we need it for administrative # operations. For now, keep os_project_admin as the admin client until # we have system-scope. admin_client = cls.os_project_admin cls.admin_volume_client = admin_client.volumes_v3_client @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) def volume(self, project_id=None): if not project_id: project_id = self.persona.credentials.project_id volume = {} volume['name'] = data_utils.rand_name('volume') volume['project_id'] = project_id volume['size'] = 1 return volume @abc.abstractmethod def test_get_volume(self): pass @abc.abstractmethod def test_list_volumes(self): pass @abc.abstractmethod def test_create_volume(self): pass @abc.abstractmethod def test_update_volume(self): pass @abc.abstractmethod def test_delete_volume(self): pass class ProjectAdminTests(VolumeV3RbacVolumeTests, base.BaseVolumeTest): credentials = ['project_admin', 'system_admin'] def test_get_volume(self): pass def test_list_volumes(self): pass def test_create_volume(self): pass def test_update_volume(self): pass def test_delete_volume(self): pass class ProjectMemberTests(ProjectAdminTests, base.BaseVolumeTest): credentials = ['project_member', 'project_admin', 'system_admin'] def test_get_volume(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, volume['id'], 'available') self.addCleanup(self.admin_volume_client.delete_volume, volume['id']) self.do_request( 'show_volume', expected_status=200, volume_id=volume['id']) def test_list_volumes(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) project_member = self.setup_user_client() project_id = project_member.credentials.project_id non_project_volume = project_member.volumes_v3_client.create_volume( **self.volume(project_id=project_id))['volume'] waiters.wait_for_volume_resource_status( project_member.volumes_v3_client, non_project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, non_project_volume['id']) resp = self.do_request('list_volumes', expected_status=200) volume_ids = set(v['id'] for v in resp['volumes']) self.assertIn(project_volume['id'], volume_ids) self.assertNotIn(non_project_volume['id'], volume_ids) def test_create_volume(self): volume = self.do_request( 'create_volume', expected_status=202, **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, volume['id'], 'available') self.addCleanup(self.admin_volume_client.delete_volume, volume['id']) def test_update_volume(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) self.do_request('update_volume', expected_status=200, volume_id=project_volume['id'], description=data_utils.arbitrary_string()) project_member = self.setup_user_client() project_id = project_member.credentials.project_id non_project_volume = project_member.volumes_v3_client.create_volume( **self.volume(project_id=project_id))['volume'] waiters.wait_for_volume_resource_status( project_member.volumes_v3_client, non_project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, non_project_volume['id']) self.do_request('update_volume', expected_status=exceptions.NotFound, volume_id=non_project_volume['id'], description=data_utils.arbitrary_string()) def test_delete_volume(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.do_request( 'delete_volume', expected_status=202, volume_id=project_volume['id']) project_member = self.setup_user_client() project_id = project_member.credentials.project_id non_project_volume = project_member.volumes_v3_client.create_volume( **self.volume(project_id=project_id))['volume'] waiters.wait_for_volume_resource_status( project_member.volumes_v3_client, non_project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, non_project_volume['id']) self.do_request( 'delete_volume', expected_status=exceptions.NotFound, volume_id=non_project_volume['id']) class ProjectReaderTests(ProjectMemberTests, base.BaseVolumeTest): credentials = ['project_reader', 'project_admin', 'system_admin'] def test_create_volume(self): volume = self.do_request( 'create_volume', expected_status=exceptions.Forbidden, **self.volume())['volume'] def test_update_volume(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, project_volume['id']) self.do_request('update_volume', expected_status=exceptions.Forbidden, volume_id=project_volume['id'], description=data_utils.arbitrary_string()) project_member = self.setup_user_client() project_id = project_member.credentials.project_id non_project_volume = project_member.volumes_v3_client.create_volume( **self.volume(project_id=project_id))['volume'] waiters.wait_for_volume_resource_status( project_member.volumes_v3_client, non_project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, non_project_volume['id']) self.do_request('update_volume', expected_status=exceptions.NotFound, volume_id=non_project_volume['id'], description=data_utils.arbitrary_string()) def test_delete_volume(self): project_member = self.setup_user_client( project_id=self.persona.credentials.project_id) project_volume = project_member.volumes_v3_client.create_volume( **self.volume())['volume'] waiters.wait_for_volume_resource_status( self.client, project_volume['id'], 'available') self.do_request( 'delete_volume', expected_status=exceptions.Forbidden, volume_id=project_volume['id']) project_member = self.setup_user_client() project_id = project_member.credentials.project_id non_project_volume = project_member.volumes_v3_client.create_volume( **self.volume(project_id=project_id))['volume'] waiters.wait_for_volume_resource_status( project_member.volumes_v3_client, non_project_volume['id'], 'available') self.addCleanup( self.admin_volume_client.delete_volume, non_project_volume['id']) self.do_request( 'delete_volume', expected_status=exceptions.NotFound, volume_id=non_project_volume['id']) ",,290,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca,openstack/tripleo-ansible,stable/wallaby,Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca,Fix issues while applying ceph crush rules,MERGED,2023-05-31 17:41:02.000000000,2023-06-13 16:52:25.000000000,2023-06-13 16:52:25.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-31 17:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1840b24bf4e7800de59094a6ec9fa00f37ae2319', 'message': 'Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf, which is not even used in the task.\n\nThis patch will not bind mount assimilate_ceph.conf\nin the generated tripleo_cephadm_ceph_cli while applying\ncrush rules.\n\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n'}, {'number': 2, 'created': '2023-06-01 14:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdb72d1cfdacbc168399da7921f82ed6c86d5b91', 'message': 'Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch ensures to use right permissions for crush_rule\ntasks and cleans up unintended delegation while applying\ncrush rules.\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n'}, {'number': 3, 'created': '2023-06-05 08:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd4ddc3cf38b65eaf7bd2db93f69b9b510f00c19', 'message': 'Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch ensures to use right permissions for crush_rule\ntasks and cleans up unintended delegation while applying\ncrush rules.\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n'}, {'number': 4, 'created': '2023-06-05 10:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/434b09a1e287a4f69393876dd1e975aa69c4c298', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - uses right permissions for crush_rule tasks\n - cleans up unintended delegation while applying crush rules\n - adds additional crush_rules task to set 'osd_pool_default_crush_rule'.\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 5, 'created': '2023-06-06 12:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20aa68390f23721483a22eb476449ef38a31398b', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - cleans up unintended delegation while applying crush rules\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 6, 'created': '2023-06-06 13:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5efcb73229f271dda081834e8c133c927a973d88', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 7, 'created': '2023-06-07 15:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2427a111d8472e9f5617defb97f00b0e5c1d2d7', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 8, 'created': '2023-06-08 11:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa0d116a23b48ff15961a090f767f2435e396965', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 9, 'created': '2023-06-08 11:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa76668ab4f2951c02c6a5ec048828e90b297986', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}, {'number': 10, 'created': '2023-06-08 13:43:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush/default_crush_rule.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/52ea8a993ae3f749b9a6d54e76ca1fe850eca168', 'message': ""Fix issues while applying ceph crush rules\n\ncrush_rule delegate task fails while looking for\nassimilate_ceph.conf in few controller nodes and\nfew tasks fails with permission issues.\n\nThis patch\n - will not bind mount assimilate_ceph.conf in the generated\ntripleo_cephadm_ceph_cli while applying crush rules.\n - uses right permissions for crush_rule tasks\n - uses default crush rule.name 'replicated_rule' in 'create\npool' command to avoid pool creation failures when CephPools is\npassed w/o rule.name\n\nResolves: rhbz#2210873\nChange-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca\n""}]",56,884597,52ea8a993ae3f749b9a6d54e76ca1fe850eca168,58,4,10,34598,,,0,"Fix issues while applying ceph crush rules

crush_rule delegate task fails while looking for
assimilate_ceph.conf in few controller nodes and
few tasks fails with permission issues.

This patch
 - will not bind mount assimilate_ceph.conf in the generated
tripleo_cephadm_ceph_cli while applying crush rules.
 - uses right permissions for crush_rule tasks
 - uses default crush rule.name 'replicated_rule' in 'create
pool' command to avoid pool creation failures when CephPools is
passed w/o rule.name

Resolves: rhbz#2210873
Change-Id: Idcb5bba0819a8ddbe89c86850eac6eeb8d6d70ca
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/884597/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml']",2,1840b24bf4e7800de59094a6ec9fa00f37ae2319,bz_delete_bindmount_assimiate_conf, {% if not (external_cluster|default(false) or crush_assimilate_conf|default(false)) -%}, {% if not external_cluster|default(false) -%},2,1
openstack%2Fneutron~stable%2Fzed~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,stable/zed,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-06-06 17:54:22.000000000,2023-06-13 16:28:38.000000000,2023-06-13 16:27:23.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:54:22.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba1b4bb08e74e9446552c646c41f2d1b784f3962', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)\n'}]",1,885396,ba1b4bb08e74e9446552c646c41f2d1b784f3962,12,3,1,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the openstack overcloud backup
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/885396/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,ba1b4bb08e74e9446552c646c41f2d1b784f3962,migration_nfs_subnets-stable/2023.1-stable/zed,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Ftrove-tempest-plugin~master~Ib9d4070c6309f9fad3626248281b197d7f47c2d0,openstack/trove-tempest-plugin,master,Ib9d4070c6309f9fad3626248281b197d7f47c2d0,enable trove backup tests,MERGED,2023-05-30 10:02:44.000000000,2023-06-13 16:09:32.000000000,2023-06-13 16:07:46.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-05-30 10:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/8ceae49c0b4c40ab65cdfbea0ff11f5b4a7b178d', 'message': 'enable trove backup tests\n\nenable trove tests that related to backup logic\n\nChange-Id: Ib9d4070c6309f9fad3626248281b197d7f47c2d0\n'}, {'number': 2, 'created': '2023-06-05 07:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/6edc174098b5b86ab906b5e42dc6435fd22da34a', 'message': 'enable trove backup tests\n\nenable trove tests that related to backup logic\n\nChange-Id: Ib9d4070c6309f9fad3626248281b197d7f47c2d0\n'}, {'number': 3, 'created': '2023-06-08 15:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/8bb38e21eacdfcc103c2d88d37e9866c5ffcb356', 'message': 'enable trove backup tests\n\nenable trove tests that related to backup logic\n\nDepends-On: https://review.opendev.org/c/openstack/trove/+/885452\n\nChange-Id: Ib9d4070c6309f9fad3626248281b197d7f47c2d0\n'}, {'number': 4, 'created': '2023-06-11 15:41:53.000000000', 'files': ['tempest_blacklist.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/35906b205c5f191b815f4a057ce548d38915a261', 'message': 'enable trove backup tests\n\nenable trove tests that related to backup logic\n\nDepends-On: https://review.opendev.org/c/openstack/trove/+/885452\n\nChange-Id: Ib9d4070c6309f9fad3626248281b197d7f47c2d0\n'}]",5,884673,35906b205c5f191b815f4a057ce548d38915a261,22,2,4,26285,,,0,"enable trove backup tests

enable trove tests that related to backup logic

Depends-On: https://review.opendev.org/c/openstack/trove/+/885452

Change-Id: Ib9d4070c6309f9fad3626248281b197d7f47c2d0
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/73/884673/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest_blacklist.txt'],1,8ceae49c0b4c40ab65cdfbea0ff11f5b4a7b178d,,# ^trove_tempest_plugin.tests.scenario.test_backup ^trove_tempest_plugin.tests.scenario.test_replication ,^trove_tempest_plugin.tests.scenario.test_backup ^trove_tempest_plugin.tests.scenario.test_replication,2,2
openstack%2Fopenstack-helm~master~I1f475d294f8e84d30d07de5688380335283b8d21,openstack/openstack-helm,master,I1f475d294f8e84d30d07de5688380335283b8d21,Update contributing doc,MERGED,2023-06-07 18:26:45.000000000,2023-06-13 16:04:37.000000000,2023-06-13 16:03:30.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-07 18:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9d18c697c16bb956712131c700cb2acf891f180', 'message': 'Update contributing doc\n\nstory: 2010734\ntask: 47962\nChange-Id: I1f475d294f8e84d30d07de5688380335283b8d21\n'}, {'number': 2, 'created': '2023-06-07 18:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8dcd9ecfb8744d54c38b7faeac65c81837288deb', 'message': 'Update contributing doc\n\nstory: 2010734\ntask: 47962\nChange-Id: I1f475d294f8e84d30d07de5688380335283b8d21\n'}, {'number': 3, 'created': '2023-06-09 02:46:19.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/962447dd5b0c6c59eb6f301445d0c5ccf575cfb6', 'message': 'Update contributing doc\n\nstory: 2010734\ntask: 47962\nChange-Id: I1f475d294f8e84d30d07de5688380335283b8d21\n'}]",2,885538,962447dd5b0c6c59eb6f301445d0c5ccf575cfb6,13,4,3,3009,,,0,"Update contributing doc

story: 2010734
task: 47962
Change-Id: I1f475d294f8e84d30d07de5688380335283b8d21
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/885538/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,a9d18c697c16bb956712131c700cb2acf891f180,," (this is preferable way of communication): #openstack-helmProject's Core Team could be contacted via IRC or Slack. List of current core reviewers could be found on a Members tab ofIf an issue is on one of other OpenStack-Helm components, report it to thePlease be as much specific as possible while describing an issue. Usually having more context in the bug description means less efforts for a developer to reproduce the bug and understand how to fix it. Also before filing a bug to the Openstack-helm `_Storyboard` please try to identify if the issue is indeed related to the deployment process and not to the deployable software. ","* Community `IRC Meetings <http://eavesdrop.openstack.org/#OpenStack-Helm_Team_Meeting>`_: [Every Tuesday @ 3PM UTC], #openstack-meeting-alt on oftc * Meeting Agenda Items: `Agenda <https://etherpad.openstack.org/p/openstack-helm-meeting-agenda>`_ - #openstack-helmProject's Core Team could be contacted via IRC or Slack, usually during weekly meetings. List of current Cores could be found on a Members tab ofIf issue is on one of other OpenStack-Helm components, report it to the",12,9
openstack%2Fironic~bugfix%2F21.3~Id353c4f5260a7c469779b50ad302f442223df5a0,openstack/ironic,bugfix/21.3,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,NEW,2023-06-05 11:32:54.000000000,2023-06-13 15:48:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 11:32:54.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6e8f9821f8fe9661c8ea885bb90c52b29e7106f', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)\n(cherry picked from commit 0859c6d176d74a97dd821218fc4b11c3d1023e9f)\n""}]",4,885277,f6e8f9821f8fe9661c8ea885bb90c52b29e7106f,16,1,1,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
(cherry picked from commit 27bf2091135e4e0f2650e325378a69916b795a31)
(cherry picked from commit 0859c6d176d74a97dd821218fc4b11c3d1023e9f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/885277/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py']",3,f6e8f9821f8fe9661c8ea885bb90c52b29e7106f,21.3_fix_ipmi_incompat_handling_bug," if (getattr(node, 'power_interface') == 'ipmitool' or node.driver_internal_info.get('irmc_ipmi_succeed')):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,22,7
openstack%2Fpython-glanceclient~master~I00eda1ced9a364be3c636eee248629b91d7b6282,openstack/python-glanceclient,master,I00eda1ced9a364be3c636eee248629b91d7b6282,Get rid of chunked body,NEW,2020-06-07 10:46:45.000000000,2023-06-13 15:23:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 30696}]","[{'number': 1, 'created': '2020-06-07 10:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/e04291629438801687618fd190e314f104a3d4d6', 'message': 'Get rid of chunked body\n\nUsing a chunked body is problematic in\nthat requests will not able to calculate\ncontent-length automatically. And this will\nlead to possibly dramatically slow down of\ncreating images using cinder store. Sometimes\nit will lead to failure if unfortunately\nspecified volume type does not allow live\nresizing (for example active-active volume\nfor as5600 from fujitsu does not support\nresizing).\n\nSo instead of trunk every input flow, user\nshould determine themselves if they would\nlike to have a chunked data body or not.\n\nChange-Id: I00eda1ced9a364be3c636eee248629b91d7b6282\nCloses-Bug: #1220197\n'}, {'number': 2, 'created': '2020-06-07 10:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/46d09eebb73d1c75d77b50b7162b47c58d4c9e67', 'message': 'Get rid of chunked body\n\nUsing a chunked body is problematic in\nthat requests will not able to calculate\ncontent-length automatically. And this will\nlead to possibly dramatically slow down of\ncreating images using cinder store. Sometimes\nit will lead to failure if unfortunately\nspecified volume type does not allow live\nresizing (for example active-active volume\nfor as5600 from fujitsu does not support\nresizing).\n\nSo instead of trunk every input flow, user\nshould determine themselves if they would\nlike to have a chunked data body or not.\n\nChange-Id: I00eda1ced9a364be3c636eee248629b91d7b6282\nCloses-Bug: #1220197\n'}, {'number': 3, 'created': '2023-02-06 19:04:27.000000000', 'files': ['glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ce86fb7fa511f1123e52f5ee4139fef05c384ce3', 'message': 'Get rid of chunked body\n\nUsing a chunked body is problematic in that requests will not able to\ncalculate content-length automatically. And this will lead to possibly\ndramatically slow down of creating images using cinder store. Sometimes\nit will lead to failure if unfortunately specified volume type does not\nallow live resizing (for example active-active volume for as5600 from\nfujitsu does not support resizing).\n\nSo instead of trunk every input flow, user should determine themselves\nif they would like to have a chunked data body or not.\n\nChange-Id: I00eda1ced9a364be3c636eee248629b91d7b6282\nCloses-Bug: #1220197\n'}]",1,733984,ce86fb7fa511f1123e52f5ee4139fef05c384ce3,10,2,3,29071,,,0,"Get rid of chunked body

Using a chunked body is problematic in that requests will not able to
calculate content-length automatically. And this will lead to possibly
dramatically slow down of creating images using cinder store. Sometimes
it will lead to failure if unfortunately specified volume type does not
allow live resizing (for example active-active volume for as5600 from
fujitsu does not support resizing).

So instead of trunk every input flow, user should determine themselves
if they would like to have a chunked data body or not.

Change-Id: I00eda1ced9a364be3c636eee248629b91d7b6282
Closes-Bug: #1220197
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/84/733984/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/test_http.py', 'glanceclient/common/http.py']",2,e04291629438801687618fd190e314f104a3d4d6,bug/1220197, pass, @staticmethod def _chunk_body(body): chunk = body while chunk: chunk = body.read(CHUNKSIZE) if not chunk: break yield chunk data = self._chunk_body(data),1,29
openstack%2Fcharm-keystone-k8s~main~Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9,openstack/charm-keystone-k8s,main,Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-12 14:54:02.000000000,2023-06-13 15:17:02.000000000,2023-06-13 14:48:59.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 14:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/98c28b7e8a1a1ba50c4bbdf133014244624dab00', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using ""open-port"" hook, remove\nkubernetes_service_patch.\n\nChange-Id: Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9\n'}, {'number': 2, 'created': '2023-06-13 09:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/960a430af0f2539938862f11b8ecca8c271260f9', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using ""open-port"" hook, remove\nkubernetes_service_patch.\n\nChange-Id: Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9\n'}, {'number': 3, 'created': '2023-06-13 13:42:38.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_keystone_charm.py', 'src/charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/2d3c84de36558b40326dab54c2e358dbd7212cef', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using ""open-port"" hook, remove\nkubernetes_service_patch.\n\nChange-Id: Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9\n'}]",2,885887,2d3c84de36558b40326dab54c2e358dbd7212cef,15,2,3,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using ""open-port"" hook, remove
kubernetes_service_patch.

Change-Id: Ieb1a2c88f555ad34fd35d639b1c9f01dc432edd9
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/87/885887/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms/observability_libs/v1/kubernetes_service_patch.py'],1,98c28b7e8a1a1ba50c4bbdf133014244624dab00,feat/open-ports,,"# Copyright 2021 Canonical Ltd. # See LICENSE file for licensing details. """"""# KubernetesServicePatch Library. This library is designed to enable developers to more simply patch the Kubernetes Service created by Juju during the deployment of a sidecar charm. When sidecar charms are deployed, Juju creates a service named after the application in the namespace (named after the Juju model). This service by default contains a ""placeholder"" port, which is 65536/TCP. When modifying the default set of resources managed by Juju, one must consider the lifecycle of the charm. In this case, any modifications to the default service (created during deployment), will be overwritten during a charm upgrade. When initialised, this library binds a handler to the parent charm's `install` and `upgrade_charm` events which applies the patch to the cluster. This should ensure that the service ports are correct throughout the charm's life. The constructor simply takes a reference to the parent charm, and a list of [`lightkube`](https://github.com/gtsystem/lightkube) ServicePorts that each define a port for the service. For information regarding the `lightkube` `ServicePort` model, please visit the `lightkube` [docs](https://gtsystem.github.io/lightkube-models/1.23/models/core_v1/#serviceport). Optionally, a name of the service (in case service name needs to be patched as well), labels, selectors, and annotations can be provided as keyword arguments. ## Getting Started To get started using the library, you just need to fetch the library using `charmcraft`. **Note that you also need to add `lightkube` and `lightkube-models` to your charm's `requirements.txt`.** ```shell cd some-charm charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch cat << EOF >> requirements.txt lightkube lightkube-models EOF ``` Then, to initialise the library: For `ClusterIP` services: ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(443, name=f""{self.app.name}"") self.service_patcher = KubernetesServicePatch(self, [port]) # ... ``` For `LoadBalancer`/`NodePort` services: ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(443, name=f""{self.app.name}"", targetPort=443, nodePort=30666) self.service_patcher = KubernetesServicePatch( self, [port], ""LoadBalancer"" ) # ... ``` Port protocols can also be specified. Valid protocols are `""TCP""`, `""UDP""`, and `""SCTP""` ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... tcp = ServicePort(443, name=f""{self.app.name}-tcp"", protocol=""TCP"") udp = ServicePort(443, name=f""{self.app.name}-udp"", protocol=""UDP"") sctp = ServicePort(443, name=f""{self.app.name}-sctp"", protocol=""SCTP"") self.service_patcher = KubernetesServicePatch(self, [tcp, udp, sctp]) # ... ``` Bound with custom events by providing `refresh_event` argument: For example, you would like to have a configurable port in your charm and want to apply service patch every time charm config is changed. ```python from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(int(self.config[""charm-config-port""]), name=f""{self.app.name}"") self.service_patcher = KubernetesServicePatch( self, [port], refresh_event=self.on.config_changed ) # ... ``` Additionally, you may wish to use mocks in your charm's unit testing to ensure that the library does not try to make any API calls, or open any files during testing that are unlikely to be present, and could break your tests. The easiest way to do this is during your test `setUp`: ```python # ... @patch(""charm.KubernetesServicePatch"", lambda x, y: None) def setUp(self, *unused): self.harness = Harness(SomeCharm) # ... ``` """""" import logging from types import MethodType from typing import List, Literal, Optional, Union from lightkube import ApiError, Client from lightkube.core import exceptions from lightkube.models.core_v1 import ServicePort, ServiceSpec from lightkube.models.meta_v1 import ObjectMeta from lightkube.resources.core_v1 import Service from lightkube.types import PatchType from ops.charm import CharmBase from ops.framework import BoundEvent, Object logger = logging.getLogger(__name__) # The unique Charmhub library identifier, never change it LIBID = ""0042f86d0a874435adef581806cddbbb"" # Increment this major API version when introducing breaking changes LIBAPI = 1 # Increment this PATCH version before using `charmcraft publish-lib` or reset # to 0 if you are raising the major API version LIBPATCH = 6 ServiceType = Literal[""ClusterIP"", ""LoadBalancer""] class KubernetesServicePatch(Object): """"""A utility for patching the Kubernetes service set up by Juju."""""" def __init__( self, charm: CharmBase, ports: List[ServicePort], service_name: Optional[str] = None, service_type: ServiceType = ""ClusterIP"", additional_labels: Optional[dict] = None, additional_selectors: Optional[dict] = None, additional_annotations: Optional[dict] = None, *, refresh_event: Optional[Union[BoundEvent, List[BoundEvent]]] = None, ): """"""Constructor for KubernetesServicePatch. Args: charm: the charm that is instantiating the library. ports: a list of ServicePorts service_name: allows setting custom name to the patched service. If none given, application name will be used. service_type: desired type of K8s service. Default value is in line with ServiceSpec's default value. additional_labels: Labels to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_selectors: Selectors to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_annotations: Annotations to be added to the kubernetes service. refresh_event: an optional bound event or list of bound events which will be observed to re-apply the patch (e.g. on port change). The `install` and `upgrade-charm` events would be observed regardless. """""" super().__init__(charm, ""kubernetes-service-patch"") self.charm = charm self.service_name = service_name if service_name else self._app self.service = self._service_object( ports, service_name, service_type, additional_labels, additional_selectors, additional_annotations, ) # Make mypy type checking happy that self._patch is a method assert isinstance(self._patch, MethodType) # Ensure this patch is applied during the 'install' and 'upgrade-charm' events self.framework.observe(charm.on.install, self._patch) self.framework.observe(charm.on.upgrade_charm, self._patch) self.framework.observe(charm.on.update_status, self._patch) # apply user defined events if refresh_event: if not isinstance(refresh_event, list): refresh_event = [refresh_event] for evt in refresh_event: self.framework.observe(evt, self._patch) def _service_object( self, ports: List[ServicePort], service_name: Optional[str] = None, service_type: ServiceType = ""ClusterIP"", additional_labels: Optional[dict] = None, additional_selectors: Optional[dict] = None, additional_annotations: Optional[dict] = None, ) -> Service: """"""Creates a valid Service representation. Args: ports: a list of ServicePorts service_name: allows setting custom name to the patched service. If none given, application name will be used. service_type: desired type of K8s service. Default value is in line with ServiceSpec's default value. additional_labels: Labels to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_selectors: Selectors to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_annotations: Annotations to be added to the kubernetes service. Returns: Service: A valid representation of a Kubernetes Service with the correct ports. """""" if not service_name: service_name = self._app labels = {""app.kubernetes.io/name"": self._app} if additional_labels: labels.update(additional_labels) selector = {""app.kubernetes.io/name"": self._app} if additional_selectors: selector.update(additional_selectors) return Service( apiVersion=""v1"", kind=""Service"", metadata=ObjectMeta( namespace=self._namespace, name=service_name, labels=labels, annotations=additional_annotations, # type: ignore[arg-type] ), spec=ServiceSpec( selector=selector, ports=ports, type=service_type, ), ) def _patch(self, _) -> None: """"""Patch the Kubernetes service created by Juju to map the correct port. Raises: PatchFailed: if patching fails due to lack of permissions, or otherwise. """""" try: client = Client() except exceptions.ConfigError as e: logger.warning(""Error creating k8s client: %s"", e) return try: if self._is_patched(client): return if self.service_name != self._app: self._delete_and_create_service(client) client.patch(Service, self.service_name, self.service, patch_type=PatchType.MERGE) except ApiError as e: if e.status.code == 403: logger.error(""Kubernetes service patch failed: `juju trust` this application."") else: logger.error(""Kubernetes service patch failed: %s"", str(e)) else: logger.info(""Kubernetes service '%s' patched successfully"", self._app) def _delete_and_create_service(self, client: Client): service = client.get(Service, self._app, namespace=self._namespace) service.metadata.name = self.service_name # type: ignore[attr-defined] service.metadata.resourceVersion = service.metadata.uid = None # type: ignore[attr-defined] # noqa: E501 client.delete(Service, self._app, namespace=self._namespace) client.create(service) def is_patched(self) -> bool: """"""Reports if the service patch has been applied. Returns: bool: A boolean indicating if the service patch has been applied. """""" client = Client() return self._is_patched(client) def _is_patched(self, client: Client) -> bool: # Get the relevant service from the cluster try: service = client.get(Service, name=self.service_name, namespace=self._namespace) except ApiError as e: if e.status.code == 404 and self.service_name != self._app: return False else: logger.error(""Kubernetes service get failed: %s"", str(e)) raise # Construct a list of expected ports, should the patch be applied expected_ports = [(p.port, p.targetPort) for p in self.service.spec.ports] # Construct a list in the same manner, using the fetched service fetched_ports = [ (p.port, p.targetPort) for p in service.spec.ports # type: ignore[attr-defined] ] # noqa: E501 return expected_ports == fetched_ports @property def _app(self) -> str: """"""Name of the current Juju application. Returns: str: A string containing the name of the current Juju application. """""" return self.charm.app.name @property def _namespace(self) -> str: """"""The Kubernetes namespace we're running in. Returns: str: A string containing the name of the current Kubernetes namespace. """""" with open(""/var/run/secrets/kubernetes.io/serviceaccount/namespace"", ""r"") as f: return f.read().strip() ",0,342
openstack%2Fcharm-ceph-mon~stable%2Fquincy.2~Ia964a8c2049282df9655268272fbcf8117d160e4,openstack/charm-ceph-mon,stable/quincy.2,Ia964a8c2049282df9655268272fbcf8117d160e4,Testing: use mysql and rabbitmq from LTS,MERGED,2023-06-12 17:25:29.000000000,2023-06-13 15:12:30.000000000,2023-06-13 15:12:30.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}, {'_account_id': 34952}]","[{'number': 1, 'created': '2023-06-12 17:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7a597bab41be2d738ebaa3359e6b520371ae701c', 'message': 'Testing: use mysql and rabbitmq from LTS\n\nFor better stability use LTS series for rabbitmq and mysql when\ntesting instead of interim releases.\n\nAlso remove xena (non-lts) from tests and yoga as a source default\n\ncherry-pick from: Ie443c55dc4cc1b7f63eacfee79b28f210f1277e4\n\nChange-Id: Ia964a8c2049282df9655268272fbcf8117d160e4\n'}, {'number': 2, 'created': '2023-06-13 13:32:40.000000000', 'files': ['osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/jammy-antelope.yaml', 'config.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/21282621bff6dbe076bbde67f0b4c5852812abf1', 'message': 'Testing: use mysql and rabbitmq from LTS\n\nFor better stability use LTS series for rabbitmq and mysql when\ntesting instead of interim releases.\n\nAlso remove xena (non-lts) from tests and yoga as a source default\n\ncherry-pick from: Ie443c55dc4cc1b7f63eacfee79b28f210f1277e4\n\nChange-Id: Ia964a8c2049282df9655268272fbcf8117d160e4\n'}]",13,885899,21282621bff6dbe076bbde67f0b4c5852812abf1,20,6,2,15382,,,0,"Testing: use mysql and rabbitmq from LTS

For better stability use LTS series for rabbitmq and mysql when
testing instead of interim releases.

Also remove xena (non-lts) from tests and yoga as a source default

cherry-pick from: Ie443c55dc4cc1b7f63eacfee79b28f210f1277e4

Change-Id: Ia964a8c2049282df9655268272fbcf8117d160e4
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/99/885899/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/jammy-antelope.yaml', 'config.yaml', 'tests/bundles/jammy-zed.yaml']",5,7a597bab41be2d738ebaa3359e6b520371ae701c,, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge, channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge options: source: *openstack-origin channel: latest/edge options: source: *openstack-origin,56,63
openstack%2Fcharm-ceph-mon~stable%2Fquincy.2~I2f5ac561120b1abe52ea0621bb472bc78495fa97,openstack/charm-ceph-mon,stable/quincy.2,I2f5ac561120b1abe52ea0621bb472bc78495fa97,rbd mirror relation: be persistent in getting pool info,MERGED,2023-06-13 08:53:32.000000000,2023-06-13 15:06:41.000000000,2023-06-13 15:06:41.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-13 08:53:32.000000000', 'files': ['src/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1b6701a440ceb76f41fd9856c76d3c76886dc399', 'message': 'rbd mirror relation: be persistent in getting pool info\n\nAuth for getting pool details can fail initially if we set up a rbd\nmirror relation at cloud bootstrap. Add some retry to give it another\nchance\n\nChange-Id: I2f5ac561120b1abe52ea0621bb472bc78495fa97\nPartial-Bug: #2021967\n(cherry picked from commit af2323c4578ff7f4b352acfe350279eddd1ce0aa)\n'}]",1,885918,1b6701a440ceb76f41fd9856c76d3c76886dc399,7,3,1,15382,,,0,"rbd mirror relation: be persistent in getting pool info

Auth for getting pool details can fail initially if we set up a rbd
mirror relation at cloud bootstrap. Add some retry to give it another
chance

Change-Id: I2f5ac561120b1abe52ea0621bb472bc78495fa97
Partial-Bug: #2021967
(cherry picked from commit af2323c4578ff7f4b352acfe350279eddd1ce0aa)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/18/885918/1 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_hooks.py'],1,1b6701a440ceb76f41fd9856c76d3c76886dc399,fix/make-rbd-rel-robust-stable/quincy.2,"import tenacity # Add some tenacity in getting pool details @tenacity.retry(wait=tenacity.wait_exponential(max=20), reraise=True) def get_pool_details(): return ceph.list_pools_detail() 'pools': json.dumps(get_pool_details(), sort_keys=True),"," 'pools': json.dumps(ceph.list_pools_detail(), sort_keys=True),",10,1
openstack%2Foctavia-dashboard~master~Ia14d4a4776d2ff2515ca1068eb9f412ba8549b6e,openstack/octavia-dashboard,master,Ia14d4a4776d2ff2515ca1068eb9f412ba8549b6e,Fix disabled TLS listener,ABANDONED,2023-06-13 10:27:58.000000000,2023-06-13 15:05:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-13 10:27:58.000000000', 'files': ['octavia_dashboard/api/rest/sdk_interface.py', 'octavia_dashboard/api/rest/__init__.py', 'octavia_dashboard/api/rest/barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/752cf53d866715392c76c379d696e9649199ef8d', 'message': 'Fix disabled TLS listener\n\nAttempt using barbicanclient\n\nTODO\n\nChange-Id: Ia14d4a4776d2ff2515ca1068eb9f412ba8549b6e\n'}]",2,885966,752cf53d866715392c76c379d696e9649199ef8d,3,1,1,34429,,,0,"Fix disabled TLS listener

Attempt using barbicanclient

TODO

Change-Id: Ia14d4a4776d2ff2515ca1068eb9f412ba8549b6e
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/66/885966/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/api/rest/sdk_interface.py', 'octavia_dashboard/api/rest/__init__.py', 'octavia_dashboard/api/rest/barbican.py']",3,752cf53d866715392c76c379d696e9649199ef8d,fix-tls-listener-bclient," # params = {'limit': limit, 'type': 'certificate'} result = containers.list(limit=limit, type='certificate') return {'items': result} # params = {'limit': limit} result = secrets.list(limit=limit) return {'items': result}"," params = {'limit': limit, 'type': 'certificate'} result = containers._api.get('containers', params=params) return {'items': result.get('containers')} params = {'limit': limit} result = secrets._api.get('secrets', params=params) return {'items': result.get('secrets')}",60,6
openstack%2Fneutron~master~Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23,openstack/neutron,master,Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23,rpc/dhcp: avoid get_network_info to return segments if not needed,NEW,2023-04-12 08:23:17.000000000,2023-06-13 14:19:07.000000000,,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-12 08:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b771f0d9da2bb619e922c5b5690f0db4876a75a', 'message': ""dhcp: fix network.segments condition when no segments\n\nIn situation where segments ext is activated, the attribute\nnetwork.segments is of the kind DictModel, the condition can't be done\non attribute validity.\n\nThe fix is checking instead the the len of the dict.\n\nCloses-Bug: bug/2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n""}, {'number': 2, 'created': '2023-04-14 08:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a23ddf3669edbbc6f20e589ed0bbc9b62c8bbe67', 'message': ""dhcp: fix network.segments condition when no segments\n\nIn situation where segments ext is activated, the attribute\nnetwork.segments is of the kind DictModel, the condition can't be done\non attribute validity.\n\nThe fix is checking instead the the len of the dict.\n\nCloses-Bug: bug/2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n""}, {'number': 3, 'created': '2023-04-14 08:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/385a92aea42f0443e94293e249cc9f571894b43c', 'message': ""dhcp: fix network.segments condition when no segments\n\nIn situation where segments ext is activated, the attribute\nnetwork.segments is of the kind DictModel, the condition can't be done\non attribute validity.\n\nThe fix is checking instead the the len of the dict.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n""}, {'number': 4, 'created': '2023-04-24 08:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56d9acd81f4b9243872dde725a72745153a17c5f', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 5, 'created': '2023-04-24 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f2e699f8975a2be13ca110cfb9bfa5616bcb7ce', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 6, 'created': '2023-04-25 07:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ad9c05d9b90c5b42877abee941ca75baf957908', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 7, 'created': '2023-04-25 07:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46e325568a4588398c6c09031c9b7a67b6f9cee1', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 8, 'created': '2023-05-03 09:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc919f8dbe081a5889667edbcc6688a57d1f6881', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nThe issue has been identified using ML2/OVS and network provider. Returning segments are only needed for NPR. The regression comes from (commit 7ceb935da82) When introducing multi-segments. The change was not making difference between segments explicitly attached to subnets.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 9, 'created': '2023-05-04 12:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88eafe6692055a5591baebc116f92d16fc0da829', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nThe issue has been identified using ML2/OVS and network\nprovider. Returning segments are only needed for routed provider\nnetwork. The regression comes from\nI1dab155bc812f8764d22e78ebb7d80aaaad65515 When introducing\nmulti-segments. The change was not making difference between segments\nexplicitly attached to subnets.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 10, 'created': '2023-05-05 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71e3cca05c73e14334b1040192340ddba56c3272', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nThe issue has been identified using ML2/OVS and network\nprovider. Returning segments are only needed for routed provider\nnetwork. The regression comes from\nI1dab155bc812f8764d22e78ebb7d80aaaad65515 When introducing\nmulti-segments. The change was not making difference between segments\nexplicitly attached to subnets.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 11, 'created': '2023-05-12 13:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a670ad9fa27ce92bddeee36424c7c0f088e779f0', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nThe issue has been identified using ML2/OVS and network\nprovider. Returning segments are only needed for routed provider\nnetwork. The regression comes from\nI1dab155bc812f8764d22e78ebb7d80aaaad65515 When introducing\nmulti-segments. The change was not making difference between segments\nexplicitly attached to subnets.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 12, 'created': '2023-05-22 10:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7358696469225884af26861f22d32e1fc0c4b22', 'message': 'rpc/handlers/dhcp: fix get_network_info when no local subnets\n\nWhen segment plugin is activated we only want to return segments that\nare explicitly attached to a subnet which is the routed provider\nnetworks.\n\nThe issue has been identified using ML2/OVS and network\nprovider. Returning segments are only needed for routed provider\nnetwork. The regression comes from\nI1dab155bc812f8764d22e78ebb7d80aaaad65515 When introducing\nmulti-segments. The change was not making difference between segments\nexplicitly attached to subnets.\n\nCloses-Bug: #2015090\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 13, 'created': '2023-05-30 10:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/179e0b658cdcae7130ebc6d98084c92f04a0dc56', 'message': 'rpc/dhcp: avoid get_network_info to return segments if not needed\n\nThe get_network_info rpc call can avoid to return segments if routed\nprovider networks in not used.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 14, 'created': '2023-06-06 08:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d285f1019ecd77fab1185b76ca5c916022e9da2d', 'message': 'rpc/dhcp: avoid get_network_info to return segments if not needed\n\nThe get_network_info rpc call can avoid to return segments if routed\nprovider networks in not used.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}, {'number': 15, 'created': '2023-06-08 06:48:30.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c943bfeb7440f3ed9ab88f5cf98664f4076c712c', 'message': 'rpc/dhcp: avoid get_network_info to return segments if not needed\n\nThe get_network_info rpc call can avoid to return segments if routed\nprovider networks in not used.\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23\n'}]",44,880131,c943bfeb7440f3ed9ab88f5cf98664f4076c712c,107,7,15,7730,,,0,"rpc/dhcp: avoid get_network_info to return segments if not needed

The get_network_info rpc call can avoid to return segments if routed
provider networks in not used.

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Ie9dfc824c8f8f0aba7f293c09299391fbd1cdb23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/880131/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,6b771f0d9da2bb619e922c5b5690f0db4876a75a,bug/2015090, if 'segments' in network and len(network.segments) > 0:, if 'segments' in network and network.segments:,1,1
openstack%2Fopenstack-tempest-skiplist~master~I76d40470e386e81c630625c0c1e053e744c02e91,openstack/openstack-tempest-skiplist,master,I76d40470e386e81c630625c0c1e053e744c02e91,Skip ironic tests and allow ironic passing tests,MERGED,2023-06-13 11:58:40.000000000,2023-06-13 14:06:57.000000000,2023-06-13 14:06:04.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-06-13 11:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e86608b48c2187618c3c8fbd94255d2731c1135c', 'message': 'Skip ironic tests\n\nChange-Id: I76d40470e386e81c630625c0c1e053e744c02e91\n'}, {'number': 2, 'created': '2023-06-13 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e665532f25914f9a9cb49b70abe5b313db9d71d4', 'message': 'Skip ironic tests and allow ironic passing tests\n\nChange-Id: I76d40470e386e81c630625c0c1e053e744c02e91\n'}, {'number': 3, 'created': '2023-06-13 12:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/d33397815281eef5cf890a86a4935a786d05cf39', 'message': 'Skip ironic tests and allow ironic passing tests\n\nChange-Id: I76d40470e386e81c630625c0c1e053e744c02e91\n'}, {'number': 4, 'created': '2023-06-13 13:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/e2129dec84909232d66e864cbbcfafd34036317f', 'message': 'Skip ironic tests and allow ironic passing tests\n\nChange-Id: I76d40470e386e81c630625c0c1e053e744c02e91\n'}, {'number': 5, 'created': '2023-06-13 13:48:01.000000000', 'files': ['openstack-operators/tempest_allow.yml', 'openstack-operators/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1354e6c706965fdb36c5185ab858f290a80d1f90', 'message': 'Skip ironic tests and allow ironic passing tests\n\nChange-Id: I76d40470e386e81c630625c0c1e053e744c02e91\n'}]",12,885992,1354e6c706965fdb36c5185ab858f290a80d1f90,21,4,5,30742,,,0,"Skip ironic tests and allow ironic passing tests

Change-Id: I76d40470e386e81c630625c0c1e053e744c02e91
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/92/885992/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack-operators/tempest_skip.yml'],1,e86608b48c2187618c3c8fbd94255d2731c1135c,skip_ironic, - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeUnderV252Test.test_search_hypervisor_with_non_admin_user - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_list - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_list_details - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeUnderV252Test.test_show_servers_with_non_admin_user - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_existent_host - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_show_details - test: tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_create_no_allocate - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_host_as_user - test: tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_multi_create_auto_allocate - test: tempest.api.compute.admin.test_delete_server.DeleteServersAdminTestJSON.test_admin_delete_servers_of_others - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeTestJSON.test_get_hypervisor_uptime_with_non_admin_user - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeTestJSON.test_show_hypervisor_with_non_admin_user - test: tempest.api.compute.admin.test_delete_server.DeleteServersAdminTestJSON.test_delete_server_while_in_error_state - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_remove_host_as_user - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminUnderV252Test.test_get_hypervisor_show_servers - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminUnderV252Test.test_search_hypervisor - test: tempest.api.compute.admin.test_services.ServicesAdminTestJSON.test_get_service_by_service_binary_name - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminV253TestBase.test_list_show_detail_hypervisors - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body - test: tempest.api.compute.admin.test_servers.ServersAdmin275Test.test_rebuild_update_server_275 - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminV228Test.test_get_list_hypervisor_details - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_uri - test: tempest.api.compute.images.test_images_negative.ImagesNegativeTestJSON.test_create_image_from_deleted_server - test: tempest.api.compute.admin.test_server_external_events.ServerExternalEventsTest.test_create_server_external_events - test: tempest.api.compute.admin.test_server_diagnostics.ServerDiagnosticsTest.test_get_server_diagnostics - test: tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON.test_verify_created_server_ephemeral_disk - test: tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest.test_tagged_boot_devices - test: tempest.api.compute.admin.test_server_diagnostics.ServerDiagnosticsV248Test.test_get_server_diagnostics - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsTestJSON.test_allocate_floating_ip - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_server_specify_multibyte_character_name - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsTestJSON.test_delete_floating_ip - test: tempest.api.compute.admin.test_server_diagnostics_negative.ServerDiagnosticsNegativeTest.test_get_server_diagnostics_by_non_admin - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_create_list_show_delete_interfaces_by_fixed_ip - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_create_list_show_delete_interfaces_by_network_port - test: tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_list_security_groups_by_server - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_rebuild_server_with_auto_disk_config - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_server_with_ipv6_addr_only - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_reassign_port_between_servers - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_rebuild_server_with_manual_disk_config - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_specify_keypair - test: tempest.api.compute.servers.test_availability_zone.AZV2TestJSON.test_get_availability_zone_list_with_non_admin_user - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.test_add_remove_fixed_ip - test: tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_update_server_from_auto_to_manual - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_active_server - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_with_existing_server_name - test: tempest.api.compute.servers.test_create_server_multi_nic.ServersTestMultiNic.test_verify_duplicate_network_nics - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_attached_volume - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_update_access_server_address - test: tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_server_security_groups - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesV270Test.test_create_get_list_interfaces - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume - test: tempest.api.compute.servers.test_create_server_multi_nic.ServersTestMultiNic.test_verify_multiple_nics_order - test: tempest.api.compute.servers.test_servers_microversions.ServerShowV257Test.test_rebuild_server - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_list_get_volume_attachments - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_pause_state - test: tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest_v242.test_tagged_boot_devices - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_shelved_state - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server - test: tempest.api.compute.servers.test_server_actions.ServersAaction247Test.test_create_backup - test: tempest.api.compute.admin.test_volume.AttachSCSIVolumeTestJSON.test_attach_scsi_disk_with_config_drive - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_shutoff_state - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server - test: tempest.api.compute.servers.test_servers_microversions.ServerShowV254Test.test_rebuild_server - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_suspended_state - test: tempest.api.compute.servers.test_servers.ServerShowV247Test.test_update_rebuild_list_server - test: tempest.api.compute.servers.test_server_group.ServerGroupTestJSON.test_create_server_with_scheduler_hint_group - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_paused_server - test: tempest.api.compute.servers.test_instance_actions.InstanceActionsV221TestJSON.test_get_list_deleted_instance_actions - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_stopped_server - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_suspended_server - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_server_from_snapshot - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_detach_volume_shelved_or_offload_server - test: tempest.api.compute.floating_ips.test_list_floating_ips.FloatingIPDetailsTestJSON - test: tempest.api.compute.images.test_images_oneserver_negative.ImagesOneServerNegativeTestJSON - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsAssociationTestJSON - test: tempest.api.compute.servers.test_server_addresses_negative.ServerAddressesNegativeTestJSON - test: tempest.api.compute.floating_ips.test_floating_ips_actions_negative.FloatingIPsAssociationNegativeTestJSON - test: tempest.api.compute.servers.test_server_metadata_negative.ServerMetadataNegativeTestJSON - test: tempest.api.compute.servers.test_instance_actions_negative.InstanceActionsNegativeTestJSON - test: tempest.api.compute.servers.test_servers_negative.ServersNegativeTestMultiTenantJSON - test: tempest.api.compute.servers.test_list_servers_negative.ListServersNegativeTestJSON - test: tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON - test: tempest.api.compute.admin.test_availability_zone.AZAdminV2TestJSON.test_get_availability_zone_list - test: manila_tempest_tests.tests.api.test_share_network_subnets.ShareNetworkSubnetsTest.test_create_delete_subnet - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_live_block_migration_suspended - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_invalid_host_for_migration - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodeProtected.test_node_protected deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_allocations.TestBackfill.test_backfill_allocation deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodeProtected.test_node_protected_from_deletion deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_allocations.TestBackfill.test_backfill_without_resource_class deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodeProtected.test_node_protected_negative deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodesProtectedOldApi.test_node_protected_old_api deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodeProtected.test_node_protected_set_unset deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodestates.TestNodeStatesV1_4.test_set_node_provision_state deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodesVif.test_vif_already_set deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodesVif.test_vif_on_port deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodestates.TestNodeStatesV1_1.test_set_node_provision_state deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestNodesVif.test_vif_on_portgroup deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestHardwareInterfaces.test_reset_interfaces deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodes.TestResetInterfaces.test_reset_interfaces deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodestates.TestNodeStatesV1_6.test_set_node_provision_state deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodestates.TestNodeStatesV1_11.test_set_node_provision_state deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator - test: ironic_tempest_plugin.tests.api.admin.test_nodestates.TestNodeStatesV1_2.test_set_node_provision_state deployment: - overcloud releases: - name: master reason: Not supported lp: http://no.bug jobs: - ironic-operator, - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeUnderV252Test.test_search_hypervisor_with_non_admin_user - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_list - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_list_details - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeUnderV252Test.test_show_servers_with_non_admin_user - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_existent_host - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminTestJSON.test_get_hypervisor_show_details - test: tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_create_no_allocate - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_add_host_as_user - test: tempest.api.compute.admin.test_auto_allocate_network.AutoAllocateNetworkTest.test_server_multi_create_auto_allocate - test: tempest.api.compute.admin.test_delete_server.DeleteServersAdminTestJSON.test_admin_delete_servers_of_others - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeTestJSON.test_get_hypervisor_uptime_with_non_admin_user - test: tempest.api.compute.admin.test_hypervisor_negative.HypervisorAdminNegativeTestJSON.test_show_hypervisor_with_non_admin_user - test: tempest.api.compute.admin.test_delete_server.DeleteServersAdminTestJSON.test_delete_server_while_in_error_state - test: tempest.api.compute.admin.test_aggregates_negative.AggregatesAdminNegativeTestJSON.test_aggregate_remove_host_as_user - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminUnderV252Test.test_get_hypervisor_show_servers - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminUnderV252Test.test_search_hypervisor - test: tempest.api.compute.admin.test_services.ServicesAdminTestJSON.test_get_service_by_service_binary_name - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminV253TestBase.test_list_show_detail_hypervisors - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_body - test: tempest.api.compute.admin.test_servers.ServersAdmin275Test.test_rebuild_update_server_275 - test: tempest.api.compute.admin.test_hypervisor.HypervisorAdminV228Test.test_get_list_hypervisor_details - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest.test_update_attached_volume_with_nonexistent_volume_in_uri - test: tempest.api.compute.images.test_images_negative.ImagesNegativeTestJSON.test_create_image_from_deleted_server - test: tempest.api.compute.admin.test_server_external_events.ServerExternalEventsTest.test_create_server_external_events - test: tempest.api.compute.admin.test_server_diagnostics.ServerDiagnosticsTest.test_get_server_diagnostics - test: tempest.api.compute.admin.test_create_server.ServersWithSpecificFlavorTestJSON.test_verify_created_server_ephemeral_disk - test: tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest.test_tagged_boot_devices - test: tempest.api.compute.admin.test_server_diagnostics.ServerDiagnosticsV248Test.test_get_server_diagnostics - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsTestJSON.test_allocate_floating_ip - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_server_specify_multibyte_character_name - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsTestJSON.test_delete_floating_ip - test: tempest.api.compute.admin.test_server_diagnostics_negative.ServerDiagnosticsNegativeTest.test_get_server_diagnostics_by_non_admin - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_create_list_show_delete_interfaces_by_fixed_ip - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_create_list_show_delete_interfaces_by_network_port - test: tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_list_security_groups_by_server - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_rebuild_server_with_auto_disk_config - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_server_with_ipv6_addr_only - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_reassign_port_between_servers - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_rebuild_server_with_manual_disk_config - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_specify_keypair - test: tempest.api.compute.servers.test_availability_zone.AZV2TestJSON.test_get_availability_zone_list_with_non_admin_user - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.test_add_remove_fixed_ip - test: tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment - test: tempest.api.compute.servers.test_disk_config.ServerDiskConfigTestJSON.test_update_server_from_auto_to_manual - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_active_server - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_create_with_existing_server_name - test: tempest.api.compute.servers.test_create_server_multi_nic.ServersTestMultiNic.test_verify_duplicate_network_nics - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_attached_volume - test: tempest.api.compute.servers.test_servers.ServersTestJSON.test_update_access_server_address - test: tempest.api.compute.security_groups.test_security_groups.SecurityGroupsTestJSON.test_server_security_groups - test: tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesV270Test.test_create_get_list_interfaces - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume - test: tempest.api.compute.servers.test_create_server_multi_nic.ServersTestMultiNic.test_verify_multiple_nics_order - test: tempest.api.compute.servers.test_servers_microversions.ServerShowV257Test.test_rebuild_server - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_list_get_volume_attachments - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_pause_state - test: tempest.api.compute.servers.test_device_tagging.TaggedBootDevicesTest_v242.test_tagged_boot_devices - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_shelved_state - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server - test: tempest.api.compute.servers.test_server_actions.ServersAaction247Test.test_create_backup - test: tempest.api.compute.admin.test_volume.AttachSCSIVolumeTestJSON.test_attach_scsi_disk_with_config_drive - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_shutoff_state - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server - test: tempest.api.compute.servers.test_servers_microversions.ServerShowV254Test.test_rebuild_server - test: tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume - test: tempest.api.compute.servers.test_delete_server.DeleteServersTestJSON.test_delete_server_while_in_suspended_state - test: tempest.api.compute.servers.test_servers.ServerShowV247Test.test_update_rebuild_list_server - test: tempest.api.compute.servers.test_server_group.ServerGroupTestJSON.test_create_server_with_scheduler_hint_group - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_paused_server - test: tempest.api.compute.servers.test_instance_actions.InstanceActionsV221TestJSON.test_get_list_deleted_instance_actions - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_stopped_server - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_image_from_suspended_server - test: tempest.api.compute.images.test_images.ImagesTestJSON.test_create_server_from_snapshot - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server - test: tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_detach_volume_shelved_or_offload_server - test: tempest.api.compute.floating_ips.test_list_floating_ips.FloatingIPDetailsTestJSON - test: tempest.api.compute.images.test_images_oneserver_negative.ImagesOneServerNegativeTestJSON - test: tempest.api.compute.floating_ips.test_floating_ips_actions.FloatingIPsAssociationTestJSON - test: tempest.api.compute.servers.test_server_addresses_negative.ServerAddressesNegativeTestJSON - test: tempest.api.compute.floating_ips.test_floating_ips_actions_negative.FloatingIPsAssociationNegativeTestJSON - test: tempest.api.compute.servers.test_server_metadata_negative.ServerMetadataNegativeTestJSON - test: tempest.api.compute.servers.test_instance_actions_negative.InstanceActionsNegativeTestJSON - test: tempest.api.compute.servers.test_servers_negative.ServersNegativeTestMultiTenantJSON - test: tempest.api.compute.servers.test_list_servers_negative.ListServersNegativeTestJSON - test: tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON - test: tempest.api.compute.admin.test_availability_zone.AZAdminV2TestJSON.test_get_availability_zone_list - test: manila_tempest_tests.tests.api.test_share_network_subnets.ShareNetworkSubnetsTest.test_create_delete_subnet - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_live_block_migration_suspended - test: tempest.api.compute.admin.test_live_migration_negative.LiveMigrationNegativeTest.test_invalid_host_for_migration,347,89
openstack%2Ftrove~master~I264235ce7b7df585358654c46bdac4dcd743fb3d,openstack/trove,master,I264235ce7b7df585358654c46bdac4dcd743fb3d,synchronize guest logs to controller node,MERGED,2023-06-07 09:53:51.000000000,2023-06-13 13:14:39.000000000,2023-06-13 13:12:53.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-07 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f53d2456e0fc78e13cf7ac397a824d21be3d8c2c', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timers triggers\nguest-log-collection service every 10 secondes\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 2, 'created': '2023-06-07 11:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/18c26cf083f902cc9e766a3a532e68ee159e28a4', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timers triggers\nguest-log-collection service every 10 secondes\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 3, 'created': '2023-06-07 13:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4aeabf043d9fa15cae167355e36ba867c3132558', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 4, 'created': '2023-06-07 15:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c484c54ce99c444ed44acc2eb879082af77a896f', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 5, 'created': '2023-06-08 02:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/00f6e326d89fb9ee3769b4be991f1402349951ed', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 6, 'created': '2023-06-08 07:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e6a7f714165b015a8cda6c128bf69887a83954ab', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 7, 'created': '2023-06-08 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/aa728d5d5e555ff1e41fe60139a31d5b784cda4f', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 8, 'created': '2023-06-09 02:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d75ee097558d088f9ef0f6132d8343ab85bfd029', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 9, 'created': '2023-06-09 15:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6d4dc2dee90d6ce33003540daad108f92a21fb31', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}, {'number': 10, 'created': '2023-06-13 02:39:44.000000000', 'files': ['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/31-guest-agent-install', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-log-collection.timer', 'integration/scripts/files/elements/guest-agent/post-install.d/31-enable-guest-agent-systemd', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'zuul.d/jobs.yaml', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-log-collection.service'], 'web_link': 'https://opendev.org/openstack/trove/commit/09fd606163017aaa4e09e577da7080aff5a1d774', 'message': 'synchronize guest logs to controller node\n\nuse rsync to synchronize guest logs to the controller node so that we can\nfind the logs even after the instance is deleted\n\nAdd a guest-log-collection timer, this timer triggers\nguest-log-collection service every 10 seconds\n\nChange-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d\n'}]",1,885452,09fd606163017aaa4e09e577da7080aff5a1d774,34,2,10,26285,,,0,"synchronize guest logs to controller node

use rsync to synchronize guest logs to the controller node so that we can
find the logs even after the instance is deleted

Add a guest-log-collection timer, this timer triggers
guest-log-collection service every 10 seconds

Change-Id: I264235ce7b7df585358654c46bdac4dcd743fb3d
",git fetch https://review.opendev.org/openstack/trove refs/changes/52/885452/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/31-guest-agent-install', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-log-collection.timer', 'integration/scripts/files/elements/guest-agent/post-install.d/31-enable-guest-agent-systemd', 'devstack/plugin.sh', 'zuul.d/projects.yaml', 'integration/scripts/functions_qemu', 'zuul.d/jobs.yaml', 'integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-log-collection.service']",8,f53d2456e0fc78e13cf7ac397a824d21be3d8c2c,,"[Unit] Description=OpenStack Trove Guest Log Collection Service [Service] Type=oneshot User=ubuntu Group=ubuntu EnvironmentFile=/etc/trove/controller.conf EnvironmentFile=/etc/trove/conf.d/guest_info.conf ExecStart=/bin/bash -c ""sudo rsync -e 'ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/GUEST_USERNAME/.ssh/id_rsa' -az --exclude='.*' /var/log /var/lib/docker/containers HOST_SCP_USERNAME@$CONTROLLER:/var/log/guest-agent-logs/$guest_id""",,43,6
openstack%2Fcharm-cinder-k8s~main~I17834094603a7b829ac3f9e6f836fa2f6d63b488,openstack/charm-cinder-k8s,main,I17834094603a7b829ac3f9e6f836fa2f6d63b488,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:29:56.000000000,2023-06-13 12:39:29.000000000,2023-06-13 11:50:15.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:29:56.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_cinder_charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/dcd7796a15d93a2f6a0ba2d7d898c4d8bc138c44', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: I17834094603a7b829ac3f9e6f836fa2f6d63b488\n'}]",0,885951,dcd7796a15d93a2f6a0ba2d7d898c4d8bc138c44,7,2,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: I17834094603a7b829ac3f9e6f836fa2f6d63b488
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/51/885951/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_cinder_charm.py', 'fetch-libs.sh']",3,dcd7796a15d93a2f6a0ba2d7d898c4d8bc138c44,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,1,349
openstack%2Fcharm-nova-k8s~main~Ifcc402147e8d0ce7285d50129c35d3ece10ed891,openstack/charm-nova-k8s,main,Ifcc402147e8d0ce7285d50129c35d3ece10ed891,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:36:25.000000000,2023-06-13 12:32:28.000000000,2023-06-13 11:49:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:36:25.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_nova_charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/a9e2e7ed1e4f517adb9940a3d1f8a5e88f778da9', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: Ifcc402147e8d0ce7285d50129c35d3ece10ed891\n'}]",0,885955,a9e2e7ed1e4f517adb9940a3d1f8a5e88f778da9,7,2,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: Ifcc402147e8d0ce7285d50129c35d3ece10ed891
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/55/885955/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_nova_charm.py', 'fetch-libs.sh']",3,a9e2e7ed1e4f517adb9940a3d1f8a5e88f778da9,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,1,349
openstack%2Fcharm-ironic-conductor~stable%2F2023.1~Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,openstack/charm-ironic-conductor,stable/2023.1,Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,Add support for using service tokens,MERGED,2023-06-07 22:09:30.000000000,2023-06-13 12:31:23.000000000,2023-06-13 12:31:23.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/fbdcdd91aac2e46489e20b4605ed2ebbaf4f9a79', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)\n'}, {'number': 2, 'created': '2023-06-08 18:58:50.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2af6acd1a784b45b2017ab93419403d95e479252', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/antelope\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)\n'}]",2,885474,2af6acd1a784b45b2017ab93419403d95e479252,13,4,2,2424,,,0,"Add support for using service tokens

This patch configures ironic-conductor to send a service token along
with the received user token on requests to other services. This allow
those other services to accept the request even if the user token has
been invalidated since received by Ironic. Also with this patch Ironic
will accept request from other services with invalid user tokens but
valid service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/antelope

Closes-Bug: #1992840
Change-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9
(cherry picked from commit c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/74/885474/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,fbdcdd91aac2e46489e20b4605ed2ebbaf4f9a79,bug/1992840-stable/2023.1,service_token_roles = {{ identity_credentials.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fcharm-cinder-purestorage~stable%2Fzed~If7996dc12b8c0adac367bc37acb7df77035d7913,openstack/charm-cinder-purestorage,stable/zed,If7996dc12b8c0adac367bc37acb7df77035d7913,Remove charm artefact and ensure ignored,MERGED,2022-11-10 12:05:19.000000000,2023-06-13 12:28:55.000000000,2023-06-13 12:28:55.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 12:05:19.000000000', 'files': ['.gitignore', 'cinder-purestorage_ubuntu-22.04-amd64_ubuntu-22.10-amd64.charm'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/a2b7bfadbbae67c8c201edabea58805aa957a869', 'message': 'Remove charm artefact and ensure ignored\n\nThe charm artefact (*.charm) has ended up in the repository. Remove it,\nand make sure the .gitignore ensures that it will not be added again.\n\nChange-Id: If7996dc12b8c0adac367bc37acb7df77035d7913\n'}]",5,864198,a2b7bfadbbae67c8c201edabea58805aa957a869,14,4,1,20870,,,0,"Remove charm artefact and ensure ignored

The charm artefact (*.charm) has ended up in the repository. Remove it,
and make sure the .gitignore ensures that it will not be added again.

Change-Id: If7996dc12b8c0adac367bc37acb7df77035d7913
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/98/864198/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'cinder-purestorage_ubuntu-22.04-amd64_ubuntu-22.10-amd64.charm']",2,a2b7bfadbbae67c8c201edabea58805aa957a869,remove-charm-artefact-zed,,,1,0
openstack%2Fcharm-glance-k8s~main~I0077b5a5b0d6cb6f06fb5020df0a9e4fd6ed9647,openstack/charm-glance-k8s,main,I0077b5a5b0d6cb6f06fb5020df0a9e4fd6ed9647,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:32:26.000000000,2023-06-13 12:26:00.000000000,2023-06-13 11:55:13.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:32:26.000000000', 'files': ['tests/unit/test_glance_charm.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/9e749ee2e109e99c63b3f544a780c22da0a98de9', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: I0077b5a5b0d6cb6f06fb5020df0a9e4fd6ed9647\n'}]",0,885952,9e749ee2e109e99c63b3f544a780c22da0a98de9,7,2,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: I0077b5a5b0d6cb6f06fb5020df0a9e4fd6ed9647
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/52/885952/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_glance_charm.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh']",3,9e749ee2e109e99c63b3f544a780c22da0a98de9,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,2,354
openstack%2Fcharm-placement-k8s~main~Id130c673e13f0ed8efcf3fbbd7ebc50ac4724200,openstack/charm-placement-k8s,main,Id130c673e13f0ed8efcf3fbbd7ebc50ac4724200,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:48:12.000000000,2023-06-13 12:23:12.000000000,2023-06-13 11:50:28.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:48:12.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_placement_charm.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/23085e99fdc7e56a5bbe72b7dec7b9370b8b0461', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: Id130c673e13f0ed8efcf3fbbd7ebc50ac4724200\n'}]",0,885957,23085e99fdc7e56a5bbe72b7dec7b9370b8b0461,7,2,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: Id130c673e13f0ed8efcf3fbbd7ebc50ac4724200
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/57/885957/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_placement_charm.py', 'fetch-libs.sh']",3,23085e99fdc7e56a5bbe72b7dec7b9370b8b0461,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,1,349
openstack%2Fcharm-neutron-k8s~main~I1ea4e48b78c5ad8e9216d612f8e9b849a25b708a,openstack/charm-neutron-k8s,main,I1ea4e48b78c5ad8e9216d612f8e9b849a25b708a,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:34:04.000000000,2023-06-13 12:20:59.000000000,2023-06-13 11:55:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:34:04.000000000', 'files': ['tests/unit/test_neutron_charm.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/106f3571a8c043c519f8bde0ba94c90e8eaa5663', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: I1ea4e48b78c5ad8e9216d612f8e9b849a25b708a\n'}]",0,885954,106f3571a8c043c519f8bde0ba94c90e8eaa5663,7,2,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: I1ea4e48b78c5ad8e9216d612f8e9b849a25b708a
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/54/885954/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_neutron_charm.py', 'lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh']",3,106f3571a8c043c519f8bde0ba94c90e8eaa5663,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,1,349
openstack%2Fcharm-horizon-k8s~main~I46480db740a72e21b0b7d5a862d79af612093e29,openstack/charm-horizon-k8s,main,I46480db740a72e21b0b7d5a862d79af612093e29,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-12 14:55:31.000000000,2023-06-13 12:20:27.000000000,2023-06-13 11:49:28.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 14:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/eb53441aa44878eadb6f7bc942eb7cac0c12266a', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: I46480db740a72e21b0b7d5a862d79af612093e29\n'}, {'number': 2, 'created': '2023-06-13 09:24:27.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'tests/unit/test_horizon_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/7a5c391b6593a131d8b9c6f2a1663667f480280f', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: I46480db740a72e21b0b7d5a862d79af612093e29\n'}]",0,885888,7a5c391b6593a131d8b9c6f2a1663667f480280f,11,3,2,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: I46480db740a72e21b0b7d5a862d79af612093e29
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/88/885888/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms/observability_libs/v1/kubernetes_service_patch.py'],1,eb53441aa44878eadb6f7bc942eb7cac0c12266a,feat/open-ports,,"# Copyright 2021 Canonical Ltd. # See LICENSE file for licensing details. """"""# KubernetesServicePatch Library. This library is designed to enable developers to more simply patch the Kubernetes Service created by Juju during the deployment of a sidecar charm. When sidecar charms are deployed, Juju creates a service named after the application in the namespace (named after the Juju model). This service by default contains a ""placeholder"" port, which is 65536/TCP. When modifying the default set of resources managed by Juju, one must consider the lifecycle of the charm. In this case, any modifications to the default service (created during deployment), will be overwritten during a charm upgrade. When initialised, this library binds a handler to the parent charm's `install` and `upgrade_charm` events which applies the patch to the cluster. This should ensure that the service ports are correct throughout the charm's life. The constructor simply takes a reference to the parent charm, and a list of [`lightkube`](https://github.com/gtsystem/lightkube) ServicePorts that each define a port for the service. For information regarding the `lightkube` `ServicePort` model, please visit the `lightkube` [docs](https://gtsystem.github.io/lightkube-models/1.23/models/core_v1/#serviceport). Optionally, a name of the service (in case service name needs to be patched as well), labels, selectors, and annotations can be provided as keyword arguments. ## Getting Started To get started using the library, you just need to fetch the library using `charmcraft`. **Note that you also need to add `lightkube` and `lightkube-models` to your charm's `requirements.txt`.** ```shell cd some-charm charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch cat << EOF >> requirements.txt lightkube lightkube-models EOF ``` Then, to initialise the library: For `ClusterIP` services: ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(443, name=f""{self.app.name}"") self.service_patcher = KubernetesServicePatch(self, [port]) # ... ``` For `LoadBalancer`/`NodePort` services: ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(443, name=f""{self.app.name}"", targetPort=443, nodePort=30666) self.service_patcher = KubernetesServicePatch( self, [port], ""LoadBalancer"" ) # ... ``` Port protocols can also be specified. Valid protocols are `""TCP""`, `""UDP""`, and `""SCTP""` ```python # ... from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... tcp = ServicePort(443, name=f""{self.app.name}-tcp"", protocol=""TCP"") udp = ServicePort(443, name=f""{self.app.name}-udp"", protocol=""UDP"") sctp = ServicePort(443, name=f""{self.app.name}-sctp"", protocol=""SCTP"") self.service_patcher = KubernetesServicePatch(self, [tcp, udp, sctp]) # ... ``` Bound with custom events by providing `refresh_event` argument: For example, you would like to have a configurable port in your charm and want to apply service patch every time charm config is changed. ```python from charms.observability_libs.v1.kubernetes_service_patch import KubernetesServicePatch from lightkube.models.core_v1 import ServicePort class SomeCharm(CharmBase): def __init__(self, *args): # ... port = ServicePort(int(self.config[""charm-config-port""]), name=f""{self.app.name}"") self.service_patcher = KubernetesServicePatch( self, [port], refresh_event=self.on.config_changed ) # ... ``` Additionally, you may wish to use mocks in your charm's unit testing to ensure that the library does not try to make any API calls, or open any files during testing that are unlikely to be present, and could break your tests. The easiest way to do this is during your test `setUp`: ```python # ... @patch(""charm.KubernetesServicePatch"", lambda x, y: None) def setUp(self, *unused): self.harness = Harness(SomeCharm) # ... ``` """""" import logging from types import MethodType from typing import List, Literal, Optional, Union from lightkube import ApiError, Client from lightkube.core import exceptions from lightkube.models.core_v1 import ServicePort, ServiceSpec from lightkube.models.meta_v1 import ObjectMeta from lightkube.resources.core_v1 import Service from lightkube.types import PatchType from ops.charm import CharmBase from ops.framework import BoundEvent, Object logger = logging.getLogger(__name__) # The unique Charmhub library identifier, never change it LIBID = ""0042f86d0a874435adef581806cddbbb"" # Increment this major API version when introducing breaking changes LIBAPI = 1 # Increment this PATCH version before using `charmcraft publish-lib` or reset # to 0 if you are raising the major API version LIBPATCH = 6 ServiceType = Literal[""ClusterIP"", ""LoadBalancer""] class KubernetesServicePatch(Object): """"""A utility for patching the Kubernetes service set up by Juju."""""" def __init__( self, charm: CharmBase, ports: List[ServicePort], service_name: Optional[str] = None, service_type: ServiceType = ""ClusterIP"", additional_labels: Optional[dict] = None, additional_selectors: Optional[dict] = None, additional_annotations: Optional[dict] = None, *, refresh_event: Optional[Union[BoundEvent, List[BoundEvent]]] = None, ): """"""Constructor for KubernetesServicePatch. Args: charm: the charm that is instantiating the library. ports: a list of ServicePorts service_name: allows setting custom name to the patched service. If none given, application name will be used. service_type: desired type of K8s service. Default value is in line with ServiceSpec's default value. additional_labels: Labels to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_selectors: Selectors to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_annotations: Annotations to be added to the kubernetes service. refresh_event: an optional bound event or list of bound events which will be observed to re-apply the patch (e.g. on port change). The `install` and `upgrade-charm` events would be observed regardless. """""" super().__init__(charm, ""kubernetes-service-patch"") self.charm = charm self.service_name = service_name if service_name else self._app self.service = self._service_object( ports, service_name, service_type, additional_labels, additional_selectors, additional_annotations, ) # Make mypy type checking happy that self._patch is a method assert isinstance(self._patch, MethodType) # Ensure this patch is applied during the 'install' and 'upgrade-charm' events self.framework.observe(charm.on.install, self._patch) self.framework.observe(charm.on.upgrade_charm, self._patch) self.framework.observe(charm.on.update_status, self._patch) # apply user defined events if refresh_event: if not isinstance(refresh_event, list): refresh_event = [refresh_event] for evt in refresh_event: self.framework.observe(evt, self._patch) def _service_object( self, ports: List[ServicePort], service_name: Optional[str] = None, service_type: ServiceType = ""ClusterIP"", additional_labels: Optional[dict] = None, additional_selectors: Optional[dict] = None, additional_annotations: Optional[dict] = None, ) -> Service: """"""Creates a valid Service representation. Args: ports: a list of ServicePorts service_name: allows setting custom name to the patched service. If none given, application name will be used. service_type: desired type of K8s service. Default value is in line with ServiceSpec's default value. additional_labels: Labels to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_selectors: Selectors to be added to the kubernetes service (by default only ""app.kubernetes.io/name"" is set to the service name) additional_annotations: Annotations to be added to the kubernetes service. Returns: Service: A valid representation of a Kubernetes Service with the correct ports. """""" if not service_name: service_name = self._app labels = {""app.kubernetes.io/name"": self._app} if additional_labels: labels.update(additional_labels) selector = {""app.kubernetes.io/name"": self._app} if additional_selectors: selector.update(additional_selectors) return Service( apiVersion=""v1"", kind=""Service"", metadata=ObjectMeta( namespace=self._namespace, name=service_name, labels=labels, annotations=additional_annotations, # type: ignore[arg-type] ), spec=ServiceSpec( selector=selector, ports=ports, type=service_type, ), ) def _patch(self, _) -> None: """"""Patch the Kubernetes service created by Juju to map the correct port. Raises: PatchFailed: if patching fails due to lack of permissions, or otherwise. """""" try: client = Client() except exceptions.ConfigError as e: logger.warning(""Error creating k8s client: %s"", e) return try: if self._is_patched(client): return if self.service_name != self._app: self._delete_and_create_service(client) client.patch(Service, self.service_name, self.service, patch_type=PatchType.MERGE) except ApiError as e: if e.status.code == 403: logger.error(""Kubernetes service patch failed: `juju trust` this application."") else: logger.error(""Kubernetes service patch failed: %s"", str(e)) else: logger.info(""Kubernetes service '%s' patched successfully"", self._app) def _delete_and_create_service(self, client: Client): service = client.get(Service, self._app, namespace=self._namespace) service.metadata.name = self.service_name # type: ignore[attr-defined] service.metadata.resourceVersion = service.metadata.uid = None # type: ignore[attr-defined] # noqa: E501 client.delete(Service, self._app, namespace=self._namespace) client.create(service) def is_patched(self) -> bool: """"""Reports if the service patch has been applied. Returns: bool: A boolean indicating if the service patch has been applied. """""" client = Client() return self._is_patched(client) def _is_patched(self, client: Client) -> bool: # Get the relevant service from the cluster try: service = client.get(Service, name=self.service_name, namespace=self._namespace) except ApiError as e: if e.status.code == 404 and self.service_name != self._app: return False else: logger.error(""Kubernetes service get failed: %s"", str(e)) raise # Construct a list of expected ports, should the patch be applied expected_ports = [(p.port, p.targetPort) for p in self.service.spec.ports] # Construct a list in the same manner, using the fetched service fetched_ports = [ (p.port, p.targetPort) for p in service.spec.ports # type: ignore[attr-defined] ] # noqa: E501 return expected_ports == fetched_ports @property def _app(self) -> str: """"""Name of the current Juju application. Returns: str: A string containing the name of the current Juju application. """""" return self.charm.app.name @property def _namespace(self) -> str: """"""The Kubernetes namespace we're running in. Returns: str: A string containing the name of the current Kubernetes namespace. """""" with open(""/var/run/secrets/kubernetes.io/serviceaccount/namespace"", ""r"") as f: return f.read().strip() ",0,342
openstack%2Fcharm-cinder-k8s~main~If4f3168b69caffeebe4f0a3fc554a05aef31e31a,openstack/charm-cinder-k8s,main,If4f3168b69caffeebe4f0a3fc554a05aef31e31a,Default logging to stdout,MERGED,2023-06-12 11:25:43.000000000,2023-06-13 12:14:54.000000000,2023-06-13 11:49:05.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 11:25:43.000000000', 'files': ['src/templates/wsgi-cinder-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/c64d026291b9652f91d585cd47ff3c10a57376a9', 'message': 'Default logging to stdout\n\nChange-Id: If4f3168b69caffeebe4f0a3fc554a05aef31e31a\n'}]",0,885863,c64d026291b9652f91d585cd47ff3c10a57376a9,7,2,1,35761,,,0,"Default logging to stdout

Change-Id: If4f3168b69caffeebe4f0a3fc554a05aef31e31a
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/63/885863/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/wsgi-cinder-api.conf.j2'],1,c64d026291b9652f91d585cd47ff3c10a57376a9,feat/log-to-stdout, ErrorLog {{ wsgi_config.error_log }} CustomLog {{ wsgi_config.custom_log }} combined, ErrorLog /var/log/apache2/cinder_error.log CustomLog /var/log/apache2/cinder_access.log combined,2,2
openstack%2Fcharm-cinder-ceph-k8s~main~Ib852a511f0e3fd5e220d083501b3cec48bf4cffd,openstack/charm-cinder-ceph-k8s,main,Ib852a511f0e3fd5e220d083501b3cec48bf4cffd,Remove kubernetes_service_patch in favor of open-port,MERGED,2023-06-13 09:27:51.000000000,2023-06-13 12:12:29.000000000,2023-06-13 11:50:02.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 09:27:51.000000000', 'files': ['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/2c83b9ef1cf7376becc3a34175d78b316ed1c33f', 'message': 'Remove kubernetes_service_patch in favor of open-port\n\nDefining service port is implemented using open-port hook, remove\nkubernetes_service_patch.\n\nChange-Id: Ib852a511f0e3fd5e220d083501b3cec48bf4cffd\n'}]",0,885950,2c83b9ef1cf7376becc3a34175d78b316ed1c33f,8,3,1,35761,,,0,"Remove kubernetes_service_patch in favor of open-port

Defining service port is implemented using open-port hook, remove
kubernetes_service_patch.

Change-Id: Ib852a511f0e3fd5e220d083501b3cec48bf4cffd
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/50/885950/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh']",2,2c83b9ef1cf7376becc3a34175d78b316ed1c33f,feat/open-ports,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,0,343
openstack%2Fcharm-glance-k8s~main~I4da9252b75d03bd4596df6d9f321feed2e79550f,openstack/charm-glance-k8s,main,I4da9252b75d03bd4596df6d9f321feed2e79550f,Default logging to stdout,MERGED,2023-06-12 11:57:27.000000000,2023-06-13 12:09:26.000000000,2023-06-13 11:52:56.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 11:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/5b0dbd0f416e14216a42323594351f8cddb9d443', 'message': 'Default logging to stdout\n\nChange-Id: I4da9252b75d03bd4596df6d9f321feed2e79550f\n'}, {'number': 2, 'created': '2023-06-12 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/dbfc8e4ad9232369b2c0ce7f962be33d6479e47e', 'message': 'Default logging to stdout\n\nChange-Id: I4da9252b75d03bd4596df6d9f321feed2e79550f\n'}, {'number': 3, 'created': '2023-06-12 12:12:59.000000000', 'files': ['src/templates/glance-api.conf.j2', 'src/templates/glance-forwarding.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/51082c3accb6de318922d2dd5ada5b43ba7b81b6', 'message': 'Default logging to stdout\n\nChange-Id: I4da9252b75d03bd4596df6d9f321feed2e79550f\n'}]",2,885864,51082c3accb6de318922d2dd5ada5b43ba7b81b6,13,2,3,35761,,,0,"Default logging to stdout

Change-Id: I4da9252b75d03bd4596df6d9f321feed2e79550f
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/64/885864/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/glance-api.conf.j2', 'src/charm.py', 'src/templates/glance-forwarding.conf.j2']",3,5b0dbd0f416e14216a42323594351f8cddb9d443,feat/log-to-stdout, ErrorLog {{ wsgi_config.error_log }} CustomLog {{ wsgi_config.custom_log }} combined, ErrorLog /var/log/apache2/error.log CustomLog /var/log/apache2/access.log combined,4,4
openstack%2Fcharm-keystone-k8s~main~Idb94bf74581815a4a5d0b4004d1334395ea261f8,openstack/charm-keystone-k8s,main,Idb94bf74581815a4a5d0b4004d1334395ea261f8,Default logging to stdout,MERGED,2023-06-12 11:09:32.000000000,2023-06-13 12:06:53.000000000,2023-06-13 11:45:16.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 11:09:32.000000000', 'files': ['src/templates/logging.conf.j2', 'src/templates/wsgi-keystone.conf.j2', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/d8e1070fadd9d944986a87ac9c87e585ddbd48a9', 'message': 'Default logging to stdout\n\nChange-Id: Idb94bf74581815a4a5d0b4004d1334395ea261f8\n'}]",0,885861,d8e1070fadd9d944986a87ac9c87e585ddbd48a9,7,2,1,35761,,,0,"Default logging to stdout

Change-Id: Idb94bf74581815a4a5d0b4004d1334395ea261f8
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/61/885861/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/logging.conf.j2', 'src/templates/wsgi-keystone.conf.j2', 'src/charm.py']",3,d8e1070fadd9d944986a87ac9c87e585ddbd48a9,feat/log-to-stdout," sunbeam_contexts.WSGIWorkerConfigContext(self, ""wsgi_config""),"," ctxt[""log_file""] = ""/var/log/keystone/keystone.log""",8,8
openstack%2Fcharm-nova-k8s~main~I25e56a11cd2faada901142b6645615bfcb87c469,openstack/charm-nova-k8s,main,I25e56a11cd2faada901142b6645615bfcb87c469,Default logging to stdout,MERGED,2023-06-12 12:21:09.000000000,2023-06-13 12:06:13.000000000,2023-06-13 11:46:39.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 12:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/c579fb82259f4b377b3c4cf7a6d2725ef47bcb10', 'message': 'Default logging to stdout\n\nChange-Id: I25e56a11cd2faada901142b6645615bfcb87c469\n'}, {'number': 2, 'created': '2023-06-12 12:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/bba21db66fea658406b2e3e18b7be5479bb629d1', 'message': 'Default logging to stdout\n\nChange-Id: I25e56a11cd2faada901142b6645615bfcb87c469\n'}, {'number': 3, 'created': '2023-06-12 12:53:43.000000000', 'files': ['src/templates/nova.conf.j2', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/5cd2cb95bdc1393024efbca2d049d13904082747', 'message': 'Default logging to stdout\n\nChange-Id: I25e56a11cd2faada901142b6645615bfcb87c469\n'}]",0,885866,5cd2cb95bdc1393024efbca2d049d13904082747,9,2,3,35761,,,0,"Default logging to stdout

Change-Id: I25e56a11cd2faada901142b6645615bfcb87c469
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/66/885866/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/nova.conf.j2', 'src/charm.py']",2,c579fb82259f4b377b3c4cf7a6d2725ef47bcb10,feat/log-to-stdout," ""error_log"": ""/dev/stdout"", ""custom_log"": ""/dev/stdout"","," ""error_log"": f""/var/log/apache2/{log_svc_name}_error.log"", ""custom_log"": f""/var/log/apache2/{log_svc_name}_access.log"",",2,3
openstack%2Fcharm-placement-k8s~main~I5a3090e2f49232fdaff6a5900b8d056c4da83895,openstack/charm-placement-k8s,main,I5a3090e2f49232fdaff6a5900b8d056c4da83895,Default logging to stdout,MERGED,2023-06-12 12:38:48.000000000,2023-06-13 12:05:53.000000000,2023-06-13 11:50:27.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 12:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/fb344dc4a1bc5fd1a81a34a2bc47cf9fe5c7f46c', 'message': 'Default logging to stdout\n\nEmpty commit to get changes from ops-sunbeam.\n\nChange-Id: I5a3090e2f49232fdaff6a5900b8d056c4da83895\n'}]",0,885873,fb344dc4a1bc5fd1a81a34a2bc47cf9fe5c7f46c,7,2,1,35761,,,0,"Default logging to stdout

Empty commit to get changes from ops-sunbeam.

Change-Id: I5a3090e2f49232fdaff6a5900b8d056c4da83895
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/73/885873/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fb344dc4a1bc5fd1a81a34a2bc47cf9fe5c7f46c,feat/log-to-stdout,,,0,0
openstack%2Fcharm-horizon-k8s~main~I1ce1bd3841b8d173e8dbe3a0be99363018de9e04,openstack/charm-horizon-k8s,main,I1ce1bd3841b8d173e8dbe3a0be99363018de9e04,Default logging to stdout,MERGED,2023-06-12 10:08:10.000000000,2023-06-13 12:04:50.000000000,2023-06-13 11:48:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 10:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/834a0787cef11daa0a732bc32c9f794d89336608', 'message': 'Default logging to stdout\n\nChange-Id: I1ce1bd3841b8d173e8dbe3a0be99363018de9e04\n'}, {'number': 2, 'created': '2023-06-12 11:07:45.000000000', 'files': ['src/templates/local_settings.py.j2', 'src/templates/wsgi-horizon.conf', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/2bd44b3323389fc19a43225074aad6556c038faf', 'message': 'Default logging to stdout\n\nDisable other-vhost-access-log to make them output to default location\nset as stdout.\n\nChange-Id: I1ce1bd3841b8d173e8dbe3a0be99363018de9e04\n'}]",0,885856,2bd44b3323389fc19a43225074aad6556c038faf,11,3,2,35761,,,0,"Default logging to stdout

Disable other-vhost-access-log to make them output to default location
set as stdout.

Change-Id: I1ce1bd3841b8d173e8dbe3a0be99363018de9e04
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/56/885856/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/local_settings.py.j2', 'src/templates/wsgi-horizon.conf']",2,834a0787cef11daa0a732bc32c9f794d89336608,feat/log-to-stdout,ErrorLog {{ wsgi_config.error_log }} CustomLog {{ wsgi_config.custom_log }} combined ,,16,13
openstack%2Fcharm-neutron-k8s~main~Id778e62c938afbca7ed67fedbd5c48d6e388a28d,openstack/charm-neutron-k8s,main,Id778e62c938afbca7ed67fedbd5c48d6e388a28d,Default logging to stdout,MERGED,2023-06-12 12:05:55.000000000,2023-06-13 12:03:56.000000000,2023-06-13 11:48:08.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 12:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/150bb5f0c1c4fe49fa2a852799ef98a1f5376455', 'message': 'Default logging to stdout\n\nChange-Id: Id778e62c938afbca7ed67fedbd5c48d6e388a28d\n'}, {'number': 2, 'created': '2023-06-12 12:16:47.000000000', 'files': ['src/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/020ae7f51be2080cb7e2755d036978da1a0b6ede', 'message': 'Default logging to stdout\n\nChange-Id: Id778e62c938afbca7ed67fedbd5c48d6e388a28d\n'}]",1,885865,020ae7f51be2080cb7e2755d036978da1a0b6ede,10,2,2,35761,,,0,"Default logging to stdout

Change-Id: Id778e62c938afbca7ed67fedbd5c48d6e388a28d
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/65/885865/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/neutron.conf.j2'],1,150bb5f0c1c4fe49fa2a852799ef98a1f5376455,feat/log-to-stdout,,log_dir = /var/log/neutron,0,1
openstack%2Fironic~bugfix%2F18.1~I774c459a5e11b7cd01f7a65754d5a2c7cc573476,openstack/ironic,bugfix/18.1,I774c459a5e11b7cd01f7a65754d5a2c7cc573476,[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode,ABANDONED,2023-06-05 09:30:49.000000000,2023-06-13 11:35:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 09:30:49.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d2e224140782e925c5c63348a64830a054ae535', 'message': '[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes a condition where iRMC driver interfaces would have\nthe FIPS enforcement logic check applied if the SNMP version was not\nset to SNMP v3, even if the interfaces did not use SNMP.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)\n(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)\n(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)\n(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)\n(cherry picked from commit 8caf63a8484e903659f1e4808b9c1f0f3856ea05)\n(cherry picked from commit 930532db2a4c4155ff560d6bf4b8a5c3043807e5)\n(cherry picked from commit 90cee61553b512b348457b2eca1c09a7069e273a)\n(cherry picked from commit 7a535b800f19828f6a133500d5cd3d9bd9bed288)\n'}]",0,885244,7d2e224140782e925c5c63348a64830a054ae535,3,1,1,30566,,,0,"[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode

This patch fixes a condition where iRMC driver interfaces would have
the FIPS enforcement logic check applied if the SNMP version was not
set to SNMP v3, even if the interfaces did not use SNMP.

With this patch, if FIPS enabled, iRMC driver enforces SNMP
version to be version 3 only when any xxx_interface of iRMC
driver actually uses SNMP.

Story: 2010713
Task: 47879
Change-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476
(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)
(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)
(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)
(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)
(cherry picked from commit 8caf63a8484e903659f1e4808b9c1f0f3856ea05)
(cherry picked from commit 930532db2a4c4155ff560d6bf4b8a5c3043807e5)
(cherry picked from commit 90cee61553b512b348457b2eca1c09a7069e273a)
(cherry picked from commit 7a535b800f19828f6a133500d5cd3d9bd9bed288)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/885244/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml']",3,7d2e224140782e925c5c63348a64830a054ae535,18.1_fix_always_check_snmp_bug,"--- fixes: - | Fixes bug of iRMC driver in parse_driver_info where, if FIPS is enabled, SNMP version is always required to be version 3 even though iRMC driver's xxx_interface doesn't use SNMP actually. ",,62,0
openstack%2Fironic~bugfix%2F19.0~I774c459a5e11b7cd01f7a65754d5a2c7cc573476,openstack/ironic,bugfix/19.0,I774c459a5e11b7cd01f7a65754d5a2c7cc573476,[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode,ABANDONED,2023-06-05 09:18:17.000000000,2023-06-13 11:35:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-05 09:18:17.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/90cee61553b512b348457b2eca1c09a7069e273a', 'message': '[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes a condition where iRMC driver interfaces would have\nthe FIPS enforcement logic check applied if the SNMP version was not\nset to SNMP v3, even if the interfaces did not use SNMP.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)\n(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)\n(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)\n(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)\n(cherry picked from commit 8caf63a8484e903659f1e4808b9c1f0f3856ea05)\n(cherry picked from commit 930532db2a4c4155ff560d6bf4b8a5c3043807e5)\n'}]",5,885239,90cee61553b512b348457b2eca1c09a7069e273a,12,2,1,30566,,,0,"[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode

This patch fixes a condition where iRMC driver interfaces would have
the FIPS enforcement logic check applied if the SNMP version was not
set to SNMP v3, even if the interfaces did not use SNMP.

With this patch, if FIPS enabled, iRMC driver enforces SNMP
version to be version 3 only when any xxx_interface of iRMC
driver actually uses SNMP.

Story: 2010713
Task: 47879
Change-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476
(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)
(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)
(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)
(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)
(cherry picked from commit 8caf63a8484e903659f1e4808b9c1f0f3856ea05)
(cherry picked from commit 930532db2a4c4155ff560d6bf4b8a5c3043807e5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/885239/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml']",3,90cee61553b512b348457b2eca1c09a7069e273a,19.0_fix_always_check_snmp_bug,"--- fixes: - | Fixes bug of iRMC driver in parse_driver_info where, if FIPS is enabled, SNMP version is always required to be version 3 even though iRMC driver's xxx_interface doesn't use SNMP actually. ",,62,0
openstack%2Fironic~bugfix%2F20.2~I774c459a5e11b7cd01f7a65754d5a2c7cc573476,openstack/ironic,bugfix/20.2,I774c459a5e11b7cd01f7a65754d5a2c7cc573476,[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode,ABANDONED,2023-06-05 09:00:34.000000000,2023-06-13 11:34:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 09:00:34.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8caf63a8484e903659f1e4808b9c1f0f3856ea05', 'message': '[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode\n\nThis patch fixes a condition where iRMC driver interfaces would have\nthe FIPS enforcement logic check applied if the SNMP version was not\nset to SNMP v3, even if the interfaces did not use SNMP.\n\nWith this patch, if FIPS enabled, iRMC driver enforces SNMP\nversion to be version 3 only when any xxx_interface of iRMC\ndriver actually uses SNMP.\n\nStory: 2010713\nTask: 47879\nChange-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476\n(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)\n(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)\n(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)\n(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)\n'}]",5,885237,8caf63a8484e903659f1e4808b9c1f0f3856ea05,12,1,1,30566,,,0,"[iRMC] Fix parse_driver_info bug enforcing SNMP v3 under FIPS mode

This patch fixes a condition where iRMC driver interfaces would have
the FIPS enforcement logic check applied if the SNMP version was not
set to SNMP v3, even if the interfaces did not use SNMP.

With this patch, if FIPS enabled, iRMC driver enforces SNMP
version to be version 3 only when any xxx_interface of iRMC
driver actually uses SNMP.

Story: 2010713
Task: 47879
Change-Id: I774c459a5e11b7cd01f7a65754d5a2c7cc573476
(cherry picked from commit 3f09bdcf952621b75e7a0dfc9e001542b2bcc94f)
(cherry picked from commit 41807b956f84cf0618670ffd0f2a22fff5bcefe3)
(cherry picked from commit e84ee33e351773bb8199f924d63b04f604ae6416)
(cherry picked from commit adf1e1d279d3f0f7af893a86f38408a135004992)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/885237/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'releasenotes/notes/fix-irmc-enforcing-snmpv3-with-fips-e45971d363925ec3.yaml']",3,8caf63a8484e903659f1e4808b9c1f0f3856ea05,20.2_fix_always_check_snmp_bug,"--- fixes: - | Fixes bug of iRMC driver in parse_driver_info where, if FIPS is enabled, SNMP version is always required to be version 3 even though iRMC driver's xxx_interface doesn't use SNMP actually. ",,62,0
openstack%2Fcharm-ops-sunbeam~main~Ia64ea22b549701cec456c60d5f812cdb577c8684,openstack/charm-ops-sunbeam,main,Ia64ea22b549701cec456c60d5f812cdb577c8684,Default logging to stdout,MERGED,2023-06-12 09:32:12.000000000,2023-06-13 11:33:34.000000000,2023-06-13 11:33:34.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 09:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/40359d5d67fee6171efbe6c743175223e4cf62fa', 'message': 'Default logging to stdout\n\nChange-Id: Ia64ea22b549701cec456c60d5f812cdb577c8684\n'}, {'number': 2, 'created': '2023-06-12 09:55:15.000000000', 'files': ['ops_sunbeam/config_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/5018910532086731c99cdbd74046163288a6ea6f', 'message': 'Default logging to stdout\n\nChange-Id: Ia64ea22b549701cec456c60d5f812cdb577c8684\n'}]",1,885844,5018910532086731c99cdbd74046163288a6ea6f,8,2,2,35761,,,0,"Default logging to stdout

Change-Id: Ia64ea22b549701cec456c60d5f812cdb577c8684
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/44/885844/2 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/config_contexts.py'],1,40359d5d67fee6171efbe6c743175223e4cf62fa,feat/log-to-stdout," ""error_log"": ""/dev/stdout"", ""custom_log"": ""/dev/stdout"","," ""error_log"": f""/var/log/apache2/{log_svc_name}_error.log"", ""custom_log"": f""/var/log/apache2/{log_svc_name}_access.log"",",2,2
openstack%2Fskyline-console~master~I7859b91ced6549c26655b1624f28bb19427194e6,openstack/skyline-console,master,I7859b91ced6549c26655b1624f28bb19427194e6,feat: support domain name fuzzy search,MERGED,2023-06-13 09:32:38.000000000,2023-06-13 11:30:05.000000000,2023-06-13 11:29:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-06-13 09:32:38.000000000', 'files': ['src/pages/identity/containers/User/index.jsx', 'src/pages/identity/containers/UserGroup/index.jsx', 'releasenotes/notes/Support-Domain-Name-Filter-1d433cb2d548ca2f.yaml', 'src/pages/identity/containers/Project/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2d6f72004126823bf4d188bf7c6f385ad7a4e620', 'message': 'feat: support domain name fuzzy search\n\nSupport domain name fuzzy search for users, user groups and projects\n\nChange-Id: I7859b91ced6549c26655b1624f28bb19427194e6\n'}]",0,885953,2d6f72004126823bf4d188bf7c6f385ad7a4e620,7,2,1,30434,,,0,"feat: support domain name fuzzy search

Support domain name fuzzy search for users, user groups and projects

Change-Id: I7859b91ced6549c26655b1624f28bb19427194e6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/53/885953/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/identity/containers/User/index.jsx', 'src/pages/identity/containers/UserGroup/index.jsx', 'releasenotes/notes/Support-Domain-Name-Filter-1d433cb2d548ca2f.yaml', 'src/pages/identity/containers/Project/index.jsx']",4,2d6f72004126823bf4d188bf7c6f385ad7a4e620,identity," const domainFilter = this.inDomainDetail ? [] : [ { label: t('Domain Name'), name: 'domainName', }, ]; ...domainFilter,",,37,0
openstack%2Fvenus~master~I6b0826cbddee06d08f07cae65478aeda25872ed5,openstack/venus,master,I6b0826cbddee06d08f07cae65478aeda25872ed5,Regular expressions need to be written as // to  conforms to pep8,MERGED,2023-06-13 08:51:42.000000000,2023-06-13 11:17:32.000000000,2023-06-13 11:15:43.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 08:51:42.000000000', 'files': ['venus/api/common.py', 'venus/utils.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/f2b9fad25cc46acef07f05ba2b4448f8b9596d4f', 'message': 'Regular expressions need to be written as // to  conforms to pep8\n\nChange-Id: I6b0826cbddee06d08f07cae65478aeda25872ed5\n'}]",1,885944,f2b9fad25cc46acef07f05ba2b4448f8b9596d4f,7,2,1,33436,,,0,"Regular expressions need to be written as // to  conforms to pep8

Change-Id: I6b0826cbddee06d08f07cae65478aeda25872ed5
",git fetch https://review.opendev.org/openstack/venus refs/changes/44/885944/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/api/common.py', 'venus/utils.py']",2,f2b9fad25cc46acef07f05ba2b4448f8b9596d4f,," hostname = re.sub('[^\\w.-]+', '', hostname) "," hostname = re.sub('[^\w.-]+', '', hostname) ",2,2
openstack%2Fvenus~master~I5256ae442df715c736d2515de05978db7b9f7229,openstack/venus,master,I5256ae442df715c736d2515de05978db7b9f7229,improve  doc format,MERGED,2023-06-13 08:20:45.000000000,2023-06-13 11:16:47.000000000,2023-06-13 11:15:39.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 08:20:45.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/README.rst'], 'web_link': 'https://opendev.org/openstack/venus/commit/deed2bc2b8924955a4df404ed7b2d14db76135ac', 'message': 'improve  doc format\n\nChange-Id: I5256ae442df715c736d2515de05978db7b9f7229\n'}]",0,885941,deed2bc2b8924955a4df404ed7b2d14db76135ac,7,2,1,33436,,,0,"improve  doc format

Change-Id: I5256ae442df715c736d2515de05978db7b9f7229
",git fetch https://review.opendev.org/openstack/venus refs/changes/41/885941/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/README.rst']",2,deed2bc2b8924955a4df404ed7b2d14db76135ac,,============================================,==============================================,5,5
openstack%2Fvenus~master~I42471871c05fdbed553433f04ab067f5f1494e62,openstack/venus,master,I42471871c05fdbed553433f04ab067f5f1494e62,continuation line with same indent as next logical line to conforms to pep8,MERGED,2023-06-13 09:03:03.000000000,2023-06-13 11:15:41.000000000,2023-06-13 11:15:41.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 09:03:03.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/a57f814130d5651472f1878c341381cacc148d6a', 'message': 'continuation line with same indent as next logical line to conforms to pep8\n\nChange-Id: I42471871c05fdbed553433f04ab067f5f1494e62\n'}]",0,885947,a57f814130d5651472f1878c341381cacc148d6a,6,2,1,33436,,,0,"continuation line with same indent as next logical line to conforms to pep8

Change-Id: I42471871c05fdbed553433f04ab067f5f1494e62
",git fetch https://review.opendev.org/openstack/venus refs/changes/47/885947/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,a57f814130d5651472f1878c341381cacc148d6a,," self, mock_req_es, mock_get_index_names, mock_search_logs): "," self, mock_req_es, mock_get_index_names, mock_search_logs): ",1,1
openstack%2Fvenus~master~Ib72c8f50bdafe2699ef2cc7ab30957b486ebd1db,openstack/venus,master,Ib72c8f50bdafe2699ef2cc7ab30957b486ebd1db,line too long,MERGED,2023-06-13 08:56:38.000000000,2023-06-13 11:15:40.000000000,2023-06-13 11:15:40.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 08:56:38.000000000', 'files': ['venus/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/33cf7f0b180ce3981794d8b00b8d32128764bf8f', 'message': 'line too long\n\nChange-Id: Ib72c8f50bdafe2699ef2cc7ab30957b486ebd1db\n'}]",0,885945,33cf7f0b180ce3981794d8b00b8d32128764bf8f,6,2,1,33436,,,0,"line too long

Change-Id: Ib72c8f50bdafe2699ef2cc7ab30957b486ebd1db
",git fetch https://review.opendev.org/openstack/venus refs/changes/45/885945/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/hacking/checks.py'],1,33cf7f0b180ce3981794d8b00b8d32128764bf8f,," """"""Check for assertEqual(True|False, A in B), assertEqual(A in B, True|False) "," """"""Check for assertEqual(True|False, A in B), assertEqual(A in B, True|False) ",2,1
openstack%2Fneutron~stable%2Fyoga~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,stable/yoga,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-06-06 17:54:58.000000000,2023-06-13 11:05:11.000000000,2023-06-13 11:03:56.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:54:58.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/70a7188209b78cf5d966452065921942ff442874', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)\n'}]",0,885398,70a7188209b78cf5d966452065921942ff442874,8,3,1,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the openstack overcloud backup
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/885398/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,70a7188209b78cf5d966452065921942ff442874,migration_nfs_subnets-stable/2023.1-stable/zed-stable/xena-stable/yoga,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Fneutron~stable%2Fxena~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,stable/xena,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-06-06 17:54:31.000000000,2023-06-13 11:05:08.000000000,2023-06-13 11:04:00.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:54:31.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f24de67d738e3d3f97ebbe6ed793f166f793e12c', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)\n'}]",0,885397,f24de67d738e3d3f97ebbe6ed793f166f793e12c,8,3,1,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the openstack overcloud backup
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/885397/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,f24de67d738e3d3f97ebbe6ed793f166f793e12c,migration_nfs_subnets-stable/2023.1-stable/zed-stable/xena,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Fnova~master~I3ec5f479653637824883058b18126d0e18c9b46d,openstack/nova,master,I3ec5f479653637824883058b18126d0e18c9b46d,Vmware: Fix indentation in conditionals,NEW,2021-08-27 10:46:59.000000000,2023-06-13 10:57:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-27 10:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/412591e592d0410d11ef51c8bfb2591d53bbe910', 'message': 'Vmware: Fix indentation in conditionals\n\nThe conditions are often aligned with the next block,\nwhich makes the code harder to read.\n\nChange-Id: I3ec5f479653637824883058b18126d0e18c9b46d\n'}, {'number': 2, 'created': '2021-09-14 13:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c76e09a31bf7ff1dcca029c66020c009fc53ac4', 'message': 'Vmware: Fix indentation in conditionals\n\nThe conditions are often aligned with the next block,\nwhich makes the code harder to read.\n\nChange-Id: I3ec5f479653637824883058b18126d0e18c9b46d\n'}, {'number': 3, 'created': '2022-02-02 10:37:51.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cbca48c5eab68e5f74faa6790359d0605f2746b', 'message': 'Vmware: Fix indentation in conditionals\n\nThe conditions are often aligned with the next block,\nwhich makes the code harder to read.\n\nChange-Id: I3ec5f479653637824883058b18126d0e18c9b46d\n'}]",7,806391,9cbca48c5eab68e5f74faa6790359d0605f2746b,30,1,3,24434,,,0,"Vmware: Fix indentation in conditionals

The conditions are often aligned with the next block,
which makes the code harder to read.

Change-Id: I3ec5f479653637824883058b18126d0e18c9b46d
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/806391/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vm_util.py']",4,412591e592d0410d11ef51c8bfb2591d53bbe910,vmware_indentation," limits.shares_share): CONF.vmware.console_delay_seconds > 0): device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo"" and option.value == iface_id):"," limits.shares_share): CONF.vmware.console_delay_seconds > 0): device.backing.__class__.__name__ == ""VirtualDiskFlatVer2BackingInfo"" and option.value == iface_id):",13,13
openstack%2Fcinder-tempest-plugin~master~I91e816b2c7e1a526b63bf3ba6a4a658519f2cf85,openstack/cinder-tempest-plugin,master,I91e816b2c7e1a526b63bf3ba6a4a658519f2cf85,Add volume snapshot tests,NEW,2023-06-11 12:36:50.000000000,2023-06-13 10:57:01.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-11 12:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/37a9ba73c7e15b4beb25eabf8b58b5b81c3f0a57', 'message': 'Add volume snapshot tests\n\nAdded the following tests:\n- create snapshot after volume extention\n- create volume from snapshot and delete the volume\n\nChange-Id: I91e816b2c7e1a526b63bf3ba6a4a658519f2cf85\n'}, {'number': 2, 'created': '2023-06-11 13:14:01.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_volumes_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a1ab029a5970ecb9548e23d1d6cf4405cc411887', 'message': 'Add volume snapshot tests\n\nAdded the following tests:\n- create snapshot after volume extention\n- create volume from snapshot and delete the volume\n\nChange-Id: I91e816b2c7e1a526b63bf3ba6a4a658519f2cf85\n'}]",4,885829,a1ab029a5970ecb9548e23d1d6cf4405cc411887,10,2,2,19262,,,0,"Add volume snapshot tests

Added the following tests:
- create snapshot after volume extention
- create volume from snapshot and delete the volume

Change-Id: I91e816b2c7e1a526b63bf3ba6a4a658519f2cf85
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/29/885829/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_volumes_snapshots.py'],1,37a9ba73c7e15b4beb25eabf8b58b5b81c3f0a57,volume_snapshot,"# Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.common import waiters from tempest.lib import decorators from cinder_tempest_plugin.api.volume import base CONF = config.CONF class VolumesSnapshotTestJSON(base.BaseVolumeTest): @classmethod def skip_checks(cls): super(VolumesSnapshotTestJSON, cls).skip_checks() if not CONF.volume_feature_enabled.snapshot: raise cls.skipException(""Cinder volume snapshots are disabled"") @decorators.idempotent_id('f70ab375-921f-43f1-89aa-b58ec8f79724') def test_snapshot_create_after_volume_extend(self): # Create a volume volume = self.create_volume() # Extend the volume extend_size = volume['size'] + 1 self.volumes_client.extend_volume(volume_id=volume['id'], new_size=extend_size) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # Verify snapshot is created successfully with the correct size snapshot = self.create_snapshot(volume_id=volume['id']) self.assertEqual(extend_size, snapshot['size']) @decorators.idempotent_id('bb2ac786-878f-4789-9973-57a0e828598c') def test_create_volume_from_snapshot_and_delete(self): """"""To test volume deletion when snapshot created. 1. Create a volume 2. Create a snapshot from the volume 3. Create another volume from the snapshot 4. Delete the snapshot 5. Delete the original volume - verify till deleted 6. Delete the volume created from snapshot """""" volume = self.create_volume() waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # Verify snapshot is created successfully and verify deletion snapshot = self.create_snapshot(volume_id=volume['id']) self.create_volume(snapshot_id=snapshot['id']) self.snapshots_client.delete_snapshot(snapshot['id']) self.snapshots_client.wait_for_resource_deletion(snapshot['id']) # The delete volume here wait till volume deleted self.volumes_client.delete_volume(volume['id']) self.volumes_client.wait_for_resource_deletion(volume['id']) ",,71,0
openstack%2Fkolla-ansible~master~I002db50cbad5a90e479498e605bdeab343e129c7,openstack/kolla-ansible,master,I002db50cbad5a90e479498e605bdeab343e129c7,Fix the Cyborg service,MERGED,2023-05-18 12:23:02.000000000,2023-06-13 10:17:17.000000000,2023-06-13 10:16:16.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 32398}, {'_account_id': 32553}, {'_account_id': 35263}, {'_account_id': 36022}]","[{'number': 1, 'created': '2023-05-18 12:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cc8a93dfe07077727aa57ea25c96a5f976b0539', 'message': ""Fix the Cyborg service type\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'.\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2023-05-18 12:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0127be69d48aa277897a3db1cb2f6dd3fb57d52d', 'message': ""Fix the Cyborg service type\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2023-05-18 12:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/724c38954ef0f57e5db726905c0dda03a14e5499', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 4, 'created': '2023-05-18 12:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8382a2a3df5c8d1245d96b37d045edf58a168849', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 5, 'created': '2023-05-18 13:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57cb22bd9415a69d467f91a5a618bae66056f59c', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 6, 'created': '2023-05-18 20:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38dd1d38604339a160724078fa2fbdefc4f544cb', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 7, 'created': '2023-05-23 08:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7c3a89794a1401a902401aa430c2240f2812564', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 8, 'created': '2023-06-01 09:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7539790e20bd1f4a5b2177ab00fe78e61d621408', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 9, 'created': '2023-06-01 09:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff73c020dfe51ea1eb7b2d88aa9f605640db0f40', 'message': ""Fix the Cyborg service\n\nAccording the documentation [1] type of the Cyborg service should be\n'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2].\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 10, 'created': '2023-06-01 09:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9511790b38f2ef5c6a503efa69e33d6db9dae28', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 11, 'created': '2023-06-01 10:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/731372e0412252e79363c23c6aab2d34029cfdb7', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 12, 'created': '2023-06-07 14:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/382d0acde14ccd370af2a08b83da944d07fe3e94', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 13, 'created': '2023-06-07 14:04:19.000000000', 'files': ['releasenotes/notes/fix-cyborg-service-5bc5bf8748daf504.yaml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8250d2824b4d2280fa71e7671d84f126f408db7', 'message': ""Fix the Cyborg service\n\nAccording to the documentation [1] type of the Cyborg service should\nbe 'accelerator' and description 'Acceleration Service'. Also, this\nchange fixes incorrect endpoint URLs, and not configures an admin\nendpoint [2] because the documentation [1] not updated yet.\n\n1. https://docs.openstack.org/cyborg/latest/install/common.html\n2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9\n\nCloses-Bug: #2020080\nChange-Id: I002db50cbad5a90e479498e605bdeab343e129c7\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",10,883495,e8250d2824b4d2280fa71e7671d84f126f408db7,51,10,13,14200,,,0,"Fix the Cyborg service

According to the documentation [1] type of the Cyborg service should
be 'accelerator' and description 'Acceleration Service'. Also, this
change fixes incorrect endpoint URLs, and not configures an admin
endpoint [2] because the documentation [1] not updated yet.

1. https://docs.openstack.org/cyborg/latest/install/common.html
2. Icf3bf08deab2c445361f0a0124d87ad8b0e4e9d9

Closes-Bug: #2020080
Change-Id: I002db50cbad5a90e479498e605bdeab343e129c7
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/883495/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cyborg/defaults/main.yml'],1,6cc8a93dfe07077727aa57ea25c96a5f976b0539,fix-cyborg-service," type: ""accelerator"" description: ""Acceleration Service"""," type: ""cyborg"" description: ""OpenStack Cyborg Service""",2,2
openstack%2Fneutron~stable%2F2023.1~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,stable/2023.1,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-06-06 17:54:11.000000000,2023-06-13 10:05:26.000000000,2023-06-13 10:04:17.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:54:11.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01b599268694f9f1e4d59ab8922b72fffedfeef4', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the openstack overcloud backup\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)\n'}]",1,885395,01b599268694f9f1e4d59ab8922b72fffedfeef4,8,3,1,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the openstack overcloud backup
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
(cherry picked from commit b677d65b2d9cf9e3ff58677300712fe3fe40da04)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/885395/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,01b599268694f9f1e4d59ab8922b72fffedfeef4,migration_nfs_subnets-stable/2023.1,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Foctavia~master~I6fedd23f280bfaa3484872e8071b49e5b5a0da46,openstack/octavia,master,I6fedd23f280bfaa3484872e8071b49e5b5a0da46,WIP Add MULTI_ACTIVE flows to the Octavia controller,NEW,2022-04-08 15:53:43.000000000,2023-06-13 09:57:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a44c32116d31b8825ee29980c5805204ab806597', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/037ae172551088b0db9ca238ea24cb0c598dcaff', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac8a970f6e2a83a77635241cffb9c12ac7bde8b7', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 4, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe6c5085ca135074b16c88938cb9560297484252', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 5, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa1a98ce9cf06735e8cd6077db54f8bf8fdd4a66', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 6, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bbff8072833a5847b82c417d757f30ad9d8716fa', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}, {'number': 7, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/controller/worker/v2/flows/flow_utils.py', 'octavia/common/config.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_network_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'zuul.d/projects.yaml', 'octavia/api/drivers/amphora_driver/flavor_schema.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/tests/functional/api/v2/test_provider.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ff3cbd9579d203e51cd52bdb248ab712d5238e50', 'message': 'WIP Add MULTI_ACTIVE flows to the Octavia controller\n\nChange-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46\n'}]",3,837153,ff3cbd9579d203e51cd52bdb248ab712d5238e50,14,1,7,29244,,,0,"WIP Add MULTI_ACTIVE flows to the Octavia controller

Change-Id: I6fedd23f280bfaa3484872e8071b49e5b5a0da46
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/837153/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/flows/flow_utils.py', 'octavia/common/config.py', 'octavia/tests/unit/controller/worker/v2/flows/test_amphora_flows.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'zuul.d/projects.yaml', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_amphora_driver_tasks.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'zuul.d/jobs.yaml']",14,a44c32116d31b8825ee29980c5805204ab806597,bgp-exp, - job: name: octavia-v2-multi-active-dsvm-scenario parent: octavia-dsvm-live-base vars: devstack_localrc: OCTAVIA_ENABLE_FRR: True devstack_local_conf: post-config: $OCTAVIA_CONF: api_settings: api_v1_enabled: False controller_worker: loadbalancer_topology: MULTI_ACTIVE task_flow: engine: parallel tempest_concurrency: 1 tempest_test_regex: ^octavia_tempest_plugin.tests.scenario.v2 tox_envlist: all,,781,312
openstack%2Fpython-cyborgclient~master~I49892997d26185e80a27ec2b029575e3c207624c,openstack/python-cyborgclient,master,I49892997d26185e80a27ec2b029575e3c207624c,Add ut for show not exist device_profile client api,MERGED,2023-06-09 02:16:21.000000000,2023-06-13 09:53:23.000000000,2023-06-13 09:52:04.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-09 02:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/fb268ddeceef50c2e26e47b9bd5de2621b104419', 'message': 'Add ut for show not exist device_profile client api\n\nChange-Id: I49892997d26185e80a27ec2b029575e3c207624c\n'}, {'number': 2, 'created': '2023-06-09 02:17:45.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/e31150d377d01de1ff2fac725c843ccdeef0ba91', 'message': 'Add ut for show not exist device_profile client api\n\nChange-Id: I49892997d26185e80a27ec2b029575e3c207624c\n'}]",0,885667,e31150d377d01de1ff2fac725c843ccdeef0ba91,8,2,2,33436,,,0,"Add ut for show not exist device_profile client api

Change-Id: I49892997d26185e80a27ec2b029575e3c207624c
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/67/885667/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_device_profile.py'],1,fb268ddeceef50c2e26e47b9bd5de2621b104419,883891," def test_device_profile_show_not_exist(self): get_arq_req = self.mock_acc_client.get_device_profile get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.device_profile_name] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'device_profile %s not found' % acc_fakes.device_profile_name, self.cmd.take_action, parsed_args)",,10,0
openstack%2Fpython-cyborgclient~master~I4efd9149e86aa24e26b72a9942e26a0bc26868d4,openstack/python-cyborgclient,master,I4efd9149e86aa24e26b72a9942e26a0bc26868d4,Follow pep8,MERGED,2023-06-13 09:26:54.000000000,2023-06-13 09:52:34.000000000,2023-06-13 09:51:37.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-13 09:26:54.000000000', 'files': ['cyborgclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/da3c68d1d383a82cf40ce4275b680afce834db71', 'message': 'Follow pep8\n\nChange-Id: I4efd9149e86aa24e26b72a9942e26a0bc26868d4\n'}]",0,885949,da3c68d1d383a82cf40ce4275b680afce834db71,7,2,1,33436,,,0,"Follow pep8

Change-Id: I4efd9149e86aa24e26b72a9942e26a0bc26868d4
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/49/885949/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/shell.py'],1,da3c68d1d383a82cf40ce4275b680afce834db71,,from cyborgclient.common import cliutils from cyborgclient import exceptions as exc from cyborgclient.i18n import _ from cyborgclient.v1 import client as client_v1 from cyborgclient.v1 import shell as shell_v1 from cyborgclient import version,from cyborgclient.common import cliutils from cyborgclient import exceptions as exc from cyborgclient.i18n import _ from cyborgclient.v1 import client as client_v1 from cyborgclient.v1 import shell as shell_v1 from cyborgclient import version ,6,7
openstack%2Fpython-cyborgclient~master~Iaadae8c8717a7da263ff04c4b5e1dd7b436331b2,openstack/python-cyborgclient,master,Iaadae8c8717a7da263ff04c4b5e1dd7b436331b2,Add ut for show not exist attribute client api,MERGED,2023-06-09 01:38:19.000000000,2023-06-13 09:51:39.000000000,2023-06-13 09:51:39.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-09 01:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/45ec1024d57587e55f6ff8068d89d9435f4b2adf', 'message': 'Add ut for show not exist attribute client api\n\nChange-Id: Iaadae8c8717a7da263ff04c4b5e1dd7b436331b2\n'}, {'number': 2, 'created': '2023-06-09 02:02:09.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_attribute.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/da3392d687fb1334db65546c6543ed85feda2ba3', 'message': 'Add ut for show not exist attribute client api\n\nChange-Id: Iaadae8c8717a7da263ff04c4b5e1dd7b436331b2\n'}]",1,885666,da3392d687fb1334db65546c6543ed85feda2ba3,8,2,2,33436,,,0,"Add ut for show not exist attribute client api

Change-Id: Iaadae8c8717a7da263ff04c4b5e1dd7b436331b2
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/66/885666/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_attribute.py'],1,45ec1024d57587e55f6ff8068d89d9435f4b2adf,883891,"from openstack import exceptions as sdk_exc from cyborgclient import exceptions as exc def test_attribute_get_not_exist(self): get_arq_req = self.mock_acc_client.get_attribute get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.attribute_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'Attribute %s not found'%acc_fakes.attribute_uuid, self.cmd.take_action, parsed_args) ",,14,0
openstack%2Foctavia~master~I5273a39010e3c532f62581664710da40e74c1174,openstack/octavia,master,I5273a39010e3c532f62581664710da40e74c1174,WIP Integrate BGP driver into the Amphora client,NEW,2022-04-08 15:53:43.000000000,2023-06-13 09:50:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/18fc17a326c72440e960f1a6a34c369cde18803a', 'message': 'WIP Integrate BGP driver in the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6dd1725f81d5060abece4b9679420a5e90a804b9', 'message': 'WIP Integrate BGP driver in the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0568693dd7cb5213527765d0ab7b4a527bf600a3', 'message': 'WIP Integrate BGP driver in the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 4, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf1f2af4bfdf68fe48b2d021da612a5ba7acd75f', 'message': 'WIP Integrate BGP driver in the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 5, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ac6df5526dd38a670163ad6252b44810dc07de04', 'message': 'WIP Integrate BGP driver in the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 6, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7653ad85d50ebfc57eb4f8a447057d6dc34bd985', 'message': 'WIP Integrate BGP driver into the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}, {'number': 7, 'created': '2023-06-13 06:44:06.000000000', 'files': ['tools/check_unit_test_structure.sh', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_1.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dd2487d5fac343aebb605c3c29fa35fa67859388', 'message': 'WIP Integrate BGP driver into the Amphora client\n\nChange-Id: I5273a39010e3c532f62581664710da40e74c1174\n'}]",0,837152,dd2487d5fac343aebb605c3c29fa35fa67859388,14,1,7,29244,,,0,"WIP Integrate BGP driver into the Amphora client

Change-Id: I5273a39010e3c532f62581664710da40e74c1174
",git fetch https://review.opendev.org/openstack/octavia refs/changes/52/837152/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/check_unit_test_structure.sh', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_1.py']",3,18fc17a326c72440e960f1a6a34c369cde18803a,bgp-exp,"# Copyright Red Hat # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from unittest import mock from oslo_config import cfg from oslo_config import fixture as oslo_fixture import requests_mock from octavia.amphorae.drivers.haproxy import rest_api_driver as driver from octavia.db import models from octavia.tests.unit import base API_VERSION = '1.1' class TestAmphoraAPIClient1_1Test(base.TestCase): def setUp(self): super().setUp() self.driver = driver.AmphoraAPIClient1_1() self.base_url = ""https://192.0.2.77:9443/"" self.base_url_ver = self.base_url + ""1.1"" self.amp = models.Amphora(lb_network_ip='192.0.2.77', compute_id='123') self.amp.api_version = API_VERSION # Override with much lower values for testing purposes.. conf = oslo_fixture.Config(cfg.CONF) conf.config(group=""haproxy_amphora"", connection_max_retries=2) patcher = mock.patch('time.sleep').start() self.addCleanup(patcher.stop) @requests_mock.mock() def test_upload_bgp_config(self, m): config = '{""name"": ""bad_config""}' m.put(""{base}/bgp/upload"".format( base=self.base_url_ver) ) self.driver.upload_bgp_config(self.amp, config) self.assertTrue(m.called) @requests_mock.mock() def test_bgp_action(self, m): action = 'start' m.put(""{base}/bgp/{action}"".format(base=self.base_url_ver, action=action)) self.driver._bgp_action(action, self.amp) self.assertTrue(m.called) ",,84,1
openstack%2Foctavia~master~I2b72a2472c5359b092650eece150d3d39e042819,openstack/octavia,master,I2b72a2472c5359b092650eece150d3d39e042819,Support haproxy peer table in MULTI_ACTIVE topo,NEW,2022-07-11 06:48:09.000000000,2023-06-13 09:50:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/39f5f4e3cb89c74a8971c2cd85d93e370655bd84', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}, {'number': 2, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0fb14bd1f9d846b1fc8e1e6a7a8f5265395a5881', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}, {'number': 3, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f69aaeb3d7da21a45e0b550b6463bbcb9621634b', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}, {'number': 4, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2730b61880beb4ad4ae6ebdc31a8a28b4e407195', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}, {'number': 5, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/541aaa7a17b2725025f4411a32e5fa6eed16c2c0', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}, {'number': 6, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fabe8a4012d0a6d20a23aca9d26653de57279c2b', 'message': 'Support haproxy peer table in MULTI_ACTIVE topo\n\nChange-Id: I2b72a2472c5359b092650eece150d3d39e042819\n'}]",0,849275,fabe8a4012d0a6d20a23aca9d26653de57279c2b,12,1,6,29244,,,0,"Support haproxy peer table in MULTI_ACTIVE topo

Change-Id: I2b72a2472c5359b092650eece150d3d39e042819
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/849275/3 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2'],1,39f5f4e3cb89c74a8971c2cd85d93e370655bd84,bgp-exp," {% if loadbalancer.topology in (constants.TOPOLOGY_ACTIVE_STANDBY, constants.TOPOLOGY_MULTI_ACTIVE) %} {% if loadbalancer.topology in (constants.TOPOLOGY_ACTIVE_STANDBY, constants.TOPOLOGY_MULTI_ACTIVE) %} {% if loadbalancer.topology in (constants.TOPOLOGY_ACTIVE_STANDBY, constants.TOPOLOGY_MULTI_ACTIVE) %}", {% if loadbalancer.topology == constants.TOPOLOGY_ACTIVE_STANDBY %} {% if loadbalancer.topology == constants.TOPOLOGY_ACTIVE_STANDBY %} {% if loadbalancer.topology == constants.TOPOLOGY_ACTIVE_STANDBY %},3,3
openstack%2Foctavia~master~I5de72573253a7b41c95a7e74334c9f64a86753e8,openstack/octavia,master,I5de72573253a7b41c95a7e74334c9f64a86753e8,WIP Do not delete local link addresses,NEW,2022-09-26 13:32:48.000000000,2023-06-13 09:46:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c1ac9ca855a9710b344204774ed59ef8113d02e4', 'message': 'WIP Do not delete local link addresses\n\nChange-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8\n'}, {'number': 2, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/547ba8d1356a9a13227b1ecd6864032385c6af0a', 'message': 'WIP Do not delete local link addresses\n\nChange-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8\n'}, {'number': 3, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/305d536f45b51f728c3d47e049b6c9acf35c7156', 'message': 'WIP Do not delete local link addresses\n\nChange-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8\n'}, {'number': 4, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3546c35b89a1070aa9fe600a4f61e9729ed3ef06', 'message': 'WIP Do not delete local link addresses\n\nChange-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8\n'}, {'number': 5, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/amphorae/backends/utils/interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ad74fe75aa12c89e54b1239e3dc3fccc6613886b', 'message': 'WIP Do not delete local link addresses\n\nChange-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8\n'}]",0,859294,ad74fe75aa12c89e54b1239e3dc3fccc6613886b,10,1,5,29244,,,0,"WIP Do not delete local link addresses

Change-Id: I5de72573253a7b41c95a7e74334c9f64a86753e8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/859294/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/interface.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface.py']",2,c1ac9ca855a9710b344204774ed59ef8113d02e4,bgp-exp," 'scope': 0, 'scope': 0, 'scope': 0, }, { 'prefixlen': 16, 'scope': 253, # Scope 'link' 'attrs': { 'IFA_ADDRESS': '10.2.3.200', 'IFA_FLAGS': 0x0 # not IFA_F_PERMANENT }",,15,0
openstack%2Foctavia~master~Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24,openstack/octavia,master,Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24,WIP Add constants for MULTI_ACTIVE LB topology,NEW,2022-04-08 15:53:43.000000000,2023-06-13 09:43:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f7ac677f38c406ef68411223a7c871fa59b422f', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/10f65079554192bc4a38db265bcbc96eec7585c9', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/605350b33a52f928f3723c2056a49bd9913168a3', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}, {'number': 4, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/723ba9950ed7f05edf79758dd15d6eaf63557605', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}, {'number': 5, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/865f0b41f27bfe3f5f87cfb902f56fe6f5e14293', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}, {'number': 6, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/common/constants.py', 'octavia/db/migration/alembic_migrations/versions/7e3a7025351a_add_multi_active_constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/560f2ef7b4c6a566d42659553935efec0b154047', 'message': 'WIP Add constants for MULTI_ACTIVE LB topology\n\nChange-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24\n'}]",0,837149,560f2ef7b4c6a566d42659553935efec0b154047,12,1,6,29244,,,0,"WIP Add constants for MULTI_ACTIVE LB topology

Change-Id: Iba59829cb5961b2f6b5acea9183e8c7ed90dfc24
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/837149/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'octavia/db/migration/alembic_migrations/versions/7e3a7025351a_add_multi_active_constants.py']",2,7f7ac677f38c406ef68411223a7c871fa59b422f,bgp-exp,"# Copyright Red Hat # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""add multi-active constants Revision ID: 7e3a7025351a Revises: 6ac558d7fc21 Create Date: 2022-04-08 03:06:33.237802 """""" from alembic import op import sqlalchemy as sa # revision identifiers, used by Alembic. revision = '7e3a7025351a' down_revision = '6ac558d7fc21' def upgrade(): insert_table = sa.table( 'lb_topology', sa.column('name', sa.String(36))) op.bulk_insert( insert_table, [ {'name': 'MULTI_ACTIVE'} ] ) insert_table = sa.table( 'amphora_roles', sa.column('name', sa.String(36))) op.bulk_insert( insert_table, [ {'name': 'ACTIVE'} ] ) ",,56,2
openstack%2Freleases~master~I8b60bd46584955c6cfdc5331e69688a269af66e1,openstack/releases,master,I8b60bd46584955c6cfdc5331e69688a269af66e1,[zaqar-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:06:12.000000000,2023-06-13 09:26:52.000000000,2023-06-13 09:26:52.000000000,"[{'_account_id': 8846}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:06:12.000000000', 'files': ['deliverables/xena/zaqar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/681180d7a9f92ac039510f1ea07c16234a789fb0', 'message': ""[zaqar-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 1.6.0\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I8b60bd46584955c6cfdc5331e69688a269af66e1\n""}]",2,885699,681180d7a9f92ac039510f1ea07c16234a789fb0,9,4,1,8556,,,0,"[zaqar-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 1.6.0
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I8b60bd46584955c6cfdc5331e69688a269af66e1
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/885699/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zaqar-tempest-plugin.yaml'],1,681180d7a9f92ac039510f1ea07c16234a789fb0,xena-last, - version: xena-last projects: - repo: openstack/zaqar-tempest-plugin hash: 3813c99e501a1f67a9cbde751cf71747a61f6786,,4,0
openstack%2Foctavia~master~If309a395ff18fdc4505e90dd018a37db310ca13f,openstack/octavia,master,If309a395ff18fdc4505e90dd018a37db310ca13f,Check the number of available ip addresses for MULTI_ACTIVE LBs,NEW,2022-07-11 06:48:09.000000000,2023-06-13 09:20:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b8719da2286c8c0d71c17f011ac3c89a20eedde', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}, {'number': 2, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4dd1d66bc90b2156fdd0f2c3753560b33ed66792', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}, {'number': 3, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3d861de9a335a7179e12e692f990883b07c5ebfc', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}, {'number': 4, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cfff1e5599da144f597db91708a8af121ae8e2b7', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}, {'number': 5, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5fc311f8da2522c3b8422d105f2233d43debc750', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}, {'number': 6, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3c5edc7310ff14acfe03be0181dec8593ffa4012', 'message': 'Check the number of available ip addresses for MULTI_ACTIVE LBs\n\nChange-Id: If309a395ff18fdc4505e90dd018a37db310ca13f\n'}]",0,849276,3c5edc7310ff14acfe03be0181dec8593ffa4012,12,1,6,29244,,,0,"Check the number of available ip addresses for MULTI_ACTIVE LBs

Change-Id: If309a395ff18fdc4505e90dd018a37db310ca13f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/849276/6 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/controllers/load_balancer.py'],1,8b8719da2286c8c0d71c17f011ac3c89a20eedde,bgp-exp, elif (CONF.controller_worker.load_balancer_topology == constants.TOPOLOGY_MULTI_ACTIVE): num_req_ips = ( CONF.controller_worker.amp_multi_active_count + 1),,4,0
openstack%2Foctavia~master~I09c927bce70d880a4bbd0392256428401ac65dfa,openstack/octavia,master,I09c927bce70d880a4bbd0392256428401ac65dfa,WIP Add amp_multi_active_count support in flavors,NEW,2022-09-26 13:32:48.000000000,2023-06-13 09:18:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1c587fad302f692ae974f791a03fc9e2916efee7', 'message': 'Add amp_multi_active_count support in flavors\n\nChange-Id: I09c927bce70d880a4bbd0392256428401ac65dfa\n'}, {'number': 2, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fad208426891f51cea0920d201223bcb67e4397d', 'message': 'WIP Add amp_multi_active_count support in flavors\n\nChange-Id: I09c927bce70d880a4bbd0392256428401ac65dfa\n'}, {'number': 3, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/dc4c10c56b68249bb193009586eeb157281f5389', 'message': 'WIP Add amp_multi_active_count support in flavors\n\nChange-Id: I09c927bce70d880a4bbd0392256428401ac65dfa\n'}, {'number': 4, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/686709b850ac0b858c6c20e8471e3813d8c278e3', 'message': 'WIP Add amp_multi_active_count support in flavors\n\nChange-Id: I09c927bce70d880a4bbd0392256428401ac65dfa\n'}, {'number': 5, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/controller/worker/v2/flows/flow_utils.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/api/drivers/amphora_driver/flavor_schema.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0f67c595ecb4ba09442c4387f0938c8978851e9', 'message': 'WIP Add amp_multi_active_count support in flavors\n\nChange-Id: I09c927bce70d880a4bbd0392256428401ac65dfa\n'}]",3,859295,e0f67c595ecb4ba09442c4387f0938c8978851e9,10,1,5,29244,,,0,"WIP Add amp_multi_active_count support in flavors

Change-Id: I09c927bce70d880a4bbd0392256428401ac65dfa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/859295/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v2/flows/flow_utils.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/common/constants.py', 'octavia/controller/worker/v2/controller_worker.py', 'octavia/api/drivers/amphora_driver/flavor_schema.py', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",7,1c587fad302f692ae974f791a03fc9e2916efee7,bgp-exp," def get_create_load_balancer_flow(self, topology, topology_params=None, listeners=None): lb_create_flow.add( *self._create_multiple_amp_topology(topology, topology_params)) post_amp_prefix, topology, topology_params, mark_active=(not listeners))) self, topology, topology_params, nb_amphorae = (topology_params or {}).get( constants.AMP_MULTI_ACTIVE_COUNT, CONF.controller_worker.amp_multi_active_count) topology_params, mark_active=True): ha_subflow = self.amp_flows.get_ha_subflow(prefix, topology, topology_params) def get_failover_LB_flow(self, amps, lb, topology_params): nb_amphorae = (topology_params or {}).get( constants.AMP_MULTI_ACTIVE_COUNT, CONF.controller_worker.amp_multi_active_count)"," def get_create_load_balancer_flow(self, topology, listeners=None): lb_create_flow.add(*self._create_multiple_amp_topology(topology)) post_amp_prefix, topology, mark_active=(not listeners))) self, topology, # TODO(gthiemonge) use flavors nb_amphorae = CONF.controller_worker.amp_multi_active_count mark_active=True): ha_subflow = self.amp_flows.get_ha_subflow(prefix, topology) def get_failover_LB_flow(self, amps, lb): # TODO(gthiemonge) could also use flavorprofile nb_amphorae = CONF.controller_worker.amp_multi_active_count",65,26
openstack%2Fcharm-ops-sunbeam~main~I6d3725512a8740c827303edb2d70bbef68f3bb00,openstack/charm-ops-sunbeam,main,I6d3725512a8740c827303edb2d70bbef68f3bb00,Implement open-port to allow traffic on underlying cloud,MERGED,2023-06-12 14:14:43.000000000,2023-06-13 09:14:46.000000000,2023-06-13 09:14:46.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 14:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/2e60fd8d403604610eb22d5dabdd77a5db3cbb5c', 'message': 'Implement open-port to allow traffic on underlying cloud\n\nUse `open-port` instead of `kubernetes_service_patch` to configure\nservice port.\n\nChange-Id: I6d3725512a8740c827303edb2d70bbef68f3bb00\n'}, {'number': 2, 'created': '2023-06-12 14:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/b0466963c5273d4e8263352e02f0cc9acb76c265', 'message': 'Implement open-port to allow traffic on underlying cloud\n\nUse `open-port` instead of `kubernetes_service_patch` to configure\nservice port.\n\nChange-Id: I6d3725512a8740c827303edb2d70bbef68f3bb00\n'}, {'number': 3, 'created': '2023-06-12 14:27:17.000000000', 'files': ['doc/writing-OS-API-charm.rst', 'unit_tests/test_core.py', 'unit_tests/test_job_ctrl.py', 'ops_sunbeam/charm.py', 'unit_tests/lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/32e818fd85cf54bed7dce940bf1efe05f56ac206', 'message': 'Implement open-port to allow traffic on underlying cloud\n\nUse `open-port` instead of `kubernetes_service_patch` to configure\nservice port.\n\nChange-Id: I6d3725512a8740c827303edb2d70bbef68f3bb00\n'}]",1,885886,32e818fd85cf54bed7dce940bf1efe05f56ac206,9,2,3,35761,,,0,"Implement open-port to allow traffic on underlying cloud

Use `open-port` instead of `kubernetes_service_patch` to configure
service port.

Change-Id: I6d3725512a8740c827303edb2d70bbef68f3bb00
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/86/885886/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/writing-OS-API-charm.rst', 'unit_tests/test_core.py', 'unit_tests/test_job_ctrl.py', 'ops_sunbeam/charm.py', 'unit_tests/lib/charms/observability_libs/v1/kubernetes_service_patch.py', 'fetch-libs.sh']",6,2e60fd8d403604610eb22d5dabdd77a5db3cbb5c,feat/open-port,,charmcraft fetch-lib charms.observability_libs.v1.kubernetes_service_patch,12,376
openstack%2Fcinder-tempest-plugin~master~I0e01defa4195007b6b3dda5b80571f042e273eae,openstack/cinder-tempest-plugin,master,I0e01defa4195007b6b3dda5b80571f042e273eae,Add test for check dependencies between incr backups,NEW,2019-04-15 20:01:43.000000000,2023-06-13 09:08:49.000000000,,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31055}]","[{'number': 1, 'created': '2019-04-15 20:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/61a49b56794fb361887bd85a8eb4835e81a5ad6f', 'message': '[WIP] Test the base_name\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 2, 'created': '2019-04-16 03:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3162a08c64e6f6f42728febf1d7af9f8ddb27453', 'message': 'Add test for check dependencies between incr backups\n\nBecause of f7409cdb429a55d8a6ea766ae4dc124fae76106f\nwe realize that we need more coverage over the\nincremental backup.\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 3, 'created': '2019-04-16 04:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3e5807a59c0d3a0cd022580d7748eb763a7468b3', 'message': 'Add test for check dependencies between incr backups\n\nBecause of f7409cdb429a55d8a6ea766ae4dc124fae76106f\nwe realized that we need more coverage over the\nincremental backup.\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 4, 'created': '2019-04-17 00:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4dc7b316aa7ebb96bfa0b8242a38bf7992ce9aad', 'message': 'Add test for check dependencies between incr backups\n\nBecause of f7409cdb429a55d8a6ea766ae4dc124fae76106f\nwe realized that we need more coverage over the\nincremental backup.\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 5, 'created': '2019-12-24 11:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2074162fb3fd6c5193179c18773a84d9c5b1f247', 'message': 'Add test for check dependencies between incr backups\n\nBecause of f7409cdb429a55d8a6ea766ae4dc124fae76106f\nwe realized that we need more coverage over the\nincremental backup.\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 6, 'created': '2020-04-13 19:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/47f8eee2b0c807ec5e7d3071e0fd662080a876e1', 'message': 'Add test for check dependencies between incr backups\n\nBecause of f7409cdb429a55d8a6ea766ae4dc124fae76106f\nwe realized that we need more coverage over the\nincremental backup.\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 7, 'created': '2020-04-14 21:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8b75f7b6402b27f99484884599c31bdca7345fb8', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 8, 'created': '2020-04-15 19:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ff3c8558a213884fd73499eb4f8dab21ec8d8a69', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 9, 'created': '2020-04-23 18:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8d0b143bf1e7b41aeaa430c958ee2374589c6fcb', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 10, 'created': '2020-06-17 19:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b2e944456ec51384cbd9da48e9dddc9e02ec0e42', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 11, 'created': '2020-07-06 15:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1f740b397fdbf5cb0fe87258292b7400aaba641a', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nDepends-On: I516b7c82b05b26e81195f7f106d43a9e0804082d\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 12, 'created': '2020-08-21 20:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/465b7d60c5f886a7473cdc70b59ea0ea55260cec', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 13, 'created': '2020-08-24 16:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6a0aca1677c744d6818345b0af4d1aa1d01d490c', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}, {'number': 14, 'created': '2020-12-16 17:25:55.000000000', 'files': ['cinder_tempest_plugin/api/volume/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/db7e28a4d18c4a1e564ac25ff9650c464c8e0b5b', 'message': 'Add test for check dependencies between incr backups\n\nOne of the main problems we had was creating multiple\nincremental for differents full backups.\n\nSteps:\n1. create a volume\n2. create a first full backup\n3. create 2 incremental backups from the first full backup\n4. create a second full backup\n5. create an incremental backup from the second full backup\n6. delete the last incremental, the second backup and the\nlast incremental for the first backup\n7. Check that you cant delete the first full backup\n\nChange-Id: I0e01defa4195007b6b3dda5b80571f042e273eae\n'}]",7,652771,db7e28a4d18c4a1e564ac25ff9650c464c8e0b5b,49,8,14,20813,,,0,"Add test for check dependencies between incr backups

One of the main problems we had was creating multiple
incremental for differents full backups.

Steps:
1. create a volume
2. create a first full backup
3. create 2 incremental backups from the first full backup
4. create a second full backup
5. create an incremental backup from the second full backup
6. delete the last incremental, the second backup and the
last incremental for the first backup
7. Check that you cant delete the first full backup

Change-Id: I0e01defa4195007b6b3dda5b80571f042e273eae
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/71/652771/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/test_volume_backup.py'],1,61a49b56794fb361887bd85a8eb4835e81a5ad6f,652771," @decorators.idempotent_id('c810fe2c-cb40-43ab-96aa-471b74516a98') def test_incremental_backup_correct_base_name(self): """"""Test correct base_name when creating incremental backup."""""" # Create volume from image volume = self.create_volume(size=CONF.volume.volume_size, imageRef=CONF.compute.image_ref) # Create backup full_backup1 = self.create_backup(volume_id=volume['id']) base_name1 = self.backups_client.show_backup( full_backup1['id'])['backup']['base_name'] # Create a server bd_map = [{'volume_id': volume['id'], 'delete_on_termination': '0'}] server_name = data_utils.rand_name('instance') server = self.create_server( name=server_name, block_device_mapping=bd_map, wait_until='ACTIVE') # Delete VM self.os_primary.servers_client.delete_server(server['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # Create the first incremental backup backup_incremental1 = self.create_backup( volume_id=volume['id'], name=""b1"", incremental=True) is_incremental = self.backups_client.show_backup( backup_incremental1['id'])['backup']['is_incremental'] self.assertTrue(is_incremental) # Create the second incremental backup backup_incremental2 = self.create_backup( volume_id=volume['id'], name=""b2"", incremental=True) is_incremental = self.backups_client.show_backup( backup_incremental2['id'])['backup']['is_incremental'] self.assertTrue(is_incremental) # Create a second backup, should have a diff basen_name full_backup2 = self.create_backup(volume_id=volume['id']) base_name2 = self.backups_client.show_backup( full_backup2['id'])['backup']['base_name'] self.assertNotEqual(base_name1, base_name2) # Create third incremental backup backup_incremental3 = self.create_backup( volume_id=volume['id'], name=""b3"", incremental=True) is_incremental = self.backups_client.show_backup( backup_incremental3['id'])['backup']['is_incremental'] self.assertTrue(is_incremental) # Delete second full and third incremental self.backups_client.delete_backup(backup_incremental3['id']) self.backups_client.delete_backup(full_backup2['id']) # Delete second incremental self.backups_client.delete_backup(backup_incremental2['id']) self.backups_client.delete_backup(full_backup2['id']) # Create another incremental and check if use the right base_name backup_incremental4 = self.create_backup( volume_id=volume['id'], name=""b2"", incremental=True) incr_params = self.backups_client.show_backup( backup_incremental4['id'])['backup'] is_incremental = incr_params['is_incremental'] base_name = incr_params['base_name'] self.assertTrue(is_incremental) self.assertNotEqual(base_name1, base_name)",,82,0
openstack%2Fkolla-ansible~master~Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0,openstack/kolla-ansible,master,Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0,opensearch-dashboard: fix permissions,MERGED,2023-05-30 05:53:30.000000000,2023-06-13 08:57:53.000000000,2023-06-13 08:56:50.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}, {'_account_id': 33271}]","[{'number': 1, 'created': '2023-05-30 05:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dbd79e7f47a8823f0939b6da8223dca67fdf5a9', 'message': 'opensearch: fix the missing config mount and set permissions\nadd missing volume path for opensearch-dashboard\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 2, 'created': '2023-05-30 07:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd57902a787902f389bdeb731d27406a4435c44c', 'message': 'opensearch: fix the missing config mount and set permissions\nadd missing volume path for opensearch-dashboard\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 3, 'created': '2023-06-02 04:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dcd9e2b2c67998bfa08b9219bbd37b6a577b6ad8', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\n            add missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 4, 'created': '2023-06-02 04:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d395f4e7f1239273cb1dc35b62c312b8fdd3201', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\n            add missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 5, 'created': '2023-06-02 07:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2485a1e1484418d2a99c7d5001caf6aa923fb89e', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\nadd missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 6, 'created': '2023-06-02 08:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b38f060be34434a71af93da4653ede11cb2017dc', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\nadd missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 7, 'created': '2023-06-02 08:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9d06854e0bdfa1f88c078f43b606dfeb1e20426b', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\nadd missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 8, 'created': '2023-06-02 09:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e095cbc52aa414477db5877edab1375050366ac', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\nadd missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 9, 'created': '2023-06-02 09:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2624c94fff7e3d6af72573b86093d85f7286abd2', 'message': 'opensearch: fix permission issues for opensearch and opensearch-dashboards,\nadd missing path opensearch and opensearch-dashboard config path\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 10, 'created': '2023-06-02 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d91ba4dedb3e76e4fdf5f7211c2c30bf04053468', 'message': 'opensearch: fix permissions for config files\n\nAdd missing pathes and fix permissions for\nopensearch and opensearch-dashboard config files.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 11, 'created': '2023-06-02 13:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73981576a69377c6fcf40aa59533d0bf86abd1e7', 'message': 'opensearch: fix permissions for config files\n\nAdd missing pathes and fix permissions for\nopensearch and opensearch-dashboard config files.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 12, 'created': '2023-06-02 16:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a80383e6eaca73d74931de730e69b30d1a6f4fd0', 'message': 'opensearch: fix permissions for config files\n\nAdd missing pathes and fix permissions for\nopensearch and opensearch-dashboard config files.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 13, 'created': '2023-06-02 16:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bce5ead4b86ebf67713fcd359487b3c75e3f8788', 'message': 'opensearch: fix permissions for config files\n\nAdd missing pathes and fix permissions for\nopensearch and opensearch-dashboard config files.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 14, 'created': '2023-06-07 13:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61b72e93e1d6301a2b35e48e240195c57ba76cca', 'message': 'opensearch: fix permissions for data directory\n\nAdd pathes and fix permissions for\nopensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 15, 'created': '2023-06-07 13:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0c6bc5d7915462c8ddb006621c7b8571b1b279f', 'message': 'opensearch: fix permissions for data directory\n\nAdd pathes and fix permissions for\nopensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 16, 'created': '2023-06-12 05:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31870f044347dc05f7ab7b3622537ce09a1a2486', 'message': 'opensearch: fix permissions for data directory\n\nAdd pathes and fix permissions for\nopensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 17, 'created': '2023-06-12 05:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bee319c9c51f70271c43476942ac36b8db7ae68b', 'message': 'opensearch: fix permissions for data directory\n\nAdd pathes and fix permissions for\nopensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 18, 'created': '2023-06-12 05:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dcb092330a26aac06fc4e25dee210dda8fc8644', 'message': 'opensearch: fix permissions for data directory\n\nAdd pathes and fix permissions for\nopensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}, {'number': 19, 'created': '2023-06-12 18:44:24.000000000', 'files': ['releasenotes/notes/bug-2020152-165c87048d92dedb.yaml', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5aaab8dc20f01666046cdefdbcc7ca95ca31e898', 'message': 'opensearch-dashboard: fix permissions\n\nFix permissions for opensearch-dashboard data directory.\n\nCloses-bug: #2020152\n\nChange-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0\nSigned-off-by: Mathias Fechner <fechner@osism.tech>\n'}]",37,884649,5aaab8dc20f01666046cdefdbcc7ca95ca31e898,60,7,19,34646,,,0,"opensearch-dashboard: fix permissions

Fix permissions for opensearch-dashboard data directory.

Closes-bug: #2020152

Change-Id: Ie4cec7649d89df5b8bb306563da2c62ea0cdd2c0
Signed-off-by: Mathias Fechner <fechner@osism.tech>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/884649/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-2020152-165c87048d92dedb.yaml', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/tasks/config.yml']",3,9dbd79e7f47a8823f0939b6da8223dca67fdf5a9,opensearch-config-location," mode: ""0664"""," mode: ""0660""",12,1
openstack%2Fsushy~master~I3dbf80f3383c51d3e754516529471698851bf573,openstack/sushy,master,I3dbf80f3383c51d3e754516529471698851bf573,Handle session-uri in body,NEW,2022-12-16 11:20:51.000000000,2023-06-13 08:27:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-16 11:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/4ab54ab81434b3ceaba5fdaf093dd8e7212ca72b', 'message': 'Handle session-uri in body\n\nThe Cisco CIMC 4.1(2b) and potentially others do not\nset the Location header as required by the Redfish\nstandard on a successful login, but returns a session\nobject as a body.\n\nBy taking the session-uri out of the body,\nwe avoid leaking sessions in that situation.\n\nChange-Id: I3dbf80f3383c51d3e754516529471698851bf573\n'}, {'number': 2, 'created': '2022-12-16 11:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/90d86c868bf615157959d4f86a83b8615d360d5f', 'message': 'Handle session-uri in body\n\nThe Cisco CIMC 4.1(2b) and potentially others do not\nset the Location header as required by the Redfish\nstandard on a successful login, but returns a session\nobject as a body.\n\nBy taking the session-uri out of the body,\nwe avoid leaking sessions in that situation.\n\nChange-Id: I3dbf80f3383c51d3e754516529471698851bf573\n'}, {'number': 3, 'created': '2022-12-16 11:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/87a940697960ac1813455e09691a734f0f9326c2', 'message': 'Handle session-uri in body\n\nThe Cisco CIMC 4.1(2b) and potentially others do not\nset the Location header as required by the Redfish\nstandard on a successful login, but return a session\nobject as a body.\n\nBy taking the session-uri out of the body,\nwe avoid leaking sessions in that situation.\n\nChange-Id: I3dbf80f3383c51d3e754516529471698851bf573\n'}, {'number': 4, 'created': '2023-05-17 11:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/7e01d872a7e9c31239174e67249f5c9e6e047d45', 'message': 'Handle session-uri in body\n\nThe Cisco CIMC 4.1(2b) and potentially others do not\nset the Location header as required by the Redfish\nstandard on a successful login, but return a session\nobject as a body.\n\nBy taking the session-uri out of the body,\nwe avoid leaking sessions in that situation.\n\nStory: 2010477\nTask: 47038\nChange-Id: I3dbf80f3383c51d3e754516529471698851bf573\n'}, {'number': 5, 'created': '2023-05-19 09:45:09.000000000', 'files': ['sushy/tests/unit/test_main.py', 'sushy/main.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/43ed6a683dedbc22a54b0b6dd66a8ddcd6fc97b2', 'message': 'Handle session-uri in body\n\nThe Cisco CIMC 4.1(2b) and potentially others do not\nset the Location header as required by the Redfish\nstandard on a successful login, but return a session\nobject as a body.\n\nBy taking the session-uri out of the body,\nwe avoid leaking sessions in that situation.\n\nStory: 2010477\nTask: 47038\nChange-Id: I3dbf80f3383c51d3e754516529471698851bf573\n'}]",6,867969,43ed6a683dedbc22a54b0b6dd66a8ddcd6fc97b2,16,1,5,24434,,,0,"Handle session-uri in body

The Cisco CIMC 4.1(2b) and potentially others do not
set the Location header as required by the Redfish
standard on a successful login, but return a session
object as a body.

By taking the session-uri out of the body,
we avoid leaking sessions in that situation.

Story: 2010477
Task: 47038
Change-Id: I3dbf80f3383c51d3e754516529471698851bf573
",git fetch https://review.opendev.org/openstack/sushy refs/changes/69/867969/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/main.py'],1,4ab54ab81434b3ceaba5fdaf093dd8e7212ca72b,handle_session_uri," try: body = rsp.json() session_uri = body.get(""@odata.id"") except ValueError: # JSON decoding failed pass if session_uri is None:",,7,0
openstack%2Fvenus~master~Iba4b68fcc8f997e0c02cf10882bbb10b32f96474,openstack/venus,master,Iba4b68fcc8f997e0c02cf10882bbb10b32f96474,fix  log store days as str,MERGED,2023-06-13 07:19:50.000000000,2023-06-13 08:12:27.000000000,2023-06-13 08:11:35.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 07:19:50.000000000', 'files': ['venus/task/core/delete_es_index_task.py', 'venus/task/timer.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/650ebbb2692e6771ef0e47220e3ffcc001961f1a', 'message': 'fix  log store days as str\n\nChange-Id: Iba4b68fcc8f997e0c02cf10882bbb10b32f96474\n'}]",0,885940,650ebbb2692e6771ef0e47220e3ffcc001961f1a,7,2,1,30455,,,0,"fix  log store days as str

Change-Id: Iba4b68fcc8f997e0c02cf10882bbb10b32f96474
",git fetch https://review.opendev.org/openstack/venus refs/changes/40/885940/1 && git format-patch -1 --stdout FETCH_HEAD,"['venus/task/core/delete_es_index_task.py', 'venus/task/timer.py']",2,650ebbb2692e6771ef0e47220e3ffcc001961f1a,," seconds=60, id='delete_es_index_job') "," seconds=300, id='delete_es_index_job') ",2,2
openstack%2Foctavia~master~Ia3ba803bed069b47f4056b49097effba1a6fe4ed,openstack/octavia,master,Ia3ba803bed069b47f4056b49097effba1a6fe4ed,WIP Add support for Distributor on its own network,NEW,2023-06-09 13:58:44.000000000,2023-06-13 08:07:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a9539b4fb6a850b96b8dc5d0eb6a5d8dc62f9a9', 'message': 'WIP Add support for Distributor on its own network\n\nChange-Id: Ia3ba803bed069b47f4056b49097effba1a6fe4ed\n'}, {'number': 2, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/db/models.py', 'octavia/amphorae/drivers/bgp/jinja/jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/common/data_models.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/controller/worker/v2/flows/amphora_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d55151cc4972f9ef020352c635d28d5c425eb6f0', 'message': 'WIP Add support for Distributor on its own network\n\nChange-Id: Ia3ba803bed069b47f4056b49097effba1a6fe4ed\n'}]",0,885763,d55151cc4972f9ef020352c635d28d5c425eb6f0,4,1,2,29244,,,0,"WIP Add support for Distributor on its own network

Change-Id: Ia3ba803bed069b47f4056b49097effba1a6fe4ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/885763/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/db/models.py', 'octavia/amphorae/drivers/bgp/jinja/jinja_cfg.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'octavia/common/data_models.py', 'octavia/controller/worker/v2/tasks/amphora_driver_tasks.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/controller/worker/v2/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/controller/worker/v2/flows/amphora_flows.py']",14,7a9539b4fb6a850b96b8dc5d0eb6a5d8dc62f9a9,bgp-exp," def get_amphora_distributor_subflow(self, prefix, role): sf_name = prefix + '-' + 'blah' flow = linear_flow.Flow(sf_name) flow.add(network_tasks.PlugDistributor( name=sf_name + '-' + 'PlugDistributor', requires=(constants.LOADBALANCER_ID, constants.AMPHORA), provides='distributor_info')) flow.add(database_tasks.UpdateVIPDistributor( name=sf_name + '-' + 'UpdateVIPDistributor', requires=(constants.AMPHORA, 'distributor_info'))) flow.add(amphora_driver_tasks.AmphoraDistributorPlug( name=sf_name + '-' + 'AmphoraDistributorPlug', requires=(constants.AMPHORA, 'distributor_info'))) flow.add( network_tasks.ApplyDistributorSecurityGroup( name=sf_name + '-' + 'ApplyDistributorSecurityGroup', requires=(constants.AMPHORA, 'distributor_info'))) return flow if role == constants.ROLE_ACTIVE: LOG.debug(f""GTh get_amphora_for_lb {prefix} {role}"") amp_for_failover_flow.add(self.get_amphora_distributor_subflow( prefix=prefix + '-' + 'bdabf', role=role)) ",,349,48
openstack%2Foctavia~master~I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1,openstack/octavia,master,I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1,WIP Add BGP support in the amphora-agent,NEW,2022-04-08 15:53:43.000000000,2023-06-13 08:02:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fca893567ede3b9ae215092d98037c908a2861ff', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c22ee579c7e152985e33838dc4636d15d4b10d69', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/99d5febda9128abc2c34b309a7d61e19edb6018d', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 4, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6776bddb0d85b7b8ed4da9c15c409b0abff406f3', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 5, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35cc0c19437e97be716a5ce3355ae261bfc03e6b', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 6, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae915c0d75aa9c85bac36b9c78af3ac9af858f31', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}, {'number': 7, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/bgp.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/utils/interface_file.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_bgp.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface_file.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/amphorae/backends/agent/api_server/__init__.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/860b855ee1c8c4ba173fcf2c058b04f8698d0543', 'message': 'WIP Add BGP support in the amphora-agent\n\nChange-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1\n'}]",4,837150,860b855ee1c8c4ba173fcf2c058b04f8698d0543,14,1,7,29244,,,0,"WIP Add BGP support in the amphora-agent

Change-Id: I1e13d84b7aec5bd0332f2c51ce1ef461e05a91f1
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/837150/7 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_bgp.py', 'octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/amphorae/backends/agent/api_server/bgp.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/utils/test_interface_file.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/amphorae/backends/agent/api_server/__init__.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",10,fca893567ede3b9ae215092d98037c908a2861ff,bgp-exp," api_version='1.1', expected_dict = {'active': True, 'api_version': '1.1', @mock.patch('os.path.exists') @mock.patch('os.makedirs') @mock.patch('os.rename') @mock.patch('subprocess.check_output') @mock.patch('os.remove') def test_upload_bgp_config(self, mock_remove, mock_subprocess, mock_rename, mock_makedirs, mock_exists): flags = os.O_WRONLY | os.O_CREAT | os.O_TRUNC mock_exists.return_value = True cfg_path = ""/etc/frr/frr.conf"" m = self.useFixture(test_utils.OpenFixture(cfg_path)).mock_open with mock.patch('os.open') as mock_open, mock.patch.object( os, 'fdopen', m) as mock_fdopen: mock_open.return_value = 123 rv = self.ubuntu_app.put('/' + api_server.VERSION + '/bgp/upload', data='test') mode = stat.S_IRUSR | stat.S_IWUSR | stat.S_IRGRP | stat.S_IROTH mock_open.assert_called_with(cfg_path, flags, mode) mock_fdopen.assert_called_with(123, 'wb') self.assertEqual(200, rv.status_code) @mock.patch('subprocess.check_output') def test_manage_service_bgp(self, mock_check_output): rv = self.ubuntu_app.put('/' + api_server.VERSION + '/bgp/start') self.assertEqual(202, rv.status_code) rv = self.ubuntu_app.put('/' + api_server.VERSION + '/bgp/restart') self.assertEqual(400, rv.status_code) mock_check_output.side_effect = subprocess.CalledProcessError(1, 'blah!') rv = self.ubuntu_app.put('/' + api_server.VERSION + '/bgp/start') self.assertEqual(500, rv.status_code)"," api_version='1.0', expected_dict = {'active': True, 'api_version': '1.0',",396,12
openstack%2Fskyline-console~master~I82e5db2b29a1499e870003e867f76d85abab4d7c,openstack/skyline-console,master,I82e5db2b29a1499e870003e867f76d85abab4d7c,fix: update create metadata,MERGED,2023-06-13 05:23:19.000000000,2023-06-13 08:02:10.000000000,2023-06-13 08:01:08.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-06-13 05:23:19.000000000', 'files': ['src/pages/configuration/containers/Metadata/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/eedea3eccd2f300bfe7cce5270db9887d4150b6f', 'message': 'fix: update create metadata\n\nadd json format check when create metadata\n\nChange-Id: I82e5db2b29a1499e870003e867f76d85abab4d7c\n'}]",0,885934,eedea3eccd2f300bfe7cce5270db9887d4150b6f,8,3,1,30434,,,0,"fix: update create metadata

add json format check when create metadata

Change-Id: I82e5db2b29a1499e870003e867f76d85abab4d7c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/34/885934/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/configuration/containers/Metadata/actions/Create.jsx'],1,eedea3eccd2f300bfe7cce5270db9887d4150b6f,bugs,"import { jsonValidator } from 'utils/validate'; validator: jsonValidator, if (!body) { body = {}; }",,5,0
openstack%2Foctavia~master~Ie201dad8a80e294c7177b88990bbf816b7c91159,openstack/octavia,master,Ie201dad8a80e294c7177b88990bbf816b7c91159,WIP Add BGP driver in Octavia controller,NEW,2022-04-08 15:53:43.000000000,2023-06-13 08:01:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ac87f5ff4b47ea70f982a83d10e2747cea9ee70', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1079cd7127294b9eb35d852bf3cbe4718bade73b', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/556d90d9a9b78a3f82d94e018a19e7b855066ee7', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 4, 'created': '2022-09-29 07:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/005abdb470ebd9287af0020003f56f09cb4e8a99', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 5, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/922278f5c966d9079247f0a82d9ec87120a1fec5', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 6, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7daf864a7e82fc992a805845e377f7811ff2342b', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}, {'number': 7, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/bgp/jinja/__init__.py', 'octavia/amphorae/drivers/bgp/jinja/templates/frr.conf.j2', 'octavia/amphorae/drivers/bgp/__init__.py', 'octavia/amphorae/drivers/bgp/bgp_rest_driver.py', 'octavia/amphorae/drivers/bgp/jinja/jinja_cfg.py', 'octavia/tests/unit/amphorae/drivers/bgp/jinja/test_jinja_cfg.py', 'octavia/tests/unit/amphorae/drivers/bgp/test_bgp_rest_driver.py', 'octavia/tests/unit/amphorae/drivers/bgp/__init__.py', 'octavia/amphorae/drivers/bgp/jinja/__init__.py', 'octavia/amphorae/drivers/driver_base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/45d3b72b02bdb4e9b38c580050ea75f20c722f5a', 'message': 'WIP Add BGP driver in Octavia controller\n\nChange-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159\n'}]",10,837151,45d3b72b02bdb4e9b38c580050ea75f20c722f5a,15,1,7,29244,,,0,"WIP Add BGP driver in Octavia controller

Change-Id: Ie201dad8a80e294c7177b88990bbf816b7c91159
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/837151/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/unit/amphorae/drivers/bgp/jinja/__init__.py', 'octavia/amphorae/drivers/bgp/__init__.py', 'octavia/amphorae/drivers/bgp/jinja/templates/frr.conf.j2', 'octavia/amphorae/drivers/bgp/bgp_rest_driver.py', 'octavia/amphorae/drivers/bgp/jinja/jinja_cfg.py', 'octavia/tests/unit/amphorae/drivers/bgp/jinja/test_jinja_cfg.py', 'octavia/tests/unit/amphorae/drivers/bgp/test_bgp_rest_driver.py', 'octavia/tests/unit/amphorae/drivers/bgp/__init__.py', 'octavia/amphorae/drivers/bgp/jinja/__init__.py', 'octavia/amphorae/drivers/driver_base.py']",11,7ac87f5ff4b47ea70f982a83d10e2747cea9ee70,bgp-exp," class BGPDriverMixin(object, metaclass=abc.ABCMeta): """"""Abstract mixin class for BGP support in loadbalancer amphorae Usage: To plug BGP support in another service driver XYZ, use: @plug_mixin(XYZ) class XYZ: ... """""" @abc.abstractmethod def update_bgp_conf(self, loadbalancer, amphorae_network_config, amphora, timeout_dict=None): """"""Update amphorae of the loadbalancer with a new BGP configuration :param loadbalancer: loadbalancer object :param amphorae_network_config: amphorae network configurations :param amphora: The amphora object to update. :param timeout_dict: Dictionary of timeout values for calls to the amphora. May contain: req_conn_timeout, req_read_timeout, conn_max_retries, conn_retry_interval """""" @abc.abstractmethod def stop_bgp_service(self, loadbalancer): """"""Stop the bgp services running on the loadbalancer's amphorae :param loadbalancer: loadbalancer object """""" @abc.abstractmethod def start_bgp_service(self, amphora, timeout_dict=None): """"""Start the BGP services on the amphora :param amphora: The amphora object to start the service on. :param timeout_dict: Dictionary of timeout values for calls to the amphora. May contain: req_conn_timeout, req_read_timeout, conn_max_retries, conn_retry_interval """""" @abc.abstractmethod def reload_bgp_service(self, loadbalancer): """"""Reload the BGP services of all amphorae of the loadbalancer :param loadbalancer: loadbalancer object """"""",,572,0
openstack%2Fci-log-processing~master~I737eceaa33fab10f5570c6c3fc003fbaff85e33a,openstack/ci-log-processing,master,I737eceaa33fab10f5570c6c3fc003fbaff85e33a,Remove condition for checking if dir contains files,MERGED,2023-06-13 06:57:18.000000000,2023-06-13 07:34:18.000000000,2023-06-13 07:33:22.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 06:57:18.000000000', 'files': ['logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/75b1bfcb29a9d437b73b7b7f9f330f2a725c5a69', 'message': 'Remove condition for checking if dir contains files\n\nThe condition that is skiping main download dir to remove\ndirectories older than 12 hours has been moved in patch set[1].\nIt is not needed to verify, if the dir contains a files inside.\n\n[1] https://review.opendev.org/c/openstack/ci-log-processing/+/885340/\n\nChange-Id: I737eceaa33fab10f5570c6c3fc003fbaff85e33a\n'}]",0,885937,75b1bfcb29a9d437b73b7b7f9f330f2a725c5a69,7,5,1,20676,,,0,"Remove condition for checking if dir contains files

The condition that is skiping main download dir to remove
directories older than 12 hours has been moved in patch set[1].
It is not needed to verify, if the dir contains a files inside.

[1] https://review.opendev.org/c/openstack/ci-log-processing/+/885340/

Change-Id: I737eceaa33fab10f5570c6c3fc003fbaff85e33a
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/37/885937/1 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logsender.py'],1,75b1bfcb29a9d437b73b7b7f9f330f2a725c5a69,," """"""Remove directories that are older than 12 hours""""""", # Skip main download directory if not files: return ,1,4
openstack%2Fovn-bgp-agent~master~Ida6954801a6d1bb56908eea28cd0749bec02ad87,openstack/ovn-bgp-agent,master,Ida6954801a6d1bb56908eea28cd0749bec02ad87,Avoid privsep blocking due to NDB hang,ABANDONED,2023-06-08 09:21:58.000000000,2023-06-13 07:32:40.000000000,,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-08 09:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9d459ca2601414dbed25f84f7cc95dbcd7804766', 'message': '[WIP] Just to test if this is enough for now\n\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 2, 'created': '2023-06-08 10:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/1e8d8fea3332de6efc350d7fd83c2c45f0b8029b', 'message': '[WIP] Just to test if this is enough for now\n\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 3, 'created': '2023-06-08 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d7cc72bb82f0e20eb197257f90d237e9d705b87e', 'message': '[WIP] Just to test if this is enough for now\n\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 4, 'created': '2023-06-08 13:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/cf7ac49b9c5cfb54474bc47c3e0bcebc1be3958c', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 5, 'created': '2023-06-08 13:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6d4e9f2999903defc7ef4e833d5c98035f16525e', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 6, 'created': '2023-06-08 14:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/37a9c00dea105230d8a2ac89adacd236abb6849f', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 7, 'created': '2023-06-08 14:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a3778752fef560aa2d993b653402d27a0f8bbbd5', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 8, 'created': '2023-06-08 14:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/978b90ef1a4b2b4cd810ada36fb2e255f3d2b5db', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 9, 'created': '2023-06-08 14:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e25966c02e23d35955a30d6ae583ffc2bb6b77fe', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 10, 'created': '2023-06-09 07:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/21d48bd29790562ae8d387242184f00e296b34a7', 'message': 'Force the add_ip_to_dev/del_ip_from_dev to use IPRoute\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving these two methods we can avoid the NDB\nhang that in turns caused the privsep thread to hang, stopping the\nagent for processing further events\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 11, 'created': '2023-06-09 08:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6d1b0786f8c1677bbe1d834989501af8e84a2b93', 'message': 'Avoid privsep blocking due to NDB hang\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving the next methods to IPRoute we can avoid\nthe NDB hang that in turns caused the privsep thread to hang,\nstopping the agent for processing further events:\n- add_ip_to_dev\n- del_ip_from_dev\n- set_master_for_dev\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 12, 'created': '2023-06-09 08:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/316ec485971c6922b08639d338dd470ea3fe88be', 'message': 'Avoid privsep blocking due to NDB hang\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving the next methods to IPRoute we can avoid\nthe NDB hang that in turns caused the privsep thread to hang,\nstopping the agent for processing further events:\n- add_ip_to_dev\n- del_ip_from_dev\n- set_master_for_dev\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 13, 'created': '2023-06-09 09:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/b1a8fd802ee13b48304440be49b7d14c1b0326eb', 'message': 'Avoid privsep blocking due to NDB hang\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving the next methods to IPRoute we can avoid\nthe NDB hang that in turns caused the privsep thread to hang,\nstopping the agent for processing further events:\n- set_device_status\n- add_ip_to_dev\n- del_ip_from_dev\n- set_master_for_dev\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}, {'number': 14, 'created': '2023-06-09 12:18:08.000000000', 'files': ['ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/tests/unit/utils/test_linux_net.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/735cd1995d90e854f7fb08022b79f07b0592d296', 'message': 'Avoid privsep blocking due to NDB hang\n\nThere are some issues with NDB when multiple IPs are added/removed\nfrom the NICs that may lead to the problem reported in [1]. This\ncan be caused by live migration of VMs due to bug [2].\n\nIt seems by just moving the next methods to IPRoute we can avoid\nthe NDB hang that in turns caused the privsep thread to hang,\nstopping the agent for processing further events:\n- set_device_status\n- add_ip_to_dev\n- del_ip_from_dev\n- set_master_for_dev\n\n[1] https://github.com/svinota/pyroute2/issues/883\n[2] https://bugs.launchpad.net/neutron/+bug/1986003\n\nCloses-Bug: #2022357\nChange-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87\n'}]",11,885443,735cd1995d90e854f7fb08022b79f07b0592d296,35,4,14,23567,,,0,"Avoid privsep blocking due to NDB hang

There are some issues with NDB when multiple IPs are added/removed
from the NICs that may lead to the problem reported in [1]. This
can be caused by live migration of VMs due to bug [2].

It seems by just moving the next methods to IPRoute we can avoid
the NDB hang that in turns caused the privsep thread to hang,
stopping the agent for processing further events:
- set_device_status
- add_ip_to_dev
- del_ip_from_dev
- set_master_for_dev

[1] https://github.com/svinota/pyroute2/issues/883
[2] https://bugs.launchpad.net/neutron/+bug/1986003

Closes-Bug: #2022357
Change-Id: Ida6954801a6d1bb56908eea28cd0749bec02ad87
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/43/885443/5 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/privileged/linux_net.py'],1,9d459ca2601414dbed25f84f7cc95dbcd7804766,," with pyroute2.IPRoute() as ipr: idx = ipr.link_lookup(ifname=nic)[0] ipr.addr('add', index=idx, address=address) except pyroute2.NetlinkError as e: # Already exists if e.code == pyroute2.exceptions.EEXIST: LOG.debug(""IP %s already added to interface %s."", address, nic) else: raise except IndexError: LOG.debug(""No need to add ip to dev %s as it does not exists"", nic) with pyroute2.IPRoute() as ipr: idx = ipr.link_lookup(ifname=nic)[0] ipr.addr('del', index=idx, address=address) except pyroute2.NetlinkError as e: # Already deleted if e.code == pyroute2.exceptions.ENOENT: LOG.debug(""IP %s already deleted from interface %s."", address, nic) else: raise except IndexError: LOG.debug(""No need to del ip to dev %s as it does not exists"", nic)"," with pyroute2.NDB() as ndb: with ndb.interfaces[nic] as iface: iface.add_ip(address) except KeyError: # Already exists LOG.debug(""IP %s already added to interface %s."", address, nic) with pyroute2.NDB() as ndb: with ndb.interfaces[nic] as iface: iface.del_ip(address) except KeyError: # Already deleted LOG.debug(""IP %s already deleted from interface %s."", address, nic)",20,10
openstack%2Fkolla-ansible~stable%2F2023.1~I8bee27882c15e39a3d2946787d56bc90db994887,openstack/kolla-ansible,stable/2023.1,I8bee27882c15e39a3d2946787d56bc90db994887,Fix Venus containers start issue,ABANDONED,2023-06-12 14:03:24.000000000,2023-06-13 07:26:58.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-12 14:03:24.000000000', 'files': ['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus.conf.j2', 'ansible/roles/venus/templates/venus-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/caf07f8675b4c74b254f9592c1173decbf1dfdc5', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error\n(venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form\ndos to unix introduced in [2].\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n2. If3562bbed6181002b76831bab54f863041c5a885\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 8c8dad01877c795bec01dbb65de9532fc1f31a5a)\n'}]",0,885884,caf07f8675b4c74b254f9592c1173decbf1dfdc5,4,3,1,14200,,,0,"Fix Venus containers start issue

The venus containers failed to start with an error
(venus_api container):
/usr/local/bin/kolla_start: line 24: exec: venus-api: not found
because of [1] and also changes the encoding of the files form
dos to unix introduced in [2].

1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30
2. If3562bbed6181002b76831bab54f863041c5a885

Change-Id: I8bee27882c15e39a3d2946787d56bc90db994887
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 8c8dad01877c795bec01dbb65de9532fc1f31a5a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/885884/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus.conf.j2', 'ansible/roles/venus/templates/venus-api.json.j2']",3,caf07f8675b4c74b254f9592c1173decbf1dfdc5,fix-venus,"{ ""command"": ""venus_api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ","{ ""command"": ""venus-api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ",73,73
openstack%2Fkolla-ansible~stable%2Fzed~I8bee27882c15e39a3d2946787d56bc90db994887,openstack/kolla-ansible,stable/zed,I8bee27882c15e39a3d2946787d56bc90db994887,Fix Venus containers start issue,ABANDONED,2023-06-12 14:04:04.000000000,2023-06-13 07:26:30.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-12 14:04:04.000000000', 'files': ['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus.conf.j2', 'ansible/roles/venus/templates/venus-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5fdc6cab5f8b84d2c0ecc3bee46eec624140ccb', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error\n(venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form\ndos to unix introduced in [2].\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n2. If3562bbed6181002b76831bab54f863041c5a885\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 8c8dad01877c795bec01dbb65de9532fc1f31a5a)\n'}]",3,885885,f5fdc6cab5f8b84d2c0ecc3bee46eec624140ccb,11,3,1,14200,,,0,"Fix Venus containers start issue

The venus containers failed to start with an error
(venus_api container):
/usr/local/bin/kolla_start: line 24: exec: venus-api: not found
because of [1] and also changes the encoding of the files form
dos to unix introduced in [2].

1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30
2. If3562bbed6181002b76831bab54f863041c5a885

Change-Id: I8bee27882c15e39a3d2946787d56bc90db994887
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 8c8dad01877c795bec01dbb65de9532fc1f31a5a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/885885/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus.conf.j2', 'ansible/roles/venus/templates/venus-api.json.j2']",3,f5fdc6cab5f8b84d2c0ecc3bee46eec624140ccb,fix-venus,"{ ""command"": ""venus_api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ","{ ""command"": ""venus-api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ",73,73
openstack%2Foctavia~master~I918df956c1714a0ad0236298d3a63c2ad005ea32,openstack/octavia,master,I918df956c1714a0ad0236298d3a63c2ad005ea32,WIP Add distributor data model and API,NEW,2023-06-09 13:58:44.000000000,2023-06-13 07:25:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 13:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/699eeb4861e902219273ee45e5e8c2784053b5e3', 'message': 'WIP Add distributor data model and API\n\nAdd data model for Octavia Distributor and its associated resources (L3\nBGP Peer and L3 BGP Speaker)\nAdd CRUD API for these resources.\n\nChange-Id: I918df956c1714a0ad0236298d3a63c2ad005ea32\n'}, {'number': 2, 'created': '2023-06-13 06:44:06.000000000', 'files': ['octavia/db/base_models.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/db/models.py', 'octavia/api/v2/controllers/distributor.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/db/migration/alembic_migrations/versions/6987d441eb42_bgp_tables2.py', 'octavia/policies/distributor_l3_bgp_speaker.py', 'octavia/api/v2/types/distributor.py', 'octavia/api/v2/controllers/distributor_l3_bgp_speaker.py', 'octavia/api/drivers/utils.py', 'octavia/api/v2/controllers/distributor_l3_bgp_peer.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/common/data_models.py', 'octavia/policies/distributor.py', 'octavia/common/constants.py', 'octavia/policies/distributor_l3_bgp_peer.py', 'octavia/api/v2/types/distributor_l3_bgp_speaker.py', 'octavia/db/repositories.py', 'octavia/api/root_controller.py', 'octavia/policies/__init__.py', 'octavia/api/v2/types/distributor_l3_bgp_peer.py', 'octavia/api/v2/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/00badf9f0f8445619dbc534c4d30ceecb6eb81ee', 'message': 'WIP Add distributor data model and API\n\nAdd data model for Octavia Distributor and its associated resources (L3\nBGP Peer and L3 BGP Speaker)\nAdd CRUD API for these resources.\n\nChange-Id: I918df956c1714a0ad0236298d3a63c2ad005ea32\n'}]",0,885762,00badf9f0f8445619dbc534c4d30ceecb6eb81ee,4,1,2,29244,,,0,"WIP Add distributor data model and API

Add data model for Octavia Distributor and its associated resources (L3
BGP Peer and L3 BGP Speaker)
Add CRUD API for these resources.

Change-Id: I918df956c1714a0ad0236298d3a63c2ad005ea32
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/885762/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/db/base_models.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/db/models.py', 'octavia/api/v2/controllers/distributor.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/db/migration/alembic_migrations/versions/6987d441eb42_bgp_tables2.py', 'octavia/policies/distributor_l3_bgp_speaker.py', 'octavia/api/v2/types/distributor.py', 'octavia/api/v2/controllers/distributor_l3_bgp_speaker.py', 'octavia/api/drivers/utils.py', 'octavia/api/v2/controllers/distributor_l3_bgp_peer.py', 'octavia/api/v2/types/load_balancer.py', 'octavia/common/data_models.py', 'octavia/policies/distributor.py', 'octavia/common/constants.py', 'octavia/policies/distributor_l3_bgp_peer.py', 'octavia/api/v2/types/distributor_l3_bgp_speaker.py', 'octavia/db/repositories.py', 'octavia/api/root_controller.py', 'octavia/policies/__init__.py', 'octavia/api/v2/types/distributor_l3_bgp_peer.py', 'octavia/api/v2/controllers/base.py']",22,699eeb4861e902219273ee45e5e8c2784053b5e3,bgp-exp," def _get_db_distributor(self, session, id): """"""Get a distributor from the database."""""" return self._get_db_obj(session, self.repositories.distributor, data_models.Distributor, id) def _get_db_distributor_l3_bgp_peer(self, session, id): """"""Get a distributor l3 bgp peer from the database."""""" return self._get_db_obj(session, self.repositories.distributor_l3_bgp_peer, data_models.DistributorL3BgpPeer, id) def _get_db_distributor_l3_bgp_speaker(self, session, id): """"""Get a distributor l3 bgp speaker from the database."""""" return self._get_db_obj(session, self.repositories.distributor_l3_bgp_speaker, data_models.DistributorL3BgpSpeaker, id) ",,1269,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic5f81a2ac3176059280dfbb327e243638b613abc,openstack/tripleo-ansible,stable/wallaby,Ic5f81a2ac3176059280dfbb327e243638b613abc,Update the repo to install tripleo-repos,MERGED,2023-06-09 10:18:35.000000000,2023-06-13 06:17:04.000000000,2023-06-13 06:17:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29775}]","[{'number': 1, 'created': '2023-06-09 10:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af2c5bfa3c11413aa5a43960f740f85b6a812487', 'message': 'Update the repo to install tripleo-repos\n\nWallaby was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}, {'number': 2, 'created': '2023-06-09 10:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/11bb439e3f9f31f75e6d5df1261c75ec887d6dac', 'message': 'Update the repo to install tripleo-repos\n\nWallaby was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nCloses-Bug: #2023379\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}, {'number': 3, 'created': '2023-06-12 08:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e3fa2b43ab0ef45f5543170b729feb8a29ff9d2', 'message': 'Update the repo to install tripleo-repos\n\nWallaby was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nDepends-On:\nhttps://review.opendev.org/c/openstack/tripleo-upgrade/+/885828\n\nCloses-Bug: #2023379\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}, {'number': 4, 'created': '2023-06-12 12:11:48.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b22c1034624b5967b5bf47d40b3c0c97b5d0e68', 'message': 'Update the repo to install tripleo-repos\n\nWallaby was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nCloses-Bug: #2023379\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}]",4,885740,4b22c1034624b5967b5bf47d40b3c0c97b5d0e68,26,6,4,8367,,,0,"Update the repo to install tripleo-repos

Wallaby was using delorean.repo from master, which no longer have
tripleo components and started to fail with missing package. This patch
fix it using the proper release for wallaby, instead of rely on master
repositories (which was wrong anyway).

Closes-Bug: #2023379

Change-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/885740/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_deps/tasks/main.yml'],1,af2c5bfa3c11413aa5a43960f740f85b6a812487,fix-repos, url: https://trunk.rdoproject.org/centos{{ ansible_facts['distribution_major_version'] }}-wallaby/current/delorean.repo, url: https://trunk.rdoproject.org/centos{{ ansible_facts['distribution_major_version'] }}/current/delorean.repo,1,1
openstack%2Fskyline-console~master~Ia909771d38477bf726cec25b1ad46b7780b64244,openstack/skyline-console,master,Ia909771d38477bf726cec25b1ad46b7780b64244,fix: fix edit fip,MERGED,2023-06-13 02:09:37.000000000,2023-06-13 06:11:58.000000000,2023-06-13 06:10:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-06-13 02:09:37.000000000', 'files': ['src/pages/network/containers/FloatingIp/actions/Edit.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a0dcb587c5426bf36cf3eee24b520df32b8b60de', 'message': 'fix: fix edit fip\n\nfix edit fip when the qos policy service is disabled\n\nCloses-Bug: #2023608\nChange-Id: Ia909771d38477bf726cec25b1ad46b7780b64244\n'}]",0,885930,a0dcb587c5426bf36cf3eee24b520df32b8b60de,8,3,1,30434,,,0,"fix: fix edit fip

fix edit fip when the qos policy service is disabled

Closes-Bug: #2023608
Change-Id: Ia909771d38477bf726cec25b1ad46b7780b64244
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/30/885930/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/network/containers/FloatingIp/actions/Edit.jsx'],1,a0dcb587c5426bf36cf3eee24b520df32b8b60de,bug/2023608," const body = { description, }; if (this.qosEndpoint) { body.qos_policy_id = qos_policy_id ? qos_policy_id.selectedRowKeys.length : null : null; } return globalFloatingIpsStore.edit({ id: this.item.id }, body);"," return globalFloatingIpsStore.edit( { id: this.item.id }, { description, qos_policy_id: qos_policy_id.selectedRowKeys.length : null, } );",10,8
openstack%2Fkolla-ansible~master~I8c4b0053f2f16b6d243462c4b8117748d26143a0,openstack/kolla-ansible,master,I8c4b0053f2f16b6d243462c4b8117748d26143a0,Clarifies misleading error on ceilometer role`s precheck task,MERGED,2023-03-06 18:24:27.000000000,2023-06-13 06:02:02.000000000,2023-06-13 06:01:03.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 34437}, {'_account_id': 34585}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-03-06 18:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcedc66c5299bfc97066239a27159e1f8227c8c5', 'message': 'Clarifies misleading error on ceilometer role`s precheck task: `gnocchi is required`\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\nChange-Id: I7553ad674c6c8b4a7255cfe57c9c9eafbaec9b5a\n\nRelated-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 2, 'created': '2023-05-05 19:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1135d9502b6f6ccc34b1433cd381f9a8420d0e36', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\nChange-Id: I7553ad674c6c8b4a7255cfe57c9c9eafbaec9b5a\n\nRelated-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 3, 'created': '2023-05-08 13:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e3a009f01d052b5b2a47afb277c117e4193d898', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\n\nRelated-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 4, 'created': '2023-05-11 14:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d993268a729042f01b7766301e99624b7b149f0d', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\n\nCloses-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 5, 'created': '2023-05-11 16:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5232549f64382e8d1088ab20381e6df10ad7da97', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\n\nCloses-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 6, 'created': '2023-05-11 19:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01de2b6694cb40f63ba30e8b61e4ec10cc57278f', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\n\nCloses-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}, {'number': 7, 'created': '2023-05-12 01:07:49.000000000', 'files': ['ansible/roles/ceilometer/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/296de45b302a1163e5d2f7dc1119a5bcbd77a3ce', 'message': 'Clarifies misleading error on ceilometer role`s precheck task\n\nSigned-off-by: FelipeAFV <ffigueroa@whitestack.com>\n\nCloses-Bug: #2009518\nChange-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0\n'}]",15,876599,296de45b302a1163e5d2f7dc1119a5bcbd77a3ce,50,8,7,35765,,,0,"Clarifies misleading error on ceilometer role`s precheck task

Signed-off-by: FelipeAFV <ffigueroa@whitestack.com>

Closes-Bug: #2009518
Change-Id: I8c4b0053f2f16b6d243462c4b8117748d26143a0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/876599/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceilometer/tasks/precheck.yml'],1,fcedc66c5299bfc97066239a27159e1f8227c8c5,misleading-proposal,"- name: Checking Ceilometer publishers fail: msg: ""At least one Ceilometer publisher must be enabled""","- name: Checking gnocchi backend for ceilometer fail: msg: ""gnocchi is required but not enabled""",2,2
openstack%2Fdevstack-plugin-container~stable%2Fzed~I12015c28f6f8ffc125097a14514a6a90a20cf35b,openstack/devstack-plugin-container,stable/zed,I12015c28f6f8ffc125097a14514a6a90a20cf35b,Support installing specific version of docker,MERGED,2023-06-12 02:29:44.000000000,2023-06-13 03:39:30.000000000,2023-06-13 03:39:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 02:29:44.000000000', 'files': ['devstack/lib/docker', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/7fc56c721c1e4cb470192cf6f3f953ccc59e0d33', 'message': 'Support installing specific version of docker\n\nChange-Id: I12015c28f6f8ffc125097a14514a6a90a20cf35b\n(cherry picked from commit f8e786f0d5b885f003185aba6ad7e81ae3ab6dfa)\n'}]",0,885487,7fc56c721c1e4cb470192cf6f3f953ccc59e0d33,6,2,1,11536,,,0,"Support installing specific version of docker

Change-Id: I12015c28f6f8ffc125097a14514a6a90a20cf35b
(cherry picked from commit f8e786f0d5b885f003185aba6ad7e81ae3ab6dfa)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/87/885487/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/docker', 'devstack/settings']",2,7fc56c721c1e4cb470192cf6f3f953ccc59e0d33,,UBUNTU_DOCKER_VERSION=${UBUNTU_DOCKER_VERSION:-} ,,7,1
openstack%2Fdevstack-plugin-container~stable%2Fyoga~I12015c28f6f8ffc125097a14514a6a90a20cf35b,openstack/devstack-plugin-container,stable/yoga,I12015c28f6f8ffc125097a14514a6a90a20cf35b,Support installing specific version of docker,MERGED,2023-06-12 02:29:59.000000000,2023-06-13 03:39:29.000000000,2023-06-13 03:39:29.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 02:29:59.000000000', 'files': ['devstack/lib/docker', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/53e3388873b95e2c23a4d43d7d48668d4ac81b5e', 'message': 'Support installing specific version of docker\n\nChange-Id: I12015c28f6f8ffc125097a14514a6a90a20cf35b\n(cherry picked from commit f8e786f0d5b885f003185aba6ad7e81ae3ab6dfa)\n'}]",0,885488,53e3388873b95e2c23a4d43d7d48668d4ac81b5e,6,2,1,11536,,,0,"Support installing specific version of docker

Change-Id: I12015c28f6f8ffc125097a14514a6a90a20cf35b
(cherry picked from commit f8e786f0d5b885f003185aba6ad7e81ae3ab6dfa)
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/88/885488/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/docker', 'devstack/settings']",2,53e3388873b95e2c23a4d43d7d48668d4ac81b5e,,UBUNTU_DOCKER_VERSION=${UBUNTU_DOCKER_VERSION:-} ,,7,1
openstack%2Fvenus~master~I0a889c2c6f93a6fdbb47ffd3c1a2569215e8ce80,openstack/venus,master,I0a889c2c6f93a6fdbb47ffd3c1a2569215e8ce80,fix operate error,MERGED,2023-06-13 02:33:17.000000000,2023-06-13 02:59:26.000000000,2023-06-13 02:58:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 02:33:17.000000000', 'files': ['venus/db/alembic/versions/a6cf98f55b4d_.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/aa9759b056026789db5b8d6b2d2331331637a840', 'message': 'fix operate error\n\nChange-Id: I0a889c2c6f93a6fdbb47ffd3c1a2569215e8ce80\n'}]",0,885932,aa9759b056026789db5b8d6b2d2331331637a840,7,2,1,30455,,,0,"fix operate error

Change-Id: I0a889c2c6f93a6fdbb47ffd3c1a2569215e8ce80
",git fetch https://review.opendev.org/openstack/venus refs/changes/32/885932/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/db/alembic/versions/a6cf98f55b4d_.py'],1,aa9759b056026789db5b8d6b2d2331331637a840,," sa.Column('id', sa.String(64), primary_key=True), sa.Column('value', sa.String(10240), nullable=False), sa.Column('update_time', sa.DateTime),"," op.Column('id', op.String(64), primary_key=True), op.Column('value', op.String(10240), nullable=False), op.Column('update_time', op.DateTime),",3,3
openstack%2Fvenus~master~I7482e6e309879d691ee24cdcf2d243136c98bf98,openstack/venus,master,I7482e6e309879d691ee24cdcf2d243136c98bf98,change func name,MERGED,2023-06-13 01:17:55.000000000,2023-06-13 01:51:55.000000000,2023-06-13 01:50:57.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-13 01:17:55.000000000', 'files': ['venus/db/alembic/versions/a6cf98f55b4d_.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/ba6ea75ef0f064be63c573d3711a6a52d8a0e624', 'message': 'change func name\n\nChange-Id: I7482e6e309879d691ee24cdcf2d243136c98bf98\n'}]",0,885909,ba6ea75ef0f064be63c573d3711a6a52d8a0e624,7,2,1,30455,,,0,"change func name

Change-Id: I7482e6e309879d691ee24cdcf2d243136c98bf98
",git fetch https://review.opendev.org/openstack/venus refs/changes/09/885909/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/db/alembic/versions/a6cf98f55b4d_.py'],1,ba6ea75ef0f064be63c573d3711a6a52d8a0e624,, t_mo_custom_config = op.create_table(, t_mo_custom_config = op.Table(,1,1
openstack%2Fswift~master~I94e8cfd154aa058d91255efc87776224a919f572,openstack/swift,master,I94e8cfd154aa058d91255efc87776224a919f572,tests: Fix probe test when encryption is enabled,NEW,2023-06-05 04:07:20.000000000,2023-06-13 01:24:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 04:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/68676aac7d29238184534d7c6e82c81594b79223', 'message': 'tests: Fix probe test when encryption is enabled\n\nChange-Id: I94e8cfd154aa058d91255efc87776224a919f572\n'}, {'number': 2, 'created': '2023-06-05 06:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75495b9f35d8c6232d0ccb8b268cd7754b6210ce', 'message': 'tests: Fix probe test when encryption is enabled\n\nChange-Id: I94e8cfd154aa058d91255efc87776224a919f572\n'}, {'number': 3, 'created': '2023-06-13 00:06:28.000000000', 'files': ['test/probe/test_object_versioning.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fef86c5de14cf0dfb01c7e4ed5ba15f655c56f2d', 'message': 'tests: Fix probe test when encryption is enabled\n\nChange-Id: I94e8cfd154aa058d91255efc87776224a919f572\n'}]",10,885206,fef86c5de14cf0dfb01c7e4ed5ba15f655c56f2d,11,1,3,15343,,,0,"tests: Fix probe test when encryption is enabled

Change-Id: I94e8cfd154aa058d91255efc87776224a919f572
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/885206/2 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_object_versioning.py'],1,68676aac7d29238184534d7c6e82c81594b79223,," encrypted_meta = set() encrypted_header = headers['X-Object-Transient-Sysmeta-Crypto-Meta'] if encrypted_header: encrypted_meta.add(encrypted_header) else: metadata.append(headers['X-Object-Meta-Bar']) if encrypted_meta: self.assertEqual(1, len(encrypted_meta)) else: self.assertEqual(['meta-bar'] * len(self.nodes), metadata) encrypted_meta = set() encrypted_header = headers['X-Object-Transient-Sysmeta-Crypto-Meta'] if encrypted_header: encrypted_meta.add(encrypted_header) else: metadata.append(headers['X-Object-Meta-Bar']) if encrypted_meta: self.assertEqual(1, len(encrypted_meta)) else: self.assertEqual(['meta-bar'] * len(self.nodes), metadata)"," metadata.append(headers['X-Object-Meta-Bar']) self.assertEqual(['meta-bar'] * len(self.nodes), metadata) metadata.append(headers['X-Object-Meta-Bar']) self.assertEqual(['meta-bar'] * len(self.nodes), metadata)",20,4
openstack%2Fopenstack-zuul-jobs~master~I736698615a56f5a9a6c98567ad928367a941a2fd,openstack/openstack-zuul-jobs,master,I736698615a56f5a9a6c98567ad928367a941a2fd,openafs: build 1.8.10pre1 rpms,NEW,2023-06-13 00:13:07.000000000,2023-06-13 00:59:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-13 00:13:07.000000000', 'files': ['roles/openafs-rpm-package-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8d238ca64f19ca74356568d474785be972eb115d', 'message': 'openafs: build 1.8.10pre1 rpms\n\nThis is for CentOS 9 that requires patches in this release to build.\n\nChange-Id: I736698615a56f5a9a6c98567ad928367a941a2fd\n'}]",1,885908,8d238ca64f19ca74356568d474785be972eb115d,4,1,1,7118,,,0,"openafs: build 1.8.10pre1 rpms

This is for CentOS 9 that requires patches in this release to build.

Change-Id: I736698615a56f5a9a6c98567ad928367a941a2fd
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/885908/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/openafs-rpm-package-build/tasks/main.yaml'],1,8d238ca64f19ca74356568d474785be972eb115d,openafs-pre-1.8.10, BASE_VERSION=1.8.10 PRE_VERSION='pre1' CANDIDATE='candidate/', BASE_VERSION=1.8.9 PRE_VERSION='' CANDIDATE='',3,3
openstack%2Ftripleo-validations~stable%2Fwallaby~Ibfd143149b641304a8bb4baefc4d0c4f20457efd,openstack/tripleo-validations,stable/wallaby,Ibfd143149b641304a8bb4baefc4d0c4f20457efd,Adapt cepth health validation to the new API,MERGED,2023-04-18 10:06:22.000000000,2023-06-12 23:56:55.000000000,2023-06-12 23:56:55.000000000,"[{'_account_id': 6816}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-04-18 10:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39d8a8de48afbfcdeaf74b066117260017fbaa22', 'message': 'Adapt cepth health validation to the new API\n\nThe API for health verification and OSD stats has changed in wallaby, now it is used cephadm command instead of connecting to the ceph mon container. This patch adapts the validation to the new API\n\nResolves: rhbz#2187307\n\nChange-Id: Ibfd143149b641304a8bb4baefc4d0c4f20457efd\n(cherry picked from commit e427f2e9acaa3b3fe18faf3c37e8ff29a8b325d5)\n'}, {'number': 2, 'created': '2023-06-10 05:31:03.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/af4c62ba0289d7265f765763e3f43011d85dc348', 'message': 'Adapt cepth health validation to the new API\n\nThe API for health verification and OSD stats has changed in wallaby, now it is used cephadm command instead of connecting to the ceph mon container. This patch adapts the validation to the new API\n\nResolves: rhbz#2187307\n\nChange-Id: Ibfd143149b641304a8bb4baefc4d0c4f20457efd\n(cherry picked from commit e427f2e9acaa3b3fe18faf3c37e8ff29a8b325d5)\n'}]",11,880603,af4c62ba0289d7265f765763e3f43011d85dc348,29,5,2,34423,,,0,"Adapt cepth health validation to the new API

The API for health verification and OSD stats has changed in wallaby, now it is used cephadm command instead of connecting to the ceph mon container. This patch adapts the validation to the new API

Resolves: rhbz#2187307

Change-Id: Ibfd143149b641304a8bb4baefc4d0c4f20457efd
(cherry picked from commit e427f2e9acaa3b3fe18faf3c37e8ff29a8b325d5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/03/880603/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,39d8a8de48afbfcdeaf74b066117260017fbaa22,ceph-health-api-fix-stable/wallaby," shell: ""cephadm shell -- {{ ceph_cluster_name.stdout }} health"" cephadm shell -- ""{{ ceph_cluster_name.stdout }}"" osd stat -f json | jq '{{ jq_osd_percentage_filter }}'"," - name: Check for docker cli stat: path: ""/var/run/docker.sock"" register: check_docker_cli check_mode: false - name: Set container_client fact set_fact: container_client: |- {% set container_client = 'podman' %} {% if check_docker_cli.stat.exists|bool %} {% set container_client = 'docker' %} {% endif %} {{ container_client }} - name: Set container filter format set_fact: container_filter_format: !unsafe ""--format '{{ .Names }}'"" - name: Set ceph_mon_container name become: true shell: ""{{ container_client }} ps {{ container_filter_format }} | grep ceph-mon"" register: ceph_mon_container changed_when: false shell: ""{{ container_client }} exec {{ ceph_mon_container.stdout }} ceph --cluster {{ ceph_cluster_name.stdout }} health | awk '{print $1}'"" ""{{ container_client }}"" exec ""{{ ceph_mon_container.stdout }}"" ceph --cluster ""{{ ceph_cluster_name.stdout }}"" osd stat -f json | jq '{{ jq_osd_percentage_filter }}'",3,28
openstack%2Fpuppet-nova~master~If2e241a471b2e023bd566bad828ea3dd7a4919ea,openstack/puppet-nova,master,If2e241a471b2e023bd566bad828ea3dd7a4919ea,Remove deprecated api_port parameters,MERGED,2023-06-09 03:44:32.000000000,2023-06-12 21:48:42.000000000,2023-06-12 21:47:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 03:44:32.000000000', 'files': ['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache_metadata.pp', 'releasenotes/notes/remove-api_port-09f5fd1769c94ae7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/be36118fceed80a23b281469ff87deecfea83e7d', 'message': 'Remove deprecated api_port parameters\n\nThese were deprecated during the previous cycle[1] in favor of\nthe new port parameters.\n\n[1] a258d3d8c76859d7084129b3e369ac9004fc5c82\n\nChange-Id: If2e241a471b2e023bd566bad828ea3dd7a4919ea\n'}]",2,885672,be36118fceed80a23b281469ff87deecfea83e7d,14,3,1,9816,,,0,"Remove deprecated api_port parameters

These were deprecated during the previous cycle[1] in favor of
the new port parameters.

[1] a258d3d8c76859d7084129b3e369ac9004fc5c82

Change-Id: If2e241a471b2e023bd566bad828ea3dd7a4919ea
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/885672/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache_api.pp', 'manifests/wsgi/apache_metadata.pp', 'releasenotes/notes/remove-api_port-09f5fd1769c94ae7.yaml']",3,be36118fceed80a23b281469ff87deecfea83e7d,,"--- upgrade: - | The following parameters were removed, in favor of the new ``port`` parameters. - ``nova::wsgi::apache_api::api_port`` - ``nova::wsgi::apache_metadata::api_port`` ",,10,26
openstack%2Fopenstack-helm-infra~master~I58ae3ccbc8c7bce97dcb7615d69cc01d9c66a5e8,openstack/openstack-helm-infra,master,I58ae3ccbc8c7bce97dcb7615d69cc01d9c66a5e8,CoreDNS hosts record,ABANDONED,2023-06-12 20:33:53.000000000,2023-06-12 21:37:55.000000000,,"[{'_account_id': 3009}, {'_account_id': 21040}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-12 20:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd0009c536826dfa9e62e2b7de2164901085ea71', 'message': 'CoreDNS hosts record\n\nThis PS adds control-panel.minikube.internal hosts record pointed to\nminikube host IP into coredns configmap of minikube k8s deployment in\norder to be able to use control-panel.minikube.internal outside of the\nk8s minikube cluster as well as inside of k8s minikube cluster to get\naccess to a test stand-alone ""artifactory"" container with helm charts.\n\nChange-Id: I58ae3ccbc8c7bce97dcb7615d69cc01d9c66a5e8\n'}, {'number': 2, 'created': '2023-06-12 20:45:02.000000000', 'files': ['tools/gate/deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4381cd517e40f85b823cdf49d33106307371aa7b', 'message': 'CoreDNS hosts record\n\nThis PS adds control-panel.minikube.internal hosts record pointed to\nminikube host IP into coredns configmap of minikube k8s deployment in\norder to be able to use control-panel.minikube.internal outside of the\nk8s minikube cluster as well as inside of k8s minikube cluster to get\naccess to a test stand-alone ""artifactory"" container with helm charts.\n\nChange-Id: I58ae3ccbc8c7bce97dcb7615d69cc01d9c66a5e8\n'}]",0,885903,4381cd517e40f85b823cdf49d33106307371aa7b,4,4,2,34520,,,0,"CoreDNS hosts record

This PS adds control-panel.minikube.internal hosts record pointed to
minikube host IP into coredns configmap of minikube k8s deployment in
order to be able to use control-panel.minikube.internal outside of the
k8s minikube cluster as well as inside of k8s minikube cluster to get
access to a test stand-alone ""artifactory"" container with helm charts.

Change-Id: I58ae3ccbc8c7bce97dcb7615d69cc01d9c66a5e8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/885903/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/deploy-k8s.sh'],1,cd0009c536826dfa9e62e2b7de2164901085ea71,,"HOSTIP=$(hostname -I| awk '{print $1}')sed -i ""s/127.0.0.1 host.minikube.internal/127.0.0.1 host.minikube.internal\\\n $HOSTIP control-panel.minikube.internal/"" ""${PATCH}""kubectl rollout status --watch --timeout=300s -n kube-system deployment/coredns host -v control-panel.minikube.internal",,4,0
openstack%2Fcyborg-specs~master~I7c37f523b4228185ac0cb6acd906fa248ef88033,openstack/cyborg-specs,master,I7c37f523b4228185ac0cb6acd906fa248ef88033,Add api to support change device vgpu_type,NEW,2023-06-08 07:07:45.000000000,2023-06-12 21:34:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27458}]","[{'number': 1, 'created': '2023-06-08 07:07:45.000000000', 'files': ['specs/2023.2/approved/change_vgpu_type_support.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/3cd247ece48ab4d2ae4c084fef7364f87f5fdb47', 'message': 'Add api to support change device vgpu_type\n\nimplement blueprint update-vgpu-type\n\nChange-Id: I7c37f523b4228185ac0cb6acd906fa248ef88033\n'}]",7,885439,3cd247ece48ab4d2ae4c084fef7364f87f5fdb47,3,3,1,31412,,,0,"Add api to support change device vgpu_type

implement blueprint update-vgpu-type

Change-Id: I7c37f523b4228185ac0cb6acd906fa248ef88033
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/39/885439/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/change_vgpu_type_support.rst'],1,3cd247ece48ab4d2ae4c084fef7364f87f5fdb47,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== Support attribute API ===================== This spec adds a new API to update the device vgpu_type. Problem description =================== So far, we manage vgpu_type by configuring gpu_devices[1]_ and need configure the vgpu_type for every GPU. When we change the vgpu_type, we have to restart the cyborg-agent service. Which is complex and uneasy to change as more and more GPUs are required nowadays. In addition, when we change the vgpu_type configuration if the GPU has been allocated to VM, the GPU report task will raise exception. Use Cases --------- 1.An admin or operator wants to change the vgpu_type convenient. 2.An admin or operator cannot change the vgpu_type if the GPU is using. Proposed change =============== For the case 1, we can provider an API to change the vgpu_type for the single GPU, and call the cyborg-agent the period task to report the new info, making the vgpu_type effective immediately. For the case 2, we can check the GPU usage state before change its vgpu_type, if the GPU is using, we forbidden to change the vgpu_type. Alternatives ------------ None Data model impact ----------------- * Add new column `vgpu_type` for the devices table. The column is StringField type and store the vgpu_type info like `{'vgpu_type': 'nvidia-180'}`. REST API impact --------------- URL: ``/v2/devices/{uuid}`` METHOD: ``PATCH`` Update vgpu_type for the device. Request body:: { ""vgpu_type"": ""nvidia-181"" } Normal response code (200) and body:: * 204 (No content) * No response body Error response code and body: * 401 (Unauthorized): Unauthorized * 403 (Forbidden): RBAC check failed * No response body Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- * Change Cyborg Device table. Performance Impact ------------------ None Other deployer impact --------------------- No need to configure the vpgu_type for cyborg-agent. Developer impact ---------------- If the user want to use these feature, they should upgrade their Cyborg project to latest to support these changes. Implementation ============== Assignee(s) ----------- Primary assignee: songwenping Work Items ---------- * Change Cyborg Device table. * Add API of patching vgpu_type for the device. * Change cyborgclient to support change vgpu_type action. * Add related tests. Dependencies ============ None Testing ======= Appropriate unit and functional tests should be added. Documentation Impact ==================== * Need a documentation to record microversion history. * Need a documentaiton to explain api usage. References ========== .. [1] https://specs.openstack.org/openstack/cyborg-specs/specs/2023.1/implemented/vgpu-driver-proposal.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Bobcat - Introduced ",,147,0
openstack%2Fcinder~stable%2Fwallaby~Ie2b7a163ee3a83121c04a21808ef437d740426d5,openstack/cinder,stable/wallaby,Ie2b7a163ee3a83121c04a21808ef437d740426d5,Fix Infinidat driver to return all iSCSI portals,MERGED,2023-01-27 10:16:20.000000000,2023-06-12 21:08:08.000000000,2023-06-12 21:06:52.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32074}]","[{'number': 1, 'created': '2023-01-27 10:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/195c80b3c0aa3abcfa4b95c68bfe809cd86d67ea', 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)\n'}, {'number': 2, 'created': '2023-06-07 15:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/646300ca162a3f6e968a8b911f53a9dfedc07f8d', 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)\n(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)\n'}, {'number': 3, 'created': '2023-06-09 11:12:19.000000000', 'files': ['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6b44fc201c3e679d70367fd588304d7a8cbf420', 'message': 'Fix Infinidat driver to return all iSCSI portals\n\nInfinidat Cinder driver truncates the list of configured iSCSI\nportals and returns only the first IP for a given network space.\nAnd in case of network path failure we lose access to the data.\n\nTo fix this issue, we need to return all configured and enabled\niSCSI portals for a given configured network space.\n\nCloses-bug: #1981354\nChange-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5\nCo-authored-by: Alexander Deiter <adeiter@infinidat.com>\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)\n(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)\n(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)\n'}]",16,871906,f6b44fc201c3e679d70367fd588304d7a8cbf420,57,6,3,35075,,,0,"Fix Infinidat driver to return all iSCSI portals

Infinidat Cinder driver truncates the list of configured iSCSI
portals and returns only the first IP for a given network space.
And in case of network path failure we lose access to the data.

To fix this issue, we need to return all configured and enabled
iSCSI portals for a given configured network space.

Closes-bug: #1981354
Change-Id: Ie2b7a163ee3a83121c04a21808ef437d740426d5
Co-authored-by: Alexander Deiter <adeiter@infinidat.com>
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
(cherry picked from commit a25dcc85180124f3f8db836ec49c0ee5b5741b62)
(cherry picked from commit bb510b64a5c77c60950ee13ce3a05c39ec667f01)
(cherry picked from commit 4e2b049555e701e3742af6239c1bb991514b05aa)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/871906/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1981354-infinidat-iscsi-fix-multipath-3f8a0be5f541c66e.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,195c80b3c0aa3abcfa4b95c68bfe809cd86d67ea,bug/1981354-stable/yoga-stable/xena-stable/wallaby,"# Copyright 2022 Infinidat Ltd. 1.7 - fixed iSCSI to return all portals VERSION = '1.7' def _get_iscsi_portals(self, netspace): port = netspace.get_properties().iscsi_tcp_port portals = [""%s:%s"" % (interface.ip_address, port) for interface in netspace.get_ips() if interface.enabled] if portals: return portals netspace_portals = self._get_iscsi_portals(netspace) target_portals.extend(netspace_portals) target_iqns.extend([netspace.get_properties().iscsi_iqn] * len(netspace_portals)) target_luns.extend([lun] * len(netspace_portals))","# Copyright 2016 Infinidat Ltd. VERSION = '1.6' def _get_iscsi_portal(self, netspace): for netpsace_interface in netspace.get_ips(): if netpsace_interface.enabled: port = netspace.get_properties().iscsi_tcp_port return ""%s:%s"" % (netpsace_interface.ip_address, port) target_portals.append(self._get_iscsi_portal(netspace)) target_iqns.append(netspace.get_properties().iscsi_iqn) target_luns.append(lun)",197,52
openstack%2Fglance~master~I489e88d57def5bee4fa0248e0fc819ffe37cdb37,openstack/glance,master,I489e88d57def5bee4fa0248e0fc819ffe37cdb37,[WIP] Glance caching support for region config,NEW,2018-11-14 07:44:31.000000000,2023-06-12 20:34:11.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}, {'_account_id': 28707}, {'_account_id': 28948}]","[{'number': 1, 'created': '2018-11-14 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/23835a92509fc8b8d7aad0419532f84eff75115a', 'message': '[WIP] Glance caching support for region config\n\nIn case glance services are configured as a shared service as part of a\nregion config, images are cached in the secondary region and future\nrequests for those images go to the cache.\n\nThese changes are transparent to the primary region cloud, so it should\nwork with any 3rd party openstack solution.\n\nChanges made:\n    - add keystone V3 support from within glance; this is used for\n      glance caching management apps\n    - in the secondary region, overwrite the glance image location\n      to a glance location.\n      This is because the registry service from the primary region\n      provides a file location (file://opt/cgcs/...) which is only\n      valid for the primary region.\n\nChange-Id: I489e88d57def5bee4fa0248e0fc819ffe37cdb37\nCo-authored-by: Stefan Dinescu <stefan.dinescu@windriver.com>\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}, {'number': 2, 'created': '2023-06-12 18:13:56.000000000', 'files': ['glance/location.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/a3ddff53bd643aa22fdd7fcb7f41e5704b566e03', 'message': '[WIP] Glance caching support for region config\n\nIn case glance services are configured as a shared service as part of a\nregion config, images are cached in the secondary region and future\nrequests for those images go to the cache.\n\nThese changes are transparent to the primary region cloud, so it should\nwork with any 3rd party openstack solution.\n\nIn the secondary region, overwrite the glance image location to a glance\nlocation.  This is because the registry service from the primary region\nprovides a file location (file://opt/cgcs/...) which is only valid for\nthe primary region.\n\nChange-Id: I489e88d57def5bee4fa0248e0fc819ffe37cdb37\nCo-authored-by: Stefan Dinescu <stefan.dinescu@windriver.com>\nSigned-off-by: Liang Fang <liang.a.fang@intel.com>\n'}]",3,617893,a3ddff53bd643aa22fdd7fcb7f41e5704b566e03,8,4,2,28948,,,0,"[WIP] Glance caching support for region config

In case glance services are configured as a shared service as part of a
region config, images are cached in the secondary region and future
requests for those images go to the cache.

These changes are transparent to the primary region cloud, so it should
work with any 3rd party openstack solution.

In the secondary region, overwrite the glance image location to a glance
location.  This is because the registry service from the primary region
provides a file location (file://opt/cgcs/...) which is only valid for
the primary region.

Change-Id: I489e88d57def5bee4fa0248e0fc819ffe37cdb37
Co-authored-by: Stefan Dinescu <stefan.dinescu@windriver.com>
Signed-off-by: Liang Fang <liang.a.fang@intel.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/617893/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/location.py', 'glance/common/auth.py']",2,23835a92509fc8b8d7aad0419532f84eff75115a,caching_support_for_region_config," is_v3 = auth_url.rstrip('/').endswith('v3') if is_v3: token_url = urlparse.urljoin(auth_url, ""auth/tokens"") self._v3_auth(token_url) elif is_v2: def _v3_auth(self, token_url): creds = self.creds creds = { ""auth"": { ""identity"": { ""methods"": [""password""], ""password"": { ""user"": { ""name"": creds['username'], ""domain"": {""id"": ""default""}, ""password"": creds['password'] } } } } } headers = {'Content-Type': 'application/json'} req_body = jsonutils.dumps(creds) resp, resp_body = self._do_request( token_url, 'POST', headers=headers, body=req_body) if resp.status == 201: resp_auth = resp['x-subject-token'] creds_region = self.creds.get('region') if self.configure_via_auth: endpoint = get_endpoint(resp_auth['serviceCatalog'], endpoint_region=creds_region) self.management_url = endpoint self.auth_token = resp_auth elif resp.status == 305: raise exception.RedirectException(resp['location']) elif resp.status == 400: raise exception.AuthBadRequest(url=token_url) elif resp.status == 401: raise Exception(_('Unexpected response: %s') % resp.status) ", if is_v2:,71,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4858faaab20ddfe2ae21942a19b38f28a944e9b6,openstack/tripleo-heat-templates,stable/wallaby,I4858faaab20ddfe2ae21942a19b38f28a944e9b6,Switch to Ansible for script download,NEW,2023-04-18 09:25:34.000000000,2023-06-12 20:30:47.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 09:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69cc567f83d0fb17ed18f1538beb4c6a312ca4db', 'message': ""Switch to Ansible for script download\n\nCurrently script download via Puppet doesn't work correctly anyway.\n\nThis is meant for fixing the feature in stable/wallaby\n\nChange-Id: I4858faaab20ddfe2ae21942a19b38f28a944e9b6\n""}, {'number': 2, 'created': '2023-06-11 18:18:23.000000000', 'files': ['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/244ba169edb07cc56d7f6f7f229e388e135ece6b', 'message': ""Switch to Ansible for script download\n\nCurrently script download via Puppet doesn't work correctly anyway.\n\nThis is meant for fixing the feature in stable/wallaby\n\nChange-Id: I4858faaab20ddfe2ae21942a19b38f28a944e9b6\n""}]",6,880600,244ba169edb07cc56d7f6f7f229e388e135ece6b,16,2,2,5241,,,0,"Switch to Ansible for script download

Currently script download via Puppet doesn't work correctly anyway.

This is meant for fixing the feature in stable/wallaby

Change-Id: I4858faaab20ddfe2ae21942a19b38f28a944e9b6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/880600/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/metrics/collectd-container-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",2,69cc567f83d0fb17ed18f1538beb4c6a312ca4db,exec-scripts-ansible-stable/wallaby," List of hashes of scripts for download for sensubility usage. Value has to be in following format: [{""name"": ""<script name>"", ""source"": ""<http URI to download script>"", ""checksum"": ""<alogithm:sum>""}] default: [] default: /config-scripts/collectd_check_health.py - path: /scripts owner: collectd:collectd recurse: true - /var/lib/container-config-scripts:/config-scripts:ro - /var/lib/container-user-scripts:/scripts:z - { 'path': /var/lib/container-user-scripts/, 'setype': container_file_t, 'mode': '0755' } - name: download exec scripts ansible.builtin.get_url: url: ""{{ item.source }}"" checksum: ""{{ item.checksum }}"" dest: ""/var/lib/container-user-scripts/{{ item.name }}"" mode: ""0755"" with_items: {get_param: CollectdSensubilityScripts}"," Hash of scripts for download for sensubility usage. The hash has to be in following format: {""script-name"": {""source"": ""<http URI to download script>"", ""checksum"": ""<md5sum of the script file>"", ""create_bin_link"": true/false <creates /usr/bin/sensubility_script-name if true which is default>}} default: {} default: /scripts/collectd_check_health.py tripleo::profile::base::metrics::collectd::sensubility::scripts: get_param: CollectdSensubilityScripts - /var/lib/container-config-scripts:/scripts:ro",18,9
openstack%2Fswift~master~Idf09ab11dd732e37b13c4b1ab7906a86d3752d1a,openstack/swift,master,Idf09ab11dd732e37b13c4b1ab7906a86d3752d1a,replicator: Try harder to continue syncing to other nodes,NEW,2023-06-05 06:05:11.000000000,2023-06-12 20:11:15.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 06:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2655987e8c12733b85cdbcf98a63e27972e50003', 'message': ""replicator: Try harder to continue syncing to other nodes\n\nThe post-rsync REPLICATE call doesn't have to succeed right away; if\nthere's a timeout or connection error or something, the hashes won't\nmatch on the next pass, either, so we'll get another opportunity.\n\nMeanwhile, having such an error bubble up out of sync() means that we\nmay exit the node loop early and not check all available primaries.\nThis can cause some flakiness in probe tests.\n\nChange-Id: Idf09ab11dd732e37b13c4b1ab7906a86d3752d1a\n""}, {'number': 2, 'created': '2023-06-12 19:14:24.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f119661010708224333950e12bc72e9dc935f858', 'message': ""replicator: Try harder to continue syncing to other nodes\n\nThe post-rsync REPLICATE call doesn't have to succeed right away; if\nthere's a timeout or connection error or something, the hashes won't\nmatch on the next pass, either, so we'll get another opportunity.\n\nMeanwhile, having such an error bubble up out of sync() means that we\nmay exit the node loop early and not check all available primaries.\nThis can cause some flakiness in probe tests.\n\nChange-Id: Idf09ab11dd732e37b13c4b1ab7906a86d3752d1a\n""}]",3,885209,f119661010708224333950e12bc72e9dc935f858,8,2,2,15343,,,0,"replicator: Try harder to continue syncing to other nodes

The post-rsync REPLICATE call doesn't have to succeed right away; if
there's a timeout or connection error or something, the hashes won't
match on the next pass, either, so we'll get another opportunity.

Meanwhile, having such an error bubble up out of sync() means that we
may exit the node loop early and not check all available primaries.
This can cause some flakiness in probe tests.

Change-Id: Idf09ab11dd732e37b13c4b1ab7906a86d3752d1a
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/885209/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/replicator.py'],1,2655987e8c12733b85cdbcf98a63e27972e50003,," try: with Timeout(self.http_timeout): conn = http_connect( node['replication_ip'], node['replication_port'], node['device'], job['partition'], 'REPLICATE', '/' + '-'.join(suffixes), headers=headers) conn.getresponse().read() except (Exception, Timeout) as e: # if we don't manage to notify the remote, no biggie; we # should catch it on the next pass self.logger.warning( '%s invalidating suffixes for %s post-rsync: %s', 'Timeout' if isinstance(e, Timeout) else 'Error', args[-1], e) return False, {}"," # TODO: Catch and swallow (or at least minimize) timeouts when doing # an update job; if we don't manage to notify the remote, we should # catch it on the next pass with Timeout(self.http_timeout): conn = http_connect( node['replication_ip'], node['replication_port'], node['device'], job['partition'], 'REPLICATE', '/' + '-'.join(suffixes), headers=headers) conn.getresponse().read()",15,9
openstack%2Frequirements~stable%2Fzed~Iaee2f63f7615eaf213917ce9855f6fffd5bbdf09,openstack/requirements,stable/zed,Iaee2f63f7615eaf213917ce9855f6fffd5bbdf09,update constraint for python-cinderclient to new release 9.1.1,MERGED,2023-05-02 15:57:43.000000000,2023-06-12 20:07:55.000000000,2023-06-12 20:07:55.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-02 15:57:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d526e1fe075b4c0a0d27cfbff8c398048b34181e', 'message': 'update constraint for python-cinderclient to new release 9.1.1\n\nmeta: version: 9.1.1\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Jon Bernard <jobernar@redhat.com>\nmeta: release:Commit: Jon Bernard <jobernar@redhat.com>\nmeta: release:Change-Id: I65aece723baf633486e0e19ccc5af4bc209a84fb\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iaee2f63f7615eaf213917ce9855f6fffd5bbdf09\n'}]",3,882081,d526e1fe075b4c0a0d27cfbff8c398048b34181e,21,3,1,11131,,,0,"update constraint for python-cinderclient to new release 9.1.1

meta: version: 9.1.1
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Jon Bernard <jobernar@redhat.com>
meta: release:Commit: Jon Bernard <jobernar@redhat.com>
meta: release:Change-Id: I65aece723baf633486e0e19ccc5af4bc209a84fb
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iaee2f63f7615eaf213917ce9855f6fffd5bbdf09
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/882081/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d526e1fe075b4c0a0d27cfbff8c398048b34181e,new-release,python-cinderclient===9.1.1,python-cinderclient===9.1.0,1,1
openstack%2Frequirements~stable%2Fyoga~I808e3d677d63095a96cd12f82851939807b8e002,openstack/requirements,stable/yoga,I808e3d677d63095a96cd12f82851939807b8e002,update constraint for neutron-lib to new release 2.20.2,MERGED,2023-06-12 14:00:21.000000000,2023-06-12 20:07:52.000000000,2023-06-12 20:07:52.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-12 14:00:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a2faf59db501f5684fbc7d663b31f699c6aa6599', 'message': 'update constraint for neutron-lib to new release 2.20.2\n\nmeta: version: 2.20.2\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\nmeta: release:Code-Review+1: Miguel Lavalle <miguel@mlavalle.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I808e3d677d63095a96cd12f82851939807b8e002\n'}]",1,885883,a2faf59db501f5684fbc7d663b31f699c6aa6599,11,3,1,11131,,,0,"update constraint for neutron-lib to new release 2.20.2

meta: version: 2.20.2
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02
meta: release:Code-Review+1: Miguel Lavalle <miguel@mlavalle.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I808e3d677d63095a96cd12f82851939807b8e002
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/885883/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a2faf59db501f5684fbc7d663b31f699c6aa6599,new-release,neutron-lib===2.20.2,neutron-lib===2.20.1,1,1
openstack%2Fblazar~stable%2Ftrain~Ia13402213bc82027e3d658918a22003be26576d6,openstack/blazar,stable/train,Ia13402213bc82027e3d658918a22003be26576d6,Make test-setup.sh compatible with mysql8,MERGED,2023-06-12 16:45:30.000000000,2023-06-12 20:04:09.000000000,2023-06-12 20:03:15.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 16:45:30.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/29008197f25d008a3dbee28b3fe7c2d5125a0229', 'message': ""Make test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nChange-Id: Ia13402213bc82027e3d658918a22003be26576d6\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)\n""}]",0,885896,29008197f25d008a3dbee28b3fe7c2d5125a0229,7,2,1,15197,,,0,"Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Change-Id: Ia13402213bc82027e3d658918a22003be26576d6
Co-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/96/885896/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/test-setup.sh'],1,29008197f25d008a3dbee28b3fe7c2d5125a0229,," CREATE USER '$DB_USER'@'%' IDENTIFIED BY '$DB_PW'; GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' WITH GRANT OPTION;"""," GRANT ALL PRIVILEGES ON *.* TO '$DB_USER'@'%' identified by '$DB_PW' WITH GRANT OPTION;""",2,2
openstack%2Fswift~master~Ifd8a64efcd3fc983596ba7cd9fe28eb9663c93d6,openstack/swift,master,Ifd8a64efcd3fc983596ba7cd9fe28eb9663c93d6,Clean up watchdog threads,NEW,2023-06-10 03:41:10.000000000,2023-06-12 19:28:15.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 03:41:10.000000000', 'files': ['swift/common/utils/__init__.py', 'swift/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/df6bc090cb7a18fd878a75f71edb749b9c66832c', 'message': ""Clean up watchdog threads\n\nThis shouldn't impact real servers, as those processes were about to\nwrap up anyway. It *can* cause some confusing behaviors in tests,\nthough.\n\nChange-Id: Ifd8a64efcd3fc983596ba7cd9fe28eb9663c93d6\n""}]",6,885812,df6bc090cb7a18fd878a75f71edb749b9c66832c,5,2,1,15343,,,0,"Clean up watchdog threads

This shouldn't impact real servers, as those processes were about to
wrap up anyway. It *can* cause some confusing behaviors in tests,
though.

Change-Id: Ifd8a64efcd3fc983596ba7cd9fe28eb9663c93d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/885812/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils/__init__.py', 'swift/common/wsgi.py']",2,df6bc090cb7a18fd878a75f71edb749b9c66832c,," finally: pool.waitall() if hasattr(app._pipeline_final_app, 'watchdog'): app._pipeline_final_app.watchdog.kill()", pool.waitall(),12,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I9c588cdd558c9a7807261b64edb3f6bff448945c,openstack/tripleo-heat-templates,stable/train,I9c588cdd558c9a7807261b64edb3f6bff448945c,"[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers",MERGED,2022-11-30 23:46:47.000000000,2023-06-12 19:28:13.000000000,2023-06-12 19:28:13.000000000,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-11-30 23:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b233b4c7327561ba7aa08b5b22e7bc28c88f5a56', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}, {'number': 2, 'created': '2022-12-01 00:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75b62eb8138b69c32feefe1209ac029ac1faa2d0', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}, {'number': 3, 'created': '2022-12-03 14:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c0cd95115cc100edf2d400e72aa5c9b48e6b941f', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}, {'number': 4, 'created': '2022-12-05 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ebef277f2314b7f4e851d8c81e3e3d12ba84a61', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}, {'number': 5, 'created': '2022-12-09 16:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/295f5bdf6842a0d01f8e7cbfac33cd258249a65a', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}, {'number': 6, 'created': '2023-06-05 15:24:29.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/042de9ffca5871fd14ecddcc02a2825ecf3d0c29', 'message': ""[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers\n\nWe need to rebuild the nova_compute container with these volumes and\nenvvars otherwise it's breaking hybrid phase during upgrades with contrail.\n\nCloses-bug: #1998406\nChange-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c\n""}]",9,866238,042de9ffca5871fd14ecddcc02a2825ecf3d0c29,35,7,6,27419,,,0,"[TRAIN-ONLY] Passing NovaComputeOpt{Volumes,EnvVars} to hybrid containers

We need to rebuild the nova_compute container with these volumes and
envvars otherwise it's breaking hybrid phase during upgrades with contrail.

Closes-bug: #1998406
Change-Id: I9c588cdd558c9a7807261b64edb3f6bff448945c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/866238/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,b233b4c7327561ba7aa08b5b22e7bc28c88f5a56,," NovaComputeOptVolumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NovaLogging, volumes]} - {get_param: NovaComputeOptVolumes} - {get_attr: [RoleParametersValue, value, nova_compute_opt_volumes]} - - /etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt:/var/lib/kolla/config_files/src:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /run:/run - /var/lib/iscsi:/var/lib/iscsi:z - /var/lib/libvirt:/var/lib/libvirt:shared - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /boot:/boot:ro - /var/lib/nova:/var/lib/nova:shared - if: - {equals: [{get_param: MultipathdEnable}, true]} - - /etc/multipath:/etc/multipath:z - /etc/multipath.conf:/etc/multipath.conf:ro - [] NovaComputeOptEnvVars: map_merge: - {get_param: NovaComputeOptEnvVars} - KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - LIBGUESTFS_BACKEND: direct volumes: {get_attr: [RoleParametersValue, value, nova_compute_opt_volumes]} environment: {get_attr: [RoleParametersValue, value, nova_compute_opt_env_vars]} nova_compute_opt_volumes: {get_attr: [RoleParametersValue, value, nova_compute_opt_volumes]} nova_compute_opt_env_vars: {get_attr: [RoleParametersValue, value, nova_compute_opt_env_vars]} jq '.nova_compute.image = ""{{ nova_compute_image }}"" | .nova_compute.volumes = [{{'\""' + nova_compute_opt_volumes | join('\"", \""') + '\""' }}] | .nova_compute.environment= [{{'\""' + nova_compute_opt_env_vars | join('\"", \""') + '\""' }}] | {""nova_compute"": .nova_compute }' \"," NovaComputeOptVolumes: {get_param: NovaComputeOptVolumes} NovaComputeOptEnvVars: {get_param: NovaComputeOptEnvVars} volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NovaLogging, volumes]} - {get_attr: [RoleParametersValue, value, nova_compute_opt_volumes]} - - /etc/ssh/ssh_known_hosts:/etc/ssh/ssh_known_hosts:ro - /var/lib/kolla/config_files/nova_compute.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova_libvirt:/var/lib/kolla/config_files/src:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev:/dev - /lib/modules:/lib/modules:ro - /run:/run - /var/lib/iscsi:/var/lib/iscsi:z - /var/lib/libvirt:/var/lib/libvirt:shared - /sys/class/net:/sys/class/net - /sys/bus/pci:/sys/bus/pci - /boot:/boot:ro - /var/lib/nova:/var/lib/nova:shared - if: - {equals: [{get_param: MultipathdEnable}, true]} - - /etc/multipath:/etc/multipath:z - /etc/multipath.conf:/etc/multipath.conf:ro - [] environment: map_merge: - {get_attr: [RoleParametersValue, value, nova_compute_opt_env_vars]} - KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - LIBGUESTFS_BACKEND: direct jq '.nova_compute.image = ""{{ nova_compute_image }}"" | {""nova_compute"": .nova_compute }' \",40,34
openstack%2Fec2-api~stable%2Fqueens~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/queens,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:34:16.000000000,2023-06-12 18:50:45.000000000,2023-06-12 16:52:38.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 16:34:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2858b3bf6b4434932010d98227dd774e1968c709', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",1,885915,2858b3bf6b4434932010d98227dd774e1968c709,7,3,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/15/885915/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2858b3bf6b4434932010d98227dd774e1968c709,fix-zuul-errors, queue: ec2-api, queue: ec2-api,1,1
openstack%2Fkolla-ansible~master~Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0,openstack/kolla-ansible,master,Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0,Keystone automatically register custom domains,NEW,2021-05-11 20:06:02.000000000,2023-06-12 18:46:23.000000000,,"[{'_account_id': 10594}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-11 20:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b194c5f963e89dda4d282bb0b644a11eb8c4b34', 'message': 'Keystone automatically register custom domains\n\nCurrently the keystone deployment already copy custom domain\nfiles but keystone also requires the custom domain being registered.\n\nThis change call keystone to register all custom domain files\nwith pattern keystone/domains/keystone.[DOMAIN NAME].conf.\n\nAfter create a custom domain keystone requires a restart to\nread the custom domain file configuration.\n\nChange-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0\n'}, {'number': 2, 'created': '2021-05-13 05:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de86580de4cc697e595d9b0cb6c1eda4d8db7d51', 'message': 'Keystone automatically register custom domains\n\nCurrently the keystone deployment already copy custom domain\nfiles but keystone also requires the custom domain being registered.\n\nThis change call keystone to register all custom domain files\nwith pattern keystone/domains/keystone.[DOMAIN NAME].conf.\n\nAfter create a custom domain keystone requires a restart to\nread the custom domain file configuration.\n\nChange-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0\n'}, {'number': 3, 'created': '2021-05-26 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7636f60383616633ba3acc3cd011ddcd73daf205', 'message': ""Keystone automatically register custom domains\n\nKeystone only reads custom domain files if the domain is\nalready registered. Kolla-ansible copy custom domains but\ndoesn't register the domain in keystone requiring a manual\nstep to work after.\n\nThis change addresses this issue, registering any custom domain\nin keystone and restarting it after. Note the restart is required\nto keystone reload (or just load since it's the first time) the\ncustom domain file.\n\nThe parameter `description` is set to the file path (can't be null)\notherwise the ansible module will always report as changed\nand will trigger a keystone restart on each update.\n(code reference here:\nhttps://github.com/openstack/ansible-collections-openstack/blob/1c6663999d546724b0c24854be44ee187dc375a2/plugins/modules/identity_domain.py#L95)\n\nNote keystone could restart 2 times in the deployment. The\nfirst time in case there is any change in the configuration\n(or the first start in case of the first deployment)\nand the second time if a new domain is found (this change).\nThis second restart is required because keystone needs to be\nup to register the domain and restart it to reload the custom\ndomain configuration file.\n\nChange-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0\n""}, {'number': 4, 'created': '2021-06-02 20:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55d5773dc9a70355e0ef5e04d222d1d5ee65e9df', 'message': ""Keystone automatically register custom domains\n\nKeystone only reads custom domain files if the domain is\nalready registered. Kolla-ansible copy custom domains but\ndoesn't register the domain in keystone requiring a manual\nstep to work after.\n\nThis change addresses this issue, registering any custom domain\nin keystone and restarting it after. Note the restart is required\nto keystone reload (or just load since it's the first time) the\ncustom domain file.\n\nThe parameter `description` is set to the file path (can't be null)\notherwise the ansible module will always report as changed\nand will trigger a keystone restart on each update.\n(code reference here:\nhttps://github.com/openstack/ansible-collections-openstack/blob/1c6663999d546724b0c24854be44ee187dc375a2/plugins/modules/identity_domain.py#L95)\n\nNote keystone could restart 2 times in the deployment. The\nfirst time in case there is any change in the configuration\n(or the first start in case of the first deployment)\nand the second time if a new domain is found (this change).\nThis second restart is required because keystone needs to be\nup to register the domain and restart it to reload the custom\ndomain configuration file.\n\nChange-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0\n""}, {'number': 5, 'created': '2023-06-12 17:00:06.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77d1befe2881834b1bc7b14861d5373c8e3ab06b', 'message': ""Keystone automatically register custom domains\n\nKeystone only reads custom domain files if the domain is\nalready registered. Kolla-ansible copy custom domains but\ndoesn't register the domain in keystone requiring a manual\nstep to work after.\n\nThis change addresses this issue, registering any custom domain\nin keystone and restarting it after. Note the restart is required\nto keystone reload (or just load since it's the first time) the\ncustom domain file.\n\nThe parameter `description` is set to the file path (can't be null)\notherwise the ansible module will always report as changed\nand will trigger a keystone restart on each update.\n(code reference here:\nhttps://github.com/openstack/ansible-collections-openstack/blob/1c6663999d546724b0c24854be44ee187dc375a2/plugins/modules/identity_domain.py#L95)\n\nNote keystone could restart 2 times in the deployment. The\nfirst time in case there is any change in the configuration\n(or the first start in case of the first deployment)\nand the second time if a new domain is found (this change).\nThis second restart is required because keystone needs to be\nup to register the domain and restart it to reload the custom\ndomain configuration file.\n\nChange-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0\n""}]",2,790814,77d1befe2881834b1bc7b14861d5373c8e3ab06b,23,5,5,33350,,,0,"Keystone automatically register custom domains

Keystone only reads custom domain files if the domain is
already registered. Kolla-ansible copy custom domains but
doesn't register the domain in keystone requiring a manual
step to work after.

This change addresses this issue, registering any custom domain
in keystone and restarting it after. Note the restart is required
to keystone reload (or just load since it's the first time) the
custom domain file.

The parameter `description` is set to the file path (can't be null)
otherwise the ansible module will always report as changed
and will trigger a keystone restart on each update.
(code reference here:
https://github.com/openstack/ansible-collections-openstack/blob/1c6663999d546724b0c24854be44ee187dc375a2/plugins/modules/identity_domain.py#L95)

Note keystone could restart 2 times in the deployment. The
first time in case there is any change in the configuration
(or the first start in case of the first deployment)
and the second time if a new domain is found (this change).
This second restart is required because keystone needs to be
up to register the domain and restart it to reload the custom
domain configuration file.

Change-Id: Ibb6a7bf3cd8b7b6130425f0df9f97e1bab309ae0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/790814/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,4b194c5f963e89dda4d282bb0b644a11eb8c4b34,," - name: Get file list in custom domains folder become: true find: path: ""{{ node_config_directory }}/keystone/domains"" recurse: no file_type: file register: keystone_domains - name: Creating keystone domains become: true kolla_toolbox: module_name: ""os_keystone_domain"" module_args: name: ""{{ item.path | regex_search('keystone\\.(.*)\\.conf$', '\\1') | first }}"" description: ""{{ item.path }}"" auth: ""{{ openstack_keystone_auth }}"" endpoint_type: ""{{ openstack_interface }}"" cacert: ""{{ openstack_cacert }}"" region_name: ""{{ openstack_region_name }}"" state: present run_once: True with_items: ""{{ keystone_domains.files|default([]) }}"" notify: - Restart keystone container",,24,0
openstack%2Fcinder~master~Ie94a2b6e5ccfb7c7e6f1999b16409a798715dd13,openstack/cinder,master,Ie94a2b6e5ccfb7c7e6f1999b16409a798715dd13,Volume replication_status stuck in trasient states.,NEW,2023-01-24 17:38:10.000000000,2023-06-12 18:28:34.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-24 17:38:10.000000000', 'files': ['cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e330b979f5a30eafe034aa4971fa404268142fc', 'message': ""Volume replication_status stuck in trasient states.\n\nWhen user executes group actions(enable, disable and\nfailover replication) in parallel to volume operations\nsuch as volume attach, detach, retype, resize etc. on\nvolumes in the group, it can leave some of the group\nvolume's replication status in transient states\n(enabling, disabling and failing-over) respectively.\n\nCloses-Bug: #2003804\nChange-Id: Ie94a2b6e5ccfb7c7e6f1999b16409a798715dd13\n""}]",3,871649,5e330b979f5a30eafe034aa4971fa404268142fc,23,2,1,24005,,,0,"Volume replication_status stuck in trasient states.

When user executes group actions(enable, disable and
failover replication) in parallel to volume operations
such as volume attach, detach, retype, resize etc. on
volumes in the group, it can leave some of the group
volume's replication status in transient states
(enabling, disabling and failing-over) respectively.

Closes-Bug: #2003804
Change-Id: Ie94a2b6e5ccfb7c7e6f1999b16409a798715dd13
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/871649/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/group/api.py'],1,5e330b979f5a30eafe034aa4971fa404268142fc,bug/2003804, for vol in volumes: for vol in volumes: for vol in volumes:,,3,0
openstack%2Frequirements~stable%2Fzed~Iddfc4dd9df942eafb271c672398a1f180802aeb3,openstack/requirements,stable/zed,Iddfc4dd9df942eafb271c672398a1f180802aeb3,update constraint for neutron-lib to new release 3.1.2,MERGED,2023-06-08 14:50:15.000000000,2023-06-12 18:12:31.000000000,2023-06-12 18:12:31.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 14:50:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/132297b78423fae0b0bac492b4009ec2a93eec7b', 'message': 'update constraint for neutron-lib to new release 3.1.2\n\nmeta: version: 3.1.2\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nChange-Id: Iddfc4dd9df942eafb271c672398a1f180802aeb3\n'}]",1,885592,132297b78423fae0b0bac492b4009ec2a93eec7b,10,3,1,11131,,,0,"update constraint for neutron-lib to new release 3.1.2

meta: version: 3.1.2
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
Change-Id: Iddfc4dd9df942eafb271c672398a1f180802aeb3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/885592/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,132297b78423fae0b0bac492b4009ec2a93eec7b,new-release,neutron-lib===3.1.2,neutron-lib===3.1.1,1,1
openstack%2Fglance~master~I9182bd066a8cf5777f5109d646326b0ee2935d65,openstack/glance,master,I9182bd066a8cf5777f5109d646326b0ee2935d65,Rename get_repo to get_image_repo in gateway.py,ABANDONED,2016-08-30 07:50:49.000000000,2023-06-12 17:55:05.000000000,,"[{'_account_id': 3}, {'_account_id': 8122}, {'_account_id': 21722}, {'_account_id': 22834}]","[{'number': 1, 'created': '2016-08-30 07:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/222a9ac63727a07be0997e3b6092b5e9d7aa6717', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 2, 'created': '2016-08-30 09:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9b529932a87bbd6c084708a58af350a01855aaf9', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 3, 'created': '2016-08-30 11:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c22b64e8ec8c6f3b6d0ab5f3c23b5601261eddab', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 4, 'created': '2016-09-11 01:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8a9a7eb832ff50583f12b885868c4c7ec8046460', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 5, 'created': '2016-09-23 07:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a079aa43307d0e50bdc064e8d28336a19bf23189', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 6, 'created': '2016-09-29 13:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc95ae01c35809bb6a6a0ba7a72e480c43fe00a9', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}, {'number': 7, 'created': '2016-12-06 09:34:35.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/api/v2/images.py', 'glance/tests/unit/utils.py', 'glance/api/v2/image_actions.py', 'glance/gateway.py', 'glance/api/v2/image_members.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/api/v2/image_tags.py', 'glance/tests/unit/v2/test_image_tags_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/402d628a13d51877fee4a72d0cbcfac168041af2', 'message': 'Rename get_repo to get_image_repo in gateway.py\n\nAs we know,the gateway model is very important.Seeing the method,\nwe should know what it means.So change get_repo name to get_image_repo,\nwhich is more conducive to the developer to read and add new features.\nOther files are also corresponding changed.\n\nI also rename some variable in get_image_member_factory and\nget_member_repo.Just mainly in order to appear more standardized.\n\nChange the position of get_image_member_factory method and\nget_image_repo,just from the whole is more organized.\n\nChange-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65\n'}]",1,362679,402d628a13d51877fee4a72d0cbcfac168041af2,21,4,7,22834,,,0,"Rename get_repo to get_image_repo in gateway.py

As we know,the gateway model is very important.Seeing the method,
we should know what it means.So change get_repo name to get_image_repo,
which is more conducive to the developer to read and add new features.
Other files are also corresponding changed.

I also rename some variable in get_image_member_factory and
get_member_repo.Just mainly in order to appear more standardized.

Change the position of get_image_member_factory method and
get_image_repo,just from the whole is more organized.

Change-Id: I9182bd066a8cf5777f5109d646326b0ee2935d65
",git fetch https://review.opendev.org/openstack/glance refs/changes/79/362679/7 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/api/v2/images.py', 'glance/tests/unit/utils.py', 'glance/api/v2/image_actions.py', 'glance/gateway.py', 'glance/api/v2/image_members.py', 'glance/api/v2/image_tags.py', 'glance/tests/unit/v2/test_image_tags_resource.py']",8,222a9ac63727a07be0997e3b6092b5e9d7aa6717,get_repo, self.controller.gateway.get_image_repo = get_fake_repo, self.controller.gateway.get_repo = get_fake_repo,30,32
openstack%2Fopenstack-manuals~master~I273f4204c863eb1321257f7f61c1115fb40bc6f9,openstack/openstack-manuals,master,I273f4204c863eb1321257f7f61c1115fb40bc6f9,Drop hardcoded TripleO links,NEW,2023-06-01 14:18:40.000000000,2023-06-12 17:37:58.000000000,,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 14:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8c3f3d32c09230632a96399e52b7f28f7aacf5f1', 'message': 'Drop hardcoded TripleO links\n\nTripleO is deprecated now, so we should not mention it in recent docs.\nMoreover, the only existing branches are Zed and Wallaby.\n\nInstead of hardcoding the link, we adding `has_deployment_guide`\nfor Zed.\n\nChange-Id: I273f4204c863eb1321257f7f61c1115fb40bc6f9\n'}, {'number': 2, 'created': '2023-06-12 17:30:30.000000000', 'files': ['www/project-data/zed.yaml', 'www/zed/deploy/index.html', 'www/xena/deploy/index.html', 'www/yoga/deploy/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/15832882996d056549c465d9d7272fbcc208c37c', 'message': 'Drop hardcoded TripleO links\n\nTripleO is deprecated now, so we should not mention it in recent docs.\nMoreover, the only existing branches are Zed and Wallaby.\n\nInstead of hardcoding the link, we adding `has_deployment_guide`\nfor Zed.\n\nChange-Id: I273f4204c863eb1321257f7f61c1115fb40bc6f9\n'}]",3,885052,15832882996d056549c465d9d7272fbcc208c37c,7,3,2,28619,,,0,"Drop hardcoded TripleO links

TripleO is deprecated now, so we should not mention it in recent docs.
Moreover, the only existing branches are Zed and Wallaby.

Instead of hardcoding the link, we adding `has_deployment_guide`
for Zed.

Change-Id: I273f4204c863eb1321257f7f61c1115fb40bc6f9
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/52/885052/2 && git format-patch -1 --stdout FETCH_HEAD,"['www/project-data/zed.yaml', 'www/2023.2/deploy/index.html', 'www/zed/deploy/index.html', 'www/xena/deploy/index.html', 'www/yoga/deploy/index.html', 'www/2023.1/deploy/index.html']",6,8c3f3d32c09230632a96399e52b7f28f7aacf5f1,,," <p><a href=""/project-deploy-guide/tripleo-docs/latest/""> TripleO Deployment Guide </a></p>",1,15
openstack%2Fcinder~stable%2Fwallaby~Ieb6a7adfc54062cf9fb1c7612ba7c4d8352ef3b2,openstack/cinder,stable/wallaby,Ieb6a7adfc54062cf9fb1c7612ba7c4d8352ef3b2,WIP: test for 871906 and 885770,ABANDONED,2023-06-09 15:15:34.000000000,2023-06-12 17:24:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 15:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/871eed3837f2e49f22bd94f6c797d61807b6c03b', 'message': 'WIP: test for 871906 and 885770\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/871906\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/885770\n\nChange-Id: Ieb6a7adfc54062cf9fb1c7612ba7c4d8352ef3b2\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 2, 'created': '2023-06-09 15:24:28.000000000', 'files': ['test.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bcbac4485fa8d63cb29985b5183497b3257f147', 'message': 'WIP: test for 871906 and 885770\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/871906\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/885770\n\nChange-Id: Ieb6a7adfc54062cf9fb1c7612ba7c4d8352ef3b2\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}]",0,885771,1bcbac4485fa8d63cb29985b5183497b3257f147,13,1,2,35075,,,0,"WIP: test for 871906 and 885770

Depends-On: https://review.opendev.org/c/openstack/cinder/+/871906
Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/885770

Change-Id: Ieb6a7adfc54062cf9fb1c7612ba7c4d8352ef3b2
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/885771/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/infinidat.py'],1,871eed3837f2e49f22bd94f6c797d61807b6c03b,,# Copyright 2023 Infinidat Ltd.,# Copyright 2016 Infinidat Ltd.,1,1
openstack%2Fswift~master~I43e4b01c41fe67c4556f5d9075d8cc8708c55182,openstack/swift,master,I43e4b01c41fe67c4556f5d9075d8cc8708c55182,container: Stop pulling alternate stats when getting policy index,MERGED,2023-06-05 02:04:50.000000000,2023-06-12 17:21:57.000000000,2023-06-12 17:20:14.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 02:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d359e488700d2fec3c2c3e34d1911d77ed7a73d6', 'message': 'container: Stop pulling alternate stats when getting policy index\n\nChange-Id: I43e4b01c41fe67c4556f5d9075d8cc8708c55182\n'}, {'number': 2, 'created': '2023-06-08 19:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b074aa6b4af43fb0d2ed365b00ff2d04d9d3e4e2', 'message': 'container: Stop pulling alternate stats when getting policy index\n\nChange-Id: I43e4b01c41fe67c4556f5d9075d8cc8708c55182\n'}, {'number': 3, 'created': '2023-06-08 20:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/30f7059a5d42b0c6a82484e2d1187189c6a0134f', 'message': ""container: Stop pulling alternate stats when getting policy index\n\nWe include storage policy information in the response to container\nserver PUTs, including when stat updates from shards. This should\nbe a fairly cheap thing to include, but profiling revealed that\nthis could still take a half-second due to us using the general\nget_info interface, which computes object count and bytes used\nbased on shard ranges. We weren't using this information anyway,\nso let's just look at the container_stat table.\n\nChange-Id: I43e4b01c41fe67c4556f5d9075d8cc8708c55182\n""}, {'number': 4, 'created': '2023-06-09 10:30:52.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7788c2c92b6f68df713ba48f354db416afd8c2cf', 'message': ""container: Stop pulling alternate stats when getting policy index\n\nWe include storage policy information in the response to container\nserver PUTs, including when stat updates from shards. This should\nbe a fairly cheap thing to include, but profiling revealed that\nthis could still take a half-second due to us using the general\nget_info interface, which computes object count and bytes used\nbased on shard ranges. We weren't using this information anyway,\nso let's just look at the container_stat table.\n\nChange-Id: I43e4b01c41fe67c4556f5d9075d8cc8708c55182\n""}]",11,885205,7788c2c92b6f68df713ba48f354db416afd8c2cf,29,4,4,15343,,,0,"container: Stop pulling alternate stats when getting policy index

We include storage policy information in the response to container
server PUTs, including when stat updates from shards. This should
be a fairly cheap thing to include, but profiling revealed that
this could still take a half-second due to us using the general
get_info interface, which computes object count and bytes used
based on shard ranges. We weren't using this information anyway,
so let's just look at the container_stat table.

Change-Id: I43e4b01c41fe67c4556f5d9075d8cc8708c55182
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/885205/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,d359e488700d2fec3c2c3e34d1911d77ed7a73d6,, self._get_info()['storage_policy_index'], self.get_info()['storage_policy_index'],1,1
openstack%2Fdevstack~master~I98c992a2a774ef1fb22cee2e90ee342ab2d537ac,openstack/devstack,master,I98c992a2a774ef1fb22cee2e90ee342ab2d537ac,Remove usage of neutron-debug since it has been removed,MERGED,2023-05-12 20:39:53.000000000,2023-06-12 17:21:10.000000000,2023-06-12 17:20:11.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 20:39:53.000000000', 'files': ['lib/neutron', 'tools/ping_neutron.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6764eab2644b2f76769e4492ab136ff65763d2ef', 'message': ""Remove usage of neutron-debug since it has been removed\n\nThe neutron-debug command was deprecated and finally removed,\nso tools/ping_neutron.sh can no longer rely on it to create\na probe namespace. Instead, just try and use any namespace\nwith the network ID in it, since it's either the DHCP (ML2/OVS)\nor Metadata (OVN) namespace, which should work just as well.\n\nAs this code is rarely (never?) used, this best-effort attempt\nis good enough.\n\nChange-Id: I98c992a2a774ef1fb22cee2e90ee342ab2d537ac\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/883081\n""}]",1,883086,6764eab2644b2f76769e4492ab136ff65763d2ef,9,5,1,1131,,,0,"Remove usage of neutron-debug since it has been removed

The neutron-debug command was deprecated and finally removed,
so tools/ping_neutron.sh can no longer rely on it to create
a probe namespace. Instead, just try and use any namespace
with the network ID in it, since it's either the DHCP (ML2/OVS)
or Metadata (OVN) namespace, which should work just as well.

As this code is rarely (never?) used, this best-effort attempt
is good enough.

Change-Id: I98c992a2a774ef1fb22cee2e90ee342ab2d537ac
Depends-on: https://review.opendev.org/c/openstack/neutron/+/883081
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/883086/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron', 'tools/ping_neutron.sh']",2,6764eab2644b2f76769e4492ab136ff65763d2ef,remove-neutron-debug,"using either the DHCP or Metadata network namespace to support both ML2/OVS and OVN.# BUG: with duplicate network names, this fails pretty hard since it # will just pick the first match. function _get_net_id { openstack --os-cloud devstack-admin --os-region-name=""$REGION_NAME"" --os-project-name admin --os-username admin --os-password $ADMIN_PASSWORD network list | grep $1 | head -n 1 | awk '{print $2}' } NET_ID=`_get_net_id $NET_NAME` NET_NS=$(ip netns list | grep ""$NET_ID"" | head -n 1)NET_NS_CMD=""ip netns exec $NET_NS""","creating a network namespace probe.# BUG: with duplicate network names, this fails pretty hard. NET_ID=$(openstack network show -f value -c id ""$NET_NAME"") PROBE_ID=$(neutron-debug probe-list -c id -c network_id | grep ""$NET_ID"" | awk '{print $2}' | head -n 1)NET_NS_CMD=""ip netns exec qprobe-$PROBE_ID""",11,23
openstack%2Fcinder-tempest-plugin~master~I2ee66e959e590f0405fe98e74225f4ff4cf12751,openstack/cinder-tempest-plugin,master,I2ee66e959e590f0405fe98e74225f4ff4cf12751,Fixed cinder-tempest-plugin-lvm-lio-barbican job,MERGED,2023-06-09 14:27:54.000000000,2023-06-12 17:20:17.000000000,2023-06-12 17:20:17.000000000,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 14:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9d01eb173f85d5309ca5065218d8e44a7dda6a5c', 'message': 'Fixed cinder-tempest-plugin-lvm-lio-barbican job\n\nUse 1.8.0 tag for cinder-tempest-plugin\n\nCloses-bug: #2023341\nChange-Id: I2ee66e959e590f0405fe98e74225f4ff4cf12751\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 2, 'created': '2023-06-09 14:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cfec6e591a9e67f294a8a08112381d33518711e0', 'message': 'Fixed cinder-tempest-plugin-lvm-lio-barbican job\n\nUse v1.8.0 for cinder-tempest-plugin\n\nCloses-bug: #2023341\nChange-Id: I2ee66e959e590f0405fe98e74225f4ff4cf12751\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}, {'number': 3, 'created': '2023-06-12 10:04:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9fd78d520dffc074b2f5e5327d1c6ecd1b9c17a8', 'message': 'Fixed cinder-tempest-plugin-lvm-lio-barbican job\n\nUse v1.8.0 for cinder-tempest-plugin\n\nCloses-bug: #2023341\nChange-Id: I2ee66e959e590f0405fe98e74225f4ff4cf12751\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}]",7,885770,9fd78d520dffc074b2f5e5327d1c6ecd1b9c17a8,18,3,3,35075,,,0,"Fixed cinder-tempest-plugin-lvm-lio-barbican job

Use v1.8.0 for cinder-tempest-plugin

Closes-bug: #2023341
Change-Id: I2ee66e959e590f0405fe98e74225f4ff4cf12751
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/70/885770/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d01eb173f85d5309ca5065218d8e44a7dda6a5c,bug/2023341, required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: 1.8.0,,3,0
openstack%2Fopenstacksdk~stable%2Fwallaby~I77fd48e458dc1f64aac41b50b0a88d1748cc60b7,openstack/openstacksdk,stable/wallaby,I77fd48e458dc1f64aac41b50b0a88d1748cc60b7,DNM: check CI health in zuul,NEW,2023-06-12 16:03:48.000000000,2023-06-12 17:09:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 16:03:48.000000000', 'files': ['openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0d2a108f8b526d2585d3a9b913df18e7f41ff169', 'message': 'DNM: check CI health in zuul\n\nChange-Id: I77fd48e458dc1f64aac41b50b0a88d1748cc60b7\n'}]",0,885891,0d2a108f8b526d2585d3a9b913df18e7f41ff169,2,1,1,17685,,,0,"DNM: check CI health in zuul

Change-Id: I77fd48e458dc1f64aac41b50b0a88d1748cc60b7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/91/885891/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/__init__.py'],1,0d2a108f8b526d2585d3a9b913df18e7f41ff169,do-not-merge,# dummy change,,1,0
openstack%2Fblazar~stable%2Fstein~I34934eefee6c0cd3b999fa028e6697d1c5e8476a,openstack/blazar,stable/stein,I34934eefee6c0cd3b999fa028e6697d1c5e8476a,[CI] Move queue setting to project level,MERGED,2023-06-06 19:02:03.000000000,2023-06-12 16:56:24.000000000,2023-06-12 15:54:41.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 19:02:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/3db2b43e9bec4d3250c3c504e19d6ab7aac33311', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n'}]",1,885405,3db2b43e9bec4d3250c3c504e19d6ab7aac33311,7,2,1,13252,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a
(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)
(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/05/885405/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3db2b43e9bec4d3250c3c504e19d6ab7aac33311,fix-zuul-errors, queue: blazar, queue: blazar,1,1
openstack%2Fec2-api~stable%2Fvictoria~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/victoria,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:33:27.000000000,2023-06-12 16:55:46.000000000,2023-06-12 16:52:06.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}]","[{'number': 1, 'created': '2023-06-12 16:33:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/dede404dddcfc61661f6ccc8012b2b4b416dc490', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",1,885914,dede404dddcfc61661f6ccc8012b2b4b416dc490,6,2,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/14/885914/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dede404dddcfc61661f6ccc8012b2b4b416dc490,fix-zuul-errors, queue: ec2-api, queue: ec2-api,1,1
openstack%2Fdevstack~master~I6012bd3240d68736a5db8ae49dc32098a086f320,openstack/devstack,master,I6012bd3240d68736a5db8ae49dc32098a086f320,Install systemd-coredump on Debian-based distros,MERGED,2023-05-30 22:32:34.000000000,2023-06-12 16:55:40.000000000,2023-06-12 16:52:00.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 22:32:34.000000000', 'files': ['lib/nova_plugins/functions-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a13201646d7ca50d92c44b73ba3f20bbf0f3f1d3', 'message': 'Install systemd-coredump on Debian-based distros\n\nOn Debian-based distros, the \'coredumpctl\' command is\nprovided by the systemd-coredump package, which is not\ninstalled by default. On failure, when ""post"" commands\nare executed this error is seen:\n\n  controller | /bin/bash: line 1: coredumpctl: command not found\n\nInstall it along with other libvirt packages to avoid\nthe error.\n\nOn Fedora distros it is in the systemd package, so the\nproblem is not seen since it is always installed.\n\nChange-Id: I6012bd3240d68736a5db8ae49dc32098a086f320\n'}]",2,884790,a13201646d7ca50d92c44b73ba3f20bbf0f3f1d3,12,3,1,1131,,,0,"Install systemd-coredump on Debian-based distros

On Debian-based distros, the 'coredumpctl' command is
provided by the systemd-coredump package, which is not
installed by default. On failure, when ""post"" commands
are executed this error is seen:

  controller | /bin/bash: line 1: coredumpctl: command not found

Install it along with other libvirt packages to avoid
the error.

On Fedora distros it is in the systemd package, so the
problem is not seen since it is always installed.

Change-Id: I6012bd3240d68736a5db8ae49dc32098a086f320
",git fetch https://review.opendev.org/openstack/devstack refs/changes/90/884790/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/functions-libvirt'],1,a13201646d7ca50d92c44b73ba3f20bbf0f3f1d3,coredumpctl, install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt systemd-coredump, install_package qemu-system libvirt-clients libvirt-daemon-system libvirt-dev python3-libvirt,1,1
openstack%2Fec2-api~stable%2Fwallaby~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/wallaby,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:33:11.000000000,2023-06-12 16:55:34.000000000,2023-06-12 16:51:34.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}]","[{'number': 1, 'created': '2023-06-12 16:33:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2bd49fb9a4448c131d571d1e6317c6d62b434ed7', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",1,885913,2bd49fb9a4448c131d571d1e6317c6d62b434ed7,6,2,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/13/885913/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2bd49fb9a4448c131d571d1e6317c6d62b434ed7,fix-zuul-errors, queue: ec2-api, queue: ec2-api,1,1
openstack%2Fec2-api~stable%2Fxena~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/xena,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:32:56.000000000,2023-06-12 16:54:55.000000000,2023-06-12 16:50:43.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}]","[{'number': 1, 'created': '2023-06-12 16:32:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/d199bce02d7c2b5d079d51c464ae723e5bdf39ce', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",1,885912,d199bce02d7c2b5d079d51c464ae723e5bdf39ce,6,2,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/12/885912/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d199bce02d7c2b5d079d51c464ae723e5bdf39ce,fix-zuul-errors, queue: ec2-api, queue: ec2-api,1,1
openstack%2Fec2-api~stable%2Fyoga~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/yoga,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:23:03.000000000,2023-06-12 16:53:01.000000000,2023-06-12 16:50:11.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}]","[{'number': 1, 'created': '2023-06-12 16:23:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a0ab299dd0a2c34d3ba4533ab659d0b27ee46f68', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",1,885893,a0ab299dd0a2c34d3ba4533ab659d0b27ee46f68,5,2,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/93/885893/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a0ab299dd0a2c34d3ba4533ab659d0b27ee46f68,fix-zuul-errors, queue: ec2-api, queue: ec2-api,1,1
openstack%2Fec2-api~stable%2Fpike~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/pike,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,MERGED,2023-06-12 16:39:19.000000000,2023-06-12 16:52:58.000000000,2023-06-12 16:52:58.000000000,"[{'_account_id': 10234}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 16:39:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/136a326e1c84d5d1b9201d091d945cc584db54cd', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nFor stable/yoga: Amended to actually drop the queue definition from the\ngate pipeline, which was no longer present for the original patch.\n\nFor stable/pike: Fixed merge conflict\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n(cherry picked from commit 2858b3bf6b4434932010d98227dd774e1968c709)\n'}]",1,885894,136a326e1c84d5d1b9201d091d945cc584db54cd,5,3,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

For stable/yoga: Amended to actually drop the queue definition from the
gate pipeline, which was no longer present for the original patch.

For stable/pike: Fixed merge conflict

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
(cherry picked from commit 2858b3bf6b4434932010d98227dd774e1968c709)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/94/885894/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,136a326e1c84d5d1b9201d091d945cc584db54cd,fix-zuul-errors, queue: ec2-api, gate: queue: ec2-api,1,2
openstack%2Fnova-specs~master~Idd2feb96e6acf630b19d7071666602d20db8d253,openstack/nova-specs,master,Idd2feb96e6acf630b19d7071666602d20db8d253,Add compute-object-ids spec for 2023.2,MERGED,2023-03-13 15:11:56.000000000,2023-06-12 16:43:38.000000000,2023-06-12 16:42:25.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-03-13 15:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e0cc3dc369284100cdc19e1fae4811f629860f22', 'message': 'Add compute-object-ids spec for 2023.2\n\nChange-Id: Idd2feb96e6acf630b19d7071666602d20db8d253\n'}, {'number': 2, 'created': '2023-03-13 16:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5e740810ceb16fde556f80bf1a07e5fc8cc029b4', 'message': 'Add compute-object-ids spec for 2023.2\n\nChange-Id: Idd2feb96e6acf630b19d7071666602d20db8d253\n'}, {'number': 3, 'created': '2023-04-06 14:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e5fa7563755349cd9dfbeb60e5d7eaa1afef7542', 'message': 'Add compute-object-ids spec for 2023.2\n\nChange-Id: Idd2feb96e6acf630b19d7071666602d20db8d253\n'}, {'number': 4, 'created': '2023-04-06 16:26:29.000000000', 'files': ['specs/2023.2/approved/compute-object-ids.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/17504f1f262c652b2879ccb70a3e9791af7d46ac', 'message': 'Add compute-object-ids spec for 2023.2\n\nChange-Id: Idd2feb96e6acf630b19d7071666602d20db8d253\n'}]",51,877291,17504f1f262c652b2879ccb70a3e9791af7d46ac,26,6,4,4393,,,0,"Add compute-object-ids spec for 2023.2

Change-Id: Idd2feb96e6acf630b19d7071666602d20db8d253
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/91/877291/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/compute-object-ids.rst'],1,e0cc3dc369284100cdc19e1fae4811f629860f22,bp/compute-object-ids,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== Link Compute Objects by ID ========================== https://blueprints.launchpad.net/nova/+spec/compute-object-ids Nova has long had a dependency on an unchanging hostname on the compute nodes. This spec aims to address this limitation, at least from the perspective of being able to detect an accidental change and avoiding catastrophe in the database that can currently result from a hostname change, whether intentional or not. As a continuation of the effort to `robustify compute hostnames`_, this spec describes the next phase which involves strengthening the linkage between the primary database objects managed by the compute nodes. Problem description =================== The `ComputeNode`, `Service`, and `Instance` objects form the primary data model for our compute nodes. Instances run on compute nodes, which are managed by services. We rely on this hierarchy to know where instances are (physically) as well as which RPC endpoint to send messages to for management. Currently, the linkage between all three objects is a relatively loose and string-based, association using the hostname of the compute node and/or the `CONF.host` values. This not only makes an actual/intentional rename very difficult, but also risks breaking critical links as a result of an *accidental* one. Use Cases --------- As an operator I want an accidental or transient hostname rename to not cause corruption of my Nova data structures. As a developer, I want a stronger association between the primary objects in the data model for robustness and performance reasons. Proposed change =============== We already have a `service_id` field on our `ComputeNode` object. We should resume populating that when we create a new `ComputeNode` and we should fix existing records during `ComputeManager.init_host()`, similar to how we added checks for hostname discrepancies in the earlier phase of this effort. We will need to add a `compute_id` field to the `Instance` object, which will require a schema migration. This field will need to remain nullable, and will be `NULL` for instances before scheduling, as well as instances in `SHELVED_OFFLOADED` state. The `compute_id` field can be populated at the same time we currently set `Instance.host`, and similar to `ComputeNode` records above, we can migrate existing records during `ComputeManager._init_instance()`. It is important to note that this spec defines one part of a two-part effort. The setup described here will require a subsequent step to change how we look up these objects to use the new relationships once all the data has been migrated. Alternatives ------------ This is not *required* for proper operation, so we could choose to do nothing. We could also choose to keep the string-based association, strengthened by Foreign Key relationships. Data model impact ----------------- All changes will be confined to the Cell database: * Instance will grow a `compute_id` field * ComputeNode's existing `service_id` field will be populated * Both will be populated during new record creation, and for existing records at runtime during `nova-compute` startup. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ While not the primary intent, a follow-on effort to this will enable querying these objects by integer ID relation instead of by string, which should be both faster as well as lower impact on the database server. Other deployer impact --------------------- No additional deployer impact other than a tiny amount of online data migration traffic on the next startup after upgrade, as well as improved performance and robustness going forward once the effort is completed. Developer impact ---------------- Some additional re-learning about the relationships between the objects being based on IDs instead of hostnames. Upgrade impact -------------- No real upgrade impact here, other than what is already expected. A simple and database migration will be added, with no specific requirements about ordering or simultaneous code change. Compute nodes will migrate existing records during the first post-upgrade restart. Implementation ============== Assignee(s) ----------- Primary assignee: danms Work Items ---------- * Start populating `ComputeNode.service_id` on creation * Migrate existing `ComputeNode` objects on startup (`init_host()`) * Add a migration to add the `Instance.compute_id` field * Start populating `Instance.compute_id` on completion of scheduling * Migrate existing `Instance` objects on startup (`_init_instance()`) Dependencies ============ None Testing ======= Unit and Functional tests will be added to verify that new and existing objects are properly linked and migrated. Documentation Impact ==================== No documentation changes required. References ========== - This is part of a larger multi-cycle effort to `robustify compute hostnames`_. - This follows the `first robustification stage`_, completed in `2023.1` .. _`robustify compute hostnames`: https://specs.openstack.org/openstack/nova-specs/specs/backlog/approved/robustify-compute-hostnames.html .. _`first robustification stage`: https://specs.openstack.org/openstack/nova-specs/specs/2023.1/approved/stable-compute-uuid.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.2 Bobcat - Introduced ",,184,0
openstack%2Fpuppet-openstack-integration~master~I662872ffa7ada39f506e8ca7d86010ea10f0e406,openstack/puppet-openstack-integration,master,I662872ffa7ada39f506e8ca7d86010ea10f0e406,Updated from Puppet OpenStack modules constraints,MERGED,2023-06-09 02:20:17.000000000,2023-06-12 16:38:02.000000000,2023-06-12 16:38:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 02:20:17.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6a484ee369ef270037f475fb5d03db8ca1491182', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I662872ffa7ada39f506e8ca7d86010ea10f0e406\n'}]",0,885668,6a484ee369ef270037f475fb5d03db8ca1491182,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I662872ffa7ada39f506e8ca7d86010ea10f0e406
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/68/885668/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,6a484ee369ef270037f475fb5d03db8ca1491182,openstack/puppet/constraints, :ref => 'v9.1.0', :ref => 'v9.0.2',1,1
