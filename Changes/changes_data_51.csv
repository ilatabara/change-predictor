id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-heat-templates~master~I2072e07b8ab77b8fe435402cda7b02d7c2d261b5,openstack/tripleo-heat-templates,master,I2072e07b8ab77b8fe435402cda7b02d7c2d261b5,Fix logs permissions for swtpm,MERGED,2022-11-21 14:51:24.000000000,2022-12-01 19:55:41.000000000,2022-12-01 19:55:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 14:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f5c980ae55e03cdd6d5d74840524e025bc991f0', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}, {'number': 2, 'created': '2022-11-22 13:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da45b3f6276447888a9dc89d671b23fb11316631', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}, {'number': 3, 'created': '2022-11-29 15:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7e9ea9e742d88ca42dfcf31546916ba4921d8af', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n(cherry picked from commit da45b3f6276447888a9dc89d671b23fb11316631)\n'}, {'number': 4, 'created': '2022-11-29 15:01:32.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fabe90b237ad428d63f8843eb1ffbbd50c1bd6e', 'message': 'Fix logs permissions for swtpm\n\nThe swtpm_setup etc. tools managed by nova require\nthe nova user to access logging directories owned by tss\nuser.\n\nThe dependency adds nova user into tss group in TCIB.\nThis change to allow nova user to write into the shared with tss group\nswtpm logging destinations.\n\nAlso, add nova_virtqemud_init_logs container to chown swtpm logging\ndirectory (host prep tasks ensures it as root:root) for tss user/group\nas it is defined by TCIB.\n\nDepends-On: https://review.opendev.org/865139\nChange-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5\n'}]",13,865141,3fabe90b237ad428d63f8843eb1ffbbd50c1bd6e,35,7,4,6926,,,0,"Fix logs permissions for swtpm

The swtpm_setup etc. tools managed by nova require
the nova user to access logging directories owned by tss
user.

The dependency adds nova user into tss group in TCIB.
This change to allow nova user to write into the shared with tss group
swtpm logging destinations.

Also, add nova_virtqemud_init_logs container to chown swtpm logging
directory (host prep tasks ensures it as root:root) for tss user/group
as it is defined by TCIB.

Depends-On: https://review.opendev.org/865139
Change-Id: I2072e07b8ab77b8fe435402cda7b02d7c2d261b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/865141/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,4f5c980ae55e03cdd6d5d74840524e025bc991f0,swtpm_logs," # TODO(bogdando): use container_logwriter_t as of container-selinux v2.191.0 - { 'path': /var/log/containers/libvirt/swtpm, 'setype': container_file_t, 'mode': '0770' }"," - { 'path': /var/log/containers/libvirt/swtpm, 'setype': container_file_t, 'mode': '0750' }",2,1
openstack%2Ftripleo-heat-templates~stable%2Fzed~I2bdc9c96cfce3df529229f4194dc816fa798658d,openstack/tripleo-heat-templates,stable/zed,I2bdc9c96cfce3df529229f4194dc816fa798658d,Run virtqemud with umask 0027,MERGED,2022-11-28 10:05:46.000000000,2022-12-01 19:55:37.000000000,2022-12-01 19:55:37.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c07e22e7ea08dafcca5a22b61dc3f7453467869', 'message': 'Run virtqemud with umask 0027\n\nVirtqemud container requires umask 0027 as libvirt/qemu dynamic\npermissions should be restricted to not create VM files world readable.\n\nDepends-On: https://review.opendev.org/858930\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d\n(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)\n'}, {'number': 2, 'created': '2022-11-29 14:50:36.000000000', 'files': ['deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37332d833e5c43fad8e2e2905680bae823900327', 'message': 'Run virtqemud with umask 0027\n\nVirtqemud container requires umask 0027 as libvirt/qemu dynamic\npermissions should be restricted to not create VM files world readable.\n\nDepends-On: https://review.opendev.org/858930\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d\n(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)\n'}]",2,865830,37332d833e5c43fad8e2e2905680bae823900327,24,3,2,9816,,,0,"Run virtqemud with umask 0027

Virtqemud container requires umask 0027 as libvirt/qemu dynamic
permissions should be restricted to not create VM files world readable.

Depends-On: https://review.opendev.org/858930
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I2bdc9c96cfce3df529229f4194dc816fa798658d
(cherry picked from commit 7bba86fc582b6d599117be06c23d0a3d91332cfd)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/865830/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-modular-libvirt-container-puppet.yaml'],1,8c07e22e7ea08dafcca5a22b61dc3f7453467869,libvirt_dynamic_permissions-stable/zed," TRIPLEO_KOLLA_UMASK: ""0027""",,1,0
openstack%2Fmanila~stable%2Fyoga~I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,openstack/manila,stable/yoga,I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,Fix GaneshaNASHelper update_access signature,MERGED,2022-04-21 17:45:13.000000000,2022-12-01 19:52:30.000000000,2022-12-01 19:51:25.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-21 17:45:13.000000000', 'files': ['releasenotes/notes/bug-1964696-fix-GaneshaNFSHelper-update_access-6124a79e34e63030.yaml', 'manila/share/drivers/glusterfs/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/c37a44dfe67b54e25c3a55332a6d8bab289bc25d', 'message': 'Fix GaneshaNASHelper update_access signature\n\nThe gluster GaneshaNFSHelper update_access method calls\ninto the GaneshaNASHelper update_access method, but the\nsignature it uses for this call is not up to date with\nthe 2017 dynamic export changes made to the Ganesha\ndriver.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe signature that the Gluster driver expects but calls\ninto Ganesha with the signature that it expects.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nCloses-Bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n(cherry picked from commit 6f4191a6d92342c35ece64c735be6c43ca171d58)\n'}]",2,838876,c37a44dfe67b54e25c3a55332a6d8bab289bc25d,14,3,1,16643,,,0,"Fix GaneshaNASHelper update_access signature

The gluster GaneshaNFSHelper update_access method calls
into the GaneshaNASHelper update_access method, but the
signature it uses for this call is not up to date with
the 2017 dynamic export changes made to the Ganesha
driver.

Fix this by adding an update_access method to
the gluster-specific GaneshaNFSHelper which accepts
the signature that the Gluster driver expects but calls
into Ganesha with the signature that it expects.

[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160

Closes-Bug: #1964696
Change-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22
(cherry picked from commit 6f4191a6d92342c35ece64c735be6c43ca171d58)
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/838876/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1964696-fix-GaneshaNFSHelper-update_access-6124a79e34e63030.yaml', 'manila/share/drivers/glusterfs/__init__.py']",2,c37a44dfe67b54e25c3a55332a6d8bab289bc25d,bug/1964696," def update_access(self, base_path, share, add_rules, delete_rules, recovery=False): """"""Update access rules."""""" context = None access_rules = [] super(GaneshaNFSHelper, self).update_access( context, share, access_rules, add_rules, delete_rules, share_server=None)",,17,0
openstack%2Fironic-inspector~stable%2Ftrain~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,stable/train,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Zuul no longer respects queue,MERGED,2022-10-03 21:48:33.000000000,2022-12-01 19:36:29.000000000,2022-12-01 19:34:29.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 21:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/63578765506f217c7a804b442401c4ca1d409e34', 'message': 'CI: Zuul no longer respects queue\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 2, 'created': '2022-12-01 17:16:06.000000000', 'files': ['zuul.d/project.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2757041c0a83093bc815f619eb74c223b9842e69', 'message': 'CI: Zuul no longer respects queue\n\nAlso fix sql syntax in test-setup\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}]",5,860166,2757041c0a83093bc815f619eb74c223b9842e69,21,4,2,10342,,,0,"CI: Zuul no longer respects queue

Also fix sql syntax in test-setup

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/66/860166/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63578765506f217c7a804b442401c4ca1d409e34,,, queue: ironic,0,1
openstack%2Fswift~master~I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca,openstack/swift,master,I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca,ring: Have RingBuilder.debug return to old state,MERGED,2022-07-28 17:26:46.000000000,2022-12-01 19:29:12.000000000,2022-12-01 19:28:08.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-28 17:26:46.000000000', 'files': ['swift/common/ring/builder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/85d063b20ac21207d7f23e48865f19656e83c087', 'message': 'ring: Have RingBuilder.debug return to old state\n\nPreviously, if the logger was enabled before entering the context\nmanager, it would be disabled upon exiting.\n\nChange-Id: I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca\n'}]",5,851441,85d063b20ac21207d7f23e48865f19656e83c087,12,5,1,15343,,,0,"ring: Have RingBuilder.debug return to old state

Previously, if the logger was enabled before entering the context
manager, it would be disabled upon exiting.

Change-Id: I19e03309c2c1e3ddafb1eee6f3a4ead0267c26ca
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/851441/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/ring/builder.py'],1,85d063b20ac21207d7f23e48865f19656e83c087,," old_val, self.logger.disabled = self.logger.disabled, False self.logger.disabled = old_val", self.logger.disabled = False self.logger.disabled = True,2,2
openstack%2Fnova~stable%2Fyoga~I6e220cf3231670d156632e075fcf7701df744773,openstack/nova,stable/yoga,I6e220cf3231670d156632e075fcf7701df744773,enable blocked VDPA move operations,MERGED,2022-08-29 13:59:30.000000000,2022-12-01 19:27:09.000000000,2022-12-01 19:25:45.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e290cd5c5aa6b15705eb3d6c7fe0fc3e53bed0a9', 'message': 'enable blocked VDPA move operations\n\nThis change adds functional test for operations on servers with VDPA\ndevices that are expected to work but currently blocked due to lack\nof testing or qemu bugs.\n\ncold-migrate, resize, evacuate,and shelve are enabled\nand tested by this patch\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nCloses-Bug: #1970467\nChange-Id: I6e220cf3231670d156632e075fcf7701df744773\n(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)\n'}, {'number': 2, 'created': '2022-11-17 15:15:56.000000000', 'files': ['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/041939361e393b808724b8590eb76b3aa075814e', 'message': 'enable blocked VDPA move operations\n\nThis change adds functional test for operations on servers with VDPA\ndevices that are expected to work but currently blocked due to lack\nof testing or qemu bugs.\n\ncold-migrate, resize, evacuate,and shelve are enabled\nand tested by this patch\n\nConflicts:\n    nova/tests/functional/libvirt/test_pci_sriov_servers.py\n\nCloses-Bug: #1970467\nChange-Id: I6e220cf3231670d156632e075fcf7701df744773\n(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)\n'}]",2,855035,041939361e393b808724b8590eb76b3aa075814e,19,3,2,11604,,,0,"enable blocked VDPA move operations

This change adds functional test for operations on servers with VDPA
devices that are expected to work but currently blocked due to lack
of testing or qemu bugs.

cold-migrate, resize, evacuate,and shelve are enabled
and tested by this patch

Conflicts:
    nova/tests/functional/libvirt/test_pci_sriov_servers.py

Closes-Bug: #1970467
Change-Id: I6e220cf3231670d156632e075fcf7701df744773
(cherry picked from commit 95f96ed3aa201bc5b90e589b288fa4039bc9c0d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/855035/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/vdpa.rst', 'doc/source/admin/index.rst', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/vdpa-move-ops-a7b3799807807a92.yaml', 'nova/compute/api.py']",5,e290cd5c5aa6b15705eb3d6c7fe0fc3e53bed0a9,bug/1970467,," # FIXME(sean-k-mooney): Cold migrate and resize to different hosts # probably works but they have not been tested so block them for now @reject_vdpa_instances(instance_actions.RESIZE) # FIXME(sean-k-mooney): Shelve works but unshelve does not due to bug # #1851545, so block it for now @reject_vdpa_instances(instance_actions.SHELVE) # FIXME(sean-k-mooney): rebuild works but we have not tested evacuate yet @reject_vdpa_instances(instance_actions.EVACUATE)",388,29
openstack%2Fswift~master~Ib4164f877908b855ce354cc722d9cb0be8be9921,openstack/swift,master,Ib4164f877908b855ce354cc722d9cb0be8be9921,slo: Default allow_async_delete to true,MERGED,2021-12-21 22:13:20.000000000,2022-12-01 19:27:04.000000000,2022-12-01 19:25:50.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 22:13:20.000000000', 'files': ['doc/saio/swift/proxy-server.conf', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/fa1058b6ed762b406f3b93c7989b66c114b44e8d', 'message': ""slo: Default allow_async_delete to true\n\nWe've had this option for a year now, and it seems to help. Let's enable\nit for everyone. Note that Swift clients still need to opt into the\nasync delete via a query param, while S3 clients get it for free.\n\nChange-Id: Ib4164f877908b855ce354cc722d9cb0be8be9921\n""}]",3,822565,fa1058b6ed762b406f3b93c7989b66c114b44e8d,10,3,1,15343,,,0,"slo: Default allow_async_delete to true

We've had this option for a year now, and it seems to help. Let's enable
it for everyone. Note that Swift clients still need to opt into the
async delete via a query param, while S3 clients get it for free.

Change-Id: Ib4164f877908b855ce354cc722d9cb0be8be9921
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/822565/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/proxy-server.conf', 'swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py', 'etc/proxy-server.conf-sample']",4,fa1058b6ed762b406f3b93c7989b66c114b44e8d,,# allow_async_delete = true,# allow_async_delete = false,8,9
openstack%2Foslo.messaging~master~Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66,openstack/oslo.messaging,master,Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66,Implement get_rpc_client function,MERGED,2022-10-22 10:58:16.000000000,2022-12-01 18:46:57.000000000,2022-12-01 18:45:46.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-22 10:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a4117dcbc270cc061826e160722aef47db0b9f7b', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 2, 'created': '2022-10-23 13:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0db266107b25a8d1f07363f2ab0e6374ed8bb228', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 3, 'created': '2022-10-23 19:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0120e64e5d324a1cef557d3150b9693f15447672', 'message': ""Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in it's enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n""}, {'number': 4, 'created': '2022-10-25 11:42:49.000000000', 'files': ['tools/simulator.py', 'releasenotes/notes/get-rpc-client-0b4aa62160864b29.yaml', 'oslo_messaging/rpc/__init__.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/tests/functional/utils.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4ead7cb2dcf376032f7bf9532a375256db6d3784', 'message': 'Implement get_rpc_client function\n\nWe already expose functions to handle the instantiation\nof classes such as RPCServer and RPCTransport but the\nsame was never done for RPCClient so the API is\ninconsistent in its enforcement.\n\nThis adds a get_rpc_client function that should be used\ninstead of instatiating the RPCClient class directly to\nbe more consistent.\n\nThis also allows to handle more logic inside the function\nin the future such as if implementations for an async client\nis implemented, as investigation in [1] has shown.\n\n[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936\n\nChange-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66\n'}]",20,862419,4ead7cb2dcf376032f7bf9532a375256db6d3784,19,5,4,16137,,,0,"Implement get_rpc_client function

We already expose functions to handle the instantiation
of classes such as RPCServer and RPCTransport but the
same was never done for RPCClient so the API is
inconsistent in its enforcement.

This adds a get_rpc_client function that should be used
instead of instatiating the RPCClient class directly to
be more consistent.

This also allows to handle more logic inside the function
in the future such as if implementations for an async client
is implemented, as investigation in [1] has shown.

[1] https://review.opendev.org/c/openstack/oslo.messaging/+/858936

Change-Id: Ia4d1f0497b9e2728bde02f4ff05fdc175ddffe66
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/862419/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/simulator.py', 'releasenotes/notes/get-rpc-client-0b4aa62160864b29.yaml', 'oslo_messaging/rpc/__init__.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/rpc/client.py', 'oslo_messaging/tests/rpc/test_server.py', 'oslo_messaging/tests/functional/utils.py']",7,a4117dcbc270cc061826e160722aef47db0b9f7b,get-rpc-client," self._ctrl = oslo_messaging.get_rpc_client(transport.transport, self.ctrl_target) self.client = oslo_messaging.get_rpc_client("," self._ctrl = oslo_messaging.RPCClient(transport.transport, self.ctrl_target) self.client = oslo_messaging.RPCClient(",77,36
openstack%2Fpyeclib~master~I04389d6bf7bf399ed17ce09f251e02606e425677,openstack/pyeclib,master,I04389d6bf7bf399ed17ce09f251e02606e425677,Import setuptools before distutils,ABANDONED,2022-11-12 15:51:24.000000000,2022-12-01 18:14:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-12 15:51:24.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/7f728998748416f390756932770899a185e28718', 'message': 'Import setuptools before distutils\n\nsetuptools 60 uses its own bundled version of distutils, by default. It\ninjects this into sys.modules, at import time. So we need to make sure\nthat it is imported, before anything else imports distutils, to ensure\neverything is using the same distutils version.\n\nThis change in setuptools is to prepare for Python 3.12, which will drop\ndistutils.\n\nFixes: https://bugs.debian.org/1022470\nChange-Id: I04389d6bf7bf399ed17ce09f251e02606e425677\n'}]",1,864336,7f728998748416f390756932770899a185e28718,5,1,1,35532,,,0,"Import setuptools before distutils

setuptools 60 uses its own bundled version of distutils, by default. It
injects this into sys.modules, at import time. So we need to make sure
that it is imported, before anything else imports distutils, to ensure
everything is using the same distutils version.

This change in setuptools is to prepare for Python 3.12, which will drop
distutils.

Fixes: https://bugs.debian.org/1022470
Change-Id: I04389d6bf7bf399ed17ce09f251e02606e425677
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/36/864336/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,7f728998748416f390756932770899a185e28718,,from distutils.command.build import build as _build from distutils.command.clean import clean as _clean from distutils.sysconfig import get_python_inc,from distutils.command.build import build as _build from distutils.command.clean import clean as _clean from distutils.sysconfig import get_python_inc,3,3
openstack%2Fswift~master~I80b80ae9390827dfb3a1f5401f41aefc1b859a9a,openstack/swift,master,I80b80ae9390827dfb3a1f5401f41aefc1b859a9a,Use assertRegex instead of assertRegexpMatches,ABANDONED,2018-11-06 02:55:19.000000000,2022-12-01 18:12:12.000000000,,"[{'_account_id': 597}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-11-06 02:55:19.000000000', 'files': ['test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_presigned.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/32f90f5df6ccf69ac4e9b9a02e2a83f114646bef', 'message': 'Use assertRegex instead of assertRegexpMatches\n\nIn Python3, assertRegexpMatches & assertNotRegexpMatches\nare deprecated in favor of assertRegex and assertNotRegex.\n\nChange-Id: I80b80ae9390827dfb3a1f5401f41aefc1b859a9a\n'}]",0,615711,32f90f5df6ccf69ac4e9b9a02e2a83f114646bef,9,4,1,25903,,,0,"Use assertRegex instead of assertRegexpMatches

In Python3, assertRegexpMatches & assertNotRegexpMatches
are deprecated in favor of assertRegex and assertNotRegex.

Change-Id: I80b80ae9390827dfb3a1f5401f41aefc1b859a9a
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/615711/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_multi_upload.py', 'test/functional/s3api/test_presigned.py']",3,32f90f5df6ccf69ac4e9b9a02e2a83f114646bef,assertRegex, self.assertRegex(, self.assertRegexpMatches(,11,11
openstack%2Fswift~master~I25ec2ff09cbeeed9e7a8d8faa52389a3be386590,openstack/swift,master,I25ec2ff09cbeeed9e7a8d8faa52389a3be386590,Py3: Fixes TypeError: keys must be a string,ABANDONED,2016-07-26 09:24:40.000000000,2022-12-01 18:03:11.000000000,,"[{'_account_id': 3}, {'_account_id': 9107}, {'_account_id': 10369}]","[{'number': 1, 'created': '2016-07-26 09:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/02f0c454e74456b18339453ab84df854e6e5333d', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes Encode and decode base64 issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}, {'number': 2, 'created': '2016-07-26 09:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83864fe0aca3a363cf6210de0b2dc518bb7c2167', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes Encode and decode base64 issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}, {'number': 3, 'created': '2016-07-26 16:42:36.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/34d226c6dada394c65e0619f870383b46c206dc3', 'message': 'Py3: Fixes TypeError: keys must be a string\n\nFixes TypeError keys must be a string\nFixes other encoding and byteswarning issues\n\nChange-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590\n'}]",6,347212,34d226c6dada394c65e0619f870383b46c206dc3,9,3,3,10369,,,0,"Py3: Fixes TypeError: keys must be a string

Fixes TypeError keys must be a string
Fixes other encoding and byteswarning issues

Change-Id: I25ec2ff09cbeeed9e7a8d8faa52389a3be386590
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/347212/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py']",2,02f0c454e74456b18339453ab84df854e6e5333d,Py3,"from oslo_serialization import base64 from oslo_serialization.base64 import encode_as_bytes (name, timestamp, deleted) = pickle.loads( base64.decode_as_bytes(entry)) fp.write(b':') fp.write(encode_as_bytes(pickle.dumps( protocol=PICKLE_PROTOCOL))) for key in list(stub_dict):"," (name, timestamp, deleted) = pickle.loads(entry.decode('base64')) fp.write(':') fp.write(pickle.dumps( protocol=PICKLE_PROTOCOL).encode('base64')) for key in stub_dict.keys():",13,8
openstack%2Fpuppet-ovn~master~I574992748506e357af383588fb89b45203dee738,openstack/puppet-ovn,master,I574992748506e357af383588fb89b45203dee738,Add support for SSL connections to NB/SB DB,MERGED,2022-12-01 03:49:21.000000000,2022-12-01 17:34:05.000000000,2022-12-01 17:32:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 03:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/591e146a3de4fc4d506eb68035af0992d1afb561', 'message': 'Add support for clustered DB\n\nFor a cluster db, the nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 2, 'created': '2022-12-01 03:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/3cf03ca13793bbe17447d876d00573c4270c9f5e', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 3, 'created': '2022-12-01 03:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cc36b1320892c2c5d85b492828d88f12a2e5d5ab', 'message': 'Add support for clustered DB\n\nFor a cluster db, nb_db and sb_db should be set to the cluster\naddresses[1] instead of default local unix socket.\n\n[1]\ne.g. ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 4, 'created': '2022-12-01 03:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f09da1caac0f161eecd800b3fa6c14aba8e747be', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 5, 'created': '2022-12-01 05:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/771ee665ef0cce4be7671a3b2a80c3ff48021a35', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}, {'number': 6, 'created': '2022-12-01 07:17:01.000000000', 'files': ['releasenotes/notes/ovn-northd-ssl-db-0d77bbd457a21df6.yaml', 'manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/1bfe785fd5773ab52bbe892d48ba3af5428add60', 'message': 'Add support for SSL connections to NB/SB DB\n\nTo allow ovn-northd to connect over SSL, the key, cert and cacert needs\nto be set.\n\nCo-Authored-By: Jake Yip <jake.yip@ardc.edu.au>\nChange-Id: I574992748506e357af383588fb89b45203dee738\n'}]",0,866245,1bfe785fd5773ab52bbe892d48ba3af5428add60,15,3,6,9816,,,0,"Add support for SSL connections to NB/SB DB

To allow ovn-northd to connect over SSL, the key, cert and cacert needs
to be set.

Co-Authored-By: Jake Yip <jake.yip@ardc.edu.au>
Change-Id: I574992748506e357af383588fb89b45203dee738
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/45/866245/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-clusterd-db-244b8d44eb2638d1.yaml', 'manifests/northd.pp', 'spec/classes/ovn_northd_spec.rb']",3,591e146a3de4fc4d506eb68035af0992d1afb561,ssl_clustered_db," :ovn_northd_nb_db => 'ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645', :ovn_northd_sb_db => ['ssl:192.0.2.1:6646', 'ssl:192.0.2.2:6646', 'ssl:192.0.2.3:6646'], :ovn_northd_ssl_key => 'key.pem', :ovn_northd_ssl_cert => 'cert.pem', :ovn_northd_ssl_ca_cert => 'cacert.pem', context 'with bad ssl parameters' do let :params do { :ovn_northd_ssl_key => 'key.pem', } end it { should raise_error(Puppet::Error, /The ovn_northd_ssl_key, cert and ca-cert are required to use SSL/) } end "," :ovn_northd_nb_db => 'ssl:192.0.2.1:6645,ssl:192.0.2.2:6645,ssl:192.0.2.3:6645', :ovn_northd_sb_db => ['ssl:192.0.2.1:6646', 'ssl:192.0.2.2:6646', 'ssl:192.0.2.3:6646'],",50,3
openstack%2Ftripleo-upgrade~stable%2Fwallaby~If769954dea48cba5b9cc52871a18735e8520a0ab,openstack/tripleo-upgrade,stable/wallaby,If769954dea48cba5b9cc52871a18735e8520a0ab,Removed tasks using unsupported NIC config script,MERGED,2022-11-30 12:17:05.000000000,2022-12-01 17:31:44.000000000,2022-12-01 17:31:44.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-30 12:17:05.000000000', 'files': ['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml', 'tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5', 'message': 'Removed tasks using unsupported NIC config script\n\n`merge-new-params-nic-config-script.py`from Tripleo Heat Templates\nis no longer supported and will be removed for Zed release\nalong with the `convert_nic_config.py`.\n\nTasks using these scripts have to be be removed as well.\nThis includes indirect usage, and inclusion of the tasks\nin FFU process.\n\nRelated: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860691\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If769954dea48cba5b9cc52871a18735e8520a0ab\n(cherry picked from commit d9d3ce157819262be3d5a1e782f64bc542bd1df6)\n'}]",1,866142,81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5,11,3,1,11166,,,0,"Removed tasks using unsupported NIC config script

`merge-new-params-nic-config-script.py`from Tripleo Heat Templates
is no longer supported and will be removed for Zed release
along with the `convert_nic_config.py`.

Tasks using these scripts have to be be removed as well.
This includes indirect usage, and inclusion of the tasks
in FFU process.

Related: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/860691

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If769954dea48cba5b9cc52871a18735e8520a0ab
(cherry picked from commit d9d3ce157819262be3d5a1e782f64bc542bd1df6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/42/866142/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_nic_templates.yaml', 'tasks/common/convert_nic_template.yaml', 'tasks/common/rocky_to_stein_adjust_nic_templates.yaml', 'tasks/fast-forward-upgrade/main.yml']",4,81e7fe0b93f8e7b1d72e5d7c709aee8279e28ee5,,, - name: convert nic templates import_tasks: ../common/convert_nic_templates.yaml tags: ffu_overcloud_prepare ,0,88
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I15add6d240ea072bc972cf9b7713b2b59c51d7ed,openstack/tripleo-upgrade,stable/wallaby,I15add6d240ea072bc972cf9b7713b2b59c51d7ed,[ffwd3] Introduce roles_data adjustment for wallaby,MERGED,2022-11-30 11:55:45.000000000,2022-12-01 17:31:43.000000000,2022-12-01 17:31:43.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 11:55:45.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bad9ae1b96f32a0e436ae795ed087c942f20a143', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}]",2,866141,bad9ae1b96f32a0e436ae795ed087c942f20a143,13,3,1,11166,,,0,"[ffwd3] Introduce roles_data adjustment for wallaby

Change-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/41/866141/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,bad9ae1b96f32a0e436ae795ed087c942f20a143,,"- name: ""Drop {{item}} service"" replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- {{item}}$)' replace: '' loop: - ""OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI"" - ""OS::TripleO::Services::CinderBackendDellPs"" - ""OS::TripleO::Services::CinderBackendVRTSHyperScale"" - ""OS::TripleO::Services::Ec2Api"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::FluentdAlt"" - ""OS::TripleO::Services::Keepalived"" - ""OS::TripleO::Services::MistralApi"" - ""OS::TripleO::Services::MistralEngine"" - ""OS::TripleO::Services::MistralEventEngine"" - ""OS::TripleO::Services::MistralExecutor"" - ""OS::TripleO::Services::NeutronLbaasv2Agent"" - ""OS::TripleO::Services::NeutronLbaasv2Api"" - ""OS::TripleO::Services::NeutronML2FujitsuCfab"" - ""OS::TripleO::Services::NeutronML2FujitsuFossw"" - ""OS::TripleO::Services::NeutronSriovHostConfig"" - ""OS::TripleO::Services::NovaConsoleauth"" - ""OS::TripleO::Services::Ntp"" - ""OS::TripleO::Services::OpenDaylightApi"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenShift::GlusterFS"" - ""OS::TripleO::Services::OpenShift::Infra"" - ""OS::TripleO::Services::OpenShift::Master"" - ""OS::TripleO::Services::OpenShift::Worker"" - ""OS::TripleO::Services::PankoApi"" - ""OS::TripleO::Services::Rear"" - ""OS::TripleO::Services::SaharaApi"" - ""OS::TripleO::Services::SaharaEngine"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClientAlt"" - ""OS::TripleO::Services::SkydiveAgent"" - ""OS::TripleO::Services::SkydiveAnalyzer"" - ""OS::TripleO::Services::Tacker"" - ""OS::TripleO::Services::TripleoUI"" - ""OS::TripleO::Services::UndercloudMinionMessaging"" - ""OS::TripleO::Services::UndercloudUpgradeEphemeralHeat"" - ""OS::TripleO::Services::Zaqar"" ",,47,0
openstack%2Fvalidations-libs~master~Iea6fc17ec4da91df652be0a0cb9338e3c512f141,openstack/validations-libs,master,Iea6fc17ec4da91df652be0a0cb9338e3c512f141,Check the presence of the output callback and the roles path,MERGED,2022-11-16 12:52:05.000000000,2022-12-01 17:14:37.000000000,2022-12-01 17:13:08.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-16 12:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/02bf2cb13297314830e9c77130328d9cf5b00973', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the prensece of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command but wont be able\nto find the json log output associated to the run and will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 2, 'created': '2022-11-17 16:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bdeaf12d9389672da9670bce8f550f873b5b254b', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 3, 'created': '2022-11-18 09:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4717574680ddb733953464042a5b16ecdae9dbb5', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 4, 'created': '2022-11-21 09:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/39fc72080452ea533f8f88e34f8a1d6d0abd6b68', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}, {'number': 5, 'created': '2022-11-23 14:22:00.000000000', 'files': ['validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a7b2d9788df11d4d4635d6c00c380fdc0e1fab40', 'message': 'Check the presence of the output callback and the roles path\n\nThis patch check the presence of the output callback *vf_validation_json*\nwhich is mandatory for a correct behavior of the VF.\nWithout this checks the VF will execute the ansible command,\nbut wont be able to find the json log associated to the run,\nand will failed at the end.\nThis check prevent useless investigations and save time for the user.\n\nIt also check the presence of the roles path (if one of all the paths is correct)\nto prevent as well strange behavior from Ansible and the framework.\n\nChange-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141\n'}]",5,864727,a7b2d9788df11d4d4635d6c00c380fdc0e1fab40,19,4,5,16515,,,0,"Check the presence of the output callback and the roles path

This patch check the presence of the output callback *vf_validation_json*
which is mandatory for a correct behavior of the VF.
Without this checks the VF will execute the ansible command,
but wont be able to find the json log associated to the run,
and will failed at the end.
This check prevent useless investigations and save time for the user.

It also check the presence of the roles path (if one of all the paths is correct)
to prevent as well strange behavior from Ansible and the framework.

Change-Id: Iea6fc17ec4da91df652be0a0cb9338e3c512f141
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/27/864727/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/ansible.py', 'validations_libs/tests/test_ansible.py']",2,02bf2cb13297314830e9c77130328d9cf5b00973,ansible/path," @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_specific_log_path(self, mock_check_ansible, mock_path, mock_env, mock_env_var, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_no_log_path(self, mock_check_ansible, mock_env, mock_path, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_tags(self, mock_check_ansible, mock_env, mock_path, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_whitelist_extend(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_whitelist_none(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_callback_precedence(self, mock_check_files, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_set(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_from_log_path(self, mock_check_ansible, mock_env, mock_run, mock_exists, mock_open): @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_artifact_path_from_constants(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_envvars(self, mock_check_ansible, mock_env, @mock.patch('validations_libs.ansible.Ansible._check_ansible_files') def test_run_ansible_envvars_logdir(self, mock_check_ansible, mock_env, @mock.patch('os.path.exists', return_value=False) def test_check_ansible_files_path_not_exists(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar', 'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_missing_callback(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_missing_roles(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar'} self.assertRaises(RuntimeError, v_ansible._check_ansible_files, fake_env) @mock.patch('os.path.exists', return_value=True) def test_check_ansible_files_path_not_exists(self, mock_exists): v_ansible = Ansible(uuid='123z') fake_env = {'ANSIBLE_CALLBACK_PLUGINS': '/foo:/bar', 'ANSIBLE_ROLES_PATH': '/fake/roles:/foo/roles'} v_ansible._check_ansible_files(fake_env)"," def test_run_specific_log_path(self, mock_path, mock_env, mock_env_var, def test_run_no_log_path(self, mock_env, mock_path, def test_run_tags(self, mock_env, mock_path, def test_run_callback_whitelist_extend(self, mock_env, def test_run_callback_whitelist_none(self, mock_env, def test_run_callback_precedence(self, mock_env, def test_run_ansible_artifact_path_set(self, mock_env, def test_run_ansible_artifact_path_from_log_path(self, mock_env, mock_run, mock_exists, mock_open): def test_run_ansible_artifact_path_from_constants(self, mock_env, def test_run_ansible_envvars(self, mock_env, def test_run_ansible_envvars_logdir(self, mock_env,",79,12
openstack%2Ftripleo-validations~stable%2Fzed~Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,openstack/tripleo-validations,stable/zed,Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,Add validation to check if a reboot of a node is necessary,MERGED,2022-11-24 22:34:46.000000000,2022-12-01 17:14:21.000000000,2022-12-01 17:13:04.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-24 22:34:46.000000000', 'files': ['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/167f9df0a78bede94bd704d708afccbcb013320c', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)\n'}]",0,865558,167f9df0a78bede94bd704d708afccbcb013320c,9,4,1,16515,,,0,"Add validation to check if a reboot of a node is necessary

For Upgrade usage, this validation will check with yum-utils
if a reboot is needed by some core packages according to:
https://access.redhat.com/solutions/27943

Change-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d
(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/865558/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml']",4,167f9df0a78bede94bd704d708afccbcb013320c,pre/upgrade/reboot-stable/zed,--- - hosts: all gather_facts: true vars: metadata: name: Verify if a reboot is necessary with yum-utils description: | This validation checks if a reboot is necessary with yum-utils with the option: needs-restarting -r groups: - pre-upgrade - pre-update - post-upgrade - post-update categories: - os - kernel - system products: - tripleo roles: - check_reboot ,,49,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,openstack/tripleo-validations,stable/wallaby,Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,Add validation to check if a reboot of a node is necessary,MERGED,2022-11-24 22:34:58.000000000,2022-12-01 17:14:18.000000000,2022-12-01 17:13:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-24 22:34:58.000000000', 'files': ['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0f0ffde63f9d20dbc362ce59595058e79e93db15', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)\n'}]",1,865559,0f0ffde63f9d20dbc362ce59595058e79e93db15,9,3,1,16515,,,0,"Add validation to check if a reboot of a node is necessary

For Upgrade usage, this validation will check with yum-utils
if a reboot is needed by some core packages according to:
https://access.redhat.com/solutions/27943

Change-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d
(cherry picked from commit bb344b093ddc5df0568b8449ac35e50ab49723b5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/865559/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml']",4,0f0ffde63f9d20dbc362ce59595058e79e93db15,pre/upgrade/reboot-stable/zed-stable/wallaby,--- - hosts: all gather_facts: true vars: metadata: name: Verify if a reboot is necessary with yum-utils description: | This validation checks if a reboot is necessary with yum-utils with the option: needs-restarting -r groups: - pre-upgrade - pre-update - post-upgrade - post-update categories: - os - kernel - system products: - tripleo roles: - check_reboot ,,49,0
openstack%2Fcharm-ceph-mon~master~Iea39c33c614d204ee39ad39da68c31d213ed19e6,openstack/charm-ceph-mon,master,Iea39c33c614d204ee39ad39da68c31d213ed19e6,Fix: init alert rules on rel change,MERGED,2022-11-30 11:43:18.000000000,2022-12-01 17:13:14.000000000,2022-12-01 17:13:14.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-11-30 11:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/14c682e3ad317f36a955afd98a65306eb803b42d', 'message': 'Fix: init alert rules on rel change\n\nCheck for alert rules early, on first metrics-endpoint rel change\n\nChange-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6\n'}, {'number': 2, 'created': '2022-11-30 13:59:50.000000000', 'files': ['bindep.txt', 'src/ceph_metrics.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1cf9d4d228ca4df801094755d8247d8a0d8ff6d9', 'message': 'Fix: init alert rules on rel change\n\nCheck for alert rules early, on first metrics-endpoint rel change\n\nChange-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6\n'}]",5,866139,1cf9d4d228ca4df801094755d8247d8a0d8ff6d9,15,3,2,15382,,,0,"Fix: init alert rules on rel change

Check for alert rules early, on first metrics-endpoint rel change

Change-Id: Iea39c33c614d204ee39ad39da68c31d213ed19e6
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/39/866139/2 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_metrics.py'],1,14c682e3ad317f36a955afd98a65306eb803b42d,fix/update-alertrules-early, self.update_alert_rules(),,1,0
openstack%2Fironic-inspector~bugfix%2F10.9~I8389391f0f4ff270460341f42729cd01d01e2172,openstack/ironic-inspector,bugfix/10.9,I8389391f0f4ff270460341f42729cd01d01e2172,CI: Various fixes,MERGED,2022-10-03 21:49:32.000000000,2022-12-01 16:48:32.000000000,2022-12-01 16:45:54.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-03 21:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/847430cdaac9a11d78c952222dd3c9c63117744f', 'message': 'CI: Zuul no longer respects queue\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 2, 'created': '2022-10-11 22:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1d1992ce1c7462c205c4f20e9eba530a84b8f04e', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 3, 'created': '2022-10-13 07:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9fa4ece54028dc7ade30f299b13996e017691341', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 4, 'created': '2022-10-13 08:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d0a025987dba8adb456e9571d2503235d467b812', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 5, 'created': '2022-12-01 14:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6b1df392cf88da880d92fbd2630ae4c4cec5a487', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 6, 'created': '2022-12-01 14:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/eff1f893d6265ac80dd5e88d7519bd25c015b53d', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 7, 'created': '2022-12-01 14:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/dbb22f05c438372039566237e01f57f6859c7280', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n- Use yoga upper-constraints\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}, {'number': 8, 'created': '2022-12-01 16:02:42.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/238e74a83909951801f8601445d938e817737e1d', 'message': 'CI: Various fixes\n\n- Zuul no longer respects queue\n- Pin requirements to yoga\n- Use yoga upper-constraints\n\nChange-Id: I8389391f0f4ff270460341f42729cd01d01e2172\n'}]",4,860170,238e74a83909951801f8601445d938e817737e1d,25,5,8,10342,,,0,"CI: Various fixes

- Zuul no longer respects queue
- Pin requirements to yoga
- Use yoga upper-constraints

Change-Id: I8389391f0f4ff270460341f42729cd01d01e2172
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/70/860170/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,847430cdaac9a11d78c952222dd3c9c63117744f,,, queue: ironic,0,1
openstack%2Fneutron~stable%2Fwallaby~Ib9663495f30562f79babef163729a0c43812089d,openstack/neutron,stable/wallaby,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:34:13.000000000,2022-12-01 16:37:15.000000000,2022-12-01 16:35:57.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:34:13.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0135f0db5627327741822c76efbc03ef0d476576', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",0,865902,0135f0db5627327741822c76efbc03ef0d476576,9,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/865902/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,0135f0db5627327741822c76efbc03ef0d476576,disable_sgl-stable/wallaby," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Fopenstack-ansible-os_nova~master~I98486e29e1214ee6684e94e4d9a9e407b3200499,openstack/openstack-ansible-os_nova,master,I98486e29e1214ee6684e94e4d9a9e407b3200499,move ovs section out from the middle of the libvirt section,ABANDONED,2022-11-19 00:08:43.000000000,2022-12-01 16:25:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-19 00:08:43.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/764123920d58953b8e7973b0d21452464752536d', 'message': 'move ovs section out from the middle of the libvirt section\n\nChange-Id: I98486e29e1214ee6684e94e4d9a9e407b3200499\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,865067,764123920d58953b8e7973b0d21452464752536d,10,3,1,14288,,,0,"move ovs section out from the middle of the libvirt section

Change-Id: I98486e29e1214ee6684e94e4d9a9e407b3200499
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/67/865067/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,764123920d58953b8e7973b0d21452464752536d,fix-nova-template,"{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ","{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ",5,5
openstack%2Fneutron~stable%2Fyoga~Ib9663495f30562f79babef163729a0c43812089d,openstack/neutron,stable/yoga,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:32:56.000000000,2022-12-01 16:23:40.000000000,2022-12-01 16:22:04.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:32:56.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eba379801e8a550dfcdf51a3ebfa45e4c74caa4', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",3,865900,4eba379801e8a550dfcdf51a3ebfa45e4c74caa4,17,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/865900/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,4eba379801e8a550dfcdf51a3ebfa45e4c74caa4,disable_sgl-stable/zed-stable/yoga," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Fneutron~stable%2Fzed~Ib9663495f30562f79babef163729a0c43812089d,openstack/neutron,stable/zed,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-29 08:32:17.000000000,2022-12-01 16:20:36.000000000,2022-12-01 16:18:50.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:32:17.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/89c97e8a493b3abc75ac94a46a70c1d799515065', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)\n'}]",1,865899,89c97e8a493b3abc75ac94a46a70c1d799515065,9,3,1,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
(cherry picked from commit f629b77d3c821717333eb740311a33a7a45b0e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/865899/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,89c97e8a493b3abc75ac94a46a70c1d799515065,disable_sgl-stable/zed," def test_disable_logs(self): # This test ensures that acls are correctly disabled when having # multiple log objects. # Check there are no acls with their logging active sgrs = self.sg1rs self._check_sgrs(sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add accept log object log_data1 = self._log_data(sg_id=self.sg1) event1 = log_const.ACCEPT_EVENT log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Add drop log object log_data2 = self._log_data(sg_id=self.sg1) event2 = log_const.DROP_EVENT log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Disable drop log object and check it worked correctly log_data2['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=False) self._check_sgrs(sgrs=sgrs, is_enabled=True) # Enable drop log and create all log object log_data2['log']['enabled'] = True self.log_plugin.update_log(self.ctxt, log_obj2['id'], log_data2) self._check_acl_log_drop(is_enabled=True) self._check_sgrs(sgrs=sgrs, is_enabled=True) log_data3 = self._log_data(sg_id=self.sg1) log_data3['log']['event'] = log_const.ALL_EVENT log_obj3 = self.log_plugin.create_log(self.ctxt, log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable all log object and check all acls are still enabled (because # of the other objects) log_data3['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj3['id'], log_data3) self._check_sgrs(sgrs=sgrs, is_enabled=True) self._check_acl_log_drop(is_enabled=True) # Disable accept log object and only drop traffic gets logged log_data1['log']['enabled'] = False self.log_plugin.update_log(self.ctxt, log_obj1['id'], log_data1) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=True)",,102,4
openstack%2Ftripleo-upgrade~stable%2Ftrain~I88d90288bcf4095e602ee8c704f7ea3f35c60e71,openstack/tripleo-upgrade,stable/train,I88d90288bcf4095e602ee8c704f7ea3f35c60e71,Do not rename nic interfaces,NEW,2022-12-01 12:39:24.000000000,2022-12-01 16:15:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 12:39:24.000000000', 'files': ['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-undercloud-ffu-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3b4a842922e8a31a3eb54e6308ca407117d101d5', 'message': 'Do not rename nic interfaces\n\nPreviously we implemented nic renaming to fully comply LEAPP. However,\nthis should be outside of our CI. Instead we should block network\nrelated leapp actors to allow to run on our CI.\n\nChange-Id: I88d90288bcf4095e602ee8c704f7ea3f35c60e71\n'}]",0,866332,3b4a842922e8a31a3eb54e6308ca407117d101d5,3,1,1,11090,,,0,"Do not rename nic interfaces

Previously we implemented nic renaming to fully comply LEAPP. However,
this should be outside of our CI. Instead we should block network
related leapp actors to allow to run on our CI.

Change-Id: I88d90288bcf4095e602ee8c704f7ea3f35c60e71
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/32/866332/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/rename-nics.yaml', 'tasks/common/undercloud_os_upgrade.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/create-undercloud-ffu-scripts.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",5,3b4a842922e8a31a3eb54e6308ca407117d101d5,remove_nic_change,, - name: regenerate inventory file after stack update shell: | source {{ undercloud_rc }} /usr/bin/tripleo-ansible-inventory --plan {{ overcloud_stack_name }} \ {% if overcloud_ssh_user %} --ansible_ssh_user {{ overcloud_ssh_user }} {% endif %} \ --static-yaml-inventory {{ working_dir }}/tripleo-ansible-inventory.yaml when: not mock_environment|bool - name: run playbook from Undercloud to rename OC ethX interfaces shell: | set -o pipefail ansible-playbook -v -i {{ working_dir }}/tripleo-ansible-inventory.yaml -e prefix={{ nic_prefix }} -e undercloud_conf={{ undercloud_conf }} \ {{ working_dir }}/rename-nics.yaml 2>&1 {{ timestamper_cmd }} >> {{ working_dir}}/overcloud-rename-nics.log,0,226
openstack%2Fopenstack-ansible-os_ironic~stable%2Fyoga~I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f,openstack/openstack-ansible-os_ironic,stable/yoga,I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f,Pass CA pass to Swift CLI,MERGED,2022-11-25 13:05:49.000000000,2022-12-01 15:59:44.000000000,2022-12-01 15:57:42.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-25 13:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/0d452030e6144d6cdb485d093ad8fa9cf64586a9', 'message': 'Pass CA pass to Swift CLI\n\nSwift requires CA path to be set either with OS_CACERT env var or with\nsimmilar flag passed to command.\n\nChange-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f\n'}, {'number': 2, 'created': '2022-11-30 09:58:30.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'tasks/ironic_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/c9553c48207a6ec8c015e3c06a17f37542a72d86', 'message': 'Pass CA pass to Swift CLI\n\nSwift requires CA path to be set either with OS_CACERT env var or with\nsimmilar flag passed to command.\n\nWe temporarily set centos/rocky 8 jobs to non-voting to be able to fix master\nand return back fixing these jobs later on.\n\nChange-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f\n'}]",6,865566,c9553c48207a6ec8c015e3c06a17f37542a72d86,23,4,2,28619,,,0,"Pass CA pass to Swift CLI

Swift requires CA path to be set either with OS_CACERT env var or with
simmilar flag passed to command.

We temporarily set centos/rocky 8 jobs to non-voting to be able to fix master
and return back fixing these jobs later on.

Change-Id: I40e4a0ae0e702fdc9bfbb18dcc6ef1ea3f84926f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/66/865566/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'tasks/ironic_post_install.yml']",3,0d452030e6144d6cdb485d093ad8fa9cf64586a9,," {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure', '--os-cacert ' ~ _ironic_ssl_truststore_location) }} {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure', '--os-cacert ' ~ _ironic_ssl_truststore_location) }}"," {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure','') }} {{ ironic_bin }}/swift {{ keystone_service_adminuri_insecure | bool | ternary('--insecure','') }}",6,2
openstack%2Fopenstack-ansible~master~I4da481d182ce8e207ff847c2adfebbbb17af358b,openstack/openstack-ansible,master,I4da481d182ce8e207ff847c2adfebbbb17af358b,Explicitly define neutron_plugin_base for OVS,MERGED,2022-11-29 13:54:39.000000000,2022-12-01 15:54:49.000000000,2022-12-01 15:53:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-29 13:54:39.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf156f6dc006e01ee461871399098ae04204cd39', 'message': 'Explicitly define neutron_plugin_base for OVS\n\nWith switching from LXB to OVN we need to have neutron_plugin_base\ndefined explitily in variables, otherwise ovn one will be used as\ndefault.\n\nChange-Id: I4da481d182ce8e207ff847c2adfebbbb17af358b\n'}]",1,866012,cf156f6dc006e01ee461871399098ae04204cd39,10,3,1,28619,,,0,"Explicitly define neutron_plugin_base for OVS

With switching from LXB to OVN we need to have neutron_plugin_base
defined explitily in variables, otherwise ovn one will be used as
default.

Change-Id: I4da481d182ce8e207ff847c2adfebbbb17af358b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/866012/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_neutron_ovs.yml.j2'],1,cf156f6dc006e01ee461871399098ae04204cd39,osa/ovn,neutron_plugin_base: - router - metering ,,4,0
openstack%2Ftripleo-validations~stable%2Fwallaby~Id3f332b7fd70a54d537dabec447ffa22a36256fd,openstack/tripleo-validations,stable/wallaby,Id3f332b7fd70a54d537dabec447ffa22a36256fd,Refactoring node-health validation,MERGED,2022-11-15 15:05:03.000000000,2022-12-01 15:47:06.000000000,2022-12-01 15:45:57.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-15 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/62a70d67e9e4f0ae900dedb1cdd63579ae078dc6', 'message': 'Refactoring node-health validation\n\nnode-health validation will now be using openstack-ansible-collection\nmodules to obtain information about cloud structure and state.\n\nThis will allow the validation to be executed in environments with\nmore strict authentication requirements.\nDocumentation was updated to provide more information about authentication\nprocedure used.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd\n(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)\n'}, {'number': 2, 'created': '2022-11-24 08:53:51.000000000', 'files': ['playbooks/node-health.yaml', 'ansible-collections-requirements.yml', 'doc/source/roles/role-node_health.rst', 'roles/node_health/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f7a7692394e14cd946668f99a5cceaf4946fe49a', 'message': 'Refactoring node-health validation\n\nnode-health validation will now be using openstack-ansible-collection\nmodules to obtain information about cloud structure and state.\n\nThis will allow the validation to be executed in environments with\nmore strict authentication requirements.\nDocumentation was updated to provide more information about authentication\nprocedure used.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd\n(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)\n'}]",3,864555,f7a7692394e14cd946668f99a5cceaf4946fe49a,14,3,2,32926,,,0,"Refactoring node-health validation

node-health validation will now be using openstack-ansible-collection
modules to obtain information about cloud structure and state.

This will allow the validation to be executed in environments with
more strict authentication requirements.
Documentation was updated to provide more information about authentication
procedure used.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id3f332b7fd70a54d537dabec447ffa22a36256fd
(cherry picked from commit bc547f3f147e55765dec588d67ddad71c563ad73)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/864555/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/node-health.yaml', 'ansible-collections-requirements.yml', 'doc/source/roles/role-node_health.rst', 'roles/node_health/tasks/main.yml']",4,62a70d67e9e4f0ae900dedb1cdd63579ae078dc6,,"- name: Retrieving compute services openstack.cloud.compute_service_info: cloud: overcloud register: result - name: Fail if the compute services can't be queried fail: msg: Compute services query failed with {{ result.msg }} when: result.failed - name: Get nova nodes set_fact: nova_nodes: ""{{ result.openstack_compute_services | community.general.json_query(query) }}"" vars: query: ""[?contains(name, 'nova')]"" - name: Get failed nova nodes set_fact: failed_nodes: ""{{ nova_nodes | community.general.json_query(failed_nodes_query) }}"" vars: failed_nodes_query: ""[?state!='up']"" - when: failed_nodes | length > 0 block: - name: Get baremetal nodes info become: true openstack.cloud.baremetal_node_info: cloud: undercloud register: result - name: Get baremetal nodes set_fact: baremetal_nodes: ""{{ result.baremetal_nodes }}"" - name: Get failed node names set_fact: node_names: ""{{ item.host.split('.')[0]}}"" with_items: ""{{ failed_nodes }}"" - name: Get failed baremetal nodes set_fact: failed_baremetal_nodes: ""{{ baremetal_nodes | to_json | from_json | community.general.json_query(query) }}"" with_items: ""{{ node_names }}"" vars: query: ""[?contains(name, '{{ item }}')]"" - name: Fail if there are unreachable nodes fail: msg: | {{ lookup('template', './templates/unreachable_nodes.j2', template_vars=dict(nodes=failed_baremetal_nodes)) }} when: failed_baremetal_nodes|length > 0","- name: Collect IPs for allovercloud nodes set_fact: ansible_host=""{{ hostvars[item]['ansible_host'] }}"" register: oc_ips with_items: ""{{ groups.allovercloud }}"" - name: Ping all overcloud nodes icmp_ping: host: ""{{ item }}"" with_items: ""{{ oc_ips.results | map(attribute='ansible_facts.ansible_host') | list }}"" register: ping_results - name: Extract failed pings set_fact: failed_ips: ""{{ ping_results.results | selectattr('failed', 'equalto', True) | map(attribute='item') | list }}"" - name: Lookup nova servers for each failed IP set_fact: servers: ""{{ lookup('nova_servers', 'ip', 'ctlplane', failed_ips, wantlist=True) }}"" - name: Extract nova ids set_fact: server_ids: ""{{ servers | map(attribute='id') | list }}"" - name: Lookup ironic nodes for unreachable nova servers set_fact: nodes: ""{{ lookup('ironic_nodes', 'instance_uuid', server_ids, wantlist=True) }}"" - name: Fail if there are unreachable nodes fail: msg: | {{ lookup('template', './templates/unreachable_nodes.j2', template_vars=dict(nodes=nodes)) }} when: nodes|length > 0",61,33
openstack%2Ftripleo-common~master~I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc,openstack/tripleo-common,master,I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc,Fix tripleo_entrypoint.sh,MERGED,2022-12-01 09:01:36.000000000,2022-12-01 15:46:59.000000000,2022-12-01 15:45:55.000000000,"[{'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-01 09:01:36.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0253c356d99193a4ab9417b018877f4fe916487d', 'message': 'Fix tripleo_entrypoint.sh\n\nThere was an error and the last if block was not being closed.\nThis patch fixes that error.\n\nChange-Id: I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc\n'}]",1,866305,0253c356d99193a4ab9417b018877f4fe916487d,10,6,1,32968,,,0,"Fix tripleo_entrypoint.sh

There was an error and the last if block was not being closed.
This patch fixes that error.

Change-Id: I0d3bdb4ed4f1bc40c52289965364043c54e1f9fc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/866305/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'],1,0253c356d99193a4ab9417b018877f4fe916487d,standalone-roles,fi,,1,0
openstack%2Fpython-openstackclient~master~I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756,openstack/python-openstackclient,master,I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756,Add --boot-from-volume-type to specify volume type for BFV,ABANDONED,2022-12-01 11:36:03.000000000,2022-12-01 15:41:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-01 11:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/58ba88a87f40a79d14647844d5c8fd4c88293a01', 'message': 'Add --boot-from-volume-type to specify volume type for BFV\n\nThis introduces --boot-from-volume-type that is used in\nconjuction with --boot-from-volume to request a volume\ntype when booting a server from a volume.\n\nThis support was introduced in the 2.67 microversion API\nin Nova and we thus check for that.\n\nChange-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756\n'}, {'number': 2, 'created': '2022-12-01 11:43:58.000000000', 'files': ['releasenotes/notes/boot-from-volume-type-8d6762364fc32449.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5326beee56713470e5539e889bf08be67c0aaf50', 'message': 'Add --boot-from-volume-type to specify volume type for BFV\n\nThis introduces --boot-from-volume-type that is used in\nconjuction with --boot-from-volume to request a volume\ntype when booting a server from a volume.\n\nThis support was introduced in the 2.67 microversion API\nin Nova and we thus check for that.\n\nChange-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756\n'}]",8,866325,5326beee56713470e5539e889bf08be67c0aaf50,10,1,2,16137,,,0,"Add --boot-from-volume-type to specify volume type for BFV

This introduces --boot-from-volume-type that is used in
conjuction with --boot-from-volume to request a volume
type when booting a server from a volume.

This support was introduced in the 2.67 microversion API
in Nova and we thus check for that.

Change-Id: I53ad22587ce6b40a6d1690ec2f5d1a4eaaa27756
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/866325/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/boot-from-volume-type-8d6762364fc32449.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,58ba88a87f40a79d14647844d5c8fd4c88293a01,," parser.add_argument( '--boot-from-volume-type', metavar='<volume type>', help=_( 'Used in combination with --boot-from-volume to select the ' 'volume type used in the block device mapping. ' '(supported by --os-compute-api-version 2.67 or above)' ) ) # If we get a boot from volume type add it to BDM if parsed_args.boot_from_volume_type: if compute_client.api_version < api_versions.APIVersion(""2.67""): msg = _(""--boot-from-volume-type is not supported for "" ""--os-compute-api-version less than 2.67"") raise exceptions.CommandError(msg) else: block_device_mapping_v2[0]['volume_type'] = ( parsed_args.boot_from_volume_type )",,123,0
openstack%2Fopenstack-ansible-os_horizon~master~I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3,openstack/openstack-ansible-os_horizon,master,I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3,Install ironic-ui from git source rather than a pip package,MERGED,2022-11-07 18:53:47.000000000,2022-12-01 15:30:02.000000000,2022-12-01 15:29:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-07 18:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a53e72e2574cb0ca622b522601a65122e6c991cf', 'message': 'Install ironic-ui from git source rather than a pip package\n\nThis patch changes the horizon ironic dashboard to be installed from\ngit sources like all of the other dashboards in an openstack-ansible\ndeployment.\n\nWithout this change the package installed from pypi is always the\nlatest released version and not aligned with the release\nbeing deployed with openstack-ansible. This will potentially\ncause the horizon service to fail to start if there is a severe\nmismatch between horizon and ironic-ui.\n\nChange-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3\n'}, {'number': 2, 'created': '2022-11-25 13:08:23.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a20dfea4cf556542284ea89e0c9885d77ad5becb', 'message': 'Install ironic-ui from git source rather than a pip package\n\nThis patch changes the horizon ironic dashboard to be installed from\ngit sources like all of the other dashboards in an openstack-ansible\ndeployment.\n\nWithout this change the package installed from pypi is always the\nlatest released version and not aligned with the release\nbeing deployed with openstack-ansible. This will potentially\ncause the horizon service to fail to start if there is a severe\nmismatch between horizon and ironic-ui.\n\nChange-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3\n'}]",1,863921,a20dfea4cf556542284ea89e0c9885d77ad5becb,13,4,2,25023,,,0,"Install ironic-ui from git source rather than a pip package

This patch changes the horizon ironic dashboard to be installed from
git sources like all of the other dashboards in an openstack-ansible
deployment.

Without this change the package installed from pypi is always the
latest released version and not aligned with the release
being deployed with openstack-ansible. This will potentially
cause the horizon service to fail to start if there is a severe
mismatch between horizon and ironic-ui.

Change-Id: I4dd03f3cd13878dafb621c70dd44a4fd0ff99ae3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/21/863921/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a53e72e2574cb0ca622b522601a65122e6c991cf,osa-ironic-tidy," - ""git+{{ ironic_dashboard_git_repo }}@{{ ironic_dashboard_git_install_branch }}#egg=ironic-ui""", - ironic-ui,1,1
openstack%2Fcharm-vault~master~Ib47c83086df75dc09e51fec5990d35d01059fab9,openstack/charm-vault,master,Ib47c83086df75dc09e51fec5990d35d01059fab9,[DEBUG] Test mysql8-cluster job,NEW,2022-10-13 17:43:50.000000000,2022-12-01 15:19:44.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-13 17:43:50.000000000', 'files': ['osci.yaml', 'src/tests/bundles/jammy-mysql8-cluster.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/fe9c737706386565806e76477703a28dcf2843b5', 'message': '[DEBUG] Test mysql8-cluster job\n\nChange-Id: Ib47c83086df75dc09e51fec5990d35d01059fab9\n'}]",1,861207,fe9c737706386565806e76477703a28dcf2843b5,5,2,1,14567,,,0,"[DEBUG] Test mysql8-cluster job

Change-Id: Ib47c83086df75dc09e51fec5990d35d01059fab9
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/07/861207/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/jammy-mysql8-cluster.yaml', 'src/tests/tests.yaml']",3,fe9c737706386565806e76477703a28dcf2843b5,,- jammy-mysql8-cluster,,105,0
openstack%2Fironic~bugfix%2F19.0~Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,openstack/ironic,bugfix/19.0,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-29 07:36:37.000000000,2022-12-01 15:18:37.000000000,2022-12-01 15:17:21.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-29 07:36:37.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cca39b55ccb261ae62d15e2e33224b3c3a05a4f', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,865946,7cca39b55ccb261ae62d15e2e33224b3c3a05a4f,10,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/865946/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,7cca39b55ccb261ae62d15e2e33224b3c3a05a4f,capa-19.0," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fironic~stable%2Fxena~Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,openstack/ironic,stable/xena,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-29 07:42:13.000000000,2022-12-01 15:18:34.000000000,2022-12-01 15:17:15.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-29 07:42:13.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nConflicts:\n\tironic/conf/irmc.py\n\tironic/drivers/modules/irmc/common.py\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,865947,6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c,11,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Conflicts:
	ironic/conf/irmc.py
	ironic/drivers/modules/irmc/common.py

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/865947/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,6aaf4e69ec78e5a67d95b8d22450ae30ce857c1c,capa-xena," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fopenstack-ansible-os_octavia~master~Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6,openstack/openstack-ansible-os_octavia,master,Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6,Enable /healthcheck for Octavia API,MERGED,2022-11-14 15:23:58.000000000,2022-12-01 15:07:13.000000000,2022-12-01 15:06:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-14 15:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/61cda3ffa164e14c881bfac131af4f9d4312fc2e', 'message': 'Enable /healthcheck for Octavia API\n\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 2, 'created': '2022-11-15 14:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/d9ce0a02176c73fab6ad631e6400fd5504b6c541', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 3, 'created': '2022-11-24 17:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8c1445b68c5055e4e0b098e9ed3811777dc6c6b0', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}, {'number': 4, 'created': '2022-11-25 16:32:43.000000000', 'files': ['templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/b08e95a972e24beb135b80a3f9bd711a3b49b8ca', 'message': 'Enable /healthcheck for Octavia API\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6\n'}]",1,864419,b08e95a972e24beb135b80a3f9bd711a3b49b8ca,16,3,4,28619,,,0,"Enable /healthcheck for Octavia API

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553
Change-Id: Ie7a6dd78d5af82a546e4d6a19ec5b256df8f64e6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/19/864419/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia.conf.j2'],1,61cda3ffa164e14c881bfac131af4f9d4312fc2e,osa/healthcheck,healthcheck_enabled = True,,1,0
openstack%2Fironic~stable%2Fyoga~Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,openstack/ironic,stable/yoga,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,MERGED,2022-11-15 03:16:39.000000000,2022-12-01 15:06:30.000000000,2022-12-01 15:05:12.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:16:39.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f4fabf88a72a9c489c45962592fbc04a50b07d0', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)\n'}]",0,864467,1f4fabf88a72a9c489c45962592fbc04a50b07d0,11,3,1,28806,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
(cherry picked from commit be0e687538c60b5273bc5a24829c137ad36b1661)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/864467/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,1f4fabf88a72a9c489c45962592fbc04a50b07d0,backport-capa-yoga," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",40,12
openstack%2Fopenstack-ansible-os_designate~master~I3b3aaf48f990e229ba5ca3ec5127780fa70228d0,openstack/openstack-ansible-os_designate,master,I3b3aaf48f990e229ba5ca3ec5127780fa70228d0,Fix race condition during designate setup,MERGED,2022-11-25 17:20:15.000000000,2022-12-01 14:57:48.000000000,2022-12-01 14:56:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-25 17:20:15.000000000', 'files': ['tasks/main.yml', 'tasks/designate_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/aab80f8524fd2c67fdc3a1b016b66a44a15fa718', 'message': ""Fix race condition during designate setup\n\nRight now when designate is being installed for the first time, role\ntries to run pool update before database is being populated. That\nhappens due to flushing handlers early as db sync requires service\nto run with relevant config. This regression has been implemented\nwith [1].\n\nTo resolve it we move copy of pools.yaml after handlers are flushed\nfirst time and after db sync process.\nWe also move service_setup before first flush as otherwise service\nwon't be able to start properly anyway.\n\nThere's no need to copy pools.yaml to each designate container and run\npool update multiple times - it's enough to do that once.\n\n[1] https://opendev.org/openstack/openstack-ansible-os_designate/commit/87eb5d46cd6a3266e6c459263829ee77260feffd\n\nChange-Id: I3b3aaf48f990e229ba5ca3ec5127780fa70228d0\n""}]",1,865701,aab80f8524fd2c67fdc3a1b016b66a44a15fa718,11,4,1,28619,,,0,"Fix race condition during designate setup

Right now when designate is being installed for the first time, role
tries to run pool update before database is being populated. That
happens due to flushing handlers early as db sync requires service
to run with relevant config. This regression has been implemented
with [1].

To resolve it we move copy of pools.yaml after handlers are flushed
first time and after db sync process.
We also move service_setup before first flush as otherwise service
won't be able to start properly anyway.

There's no need to copy pools.yaml to each designate container and run
pool update multiple times - it's enough to do that once.

[1] https://opendev.org/openstack/openstack-ansible-os_designate/commit/87eb5d46cd6a3266e6c459263829ee77260feffd

Change-Id: I3b3aaf48f990e229ba5ca3ec5127780fa70228d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/01/865701/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/designate_post_install.yml', 'handlers/main.yml']",3,aab80f8524fd2c67fdc3a1b016b66a44a15fa718,,, notify: Restart designate services,39,35
openstack%2Fopenstack-ansible-os_octavia~master~I7f719b3fbd7e89ce96b84c9080049888aeda7ee6,openstack/openstack-ansible-os_octavia,master,I7f719b3fbd7e89ce96b84c9080049888aeda7ee6,Remove redundant vars line,MERGED,2022-09-14 12:12:36.000000000,2022-12-01 14:55:55.000000000,2022-12-01 14:54:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-09-14 12:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/03e68a75061f708b82b9c2d1e6e196e9aca487ad', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}, {'number': 2, 'created': '2022-11-24 17:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/5fb21062488331bacf30d2cb0b225c5bd4f1cd1f', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}, {'number': 3, 'created': '2022-11-25 16:32:35.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2aed05ce6c4301212ee9a138f38e41874c1ae4e3', 'message': 'Remove redundant vars line\n\nThis line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275\nprobably to bring it in line with other OSA roles, but should already\nbe covered by the distribution_major_version line above.\n\nChange-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6\n'}]",7,857654,2aed05ce6c4301212ee9a138f38e41874c1ae4e3,20,4,3,25600,,,0,"Remove redundant vars line

This line snuck in with I5cc0b1bde814abb0a4afe1567b9b23230a57f275
probably to bring it in line with other OSA roles, but should already
be covered by the distribution_major_version line above.

Change-Id: I7f719b3fbd7e89ce96b84c9080049888aeda7ee6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/54/857654/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,03e68a75061f708b82b9c2d1e6e196e9aca487ad,,," - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml""",0,1
openstack%2Ftripleo-ansible~master~I0df080c739d44bf00905e081ac193dcba7b6c6ed,openstack/tripleo-ansible,master,I0df080c739d44bf00905e081ac193dcba7b6c6ed,New tripleo_nova role,ABANDONED,2022-11-30 12:26:58.000000000,2022-12-01 14:48:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 12:26:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab5d3fd3a733fa89b5221cb0166729332551bd8d', 'message': 'New tripleo_nova role\n\nAllow to configure both nova_api and nova_metadata vhosts using the new\ntripleo_httpd_vhost role.\n\nIt will use parameters provided through tripleo-heat-templates in order\nto configure both httpd service, and the actual vhost.\n\nChange-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,866148,ab5d3fd3a733fa89b5221cb0166729332551bd8d,5,2,1,6926,,,0,"New tripleo_nova role

Allow to configure both nova_api and nova_metadata vhosts using the new
tripleo_httpd_vhost role.

It will use parameters provided through tripleo-heat-templates in order
to configure both httpd service, and the actual vhost.

Change-Id: I0df080c739d44bf00905e081ac193dcba7b6c6ed
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/866148/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova/meta/main.yml', 'doc/source/roles/role-tripleo_nova.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_nova/tasks/metadata_httpd.yaml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_nova/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nova/tasks/api_httpd.yaml']",9,ab5d3fd3a733fa89b5221cb0166729332551bd8d,standalone/apache,"--- - name: Ensure required params are set fail: msg: ""{{ item.k }} must be set to an actual value"" when: item.v == None loop: - k: ""tripleo_nova_api_httpd_config_httpd_conf"" v: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" - k: ""tripleo_nova_api_httpd_config_prefork_serverlimit"" v: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" - k: ""tripleo_nova_api_httpd_config_prefork_maxrequestworkers"" v: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" - k: ""tripleo_nova_api_httpd_config_mods"" v: ""{{ tripleo_nova_api_httpd_config_mods }}"" - name: Create httpd config and vhost vars: tripleo_httpd_config_httpd_conf: ""{{ tripleo_nova_api_httpd_config_httpd_conf }}"" tripleo_httpd_config_prefork_serverlimit: ""{{ tripleo_nova_api_httpd_config_prefork_serverlimit }}"" tripleo_httpd_config_prefork_maxrequestworkers: ""{{ tripleo_nova_api_httpd_config_prefork_maxrequestworkers }}"" tripleo_httpd_config_mods: ""{{ tripleo_nova_api_httpd_config_mods }}"" tripleo_httpd_vhost_ssl_ca: ""{{ tripleo_nova_api_httpd_vhost_ssl_ca }}"" # Fixed params tripleo_httpd_vhost_user: 'nova' tripleo_httpd_vhost_service_name: 'nova_api' tripleo_httpd_vhost_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_access_log_format: 'forwarded' tripleo_httpd_vhost_access_log_name: 'nova_wsgi' tripleo_httpd_vhost_document_root: '/var/www/cgi-bin/nova' tripleo_httpd_vhost_wsgi_process_group: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_wsgi_daemon_process: nova: 'display-name': 'nova_wsgi' group: ""{{ tripleo_httpd_vhost_user }}"" processes: 6 threads: 15 user: ""{{ tripleo_httpd_vhost_user }}"" tripleo_httpd_vhost_wsgi: true tripleo_httpd_vhost_wsgi_script_alias: '/': '/var/www/cgi-bin/nova/app' import_role: name: tripleo_httpd_vhost ",,246,0
openstack%2Fkolla-ansible~master~Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895,openstack/kolla-ansible,master,Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895,Replace ElasticSearch and Kibana with OpenSearch,MERGED,2022-09-09 09:02:50.000000000,2022-12-01 14:41:19.000000000,2022-12-01 14:38:51.000000000,"[{'_account_id': 782}, {'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-09-09 09:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/827f2fd0997632badeec6afb7c15c55d22e6d15e', 'message': 'veryWIP: Add Opensearch support\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 2, 'created': '2022-09-09 13:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c6f4a6a3e067ac5405d68354b11eed61b3470842', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 3, 'created': '2022-09-12 09:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/242f4bb022ebb12ba8dfb2b6c636ad1b2c87b773', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 4, 'created': '2022-09-12 11:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaeddf638d74f22987b9dd8310c61c4b7f634125', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 5, 'created': '2022-09-12 12:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbb4c896b8bf79e9e4d4ca614d81d95bcfe6db99', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 6, 'created': '2022-09-12 13:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea53e5ef3bba0f68574a40f47c1d40c6b0d6ff4e', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 7, 'created': '2022-09-12 13:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4e31e4f88f6b99d8b9820953cb9f5676e86ad87', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 8, 'created': '2022-09-12 15:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b431a9cfa537b1a4ecff04c3a9bf8187c10b76c5', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 9, 'created': '2022-09-13 05:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/911bcac3880d6d40fca596547fb89e72ea541c15', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 10, 'created': '2022-09-13 10:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42c48b63ba00cf338054cce998b27dea87cd89aa', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 11, 'created': '2022-09-13 11:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b859955c3695ad454ba85cbb859a0a22e9fd7d3', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 12, 'created': '2022-09-13 13:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d2c452b07cae466e2aaa883e00768bbd7f38cf2', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 13, 'created': '2022-09-14 08:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bd03c585a2781be71c8f09f6a1f033d7c779654', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 14, 'created': '2022-09-14 08:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/254eff21e25d315ac90f85d7b9dd19c61f047b4f', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 15, 'created': '2022-09-14 10:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d43a819884b9dcd9833e352828c6418d214f2db2', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 16, 'created': '2022-09-15 12:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4c982876142255799e1dc8681c76089bab0ab3b', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 17, 'created': '2022-09-15 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/39b3e9423b7341594b9537c56d150b83d52c18ec', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 18, 'created': '2022-09-15 17:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/23a804bbd1b943e825b5706b5081952a32207147', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 19, 'created': '2022-09-16 06:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d22e19b09224c7153cf6e53ff6ab13b654002ee', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 20, 'created': '2022-09-16 08:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4be5aa1aba93b7eacfb11d2fa7e11d50a3dd9283', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 21, 'created': '2022-09-19 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b5fc15233d2546f6e520e9a94994bf29cc5087b', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 22, 'created': '2022-09-19 09:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63cec2d2c59c559307d6c47e3713e806533e0dc1', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 23, 'created': '2022-09-19 09:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2fa3c7be558cac83dbf699fa6575c2d5767b5dd', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 24, 'created': '2022-09-20 12:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65a70c1d5946c42447ec9694e351ce95eb48c4be', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 25, 'created': '2022-09-20 12:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/502aea6fc4ce085e2b9e757cf6f96c87946abd5d', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 26, 'created': '2022-09-20 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a9b7298a2a08de23c08b1049bd50a2f7f4c5289', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 27, 'created': '2022-09-22 12:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59d22329fe8576ebf35e45778d58be6409d4878c', 'message': 'veryWIP: Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 28, 'created': '2022-09-22 12:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9d79631b9a2281a2eb2e62cdc27b61b42011a97', 'message': 'Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 29, 'created': '2022-10-07 12:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb78ade430a84eacd4df21f721f1ad1a529f4dd5', 'message': 'Add Opensearch support\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 30, 'created': '2022-10-14 16:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a03e7a8995d1faa7c3b98b627882ebe814b69ac', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 31, 'created': '2022-10-14 16:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa63c060c5c4feed649259018df23bc73fb4168f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 32, 'created': '2022-10-21 08:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/33888842b542243c1820acc455dfbcf04c87bc7f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 33, 'created': '2022-10-21 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5960ff61f78745461945010dfb52ad65bb547b6', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 34, 'created': '2022-10-21 15:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c304640cfc689b61e2ab46846732e5c7e789c4e', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 35, 'created': '2022-10-28 16:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4a41f1adf44af672efc5d95b34068f8e2426dc4', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 36, 'created': '2022-10-28 16:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/702a169914040452c1ae5cfdf929c4e702fa4162', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nRework enable_central_logging to default to OpenSearch\nUse port 9201 to enable coexistence (for data migration purposes)\nNo TLS support in this patch (will be a followup)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 37, 'created': '2022-11-11 16:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/35201f7607582fc451deb0a566f512ba3d35b2e8', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 38, 'created': '2022-11-11 17:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/036ca25c0acd9c28d92eee5e4174361f06dc676a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 39, 'created': '2022-11-11 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4353779f127a2ecd1699c5a368d10df5f09b0ae0', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 40, 'created': '2022-11-16 13:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d2f1740d6c197a3df4f38e2cf75a0217e6026af', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 41, 'created': '2022-11-16 13:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5d5709b426c35473ff045cb2983c353ee47d14f', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 42, 'created': '2022-11-16 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2598e543e8244b385c2756b1c15f2d0f498de09', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 43, 'created': '2022-11-16 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f91fa03e26cdf7b66d5c074e0650c0e2c3bb29a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 44, 'created': '2022-11-16 17:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aa2296bcaba511a6b247ce89aec9801f667c0a7', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 45, 'created': '2022-11-17 08:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/79b1f1b500214bc9feca52b77eb33c9ad4246667', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 46, 'created': '2022-11-17 11:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/800e38c54824be3bb06fc2bc89c2af72ac723902', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 47, 'created': '2022-11-17 12:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1b779d220f6f445ff971a03a23dde45f7bb90ad', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 48, 'created': '2022-11-18 14:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7bd367c6913350b6de626d838b226a516d1afb61', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 49, 'created': '2022-11-24 12:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/209ba2d0df917e93e2acab211db01e7bf2ebfe58', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 50, 'created': '2022-11-24 15:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ef34957b42c408121037620c4cc2a9c93a5dfd5', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 51, 'created': '2022-11-24 16:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67d73c6bf5f7d903670a8fb28ff6891f1b1b0480', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 52, 'created': '2022-11-25 10:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0db9e8b6a40f3c1fd893e32d896a221af4b2bcb0', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 53, 'created': '2022-11-25 11:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deeec865dd5574afe1b9af1823cb30dd59f1d438', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 54, 'created': '2022-11-25 11:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/57365a4f2fadc5102544942c66a17c80d19e731b', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 55, 'created': '2022-11-25 14:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96b955c0d41c4a63abe0b44f52fa3ec2a30aec0b', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 56, 'created': '2022-11-25 15:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8296bb292cbe50436089f0afd119f7bce633b393', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 57, 'created': '2022-11-25 15:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5663823ce12c56648d88523793e716a585dd78e', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 58, 'created': '2022-11-30 14:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f44e4c5766bf6527da97be47584e4a163031bf7a', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 59, 'created': '2022-11-30 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01f2da60a57755186ce6d2cf5db1cc654b1e25cf', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 60, 'created': '2022-11-30 14:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7149f5cf4e3d822f3fe8837282df8e1c927ff064', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}, {'number': 61, 'created': '2022-12-01 10:27:51.000000000', 'files': ['ansible/roles/common/templates/cron-logrotate-elasticsearch.conf.j2', 'ansible/roles/opensearch/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/copy-certs.yml', 'ansible/roles/elasticsearch/tasks/upgrade.yml', 'README.rst', 'ansible/roles/opensearch/tasks/deploy-containers.yml', 'ansible/site.yml', 'ansible/roles/opensearch/tasks/pull.yml', 'ansible/roles/kibana/templates/kibana.yml.j2', 'ansible/roles/elasticsearch/tasks/register.yml', 'ansible/roles/elasticsearch/tasks/copy-certs.yml', 'ansible/roles/opensearch/tasks/upgrade.yml', 'doc/source/reference/logging-and-monitoring/central-logging-guide.rst', 'tests/test-prometheus-opensearch.sh', 'ansible/roles/opensearch/tasks/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/elasticsearch/tasks/loadbalancer.yml', 'etc/kolla/globals.yml', 'ansible/roles/opensearch/handlers/main.yml', 'ansible/roles/opensearch/tasks/config.yml', 'ansible/roles/opensearch/tasks/stop.yml', 'ansible/roles/common/templates/conf/output/03-opensearch.conf.j2', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/opensearch/templates/opensearch_dashboards.yml.j2', 'tests/templates/globals-default.j2', 'ansible/roles/prometheus/templates/prometheus-elasticsearch-exporter.json.j2', 'ansible/roles/kibana/tasks/reconfigure.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/kibana/tasks/check.yml', 'ansible/roles/kibana/templates/kibana.json.j2', 'tests/test-prometheus-efk.sh', 'ansible/roles/kibana/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/precheck.yml', 'ansible/roles/kibana/tasks/pull.yml', 'ansible/roles/opensearch/tasks/check.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'tests/templates/inventory.j2', 'ansible/roles/opensearch/tasks/reconfigure.yml', 'zuul.d/jobs.yaml', 'tests/test-venus.sh', 'ansible/inventory/multinode', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.yml.j2', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch.yml.j2', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2', 'ansible/roles/opensearch/tasks/loadbalancer.yml', 'ansible/roles/opensearch/vars/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/inventory/all-in-one', 'ansible/roles/kibana/tasks/deploy-containers.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/common/templates/cron-logrotate-kibana.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/kibana/tasks/upgrade.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/destroy/tasks/cleanup_host.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/kibana/tasks/main.yml', 'ansible/roles/kibana/tasks/deploy.yml', 'ansible/roles/telegraf/templates/telegraf.conf.j2', 'etc/kolla/passwords.yml', 'tests/run.yml', 'tests/setup_gate.sh', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/opensearch/templates/opensearch-dashboards.json.j2', 'zuul.d/base.yaml', 'releasenotes/notes/add-opensearch-53ef174195acce45.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.json.j2', 'ansible/roles/common/templates/cron-logrotate-opensearch.conf.j2', 'ansible/roles/opensearch/templates/opensearch.yml.j2', 'ansible/roles/elasticsearch/templates/elasticsearch.json.j2', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/opensearch/tasks/deploy.yml', 'ansible/roles/elasticsearch/tasks/stop.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/tasks/config-host.yml', 'zuul.d/project.yaml', 'ansible/roles/kibana/files/kibana-6-index.json', 'ansible/roles/venus/templates/venus.conf.j2', 'tools/cleanup-host', 'ansible/roles/opensearch/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1ec02eddf9bb33fd9e34c1e4c79b7791f6fd22c', 'message': 'Replace ElasticSearch and Kibana with OpenSearch\n\nThis change replaces ElasticSearch with OpenSearch, and Kibana\nwith OpenSearch Dashboards. It migrates the data from ElasticSearch\nto OpenSearch upon upgrade.\n\nNo TLS support is in this patch (will be a followup).\n\nA replacement for ElasticSearch Curator will be added as a followup.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/830373\n\nCo-authored-by: Doug Szumski <doug@stackhpc.com>\nCo-authored-by: Kyle Dean <kyle@stackhpc.com>\nChange-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895\n'}]",130,856610,e1ec02eddf9bb33fd9e34c1e4c79b7791f6fd22c,213,7,61,22629,,,0,"Replace ElasticSearch and Kibana with OpenSearch

This change replaces ElasticSearch with OpenSearch, and Kibana
with OpenSearch Dashboards. It migrates the data from ElasticSearch
to OpenSearch upon upgrade.

No TLS support is in this patch (will be a followup).

A replacement for ElasticSearch Curator will be added as a followup.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/830373

Co-authored-by: Doug Szumski <doug@stackhpc.com>
Co-authored-by: Kyle Dean <kyle@stackhpc.com>
Change-Id: Iab10ce7ea5d5f21a40b1f99b28e3290b7e9ce895
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/856610/48 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/opensearch/tasks/check-containers.yml', 'ansible/roles/opensearch/tasks/copy-certs.yml', 'ansible/roles/opensearch/tasks/deploy-containers.yml', 'ansible/roles/opensearch/tasks/loadbalancer.yml', 'ansible/site.yml', 'ansible/roles/opensearch/tasks/pull.yml', 'ansible/roles/opensearch/vars/main.yml', 'ansible/roles/opensearch/tasks/upgrade.yml', 'ansible/inventory/all-in-one', 'ansible/roles/opensearch/tasks/main.yml', 'ansible/roles/opensearch/templates/opensearch-curator.crontab.j2', 'ansible/roles/opensearch/templates/opensearch-curator.yml.j2', 'ansible/roles/opensearch/handlers/main.yml', 'ansible/roles/opensearch/tasks/config.yml', 'ansible/roles/opensearch/tasks/stop.yml', 'ansible/roles/opensearch/templates/opensearch-curator-actions.yml.j2', 'ansible/roles/opensearch/templates/opensearch-curator.json.j2', 'ansible/roles/opensearch/templates/opensearch.json.j2', 'ansible/roles/opensearch/templates/opensearch.yml.j2', 'ansible/roles/opensearch/tasks/precheck.yml', 'ansible/roles/opensearch/tasks/deploy.yml', 'ansible/roles/opensearch/tasks/check.yml', 'ansible/roles/opensearch/defaults/main.yml', 'ansible/roles/opensearch/tasks/config-host.yml', 'ansible/roles/opensearch/tasks/reconfigure.yml', 'ansible/roles/opensearch/tasks/register.yml']",27,827f2fd0997632badeec6afb7c15c55d22e6d15e,opensearch_v3,"--- - import_role: name: service-ks-register vars: service_ks_register_auth: ""{{ opensearch_openstack_auth }}"" service_ks_register_services: ""{{ opensearch_ks_services }}"" tags: always ",,562,0
openstack%2Fcinder~master~I62c3d41ef92e0d474f5315b5bb1186faa187d958,openstack/cinder,master,I62c3d41ef92e0d474f5315b5bb1186faa187d958,Toyou: Remove allocated_capacity_gb calculation,MERGED,2022-10-04 08:02:35.000000000,2022-12-01 14:35:11.000000000,2022-12-01 14:15:36.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 13671}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32029}, {'_account_id': 33473}]","[{'number': 1, 'created': '2022-10-04 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ce9570b799d925fafb722020059f055471383b8', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nThis value is reported by Cinder core.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 2, 'created': '2022-10-04 11:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78c914cd46bc924143ebfaf6fd389c7415ec3265', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nThis value is reported by Cinder core.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 3, 'created': '2022-10-06 07:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e760cca3e0aac886241d9c2c3ee34f53fc2e4a76', 'message': 'update toyou drivers\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nDrivers should not report this and let Cinder core take care \nof this value.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}, {'number': 4, 'created': '2022-10-07 10:51:07.000000000', 'files': ['cinder/volume/drivers/toyou/acs5000/acs5000_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6358aa167e2212b62f1250fcfb08e13da53bcb1d', 'message': 'Toyou: Remove allocated_capacity_gb calculation\n\ntoyou drivers are currently reporting allocated_capacity_gb.\nDrivers should not report this and let Cinder core take care \nof this value.\n\nCloses-Bug: #1991634\nChange-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958\n'}]",22,860212,6358aa167e2212b62f1250fcfb08e13da53bcb1d,111,13,4,30615,,,0,"Toyou: Remove allocated_capacity_gb calculation

toyou drivers are currently reporting allocated_capacity_gb.
Drivers should not report this and let Cinder core take care 
of this value.

Closes-Bug: #1991634
Change-Id: I62c3d41ef92e0d474f5315b5bb1186faa187d958
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/860212/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/toyou/acs5000/acs5000_common.py'],1,4ce9570b799d925fafb722020059f055471383b8,,," 'allocated_capacity_gb': allocated_capacity_gb,",0,1
openstack%2Fironic-inspector~bugfix%2F10.9~If8264a1b7a052db6378323ee14956f4b88f95ce5,openstack/ironic-inspector,bugfix/10.9,If8264a1b7a052db6378323ee14956f4b88f95ce5,Fix upper-constraints in unit tests,ABANDONED,2022-12-01 14:19:21.000000000,2022-12-01 14:25:14.000000000,,[],"[{'number': 1, 'created': '2022-12-01 14:19:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a0ef7fe747ad78d728ebedceb61faa1b14789ccc', 'message': 'Fix upper-constraints in unit tests\n\nUpper constraints for bugfix 10.9 should be based on yoga\n\nChange-Id: If8264a1b7a052db6378323ee14956f4b88f95ce5\n'}]",0,866337,a0ef7fe747ad78d728ebedceb61faa1b14789ccc,2,0,1,23851,,,0,"Fix upper-constraints in unit tests

Upper constraints for bugfix 10.9 should be based on yoga

Change-Id: If8264a1b7a052db6378323ee14956f4b88f95ce5
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/37/866337/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0ef7fe747ad78d728ebedceb61faa1b14789ccc,uc-yoga, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fnova~stable%2Fyoga~Ic717dc42ac6b6cace59d344acaf12f9d1ee35564,openstack/nova,stable/yoga,Ic717dc42ac6b6cace59d344acaf12f9d1ee35564,Add compute restart capability for libvirt func tests,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:18:10.000000000,2022-12-01 14:15:31.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd5d2a0380d28cac5a16ac96268ea4fa085984f', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac71a5c02dc682033ffc5893bff6705866bb71f', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nConflicts:\n    nova/tests/functional/libvirt/base.py\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceccc1db72d5cb255ed4dadd86853c4bbc470eb0', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_device_bus_migration.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f98858aa77e4443164fc09fae3667fb0f66edfbf', 'message': 'Add compute restart capability for libvirt func tests\n\nThe existing generic restart_compute_service() call in the nova test\nbase class is not appropriate for the libvirt functional test that needs\nto reconfigure the libvirt connection as it is not aware of the libvirt\nspecific mocking needed when a compute service is started.\n\nSo this patch adds a specific restart_compute_service() call\nto nova.tests.functional.libvirt.base.ServersTestBase. This will be used\nby a later patch testing [pci]device_spec reconfiguration scenarios.\n\nThis change showed that some of the existing libvirt functional test\nused the incomplete restart_compute_service from the base class. Others\nused local mocking to inject new pci config to the restart. I moved all\nthese to the new function and removed the local mocking.\n\nChange-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564\n(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)\n'}]",3,855026,f98858aa77e4443164fc09fae3667fb0f66edfbf,22,3,4,11604,,,0,"Add compute restart capability for libvirt func tests

The existing generic restart_compute_service() call in the nova test
base class is not appropriate for the libvirt functional test that needs
to reconfigure the libvirt connection as it is not aware of the libvirt
specific mocking needed when a compute service is started.

So this patch adds a specific restart_compute_service() call
to nova.tests.functional.libvirt.base.ServersTestBase. This will be used
by a later patch testing [pci]device_spec reconfiguration scenarios.

This change showed that some of the existing libvirt functional test
used the incomplete restart_compute_service from the base class. Others
used local mocking to inject new pci config to the restart. I moved all
these to the new function and removed the local mocking.

Change-Id: Ic717dc42ac6b6cace59d344acaf12f9d1ee35564
(cherry picked from commit 57c253a609e859fa21ba05b264f0ba4d0ade7b8b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/855026/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_live_migration.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_device_bus_migration.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/libvirt/test_reshape.py']",7,ebd5d2a0380d28cac5a16ac96268ea4fa085984f,bug/1970467, self.hostname = self.start_compute( self.compute = self.computes[self.hostname] self.compute = self.restart_compute_service(self.hostname), hostname = self.start_compute( self.compute = self.computes[hostname] self.compute = self.restart_compute_service(self.compute),127,54
openstack%2Fnova~stable%2Fvictoria~Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,openstack/nova,stable/victoria,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2022-11-07 17:01:14.000000000,2022-12-01 14:17:27.000000000,2022-12-01 14:15:41.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 17:01:14.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac64bba8b7aba2fb358e00e970e88b32d26ef7e', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)\n(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)\n(cherry picked from commit 43c0e40d288960760a6eaad05cb9670e01ef40d0)\n'}]",3,863903,0ac64bba8b7aba2fb358e00e970e88b32d26ef7e,15,3,1,34860,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)
(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)
(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)
(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)
(cherry picked from commit 43c0e40d288960760a6eaad05cb9670e01ef40d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/863903/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",3,0ac64bba8b7aba2fb358e00e970e88b32d26ef7e,bug/1628606," self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host'])"," # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host'])",63,6
openstack%2Fnova~stable%2Fyoga~Iad5e70b43a65c076134e1874cb8e75d1ba214fde,openstack/nova,stable/yoga,Iad5e70b43a65c076134e1874cb8e75d1ba214fde,Record SRIOV PF MAC in the binding profile,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:17:05.000000000,2022-12-01 14:15:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56a17ada3f5b139ea485df7950539c06681af8c8', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd7fbf64b81dff01e8e0716b029c29c85c6749a', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit 56a17ada3f5b139ea485df7950539c06681af8c8)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8aacbda97a16e04777fc0b36d725ab1617f4bf5', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nConflicts:\n    nova/objects/pci_device.py\n    nova/virt/libvirt/host.py\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/813377077bd0173bdf128823e46b5df7c0a575b9', 'message': 'Record SRIOV PF MAC in the binding profile\n\nToday Nova updates the mac_address of a direct-physical port to reflect\nthe MAC address of the physical device the port is bound to. But this\ncan only be done before the port is bound. However during migration Nova\ndoes not update the MAC when the port is bound to a different physical\ndevice on the destination host.\n\nThis patch extends the libvirt virt driver to provide the MAC address of\nthe PF in the pci_info returned to the resource tracker. This\ninformation will be then persisted in the extra_info field of the\nPciDevice object.\n\nThen the port update logic during migration, resize, live\nmigration, evacuation and unshelve is also extended to record the MAC of\nphysical device in the port binding profile according to the device on\nthe destination host.\n\nThe related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295\nuses this info from the binding profile to update the mac_address field\nof the port when the binding is activated.\n\nCloses-Bug: #1942329\n\nConflicts:\n    nova/objects/pci_device.py\n    nova/virt/libvirt/host.py\n\nChange-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde\n(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)\n'}]",5,855023,813377077bd0173bdf128823e46b5df7c0a575b9,27,4,4,11604,,,0,"Record SRIOV PF MAC in the binding profile

Today Nova updates the mac_address of a direct-physical port to reflect
the MAC address of the physical device the port is bound to. But this
can only be done before the port is bound. However during migration Nova
does not update the MAC when the port is bound to a different physical
device on the destination host.

This patch extends the libvirt virt driver to provide the MAC address of
the PF in the pci_info returned to the resource tracker. This
information will be then persisted in the extra_info field of the
PciDevice object.

Then the port update logic during migration, resize, live
migration, evacuation and unshelve is also extended to record the MAC of
physical device in the port binding profile according to the device on
the destination host.

The related neutron change Ib0638f5db69cb92daf6932890cb89e83cf84f295
uses this info from the binding profile to update the mac_address field
of the port when the binding is activated.

Closes-Bug: #1942329

Conflicts:
    nova/objects/pci_device.py
    nova/virt/libvirt/host.py

Change-Id: Iad5e70b43a65c076134e1874cb8e75d1ba214fde
(cherry picked from commit cd03bbc1c33e33872594cf002f0e7011ab8ea047)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/855023/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/virt/fake.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/network/neutron.py', 'nova/tests/functional/libvirt/base.py', 'nova/compute/manager.py', 'releasenotes/notes/bug-1942329-22b08fa4b322881d.yaml']",14,56a17ada3f5b139ea485df7950539c06681af8c8,bug/1970467,--- fixes: - | As a fix for `bug 1942329 <https://bugs.launchpad.net/neutron/+bug/1942329>`_ nova now updates the MAC address of the ``direct-physical`` ports during mova operations to reflect the MAC address of the physical device on the destination host. Those servers that were created before this fix need to be moved or the port needs to be detached and the re-attached to synchronize the MAC address. ,,807,102
openstack%2Fnova~stable%2Fyoga~Ic1352ec31996577a5d0ad18a057339df3e49de25,openstack/nova,stable/yoga,Ic1352ec31996577a5d0ad18a057339df3e49de25,Remove double mocking... again,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:15:25.000000000,2022-12-01 14:15:25.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1bb81a2fa43fe51633571e3f8eb6eb3145b397', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adcc99444c8e07b2dcacbbd3f68d88e7752d6f25', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit 6e1bb81a2fa43fe51633571e3f8eb6eb3145b397)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7db698898ca89f2d364f8ef0b9cf324d28363e7', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nAlso this patch makes the py310 and functional-py310 jobs voting at\nleast in the check queue to prevent future changes adding double mocks.\n\nConflicts:\n    .zuul.yaml\n    nova/tests/unit/virt/libvirt/test_host.py\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/functional/test_images.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/69667a817cb65c3efbe4e3ada0e8c69c0a106087', 'message': 'Remove double mocking... again\n\nI thought we fixed all the double mocking issues with\nI3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.\n\nWhile we used both mock and unittest.mock the fixtures.MockPatch\nused the mock lib instead of the unittest.mock lib.\nThe path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)\nremoved the last user of mock lib from nova. So it is also\nremoved the mock from test-requirements. This triggered that\nfixtures.MockPatch athat started using unittest.mock too.\n\nBefore Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked\ntwice once with unittest.mock and once with fixtures.MockPatch (still\nusing mock). However after that patch both path of such double\nmocking goes through unittest.mock and the second one fails.\n\nSo this patch fixes double mocking so far hidden behind\nfixtures.MockPatch.\n\nThis patch made the py310 and functional-py310 jobs voting  on master\nhowever that has been dropped as part of the backport.\n\nConflicts:\n    .zuul.yaml\n    nova/tests/unit/virt/libvirt/test_host.py\n\nChange-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25\n(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)\n'}]",6,855025,69667a817cb65c3efbe4e3ada0e8c69c0a106087,22,3,4,11604,,,0,"Remove double mocking... again

I thought we fixed all the double mocking issues with
I3998d0d49583806ac1c3ae64f1b1fe343cefd20d but I was wrong.

While we used both mock and unittest.mock the fixtures.MockPatch
used the mock lib instead of the unittest.mock lib.
The path Ibf4f36136f2c65adad64f75d665c00cf2de4b400 (Remove the PowerVM driver)
removed the last user of mock lib from nova. So it is also
removed the mock from test-requirements. This triggered that
fixtures.MockPatch athat started using unittest.mock too.

Before Ibf4f36136f2c65adad64f75d665c00cf2de4b400 a function can be mocked
twice once with unittest.mock and once with fixtures.MockPatch (still
using mock). However after that patch both path of such double
mocking goes through unittest.mock and the second one fails.

So this patch fixes double mocking so far hidden behind
fixtures.MockPatch.

This patch made the py310 and functional-py310 jobs voting  on master
however that has been dropped as part of the backport.

Conflicts:
    .zuul.yaml
    nova/tests/unit/virt/libvirt/test_host.py

Change-Id: Ic1352ec31996577a5d0ad18a057339df3e49de25
(cherry picked from commit bf654e3a4a8f690ad0bec0955690bf4fadf98dba)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/855025/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1896463.py', 'nova/tests/functional/test_images.py', 'nova/tests/fixtures/libvirt.py', 'nova/tests/unit/api/openstack/compute/test_quotas.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/unit/api/openstack/compute/test_server_group_quotas.py', 'nova/tests/unit/compute/test_api.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/fixtures/nova.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/policies/test_servers.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/libvirt/test_reshape.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",23,6e1bb81a2fa43fe51633571e3f8eb6eb3145b397,bug/1970467, def _test(mock_resize):," @mock.patch.object(self.compute_api, 'get') def _test(mock_resize, mock_get):",160,198
openstack%2Fnova~stable%2Fyoga~I3998d0d49583806ac1c3ae64f1b1fe343cefd20d,openstack/nova,stable/yoga,I3998d0d49583806ac1c3ae64f1b1fe343cefd20d,Remove double mocking,MERGED,2022-08-29 12:59:07.000000000,2022-12-01 14:15:20.000000000,2022-12-01 14:15:20.000000000,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a302967dcc0b09da06baa6c90756492328afcf5', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93275465e4ee1f242562ea88c610ef386e66e673', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit 1a302967dcc0b09da06baa6c90756492328afcf5)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a33304a913644ac8e9cb582efbc973e9151e9f32', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1781286.py\n    nova/tests/unit/api/openstack/compute/test_shelve.py\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b40bd1bf52c87c31e18caf85d79dd03da6c7cffc', 'message': 'Remove double mocking\n\nIn py310 unittest.mock does not allow to mock the same function twice as\nthe second mocking will fail to autospec the Mock object created by the\nfirst mocking.\n\nThis patch manually fixes the double mocking.\n\nFixed cases:\n1) one of the mock was totally unnecessary so it was removed\n2) the second mock specialized the behavior of the first generic mock.\n   In this case the second mock is replaced with the configuration of\n   the first mock\n3) a test case with two test steps mocked the same function for each\n   step with overlapping mocks. Here the overlap was removed to have\n   the two mock exists independently\n\nThe get_connection injection in the libvirt functional test needed a\nfurther tweak (yeah I know it has many already) to act like a single\nmock (basically case #2) instead of a temporary re-mocking. Still the\nglobalness of the get_connection mocking warrant the special set / reset\nlogic there.\n\nConflicts:\n    nova/tests/functional/regressions/test_bug_1781286.py\n    nova/tests/unit/api/openstack/compute/test_shelve.py\n\nChange-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d\n(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)\n'}]",7,855024,b40bd1bf52c87c31e18caf85d79dd03da6c7cffc,22,2,4,11604,,,0,"Remove double mocking

In py310 unittest.mock does not allow to mock the same function twice as
the second mocking will fail to autospec the Mock object created by the
first mocking.

This patch manually fixes the double mocking.

Fixed cases:
1) one of the mock was totally unnecessary so it was removed
2) the second mock specialized the behavior of the first generic mock.
   In this case the second mock is replaced with the configuration of
   the first mock
3) a test case with two test steps mocked the same function for each
   step with overlapping mocks. Here the overlap was removed to have
   the two mock exists independently

The get_connection injection in the libvirt functional test needed a
further tweak (yeah I know it has many already) to act like a single
mock (basically case #2) instead of a temporary re-mocking. Still the
globalness of the get_connection mocking warrant the special set / reset
logic there.

Conflicts:
    nova/tests/functional/regressions/test_bug_1781286.py
    nova/tests/unit/api/openstack/compute/test_shelve.py

Change-Id: I3998d0d49583806ac1c3ae64f1b1fe343cefd20d
(cherry picked from commit f8cf050a1380ae844e0184ed45f4a04fde3b07a9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/855024/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/libvirt/volume/test_nvme.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/regressions/test_bug_1781286.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/virt/libvirt/volume/test_lightos.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/test.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'nova/tests/unit/test_test.py', 'nova/tests/unit/virt/vmwareapi/test_images.py', 'nova/tests/functional/libvirt/test_vtpm.py']",20,1a302967dcc0b09da06baa6c90756492328afcf5,bug/1970467, _p.start(), self.mock_conn = _p.start(),534,662
openstack%2Fneutron-dynamic-routing~master~Ic6d48a86043aaf4b458bb2230883a355fc841ee9,openstack/neutron-dynamic-routing,master,Ic6d48a86043aaf4b458bb2230883a355fc841ee9,Fix address_scope calculation,MERGED,2022-11-04 20:06:04.000000000,2022-12-01 13:19:19.000000000,2022-12-01 13:18:03.000000000,"[{'_account_id': 1131}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-04 20:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/de5f003dd2e8f2b6f39d4e81a37fa28ab8ef726d', 'message': 'Fix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 2, 'created': '2022-11-07 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c084be6d296ef29afa881d1775570a42361e5649', 'message': 'Fix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 3, 'created': '2022-11-07 13:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/db398fcdfcc138b9b2b8e94836483774977057fc', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs. Change-Id: I9a944c516d4f09e8d3fdf6d1ca7914504a693c28\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 4, 'created': '2022-11-07 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ab8af605a70356d34846d67bdab36162de9459b3', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs.\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 5, 'created': '2022-11-08 11:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/706f85f2b15b25d60744704c2d31ffe81590d2d0', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet. A network can be linked to more than one subnet (ipv4 and ipv6), but if one of them does not have an address_scope, a null object element access failure occurs.\n\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}, {'number': 6, 'created': '2022-11-30 10:59:36.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/feff164b608d00bf8163ea259305c3a64e68c1da', 'message': 'Fix address_scope calculation\n\nFix in the iteration to obtain address_scope linked to a subnet.\nA network can be linked to more than one subnet (ipv4 and ipv6),\nbut if one of them does not have an address_scope, a null object\nelement access failure occurs.\n\nCloses-bug: #1998104\nChange-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9\n'}]",22,863708,feff164b608d00bf8163ea259305c3a64e68c1da,25,4,6,35432,,,0,"Fix address_scope calculation

Fix in the iteration to obtain address_scope linked to a subnet.
A network can be linked to more than one subnet (ipv4 and ipv6),
but if one of them does not have an address_scope, a null object
element access failure occurs.

Closes-bug: #1998104
Change-Id: Ic6d48a86043aaf4b458bb2230883a355fc841ee9
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/08/863708/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/db/bgp_db.py'],1,de5f003dd2e8f2b6f39d4e81a37fa28ab8ef726d,," if ext_pool is not None: ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set"," ext_scope_set = ext_net_subnetpool_map.get(ext_net_id, set()) ext_scope_set.add(ext_pool.address_scope_id) ext_net_subnetpool_map[ext_net_id] = ext_scope_set",4,3
openstack%2Fcharm-nova-compute~stable%2Ftrain~Idc0602f95e5378be1243926aa88dc7b5282ee844,openstack/charm-nova-compute,stable/train,Idc0602f95e5378be1243926aa88dc7b5282ee844,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-30 16:47:48.000000000,2022-12-01 13:03:20.000000000,2022-12-01 13:03:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:47:48.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4bf6c8dcfeb86d1034756f06159aaa89033d843e', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844\n(cherry picked from commit a3da54fb4156fa93ea89baefa47c2032edb9423e)\n'}]",1,866186,4bf6c8dcfeb86d1034756f06159aaa89033d843e,8,4,1,2424,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844
(cherry picked from commit a3da54fb4156fa93ea89baefa47c2032edb9423e)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/86/866186/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,4bf6c8dcfeb86d1034756f06159aaa89033d843e,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Ftripleo-upgrade~stable%2Ftrain~I34643f7519d93ca77a6f27b86dba71e65df09bac,openstack/tripleo-upgrade,stable/train,I34643f7519d93ca77a6f27b86dba71e65df09bac,Fail if we cannot rename nics on all nodes.,ABANDONED,2022-12-01 12:31:34.000000000,2022-12-01 13:02:40.000000000,,[],"[{'number': 1, 'created': '2022-12-01 12:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4b2a7036d20243d1486ada577c654ee45bf58eca', 'message': 'Fail if we cannot rename nics on all nodes.\n\nThere is no verification if all hosts are up and running. So this may\nscrew up env as\n\nTASK [Gathering Facts] *********************************************************\nok: [undercloud]\nfatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nok: [ceph-2]\n\nwhen it should be as\n\n2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************\n2022-11-30 00:04:05 | ok: [computehci-0]\n2022-11-30 00:04:06 | ok: [controller-0]\n2022-11-30 00:04:06 | ok: [computehci-1]\n2022-11-30 00:04:06 | ok: [computehci-2]\n2022-11-30 00:04:06 | ok: [undercloud]\n2022-11-30 00:04:08 | ok: [controller-1]\n2022-11-30 00:04:08 | ok: [database-2]\n2022-11-30 00:04:08 | ok: [database-1]\n2022-11-30 00:04:08 | ok: [controller-2]\n2022-11-30 00:04:08 | ok: [database-0]\n2022-11-30 00:04:09 | ok: [messaging-2]\n2022-11-30 00:04:09 | ok: [messaging-0]\n2022-11-30 00:04:09 | ok: [messaging-1]\n2022-11-30 00:04:09 | ok: [networker-1]\n2022-11-30 00:04:10 | ok: [networker-0]\n\nIt doesn\'t make any sense to rename nics on part of machines, leaving\nthe rest machines unchanged. This patch sets to fail ansible playbook if\nany error happened.\n\nChange-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac\n'}, {'number': 2, 'created': '2022-12-01 12:59:12.000000000', 'files': ['files/rename-nics.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1406ed68798ae3a2e3212d8616a0656dda829eda', 'message': 'Fail if we cannot rename nics on all nodes.\n\nThere is no verification if all hosts are up and running. So this may\nscrew up env as\n\nTASK [Gathering Facts] *********************************************************\nok: [undercloud]\nfatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nfatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}\nok: [ceph-2]\n\nwhen it should be as\n\n2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************\n2022-11-30 00:04:05 | ok: [computehci-0]\n2022-11-30 00:04:06 | ok: [controller-0]\n2022-11-30 00:04:06 | ok: [computehci-1]\n2022-11-30 00:04:06 | ok: [computehci-2]\n2022-11-30 00:04:06 | ok: [undercloud]\n2022-11-30 00:04:08 | ok: [controller-1]\n2022-11-30 00:04:08 | ok: [database-2]\n2022-11-30 00:04:08 | ok: [database-1]\n2022-11-30 00:04:08 | ok: [controller-2]\n2022-11-30 00:04:08 | ok: [database-0]\n2022-11-30 00:04:09 | ok: [messaging-2]\n2022-11-30 00:04:09 | ok: [messaging-0]\n2022-11-30 00:04:09 | ok: [messaging-1]\n2022-11-30 00:04:09 | ok: [networker-1]\n2022-11-30 00:04:10 | ok: [networker-0]\n\nIt doesn\'t make any sense to rename nics on part of machines, leaving\nthe rest machines unchanged. This patch sets to fail ansible playbook if\nany error happened.\n\nChange-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac\n'}]",1,866331,1406ed68798ae3a2e3212d8616a0656dda829eda,5,0,2,11090,,,0,"Fail if we cannot rename nics on all nodes.

There is no verification if all hosts are up and running. So this may
screw up env as

TASK [Gathering Facts] *********************************************************
ok: [undercloud]
fatal: [controller-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [controller-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [controller-2]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [compute-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [compute-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [ceph-0]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
fatal: [ceph-1]: UNREACHABLE! => {""changed"": false, ""msg"": ""Failed to connect to the host via ssh: Connection timed out during banner exchange"", ""unreachable"": true}
ok: [ceph-2]

when it should be as

2022-11-30 00:04:03 | TASK [Gathering Facts] *********************************************************
2022-11-30 00:04:05 | ok: [computehci-0]
2022-11-30 00:04:06 | ok: [controller-0]
2022-11-30 00:04:06 | ok: [computehci-1]
2022-11-30 00:04:06 | ok: [computehci-2]
2022-11-30 00:04:06 | ok: [undercloud]
2022-11-30 00:04:08 | ok: [controller-1]
2022-11-30 00:04:08 | ok: [database-2]
2022-11-30 00:04:08 | ok: [database-1]
2022-11-30 00:04:08 | ok: [controller-2]
2022-11-30 00:04:08 | ok: [database-0]
2022-11-30 00:04:09 | ok: [messaging-2]
2022-11-30 00:04:09 | ok: [messaging-0]
2022-11-30 00:04:09 | ok: [messaging-1]
2022-11-30 00:04:09 | ok: [networker-1]
2022-11-30 00:04:10 | ok: [networker-0]

It doesn't make any sense to rename nics on part of machines, leaving
the rest machines unchanged. This patch sets to fail ansible playbook if
any error happened.

Change-Id: I34643f7519d93ca77a6f27b86dba71e65df09bac
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/31/866331/1 && git format-patch -1 --stdout FETCH_HEAD,['files/rename-nics.yaml'],1,4b2a7036d20243d1486ada577c654ee45bf58eca,set_error_to_any_on_nic_rename, any_errors_fatal: true,,1,0
openstack%2Fproject-config~master~Ia83a0a4cd7b0a933639f825c20775cef312416cc,openstack/project-config,master,Ia83a0a4cd7b0a933639f825c20775cef312416cc,Normalize projects.yaml,MERGED,2022-12-01 02:22:50.000000000,2022-12-01 13:02:20.000000000,2022-12-01 12:54:41.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 02:22:50.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e92af53c10a811f4370cdae7436f0a5354683d7c', 'message': 'Normalize projects.yaml\n\nChange-Id: Ia83a0a4cd7b0a933639f825c20775cef312416cc\n'}]",0,866243,e92af53c10a811f4370cdae7436f0a5354683d7c,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ia83a0a4cd7b0a933639f825c20775cef312416cc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/866243/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e92af53c10a811f4370cdae7436f0a5354683d7c,project-yaml-normalization,, upstream: https://github.com/nikolayvinogradov/charm-cinder-infinidat.git upstream: https://github.com/nikolayvinogradov/charm-infinidat-tools.git upstream: https://github.com/nikolayvinogradov/charm-manila-infinidat.git upstream: https://github.com/jrosser/openstack-ansible-os_skyline,0,4
openstack%2Fkeystoneauth~master~I56255f3c03969e5b590ed04eb44b0f03a13d3263,openstack/keystoneauth,master,I56255f3c03969e5b590ed04eb44b0f03a13d3263,Replace python-dev with python3-dev in bindep,ABANDONED,2022-06-13 12:18:09.000000000,2022-12-01 12:58:11.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 12:18:09.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e6a62d370b35d6a8944450a8ad5c04932d32a78d', 'message': 'Replace python-dev with python3-dev in bindep\n\nKeystoneauth dropped support for Python2 long ago,\nand python2 is not even available on some newer platforms,\nbreaking installation of keystoneauth dependencies.\n\nChange-Id: I56255f3c03969e5b590ed04eb44b0f03a13d3263\n'}]",0,845585,e6a62d370b35d6a8944450a8ad5c04932d32a78d,4,2,1,9542,,,0,"Replace python-dev with python3-dev in bindep

Keystoneauth dropped support for Python2 long ago,
and python2 is not even available on some newer platforms,
breaking installation of keystoneauth dependencies.

Change-Id: I56255f3c03969e5b590ed04eb44b0f03a13d3263
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/85/845585/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e6a62d370b35d6a8944450a8ad5c04932d32a78d,bindep-no-py2,python3-dev [platform:dpkg test],python-dev [platform:dpkg test],1,1
openstack%2Fcharm-cinder-lvm~master~I054a4fac14a2ae1c90ddbfcd380462f56d31407e,openstack/charm-cinder-lvm,master,I054a4fac14a2ae1c90ddbfcd380462f56d31407e,DNM: Testing CI,ABANDONED,2022-09-21 18:15:08.000000000,2022-12-01 12:42:32.000000000,,"[{'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 18:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/298495fb40cc74e95ebc92c2490308d0672ac5ce', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}, {'number': 2, 'created': '2022-09-21 18:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/ab3ae11d85c756de7ed0a50fc82ce2a0698d98ba', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}, {'number': 3, 'created': '2022-10-03 19:02:37.000000000', 'files': ['src/reactive/cinder_lvm_handlers.py', 'src/lib/charm/openstack/cinder_lvm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/8e132ee0f586fcf7c904e9a618660956264cc71a', 'message': 'DNM: Testing CI\n\nChange-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e\n'}]",1,858792,8e132ee0f586fcf7c904e9a618660956264cc71a,12,3,3,10058,,,0,"DNM: Testing CI

Change-Id: I054a4fac14a2ae1c90ddbfcd380462f56d31407e
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/92/858792/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/cinder_lvm_handlers.py', 'src/lib/charm/openstack/cinder_lvm.py']",2,298495fb40cc74e95ebc92c2490308d0672ac5ce,,# Checking CI job,,3,1
openstack%2Fkolla-ansible~master~I96372d7aa3b3814b75fafebfbad69920c79a29c3,openstack/kolla-ansible,master,I96372d7aa3b3814b75fafebfbad69920c79a29c3,"Revert ""Add clouds.yaml file and use it""",ABANDONED,2022-09-15 11:38:39.000000000,2022-12-01 12:29:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-09-15 11:38:39.000000000', 'files': ['ansible/roles/common/templates/clouds.yaml.j2', 'doc/source/user/quickstart.rst', 'ansible/post-deploy.yml', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a83698d71c496bd3f3988c2b9edbfe7164cbbe1', 'message': 'Revert ""Add clouds.yaml file and use it""\n\nThis reverts commit 73a1812c5856be635827b6c6de81b39c22346457.\n\nReason for revert: Need to address post-merge comments in original\npatch.\n\nChange-Id: I96372d7aa3b3814b75fafebfbad69920c79a29c3\n'}]",8,857782,0a83698d71c496bd3f3988c2b9edbfe7164cbbe1,20,4,1,14826,,,0,"Revert ""Add clouds.yaml file and use it""

This reverts commit 73a1812c5856be635827b6c6de81b39c22346457.

Reason for revert: Need to address post-merge comments in original
patch.

Change-Id: I96372d7aa3b3814b75fafebfbad69920c79a29c3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/857782/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/clouds.yaml.j2', 'ansible/post-deploy.yml', 'doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce']",5,0a83698d71c496bd3f3988c2b9edbfe7164cbbe1,bp/use-clouds-yaml,"# Test for credentials set if [[ ""${OS_USERNAME}"" == """" ]]; then echo ""No Keystone credentials specified. Try running source /etc/kolla/admin-openrc.sh command"" exitopenstack server create \\","# Test for clouds.yaml if [[ ! -f /etc/openstack/clouds.yaml ]]; then echo ""/etc/openstack/clouds.yaml is missing."" echo "" Did your deploy finish successfully?"" exit 1# Select admin account from clouds.yaml export OS_CLOUD=kolla-admin openstack --os-cloud=kolla-admin server create \\",10,59
openstack%2Fvalidations-common~stable%2F1.6~I5a24078e52c3842451a6054b8e1f1bb292bde0e6,openstack/validations-common,stable/1.6,I5a24078e52c3842451a6054b8e1f1bb292bde0e6,[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs,MERGED,2022-11-25 10:05:48.000000000,2022-12-01 11:54:23.000000000,2022-12-01 11:53:20.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-25 10:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/87a472aedd965fbc7170927dd447b856c7836e0b', 'message': '[stable/1.6 only] ubuntu bionic nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 2, 'created': '2022-11-25 10:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ede78ed86b1302456c6c4f3deab15c2896e19389', 'message': '[stable/1.6 only] ubuntu bionic nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 3, 'created': '2022-11-25 10:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2c86ab8c3345fdca7a2c17a5e2a617f8fa1755a1', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linters\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 4, 'created': '2022-11-25 10:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9b761c2ba28b2e31c66e595844ef251bb4c0ea6d', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 5, 'created': '2022-11-28 09:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cbde284546ca2da739468f39c9ce3b4e9d7f3468', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}, {'number': 6, 'created': '2022-11-28 09:09:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2b59b4b40b9551cf915bebf96f59b1dbe8e3e278', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6\n'}]",1,865657,2b59b4b40b9551cf915bebf96f59b1dbe8e3e278,22,3,6,32926,,,0,"[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5a24078e52c3842451a6054b8e1f1bb292bde0e6
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/57/865657/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,87a472aedd965fbc7170927dd447b856c7836e0b,ubuntu-focal,- job: name: openstack-tox-linters-ubuntu-bionic nodeset: ubuntu-bionic parent: openstack-tox-linters - openstack-tox-linters-ubuntu-bionic: &tox_override_checkout - openstack-tox-linters-ubuntu-bionic - openstack-tox-linters-ubuntu-bionic: *tox_override_checkout - openstack-tox-linters-ubuntu-bionic, - openstack-tox-linters: &tox_override_checkout - openstack-tox-linters - openstack-tox-linters: *tox_override_checkout - openstack-tox-linters,9,4
openstack%2Fvalidations-libs~stable%2F1.6~Ibfb637369023465ea7c0b270b3d298e476148de7,openstack/validations-libs,stable/1.6,Ibfb637369023465ea7c0b270b3d298e476148de7,[stable only] Rename linters and cover jobs with validations-libs prefix,MERGED,2022-11-28 09:17:06.000000000,2022-12-01 11:42:49.000000000,2022-12-01 11:41:35.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-28 09:17:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5f30e608c9e0c981a0cde4aebefad2843a434bda', 'message': '[stable only] Rename linters and cover jobs with validations-libs prefix\n\nChange-Id: Ibfb637369023465ea7c0b270b3d298e476148de7\n'}]",0,865806,5f30e608c9e0c981a0cde4aebefad2843a434bda,9,4,1,16515,,,0,"[stable only] Rename linters and cover jobs with validations-libs prefix

Change-Id: Ibfb637369023465ea7c0b270b3d298e476148de7
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/06/865806/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f30e608c9e0c981a0cde4aebefad2843a434bda,linter/jobs, name: validations-libs-openstack-tox-linters-ubuntu-focal name: validations-libs-openstack-tox-cover-ubuntu-focal - validations-libs-openstack-tox-linters-ubuntu-focal: &tox_override_checkout - validations-libs-openstack-tox-cover-ubuntu-focal: *tox_override_checkout - validations-libs-openstack-tox-linters-ubuntu-focal - validations-libs-openstack-tox-cover-ubuntu-focal - validations-libs-openstack-tox-linters-ubuntu-focal: *tox_override_checkout - validations-libs-openstack-tox-linters-ubuntu-focal, name: openstack-tox-linters-ubuntu-focal name: openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: &tox_override_checkout - openstack-tox-cover-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal - openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal,8,8
openstack%2Ftripleo-heat-templates~master~I7df97fde05388dae45caeff0bfe2e17e47beea62,openstack/tripleo-heat-templates,master,I7df97fde05388dae45caeff0bfe2e17e47beea62,Configure OVN DB connections by ansible,MERGED,2022-08-18 13:39:36.000000000,2022-12-01 11:41:32.000000000,2022-12-01 11:41:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-08-18 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc6b73f8a0f1c71f1198909ae40ed2e4b008897e', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}, {'number': 2, 'created': '2022-08-19 05:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d50db52062d37acb50bb3f6b18f2c14e68e6acb4', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}, {'number': 3, 'created': '2022-08-25 03:42:47.000000000', 'files': ['deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/845c4625fd7482ac88b4305ae0a455b2cd954a5d', 'message': 'Configure OVN DB connections by ansible\n\n... instead of containers, so that we can use ansible vars instead of\nhieradata to look up IPs.\n\nChange-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62\n'}]",7,853658,845c4625fd7482ac88b4305ae0a455b2cd954a5d,23,7,3,9816,,,0,"Configure OVN DB connections by ansible

... instead of containers, so that we can use ansible vars instead of
hieradata to look up IPs.

Change-Id: I7df97fde05388dae45caeff0bfe2e17e47beea62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/853658/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-container-puppet.yaml'],1,dc6b73f8a0f1c71f1198909ae40ed2e4b008897e,tripleo-hiera-v5," config_settings: {} ansible_group_vars: tripleo_ovn_dbs_protocol: if: - {get_param: EnableInternalTLS} - 'pssl' - 'ptcp' tripleo_ovn_dbs_network: {get_param: [ServiceNetMap, OvnDbsNetwork]} tripleo_ovn_northbound_db_port: {get_param: OVNNorthboundServerPort} tripleo_ovn_southbound_db_port: {get_param: OVNSouthboundServerPort} step_3: step_4: ovn_northd: start_order: 0 deploy_steps_tasks: - name: Set up OVN DB connections when: - not container_healthcheck_disabled - step|int == 4 block: - name: Get OVN DB boostrap node set_fact: is_ovn_dbs_bootstrap_node: ""{{ovn_dbs_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}}"" - name: Get OVN DB ip set_fact: tripleo_ovn_dbs_ip: ""{{ lookup('vars', tripleo_ovn_dbs_network + '_ip') }}"" - name: Set OVN DB connections when: - is_ovn_dbs_bootstrap_node|bool - name: Set OVN Northbound DB connection shell: | podman exec ovn_north_db_server /bin/bash -c \ ovn-nbctl set-connection {{tripleo_ovn_dbs_protocol}}:{{tripleo_ovn_northbound_db_port}}:{{tripleo_ovn_dbs_ip}} - name: Set OVN Southbound DB connection shell: | podman exec ovn_south_db_server /bin/bash -c \ ovn-sbctl set-connection {{tripleo_ovn_dbs_protocol}}:{{tripleo_ovn_southbound_db_port}}:{{tripleo_ovn_dbs_ip}}"," config_settings: ovn::northbound::port: {get_param: OVNNorthboundServerPort} ovn::southbound::port: {get_param: OVNSouthboundServerPort} ovn::northd::dbs_listen_ip: str_replace: template: ""%{lookup('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} step_4: configure_ovn_north_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_north_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$NB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$NB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} NB_DB_PORT: {get_param: OVNNorthboundServerPort} configure_ovn_south_db_server: start_order: 1 action: exec user: root command: list_concat: - ['ovn_south_db_server', '/bin/bash', '-c'] - - list_join: - ' ' - # TODO(tkajinam): Replace the hiera CLI - 'DBS_LISTEN_IP=`hiera $OVN_DB_NETWORK -c /etc/puppet/hiera.yaml`;' - '/usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection' - if: - {get_param: EnableInternalTLS} - 'pssl:$SB_DB_PORT:$DBS_LISTEN_IP' - 'ptcp:$SB_DB_PORT:$DBS_LISTEN_IP' environment: OVN_DB_NETWORK: {get_param: [ServiceNetMap, OvnDbsNetwork]} SB_DB_PORT: {get_param: OVNSouthboundServerPort} ovn_northd: start_order: 2",36,51
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iccda95cde0e309af00ce6b918ab1acab68e548dd,openstack/tripleo-ansible,stable/wallaby,Iccda95cde0e309af00ce6b918ab1acab68e548dd,Don't use meta:end_play after growvols check,MERGED,2022-11-14 21:36:09.000000000,2022-12-01 11:41:29.000000000,2022-12-01 11:41:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-14 21:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1caa13484e3a1e5c3cb4309cb7fd6adead93750', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n""}, {'number': 2, 'created': '2022-11-28 08:30:35.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4921a8fd6d5c07ea0cc116b442adfa6d3d40907d', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n(cherry picked from commit f5712ec1bcea9739092b698029e3e71ea0e72523)\n""}]",10,864445,4921a8fd6d5c07ea0cc116b442adfa6d3d40907d,26,4,2,4571,,,0,"Don't use meta:end_play after growvols check

According to the documentation, meta: end_play will apply to all
hosts, which is fine if every host is deploying the same image.
However if there is a mixture of overcloud-full and
overcloud-hardened-uefi-full the playbook won't run correctly on some
hosts.

This change moves to a conditional block to run as expected on each
host.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html

Change-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd
(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)
(cherry picked from commit f5712ec1bcea9739092b698029e3e71ea0e72523)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/45/864445/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,d1caa13484e3a1e5c3cb4309cb7fd6adead93750,growvols-check-stable/wallaby," - name: Run growvols block when: find_growvols.rc == 0 block: - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout"," - name: Stopping playbook when no growvols utility is found meta: end_play when: find_growvols.rc != 0 - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout",13,14
openstack%2Fnova~stable%2Ftrain~I5540df6c7497956219c06cff6f15b51c2c8bc29d,openstack/nova,stable/train,I5540df6c7497956219c06cff6f15b51c2c8bc29d,"For evacuation, ignore if task_state is not None",MERGED,2022-11-10 08:22:40.000000000,2022-12-01 11:38:57.000000000,2022-12-01 11:37:41.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b066898389021a8684d16d77e304038d8bdf4549', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 2, 'created': '2022-11-10 08:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63476c283b0293ee723d2d8d23bd143ff334cf06', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 3, 'created': '2022-11-10 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5bbb9c92081d49013d9d88fdedcdb92954a255', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 4, 'created': '2022-11-10 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/978783923d38828c8cfd5f1cb94cdc266ee5ab0e', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 5, 'created': '2022-11-10 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c0a46dc9ad0399cbd101661068ac40fbe753afe', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 6, 'created': '2022-11-25 07:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b7eca6d8bec500bf1f716945773bf658d87878a', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 7, 'created': '2022-11-29 11:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c925c34c08da23a4c2e743607b40f2dbfb6874be', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}, {'number': 8, 'created': '2022-11-29 11:40:21.000000000', 'files': ['doc/source/admin/evacuate.rst', 'nova/tests/functional/regressions/test_bug_1978983.py', 'releasenotes/notes/ignore-instance-task-state-for-evacuation-e000f141d0153638.yaml', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/321573995596be145d3b091e341d7d66853436b8', 'message': 'For evacuation, ignore if task_state is not None\n\nignore instance task state and continue with vm evacutaion.\n\nCloses-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d\n(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)\n(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)\n(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)\n(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)\n(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)\n(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)\n'}]",3,864169,321573995596be145d3b091e341d7d66853436b8,23,4,8,34860,,,0,"For evacuation, ignore if task_state is not None

ignore instance task state and continue with vm evacutaion.

Closes-Bug: #1978983
Change-Id: I5540df6c7497956219c06cff6f15b51c2c8bc29d
(cherry picked from commit db919aa15f24c0d74f3c5c0e8341fad3f2392e57)
(cherry picked from commit 6d61fccb8455367aaa37ae7bddf3b8befd3c3d88)
(cherry picked from commit 8e9aa71e1a4d3074a94911db920cae44334ba2c3)
(cherry picked from commit 0b8124b99601e1aba492be8ed564f769438bd93d)
(cherry picked from commit 3224ceb3fffc57d2375e5163d8ffbbb77529bc38)
(cherry picked from commit 90e65365ab608792c4b8d8c4c3a87798fccadeec)
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/864169/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/evacuate.rst', 'nova/tests/functional/regressions/test_bug_1978983.py', 'releasenotes/notes/ignore-instance-task-state-for-evacuation-e000f141d0153638.yaml', 'nova/compute/api.py']",4,b066898389021a8684d16d77e304038d8bdf4549,bug/1978983," vm_states.ERROR], task_state=None) instance.save(expected_task_state=None)", vm_states.ERROR]) instance.save(expected_task_state=[None]),35,18
openstack%2Fopenstack-ansible-os_neutron~master~If8ca3f2035ada97cff248ad49771eefab95c6c23,openstack/openstack-ansible-os_neutron,master,If8ca3f2035ada97cff248ad49771eefab95c6c23,add ovn ssl config,MERGED,2022-10-21 19:50:49.000000000,2022-12-01 11:25:02.000000000,2022-12-01 11:23:56.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-21 19:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4a1f93cc89fb4a8ffc79babc4d3ad4a59f3929c8', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 2, 'created': '2022-10-28 15:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/abf1ee7219945eca6377edb0770d1bb420c9cabb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 3, 'created': '2022-10-28 17:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6c28b77f300c34e1b480559bdc4a132f0b7ad87e', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 4, 'created': '2022-10-28 20:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/21aab4334bec7b7bdf1307ae214313af03bfcaa5', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 5, 'created': '2022-10-28 20:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4b28d9049f362d923ba3882718476ddccb929dbb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 6, 'created': '2022-10-28 20:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4a3238080cfbfc4de24d05c48fa7014154cccd7a', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 7, 'created': '2022-10-31 14:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/106ef46c37308d38994836500858f9a441374eeb', 'message': '[WIP] add ovn ssl config\n\nnot working yet.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 8, 'created': '2022-11-02 18:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6cdd7faf917c7b56f63aa877f6cbb8ffc0f0e8bd', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 9, 'created': '2022-11-02 19:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2ab22d32ff30322576be41045667600c5c677ca8', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 10, 'created': '2022-11-03 14:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/497c59d6f06597fd158d47b483ba163c5e745fa5', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 11, 'created': '2022-11-03 19:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f352093f8cf7932c02de50e3b09edfcd80477a6d', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 12, 'created': '2022-11-04 11:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/200c4673f980f9584d29a5b197499cc8632d85c1', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 13, 'created': '2022-11-07 13:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1fc2d94c6c2cc2ed629d478d18a4d483cad90094', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 14, 'created': '2022-11-07 18:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d44e5020e5096afd64295ae790922ee7812af825', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 15, 'created': '2022-11-07 20:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c32c3b371b820dea3b7a100cd5c6ed9e423266d2', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 16, 'created': '2022-11-11 14:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8e6577b8c006dd1b0329fb298375406cf87ca0e2', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 17, 'created': '2022-11-11 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9c97f7cb89cb0f83af3c42fe58167a741d6e76d0', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 18, 'created': '2022-11-11 17:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/00ee560f0da539db322d75d9b2a34814b57fad9a', 'message': '[WIP] add ovn ssl config\n\nCreate ssl-certs for ovn deployment\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 19, 'created': '2022-11-22 14:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/88d79ae94801a64e409db409b0bd69382134bdc0', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 20, 'created': '2022-11-29 21:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/c559ed7ca2900bf1157e6fd02853292aeaedef05', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 21, 'created': '2022-11-30 09:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/49f2c21ac274e16e04ae39ef1ff0e7f5152b12f9', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 22, 'created': '2022-11-30 13:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1a340f5b67964ffbf7dd8dc60a2d2f554e898c45', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}, {'number': 23, 'created': '2022-11-30 16:04:17.000000000', 'files': ['tasks/main.yml', 'tasks/neutron_pre_install.yml', 'templates/ovn-controller-opts.j2', 'templates/plugins/ml2/ml2_conf.ini.j2', 'releasenotes/notes/ovn-ssl-e9cb73e0713cf8bc.yaml', 'templates/ovn-northd-opts.j2', 'vars/redhat.yml', 'vars/debian.yml', 'tasks/providers/ovn_config.yml', 'defaults/main.yml', 'tasks/providers/ovn_cluster_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/556c5c67338adac519312dc401cfd0febfde32fd', 'message': 'add ovn ssl config\n\nCreate ssl-certs for ovn deployment\nssl encryption is now enabled between neutron and ovn componants.\n\nChange-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23\n'}]",11,862403,556c5c67338adac519312dc401cfd0febfde32fd,59,3,23,13095,,,0,"add ovn ssl config

Create ssl-certs for ovn deployment
ssl encryption is now enabled between neutron and ovn componants.

Change-Id: If8ca3f2035ada97cff248ad49771eefab95c6c23
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/03/862403/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/providers/setup_ovs_ovn.yml', 'templates/ovn-northd-opts.j2', 'handlers/main.yml', 'tasks/providers/ovn_config.yml', 'defaults/main.yml']",5,4a1f93cc89fb4a8ffc79babc4d3ad4a59f3929c8,osa/ovn,"neutron_ovn_ssl: True ovn_proto: ""{{ (neutron_ovn_ssl) | ternary('ssl','tcp') }}""neutron_ovn_nb_connection: ""{{ ovn_proto }}:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,'+ ovn_proto + ':') }}:6641"" neutron_ovn_sb_connection: ""{{ ovn_proto }}:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,' + ovn_proto + ':') }}:6642""neutron_ovn_system_user_name: root # Storage location for SSL certificate authority neutron_ovn_pki_dir: ""{{ openstack_pki_dir }}"" # Delegated host for operating the certificate authority neutron_ovn_pki_setup_host: ""{{ openstack_pki_setup_host | default('localhost') }}"" # The local address used for the neutron_ovn node neutron_ovn_node_address: ""{{ management_address | default('127.0.0.1') }}"" # neutron OVN server certificate neutron_ovn_pki_keys_path: ""{{ neutron_ovn_pki_dir ~ '/certs/private/' }}"" neutron_ovn_pki_certs_path: ""{{ neutron_ovn_pki_dir ~ '/certs/certs/' }}"" neutron_ovn_pki_intermediate_cert_name: ""{{ openstack_pki_service_intermediate_cert_name }}"" neutron_ovn_pki_intermediate_cert_path: ""{{ neutron_ovn_pki_dir ~ '/roots/' ~ neutron_ovn_pki_intermediate_cert_name ~ '/certs/' ~ neutron_ovn_pki_intermediate_cert_name ~ '.crt' }}"" neutron_ovn_pki_regen_cert: '' neutron_ovn_pki_certificates: - name: ""neutron_ovnnb_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ neutron_ovn_node_address }}"" signed_by: ""{{ neutron_ovn_pki_intermediate_cert_name }}"" - name: ""neutron_ovnsb_{{ ansible_facts['hostname'] }}"" provider: ownca cn: ""{{ ansible_facts['hostname'] }}"" san: ""{{ 'DNS:' ~ ansible_facts['hostname'] ~ ',IP:' ~ neutron_ovn_node_address }}"" signed_by: ""{{ neutron_ovn_pki_intermediate_cert_name }}"" # OVN destination files for SSL certificates neutron_ovnnb_ssl_cert: /etc/openvswitch/neutron_ovnnb.pem neutron_ovnnb_ssl_key: /etc/openvswitch/neutron_ovnnb.key neutron_ovnsb_ssl_cert: /etc/openvswitch/neutron_ovnsb.pem neutron_ovnsb_ssl_key: /etc/openvswitch/neutron_ovnsb.key # Installation details for SSL certificates neutron_ovn_pki_install_certificates: - src: ""{{ neutron_ovnnb_user_ssl_cert | default(neutron_ovn_pki_certs_path ~ 'neutron_ovnnb_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ neutron_ovnnb_ssl_cert }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0644"" - src: ""{{ neutron_ovnnb_user_ssl_key | default(neutron_ovn_pki_keys_path ~ 'neutron_ovnnb_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ neutron_ovnnb_ssl_key }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0600"" - src: ""{{ neutron_ovnsb_user_ssl_cert | default(neutron_ovn_pki_certs_path ~ 'neutron_ovnsb_' ~ ansible_facts['hostname'] ~ '-chain.crt') }}"" dest: ""{{ neutron_ovnsb_ssl_cert }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0644"" - src: ""{{ neutron_ovnsb_user_ssl_key | default(neutron_ovn_pki_keys_path ~ 'neutron_ovnsb_' ~ ansible_facts['hostname'] ~ '.key.pem') }}"" dest: ""{{ neutron_ovnsb_ssl_key }}"" owner: ""{{ neutron_ovn_system_user_name }}"" group: ""{{ neutron_ovn_system_user_name }}"" mode: ""0600"" # Define user-provided SSL certificates in: # /etc/openstack_deploy/user_variables.yml #neutron_ovnnb_user_ssl_cert: <path to cert on ansible deployment host> #neutron_ovnnb_user_ssl_key: <path to cert on ansible deployment host> #neutron_ovnsb_user_ssl_cert: <path to cert on ansible deployment host> #neutron_ovnsb_user_ssl_key: <path to cert on ansible deployment host>","neutron_ovn_nb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6641,tcp:') }}:6641"" neutron_ovn_sb_connection: ""tcp:{{ groups['neutron_ovn_northd'] | map('extract', hostvars, ['ansible_host']) | join(':6642,tcp:') }}:6642""",86,4
openstack%2Fglance-specs~master~I8ce4d83a470eb5c87527db7ffacb9d0b2302b661,openstack/glance-specs,master,I8ce4d83a470eb5c87527db7ffacb9d0b2302b661,Add option region_name to s3 store,MERGED,2022-08-23 07:20:05.000000000,2022-12-01 11:19:18.000000000,2022-12-01 11:18:14.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 28627}]","[{'number': 1, 'created': '2022-08-23 07:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ff60f4345f8d5b253e4997fbe4ca5a45e2efa3d8', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 2, 'created': '2022-08-24 14:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/295dd1f731364e847c2268969d889e1f7239e349', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 3, 'created': '2022-08-24 15:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/9635ab340b865c14bb10af6621ce5d9177eb2316', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 4, 'created': '2022-09-09 07:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c2c9359ac1c04d98e78dea27b2b96096e6374713', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}, {'number': 5, 'created': '2022-09-09 07:31:17.000000000', 'files': ['specs/2023.1/approved/index.rst', 'specs/2023.1/approved/glance_store/add-region_name-s3.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a74fe34a7dc23f1e8f57352221d2122a6a8b5e01', 'message': 'Add option region_name to s3 store\n\nThe current s3 driver determine region_name from amazon endpoints, but\nsome operators are using an s3 compatible API which is not from amazon.\nAdding a region_name paramater to the s3 store allow such operators to\nuse custom endpoints with custom regions.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\nChange-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661\n'}]",9,854112,a74fe34a7dc23f1e8f57352221d2122a6a8b5e01,26,9,5,11583,,,0,"Add option region_name to s3 store

The current s3 driver determine region_name from amazon endpoints, but
some operators are using an s3 compatible API which is not from amazon.
Adding a region_name paramater to the s3 store allow such operators to
use custom endpoints with custom regions.

Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
Change-Id: I8ce4d83a470eb5c87527db7ffacb9d0b2302b661
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/12/854112/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/untargeted/glance_store/add-region_name-s3.rst'],1,ff60f4345f8d5b253e4997fbe4ca5a45e2efa3d8,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================ Spec Lite: Add region_name parameter to s3 store ================================================ :project: glance_store :problem: s3 store missing region_name parameter :solution: We need to add region_name parameter to s3 store :impacts: None :assignee: Arnaud Morin <arnaud.morin@ovhcloud.com> ,,19,0
openstack%2Fkolla~stable%2Fwallaby~Ib3a37eebb29d975fc51a117cecdff74baafd8941,openstack/kolla,stable/wallaby,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:56:08.000000000,2022-12-01 11:02:31.000000000,2022-12-01 11:01:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:56:08.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e8c92dfa1404a647587d948f6c73091005bfbc2a', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866230,e8c92dfa1404a647587d948f6c73091005bfbc2a,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/866230/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,e8c92dfa1404a647587d948f6c73091005bfbc2a,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Frpm-packaging~stable%2Fyoga~I756d254f1a2659d0479493ef82a6a09108716856,openstack/rpm-packaging,stable/yoga,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:13:48.000000000,2022-12-01 10:57:09.000000000,2022-12-01 10:57:09.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:48.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865553,9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6,6,2,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/865553/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,9b6f76e7859c2cd6bf85a27b29693e2117f5fbd6,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Fkolla~stable%2Fxena~Ib3a37eebb29d975fc51a117cecdff74baafd8941,openstack/kolla,stable/xena,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:55:25.000000000,2022-12-01 10:55:24.000000000,2022-12-01 10:54:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:55:25.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2b222ce035a5be5ec037314fc838025ae4fe5d30', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866229,2b222ce035a5be5ec037314fc838025ae4fe5d30,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/866229/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,2b222ce035a5be5ec037314fc838025ae4fe5d30,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Fkolla~stable%2Fyoga~Ib3a37eebb29d975fc51a117cecdff74baafd8941,openstack/kolla,stable/yoga,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-30 22:54:40.000000000,2022-12-01 10:55:21.000000000,2022-12-01 10:54:21.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 35536}]","[{'number': 1, 'created': '2022-11-30 22:54:40.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ba7df36182e709f154e8ec7a482464d054e99f6', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\nFixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)\n'}]",0,866228,6ba7df36182e709f154e8ec7a482464d054e99f6,9,4,1,14200,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

Fixed conflict added in I093620679016b37e1664c9fe4cf7559433e744b7.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
(cherry picked from commit 6be0068f376b0ae67bc81b50a97e042a88317d28)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/866228/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,6ba7df36182e709f154e8ec7a482464d054e99f6,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Frpm-packaging~stable%2Fxena~I756d254f1a2659d0479493ef82a6a09108716856,openstack/rpm-packaging,stable/xena,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:14:03.000000000,2022-12-01 10:51:58.000000000,2022-12-01 10:51:58.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-24 13:14:03.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865554,65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26,7,3,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/865554/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,65ea0eb4cfd9087ec28ae2ac3ef146a59f016f26,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Frpm-packaging~stable%2Fzed~I756d254f1a2659d0479493ef82a6a09108716856,openstack/rpm-packaging,stable/zed,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:13:36.000000000,2022-12-01 10:51:57.000000000,2022-12-01 10:51:57.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:36.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ec8234627ea1229f93d1932efd634326bd66927e', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865551,ec8234627ea1229f93d1932efd634326bd66927e,6,2,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/865551/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,ec8234627ea1229f93d1932efd634326bd66927e,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Frpm-packaging~master~I319e50858d50c38db5afedcd1b53d812865ef72f,openstack/rpm-packaging,master,I319e50858d50c38db5afedcd1b53d812865ef72f,[antelope] keystoneauth 5.1.0,MERGED,2022-11-25 10:12:08.000000000,2022-12-01 10:51:56.000000000,2022-12-01 10:51:56.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:12:08.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/20856f2a12bca771e95b2fda9c321f3a7b868cc6', 'message': '[antelope] keystoneauth 5.1.0\n\nChange-Id: I319e50858d50c38db5afedcd1b53d812865ef72f\n'}]",0,865660,20856f2a12bca771e95b2fda9c321f3a7b868cc6,7,3,1,28522,,,0,"[antelope] keystoneauth 5.1.0

Change-Id: I319e50858d50c38db5afedcd1b53d812865ef72f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/865660/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,20856f2a12bca771e95b2fda9c321f3a7b868cc6,antelope,{% set upstream_version = upstream_version('5.1.0') %},{% set upstream_version = upstream_version('5.0.0') %},1,1
openstack%2Frpm-packaging~master~I27cdbb987442e486e3c325fc1f4aea04c6240199,openstack/rpm-packaging,master,I27cdbb987442e486e3c325fc1f4aea04c6240199,python-heatclient: update to 3.1.0,MERGED,2022-12-01 10:32:52.000000000,2022-12-01 10:49:42.000000000,2022-12-01 10:49:42.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 10:32:52.000000000', 'files': ['openstack/python-heatclient/python-heatclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b2c5c515eec3272cda173251c1593050e32c6c60', 'message': 'python-heatclient: update to 3.1.0\n\nChange-Id: I27cdbb987442e486e3c325fc1f4aea04c6240199\n'}]",0,866318,b2c5c515eec3272cda173251c1593050e32c6c60,6,2,1,6593,,,0,"python-heatclient: update to 3.1.0

Change-Id: I27cdbb987442e486e3c325fc1f4aea04c6240199
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/866318/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-heatclient/python-heatclient.spec.j2'],1,b2c5c515eec3272cda173251c1593050e32c6c60,,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('2.5.1') %},1,1
openstack%2Frpm-packaging~master~Ibf2bacab01d0e10c55a86bb0f7d16426df44374d,openstack/rpm-packaging,master,Ibf2bacab01d0e10c55a86bb0f7d16426df44374d,[antelope] python-octaviaclient 3.2.0,MERGED,2022-11-25 10:13:46.000000000,2022-12-01 10:48:55.000000000,2022-12-01 10:48:55.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:13:46.000000000', 'files': ['openstack/python-octaviaclient/python-octaviaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c92f97de724645203e8de20202a0323f5a137be6', 'message': '[antelope] python-octaviaclient 3.2.0\n\nChange-Id: Ibf2bacab01d0e10c55a86bb0f7d16426df44374d\n'}]",0,865662,c92f97de724645203e8de20202a0323f5a137be6,7,3,1,28522,,,0,"[antelope] python-octaviaclient 3.2.0

Change-Id: Ibf2bacab01d0e10c55a86bb0f7d16426df44374d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/865662/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-octaviaclient/python-octaviaclient.spec.j2'],1,c92f97de724645203e8de20202a0323f5a137be6,antelope,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('2.5.0') %},1,1
openstack%2Frpm-packaging~master~Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5,openstack/rpm-packaging,master,Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5,[antelope] python-neutronclient 8.2.0,MERGED,2022-11-25 12:01:38.000000000,2022-12-01 10:48:14.000000000,2022-12-01 10:48:14.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 12:01:38.000000000', 'files': ['openstack/python-neutronclient/python-neutronclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09ae26bd9669d6154102c384b6c3caa77e899ae1', 'message': '[antelope] python-neutronclient 8.2.0\n\nChange-Id: Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5\n'}]",0,865679,09ae26bd9669d6154102c384b6c3caa77e899ae1,7,3,1,28522,,,0,"[antelope] python-neutronclient 8.2.0

Change-Id: Iaf8bb68f7fc6e3ad7697b3c9241f90bb245b83c5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/865679/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-neutronclient/python-neutronclient.spec.j2'],1,09ae26bd9669d6154102c384b6c3caa77e899ae1,antelope,{% set upstream_version = upstream_version('8.2.0') %},{% set upstream_version = upstream_version('7.8.0') %},1,1
openstack%2Frpm-packaging~master~I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa,openstack/rpm-packaging,master,I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa,[antelope] neutron-lib 3.2.0,MERGED,2022-11-25 11:56:55.000000000,2022-12-01 10:45:06.000000000,2022-12-01 10:45:06.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:56:55.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ce0dd9f41291a19e44216720f8743eba4f1ce8cf', 'message': '[antelope] neutron-lib 3.2.0\n\nChange-Id: I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa\n'}]",0,865676,ce0dd9f41291a19e44216720f8743eba4f1ce8cf,7,3,1,28522,,,0,"[antelope] neutron-lib 3.2.0

Change-Id: I2fbf6d7a0c0a7d1064f2e0183c6a5c25ef95ebfa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/865676/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,ce0dd9f41291a19e44216720f8743eba4f1ce8cf,antelope,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('3.1.0') %},1,1
openstack%2Frpm-packaging~master~I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633,openstack/rpm-packaging,master,I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633,[antelope] oslo.utils 6.1.0,MERGED,2022-11-25 12:08:03.000000000,2022-12-01 10:41:07.000000000,2022-12-01 10:41:07.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 12:08:03.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aae39b440d2b2ae0c4fd85e6c198db303e17af8a', 'message': '[antelope] oslo.utils 6.1.0\n\nChange-Id: I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633\n'}]",0,865681,aae39b440d2b2ae0c4fd85e6c198db303e17af8a,7,3,1,28522,,,0,"[antelope] oslo.utils 6.1.0

Change-Id: I2ba794facff5c5c63cfbbb4f3fb2da23c93fa633
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/865681/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,aae39b440d2b2ae0c4fd85e6c198db303e17af8a,antelope,{% set upstream_version = upstream_version('6.1.0') %},{% set upstream_version = upstream_version('6.0.1') %},1,1
openstack%2Fcharm-nova-compute~stable%2Fussuri~Id2db3a70b8d1287bda006f1bbc5442038f7070f1,openstack/charm-nova-compute,stable/ussuri,Id2db3a70b8d1287bda006f1bbc5442038f7070f1,AppArmor policy update for os-brick and iSCSI,MERGED,2022-11-17 15:03:27.000000000,2022-12-01 10:38:01.000000000,2022-12-01 10:38:01.000000000,"[{'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 15:03:27.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a847442a2c2de85a05752dc2de419d1ecadc1d4f', 'message': 'AppArmor policy update for os-brick and iSCSI\n\nIn iSCSI usecases including cinder-lvm, os-brick requires lock files\nsuch as:\n  - /run/lock/nova/os-brick-connect_volume\n  - /run/lock/nova/os-brick-connect_to_iscsi_portal-192.168.0.1\n\nand lsscsi requires following access to compose a rescan command such as\n""/sys/bus/scsi/drivers/sd/2:0:0:0/rescan"":\n  - /dev/\n  - /sys/bus/scsi/devices/\n\nCloses-Bug: #1979812\nRelated-Bug: #1939390\nChange-Id: Id2db3a70b8d1287bda006f1bbc5442038f7070f1\n(cherry picked from commit b5e658d04571a7c3019b5c5b711aca632989248c)\n'}]",0,864907,a847442a2c2de85a05752dc2de419d1ecadc1d4f,10,5,1,14567,,,0,"AppArmor policy update for os-brick and iSCSI

In iSCSI usecases including cinder-lvm, os-brick requires lock files
such as:
  - /run/lock/nova/os-brick-connect_volume
  - /run/lock/nova/os-brick-connect_to_iscsi_portal-192.168.0.1

and lsscsi requires following access to compose a rescan command such as
""/sys/bus/scsi/drivers/sd/2:0:0:0/rescan"":
  - /dev/
  - /sys/bus/scsi/devices/

Closes-Bug: #1979812
Related-Bug: #1939390
Change-Id: Id2db3a70b8d1287bda006f1bbc5442038f7070f1
(cherry picked from commit b5e658d04571a7c3019b5c5b711aca632989248c)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/07/864907/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,a847442a2c2de85a05752dc2de419d1ecadc1d4f,," /dev/ r, /run/lock/nova/* wk, /sys/bus/scsi/devices/ r,"," /run/lock/nova/nova-iptables wk,",3,1
openstack%2Frpm-packaging~master~I4d673f1b165e375aa6c476be7e8aa2a2d6410173,openstack/rpm-packaging,master,I4d673f1b165e375aa6c476be7e8aa2a2d6410173,[antelope] ovsdbapp 2.2.0,MERGED,2022-11-29 10:49:15.000000000,2022-12-01 10:31:54.000000000,2022-12-01 10:31:54.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:49:15.000000000', 'files': ['openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/baf01f665295e1e3a9e7536ab5e5bc8eac682df3', 'message': '[antelope] ovsdbapp 2.2.0\n\nChange-Id: I4d673f1b165e375aa6c476be7e8aa2a2d6410173\n'}]",0,865975,baf01f665295e1e3a9e7536ab5e5bc8eac682df3,7,3,1,28522,,,0,"[antelope] ovsdbapp 2.2.0

Change-Id: I4d673f1b165e375aa6c476be7e8aa2a2d6410173
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/865975/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/ovsdbapp/ovsdbapp.spec.j2'],1,baf01f665295e1e3a9e7536ab5e5bc8eac682df3,antelope,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Fpuppet-nova~stable%2Fwallaby~Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201,openstack/puppet-nova,stable/wallaby,Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201,Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds,MERGED,2022-11-22 06:11:52.000000000,2022-12-01 10:30:10.000000000,2022-12-01 10:30:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 06:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/58b7ee1dba672c0670f914d060ec487ee3e900b2', 'message': 'Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds\n\nThe change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced\nthe logic to handle the deprecated max_concurrent_builds parameter but\nthe logic only works when nova::compute::ironic is included BEFORE\nnova::compute. This is not always true and can break the existing\nusage.\n\nThis change ensures the deprecated parameter works regardless of\nthe order to include classes. One disadvantage of this change is that\nthe parameter is not longer cleared out by default, but users can still\nensure it is removed from nova.conf by setting $::os_service_default\nexplicitly.\n\nThe deprecated parameter was removed during stable/xena cycle so this\nis submitted as a wallaby-only change.\n\nChange-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201\n'}, {'number': 2, 'created': '2022-11-22 06:13:29.000000000', 'files': ['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/compute/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ca9c0458029c31f2230a20e97d2922b1e0ab1415', 'message': 'Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds\n\nThe change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced\nthe logic to handle the deprecated max_concurrent_builds parameter but\nthe logic only works when nova::compute::ironic is included BEFORE\nnova::compute. This is not always true and can break the existing\nusage.\n\nThis change ensures the deprecated parameter works regardless of\nthe order to include classes. One disadvantage of this change is that\nthe parameter is not longer cleared out by default, but users can still\nensure it is removed from nova.conf by setting $::os_service_default\nexplicitly.\n\nThe deprecated parameter was removed during stable/xena cycle so this\nis submitted as a wallaby-only change.\n\nChange-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201\n'}]",4,865229,ca9c0458029c31f2230a20e97d2922b1e0ab1415,18,3,2,9816,,,0,"Wallaby-only: Fix handling of [DEFAULT] max_concurrent_builds

The change bf1e6fd9c187af56911beb7797588b731efe7a04 introduced
the logic to handle the deprecated max_concurrent_builds parameter but
the logic only works when nova::compute::ironic is included BEFORE
nova::compute. This is not always true and can break the existing
usage.

This change ensures the deprecated parameter works regardless of
the order to include classes. One disadvantage of this change is that
the parameter is not longer cleared out by default, but users can still
ensure it is removed from nova.conf by setting $::os_service_default
explicitly.

The deprecated parameter was removed during stable/xena cycle so this
is submitted as a wallaby-only change.

Change-Id: Ib2d8eaaef0105f32de8efe78b2a7b73a4f1f4201
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/29/865229/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb', 'manifests/compute/ironic.pp']",3,58b7ee1dba672c0670f914d060ec487ee3e900b2,, if defined(Class[nova::compute]) and $::nova::compute::max_concurrent_builds == undef { nova_config { 'DEFAULT/max_concurrent_builds': value => $::os_service_default } } }, } ,20,9
openstack%2Frpm-packaging~master~I3b83b8491cedebbd8a17359e9531bb7428a06bd5,openstack/rpm-packaging,master,I3b83b8491cedebbd8a17359e9531bb7428a06bd5,[antelope] python-glanceclient 4.2.0,MERGED,2022-11-30 09:46:42.000000000,2022-12-01 10:28:17.000000000,2022-12-01 10:28:17.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:46:42.000000000', 'files': ['openstack/python-glanceclient/python-glanceclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914', 'message': '[antelope] python-glanceclient 4.2.0\n\nChange-Id: I3b83b8491cedebbd8a17359e9531bb7428a06bd5\n'}]",0,866117,4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914,7,3,1,28522,,,0,"[antelope] python-glanceclient 4.2.0

Change-Id: I3b83b8491cedebbd8a17359e9531bb7428a06bd5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/866117/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glanceclient/python-glanceclient.spec.j2'],1,4d29d2a2acd186ae1f8e8068ce87ef01b8a2b914,antelope,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Fnova~stable%2Ftrain~I5540df6c7497956219c06cff6f15b51c2c8bc299,openstack/nova,stable/train,I5540df6c7497956219c06cff6f15b51c2c8bc299,add regression test case for bug 1978983,MERGED,2022-11-10 08:22:40.000000000,2022-12-01 10:26:27.000000000,2022-12-01 10:25:13.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19cf9a2a2704c3f9fb185ea1dd148271468c07df', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 2, 'created': '2022-11-10 08:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0006e18af4b921fcdca163ea96f109cb82cb5fd2', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 3, 'created': '2022-11-10 10:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b57abbcdcfecf4dd128d2bacb02782d30b5b6a', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 4, 'created': '2022-11-10 10:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9e3a4159e302964792d04a5c078795be19eca49', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 5, 'created': '2022-11-10 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ccf7fdca4a2d4ff0ffcdbc198b648423b9610c0', 'message': ""add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n\nDifference:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I475b18272a5791aaa501ec5da1818ba22d8ec1f2 (functional: Change order of two classes)\n  * I84c58de90dad6d86271767363aef90ddac0f1730 (functional: Add '_create_server' helper)\n  * I91fa2f73185fef48e9aae9b7f61389c374e06676 (functional: Add unified '_build_server' helper function)\n\nNOTE(auniyal): Differences\n  * admin_api is used integrated_helper.InstanceHelperMixin class\nfunctions\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n""}, {'number': 6, 'created': '2022-11-25 07:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d116107b78b63302030aafb46fde8bb85ad6e9c', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 7, 'created': '2022-11-29 11:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e46aac5f6620640d1b3fe2977538fec3f968e635', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nNOTE(auniyal): Differences from ussuri to train\n  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}, {'number': 8, 'created': '2022-11-29 11:40:21.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/92e8ac529cf8f1cc85176fbdf18198e62f8948a8', 'message': 'add regression test case for bug 1978983\n\nThis change add a repoducer test for evacuating\na vm in the powering-off state\n\nConflicts:\n    nova/tests/functional/integrated_helpers.py\n    nova/tests/functional/test_servers.py\n\nDifference:\n    nova/tests/functional/regressions/test_bug_1978983.py\n\nNOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:\n  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)\n  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)\n\nNOTE(auniyal): Differences\n  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri\n\nNOTE(auniyal): Differences from ussuri to train\n  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server\n\nRelated-Bug: #1978983\nChange-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299\n(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)\n(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)\n(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)\n(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)\n(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)\n(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)\n'}]",14,864168,92e8ac529cf8f1cc85176fbdf18198e62f8948a8,21,4,8,34860,,,0,"add regression test case for bug 1978983

This change add a repoducer test for evacuating
a vm in the powering-off state

Conflicts:
    nova/tests/functional/integrated_helpers.py
    nova/tests/functional/test_servers.py

Difference:
    nova/tests/functional/regressions/test_bug_1978983.py

NOTE(auniyal): Conflicts are due to the following changes that are not in Ussuri:
  * I147bf4d95e6d86ff1f967a8ce37260730f21d236 (Cyborg evacuate support)
  * Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 (Functional tests for NUMA live migration)

NOTE(auniyal): Differences
  * Replaced GlanceFixture with fake.stub_out_image_service in regression test, as GlanceFixture does not exist in Ussuri

NOTE(auniyal): Differences from ussuri to train
  * regression: as create_server is not present in train used _build_minimal_create_server instead to create server

Related-Bug: #1978983
Change-Id: I5540df6c7497956219c06cff6f15b51c2c8bc299
(cherry picked from commit 5904c7f993ac737d68456fc05adf0aaa7a6f3018)
(cherry picked from commit 6bd0bf00fca6ac6460d70c855eded3898cfe2401)
(cherry picked from commit 1e0af92e17f878ce64bd16e428cb3c10904b0877)
(cherry picked from commit b57b0eef218fd7604658842c9277aad782d11b45)
(cherry picked from commit b6c877377f58ccaa797af3384b199002726745ea)
(cherry picked from commit 9015c3b663a7b46192c106ef065f93e82f0ab8be)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/864168/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1978983.py']",2,19cf9a2a2704c3f9fb185ea1dd148271468c07df,bug/1978983,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake class EvacuateServerWithTaskState( test.TestCase, integrated_helpers.InstanceHelperMixin, ): """"""Regression test for bug 1978983 If instance task state is powering-off or not None instance should be allowed to evacuate. """""" def setUp(self): super(EvacuateServerWithTaskState, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) fake.stub_out_image_service(self) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) # Start nova controller services. self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') def test_evacuate_instance(self): """"""Evacuating a server """""" server = self._create_server(networks=[]) self.api.microversion = 'latest' server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # stop host1 compute service self.src.stop() # poweroff instance self._stop_server(server, wait_for_stop=False) server = self._wait_for_server_parameter(self.api, server, {'OS-EXT-STS:task_state': 'powering-off'}) # FIXME(auniyal): As compute service is down in source node # instance is stuck at powering-off, evacuation fails with # msg: Cannot 'evacuate' instance <instance-id> while it is in # task_state powering-off (HTTP 409) ex = self.assertRaises( client.OpenStackApiException, self._evacuate_server, self.api, server, expected_host=self.dest.host) self.assertEqual(409, ex.response.status_code) ",,691,115
openstack%2Fovn-octavia-provider~stable%2Fxena~Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,openstack/ovn-octavia-provider,stable/xena,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:22.000000000,2022-12-01 10:25:45.000000000,2022-12-01 10:24:47.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:22.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/130ed10bedf4100d03d1c38507471fadfdf77e72', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",4,865908,130ed10bedf4100d03d1c38507471fadfdf77e72,15,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/08/865908/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,130ed10bedf4100d03d1c38507471fadfdf77e72,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fzun~stable%2Ftrain~Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a,openstack/zun,stable/train,Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a,Support pci passthrough,ABANDONED,2022-12-01 09:39:58.000000000,2022-12-01 09:48:21.000000000,,[],"[{'number': 1, 'created': '2022-12-01 09:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/bfb98c5c24f5380bdeed6872f38387f5ca98c646', 'message': 'Support pci passthrough\n\nissue: 154630\nChange-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a\n'}, {'number': 2, 'created': '2022-12-01 09:42:29.000000000', 'files': ['.gitignore', '.gitreview', 'zun/pci/utils.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/compute/manager.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e5bd143a23d21a1f272e1e538e570de3c8295e33', 'message': 'Support pci passthrough\n\nissue: 154630\nChange-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a\n'}]",0,866309,e5bd143a23d21a1f272e1e538e570de3c8295e33,3,0,2,20663,,,0,"Support pci passthrough

issue: 154630
Change-Id: Ie018e462e1826c6094666e2fdb8e9f9a0e143a9a
",git fetch https://review.opendev.org/openstack/zun refs/changes/09/866309/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'zun/pci/utils.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/compute/manager.py', 'zun/api/controllers/v1/schemas/parameter_types.py', 'zun/pci/request.py', 'zun/api/controllers/v1/containers.py']",8,bfb98c5c24f5380bdeed6872f38387f5ca98c646,train," from remote_pdb import RemotePdb RemotePdb('127.0.0.1', 4444).set_trace() if not container_dict['pci']: pci_req = self._create_pci_requests_for_sriov_ports(context, if container_dict.get('pci'): pci_alias = container_dict.get('pci') pci_req = pci_request._get_alias_from_config(pci_alias)"," pci_req = self._create_pci_requests_for_sriov_ports(context,",135,5
openstack%2Frpm-packaging~master~I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f,openstack/rpm-packaging,master,I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f,[antelope] python-manilaclient 4.2.0,MERGED,2022-11-25 11:49:20.000000000,2022-12-01 09:45:59.000000000,2022-12-01 09:45:59.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/497c3374b5e0d0f1bc5359f23decd205169444e6', 'message': '[antelope] python-manilaclient 4.2.0\n\nChange-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f\n'}, {'number': 2, 'created': '2022-12-01 09:21:21.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bfe9028c3c9b0f80e94e01762e60d3aaa360c140', 'message': '[antelope] python-manilaclient 4.2.0\n\nNOTE(dmllr): drop mock dependency\n\nChange-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f\n'}]",1,865673,bfe9028c3c9b0f80e94e01762e60d3aaa360c140,10,3,2,28522,,,0,"[antelope] python-manilaclient 4.2.0

NOTE(dmllr): drop mock dependency

Change-Id: I816e9d7a29a19e14876fac67158e4d7a2a1dcc9f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/865673/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,497c3374b5e0d0f1bc5359f23decd205169444e6,antelope,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('3.4.0') %},1,1
openstack%2Fkolla-ansible~master~If503d66c4fb65551ce0d46175c8e512023fdfa5f,openstack/kolla-ansible,master,If503d66c4fb65551ce0d46175c8e512023fdfa5f,Fix missing keystone_admin_url when create endpoint,ABANDONED,2022-11-29 15:42:06.000000000,2022-12-01 09:35:06.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:42:06.000000000', 'files': ['ansible/roles/keystone/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/13b46fb6a86be375096665882ce20de38ed3bb99', 'message': ""Fix missing keystone_admin_url when create endpoint\n\nIt's need admin, internal and public urls when create endpoint for\nkeystone service. But now the keystone_admin_url is missing, which\nwill cause the following parameters to shift and mistakenly treat\nthe region parameter as keystone_public_url. Finally, the\nEndpointNotFound exception is fired because keystone_public_url\nis incorrect.\n\nCloses-Bug: #1998222\nChange-Id: If503d66c4fb65551ce0d46175c8e512023fdfa5f\n""}]",1,866035,13b46fb6a86be375096665882ce20de38ed3bb99,5,2,1,31849,,,0,"Fix missing keystone_admin_url when create endpoint

It's need admin, internal and public urls when create endpoint for
keystone service. But now the keystone_admin_url is missing, which
will cause the following parameters to shift and mistakenly treat
the region parameter as keystone_public_url. Finally, the
EndpointNotFound exception is fired because keystone_public_url
is incorrect.

Closes-Bug: #1998222
Change-Id: If503d66c4fb65551ce0d46175c8e512023fdfa5f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/866035/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/register.yml'],1,13b46fb6a86be375096665882ce20de38ed3bb99,fix_bug_#1998222, admin {{ keystone_admin_url }} {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }}, admin {{ keystone_internal_url }} {{ keystone_public_url }} {{ item }},1,1
openstack%2Frpm-packaging~master~I06ea8746062c6eb134c1065386ef1bf64e8be5eb,openstack/rpm-packaging,master,I06ea8746062c6eb134c1065386ef1bf64e8be5eb,[antelope] python-novaclient 18.2.0,MERGED,2022-11-29 10:46:17.000000000,2022-12-01 09:34:13.000000000,2022-12-01 09:34:13.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:46:17.000000000', 'files': ['openstack/python-novaclient/python-novaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/add4571e8f6ff0b9903d7a29a25fcd871da11a6d', 'message': '[antelope] python-novaclient 18.2.0\n\nChange-Id: I06ea8746062c6eb134c1065386ef1bf64e8be5eb\n'}]",0,865972,add4571e8f6ff0b9903d7a29a25fcd871da11a6d,7,3,1,28522,,,0,"[antelope] python-novaclient 18.2.0

Change-Id: I06ea8746062c6eb134c1065386ef1bf64e8be5eb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/865972/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-novaclient/python-novaclient.spec.j2'],1,add4571e8f6ff0b9903d7a29a25fcd871da11a6d,antelope,{% set upstream_version = upstream_version('18.2.0') %},{% set upstream_version = upstream_version('18.0.0') %},1,1
openstack%2Frpm-packaging~master~I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d,openstack/rpm-packaging,master,I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d,[antelope] sushy 4.4.0,MERGED,2022-11-25 10:14:55.000000000,2022-12-01 09:34:11.000000000,2022-12-01 09:34:11.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-25 10:14:55.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0dcb92b3083542caee9b89b829e4b36ce9e99f7e', 'message': '[antelope] sushy 4.4.0\n\nChange-Id: I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d\n'}]",1,865663,0dcb92b3083542caee9b89b829e4b36ce9e99f7e,8,4,1,28522,,,0,"[antelope] sushy 4.4.0

Change-Id: I7e5b1e1ad621a7a64cca96a21eda5e161c67e56d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/63/865663/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,0dcb92b3083542caee9b89b829e4b36ce9e99f7e,antelope,{% set upstream_version = upstream_version('4.4.0') %},{% set upstream_version = upstream_version('4.3.0') %},1,1
openstack%2Frpm-packaging~master~Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1,openstack/rpm-packaging,master,Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1,[antelope] oslo.log 5.0.2,MERGED,2022-11-29 10:47:42.000000000,2022-12-01 09:34:10.000000000,2022-12-01 09:34:10.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:47:42.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2b4071a1b109997c0fd8699cb6e3991d92d4a426', 'message': '[antelope] oslo.log 5.0.2\n\nChange-Id: Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1\n'}]",0,865974,2b4071a1b109997c0fd8699cb6e3991d92d4a426,7,3,1,28522,,,0,"[antelope] oslo.log 5.0.2

Change-Id: Icd4bd10a3d53bfd388173d69b2cb0a69cdb55fe1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/865974/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,2b4071a1b109997c0fd8699cb6e3991d92d4a426,antelope,{% set upstream_version = upstream_version('5.0.2') %},{% set upstream_version = upstream_version('5.0.1') %},1,1
openstack%2Frpm-packaging~master~I62bc6e809721be8c74eaba918939ebec23854d1c,openstack/rpm-packaging,master,I62bc6e809721be8c74eaba918939ebec23854d1c,[antelope] os-vif 3.1.0,MERGED,2022-11-30 09:54:24.000000000,2022-12-01 09:29:38.000000000,2022-12-01 09:29:38.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:54:24.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/579527b06fd4da1e7d12355654cfaa204c16761d', 'message': '[antelope] os-vif 3.1.0\n\nChange-Id: I62bc6e809721be8c74eaba918939ebec23854d1c\n'}]",0,866120,579527b06fd4da1e7d12355654cfaa204c16761d,7,3,1,28522,,,0,"[antelope] os-vif 3.1.0

Change-Id: I62bc6e809721be8c74eaba918939ebec23854d1c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/866120/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-vif/os-vif.spec.j2'],1,579527b06fd4da1e7d12355654cfaa204c16761d,antelope,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('2.8.0') %},1,1
openstack%2Frpm-packaging~master~I27cf5d6eaecbe80df940862a617263903a421817,openstack/rpm-packaging,master,I27cf5d6eaecbe80df940862a617263903a421817,[antelope] oslo.cache 3.3.0,MERGED,2022-11-30 09:48:40.000000000,2022-12-01 09:26:21.000000000,2022-12-01 09:26:21.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 09:48:40.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b11e99090d78dfa135fd3de8f7559c39b1307f11', 'message': '[antelope] oslo.cache 3.3.0\n\nChange-Id: I27cf5d6eaecbe80df940862a617263903a421817\n'}]",0,866118,b11e99090d78dfa135fd3de8f7559c39b1307f11,7,3,1,28522,,,0,"[antelope] oslo.cache 3.3.0

Change-Id: I27cf5d6eaecbe80df940862a617263903a421817
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/18/866118/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,b11e99090d78dfa135fd3de8f7559c39b1307f11,antelope,{% set upstream_version = upstream_version('3.3.0') %},{% set upstream_version = upstream_version('3.1.0') %},1,1
openstack%2Frpm-packaging~master~If033b560445b3e5ee773deeb25653e92a53c3525,openstack/rpm-packaging,master,If033b560445b3e5ee773deeb25653e92a53c3525,[antelope] tripleo-common 17.0.0,MERGED,2022-11-03 10:55:54.000000000,2022-12-01 09:26:20.000000000,2022-12-01 09:26:20.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-03 10:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/98d11280f52d6067e322bc8af22e457729c95df3', 'message': '[antelope] tripleo-common 17.0.0\n\nChange-Id: If033b560445b3e5ee773deeb25653e92a53c3525\n'}, {'number': 2, 'created': '2022-11-30 09:56:08.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b1712cf671c18e3dd9ed76ef58fdd46fb01727a7', 'message': '[antelope] tripleo-common 17.0.0\n\nChange-Id: If033b560445b3e5ee773deeb25653e92a53c3525\n'}]",2,863504,b1712cf671c18e3dd9ed76ef58fdd46fb01727a7,13,4,2,28522,,,0,"[antelope] tripleo-common 17.0.0

Change-Id: If033b560445b3e5ee773deeb25653e92a53c3525
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/04/863504/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,98d11280f52d6067e322bc8af22e457729c95df3,antelope,{% set upstream_version = upstream_version('17.0.0') %},{% set upstream_version = upstream_version('16.1.0') %},1,1
openstack%2Frpm-packaging~master~Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767,openstack/rpm-packaging,master,Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767,[antelope] python-designateclient 5.1.0,MERGED,2022-11-29 10:50:22.000000000,2022-12-01 09:19:49.000000000,2022-12-01 09:19:49.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:50:22.000000000', 'files': ['openstack/python-designateclient/python-designateclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7aae7594c49f2eee6ab3f9e8188e14f9c221206a', 'message': '[antelope] python-designateclient 5.1.0\n\nChange-Id: Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767\n'}]",0,865976,7aae7594c49f2eee6ab3f9e8188e14f9c221206a,7,3,1,28522,,,0,"[antelope] python-designateclient 5.1.0

Change-Id: Ic8cce9c58c8e7b030829f8df1ec36e5fcd77b767
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/865976/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-designateclient/python-designateclient.spec.j2'],1,7aae7594c49f2eee6ab3f9e8188e14f9c221206a,antelope,{% set upstream_version = upstream_version('5.1.0') %},{% set upstream_version = upstream_version('4.5.0') %},1,1
openstack%2Frpm-packaging~master~Ia0b6f18125955edd1f9e0440af995b0266821962,openstack/rpm-packaging,master,Ia0b6f18125955edd1f9e0440af995b0266821962,[antelope] os-win 5.8.0,MERGED,2022-11-25 11:53:11.000000000,2022-12-01 09:06:07.000000000,2022-12-01 09:06:07.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:53:11.000000000', 'files': ['openstack/os-win/os-win.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bcc13718404da21609755d11f1bd1030868d17ff', 'message': '[antelope] os-win 5.8.0\n\nChange-Id: Ia0b6f18125955edd1f9e0440af995b0266821962\n'}]",0,865675,bcc13718404da21609755d11f1bd1030868d17ff,7,3,1,28522,,,0,"[antelope] os-win 5.8.0

Change-Id: Ia0b6f18125955edd1f9e0440af995b0266821962
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/865675/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-win/os-win.spec.j2'],1,bcc13718404da21609755d11f1bd1030868d17ff,antelope,{% set upstream_version = upstream_version('5.8.0') %},{% set upstream_version = upstream_version('5.7.1') %},1,1
openstack%2Frpm-packaging~master~I7479f6d8a7790344d12b5d23aa33216e1026c84f,openstack/rpm-packaging,master,I7479f6d8a7790344d12b5d23aa33216e1026c84f,[antelope] metalsmith 1.9.0,MERGED,2022-11-25 10:18:11.000000000,2022-12-01 09:06:06.000000000,2022-12-01 09:06:06.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 10:18:11.000000000', 'files': ['openstack/metalsmith/metalsmith.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/363bc530a661a8b4af300194108267d884516c2a', 'message': '[antelope] metalsmith 1.9.0\n\nChange-Id: I7479f6d8a7790344d12b5d23aa33216e1026c84f\n'}]",0,865664,363bc530a661a8b4af300194108267d884516c2a,7,3,1,28522,,,0,"[antelope] metalsmith 1.9.0

Change-Id: I7479f6d8a7790344d12b5d23aa33216e1026c84f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/865664/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/metalsmith/metalsmith.spec.j2'],1,363bc530a661a8b4af300194108267d884516c2a,antelope,{% set upstream_version = upstream_version('1.9.0') %},{% set upstream_version = upstream_version('1.8.0') %},1,1
openstack%2Frpm-packaging~master~I756d254f1a2659d0479493ef82a6a09108716856,openstack/rpm-packaging,master,I756d254f1a2659d0479493ef82a6a09108716856,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)",MERGED,2022-11-24 13:12:26.000000000,2022-12-01 08:56:42.000000000,2022-12-01 08:56:42.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-24 13:12:26.000000000', 'files': ['openstack/sushy-tools/sushy-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a94d75318b5abf22ce07405398466721eea74c28', 'message': 'sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)\n\nChange-Id: I756d254f1a2659d0479493ef82a6a09108716856\n'}]",0,865543,a94d75318b5abf22ce07405398466721eea74c28,7,3,1,6593,,,0,"sushy-tools: update to 0.21.1 (bsc#1205414, CVE-2022-44020)

Change-Id: I756d254f1a2659d0479493ef82a6a09108716856
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/865543/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy-tools/sushy-tools.spec.j2'],1,a94d75318b5abf22ce07405398466721eea74c28,,{% set upstream_version = upstream_version('0.21.1') %},{% set upstream_version = upstream_version('0.17.0') %},1,1
openstack%2Fnova~master~I223995b5f8cb72cb47d04e969819efe4885dfc88,openstack/nova,master,I223995b5f8cb72cb47d04e969819efe4885dfc88,Adds regression functional test for 1980720,MERGED,2022-10-14 10:24:01.000000000,2022-12-01 08:47:08.000000000,2022-12-01 08:45:51.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-14 10:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2464612c65102dc6eab543af4354758769a996a4', 'message': 'Added Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 2, 'created': '2022-10-14 12:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b524e759fc192e886a13fc8dd816dc2d6c641f86', 'message': 'Added Functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 3, 'created': '2022-10-17 06:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1397642b3610a61cf0396c16553992245e286d', 'message': 'Adds regression functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}, {'number': 4, 'created': '2022-11-29 14:11:21.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py', 'nova/tests/functional/regressions/test_bug_1980720.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/50802572dcb5958d3843799092a41688742a096d', 'message': 'Adds regression functional test for 1980720\n\nRelated-Bug: #1980720\nChange-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88\n'}]",16,861357,50802572dcb5958d3843799092a41688742a096d,35,5,4,34860,,,0,"Adds regression functional test for 1980720

Related-Bug: #1980720
Change-Id: I223995b5f8cb72cb47d04e969819efe4885dfc88
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/861357/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_libvirt.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/fixtures/cinder.py']",3,2464612c65102dc6eab543af4354758769a996a4,bug/1980720," # This represents a bootable image-backed volume to test # boot-from-volume scenarios with # os_require_quiesce # hw_qemu_guest_agent IMAGE_BACKED_VOL_QUIESCE = '6ca404f3-d844-4169-bb96-bc792f37de26' if volume_id == self.IMAGE_BACKED_VOL_QUIESCE: volume['bootable'] = True volume['volume_image_metadata'] = { ""os_require_quiesce"": ""True"", ""hw_qemu_guest_agent"": ""True"" } def fake_get_absolute_limits(_self, context): limits = {'totalSnapshotsUsed': 0, 'maxTotalSnapshots': -1} return limits self.test.stub_out( 'nova.volume.cinder.API.get_absolute_limits', fake_get_absolute_limits)",,88,0
openstack%2Freleases~master~I6859e6779a5bb8064c41dffbb973319c05926b6d,openstack/releases,master,I6859e6779a5bb8064c41dffbb973319c05926b6d,[xena] [barbican] [security] Release 13.0.2,MERGED,2022-11-25 12:53:07.000000000,2022-12-01 08:42:19.000000000,2022-12-01 08:42:19.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:53:07.000000000', 'files': ['deliverables/xena/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f0c12642638d150f4e61de9fb894e33894c28acb', 'message': '[xena]\xa0[barbican] [security]\xa0Release 13.0.2\n\nNew release for the default policy security\nissue fixed in [1].\n\n[1]\xa0https://github.com/openstack/barbican/commit/e32e2e421b00482d26f7e263855b0555ca8a94c5\n\nChange-Id: I6859e6779a5bb8064c41dffbb973319c05926b6d\n'}]",1,865684,f0c12642638d150f4e61de9fb894e33894c28acb,11,6,1,16137,,,0,"[xena] [barbican] [security] Release 13.0.2

New release for the default policy security
issue fixed in [1].

[1] https://github.com/openstack/barbican/commit/e32e2e421b00482d26f7e263855b0555ca8a94c5

Change-Id: I6859e6779a5bb8064c41dffbb973319c05926b6d
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/865684/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/barbican.yaml'],1,f0c12642638d150f4e61de9fb894e33894c28acb,barbican-def-policy-sec-release, - version: 13.0.2 projects: - repo: openstack/barbican hash: e32e2e421b00482d26f7e263855b0555ca8a94c5,,4,0
openstack%2Freleases~master~I3dd60fcea492ed6513771780ab5ae4e1eca88d0c,openstack/releases,master,I3dd60fcea492ed6513771780ab5ae4e1eca88d0c,[yoga] [barbican] [security] Release 14.0.2,MERGED,2022-11-25 12:52:05.000000000,2022-12-01 08:41:59.000000000,2022-12-01 08:41:59.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:52:05.000000000', 'files': ['deliverables/yoga/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d6b6bd85d59e06957e840372faa3beb073252b6d', 'message': '[yoga] [barbican] [security] Release 14.0.2\n\nNew release for the default policy security\nfixed in [1].\n\n[1] https://github.com/openstack/barbican/commit/f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a\n\nChange-Id: I3dd60fcea492ed6513771780ab5ae4e1eca88d0c\n'}]",1,865683,d6b6bd85d59e06957e840372faa3beb073252b6d,11,6,1,16137,,,0,"[yoga] [barbican] [security] Release 14.0.2

New release for the default policy security
fixed in [1].

[1] https://github.com/openstack/barbican/commit/f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a

Change-Id: I3dd60fcea492ed6513771780ab5ae4e1eca88d0c
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/865683/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/barbican.yaml'],1,d6b6bd85d59e06957e840372faa3beb073252b6d,barbican-def-policy-sec-release, - version: 14.0.2 projects: - repo: openstack/barbican hash: f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a,,4,0
openstack%2Freleases~master~I6d7f175b15b30352bab2c4ecbe7cb9241c181a25,openstack/releases,master,I6d7f175b15b30352bab2c4ecbe7cb9241c181a25,[zed] [barbican] [security] Release 15.0.1,MERGED,2022-11-25 12:50:56.000000000,2022-12-01 08:39:43.000000000,2022-12-01 08:39:43.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:50:56.000000000', 'files': ['deliverables/zed/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a', 'message': '[zed]\xa0[barbican]\xa0[security] Release 15.0.1\n\nNew release containing the security fix for\nthe default policy fixed in [1].\n\n[1] https://github.com/openstack/barbican/commit/7d6749fcb1ad16a3350de82cd8e523d5b55306f8\n\nChange-Id: I6d7f175b15b30352bab2c4ecbe7cb9241c181a25\n'}]",1,865682,e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a,10,6,1,16137,,,0,"[zed] [barbican] [security] Release 15.0.1

New release containing the security fix for
the default policy fixed in [1].

[1] https://github.com/openstack/barbican/commit/7d6749fcb1ad16a3350de82cd8e523d5b55306f8

Change-Id: I6d7f175b15b30352bab2c4ecbe7cb9241c181a25
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/865682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/barbican.yaml'],1,e30c9e852cdea2e748e9ae2ea5193e1d52be1e7a,barbican-def-policy-sec-release, - version: 15.0.1 projects: - repo: openstack/barbican hash: 7d6749fcb1ad16a3350de82cd8e523d5b55306f8,,4,0
openstack%2Fcyborg~master~I84762c4f93c20ca85ee0296f7b96b51cf8c736aa,openstack/cyborg,master,I84762c4f93c20ca85ee0296f7b96b51cf8c736aa,Get an attribute by it's deployable_id.,MERGED,2022-11-28 08:10:08.000000000,2022-12-01 07:06:48.000000000,2022-12-01 07:05:13.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-28 08:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/925b16ce3e6c4af733839369de535570a01a1dc2', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 2, 'created': '2022-11-28 08:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4740058c3babeb351864d67f8a24155bfd8cfb6b', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 3, 'created': '2022-11-28 09:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a9aa2efe3534c1d03a89d5b7c357bc7cc2fe76b5', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 4, 'created': '2022-12-01 02:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/61a6d51c8060bbf2d860b552fc9221f9b5c1d811', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}, {'number': 5, 'created': '2022-12-01 02:37:20.000000000', 'files': ['cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a0788f795ea6ac937dc5ba05d705352cf030d4e6', 'message': ""Get an attribute by it's deployable_id.\n\nChange-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa\n""}]",4,865637,a0788f795ea6ac937dc5ba05d705352cf030d4e6,14,3,5,34375,,,0,"Get an attribute by it's deployable_id.

Change-Id: I84762c4f93c20ca85ee0296f7b96b51cf8c736aa
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/37/865637/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,925b16ce3e6c4af733839369de535570a01a1dc2,,"from cyborg.common import exception @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_attribute_by_deployable_id"") @expose.expose('json', wtypes.text) def get_attribute_by_deployable_id(self, deployable_id): """"""Retrieve a single attribute by deployable_id."""""" LOG.info('[attributes] get_attribute_by_deployable_id.') context = pecan.request.context api_obj_attributes = objects.Attribute.get_by_deployable_id\ (context, deployable_id) ret = AttributeCollection.convert_with_links(api_obj_attributes) LOG.info('[attributes] get_attribute_by_deployable_id returned:' ' %s', ret) return ret ",,15,0
openstack%2Fcyborg~master~I5c1790b56fe000239cffdcb213bfc18a919c2e02,openstack/cyborg,master,I5c1790b56fe000239cffdcb213bfc18a919c2e02,Add get_one for attributes.,MERGED,2022-11-24 07:11:52.000000000,2022-12-01 07:06:06.000000000,2022-12-01 07:05:10.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 07:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/14ffa8855b256d46a9e793913b3d8953a10163a2', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 2, 'created': '2022-11-24 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a0641c2d49821c27a621c8673f9c83b7c26f4f7', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 3, 'created': '2022-11-24 08:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dcb962d64479864841adb9180ee6a63df3d42c9a', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 4, 'created': '2022-11-24 08:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/108d9dcab4f573cc88450082330a97fbb8ba4b4d', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}, {'number': 5, 'created': '2022-12-01 01:37:54.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2eb0be1fa308349daebcf1aedc3e8ead65c15781', 'message': 'Add get_one for attributes.\n\nChange-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02\n'}]",0,864826,2eb0be1fa308349daebcf1aedc3e8ead65c15781,14,3,5,34375,,,0,"Add get_one for attributes.

Change-Id: I5c1790b56fe000239cffdcb213bfc18a919c2e02
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/26/864826/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,14ffa8855b256d46a9e793913b3d8953a10163a2,," @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_one"") @expose.expose('json', wtypes.text) def get_one(self): """"""Retrieve information about the given attribute. """""" obj_attribute = objects.Attribute.get(pecan.request.context) return self.convert_with_link(obj_attribute)",,9,0
openstack%2Fcyborg~master~Ifc6208a6ffd09b9638690d99215957e5078923a9,openstack/cyborg,master,Ifc6208a6ffd09b9638690d99215957e5078923a9,Add delete method for attributes,MERGED,2022-11-24 07:19:11.000000000,2022-12-01 07:05:11.000000000,2022-12-01 07:05:11.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 07:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c23e5c7c61a91542609dbb95973ea032e6474fda', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 2, 'created': '2022-11-24 07:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ca3eae87034cf28dde48b76703bd1bc3dd12f5c5', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 3, 'created': '2022-11-25 04:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a582fc3f84db7437d560d2a4671a930387ca47c8', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 4, 'created': '2022-11-25 04:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b7adce0d2d50da24b8aabe6915d2f331e2cdc4c1', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 5, 'created': '2022-12-01 01:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ab6966522418702dc840afdc39e7cb29ffd96ea5', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}, {'number': 6, 'created': '2022-12-01 02:27:25.000000000', 'files': ['cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/faa67c33408494cf56f7a9f650d7495a68323e99', 'message': 'Add delete method for attributes\n\nChange-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9\n'}]",18,864827,faa67c33408494cf56f7a9f650d7495a68323e99,18,3,6,34375,,,0,"Add delete method for attributes

Change-Id: Ifc6208a6ffd09b9638690d99215957e5078923a9
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/27/864827/5 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/api/controllers/v2/attributes.py'],1,c23e5c7c61a91542609dbb95973ea032e6474fda,," @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""delete"") @expose.expose(None, wtypes.text, status_code=HTTPStatus.NO_CONTENT) def delete(self, value): """"""Delete one or more attributes. URL: /attributes/{uuid} OR /attributes?value=foo,bar :param value: This should be one of these two: - UUID of a attribute. - Comma-delimited list of attribute names. """""" context = pecan.request.context if uuidutils.is_uuid_like(value): uuid = value LOG.info('[attributes] delete uuid=%s', uuid) obj_attribute = objects.Attribute.get_by_uuid(context, uuid) pecan.request.conductor_api.attribute_delete( context, obj_attribute) else: names = value.split("","") LOG.info('[attributes] delete names=(%s)', names) for name in names: obj_attribute = objects.Attribute.get_by_name(context, name) pecan.request.conductor_api.attribute_delete( context, obj_attribute)",,26,0
openstack%2Fcyborg~master~I1bd75170a4d308339bf34fa5778d64c5d097d4bd,openstack/cyborg,master,I1bd75170a4d308339bf34fa5778d64c5d097d4bd,Add attribute_list_api,MERGED,2022-11-24 06:50:49.000000000,2022-12-01 06:46:13.000000000,2022-12-01 06:45:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-24 06:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b0278fcf51bb625a7f27740c112ef3a4f566edab', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 2, 'created': '2022-11-24 06:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/44ac18d8aa5aa0597ad6bc90708ab9b82e280fc2', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 3, 'created': '2022-11-24 07:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/916574de84bc25ee38e00a0cfb29cde115f0c1ec', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 4, 'created': '2022-11-24 07:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/efed4e36c6b824a5a5bfd78989a6a1b57cf70743', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 5, 'created': '2022-11-24 07:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/247dfb1df057cca7d33e80bdbf9ac28051e58de4', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}, {'number': 6, 'created': '2022-12-01 01:19:21.000000000', 'files': ['cyborg/api/controllers/v2/__init__.py', 'cyborg/policies/__init__.py', 'cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/962ceed37100a2a44d5f64b6ad779b6777bf7b55', 'message': 'Add attribute_list_api\n\nChange-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd\n'}]",12,864825,962ceed37100a2a44d5f64b6ad779b6777bf7b55,15,3,6,34375,,,0,"Add attribute_list_api

Change-Id: I1bd75170a4d308339bf34fa5778d64c5d097d4bd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/25/864825/6 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/api/controllers/v2/__init__.py', 'cyborg/policies/__init__.py', 'cyborg/common/policy.py', 'cyborg/api/controllers/v2/attributes.py']",4,b0278fcf51bb625a7f27740c112ef3a4f566edab,,"# Copyright 2019 Intel, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from http import HTTPStatus import pecan import re import wsme from wsme import types as wtypes from oslo_log import log from oslo_utils import uuidutils from cyborg import api from cyborg.api.controllers import base from cyborg.api.controllers import link from cyborg.api.controllers import types from cyborg.api.controllers.v2 import versions from cyborg.api import expose from cyborg.common import authorize_wsgi from cyborg.common import constants from cyborg.common import exception from cyborg.common.i18n import _ from cyborg import objects LOG = log.getLogger(__name__) class Attribute(base.APIBase): """"""API representation of a attribute. This class enforces type checking and value constraints, and converts between the internal object model and the API representation of a attribute. See module notes above. """""" """"""The UUID of the attribute"""""" uuid = types.uuid """"""The deployable_id of the attribute"""""" deployable_id = wtypes.IntegerType() """"""The key of the device attribute"""""" key = wtypes.text """"""The value of the attribute"""""" value = wtypes.text created_at = wtypes.datetime.datetime updated_at = wtypes.datetime.datetime """"""A list containing a self link"""""" links = wsme.wsattr([link.Link], readonly=True) def __init__(self, **kwargs): super(Attribute, self).__init__(**kwargs) self.fields = [] for field in objects.Attribute.fields: self.fields.append(field) setattr(self, field, kwargs.get(field, wtypes.Unset)) @classmethod def convert_with_links(cls, obj_attribute): api_attribute = cls(**obj_attribute.as_dict()) api_attribute.links = [ link.Link.make_link('self', pecan.request.public_url, 'attribute', api_attribute.uuid) ] return api_attribute def get_attribute(self, obj_attribute): api_obj = {} for field in ['uuid', 'deployable_id', 'key', 'value']: api_obj[field] = obj_attribute[field] for field in ['created_at', 'updated_at']: api_obj[field] = str(obj_attribute[field]) api_obj['links'] = [ link.Link.make_link_dict('attributes', api_obj['uuid']) ] return api_obj class AttributeCollection(Attribute): """"""API representation of a collection of attributes."""""" """"""A list containing attribute objects"""""" attributes = [Attribute] @classmethod def convert_with_links(cls, obj_attributes): collection = cls() collection.attributes = [ Attribute.convert_with_links(obj_attribute) for obj_attribute in obj_attributes] return collection def get_attributes(self, obj_attributes): api_obj_attributes = [ self.get_device_profile(obj_attribute) for obj_attribute in obj_attributes] return api_obj_attributes class AttributesController(base.CyborgController, AttributeCollection): """"""REST controller for Attributes."""""" @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_all"", False) @expose.expose(AttributeCollection, wtypes.text) def get_all(self): """"""Retrieve a list of attributes."""""" LOG.info('[attributes] get_all.') context = pecan.request.context api_obj_attributes = objects.Attribute.get_by_filter(context, {}) ret = AttributeCollection.convert_with_links(api_obj_attributes) LOG.info('[Attributes] get_all returned: %s', ret) return ret @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""get_one"") @expose.expose('json', wtypes.text) def get_one(self): """"""Retrieve information about the given attribute. """""" obj_attribute = objects.Attribute.get(pecan.request.context) return self.convert_with_link(obj_attribute) @authorize_wsgi.authorize_wsgi(""cyborg:attribute"", ""delete"") @expose.expose(None, wtypes.text, status_code=HTTPStatus.NO_CONTENT) def delete(self, value): """"""Delete one or more attributes. URL: /attributes/{uuid} OR /attributes?value=foo,bar :param value: This should be one of these two: - UUID of a attribute. - Comma-delimited list of attribute names. """""" context = pecan.request.context if uuidutils.is_uuid_like(value): uuid = value LOG.info('[attributes] delete uuid=%s', uuid) obj_attribute = objects.Attribute.get_by_uuid(context, uuid) pecan.request.conductor_api.attribute_delete( context, obj_attribute) else: names = value.split("","") LOG.info('[attributes] delete names=(%s)', names) for name in names: obj_attribute = objects.Attribute.get_by_name(context, name) pecan.request.conductor_api.attribute_delete( context, obj_attribute) ",,180,0
openstack%2Ftacker~master~I09f54edf6b034cadc78f8a42df06419d08c3325a,openstack/tacker,master,I09f54edf6b034cadc78f8a42df06419d08c3325a,Fix field of LifecycleChangeNotificationsFilter,MERGED,2022-11-11 01:02:12.000000000,2022-12-01 05:59:54.000000000,2022-12-01 05:58:50.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 33292}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-11-11 01:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b20a21fd83f94ae72e99664326239e96e3bcc8ca', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 2, 'created': '2022-11-14 22:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c259263156de58037436a5ed735ff025594fb985', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 3, 'created': '2022-11-17 22:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f039b25df1a520ad44d4386bdbbdf914f0f952ef', 'message': ""fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}, {'number': 4, 'created': '2022-11-21 05:59:00.000000000', 'files': ['tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/tests/unit/sol_refactored/common/test_subscription_utils.py', 'tacker/sol_refactored/common/subscription_utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/58fbcc371fe8684979e203655f24c3575f3a3585', 'message': ""Fix field of LifecycleChangeNotificationsFilter\n\n'operationStates' field of LifecycleChangeNotificationsFilter\nwas defined as 'operationStatus' wrongly. This patch fixes it.\n\nCloses-Bug: #1996242\nChange-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a\n""}]",38,864241,58fbcc371fe8684979e203655f24c3575f3a3585,29,8,4,4149,,,0,"Fix field of LifecycleChangeNotificationsFilter

'operationStates' field of LifecycleChangeNotificationsFilter
was defined as 'operationStatus' wrongly. This patch fixes it.

Closes-Bug: #1996242
Change-Id: I09f54edf6b034cadc78f8a42df06419d08c3325a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/41/864241/4 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/objects/v2/lifecycle_change_notifications_filter.py', 'tacker/tests/unit/sol_refactored/common/test_subscription_utils.py', 'tacker/sol_refactored/common/subscription_utils.py']",3,b20a21fd83f94ae72e99664326239e96e3bcc8ca,bug/1996242,"def get_matched_subscs(context, inst, notif_type, op_type, op_state): # - operationStates 0..N if (op_state is not None and subsc.filter.obj_attr_is_set('operationStates')): if op_state not in subsc.filter.operationStates:","def get_matched_subscs(context, inst, notif_type, op_type, op_status): # - operationStatus 0..N if (op_status is not None and subsc.filter.obj_attr_is_set('operationStatus')): if op_status not in subsc.filter.operationStatus:",8,8
openstack%2Ftacker~master~Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea,openstack/tacker,master,Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea,Improve plugin flexibility,MERGED,2022-10-19 00:35:03.000000000,2022-12-01 05:52:24.000000000,2022-12-01 05:51:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27728}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 33292}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-10-19 00:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b8e98443e74bd6eb12a8381983d41de9efe6d811', 'message': '[WIP]Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 2, 'created': '2022-10-26 01:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fc20811ec802c6313c8d0b2fe6cf7d9dcc0d48d1', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 3, 'created': '2022-11-14 08:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee872da3eb38a51b7df9a38b8c5c6591df03045e', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 4, 'created': '2022-11-17 02:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/71f2dc126f530c32adebcff9a6816ccb4f670c65', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 5, 'created': '2022-11-25 10:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c9f7d5d846d0345d5c6fb49d812cb3b7839e02ba', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}, {'number': 6, 'created': '2022-11-28 12:47:49.000000000', 'files': ['tacker/sol_refactored/controller/server_notification.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/sol_refactored/common/monitoring_plugin_base.py', 'tacker/tests/unit/sol_refactored/controller/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/controller/test_server_notification.py', 'tacker/tests/unit/sol_refactored/common/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/conductor/test_prometheus_plugin.py', 'tacker/sol_refactored/controller/prometheus_plugin_controller.py', 'tacker/sol_refactored/common/exceptions.py', 'doc/source/user/prometheus_plugin_use_case_guide.rst', 'tacker/sol_refactored/common/prometheus_plugin.py', 'tacker/sol_refactored/common/config.py', 'doc/source/user/fault_notification_use_case_guide.rst', 'tacker/sol_refactored/controller/vnfpm_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/c297b4300d1943a545950dd0a606b0026a7d5089', 'message': 'Improve plugin flexibility\n\nThe monitoring plugin such as prometheus plugin or\nfault notification have been modified\nto be replaceable according to the configuration.\n\nTherefore, operators can use their original monitoring\nfunctions without changing tacker source code.\n\nImplements: blueprint support-auto-lcm\nImplements: blueprint support-autoheal-queue\nChange-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea\n'}]",75,861808,c297b4300d1943a545950dd0a606b0026a7d5089,37,8,6,35016,,,0,"Improve plugin flexibility

The monitoring plugin such as prometheus plugin or
fault notification have been modified
to be replaceable according to the configuration.

Therefore, operators can use their original monitoring
functions without changing tacker source code.

Implements: blueprint support-auto-lcm
Implements: blueprint support-autoheal-queue
Change-Id: Ifcdf12c4be2d307c78b38703fe6db4e5aac236ea
",git fetch https://review.opendev.org/openstack/tacker refs/changes/08/861808/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/server_notification.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/sol_refactored/common/monitoring_plugin_base.py', 'tacker/tests/unit/sol_refactored/controller/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/controller/test_server_notification.py', 'tacker/tests/unit/sol_refactored/common/test_prometheus_plugin.py', 'tacker/tests/unit/sol_refactored/conductor/test_prometheus_plugin.py', 'tacker/sol_refactored/controller/prometheus_plugin_controller.py', 'doc/source/user/prometheus_plugin_use_case_guide.rst', 'tacker/sol_refactored/common/prometheus_plugin.py', 'tacker/sol_refactored/common/config.py', 'tacker/tests/functional/sol_v2_common/samples/server_notification/contents/Scripts/sample_script.py', 'doc/source/user/fault_notification_use_case_guide.rst', 'tacker/sol_refactored/controller/vnfpm_v2.py', 'tacker/sol_refactored/mgmt_drivers/server_notification.py']",15,b8e98443e74bd6eb12a8381983d41de9efe6d811,bp/support-auto-lcm,"from tacker.common import rpc from tacker import context CONF(project='tacker') rpc.init(CONF) context.get_admin_context(), vnf_instance_id)"," None, vnf_instance_id)",200,40
openstack%2Fpuppet-neutron~stable%2Fyoga~I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,openstack/puppet-neutron,stable/yoga,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-12-01 01:40:29.000000000,2022-12-01 05:42:54.000000000,2022-12-01 05:42:54.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 01:40:29.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7090aa57c7253a4331220b2f152c1c35f07e7ee3', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)\n(cherry picked from commit 4fdb0798a6ea07f71ce9e33bf1328110e73c9106)\n'}]",0,866250,7090aa57c7253a4331220b2f152c1c35f07e7ee3,6,2,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)
(cherry picked from commit 4fdb0798a6ea07f71ce9e33bf1328110e73c9106)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/50/866250/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,7090aa57c7253a4331220b2f152c1c35f07e7ee3,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Ftripleo-heat-templates~master~Iaefc0347ac18764a683fde82075adb3067861ebf,openstack/tripleo-heat-templates,master,Iaefc0347ac18764a683fde82075adb3067861ebf,Remove CephHciOsdType and CephHciOsdCount parameters,MERGED,2022-11-30 13:45:29.000000000,2022-12-01 05:30:22.000000000,2022-12-01 05:29:23.000000000,"[{'_account_id': 6796}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-11-30 13:45:29.000000000', 'files': ['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e62ae536324df783d228039908d68f34aa11703', 'message': 'Remove CephHciOsdType and CephHciOsdCount parameters\n\nCephHciOsdType and CephHciOsdCount parameters, used only\nby the deprecated derive parameters feature, should be\nremoved. They were missed during initial clean up.\n\nChange-Id: Iaefc0347ac18764a683fde82075adb3067861ebf\n'}]",2,866164,4e62ae536324df783d228039908d68f34aa11703,13,6,1,18002,,,0,"Remove CephHciOsdType and CephHciOsdCount parameters

CephHciOsdType and CephHciOsdCount parameters, used only
by the deprecated derive parameters feature, should be
removed. They were missed during initial clean up.

Change-Id: Iaefc0347ac18764a683fde82075adb3067861ebf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/866164/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_derived_params_osd_type_osd_count-6fe114130d1e4b2e.yaml', 'deployment/cephadm/ceph-osd.yaml']",2,4e62ae536324df783d228039908d68f34aa11703,derive-parameters-cleanup,," CephHciOsdCount: type: number default: 0 tags: - role_specific description: | The number of expected Ceph OSDs per HCI node. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, this number is necessary in order to know how much CPU/RAM to reserve. CephHciOsdType: type: string default: 'hdd' tags: - role_specific constraints: - allowed_values: ['hdd', 'ssd', 'nvme'] description: | CephHciOsdType is the type of data_device (not db_device) used for each HCI node's OSD and must be one of hdd, ssd, or nvme. Used by Ansible module tripleo_derive_hci_parameters when cephadm/HCI is used. Since CephOsdSpec might only specify a description of devices to be used as OSDs (e.g. all devices), and not a list of devices as found in CephAnsibleDisksConfig, the device path is not hard coded so we cannot look up that device in Ironic to determine its type. If CephOsdSpec has data_devices/rotational=1 and db_devices/rotational=0, then set CephHciOsdType to 'hdd', since only the DB/WAL are on SSD. If an OSD data device is an SSD or NVMe SSD, then set the type accordingly so that the derive parameters module can allocate the optimal number of CPUs per device.",5,32
openstack%2Fpuppet-neutron~stable%2Fzed~I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,openstack/puppet-neutron,stable/zed,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-11-30 09:28:11.000000000,2022-12-01 04:21:09.000000000,2022-12-01 04:21:09.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:28:11.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4fdb0798a6ea07f71ce9e33bf1328110e73c9106', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)\n'}]",1,866004,4fdb0798a6ea07f71ce9e33bf1328110e73c9106,6,2,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
(cherry picked from commit 7c752068f1d747f1218a54ed3f1b07ebee970d1b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/866004/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,4fdb0798a6ea07f71ce9e33bf1328110e73c9106,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Fpuppet-ovn~master~Idb92e3d4f52eefabca992c027f1576700fc63234,openstack/puppet-ovn,master,Idb92e3d4f52eefabca992c027f1576700fc63234,Remove logic to support $::os_service_default,MERGED,2022-11-28 05:21:44.000000000,2022-12-01 03:41:59.000000000,2022-12-01 03:40:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 05:21:44.000000000', 'files': ['releasenotes/notes/datapath_type-use-undef-force-db2267dda2e93ab1.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671', 'message': 'Remove logic to support $::os_service_default\n\n... because support for $::os_service_default was deprecated[1] during\nthe previous cycle.\n\n[1] 5c809de01630ee7eede500106143810ca57b58b5\n\nChange-Id: Idb92e3d4f52eefabca992c027f1576700fc63234\n'}]",3,865787,cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671,16,3,1,9816,,,0,"Remove logic to support $::os_service_default

... because support for $::os_service_default was deprecated[1] during
the previous cycle.

[1] 5c809de01630ee7eede500106143810ca57b58b5

Change-Id: Idb92e3d4f52eefabca992c027f1576700fc63234
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/87/865787/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/datapath_type-use-undef-force-db2267dda2e93ab1.yaml', 'manifests/controller.pp']",2,cb9fed3f7aca11dc1b4d6a3867ae4d367b53b671,, if $enable_dpdk and ! $datapath_type { if $datapath_type {, if $enable_dpdk and (is_service_default($datapath_type) or !$datapath_type) { if is_service_default($datapath_type) { warning('Usage of $::os_service_default has been deprecated. Use undef instead') $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'ensure' => 'absent' } } } elsif $datapath_type {,7,7
openstack%2Fswift~master~I81e445234a1cbfddc374af449ab68e4c773bdde6,openstack/swift,master,I81e445234a1cbfddc374af449ab68e4c773bdde6,Add swift-ring-packer utility,NEW,2022-11-29 22:47:08.000000000,2022-12-01 03:26:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 22:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bddd0eb090b0db19cda5b10655962e50601a4adb', 'message': 'Add swift-ring-packer utility\n\nAdds ability to list, unpack, and repack v2 rings.\n\nChange-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6\n'}, {'number': 2, 'created': '2022-12-01 00:11:29.000000000', 'files': ['swift/cli/ring_packer.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/c08aa1085e8d23684495587e26d2f176718841d5', 'message': 'Add swift-ring-packer utility\n\nAdds ability to list, unpack, and repack v2 rings.\n\nChange-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6\n'}]",0,866082,c08aa1085e8d23684495587e26d2f176718841d5,6,1,2,15343,,,0,"Add swift-ring-packer utility

Adds ability to list, unpack, and repack v2 rings.

Change-Id: I81e445234a1cbfddc374af449ab68e4c773bdde6
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/866082/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/ring_packer.py', 'setup.cfg']",2,bddd0eb090b0db19cda5b10655962e50601a4adb,, swift-ring-packer = swift.cli.ring_packer:main,,184,0
openstack%2Ftripleo-ansible~master~I4697b52d970768c46997221a93f6d8da08d93821,openstack/tripleo-ansible,master,I4697b52d970768c46997221a93f6d8da08d93821,tripleo_container_manage: Add retry mechanism,MERGED,2022-09-22 05:48:41.000000000,2022-12-01 01:49:39.000000000,2022-12-01 01:48:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-22 05:48:41.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12b0147f669777d6a8b7a00cc7aa52321a8ce55a', 'message': 'tripleo_container_manage: Add retry mechanism\n\nThis change introduces the native retry mechanism to the plugin so that\nretry logic can be implemented without adding bash script in execution\ncommands.\n\nChange-Id: I4697b52d970768c46997221a93f6d8da08d93821\n'}]",5,858854,12b0147f669777d6a8b7a00cc7aa52321a8ce55a,18,6,1,9816,,,0,"tripleo_container_manage: Add retry mechanism

This change introduces the native retry mechanism to the plugin so that
retry logic can be implemented without adding bash script in execution
commands.

Change-Id: I4697b52d970768c46997221a93f6d8da08d93821
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/858854/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_container_manage.py'],1,12b0147f669777d6a8b7a00cc7aa52321a8ce55a,bootstrap-ansible," retries = config.pop('retries', 0) retry_sleep = config.pop('retry_sleep', 30) while True: if action == 'exec': success = self.exec_container(name, config) else: success = self.manage_container(name, config) if success or retries <= 0: break else: self.module.warn(f'Remaining retries for {name}: {retries}') retries -= 1 time.sleep(retry_sleep) "," if action == 'exec': success = self.exec_container(name, config) else: success = self.manage_container(name, config)",16,4
openstack%2Fsushy~stable%2Fvictoria~I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15,openstack/sushy,stable/victoria,I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15,Capture requests errors,ABANDONED,2022-09-02 22:12:16.000000000,2022-12-01 00:58:32.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-02 22:12:16.000000000', 'files': ['releasenotes/notes/catch-general-requests-exceptions-b5fd706597708fb6.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97', 'message': 'Capture requests errors\n\nSituations can occur where rare exceptions can originate\nfrom within python requests, which are not captured or handled\nin Sushy.\n\nExample: Encoding errors should trigger some sort of recovery,\nbut cached session clients cannot recover, and power synchronization\nfor users, such as Ironic, break on the cached session when they\nattempt to access them for the same task, again.\n\nConflicts:\n\tsushy/tests/unit/test_connector.py\n\nChange-Id: I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15\n(cherry picked from commit b855365ef0aa77924ec7a39952bc3ebdd1922f97)\n(cherry picked from commit 1ae8e49d4f63efb13ae75aff5a7d0969de92f02f)\n(cherry picked from commit a91e0860eff1d17437fe18b1db89ec49fafa2c27)\n'}]",1,855702,9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97,6,2,1,10342,,,0,"Capture requests errors

Situations can occur where rare exceptions can originate
from within python requests, which are not captured or handled
in Sushy.

Example: Encoding errors should trigger some sort of recovery,
but cached session clients cannot recover, and power synchronization
for users, such as Ironic, break on the cached session when they
attempt to access them for the same task, again.

Conflicts:
	sushy/tests/unit/test_connector.py

Change-Id: I0f79083d41b0b7ccf7e4dbfc81fd1d42c2e5eb15
(cherry picked from commit b855365ef0aa77924ec7a39952bc3ebdd1922f97)
(cherry picked from commit 1ae8e49d4f63efb13ae75aff5a7d0969de92f02f)
(cherry picked from commit a91e0860eff1d17437fe18b1db89ec49fafa2c27)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/02/855702/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/catch-general-requests-exceptions-b5fd706597708fb6.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,9aabf95ac83b3b5c7dce6e1e3409960f5fed3b97,," @mock.patch.object(connector.LOG, 'warning', autospec=True) def test_access_error_basic_auth(self, mock_log): self.conn._auth.can_refresh_session.return_value = False self.conn._session.auth = ('foo', 'bar') self.request.return_value.status_code = http_client.FORBIDDEN mock_response = mock.Mock() mock_response.json.side_effect = ValueError('no json') mock_response.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://redfish/v1/SessionService') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) self.conn._auth.authenticate.assert_not_called() mock_log.assert_called_once_with( ""We have encountered an AccessError when using 'basic' "" ""authentication. %(err)s"", {'err': 'HTTP GET http://redfish/v1/SessionService ' 'returned code HTTPStatus.FORBIDDEN. unknown error ' 'Extended information: none'} ) def test__op_raises_connection_error(self): exception_list = [ requests.exceptions.ChunkedEncodingError, requests.exceptions.ContentDecodingError, requests.exceptions.ReadTimeout, requests.exceptions.ConnectTimeout, requests.exceptions.SSLError, requests.exceptions.ConnectionError, requests.exceptions.RequestException, ] for exc in exception_list: self.request.side_effect = exc self.assertRaises(exceptions.ConnectionError, self.conn._op, 'POST', 'http://foo.bar', blocking=True)",,59,1
openstack%2Fproject-config~master~I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9,openstack/project-config,master,I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9,Add feature branch notifications to openstack-sdks,MERGED,2021-07-02 19:32:41.000000000,2022-12-01 00:01:34.000000000,2022-11-30 20:35:49.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-02 19:32:41.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/99c30609569d1a3d1b0131445475fb93c65a7115', 'message': 'Add feature branch notifications to openstack-sdks\n\nThe openstacksdk project added a ""feature/r1"" branch;\nnotify the channel if there\'s activity on this branch.\n\nChange-Id: I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9\n'}]",1,799323,99c30609569d1a3d1b0131445475fb93c65a7115,9,7,1,16643,,,0,"Add feature branch notifications to openstack-sdks

The openstacksdk project added a ""feature/r1"" branch;
notify the channel if there's activity on this branch.

Change-Id: I3f603095c85c568d4ac7c84c1c9c3527a73fd5a9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/799323/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,99c30609569d1a3d1b0131445475fb93c65a7115,openstacksdk, - ^feature.*,,1,0
openstack%2Fproject-config~master~Id006c9e05073675a67274e5b00b89479bf124e32,openstack/project-config,master,Id006c9e05073675a67274e5b00b89479bf124e32,Telemetry: Switch back to launchpad from storyboard,MERGED,2021-08-21 19:16:38.000000000,2022-11-30 23:55:42.000000000,2022-11-30 20:35:46.000000000,"[{'_account_id': 4264}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-21 19:16:38.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4419ecf7d41d372f91a21f330cd0498814ff6fb0', 'message': 'Telemetry: Switch back to launchpad from storyboard\n\nTelemetry project decided to use launchpad again to manage bugs and\nno longer relies on storyboard. This removes use-storyboard tag from\nTelemetry projects so that automation is executed against launchpad\nbugs correctly.\n\nChange-Id: Id006c9e05073675a67274e5b00b89479bf124e32\n'}]",3,805492,4419ecf7d41d372f91a21f330cd0498814ff6fb0,10,5,1,9816,,,0,"Telemetry: Switch back to launchpad from storyboard

Telemetry project decided to use launchpad again to manage bugs and
no longer relies on storyboard. This removes use-storyboard tag from
Telemetry projects so that automation is executed against launchpad
bugs correctly.

Change-Id: Id006c9e05073675a67274e5b00b89479bf124e32
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/805492/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,4419ecf7d41d372f91a21f330cd0498814ff6fb0,telemetry-lp,, use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true use-storyboard: true,0,8
openstack%2Fproject-config~master~Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434,openstack/project-config,master,Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434,Add manila-infinidat charm to OpenStack charms,MERGED,2022-11-08 02:45:16.000000000,2022-11-30 23:16:17.000000000,2022-11-30 20:16:39.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4621266d25770888ace0691da6793f8d97ef3910', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 2, 'created': '2022-11-08 02:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/555a9587b49774116502fffed68847770071c982', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 3, 'created': '2022-11-08 22:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7694a7162ea17befeb618e56478e0c9ea2a25d3f', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 4, 'created': '2022-11-09 23:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c616649d69e5d85b17112a4c0d2a93accb9b5c15', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 5, 'created': '2022-11-10 10:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e38e448b5e9c4d4ad5ee478a94b7cfb058512b5a', 'message': 'Add manila-infinidat backend charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 6, 'created': '2022-11-10 10:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae2205f185eba278dda9c874749af138ec344741', 'message': 'Add manila-infinidat charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}, {'number': 7, 'created': '2022-11-10 10:09:25.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/36ec25d96c263536ed105fc409669d009c7c8a07', 'message': 'Add manila-infinidat charm to OpenStack charms\n\nAdd new charm that provides the Infinidat backend support\nto the OpenStack Manila service.\n\nNeeded-by: I932b805e0f7d44040bad9c28ca4799f243f651af\nChange-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\n'}]",3,863957,36ec25d96c263536ed105fc409669d009c7c8a07,21,5,7,30110,,,0,"Add manila-infinidat charm to OpenStack charms

Add new charm that provides the Infinidat backend support
to the OpenStack Manila service.

Needed-by: I932b805e0f7d44040bad9c28ca4799f243f651af
Change-Id: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/863957/6 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,4621266d25770888ace0691da6793f8d97ef3910,charm-manila-infinidat, - openstack/charm-manila-infinidat,,6,0
openstack%2Ftripleo-quickstart~master~I8128ddd75d7ffac4982cd61386f51f8e73f6fa61,openstack/tripleo-quickstart,master,I8128ddd75d7ffac4982cd61386f51f8e73f6fa61,Downgrade container-selinux,NEW,2022-11-30 16:16:06.000000000,2022-11-30 23:05:56.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-30 16:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/26b88e44745ceb558ea75ad2947074b4f7accfe7', 'message': 'Downgrade selinux-policy\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 2, 'created': '2022-11-30 16:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a0100bb8375d16e2b69cf001f3f1b8976d52d2b1', 'message': 'Downgrade selinux-policy\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 3, 'created': '2022-11-30 16:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6139dd196c9bd2ffbd3ac53a781f70aa8fc4445c', 'message': 'Downgrade selinux-policy to 34.1.47-1.el9\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 4, 'created': '2022-11-30 18:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cb5cc0a78221f761c502ca24b126fb77184498c5', 'message': 'Downgrade container-selinux\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 5, 'created': '2022-11-30 18:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ffd2cc216848b5efe7c3058ae50ddd6428819976', 'message': 'Downgrade container-selinux\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 6, 'created': '2022-11-30 18:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d047050fa24403e0334b61923e79d8cdddab3715', 'message': 'Downgrade container-selinux\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}, {'number': 7, 'created': '2022-11-30 19:30:55.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/zed.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-zed.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5dbde235c4b16ddc4039219565f9558111a490cd', 'message': 'Downgrade container-selinux\n\nRelated-Bug: #1998348\nChange-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61\n'}]",3,866180,5dbde235c4b16ddc4039219565f9558111a490cd,13,3,7,32458,,,0,"Downgrade container-selinux

Related-Bug: #1998348
Change-Id: I8128ddd75d7ffac4982cd61386f51f8e73f6fa61
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/80/866180/5 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/zed.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml']",3,26b88e44745ceb558ea75ad2947074b4f7accfe7,I8128ddd75d7ffac4982cd61386f51f8e73f6fa61," # Downgrade container-selinux due to # https://bugs.launchpad.net/tripleo/+bug/1998348 if [ -n ""$(rpm -qa container-selinux)"" ];then sudo dnf -y downgrade selinux-policy; fi",,9,0
openstack%2Fproject-config~master~I51107d5483bf2326941bac720b495cdf3cfb0e8d,openstack/project-config,master,I51107d5483bf2326941bac720b495cdf3cfb0e8d,Add the infinidat-tools charm to Openstack charms,MERGED,2022-11-08 01:52:26.000000000,2022-11-30 22:58:35.000000000,2022-11-30 20:16:37.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 01:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bb360ebbf7921a6f36c4d86d17910b68b1cf7dc5', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 2, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abbc536990bfebbe8fa421fea75b1e4558650092', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 3, 'created': '2022-11-08 02:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/24386aefa03b346a582f2776968b2782f3bffcfa', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\n'}, {'number': 4, 'created': '2022-11-08 21:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f35113bb2b10918ee73d257f49bd67fc8fe0fac', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}, {'number': 5, 'created': '2022-11-09 23:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fcda598acfdfd98b130867d6c07e08be6197f530', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}, {'number': 6, 'created': '2022-11-10 10:06:44.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/963110054d923a334819f30b87c0f2eb69f236e2', 'message': 'Add the infinidat-tools charm to Openstack charms\n\nChange-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d\nNeeded-By: I081928fd0e789cca793ce1575127ceec46c906be\n'}]",5,863955,963110054d923a334819f30b87c0f2eb69f236e2,21,5,6,30110,,,0,"Add the infinidat-tools charm to Openstack charms

Change-Id: I51107d5483bf2326941bac720b495cdf3cfb0e8d
Needed-By: I081928fd0e789cca793ce1575127ceec46c906be
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/863955/3 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,bb360ebbf7921a6f36c4d86d17910b68b1cf7dc5,charm-infinidat-tools, - openstack/charm-infinidat-tools,,6,0
openstack%2Fkolla~master~Ib3a37eebb29d975fc51a117cecdff74baafd8941,openstack/kolla,master,Ib3a37eebb29d975fc51a117cecdff74baafd8941,Fix plugin builds with sources using type=git,MERGED,2022-11-24 09:30:48.000000000,2022-11-30 22:30:31.000000000,2022-11-30 22:28:54.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-24 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4972c2d91dd93138a79712c3727ec16aa452c205', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 2, 'created': '2022-11-30 14:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0828e0dc0cd1728c430094b8f76e92e80ba80057', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 3, 'created': '2022-11-30 17:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/19e0ae50194e83b42bc222fb1867ee2f18350d0a', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}, {'number': 4, 'created': '2022-11-30 18:00:12.000000000', 'files': ['kolla/image/tasks.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6be0068f376b0ae67bc81b50a97e042a88317d28', 'message': 'Fix plugin builds with sources using type=git\n\nA recent change to git [1] introduced a new behaviour to work around a\nCVE [2] that disallows any git operations in directories not owned by\nthe current user.\n\nA fix was introduced for general checkouts, but it was not applied\nto the plugins archive, resulting in PBR still not working as intended.\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.\n\nCloses-Bug: #1969096\nRelated-Bug: #1968877\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>\n\nSigned-off-by: Jakub Neumann <jneumann@cloudferro.com>\nChange-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941\n'}]",3,865516,6be0068f376b0ae67bc81b50a97e042a88317d28,25,4,4,35536,,,0,"Fix plugin builds with sources using type=git

A recent change to git [1] introduced a new behaviour to work around a
CVE [2] that disallows any git operations in directories not owned by
the current user.

A fix was introduced for general checkouts, but it was not applied
to the plugins archive, resulting in PBR still not working as intended.

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-24765.

Closes-Bug: #1969096
Related-Bug: #1968877

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz+kolla@linaro.org>

Signed-off-by: Jakub Neumann <jneumann@cloudferro.com>
Change-Id: Ib3a37eebb29d975fc51a117cecdff74baafd8941
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/865516/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/tasks.py'],1,4972c2d91dd93138a79712c3727ec16aa452c205,bug/1969096," # NOTE(jneumann): Change ownership of files to root:root. This # avoids an issue introduced by the fix for git CVE-2022-24765, # which breaks PBR when the source checkout is not owned by the # user installing it. LP#1969096 def reset_userinfo(tarinfo): tarinfo.uid = tarinfo.gid = 0 tarinfo.uname = tarinfo.gname = ""root"" return tarinfo with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname, filter=reset_userinfo)"," with tarfile.open(arc_path, 'w') as tar: tar.add(items_path, arcname=arcname)",11,1
openstack%2Fkolla~master~I1d624bd2f87be93a386147c5d7403a5524e41633,openstack/kolla,master,I1d624bd2f87be93a386147c5d7403a5524e41633,base: Rocky Linux 9.1 was released,MERGED,2022-11-30 14:25:23.000000000,2022-11-30 22:29:48.000000000,2022-11-30 22:28:51.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-11-30 14:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7491af6798c410c422f971b689ba521c16aa9c9', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 2, 'created': '2022-11-30 17:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/66c2eac74d23eb2e45306ccd7dbb3a806fa45d46', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 3, 'created': '2022-11-30 17:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/53fb66093c392d81f9d6b3b358a342567e342561', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nTelegraf also needs to be marked unbuildable because of [1].\n\n[1]: https://github.com/influxdata/telegraf/issues/12303\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}, {'number': 4, 'created': '2022-11-30 17:59:53.000000000', 'files': ['kolla/image/unbuildable.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6012bde6ca0e50927699b47fbdb737845ee49ed', 'message': 'base: Rocky Linux 9.1 was released\n\nAnd they use release version in /etc/os-release so we need to adapt.\n\nTelegraf also needs to be marked unbuildable because of [1].\n\n[1]: https://github.com/influxdata/telegraf/issues/12303\n\nChange-Id: I1d624bd2f87be93a386147c5d7403a5524e41633\n'}]",2,866171,c6012bde6ca0e50927699b47fbdb737845ee49ed,20,4,4,24072,,,0,"base: Rocky Linux 9.1 was released

And they use release version in /etc/os-release so we need to adapt.

Telegraf also needs to be marked unbuildable because of [1].

[1]: https://github.com/influxdata/telegraf/issues/12303

Change-Id: I1d624bd2f87be93a386147c5d7403a5524e41633
",git fetch https://review.opendev.org/openstack/kolla refs/changes/71/866171/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,e7491af6798c410c422f971b689ba521c16aa9c9,," 'rocky': 'Rocky Linux 9.1 (Blue Onyx)',"," 'rocky': 'Rocky Linux 9.0 (Blue Onyx)',",1,1
openstack%2Fmanila~stable%2Fyoga~I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a,openstack/manila,stable/yoga,I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a,Fix Create From Snapshot with Server Limits,MERGED,2022-11-02 11:21:41.000000000,2022-11-30 22:23:41.000000000,2022-11-30 22:22:14.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-11-02 11:21:41.000000000', 'files': ['releasenotes/notes/fix-creating-from-snapshot-server-limit-7b575c7cbf081efc.yaml', 'manila/share/manager.py', 'doc/source/admin/shared-file-systems-share-server-management.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/ba1fa6522fecfb84ea4a3ea334aa052a4a22df26', 'message': 'Fix Create From Snapshot with Server Limits\n\nShare Server limits must be ignored in case the new share is\nfrom a snapshot and same host as the parent, since they must\nbe in the same server.\n\nCloses-bug: #1918845\nChange-Id: I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a\n(cherry picked from commit 3bd8fe3cfe5f9e9bffb18f0a6ae669bc83c1c665)\n'}]",3,863272,ba1fa6522fecfb84ea4a3ea334aa052a4a22df26,12,5,1,35458,,,0,"Fix Create From Snapshot with Server Limits

Share Server limits must be ignored in case the new share is
from a snapshot and same host as the parent, since they must
be in the same server.

Closes-bug: #1918845
Change-Id: I1c611f4a7f3590b571f75ceca17c2fc3d8f3ad7a
(cherry picked from commit 3bd8fe3cfe5f9e9bffb18f0a6ae669bc83c1c665)
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/863272/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-creating-from-snapshot-server-limit-7b575c7cbf081efc.yaml', 'manila/share/manager.py', 'doc/source/admin/shared-file-systems-share-server-management.rst']",3,ba1fa6522fecfb84ea4a3ea334aa052a4a22df26,bug/1918845," .. note:: The limits can be ignored when placing a new share created from parent snapshot in the same host as the parent. For this scenario, the share server must be the same, so it does not take the limit in account, reusing the share server anyway.",,17,2
openstack%2Fmanila~stable%2Fyoga~Ia6bbde9aa1702be83f737ab6876a522fa30381c7,openstack/manila,stable/yoga,Ia6bbde9aa1702be83f737ab6876a522fa30381c7,[Infinidat] add support for TLS/SSL communication,MERGED,2022-11-02 12:05:42.000000000,2022-11-30 22:20:41.000000000,2022-11-30 22:19:05.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-11-02 12:05:42.000000000', 'files': ['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c', 'message': ""[Infinidat] add support for TLS/SSL communication\n\nInfinidat driver doesn't support TLS/SSL communication\nand uses plain HTTP for storage management operations.\n\nThis patch adds support for SSL/TLS communication for\nstorage management operations. Use `infinidat_use_ssl`\nunder backend section to enable or disable TLS/SSL\ncommunication between the Manila share service and the\nstorage backend. And `infinidat_suppress_ssl_warnings`\nunder backend section to suppress requests library SSL\ncertificate warnings.\n\nCloses-Bug: #1986653\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\nChange-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7\n(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)\n""}]",2,863282,fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c,12,3,1,35075,,,0,"[Infinidat] add support for TLS/SSL communication

Infinidat driver doesn't support TLS/SSL communication
and uses plain HTTP for storage management operations.

This patch adds support for SSL/TLS communication for
storage management operations. Use `infinidat_use_ssl`
under backend section to enable or disable TLS/SSL
communication between the Manila share service and the
storage backend. And `infinidat_suppress_ssl_warnings`
under backend section to suppress requests library SSL
certificate warnings.

Closes-Bug: #1986653
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
Change-Id: Ia6bbde9aa1702be83f737ab6876a522fa30381c7
(cherry picked from commit 52dac7619469240987171640f6674bef56261fda)
",git fetch https://review.opendev.org/openstack/manila refs/changes/82/863282/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/infinidat/test_infinidat.py', 'releasenotes/notes/bug-1986653-infinidat-add-ssl-options-ee91f152bbd28080.yaml', 'manila/share/drivers/infinidat/infinibox.py']",3,fc566dd97b8fad2f8f54e2f23dfbeab95f30f14c,bug/1986653,"# Copyright 2022 Infinidat Ltd.import requests try: import infinisdk except ImportError: 'Infinibox storage system.'), cfg.BoolOpt('infinidat_use_ssl', help='Use SSL to connect to the INFINIDAT Infinibox storage ' 'system.', default=False), cfg.BoolOpt('infinidat_suppress_ssl_warnings', help='Suppress requests library SSL certificate warnings.', default=False), ] def _setup_and_get_system_object(self, management_address, auth, use_ssl): system = infinisdk.InfiniBox(management_address, auth=auth, use_ssl=use_ssl) if capacity is None: msg = _(""Missing 'capacity' python module, ensure the library"" "" is installed and available."") raise exception.ManilaException(message=msg) if self.configuration.safe_get('infinidat_suppress_ssl_warnings'): LOG.warning('Suppressing requests library SSL Warnings') rpu = requests.packages.urllib3 # pylint: disable=no-member rpu.disable_warnings(rpu.exceptions.InsecureRequestWarning) rpu.disable_warnings(rpu.exceptions.InsecurePlatformWarning) use_ssl = self.configuration.safe_get('infinidat_use_ssl') self._system = self._setup_and_get_system_object(management_address, auth, use_ssl)","# Copyright 2017 Infinidat Ltd. import infinisdk 'Infinibox storage system.'), ] def _setup_and_get_system_object(self, management_address, auth): system = infinisdk.InfiniBox(management_address, auth=auth) self._system = ( self._setup_and_get_system_object(management_address, auth))",67,9
openstack%2Ftripleo-ansible~master~I38deaff740b2fcdcd7bc74ce81a2164121de11af,openstack/tripleo-ansible,master,I38deaff740b2fcdcd7bc74ce81a2164121de11af,Modify how tripleo_nftables gets its configurations,MERGED,2022-11-07 12:35:18.000000000,2022-11-30 22:07:31.000000000,2022-11-30 22:06:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-07 12:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd5d54dc9186d2aa5c516241eb91ea8349444a6a', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 2, 'created': '2022-11-07 13:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c672a8fabb4fe5e5f72afe3e52521f99cfa5d962', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 3, 'created': '2022-11-07 13:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2062d24a1434ff8095b1487ce8972b1494f10291', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 4, 'created': '2022-11-07 13:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d42492a1d23af26f95202aec01396a3160806b5', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 5, 'created': '2022-11-09 10:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/525982116feb144e6acf732a5d3aa8c60fadfddf', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 6, 'created': '2022-11-10 14:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ee7100d58a5140a42caee70107d455fe4f2222c', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy, and\nthen configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content, as\nYAML\n- tripleo_nftables_from_files: gather snippets, merge the contents, sorts\nthe rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the current\nparameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 7, 'created': '2022-11-10 15:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9694d8510f923da948c5fbef7197ab964e922afc', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 8, 'created': '2022-11-11 11:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43ab72148cf9ed2ee974f34db5c43fd36ebe2fbe', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 9, 'created': '2022-11-11 13:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/638b47009cb4485a6951bf41812c8f6ee3f6a9fa', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 10, 'created': '2022-11-14 07:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/993e044234aa72a2acfaa5a64208890fe6887f00', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 11, 'created': '2022-11-14 12:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6026f5fddedcec3ffee277ffed1b2f65c6c9e820', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 12, 'created': '2022-11-16 10:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2abcc480e8c77b0ed30568a8c560eb852fdd35f7', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 13, 'created': '2022-11-21 09:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/087c6625270e267860448c3255d91cd2113a38f9', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}, {'number': 14, 'created': '2022-11-24 10:32:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_nftables/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_snippet.py', 'tripleo_ansible/roles/tripleo_nftables/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nftables/files/00-base-rules.yaml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/prepare.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_from_files.py', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/update_rules/molecule.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6dd406621c9fe4dac5db78e84028a3f93b24bcf', 'message': 'Modify how tripleo_nftables gets its configurations\n\nFrom now on, tripleo_nftables will use a directory containing rules\nsnippets instead of a parameter.\n\nThis will allow to push snippets from other roles during the deploy,\nand then configure the firewall.\n\nWe therefore add two new modules:\n- tripleo_nftables_snippet: creates files with the relevant content,\nas YAML\n- tripleo_nftables_from_files: gather snippets, merge the contents,\nsorts the rules and pass the whole list to its output.\n\nThe tripleo_firewall role is now creating a snippet based on the\ncurrent parameter, so that we\'re still 100% compatible with\ntripleo-heat-templates way of pushing things in.\n\nThis new usage is especially interesting for the standalone\nroles/playbooks deploy, since each service role will just need to:\n- ensure the destination directory exists\n- push its rule snippet in there, in the tripleo_nftables format, in\n  YAML\n- call the ""configure.yaml"" from tripleo_nftables in order to get the\n  rules added/processed (and, eventually, the playbook will call the\n  run.yaml to apply things)\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nChange-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af\n'}]",27,863872,f6dd406621c9fe4dac5db78e84028a3f93b24bcf,65,7,14,28223,,,0,"Modify how tripleo_nftables gets its configurations

From now on, tripleo_nftables will use a directory containing rules
snippets instead of a parameter.

This will allow to push snippets from other roles during the deploy,
and then configure the firewall.

We therefore add two new modules:
- tripleo_nftables_snippet: creates files with the relevant content,
as YAML
- tripleo_nftables_from_files: gather snippets, merge the contents,
sorts the rules and pass the whole list to its output.

The tripleo_firewall role is now creating a snippet based on the
current parameter, so that we're still 100% compatible with
tripleo-heat-templates way of pushing things in.

This new usage is especially interesting for the standalone
roles/playbooks deploy, since each service role will just need to:
- ensure the destination directory exists
- push its rule snippet in there, in the tripleo_nftables format, in
  YAML
- call the ""configure.yaml"" from tripleo_nftables in order to get the
  rules added/processed (and, eventually, the playbook will call the
  run.yaml to apply things)

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392
Change-Id: I38deaff740b2fcdcd7bc74ce81a2164121de11af
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/863872/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nftables/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo_firewall/tasks/main.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/converge.yml', 'tripleo_ansible/roles/tripleo_firewall/defaults/main.yml', 'tripleo_ansible/roles/tripleo_nftables/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_nftables/files/00-base-rules.yaml', 'tripleo_ansible/roles/tripleo_nftables/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_nftables_from_files.py', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/action/converge.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/destination/prepare.yml', 'tripleo_ansible/roles/tripleo_nftables/molecule/source/prepare.yml']",13,cd5d54dc9186d2aa5c516241eb91ea8349444a6a,standalone/firewall," - name: Create snippet directory ansible.builtin.file: path: /tmp/tripleo-firewall state: directory - name: Push snippet for source ansible.builtin.copy: dest: /tmp/tripleo-firewall/source.yml content: | - rule_name: '000 related established' rule: proto: all state: - established - related - rule_name: '001 local' rule: proto: all interface: lo state: [] - rule_name: '010 testing source' rule: proto: tcp source: ""fd00:fd00:fd00:2000::/64"" dport: 1211",,285,132
openstack%2Fproject-config~master~Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf,openstack/project-config,master,Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf,Add the cinder-infinidat charm to Openstack charms,MERGED,2022-11-08 01:38:43.000000000,2022-11-30 22:01:18.000000000,2022-11-30 20:15:26.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 01:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfe347a4f4459415ec4adc1cd418e0f6d960f51c', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 2, 'created': '2022-11-08 01:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/047f82a5fc69762872e417764f8a19c8603bb8ca', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 3, 'created': '2022-11-08 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f6112eb9482efe75efa7a05dd62dc07adcb638ce', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 4, 'created': '2022-11-08 20:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e546ec9cddd23516744f1800bd4ed1649b66d3e', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nRequired-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}, {'number': 5, 'created': '2022-11-08 21:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/11337e92362a8696c2e1e8841427a5e0029d8b4b', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 6, 'created': '2022-11-08 21:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cff7bffeb9415e262a38ed12f23831405d3a89ad', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 7, 'created': '2022-11-09 23:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/802cc4557b13fbb68be3596567263f3752a8529e', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 8, 'created': '2022-11-09 23:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/381a7ba674a235bb076c137344441c6b820c5196', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}, {'number': 9, 'created': '2022-11-10 10:05:10.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98ec3136822292a8771b7b7db818ae30fbdd280c', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nNeeded-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\nChange-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\n'}]",3,863954,98ec3136822292a8771b7b7db818ae30fbdd280c,27,5,9,30110,,,0,"Add the cinder-infinidat charm to Openstack charms

Needed-By: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630
Change-Id: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/863954/5 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,cfe347a4f4459415ec4adc1cd418e0f6d960f51c,charm-cinder-infinidat,- project: openstack/charm-cinder-infinidat description: Juju Charm - Cinder Infinidat backend acl-config: /home/gerrit2/acls/openstack/charm.config options: - delay-release,,5,0
openstack%2Fproject-config~master~I718d7d0f297a05008255cf02cb4b9d1d41d7377f,openstack/project-config,master,I718d7d0f297a05008255cf02cb4b9d1d41d7377f,Add repository for Skyline installation by OpenStack-Ansible,MERGED,2022-11-01 17:12:40.000000000,2022-11-30 21:06:21.000000000,2022-11-30 20:12:59.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-11-01 17:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/44785fae02bb09e90c364c10d008edf0114ef20e', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}, {'number': 2, 'created': '2022-11-01 17:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/db2e9bf5ea352798d6e2b62d46056b3548db75ca', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nNeeded-By: https://review.opendev.org/c/openstack/governance/+/863166\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}, {'number': 3, 'created': '2022-11-07 14:23:48.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b0dbdac3f10bcf55aee6ac275869957695f1cd7', 'message': 'Add repository for Skyline installation by OpenStack-Ansible\n\nNeeded-By: https://review.opendev.org/c/openstack/governance/+/863166\nChange-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f\n'}]",2,863165,1b0dbdac3f10bcf55aee6ac275869957695f1cd7,17,6,3,28619,,,0,"Add repository for Skyline installation by OpenStack-Ansible

Needed-By: https://review.opendev.org/c/openstack/governance/+/863166
Change-Id: I718d7d0f297a05008255cf02cb4b9d1d41d7377f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/65/863165/3 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,44785fae02bb09e90c364c10d008edf0114ef20e,osa/skyline,- project: openstack/openstack-ansible-os_skyline description: Role os_skyline for OpenStack-Ansible groups: - openstack-ansible docimpact-group: openstack-ansible acl-config: /home/gerrit2/acls/openstack/openstack-ansible-roles.config,,6,0
openstack%2Fgovernance~master~I33b90b5dc9e23f146f1d0fc256317a72bd7e0630,openstack/governance,master,I33b90b5dc9e23f146f1d0fc256317a72bd7e0630,Add the cinder-infinidat charm to Openstack charms,MERGED,2022-11-08 02:51:55.000000000,2022-11-30 20:55:36.000000000,2022-11-30 20:53:47.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 02:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/74d96865421adf14126b9e40c7a7d1769f69df8d', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Cinder, acting as\na subordinate charm.\n\nDepends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nChange-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}, {'number': 2, 'created': '2022-11-08 22:57:49.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/6ac8f7c85ef212321a9f1df7f5fd7a5ca58cee7b', 'message': 'Add the cinder-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Cinder, acting as\na subordinate charm.\n\nDepends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf\nChange-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630\n'}]",1,863958,6ac8f7c85ef212321a9f1df7f5fd7a5ca58cee7b,15,4,2,30110,,,0,"Add the cinder-infinidat charm to Openstack charms

This charm implements Infinidat backend for Cinder, acting as
a subordinate charm.

Depends-On: Ie4c09e4b93baa3d395877b4a3f28829e9a8716cf
Change-Id: I33b90b5dc9e23f146f1d0fc256317a72bd7e0630
",git fetch https://review.opendev.org/openstack/governance refs/changes/58/863958/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,74d96865421adf14126b9e40c7a7d1769f69df8d,project-update, charm-cinder-infinidat: release-management: external repos: - openstack/charm-cinder-infinidat,,4,0
openstack%2Fgovernance~master~I5687eb246b518f9881d0df0a466936359d515e14,openstack/governance,master,I5687eb246b518f9881d0df0a466936359d515e14,Add Skyline repository for OpenStack-Ansible,MERGED,2022-11-01 17:15:15.000000000,2022-11-30 20:54:49.000000000,2022-11-30 20:53:44.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11292}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-01 17:15:15.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/bd074b5916dac6903b03ffcb413e02359a3036bc', 'message': 'Add Skyline repository for OpenStack-Ansible\n\nDepends-On: https://review.opendev.org/c/openstack/project-config/+/863165\nChange-Id: I5687eb246b518f9881d0df0a466936359d515e14\n'}]",2,863166,bd074b5916dac6903b03ffcb413e02359a3036bc,13,5,1,28619,,,0,"Add Skyline repository for OpenStack-Ansible

Depends-On: https://review.opendev.org/c/openstack/project-config/+/863165
Change-Id: I5687eb246b518f9881d0df0a466936359d515e14
",git fetch https://review.opendev.org/openstack/governance refs/changes/66/863166/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,bd074b5916dac6903b03ffcb413e02359a3036bc,project-update, - openstack/openstack-ansible-os_skyline,,1,0
openstack%2Fgovernance~master~I932b805e0f7d44040bad9c28ca4799f243f651af,openstack/governance,master,I932b805e0f7d44040bad9c28ca4799f243f651af,Add the manila-infinidat charm to Openstack charms,MERGED,2022-11-08 23:04:33.000000000,2022-11-30 20:53:46.000000000,2022-11-30 20:53:46.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 23:04:33.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7b80239a8591d912dbd12d24df40773731440f3e', 'message': 'Add the manila-infinidat charm to Openstack charms\n\nThis charm implements Infinidat backend for Manila, acting as\na subordinate charm.\n\nDepends-On: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434\nChange-Id: I932b805e0f7d44040bad9c28ca4799f243f651af\n'}]",1,864068,7b80239a8591d912dbd12d24df40773731440f3e,12,4,1,30110,,,0,"Add the manila-infinidat charm to Openstack charms

This charm implements Infinidat backend for Manila, acting as
a subordinate charm.

Depends-On: Iff96fbd4d01fd8eb2bbcfb7080244d7a40811434
Change-Id: I932b805e0f7d44040bad9c28ca4799f243f651af
",git fetch https://review.opendev.org/openstack/governance refs/changes/68/864068/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,7b80239a8591d912dbd12d24df40773731440f3e,project-update, charm-manila-infinidat: release-management: external repos: - openstack/charm-manila-infinidat,,4,0
openstack%2Fproject-config~master~I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86,openstack/project-config,master,I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86,Deprecate OpenStack-Ansible rsyslog roles,MERGED,2022-10-31 15:35:59.000000000,2022-11-30 20:49:18.000000000,2022-11-30 20:01:16.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-31 15:35:59.000000000', 'files': ['zuul.d/projects.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884', 'message': 'Deprecate OpenStack-Ansible rsyslog roles\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/863076\nChange-Id: I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86\n'}]",0,863079,c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884,8,3,1,28619,,,0,"Deprecate OpenStack-Ansible rsyslog roles

Depends-On: https://review.opendev.org/c/openstack/governance/+/863076
Change-Id: I8651bdc5d03eaea5923e5c8c2d2d4e2f4ae37d86
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/863079/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml']",2,c338ac060bf3e30fe5bcc424e0e5cdb82d0b0884,osa/depreacate_rsyslog, - noop-jobs - noop-jobs, release: jobs: - announce-release,4,5
openstack%2Fmanila~stable%2Fxena~I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556,openstack/manila,stable/xena,I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556,Fix manila plugin.sh set backend_availability_zone,MERGED,2022-10-26 21:40:53.000000000,2022-11-30 20:41:54.000000000,2022-11-30 20:40:44.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-26 21:40:53.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/2f335893f6019929b0f0cb4347548a7645277f7a', 'message': 'Fix manila plugin.sh set backend_availability_zone\n\nManila plugin is setting the availability zone of the\nbackends without checking if it is set. As result, a CI\nconfiguring that field will not be respected.\n\nFixed by only setting the field in case its value was\nnot set before. Otherwise, keep as it is.\n\nChange-Id: I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556\n(cherry picked from commit 79af79f07b66b061ca1c47e6c5055eeaff5bd454)\n(cherry picked from commit 96fd391a06191c8037311f91f378e02fcb4c2f63)\n'}]",3,862721,2f335893f6019929b0f0cb4347548a7645277f7a,12,3,1,16643,,,0,"Fix manila plugin.sh set backend_availability_zone

Manila plugin is setting the availability zone of the
backends without checking if it is set. As result, a CI
configuring that field will not be respected.

Fixed by only setting the field in case its value was
not set before. Otherwise, keep as it is.

Change-Id: I546e5f057f3b748417dcbcfe9c3f3ae4a5d51556
(cherry picked from commit 79af79f07b66b061ca1c47e6c5055eeaff5bd454)
(cherry picked from commit 96fd391a06191c8037311f91f378e02fcb4c2f63)
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/862721/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2f335893f6019929b0f0cb4347548a7645277f7a,," for any enabled backends that do not use the Generic driver and have \ not been set previously. Availability zones for the Generic driver \ must coincide with those created for Nova and Cinder."" az=$(iniget $MANILA_CONF $BE backend_availability_zone) if [[ -z $az && $share_driver != $generic_driver ]]; then"," for any enabled backends that do not use the Generic driver. \ Availability zones for the Generic driver must coincide with those \ created for Nova and Cinder."" if [[ $share_driver != $generic_driver ]]; then",5,4
openstack%2Fmanila-tempest-plugin~master~I027460222b7d34bb7ad00408739ab00207be0386,openstack/manila-tempest-plugin,master,I027460222b7d34bb7ad00408739ab00207be0386,Fix incorrect url request for share group type extra specs,MERGED,2022-11-28 09:41:55.000000000,2022-11-30 20:40:46.000000000,2022-11-30 20:40:46.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-11-28 09:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/60ff74ace8bd8c22ab641ab43610cc720992dcfe', 'message': 'Fix incorrect url request for share group type extra specs\n\nThe url request should be change as below:\n\nfor single extra spec\n---------------------\n""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""\n\nfor all extra specs\n-------------------\n""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""\n\nRelated-Bug: #1998088\nChange-Id: I027460222b7d34bb7ad00408739ab00207be0386\n'}, {'number': 2, 'created': '2022-11-29 09:44:20.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1a22ce375bda5eb3874973068898723c1a7a40a6', 'message': 'Fix incorrect url request for share group type extra specs\n\nThe url request should be change as below:\n\nfor single extra spec\n---------------------\n""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""\n\nfor all extra specs\n-------------------\n""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""\n\nCloses-Bug: #1998088\nChange-Id: I027460222b7d34bb7ad00408739ab00207be0386\n'}]",5,865811,1a22ce375bda5eb3874973068898723c1a7a40a6,12,4,2,19262,,,0,"Fix incorrect url request for share group type extra specs

The url request should be change as below:

for single extra spec
---------------------
""group-types/%s/group_specs/%s"" => ""share-group-types/%s/group-specs/%s""

for all extra specs
-------------------
""share-group-types/%s/group_specs"" => ""share-group-types/%s/group-specs""

Closes-Bug: #1998088
Change-Id: I027460222b7d34bb7ad00408739ab00207be0386
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/11/865811/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/admin/test_share_group_types_negative.py', 'manila_tempest_tests/tests/api/admin/test_share_group_types.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",3,60ff74ace8bd8c22ab641ab43610cc720992dcfe,sgt-extra-specs," uri = ""share-group-types/%s/group-specs/%s"" % ( def get_share_group_type_specs(self, share_group_type_id, params=None, version=LATEST_MICROVERSION): uri = ""share-group-types/%s/group-specs"" % share_group_type_id"," uri = ""group-types/%s/group_specs/%s"" % ( def list_share_group_type_specs(self, share_group_type_id, params=None, version=LATEST_MICROVERSION): uri = ""share-group-types/%s/group_specs"" % share_group_type_id",65,4
openstack%2Fproject-config~master~If174ac3f30219c2dcad5e8dfa89e0c80021d6514,openstack/project-config,master,If174ac3f30219c2dcad5e8dfa89e0c80021d6514,And ansible-role-proxysql repo to zuul jobs,MERGED,2021-11-09 16:08:33.000000000,2022-11-30 20:35:44.000000000,2022-11-30 20:35:44.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 16:08:33.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53e3430274655ff3fdc3329667446ca3e98b2610', 'message': 'And ansible-role-proxysql repo to zuul jobs\n\nChange-Id: If174ac3f30219c2dcad5e8dfa89e0c80021d6514\n'}]",2,817272,53e3430274655ff3fdc3329667446ca3e98b2610,8,2,1,28619,,,0,"And ansible-role-proxysql repo to zuul jobs

Change-Id: If174ac3f30219c2dcad5e8dfa89e0c80021d6514
",git fetch https://review.opendev.org/openstack/project-config refs/changes/72/817272/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,53e3430274655ff3fdc3329667446ca3e98b2610,osa/proxysql, name: openstack/ansible-role-proxysql templates: - official-openstack-repo-jobs - project:,,5,0
openstack%2Fcharm-guide~master~Icaec458579ac29bb6e98c6ec1778de67542c7154,openstack/charm-guide,master,Icaec458579ac29bb6e98c6ec1778de67542c7154,Add notice regarding cinder-lvm upgrade,NEW,2022-08-31 19:36:42.000000000,2022-11-30 20:34:10.000000000,,"[{'_account_id': 8108}, {'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 29625}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-08-31 19:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/947da979bb991a8c09797c48542a41492d4b1409', 'message': 'Add notice regarding cinder-lvm upgrade\n\nIf a user have a cinder-lvm backend and is migrating from\nVictoria to Wallaby, some important actions need to be taken\nto avoid service disruption and data loss.\n\nRelated-bug: #1949074\nChange-Id: Icaec458579ac29bb6e98c6ec1778de67542c7154\n'}, {'number': 2, 'created': '2022-08-31 20:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/29b1ee6dae9699234a4090f5754b97259ae67f74', 'message': 'Add notice regarding cinder-lvm upgrade\n\nIf a user have a cinder-lvm backend and is migrating from\nVictoria to Wallaby, some important actions need to be taken\nto avoid service disruption and data loss.\n\nRelated-bug: #1949074\nChange-Id: Icaec458579ac29bb6e98c6ec1778de67542c7154\n'}, {'number': 3, 'created': '2022-10-11 13:11:28.000000000', 'files': ['doc/source/release-notes/2104.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ab8e7530c1176834300df19887a6f9f125e5f1de', 'message': 'Add notice regarding cinder-lvm upgrade\n\nIf a user have a cinder-lvm backend and is migrating from\nVictoria to Wallaby, some important actions need to be taken\nto avoid service disruption and data loss.\n\nRelated-bug: #1949074\nChange-Id: Icaec458579ac29bb6e98c6ec1778de67542c7154\n'}]",19,855430,ab8e7530c1176834300df19887a6f9f125e5f1de,22,5,3,10058,,,0,"Add notice regarding cinder-lvm upgrade

If a user have a cinder-lvm backend and is migrating from
Victoria to Wallaby, some important actions need to be taken
to avoid service disruption and data loss.

Related-bug: #1949074
Change-Id: Icaec458579ac29bb6e98c6ec1778de67542c7154
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/30/855430/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2104.rst'],1,947da979bb991a8c09797c48542a41492d4b1409,fix-lvm-target-helper," * `Default Cinder LVM target_helper 'tgtadm' changed`_Default Cinder LVM target_helper 'tgtadm' changed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The default target_helper for the Cinder package changed from ``tgtadm`` to ``lioadm``. Before upgrading, users using the cinder-lvm charm must make sure the charm is in the latest version and set the ``config-flags`` in the charm so it points to the old helper. Make sure not to run 'apt autoremove' (which will remove the tgtadm package and break all current attachments). .. code-block:: console juju config cinder-lvm config-flags='target_helper=tgtadm' # Make sure tgtadm is not removed in future autoremove runs sudo apt-mark manual tgt Once the above is done, one can optionally transition to the new helper. For that, set up a new cinder-lvm application, which by default will create a Cinder backend with the new lioadm configuration. The backend needs to have a different ``volume-backend-name`` or ``alias``, and keep the same configs as before. If ``volume-group`` was not set, it must be set to the LVM VG used by the pool (check cinder.conf). Once the new backend is in place, disable the old one, that can be sunset once no more volumes are used. E.g.: .. code-block:: console cinder service-disable cinder-host-0@LVM-alias cinder-volume ",,31,0
openstack%2Fansible-collections-openstack~master~I1ca5082d643eb97e8cb951a4bccf92b78537d917,openstack/ansible-collections-openstack,master,I1ca5082d643eb97e8cb951a4bccf92b78537d917,"Refactored catalog_service{,_info} and auth modules",MERGED,2022-11-21 11:09:19.000000000,2022-11-30 20:30:48.000000000,2022-11-30 20:30:48.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-11-21 11:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f596e4424c608e7300b2f57f3c0f393b4adb8659', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 2, 'created': '2022-11-23 19:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e735649b68248a68844a397ae6dfc0e28f6b16b2', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 3, 'created': '2022-11-24 09:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dc5ca882927aeeaca93a61133850a4e627a238fe', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 4, 'created': '2022-11-30 09:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1ed59840672b5710cce7414829ed50d9f7f2f66c', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}, {'number': 5, 'created': '2022-11-30 09:53:36.000000000', 'files': ['meta/runtime.yml', 'ci/roles/catalog_service/tasks/main.yml', 'plugins/modules/catalog_service.py', 'ci/roles/auth/defaults/main.yml', 'plugins/modules/auth.py', 'ci/roles/auth/tasks/main.yml', 'ci/roles/catalog_service/defaults/main.yml', 'plugins/modules/catalog_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1ca6f208f7c3b5b661ec1966caf241bfb49c35b4', 'message': 'Refactored catalog_service{,_info} and auth modules\n\nReplaced service_catalog return value in auth module with new\ncatalog_service_info module.\n\nChange-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917\n'}]",3,865122,1ca6f208f7c3b5b661ec1966caf241bfb49c35b4,26,4,5,32962,,,0,"Refactored catalog_service{,_info} and auth modules

Replaced service_catalog return value in auth module with new
catalog_service_info module.

Change-Id: I1ca5082d643eb97e8cb951a4bccf92b78537d917
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/22/865122/5 && git format-patch -1 --stdout FETCH_HEAD,"['meta/runtime.yml', 'ci/roles/catalog_service/tasks/main.yml', 'ci/roles/auth/defaults/main.yml', 'plugins/modules/catalog_service.py', 'plugins/modules/auth.py', 'ci/roles/auth/tasks/main.yml', 'ci/roles/catalog_service/defaults/main.yml', 'plugins/modules/catalog_service_info.py']",8,f596e4424c608e7300b2f57f3c0f393b4adb8659,catalog_service,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2022 by Red Hat, Inc. # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = r''' module: catalog_service_info short_description: Retrieve information about services from OpenStack author: OpenStack Ansible SIG description: - Retrieve information about services from OpenStack. options: name: description: - Name or ID of the service. type: str requirements: - ""python >= 3.6"" - ""openstacksdk"" extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = r''' - name: Fetch all services openstack.cloud.catalog_service_info: cloud: devstack - name: Fetch a single service openstack.cloud.catalog_service_info: cloud: devstack name: heat ''' RETURN = r''' services: description: List of dictionaries the services. returned: always type: list elements: dict contains: id: description: Service ID. type: str sample: ""3292f020780b4d5baf27ff7e1d224c44"" name: description: Service name. type: str sample: ""glance"" type: description: Service type. type: str sample: ""image"" description: description: Service description. type: str sample: ""OpenStack Image Service"" is_enabled: description: Service status. type: bool sample: True links: description: Link of the service type: str sample: http://10.0.0.1/identity/v3/services/0ae87 ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( OpenStackModule ) class CatalogServiceInfoModule(OpenStackModule): argument_spec = dict( name=dict(), ) module_kwargs = dict( supports_check_mode=True, ) def run(self): name_or_id = self.params['name'] if name_or_id: service = self.conn.identity.find_service(name_or_id) services = [service] if service else [] else: services = self.conn.identity.services() self.exit_json(changed=False, services=[s.to_dict(computed=False) for s in services]) def main(): module = CatalogServiceInfoModule() module() if __name__ == ""__main__"": main() ",,267,140
openstack%2Ftripleo-common~master~I030518bb8807aad9fb0d480a130d327522de707d,openstack/tripleo-common,master,I030518bb8807aad9fb0d480a130d327522de707d,Generic inventory and playbook,MERGED,2022-11-25 13:55:57.000000000,2022-11-30 19:39:08.000000000,2022-11-30 19:38:05.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30893}]","[{'number': 1, 'created': '2022-11-25 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/32f62790218277b60698da2db612726d6193c0b7', 'message': 'Generic inventory to run standalone roles\n\nThis pach introduces the new inventory.yaml, a generic inventory\nthat can be configured inside the ansible-runner container using\nan environment variable. This removes the need of having to create\nan inventory ConfigMap per execution\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variable in [1]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 2, 'created': '2022-11-25 14:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/62f6a2aa9a066dd11e432521a55e27d345075f74', 'message': 'Generic inventory and playbook\n\nThis pach introduces the new inventory.yaml, a generic inventory\nthat can be configured inside the ansible-runner container using\nan environment variable. This removes the need of having to create\nan inventory ConfigMap per execution. It does the same with\na playbook, giving the change to execute arbitrary playbooks from\nthe operator.\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 3, 'created': '2022-11-29 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d2f37e181d47ac9d6848f8dc5408fc044876970', 'message': 'Generic inventory and playbook\n\nThis patch introduces the capacity for the tripleo_entrypoint.sh\nscript to generate an inventory and/or a playbook from env\nvariables passed to the runner container by the operator itself\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}, {'number': 4, 'created': '2022-11-29 17:22:58.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f8a19eb15d0228acaa7a152a3cb235a27dc7bac', 'message': 'Generic inventory and playbook\n\nThis patch introduces the capacity for the tripleo_entrypoint.sh\nscript to generate an inventory and/or a playbook from env\nvariables passed to the runner container by the operator itself\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variables in [1] and [2]\n\n[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9\n\nChange-Id: I030518bb8807aad9fb0d480a130d327522de707d\n'}]",4,865692,7f8a19eb15d0228acaa7a152a3cb235a27dc7bac,22,8,4,32968,,,0,"Generic inventory and playbook

This patch introduces the capacity for the tripleo_entrypoint.sh
script to generate an inventory and/or a playbook from env
variables passed to the runner container by the operator itself

The ansibleee-operator will take care of filling the contents of the
env variables in [1] and [2]

[1] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/20
[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/9

Change-Id: I030518bb8807aad9fb0d480a130d327522de707d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/92/865692/4 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/kolla/tripleo-ansible-ee/inventory.yaml']",2,32f62790218277b60698da2db612726d6193c0b7,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ${RUNNER_INVENTORY}",,18,0
openstack%2Ftripleo-common~stable%2Fzed~Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,openstack/tripleo-common,stable/zed,Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,Align tss user config with qemu and nova use cases,MERGED,2022-11-29 14:56:48.000000000,2022-11-30 19:38:57.000000000,2022-11-30 19:38:00.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 14:56:48.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ec3b1adcee60757e362a493d9c70ba8c0ed114a', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nThere is no upgrade impact as vTPM had never been technically released\nin the layered downstream product.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)\n'}]",0,865991,2ec3b1adcee60757e362a493d9c70ba8c0ed114a,9,4,1,6926,,,0,"Align tss user config with qemu and nova use cases

In order to fix swtpm logs access permissions and to use the same
approach among Compute specific users (qemu, tss, libvirt, nova):

* Add nova to tss group for swtpm tool to function in virtqemud
  when running w/o root access.
* Change tss user uid/gid/home dir config in TCIB similarly to qemu,
  for consistency reasons.

There is no upgrade impact as vTPM had never been technically released
in the layered downstream product.

Related: rhbz#1782128

Change-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 7981fdd68a9bfa52e82be42d8e1b1a24484bf928)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/865991/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/uid_gid_manage.sh'],1,2ec3b1adcee60757e362a493d9c70ba8c0ed114a,swtpm_logs-stable/zed,"_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,tss,kolla'_SUPPORTED_USERS['tss']='tss 59 59'","_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,kolla'_SUPPORTED_USERS['tss']='tss 42485 42485 /var/lib/tpm kolla'",2,2
openstack%2Ftripleo-heat-templates~stable%2Fzed~I3ae7abb70fae447c9b62e3af9da8e2444d4d5878,openstack/tripleo-heat-templates,stable/zed,I3ae7abb70fae447c9b62e3af9da8e2444d4d5878,Nova: Generate wrapper scripts during config file generation,MERGED,2022-11-29 14:59:25.000000000,2022-11-30 19:38:02.000000000,2022-11-30 19:38:02.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 14:59:25.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d59e32ef5be660696e20333abd01df5c3d818627', 'message': 'Nova: Generate wrapper scripts during config file generation\n\n... instead of launching separate containers. The wrapper scripts can\nbe created without access to any processes.\n\nNote that this change moves the script from\n /var/lib/container-config-scripts\nto\n /var/lib/libvirt/scripts\nbecause the container-config-scripts directory is not available when\npuppet is executed to generate config files.\n\nChange-Id: I3ae7abb70fae447c9b62e3af9da8e2444d4d5878\n(cherry picked from commit b29ccd30e294ef0d4b50ad1ecb59dc776109b451)\n'}]",2,865992,d59e32ef5be660696e20333abd01df5c3d818627,10,4,1,6926,,,0,"Nova: Generate wrapper scripts during config file generation

... instead of launching separate containers. The wrapper scripts can
be created without access to any processes.

Note that this change moves the script from
 /var/lib/container-config-scripts
to
 /var/lib/libvirt/scripts
because the container-config-scripts directory is not available when
puppet is executed to generate config files.

Change-Id: I3ae7abb70fae447c9b62e3af9da8e2444d4d5878
(cherry picked from commit b29ccd30e294ef0d4b50ad1ecb59dc776109b451)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/865992/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml']",2,d59e32ef5be660696e20333abd01df5c3d818627,," tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_process_wrapper: '/var/lib/libvirt/scripts/virtlogd_wrapper' include tripleo::profile::base::nova::virtlogd_wrapper volumes: - /var/lib/libvirt/scripts:/var/lib/libvirt/scripts:shared,z - - /var/lib/libvirt/scripts/virtlogd_wrapper:/usr/local/bin/virtlogd_wrapper:ro - { 'path': /var/lib/libvirt/scripts, 'setype': container_file_t }"," tripleo::profile::base::nova::virtlogd_wrapper::virtlogd_process_wrapper: '/var/lib/container-config-scripts/virtlogd_wrapper' step_2: create_virtlogd_wrapper: start_order: 1 detach: false cgroupns: host net: host pid: host user: root command: # '/container_puppet_apply.sh ""STEP"" ""TAGS"" ""CONFIG"" ""DEBUG""' list_concat: - - '/container_puppet_apply.sh' - '4' - 'file' - 'include ::tripleo::profile::base::nova::virtlogd_wrapper' image: {get_attr: [RoleParametersValue, value, ContainerNovaLibvirtImage]} volumes: list_concat: - {get_attr: [ContainersCommon, container_puppet_apply_volumes]} - - /var/lib/container-config-scripts:/var/lib/container-config-scripts:shared,z environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} - - /var/lib/container-config-scripts/virtlogd_wrapper:/usr/local/bin/virtlogd_wrapper:ro",13,52
openstack%2Fproject-config~master~I9fb9758f8deddc3c76fb22fc859291dea8cfcd43,openstack/project-config,master,I9fb9758f8deddc3c76fb22fc859291dea8cfcd43,Add an Ubuntu FIPS testing token,MERGED,2022-10-14 17:02:14.000000000,2022-11-30 19:22:43.000000000,2022-11-30 19:22:43.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-14 17:02:14.000000000', 'files': ['zuul.d/secrets.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c', 'message': 'Add an Ubuntu FIPS testing token\n\nOpenStack contributors have worked out a solution for enabling FIPS\ntesting on Ubuntu nodes, which normally requires a paid\nsubscription. The ""token"" field of the ""openstack_ubuntu_fips""\nsecret supplied here can be applied to a test node early during job\nsetup by calling ""pro attach {{ token }}"" as root.\n\nThe secret will be replaced periodically, in order to make any\nentitlement exfiltrated from job nodes unattractive for production\nuse.\n\nChange-Id: I9fb9758f8deddc3c76fb22fc859291dea8cfcd43\n'}]",15,861457,97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c,29,10,1,5263,,,0,"Add an Ubuntu FIPS testing token

OpenStack contributors have worked out a solution for enabling FIPS
testing on Ubuntu nodes, which normally requires a paid
subscription. The ""token"" field of the ""openstack_ubuntu_fips""
secret supplied here can be applied to a test node early during job
setup by calling ""pro attach {{ token }}"" as root.

The secret will be replaced periodically, in order to make any
entitlement exfiltrated from job nodes unattractive for production
use.

Change-Id: I9fb9758f8deddc3c76fb22fc859291dea8cfcd43
",git fetch https://review.opendev.org/openstack/project-config refs/changes/57/861457/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/secrets.yaml'],1,97c7084cd7eec08e46d10976b6ad4b8b8b2ec85c,fips-testing, # Periodically rotated throw-away entitlement for FIPS support on Ubuntu # (last issued 2022-10-14) - secret: name: openstack_ubuntu_fips data: token: !encrypted/pkcs1-oaep - kms69XcCp7KUCa+qlAKiGo2D3C65euTB5RlvbgZsMKWRI6XoGDdsCyIYsThpBwvYss/Gx JODZpDJyP1XF66waNXttpBT7PNRWf2B2QzpOC6nTXjI6WJ3d3q+w3tv6D7lP676ZyagUd VhrLFZVfh0T9jCkI6nt4izwdYBJML86ilxZ4hHka3ca06IL5caAO6Dzc7iDB/+BtNO6bA MzkkdW1JLB+00vBxYrk/GNw8Fkd6Ms1ZaxvFwElwUzjOvmqJFPRsuYwzGlKoqXOlcTF87 luq/4sVzSNSeU9SR+d2TEJB/dH+8pq8gyHiKqce24wMXqPNAQGT7Oa/bmmcPhmInbBjjA Pquw3SJpa754PnyVwvsJt78f3Jgd2513hbYQq90uUgjOwAbNxbaSXoyIAAW2J0GQdWfyj F9ieouvDpZmkDCRBr/YA3XOIhdDmglUZxynjOt1aLeSVH3R2EPbE4AIp0n8A2TG2KfBfb jPJg4FIyS0HXAaJqNy4L0nq86zzH3M7dZs60mrLiQdnjHRrkSSCrQfPBrpKI0KLSGT+l+ FcA753WnBbBX1e4WALrn9rPp4EfGK7UqcvBBk2WOJ173cmCGpW/twvE0sI4eXvSfcaKGR psrzBw0oBoW1Fg6ctWsAgSnwLbeKv9GLhdLq2ml04V84jrJur8+sVHXV8w6xf0=,,17,0
openstack%2Fnova~stable%2Fyoga~I34dae6fdb746205f0baa4997e69eec55634bec4d,openstack/nova,stable/yoga,I34dae6fdb746205f0baa4997e69eec55634bec4d,refactor: remove duplicated logic,MERGED,2022-08-29 12:59:07.000000000,2022-11-30 19:06:55.000000000,2022-11-30 19:05:47.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-29 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bba330a1e6c09564b27bbbd85f42519c5b1598e', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n'}, {'number': 2, 'created': '2022-08-29 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3a238a7ab99e0a84a2b84542d4eae730b4e0c54', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 7bba330a1e6c09564b27bbbd85f42519c5b1598e)\n'}, {'number': 3, 'created': '2022-08-29 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1457c5ee9b1ef1c5a672034b1466badf61ff8a7', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)\n'}, {'number': 4, 'created': '2022-11-17 15:15:56.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/683cbd06336bba37d033c292c4c0ea83e06d9c07', 'message': 'refactor: remove duplicated logic\n\nRemove _update_port_pci_binding_profile and replace its usage with\n_get_pci_device_profile.\n\nChange-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d\n(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)\n'}]",3,855022,683cbd06336bba37d033c292c4c0ea83e06d9c07,22,3,4,11604,,,0,"refactor: remove duplicated logic

Remove _update_port_pci_binding_profile and replace its usage with
_get_pci_device_profile.

Change-Id: I34dae6fdb746205f0baa4997e69eec55634bec4d
(cherry picked from commit 8d2776fb34339b311c713992a39507452c4ae42f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/855022/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,7bba330a1e6c09564b27bbbd85f42519c5b1598e,bug/1970467, binding_profile.update( self._get_pci_device_profile(pci_dev) )," def _update_port_pci_binding_profile(self, pci_dev, binding_profile): """"""Update the binding profile dict with new PCI device data. :param pci_dev: The PciDevice object to update the profile with. :param binding_profile: The dict to update. """""" binding_profile.update({'pci_slot': pci_dev.address}) if binding_profile.get('card_serial_number'): binding_profile.update({ 'card_serial_number': pci_dev.card_serial_number}) if binding_profile.get('pf_mac_address'): binding_profile.update({ 'pf_mac_address': pci_utils.get_mac_by_pci_address( pci_dev.parent_addr)}) if binding_profile.get('vf_num'): binding_profile.update({ 'vf_num': pci_utils.get_vf_num_by_pci_address( pci_dev.address)}) self._update_port_pci_binding_profile(pci_dev, binding_profile)",3,21
openstack%2Fansible-collections-openstack~master~If210789edac2768178ccf323ec5be12f0c439a0f,openstack/ansible-collections-openstack,master,If210789edac2768178ccf323ec5be12f0c439a0f,Refactored subnet_pool module,MERGED,2022-11-17 14:03:14.000000000,2022-11-30 18:13:34.000000000,2022-11-30 18:13:34.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-11-17 14:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/843652d8bee2e2bcd1615f13650fc84e03c7a86a', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 2, 'created': '2022-11-17 15:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96111571ab444ae62b39f49759bae57af81cd73d', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 3, 'created': '2022-11-17 15:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d98c9de6d37a52a48a3695106e67619183ea9b5', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 4, 'created': '2022-11-23 19:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bde9fdc9bb09dcce2d65e270b0bf927144e18be2', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 5, 'created': '2022-11-30 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/15b882e38acf99eabcd7bd9c188d199c0a3f63e9', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}, {'number': 6, 'created': '2022-11-30 09:53:14.000000000', 'files': ['ci/roles/subnet_pool/tasks/main.yaml', 'plugins/modules/subnet_pool.py', 'ci/roles/subnet_pool/tasks/main.yml', 'ci/roles/subnet_pool/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/00ec3f1c92d1ad19dd7b306115ad7b1c89a18bef', 'message': 'Refactored subnet_pool module\n\nChange-Id: If210789edac2768178ccf323ec5be12f0c439a0f\n'}]",0,864902,00ec3f1c92d1ad19dd7b306115ad7b1c89a18bef,23,4,6,32962,,,0,"Refactored subnet_pool module

Change-Id: If210789edac2768178ccf323ec5be12f0c439a0f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/02/864902/6 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/subnet_pool/tasks/main.yaml', 'plugins/modules/subnet_pool.py', 'ci/roles/subnet_pool/tasks/main.yml', 'ci/roles/subnet_pool/defaults/main.yml']",4,843652d8bee2e2bcd1615f13650fc84e03c7a86a,subnet-pool,"address_scope_name: ""ansible_address_scope""expected_fields: - address_scope_id - created_at - default_prefix_length - default_quota - description - id - ip_version - is_default - is_shared - maximum_prefix_length - minimum_prefix_length - name - prefixes - project_id - revision_number - tags - tenant_id - updated_atminimum_prefix_length: 10 subnet_pool_name: ""ansible_subnet_pool""","subnet_pool_name: ""subnet_pool"" address_scope_name: ""address_scope""minimum_prefix_length: 10",390,295
openstack%2Fnova-specs~master~I5564e5b865e8522c51473f09c5f5d65b080176c2,openstack/nova-specs,master,I5564e5b865e8522c51473f09c5f5d65b080176c2,fixing: allowing target state for evacuate,MERGED,2022-11-30 08:53:23.000000000,2022-11-30 18:09:15.000000000,2022-11-30 18:07:23.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 08:53:23.000000000', 'files': ['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4aa1ec383945fdce2a64e1596d56793b94fa1e0b', 'message': 'fixing: allowing target state for evacuate\n\nThis is addressing some comments that was not resolved in\n  https://review.opendev.org/c/openstack/nova-specs/+/857838\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I5564e5b865e8522c51473f09c5f5d65b080176c2\n'}]",0,866108,4aa1ec383945fdce2a64e1596d56793b94fa1e0b,8,3,1,7730,,,0,"fixing: allowing target state for evacuate

This is addressing some comments that was not resolved in
  https://review.opendev.org/c/openstack/nova-specs/+/857838

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I5564e5b865e8522c51473f09c5f5d65b080176c2
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/866108/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'],1,4aa1ec383945fdce2a64e1596d56793b94fa1e0b,addressing-dansmith-comments,"- As an operator, I would like to be able to evacuate instances to a shut-off state because my tenant workloads may have specific security requirements, that do not allow them to be started by the administrator. - As an operator, I would like to be able to evacuate VMs with encrypted volumes without making the barbican secret readable by admins and reducing the security. - As a user, if my instance is offline due to a host outage, I don't necessarily want an admin evacuating it and bringing it back online without my knowledge as I may have already replaced it and the zombie coming back may cause a conflict.- An RPC change is expected to make the compute manager handle the new target state, resulting in the version being incremented. new enough to accept the request, if not the request will be rejected with a NotSupported exception.* https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detail","As an operator, I would like to be able to evacuate instances to a shut-off state because my tenant workloads may have specific security requirements, that do not allow them to be started by the administrator. As an operator, I would like to be able to evacuate VMs with encrypted volumes without making the barbican secrete readable by admins and reducing the security.- An RPC change is expected to make manager handling the new target state, resulting in the version being incremented. new enough to accept the request.* https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detai",16,11
openstack%2Fpuppet-tripleo~stable%2Fwallaby~Ideb5a951d538d9e2c7cca11dfe0e8b99520de959,openstack/puppet-tripleo,stable/wallaby,Ideb5a951d538d9e2c7cca11dfe0e8b99520de959,Support deploying additional internal glance-api service,MERGED,2022-11-28 19:10:58.000000000,2022-11-30 17:53:28.000000000,2022-11-30 17:53:28.000000000,"[{'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 19:10:58.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08e48980533a74d4f89cd0c5e659e37c7d92e282', 'message': 'Support deploying additional internal glance-api service\n\nOSSN-0090 [1] recommends deploying two instances of the glance-api\nservice: a ""user facing"" service, plus an ""internal"" service that is\naccessible via keystone\'s internal endpoint.\n\nTo support this, the tripleo::profile::base::glance::api class is\nenhanced to allow overriding certain associated glance::api parameters.\nThis makes it possible to override parameters when including the\nglance::api class in order to facilitate configuring two different\ninstances of the glance-api service, each with their own configuration.\n\nThe tripleo::haproxy class is enhanced to provide HA support for running\nthe internal glance-api service on its own TCP port (defaults to 9293).\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nstable/wallaby:\n  Minor conflicts were resolved, most of which were due to using the\n  hiera() versus lookup() functions.\n\nChange-Id: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\n(cherry picked from commit b3be1dc18c8284852905797d91b67d2dcd6a1a10)\n(cherry picked from commit d5a1c0d4d870062357dff57fde78630c76d224d4)\n'}]",1,865884,08e48980533a74d4f89cd0c5e659e37c7d92e282,11,4,1,21129,,,0,"Support deploying additional internal glance-api service

OSSN-0090 [1] recommends deploying two instances of the glance-api
service: a ""user facing"" service, plus an ""internal"" service that is
accessible via keystone's internal endpoint.

To support this, the tripleo::profile::base::glance::api class is
enhanced to allow overriding certain associated glance::api parameters.
This makes it possible to override parameters when including the
glance::api class in order to facilitate configuring two different
instances of the glance-api service, each with their own configuration.

The tripleo::haproxy class is enhanced to provide HA support for running
the internal glance-api service on its own TCP port (defaults to 9293).

[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090

stable/wallaby:
  Minor conflicts were resolved, most of which were due to using the
  hiera() versus lookup() functions.

Change-Id: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959
(cherry picked from commit b3be1dc18c8284852905797d91b67d2dcd6a1a10)
(cherry picked from commit d5a1c0d4d870062357dff57fde78630c76d224d4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/865884/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/glance/api.pp']",2,08e48980533a74d4f89cd0c5e659e37c7d92e282,glance-api-internal,"# [*bind_port*] # (optional) The port the server should bind to. # Default: 9292 # # [*log_dir*] # (Optional) Directory where logs should be stored. # If set to $::os_service_default, it will not log to any directory. # Defaults to '/var/log/glance'. # # [*log_file*] # (Optional) File where logs should be stored. # If set to $::os_service_default, it will not log to any file. # Defaults to '/var/log/glance/api.log'. # # [*show_image_direct_url*] # (optional) Expose image location to trusted clients. # Defaults to false # # [*show_multiple_locations*] # (optional) Whether to include the backend image locations in image # properties. # Defaults to false # $bind_port = 9292, $log_dir = '/var/log/glance', $log_file = '/var/log/glance/api.log', $show_image_direct_url = false, $show_multiple_locations = false, class { 'glance::api::logging': log_dir => $log_dir, log_file => $log_file, } class { 'glance::api': bind_port => $bind_port, enabled_backends => $enabled_backends, default_backend => $glance_backend_id, show_image_direct_url => $show_image_direct_url, show_multiple_locations => $show_multiple_locations, sync_db => $sync_db,"," include glance::api::logging class { 'glance::api': enabled_backends => $enabled_backends, default_backend => $glance_backend_id, sync_db => $sync_db,",71,4
openstack%2Fkuryr-kubernetes~master~I2a65cae00f3f10dd67bb8ae779c81e73b92750ea,openstack/kuryr-kubernetes,master,I2a65cae00f3f10dd67bb8ae779c81e73b92750ea,DNM: Testing a patch,NEW,2022-11-30 16:32:22.000000000,2022-11-30 17:52:27.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 16:32:22.000000000', 'files': ['cni_ds_init'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1d6fd68573bf3456245e9c8e257d397a940347e9', 'message': 'DNM: Testing a patch\n\nChange-Id: I2a65cae00f3f10dd67bb8ae779c81e73b92750ea\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-container/+/866130\n'}]",0,866182,1d6fd68573bf3456245e9c8e257d397a940347e9,3,2,1,11600,,,0,"DNM: Testing a patch

Change-Id: I2a65cae00f3f10dd67bb8ae779c81e73b92750ea
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-container/+/866130
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/82/866182/1 && git format-patch -1 --stdout FETCH_HEAD,['cni_ds_init'],1,1d6fd68573bf3456245e9c8e257d397a940347e9,test,# foobar ,,2,0
openstack%2Fironic~master~I058ceadab33f6969157b89aca5ba34ebd0be2a93,openstack/ironic,master,I058ceadab33f6969157b89aca5ba34ebd0be2a93,Create 'redfish' driver Redfish Interop Profile,MERGED,2020-09-24 10:23:22.000000000,2022-11-30 17:11:05.000000000,2022-11-25 16:51:52.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10342}, {'_account_id': 10379}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 28533}, {'_account_id': 31021}, {'_account_id': 31616}, {'_account_id': 31636}, {'_account_id': 31871}]","[{'number': 1, 'created': '2020-09-24 10:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc1090cd28cc4f9ecea9dcea2b27103573007879', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 2, 'created': '2020-09-28 10:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a57fb934ecd4a3a4d0f80f340aa66cfac99a1985', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 3, 'created': '2020-09-28 10:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/389f592094f9691b501eed69ede15812af203b89', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 4, 'created': '2020-10-14 13:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83bd5d5b6dca8c4c1fb1696f0723342a8d44e8cc', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 5, 'created': '2020-10-28 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b6d2fd17bb0dd20b8804b12d403aa89d820de43', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 6, 'created': '2020-10-28 11:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba674a6445433d0139c29a24d720950fea28f736', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 7, 'created': '2020-12-02 09:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae994b5870d6306db0cd388e8d25de0eb76de8e0', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 8, 'created': '2020-12-10 09:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5189e97872a5707c35d503b667c6262f994059f', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 9, 'created': '2020-12-16 14:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4035c8189bd5c67b130ecbcac5921d51bc9f97e9', 'message': ""WIP: Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 10, 'created': '2022-10-28 12:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/740b4b85141cccd6f723616771d7ee7a5f176865', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 11, 'created': '2022-10-28 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01e63f29a7df50d8f63af44b6c485ade1a8b61db', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 12, 'created': '2022-11-08 11:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d05569baa53a1fb23876c3565c92bcaa3cf0a5d', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}, {'number': 13, 'created': '2022-11-09 11:17:27.000000000', 'files': ['redfish-interop-profiles/OpenStackIronicProfile.v1_0_0.json', 'redfish-interop-profiles/README.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdcf3ad9edeaa4c3d573be14cf7473f5cdbd4ddb', 'message': ""Create 'redfish' driver Redfish Interop Profile\n\nCo-Authored-By: Digambar Patil <digmabar.patil@dell.com>\nCo-Authored-By: Mike Raineri <michael.raineri@gmail.com>\nCo-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>\nCo-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>\nStory: 2007345\nTask: 38889\nChange-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93\n""}]",82,754061,fdcf3ad9edeaa4c3d573be14cf7473f5cdbd4ddb,86,20,13,23847,,,0,"Create 'redfish' driver Redfish Interop Profile

Co-Authored-By: Digambar Patil <digmabar.patil@dell.com>
Co-Authored-By: Mike Raineri <michael.raineri@gmail.com>
Co-Authored-By: Pranjali Shrivastava <pranjali.shrivastava@dell.com>
Co-Authored-By: Dhuldev Valekar <dhuldev.valekar@dell.com>
Story: 2007345
Task: 38889
Change-Id: I058ceadab33f6969157b89aca5ba34ebd0be2a93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/754061/11 && git format-patch -1 --stdout FETCH_HEAD,"['redfish-interop-profiles/drivers/modules/redfish/Management.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Boot.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Utils.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Bios.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Power.v1_0_0.json', 'redfish-interop-profiles/drivers/modules/redfish/Inspect.v1_0_0.json', 'redfish-interop-profiles/drivers/RedfishByRequiredProfiles.v1_0_0.json', 'redfish-interop-profiles/drivers/OpenStackIronicRedfishDriver.v1_0_0.json']",8,dc1090cd28cc4f9ecea9dcea2b27103573007879,story/2007345,"{ ""@Redfish.Copyright"": ""Copyright (c) 2020 Dell Inc. or its subsidiaries."", ""@Redfish.License"": ""Apache License, Version 2.0. For full text, see link: http://www.apache.org/licenses/LICENSE-2.0"", ""SchemaDefinition"": ""RedfishInteroperabilityProfile.v1_3_1"", ""ProfileName"": ""OpenStackIronicRedfishDriver"", ""ProfileVersion"": ""1.0.0"", ""Purpose"": ""Specifies the OpenStack ironic vendor-independent redfish hardware type requirements of a Redfish service implementation, typically offered by a baseboard management controller (BMC)."", ""OwningEntity"": ""Dell Inc."", ""ContactInfo"": ""digmabar.patil@dell.com, richard.pioso@dell.com, michael.raineri@gmail.com, pranjali.shrivastava@dell.com, dhuldev.valekar@dell.com"", ""Protocol"": { ""MinVersion"": ""1.0.0"" } } ",,650,0
openstack%2Fovn-octavia-provider~stable%2Fyoga~Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,openstack/ovn-octavia-provider,stable/yoga,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:11.000000000,2022-11-30 16:50:33.000000000,2022-11-30 16:49:20.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:11.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",5,865907,27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6,25,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/07/865907/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,27ce0c0fe0b83589ceb7bf132d1f80fa5b2fbab6,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fcharm-nova-compute~stable%2Fussuri~I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1,openstack/charm-nova-compute,stable/ussuri,I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 09:49:14.000000000,2022-11-30 16:47:48.000000000,2022-11-30 16:47:48.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 09:49:14.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/35d248f91669cf486ea095ee33e2a3ce83f15207', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1\n'}]",3,864851,35d248f91669cf486ea095ee33e2a3ce83f15207,11,5,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I734e3ddf3c227a1c93beb753159ad90d2ee1b0d1
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/51/864851/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,35d248f91669cf486ea095ee33e2a3ce83f15207,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Frequirements~master~I085e68fa90e85e5d48c76f863cb230b7073a3919,openstack/requirements,master,I085e68fa90e85e5d48c76f863cb230b7073a3919,Pin Yappi to version 1.4.0,MERGED,2022-11-30 10:08:43.000000000,2022-11-30 16:46:11.000000000,2022-11-30 16:45:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 10:08:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/effd49530b5123ee3305799cee19aff94fad6922', 'message': 'Pin Yappi to version 1.4.0\n\nOlder versions fail to build with Python 3.11 [1]. This breaks tox\nenvironments when running it with Python 3.11.\n\n[1]: https://github.com/sumerc/yappi/issues/104\n\nChange-Id: I085e68fa90e85e5d48c76f863cb230b7073a3919\n'}]",0,866125,effd49530b5123ee3305799cee19aff94fad6922,8,2,1,34429,,,0,"Pin Yappi to version 1.4.0

Older versions fail to build with Python 3.11 [1]. This breaks tox
environments when running it with Python 3.11.

[1]: https://github.com/sumerc/yappi/issues/104

Change-Id: I085e68fa90e85e5d48c76f863cb230b7073a3919
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/866125/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,effd49530b5123ee3305799cee19aff94fad6922,pin-yappi-1.4.0,yappi===1.4.0,yappi===1.3.6,1,1
openstack%2Fcharm-nova-compute~stable%2Fvictoria~I55b9c80aeb2881151d38bf07889d2e454755d9f5,openstack/charm-nova-compute,stable/victoria,I55b9c80aeb2881151d38bf07889d2e454755d9f5,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:52:31.000000000,2022-11-30 16:45:31.000000000,2022-11-30 16:45:31.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:52:31.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I55b9c80aeb2881151d38bf07889d2e454755d9f5\n'}]",2,864880,01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4,9,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I55b9c80aeb2881151d38bf07889d2e454755d9f5
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/80/864880/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,01bf1f46bf05b81098f28aad53bca8ac8a0f7dc4,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~stable%2Fwallaby~Ia8d62de27ce59278722c58a2328b0301f461adbb,openstack/charm-nova-compute,stable/wallaby,Ia8d62de27ce59278722c58a2328b0301f461adbb,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:08.000000000,2022-11-30 16:45:28.000000000,2022-11-30 16:45:28.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:08.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/42893457b15aced6a088a7e48b766d1620b0f169', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Ia8d62de27ce59278722c58a2328b0301f461adbb\n'}]",2,864881,42893457b15aced6a088a7e48b766d1620b0f169,9,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: Ia8d62de27ce59278722c58a2328b0301f461adbb
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/81/864881/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,42893457b15aced6a088a7e48b766d1620b0f169,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~stable%2Fxena~I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960,openstack/charm-nova-compute,stable/xena,I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:29.000000000,2022-11-30 16:44:54.000000000,2022-11-30 16:44:54.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:29.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7a9aef21542b3fb3216b38643737746fcf1e1179', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960\n'}]",8,864882,7a9aef21542b3fb3216b38643737746fcf1e1179,17,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I0a338da505bd9f1dc4eaecfbbcb93c7ecbfa6960
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/82/864882/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,7a9aef21542b3fb3216b38643737746fcf1e1179,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~stable%2Fyoga~I713872f49ff4c40c78909f1879cca09f331d5c13,openstack/charm-nova-compute,stable/yoga,I713872f49ff4c40c78909f1879cca09f331d5c13,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:44.000000000,2022-11-30 16:43:49.000000000,2022-11-30 16:43:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a8574995a399f86ea9148b71bc3dcd136f18f485', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I713872f49ff4c40c78909f1879cca09f331d5c13\n'}, {'number': 2, 'created': '2022-11-23 07:37:52.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/93b9faff4065ca5c474187c49d70baba446a5eb2', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I713872f49ff4c40c78909f1879cca09f331d5c13\n'}]",5,864883,93b9faff4065ca5c474187c49d70baba446a5eb2,17,4,2,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I713872f49ff4c40c78909f1879cca09f331d5c13
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/83/864883/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",12,a8574995a399f86ea9148b71bc3dcd136f18f485,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},49,36
openstack%2Fcharm-nova-compute~stable%2Fzed~I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46,openstack/charm-nova-compute,stable/zed,I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-17 11:53:56.000000000,2022-11-30 16:43:47.000000000,2022-11-30 16:43:47.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 11:53:56.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/029b5a29a6c86e91cd4cd4b3029a1973081e3fa8', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46\n'}]",3,864884,029b5a29a6c86e91cd4cd4b3029a1973081e3fa8,11,4,1,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: I0ac33eb040fc9f98a1bd0fe484f97eef0ad76d46
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/84/864884/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",13,029b5a29a6c86e91cd4cd4b3029a1973081e3fa8,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} ,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},53,39
openstack%2Foslo.messaging~stable%2Fqueens~I5c468d10230f05438df780e045f1e92662edf070,openstack/oslo.messaging,stable/queens,I5c468d10230f05438df780e045f1e92662edf070,Catch ConnectionForced Exception,ABANDONED,2021-09-07 09:23:24.000000000,2022-11-30 16:26:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2021-09-07 09:23:24.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0aecec9806a174aa76e190a871bb80eb94b4deea', 'message': ""Catch ConnectionForced Exception\n\nOccasionally I saw large number of connectionforced exceptions.\nsuch exceptions cannot be healed automatically and requires a reboot.\ncatch it and ensure connection established.\n\nChanges:\n  oslo_messaging/_drivers/impl_rabbit.py\n\nNOTE(stephenfin): We need to add the 'absolute_import' future to disable\nthe legacy import flow. Without this, the import of 'amqp.exceptions' in\n'oslo_messaging._drivers.impl_rabbit' attempts to import 'exceptions'\nfrom the sibling module, 'oslo_messaging._drivers.amqp', instead of the\ntop-level 'amqp' module. Thank God for Python 3.x, eh? More information\nis available at [1], for those curious enough.\n\nNOTE(hberaud): conflicts within the cherry-pick on stable/stein due to\nremoved log translation and i18n on stable/train [2]. I decided to\nignore this patch [2] for stable/stein first to prepare cherry-picking\non previous stable branches (rocky, queens) and secondly because I\ndon't think we want it on older branches.\n\n[1] https://stackoverflow.com/q/33743880/\n[2] https://opendev.org/openstack/oslo.messaging/commit/4f385720d7d43aadfaff7c6f41b0534312b23ba8\n\nChange-Id: I5c468d10230f05438df780e045f1e92662edf070\nCloses-Bug: #1883038\n(cherry picked from commit 26e8bb4cc9097fddf3c2e34599b131e3f5d73867)\n(cherry picked from commit 360deb89a7e95d332267564b486219e389a793f7)\n(cherry picked from commit 54ced5361b49fb9b0cf53ff2e6f5825ba7ae513a)\n(cherry picked from commit e05bb37ae2b91df0a8391fa1f3c6d91de24aa9f1)\n(cherry picked from commit 84ff0bbb977139ef557b79d1eb00c8e4eea0aa78)\n""}]",1,807693,0aecec9806a174aa76e190a871bb80eb94b4deea,5,2,1,28522,,,0,"Catch ConnectionForced Exception

Occasionally I saw large number of connectionforced exceptions.
such exceptions cannot be healed automatically and requires a reboot.
catch it and ensure connection established.

Changes:
  oslo_messaging/_drivers/impl_rabbit.py

NOTE(stephenfin): We need to add the 'absolute_import' future to disable
the legacy import flow. Without this, the import of 'amqp.exceptions' in
'oslo_messaging._drivers.impl_rabbit' attempts to import 'exceptions'
from the sibling module, 'oslo_messaging._drivers.amqp', instead of the
top-level 'amqp' module. Thank God for Python 3.x, eh? More information
is available at [1], for those curious enough.

NOTE(hberaud): conflicts within the cherry-pick on stable/stein due to
removed log translation and i18n on stable/train [2]. I decided to
ignore this patch [2] for stable/stein first to prepare cherry-picking
on previous stable branches (rocky, queens) and secondly because I
don't think we want it on older branches.

[1] https://stackoverflow.com/q/33743880/
[2] https://opendev.org/openstack/oslo.messaging/commit/4f385720d7d43aadfaff7c6f41b0534312b23ba8

Change-Id: I5c468d10230f05438df780e045f1e92662edf070
Closes-Bug: #1883038
(cherry picked from commit 26e8bb4cc9097fddf3c2e34599b131e3f5d73867)
(cherry picked from commit 360deb89a7e95d332267564b486219e389a793f7)
(cherry picked from commit 54ced5361b49fb9b0cf53ff2e6f5825ba7ae513a)
(cherry picked from commit e05bb37ae2b91df0a8391fa1f3c6d91de24aa9f1)
(cherry picked from commit 84ff0bbb977139ef557b79d1eb00c8e4eea0aa78)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/93/807693/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,0aecec9806a174aa76e190a871bb80eb94b4deea,1883038,"from __future__ import absolute_import from amqp import exceptions as amqp_exec kombu.exceptions.OperationalError, amqp_exec.ConnectionForced) as exc:", kombu.exceptions.OperationalError) as exc:,5,1
openstack%2Foslo.utils~stable%2Fqueens~I6e547d206de9e3e333e29ccad52bf6b519a86ff9,openstack/oslo.utils,stable/queens,I6e547d206de9e3e333e29ccad52bf6b519a86ff9,Release greenthread when computing checksum,ABANDONED,2020-06-10 13:52:22.000000000,2022-11-30 16:26:24.000000000,,"[{'_account_id': 11904}, {'_account_id': 12356}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 13:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c06acc116003a4406e2bcd73db6bee7bdd1ecb54', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit 6916acfccc1c84aff613b60a984518b7be313908)\n(cherry picked from commit f36ca0e53af5bd0206e72c8a65cba103e790bc92)\n'}, {'number': 2, 'created': '2020-06-10 16:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e3c2a7ef9c1f705a56c48549c8f69c2bc98b8085', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit 6916acfccc1c84aff613b60a984518b7be313908)\n(cherry picked from commit f36ca0e53af5bd0206e72c8a65cba103e790bc92)\n'}, {'number': 3, 'created': '2020-06-10 16:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/bc1736655aa0bd4e5523c45cf747c715a81821c8', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)\n(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)\n'}, {'number': 4, 'created': '2021-04-21 15:53:13.000000000', 'files': ['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ed9f172e0404613a61d3d07aa2036dfbda4d6ee3', 'message': 'Release greenthread when computing checksum\n\nHaving time.sleep(0) after reading each block of data for computing\nchecksum will allow other greenthreads to run.\n\nCloses-Bug: 1882569\nChange-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9\n(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)\n(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)\n(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)\n(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)\n(cherry picked from commit 44cb01f10c154a1c2c5aac4917835d4f4530adc4)\n'}]",4,734846,ed9f172e0404613a61d3d07aa2036dfbda4d6ee3,18,4,4,28522,,,0,"Release greenthread when computing checksum

Having time.sleep(0) after reading each block of data for computing
checksum will allow other greenthreads to run.

Closes-Bug: 1882569
Change-Id: I6e547d206de9e3e333e29ccad52bf6b519a86ff9
(cherry picked from commit b9938230f992935e8332b6e288937be890724cd2)
(cherry picked from commit eeb7b1010720c47511d8b1abb94260357b0bea3f)
(cherry picked from commit f4deaad463efacaaaf429ac37bf5d37903cb4f55)
(cherry picked from commit 4cf03f0016693d066bdd6855bcfe234347f00426)
(cherry picked from commit 44cb01f10c154a1c2c5aac4917835d4f4530adc4)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/46/734846/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/fileutils.py', 'oslo_utils/tests/test_fileutils.py']",2,c06acc116003a4406e2bcd73db6bee7bdd1ecb54,release-greenthread-computing-checksum,"import time from unittest import mock def test_compute_checksum_sleep_0_called(self): path = fileutils.write_to_tempfile(self.content) self.assertTrue(os.path.exists(path)) self.check_file_content(self.content, path) expected_checksum = hashlib.sha256() expected_checksum.update(self.content) with mock.patch.object(time, ""sleep"") as sleep_mock: actual_checksum = fileutils.compute_file_checksum( path, read_chunksize=4) sleep_mock.assert_has_calls([mock.call(0)] * 3) # Just to make sure that there were exactly 3 calls self.assertEqual(3, sleep_mock.call_count) self.assertEqual(expected_checksum.hexdigest(), actual_checksum) ",,22,0
openstack%2Foslo.messaging~stable%2Fqueens~Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,openstack/oslo.messaging,stable/queens,Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6,Use default exchange for direct messaging,ABANDONED,2021-04-21 19:04:19.000000000,2022-11-30 16:25:34.000000000,,"[{'_account_id': 5948}, {'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-04-21 19:04:19.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d19ebccf2531c6988194cd7d7ea3bd32eae771f5', 'message': 'Use default exchange for direct messaging\n\nLots of exchanges create problems during failover under high\nload. Please see bug report for details.\n\nThis is step 1 in the process: only using default exchange\nwhen publishing. Consumers will still consume on separate\nexchanges (and on default exchange by default) so this\nshould be (and tested to be) a non-breaking and\nupgrade-friendly change.\n\nStep 2 is to update consumers to only listen on default exchange,\nto happen in T release.\n\nChange-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6\nCloses-Bug: #1789177\n(cherry picked from commit 3a5de89dd686dbd9660f140fdddd9c78b20e1632)\n'}]",8,787384,d19ebccf2531c6988194cd7d7ea3bd32eae771f5,36,6,1,19298,,,0,"Use default exchange for direct messaging

Lots of exchanges create problems during failover under high
load. Please see bug report for details.

This is step 1 in the process: only using default exchange
when publishing. Consumers will still consume on separate
exchanges (and on default exchange by default) so this
should be (and tested to be) a non-breaking and
upgrade-friendly change.

Step 2 is to update consumers to only listen on default exchange,
to happen in T release.

Change-Id: Id3603f4b7e1274b616d76e1c0c009d2ab7f6efb6
Closes-Bug: #1789177
(cherry picked from commit 3a5de89dd686dbd9660f140fdddd9c78b20e1632)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/84/787384/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,d19ebccf2531c6988194cd7d7ea3bd32eae771f5,bug/1789177-stable/queens," # TODO(obondarev): use default exchange since T release exchange = kombu.entity.Exchange(name='', # using default exchange"," exchange = kombu.entity.Exchange(name=msg_id,",2,1
openstack%2Foslo.service~stable%2Fqueens~Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e,openstack/oslo.service,stable/queens,Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e,[StableOnly] Reset eventlet hub after patching,ABANDONED,2020-11-02 07:52:14.000000000,2022-11-30 16:25:07.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 07:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/8086687269346b81aab11654c98ba6b2f542fc75', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n""}, {'number': 2, 'created': '2020-11-02 10:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/6e312615fb39f2519615c5ecbce030024706f437', 'message': ""Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\nDepends-On: https://review.opendev.org/755245\nDepends-On: https://review.opendev.org/760773\nDepends-On: https://review.opendev.org/760774\nDepends-On: https://review.opendev.org/760775\nDepends-On: https://review.opendev.org/760777\nDepends-On: https://review.opendev.org/760778\n(cherry picked from commit 338fd2c3f114f35f5cee07027d3322e70ba8ecf6)\n(cherry picked from commit 041c6f0ad655c2315e688ede4213ea41a9fdcae0)\n(cherry picked from commit 55157381f1d1bfb80b5213527721cec5a21c8049)\n(cherry picked from commit 4eef912a33e4939566aeaf6740731c04ea8924cb)\n(cherry picked from commit d2c84624e3a1b276096d9ccaa985ab60ad23763a)\n(cherry picked from commit aa1400cb61bd4b8ea698e16358e372fb2109ca17)\n""}, {'number': 3, 'created': '2022-04-05 09:55:04.000000000', 'files': ['oslo_service/__init__.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/43d13d20b4bcf93d659cfabab425b1735c75fc46', 'message': ""[StableOnly] Reset eventlet hub after patching\n\nPatching the eventlet hub by setting the environment variable will not be\neffective if hub singleton was already set by some imported module.\nCalling `use_hub()` will reset it's value based on the current overrides.\n\nChange-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e\nCloses-Bug: #1897877\n(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)\n(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)\n(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)\n(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)\n(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)\n""}]",2,760779,43d13d20b4bcf93d659cfabab425b1735c75fc46,15,2,3,20312,,,0,"[StableOnly] Reset eventlet hub after patching

Patching the eventlet hub by setting the environment variable will not be
effective if hub singleton was already set by some imported module.
Calling `use_hub()` will reset it's value based on the current overrides.

Change-Id: Ida6756b50266b4b2b2545f82e03e83e1c3be1e9e
Closes-Bug: #1897877
(cherry picked from commit 7f75fc1d4e7116b954db8924374e39c9fa8d9f6e)
(cherry picked from commit 5b35903e145a0a1b8c64b7f4ba71fa98ea1d935b)
(cherry picked from commit f22fe54a9e6c7e719f58eefefc0a44b9e3575eb4)
(cherry picked from commit 288e5164d9ec239f47e4c6dafd27e9172ee9aa47)
(cherry picked from commit 780fa35a684f205ad9237a851da2bf7c57fdceef)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/79/760779/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_service/__init__.py'],1,8086687269346b81aab11654c98ba6b2f542fc75,bug/1897877,# reset hub in case it was initialized already by some imported module eventlet.hubs.use_hub(os.environ['EVENTLET_HUB']),,2,0
openstack%2Foslo.messaging~stable%2Fqueens~I2ae53340783e4044dab58035bc0992dc08145b53,openstack/oslo.messaging,stable/queens,I2ae53340783e4044dab58035bc0992dc08145b53,Cancel consumer if queue down,ABANDONED,2020-09-01 07:39:41.000000000,2022-11-30 16:24:48.000000000,,"[{'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-09-01 07:39:41.000000000', 'files': ['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a74872ac890461a0abbc79ab995231bffe252722', 'message': 'Cancel consumer if queue down\n\nPreviously, we have switched to use default exchanges\nto avoid excessive amounts of exchange not found messages.\nBut it does not actually solve the problem because\nreply_* queue is already gone and agent will not receive callbacks.\n\nafter some debugging, I found under some circumstances\nseems rabbitmq consumer does not receive basic cancel\nsignal when queue is already gone. This might due to\nrabbitmq try to restart consumer when queue is down\n(for example when split brain). In such cases,\nit might be better to fail early.\n\nby reading the code, seems like x-cancel-on-ha-failover\nis not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,\nhttps://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.\n\nBy failing early, in my own test setup,\nI could solve a certain case of exchange not found problem.\n\nChange-Id: I2ae53340783e4044dab58035bc0992dc08145b53\nRelated-bug: #1789177\nDepends-On: https://review.opendev.org/#/c/749194/\n(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)\n(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)\n(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)\n(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)\n(cherry picked from commit c49667d54ab792bd017989b245ec37e711fc81e3)\n'}]",3,749196,a74872ac890461a0abbc79ab995231bffe252722,30,5,1,28522,,,0,"Cancel consumer if queue down

Previously, we have switched to use default exchanges
to avoid excessive amounts of exchange not found messages.
But it does not actually solve the problem because
reply_* queue is already gone and agent will not receive callbacks.

after some debugging, I found under some circumstances
seems rabbitmq consumer does not receive basic cancel
signal when queue is already gone. This might due to
rabbitmq try to restart consumer when queue is down
(for example when split brain). In such cases,
it might be better to fail early.

by reading the code, seems like x-cancel-on-ha-failover
is not dedicated to mirror queues only, https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1894,
https://github.com/rabbitmq/rabbitmq-server/blob/master/src/rabbit_channel.erl#L1926.

By failing early, in my own test setup,
I could solve a certain case of exchange not found problem.

Change-Id: I2ae53340783e4044dab58035bc0992dc08145b53
Related-bug: #1789177
Depends-On: https://review.opendev.org/#/c/749194/
(cherry picked from commit 196fa877a90d7eb0f82ec9e1c194eef3f98fc0b1)
(cherry picked from commit 0a432c7fb107d04f7a41199fe9a8c4fbd344d009)
(cherry picked from commit 5de11fa752ab8e37b95b1785f4c71210bf473f0c)
(cherry picked from commit 56bab1deab167e621d0a263f3fcf95b75c7d1bad)
(cherry picked from commit c49667d54ab792bd017989b245ec37e711fc81e3)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/96/749196/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/functional/test_rabbitmq.py', 'releasenotes/notes/add-enable_cancel_on_failover-22ac472b93dd3a23.yaml', 'oslo_messaging/_drivers/impl_rabbit.py']",3,a74872ac890461a0abbc79ab995231bffe252722,queens-cancel-consumer," cfg.BoolOpt('enable_cancel_on_failover', default=False, help=""Enable x-cancel-on-ha-failover flag so that "" ""rabbitmq server will cancel and notify consumers"" ""when queue is down"") nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0, enable_cancel_on_failover=False): self.enable_cancel_on_failover = enable_cancel_on_failover consumer_arguments = None if self.enable_cancel_on_failover: consumer_arguments = { ""x-cancel-on-ha-failover"": True} queue_arguments=self.queue_arguments, consumer_arguments=consumer_arguments ) self.enable_cancel_on_failover = driver_conf.enable_cancel_on_failover consumer = Consumer( exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, enable_cancel_on_failover=self.enable_cancel_on_failover) consumer = Consumer( exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl, enable_cancel_on_failover=self.enable_cancel_on_failover)"," nowait=False, rabbit_ha_queues=None, rabbit_queue_ttl=0): queue_arguments=self.queue_arguments) consumer = Consumer(exchange_name=topic, queue_name=topic, routing_key=topic, type='direct', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name or topic, routing_key=topic, type='topic', durable=self.amqp_durable_queues, exchange_auto_delete=self.amqp_auto_delete, queue_auto_delete=self.amqp_auto_delete, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues) consumer = Consumer(exchange_name=exchange_name, queue_name=queue_name, routing_key=topic, type='fanout', durable=False, exchange_auto_delete=True, queue_auto_delete=False, callback=callback, rabbit_ha_queues=self.rabbit_ha_queues, rabbit_queue_ttl=self.rabbit_transient_queues_ttl)",65,31
openstack%2Foslo.log~stable%2Fqueens~Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0,openstack/oslo.log,stable/queens,Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0,Fix handling of exc_info in OSJournalHandler,ABANDONED,2020-09-01 07:18:58.000000000,2022-11-30 16:24:32.000000000,,"[{'_account_id': 9701}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-09-01 07:18:58.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/handlers.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0854d54ccd0f2421c6736444ab178262149c6a24', 'message': ""Fix handling of exc_info in OSJournalHandler\n\nexc_info is exception tuple not intended to be printed. It's using to\ngenerate output by logging.Formatter().formatException() instead.\nexc_text used to cache this output. So we use handler formatter to get\nstring from exc_info and send it as EXCEPTION_INFO. EXCEPTION_TEXT is\nkept for backward compatibility.\n\nAlso adds type validation for journal.send fields to unit tests. Known\ntypes could be gotten from journal.DEFAULT_CONVERTERS. The rest payload\nmust be either a string or bytes.\n\nChange-Id: Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0\nCloses-Bug: 1802142\nDepends-On: https://review.opendev.org/#/c/749189/\n(cherry picked from commit a2956d7ff08f7657dc68c78f860bcc9eb2e5a8fb)\n(cherry picked from commit 7b39c0bdf3a52d66df363de2884434204a8efe3f)\n""}]",7,749191,0854d54ccd0f2421c6736444ab178262149c6a24,30,4,1,28522,,,0,"Fix handling of exc_info in OSJournalHandler

exc_info is exception tuple not intended to be printed. It's using to
generate output by logging.Formatter().formatException() instead.
exc_text used to cache this output. So we use handler formatter to get
string from exc_info and send it as EXCEPTION_INFO. EXCEPTION_TEXT is
kept for backward compatibility.

Also adds type validation for journal.send fields to unit tests. Known
types could be gotten from journal.DEFAULT_CONVERTERS. The rest payload
must be either a string or bytes.

Change-Id: Idc0b9edc61b4ec39dc9df0ea8282cc104e4d83c0
Closes-Bug: 1802142
Depends-On: https://review.opendev.org/#/c/749189/
(cherry picked from commit a2956d7ff08f7657dc68c78f860bcc9eb2e5a8fb)
(cherry picked from commit 7b39c0bdf3a52d66df363de2884434204a8efe3f)
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/91/749191/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/tests/unit/test_log.py', 'oslo_log/handlers.py']",2,0854d54ccd0f2421c6736444ab178262149c6a24,queens/bug/1802142, if record.exc_info: # Cache the traceback text to avoid converting it multiple times # (it's constant anyway) if not record.exc_text: record.exc_text = self.formatter.formatException( record.exc_info) if record.exc_text: extras['EXCEPTION_INFO'] = record.exc_text # Leave EXCEPTION_TEXT for backward compatibility extras['EXCEPTION_TEXT'] = record.exc_text, if record.exc_text: extras['EXCEPTION_TEXT'] = record.exc_text if record.exc_info: extras['EXCEPTION_INFO'] = record.exc_info,31,8
openstack%2Fnova~master~I4b6359c1154a8cecc72c16dddf66c5c4184a69f0,openstack/nova,master,I4b6359c1154a8cecc72c16dddf66c5c4184a69f0,Ironic - Handle instance/node host on rebalance,ABANDONED,2021-10-13 21:36:52.000000000,2022-11-30 16:16:17.000000000,,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 11292}, {'_account_id': 11604}, {'_account_id': 11655}, {'_account_id': 12640}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-13 21:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b36298de9e40b9af1c4ab5f122e812b9c5b3ee83', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 2, 'created': '2021-11-03 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b912df17548867cdf2cf552204ff0e615dbc13', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 3, 'created': '2021-11-03 17:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b5800cf5fee0b844970558d71b7cfef3fbf4da9', 'message': 'WIP Ironic - Handle instance host on rebalance\n\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 4, 'created': '2021-11-10 18:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b7a2acefe8bcc49ebaef86322c238361c24f9bc', 'message': 'Ironic - Handle instance host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to parallel who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If that node is the same compute node we\'re on, then nothing to\n  see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may also just be an additional rebalance is inbound,\n  we *really* don\'t have a good way of knowing so, so logically it is\n  just best to also just hold off.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host to be the current\n  running compute host which the hash ring indicates should manage\n  the instance.\n\nAll reconcilliation is also performed using ironic\'s knowledge of the\ninstance as well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulitng disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly.\n\nThis patch does *not* update the compute node host field record,\nwhich is queried and intertwined with cases where a compute node\nbe deleted. For reviewer sanity, that will be done in another patch,\nwhich is related to launchpad bug #1825876.\n\nCloses-Bug: #1730834\nCloses: rhbz#2017980\nRelated: #1825876\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 5, 'created': '2021-11-24 18:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca70fc471889b9ee87c51e131d93941dc9ade0ff', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to parallel who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If that node is the same compute node we\'re on, then nothing to\n  see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may also just be an additional rebalance is inbound,\n  we *really* don\'t have a good way of knowing so, so logically it is\n  just best to also just hold off.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host to be the current\n  running compute host which the hash ring indicates should manage\n  the instance.\n\nAll reconcilliation is also performed using ironic\'s knowledge of the\ninstance as well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulitng disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly.\n\nThis patch does *not* update the compute node host field record,\nwhich is queried and intertwined with cases where a compute node\nbe deleted. For reviewer sanity, that will be done in another patch,\nwhich is related to launchpad bug #1825876.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nRelated: #1825876\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 6, 'created': '2022-02-16 21:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fca1356c411407ee72c326fe4cff53c42977622', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 7, 'created': '2022-02-17 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57c988ed31d8da687011d080fb8dfa2ebd7fd305', 'message': 'WIP Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 8, 'created': '2022-02-21 22:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d6859c7560a0a21ee356f9bb6a9de088ff09cee', 'message': 'Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}, {'number': 9, 'created': '2022-03-31 23:44:55.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/ironic-instances-now-managable-after-rebalance-978e77bfbbcbc9f0.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/30cd3d8df6fdb7b560e0420c2d14cd3d57cb0124', 'message': 'Ironic - Handle instance/node host on rebalance\n\nNova-compute services supporting the pass-through to Ironic\nutilize a hash ring to handle ""who is responsible"" for a given\ncompute node. This allows for load to be spread across a number\nof nova-computes, and parallel updates/tracking to take place,\nwhich is commonly very necessary in the Bare Metal as a Service\n(BMaaS) use case as operators typically run the nova-compute service\non their control plane and the underlying resource availability is\nnot limited to a single host.\n\nHowever, when an instance is deployed, and the compute node has\nrebalanced, the user looses the ability to trigger actions on nodes\npreviously managed by an offline nova-compute instance. This is\nbecause the call to perform the instance action is routed to the\ninstance\'s host record across the RPC bus.\n\nWhat we explicitly need to do is when we rebalance, we need to\nreconcile the host record entries to reflect who is actively\nmanaging the node based upon the hash ring.\n\nThis requires us to know when the hash ring has changed,\nand then efficently handle:\n\n* If we should manage the node because the hash ring says so.\n* If the ironic node is managed by the compute service node we\n  are operating on, then nothing to see here, carry on.\n* If the hash ring is indicating the node is managed by *us* and\n  the prior host is online, then do *nothing*. The requests can still\n  be handled, and allow that node to continue to manage requests the\n  instance. This may be an indication an additional rebalance is\n  impending, we *really* don\'t have a good way of knowing so bececause\n  of the number of operational variables, so logically it is just best\n  to also just hold off and let things hopefully stablize.\n* If all else fails, as in the compute service/host is missing or has\n  been removed, then force the instance\'s host and compute node service\n  entry to be the current running compute host which the hash ring\n  indicates should manage interaction of the baremetal node on behalf\n  of Nova.\n\nAll reconcilliation is also performed using ironic\'s state knowledge\nas well. Obviously, if there is no instance, no action is\nrequired and the node cache being reported can be updated with that\nnode. If an instance is unknown to nova-compute, then we tolerate\nthat as there may be more than one nova in the same ironic sandbox.\nDoing so has an added benefit of allowing recovery from someone\naccidently changing the peer list/conductor group, and thus changing\nthe view the nova-compute service is able to view. The reconcillation\nwill fix the host field entries accordingly.\n\nThis change in behavior, necessitates a change in the node cache\npattern. Previously, if an instance was already running on a node,\nwe wouldn\'t add it to cache of nodes being managed unless it matched\nto the current compute host against the instance\'s host record.\n\nThis selective caching previously had an impact of the node\ndisappearing from nova\'s view because we would only consider\ncaching of nodes which have *not* been allocated for use even\nif the hash ring indicates we are the responsible nova-compute\nprocess.\n\nThe previous resulting disappearance from view creates additional\nunexpected conditions because resource tracking calls thorugh\nget_available_resource and node_is_available calls ultimately\nleverage the cache of nodes to be managed by the compute service\ninstance running, and a lack of presence in the cache can result\nin the node being considered disabled and being entirely skipped\nfrom resource tracker runs *and* ultimately causes the compute\nnode entry to be destroyed and removed from the resource tracker,\norphaning the ability to manage the instance. Reconciling, now\nultimatley enables the continued management of the instance as well.\n\nIn other words, since the hash ring dictates we manage the node,\nThen we must be capable of doing so accordingly and not setup\nourselves for orphaned compute node and instance entries creating\noperator headaches which presently require manual database edits\nto remedy.\n\nThis patch is by no means perfect. It focuses on eventual\nconsistency and balancing impact versus operational performance,\nalso while intending to be able to be backported in order to help\naddress so many different interaction issues between Nova and\nIronic.\n\nIt must be highlighted these prior issues are related to\nI39241223b447fcc671161c370dbf16e1773b684a, which was ultimately\ncaused by the fact compute node host mappings can be orphaned under\nnova.virt.ironic\'s prior behavior. This patch doesn\'t completely\nprevent that from still being the case, but should help substantially,\nagain, not perfect, but a hopefully balanced operational improvement.\n\nCloses-Bug: #1730834\nCloses-Bug: #1825876\nCloses: rhbz#2017980\nCloses-Bug: #1825876\nRelated: #1853009\nChange-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0\n'}]",63,813897,30cd3d8df6fdb7b560e0420c2d14cd3d57cb0124,93,8,9,11655,,,0,"Ironic - Handle instance/node host on rebalance

Nova-compute services supporting the pass-through to Ironic
utilize a hash ring to handle ""who is responsible"" for a given
compute node. This allows for load to be spread across a number
of nova-computes, and parallel updates/tracking to take place,
which is commonly very necessary in the Bare Metal as a Service
(BMaaS) use case as operators typically run the nova-compute service
on their control plane and the underlying resource availability is
not limited to a single host.

However, when an instance is deployed, and the compute node has
rebalanced, the user looses the ability to trigger actions on nodes
previously managed by an offline nova-compute instance. This is
because the call to perform the instance action is routed to the
instance's host record across the RPC bus.

What we explicitly need to do is when we rebalance, we need to
reconcile the host record entries to reflect who is actively
managing the node based upon the hash ring.

This requires us to know when the hash ring has changed,
and then efficently handle:

* If we should manage the node because the hash ring says so.
* If the ironic node is managed by the compute service node we
  are operating on, then nothing to see here, carry on.
* If the hash ring is indicating the node is managed by *us* and
  the prior host is online, then do *nothing*. The requests can still
  be handled, and allow that node to continue to manage requests the
  instance. This may be an indication an additional rebalance is
  impending, we *really* don't have a good way of knowing so bececause
  of the number of operational variables, so logically it is just best
  to also just hold off and let things hopefully stablize.
* If all else fails, as in the compute service/host is missing or has
  been removed, then force the instance's host and compute node service
  entry to be the current running compute host which the hash ring
  indicates should manage interaction of the baremetal node on behalf
  of Nova.

All reconcilliation is also performed using ironic's state knowledge
as well. Obviously, if there is no instance, no action is
required and the node cache being reported can be updated with that
node. If an instance is unknown to nova-compute, then we tolerate
that as there may be more than one nova in the same ironic sandbox.
Doing so has an added benefit of allowing recovery from someone
accidently changing the peer list/conductor group, and thus changing
the view the nova-compute service is able to view. The reconcillation
will fix the host field entries accordingly.

This change in behavior, necessitates a change in the node cache
pattern. Previously, if an instance was already running on a node,
we wouldn't add it to cache of nodes being managed unless it matched
to the current compute host against the instance's host record.

This selective caching previously had an impact of the node
disappearing from nova's view because we would only consider
caching of nodes which have *not* been allocated for use even
if the hash ring indicates we are the responsible nova-compute
process.

The previous resulting disappearance from view creates additional
unexpected conditions because resource tracking calls thorugh
get_available_resource and node_is_available calls ultimately
leverage the cache of nodes to be managed by the compute service
instance running, and a lack of presence in the cache can result
in the node being considered disabled and being entirely skipped
from resource tracker runs *and* ultimately causes the compute
node entry to be destroyed and removed from the resource tracker,
orphaning the ability to manage the instance. Reconciling, now
ultimatley enables the continued management of the instance as well.

In other words, since the hash ring dictates we manage the node,
Then we must be capable of doing so accordingly and not setup
ourselves for orphaned compute node and instance entries creating
operator headaches which presently require manual database edits
to remedy.

This patch is by no means perfect. It focuses on eventual
consistency and balancing impact versus operational performance,
also while intending to be able to be backported in order to help
address so many different interaction issues between Nova and
Ironic.

It must be highlighted these prior issues are related to
I39241223b447fcc671161c370dbf16e1773b684a, which was ultimately
caused by the fact compute node host mappings can be orphaned under
nova.virt.ironic's prior behavior. This patch doesn't completely
prevent that from still being the case, but should help substantially,
again, not perfect, but a hopefully balanced operational improvement.

Closes-Bug: #1730834
Closes-Bug: #1825876
Closes: rhbz#2017980
Closes-Bug: #1825876
Related: #1853009
Change-Id: I4b6359c1154a8cecc72c16dddf66c5c4184a69f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/813897/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,b36298de9e40b9af1c4ab5f122e812b9c5b3ee83,," self.hash_ring = None # NOTE(TheJulia): We need to determine if the hash ring has changed # as we need to take corrective action to update the nova records # to align, otherwise we risk race conditions with resource tracking # and placement record updates. if self.hash_ring: prior_ring = self.hash_ring.nodes else: prior_ring = None new_hash_ring = hash_ring.HashRing(services, partitions=_HASH_RING_PARTITIONS) if prior_ring and new_hash_ring.nodes != self.hash_ring.nodes: changed = True if prior_ring is None: # Initial node in ring, so we should return True changed = True else: changed = False self.hash_ring = new_hash_ring return changed def _try_reconcile_instance(self, instance_uuid): # NOTE(TheJulia): Update instance host entry, or at least # try to. context = nova_context.get_admin_context() try: instance = objects.Instance.get_by_uuid(context, instance_uuid) instance.host = CONF.host.lower() # Explicitly save the instance object to the DB to allow # new queries to pickup the host field. instance.save() except exception.InstanceNotFound: LOG.debug('Instance %(instance)s is known to ironic, but not our ' 'database. This could be expected if Ironic backs ' 'multiple Nova instances.', {'instance': instance_uuid}) except exception.ObjectActionError as e: LOG.error('Failure occured while attempting to reconcile ' 'instance %(instance)s. %(error)s', {'instance': instance_uuid, 'error': e}) hash_ring_changed = self._refresh_hash_ring(ctxt) # NOTE(TheJulia): Hash ring was stable or the node started # on this node. elif (CONF.host.lower() in self.hash_ring.get_nodes(node.uuid.encode('utf-8'))): # NOTE(TheJulia): According to the hash ring, we are a # nova-compute for this node. It should be in our cache # regardless and we will manage it moving forward. if node.instance_uuid is not None and hash_ring_changed: # NOTE(TheJulia): We are now the responsible compute # and must update nova's internal db to reconcile this # fact. Preferably before we update our cache. self._try_reconcile_instance(node.instance_uuid)"," self.hash_ring = hash_ring.HashRing(services, partitions=_HASH_RING_PARTITIONS) self._refresh_hash_ring(ctxt) elif (node.instance_uuid is None and CONF.host.lower() in self.hash_ring.get_nodes(node.uuid.encode('utf-8'))):",57,7
openstack%2Fansible-collections-openstack~master~I1cd37096834d4159b5fa46719f5c479cb2bc29a9,openstack/ansible-collections-openstack,master,I1cd37096834d4159b5fa46719f5c479cb2bc29a9,"Refactored neutron_rbac_polic{ies_info,y} modules",MERGED,2022-11-17 11:01:42.000000000,2022-11-30 16:01:21.000000000,2022-11-30 16:01:21.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-11-17 11:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/560c224e51b35284494d27e74b682b92f0a452a8', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 2, 'created': '2022-11-17 14:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ea269f5fa22484bf46403a52a443e2599e23c45a', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 3, 'created': '2022-11-17 15:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3c732719af32e299f8180c838f6efdbbc92ea795', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 4, 'created': '2022-11-17 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/18fc197db303fcd9201e407ea1d8230d3722c0b1', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 5, 'created': '2022-11-23 19:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/95ab5d8a1a4e60e0954d837113cc6cf1b2a838ca', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 6, 'created': '2022-11-30 09:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6f79f92980d46b11631b3c397d4e62cce094a8e1', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}, {'number': 7, 'created': '2022-11-30 09:52:36.000000000', 'files': ['ci/roles/neutron_rbac_policy/defaults/main.yml', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py', 'ci/roles/neutron_rbac/tasks/main.yml', '.zuul.yaml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0f37ed795bef99dba89e0dba132231c7a298b7b8', 'message': 'Refactored neutron_rbac_polic{ies_info,y} modules\n\nChange-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9\n'}]",14,864871,0f37ed795bef99dba89e0dba132231c7a298b7b8,30,3,7,32962,,,0,"Refactored neutron_rbac_polic{ies_info,y} modules

Change-Id: I1cd37096834d4159b5fa46719f5c479cb2bc29a9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/71/864871/6 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/neutron_rbac_policy/defaults/main.yml', 'plugins/modules/neutron_rbac_policy.py', 'plugins/modules/neutron_rbac_policies_info.py', '.zuul.yaml', 'ci/run-collection.yml', 'ci/roles/neutron_rbac_policy/tasks/main.yml']",6,560c224e51b35284494d27e74b682b92f0a452a8,neutron-rbac-policy,"- name: Assert return values of neutron_rbac_policy module assert: that: # allow new fields to be introduced but prevent fields from being removed - expected_fields|difference(rbac_policy.rbac_policy.keys())|length == 0 - name: Assert return values of neutron_rbac_policy_info module assert: that: # allow new fields to be introduced but prevent fields from being removed - expected_fields|difference(rbac_policies.rbac_policies[0].keys())|length == 0 - rbac_policy.rbac_policy.id in ( rbac_policies.rbac_policies | map(attribute='id') | list ) id: ""{{ rbac_policy.rbac_policy.id }}"" - rbac_policy.rbac_policy.id not in ( rbac_policies_remaining.rbac_policies | map(attribute='id') | list )","- name: Capture all existing policy IDs set_fact: rbac_policy_ids: ""{{ rbac_policies.policies | map(attribute='id') | list }}"" - rbac_policy.policy.id in rbac_policy_ids policy_id: ""{{ rbac_policy.policy.id }}""- name: Capture all remaining policy IDs set_fact: remaining_rbac_policy_ids: ""{{ rbac_policies_remaining.policies | map(attribute='id') | list }}"" - not rbac_policy.policy.id in remaining_rbac_policy_ids",319,452
openstack%2Fcharm-vault~master~I0326abbfe972062c9807083ebc3e0e80194d60a8,openstack/charm-vault,master,I0326abbfe972062c9807083ebc3e0e80194d60a8,Fix multiline notes and update obsolete add-relation juju command in README,MERGED,2022-11-25 09:44:58.000000000,2022-11-30 15:51:00.000000000,2022-11-30 15:51:00.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-11-25 09:44:58.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/018827558026693b730688a5a94c6ff4fcfaa5ee', 'message': 'Fix multiline notes and update obsolete add-relation juju command in README\n\nChange-Id: I0326abbfe972062c9807083ebc3e0e80194d60a8\n'}]",1,865652,018827558026693b730688a5a94c6ff4fcfaa5ee,7,3,1,28473,,,0,"Fix multiline notes and update obsolete add-relation juju command in README

Change-Id: I0326abbfe972062c9807083ebc3e0e80194d60a8
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/52/865652/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,018827558026693b730688a5a94c6ff4fcfaa5ee,readme-update,> 'Post-deployment tasks' covers this.> enable mlock (memory locking) to prevent secrets from being saved to disk via > page swapping. The mlock feature is not available to containers. juju relate vault:shared-db percona-cluster:shared-db juju relate vault-mysql-router:db-router mysql-innodb-cluster:db-router juju relate vault-mysql-router:shared-db vault:shared-db juju relate vault:db postgresql:db> be compatible (e.g. 9.5/xenial or 10/bionic). The postgresql charm's > configuration option `version` is used to select a version at deploy time.> using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates][cdg-vault-certs] > in the [OpenStack Charms Deployment Guide][cdg] for details.> is it possible to manage Vault without the initial root token. **Store this > information in a safe place immediately**.> and later resumed. A resumed vault unit will be sealed and will therefore > require unsealing. See [Managing power events][cdg-power-events] in the > [OpenStack Charms Deployment Guide][cdg] for details., 'Post-deployment tasks' covers this. enable mlock (memory locking) to prevent secrets from being saved to disk via page swapping. The mlock feature is not available to containers. juju add-relation vault:shared-db percona-cluster:shared-db juju add-relation vault-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation vault-mysql-router:shared-db vault:shared-db juju add-relation vault:db postgresql:db be compatible (e.g. 9.5/xenial or 10/bionic). The postgresql charm's configuration option `version` is used to select a version at deploy time. using Vault to manage the encryption of OpenStack API services. See [Managing TLS certificates][cdg-vault-certs] in the [OpenStack Charms Deployment Guide][cdg] for details. is it possible to manage Vault without the initial root token. **Store this information in a safe place immediately**. and later resumed. A resumed vault unit will be sealed and will therefore require unsealing. See [Managing power events][cdg-power-events] in the [OpenStack Charms Deployment Guide][cdg] for details.,16,17
openstack%2Fcinder~master~If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86,openstack/cinder,master,If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86,Remove IET iSCSI target,MERGED,2022-10-04 09:38:04.000000000,2022-11-30 15:36:12.000000000,2022-11-30 15:34:50.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-10-04 09:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65e0baf4c83478564eb9b189ef4c05544ecee24e', 'message': ""Remove IET iSCSI target\n\nWe are close to the Zed release and haven't deprecated it as we should\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n""}, {'number': 2, 'created': '2022-10-04 10:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b40c0fd9fdca669e23291152a89f6e8c1ca59ee9', 'message': ""Remove IET iSCSI target\n\nWe are close to the Zed release and haven't deprecated it as we should\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n""}, {'number': 3, 'created': '2022-10-31 14:13:12.000000000', 'files': ['cinder/privsep/targets/iet.py', 'releasenotes/notes/IET_iSCSI_target-dea5f68dc297510d.yaml', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/00fe924f34623aed8fc2f8d3ed552475fb30933c', 'message': 'Remove IET iSCSI target\n\nWe are close to the Zed release removing IET iSCSI target.\n\nCloses-Bug: #1988317\nChange-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86\n'}]",18,860227,00fe924f34623aed8fc2f8d3ed552475fb30933c,81,9,3,30615,,,0,"Remove IET iSCSI target

We are close to the Zed release removing IET iSCSI target.

Closes-Bug: #1988317
Change-Id: If8116daa9be69f0e95d5a1edf4a7ad7a9c0ecd86
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/860227/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/privsep/targets/iet.py', 'cinder/volume/targets/iet.py', 'cinder/tests/unit/targets/test_iet_driver.py']",3,65e0baf4c83478564eb9b189ef4c05544ecee24e,,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import contextlib import io from unittest import mock from oslo_concurrency import processutils as putils from cinder import context from cinder import exception from cinder.tests.unit.targets import targets_fixture as tf from cinder import utils from cinder.volume.targets import iet class TestIetAdmDriver(tf.TargetDriverFixture): def setUp(self): super(TestIetAdmDriver, self).setUp() self.target = iet.IetAdm(root_helper=utils.get_root_helper(), configuration=self.configuration) def test_get_target(self): tmp_file = io.StringIO() tmp_file.write( 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' ' cid:0 ip:10.9.8.7 state:active hd:none dd:none') tmp_file.seek(0) with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual('1', self.target._get_target( 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45' )) # Test the failure case: Failed to handle the config file mock_open.side_effect = MemoryError() self.assertRaises(MemoryError, self.target._get_target, '') @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=0) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') @mock.patch('os.path.exists', return_value=True) @mock.patch('cinder.utils.temporary_chown') @mock.patch.object(iet, 'LOG') def test_create_iscsi_target(self, mock_log, mock_chown, mock_exists, mock_new_logical_unit, mock_new_target, mock_get_targ): tmp_file = io.StringIO() with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual( 0, self.target.create_iscsi_target( self.test_vol, 0, 0, self.fake_volumes_dir)) self.assertTrue(mock_new_target.called) self.assertTrue(mock_open.called) self.assertTrue(mock_get_targ.called) self.assertTrue(mock_new_logical_unit.called) # Test the failure case: Failed to chown the config file mock_open.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.create_iscsi_target, self.test_vol, 0, 0, self.fake_volumes_dir) # Test the failure case: Failed to set new auth mock_new_target.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.create_iscsi_target, self.test_vol, 0, 0, self.fake_volumes_dir) @mock.patch('cinder.utils.execute') @mock.patch('os.path.exists', return_value=True) def test_update_config_file_failure(self, mock_exists, mock_execute): # Test the failure case: conf file does not exist mock_exists.return_value = False mock_execute.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetCreateFailed, self.target.update_config_file, self.test_vol, 0, self.fake_volumes_dir, ""foo bar"") @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') def test_create_iscsi_target_already_exists( self, mock_new_logical_unit, mock_new_target, mock_get_targ): self.assertEqual( 1, self.target.create_iscsi_target( self.test_vol, 1, 0, self.fake_volumes_dir)) self.assertTrue(mock_get_targ.called) self.assertTrue(mock_new_target.called) self.assertTrue(mock_new_logical_unit.called) @mock.patch('cinder.volume.targets.iet.IetAdm._find_sid_cid_for_target', return_value=None) @mock.patch('os.path.exists', return_value=False) @mock.patch('cinder.privsep.targets.iet.delete_logicalunit') @mock.patch('cinder.privsep.targets.iet.delete_target') def test_remove_iscsi_target( self, mock_delete_target, mock_delete_logicalunit, mock_exists, mock_find): # Test the normal case self.target.remove_iscsi_target(1, 0, self.testvol['id'], self.testvol['name']) mock_delete_logicalunit.assert_called_once_with(1, 0) mock_delete_target.assert_called_once_with(1) # Test the failure case: putils.ProcessExecutionError mock_delete_logicalunit.side_effect = putils.ProcessExecutionError self.assertRaises(exception.ISCSITargetRemoveFailed, self.target.remove_iscsi_target, 1, 0, self.testvol['id'], self.testvol['name']) @mock.patch('cinder.privsep.targets.iet.delete_target') def test_find_sid_cid_for_target(self, mock_delete_target): tmp_file = io.StringIO() tmp_file.write( 'tid:1 name:iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45\n' ' sid:844427031282176 initiator:' 'iqn.1994-05.com.redhat:5a6894679665\n' ' cid:0 ip:10.9.8.7 state:active hd:none dd:none') tmp_file.seek(0) with mock.patch('builtins.open') as mock_open: mock_open.return_value = contextlib.closing(tmp_file) self.assertEqual(('844427031282176', '0'), self.target._find_sid_cid_for_target( '1', 'iqn.2010-10.org.openstack:' 'volume-83c2e877-feed-46be-8435-77884fe55b45', 'volume-83c2e877-feed-46be-8435-77884fe55b45' )) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) @mock.patch('cinder.privsep.targets.iet.new_target') @mock.patch('cinder.privsep.targets.iet.new_logicalunit') @mock.patch('cinder.privsep.targets.iet.new_auth') @mock.patch.object(iet.IetAdm, '_get_target_chap_auth') def test_create_export( self, mock_get_chap, mock_new_auth, mock_new_logicalunit, mock_new_target, mock_get_targ): mock_get_chap.return_value = ('QZJbisGmn9AL954FNF4D', 'P68eE7u9eFqDGexd28DQ') expected_result = {'location': '10.9.8.7:3260,1 ' 'iqn.2010-10.org.openstack:testvol 0', 'auth': 'CHAP ' 'QZJbisGmn9AL954FNF4D P68eE7u9eFqDGexd28DQ'} ctxt = context.get_admin_context() self.assertEqual(expected_result, self.target.create_export(ctxt, self.testvol, self.fake_volumes_dir)) self.assertTrue(mock_new_logicalunit.called) self.assertTrue(mock_new_target.called) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target_chap_auth', return_value=None) @mock.patch('cinder.volume.targets.iet.IetAdm._get_target', return_value=1) def test_ensure_export(self, mock_get_targetm, mock_get_chap): ctxt = context.get_admin_context() with mock.patch.object(self.target, 'create_iscsi_target'): self.target.ensure_export(ctxt, self.testvol, self.fake_volumes_dir) self.target.create_iscsi_target.assert_called_once_with( 'iqn.2010-10.org.openstack:testvol', 1, 0, self.fake_volumes_dir, None, portals_ips=[self.configuration.target_ip_address], portals_port=int(self.configuration.target_port), check_exit_code=False, old_name=None) ",0,529
openstack%2Fdiskimage-builder~master~I4e66493d6b322ff5ed3a3750bc01931027a19507,openstack/diskimage-builder,master,I4e66493d6b322ff5ed3a3750bc01931027a19507,Add DIB_APT_SOURCES_INLINE to apt-sources element.,ABANDONED,2016-02-09 14:20:26.000000000,2022-11-30 15:08:37.000000000,,"[{'_account_id': 6488}, {'_account_id': 21741}]","[{'number': 1, 'created': '2016-02-09 14:20:26.000000000', 'files': ['elements/apt-sources/extra-data.d/99-override-default-apt-sources', 'elements/apt-sources/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cd30f0d7f4ab3276b08c60a786d2903b1cecec20', 'message': 'Add DIB_APT_SOURCES_INLINE to apt-sources element.\n\nIt should allows to override mirrors with bash variable\ninstead of a sources.list file.\nDIB_APT_SOURCES will still be in use and have higher preference.\n\nChange-Id: I4e66493d6b322ff5ed3a3750bc01931027a19507\nCloses-Bug: #1543590\nSigned-off-by: George Shuklin <george.shuklin@gmail.com>\n'}]",2,277850,cd30f0d7f4ab3276b08c60a786d2903b1cecec20,9,2,1,11227,,,0,"Add DIB_APT_SOURCES_INLINE to apt-sources element.

It should allows to override mirrors with bash variable
instead of a sources.list file.
DIB_APT_SOURCES will still be in use and have higher preference.

Change-Id: I4e66493d6b322ff5ed3a3750bc01931027a19507
Closes-Bug: #1543590
Signed-off-by: George Shuklin <george.shuklin@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/50/277850/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/apt-sources/extra-data.d/99-override-default-apt-sources', 'elements/apt-sources/README.rst']",2,cd30f0d7f4ab3276b08c60a786d2903b1cecec20,bug/1543590," DIB_APT_SOURCES_INLINE :Required: No :Default: None (Does not replace sources.list file) :Description: Array of sources.list values to be used :Example: B_APT_SOURCES_INLINE=( ""deb http://mirror.servers.com/debian/ jessie main contrib non-free"" ""deb-src http://mirror.servers.com/debian/ jessie main contrib non-free"" ) Note: You should use or DIB_APT_SOURCES or DIB_APT_SOURCES_INLINE, but not the both same time.",,45,13
openstack%2Fswift~master~I8fecc583f211913144663c85ab27ad448b5600f8,openstack/swift,master,I8fecc583f211913144663c85ab27ad448b5600f8,trivial: fix flakey account/test_auditor.py assertion,MERGED,2022-11-30 11:02:26.000000000,2022-11-30 14:49:15.000000000,2022-11-30 14:48:05.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 11:02:26.000000000', 'files': ['test/unit/account/test_auditor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/662ef280836178bfd1030cffbf686db14882a6f8', 'message': 'trivial: fix flakey account/test_auditor.py assertion\n\nThe test assertion assumes the test environment has exactly one\npolicy, but the test setup uses whatever number of policies are\ncurrently in POLICIES. This can cause the test to fail in environments\nwhere more than one policy is configured.\n\nFix the assertion to also use the actual number of policies.\n\nChange-Id: I8fecc583f211913144663c85ab27ad448b5600f8\n'}]",2,866138,662ef280836178bfd1030cffbf686db14882a6f8,8,2,1,7847,,,0,"trivial: fix flakey account/test_auditor.py assertion

The test assertion assumes the test environment has exactly one
policy, but the test setup uses whatever number of policies are
currently in POLICIES. This can cause the test to fail in environments
where more than one policy is configured.

Fix the assertion to also use the actual number of policies.

Change-Id: I8fecc583f211913144663c85ab27ad448b5600f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/866138/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/account/test_auditor.py'],1,662ef280836178bfd1030cffbf686db14882a6f8,p-flakey-test," 'The total container_count for the account a (%d) does not match ' 'the sum of container_count across policies (%d)' % (num_containers, num_containers - 1), error_message)"," 'The total container_count for the account a (3) does not match ' 'the sum of container_count across policies (2)', error_message)",3,2
openstack%2Freleases~master~I0933b823a73a355ddf395ac6c53c439c11bee9a3,openstack/releases,master,I0933b823a73a355ddf395ac6c53c439c11bee9a3,[barbican] Transition Queens to End of Life,ABANDONED,2022-11-25 20:43:14.000000000,2022-11-30 14:42:16.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 20:43:14.000000000', 'files': ['deliverables/queens/python-barbicanclient.yaml', 'deliverables/queens/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c3d49b0d0935348a265c13f51c957cbd20a540d', 'message': ""[barbican] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I0933b823a73a355ddf395ac6c53c439c11bee9a3\n""}]",0,865754,8c3d49b0d0935348a265c13f51c957cbd20a540d,3,4,1,17685,,,0,"[barbican] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I0933b823a73a355ddf395ac6c53c439c11bee9a3
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/865754/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/barbican.yaml', 'deliverables/queens/python-barbicanclient.yaml']",2,8c3d49b0d0935348a265c13f51c957cbd20a540d,queens-eol, - version: queens-eol projects: - repo: openstack/python-barbicanclient hash: 0c10571c8da593de7aa9300ccc4a37031c8008cf,,8,0
openstack%2Fcharm-nova-k8s~stable%2Fxena~I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e,openstack/charm-nova-k8s,stable/xena,I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e,Refactor testing bundle,MERGED,2022-11-30 09:21:05.000000000,2022-11-30 14:31:57.000000000,2022-11-30 13:29:41.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/e7217fbafa27de5a8a94f737cb6291e3422f757b', 'message': 'Refactor testing bundle\n\nDefault to jammy series, annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e\n'}, {'number': 2, 'created': '2022-11-30 12:14:18.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/def0e593cb15eaa3ab02e4d5b1354565636a007e', 'message': 'Refactor testing bundle\n\nDefault to jammy series, annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e\n'}]",0,866112,def0e593cb15eaa3ab02e4d5b1354565636a007e,9,2,2,935,,,0,"Refactor testing bundle

Default to jammy series, annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: I345a9b47927c3f93d4bd4c8b2e7b7903aa225c1e
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/12/866112/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,e7217fbafa27de5a8a94f737cb6291e3422f757b,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,17
openstack%2Ftripleo-common~stable%2Fwallaby~Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,openstack/tripleo-common,stable/wallaby,Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,Define container image used by GlanceApiInternal service,MERGED,2022-11-28 19:10:37.000000000,2022-11-30 14:29:58.000000000,2022-11-30 14:28:56.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 19:10:37.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b377d2ff3ae2ed46760253d55db49d91fa098d4', 'message': 'Define container image used by GlanceApiInternal service\n\nGlanceApiInternal is a new tripleo service, and it uses the same\ncontainer image as the GlanceApi and GlanceApiEdge services.\n\nChange-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\n(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)\n(cherry picked from commit 84749a7256b11912653a79bf70ada64cd13bb788)\n'}]",2,865883,6b377d2ff3ae2ed46760253d55db49d91fa098d4,11,4,1,21129,,,0,"Define container image used by GlanceApiInternal service

GlanceApiInternal is a new tripleo service, and it uses the same
container image as the GlanceApi and GlanceApiEdge services.

Change-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)
(cherry picked from commit 84749a7256b11912653a79bf70ada64cd13bb788)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/865883/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,6b377d2ff3ae2ed46760253d55db49d91fa098d4,glance-api-internal, - ContainerGlanceApiInternalConfigImage - OS::TripleO::Services::GlanceApiInternal,,2,0
openstack%2Fcharm-glance-k8s~stable%2Fxena~Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d,openstack/charm-glance-k8s,stable/xena,Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d,Refactor testing bundle,MERGED,2022-11-30 09:15:41.000000000,2022-11-30 14:28:21.000000000,2022-11-30 13:27:16.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/997ab05deecf32544a01a3795be83ab71fa21b55', 'message': 'Refactor testing bundle\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d\n'}, {'number': 2, 'created': '2022-11-30 12:15:40.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/367770f03afb2f12e06092f105f59a60c24996b4', 'message': 'Refactor testing bundle\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d\n'}]",0,866110,367770f03afb2f12e06092f105f59a60c24996b4,9,2,2,935,,,0,"Refactor testing bundle

Set default series to jammy and annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: Iec2d22332c20fb9d250d35f4e3ef85d79049ca7d
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/10/866110/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,997ab05deecf32544a01a3795be83ab71fa21b55,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,15
openstack%2Fcharm-keystone-k8s~stable%2Fxena~Ie08920db642995ec32d130e8d8c9e43def4eaf06,openstack/charm-keystone-k8s,stable/xena,Ie08920db642995ec32d130e8d8c9e43def4eaf06,Refactor bundles,MERGED,2022-11-30 09:19:13.000000000,2022-11-30 14:28:14.000000000,2022-11-30 13:27:13.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 09:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/6ac02a2564b088bfc4c0b451818368f53153c28d', 'message': 'Refactor bundles\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nChange-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06\n'}, {'number': 2, 'created': '2022-11-30 12:14:56.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/403ff227a27c852fd710e3e4453bfd6fefd0292a', 'message': 'Refactor bundles\n\nSet default series to jammy and annotate focal exceptions.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06\n'}]",2,866111,403ff227a27c852fd710e3e4453bfd6fefd0292a,10,2,2,935,,,0,"Refactor bundles

Set default series to jammy and annotate focal exceptions.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: Ie08920db642995ec32d130e8d8c9e43def4eaf06
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/11/866111/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,6ac02a2564b088bfc4c0b451818368f53153c28d,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',4,15
openstack%2Fkolla~master~I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0,openstack/kolla,master,I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0,rocky: update pretty name to match 9.1,ABANDONED,2022-11-30 14:25:04.000000000,2022-11-30 14:26:34.000000000,,[],"[{'number': 1, 'created': '2022-11-30 14:25:04.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b', 'message': 'rocky: update pretty name to match 9.1\n\nChange-Id: I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0\n'}]",0,866170,4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b,4,0,1,22629,,,0,"rocky: update pretty name to match 9.1

Change-Id: I9b80d42d807172d0f5ab47b9ab5b5c9283a923f0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/866170/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,4767df09ea28f4ce65b007dcfdcba2dc3dcc9c4b,," 'rocky': 'Rocky Linux 9.1 (Blue Onyx)',"," 'rocky': 'Rocky Linux 9.0 (Blue Onyx)',",1,1
openstack%2Fcharm-placement-k8s~stable%2Fxena~I9b246dca06526f80f76f70fe99da600c2431f718,openstack/charm-placement-k8s,stable/xena,I9b246dca06526f80f76f70fe99da600c2431f718,Refactor testing bundle,MERGED,2022-11-30 12:22:07.000000000,2022-11-30 14:26:06.000000000,2022-11-30 13:24:52.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 12:22:07.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/91e622c969c2a53eeb8d6dcac433bf12f34e170e', 'message': 'Refactor testing bundle\n\nDefault series to jammy, annotate focal on charms as needed.\n\nDrop multiple traefik instances.\n\nUpper constrain flake8.\n\nChange-Id: I9b246dca06526f80f76f70fe99da600c2431f718\n'}]",0,866145,91e622c969c2a53eeb8d6dcac433bf12f34e170e,7,2,1,935,,,0,"Refactor testing bundle

Default series to jammy, annotate focal on charms as needed.

Drop multiple traefik instances.

Upper constrain flake8.

Change-Id: I9b246dca06526f80f76f70fe99da600c2431f718
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/45/866145/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml', 'tox.ini']",3,91e622c969c2a53eeb8d6dcac433bf12f34e170e,bundle-refactor, # Pin version until https://github.com/savoirfairelinux/flake8-copyright/issues/19 is merged flake8<6, # flake8==4.0.1 # Pin version until https://github.com/csachs/pyproject-flake8/pull/14 is merged flake8,6,22
openstack%2Fpuppet-neutron~master~Ifa92f37041c76d80b74769eae06d061b546c49d8,openstack/puppet-neutron,master,Ifa92f37041c76d80b74769eae06d061b546c49d8,Support [DEFAULT] l3_ha_network_* options,MERGED,2022-11-29 03:28:05.000000000,2022-11-30 14:23:13.000000000,2022-11-30 14:22:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 03:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/061bf856f073d078f8f3c7a6e54fb49e005f7956', 'message': 'Support [DEFAULT] l3_ha_network_* options\n\nThis change introduces support for a few new parameters so that users\ncan configure these parameters to customize the l3 ha network.\n\nChange-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8\n'}, {'number': 2, 'created': '2022-11-29 04:57:25.000000000', 'files': ['spec/classes/neutron_server_spec.rb', 'manifests/server.pp', 'releasenotes/notes/l3-opts-16b17ace694d9c59.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5ea0dce609e277c439d1cdbd32786ed0e7cd0be4', 'message': 'Support [DEFAULT] l3_ha_network_* options\n\nThis change introduces support for a few new parameters so that users\ncan configure these parameters to customize the l3 ha network.\n\nChange-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8\n'}]",1,865931,5ea0dce609e277c439d1cdbd32786ed0e7cd0be4,13,3,2,9816,,,0,"Support [DEFAULT] l3_ha_network_* options

This change introduces support for a few new parameters so that users
can configure these parameters to customize the l3 ha network.

Change-Id: Ifa92f37041c76d80b74769eae06d061b546c49d8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/31/865931/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_spec.rb', 'manifests/server.pp', 'releasenotes/notes/l3-opts-16b17ace694d9c59.yaml']",3,061bf856f073d078f8f3c7a6e54fb49e005f7956,,--- features: - | The following two parameters have been added to the ``neutron::server`` class. - ``l3_ha_network_type`` - ``l3_ha_network_physical_name`` ,,42,2
openstack%2Fopenstacksdk~master~I884a13186c55f50ced0af3d43c0dc51cc4281bb6,openstack/openstacksdk,master,I884a13186c55f50ced0af3d43c0dc51cc4281bb6,"Revert ""Add ""security_group_ids"" to Port's query parameters""",MERGED,2022-01-14 16:41:23.000000000,2022-11-30 14:21:31.000000000,2022-01-15 14:23:10.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 27900}, {'_account_id': 32029}, {'_account_id': 33945}]","[{'number': 1, 'created': '2022-01-14 16:41:23.000000000', 'files': ['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc', 'message': 'Revert ""Add ""security_group_ids"" to Port\'s query parameters""\n\nThis reverts commit f7f9446d6e60e6255895ee477a61f2f24f1516ba.\n\nReason for revert: merge conflict in the r1 merge change. It will be re-reverted once r1 successfully lands\n\nChange-Id: I884a13186c55f50ced0af3d43c0dc51cc4281bb6\n'}]",1,824751,5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc,12,9,1,27900,,,0,"Revert ""Add ""security_group_ids"" to Port's query parameters""

This reverts commit f7f9446d6e60e6255895ee477a61f2f24f1516ba.

Reason for revert: merge conflict in the r1 merge change. It will be re-reverted once r1 successfully lands

Change-Id: I884a13186c55f50ced0af3d43c0dc51cc4281bb6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/824751/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py']",2,5e969fb49d96fd2071ecc8a379ec6e2c3c5c90bc,add_neutron_port_security_groups_query_param,," security_group_ids='security_groups',",0,2
openstack%2Fcinder-specs~master~I6460c25d6c7446413612d692cde8c5a99599d9f0,openstack/cinder-specs,master,I6460c25d6c7446413612d692cde8c5a99599d9f0,Spec to introduce additional task status field,NEW,2021-11-19 13:10:35.000000000,2022-11-30 14:19:36.000000000,,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-19 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a708ff31e2e9c6e6aa8144eb56f41eb131453af8', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 2, 'created': '2021-12-07 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a07200084ba61e33cc416c518f51640535e83a10', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 3, 'created': '2021-12-16 17:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/36d7615d86970c62ae522d4d3566e6d8f2ba65bf', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 4, 'created': '2022-01-04 09:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4530d7c21aba9f95342360a3246ecf84e8e66f77', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 5, 'created': '2022-01-07 08:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a8075f942aa80ee80c80a5b910f3bc5b859a07fa', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 6, 'created': '2022-01-21 12:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ca77820a7ef05b1189f8a807ec12d7f5e5bd51f9', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}, {'number': 7, 'created': '2022-03-02 07:44:52.000000000', 'files': ['specs/zed/images/VolumeMigration_Example3.png', 'specs/zed/images/VolumeMigration_Example1.png', 'specs/zed/images/VolumeMigration_Example2.png', 'specs/zed/move-task-status-to-dedicated-field.rst', 'specs/zed/diagrams/sequenzediagram_example1.pu', 'specs/zed/remove-me.rst', 'doc/source/conf.py', 'specs/zed/diagrams/sequenzediagram_example3.pu', 'specs/zed/diagrams/sequenzediagram_example2.pu'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/655427eea06907ffe414461328e2f801de5da0b5', 'message': 'Spec to introduce additional task status field\n\nImplements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field\n\nCo-Author: Christian Rohmann <christian.rohmann@inovex.de>\nChange-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0\n'}]",67,818551,655427eea06907ffe414461328e2f801de5da0b5,49,7,7,34149,,,0,"Spec to introduce additional task status field

Implements blueprint: https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field

Co-Author: Christian Rohmann <christian.rohmann@inovex.de>
Change-Id: I6460c25d6c7446413612d692cde8c5a99599d9f0
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/51/818551/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/move-task-status-to-dedicated-field.rst'],1,a708ff31e2e9c6e6aa8144eb56f41eb131453af8,move_task_status_to_dedicated_field,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Move task status from volume_status to a dedicated field ======================================================== https://blueprints.launchpad.net/cinder/+spec/move-task-status-to-dedicated-field This spec proposes a change/update to the status field of a volume and the introduction of a new field to hold the status of tasks. While many actions can happen simultaneously (e.g. backup-driver and block device-driver acting independently), the state of two independently running tasks cannot be represented by only one status value and a single field holding it. Currently all actions block each other through this single field and usually require the volume to be in an idle state ('in-use', 'available',...), consequently serializing all tasks. Problem description =================== Currently all cinder tasks check for the volume status prior to starting their work. During the active phase of a task, its status is also held in the same volume status field. And finally also errors thrown by a task are communicated back via this field. This causes cinder to not allow two or more independent actions happening at the same time even if different drivers are used or the actions could run concurrently on the same volume. Since the actual volume status is 'lost' while a tasks is running, this status is temporarily saved in a field previous_status (https://opendev.org/openstack/cinder/src/commit/3e048975d0f75b983c69974945f8e5a9792c488a/cinder/db/sqlalchemy/models.py#L311) which is then restored to volume_status on task completion. This logic adds complexity and also adds to the argument of an overused single field. Having tasks (temporarily) 'replace' the basic status of the block storage ('available’, 'in-use’, 'maintenance’,...) also implies the transitions belong to the same state machine - but this is actually not the case: A volume that is e.g. 'in-use’ certainly is still 'in-use’ while there is a backup task running for it. Or it could also be detached from an instance, while the backup is being copied to the remote storage. In short, the state (transition) of a volume itself can be totally unrelated from the activity of a task working with it. Use Cases ========= One use case can be any attachment change of a volume (e.g. as it happens during an instance live-migration) and a concurrently run volume backup. This is currently not possible, but should be since a backup is usually done on a snapshot of the volume with an independent lifecycle and also by another component, like cinder-backup. These two actions, re-attaching the volume to another instance while also backing it up, can therefore technically happen at the same time, but cannot in OpenStack as the status of the two operations is represented in just one status field and value (https://opendev.org/openstack/cinder/src/commit/3e048975d0f75b983c69974945f8e5a9792c488a/cinder/volume/api.py#L2112). To make matters worse, the potentially long running backup (task) could also have been triggered by the user and then be blocking administrative actions such as instance migrations to another host. Provided sufficiently large volumes or a slow backup process to a remote location this is not a matter of seconds or minutes. In general multiple actions could modify or work with a volume concurrently, facilitating a decoupling and general speed-up. Proposed change =============== Inspired by the design used in Nova, this spec proposes to split up the single status field into two and with it the kind of information it holds. First reduce the status values and transitions in the currently used status field to only those of the block device itself, e.g. 'available', 'in-use', 'attaching', 'reserved', 'error', while keeping most condition checks on state transitions in place. Move tasks such as 'resizing', 'backing-up', ... to a dedicated field e.g. OS-EXT-STS:task_status and use that to coordinate and synchronize them. Looking at the state-machine and possible transitions for Nova instances, this works in a similar fashion (https://docs.openstack.org/nova/latest/reference/vm-states.html) Certainly there are some dependencies of the state machines, but in general a separation will allow for more decoupled operations. Also consider their reasoning for having multiple fields, how and when to update them and the conventions they use: https://wiki.openstack.org/wiki/VMState#task_state. There will be some changes to the condition checks for certain tasks to be started, but most usually depend on the volume status values that would remain in the volume_status field anyways. To stress the comparison with Nova once more, consider the vm-states nova requires to start a certain action (https://opendev.org/openstack/nova/src/branch/master/doc/source/reference/vm-states.rst#requirements-for-commands). Such logic could be a way forward implementing such a task_status field to use and then to start an action. Alternatives ------------ The status field could be changed to allow multiple states at once, which can be added, changed or removed independently. As this would also enable independent lifecycles and state-machines for block devices status and task status, having no separation on concerns via two distinct fields makes the logic and conditions to handle much more complicated. Another approach would be the introduction of ever more fields like the replication_status, migration_status representing independent operations, for i.e. the backup process. While this would allow for even more independently running tasks or operations, the synchronisation complexity would increase more and more, always affecting most or all actors on volumes. Data model impact ----------------- An additional field task_status would have to be added to the volume, together with a change to the list of valid values it might hold. The valid values for volume_status would need to be reduced. REST API impact --------------- The additional field of a task_status would need to be sent to the user. The valid status of a volume would only allow the reduced set. In addition endpoints have to be created to update the task_status (by the admin only, like the current update status endpoints). NOTE: The list of endpoints to be changed is based on the current proposed change and is subject to change and not completed. * Show volume * Update volume * List volumes * show additional field for the task_status * additional filter for the task_status * List detailed volumes * show additional field for the task_status * additional filter for the task_status * Set volume status * Unset volume status Additional endpoints * Set volume task_status * Unset volume task_status Security impact --------------- To be discussed Active/Active HA impact ----------------------- Multiple actions can run by different drivers simultaneous on the volume which can enhance the performance of the cluster. To be discussed Notifications impact -------------------- To be discussed Other end user impact --------------------- User interface changes: * The additional task_status can be displayed to the user. python-cinderclient changes: * The additional task_status is sent to the user. * The task_status can be updated by the administrator. Performance Impact ------------------ Certain tasks can now run independently from e.g. attachment changes reducing the interdependency of such operations. This enhances the performance of some operations and do not wait for other operations to finish. To be discussed Other deployer impact --------------------- To be discussed Developer impact ---------------- The status of a volume can only be set to the available status of the reduced list of the 'base’ states. All other status have to be set to the task_status field. In addition a task_status can be added, updated or removed to only the list of valid task_status. To be discussed Implementation ============== Assignee(s) ----------- To be discussed Work Items ---------- To be discussed Dependencies ============ To be discussed Testing ======= Only the reduced set of states are allowed for the status field. Each other status has to be set in the new task_status field. Existing tests which use the status field have to be changed to only use the available status from the reduced sets. All other status have to be set to the task_status field. If the test checks for a status to start, check which status it needs to start. To be discussed Documentation Impact ==================== Document the resulting state-machines for the 'base’ states and the resulting independent state-machines which can change the task_status field and their required status to start. References ========== To be discussed ",,252,0
openstack%2Freleases~master~I4799304b6f172790aedc65f3fb8e45f350cdb5f2,openstack/releases,master,I4799304b6f172790aedc65f3fb8e45f350cdb5f2,[oslo] Transition Queens to End of Life,MERGED,2022-11-25 20:34:09.000000000,2022-11-30 14:08:15.000000000,2022-11-30 14:08:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-25 20:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d57a338597228d378fe25443c7ba3ef8dda8d4c9', 'message': ""[oslo] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2\n""}, {'number': 2, 'created': '2022-11-29 14:20:39.000000000', 'files': ['deliverables/queens/automaton.yaml', 'deliverables/queens/devstack-plugin-kafka.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/queens/devstack-plugin-amqp1.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/queens/castellan.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/queens/stevedore.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7ed38b53834159bfe4c66a876dcd7049c5586831', 'message': ""[oslo] Transition Queens to End of Life\n\nThis transition the Queens branch to End of Life. The last patch of the\nbranch will be tagged with queens-eol tag. The stable/queens branch\ncannot be used anymore and will be deleted if this patch merges.\n\nThis is needed as stable/queens is not actively maintained in the recent\nperiod and thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/queens is deleted, and propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\nChange-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2\n""}]",3,865733,7ed38b53834159bfe4c66a876dcd7049c5586831,10,4,2,17685,,,0,"[oslo] Transition Queens to End of Life

This transition the Queens branch to End of Life. The last patch of the
branch will be tagged with queens-eol tag. The stable/queens branch
cannot be used anymore and will be deleted if this patch merges.

This is needed as stable/queens is not actively maintained in the recent
period and thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/queens is deleted, and propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

Change-Id: I4799304b6f172790aedc65f3fb8e45f350cdb5f2
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/865733/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/automaton.yaml', 'deliverables/queens/devstack-plugin-kafka.yaml', 'deliverables/queens/debtcollector.yaml', 'deliverables/queens/oslo.concurrency.yaml', 'deliverables/queens/oslo.privsep.yaml', 'deliverables/queens/oslo.utils.yaml', 'deliverables/queens/devstack-plugin-amqp1.yaml', 'deliverables/queens/oslo.cache.yaml', 'deliverables/queens/oslo.policy.yaml', 'deliverables/queens/oslo.log.yaml', 'deliverables/queens/oslo.i18n.yaml', 'deliverables/queens/futurist.yaml', 'deliverables/queens/taskflow.yaml', 'deliverables/queens/oslo.vmware.yaml', 'deliverables/queens/oslosphinx.yaml', 'deliverables/queens/mox3.yaml', 'deliverables/queens/oslotest.yaml', 'deliverables/queens/osprofiler.yaml', 'deliverables/queens/oslo.messaging.yaml', 'deliverables/queens/oslo.service.yaml', 'deliverables/queens/oslo.middleware.yaml', 'deliverables/queens/oslo.rootwrap.yaml', 'deliverables/queens/oslo.serialization.yaml', 'deliverables/queens/oslo.versionedobjects.yaml', 'deliverables/queens/oslo.context.yaml', 'deliverables/queens/castellan.yaml', 'deliverables/queens/oslo.config.yaml', 'deliverables/queens/tooz.yaml', 'deliverables/queens/oslo.db.yaml', 'deliverables/queens/oslo.reports.yaml', 'deliverables/queens/stevedore.yaml']",31,d57a338597228d378fe25443c7ba3ef8dda8d4c9,queens-eol, - version: queens-eol projects: - repo: openstack/stevedore hash: f10075c4b36cd2375234e8bb93247be13869332a,,126,0
openstack%2Fpython-openstackclient~stable%2Fxena~I6842dabd7acb4e3a78f894e55e616625757eb6a4,openstack/python-openstackclient,stable/xena,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:33:05.000000000,2022-11-30 14:01:16.000000000,2022-11-30 14:00:08.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:33:05.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/db417598ed958b3f1877906d5d1bc7c5896ea168', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)\n""}]",3,859970,db417598ed958b3f1877906d5d1bc7c5896ea168,16,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/859970/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,db417598ed958b3f1877906d5d1bc7c5896ea168,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fcharm-cinder-k8s~stable%2Fxena~Id37f67ad7a4b69415fb580a5913d66a2de09bec0,openstack/charm-cinder-k8s,stable/xena,Id37f67ad7a4b69415fb580a5913d66a2de09bec0,Refactor bundle for series alignment,MERGED,2022-11-29 11:01:55.000000000,2022-11-30 13:51:39.000000000,2022-11-30 12:59:30.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:01:55.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/424212f4bfd27dc8eb68e1d935e93fef6508752e', 'message': 'Refactor bundle for series alignment\n\nDefault bundle to use jammy base.\n\nUse single ingress controller for deployment testing.\n\nChange-Id: Id37f67ad7a4b69415fb580a5913d66a2de09bec0\n'}]",0,865978,424212f4bfd27dc8eb68e1d935e93fef6508752e,7,2,1,935,,,0,"Refactor bundle for series alignment

Default bundle to use jammy base.

Use single ingress controller for deployment testing.

Change-Id: Id37f67ad7a4b69415fb580a5913d66a2de09bec0
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/78/865978/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,424212f4bfd27dc8eb68e1d935e93fef6508752e,bundle-refactor,, traefik-public: workload-status: active workload-status-message-regex: '^$',3,15
openstack%2Fcharm-horizon-k8s~stable%2Fxena~Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e,openstack/charm-horizon-k8s,stable/xena,Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e,Misc fixes for xena branch,MERGED,2022-11-30 12:23:46.000000000,2022-11-30 13:49:34.000000000,2022-11-30 12:58:53.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 12:23:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/1496f99f3a69aad0d814cc83449a7e144e140704', 'message': 'Misc fixes for xena branch\n\nUpper constrain flake8.\n\nChange-Id: Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e\n'}]",0,866146,1496f99f3a69aad0d814cc83449a7e144e140704,8,3,1,935,,,0,"Misc fixes for xena branch

Upper constrain flake8.

Change-Id: Ie683edb7850a52259cb3cf52cd5fbdd08f39a74e
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/46/866146/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1496f99f3a69aad0d814cc83449a7e144e140704,bundle-refactor, # Pin version until https://github.com/savoirfairelinux/flake8-copyright/issues/19 is merged flake8<6, # flake8==4.0.1 # Pin version until https://github.com/csachs/pyproject-flake8/pull/14 is merged flake8,2,2
openstack%2Fopenstack-ansible-os_nova~master~I6e901e48edb9b758eb657d953c9089aec6a705a3,openstack/openstack-ansible-os_nova,master,I6e901e48edb9b758eb657d953c9089aec6a705a3,Fix default of neutron_plugin_type,ABANDONED,2022-11-29 13:46:41.000000000,2022-11-30 13:24:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-29 13:46:41.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/134ce135996d8c785c4a2ec008fbeaab9b7eab22', 'message': 'Fix default of neutron_plugin_type\n\nCurrent way of defining default does not work and nova will still fail\nif neutron_plugin_type is undefined.\n\nChange-Id: I6e901e48edb9b758eb657d953c9089aec6a705a3\n'}]",0,866011,134ce135996d8c785c4a2ec008fbeaab9b7eab22,4,2,1,28619,,,0,"Fix default of neutron_plugin_type

Current way of defining default does not work and nova will still fail
if neutron_plugin_type is undefined.

Change-Id: I6e901e48edb9b758eb657d953c9089aec6a705a3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/11/866011/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,134ce135996d8c785c4a2ec008fbeaab9b7eab22,osa/ovn,"{% if (neutron_plugin_type | default('') == ""ml2.ovs"") %}","{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %}",1,1
openstack%2Fkeystoneauth~master~Ibd27470c9250000d24cf085ccf6b0c31c782c21e,openstack/keystoneauth,master,Ibd27470c9250000d24cf085ccf6b0c31c782c21e,Add OTP to v3OIDCpassword plugin,NEW,2019-12-04 19:18:54.000000000,2022-11-30 13:23:16.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2019-12-04 19:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8b620db45daeec4b9d03fb78bf2d09f3784ebe15', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 2, 'created': '2019-12-27 13:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/91ee30f98281aaaeab1eb95306d74472f19be5c7', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 3, 'created': '2019-12-27 15:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f2dc7936ca2862fa3b4049ad5f422072030ec206', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 4, 'created': '2020-08-19 18:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d406186a1de54c037463d33dd318125d9b3f810e', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 5, 'created': '2020-08-20 11:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d3f26262d1d1e1615cc2019e83449f996955c8ba', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 6, 'created': '2020-08-20 13:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/6a3cb49f1960a59e7b62a7fc19a492958a676fd8', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 7, 'created': '2022-04-29 15:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1d36fabf0f490fff1d7c271bfe634cd9b32ff053', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 8, 'created': '2022-05-06 16:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b9ef5ed46b1c8e3c21b7d0fbc6380a2245d39793', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 9, 'created': '2022-05-31 17:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/37acf7312a85d07c4615e655aaf098f6664046ed', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 10, 'created': '2022-05-31 17:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ecdb28c7f805f734eb1aec42e6543d422c188c03', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}, {'number': 11, 'created': '2022-06-16 16:03:01.000000000', 'files': ['doc/source/authentication-plugins.rst', 'keystoneauth1/loading/_plugins/identity/v3.py', 'releasenotes/notes/add-otp-support-to-v3oidcpassword-plugin-520160b14e1fcc57.yaml', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/713c017e5acf5634924a2c9815f346af5c98318d', 'message': 'Add OTP to v3OIDCpassword plugin\n\nProblem description\n===================\nWhen using OpenStack in federated environments, to enhance user\'s\nauthentication, some Identity Providers allow them (users) to use an OTP\n(One Time Password) method. This requires users to send a generated code\ntogether with his/her username and password any time he/she is\nauthenticating in the Identity Provider. It can be applied to both Id\nand Access tokens authentication flows.\n\nIf the user is using the OTP, he/she will not be able to use the\nOpenStack CLI, because the user needs to send an OTP value to the\nIdentity Provider together with the username and password.\n\nProposal\n========\nTo allow users that have OTP enabled in their Identity Provider to use\nthe OpenStack CLI with their credentials, we propose to add a new\noptional configuration in the v3OIDCpassword plugin to allow users to\nenter their OTP Code.\n\nThe new configuration will contain the key for the OTP code that the\nuser\'s Identity Provider expects in its Rest API. As the OTP is not\ndefined by the OpenID Connect protocol (it defines just ""credentials""\nthat is a set of attributes that authorize the user, like username,\npassword, OTP, etc); we defined the property as the expected key to the\nOTP in the IdP\'s Rest API. For example, in KeyCloak, the OTP key in its\nAccess Token API is called ""totp"". Therefore, if the user configures\nthe new property, then the CLI will request the OTP code when necessary.\n\nWe do not create a property to set the OTP code specifically,\nbecause the OTP changes every time, so is not so practical to users to\nreconfiguring the property every time the OTP code expires.\n\nChange-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e\n'}]",10,697348,713c017e5acf5634924a2c9815f346af5c98318d,34,5,11,30695,,,0,"Add OTP to v3OIDCpassword plugin

Problem description
===================
When using OpenStack in federated environments, to enhance user's
authentication, some Identity Providers allow them (users) to use an OTP
(One Time Password) method. This requires users to send a generated code
together with his/her username and password any time he/she is
authenticating in the Identity Provider. It can be applied to both Id
and Access tokens authentication flows.

If the user is using the OTP, he/she will not be able to use the
OpenStack CLI, because the user needs to send an OTP value to the
Identity Provider together with the username and password.

Proposal
========
To allow users that have OTP enabled in their Identity Provider to use
the OpenStack CLI with their credentials, we propose to add a new
optional configuration in the v3OIDCpassword plugin to allow users to
enter their OTP Code.

The new configuration will contain the key for the OTP code that the
user's Identity Provider expects in its Rest API. As the OTP is not
defined by the OpenID Connect protocol (it defines just ""credentials""
that is a set of attributes that authorize the user, like username,
password, OTP, etc); we defined the property as the expected key to the
OTP in the IdP's Rest API. For example, in KeyCloak, the OTP key in its
Access Token API is called ""totp"". Therefore, if the user configures
the new property, then the CLI will request the OTP code when necessary.

We do not create a property to set the OTP code specifically,
because the OTP changes every time, so is not so practical to users to
reconfiguring the property every time the OTP code expires.

Change-Id: Ibd27470c9250000d24cf085ccf6b0c31c782c21e
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/48/697348/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/loading/_plugins/identity/v3.py', 'releasenotes/notes/add-otp-support-to-v3oidcpassword-plugin-520160b14e1fcc57.yaml', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3_oidc.py']",4,8b620db45daeec4b9d03fb78bf2d09f3784ebe15,upstream/feature/add-otp-support-to-v3oidcpassword-plugin,"import mock @mock.patch(""__builtin__.raw_input"") def test_otp_while_generating_the_access_token(self, mock_input): """"""Test the configured otp in the access token flow."""""" self.plugin.idp_otp_key = ""totp"" otp = 123 new_otp = 111 access_token = \ oidc_fixtures.ACCESS_TOKEN_VIA_PASSWORD_RESP[""access_token""] mock_input.return_value = otp self.requests_mock.post( self.ACCESS_TOKEN_ENDPOINT, json=oidc_fixtures.ACCESS_TOKEN_VIA_PASSWORD_RESP) # Verify if the OTP is set in the session and if the request is OK payload = self.plugin.get_payload(self.session) resp = self.plugin._get_access_token(self.session, payload) self.assertEqual(resp, access_token) self.assertEqual(self.session.otp, otp) # Verify if the OTP is obtained from the session. mock_input.return_value = new_otp payload = self.plugin.get_payload(self.session) self.assertEqual(payload[self.plugin.idp_otp_key], otp) ",,75,3
openstack%2Fkeystone-specs~master~I3a4c30c68d197af2c12ea087406a9489265a0f91,openstack/keystone-specs,master,I3a4c30c68d197af2c12ea087406a9489265a0f91,Add proposal to deny updating ephemeral users.,NEW,2022-07-11 21:17:50.000000000,2022-11-30 13:20:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-11 21:17:50.000000000', 'files': ['specs/keystone/backlog/do-not-allow-updating-ephemeral-users-attributes-via-apiI.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/dbec6187fffca22d5468a35b9af3cc2ab64c7ec1', 'message': 'Add proposal to deny updating ephemeral users.\n\nRelated-Bug: #1981365\nChange-Id: I3a4c30c68d197af2c12ea087406a9489265a0f91\n'}]",1,849440,dbec6187fffca22d5468a35b9af3cc2ab64c7ec1,3,1,1,30695,,,0,"Add proposal to deny updating ephemeral users.

Related-Bug: #1981365
Change-Id: I3a4c30c68d197af2c12ea087406a9489265a0f91
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/40/849440/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/backlog/do-not-allow-updating-ephemeral-users-attributes-via-apiI.rst'],1,dbec6187fffca22d5468a35b9af3cc2ab64c7ec1,proposal-deny-updating-ephemeral-users,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Do not allow updating ephemeral users attributes via API ======================================================== `bug #1981365 <https://bugs.launchpad.net/keystone/+bug/1981365>`_ To avoid users' update misunderstandings, we propose allowing updating ephemeral users only on Identity Providers and not in Keystone. Problem Description =================== Today an operator is allowed to update ephemeral (federated) users' attributes via REST API. This can generate misunderstandings for operator; this can happen because the ephemeral users' attributes are updated in every login process, which will download/use the user's attributes from the Identity Provider and update them in Keystone, based on the configured attribute mappings. Therefore, if an operator updates an ephemeral user's attributes in Keystone directly, and the user executes the federated login process, all data updated by the operator will be overwriten by the Identity Provider user's attributes. Proposed Change =============== To prevent operator's misunderstandings and guide them to update ephemeral users correctly, we propose to add a validation in the ""update user"" API. The validation will check if the user is ephemeral and will deny the update in these cases and guide the operator to update the user's attributes directly in the Identity Provider instead of doing it in Keystone. The operator's must still be able to enable/disable these users in Keystone; if the only updated attribute in the request is the ""enabled"" attribute, then the user must be updated. This allows operators on the service provider (SP) end to enable/disable federated users directly on OpenStack. Alternatives ------------ None. Security Impact --------------- None. Notifications Impact -------------------- None. Other End User Impact --------------------- Users will no longer able to update ephemeral users via OpenStack-CLI Performance Impact ------------------ None. Other Deployer Impact --------------------- None. Developer Impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Pedro Henrique Pereira Martins Work Items ---------- - Add a validation when updating users to check if the user is ephemeral and the request is not updating only the enabled attribute, then raise a validation error. Dependencies ============ None. Documentation Impact ==================== None. References ========== None. ",,110,0
openstack%2Ftripleo-ansible~master~I706fc8b26c569c916c4832e9a1845f527b2eb325,openstack/tripleo-ansible,master,I706fc8b26c569c916c4832e9a1845f527b2eb325,bnr - Molecule configuration modification to avoid puppet warnings,ABANDONED,2022-11-22 11:49:47.000000000,2022-11-30 13:00:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 11:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a4f5208e475d07f712c2afcad1f996c4308f208', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 2, 'created': '2022-11-22 13:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c44e17e26fe686702fe413f19d227e109b9a8b2c', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 3, 'created': '2022-11-22 13:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e802e1e525af6da488378b92a22794a7d00c0a8a', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 4, 'created': '2022-11-23 12:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43b9fa8386413a791eaffe1a3d1c7aa85ef77178', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 5, 'created': '2022-11-23 12:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20c1f105424cddadd5faf2d7f6a8a9feb434ab91', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 6, 'created': '2022-11-23 13:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c4720c0c8685c3892b85288bb9df23551fab861', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}, {'number': 7, 'created': '2022-11-24 11:22:59.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2dca22386ae929bf5774c1c21e8c5bde8dfdd5d7', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\n\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n'}]",0,865268,2dca22386ae929bf5774c1c21e8c5bde8dfdd5d7,16,2,7,34423,,,0,"bnr - Molecule configuration modification to avoid puppet warnings

Patches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue
Since hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.

Change-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/865268/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml'],1,6a4f5208e475d07f712c2afcad1f996c4308f208,bnr_molecule," version: 5 defaults: data_hash: json_data hierarchy: - name: ""service_names"" path: ""{{ ansible_user_dir }}/hieradata/service_names.json"" - name: ""service_configs"" path: ""{{ ansible_user_dir }}/hieradata/service_configs.json"" - name: Insert some data into service_names.json copy: dest: ""{{ ansible_user_dir }}/hieradata/service_configs.json"" content: | { ""service_names"": [ ""mysql"", ""mysql_client"", ""tripleo_validations"" ] } ", --- :backends: - json :json: :datadir: {{ ansible_user_dir }}/hieradata :hierarchy: - service_configs,21,7
openstack%2Fmanila-tempest-plugin~master~I783194a10b0f39823def07e5af93f36168c5a217,openstack/manila-tempest-plugin,master,I783194a10b0f39823def07e5af93f36168c5a217,"Fix argument name in ""delete_share_group_type_spec""",MERGED,2022-11-24 12:12:53.000000000,2022-11-30 12:33:38.000000000,2022-11-30 11:10:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-11-24 12:12:53.000000000', 'files': ['manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b729094ac1b9e1d5f664a163052e8d5e4a62fdbe', 'message': 'Fix argument name in ""delete_share_group_type_spec""\n\nThe method is in the scope of group so it should be\nnamed as ""share_group_type_id"".\n\nChange-Id: I783194a10b0f39823def07e5af93f36168c5a217\n'}]",4,865536,b729094ac1b9e1d5f664a163052e8d5e4a62fdbe,15,4,1,19262,,,0,"Fix argument name in ""delete_share_group_type_spec""

The method is in the scope of group so it should be
named as ""share_group_type_id"".

Change-Id: I783194a10b0f39823def07e5af93f36168c5a217
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/36/865536/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/services/share/v2/json/shares_client.py'],1,b729094ac1b9e1d5f664a163052e8d5e4a62fdbe,share_group_type_id," def delete_share_group_type_spec(self, share_group_type_id, group_spec_key, share_group_type_id, group_spec_key)"," def delete_share_group_type_spec(self, share_type_id, group_spec_key, share_type_id, group_spec_key)",2,2
openstack%2Ftripleo-ansible~stable%2Fzed~Iccda95cde0e309af00ce6b918ab1acab68e548dd,openstack/tripleo-ansible,stable/zed,Iccda95cde0e309af00ce6b918ab1acab68e548dd,Don't use meta:end_play after growvols check,MERGED,2022-11-28 08:30:17.000000000,2022-11-30 12:22:15.000000000,2022-11-30 12:22:15.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 08:30:17.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5712ec1bcea9739092b698029e3e71ea0e72523', 'message': ""Don't use meta:end_play after growvols check\n\nAccording to the documentation, meta: end_play will apply to all\nhosts, which is fine if every host is deploying the same image.\nHowever if there is a mixture of overcloud-full and\novercloud-hardened-uefi-full the playbook won't run correctly on some\nhosts.\n\nThis change moves to a conditional block to run as expected on each\nhost.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html\n\nChange-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd\n(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)\n""}]",0,865727,f5712ec1bcea9739092b698029e3e71ea0e72523,8,4,1,9816,,,0,"Don't use meta:end_play after growvols check

According to the documentation, meta: end_play will apply to all
hosts, which is fine if every host is deploying the same image.
However if there is a mixture of overcloud-full and
overcloud-hardened-uefi-full the playbook won't run correctly on some
hosts.

This change moves to a conditional block to run as expected on each
host.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html

Change-Id: Iccda95cde0e309af00ce6b918ab1acab68e548dd
(cherry picked from commit 1678c3395ba8142e42ee1629bd1d258ffbdf4da1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/865727/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,f5712ec1bcea9739092b698029e3e71ea0e72523,growvols-check-stable/zed," - name: Run growvols block when: find_growvols.rc == 0 block: - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout"," - name: Stopping playbook when no growvols utility is found meta: end_play when: find_growvols.rc != 0 - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout",13,14
openstack%2Fplacement~master~I12dce16a7f18bb065e1412d2f2d9bd91452d8672,openstack/placement,master,I12dce16a7f18bb065e1412d2f2d9bd91452d8672,Policy defaults improvement spec,MERGED,2022-11-14 05:19:59.000000000,2022-11-30 12:20:55.000000000,2022-11-30 12:18:47.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-14 05:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d2f10a02aab6028ca8648aff011c8490fc324fdd', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 2, 'created': '2022-11-15 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/98f361d8639400e710c42fefc8fc2ae5aa901b36', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 3, 'created': '2022-11-15 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7d9771cfce2d072b22026f2d83815f045816ad06', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 4, 'created': '2022-11-30 04:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ca8e791217ed30891e8174ae11551964352132a4', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}, {'number': 5, 'created': '2022-11-30 04:08:27.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/2023.1/approved/policy-defaults-improvement.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/bacd2c039345dd12f22b0474b8a0f6a691a8ed98', 'message': 'Policy defaults improvement spec\n\nThis spec is to improve the policies default\nas per the community wide goal\n- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html\n\nAPIImpact\n\nPartial implement blueprint policy-defaults-improvement\n\nChange-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672\n'}]",18,864385,bacd2c039345dd12f22b0474b8a0f6a691a8ed98,26,4,5,8556,,,0,"Policy defaults improvement spec

This spec is to improve the policies default
as per the community wide goal
- https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html

APIImpact

Partial implement blueprint policy-defaults-improvement

Change-Id: I12dce16a7f18bb065e1412d2f2d9bd91452d8672
",git fetch https://review.opendev.org/openstack/placement refs/changes/85/864385/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/2023.1/approved/policy-defaults-improvement.rst']",2,d2f10a02aab6028ca8648aff011c8490fc324fdd,policy-defaults-improvement,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Policy Defaults Improvement =========================== This spec is to improve the placement APIs policy as the directions decided in `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ Problem description =================== While discussing the new RBAC (scope_type and project admin vs system admin things) with operators in berlin ops meetup and via emails, and policy popup meetings, we got the feedback that we need to keep the legacy admin behaviour same as it is otherwise it is going to be a big breaking change for many of the operators. Same feedback for scope_type. - https://etherpad.opendev.org/p/BER-2022-OPS-SRBAC - https://etherpad.opendev.org/p/rbac-operator-feedback By considering the feedback, we decided to make all the policy to be project scoped, release project reader role, and not to change the legacy admin behaviour. Use Cases --------- Ideally most operators should be able to run without modifying policy, as such we need to have defaults closure to the usage. Proposed change =============== The `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ defines all the direction and implementation usage of policy. This proposal is to implement the phase 1 and phase 2 of the `RBAC community-wide goal <https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html>`_ Alternatives ------------ Keep the policy defaults same as it is and expect operators to override them to behave as per their usage. Data model impact ----------------- None REST API impact --------------- The placement APIs policy will modified to add reader roles, scoped to projects, and keep legacy behaviour same as it is. Security impact --------------- Easier to understand policy defaults will help keep the system secure. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- New APIs must add policies that follow the new pattern. Upgrade impact -------------- The API policies defaults roles have been modified which might effect the deployment if it use the default policy defined. If deployment overrides these policies then, they need to start considering the new default policy rules. Implementation ============== Assignee(s) ----------- Primary assignee: gmann Feature Liaison --------------- Feature liaison: dansmith Work Items ---------- * Scope all policy to project * Add project reader role in policy * Modify policy rule unit tests Dependencies ============ None Testing ======= Modify or add the policy unit tests. Documentation Impact ==================== API Reference should be kept consistent with any policy changes, in particular around the default reader role. References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.1 - Introduced ",,168,0
openstack%2Fdevstack~stable%2Fwallaby~Id218cf2ad5fbb9cae5828972366fe85911e500b2,openstack/devstack,stable/wallaby,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-9-stream jobs on stable/wallaby,MERGED,2022-11-24 00:31:43.000000000,2022-11-30 12:20:52.000000000,2022-11-30 12:18:44.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:31:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1ea0d4416a8b13696d750339f077a5ceed8a6424', 'message': ""Remove centos-9-stream jobs on stable/wallaby\n\nAlready n-v devstack-platform-centos-9-stream has been failing\nlast 2 months.\n\nConsidering that there isn't a lot of traffic on stable/wallaby\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes this job no to\nwaste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",1,865481,1ea0d4416a8b13696d750339f077a5ceed8a6424,12,2,1,22873,,,0,"Remove centos-9-stream jobs on stable/wallaby

Already n-v devstack-platform-centos-9-stream has been failing
last 2 months.

Considering that there isn't a lot of traffic on stable/wallaby
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes this job no to
waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/865481/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ea0d4416a8b13696d750339f077a5ceed8a6424,,, name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-9-stream,0,11
openstack%2Fdevstack~master~I8bee430029dcc719629bd92451c2791571f8a30c,openstack/devstack,master,I8bee430029dcc719629bd92451c2791571f8a30c,[doc] Update Ubuntu to 22.04,MERGED,2022-11-28 10:21:43.000000000,2022-11-30 12:19:45.000000000,2022-11-30 12:18:41.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-28 10:21:43.000000000', 'files': ['doc/source/index.rst', 'tools/install_pip.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/818d1a225d54291d1da1f8011f92affb2998d0e9', 'message': '[doc] Update Ubuntu to 22.04\n\nThis updates documentation to reflect the switch to\nUbuntu 22.04 (jammy) in the CI:\nhttps://review.opendev.org/c/openstack/devstack/+/860795\n\nChange-Id: I8bee430029dcc719629bd92451c2791571f8a30c\n'}]",4,865818,818d1a225d54291d1da1f8011f92affb2998d0e9,14,3,1,22873,,,0,"[doc] Update Ubuntu to 22.04

This updates documentation to reflect the switch to
Ubuntu 22.04 (jammy) in the CI:
https://review.opendev.org/c/openstack/devstack/+/860795

Change-Id: I8bee430029dcc719629bd92451c2791571f8a30c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/865818/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tools/install_pip.sh']",2,818d1a225d54291d1da1f8011f92affb2998d0e9,," # pip on Ubuntu 20.04 and higher is new enough, too"," # pip on Ubuntu 20.04 is new enough, too",2,2
openstack%2Ftripleo-upgrade~master~I15add6d240ea072bc972cf9b7713b2b59c51d7ed,openstack/tripleo-upgrade,master,I15add6d240ea072bc972cf9b7713b2b59c51d7ed,[ffwd3] Introduce roles_data adjustment for wallaby,ABANDONED,2022-11-25 16:20:36.000000000,2022-11-30 12:08:40.000000000,,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9fc5e353ab94630632cfce6fbfbdf2d333accec5', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}, {'number': 2, 'created': '2022-11-25 16:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/62e183338a456c80c292573b094233a841b03316', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}, {'number': 3, 'created': '2022-11-28 13:51:01.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ea5db29d9229c2bf3d1e7f415b0f36b79d5973e2', 'message': '[ffwd3] Introduce roles_data adjustment for wallaby\n\nChange-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed\n'}]",2,865699,ea5db29d9229c2bf3d1e7f415b0f36b79d5973e2,8,3,3,11166,,,0,"[ffwd3] Introduce roles_data adjustment for wallaby

Change-Id: I15add6d240ea072bc972cf9b7713b2b59c51d7ed
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/99/865699/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,9fc5e353ab94630632cfce6fbfbdf2d333accec5,,"- name: ""Drop {{item}} service"" replace: dest: ""{{ roles_data }}"" regexp: '(\s+)(- {{item}}$)' replace: '' loop: - ""OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI"" - ""OS::TripleO::Services::CinderBackendDellPs"" - ""OS::TripleO::Services::CinderBackendVRTSHyperScale"" - ""OS::TripleO::Services::Ec2Api"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::Fluentd"" - ""OS::TripleO::Services::FluentdAlt"" - ""OS::TripleO::Services::Keepalived"" - ""OS::TripleO::Services::MistralApi"" - ""OS::TripleO::Services::MistralEngine"" - ""OS::TripleO::Services::MistralEventEngine"" - ""OS::TripleO::Services::MistralExecutor"" - ""OS::TripleO::Services::NeutronLbaasv2Agent"" - ""OS::TripleO::Services::NeutronLbaasv2Api"" - ""OS::TripleO::Services::NeutronML2FujitsuCfab"" - ""OS::TripleO::Services::NeutronML2FujitsuFossw"" - ""OS::TripleO::Services::NeutronSriovHostConfig"" - ""OS::TripleO::Services::NovaConsoleauth"" - ""OS::TripleO::Services::Ntp"" - ""OS::TripleO::Services::OpenDaylightApi"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenDaylightOvs"" - ""OS::TripleO::Services::OpenShift::GlusterFS"" - ""OS::TripleO::Services::OpenShift::Infra"" - ""OS::TripleO::Services::OpenShift::Master"" - ""OS::TripleO::Services::OpenShift::Worker"" - ""OS::TripleO::Services::PankoApi"" - ""OS::TripleO::Services::Rear"" - ""OS::TripleO::Services::SaharaApi"" - ""OS::TripleO::Services::SaharaEngine"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClient"" - ""OS::TripleO::Services::SensuClientAlt"" - ""OS::TripleO::Services::SkydiveAgent"" - ""OS::TripleO::Services::SkydiveAnalyzer"" - ""OS::TripleO::Services::Tacker"" - ""OS::TripleO::Services::TripleoUI"" - ""OS::TripleO::Services::UndercloudMinionMessaging"" - ""OS::TripleO::Services::UndercloudUpgradeEphemeralHeat"" - ""OS::TripleO::Services::Zaqar"" ",,47,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac,openstack/openstack-ansible-lxc_hosts,master,Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac,Add option to disable lxc interface management,MERGED,2022-10-18 00:09:17.000000000,2022-11-30 11:26:11.000000000,2022-11-30 11:25:09.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-18 00:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c9d2f147836f1c4baed5e131157a53b84f09fb06', 'message': 'Add option to disable lxc interface management\n\nThis change adds a new role default option which will allow operators\nto omit the deployment of specific lxc bridge network config. This\nchange is being implemented because, as an operator, I have a host\nsetup specifically built for OpenStack which includes an interface\nconfig covering the lxc deployment. Currently when running a deployment\nthe role will attempt to deploy a new interface file which at best\nconflicts with the host setup and at worst fails to run due to the\ninterface being in a state unknown to OSA.\n\nThe new config option `lxc_net_managed` is default **true** keeping\nthe existing expectations, but when set to **false** the role will\nno longer deploy an interface file or attempt to bring up the interface\nusing the distro tools.\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac\n'}, {'number': 2, 'created': '2022-11-29 16:27:13.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/lxc_net_managed-7a898d07c240b424.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9385ec8011b8af129eb3354f990695e67897943a', 'message': 'Add option to disable lxc interface management\n\nThis change adds a new role default option which will allow operators\nto omit the deployment of specific lxc bridge network config. This\nchange is being implemented because, as an operator, I have a host\nsetup specifically built for OpenStack which includes an interface\nconfig covering the lxc deployment. Currently when running a deployment\nthe role will attempt to deploy a new interface file which at best\nconflicts with the host setup and at worst fails to run due to the\ninterface being in a state unknown to OSA.\n\nThe new config option `lxc_net_managed` is default **true** keeping\nthe existing expectations, but when set to **false** the role will\nno longer deploy an interface file or attempt to bring up the interface\nusing the distro tools.\n\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\nChange-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac\n'}]",1,861676,9385ec8011b8af129eb3354f990695e67897943a,13,4,2,7353,,,0,"Add option to disable lxc interface management

This change adds a new role default option which will allow operators
to omit the deployment of specific lxc bridge network config. This
change is being implemented because, as an operator, I have a host
setup specifically built for OpenStack which includes an interface
config covering the lxc deployment. Currently when running a deployment
the role will attempt to deploy a new interface file which at best
conflicts with the host setup and at worst fails to run due to the
interface being in a state unknown to OSA.

The new config option `lxc_net_managed` is default **true** keeping
the existing expectations, but when set to **false** the role will
no longer deploy an interface file or attempt to bring up the interface
using the distro tools.

Signed-off-by: Kevin Carter <kevin@cloudnull.com>
Change-Id: Icdf4a1f5ff98dc1b86c6a87ea4e606b7c74e1aac
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/76/861676/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_net.yml', 'releasenotes/notes/lxc_net_managed-7a898d07c240b424.yaml', 'defaults/main.yml']",3,c9d2f147836f1c4baed5e131157a53b84f09fb06,,# Allow OSA to generate the LXC network configuration and manage the interface state. lxc_net_managed: true ,,15,0
openstack%2Fcharm-designate~stable%2Fzed~I48a04ac619204ba109d87ca05de7cbe308592486,openstack/charm-designate,stable/zed,I48a04ac619204ba109d87ca05de7cbe308592486,Add check to expose internal endpoints,MERGED,2022-11-24 18:32:58.000000000,2022-11-30 11:10:49.000000000,2022-11-30 11:10:49.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 18:32:58.000000000', 'files': ['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/4d50f9ab40c8948771a7338949a84a3899c426d7', 'message': 'Add check to expose internal endpoints\n\nCurrently, the charm ignores the use-internal-endpoints config\noption that is being inherited from the Openstack Layer. This\npatch adds a check to ensure that the internal endpoint is exposed\nif this is set to True.\n\nCloses-bug: #1995188\nChange-Id: I48a04ac619204ba109d87ca05de7cbe308592486\n(cherry picked from commit 8a4940bbb108124246ad3ae830964cf58dfc9ec3)\n'}]",1,865557,4d50f9ab40c8948771a7338949a84a3899c426d7,8,4,1,14567,,,0,"Add check to expose internal endpoints

Currently, the charm ignores the use-internal-endpoints config
option that is being inherited from the Openstack Layer. This
patch adds a check to ensure that the internal endpoint is exposed
if this is set to True.

Closes-bug: #1995188
Change-Id: I48a04ac619204ba109d87ca05de7cbe308592486
(cherry picked from commit 8a4940bbb108124246ad3ae830964cf58dfc9ec3)
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/57/865557/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py']",2,4d50f9ab40c8948771a7338949a84a3899c426d7,, if hookenv.config('use-internal-endpoints'): endpoint.expose_endpoint(instance.internal_url) else: endpoint.expose_endpoint(instance.public_url), endpoint.expose_endpoint(instance.public_url),11,2
openstack%2Fnova~stable%2Fvictoria~I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,openstack/nova,stable/victoria,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-07 17:01:14.000000000,2022-11-30 11:02:40.000000000,2022-11-30 11:00:11.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 17:01:14.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6dda4f7ca3f25a11cd0178352ad24fe2e8b74785', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)\n'}]",1,863902,6dda4f7ca3f25a11cd0178352ad24fe2e8b74785,8,3,1,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)
(cherry picked from commit ed1ea71489b60c0f95d76ab05f554cd046c60bac)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/863902/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,6dda4f7ca3f25a11cd0178352ad24fe2e8b74785,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,63,1
openstack%2Fdevstack~stable%2Fyoga~Id218cf2ad5fbb9cae5828972366fe85911e500b2,openstack/devstack,stable/yoga,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-8/9-stream jobs on stable/yoga,MERGED,2022-11-24 00:20:45.000000000,2022-11-30 11:02:23.000000000,2022-11-30 11:00:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:20:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/03fbda125175883b621e4187f88f020034ed85cc', 'message': ""Remove centos-8/9-stream jobs on stable/yoga\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/yoga\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",2,865479,03fbda125175883b621e4187f88f020034ed85cc,14,2,1,22873,,,0,"Remove centos-8/9-stream jobs on stable/yoga

The following 2 already n-v jobs have been failing:
* devstack-platform-centos-8-stream - most of 2022
* devstack-platform-centos-9-stream - last 2 months

Considering that there isn't a lot of traffic on stable/yoga
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes those 2 jobs
not to waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/865479/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03fbda125175883b621e4187f88f020034ed85cc,,, name: devstack-platform-centos-8-stream parent: tempest-full-py3 description: CentOS 8 Stream platform test nodeset: devstack-single-node-centos-8-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream,0,22
openstack%2Fpython-heatclient~master~Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4,openstack/python-heatclient,master,Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4,remove unicode prefix from code (2),NEW,2022-08-06 16:02:46.000000000,2022-11-30 10:48:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-08-06 16:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b22a44f24f3b06a903d5ca86752c390418dd388f', 'message': ""Remove unicode literals from code/tests\n\n... because now we support only Python 3 and u'' and '' are equivalent\nin Python 3.\n\nChange-Id: Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4\n""}, {'number': 2, 'created': '2022-08-06 16:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/b0b3e1a64d9010130b57d7d3f77eccd05c16a3c8', 'message': 'remove unicode prefix from code (2)\n\nIn Python 3, unicode prefix is meaningless. This removes unicode prefix\nfrom code implementation and unit tests.\n\nChange-Id: Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4\n'}, {'number': 3, 'created': '2022-08-06 17:15:05.000000000', 'files': ['heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_shell.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/test_format_utils.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/common/template_format.py', 'heatclient/tests/unit/test_resources.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/d9a4c29a4fae59c9f4a91873d3010575997e0b2a', 'message': 'remove unicode prefix from code (2)\n\nIn Python 3, unicode prefix is meaningless. This removes unicode prefix\nfrom code implementation and unit tests.\n\nChange-Id: Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4\n'}]",2,852297,d9a4c29a4fae59c9f4a91873d3010575997e0b2a,6,2,3,9816,,,0,"remove unicode prefix from code (2)

In Python 3, unicode prefix is meaningless. This removes unicode prefix
from code implementation and unit tests.

Change-Id: Ic4534dfb3fb6a2d8f7fcf4859a0eacbc3bd146e4
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/97/852297/1 && git format-patch -1 --stdout FETCH_HEAD,"['heatclient/tests/unit/test_events.py', 'heatclient/tests/unit/test_shell.py', 'heatclient/tests/unit/test_utils.py', 'heatclient/tests/unit/test_format_utils.py', 'heatclient/tests/unit/osc/v1/test_resource.py', 'heatclient/tests/unit/test_template_utils.py', 'heatclient/common/template_format.py', 'heatclient/tests/unit/test_resources.py']",8,b22a44f24f3b06a903d5ca86752c390418dd388f,, 'resource_name': '\u5de5\u4f5c'}, 'resource_name': u'\u5de5\u4f5c'},85,85
openstack%2Fheat-cfntools~master~I334ba3b153c3a7ed5ca70ba50bf3df6b52c6449f,openstack/heat-cfntools,master,I334ba3b153c3a7ed5ca70ba50bf3df6b52c6449f,remove unicode prefix from code,NEW,2022-08-13 00:33:32.000000000,2022-11-30 10:44:49.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-08-13 00:33:32.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/a17ba3f886543ca9efebf0d247e5d89f1f21ca58', 'message': 'remove unicode prefix from code\n\nChange-Id: I334ba3b153c3a7ed5ca70ba50bf3df6b52c6449f\n'}]",0,852977,a17ba3f886543ca9efebf0d247e5d89f1f21ca58,4,3,1,35058,,,0,"remove unicode prefix from code

Change-Id: I334ba3b153c3a7ed5ca70ba50bf3df6b52c6449f
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/77/852977/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a17ba3f886543ca9efebf0d247e5d89f1f21ca58,," 'Creates symlinks for the cfn-* scripts in this directory to /opt/aws/bin', ['Heat Developers'], 1), 'Implements cfn-get-metadata CloudFormation functionality', ['Heat Developers'], 1), 'Implements cfn-hup CloudFormation functionality', ['Heat Developers'], 1), 'Implements cfn-init CloudFormation functionality', ['Heat Developers'], 1), 'Implements cfn-push-stats CloudFormation functionality', ['Heat Developers'], 1), 'Implements cfn-signal CloudFormation functionality', ['Heat Developers'], 1),"," u'Creates symlinks for the cfn-* scripts in this directory to /opt/aws/bin', [u'Heat Developers'], 1), u'Implements cfn-get-metadata CloudFormation functionality', [u'Heat Developers'], 1), u'Implements cfn-hup CloudFormation functionality', [u'Heat Developers'], 1), u'Implements cfn-init CloudFormation functionality', [u'Heat Developers'], 1), u'Implements cfn-push-stats CloudFormation functionality', [u'Heat Developers'], 1), u'Implements cfn-signal CloudFormation functionality', [u'Heat Developers'], 1),",12,12
openstack%2Fpuppet-openstack-integration~master~Ibd7b112646eff0b4b3a5732e9aab88291b859783,openstack/puppet-openstack-integration,master,Ibd7b112646eff0b4b3a5732e9aab88291b859783,Updated from Puppet OpenStack modules constraints,MERGED,2022-11-30 02:19:18.000000000,2022-11-30 10:42:20.000000000,2022-11-30 10:42:20.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-30 02:19:18.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ibd7b112646eff0b4b3a5732e9aab88291b859783\n'}]",2,866097,7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf,9,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ibd7b112646eff0b4b3a5732e9aab88291b859783
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/866097/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,7de1041ffd63d06c248e5b38a5dc1fd842f2b8cf,openstack/puppet/constraints, :ref => 'v6.1.0', :ref => 'v6.0.2',1,1
openstack%2Fpuppet-neutron~master~I4d1509232daf18c213664545bda1d7f7aa05b93b,openstack/puppet-neutron,master,I4d1509232daf18c213664545bda1d7f7aa05b93b,Remove support for networking-ansible,MERGED,2022-11-29 03:33:03.000000000,2022-11-30 09:18:12.000000000,2022-11-30 09:17:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 03:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2afe51556e8c6bed2a6223e82aa137a230bcc260', 'message': 'Remove support for networking-ansible\n\nWe deprecated the support during Zed cycle[1], because the plugin has\nbeen unmaintained. So now we can remove the whole implementation.\n\n[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a\n\nChange-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b\n'}, {'number': 2, 'created': '2022-11-29 03:51:05.000000000', 'files': ['manifests/plugins/ml2/networking_ansible.pp', 'spec/defines/neutron_plugins_ml2_networking_ansible_host_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'manifests/plugins/ml2/networking_ansible_host.pp', 'releasenotes/notes/remove-networking-ansible-cf18494c238d2e0b.yaml', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1e55ead168ff053921e72615855fce79124e5883', 'message': 'Remove support for networking-ansible\n\nWe deprecated the support during Zed cycle[1], because the plugin has\nbeen unmaintained. So now we can remove the whole implementation.\n\n[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a\n\nChange-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b\n'}]",1,865933,1e55ead168ff053921e72615855fce79124e5883,11,3,2,9816,,,0,"Remove support for networking-ansible

We deprecated the support during Zed cycle[1], because the plugin has
been unmaintained. So now we can remove the whole implementation.

[1] f82a231bad28f8bf9c4c2b3938d99091a54cfd3a

Change-Id: I4d1509232daf18c213664545bda1d7f7aa05b93b
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/33/865933/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/networking_ansible.pp', 'spec/defines/neutron_plugins_ml2_networking_ansible_host_spec.rb', 'spec/classes/neutron_plugins_ml2_networking_ansible_spec.rb', 'manifests/plugins/ml2/networking_ansible_host.pp', 'releasenotes/notes/remove-networking-ansible-cf18494c238d2e0b.yaml']",5,2afe51556e8c6bed2a6223e82aa137a230bcc260,,--- upgrade: - | Support for the ``networking-ansible`` plugin has been removed. ,,4,356
openstack%2Fneutron~master~I6373a3c213b24ec957e4d2ea7fc42524517d10d5,openstack/neutron,master,I6373a3c213b24ec957e4d2ea7fc42524517d10d5,Spread OVN metadata agent heartbeat response in time,MERGED,2022-10-05 15:00:59.000000000,2022-11-30 09:15:07.000000000,2022-11-29 14:06:15.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 15:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c8d845c2debe71d400edd08d40294902ed3d845', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 2, 'created': '2022-10-05 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19fd6667011fdaf3464f0df0838beb03c3e6ef83', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nRelated-Bug: #1991817\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 3, 'created': '2022-10-06 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f199e4b424dafc6166e03a31188fb7d47e98dc36', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}, {'number': 4, 'created': '2022-10-06 13:01:21.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/628442aed7400251f12809a45605bd717f494c4e', 'message': 'Spread OVN metadata agent heartbeat response in time\n\nTo avoid mass response of OVN metadata agents on\nheartbeat update - event on OVN Southbound\nSB_Global table nb_cfg entry increment, this patch postpone\nChassis/Chassis_Private table update for random number\nof seconds in range of ( cfg.CONF.agent_down_time // 2 ).\n\nRelated-Bug: #1991817\nChange-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5\n'}]",10,860471,628442aed7400251f12809a45605bd717f494c4e,31,7,4,30463,,,0,"Spread OVN metadata agent heartbeat response in time

To avoid mass response of OVN metadata agents on
heartbeat update - event on OVN Southbound
SB_Global table nb_cfg entry increment, this patch postpone
Chassis/Chassis_Private table update for random number
of seconds in range of ( cfg.CONF.agent_down_time // 2 ).

Related-Bug: #1991817
Change-Id: I6373a3c213b24ec957e4d2ea7fc42524517d10d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/860471/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,4c8d845c2debe71d400edd08d40294902ed3d845,bug/1991817,"from random import randrangefrom oslo_config import cfg self.first_run = True def _update_chassis(self, row): table = ('Chassis_Private' if self.agent.has_chassis_private else 'Chassis') self.agent.sb_idl.db_set( table, self.agent.chassis, ('external_ids', { ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY: str(row.nb_cfg)})).execute() if self.first_run: interval = 0 self.first_run = False else: try: interval = randrange(0, max(cfg.CONF.agent_down_time // 2, 1)) except cfg.NoSuchOptError: interval = 0 LOG.debug(""Delaying updating chassis table for %s seconds"", interval) timer = threading.Timer(interval, _update_chassis, [self, row]) timer.start()"," table = ('Chassis_Private' if self.agent.has_chassis_private else 'Chassis') self.agent.sb_idl.db_set( table, self.agent.chassis, ('external_ids', { ovn_const.OVN_AGENT_METADATA_SB_CFG_KEY: str(row.nb_cfg)})).execute()",24,6
openstack%2Fnova-specs~master~Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5,openstack/nova-specs,master,Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5,spec: allowing target state for evacuate,MERGED,2022-09-15 09:13:48.000000000,2022-11-30 09:08:23.000000000,2022-11-29 19:52:25.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-15 09:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f46417c45ff63387996476a6f37f733ce6daa6e8', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 2, 'created': '2022-10-04 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f7fe3d8be06ac4c97d1eb8c69e6b5a5780f10e17', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 3, 'created': '2022-10-11 07:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fa65da285ba0aa8941db070cb0837046e1965cf7', 'message': 'spec: allowing target state for evacuate\n\nThis is to enhance the evacuate instance API to allow operator setting\ntarget state.\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 4, 'created': '2022-10-27 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/79579e61679b96ce1d1d483cb96630b3ab811c43', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 5, 'created': '2022-10-27 11:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/12db0f83bf7f6ecaba402b4bbd27adfc7addf367', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 6, 'created': '2022-10-27 11:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d69926db39bc099d1c74cd2aaf2cc19540da457c', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 7, 'created': '2022-10-31 10:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/642ac9c042b1d2a6792a1988ec503b4c395bf3e7', 'message': 'spec: allowing target state for evacuate\n\nStart to v2.94 any evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 8, 'created': '2022-10-31 11:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/883ce5d4a77107fdb239cd34dbda1b42ef45135a', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 9, 'created': '2022-11-16 09:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/adcff1d7b4f55745d6bb89b0c1b8b2c783c80583', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 10, 'created': '2022-11-16 09:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/479f8c81a402b79617974dfe35acb984656b981d', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}, {'number': 11, 'created': '2022-11-16 12:31:38.000000000', 'files': ['specs/2023.1/approved/allowing-target-state-for-evacuate.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/66fe2b62853c5fe77a5c0622939f7c340f9a422e', 'message': 'spec: allowing target state for evacuate\n\nAny evacuated instances will be stopped at destination\n\nImplement: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5\n'}]",99,857838,66fe2b62853c5fe77a5c0622939f7c340f9a422e,69,8,11,7730,,,0,"spec: allowing target state for evacuate

Any evacuated instances will be stopped at destination

Implement: bp/allowing-target-state-for-evacuate
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Iaa92917106900f0ccd84fad72d5ba8e153ee5ea5
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/38/857838/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/antelope/approved/allowing-target-state-for-evacuate.rst'],1,f46417c45ff63387996476a6f37f733ce6daa6e8,bp/allowing-target-state-for-evacuate,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Allowing target state for evacuate ================================== https://blueprints.launchpad.net/nova/+spec/allowing-target-state-for-evacuate In certain circumstances the operator may have desire when evacuating running instances from a service down to set target state as stop even if they were considered as running in the source host. Problem description =================== The current evacuate instance API does not allow operators to set a desired target state to the evacuated instances. Use Cases --------- For some specific use-cases that refer to end users an operator of a private cloud may have necessity to evacuate instances to a destination host as stopped even if they were running on source host. Some public cloud also prefer to evacuate instances as stopped, like Amazon AWS. Proposed change =============== #. ``POST /servers/{server_id}/action`` API API will start accepting optional `targetState` argument in body of type enum (stop, start). If nothing is specified the current behavior stay the same. Alternatives ------------ It may be possible to enhance the API resetState to accept RUNNING and SHUTOFF. Data model impact ----------------- None. REST API impact --------------- A microversion bump is expected. ``POST /servers/{server_id}/action`` .. code-block:: { ""evacuate"": { ""host"": ""b419863b7d814906a68fb31703c0dbd6"", ""onSharedStorage"": ""False"", ""targetState"": ""stop"" } } Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- The nova api-ref will updated to reflect the changes. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Upgrade impact -------------- Upgrade notes will be added describing new option targetState. Implementation ============== Assignee(s) ----------- Primary assignee: sahid-ferdjaoui Other contributors: None Feature Liaison --------------- Feature liaison: None Work Items ---------- - API changes with microversion - Testing for the changes. Dependencies ============ None. Testing ======= - Unit or functional testing for API change. Documentation Impact ==================== The api-ref will be updated to reflect the changes. References ========== * https://docs.openstack.org/api-ref/compute/?expanded=evacuate-server-evacuate-action-detail,inject-network-information-injectnetworkinfo-action-detail#evacuate-server-evacuate-action History ======= .. list-table:: Revisions :header-rows: 1 * - Antelope - First introduction ",,155,0
openstack%2Fpuppet-ironic~master~I9c84ea89ed6a1844b9facf95bd405ba51790401c,openstack/puppet-ironic,master,I9c84ea89ed6a1844b9facf95bd405ba51790401c,Add support for [agent] command_wait_* options,MERGED,2022-11-26 17:35:46.000000000,2022-11-30 09:05:59.000000000,2022-11-30 09:04:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 17:35:46.000000000', 'files': ['spec/classes/ironic_drivers_agent_spec.rb', 'releasenotes/notes/agent-command_wait_opts-8cf9e6f81ba70064.yaml', 'manifests/drivers/agent.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6fd748956f0d44584cc38df1886ca7b3b9e96fdd', 'message': 'Add support for [agent] command_wait_* options\n\n... so that users can tune how asynchronous commands completion is\nhandled.\n\nChange-Id: I9c84ea89ed6a1844b9facf95bd405ba51790401c\n'}]",0,865775,6fd748956f0d44584cc38df1886ca7b3b9e96fdd,11,3,1,9816,,,0,"Add support for [agent] command_wait_* options

... so that users can tune how asynchronous commands completion is
handled.

Change-Id: I9c84ea89ed6a1844b9facf95bd405ba51790401c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/75/865775/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_drivers_agent_spec.rb', 'releasenotes/notes/agent-command_wait_opts-8cf9e6f81ba70064.yaml', 'manifests/drivers/agent.pp']",3,6fd748956f0d44584cc38df1886ca7b3b9e96fdd,agent-tunables,"# [*command_wait_attempts*] # (optional) Number of attempts to check for asynchronous commands completion # before timing out. # Defaults to $::os_service_default # # [*command_wait_interval*] # (optional) Number of seconds to wait for between checks for asynchronous # commands completion. # Defaults to $::os_service_default # $command_wait_attempts = $::os_service_default, $command_wait_interval = $::os_service_default, 'agent/command_wait_attempts': value => $command_wait_attempts; 'agent/command_wait_interval': value => $command_wait_interval;",,29,2
openstack%2Fos-net-config~master~Icd019e62a045cab05df82421298100a79c2a669f,openstack/os-net-config,master,Icd019e62a045cab05df82421298100a79c2a669f,Updates to tox and setup.cfg files,MERGED,2022-11-18 07:48:05.000000000,2022-11-30 09:01:59.000000000,2022-11-30 09:00:43.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 07:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ce7b80ec8dca345b9cdccac90527d5eb0107b244', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}, {'number': 2, 'created': '2022-11-18 12:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/52cbb60ab904b9cc007ed3cefa7d2e2fc1ff49bf', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}, {'number': 3, 'created': '2022-11-18 18:41:57.000000000', 'files': ['requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4ed6d471c487a2ac972cf073170d8204e15ec408', 'message': 'Updates to tox and setup.cfg files\n\nUsing upper-constraints when creating tox environments is\ncurrently having an issue. Updated old version for packages\nlike pbr, oslo.concurrency, oslo.utils.\n\nChange-Id: Icd019e62a045cab05df82421298100a79c2a669f\n'}]",2,864996,4ed6d471c487a2ac972cf073170d8204e15ec408,16,4,3,33688,,,0,"Updates to tox and setup.cfg files

Using upper-constraints when creating tox environments is
currently having an issue. Updated old version for packages
like pbr, oslo.concurrency, oslo.utils.

Change-Id: Icd019e62a045cab05df82421298100a79c2a669f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/96/864996/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.py', 'setup.cfg', 'tox.ini']",4,ce7b80ec8dca345b9cdccac90527d5eb0107b244,build_fix,"minversion = 3.18.0 envlist = docs,linters,pep8ignore_basepython_conflict = Truecommands = stestr run --slowest {posargs}","minversion = 2.0 envlist = py38,pep8 -c{env:TOX_CONSTRAINTS_FILE: https://releases.openstack.org/constraints/upper/master}commands = stestr run --slowest {posargs}",11,8
openstack%2Ftripleo-ansible~stable%2Ftrain~I8d7440af098c6dab12773e5a99f01e5ecb8a6b95,openstack/tripleo-ansible,stable/train,I8d7440af098c6dab12773e5a99f01e5ecb8a6b95,Move inventory filters to tripleo-upgrade,MERGED,2022-11-29 13:45:36.000000000,2022-11-30 09:00:41.000000000,2022-11-30 09:00:41.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-29 13:45:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py', 'tripleo_ansible/tests/plugins/filter/test_tripleo_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58046adb5baf52b7ace24c4c40c6b16f42e5dc04', 'message': 'Move inventory filters to tripleo-upgrade\n\nThe inventory filters for tripleo-upgrade were originally merged to\ntripleo-ansible to promote re-use however we want to avoid adding this\nas a dependency for tripleo-upgrade as it is not necessarily running on\nthe undercloud where we can assume tripleo-ansible is installed.\nThe use case for these filters is quite obscure and specific to the\ntripleo-upgade playbooks (manually parsing the inventory yaml in an\nansible task) so the easiest option is to move them to tripleo-upgrade.\n\nDepends-On: https://review.opendev.org/727426\nChange-Id: I8d7440af098c6dab12773e5a99f01e5ecb8a6b95\n(cherry picked from commit 5208ba8b8f80739c1ef4ff44f7c44f2b606de6e3)\n'}]",1,866010,58046adb5baf52b7ace24c4c40c6b16f42e5dc04,10,6,1,8297,,,0,"Move inventory filters to tripleo-upgrade

The inventory filters for tripleo-upgrade were originally merged to
tripleo-ansible to promote re-use however we want to avoid adding this
as a dependency for tripleo-upgrade as it is not necessarily running on
the undercloud where we can assume tripleo-ansible is installed.
The use case for these filters is quite obscure and specific to the
tripleo-upgade playbooks (manually parsing the inventory yaml in an
ansible task) so the easiest option is to move them to tripleo-upgrade.

Depends-On: https://review.opendev.org/727426
Change-Id: I8d7440af098c6dab12773e5a99f01e5ecb8a6b95
(cherry picked from commit 5208ba8b8f80739c1ef4ff44f7c44f2b606de6e3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/866010/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py', 'tripleo_ansible/tests/plugins/filter/test_tripleo_inventory.py']",2,58046adb5baf52b7ace24c4c40c6b16f42e5dc04,,,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tripleo_ansible.ansible_plugins.filter import tripleo_inventory from tripleo_ansible.tests import base as tests_base static_inventory = """""" overcloud: children: allovercloud: {} allovercloud: children: Compute: {} Controller: {} vars: {} Controller: children: overcloud_Controller: {} overcloud_Controller: hosts: overcloud-controller-0: {foo_bar: baz} vars: tripleo_role_name: Controller Compute: children: overcloud_Compute: {} overcloud_Compute: hosts: overcloud-novacompute-0: {foo_bar: baz} vars: tripleo_role_name: Compute """""" dynamic_inventory = """""" { ""overcloud"": { ""children"": [ ""allovercloud"" ] }, ""allovercloud"": { ""children"": [ ""Compute"", ""Controller"" ], ""vars"" : {} }, ""Controller"" : { ""children"": [ ""overcloud_Controller"" ] }, ""overcloud_Controller"" : { ""hosts"": [ ""overcloud-controller-0"" ], ""vars"": { ""tripleo_role_name"": ""Controller"" } }, ""Compute"" : { ""children"": [ ""overcloud_Compute"" ] }, ""overcloud_Compute"" : { ""hosts"": [""overcloud-novacompute-0"" ], ""vars"": { ""tripleo_role_name"": ""Compute"" } } } """""" class TestInventoryFilters(tests_base.TestCase): def setUp(self): super(TestInventoryFilters, self).setUp() def _test_hostmap(self, inventory): expected = { ""Compute"": [""overcloud-novacompute-0""], ""overcloud_Compute"": [""overcloud-novacompute-0""], ""Controller"": [""overcloud-controller-0""], ""overcloud_Controller"": [""overcloud-controller-0""], ""overcloud"": [""overcloud-controller-0"", ""overcloud-novacompute-0""], ""allovercloud"": [""overcloud-controller-0"", ""overcloud-novacompute-0""], } result = tripleo_inventory.to_inventory_hostmap(inventory) self.assertEqual(expected, result) def test_hostmap_static(self): self._test_hostmap(static_inventory) def test_hostmap_dynamic(self): self._test_hostmap(dynamic_inventory) def _test_rolemap(self, inventory): expected = { ""overcloud"": [""Compute"", ""Controller""], ""allovercloud"": [""Compute"", ""Controller""], ""Controller"": [""Controller""], ""overcloud_Controller"": [""Controller""], ""Compute"": [""Compute""], ""overcloud_Compute"": [""Compute""] } result = tripleo_inventory.to_inventory_rolemap(inventory) self.assertEqual(expected, result) def test_rolemap_static(self): self._test_rolemap(static_inventory) def test_rolemap_dynamic(self): self._test_rolemap(dynamic_inventory) def _test_roles(self, inventory): expected = [""Compute"", ""Controller""] result = tripleo_inventory.to_inventory_roles(inventory) self.assertEqual(expected, result) def test_roles_static(self): self._test_roles(static_inventory) def test_roles_dynamic(self): self._test_roles(dynamic_inventory) ",0,229
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If0e91f1b4956f451346256487c3626ed7899643b,openstack/tripleo-heat-templates,stable/wallaby,If0e91f1b4956f451346256487c3626ed7899643b,Fix tripleo_delegate_to parameter in heat-engine,MERGED,2022-11-24 01:21:08.000000000,2022-11-30 09:00:37.000000000,2022-11-30 09:00:37.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-24 01:21:08.000000000', 'files': ['deployment/heat/heat-engine-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b', 'message': ""Fix tripleo_delegate_to parameter in heat-engine\n\nIa9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to\ntripleo_delegate_to parameter. Unfortunately, there is an unnecessary\ncharacter, '| |' in the line.\nThis blocks 'overcloud external-upgrade run'. This fix remove the\nadditonal '|' from the line.\n\nCloses-Bug: #1996492\nChange-Id: If0e91f1b4956f451346256487c3626ed7899643b\n(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)\n(cherry picked from commit 97052ac0400269bf2dfb57857262e5c8168be5de)\n""}]",5,865400,1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b,23,4,1,25613,,,0,"Fix tripleo_delegate_to parameter in heat-engine

Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to
tripleo_delegate_to parameter. Unfortunately, there is an unnecessary
character, '| |' in the line.
This blocks 'overcloud external-upgrade run'. This fix remove the
additonal '|' from the line.

Closes-Bug: #1996492
Change-Id: If0e91f1b4956f451346256487c3626ed7899643b
(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)
(cherry picked from commit 97052ac0400269bf2dfb57857262e5c8168be5de)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/865400/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-engine-container-puppet.yaml'],1,1a7965bf0a1ce1fe54c59f968bb5e04c3b44ab6b,deploy_exclude-stable/zed-stable/wallaby," tripleo_delegate_to: ""{{ groups['heat_engine'] | difference(groups['excluded_overcloud']) }}"""," tripleo_delegate_to: ""{{ groups['heat_engine'] | | difference(groups['excluded_overcloud']) }}""",1,1
openstack%2Fpuppet-nova~master~I4acfc7e903e0666e48c49c1911e67af8ab48d425,openstack/puppet-nova,master,I4acfc7e903e0666e48c49c1911e67af8ab48d425,Clean up parameters for service validation,MERGED,2022-11-28 09:50:18.000000000,2022-11-30 08:59:46.000000000,2022-11-30 08:58:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:50:18.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-service-validation-b93f63908515c246.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/dfb0351f88d6eb6ad07a3744ae3ad37829e6af28', 'message': 'Clean up parameters for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameters were left for interface compatibility but have had no\neffect since then.\n\n[1] 2476bd9af54f3df68fdb57085a25d9754fff455e\n\nChange-Id: I4acfc7e903e0666e48c49c1911e67af8ab48d425\n'}]",1,865813,dfb0351f88d6eb6ad07a3744ae3ad37829e6af28,10,3,1,9816,,,0,"Clean up parameters for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameters were left for interface compatibility but have had no
effect since then.

[1] 2476bd9af54f3df68fdb57085a25d9754fff455e

Change-Id: I4acfc7e903e0666e48c49c1911e67af8ab48d425
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/13/865813/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-service-validation-b93f63908515c246.yaml']",2,dfb0351f88d6eb6ad07a3744ae3ad37829e6af28,remove-service-validation,--- upgrade: - | The ``validate`` parameter and the ``validation_options`` parameter of the ``nova::api`` class have been removed. ,,5,21
openstack%2Fpuppet-oslo~master~Iae1c155692fec845a8cab0ae284eeeaaf3336962,openstack/puppet-oslo,master,Iae1c155692fec845a8cab0ae284eeeaaf3336962,Add common implementation to manage [os_brick] options,MERGED,2022-11-26 16:55:23.000000000,2022-11-30 08:57:28.000000000,2022-11-30 08:56:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/320036fd230030974ae48f8a9ff3f2489e392fb1', 'message': 'Add common implementation to manage [os_brick] options\n\nThe os-brick library now supports its own lock_path configuration. This\nadds the defined resource type to manage the option so that we can\nreuse this implementation in some modules.\n\nDepends-on: https://review.opendev.org/c/openstack/os-brick/+/849324\nChange-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962\n'}, {'number': 2, 'created': '2022-11-28 00:54:29.000000000', 'files': ['spec/defines/oslo_os_brick_spec.rb', 'manifests/os_brick.pp', 'releasenotes/notes/os_brick-444b69e1384bc260.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7e187f637a5f80c4ded88deaae4699aadb228d3f', 'message': 'Add common implementation to manage [os_brick] options\n\nThe os-brick library now supports its own lock_path configuration. This\nadds the defined resource type to manage the option so that we can\nreuse this implementation in some modules.\n\nDepends-on: https://review.opendev.org/c/openstack/os-brick/+/849324\nChange-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962\n'}]",2,865771,7e187f637a5f80c4ded88deaae4699aadb228d3f,14,3,2,9816,,,0,"Add common implementation to manage [os_brick] options

The os-brick library now supports its own lock_path configuration. This
adds the defined resource type to manage the option so that we can
reuse this implementation in some modules.

Depends-on: https://review.opendev.org/c/openstack/os-brick/+/849324
Change-Id: Iae1c155692fec845a8cab0ae284eeeaaf3336962
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/71/865771/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_os_brick_spec.rb', 'manifests/os_brick.pp', 'releasenotes/notes/os_brick-444b69e1384bc260.yaml']",3,320036fd230030974ae48f8a9ff3f2489e392fb1,os-brick-lock_path,--- features: - | The new ``oslo::os_brick`` defined resource type has been added. This can be used to manage the ``[os_brick]`` options provided by the ``os-brick`` library. ,,64,0
openstack%2Fpuppet-neutron~master~I40782633478784b599bcba9ca29b525f2b952ece,openstack/puppet-neutron,master,I40782633478784b599bcba9ca29b525f2b952ece,Clean up parameter for service validation,MERGED,2022-11-28 09:52:14.000000000,2022-11-30 08:53:07.000000000,2022-11-30 08:52:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:52:14.000000000', 'files': ['releasenotes/notes/remove-service-validation-ea042dda42e67fd4.yaml', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/eb1178f73c622f1a5970f9f7316f6935be51277d', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] 35659b8d918e8e10e8dbbadf29339d04069bceb3\n\nChange-Id: I40782633478784b599bcba9ca29b525f2b952ece\n'}]",0,865814,eb1178f73c622f1a5970f9f7316f6935be51277d,9,3,1,9816,,,0,"Clean up parameter for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameter was left for interface compatibility but has had no
effect since then.

[1] 35659b8d918e8e10e8dbbadf29339d04069bceb3

Change-Id: I40782633478784b599bcba9ca29b525f2b952ece
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/865814/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-service-validation-ea042dda42e67fd4.yaml', 'manifests/server.pp']",2,eb1178f73c622f1a5970f9f7316f6935be51277d,remove-service-validation,,"# DEPRECATED PARAMETERS # # [*validate*] # (Optional) Whether to validate the service is working after any service refreshes # Defaults to undef # # DEPRECATED PARAMETERS $validate = undef, if $validate != undef { warning('The neutron::server::validate parameter has been deprecated and has no effect') } ",4,12
openstack%2Fpuppet-octavia~master~Iae52c40aba07cf2cba49bca885bbaa33f8451ccf,openstack/puppet-octavia,master,Iae52c40aba07cf2cba49bca885bbaa33f8451ccf,Drop redundant class inclusion check,MERGED,2022-11-17 03:39:10.000000000,2022-11-30 08:40:18.000000000,2022-11-30 08:40:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 03:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f61bca7e59f3299d8f2022432a9cd96174c0d856', 'message': 'Drop redundant class inclusion check\n\nThe include function should be handle the case when the class is\nalready included in the catalog, and it does not fail in case the class\nis already declared in resource-like format.\n\nChange-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf\n'}, {'number': 2, 'created': '2022-11-17 03:40:26.000000000', 'files': ['manifests/worker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/edf3a4b38dcbcc1dcf727ff5687908cbeb5976f5', 'message': 'Drop redundant class inclusion check\n\nThe include function should be handle the case when the class is\nalready included in the catalog, and it does not fail in case the class\nis already included by resource-like declaration.\n\nChange-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf\n'}]",3,864837,edf3a4b38dcbcc1dcf727ff5687908cbeb5976f5,12,3,2,9816,,,0,"Drop redundant class inclusion check

The include function should be handle the case when the class is
already included in the catalog, and it does not fail in case the class
is already included by resource-like declaration.

Change-Id: Iae52c40aba07cf2cba49bca885bbaa33f8451ccf
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/37/864837/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/worker.pp'],1,f61bca7e59f3299d8f2022432a9cd96174c0d856,, include octavia::controller, if !defined(Class['octavia::controller']) { include octavia::controller },1,4
openstack%2Fpuppet-swift~stable%2Fzed~I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,openstack/puppet-swift,stable/zed,I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,Format IPv6 address for ring device,MERGED,2022-11-25 16:20:41.000000000,2022-11-30 08:38:02.000000000,2022-11-30 08:38:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:20:41.000000000', 'files': ['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7af17ae2540a0d778d15a85d5f72dcfb5ed2c233', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n(cherry picked from commit a8ef5f69060adda86433ff2de4c761a0f86f68c3)\n'}]",0,865568,7af17ae2540a0d778d15a85d5f72dcfb5ed2c233,9,3,1,9816,,,0,"Format IPv6 address for ring device

The IPv6 addresses in ring_*_device resource names should be surrounded
by []. This ensures the address is properly formatted when the resource
is define in swift::storage::node.

Closes-Bug: #1997295
Change-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409
(cherry picked from commit a8ef5f69060adda86433ff2de4c761a0f86f68c3)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/68/865568/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb']",2,7af17ae2540a0d778d15a85d5f72dcfb5ed2c233,bug/1997295," let :title do ""1"" end context 'with valid preconditons and IPv4 address' do :zone => ""1"", it 'should contain ring devices' do is_expected.to contain_ring_object_device(""127.0.0.1:6010/1"") is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") end let :params do { :zone => 'invalid', :mnt_base_dir => '/srv/node' } end context 'with valid preconditions and IPv6 address' do :zone => ""1"", :mnt_base_dir => '/srv/node', :storage_local_net_ip => '::1', } end let :pre_condition do ""class { 'swift': swift_hash_path_suffix => 'foo' } class { 'swift::storage': storage_local_net_ip => '::1' }"" end it 'should contain ring devices with IPv6 address' do is_expected.to contain_ring_object_device(""[::1]:6010/1"") is_expected.to contain_ring_container_device(""[::1]:6011/1"") is_expected.to contain_ring_account_device(""[::1]:6012/1"") end end context 'with valid preconditons and policy_index=1' do let :params do { :zone => ""1"", it 'should contain ring devices' do is_expected.to contain_ring_object_device(""1:127.0.0.1:6010/1"") is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") end"," describe 'with valid preconditons should contain ring devices' do :zone => ""1"", let :title do ""1"" end it { is_expected.to contain_ring_object_device(""127.0.0.1:6010/1"") } it { is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") } it { is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") } let(:title) { '1' } let :params do { :zone => 'invalid', :mnt_base_dir => '/srv/node' } end describe 'with valid preconditons and policy_index=1 should contain ring devices' do :zone => ""1"", let :title do ""1"" end it { is_expected.to contain_ring_object_device(""1:127.0.0.1:6010/1"") } it { is_expected.to contain_ring_container_device(""127.0.0.1:6011/1"") } it { is_expected.to contain_ring_account_device(""127.0.0.1:6012/1"") }",51,28
openstack%2Fpuppet-swift~stable%2Fzed~I762f0780ba25536aa616482a49d59c7db69924d6,openstack/puppet-swift,stable/zed,I762f0780ba25536aa616482a49d59c7db69924d6,Ensure consistent IPv6 address format,MERGED,2022-11-25 16:21:08.000000000,2022-11-30 08:38:00.000000000,2022-11-30 08:38:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 16:21:08.000000000', 'files': ['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4b37f4c4df42c3069b502ee9f539fdb5d0d4c897', 'message': 'Ensure consistent IPv6 address format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nCloses-Bug: #1997313\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n(cherry picked from commit 249f466f94441ae554478467949378d81b034f89)\n'}]",0,865569,4b37f4c4df42c3069b502ee9f539fdb5d0d4c897,9,3,1,9816,,,0,"Ensure consistent IPv6 address format

This change ensures the shortened address representations are always
used for ring devices to avoid broken idempotency caused by different
representations (shortened[1] vs canonical[2]).

[1] ::1
[2] 0000:0000:0000:0000:0000:0000:0000:0001

Closes-Bug: #1997313
Change-Id: I762f0780ba25536aa616482a49d59c7db69924d6
(cherry picked from commit 249f466f94441ae554478467949378d81b034f89)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/69/865569/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb']",4,4b37f4c4df42c3069b502ee9f539fdb5d0d4c897,bug/1997313," munge do |value| # If storage policy_index is specified first strip that off. # Resource name is not required to start with a policy_index if !value.split(/^\d+:/)[1].nil? value_without_policy = value.split(/^\d+:/)[1] else value_without_policy = value end # we have to have URI Scheme so we just add http:// and ignore it later uri = URI('http://' + value_without_policy) ip = IPAddr.new(uri.host) if ip.ipv6? value.gsub(uri.host, '[' + ip.to_s + ']') else value end end", port_device = uri.port,43,8
openstack%2Fpuppet-openstack-integration~master~Ic5b5327a1462cbe980356b8716f0558710abc6b1,openstack/puppet-openstack-integration,master,Ic5b5327a1462cbe980356b8716f0558710abc6b1,Manila: Remove workaround for missing sudoers record,MERGED,2022-11-28 06:35:02.000000000,2022-11-30 08:25:27.000000000,2022-11-30 08:25:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:35:02.000000000', 'files': ['manifests/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3', 'message': 'Manila: Remove workaround for missing sudoers record\n\n... because it has been fixed in the manila package [1].\n\n[1] https://review.rdoproject.org/r/c/openstack/manila-distgit/+/44699\n\nChange-Id: Ic5b5327a1462cbe980356b8716f0558710abc6b1\n'}]",0,865792,bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3,7,3,1,9816,,,0,"Manila: Remove workaround for missing sudoers record

... because it has been fixed in the manila package [1].

[1] https://review.rdoproject.org/r/c/openstack/manila-distgit/+/44699

Change-Id: Ic5b5327a1462cbe980356b8716f0558710abc6b1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/92/865792/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/manila.pp'],1,bc70d756b667aa6b5927efd1d20bcbd97c3ddfc3,,," # TODO(tkajinam): This should be fixed in the RDO package if $::osfamily == 'RedHat' { file_line { 'manila-sudoers-privsep-helper': path => '/etc/sudoers.d/manila', line => 'manila ALL = (root) NOPASSWD: /usr/bin/privsep-helper *', require => Anchor['manila::config::begin'], notify => Anchor['manila::config::end'] } }",0,10
openstack%2Fpuppet-openstack-integration~master~I329fab00774d131018ba65f374d7515fc439148a,openstack/puppet-openstack-integration,master,I329fab00774d131018ba65f374d7515fc439148a,Enable manila-data service,MERGED,2022-11-28 07:24:57.000000000,2022-11-30 08:25:25.000000000,2022-11-30 08:25:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1fcc25a9a3020cbeaba01502323b87a8ac940208', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepeneds-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}, {'number': 2, 'created': '2022-11-28 08:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/83fbb0d50a951d013913eb4d16382e15037f6a8d', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepeneds-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}, {'number': 3, 'created': '2022-11-28 14:32:29.000000000', 'files': ['manifests/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/06ba3a80f667473826ba7673ad3124c7c8ac3814', 'message': ""Enable manila-data service\n\nThe puppet-manila module now supports setting up the service. Let's\nenable the feature in our CI jobs.\n\nDepends-on: https://review.opendev.org/865795\nChange-Id: I329fab00774d131018ba65f374d7515fc439148a\n""}]",1,865796,06ba3a80f667473826ba7673ad3124c7c8ac3814,14,3,3,9816,,,0,"Enable manila-data service

The puppet-manila module now supports setting up the service. Let's
enable the feature in our CI jobs.

Depends-on: https://review.opendev.org/865795
Change-Id: I329fab00774d131018ba65f374d7515fc439148a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/96/865796/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/manila.pp'],1,1fcc25a9a3020cbeaba01502323b87a8ac940208,manila-data-service, class { 'manila::data': },,1,0
openstack%2Fheat~stable%2Ftrain~I5f14453ebab75d89672c6eea12de46d48a5147f3,openstack/heat,stable/train,I5f14453ebab75d89672c6eea12de46d48a5147f3,Pre-empt in-progress nested stack updates on new update,MERGED,2022-03-30 06:08:10.000000000,2022-11-30 08:16:55.000000000,2022-11-30 08:15:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-03-30 06:08:10.000000000', 'files': ['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/eb64824fd64eb0ce2679f2793344bdfa33e96918', 'message': 'Pre-empt in-progress nested stack updates on new update\n\nIf the parent resource of a nested stack is locked due to an IN_PROGRESS\nupdate, cancel the nested stack update (which will result in the parent\nresource being marked FAILED and releasing the lock so that the new\ntraversal can begin acting on it). This also cancels all descendants of\nthe nested stack.\n\nThis means that a concurrent update no longer gets blocked at a nested\nstack boundary until the previous update has finished.\n\nChange-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3\nTask: 17760\n(cherry picked from commit 8cd6a06736c27d2dd50340c03987631143f3484d)\n'}]",3,835679,eb64824fd64eb0ce2679f2793344bdfa33e96918,12,3,1,8833,,,0,"Pre-empt in-progress nested stack updates on new update

If the parent resource of a nested stack is locked due to an IN_PROGRESS
update, cancel the nested stack update (which will result in the parent
resource being marked FAILED and releasing the lock so that the new
traversal can begin acting on it). This also cancels all descendants of
the nested stack.

This means that a concurrent update no longer gets blocked at a nested
stack boundary until the previous update has finished.

Change-Id: I5f14453ebab75d89672c6eea12de46d48a5147f3
Task: 17760
(cherry picked from commit 8cd6a06736c27d2dd50340c03987631143f3484d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/79/835679/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/check_resource.py', 'heat/engine/resources/stack_resource.py', 'heat_integrationtests/functional/test_simultaneous_update.py', 'heat/engine/resource.py']",4,eb64824fd64eb0ce2679f2793344bdfa33e96918,," def handle_preempt(self): """"""Pre-empt an in-progress update when a new update is available. This method is called when a previous convergence update is in progress but a new update for the resource is available. By default it does nothing, but subclasses may override it to cancel the in-progress update if it is safe to do so. Note that this method does not run in the context of the in-progress update and has no access to runtime information about it; nor is it safe to make changes to the Resource in the database. If implemented, this method should cause the existing update to complete by external means. If this leaves the resource in a FAILED state, that should be taken into account in needs_replace_failed(). """""" return ",,112,1
openstack%2Fpuppet-designate~stable%2Fyoga~Ia969cc31b380950a87c0be0b911cc214b4219d82,openstack/puppet-designate,stable/yoga,Ia969cc31b380950a87c0be0b911cc214b4219d82,Fix ineffective max_header_line,MERGED,2022-11-26 16:38:11.000000000,2022-11-30 08:06:12.000000000,2022-11-30 08:06:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:38:11.000000000', 'files': ['manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bda94de190f55695072575295161381ab23c9002', 'message': 'Fix ineffective max_header_line\n\nThe [service:api] max_header_line parameter has had no effect since\nTrain and it was effectively replaced by the [DEFAULT] max_header_line\nparameter provided by oslo.service.\n\nThis updates the parameter definition accordingly.\n\nCloses-Bug: #1967825\nChange-Id: Ia969cc31b380950a87c0be0b911cc214b4219d82\n(cherry picked from commit f39567e17b6e98a4cdf15608756a5463df32de39)\n'}]",0,865724,bda94de190f55695072575295161381ab23c9002,9,3,1,9816,,,0,"Fix ineffective max_header_line

The [service:api] max_header_line parameter has had no effect since
Train and it was effectively replaced by the [DEFAULT] max_header_line
parameter provided by oslo.service.

This updates the parameter definition accordingly.

Closes-Bug: #1967825
Change-Id: Ia969cc31b380950a87c0be0b911cc214b4219d82
(cherry picked from commit f39567e17b6e98a4cdf15608756a5463df32de39)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/24/865724/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/designate_api_spec.rb']",2,bda94de190f55695072575295161381ab23c9002,bug/1967825, is_expected.to contain_designate_config('DEFAULT/max_header_line').with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config('DEFAULT/max_header_line').with_value(params[:max_header_line]), is_expected.to contain_designate_config('service:api/max_header_line').with_value('<SERVICE DEFAULT>') is_expected.to contain_designate_config('service:api/max_header_line').with_value(params[:max_header_line]),8,3
openstack%2Fpuppet-designate~master~Iecc650fe94846a2f643ff2bf0b613026a1fb6570,openstack/puppet-designate,master,Iecc650fe94846a2f643ff2bf0b613026a1fb6570,Remove cleanup of [service:api] max_header_line,MERGED,2022-11-26 16:37:47.000000000,2022-11-30 08:06:10.000000000,2022-11-30 08:06:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:37:47.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75', 'message': 'Remove cleanup of [service:api] max_header_line\n\n... because the logic was added during the previous cycle[1] and\nthe option should be removed when a deployment is upgraded to Zed.\n\n[1] f39567e17b6e98a4cdf15608756a5463df32de39\n\nChange-Id: Iecc650fe94846a2f643ff2bf0b613026a1fb6570\n'}]",0,865769,d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75,7,3,1,9816,,,0,"Remove cleanup of [service:api] max_header_line

... because the logic was added during the previous cycle[1] and
the option should be removed when a deployment is upgraded to Zed.

[1] f39567e17b6e98a4cdf15608756a5463df32de39

Change-Id: Iecc650fe94846a2f643ff2bf0b613026a1fb6570
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/69/865769/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,d9634ff74a9393ac7e665bdc5ed7ab6cd0591d75,,, # TODO(tkajinam): Remove this after Zed release designate_config { 'service:api/max_header_line': ensure => absent; } ,0,5
openstack%2Fpuppet-cinder~master~I16936b092df46c689813b80557e24542b7d43093,openstack/puppet-cinder,master,I16936b092df46c689813b80557e24542b7d43093,Clean up parameter for service validation,MERGED,2022-11-28 09:47:48.000000000,2022-11-30 07:27:58.000000000,2022-11-30 07:26:58.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ed44f4693a7de5d88b6d2a5c6f37e1375869f8ef', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] d944a76b95fb82fe161159954f3dfe720726bcfc\n\nChange-Id: I16936b092df46c689813b80557e24542b7d43093\n'}, {'number': 2, 'created': '2022-11-28 13:49:22.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/remove-service-validation-badea962c3a0394e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f1cee735a2df6f920a501800a8c02679aa2606a7', 'message': 'Clean up parameter for service validation\n\n... service validation was deprecated during Yoga cycle by [1].\nThe parameter was left for interface compatibility but has had no\neffect since then.\n\n[1] d944a76b95fb82fe161159954f3dfe720726bcfc\n\nChange-Id: I16936b092df46c689813b80557e24542b7d43093\n'}]",2,865812,f1cee735a2df6f920a501800a8c02679aa2606a7,16,3,2,9816,,,0,"Clean up parameter for service validation

... service validation was deprecated during Yoga cycle by [1].
The parameter was left for interface compatibility but has had no
effect since then.

[1] d944a76b95fb82fe161159954f3dfe720726bcfc

Change-Id: I16936b092df46c689813b80557e24542b7d43093
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/12/865812/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/remove-service-validation-badea962c3a0394e.yaml']",2,ed44f4693a7de5d88b6d2a5c6f37e1375869f8ef,remove-service-validation,--- upgrade: - | The ``cinder::api::validate`` parameter has been removed. ,,4,6
openstack%2Fpuppet-keystone~master~Ib4c7565462e32be2d4dab4b0c538410ad98aefaf,openstack/puppet-keystone,master,Ib4c7565462e32be2d4dab4b0c538410ad98aefaf,Remove deprecated keystone::service,MERGED,2022-11-25 01:39:42.000000000,2022-11-30 07:21:29.000000000,2022-11-30 07:20:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 01:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/676895f43f851410f8c3a1b053b90dbf9749baf9', 'message': 'Remove deprecated keystone::service\n\nThis defined resource type was deprecated during the past cycle[1] and\ncan be removed.\n\n[1] 05c5605e98fcc0da33386065c2c315d69103b891\n\nChange-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf\n'}, {'number': 2, 'created': '2022-11-25 04:11:03.000000000', 'files': ['releasenotes/notes/remove-keystone-service-defined-type-639c799d5a266d1c.yaml', 'spec/classes/keystone_service_spec.rb', 'manifests/service.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/76505f1c12443703ffe047503b2c2bde1d25c830', 'message': 'Remove deprecated keystone::service\n\nThis defined resource type was deprecated during the past cycle[1] and\ncan be removed.\n\n[1] 05c5605e98fcc0da33386065c2c315d69103b891\n\nChange-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf\n'}]",3,865613,76505f1c12443703ffe047503b2c2bde1d25c830,16,3,2,9816,,,0,"Remove deprecated keystone::service

This defined resource type was deprecated during the past cycle[1] and
can be removed.

[1] 05c5605e98fcc0da33386065c2c315d69103b891

Change-Id: Ib4c7565462e32be2d4dab4b0c538410ad98aefaf
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/13/865613/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-keystone-service-defined-type-639c799d5a266d1c.yaml', 'manifests/service.pp']",2,676895f43f851410f8c3a1b053b90dbf9749baf9,,,"# == Class keystone::service # # DEPRECATED !! # Encapsulates the keystone service to a class. # # === Parameters # # [*ensure*] # (Optional) The desired state of the keystone service # Defaults to undef # # [*service_name*] # (Optional) The name of the keystone service # Defaults to $::keystone::params::service_name # # [*enable*] # (Optional) Whether to enable the keystone service # Defaults to true # # [*hasstatus*] # (Optional) Whether the keystone service has status # Defaults to true # # [*hasrestart*] # (Optional) Whether the keystone service has restart # Defaults to true # class keystone::service ( $ensure = undef, $service_name = $::keystone::params::service_name, $enable = true, $hasstatus = true, $hasrestart = true, ) inherits keystone::params { include keystone::deps warning('The keystone::service class is deprecated and will be removed in a future release,') service { 'keystone': ensure => $ensure, name => $service_name, enable => $enable, hasstatus => $hasstatus, hasrestart => $hasrestart, tag => 'keystone-service', } } ",4,48
openstack%2Faodh~master~Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4,openstack/aodh,master,Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4,DNM: Test CI,ABANDONED,2022-10-31 12:57:34.000000000,2022-11-30 07:05:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-31 12:57:34.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf', 'message': 'DNM: Test CI\n\nChange-Id: Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4\n'}]",1,863038,39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf,5,1,1,16137,,,0,"DNM: Test CI

Change-Id: Ice98a2f260c2e3b4cc4e626f83c0bfc0eeb24cb4
",git fetch https://review.opendev.org/openstack/aodh refs/changes/38/863038/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,39b7cae31c5ccf152aebecaca9e3f49cc1c2eddf,,,,1,0
openstack%2Faodh~stable%2Fxena~I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31,openstack/aodh,stable/xena,I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31,DNM: Test CI,ABANDONED,2022-10-31 12:59:09.000000000,2022-11-30 07:04:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-31 12:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b6394580bd638a185baacce65a31dd0d43115995', 'message': 'DNM: Test CI\n\nChange-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31\n'}, {'number': 2, 'created': '2022-11-02 12:32:00.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/17a25fb36cf0bd3839f5ef2f9850531bce172f65', 'message': 'DNM: Test CI\n\nDepends-On: https://review.opendev.org/c/openstack/ceilometer/+/863197\n\nChange-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31\n'}]",0,863039,17a25fb36cf0bd3839f5ef2f9850531bce172f65,5,1,2,16137,,,0,"DNM: Test CI

Depends-On: https://review.opendev.org/c/openstack/ceilometer/+/863197

Change-Id: I708d233bc1fffd6ca5fa40bcd5946d012ecf3c31
",git fetch https://review.opendev.org/openstack/aodh refs/changes/39/863039/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b6394580bd638a185baacce65a31dd0d43115995,,,,1,0
openstack%2Fdevstack~master~Ie36ff70397ca8f0c5c3ca1eccb45243483a91761,openstack/devstack,master,Ie36ff70397ca8f0c5c3ca1eccb45243483a91761,[DNM] Fix the surrogatepass not allowed error,NEW,2020-07-15 14:22:36.000000000,2022-11-30 07:01:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6bcdd3a951bba1da08141a16ae1abe690a2343ab', 'message': ""[DNM] Replace all 'python' to 'python3' of shell script\n\nWe already removed the fallback installation of the python 2 libraries,\nso using 'python -c' in shell script will fail because of ImportError.\nRelated patch: https://review.opendev.org/#/c/681029/\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n""}, {'number': 2, 'created': '2020-07-20 06:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2259edcc01ec59485a9a3b58cfac5e050dd9e99c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 3, 'created': '2020-09-29 02:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/566f3e4d43168565e3dddf8a1d62abc60ec6ed8c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 4, 'created': '2020-10-21 10:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/120da2639e422cd1f2943ed44d300d540be142ab', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 5, 'created': '2020-10-23 07:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f866da8bbe1d43ac82c011040778d95d828bae4', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 6, 'created': '2020-12-07 01:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c161cf85d2aa387c884f842fef7c21a72fc433d8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 7, 'created': '2021-02-10 06:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3fd3ab6898c304bfb169f85002286b4e99b4bb54', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 8, 'created': '2021-04-15 04:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/55b40a681991c95abad0fb413110ba09bb106515', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 9, 'created': '2021-10-29 03:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/14c38f038b88f4e9f5b968754224889a265ec7d5', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 10, 'created': '2021-10-29 08:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25221ff1a836e9b0fd3d2a118ff166991b9b2959', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 11, 'created': '2022-01-06 06:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a8fea986710c4e3a4a3257747abf110a7202239b', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 12, 'created': '2022-01-07 01:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/494d200413863f328a14ef345e7e21a775436362', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 13, 'created': '2022-01-07 05:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c64d3bb26ce395d2e9bfbc9dfbf157a1b25e74f', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 14, 'created': '2022-01-07 08:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fab95498d11c4ac19ddc8ac66d4f5a737ecfb682', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 15, 'created': '2022-01-10 03:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/636ad34a8de84cc369b3f4ba5870f53c0d9f6470', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 16, 'created': '2022-02-23 09:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74e3c3c23f75f74ca11b40c0c80ec8284134f9f9', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 17, 'created': '2022-02-24 07:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0db8ee77b30bea021ecab714b4cdbbf19d46cebc', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 18, 'created': '2022-02-24 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3cb9dbd9e53583c9e540a4fb46c91ad7a2732057', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 19, 'created': '2022-03-17 06:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ad2742c4194acd9e63cf74e5efdcc8895931a6f', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 20, 'created': '2022-03-17 06:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2830d78d067ab7160b60ba741c9883369daffa8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 21, 'created': '2022-03-22 08:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/60bf6c20fbdb85ca5c4f5f45c94087d0774fd1ef', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 22, 'created': '2022-03-23 07:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/875ca010f70d6732d3ed0fab5e669e2d7bbd5e70', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 23, 'created': '2022-03-23 07:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3c16ae49170cf658d1f7e24dd2f69a7e9d8951db', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 24, 'created': '2022-03-24 08:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2fc2e4adca29f4419bbc9707ebb5cd1a9a987ee8', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 25, 'created': '2022-04-26 02:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9832013c4efcc401832d4864ab9fa471cd27b409', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 26, 'created': '2022-05-05 07:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ef9b912f5eb1caf0ed70c75924a71114f0080fb', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 27, 'created': '2022-05-16 01:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/09f7db97eaaf360a431b4f16a3a7317fc9dedc5c', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}, {'number': 28, 'created': '2022-05-31 09:05:08.000000000', 'files': ['tools/install_pip.sh', 'tools/outfilter.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7ec28dd655c0887411f3e3067d92d394a5cc297b', 'message': '[DNM] Fix the surrogatepass not allowed error\n\nsupplement:\n1.fix the loader missing required argument error\n\nChange-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761\n'}]",2,741220,7ec28dd655c0887411f3e3067d92d394a5cc297b,58,2,28,32071,,,0,"[DNM] Fix the surrogatepass not allowed error

supplement:
1.fix the loader missing required argument error

Change-Id: Ie36ff70397ca8f0c5c3ca1eccb45243483a91761
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/741220/5 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'tools/fixup_stuff.sh']",2,6bcdd3a951bba1da08141a16ae1abe690a2343ab,change-741220," echo $(python3 -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")"," echo $(python -c ""import os; import $package; print(os.path.split(os.path.realpath($package.__file__))[0])"")",2,2
openstack%2Fpuppet-neutron~master~I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,openstack/puppet-neutron,master,I67fc4d9bd3172ac35bae16c75ee8757d114a6d41,Remove wrong deprecation mark of project_* properties,MERGED,2022-11-25 03:11:51.000000000,2022-11-30 06:53:05.000000000,2022-11-30 06:53:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 03:11:51.000000000', 'files': ['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7c752068f1d747f1218a54ed3f1b07ebee970d1b', 'message': 'Remove wrong deprecation mark of project_* properties\n\nThe project_name property and the project_id property are not meant to\nbe deprecated because these replaces the old tenant_* properties. This\nchange removes the (DEPRECATED) marks erroneously added.\n\nChange-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41\n'}]",1,865617,7c752068f1d747f1218a54ed3f1b07ebee970d1b,11,3,1,9816,,,0,"Remove wrong deprecation mark of project_* properties

The project_name property and the project_id property are not meant to
be deprecated because these replaces the old tenant_* properties. This
change removes the (DEPRECATED) marks erroneously added.

Change-Id: I67fc4d9bd3172ac35bae16c75ee8757d114a6d41
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/17/865617/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/neutron_subnet.rb', 'lib/puppet/type/neutron_network.rb']",2,7c752068f1d747f1218a54ed3f1b07ebee970d1b,, desc 'The name of the project which will own the network.' desc 'A uuid identifying the project which will own the network.', desc 'The name of the project which will own the network.(DEPRECATED)' desc 'A uuid identifying the project which will own the network.(DEPRECATED)',4,4
openstack%2Fpuppet-glance~master~Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1,openstack/puppet-glance,master,Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1,Remove parameters for native ssl support,MERGED,2022-11-28 09:31:27.000000000,2022-11-30 06:50:07.000000000,2022-11-30 06:49:09.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 09:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d36a38c276cd0743ee63a3112515d867a409c15f', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}, {'number': 2, 'created': '2022-11-28 14:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/4ab4b3a81ec9d20096b3402b4287d2192f067a73', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}, {'number': 3, 'created': '2022-11-29 01:16:59.000000000', 'files': ['releasenotes/notes/remove-native-ssl-e88e094e772612dd.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/493c8289005ccdb62461746b5fb00edab19b38cd', 'message': 'Remove parameters for native ssl support\n\nThese parameters were deprecated during the previous cycle by [1] and\nhave had no effect. These parameters are not really used by recent\nglance.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nDepends-on: https://review.opendev.org/865924\nRelated-Bug: #1965776\nChange-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1\n'}]",2,865808,493c8289005ccdb62461746b5fb00edab19b38cd,14,4,3,9816,,,0,"Remove parameters for native ssl support

These parameters were deprecated during the previous cycle by [1] and
have had no effect. These parameters are not really used by recent
glance.

[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0

Depends-on: https://review.opendev.org/865924
Related-Bug: #1965776
Change-Id: Ia24b57966f6d8aee5cfa56cfe3496f1d81924ea1
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/08/865808/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-native-ssl-e88e094e772612dd.yaml', 'manifests/api.pp']",2,d36a38c276cd0743ee63a3112515d867a409c15f,bug/1965776,," $cert_file = undef, $key_file = undef, $ca_file = undef, ['cert_file', 'key_file', 'ca_file'].each |String $ssl_opt| { if getvar($ssl_opt) != undef { warning(""The ${ssl_opt} parameter has been deprecated and has no effect."") } } ",8,9
openstack%2Fheat-dashboard~stable%2Fvictoria~I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,openstack/heat-dashboard,stable/victoria,I4b6bef322a668a805abcd4bc472d30f6d1df3a0a,Set False to include_empty_option,NEW,2022-10-10 13:57:55.000000000,2022-11-30 06:26:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-10 13:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/39f2c70270a9f6934f6e3b42d9860aa2582e9a53', 'message': ""Set False to include_empty_option\n\nIn _populate_custom_choices(), all methods called at the method have\nTrue as a second argument. It means that the default values sepcified\nin a stack are not shown as default when launch stack form.\nThe fileds always show 'Select Flavor/Image/Network'.\nUsers doesn't expect to choose default value by hand.\nThis change shows the default values defined at a template.\n\nAlso, image_field_data() doesn't use parameter, include_empty_option.\nThis change modfies the method to change the behavior based on the\nparameter.\n\nCloses-Bug: #1619465\nChange-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a\n(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)\n(cherry picked from commit c8456777df8d02847f90f62fe76a3dd46924be8b)\n""}, {'number': 2, 'created': '2022-11-30 05:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/400411a66e3cb3adff3c2d942b3010738c6b2c83', 'message': ""Set False to include_empty_option\n\nIn _populate_custom_choices(), all methods called at the method have\nTrue as a second argument. It means that the default values sepcified\nin a stack are not shown as default when launch stack form.\nThe fileds always show 'Select Flavor/Image/Network'.\nUsers doesn't expect to choose default value by hand.\nThis change shows the default values defined at a template.\n\nAlso, image_field_data() doesn't use parameter, include_empty_option.\nThis change modfies the method to change the behavior based on the\nparameter.\n\nCloses-Bug: #1619465\nChange-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a\n(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)\n(cherry picked from commit c8456777df8d02847f90f62fe76a3dd46924be8b)\n""}, {'number': 3, 'created': '2022-11-30 05:45:21.000000000', 'files': ['heat_dashboard/content/stacks/forms.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/2c6e2b440ceb001a1e48303b16fd37a174fb03af', 'message': ""Set False to include_empty_option\n\nIn _populate_custom_choices(), all methods called at the method have\nTrue as a second argument. It means that the default values sepcified\nin a stack are not shown as default when launch stack form.\nThe fileds always show 'Select Flavor/Image/Network'.\nUsers doesn't expect to choose default value by hand.\nThis change shows the default values defined at a template.\n\nAlso, image_field_data() doesn't use parameter, include_empty_option.\nThis change modfies the method to change the behavior based on the\nparameter.\n\nCloses-Bug: #1619465\nChange-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a\n(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)\n""}]",1,860844,2c6e2b440ceb001a1e48303b16fd37a174fb03af,7,1,3,30073,,,0,"Set False to include_empty_option

In _populate_custom_choices(), all methods called at the method have
True as a second argument. It means that the default values sepcified
in a stack are not shown as default when launch stack form.
The fileds always show 'Select Flavor/Image/Network'.
Users doesn't expect to choose default value by hand.
This change shows the default values defined at a template.

Also, image_field_data() doesn't use parameter, include_empty_option.
This change modfies the method to change the behavior based on the
parameter.

Closes-Bug: #1619465
Change-Id: I4b6bef322a668a805abcd4bc472d30f6d1df3a0a
(cherry picked from commit 792f8cbe4ac6f39aa41b0905e3b68f2a8c1e5fb1)
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/44/860844/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/content/stacks/forms.py'],1,39f2c70270a9f6934f6e3b42d9860aa2582e9a53,," images_list = [] if include_empty_option: return [("""", _(""Select Image"")), ] + images_list return instance_utils.network_field_data(self.request, False) if custom_type == 'nova.keypair': return instance_utils.keypair_field_data(self.request, False) if custom_type == 'glance.image': return image_field_data(self.request, False) if custom_type == 'nova.flavor': return instance_utils.flavor_field_data(self.request, False)"," images_list = [('', _('Select Image'))] return instance_utils.network_field_data(self.request, True) if custom_type == 'nova.keypair': return instance_utils.keypair_field_data(self.request, True) if custom_type == 'glance.image': return image_field_data(self.request, True) if custom_type == 'nova.flavor': return instance_utils.flavor_field_data(self.request, True)",8,5
openstack%2Fpuppet-openstacklib~master~Ie88fce429e1b73a89820a94e8635ed6ad906b07f,openstack/puppet-openstacklib,master,Ie88fce429e1b73a89820a94e8635ed6ad906b07f,inet6_prefix: Simplify exception handling,MERGED,2022-11-24 03:17:59.000000000,2022-11-30 05:58:07.000000000,2022-11-30 05:58:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:17:59.000000000', 'files': ['lib/puppet/functions/inet6_prefix.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/779c96bc49b303f364954c6b942a2824d0995343', 'message': 'inet6_prefix: Simplify exception handling\n\nThe following exceptions all inherit IPAddr::Error, which inherits\nArgumentError.\n  - IPAddr::AddressFamilyError\n  - IPAddr::InvalidAddressError\n  - IPAddr::InvalidPrefixError\n\nBecause we use the same logic for all of these exceptions, we can just\ncatch the base ArgumentError instead of listing all these separately.\n\nChange-Id: Ie88fce429e1b73a89820a94e8635ed6ad906b07f\n'}]",3,865488,779c96bc49b303f364954c6b942a2824d0995343,14,3,1,9816,,,0,"inet6_prefix: Simplify exception handling

The following exceptions all inherit IPAddr::Error, which inherits
ArgumentError.
  - IPAddr::AddressFamilyError
  - IPAddr::InvalidAddressError
  - IPAddr::InvalidPrefixError

Because we use the same logic for all of these exceptions, we can just
catch the base ArgumentError instead of listing all these separately.

Change-Id: Ie88fce429e1b73a89820a94e8635ed6ad906b07f
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/88/865488/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/inet6_prefix.rb'],1,779c96bc49b303f364954c6b942a2824d0995343,," rescue ArgumentError, NoMethodError => e"," rescue IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError => e",1,1
openstack%2Fheat~stable%2Fvictoria~I82db78daa37fe27455c9ff349b0dc09501600152,openstack/heat,stable/victoria,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:07:18.000000000,2022-11-30 05:55:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-16 09:07:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/199ef0799d169c0bf61f1c987e9dc1df7fa2ee85', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",0,809226,199ef0799d169c0bf61f1c987e9dc1df7fa2ee85,5,3,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/809226/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,199ef0799d169c0bf61f1c987e9dc1df7fa2ee85,c7-to-c8-stable/wallaby-stable/victoria, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~stable%2Fussuri~I82db78daa37fe27455c9ff349b0dc09501600152,openstack/heat,stable/ussuri,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:07:43.000000000,2022-11-30 05:55:16.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-09-16 09:07:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/0563d79a7527ca46fc5310c345fab67fe0134628', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",0,809227,0563d79a7527ca46fc5310c345fab67fe0134628,7,3,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/27/809227/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0563d79a7527ca46fc5310c345fab67fe0134628,c7-to-c8-stable/ussuri, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~stable%2Ftrain~I82db78daa37fe27455c9ff349b0dc09501600152,openstack/heat,stable/train,I82db78daa37fe27455c9ff349b0dc09501600152,Run TripleO jobs on CentOS8 instead of CentOS7,ABANDONED,2021-09-16 09:08:08.000000000,2022-11-30 05:37:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-16 09:08:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/1fd10114b862e800c21322608859810f565ff782', 'message': 'Run TripleO jobs on CentOS8 instead of CentOS7\n\nAs we are cleaning up the c7 jobs and obselete featuresets [1].\nThis change replaces usage of CentOS7 in TripleO jobs by CentOS8.\n\n[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)\n\nChange-Id: I82db78daa37fe27455c9ff349b0dc09501600152\n'}]",1,809228,1fd10114b862e800c21322608859810f565ff782,5,1,1,20182,,,0,"Run TripleO jobs on CentOS8 instead of CentOS7

As we are cleaning up the c7 jobs and obselete featuresets [1].
This change replaces usage of CentOS7 in TripleO jobs by CentOS8.

[1]: https://review.opendev.org/q/topic:%22cleanup_featuresets%22+(status:open%20OR%20status:merged)

Change-Id: I82db78daa37fe27455c9ff349b0dc09501600152
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/809228/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1fd10114b862e800c21322608859810f565ff782,c7-to-c8-stable/train, - tripleo-ci-centos-8-scenario002-standalone, - tripleo-ci-centos-7-scenario002-standalone,1,1
openstack%2Fheat~stable%2Ftrain~Ic0ecf8b241a87644d7200635fadc5795066b7b37,openstack/heat,stable/train,Ic0ecf8b241a87644d7200635fadc5795066b7b37,"Partial Revert ""Change py2/grenade jobs to non-voting""",ABANDONED,2021-10-08 09:26:34.000000000,2022-11-30 05:35:16.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-08 09:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/002daba81dc73695fbcd2d087851ae364a4a5b41', 'message': 'Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}, {'number': 2, 'created': '2021-10-08 09:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/44ba9c5a61538ea6dd0850a9e3eea84f5a909196', 'message': 'Partial Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}, {'number': 3, 'created': '2021-10-08 11:05:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/18e0e661a0dc3c042bf7083c9b2b9805ec1e8fa0', 'message': 'Partial Revert ""Change py2/grenade jobs to non-voting""\n\nThis reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.\n\nReason for revert: Those seem to work now.\n\nChange-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37\n'}]",0,813155,18e0e661a0dc3c042bf7083c9b2b9805ec1e8fa0,8,2,3,8833,,,0,"Partial Revert ""Change py2/grenade jobs to non-voting""

This reverts commit ede47008bcfe3acef2050476b42ae6a3bedb7a67.

Reason for revert: Those seem to work now.

Change-Id: Ic0ecf8b241a87644d7200635fadc5795066b7b37
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/813155/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,002daba81dc73695fbcd2d087851ae364a4a5b41,volumev2-removal,, voting: false voting: false voting: false,0,3
openstack%2Fheat~stable%2Ftrain~I6f517a38aade8418e9a0f6a105a569c2cdf473ef,openstack/heat,stable/train,I6f517a38aade8418e9a0f6a105a569c2cdf473ef,Make the failing multi-node grenade job non-voting,ABANDONED,2021-06-25 08:41:02.000000000,2022-11-30 05:34:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-25 08:41:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ec3a115be5da475828a62524eacf7100bbfa1489', 'message': ""Make the failing multi-node grenade job non-voting\n\nWe've not fixed py2 jobs since a long time. Telemetry services\ndon't work with py2. Multinode grenade job is failing in train\nas we can't https://review.opendev.org/c/openstack/heat/+/738731\nto stein. Let's only run the py3 and the single node\ngrenade job as voting in train. Also removes all non-voting jobs\nfrom gate queue.\n\nChange-Id: I6f517a38aade8418e9a0f6a105a569c2cdf473ef\n""}]",0,798057,ec3a115be5da475828a62524eacf7100bbfa1489,4,2,1,8833,,,0,"Make the failing multi-node grenade job non-voting

We've not fixed py2 jobs since a long time. Telemetry services
don't work with py2. Multinode grenade job is failing in train
as we can't https://review.opendev.org/c/openstack/heat/+/738731
to stein. Let's only run the py3 and the single node
grenade job as voting in train. Also removes all non-voting jobs
from gate queue.

Change-Id: I6f517a38aade8418e9a0f6a105a569c2cdf473ef
",git fetch https://review.opendev.org/openstack/heat refs/changes/57/798057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ec3a115be5da475828a62524eacf7100bbfa1489,, voting: false, - grenade-heat-multinode - heat-functional-orig-mysql-lbaasv2 - heat-functional-convg-mysql-lbaasv2,1,3
openstack%2Fpuppet-openstack-integration~master~I72fd6841d24197e9c747116437d49911e9c5b8b0,openstack/puppet-openstack-integration,master,I72fd6841d24197e9c747116437d49911e9c5b8b0,Glance: Stop setting native ssl parameters,MERGED,2022-11-29 01:16:18.000000000,2022-11-30 05:12:55.000000000,2022-11-30 05:12:55.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 01:16:18.000000000', 'files': ['manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/36f5e3962cda999c39f3fc8b76d517d4f8d419bb', 'message': 'Glance: Stop setting native ssl parameters\n\nGlance has already removed support for native ssl support[1]. These\nglance::api class parameters were also deprecated and will be removed\nduring this cycle.\n\n[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0\n\nDepends-on: https://review.opendev.org/834501\nChange-Id: I72fd6841d24197e9c747116437d49911e9c5b8b0\n'}]",1,865924,36f5e3962cda999c39f3fc8b76d517d4f8d419bb,9,4,1,9816,,,0,"Glance: Stop setting native ssl parameters

Glance has already removed support for native ssl support[1]. These
glance::api class parameters were also deprecated and will be removed
during this cycle.

[1] 2a2f349d8a1f0426f77bdbea6c70a316b4c3daa0

Depends-on: https://review.opendev.org/834501
Change-Id: I72fd6841d24197e9c747116437d49911e9c5b8b0
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/24/865924/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/glance.pp'],1,36f5e3962cda999c39f3fc8b76d517d4f8d419bb,bug/1965776," # TODO(tkajinam): Glance no longer supports native ssl since Ussuri release, # so these parameters are unused now. $crt_file = undef $crt_file = undef"," $crt_file = undef $crt_file = undef cert_file => $crt_file, key_file => $key_file,",4,4
openstack%2Fpuppet-oslo~master~I5c295c747a0f19757e3b3c7eaf990b32d7e1af11,openstack/puppet-oslo,master,I5c295c747a0f19757e3b3c7eaf990b32d7e1af11,cache: Support array value for tls_allowed_ciphers,MERGED,2022-11-23 18:02:50.000000000,2022-11-30 05:08:48.000000000,2022-11-30 05:08:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 18:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/58afe237f92cf81bcae7be08cd6baa3a703622e9', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}, {'number': 2, 'created': '2022-11-23 18:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/38bf0e78d085afba9b35c3c45ad8995cf47e0582', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}, {'number': 3, 'created': '2022-11-24 01:41:08.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/053264927508064e7c832c88b080dec8b85a290e', 'message': 'cache: Support array value for tls_allowed_ciphers\n\nThe [oslo_cache] tls_allowed_ciphers option takes a colon-seprated\nlist. This change allows usage of a native array value to set\nthe value so that users can more easily compose up the value without\nconsidering the actual value format.\n\nChange-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11\n'}]",1,865458,053264927508064e7c832c88b080dec8b85a290e,15,3,3,9816,,,0,"cache: Support array value for tls_allowed_ciphers

The [oslo_cache] tls_allowed_ciphers option takes a colon-seprated
list. This change allows usage of a native array value to set
the value so that users can more easily compose up the value without
considering the actual value format.

Change-Id: I5c295c747a0f19757e3b3c7eaf990b32d7e1af11
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/58/865458/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",2,58afe237f92cf81bcae7be08cd6baa3a703622e9,puppet-ciphers-array," 'cache/tls_allowed_ciphers' => { value => join(any2array($tls_allowed_ciphers), ':') },"," 'cache/tls_allowed_ciphers' => { value => $tls_allowed_ciphers },",9,9
openstack%2Fpuppet-tripleo~master~I82e13be62555ca0109aa32ce97f1433312ae22e5,openstack/puppet-tripleo,master,I82e13be62555ca0109aa32ce97f1433312ae22e5,Use same hosts for glance api backends,ABANDONED,2022-11-30 04:48:09.000000000,2022-11-30 04:52:27.000000000,,[],"[{'number': 1, 'created': '2022-11-30 04:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/927526d5b5f919dd4f077d14b7dddb3bdcf50417', 'message': 'Use same hosts for glance api endpoints\n\nCurrently both glance-api and glance-internal-api has their backend\nservers deployed at GlanceApiNetwork. This change ensures haproxy\nproxies the traffic in the same network.\n\nCloses-Bug: #1998227\nChange-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5\n'}, {'number': 2, 'created': '2022-11-30 04:49:10.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/864245be101f02adca94a9c19727910b3b69ab94', 'message': 'Use same hosts for glance api backends\n\nCurrently both glance-api and glance-internal-api has their backend\nservers deployed at GlanceApiNetwork. This change ensures haproxy\nproxies the traffic in the same network.\n\nCloses-Bug: #1998227\nChange-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5\n'}]",0,866100,864245be101f02adca94a9c19727910b3b69ab94,3,0,2,9816,,,0,"Use same hosts for glance api backends

Currently both glance-api and glance-internal-api has their backend
servers deployed at GlanceApiNetwork. This change ensures haproxy
proxies the traffic in the same network.

Closes-Bug: #1998227
Change-Id: I82e13be62555ca0109aa32ce97f1433312ae22e5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/866100/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,927526d5b5f919dd4f077d14b7dddb3bdcf50417,," ip_addresses => lookup('glance_api_node_ips', undef, undef, $controller_hosts_real), server_names => lookup('glance_api_node_names', undef, undef, $controller_hosts_names_real),"," ip_addresses => lookup('glance_api_internal_node_ips', undef, undef, $controller_hosts_real), server_names => lookup('glance_api_internal_node_names', undef, undef, $controller_hosts_names_real),",2,2
openstack%2Fcinder~master~Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5,openstack/cinder,master,Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5,Limit number of concurrent volume upload operations,NEW,2022-11-23 11:32:45.000000000,2022-11-30 03:45:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-11-23 11:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8dca71f867c1f7509219d7acfe6e4e0f1d84cf1c', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 2, 'created': '2022-11-28 06:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da5b1d5f161fa2c9ff51e0a5b3cb1793eeabff70', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 3, 'created': '2022-11-28 07:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f1cd5f8c41388d9321cf6ff857e28b8d968bdbd', 'message': 'WIP: Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO/bandwidth. this also increases load on\nthe image conversion dir if there are other operations also running\non that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}, {'number': 4, 'created': '2022-11-28 14:22:38.000000000', 'files': ['cinder/opts.py', 'releasenotes/notes/limit-upload-operations-7b5e2b9cf6c2fb7b.yaml', 'cinder/volume/manager.py', 'cinder/cmd/volume.py', 'cinder/tests/unit/volume/test_image.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ccbb355ff92595b36b3536a6a755ed3760515e07', 'message': 'Limit number of concurrent volume upload operations\n\nIn cases where backend takes huge amount time and IO bandwidth,\nit could add load to the system and hence cause issues.\nLike in case of rbd, we export the volume first which, depending\non the number of concurrent operations, can take upto several\nminutes and a lot of IO bandwidth. After that we use python IO to\ncopy that exported volume to glance which again is IO consuming\noperation. This also increases load on the image conversion dir\nif there are other operations also running on that directory.\n\nChange-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5\n'}]",2,865416,ccbb355ff92595b36b3536a6a755ed3760515e07,48,2,4,27615,,,0,"Limit number of concurrent volume upload operations

In cases where backend takes huge amount time and IO bandwidth,
it could add load to the system and hence cause issues.
Like in case of rbd, we export the volume first which, depending
on the number of concurrent operations, can take upto several
minutes and a lot of IO bandwidth. After that we use python IO to
copy that exported volume to glance which again is IO consuming
operation. This also increases load on the image conversion dir
if there are other operations also running on that directory.

Change-Id: Icf7a13dd942ef7d18838d3fd5db14b27c5214cf5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/865416/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/manager.py', 'cinder/cmd/volume.py']",3,8dca71f867c1f7509219d7acfe6e4e0f1d84cf1c,865416,"from typing import Unionupload_volume_opt = cfg.IntOpt('upload_max_operations', default=5, min=0, help='Maximum number of concurrent ' 'upload volume to image operations. ' 'Value of 0 means unlimited') CONF.register_opt(upload_volume_opt) backend: str, _semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: cluster=cluster, semaphore=_semaphore)def _launch_services_win32(semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: _launch_service(launcher, single_backend_name, semaphore)def _launch_services_posix(semaphore: Union[eventlet.semaphore.Semaphore, utils.Semaphore]) -> None: _launch_service(launcher, backend, semaphore) semaphore = utils.semaphore_factory(CONF.upload_max_operations, 1) _launch_services_win32(semaphore) else: _launch_services_posix(semaphore)"," backend: str) -> None: cluster=cluster)def _launch_services_win32() -> None: _launch_service(launcher, single_backend_name)def _launch_services_posix() -> None: _launch_service(launcher, backend) _launch_services_win32() else: _launch_services_posix()",29,8
openstack%2Fneutron-fwaas-dashboard~master~I3f23839b506662be93d560ee39c5259d71125a99,openstack/neutron-fwaas-dashboard,master,I3f23839b506662be93d560ee39c5259d71125a99,Imported Translations from Zanata,MERGED,2022-06-22 03:31:50.000000000,2022-11-30 03:11:37.000000000,2022-11-30 03:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30380}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-06-22 03:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/e09b299e1a59619e7a98878bcdea3742453d087d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f23839b506662be93d560ee39c5259d71125a99\n'}, {'number': 2, 'created': '2022-09-15 02:32:02.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/57498255d021ceb664fe40c6a4c25fd75d1938b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3f23839b506662be93d560ee39c5259d71125a99\n'}]",0,847117,57498255d021ceb664fe40c6a4c25fd75d1938b6,12,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3f23839b506662be93d560ee39c5259d71125a99
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/17/847117/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po']",3,e09b299e1a59619e7a98878bcdea3742453d087d,zanata/translations,,"# Jose Porrua <jose.porrua@netapp.com>, 2016. #zanata # Eduardo Gonzalez Gutierrez <dabarren@gmail.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-fwaas-dashboard\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2020-04-22 07:50+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-09-27 03:49+0000\n"" ""Last-Translator: Eduardo Gonzalez Gutierrez <dabarren@gmail.com>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Bug Fixes"" msgstr ""Corrección de errores"" msgid ""Current Series Release Notes"" msgstr ""Notas de la versión actual"" msgid ""New Features"" msgstr ""Nuevas Funcionalidades"" ",5,55
openstack%2Fpuppet-nova~master~I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,openstack/puppet-nova,master,I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7,Fix typo,ABANDONED,2022-05-12 14:23:50.000000000,2022-11-30 02:50:02.000000000,,"[{'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 14:23:50.000000000', 'files': ['releasenotes/notes/libvirt-virtlogd-f4e2618a87fbab5a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/baf9bee28cb2eaddcbd6a27f586b7940ae952283', 'message': 'Fix typo\n\nChange-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7\n'}]",2,841604,baf9bee28cb2eaddcbd6a27f586b7940ae952283,5,2,1,28522,,,0,"Fix typo

Change-Id: I4f6169ed2f1b317b88fe9f2e06719667b44e1eb7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/04/841604/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-virtlogd-f4e2618a87fbab5a.yaml'],1,baf9bee28cb2eaddcbd6a27f586b7940ae952283,fix-misspelling, virtlogd configuration., virtlogd configration.,1,1
openstack%2Fpuppet-openstack-integration~master~I77e146a862f524334290db139340c2d87fc8c81f,openstack/puppet-openstack-integration,master,I77e146a862f524334290db139340c2d87fc8c81f,DNM Test CloudSIG RDO Zed promoted packages,ABANDONED,2022-11-10 09:59:59.000000000,2022-11-30 02:49:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-10 09:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/abee61f0f4f8f2ee0579802bcc195fde119752d1', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}, {'number': 2, 'created': '2022-11-10 11:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1c9c23e3cc3ecf416a9242ea29d8c68a1991646', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}, {'number': 3, 'created': '2022-11-10 15:36:11.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1b286cb767a904ea18d241e5df9314ab82f68738', 'message': 'DNM Test CloudSIG RDO Zed promoted packages\n\nChange-Id: I77e146a862f524334290db139340c2d87fc8c81f\n'}]",0,864194,1b286cb767a904ea18d241e5df9314ab82f68738,7,1,3,16312,,,0,"DNM Test CloudSIG RDO Zed promoted packages

Change-Id: I77e146a862f524334290db139340c2d87fc8c81f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/864194/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,abee61f0f4f8f2ee0579802bcc195fde119752d1,stable/zed," manage_rdo => true, 'temp-delorean.repo' => ""https://logserver.rdoproject.org/65/45965/2/check/validate-buildsys-tags/7e237d5/buildset/repos/cloud9s-openstack-zed-release/"","," manage_rdo => false, 'delorean.repo' => $delorean_repo, 'delorean-deps.repo' => $delorean_deps_repo",2,3
openstack%2Fpuppet-openstack-integration~stable%2Fzed~Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1,openstack/puppet-openstack-integration,stable/zed,Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1,DNM Test scenario001 in zed,ABANDONED,2022-11-10 16:56:36.000000000,2022-11-30 02:49:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-10 16:56:36.000000000', 'files': ['test', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/84cde6aa1ebc52a34014ef5cdfac8d60da680aac', 'message': 'DNM Test scenario001 in zed\n\nChange-Id: Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1\n'}]",0,864219,84cde6aa1ebc52a34014ef5cdfac8d60da680aac,3,1,1,16312,,,0,"DNM Test scenario001 in zed

Change-Id: Idc5f2dc8cfd7ca976bb453fc07f14d7c645adcb1
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/864219/1 && git format-patch -1 --stdout FETCH_HEAD,"['test', 'zuul.d/layout.yaml']",2,84cde6aa1ebc52a34014ef5cdfac8d60da680aac,dnm,, - puppet-openstack-integration-6-scenario001-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario002-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario003-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario004-tempest-ubuntu-focal - puppet-openstack-integration-6-scenario005-tempest-ubuntu-focal - puppet-openstack-integration-7-scenario002-tempest-centos-9-stream - puppet-openstack-integration-7-scenario003-tempest-centos-9-stream - puppet-openstack-integration-7-scenario004-tempest-centos-9-stream - puppet-openstack-integration-7-scenario005-tempest-centos-9-stream,0,9
openstack%2Fpuppet-nova~stable%2Fyoga~I2d0ab2472f940ef6edac662e167033881ab09086,openstack/puppet-nova,stable/yoga,I2d0ab2472f940ef6edac662e167033881ab09086,Wire-in max_client_requests for libvirt,MERGED,2022-09-09 12:36:49.000000000,2022-11-30 02:46:39.000000000,2022-11-30 02:45:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 12:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bb6d427ed85438401d7acf81e3f97cc7004c2261', 'message': 'Wire-in max_client_requests for libvirt\n\nLibvirt setting for (admin_/)max_client_requests is an important\nconfiguration to be tweaked when serving long running requests.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2d0ab2472f940ef6edac662e167033881ab09086\n(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)\n'}, {'number': 2, 'created': '2022-11-29 15:21:41.000000000', 'files': ['releasenotes/notes/nova_libvirt_max_client_requests-1709c1d7a282264d.yaml', 'manifests/compute/libvirt/virtnodedevd.pp', 'spec/classes/nova_compute_libvirt_virtsecretd_spec.rb', 'manifests/compute/libvirt/virtsecretd.pp', 'spec/classes/nova_compute_libvirt_virtproxyd_spec.rb', 'spec/classes/nova_compute_libvirt_virtqemud_spec.rb', 'manifests/compute/libvirt/virtqemud.pp', 'manifests/compute/libvirt/virtproxyd.pp', 'spec/classes/nova_compute_libvirt_virtnodedevd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/db940667755e9e3ed4b309fbe0a12aec4c239c96', 'message': 'Wire-in max_client_requests for libvirt\n\nLibvirt setting for (admin_/)max_client_requests is an important\nconfiguration to be tweaked when serving long running requests.\n\n Conflicts:\n\tmanifests/compute/libvirt/libvirtd.pp\n\tspec/classes/nova_compute_libvirt_libvirtd_spec.rb\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I2d0ab2472f940ef6edac662e167033881ab09086\n(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)\n'}]",2,856583,db940667755e9e3ed4b309fbe0a12aec4c239c96,14,4,2,6926,,,0,"Wire-in max_client_requests for libvirt

Libvirt setting for (admin_/)max_client_requests is an important
configuration to be tweaked when serving long running requests.

 Conflicts:
	manifests/compute/libvirt/libvirtd.pp
	spec/classes/nova_compute_libvirt_libvirtd_spec.rb

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I2d0ab2472f940ef6edac662e167033881ab09086
(cherry picked from commit de886cd1dda892aa74ebeae00e0d17d391862f86)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/83/856583/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_libvirt_max_client_requests-1709c1d7a282264d.yaml', 'manifests/compute/libvirt/virtnodedevd.pp', 'spec/classes/nova_compute_libvirt_virtsecretd_spec.rb', 'manifests/compute/libvirt/virtsecretd.pp', 'spec/classes/nova_compute_libvirt_virtproxyd_spec.rb', 'manifests/compute/libvirt/virtqemud.pp', 'spec/classes/nova_compute_libvirt_virtqemud_spec.rb', 'manifests/compute/libvirt/virtproxyd.pp', 'spec/classes/nova_compute_libvirt_virtnodedevd_spec.rb']",9,bb6d427ed85438401d7acf81e3f97cc7004c2261,," it { is_expected.to contain_virtnodedevd_config('max_client_requests').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_virtnodedevd_config('admin_max_client_requests').with_value('<SERVICE DEFAULT>')} { :log_level => 3, :log_outputs => '3:syslog', :log_filters => '1:logging 4:object 4:json 4:event 1:util', :max_clients => 1024, :admin_max_clients => 5, :max_client_requests => 42, :admin_max_client_requests => 55, :ovs_timeout => 10, it { is_expected.to contain_virtnodedevd_config('max_client_requests').with_value(params[:max_client_requests])} it { is_expected.to contain_virtnodedevd_config('admin_max_client_requests').with_value(params[:admin_max_client_requests])}"," { :log_level => 3, :log_outputs => '3:syslog', :log_filters => '1:logging 4:object 4:json 4:event 1:util', :max_clients => 1024, :admin_max_clients => 5, :ovs_timeout => 10,",156,75
openstack%2Fovsdbapp~master~I1ad6db737b36670c04865e5f51da5d0214063350,openstack/ovsdbapp,master,I1ad6db737b36670c04865e5f51da5d0214063350,Continue to reconnect until no error is thrown,ABANDONED,2022-08-29 11:05:20.000000000,2022-11-30 02:07:46.000000000,,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-08-29 11:05:20.000000000', 'files': ['ovsdbapp/backend/ovs_idl/connection.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/04e6bbfa0ee9b4525677662cadd5d69447305e3f', 'message': 'Continue to reconnect until no error is thrown\n\nCloses-bug: #1988039\n\nChange-Id: I1ad6db737b36670c04865e5f51da5d0214063350\n'}]",4,854963,04e6bbfa0ee9b4525677662cadd5d69447305e3f,7,7,1,30380,,,0,"Continue to reconnect until no error is thrown

Closes-bug: #1988039

Change-Id: I1ad6db737b36670c04865e5f51da5d0214063350
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/63/854963/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/connection.py'],1,04e6bbfa0ee9b4525677662cadd5d69447305e3f,," while True: errors += 1 with self.lock: self.idl.force_reconnect() try: idlutils.wait_for_change(self.idl, self.timeout) break except Exception as e: # This could throw the same exception as idl.run() # or Exception(""timeout""), either way continue LOG.exception(e) sleep = min(2 ** errors, 60) LOG.info(""Trying to recover, sleeping %s seconds"", sleep) time.sleep(sleep) continue"," errors += 1 with self.lock: self.idl.force_reconnect() try: idlutils.wait_for_change(self.idl, self.timeout) except Exception as e: # This could throw the same exception as idl.run() # or Exception(""timeout""), either way continue LOG.exception(e) sleep = min(2 ** errors, 60) LOG.info(""Trying to recover, sleeping %s seconds"", sleep) time.sleep(sleep) continue",15,13
openstack%2Ftripleo-common~stable%2Fwallaby~Ic96679548a553960f1242850e42f9eec6e4a45f0,openstack/tripleo-common,stable/wallaby,Ic96679548a553960f1242850e42f9eec6e4a45f0,Fix token cache expires_at check,MERGED,2022-11-22 09:08:30.000000000,2022-11-30 00:56:51.000000000,2022-11-30 00:55:49.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 09:08:30.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59f80edb87c1f2e17d81caceb11c5b49403a4b90', 'message': ""Fix token cache expires_at check\n\nTokens can have a expires_at field (specifically, we're seeing this issue\nwith Satellite). The token does not an expires_in. This patch allows for\nthe lookup lookup of either key from the token to resolve\ncached token authentication issues.\n\nExample token:\n```\n{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',\n 'expires_at': '2022-10-28T04:54:58.296Z',\n 'issued_at': '2022-10-17T23:45:09.306Z'}\n```\n\nIt's unnecessary to get the local time, since tokens have Zulu time. So just\ndatetime.now() is sufficient. But to perform the comparison, we need to convert\nthe string datetime from the return value into a valid datetime object.\n\nThis change corrects the describe behavior.\n\nResolves: rhbz#2134075\nChange-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0\n(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)\n""}]",0,865247,59f80edb87c1f2e17d81caceb11c5b49403a4b90,8,3,1,30073,,,0,"Fix token cache expires_at check

Tokens can have a expires_at field (specifically, we're seeing this issue
with Satellite). The token does not an expires_in. This patch allows for
the lookup lookup of either key from the token to resolve
cached token authentication issues.

Example token:
```
{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',
 'expires_at': '2022-10-28T04:54:58.296Z',
 'issued_at': '2022-10-17T23:45:09.306Z'}
```

It's unnecessary to get the local time, since tokens have Zulu time. So just
datetime.now() is sufficient. But to perform the comparison, we need to convert
the string datetime from the return value into a valid datetime object.

This change corrects the describe behavior.

Resolves: rhbz#2134075
Change-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0
(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/865247/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,59f80edb87c1f2e17d81caceb11c5b49403a4b90,," if data: # expires_in is an integer value from the issued_at time. # We will use this to determine if the token should be expired # https://www.rfc-editor.org/rfc/rfc6749#section-4.2.2 if data.get('expires_in'): now = datetime.now(tzlocal()) expires_in = data.get('expires_in') token_time = dt_parse(data.get('issued_at')) if (now - token_time).seconds < expires_in: return data['token'] # TODO(bshephar) Remove once Satellite returns expected expiry # expires_at uses UTC date and time format. Although, this # field doesn't appear in the RFC for OAuth. It appears some # API's return a response with expires_at instead of expires_in # https://www.rfc-editor.org/rfc/rfc6749 # https://bugzilla.redhat.com/show_bug.cgi?id=2134075 # https://bugzilla.redhat.com/show_bug.cgi?id=2138743 elif data.get('expires_at'): now = datetime.utcnow() expires = datetime.strptime(data.get('expires_at'), ""%Y-%m-%dT%H:%M:%S.%fZ"") if now < expires: return data['token'] # If we don't have expires_in or expires_at. We can just # return the token since it probably doesn't expire. else:", if data and data.get('issued_at'): token_time = dt_parse(data.get('issued_at')) now = datetime.now(tzlocal()) expires_in = data.get('expires_in') if not expires_in or (now - token_time).seconds < expires_in:,125,5
openstack%2Ftripleo-validations~stable%2Fzed~If153ef72d9fbc0cbae7c1275ba866331f864995f,openstack/tripleo-validations,stable/zed,If153ef72d9fbc0cbae7c1275ba866331f864995f,Fix ansible 2.14 incompatibility,MERGED,2022-11-29 08:59:56.000000000,2022-11-30 00:56:47.000000000,2022-11-30 00:55:48.000000000,"[{'_account_id': 8833}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:59:56.000000000', 'files': ['roles/repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4013da99e2d0d537331eeacc00bae9d34bc8405a', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f\n(cherry picked from commit 1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d)\n'}]",1,865958,4013da99e2d0d537331eeacc00bae9d34bc8405a,11,5,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f
(cherry picked from commit 1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/865958/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repos/tasks/main.yml'],1,4013da99e2d0d537331eeacc00bae9d34bc8405a,,, args: warn: false,0,2
openstack%2Ftripleo-heat-templates~master~Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,openstack/tripleo-heat-templates,master,Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d,Removing NIC scripts as the heat network config is no longer supported,MERGED,2022-10-07 13:13:24.000000000,2022-11-30 00:55:59.000000000,2022-11-30 00:55:59.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-07 13:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffaa31137a487e0b959f5480df39bb4de9b9d9e2', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n\ttools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/859520/\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 2, 'created': '2022-10-07 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12c20f7c39c04d508b6052b2994719884fd3273e', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n\ttools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 3, 'created': '2022-10-18 07:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3315c8d8585c574f1c006bd85b8db65787597073', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}, {'number': 4, 'created': '2022-10-18 07:38:54.000000000', 'files': ['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e098b8172bdfdfa488bcd8b43049ed362c59cc2d', 'message': 'Removing NIC scripts as the heat network config is no longer supported\n\nFunction of these scripts is now carried out by ansible roles,\nmaking them unnecessary.\n\nRemoved scripts:\n        tools/convert_nic_config.py\n        tools/merge-new-params-nic-config-script.py\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d\n'}]",5,860691,e098b8172bdfdfa488bcd8b43049ed362c59cc2d,23,6,4,32926,,,0,"Removing NIC scripts as the heat network config is no longer supported

Function of these scripts is now carried out by ansible roles,
making them unnecessary.

Removed scripts:
        tools/convert_nic_config.py
        tools/merge-new-params-nic-config-script.py

Depends-On: https://review.opendev.org/c/openstack/tripleo-upgrade/+/861710

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie6dfbc7fef03b6738d3c2b61eab2b18fbe76d49d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/860691/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/merge-new-params-nic-config-script.py', 'tools/convert_nic_config.py']",2,ffaa31137a487e0b959f5480df39bb4de9b9d9e2,tools/drop-nic-scripts,,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import argparse import collections import datetime import os import re import shutil import sys import yaml def parse_opts(argv): parser = argparse.ArgumentParser( description='Convert to new NIC config templates with ' 'OS::Heat::Value resources.') parser.add_argument('-t', '--template', metavar='TEMPLATE_FILE', help=(""Existing NIC config template to convert.""), required=True) parser.add_argument('--discard-comments', metavar='DISCARD_COMMENTS', help=""Discard comments from the template. (The "" ""scripts functions to keep YAML file comments in "" ""place, does not work in all scenarios.)"", default=False) opts = parser.parse_args(argv[1:]) return opts def to_commented_yaml(filename): """"""Convert comments into 'comments<num>: ...' YAML"""""" out_str = '' last_non_comment_spaces = '' with open(filename, 'r') as f: comment_count = 0 for line in f: # skip blank line if line.isspace(): continue char_count = 0 spaces = '' for char in line: char_count += 1 if char == ' ': spaces += ' ' next elif char == '#': comment_count += 1 comment = line[char_count:-1] last_non_comment_spaces = spaces out_str += ""%scomment%i_%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, len(spaces), comment) break else: last_non_comment_spaces = spaces out_str += line # inline comments check m = re.match("".*:.*#(.*)"", line) if m: comment_count += 1 out_str += ""%s inline_comment%i: '%s'\n"" % ( last_non_comment_spaces, comment_count, m.group(1)) break with open(filename, 'w') as f: f.write(out_str) return out_str def to_normal_yaml(filename): """"""Convert back to normal #commented YAML"""""" with open(filename, 'r') as f: data = f.read() out_str = '' next_line_break = False for line in data.split('\n'): # get_input not supported by run-os-net-config.sh script line = line.replace('get_input: ', '') # Normal comments m = re.match("" +comment[0-9]+_([0-9]+): '(.*)'.*"", line) # Inline comments i = re.match("" +inline_comment[0-9]+: '(.*)'.*"", line) if m: if next_line_break: out_str += '\n' next_line_break = False for x in range(0, int(m.group(1))): out_str += "" "" out_str += ""#%s\n"" % m.group(2) elif i: out_str += "" #%s\n"" % i.group(1) next_line_break = False else: if next_line_break: out_str += '\n' out_str += line next_line_break = True if next_line_break: out_str += '\n' with open(filename, 'w') as f: f.write(out_str) return out_str class TemplateDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) def description_presenter(self, data): if not len(data) > 80: return self.represent_scalar('tag:yaml.org,2002:str', data) return self.represent_scalar('tag:yaml.org,2002:str', data, style='>') class TemplateLoader(yaml.SafeLoader): def construct_mapping(self, node): self.flatten_mapping(node) return collections.OrderedDict(self.construct_pairs(node)) TemplateDumper.add_representer(str, TemplateDumper.description_presenter) TemplateDumper.add_representer(bytes, TemplateDumper.description_presenter) TemplateDumper.add_representer(collections.OrderedDict, TemplateDumper.represent_ordered_dict) TemplateLoader.add_constructor(yaml.resolver.BaseResolver.DEFAULT_MAPPING_TAG, TemplateLoader.construct_mapping) def write_template(template, filename=None): with open(filename, 'w') as f: yaml.dump(template, f, TemplateDumper, width=120, default_flow_style=False) def validate_template(template): if not os.path.exists(template): raise RuntimeError('Template not provided.') if not os.path.isfile(template): raise RuntimeError('Template %s is not a file.') pass def backup_template(template): extension = datetime.datetime.now().strftime('%Y%m%d%H%M%S') backup_filename = os.path.realpath(template) + '.' + extension if os.path.exists(backup_filename): raise RuntimeError('Backup file: %s already exists. Aborting!' % backup_filename) shutil.copyfile(template, backup_filename) print('The original template was saved as: %s' % backup_filename) def needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources'].get('OsNetConfigImpl') if (net_config_res and net_config_res[ 'type'] == 'OS::Heat::SoftwareConfig'): backup_template(OPTS.template) if not OPTS.discard_comments: # Convert comments '# ...' into 'comments<num>: ...' # is not lost when loading the data. to_commented_yaml(OPTS.template) return True return False def convert_to_heat_value_resource(): if needs_conversion(): with open(OPTS.template, 'r') as f: template = yaml.load(f.read(), Loader=TemplateLoader) net_config_res = template['resources']['OsNetConfigImpl'] net_config_res_props = net_config_res['properties'] # set the type to OS::Heat::Value net_config_res['type'] = 'OS::Heat::Value' del net_config_res_props['group'] old_config = net_config_res_props['config'] new_config = old_config['str_replace']['params']['$network_config'] del net_config_res_props['config'] net_config_res_props['value'] = new_config outputs = template['outputs'] del outputs['OS::stack_id'] outputs['config'] = {} outputs['config']['value'] = 'get_attr[OsNetConfigImpl, value]' write_template(template, filename=OPTS.template) if not OPTS.discard_comments: # Convert previously converted comments, 'comments<num>: ...' # YAML back to normal #commented YAML to_normal_yaml(OPTS.template) print('The update template was saved as: %s' % OPTS.template) else: print('Template does not need conversion: %s' % OPTS.template) OPTS = parse_opts(sys.argv) convert_to_heat_value_resource() ",0,493
openstack%2Ftripleo-heat-templates~master~Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37,openstack/tripleo-heat-templates,master,Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37,Remove reference to Contrail,MERGED,2022-08-08 14:52:24.000000000,2022-11-30 00:55:55.000000000,2022-11-30 00:55:55.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-08 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a606c9a3c0440490bcae06a0df95cc4ba5193bc', 'message': 'Remove reference to Contrail\n\n... because Contrail support was already removed from this repository.\n\nChange-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37\n'}, {'number': 2, 'created': '2022-10-13 05:20:19.000000000', 'files': ['environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8443a1be425e4ffdc90dbc2b2cb8453d68c5abff', 'message': 'Remove reference to Contrail\n\n... because Contrail support was already removed from this repository.\n\nChange-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37\n'}]",0,852441,8443a1be425e4ffdc90dbc2b2cb8453d68c5abff,11,4,2,9816,,,0,"Remove reference to Contrail

... because Contrail support was already removed from this repository.

Change-Id: Iaca8c7bf4a4b6067cbab02c7f19af36f4036ba37
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/852441/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-bgpvpn.yaml'],1,4a606c9a3c0440490bcae06a0df95cc4ba5193bc,,,# - OpenContrail: BGPVPN:OpenContrail:networking_bgpvpn.neutron.services.service_drivers.opencontrail.opencontrail.OpenContrailBGPVPNDriver:default,0,1
openstack%2Ftripleo-heat-templates~master~Ic01100b74acdf9ba9490aaa8a307580f40f3e032,openstack/tripleo-heat-templates,master,Ic01100b74acdf9ba9490aaa8a307580f40f3e032,OpendaylightApiNetwork is no longer used,MERGED,2022-08-08 14:52:24.000000000,2022-11-30 00:55:52.000000000,2022-11-30 00:55:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-08-08 14:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d41424318bdb3422c974b1f662634f9e0c6da58f', 'message': 'Remove reference to OpenDaylight\n\n... because OpenDaylight support was removed long ago[1].\n\n[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3\n\nChange-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032\n'}, {'number': 2, 'created': '2022-10-13 05:20:04.000000000', 'files': ['environments/neutron-l2gw.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/neutron-bgpvpn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d98eaa115fce2c82f91641acf5daf42ce67fee34', 'message': 'OpendaylightApiNetwork is no longer used\n\n... since OpenDaylight support was removed by [1].\n\nThis also cleans up a few remaining references in environment files.\n\n[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3\n\nChange-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032\n'}]",0,852440,d98eaa115fce2c82f91641acf5daf42ce67fee34,11,4,2,9816,,,0,"OpendaylightApiNetwork is no longer used

... since OpenDaylight support was removed by [1].

This also cleans up a few remaining references in environment files.

[1] 9c3638b8a13ea08a1bab95c9cd6ab335b729b6b3

Change-Id: Ic01100b74acdf9ba9490aaa8a307580f40f3e032
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/852440/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-l2gw.yaml', 'environments/neutron-bgpvpn.yaml']",2,d41424318bdb3422c974b1f662634f9e0c6da58f,,,# - OpenDaylight: BGPVPN:OpenDaylight:networking_odl.bgpvpn.odl_v2.OpenDaylightBgpvpnDriver:default,0,2
openstack%2Ftripleo-ansible~master~I6b6843c58ec597d44bd0d1098bf524adb310198b,openstack/tripleo-ansible,master,I6b6843c58ec597d44bd0d1098bf524adb310198b,Add default value to bond_interface_ovs_options,ABANDONED,2022-11-21 06:45:35.000000000,2022-11-30 00:43:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 06:45:35.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/tests/modules/test_tripleo_generate_inventory_network_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63f5c6777992d4dcd4ed56e91881fe7e51d60c35', 'message': ""Add default value to bond_interface_ovs_options\n\nbond_interface_ovs_options didn't have a default option.\nBecause of that, the network_config except bonding or ovs interfaces\nfailed due to the lack or the option assignment.\n\nThis fix introduces the default value, '', to bond_interface_ovs_options\nto prevent the failure in those cases.\n\nChange-Id: I6b6843c58ec597d44bd0d1098bf524adb310198b\n""}]",1,865104,63f5c6777992d4dcd4ed56e91881fe7e51d60c35,7,2,1,25613,,,0,"Add default value to bond_interface_ovs_options

bond_interface_ovs_options didn't have a default option.
Because of that, the network_config except bonding or ovs interfaces
failed due to the lack or the option assignment.

This fix introduces the default value, '', to bond_interface_ovs_options
to prevent the failure in those cases.

Change-Id: I6b6843c58ec597d44bd0d1098bf524adb310198b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/865104/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_generate_inventory_network_config.py', 'tripleo_ansible/tests/modules/test_tripleo_generate_inventory_network_config.py']",2,63f5c6777992d4dcd4ed56e91881fe7e51d60c35,bond_interface_ovs_options," 'bond_interface_ovs_options': '', 'bond_interface_ovs_options': '',",,3,0
openstack%2Fnova~stable%2Fxena~I741cb6b29a67da8c60708c6251c441d778ca74d0,openstack/nova,stable/xena,I741cb6b29a67da8c60708c6251c441d778ca74d0,Fix the wrong exception used to retry detach API calls,MERGED,2022-02-15 07:00:25.000000000,2022-11-30 00:09:38.000000000,2022-11-30 00:08:28.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-15 07:00:25.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/513241a7e4f3f3246c75e66a910db6c864c3981e', 'message': 'Fix the wrong exception used to retry detach API calls\n\nWhen cinderclient receives an error response from API, it raises one\nof the exceptions from the cinderclient.exceptions module instead of\nthe cinderclient.apiclient.exceptions module.\n\nThis change fixes the wrong exception used to detect 500 error from\ncinder API, so that API calls to detach volumes are properly retried.\n\nCloses-Bug: #1944043\nChange-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0\n(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)\n'}]",3,829049,513241a7e4f3f3246c75e66a910db6c864c3981e,18,5,1,9816,,,0,"Fix the wrong exception used to retry detach API calls

When cinderclient receives an error response from API, it raises one
of the exceptions from the cinderclient.exceptions module instead of
the cinderclient.apiclient.exceptions module.

This change fixes the wrong exception used to detect 500 error from
cinder API, so that API calls to detach volumes are properly retried.

Closes-Bug: #1944043
Change-Id: I741cb6b29a67da8c60708c6251c441d778ca74d0
(cherry picked from commit f6206269b71d9bcaf65aa0313c21cc6b75a54fb3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/829049/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,513241a7e4f3f3246c75e66a910db6c864c3981e,bug/1944043-stable/xena," (isinstance(e, cinder_exception.ClientException) and e.code == 500)) (isinstance(e, cinder_exception.ClientException) and e.code == 500)) (isinstance(e, cinder_exception.ClientException) and e.code == 500))",from cinderclient import apiclient as cinder_apiclient type(e) == cinder_apiclient.exceptions.InternalServerError) type(e) == cinder_apiclient.exceptions.InternalServerError) type(e) == cinder_apiclient.exceptions.InternalServerError),30,22
openstack%2Fdevstack~master~I8ee94e877ad3dceba3cee67c2b40d55a8805f51d,openstack/devstack,master,I8ee94e877ad3dceba3cee67c2b40d55a8805f51d,DNM testing /opt moving performance,NEW,2022-09-22 23:04:44.000000000,2022-11-30 00:04:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-22 23:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2571b693f333265e93cd4b8d49da647722874c9', 'message': ""DNM testing prepare-workspace-git updates\n\nWe're trying to speed up this role but since all the jobs use it we're\ntrying to get good test coverage. Devstack is a good test as it has\nmultinode jobs and requires a number of repos that prepare-workspace-git\nwill need to set up.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/858995\nChange-Id: I8ee94e877ad3dceba3cee67c2b40d55a8805f51d\n""}, {'number': 2, 'created': '2022-11-29 18:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf1b16549f8693ba28eb0168a893c98604e73add', 'message': 'DNM testing /opt moving performance\n\nThis can be slow. Use this DNM change to try and gather input\non whether or not this might be faster.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/866054\nChange-Id: I8ee94e877ad3dceba3cee67c2b40d55a8805f51d\n'}, {'number': 3, 'created': '2022-11-29 18:34:05.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf8d93e4db00b70f7dcc8b8d912c97fe97f66c1d', 'message': 'DNM testing /opt moving performance\n\nThis can be slow. Use this DNM change to try and gather input\non whether or not this might be faster. New ps to restart jobs\nas none seem to have landed on rax.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/866054\nChange-Id: I8ee94e877ad3dceba3cee67c2b40d55a8805f51d\n'}]",2,858996,bf8d93e4db00b70f7dcc8b8d912c97fe97f66c1d,9,1,3,4146,,,0,"DNM testing /opt moving performance

This can be slow. Use this DNM change to try and gather input
on whether or not this might be faster. New ps to restart jobs
as none seem to have landed on rax.

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/866054
Change-Id: I8ee94e877ad3dceba3cee67c2b40d55a8805f51d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/858996/2 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,a2571b693f333265e93cd4b8d49da647722874c9,test-prepare-workspace-git,# # DNM testing prepare-workspace-git,,2,0
openstack%2Fovsdbapp~master~I97245fd3880e18d6e4f22337426444bd91b444f1,openstack/ovsdbapp,master,I97245fd3880e18d6e4f22337426444bd91b444f1,Avoid race conditions when deleting bridges,ABANDONED,2022-03-23 23:38:01.000000000,2022-11-29 23:59:18.000000000,,"[{'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-23 23:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/27f052de06d9f09aabfb7f881fe2068fff268e58', 'message': 'Avoid race conditions when deleting bridges\n\nIn the trunk implementation of the ml2/ovs mechanism driver there is a\nrace condition with os-vif, in the case of DPDK with vhostuserclient.\nTo avoid this, in this change we add to the delete bridge command the\nability to decide whether to delete the bridge or not based on how\nrecently the bridge was last updated. This will enable ovsdb\ntransactions executed by os-vif and the ml2/ovs trunk manager to be\nmutually isolated.\n\nPartial-Bug: #1869244\nChange-Id: I97245fd3880e18d6e4f22337426444bd91b444f1\n'}, {'number': 2, 'created': '2022-03-24 22:59:48.000000000', 'files': ['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/schema/open_vswitch/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/093932ff80f0442b06816eadf4283cd7ee50a7d2', 'message': 'Avoid race conditions when deleting bridges\n\nIn the trunk implementation of the ml2/ovs mechanism driver there is a\nrace condition with os-vif, in the case of DPDK with vhostuserclient.\nTo avoid this, in this change we add to the delete bridge command the\nability to decide whether to delete the bridge or not based on how\nrecently the bridge was last updated. This will enable ovsdb\ntransactions executed by os-vif and the ml2/ovs trunk manager to be\nmutually isolated.\n\nPartial-Bug: #1869244\nChange-Id: I97245fd3880e18d6e4f22337426444bd91b444f1\n'}]",9,834982,093932ff80f0442b06816eadf4283cd7ee50a7d2,12,5,2,4694,,,0,"Avoid race conditions when deleting bridges

In the trunk implementation of the ml2/ovs mechanism driver there is a
race condition with os-vif, in the case of DPDK with vhostuserclient.
To avoid this, in this change we add to the delete bridge command the
ability to decide whether to delete the bridge or not based on how
recently the bridge was last updated. This will enable ovsdb
transactions executed by os-vif and the ml2/ovs trunk manager to be
mutually isolated.

Partial-Bug: #1869244
Change-Id: I97245fd3880e18d6e4f22337426444bd91b444f1
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/82/834982/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/open_vswitch/impl_idl.py', 'ovsdbapp/schema/open_vswitch/commands.py']",2,27f052de06d9f09aabfb7f881fe2068fff268e58,recency-interval,"import time def __init__(self, api, name, if_exists, recency_interval): self.recency_interval = recency_interval if recency_interval: update_time = br.external_ids.get('update_time', None) if not update_time: msg = (""recency_interval of %s was specified for bridge %s, "" ""deletion, and the bridge doesn't have update time"") LOG.error(msg) raise RuntimeError(msg) elapsed_secs = time.time() - float(update_time) if elapsed_secs > recency_interval: return"," def __init__(self, api, name, if_exists):",15,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id7616ebceb820d9799661c0fbc5f3f234f421ea3,openstack/tripleo-heat-templates,stable/train,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 08:49:38.000000000,2022-11-29 23:24:09.000000000,2022-11-29 23:24:09.000000000,"[{'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:49:38.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b17daedddfde90ea19ed71e46ca25b21503bb83d', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nConflicts:\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\n(wallaby to train)\nConflicts:\n\tdeployment/database/redis-pacemaker-puppet.yaml\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)\n(cherry picked from commit 3fc9478a863980e4448434f413ff3e878ccf04ab)\n""}]",2,865955,b17daedddfde90ea19ed71e46ca25b21503bb83d,12,5,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Conflicts:
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

(wallaby to train)
Conflicts:
	deployment/database/redis-pacemaker-puppet.yaml
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)
(cherry picked from commit 3fc9478a863980e4448434f413ff3e878ccf04ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/865955/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,b17daedddfde90ea19ed71e46ca25b21503bb83d,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fneutron-lib~master~Iec317f00827b05455dba369afcb6f1fd8f0fca71,openstack/neutron-lib,master,Iec317f00827b05455dba369afcb6f1fd8f0fca71,"""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values",MERGED,2022-11-24 09:42:13.000000000,2022-11-29 23:16:10.000000000,2022-11-29 23:15:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 09:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d2742c37405c19e41b165a7b9d3197b18273da2', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 2, 'created': '2022-11-24 16:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/42edcc02f593d76c02f28fd5876a5d3d5a7f0b07', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 3, 'created': '2022-11-25 08:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/04a500355aaf562bdb7cdc1ba2a67ce24ca712b9', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}, {'number': 4, 'created': '2022-11-28 14:44:09.000000000', 'files': ['neutron_lib/api/converters.py', 'neutron_lib/tests/unit/api/test_conversions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f2bb7c72cd1fa8bfd25431834dde6dbfcf4d0b72', 'message': '""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values\n\nChange-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71\nCloses-Bug: #1997680\n'}]",2,865517,f2bb7c72cd1fa8bfd25431834dde6dbfcf4d0b72,16,4,4,16688,,,0,"""convert_to_sanitized_mac_address"" accepts netaddr.EUI type values

Change-Id: Iec317f00827b05455dba369afcb6f1fd8f0fca71
Closes-Bug: #1997680
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/17/865517/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/converters.py', 'neutron_lib/tests/unit/api/test_conversions.py']",2,7d2742c37405c19e41b165a7b9d3197b18273da2,bug/1997680," input_exp = (('00:11:22:33:44:55', '00:11:22:33:44:55'), ('00:11:22:33:44:5', '00:11:22:33:44:05'), ('0:1:2:3:4:5', '00:01:02:03:04:05'), ('ca:FE:cA:Fe:a:E', 'ca:fe:ca:fe:0a:0e'), ('12345678901', '01:23:45:67:89:01'), ('012345678901', '01:23:45:67:89:01'), ) for input, expected in input_exp: self.assertEqual( expected, converters.convert_to_sanitized_mac_address(input)) eui_address = netaddr.EUI(input) self.assertEqual( expected, converters.convert_to_sanitized_mac_address(eui_address))"," self.assertEqual( '00:11:22:33:44:55', converters.convert_to_sanitized_mac_address('00:11:22:33:44:55')) self.assertEqual( '00:11:22:33:44:05', converters.convert_to_sanitized_mac_address('00:11:22:33:44:5')) self.assertEqual( '00:01:02:03:04:05', converters.convert_to_sanitized_mac_address('0:1:2:3:4:5')) self.assertEqual( 'ca:fe:ca:fe:0a:0e', converters.convert_to_sanitized_mac_address('ca:FE:cA:Fe:a:E')) self.assertEqual( '01:23:45:67:89:01', converters.convert_to_sanitized_mac_address('12345678901')) self.assertEqual( '01:23:45:67:89:01', converters.convert_to_sanitized_mac_address('012345678901'))",21,19
openstack%2Fpython-openstackclient~master~I6ed5f54079b88bc9fdfa24474a480a2786eda745,openstack/python-openstackclient,master,I6ed5f54079b88bc9fdfa24474a480a2786eda745,Adding volume backend commands to volume v3,MERGED,2022-11-29 12:53:14.000000000,2022-11-29 23:05:02.000000000,2022-11-29 23:03:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 12:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/992ff8345fe765ceaf6c5839f56cd26251a66357', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}, {'number': 2, 'created': '2022-11-29 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87702a936fc2c558dab86831e5781398b11ea5ef', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}, {'number': 3, 'created': '2022-11-29 13:46:11.000000000', 'files': ['releasenotes/notes/add_volume_backend_commands_to_volumeV3-145b114e40ab8615.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f0f54f01001db657b3ed7d618dfd1078f2dde580', 'message': 'Adding volume backend commands to volume v3\n\nTask: 46959\nStory: 2010454\nChange-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745\n'}]",4,865987,f0f54f01001db657b3ed7d618dfd1078f2dde580,16,2,3,16198,,,0,"Adding volume backend commands to volume v3

Task: 46959
Story: 2010454
Change-Id: I6ed5f54079b88bc9fdfa24474a480a2786eda745
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/865987/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,992ff8345fe765ceaf6c5839f56cd26251a66357,ipo/2010454, volume_backend_capability_show = openstackclient.volume.v2.volume_backend:ShowCapability volume_backend_pool_list = openstackclient.volume.v2.volume_backend:ListPool ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id7616ebceb820d9799661c0fbc5f3f234f421ea3,openstack/tripleo-heat-templates,stable/wallaby,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 03:41:12.000000000,2022-11-29 22:52:41.000000000,2022-11-29 22:52:41.000000000,"[{'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 03:41:12.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fc9478a863980e4448434f413ff3e878ccf04ab', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nConflicts:\n\tdeployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)\n""}]",0,865935,3fc9478a863980e4448434f413ff3e878ccf04ab,13,7,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Conflicts:
	deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
(cherry picked from commit fde20f941d0452d875ade3c86caf0a7ed34b789f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/865935/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,3fc9478a863980e4448434f413ff3e878ccf04ab,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Ftripleo-heat-templates~master~Id361de9794d57f7f6b0a616dc7a024c17427c8de,openstack/tripleo-heat-templates,master,Id361de9794d57f7f6b0a616dc7a024c17427c8de,Rename bond_interface_ovs_options,NEW,2022-11-29 22:16:03.000000000,2022-11-29 22:23:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 22:16:03.000000000', 'files': ['tools/convert_heat_nic_config_to_ansible_j2.py', 'tools/tests/nic_config_convert_samples/j2_references/2-linux-bonds-vlans-controller.j2', 'tools/tests/test_convert_heat_nic_config_to_ansible_j2.py', 'overcloud.j2.yaml', 'tools/tests/nic_config_convert_samples/j2_references/bond-vlans-controller.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2adfed9ddd2e9dbc1f6b5172956c2e4bc2e634ed', 'message': 'Rename bond_interface_ovs_options\n\nRenaming bond_interface_ovs_options variable for consistency\nwith tripleo-ansible conventions.\n\nThis is necessary to add defaults for this variable into the tripleo-ansible\nrole itself.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/866078\nChange-Id: Id361de9794d57f7f6b0a616dc7a024c17427c8de\n'}]",1,866080,2adfed9ddd2e9dbc1f6b5172956c2e4bc2e634ed,5,2,1,30073,,,0,"Rename bond_interface_ovs_options

Renaming bond_interface_ovs_options variable for consistency
with tripleo-ansible conventions.

This is necessary to add defaults for this variable into the tripleo-ansible
role itself.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/866078
Change-Id: Id361de9794d57f7f6b0a616dc7a024c17427c8de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/866080/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/convert_heat_nic_config_to_ansible_j2.py', 'tools/tests/nic_config_convert_samples/j2_references/2-linux-bonds-vlans-controller.j2', 'tools/tests/test_convert_heat_nic_config_to_ansible_j2.py', 'overcloud.j2.yaml', 'tools/tests/nic_config_convert_samples/j2_references/bond-vlans-controller.j2']",5,2adfed9ddd2e9dbc1f6b5172956c2e4bc2e634ed,bond-options, ovs_options: {{ tripleo_bond_interface_ovs_options }}, ovs_options: {{ bond_interface_ovs_options }},6,6
openstack%2Fnova~master~I4218fb39ce80800be8c95da7132b3b74226ad10a,openstack/nova,master,I4218fb39ce80800be8c95da7132b3b74226ad10a,extend_volume of libvirt/volume/fc should not use device_path,MERGED,2022-09-16 12:44:00.000000000,2022-11-29 22:04:04.000000000,2022-11-29 22:02:15.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-09-16 12:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fb7fdb8351afd96cfc4a224ddf9585857cb2b72', 'message': ""extend_volume of libvirt/volume/fc should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1989894\nChange-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a\n""}, {'number': 2, 'created': '2022-09-16 13:05:11.000000000', 'files': ['nova/virt/libvirt/volume/fibrechannel.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9fa785fa809d6ffbb93dc4eec0c1b4955bfec20', 'message': ""extend_volume of libvirt/volume/fc should not use device_path\n\nThe connection_info['data']['device_path'] field is not always\navailable. In cases that it was not available, it would cause\nthe debug code to raise a KeyError instead of proceeding.\n\nOther similar debug messages in the same file do not include\ndevice_path. As a simple fix, just drop the device_path from\nthe log.\n\nCloses-Bug: #1989894\nChange-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a\n""}]",8,858129,f9fa785fa809d6ffbb93dc4eec0c1b4955bfec20,55,7,2,20733,,,0,"extend_volume of libvirt/volume/fc should not use device_path

The connection_info['data']['device_path'] field is not always
available. In cases that it was not available, it would cause
the debug code to raise a KeyError instead of proceeding.

Other similar debug messages in the same file do not include
device_path. As a simple fix, just drop the device_path from
the log.

Closes-Bug: #1989894
Change-Id: I4218fb39ce80800be8c95da7132b3b74226ad10a
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/858129/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/fibrechannel.py'],1,8fb7fdb8351afd96cfc4a224ddf9585857cb2b72,lp_1989894,," connection_info['data']['device_path'],",0,1
openstack%2Frequirements~master~I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7,openstack/requirements,master,I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7,update constraint for neutron-lib to new release 3.2.0,MERGED,2022-11-17 13:33:54.000000000,2022-11-29 22:03:14.000000000,2022-11-29 22:02:10.000000000,"[{'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32238}, {'_account_id': 33607}]","[{'number': 1, 'created': '2022-11-17 13:33:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/37f003c28c59e534d9a1047f4af5f58d23ae3db8', 'message': 'update constraint for neutron-lib to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: Ie318b4a9f6ae9561c514c8b2d9d84f4dd1d5d677\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7\n'}]",5,864899,37f003c28c59e534d9a1047f4af5f58d23ae3db8,26,6,1,11131,,,0,"update constraint for neutron-lib to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: Ie318b4a9f6ae9561c514c8b2d9d84f4dd1d5d677
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I83035bfe683cfde7b806c4c9e9830a93a0b3c5d7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/864899/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,37f003c28c59e534d9a1047f4af5f58d23ae3db8,new-release,neutron-lib===3.2.0,neutron-lib===3.1.0,1,1
openstack%2Fnova~master~Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,openstack/nova,master,Ib775c2210349b72b3dc033554ac6d8b35b8d2d79,Don't provide MTU value in metadata service if DHCP is enabled,MERGED,2022-09-02 14:02:19.000000000,2022-11-29 22:03:09.000000000,2022-11-29 22:02:04.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-02 14:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8f82f03e25d09dd8b25f67cb4643c3530f59560', 'message': 'WIP Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 2, 'created': '2022-09-07 08:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f453381cc937b8d0d9978de5254eb89eee1f0dc', 'message': 'WIP Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 3, 'created': '2022-10-21 09:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db933a78051bc23f8e57ba5a7c21eb2c74e3bcc1', 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}, {'number': 4, 'created': '2022-11-29 15:12:24.000000000', 'files': ['releasenotes/notes/Do-not-send-mtu-value-in-metadata-for-networks-with-enabled-dhcp-641506f2a13b540f.yaml', 'nova/tests/unit/virt/test_netutils.py', 'nova/virt/netutils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bdc79af30151f683c0f462bc6c69da30ebcbcf9', 'message': 'Don\'t provide MTU value in metadata service if DHCP is enabled\n\nFor networks with subnets with enabled DHCP service don\'t provide\nmtu value in the metadata. That way cloud-init will not configure it\n""statically"" in e.g. netplan\'s config file and guest OS will use MTU\nvalue provided by the DHCP service.\n\n\nCloses-Bug: #1899487\nChange-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79\n'}]",23,855664,6bdc79af30151f683c0f462bc6c69da30ebcbcf9,45,4,4,11975,,,0,"Don't provide MTU value in metadata service if DHCP is enabled

For networks with subnets with enabled DHCP service don't provide
mtu value in the metadata. That way cloud-init will not configure it
""statically"" in e.g. netplan's config file and guest OS will use MTU
value provided by the DHCP service.


Closes-Bug: #1899487
Change-Id: Ib775c2210349b72b3dc033554ac6d8b35b8d2d79
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/855664/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/netutils.py'],1,b8f82f03e25d09dd8b25f67cb4643c3530f59560,bug/1899487,"from oslo_log import log as logging LOG = logging.getLogger(__name__) LOG.error(""SK; subnet_v4: %s"", subnet_v4) LOG.error(""SK; subnet_v6: %s"", subnet_v6) LOG.error(""SK; looking for ethlink for vif: %s"", vif) LOG.error(""SK; link found: %s"", link) 'mtu': _get_link_mtu(vif),def _get_link_mtu(vif): for subnet in vif['network']['subnets']: if subnet['meta'].get('dhcp_server'): return None return vif['network']['meta'].get('mtu') "," 'mtu': vif['network']['meta'].get('mtu'),",14,1
openstack%2Fnova~stable%2Ftrain~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/train,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,NEW,2022-04-26 10:30:28.000000000,2022-11-29 22:00:27.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 10:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b03d66a44b9c57c615e275938480c368112ea97', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: vif_plugging_timeout=0 added for the functional test\nto avoid test timeouts this was added in ussuri by\nI63c1109dcdb9132cdbc41010654c5fdb31a4fe31 that is not in stable/train.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)\n(cherry picked from commit 1d0b7051da430ed00ae49901a32ec6af46c1a64e)\n'}, {'number': 2, 'created': '2022-06-01 09:22:53.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/98be985e11a2d5cbbd59faed32b0286b0361cc0d', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: vif_plugging_timeout=0 added for the functional test\nto avoid test timeouts this was added in ussuri by\nI63c1109dcdb9132cdbc41010654c5fdb31a4fe31 that is not in stable/train.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)\n(cherry picked from commit 1d0b7051da430ed00ae49901a32ec6af46c1a64e)\n'}]",10,839355,98be985e11a2d5cbbd59faed32b0286b0361cc0d,19,2,2,9708,,,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Conflicts: vif_plugging_timeout=0 added for the functional test
to avoid test timeouts this was added in ussuri by
I63c1109dcdb9132cdbc41010654c5fdb31a4fe31 that is not in stable/train.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)
(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)
(cherry picked from commit 1d0b7051da430ed00ae49901a32ec6af46c1a64e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/839355/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']",2,0b03d66a44b9c57c615e275938480c368112ea97,bug/1953359," # Check for tracked instances with in-progress, incoming, but not # finished migrations. For those instance the migration context # is not applied yet (it will be during finish_resize when the # migration goes to finished state). We need to manually and # temporary apply the migration context here when the resource usage is # updated. See bug 1953359 for more details. instance_by_uuid = {instance.uuid: instance for instance in instances} for migration in migrations: if ( migration.instance_uuid in instance_by_uuid and migration.dest_compute == self.host and migration.dest_node == nodename ): # we does not check for the 'post-migrating' migration status # as applying the migration context for an instance already # in finished migration status is a no-op anyhow. instance = instance_by_uuid[migration.instance_uuid] LOG.debug( 'Applying migration context for instance %s as it has an ' 'incoming, in-progress migration %s. ' 'Migration status is %s', migration.instance_uuid, migration.uuid, migration.status ) # It is OK not to revert the migration context at the end of # the periodic as the instance is not saved during the periodic instance.apply_migration_context() # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) "," # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) ",45,27
openstack%2Fmanila~stable%2Fyoga~Ie49dbe4633a34d1832f0dedb658d83ec74d351df,openstack/manila,stable/yoga,Ie49dbe4633a34d1832f0dedb658d83ec74d351df,Fix reference to deprecated quota_driver option,MERGED,2022-08-04 17:21:06.000000000,2022-11-29 21:57:05.000000000,2022-11-29 21:55:13.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-08-04 17:21:06.000000000', 'files': ['releasenotes/notes/bug-1983125-cb9118c3fa26a6f2.yaml', 'manila/quota.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e4c8c723340dcb76ad508295cd22554d0cbe5f38', 'message': 'Fix reference to deprecated quota_driver option\n\nThe commit 76cfc9405ea8b318e8b1c589fa245f86a5827b71 moved all quota_*\noptions to the separate quota section but the commit missed one usage\nof the old quota_driver option, and the remaining usage causes\nthe following warning warning to appear repeatedly.\n\nConfig option None.quota_driver is deprecated.\nUse option quota.driver instead.\n\nThis replaces the remaining usage to get rid of that warning.\n\nRelated-Bug: #1934025\nCloses-Bug: #1983125\nChange-Id: Ie49dbe4633a34d1832f0dedb658d83ec74d351df\n(cherry picked from commit 68a5e93ff9ba00b58804ad8b9d12d48cdc25802f)\n'}]",2,852094,e4c8c723340dcb76ad508295cd22554d0cbe5f38,11,3,1,16643,,,0,"Fix reference to deprecated quota_driver option

The commit 76cfc9405ea8b318e8b1c589fa245f86a5827b71 moved all quota_*
options to the separate quota section but the commit missed one usage
of the old quota_driver option, and the remaining usage causes
the following warning warning to appear repeatedly.

Config option None.quota_driver is deprecated.
Use option quota.driver instead.

This replaces the remaining usage to get rid of that warning.

Related-Bug: #1934025
Closes-Bug: #1983125
Change-Id: Ie49dbe4633a34d1832f0dedb658d83ec74d351df
(cherry picked from commit 68a5e93ff9ba00b58804ad8b9d12d48cdc25802f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/94/852094/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1983125-cb9118c3fa26a6f2.yaml', 'manila/quota.py']",2,e4c8c723340dcb76ad508295cd22554d0cbe5f38,bug/1983125, self._driver_cls = CONF.quota.driver, self._driver_cls = CONF.quota_driver,7,1
openstack%2Fmanila~stable%2Fyoga~Ibd05406b4af7c99795f1bca2d4989790430b616b,openstack/manila,stable/yoga,Ibd05406b4af7c99795f1bca2d4989790430b616b,Set configured_ip_versions fact in cephfs driver,MERGED,2022-10-28 23:34:05.000000000,2022-11-29 21:56:13.000000000,2022-11-29 21:55:11.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-28 23:34:05.000000000', 'files': ['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f2111d5414ce45dc1189c34d10718147bcd783b6', 'message': 'Set configured_ip_versions fact in cephfs driver\n\nWithout it, we lose the memoization optimization\nin the ""get_configured_ip_versions"" method, and\ncause a warning log to be emitted one too many\ntimes than desired.\n\nChange-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b\nCloses-Bug: #1991776\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit bdfafcdada6c4912c7bc93c59c9690a18296dc8a)\n(cherry picked from commit 5f9c037a3e929a90ced92f34eaaef32a9ebf2aac)\n'}]",2,862966,f2111d5414ce45dc1189c34d10718147bcd783b6,9,4,1,16643,,,0,"Set configured_ip_versions fact in cephfs driver

Without it, we lose the memoization optimization
in the ""get_configured_ip_versions"" method, and
cause a warning log to be emitted one too many
times than desired.

Change-Id: Ibd05406b4af7c99795f1bca2d4989790430b616b
Closes-Bug: #1991776
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit bdfafcdada6c4912c7bc93c59c9690a18296dc8a)
(cherry picked from commit 5f9c037a3e929a90ced92f34eaaef32a9ebf2aac)
",git fetch https://review.opendev.org/openstack/manila refs/changes/66/862966/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1991776-cephfs-configured-ip-versions-fd87976fdb848e8c.yaml', 'manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py']",3,f2111d5414ce45dc1189c34d10718147bcd783b6,bug/1991776," self.assertEqual(set(configured_ip_version), helper.configured_ip_versions)",,9,1
openstack%2Fkolla-ansible~master~I638a41953332dbd1210031b3318b6c7ab8f867cb,openstack/kolla-ansible,master,I638a41953332dbd1210031b3318b6c7ab8f867cb,RBD: Don't query Ceph on stats for exclusive pools,ABANDONED,2022-10-18 16:00:42.000000000,2022-11-29 21:54:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-10-18 16:00:42.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae29fab49a1f4ac71461be67ea878ad4c8e5d309', 'message': 'RBD: Don\'t query Ceph on stats for exclusive pools\n\nCollecting stats for provisioned_capacity_gb takes a long time since\ncinder have to query each individual image for the provisioned size.\nIf the pool is used just for Cinder and/or are willing to accept\na potential deviation in Cinder stats we could just not retrieve this\ninformation and calculate this based on the DB information for the\nvolumes.\n\nThis patch adds configuration option\n`cinder_backend_defaults_rbd_exclusive_cinder_pool` that\nallows us to enable/disable the size collection and thus improve the stats\nreporting speed.\n\nThis configuration option is set to ""true"" in kolla as it is also in\ncinder. The reason why this patch is explicitly defining this value is\nthat this option was changed in mid-cycle.\n\nThis option will be rendered in [backend_defaults] as most of\nkolla openstack deployments use ceph as dedicated storage, moreover\nthis is default value and can be overriden via config override.\n\nCloses-Bug: #1993321\nChange-Id: I638a41953332dbd1210031b3318b6c7ab8f867cb\n'}]",7,861774,ae29fab49a1f4ac71461be67ea878ad4c8e5d309,11,2,1,27339,,,0,"RBD: Don't query Ceph on stats for exclusive pools

Collecting stats for provisioned_capacity_gb takes a long time since
cinder have to query each individual image for the provisioned size.
If the pool is used just for Cinder and/or are willing to accept
a potential deviation in Cinder stats we could just not retrieve this
information and calculate this based on the DB information for the
volumes.

This patch adds configuration option
`cinder_backend_defaults_rbd_exclusive_cinder_pool` that
allows us to enable/disable the size collection and thus improve the stats
reporting speed.

This configuration option is set to ""true"" in kolla as it is also in
cinder. The reason why this patch is explicitly defining this value is
that this option was changed in mid-cycle.

This option will be rendered in [backend_defaults] as most of
kolla openstack deployments use ceph as dedicated storage, moreover
this is default value and can be overriden via config override.

Closes-Bug: #1993321
Change-Id: I638a41953332dbd1210031b3318b6c7ab8f867cb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/861774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cinder/templates/cinder.conf.j2']",2,ae29fab49a1f4ac71461be67ea878ad4c8e5d309,,[backend_defaults] rbd_exclusive_cinder_pool = {{ cinder_backend_defaults_rbd_exclusive_cinder_pool | bool }} ,,5,0
openstack%2Fneutron~master~Ic52107fdf96e2db7c26cc9a023843430775cb775,openstack/neutron,master,Ic52107fdf96e2db7c26cc9a023843430775cb775,"Do not mock the hash method for testing ""get_vlan_device_name""",MERGED,2022-11-29 15:51:15.000000000,2022-11-29 21:53:46.000000000,2022-11-29 21:52:28.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 15:51:15.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/macvtap/test_macvtap_common.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/895f818cb3052d055bef9bbe2efc5c71cd0626cf', 'message': 'Do not mock the hash method for testing ""get_vlan_device_name""\n\nInstead of this, use the same algorith used by the method to build\nthe device name.\n\nCloses-Bug: #1998228\nChange-Id: Ic52107fdf96e2db7c26cc9a023843430775cb775\n'}]",1,866038,895f818cb3052d055bef9bbe2efc5c71cd0626cf,12,7,1,16688,,,0,"Do not mock the hash method for testing ""get_vlan_device_name""

Instead of this, use the same algorith used by the method to build
the device name.

Closes-Bug: #1998228
Change-Id: Ic52107fdf96e2db7c26cc9a023843430775cb775
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/866038/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/macvtap/test_macvtap_common.py'],1,895f818cb3052d055bef9bbe2efc5c71cd0626cf,bug/1998228," from oslo_utils import encodeutils def _hash_prefix(self, value): hashed_name = hashlib.new('sha1', usedforsecurity=False) hashed_name.update(encodeutils.to_utf8(value)) return hashed_name.hexdigest()[0:6] def test_get_vlan_device_name(self): self.assertEqual('11ch' + self._hash_prefix('11charrrrrr') + '.1', self.assertEqual('14ch' + self._hash_prefix('14charrrrrrrrr') + '.1', self.assertEqual( '14ch' + self._hash_prefix('14charrrrrrrrr') + '.1111', m_common.get_vlan_device_name('14charrrrrrrrr', ""1111""))","from unittest import mockMOCKED_HASH = ""MOCKEDHASH"" class MockSHA(object): def hexdigest(self): return MOCKED_HASH @mock.patch.object(hashlib, 'sha1', return_value=MockSHA()) def test_get_vlan_device_name(self, mocked_hash): hash_used = MOCKED_HASH[0:6] self.assertEqual('11ch' + hash_used + '.1', self.assertEqual('14ch' + hash_used + '.1', self.assertEqual('14ch' + hash_used + '.1111', m_common.get_vlan_device_name('14charrrrrrrrr', ""1111""))",14,16
openstack%2Fpython-openstackclient~stable%2Fyoga~I6842dabd7acb4e3a78f894e55e616625757eb6a4,openstack/python-openstackclient,stable/yoga,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:32:28.000000000,2022-11-29 21:53:39.000000000,2022-11-29 21:52:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:32:28.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/53d8667b4bdd749177f39473674a917c0ad5df22', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n""}]",2,859969,53d8667b4bdd749177f39473674a917c0ad5df22,14,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/69/859969/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,53d8667b4bdd749177f39473674a917c0ad5df22,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fpython-openstackclient~stable%2Fwallaby~I6842dabd7acb4e3a78f894e55e616625757eb6a4,openstack/python-openstackclient,stable/wallaby,I6842dabd7acb4e3a78f894e55e616625757eb6a4,compute: Require image when rebuilding a volume-backed server,MERGED,2022-09-30 10:34:02.000000000,2022-11-29 21:53:39.000000000,2022-11-29 21:52:33.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-30 10:34:02.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ad924068f89439fbf2fbaaf394280eeeefd6c3e9', 'message': ""compute: Require image when rebuilding a volume-backed server\n\nA volume-backed server will have no image attribute (or rather the image\nproperty will be set to the empty string). As such, if you want to try\nrebuild you will need to specify an image [*]. Enforce this.\n\n[*] Before microversion 2.93, this must be the same image. However, we\ndon't touch on that here. This will be addressed later.\n\nChange-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4\nStory: 2010297\nTask: 46290\n(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)\n(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)\n(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)\n(cherry picked from commit db417598ed958b3f1877906d5d1bc7c5896ea168)\n""}]",2,859971,ad924068f89439fbf2fbaaf394280eeeefd6c3e9,14,3,1,15334,,,0,"compute: Require image when rebuilding a volume-backed server

A volume-backed server will have no image attribute (or rather the image
property will be set to the empty string). As such, if you want to try
rebuild you will need to specify an image [*]. Enforce this.

[*] Before microversion 2.93, this must be the same image. However, we
don't touch on that here. This will be addressed later.

Change-Id: I6842dabd7acb4e3a78f894e55e616625757eb6a4
Story: 2010297
Task: 46290
(cherry picked from commit 1f63034441a63b968185e1678049c01205b8e6d7)
(cherry picked from commit 0118d57c027c630f726dba4659c1e554ba833405)
(cherry picked from commit 53d8667b4bdd749177f39473674a917c0ad5df22)
(cherry picked from commit db417598ed958b3f1877906d5d1bc7c5896ea168)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/71/859971/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,ad924068f89439fbf2fbaaf394280eeeefd6c3e9,story/2010297," # If parsed_args.image is not set and if the instance is image backed, # default to the currently used one. If the instance is volume backed, # it is not trivial to fetch the current image and probably better # to error out in this case and ask user to supply the image. if not server.image: msg = _( 'The --image option is required when rebuilding a ' 'volume-backed server' ) raise exceptions.CommandError(msg) image = image_client.get_image(server.image['id'])"," # If parsed_args.image is not set, default to the currently used one. image_id = server.to_dict().get('image', {}).get('id') image = image_client.get_image(image_id)",30,3
openstack%2Fnova~master~Ifed0fa16053228990a6a8df8d4c666521db7e329,openstack/nova,master,Ifed0fa16053228990a6a8df8d4c666521db7e329,Handle mdev devices in libvirt 7.7+,MERGED,2022-04-22 02:54:26.000000000,2022-11-29 21:53:28.000000000,2022-11-29 21:52:22.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8992}, {'_account_id': 9708}, {'_account_id': 10910}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-22 02:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b142b53fbac3f0776e94718cba38539b26c9c42', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 2, 'created': '2022-07-25 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6024bc80fb1f4b41d32829830dbf3e6dea9f97ca', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 3, 'created': '2022-07-26 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5994693b3811f6762f5a174259ae2cf93fe26ce', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 4, 'created': '2022-08-02 08:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caaf4e85d1d2f1c643b8ee2bceac7ddae43a04f5', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 5, 'created': '2022-11-14 15:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4b0f0460c1ac9475921975d13e7a48fe756ebc8', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 6, 'created': '2022-11-16 17:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/880c75f76f3999ee39d1498f75ca467befeec2b9', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 7, 'created': '2022-11-18 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f791649018db94d5e1caba162059f9d237a2a804', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 8, 'created': '2022-11-18 15:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fab5370bd0f6ebe4ac566fd6b1b7ee1d82f8b01', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}, {'number': 9, 'created': '2022-11-18 15:16:51.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1951656.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a28b907c4f0dbba6e141a8fbea807e6cb0438977', 'message': ""Handle mdev devices in libvirt 7.7+\n\nLibvirt 7.7 changed the mdev device naming to include the parent PCI\ndevice when listing node devices. The domain, however, will still only\nsee the UUID and not see the parent PCI device. Changing the parsing to\nsimply drop the PCI identifier is not enough as the device cannot be\nfound when attempting to lookup the new ID.\n\nModify the Libvirt Driver's _get_mediated_device_information to tolerate\ndifferent formats of the mdev name. This first uses the legacy behavior\nby trying to lookup the device name that is passed in (typically\nmdev_<uuid> format) and if that is not found, iterates the list of mdev\nnode devices until the right UUID is found and selects that one.\n\nNote that the lookup of the mdev device by UUID are needed in order\nto keep the ability to recreate assigned mediated devices on a reboot of\nthe compute node.\n\nAdditionally, the libvirt utils parsing method mdev_name2uuid, has\nbeen updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>\nformats.\n\nCloses-Bug: 1951656\n\nChange-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329\n""}]",72,838976,a28b907c4f0dbba6e141a8fbea807e6cb0438977,100,9,9,8992,,,0,"Handle mdev devices in libvirt 7.7+

Libvirt 7.7 changed the mdev device naming to include the parent PCI
device when listing node devices. The domain, however, will still only
see the UUID and not see the parent PCI device. Changing the parsing to
simply drop the PCI identifier is not enough as the device cannot be
found when attempting to lookup the new ID.

Modify the Libvirt Driver's _get_mediated_device_information to tolerate
different formats of the mdev name. This first uses the legacy behavior
by trying to lookup the device name that is passed in (typically
mdev_<uuid> format) and if that is not found, iterates the list of mdev
node devices until the right UUID is found and selects that one.

Note that the lookup of the mdev device by UUID are needed in order
to keep the ability to recreate assigned mediated devices on a reboot of
the compute node.

Additionally, the libvirt utils parsing method mdev_name2uuid, has
been updated to tolerate both mdev_<uuid> and mdev_<uuid>_<pciid>
formats.

Closes-Bug: 1951656

Change-Id: Ifed0fa16053228990a6a8df8d4c666521db7e329
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/838976/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/virt/libvirt/utils.py']",4,2b142b53fbac3f0776e94718cba38539b26c9c42,bug/1951656-2," mdev_uuid = mdev_name[5:].replace('_', '-') if len(mdev_uuid) > 36: mdev_uuid = mdev_uuid[:36] return str(uuid.UUID(mdev_uuid))"," return str(uuid.UUID(mdev_name[5:].replace('_', '-')))",73,3
openstack%2Fnova~stable%2Ftrain~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/train,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,NEW,2022-04-26 10:30:28.000000000,2022-11-29 21:49:10.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 10:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5a7757b8c58d7f6ca41850abd45a533e9ccec17', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)\n(cherry picked from commit 9b8e5cec303a621824366e1794665d6b849fefad)\n'}, {'number': 2, 'created': '2022-06-01 09:22:53.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42c6707c1e4c03186964586100f99accec52b71d', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)\n(cherry picked from commit 9b8e5cec303a621824366e1794665d6b849fefad)\n'}]",7,839354,42c6707c1e4c03186964586100f99accec52b71d,10,2,2,9708,,,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)
(cherry picked from commit 9b8e5cec303a621824366e1794665d6b849fefad)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/839354/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,c5a7757b8c58d7f6ca41850abd45a533e9ccec17,bug/1953359,"from nova.compute import manager orig_finish_resize = manager.ComputeManager.finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the instance should be # pinned to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology # on the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) # now let the resize finishes return orig_finish_resize(*args, **kwargs) 'nova.compute.manager.ComputeManager.finish_resize', new=fake_finish_resize, ): # this is expected to succeed but logs are emitted # from the racing periodic task. See fake_finish_resize # for the asserts server = self._wait_for_state_change(server, 'VERIFY_RESIZE') # as the periodic job raced and failed during the resize if we revert # the instance now then it tries to unpin its cpus from the dest host # but those was never pinned as the periodic failed. So the unpinning # will fail too. post = {'revertResize': {}} ex = self.assertRaises( client.OpenStackApiException, self.admin_api.post_server_action, server['id'], post # This is still bug 1953359. self.assertEqual(500, ex.response.status_code) server = self.api.get_server(server['id']) self.assertEqual('ERROR', server['status']) self.stdlog.logger.output,"," 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) log,",43,15
openstack%2Fnova~stable%2Ftrain~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/train,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,NEW,2022-04-26 10:30:28.000000000,2022-11-29 21:40:22.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 10:30:28.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b58ea81aa6145140c55841eccc50588ced9aaa1', 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: The '_create_server' helper\ndon't exist here, so we need to use direct api calls instead.\n\n[1] Later change that bumps API version on parent classes\nhttps://review.opendev.org/c/openstack/nova/+/741282\n\nCo-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)\n(cherry picked from commit c92e7821e3b97c8469fc2a68621428549d36d755)\n""}]",6,839353,9b58ea81aa6145140c55841eccc50588ced9aaa1,8,2,1,9708,,,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Conflicts: The '_create_server' helper
don't exist here, so we need to use direct api calls instead.

[1] Later change that bumps API version on parent classes
https://review.opendev.org/c/openstack/nova/+/741282

Co-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)
(cherry picked from commit c92e7821e3b97c8469fc2a68621428549d36d755)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/839353/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py']",2,9b58ea81aa6145140c55841eccc50588ced9aaa1,bug/1953359, api_major_version = 'v2.1', api_major_version = 'v2',99,1
openstack%2Fopenstack-ansible-os_octavia~master~I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394,openstack/openstack-ansible-os_octavia,master,I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394,Adding octavia_provider_network_mtu-parameter parameter,MERGED,2022-11-21 17:32:19.000000000,2022-11-29 21:31:59.000000000,2022-11-29 21:29:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-21 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/968180fa638b8a534c489147806a2850571ae5b8', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 2, 'created': '2022-11-21 17:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/3942f4b2a9a9204079f4d9f9f3cae477b118a282', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 3, 'created': '2022-11-24 17:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e563ca0c68a9da4c9be6834b8f2a3c80ca09fcc3', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}, {'number': 4, 'created': '2022-11-25 16:32:24.000000000', 'files': ['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2f1a3b4db1664cd9492bd32d1bad1793d5e61368', 'message': 'Adding octavia_provider_network_mtu-parameter parameter\n\nThe `octavia_provider_network_mtu-parameter` defaults to 1500\nto not accidentially use `global_physnet_mtu` on deployment with\nlarge MTU settings\n\nChange-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394\n'}]",3,864819,2f1a3b4db1664cd9492bd32d1bad1793d5e61368,17,3,4,14552,,,0,"Adding octavia_provider_network_mtu-parameter parameter

The `octavia_provider_network_mtu-parameter` defaults to 1500
to not accidentially use `global_physnet_mtu` on deployment with
large MTU settings

Change-Id: I9fa33c5ee76197191f1e66b7a70a4c1c0a5fa394
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/19/864819/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/octavia_mgmt_network.yml', 'releasenotes/notes/octavia_provider_network_mtu-parameter-62978008dfe0882e.yaml']",2,968180fa638b8a534c489147806a2850571ae5b8,,--- features: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. upgrade: - | A new parameter `octavia_provider_network_mtu` is added to set the MTU to 1500 by default. This is important for deployments which allow jumbo frames while setting the management to the standard Ethernet MTU. The MTU can be still changed at any point during the initial octavia deployment or with the `openstack network set --mtu` command line. ,,18,0
openstack%2Fopenstack-ansible-os_octavia~master~Ic22ec379983e43aa5f2b55fd4543b4aa70762354,openstack/openstack-ansible-os_octavia,master,Ic22ec379983e43aa5f2b55fd4543b4aa70762354,Adopt output structure to new collections version,MERGED,2022-08-29 18:14:52.000000000,2022-11-29 21:30:58.000000000,2022-11-29 21:29:56.000000000,"[{'_account_id': 14288}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-08-29 18:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/a2193d6e34357b19915f80e86e3cac67d645571b', 'message': 'Change networks_info output structure\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}, {'number': 2, 'created': '2022-11-24 17:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/7930f234e88fe7ab709455b76d39d53033236f30', 'message': 'Adopt output structure to new collections version\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\nReturn values for keypair have also changed\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}, {'number': 3, 'created': '2022-11-25 11:57:50.000000000', 'files': ['tasks/octavia_post_install.yml', 'tasks/octavia_keypair.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c31bbc215c2f69f9738350b9e9a592b728d8e12b', 'message': 'Adopt output structure to new collections version\n\nWith commit [1] to collection output structure of networks_info module\nhas been changed. With that we adpot to the new format.\n\nReturn values for keypair have also changed\n\n[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553\nChange-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354\n'}]",0,855074,c31bbc215c2f69f9738350b9e9a592b728d8e12b,13,4,3,28619,,,0,"Adopt output structure to new collections version

With commit [1] to collection output structure of networks_info module
has been changed. With that we adpot to the new format.

Return values for keypair have also changed

[1] https://opendev.org/openstack/ansible-collections-openstack/commit/9272146cf7a7486f6004b52bec420a998e710f45

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/864553
Change-Id: Ic22ec379983e43aa5f2b55fd4543b4aa70762354
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/74/855074/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/octavia_post_install.yml'],1,a2193d6e34357b19915f80e86e3cac67d645571b,," octavia_neutron_management_network_uuid: ""{{ get_net_info.networks[0].id }}"""," octavia_neutron_management_network_uuid: ""{{ get_net_info.openstack_networks[0].id }}""",1,1
openstack%2Fcharm-interface-ceph-client~master~Ie2e6d8ec460311fa4e63335f322aaae07dca5842,openstack/charm-interface-ceph-client,master,Ie2e6d8ec460311fa4e63335f322aaae07dca5842,implement reactive.Endpoint.manage_flags to clear flags on departed hook,MERGED,2022-11-28 22:06:25.000000000,2022-11-29 21:29:51.000000000,2022-11-29 21:29:51.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 22:06:25.000000000', 'files': ['unit_tests/test_requires.py', 'src/lib/base_requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/d9f3b53ca0cf30e47347a68beab59da5c03ce4c7', 'message': 'implement reactive.Endpoint.manage_flags to clear flags on departed hook\n\nChange-Id: Ie2e6d8ec460311fa4e63335f322aaae07dca5842\n'}]",2,865917,d9f3b53ca0cf30e47347a68beab59da5c03ce4c7,7,2,1,31420,,,0,"implement reactive.Endpoint.manage_flags to clear flags on departed hook

Change-Id: Ie2e6d8ec460311fa4e63335f322aaae07dca5842
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/17/865917/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_requires.py', 'src/lib/base_requires.py']",2,d9f3b53ca0cf30e47347a68beab59da5c03ce4c7,clear_flags_after_departed," def manage_flags(self): """""" Set states corresponding to the data we have. """""" reactive.toggle_flag( self.expand_name(""{endpoint_name}.connected""), self.is_joined ) if not self.is_joined: self.broken() ",,20,0
openstack%2Ftripleo-heat-templates~master~Id093613f9d410eb3fe5564a724c0f75275eeb4e8,openstack/tripleo-heat-templates,master,Id093613f9d410eb3fe5564a724c0f75275eeb4e8,Deploy separate glance-api services for OSSN-0090,MERGED,2022-11-01 14:44:49.000000000,2022-11-29 21:26:54.000000000,2022-11-28 17:09:09.000000000,"[{'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 14:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e052c0561902bc1252abb2678fc94aa07217917', 'message': 'WIP: Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 2, 'created': '2022-11-01 18:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d22735ddc76080c9914a488b74403df61571db5', 'message': 'WIP: Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 3, 'created': '2022-11-08 15:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93d5ebab53c3869dd6887b79756ac0a3861f2bf3', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public and\n  Admin keystone endpoints.\n- An ""internal facing only"" service, accessible via the Internal\n  keystone endpoint.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 4, 'created': '2022-11-21 20:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5a423aeab5f7fd591948c17249304e10abaabe4', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public\n  keystone endpoint.\n- An ""internal facing only"" service, accessible via the Admin and\n  Internal keystone endpoints.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}, {'number': 5, 'created': '2022-11-24 18:07:50.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'roles/Controller.yaml', 'roles/ControllerOpenstack.yaml', 'deployment/glance/glance-api-internal-container-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data_standalone.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/glance-internal-service-86274f56712ffaac.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d60969cb55344e9004721dee04ed1d685d95a39f', 'message': 'Deploy separate glance-api services for OSSN-0090\n\nThis patch adopts the recommendation outlined in  OSSN-0090 [1], in\nwhich two instances of the glance-api service are deployed:\n- A ""user facing"" glance-api service, accessible via the Public\n  keystone endpoint.\n- An ""internal facing only"" service, accessible via the Admin and\n  Internal keystone endpoints.\n\nThe user facing instance is configured so it does not report any image\nlocation information. This is achieved by configuring glance-api.conf\nwith the show_image_direct_url and show_multiple_locations set to False.\n\nThe internal service operates on a separate TCP port (defaults to 9293)\nwith its own glance-api.conf that configures show_image_direct_url and\nshow_multiple_locations set to True.\n\nIn order for cinder and nova to have access to the image location data,\nboth services are configured to access glance via the internal service.\n\n[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090\n\nCloses-Bug: #1822540\nDepends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959\nDepends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\nChange-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8\n'}]",40,863142,d60969cb55344e9004721dee04ed1d685d95a39f,48,5,5,21129,,,0,"Deploy separate glance-api services for OSSN-0090

This patch adopts the recommendation outlined in  OSSN-0090 [1], in
which two instances of the glance-api service are deployed:
- A ""user facing"" glance-api service, accessible via the Public
  keystone endpoint.
- An ""internal facing only"" service, accessible via the Admin and
  Internal keystone endpoints.

The user facing instance is configured so it does not report any image
location information. This is achieved by configuring glance-api.conf
with the show_image_direct_url and show_multiple_locations set to False.

The internal service operates on a separate TCP port (defaults to 9293)
with its own glance-api.conf that configures show_image_direct_url and
show_multiple_locations set to True.

In order for cinder and nova to have access to the image location data,
both services are configured to access glance via the internal service.

[1] https://wiki.openstack.org/wiki/OSSN/OSSN-0090

Closes-Bug: #1822540
Depends-On: Ideb5a951d538d9e2c7cca11dfe0e8b99520de959
Depends-On: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
Change-Id: Id093613f9d410eb3fe5564a724c0f75275eeb4e8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/863142/5 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'roles/Controller.yaml', 'roles/ControllerOpenstack.yaml', 'deployment/glance/glance-api-internal-container-puppet.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'sample-env-generator/ssl.yaml', 'ci/environments/scenario000-standalone.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'ci/custom_ci_roles_data.yaml', 'releasenotes/notes/glance-internal-service-86274f56712ffaac.yaml', 'roles/ControllerSriov.yaml']",25,3e052c0561902bc1252abb2678fc94aa07217917,glance-api-internal, - OS::TripleO::Services::GlanceApiInternal,,274,55
openstack%2Fovn-octavia-provider~stable%2Fzed~Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,openstack/ovn-octavia-provider,stable/zed,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:01.000000000,2022-11-29 21:13:21.000000000,2022-11-29 21:12:22.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:01.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fe3b69206f7d3b31a7149d2051451ddd6fdcc45a', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",3,865906,fe3b69206f7d3b31a7149d2051451ddd6fdcc45a,17,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/06/865906/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,fe3b69206f7d3b31a7149d2051451ddd6fdcc45a,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fmanila~stable%2Fzed~Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52,openstack/manila,stable/zed,Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52,Raise an exc if no VIP/backend is available,MERGED,2022-11-02 12:13:09.000000000,2022-11-29 21:06:08.000000000,2022-11-29 21:05:08.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-11-02 12:13:09.000000000', 'files': ['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1990150-cephadm-cephnfs-backend-fails-start-raise-exc-7459302bf662fdd6.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/65d447b7b1818255657868974208c15511cbdd72', 'message': 'Raise an exc if no VIP/backend is available\n\nWhen deploying Manila CephFS NFS with cephadm,\nthe manila share service fails to start with the error\n""Backend cephfsnfs supports neither IPv4 nor IPv6"".\n\nThis happens because the NFS Ganesha daemon fails\nto start for some reason and therefore the driver never\ngets the location of the NFS Ganesha service\nthat will be used as the backend.\n\nWe should raise an error in this case with more information\nabout the failure.\n\nThis change adds this to the NFSClusterProtocol helper.\n\nCloses-Bug: #1990150\n\nChange-Id: Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52\n(cherry picked from commit 8276fa3c88f17744d65f53124b91b26c4c62d2d0)\n'}]",1,863283,65d447b7b1818255657868974208c15511cbdd72,11,4,1,29474,,,0,"Raise an exc if no VIP/backend is available

When deploying Manila CephFS NFS with cephadm,
the manila share service fails to start with the error
""Backend cephfsnfs supports neither IPv4 nor IPv6"".

This happens because the NFS Ganesha daemon fails
to start for some reason and therefore the driver never
gets the location of the NFS Ganesha service
that will be used as the backend.

We should raise an error in this case with more information
about the failure.

This change adds this to the NFSClusterProtocol helper.

Closes-Bug: #1990150

Change-Id: Ic74c6c9d9770974848ec9dfb6d2225ce9b3bcb52
(cherry picked from commit 8276fa3c88f17744d65f53124b91b26c4c62d2d0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/863283/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/cephfs/driver.py', 'manila/tests/share/drivers/cephfs/test_driver.py', 'releasenotes/notes/bug-1990150-cephadm-cephnfs-backend-fails-start-raise-exc-7459302bf662fdd6.yaml']",3,65d447b7b1818255657868974208c15511cbdd72,bug/1990150,"--- fixes: - | When deploying Manila CephFS NFS with cephadm, the manila share service fails to start with the error ""Backend cephfsnfs supports neither IPv4 nor IPv6"". This happens because the NFS Ganesha daemon fails to start for some reason, and therefore the driver never gets the location of the NFS Ganesha service that will be used as the backend. We rely on the operator to make sure the CephFS NFS cluster is available when initializing the driver. With this fix in place, we raise an exception to explicitly notify the operator and allow them to take further action. ",,40,0
openstack%2Fpython-openstackclient~master~If940ed5cce6c5ab4193ab1494738149370da9aad,openstack/python-openstackclient,master,If940ed5cce6c5ab4193ab1494738149370da9aad,Improve `server dump create` helptext,MERGED,2022-10-26 13:50:53.000000000,2022-11-29 20:53:25.000000000,2022-11-29 20:52:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-26 13:50:53.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e76609650fd322cca6eb899aa6125c0450727b7c', 'message': 'Improve `server dump create` helptext\n\nThe `server dump create` command instructs Nova to trigger a crash\ndump in the guest OS. Assuming the guest supports this, the resulting\ndump file will be located in the guest, in a location dependent on the\nguest OS. Explain all that in the helptext.\n\nStory: 2010384\n\nChange-Id: If940ed5cce6c5ab4193ab1494738149370da9aad\n'}]",0,862696,e76609650fd322cca6eb899aa6125c0450727b7c,7,2,1,8864,,,0,"Improve `server dump create` helptext

The `server dump create` command instructs Nova to trigger a crash
dump in the guest OS. Assuming the guest supports this, the resulting
dump file will be located in the guest, in a location dependent on the
guest OS. Explain all that in the helptext.

Story: 2010384

Change-Id: If940ed5cce6c5ab4193ab1494738149370da9aad
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/862696/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,e76609650fd322cca6eb899aa6125c0450727b7c,," memory, and also crash the server(s). This is contingent on guest operating system support, and the location of the dump file inside the guest will depend on the exact guest operating system."," memory, and also crash the server(s). OSC sees the dump file (server dump) as a kind of resource.",3,2
openstack%2Fpython-openstackclient~master~I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be,openstack/python-openstackclient,master,I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be,Add note about microversion 2.87 in server rescue help,MERGED,2022-11-07 23:05:01.000000000,2022-11-29 20:51:46.000000000,2022-11-29 20:49:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 23:05:01.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d7aa53b9a2bb1969abee90b9d0a547230886aa0f', 'message': 'Add note about microversion 2.87 in server rescue help\n\nThe ability to rescue a volume-backed server was added in compute\nmicroversion 2.87 [1].\n\nThis adds a note to the command help to improve user experience.\n\n[1] https://docs.openstack.org/nova/latest/user/rescue.html\n\nChange-Id: I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be\n'}]",0,863949,d7aa53b9a2bb1969abee90b9d0a547230886aa0f,7,2,1,4690,,,0,"Add note about microversion 2.87 in server rescue help

The ability to rescue a volume-backed server was added in compute
microversion 2.87 [1].

This adds a note to the command help to improve user experience.

[1] https://docs.openstack.org/nova/latest/user/rescue.html

Change-Id: I5f40c3ca28e13bd1f979bc5f8c337302a3b9a5be
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/863949/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,d7aa53b9a2bb1969abee90b9d0a547230886aa0f,server-rescue-help," _description = _( ""Put server in rescue mode. "" ""Specify ``--os-compute-api-version 2.87`` or higher to rescue a "" ""server booted from a volume."" )"," _description = _(""Put server in rescue mode"")",5,1
openstack%2Fmanila~stable%2Fyoga~Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,openstack/manila,stable/yoga,Ic17ac43160092445ec11ada41c0eb6eaf525b6d0,Allow setting endpoint_type for glance,MERGED,2022-10-26 21:38:17.000000000,2022-11-29 20:51:04.000000000,2022-11-29 20:49:55.000000000,"[{'_account_id': 9542}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-10-26 21:38:17.000000000', 'files': ['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/0994740ab9746d494a89f98cb99278477d30c040', 'message': 'Allow setting endpoint_type for glance\n\ncurrently Manila always uses public endpoint of Glance, which\nmay not be possible in certain deployment scenarios.\n\nChange-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0\nCloses-Bug: #1991396\n(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)\n(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)\n'}]",2,862720,0994740ab9746d494a89f98cb99278477d30c040,12,5,1,16643,,,0,"Allow setting endpoint_type for glance

currently Manila always uses public endpoint of Glance, which
may not be possible in certain deployment scenarios.

Change-Id: Ic17ac43160092445ec11ada41c0eb6eaf525b6d0
Closes-Bug: #1991396
(cherry picked from commit 111104b9a2fd54de2559041249bdb7a10c64664c)
(cherry picked from commit 440881392ce610a0d3d73fb5ce9ac423cfc60f59)
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/862720/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/image/test_image.py', 'manila/image/glance.py', 'releasenotes/notes/bug-1991396-add-glance-endpoint-type-151777f255e423a3.yaml']",3,0994740ab9746d494a89f98cb99278477d30c040,bug/1991396,--- fixes: - | Deployers now can specify ``[glance]endpoint_type`` configuration option (defaults to ``publicURL`` for backward compatibility) so that Manila uses Glance endpoint other than the public one (see `bug 1991396 <https://bugs.launchpad.net/manila/+bug/1991396>`_). ,,15,0
openstack%2Fpython-openstackclient~master~Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2,openstack/python-openstackclient,master,Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2,Add test for creating volume from source,MERGED,2022-11-22 14:32:10.000000000,2022-11-29 20:50:57.000000000,2022-11-29 20:49:48.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 14:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d8cac265f2053fa320096ed9073c77996617a20a', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}, {'number': 2, 'created': '2022-11-22 15:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ebf614b84a32fda56fa27eff7f15788dc1d52509', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}, {'number': 3, 'created': '2022-11-23 08:52:21.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4710cbeca6638cc78880f2c4fc22d74aa7bb7c41', 'message': 'Add test for creating volume from source\n\nThis patch adds a test to create a new volume from source.\nWe also include code changes to pass the right size i.e. either\nsize passed by the user via --size argument or the source volume\nsize. This case is already handled at the API layer[1] but it\nhelps being consistent with passing the right size value as in case\nof creating a volume from snapshot or backup.\n\n[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382\n\nChange-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2\n'}]",6,865283,4710cbeca6638cc78880f2c4fc22d74aa7bb7c41,12,2,3,27615,,,0,"Add test for creating volume from source

This patch adds a test to create a new volume from source.
We also include code changes to pass the right size i.e. either
size passed by the user via --size argument or the source volume
size. This case is already handled at the API layer[1] but it
helps being consistent with passing the right size value as in case
of creating a volume from snapshot or backup.

[1] https://github.com/openstack/cinder/blob/7c1a5ce7b11964da4537fd6a7d157ede646b9e94/cinder/api/v3/volumes.py#L381-L382

Change-Id: Idc71636dad6bb678fe24f19b0836d2e9bd92d7d2
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/83/865283/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'openstackclient/tests/unit/volume/v2/test_volume.py']",2,d8cac265f2053fa320096ed9073c77996617a20a,," def test_volume_create_with_source_volume(self): source_vol = ""source_vol"" arglist = [ '--source', self.new_volume.id, source_vol, ] verifylist = [ ('source', self.new_volume.id), ('name', source_vol), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.volumes_mock.get.return_value = self.new_volume # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.volumes_mock.create.assert_called_once_with( size=self.new_volume.size, snapshot_id=None, name=source_vol, description=None, volume_type=None, availability_zone=None, metadata=None, imageRef=None, source_volid=self.new_volume.id, consistencygroup_id=None, scheduler_hints=None, backup_id=None, ) self.assertEqual(self.columns, columns) self.assertCountEqual(self.datalist, data) ",,43,4
openstack%2Fironic~master~I0551a9be557378bd0213f045bb3792b3ed489684,openstack/ironic,master,I0551a9be557378bd0213f045bb3792b3ed489684,benchmark: Create allocations for nodes,NEW,2022-11-29 13:37:11.000000000,2022-11-29 20:37:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 13:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/557d793dfce933377a1cdda16e303566f2f9f8f7', 'message': 'benchmark: Create allocations for nodes\n\nCreate an allocation for each node.\n\nChange-Id: I0551a9be557378bd0213f045bb3792b3ed489684\n'}, {'number': 2, 'created': '2022-11-29 15:03:22.000000000', 'files': ['tools/benchmark/do_not_run_create_benchmark_data.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/096d5a854b4c8b0e94c3f008ae176c8ac9fb2194', 'message': 'benchmark: Create allocations for nodes\n\nCreate an allocation for each node.\n\nChange-Id: I0551a9be557378bd0213f045bb3792b3ed489684\n'}]",1,865988,096d5a854b4c8b0e94c3f008ae176c8ac9fb2194,8,1,2,24245,,,0,"benchmark: Create allocations for nodes

Create an allocation for each node.

Change-Id: I0551a9be557378bd0213f045bb3792b3ed489684
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/865988/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/benchmark/do_not_run_create_benchmark_data.py'],1,557d793dfce933377a1cdda16e303566f2f9f8f7,benchmark,from ironic.objects import allocationdef _create_allocation(new_node): new_alloc = allocation.Allocation() new_alloc.node_id = new_node.id new_alloc.name = new_node.name + '_alloc' new_alloc.resource_class = 'CUSTOM_BAREMETAL' new_alloc.create() return new_alloc new_alloc = _create_allocation(new_node) new_node.update({'allocation_id': new_alloc.id}) new_node.save(),,13,0
openstack%2Foctavia-dashboard~master~I34cd06054c9eecde8f4938786de1d52dc7c78614,openstack/octavia-dashboard,master,I34cd06054c9eecde8f4938786de1d52dc7c78614,Add ability to create Prometheus listener,ABANDONED,2022-09-20 19:28:33.000000000,2022-11-29 20:21:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-20 19:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96a5739d120b6e299a481c018811ee4dce784ac3', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 2, 'created': '2022-09-20 19:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/5c938b05dc72911149c9c74263bf43417434f2b1', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 3, 'created': '2022-09-20 20:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/4e48040c42a6d589aef272ae44c0a8bcbe289f96', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 4, 'created': '2022-10-04 18:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/f809af246373738e4db91999ac42cd33fb2cb62d', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}, {'number': 5, 'created': '2022-10-04 19:57:22.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-ability-to-create-Prometheus-listener-42c22822637119ca.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/27c3cc481acc7bc0d49962d0a5cd226a13097542', 'message': 'Add ability to create Prometheus listener\n\nThis changes allows the user to create a Prometheus listener through Horizon.\n\nStory 2010300\nTask 46296\n\nChange-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614\n'}]",5,858576,27c3cc481acc7bc0d49962d0a5cd226a13097542,18,3,5,33408,,,0,"Add ability to create Prometheus listener

This changes allows the user to create a Prometheus listener through Horizon.

Story 2010300
Task 46296

Change-Id: I34cd06054c9eecde8f4938786de1d52dc7c78614
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/76/858576/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'releasenotes/notes/add-ability-to-create-Prometheus-listener-42c22822637119ca.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/loadbalancer/loadbalancer.html']",9,96a5739d120b6e299a481c018811ee4dce784ac3,," <div class=""col-xs-12 col-sm-8 col-md-6""> <div class=""form-group""> <label class=""control-label required"" translate>Prometheus</label> <div class=""form-field""> <div class=""btn-group""> <label class=""btn btn-default"" ng-repeat=""option in model.yesNoOptions"" ng-model=""model.spec.loadbalancer.prometheus"" uib-btn-radio=""option.value"">{$ ::option.label $}</label> </div> </div> </div> </div> </div> <div class=""row"" ng-if=""model.spec.loadbalancer.prometheus""> <div class=""col-xs-12 col-sm-8 col-md-6""> <div class=""form-group""> <label translate class=""control-label"" for=""prometheus_port"">Prometheus port</label> <input name=""prometheus_port"" id=""prometheus_port"" type=""number"" class=""form-control"" ng-pattern=""/^\d+$/"" min=""1"" max=""65535"" ng-model=""model.spec.loadbalancer.prometheus_port"" ng-required=""model.spec.loadbalancer.prometheus""> </div> </div>",,88,8
openstack%2Fmanila-tempest-plugin~master~I1f36dfd37f3ba77c2df6341aad6497d9491921be,openstack/manila-tempest-plugin,master,I1f36dfd37f3ba77c2df6341aad6497d9491921be,Wait for snapshot status after revertion,MERGED,2022-11-23 08:51:21.000000000,2022-11-29 20:11:45.000000000,2022-11-29 20:11:45.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-11-23 08:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/10792499799e48836034fd7f9183d710330e7ded', 'message': 'Wait for snapshot status after revertion\n\nSometimes there are failures in snapshot revertion\ntests for the reason that the snapshot is deleted\nin the teardown stage while it\'s still in ""restoring""\nstatus.\nWaiting for snapshot to be in ""available"" status will\navoid this problem.\n\nChange-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be\n'}, {'number': 2, 'created': '2022-11-24 07:32:13.000000000', 'files': ['manila_tempest_tests/tests/api/test_revert_to_snapshot.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bb087c788126b1aa4e7a50257a9be0528da7fcd7', 'message': 'Wait for snapshot status after revertion\n\nSometimes there are failures in snapshot revertion\ntests for the reason that the snapshot is deleted\nin the teardown stage while it\'s still in ""restoring""\nstatus.\nWaiting for snapshot to be in ""available"" status will\navoid this problem.\n\nChange-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be\n'}]",9,865376,bb087c788126b1aa4e7a50257a9be0528da7fcd7,16,3,2,19262,,,0,"Wait for snapshot status after revertion

Sometimes there are failures in snapshot revertion
tests for the reason that the snapshot is deleted
in the teardown stage while it's still in ""restoring""
status.
Waiting for snapshot to be in ""available"" status will
avoid this problem.

Change-Id: I1f36dfd37f3ba77c2df6341aad6497d9491921be
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/76/865376/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_revert_to_snapshot.py'],1,10792499799e48836034fd7f9183d710330e7ded,waiter_for_revert," waiters.wait_for_resource_status( self.shares_v2_client, snapshot['id'], 'available', resource_name='snapshot') waiters.wait_for_resource_status( self.shares_v2_client, snapshot1['id'], 'available', resource_name='snapshot') waiters.wait_for_resource_status( self.shares_v2_client, snapshot['id'], 'available', resource_name='snapshot')",,9,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic7135573bd16697d5fe289e9f3838843eb047cc8,openstack/openstack-ansible-openstack_hosts,master,Ic7135573bd16697d5fe289e9f3838843eb047cc8,"Revert ""Use pam_env for su commands on Centos-9""",MERGED,2022-10-07 19:36:43.000000000,2022-11-29 20:08:40.000000000,2022-11-29 20:07:38.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-07 19:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/54c9b12949fb38b87e4fe47952d10ecd20c07695', 'message': 'Revert ""Use pam_env for su commands on Centos-9""\n\nThis reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.\n\nReason for revert: RHBA-2022:4082 has packages released which resolve the bug\n\nChange-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8\n'}, {'number': 2, 'created': '2022-10-07 19:39:28.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d0d7c8a16fa6228ccf4021d1a8d0632818845afc', 'message': 'Revert ""Use pam_env for su commands on Centos-9""\n\nThis reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.\n\nReason for revert: RHBA-2022:4082 has packages released which resolve the bug\n\nChange-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8\n'}]",0,860658,d0d7c8a16fa6228ccf4021d1a8d0632818845afc,10,5,2,25023,,,0,"Revert ""Use pam_env for su commands on Centos-9""

This reverts commit cf358f169de287f9bf078c21fc2bb40b0a78d342.

Reason for revert: RHBA-2022:4082 has packages released which resolve the bug

Change-Id: Ic7135573bd16697d5fe289e9f3838843eb047cc8
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/58/860658/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,54c9b12949fb38b87e4fe47952d10ecd20c07695,osa/centos-9,"- name: Ensure environement is applied during sudo lineinfile: path: /etc/pam.d/sudo line: ""session required pam_env.so readenv=1 user_readenv=0"" regexp: 'session\s+required\s+pam_env\.so' insertbefore: '^@include' when: ansible_facts['distribution'] | lower == 'debian'",# NOTE(jrosser) Remove this task when https://access.redhat.com/errata/RHBA-2022:4082 # has a fix merged to Centos-9 as well as RHEL. - name: Ensure environement is applied during su community.general.pamd: name: su type: auth control: sufficient module_path: pam_rootok.so new_type: auth new_control: required new_module_path: pam_env.so state: before when: - ansible_facts['distribution'] == 'CentOS' - ansible_facts['distribution_version'] == '9',7,15
openstack%2Fpython-openstackclient~master~I2d55747b1226207946f80f04b80b4685e3eea3f9,openstack/python-openstackclient,master,I2d55747b1226207946f80f04b80b4685e3eea3f9,docs: Typo fix,MERGED,2022-11-25 17:29:02.000000000,2022-11-29 20:06:38.000000000,2022-11-29 20:04:28.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 17:29:02.000000000', 'files': ['doc/source/contributor/humaninterfaceguide.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/948198643f84c0a41ad6c1935214c9627376712d', 'message': 'docs: Typo fix\n\nChange-Id: I2d55747b1226207946f80f04b80b4685e3eea3f9\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,865703,948198643f84c0a41ad6c1935214c9627376712d,7,2,1,15334,,,0,"docs: Typo fix

Change-Id: I2d55747b1226207946f80f04b80b4685e3eea3f9
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/03/865703/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/humaninterfaceguide.rst'],1,948198643f84c0a41ad6c1935214c9627376712d,docs, (``-``) internally between words (``--like-this``). Underscores (``_``) shall not, (``-`` internally between words (``--like-this``). Underscores (``_``) shall not,1,1
openstack%2Fdevstack~stable%2Fxena~Id218cf2ad5fbb9cae5828972366fe85911e500b2,openstack/devstack,stable/xena,Id218cf2ad5fbb9cae5828972366fe85911e500b2,Remove centos-8/9-stream jobs on stable/xena,MERGED,2022-11-24 00:26:38.000000000,2022-11-29 20:06:23.000000000,2022-11-29 20:04:25.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 00:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26f7f5b772d9737bfc8ab79e989b9fb484fef932', 'message': ""Remove centos-8/9-stream jobs on stable/yoga\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/yoga\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}, {'number': 2, 'created': '2022-11-24 00:32:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0c09e5f33af329b5d9c879248a5aa068aa79342', 'message': ""Remove centos-8/9-stream jobs on stable/xena\n\nThe following 2 already n-v jobs have been failing:\n* devstack-platform-centos-8-stream - most of 2022\n* devstack-platform-centos-9-stream - last 2 months\n\nConsidering that there isn't a lot of traffic on stable/xena\nand we have a centos job in newer branches so any backport\npatch gets tested there, the commit removes those 2 jobs\nnot to waste CI resources.\n\nChange-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2\n""}]",0,865480,e0c09e5f33af329b5d9c879248a5aa068aa79342,9,2,2,22873,,,0,"Remove centos-8/9-stream jobs on stable/xena

The following 2 already n-v jobs have been failing:
* devstack-platform-centos-8-stream - most of 2022
* devstack-platform-centos-9-stream - last 2 months

Considering that there isn't a lot of traffic on stable/xena
and we have a centos job in newer branches so any backport
patch gets tested there, the commit removes those 2 jobs
not to waste CI resources.

Change-Id: Id218cf2ad5fbb9cae5828972366fe85911e500b2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/865480/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26f7f5b772d9737bfc8ab79e989b9fb484fef932,,, name: devstack-platform-centos-8-stream parent: tempest-full-py3 description: CentOS 8 Stream platform test nodeset: devstack-single-node-centos-8-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: name: devstack-platform-centos-9-stream parent: tempest-full-py3 description: CentOS 9 Stream platform test nodeset: devstack-single-node-centos-9-stream voting: false timeout: 9000 vars: configure_swap_size: 4096 - job: - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream,0,22
openstack%2Fpuppet-oslo~master~If346affd48013f4f553a5fddc93524a8408cc605,openstack/puppet-oslo,master,If346affd48013f4f553a5fddc93524a8408cc605,Fox wrong format of [cache] backend_argument,MERGED,2022-11-24 01:48:23.000000000,2022-11-29 20:05:44.000000000,2022-11-29 20:05:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 01:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/df409bc4d00afc9eaf3d8f4c901f3d1a8b59a331', 'message': 'Fox wrong format of [cache] backend_argument\n\nThis option is not a ListOpt but a MultiStrOpt. So an array values\nshould NOT be converted to the colon-separated list format.\n\nChange-Id: If346affd48013f4f553a5fddc93524a8408cc605\n'}, {'number': 2, 'created': '2022-11-24 01:49:21.000000000', 'files': ['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/6f502efdc1caef69aa33db5f2946b81f63a8d09f', 'message': 'Fox wrong format of [cache] backend_argument\n\nThis option is not a ListOpt but a MultiStrOpt. So an array values\nshould NOT be converted to the colon-separated list format.\n\nCloses-Bug: #1997603\nChange-Id: If346affd48013f4f553a5fddc93524a8408cc605\n'}]",1,865483,6f502efdc1caef69aa33db5f2946b81f63a8d09f,10,3,2,9816,,,0,"Fox wrong format of [cache] backend_argument

This option is not a ListOpt but a MultiStrOpt. So an array values
should NOT be converted to the colon-separated list format.

Closes-Bug: #1997603
Change-Id: If346affd48013f4f553a5fddc93524a8408cc605
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/83/865483/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",2,df409bc4d00afc9eaf3d8f4c901f3d1a8b59a331,bug/1997603," 'cache/backend_argument' => { value => $backend_argument },"," 'cache/backend_argument' => { value => join(any2array($backend_argument), ',') },",3,3
openstack%2Fpuppet-keystone~master~I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b,openstack/puppet-keystone,master,I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b,Remove keystone_puppet_config resource type,MERGED,2022-11-25 03:05:35.000000000,2022-11-29 20:00:33.000000000,2022-11-29 19:59:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 03:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4cfad595829ffaf634eb615ec1fe9cb707323fdb', 'message': 'Remove keystone_puppet_config resource type\n\nThis is no longer used since we replaced the configuration file by\nclouds.yaml. The resource was already deprecated by [1] in the past\ncycle so can be removed.\n\n[1] c140a44aebb271558c81e528aba8b6dcb4989a62\n\nChange-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b\n'}, {'number': 2, 'created': '2022-11-25 03:06:06.000000000', 'files': ['releasenotes/notes/remove-keystone_puppet_config-2eba1350a2d2fd85.yaml', 'spec/unit/provider/keystone_puppet_config/ini_setting_spec.rb', 'lib/puppet/type/keystone_puppet_config.rb', 'lib/puppet/provider/keystone_puppet_config/ini_setting.rb', 'manifests/deps.pp', 'spec/unit/type/keystone_puppet_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/aa394b17757baee5f168e6ff3ecc8957be8e42cc', 'message': 'Remove keystone_puppet_config resource type\n\nThis is no longer used since we replaced the configuration file by\nclouds.yaml. The resource was already deprecated by [1] in the past\ncycle so can be removed.\n\n[1] c140a44aebb271558c81e528aba8b6dcb4989a62\n\nChange-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b\n'}]",0,865616,aa394b17757baee5f168e6ff3ecc8957be8e42cc,9,3,2,9816,,,0,"Remove keystone_puppet_config resource type

This is no longer used since we replaced the configuration file by
clouds.yaml. The resource was already deprecated by [1] in the past
cycle so can be removed.

[1] c140a44aebb271558c81e528aba8b6dcb4989a62

Change-Id: I631c0a14cc0ee5b56e7864980da9a651d6bf7d9b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/16/865616/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-keystone_puppet_config-2eba1350a2d2fd85.yaml', 'lib/puppet/type/keystone_puppet_config.rb', 'lib/puppet/provider/keystone_puppet_config/ini_setting.rb', 'manifests/deps.pp']",4,4cfad595829ffaf634eb615ec1fe9cb707323fdb,,, # credential file for keystone api access should be generated during # configuration phase Anchor['keystone::config::begin'] -> Keystone_puppet_config<||> ~> Anchor['keystone::config::end'] ,4,28
openstack%2Fpuppet-neutron~master~Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202,openstack/puppet-neutron,master,Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202,Remove deprecated mech_driver defined resource type,MERGED,2022-11-25 01:42:59.000000000,2022-11-29 19:23:45.000000000,2022-11-29 19:22:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 01:42:59.000000000', 'files': ['manifests/plugins/ml2/mech_driver.pp', 'releasenotes/notes/remove-mech_driver-resource-type-8037e8e1fcd6901c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/55c77ffd34c7d9aac618432a58fc17ed94daaa6e', 'message': 'Remove deprecated mech_driver defined resource type\n\n... because it was deprecated during the previous cycle[1] and its\nimplementation is empty.\n\n[1] 069b2226a9d521865725d84fe950558cb7c06036\n\nChange-Id: Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202\n'}]",0,865614,55c77ffd34c7d9aac618432a58fc17ed94daaa6e,8,3,1,9816,,,0,"Remove deprecated mech_driver defined resource type

... because it was deprecated during the previous cycle[1] and its
implementation is empty.

[1] 069b2226a9d521865725d84fe950558cb7c06036

Change-Id: Ied984b3f5e1515a4daa0c0a58bdf2b85e674f202
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/865614/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/mech_driver.pp', 'releasenotes/notes/remove-mech_driver-resource-type-8037e8e1fcd6901c.yaml']",2,55c77ffd34c7d9aac618432a58fc17ed94daaa6e,,--- upgrade: - | The ``neutron::plugin::ml2::mech_driver`` defined resource type has been removed. ,,5,35
openstack%2Foctavia-dashboard~master~I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c,openstack/octavia-dashboard,master,I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:30:58.000000000,2022-11-29 19:17:08.000000000,2022-11-29 19:16:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30434}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-29 16:30:58.000000000', 'files': ['octavia_dashboard/dashboards/project/load_balancer/urls.py', 'octavia_dashboard/tests/urls.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96c18c8cf5115a8b532007bd33d09c99bfcb4091', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c\n'}]",2,839967,96c18c8cf5115a8b532007bd33d09c99bfcb4091,11,5,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I90d44f7e8b3b0067c67dcdf9fbaf57b94e627d3c
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/67/839967/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/dashboards/project/load_balancer/urls.py', 'octavia_dashboard/tests/urls.py']",2,96c18c8cf5115a8b532007bd33d09c99bfcb4091,,"from django.urls import re_path re_path(r'', include(openstack_dashboard.urls))","from django.conf.urls import url url(r'', include(openstack_dashboard.urls))",4,4
openstack%2Fpuppet-cinder~master~I9ebb3f6a214222457547f687c6f3abd2b9c058fb,openstack/puppet-cinder,master,I9ebb3f6a214222457547f687c6f3abd2b9c058fb,NetApp: Deprecate support for netapp_copyoffload_tool_path,MERGED,2022-11-28 06:48:24.000000000,2022-11-29 19:09:19.000000000,2022-11-29 19:08:16.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/76fe0e5dedd32a090657f597f90f492e99ef4fb8', 'message': 'NetApp: Deprecate support for netapp_copyoffload_tool_path\n\n... because the parameter was already deprecated in cinder.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/847733\nChange-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb\n'}, {'number': 2, 'created': '2022-11-28 15:54:18.000000000', 'files': ['releasenotes/notes/deprecate-netapp_copyoffload_tool_path-02f160e6dc687df1.yaml', 'manifests/backend/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/daa5d5cb188daaf3ecd9a9a97f087416feca26ae', 'message': 'NetApp: Deprecate support for netapp_copyoffload_tool_path\n\n... because the parameter was already deprecated in cinder.\n\nDepends-on: https://review.opendev.org/c/openstack/cinder/+/847733\nChange-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb\n'}]",4,865794,daa5d5cb188daaf3ecd9a9a97f087416feca26ae,15,3,2,9816,,,0,"NetApp: Deprecate support for netapp_copyoffload_tool_path

... because the parameter was already deprecated in cinder.

Depends-on: https://review.opendev.org/c/openstack/cinder/+/847733
Change-Id: I9ebb3f6a214222457547f687c6f3abd2b9c058fb
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/94/865794/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-netapp_copyoffload_tool_path-02f160e6dc687df1.yaml', 'manifests/backend/netapp.pp']",2,76fe0e5dedd32a090657f597f90f492e99ef4fb8,,"# DEPRECATED PARAMETERS # # [*netapp_copyoffload_tool_path*] # (optional) This option specifies the path of the NetApp Copy Offload tool # binary. Ensure that the binary has execute permissions set which allow the # effective user of the cinder-volume process to execute the file. # Defaults to undef # # DEPRECATED PARAMETERS $netapp_copyoffload_tool_path = undef, if $netapp_copyoffload_tool_path != undef { warning(""The netapp_copyoffload_tool_path parameter has been deprecated \ and will be removed in a future release."") } ""${name}/netapp_copyoffload_tool_path"": value => pick($netapp_copyoffload_tool_path, $::os_service_default);","# [*netapp_copyoffload_tool_path*] # (optional) This option specifies the path of the NetApp Copy Offload tool # binary. Ensure that the binary has execute permissions set which allow the # effective user of the cinder-volume process to execute the file. # Defaults to $::os_service_default. # $netapp_copyoffload_tool_path = $::os_service_default, ""${name}/netapp_copyoffload_tool_path"": value => $netapp_copyoffload_tool_path;",21,8
openstack%2Fopenstack-zuul-jobs~master~Iaf6364c0180c5c63fe83665f9fb4628c69d0717d,openstack/openstack-zuul-jobs,master,Iaf6364c0180c5c63fe83665f9fb4628c69d0717d,Test /opt move using rsync,NEW,2022-11-29 18:08:17.000000000,2022-11-29 18:56:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 18:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0860c708df4bb18ea54973f43ba8fbccbef81837', 'message': 'Test /opt move using rsync\n\nSupposedly rsync is quicker than mv for copying files. This makes sense\nbecause mv also has to delete the contents when changing partitions (as\nwe do when moving /opt). But it is possible it is also faster when\nremoving content. Test this.\n\nChange-Id: Iaf6364c0180c5c63fe83665f9fb4628c69d0717d\n'}, {'number': 2, 'created': '2022-11-29 18:49:28.000000000', 'files': ['roles/configure-swap/tasks/ephemeral.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4485624d047030c7174a413d90525126f2b9a294', 'message': 'Test /opt move using rsync\n\nSupposedly rsync is quicker than mv for copying files. This makes sense\nbecause mv also has to delete the contents when changing partitions (as\nwe do when moving /opt). But it is possible it is also faster when\nremoving content. Test this.\n\nChange-Id: Iaf6364c0180c5c63fe83665f9fb4628c69d0717d\n'}]",0,866054,4485624d047030c7174a413d90525126f2b9a294,4,1,2,4146,,,0,"Test /opt move using rsync

Supposedly rsync is quicker than mv for copying files. This makes sense
because mv also has to delete the contents when changing partitions (as
we do when moving /opt). But it is possible it is also faster when
removing content. Test this.

Change-Id: Iaf6364c0180c5c63fe83665f9fb4628c69d0717d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/54/866054/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/configure-swap/tasks/ephemeral.yaml'],1,0860c708df4bb18ea54973f43ba8fbccbef81837,ephemeral/mount-mv, time rsync -a --remove-source-files /opt/ /mnt # --remove-source-files only removes files not dirs. This cleans up # the dirs to avoid confusion. time find /opt/ -mindepth 1 -maxdepth 1 -print -exec rm -rf {} \;, time find /opt/ -mindepth 1 -maxdepth 1 -print -exec mv {} /mnt/ \;,4,1
openstack%2Fpuppet-openstacklib~master~I7c633f8d12e4678910872b7782273b2ca2c76d65,openstack/puppet-openstacklib,master,I7c633f8d12e4678910872b7782273b2ca2c76d65,"Revert ""Add old ruby support to inet6_prefix""",MERGED,2022-11-24 03:06:27.000000000,2022-11-29 18:52:38.000000000,2022-11-29 18:52:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 03:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3592fa8030455d2faeed1e8c46e2c7a2fa2c25e5', 'message': 'Revert ""Add old ruby support to inet6_prefix""\n\nThis reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.\n\nReason for revert:\nThe logic was added to support ruby 1.x.x which does not contain [1],\nbut recent operating systems no longer ship such an old version.\n\nCentOS 9: Ruby 3.0\nCentOS 8: Ruby 2.5\nUbuntu 20.04: Ruby 2.7\n\n[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4\n\nChange-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65\n'}, {'number': 2, 'created': '2022-11-24 03:07:11.000000000', 'files': ['lib/puppet/functions/inet6_prefix.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e0d95463803d3c63589db365976dbe8fb0b7d7d8', 'message': 'Revert ""Add old ruby support to inet6_prefix""\n\nThis reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.\n\nReason for revert:\nThe logic was added to support ruby 1.x which does not contain [1], but\nrecent operating systems no longer ship such an old version.\n\nCentOS 9: Ruby 3.0\nCentOS 8: Ruby 2.5\nUbuntu 20.04: Ruby 2.7\n\n[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4\n\nChange-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65\n'}]",0,865487,e0d95463803d3c63589db365976dbe8fb0b7d7d8,8,3,2,9816,,,0,"Revert ""Add old ruby support to inet6_prefix""

This reverts commit efffd27a414000eea0a85dae3162ed65b636cb3b.

Reason for revert:
The logic was added to support ruby 1.x which does not contain [1], but
recent operating systems no longer ship such an old version.

CentOS 9: Ruby 3.0
CentOS 8: Ruby 2.5
Ubuntu 20.04: Ruby 2.7

[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4

Change-Id: I7c633f8d12e4678910872b7782273b2ca2c76d65
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/87/865487/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/inet6_prefix.rb'],1,3592fa8030455d2faeed1e8c46e2c7a2fa2c25e5,," rescue IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError => e"," # NOTE(tobias-urdin): Add support for older version of the ipaddr # lib where ArgumentError hasn't been replaced yet. if IPAddr.const_defined?('InvalidAddressError') exp = [IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError] else exp = [ArgumentError, NoMethodError] end rescue *exp",1,10
openstack%2Fpuppet-swift~master~I694ca4c046f490e4ffecf2101f3f147a69045162,openstack/puppet-swift,master,I694ca4c046f490e4ffecf2101f3f147a69045162,Remove logic for old swift-ring-builder,MERGED,2022-11-23 17:18:39.000000000,2022-11-29 18:52:11.000000000,2022-11-29 18:52:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 17:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/71c4ca62d115d4b16a0ca5ae2b970090ce93aa28', 'message': 'Remove logic for old swift releases\n\nswift 2.10.0 was released on 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 2, 'created': '2022-11-23 17:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a8ffacd2d22a7d9ac165a2979356b9e22930d3ea', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released on 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 3, 'created': '2022-11-23 17:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fb584cfa4c5eb7eb11ce2a495992112f81b89507', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 4, 'created': '2022-11-23 19:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/cdd8b28f0ce672859bbfabae140325a7002a5b38', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 5, 'created': '2022-11-23 19:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/179ecf4020412b86cb73cd84ce1d22af18fa1035', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 6, 'created': '2022-11-23 19:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7bde933eb50e2053b477c15d2229a6703d8c3a84', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 7, 'created': '2022-11-23 19:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/94717f9b4405d67be15b2c1e5195c663a079b22e', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions.\n\nThis also updates the logic to skip the header lines, to make it more\nrobust. The new logic works even when any additional lines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}, {'number': 8, 'created': '2022-11-23 19:23:34.000000000', 'files': ['spec/unit/puppet/provider/ring_container_device/swift_ring_builder_spec.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'spec/unit/puppet/provider/ring_object_device/swift_ring_builder_spec.rb', 'spec/unit/puppet/provider/ring_account_device/swift_ring_builder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8ac0db49280b7c4451bff6a3e66c13d43a167b12', 'message': 'Remove logic for old swift-ring-builder\n\nswift 2.10.0 was released in 2016. We no longer need to support even\nolder versions. The output format depends on the version currently\ninstalled, thus the latest logic should work as long as the same\nrelease (or even a bit older release) is installed.\n\nThis also updates the logic to skip the header lines. The new logic\nis considered to be more robust, because it works even when additional\nlines are added.\n\nChange-Id: I694ca4c046f490e4ffecf2101f3f147a69045162\n'}]",0,865451,8ac0db49280b7c4451bff6a3e66c13d43a167b12,15,3,8,9816,,,0,"Remove logic for old swift-ring-builder

swift 2.10.0 was released in 2016. We no longer need to support even
older versions. The output format depends on the version currently
installed, thus the latest logic should work as long as the same
release (or even a bit older release) is installed.

This also updates the logic to skip the header lines. The new logic
is considered to be more robust, because it works even when additional
lines are added.

Change-Id: I694ca4c046f490e4ffecf2101f3f147a69045162
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/51/865451/8 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/puppet/provider/ring_container_device/swift_ring_builder_spec.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'spec/unit/puppet/provider/ring_object_device/swift_ring_builder_spec.rb', 'spec/unit/puppet/provider/ring_account_device/swift_ring_builder_spec.rb']",4,71c4ca62d115d4b16a0ca5ae2b970090ce93aa28,," let :account_builder_output do provider.class.stubs(:swift_ring_builder).returns account_builder_output provider.expects(:swift_ring_builder).returns account_builder_output describe ""with a storage policy_index set"" do"," let :account_builder_output_2_9_1 do provider.class.stubs(:swift_ring_builder).returns account_builder_output_2_9_1 provider.expects(:swift_ring_builder).returns account_builder_output_2_9_1 describe ""with a storage policy_index set on swift 2.9.1+"" do it 'should be able to lookup the local ring and build an object 2.2.2+' do # Swift 1.8 output provider.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 The overload factor is 0.00% (0.000000) Devices: id region zone ip address port replication ip replication port name weight partitions balance meta 1 1 1 192.168.101.13 6002 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.8+' do # Swift 1.8+ output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port replication ip replication port name weight partitions balance meta 1 1 1 192.168.101.13 6002 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.8.0' do # Swift 1.8 output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port name weight partitions balance meta 1 1 1 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 1 1.00 262144 200.00 m2 0 1 3 192.168.101.15 6002 1 1.00 262144-100.00 m2 3 1 1 192.168.101.16 6002 1 1.00 262144-100.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.16:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '200.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql 'm2' end it 'should be able to lookup the local ring and build an object 1.7' do # Swift 1.7 output provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id region zone ip address port name weight partitions balance meta 1 1 1 192.168.101.13 6002 1 1.00 262144 0.00 2 1 2 192.168.101.14 6002 1 1.00 262144 0.00 0 1 3 192.168.101.15 6002 1 1.00 262144 0.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql '1' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql '1' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql '' end it 'should be able to lookup the local ring and build an object legacy' do provider_class.expects(:swift_ring_builder).returns( '/etc/swift/account.builder, build version 3 262144 partitions, 3 replicas, 3 zones, 3 devices, 0.00 balance The minimum number of hours before a partition can be reassigned is 1 Devices: id zone ip address port name weight partitions balance meta 2 2 192.168.101.14 6002 1 1.00 262144 0.00 0 3 192.168.101.15 6002 1 1.00 262144 0.00 1 1 192.168.101.13 6002 1 1.00 262144 0.00 ' ) File.expects(:exists?).with(builder_file_path).returns(true) provider.expects(:builder_file_path).twice.returns(builder_file_path) resources = provider.lookup_ring expect(resources['192.168.101.15:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1']).to_not be_nil expect(resources['192.168.101.14:6002/1']).to_not be_nil expect(resources['192.168.101.13:6002/1'][:id]).to eql '1' expect(resources['192.168.101.13:6002/1'][:region]).to eql 'none' expect(resources['192.168.101.13:6002/1'][:zone]).to eql '1' expect(resources['192.168.101.13:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.13:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.13:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.13:6002/1'][:meta]).to eql '' expect(resources['192.168.101.14:6002/1'][:id]).to eql '2' expect(resources['192.168.101.14:6002/1'][:region]).to eql 'none' expect(resources['192.168.101.14:6002/1'][:zone]).to eql '2' expect(resources['192.168.101.14:6002/1'][:weight]).to eql '1.00' expect(resources['192.168.101.14:6002/1'][:partitions]).to eql '262144' expect(resources['192.168.101.14:6002/1'][:balance]).to eql '0.00' expect(resources['192.168.101.14:6002/1'][:meta]).to eql '' end",23,660
openstack%2Fpuppet-nova~master~I1a1b43f040c8acc30a85164b03312683ab9002dc,openstack/puppet-nova,master,I1a1b43f040c8acc30a85164b03312683ab9002dc,Support array value for console_ssl_ciphers,MERGED,2022-11-23 18:12:40.000000000,2022-11-29 18:49:29.000000000,2022-11-29 18:49:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 18:12:40.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6d566d2d4075e21c969a1c90c1eb243ed44035eb', 'message': 'Support array value for console_ssl_ciphers\n\nThe [colsone] ssl_ciphers option takes a colon-separated list. This\nchange allows usage of a native array value to set the value so that\nusers can more easily compose up the value without considering\nthe actual value format.\n\nChange-Id: I1a1b43f040c8acc30a85164b03312683ab9002dc\n'}]",0,865460,6d566d2d4075e21c969a1c90c1eb243ed44035eb,8,3,1,9816,,,0,"Support array value for console_ssl_ciphers

The [colsone] ssl_ciphers option takes a colon-separated list. This
change allows usage of a native array value to set the value so that
users can more easily compose up the value without considering
the actual value format.

Change-Id: I1a1b43f040c8acc30a85164b03312683ab9002dc
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/60/865460/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,6d566d2d4075e21c969a1c90c1eb243ed44035eb,puppet-ciphers-array," context 'with array used for console_ssl_ciphers' do let :params do { :console_ssl_ciphers => ['kEECDH+aECDSA+AES', 'kEECDH+AES+aRSA', 'kEDH+aRSA+AES'] } end it {is_expected.to contain_nova_config('console/ssl_ciphers').with_value('kEECDH+aECDSA+AES:kEECDH+AES+aRSA:kEDH+aRSA+AES') } end",,9,1
openstack%2Ftripleo-validations~master~If153ef72d9fbc0cbae7c1275ba866331f864995f,openstack/tripleo-validations,master,If153ef72d9fbc0cbae7c1275ba866331f864995f,Fix ansible 2.14 incompatibility,MERGED,2022-11-29 08:58:55.000000000,2022-11-29 18:44:02.000000000,2022-11-29 18:42:47.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 08:58:55.000000000', 'files': ['roles/repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f\n'}]",1,865957,1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d,9,5,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: If153ef72d9fbc0cbae7c1275ba866331f864995f
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/865957/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/repos/tasks/main.yml'],1,1ae0f58d97252284d0a5d1f8b76e70e6764b5d5d,,, args: warn: false,0,2
openstack%2Fvalidations-common~master~Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba,openstack/validations-common,master,Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba,Fix ansible 2.14 incompatibility,MERGED,2022-11-28 15:18:32.000000000,2022-11-29 18:43:56.000000000,2022-11-29 18:42:45.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-28 15:18:32.000000000', 'files': ['validations_common/roles/check_latest_packages_version/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/899b8f5c625c58717f186a330a3e6890fcd187e4', 'message': 'Fix ansible 2.14 incompatibility\n\nThe warn parameter of command/shell module was deprecated was\nremoved in 2.14[1].\n\n[1] https://github.com/ansible/ansible/pull/77411\n\nCloses-Bug: #1998098\nChange-Id: Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba\n'}]",2,865863,899b8f5c625c58717f186a330a3e6890fcd187e4,12,4,1,8833,,,0,"Fix ansible 2.14 incompatibility

The warn parameter of command/shell module was deprecated was
removed in 2.14[1].

[1] https://github.com/ansible/ansible/pull/77411

Closes-Bug: #1998098
Change-Id: Ib5ab3cafcfa4a95bd5a806abe757aef0916344ba
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/63/865863/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/check_latest_packages_version/molecule/default/prepare.yml'],1,899b8f5c625c58717f186a330a3e6890fcd187e4,,, args: warn: false,0,2
openstack%2Fpuppet-pacemaker~master~Id010a392df0047d53dfab1c21cc78021c8c1aabf,openstack/puppet-pacemaker,master,Id010a392df0047d53dfab1c21cc78021c8c1aabf,Add fence_watchdog (sbd) stonith agent,MERGED,2022-10-31 12:54:58.000000000,2022-11-29 18:42:48.000000000,2022-11-29 18:42:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 30126}, {'_account_id': 35080}]","[{'number': 1, 'created': '2022-10-31 12:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/2aa263cfe574afdfd7c0f536771c7a546a33398d', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 2, 'created': '2022-11-02 19:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/542b0d3213c7c6ca3d08ed3845a5999add33e833', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 3, 'created': '2022-11-02 19:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/cbcce44a5b845d4251fa61e4760b7c1cf235a969', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nIn addition to the above, this commit fixes a typo (extra space)\nin the agents manifests.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 4, 'created': '2022-11-09 13:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/69dacf9ddcf2373956598ef46e7211c868233b07', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 5, 'created': '2022-11-09 13:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ba726fecbb20fef7e82d91d89a6b4ab5e61ba902', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 6, 'created': '2022-11-09 14:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/0d58a249b094f939a4a9886247189cbe096b2662', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 7, 'created': '2022-11-09 14:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/f0db0c623a7557891e36ffb00223f2cc2ad21a0a', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 8, 'created': '2022-11-18 06:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/76062800e2a18fcd4f1749388d60dfd11a2bf082', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 9, 'created': '2022-11-25 15:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/17761d5a18a8c251075e55b0cde32cfdba426be7', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}, {'number': 10, 'created': '2022-11-25 15:35:02.000000000', 'files': ['agent_generator/agent_generator.rb', 'agent_generator/src_xml/fence_watchdog.xml', 'manifests/stonith/fence_rhevm.pp', 'manifests/stonith/fence_watchdog.pp', 'manifests/stonith/fence_redfish.pp', 'lib/puppet/provider/pcmk_stonith/default.rb', 'agent_generator/variables.sh'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/397fbfd47097260ed75bd34d4e23b8cac335a43f', 'message': 'Add fence_watchdog (sbd) stonith agent\n\nThis commit adds a new stonith agent ""fence_watchdog"", allowing\noperators to define a stonith device called ""watchdog"" (name is\nhard coded in pacemaker) and eventually add this to the clusters\nstonith topology.\n\nSince this is a special dummy stonith device it is exempted from\nhaving a constraint rule preventing it from running on the same\ncluster nodes that is in charge of monitoring.\n\nThe ""watchdog"" resource needs the sbd daemon to be enabled and\ndepends on a valid watchdog timer device - either phisical or\nvirtual - to perform self-fencing when required.\n\nChange-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf\n'}]",11,863036,397fbfd47097260ed75bd34d4e23b8cac335a43f,36,7,10,30126,,,0,"Add fence_watchdog (sbd) stonith agent

This commit adds a new stonith agent ""fence_watchdog"", allowing
operators to define a stonith device called ""watchdog"" (name is
hard coded in pacemaker) and eventually add this to the clusters
stonith topology.

Since this is a special dummy stonith device it is exempted from
having a constraint rule preventing it from running on the same
cluster nodes that is in charge of monitoring.

The ""watchdog"" resource needs the sbd daemon to be enabled and
depends on a valid watchdog timer device - either phisical or
virtual - to perform self-fencing when required.

Change-Id: Id010a392df0047d53dfab1c21cc78021c8c1aabf
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/36/863036/10 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/stonith/fence_bladecenter.pp', 'manifests/stonith/fence_imm.pp', 'manifests/stonith/fence_virt.pp', 'manifests/stonith/fence_cisco_mds.pp', 'manifests/stonith/fence_ironic.pp', 'manifests/stonith/fence_ilo.pp', 'manifests/stonith/fence_kubevirt.pp', 'manifests/stonith/fence_apc_snmp.pp', 'manifests/stonith/fence_brocade.pp', 'manifests/stonith/fence_eaton_snmp.pp', 'manifests/stonith/fence_vmware_soap.pp', 'manifests/stonith/fence_ilo3.pp', 'manifests/stonith/fence_ibmblade.pp', 'manifests/stonith/fence_wti.pp', 'manifests/stonith/fence_intelmodular.pp', 'manifests/stonith/fence_scsi.pp', 'manifests/stonith/fence_amt.pp', 'manifests/stonith/fence_crosslink.pp', 'manifests/stonith/fence_rsb.pp', 'manifests/stonith/fence_ilo_mp.pp', 'manifests/stonith/fence_ipmilan.pp', 'manifests/stonith/fence_rhevm.pp', 'manifests/stonith/fence_cisco_ucs.pp', 'manifests/stonith/fence_hpblade.pp', 'manifests/stonith/fence_ilo4.pp', 'manifests/stonith/fence_ipdu.pp', 'agent_generator/variables.sh', 'agent_generator/agent_generator.rb', 'manifests/stonith/fence_ilo2.pp', 'agent_generator/src_xml/fence_watchdog.xml', 'manifests/stonith/fence_apc.pp', 'manifests/stonith/fence_idrac.pp', 'manifests/stonith/fence_watchdog.pp', 'manifests/stonith/fence_ifmib.pp', 'manifests/stonith/fence_redfish.pp', 'manifests/stonith/fence_compute.pp', 'manifests/stonith/fence_eps.pp', 'manifests/stonith/fence_drac5.pp', 'manifests/stonith/fence_kdump.pp']",39,2aa263cfe574afdfd7c0f536771c7a546a33398d,,# [*interval*],# [*interval*],302,102
openstack%2Ftripleo-heat-templates~stable%2Fzed~Id7616ebceb820d9799661c0fbc5f3f234f421ea3,openstack/tripleo-heat-templates,stable/zed,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-29 03:40:15.000000000,2022-11-29 18:42:42.000000000,2022-11-29 18:42:42.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-29 03:40:15.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fde20f941d0452d875ade3c86caf0a7ed34b789f', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)\n""}]",0,865934,fde20f941d0452d875ade3c86caf0a7ed34b789f,12,5,1,9816,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
(cherry picked from commit 59300dfb30c5ee9c8186ee4b28f9c57e9b345647)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/865934/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,fde20f941d0452d875ade3c86caf0a7ed34b789f,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fironic~enable_alternative_storage_for_inventory~Ie174904420691be64ce6ca10bca3231f45a5bc58,openstack/ironic,enable_alternative_storage_for_inventory,Ie174904420691be64ce6ca10bca3231f45a5bc58,WIP: Enable alternative storage for inventory,ABANDONED,2022-11-29 18:14:14.000000000,2022-11-29 18:32:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-29 18:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e', 'message': 'WIP: Enable alternative storage for inventory\n\nThe Ironic inspector allows users to choose between SQL, Swift and NoStore. Ironic should offer similar functionality.\n\nChange-Id: Ie174904420691be64ce6ca10bca3231f45a5bc58\n'}]",0,865996,76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e,4,1,1,35099,,,0,"WIP: Enable alternative storage for inventory

The Ironic inspector allows users to choose between SQL, Swift and NoStore. Ironic should offer similar functionality.

Change-Id: Ie174904420691be64ce6ca10bca3231f45a5bc58
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/865996/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,76c1984ab9fe3ca0dc77aad7cbb06de7c33c953e,,,,0,0
openstack%2Fpuppet-ceilometer~master~Id18b9221703eda9311b81c5a5dfdd41cc68f5424,openstack/puppet-ceilometer,master,Id18b9221703eda9311b81c5a5dfdd41cc68f5424,Remove implementations to set up Ceilometer DB,MERGED,2022-11-24 04:52:55.000000000,2022-11-29 18:24:07.000000000,2022-11-29 18:22:54.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 04:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/767e6b336d6512cff292803d64c313f26ebe7bd2', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 2, 'created': '2022-11-24 04:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/451949eade7797a36e6d49a327ab03d00f3faf0f', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 3, 'created': '2022-11-24 05:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/01586da5e0347b0c672f82c9c06b4af2644c1bb8', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\nThis also updates the outdated example manifests to adapt to\nthe recent refactoring.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}, {'number': 4, 'created': '2022-11-24 05:08:23.000000000', 'files': ['spec/classes/ceilometer_db_postgresql_spec.rb', 'examples/site.pp', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'spec/classes/ceilometer_db_mysql_spec.rb', 'examples/ceilometer_with_gnocchi.pp', 'manifests/deps.pp', 'manifests/db/mysql.pp', 'releasenotes/notes/remove-db-opts-89c03fa40ae3cde2.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/834d9a6780c33233cef141a7b6007dbfe527ae08', 'message': 'Remove implementations to set up Ceilometer DB\n\nCeilometer no longer requires its own database since metric/event\nstorage was offloaded to Gnocchi/Panko. These implementations were\nformally deprecated during the previous cycle[1] so can be removed.\n\nThis also updates the outdated example manifests to adapt to\nthe removal and the recent refactoring.\n\n[1] 60882c29dff6b5302d982eaf79796913c4a8bea9\n\nChange-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424\n'}]",0,865497,834d9a6780c33233cef141a7b6007dbfe527ae08,13,4,4,9816,,,0,"Remove implementations to set up Ceilometer DB

Ceilometer no longer requires its own database since metric/event
storage was offloaded to Gnocchi/Panko. These implementations were
formally deprecated during the previous cycle[1] so can be removed.

This also updates the outdated example manifests to adapt to
the removal and the recent refactoring.

[1] 60882c29dff6b5302d982eaf79796913c4a8bea9

Change-Id: Id18b9221703eda9311b81c5a5dfdd41cc68f5424
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/97/865497/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_db_postgresql_spec.rb', 'manifests/db/postgresql.pp', 'spec/classes/ceilometer_db_spec.rb', 'manifests/db.pp', 'spec/classes/ceilometer_db_mysql_spec.rb', 'manifests/db/mysql.pp', 'releasenotes/notes/remove-db-opts-89c03fa40ae3cde2.yaml']",7,767e6b336d6512cff292803d64c313f26ebe7bd2,,--- upgrade: - | The following classes have been removed. - ``ceilometer::db`` - ``ceilometer::db::mysql`` - ``ceilometer::db::postgresql`` ,,8,397
openstack%2Fopenstack-ansible-os_heat~stable%2Fyoga~If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc,openstack/openstack-ansible-os_heat,stable/yoga,If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc,Install git into heat containers,MERGED,2022-11-25 12:07:23.000000000,2022-11-29 18:12:32.000000000,2022-11-29 18:11:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-25 12:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f9fcb7b3d92326d1f3a5110d2298ba7c02551f5e', 'message': 'Install git into placement containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)\n'}, {'number': 2, 'created': '2022-11-25 12:11:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/38ba2096338c9f3de53cf027518ee6ca338611fb', 'message': 'Install git into heat containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)\n'}]",1,865564,38ba2096338c9f3de53cf027518ee6ca338611fb,12,3,2,28619,,,0,"Install git into heat containers

If venv_wheel_build_enable is defined to False, placement will fail to
clone and install repositories due to missing git binary.

Change-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc
Related-Bug: #1989506
Closes-Bug: #1995536
(cherry picked from commit 74cf65fd75f3489282803c9164f2442ba44125e4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/64/865564/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,f9fcb7b3d92326d1f3a5110d2298ba7c02551f5e,, - git,,2,0
openstack%2Fpuppet-manila~master~I4ed63ae3992735352fd0f5a317e998074e127127,openstack/puppet-manila,master,I4ed63ae3992735352fd0f5a317e998074e127127,Support manila-data service,MERGED,2022-11-28 07:08:23.000000000,2022-11-29 18:10:34.000000000,2022-11-29 18:09:27.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/efa94415ffc4ef2bed29bf35b40d8c8def88a32b', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to manage share\nmigration. This change introduces support for the service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 2, 'created': '2022-11-28 07:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8775e148109b18a0c74557de518d63de46d69ee5', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 3, 'created': '2022-11-28 07:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f573a995b33676b1a144260386861733ffaff1b5', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 4, 'created': '2022-11-28 08:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c6e54173bebc8bf9240f99d660deb3e2c4f5126f', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}, {'number': 5, 'created': '2022-11-28 08:21:35.000000000', 'files': ['manifests/data.pp', 'manifests/params.pp', 'spec/classes/manila_data_spec.rb', 'releasenotes/notes/manila-data-61845c37605e9afe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/11e2e6a7c751dd703b08d67951e188d64834e220', 'message': 'Support manila-data service\n\nManila provides the separate manila-data service to process\nhost-assisted share migration. This change introduces support for\nthe service.\n\nChange-Id: I4ed63ae3992735352fd0f5a317e998074e127127\n'}]",0,865795,11e2e6a7c751dd703b08d67951e188d64834e220,14,3,5,9816,,,0,"Support manila-data service

Manila provides the separate manila-data service to process
host-assisted share migration. This change introduces support for
the service.

Change-Id: I4ed63ae3992735352fd0f5a317e998074e127127
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/95/865795/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/data.pp', 'manifests/params.pp', 'spec/classes/manila_data_spec.rb', 'releasenotes/notes/manila-data-61845c37605e9afe.yaml']",4,efa94415ffc4ef2bed29bf35b40d8c8def88a32b,manila-data-service,--- features: - | The new ``manila::data`` class has been added. This class configures the ``manila-data`` service. ,,178,0
openstack%2Fpuppet-manila~master~Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914,openstack/puppet-manila,master,Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914,Use $::os_service_default by default,MERGED,2022-11-28 04:52:32.000000000,2022-11-29 18:09:25.000000000,2022-11-29 18:09:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 04:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8baf00c666debf9c79b71177107e652d93223ecc', 'message': 'Simplify handling of scheduler_driver\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern using\n $::os_service_default .\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 2, 'created': '2022-11-28 07:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/343de6eadae64ef0a7176a2f2de90da4fb918d2a', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 3, 'created': '2022-11-28 07:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bf7c6ed49526dc88b3535ba8401a72dd941eea75', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 4, 'created': '2022-11-28 07:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/6e13e5935a55963b786ebb861d74fa770af15126', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 5, 'created': '2022-11-28 08:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/248109ba3e0596b478ed50b004db29b1d628282b', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}, {'number': 6, 'created': '2022-11-28 15:40:15.000000000', 'files': ['manifests/scheduler.pp', 'releasenotes/notes/scheduler_driver-os_service_default-5b7e2e78d93c6abe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c0e8c3848137a76f830d688c7fa9a95226262e61', 'message': 'Use $::os_service_default by default\n\nThis change prepares getting rid of the additional logic to manage\nthe scheduler_driver option, to follow the global pattern to use\n $::os_service_default by default.\n\nChange-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914\n'}]",5,865786,c0e8c3848137a76f830d688c7fa9a95226262e61,17,3,6,9816,,,0,"Use $::os_service_default by default

This change prepares getting rid of the additional logic to manage
the scheduler_driver option, to follow the global pattern to use
 $::os_service_default by default.

Change-Id: Ic1d01425123bf02fa3caaf9f2ba72ed2233fc914
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/86/865786/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler.pp', 'releasenotes/notes/scheduler_driver-os_service_default-5b7e2e78d93c6abe.yaml']",2,8baf00c666debf9c79b71177107e652d93223ecc,,--- features: - | Using a false value fo ``manila::scheduler::scheduler_driver`` has been deprecated and the specified value will be directly rendered into manila.conf in a future release. Use ``$::os_service_default`` if the service default should be used. ,,14,5
openstack%2Fpuppet-manila~master~I30fa9fdc73164f898bf46d2983c807ec2bcd5451,openstack/puppet-manila,master,I30fa9fdc73164f898bf46d2983c807ec2bcd5451,Ensure [DEFAULT] scheduler_driver is cleared by default,MERGED,2022-11-28 02:18:33.000000000,2022-11-29 18:09:24.000000000,2022-11-29 18:09:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 02:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/089c2e4f10d714c3286d7d5efd0d692866f4ab56', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 2, 'created': '2022-11-28 02:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e2a07477d93639466a3ddb15b37430131deb536d', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 3, 'created': '2022-11-28 07:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/29ad686b89fcb07c398a49c3f02165dbb52d0efe', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 4, 'created': '2022-11-28 07:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/8b64680be8bf389bc4d9bf9ea617ebb304480508', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 5, 'created': '2022-11-28 07:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5e0c3eb87c1ab266b870898422986ffd13d666cb', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 6, 'created': '2022-11-28 08:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/15042d22dcead240e48c341803fb91e435c69c06', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}, {'number': 7, 'created': '2022-11-28 08:21:58.000000000', 'files': ['spec/classes/manila_scheduler_spec.rb', 'manifests/scheduler.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/525aae76e8d5dc2ab09de241c7c4a572e5ffac12', 'message': 'Ensure [DEFAULT] scheduler_driver is cleared by default\n\n... otherwise the old setting can be left in manila.conf.\n\nThis also refactors unit tests for the manila::share class.\n\nChange-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451\n'}]",0,865780,525aae76e8d5dc2ab09de241c7c4a572e5ffac12,15,3,7,9816,,,0,"Ensure [DEFAULT] scheduler_driver is cleared by default

... otherwise the old setting can be left in manila.conf.

This also refactors unit tests for the manila::share class.

Change-Id: I30fa9fdc73164f898bf46d2983c807ec2bcd5451
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/80/865780/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_scheduler_spec.rb', 'manifests/scheduler.pp']",2,089c2e4f10d714c3286d7d5efd0d692866f4ab56,, } else { manila_config { 'DEFAULT/scheduler_driver': value => $::os_service_default; },,6,0
openstack%2Fopenstack-ansible~master~I925a148febce2bbdc09e60020828947589905dcf,openstack/openstack-ansible,master,I925a148febce2bbdc09e60020828947589905dcf,Do not duplicate vers in nfs mount options,MERGED,2022-11-28 09:04:46.000000000,2022-11-29 18:08:08.000000000,2022-11-29 18:06:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-28 09:04:46.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce656384dcb6afd22f3cea5de39fa4f5d9724e90', 'message': 'Do not duplicate vers in nfs mount options\n\nOn ubuntu 22.04 specifying vers and nfsvers raising error during mount:\nmount.nfs: multiple version options not permitted\n\nTo make NFS jobs passing for 22.04 we drop out vers.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/865518/\nChange-Id: I925a148febce2bbdc09e60020828947589905dcf\n'}]",0,865805,ce656384dcb6afd22f3cea5de39fa4f5d9724e90,8,3,1,28619,,,0,"Do not duplicate vers in nfs mount options

On ubuntu 22.04 specifying vers and nfsvers raising error during mount:
mount.nfs: multiple version options not permitted

To make NFS jobs passing for 22.04 we drop out vers.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/865518/
Change-Id: I925a148febce2bbdc09e60020828947589905dcf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/865805/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'],1,ce656384dcb6afd22f3cea5de39fa4f5d9724e90,," nfs_mount_options: nfsvers=4,noatime,rw,bg,intr,async,timeo=60"," nfs_mount_options: vers=4,nfsvers=4,noatime,rw,bg,intr,async,timeo=60",1,1
openstack%2Fpuppet-manila~master~I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f,openstack/puppet-manila,master,I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f,Remove cleanup of [DEFAULT] network_api_class,MERGED,2022-11-26 16:43:44.000000000,2022-11-29 18:04:36.000000000,2022-11-29 18:04:36.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-26 16:43:44.000000000', 'files': ['manifests/network/neutron.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5080fb84dc8eadff7b4ad4c759c1938be7dc0d93', 'message': 'Remove cleanup of [DEFAULT] network_api_class\n\n... because the logic was added during Yoga cycle[1] and the old option\nshould be removed when a deployment is upgraded to Yoga.\n\n[1] e7330687baa66c3c8d55aeb581643e4a227b6568\n\nChange-Id: I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f\n'}]",0,865770,5080fb84dc8eadff7b4ad4c759c1938be7dc0d93,7,3,1,9816,,,0,"Remove cleanup of [DEFAULT] network_api_class

... because the logic was added during Yoga cycle[1] and the old option
should be removed when a deployment is upgraded to Yoga.

[1] e7330687baa66c3c8d55aeb581643e4a227b6568

Change-Id: I0f39c0ce4bad8a6fd1d17faf6ffae11dda75919f
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/70/865770/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/network/neutron.pp'],1,5080fb84dc8eadff7b4ad4c759c1938be7dc0d93,,, # TODO(tkajinam): Remove this after Yoga release manila_config { 'DEFAULT/network_api_class': ensure => absent; } ,0,5
openstack%2Fopenstack-ansible-os_nova~stable%2Fyoga~I4195153658c867f259226e80cefac0fcac4caac5,openstack/openstack-ansible-os_nova,stable/yoga,I4195153658c867f259226e80cefac0fcac4caac5,Isolate vif for ovs backend by default,MERGED,2022-11-19 09:50:54.000000000,2022-11-29 17:58:48.000000000,2022-11-29 17:57:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-19 09:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3f122128011638a1a2af4b02d38c572abdc623d3', 'message': 'Isolate vif for ovs backend by default\n\nWithout that patch all deployers that did use OVS had to remember to\napply override for their deployments.\nNow OSA will enable isolation of vif by default when OVS is used.\n\nChange-Id: I4195153658c867f259226e80cefac0fcac4caac5\nRelated-Bug: #1734320\n(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)\n'}, {'number': 2, 'created': '2022-11-19 09:51:22.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f7b18ee465e9cbb3ff85348d8db6aaecb450822e', 'message': 'Isolate vif for ovs backend by default\n\nWithout that patch all deployers that did use OVS had to remember to\napply override for their deployments.\nNow OSA will enable isolation of vif by default when OVS is used.\n\nChange-Id: I4195153658c867f259226e80cefac0fcac4caac5\nRelated-Bug: #1734320\n(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)\n'}]",2,864984,f7b18ee465e9cbb3ff85348d8db6aaecb450822e,12,2,2,28619,,,0,"Isolate vif for ovs backend by default

Without that patch all deployers that did use OVS had to remember to
apply override for their deployments.
Now OSA will enable isolation of vif by default when OVS is used.

Change-Id: I4195153658c867f259226e80cefac0fcac4caac5
Related-Bug: #1734320
(cherry picked from commit d6cd1096af83a99718ae11b24106f9f419eb32c9)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/84/864984/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,3f122128011638a1a2af4b02d38c572abdc623d3,,"{% if (neutron_plugin_type == ""ml2.ovs"") | default(False) %} [os_vif_ovs] isolate_vif = True {% endif %} ",,5,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,openstack/ovn-octavia-provider,stable/wallaby,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-29 10:16:40.000000000,2022-11-29 17:43:05.000000000,2022-11-29 17:41:55.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-29 10:16:40.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b3d20d2204a901ab913b6a91faf3f83ee78d12b9', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)\n'}]",0,865909,b3d20d2204a901ab913b6a91faf3f83ee78d12b9,9,4,1,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
(cherry picked from commit 9cb8cd5054e64ab7fd13b4b63259b639b4f26c50)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/09/865909/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,b3d20d2204a901ab913b6a91faf3f83ee78d12b9,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] ovn_const.LB_EXT_IDS_HMS_KEY: '[""%s""]' % (self.ovn_hm.uuid), @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_hm_id') execute.side_effect = [[self.ovn_hm_lb], [self.ovn_hm]] {'ovn_lbs': [self.ovn_hm_lb], {'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': [self.ovn_hm_lb], 'ovn_lbs': ovn_lbs, 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lbs': [self.ovn_hm_lb, ovn_hm_lb2],"," self.ovn_hm_lb.health_check = [] @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb] {'ovn_lb': [self.ovn_hm_lb], {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': ovn_lbs, 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb2],",80,62
openstack%2Fpuppet-glance~master~Ic83d6595cd23319e286719c2e7f766ea1aa3e4da,openstack/puppet-glance,master,Ic83d6595cd23319e286719c2e7f766ea1aa3e4da,Assert db purge cron job,MERGED,2022-11-28 06:39:41.000000000,2022-11-29 17:21:13.000000000,2022-11-29 17:21:13.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 06:39:41.000000000', 'files': ['spec/acceptance/10_basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1c0d3e01812a97678a9be97fc7d4be717ce18e81', 'message': 'Assert db purge cron job\n\nThis makes sure the db purge cron job is properly configured in\nacceptance tests. The job was enabled in the common manifest a while\nago by the dependent change.\n\nDepends-on: https://review.opendev.org/792743\nChange-Id: Ic83d6595cd23319e286719c2e7f766ea1aa3e4da\n'}]",0,865793,1c0d3e01812a97678a9be97fc7d4be717ce18e81,7,3,1,9816,,,0,"Assert db purge cron job

This makes sure the db purge cron job is properly configured in
acceptance tests. The job was enabled in the common manifest a while
ago by the dependent change.

Depends-on: https://review.opendev.org/792743
Change-Id: Ic83d6595cd23319e286719c2e7f766ea1aa3e4da
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/93/865793/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_glance_spec.rb'],1,1c0d3e01812a97678a9be97fc7d4be717ce18e81,, describe cron do it { is_expected.to have_entry('1 0 * * * glance-manage db purge --age_in_days 30 --max_rows 100 >>/var/log/glance/glance-rowsflush.log 2>&1').with_user('glance') } end,,4,0
openstack%2Ftripleo-ansible~master~Idcd98906c5ce13f065fcdea344a1c9424509cc2d,openstack/tripleo-ansible,master,Idcd98906c5ce13f065fcdea344a1c9424509cc2d,Generic playbook to run standalone roles,ABANDONED,2022-11-22 16:20:45.000000000,2022-11-29 16:55:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 16:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/759d91981fe7b179a8b5356ac03808ee946e71b8', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 2, 'created': '2022-11-23 15:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63e610cd4313a03a87e1537ed9a1e20232a88e9f', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 3, 'created': '2022-11-24 14:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c86b6eb7babeb56859e8a103f46f196e8dfcaacf', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}, {'number': 4, 'created': '2022-11-24 14:49:52.000000000', 'files': ['tripleo_ansible/playbooks/standalone-playbook.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/756d4c702b16b873bc5b6dca2e758905056cf32b', 'message': 'Generic playbook to run standalone roles\n\nThis pach introduces the new standalone-playbook.yaml, a generic atomic\nplaybook that can be configured inside the ansible-runner container to\nrun the tasks in any arbitrary file in any role.\n\nComplementary to the corresponding changes in tripleo-common[1], but they\ncan be merged separatedly.\n\nThe ansibleee-operator will take care of filling the contents of the\nenv variable in [2]\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308\n[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/19\n\nChange-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d\n'}]",11,865309,756d4c702b16b873bc5b6dca2e758905056cf32b,21,6,4,32968,,,0,"Generic playbook to run standalone roles

This pach introduces the new standalone-playbook.yaml, a generic atomic
playbook that can be configured inside the ansible-runner container to
run the tasks in any arbitrary file in any role.

Complementary to the corresponding changes in tripleo-common[1], but they
can be merged separatedly.

The ansibleee-operator will take care of filling the contents of the
env variable in [2]

[1] https://review.opendev.org/c/openstack/tripleo-common/+/865308
[2] https://github.com/openstack-k8s-operators/ansibleee-operator/pull/19

Change-Id: Idcd98906c5ce13f065fcdea344a1c9424509cc2d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/865309/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/standalone-playbook.yaml'],1,759d91981fe7b179a8b5356ac03808ee946e71b8,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - hosts: ""{{ primary_role_name | default([]) }}:{{ deploy_target_host | default('overcloud') }}"" name: Deploy TripleO Operating System Configure strategy: tripleo_free any_errors_fatal: true become: true tasks: - name: Generic standalone playbook running {{ standalone_role }} | {{ standalone_role_tasks }} import_role: name: ""{{ standalone_role }}"" tasks_from: ""{{ standalone_role_tasks }}"" ",,27,0
openstack%2Ftripleo-common~master~If9af1257f0600c9ab1529fdcb985c08525cf8ef7,openstack/tripleo-common,master,If9af1257f0600c9ab1529fdcb985c08525cf8ef7,Use a generic playbook to run custom tasks,ABANDONED,2022-11-22 16:14:31.000000000,2022-11-29 16:54:55.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 16:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3ae645d9b0a521a29da5a398fcce45fc4f3080c', 'message': 'Add new configuration file extravars\n\nRegrettably, ansible-runner does not allow to pass directly\n--extra-vars to the underlying ansible-playbook command from the CLI,\nit requires those extra-vars to be located in the extravars file.\nWe require a couple of well defined extravars to be able to run files\ninside roles directly with the help of a generic playbook.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 2, 'created': '2022-11-23 15:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/66215232bd972c5050302f8b24e1e42ab0ea749b', 'message': 'Add new configuration file extravars\n\nRegrettably, ansible-runner does not allow to pass directly\n--extra-vars to the underlying ansible-playbook command from the CLI,\nit requires those extra-vars to be located in the extravars file.\nWe require a couple of well defined extravars to be able to run files\ninside roles directly with the help of a generic playbook.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 3, 'created': '2022-11-24 14:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4bd583f56d2b4d9b122ec02fd68086152566d0c', 'message': 'Use a generic playbook to run custom tasks\n\nThe entrypoint must replace the environment variables in the\nstandalone-playbook.yaml generic playbook so arbitrary roles\nand tasks can be run inside the ansible-runner container.\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}, {'number': 4, 'created': '2022-11-24 14:04:15.000000000', 'files': ['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8175ee852f00cef79dc9b25d80d31b53af4b852', 'message': 'Use a generic playbook to run custom tasks\n\nThe entrypoint must replace the environment variables in the\nstandalone-playbook.yaml generic playbook so arbitrary roles\nand tasks can be run inside the ansible-runner container.\n\nRelated with https://review.opendev.org/c/openstack/tripleo-ansible/+/865309\n\nChange-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7\n'}]",2,865308,c8175ee852f00cef79dc9b25d80d31b53af4b852,15,5,4,32968,,,0,"Use a generic playbook to run custom tasks

The entrypoint must replace the environment variables in the
standalone-playbook.yaml generic playbook so arbitrary roles
and tasks can be run inside the ansible-runner container.

Related with https://review.opendev.org/c/openstack/tripleo-ansible/+/865309

Change-Id: If9af1257f0600c9ab1529fdcb985c08525cf8ef7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/865308/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/tripleo-ansible-ee/tripleo_entrypoint.sh', 'container-images/kolla/tripleo-ansible-ee/extravars', 'container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml']",3,a3ae645d9b0a521a29da5a398fcce45fc4f3080c,,- run: >- cp /usr/share/openstack-tripleo-common-containers/container-images/kolla/tripleo-ansible-ee/extravars /runner/env/extravars && chmod 777 /runner/env/extravars,,8,0
openstack%2Fnetworking-sfc~master~I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b,openstack/networking-sfc,master,I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b,Cleanup tox.ini,MERGED,2022-11-29 11:08:31.000000000,2022-11-29 16:38:12.000000000,2022-11-29 16:37:01.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:08:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f3de0806c8bac71605edab30fffefee0380edf1f', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b\n'}]",0,865982,f3de0806c8bac71605edab30fffefee0380edf1f,8,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: I00afb790b8ec9a9ef177d12bec3e6be4b4ea992b
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/82/865982/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f3de0806c8bac71605edab30fffefee0380edf1f,cleanup-tox,,install_command = pip install {opts} {packages},0,1
openstack%2Fopenstack-ansible-os_neutron~master~I1a0c1b5a125c72635efc89c9763aa41bfb503a3f,openstack/openstack-ansible-os_neutron,master,I1a0c1b5a125c72635efc89c9763aa41bfb503a3f,Allow to set dnsmasq configuration options,MERGED,2022-11-17 11:17:21.000000000,2022-11-29 16:20:09.000000000,2022-11-29 16:18:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-17 11:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a475446dbd17c8cd3d5299d076127bfac1ce3794', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 2, 'created': '2022-11-22 09:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ebcc9827aebd145d247de8dbcca882d855d6b1f8', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 3, 'created': '2022-11-23 12:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/af75464657d5fc26b6a79ce6848468b946e641ea', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}, {'number': 4, 'created': '2022-11-23 14:20:18.000000000', 'files': ['releasenotes/notes/neutron-dhcp-config-list-3e9354e5da138b53.yaml', 'templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2d53620286fb139ffe7e292907c1935a29d20c02', 'message': 'Allow to set dnsmasq configuration options\n\nThis is useful to work around\nhttps://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting\n""no-negcache"" into neutron_dhcp_config_list.\n\nChange-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f\n'}]",5,864872,2d53620286fb139ffe7e292907c1935a29d20c02,21,3,4,31792,,,0,"Allow to set dnsmasq configuration options

This is useful to work around
https://bugs.launchpad.net/ubuntu/+source/dnsmasq/+bug/1974230 by setting
""no-negcache"" into neutron_dhcp_config_list.

Change-Id: I1a0c1b5a125c72635efc89c9763aa41bfb503a3f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/864872/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/dnsmasq-neutron.conf.j2', 'defaults/main.yml']",2,a475446dbd17c8cd3d5299d076127bfac1ce3794,dnsmasq-options,# Dnsmasq has furthermore some options in its configuration that are not # key/value pairs but just options. A deployer can configure those with this # list: neutron_dhcp_config_list: [] ,,8,0
openstack%2Fneutron-dynamic-routing~master~Ib1406e3c3c394765e289c36b0f3abccc36db467f,openstack/neutron-dynamic-routing,master,Ib1406e3c3c394765e289c36b0f3abccc36db467f,Cleanup tox.ini,MERGED,2022-11-29 11:10:32.000000000,2022-11-29 15:27:06.000000000,2022-11-29 15:25:55.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:10:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c5a2214b4af66f43f24ee235871073621f30c22c', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: Ib1406e3c3c394765e289c36b0f3abccc36db467f\n'}]",0,865983,c5a2214b4af66f43f24ee235871073621f30c22c,8,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: Ib1406e3c3c394765e289c36b0f3abccc36db467f
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/83/865983/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c5a2214b4af66f43f24ee235871073621f30c22c,cleanup-tox,,install_command =pip install {opts} {packages},0,1
openstack%2Fopenstack-ansible~master~I84066bb25f64d6fc8742caade691495244aa9de3,openstack/openstack-ansible,master,I84066bb25f64d6fc8742caade691495244aa9de3,Do not explicitly define NFS version in mount options,ABANDONED,2022-11-25 18:13:09.000000000,2022-11-29 15:27:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-25 18:13:09.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4125c359e2384da97e6e3ad75c29e1523742f517', 'message': ""Do not explicitly define NFS version in mount options\n\nCurrently our cinder & glance gates are broken[1].\n\nTLDR, we can't define NFS version twice in mount options.\nI see no reason of defining NFS version at all since it can be\nautonegotiated.\n\n[1] https://zuul.opendev.org/t/openstack/build/07862b60e8b64062a432004150f9efbe/log/logs/host/cinder-volume.service.journal-19-33-56.log.txt#6762\n\nChange-Id: I84066bb25f64d6fc8742caade691495244aa9de3\n""}]",2,865705,4125c359e2384da97e6e3ad75c29e1523742f517,6,2,1,32666,,,0,"Do not explicitly define NFS version in mount options

Currently our cinder & glance gates are broken[1].

TLDR, we can't define NFS version twice in mount options.
I see no reason of defining NFS version at all since it can be
autonegotiated.

[1] https://zuul.opendev.org/t/openstack/build/07862b60e8b64062a432004150f9efbe/log/logs/host/cinder-volume.service.journal-19-33-56.log.txt#6762

Change-Id: I84066bb25f64d6fc8742caade691495244aa9de3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/865705/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_nfs.yml.j2'],1,4125c359e2384da97e6e3ad75c29e1523742f517,," nfs_mount_options: noatime,rw,bg,intr,async,timeo=60"," nfs_mount_options: vers=4,nfsvers=4,noatime,rw,bg,intr,async,timeo=60",1,1
openstack%2Fpython-tripleoclient~master~I5080afe3b96d286f3712f80f0e35e75a18b51a21,openstack/python-tripleoclient,master,I5080afe3b96d286f3712f80f0e35e75a18b51a21,Wire-in nova-hw-machine-type-upgrade env,ABANDONED,2022-01-17 12:10:17.000000000,2022-11-29 15:27:00.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 9816}, {'_account_id': 10135}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-17 12:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e3a33f2c1318e3339ed4eadcd6196fb5fb3065a', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-01-17 12:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a6f749d7e96e0cde2ff9e6c5548fa036eb78122b', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-01-19 12:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d49f9a77d9d5741bececb4c9bafe60dcb42650a', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-02-02 23:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bec681765f943360d9e5ee3697798c03b3a6a86b', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-09-20 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38bb222509f954edfb0baaa1fc2f837f6343f2d3', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nMultiple envs are required for mixed-rhel cases.\nThere is changes in defaults of Heat paramters that need\nto be held back while running upgrade prepare. But as there\nis no more upgrade converge step, because of ephmeral Heat\nspecifics, the client hooks would need to remove those\nextra converge env files, whenever required.\n\nIn particular, for a HW machine type in Nova, the converge\nwill need to be run with an extra file to hold back the machine\ntype to a pre-upgrade run (the most recent) value. Later on,\nthe moment you no longer have EL8 nodes (all upgraded) this\nvalue could be removed by some hook in the tripleo client code\n(TBD).\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-09-20 12:40:13.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61b4861cbffa934f990af557bef73492d73c82fb', 'message': 'Wire-in nova-hw-machine-type-upgrade env\n\nMake upgrade envs util taking a list of upgrade envs\nas well. Add an extra upgrade env that pins NovaHWMachineType\nduring upgrade.\n\nMultiple envs are required for mixed-rhel cases.\nThere is changes in defaults of Heat parameters that need\nto be held back while running upgrade prepare. But as there\nis no more upgrade converge step, because of ephemeral Heat\nspecifics, the client hooks would need to remove those\nextra converge env files, whenever required.\n\nIn particular, for a HW machine type in Nova, the converge\nwill need to be run with an extra file to hold back the machine\ntype to a pre-upgrade run (the most recent) value. Later on,\nthe moment you no longer have EL8 nodes (all upgraded) this\nvalue could be removed by some hook in the tripleo client code\n(TBD).\n\nChange-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21\nrelated: rhbz#1946961\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",16,824929,61b4861cbffa934f990af557bef73492d73c82fb,41,11,6,6926,,,0,"Wire-in nova-hw-machine-type-upgrade env

Make upgrade envs util taking a list of upgrade envs
as well. Add an extra upgrade env that pins NovaHWMachineType
during upgrade.

Multiple envs are required for mixed-rhel cases.
There is changes in defaults of Heat parameters that need
to be held back while running upgrade prepare. But as there
is no more upgrade converge step, because of ephemeral Heat
specifics, the client hooks would need to remove those
extra converge env files, whenever required.

In particular, for a HW machine type in Nova, the converge
will need to be run with an extra file to hold back the machine
type to a pre-upgrade run (the most recent) value. Later on,
the moment you no longer have EL8 nodes (all upgraded) this
value could be removed by some hook in the tripleo client code
(TBD).

Change-Id: I5080afe3b96d286f3712f80f0e35e75a18b51a21
related: rhbz#1946961
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/824929/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_upgrade.py']",4,6e3a33f2c1318e3339ed4eadcd6196fb5fb3065a,pin_hw_machine_type, upgrade_templates = constants.UPGRADE_PREPARE_ENV self.upgrade_templates) upgrade_templates = constants.UPGRADE_CONVERGE_ENV, template = constants.UPGRADE_PREPARE_ENV self.template) template = constants.UPGRADE_CONVERGE_ENV,40,14
openstack%2Ftap-as-a-service~master~I936c121d37c2b19da48836607917dccfd50d5b22,openstack/tap-as-a-service,master,I936c121d37c2b19da48836607917dccfd50d5b22,Cleanup tox.ini,MERGED,2022-11-29 11:13:46.000000000,2022-11-29 15:19:42.000000000,2022-11-29 15:19:42.000000000,"[{'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 11:13:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/3b110ff4059f6b2102940f6ddc7feacbd0b71e11', 'message': 'Cleanup tox.ini\n\nFor details see the mail:\nhttps://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html\n\nChange-Id: I936c121d37c2b19da48836607917dccfd50d5b22\n'}]",0,865984,3b110ff4059f6b2102940f6ddc7feacbd0b71e11,7,3,1,8313,,,0,"Cleanup tox.ini

For details see the mail:
https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031343.html

Change-Id: I936c121d37c2b19da48836607917dccfd50d5b22
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/84/865984/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3b110ff4059f6b2102940f6ddc7feacbd0b71e11,cleanup-tox,,install_command = pip install {opts} {packages},0,1
openstack%2Fcharm-nova-cloud-controller~stable%2Ftrain~I248430cd1a9156efab745fe110a39441b503b3a5,openstack/charm-nova-cloud-controller,stable/train,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:26:25.000000000,2022-11-29 14:45:07.000000000,2022-11-29 14:45:07.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8ab85af3820bf98b65edb839a382e15050f0c28f', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:13:47.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/3e22bce2d9432497068785369a4b04e8c814ffdb', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",0,862246,3e22bce2d9432497068785369a4b04e8c814ffdb,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/46/862246/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,8ab85af3820bf98b65edb839a382e15050f0c28f,bug/1992789-stable/train, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~I248430cd1a9156efab745fe110a39441b503b3a5,openstack/charm-nova-cloud-controller,stable/ussuri,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:26:08.000000000,2022-11-29 14:45:05.000000000,2022-11-29 14:45:05.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/de0220b8ecf02c26e27ede89efae9cece0215b82', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:13:07.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b40ea5d3eb65dd6d91f7cf1bdffdfd93705aa256', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862245,b40ea5d3eb65dd6d91f7cf1bdffdfd93705aa256,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/45/862245/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,de0220b8ecf02c26e27ede89efae9cece0215b82,bug/1992789-stable/ussuri, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~stable%2Fvictoria~I248430cd1a9156efab745fe110a39441b503b3a5,openstack/charm-nova-cloud-controller,stable/victoria,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:19.000000000,2022-11-29 14:45:03.000000000,2022-11-29 14:45:03.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/312ac5573868c70e0e9335fdc525ae11b846e832', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:12:20.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e2518f359ee2d4c28bafe4ed6c4e2211e6ad6547', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862243,e2518f359ee2d4c28bafe4ed6c4e2211e6ad6547,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/43/862243/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,312ac5573868c70e0e9335fdc525ae11b846e832,bug/1992789-stable/victoria, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~stable%2Fwallaby~I248430cd1a9156efab745fe110a39441b503b3a5,openstack/charm-nova-cloud-controller,stable/wallaby,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:04.000000000,2022-11-29 14:45:01.000000000,2022-11-29 14:45:01.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/520bca10184bcb176f231139ce5280c6ec38ec71', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:11:11.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/80a19d8b4237fc5514be648ac8f8535aee972998', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",1,862242,80a19d8b4237fc5514be648ac8f8535aee972998,11,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/42/862242/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,520bca10184bcb176f231139ce5280c6ec38ec71,bug/1992789-stable/wallaby, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I248430cd1a9156efab745fe110a39441b503b3a5,openstack/charm-nova-cloud-controller,stable/xena,I248430cd1a9156efab745fe110a39441b503b3a5,In nova_cc_utils.py:resolve_hosts_for: .append -> .add,MERGED,2022-10-24 10:25:47.000000000,2022-11-29 14:44:59.000000000,2022-11-29 14:44:59.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 10:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/14841d5efd9d8617be5c43e240652f6749fa23e1', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}, {'number': 2, 'created': '2022-11-04 09:10:19.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1d7fc0f13742b22cc5e949c08c68800ecbaaeccb', 'message': 'In nova_cc_utils.py:resolve_hosts_for: .append -> .add\n\nThe method was refactored (in part) to use sets to enforce uniqueness of\nthe hosts.  Unfortunately, a list method (.append()) slipped through\nthat should have been converted to .add(). This fixes that error.\n\nChange-Id: I248430cd1a9156efab745fe110a39441b503b3a5\nCloses-Bug: #1992789\n(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)\n'}]",3,862244,1d7fc0f13742b22cc5e949c08c68800ecbaaeccb,14,4,2,20870,,,0,"In nova_cc_utils.py:resolve_hosts_for: .append -> .add

The method was refactored (in part) to use sets to enforce uniqueness of
the hosts.  Unfortunately, a list method (.append()) slipped through
that should have been converted to .add(). This fixes that error.

Change-Id: I248430cd1a9156efab745fe110a39441b503b3a5
Closes-Bug: #1992789
(cherry picked from commit 007f9e33b0f111bcd22aebfa785bb5066832e802)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/44/862244/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,14841d5efd9d8617be5c43e240652f6749fa23e1,bug/1992789-stable/xena, hosts.add(private_address.lower()), hosts.append(private_address.lower()),23,1
openstack%2Fcharm-neutron-api~stable%2Ftrain~I1596352db38bb423019b7d15efe5a217730d8066,openstack/charm-neutron-api,stable/train,I1596352db38bb423019b7d15efe5a217730d8066,"Pin importlib-metadata, -resources for py37",MERGED,2022-10-05 12:49:06.000000000,2022-11-29 14:35:38.000000000,2022-11-29 14:35:38.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 12:49:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6fddfaac8a7d5103695fba1c6b609180234c108d', 'message': 'Pin importlib-metadata, -resources for py37\n\nimportlib-metadata 5.0.0 breaks compatibility with setuptools that is\npinned in the train track for bionic; thus this pins allows the py37\ntests to pass.\n\nChange-Id: I1596352db38bb423019b7d15efe5a217730d8066\n'}]",1,860430,6fddfaac8a7d5103695fba1c6b609180234c108d,7,3,1,20870,,,0,"Pin importlib-metadata, -resources for py37

importlib-metadata 5.0.0 breaks compatibility with setuptools that is
pinned in the train track for bionic; thus this pins allows the py37
tests to pass.

Change-Id: I1596352db38bb423019b7d15efe5a217730d8066
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/30/860430/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6fddfaac8a7d5103695fba1c6b609180234c108d,pin-importlib-metadata-stable/train,importlib-metadata<5.0.0; python_version < '3.8' importlib-resources<5.8.0; python_version < '3.8',,2,0
openstack%2Ftripleo-common~master~Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,openstack/tripleo-common,master,Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018,Align tss user config with qemu and nova use cases,MERGED,2022-11-21 14:44:03.000000000,2022-11-29 14:33:10.000000000,2022-11-29 14:32:03.000000000,"[{'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-21 14:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f7ffe8bab962016f45be36842b19e98312d7cce', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-21 15:13:35.000000000', 'files': ['container-images/kolla/base/uid_gid_manage.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7981fdd68a9bfa52e82be42d8e1b1a24484bf928', 'message': 'Align tss user config with qemu and nova use cases\n\nIn order to fix swtpm logs access permissions and to use the same\napproach among Compute specific users (qemu, tss, libvirt, nova):\n\n* Add nova to tss group for swtpm tool to function in virtqemud\n  when running w/o root access.\n* Change tss user uid/gid/home dir config in TCIB similarly to qemu,\n  for consistency reasons.\n\nThere is no upgrade impact as vTPM had never been technically released\nin the layered downstream product.\n\nRelated: rhbz#1782128\n\nChange-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",7,865139,7981fdd68a9bfa52e82be42d8e1b1a24484bf928,23,9,2,6926,,,0,"Align tss user config with qemu and nova use cases

In order to fix swtpm logs access permissions and to use the same
approach among Compute specific users (qemu, tss, libvirt, nova):

* Add nova to tss group for swtpm tool to function in virtqemud
  when running w/o root access.
* Change tss user uid/gid/home dir config in TCIB similarly to qemu,
  for consistency reasons.

There is no upgrade impact as vTPM had never been technically released
in the layered downstream product.

Related: rhbz#1782128

Change-Id: Id242a20b7f1193ca2d9a0d7508e12f0f68cfc018
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/865139/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tss_user_id-604d300610a66488.yaml', 'container-images/kolla/base/uid_gid_manage.sh']",2,7f7ffe8bab962016f45be36842b19e98312d7cce,swtpm_logs,"_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,tss,kolla'_SUPPORTED_USERS['tss']='tss 59 59'","_SUPPORTED_USERS['nova']='nova 42436 42436 /var/lib/nova qemu,libvirt,kolla'_SUPPORTED_USERS['tss']='tss 42485 42485 /var/lib/tpm kolla'",13,2
openstack%2Fcharm-manila-ganesha~stable%2Ftrain~I4236cb4784062807d53381380d9d161ce2f450ee,openstack/charm-manila-ganesha,stable/train,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),ABANDONED,2022-09-09 10:22:28.000000000,2022-11-29 14:31:14.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-09 10:22:28.000000000', 'files': ['src/reactive/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/255febc466dd156c20df080ae40573b0d885369b', 'message': ""Use hacluster.add_location()\n\nThis change removes the workaround that was needed when the hacluster\ninterface didn't have a method to define colocations.\n\nRelated-Bug: #1880644\nChange-Id: I4236cb4784062807d53381380d9d161ce2f450ee\n(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)\n""}]",1,856694,255febc466dd156c20df080ae40573b0d885369b,5,3,1,12549,,,0,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
(cherry picked from commit f2d9ed37090607676c5c6b54ea797c55e228d2af)
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/94/856694/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/manila_ganesha.py'],1,255febc466dd156c20df080ae40573b0d885369b,bug/1880644," hacluster.add_colocation('ganesha_with_vip', 'inf', ('res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips')) hacluster.add_colocation('manila_with_vip', 'inf', ('res_manila_share_manila_share', 'grp_ganesha_vips'))"," # This is a bit of a nasty hack to ensure that we can colocate the # services to make manila + ganesha colocate. This can be tidied up # once # https://bugs.launchpad.net/charm-interface-hacluster/+bug/1880644 # is resolved import relations.hacluster.interface_hacluster.common as hacluster_common # noqa crm = hacluster_common.CRM() crm.colocation('ganesha_with_vip', 'inf', 'res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips') crm.colocation('manila_with_vip', 'inf', 'res_manila_share_manila_share', 'grp_ganesha_vips') hacluster.manage_resources(crm)",6,16
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Ftrain~I33f16434a11210e1b585b790263abd225862c756,openstack/charm-octavia-diskimage-retrofit,stable/train,I33f16434a11210e1b585b790263abd225862c756,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:12:32.000000000,2022-11-29 14:28:48.000000000,2022-11-29 14:28:48.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:12:32.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/6d74f143ffdf3764b1fde56d2915f69a8d30c831', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I33f16434a11210e1b585b790263abd225862c756\n'}]",2,859663,6d74f143ffdf3764b1fde56d2915f69a8d30c831,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I33f16434a11210e1b585b790263abd225862c756
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/63/859663/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,6d74f143ffdf3764b1fde56d2915f69a8d30c831,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d935a04074740e14feb0b73d485952b2546ae04c"", ""branch"": ""527dd64fc4b9a6b0f8d80a3c2c0b865155050275"", ""branch"": ""fb46dec78d390571753d21876bbba689bbbca9e4"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"", ""branch"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",9,9
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2Ftrain~I9103a86ea05142d3225d95a64a01dc66e4755c47,openstack/charm-neutron-api-plugin-ironic,stable/train,I9103a86ea05142d3225d95a64a01dc66e4755c47,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:10:48.000000000,2022-11-29 14:27:47.000000000,2022-11-29 14:27:47.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:10:48.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/842a1e541abd33fa562050b980d606391601cf28', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I9103a86ea05142d3225d95a64a01dc66e4755c47\n'}]",2,859660,842a1e541abd33fa562050b980d606391601cf28,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I9103a86ea05142d3225d95a64a01dc66e4755c47
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/60/859660/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,842a1e541abd33fa562050b980d606391601cf28,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""da16f317315280269821acb21338018bf0825a5a"", ""branch"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",6,6
openstack%2Fcharm-octavia-dashboard~stable%2Ftrain~I0abf6410ddc3f1f1a546a0e6e3350489fd90edec,openstack/charm-octavia-dashboard,stable/train,I0abf6410ddc3f1f1a546a0e6e3350489fd90edec,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 17:12:00.000000000,2022-11-29 14:25:24.000000000,2022-11-29 14:25:24.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:12:00.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/4273be24bab1e3a59c4cfeb8e131c59948e6866a', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I0abf6410ddc3f1f1a546a0e6e3350489fd90edec\n'}]",2,859662,4273be24bab1e3a59c4cfeb8e131c59948e6866a,9,3,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I0abf6410ddc3f1f1a546a0e6e3350489fd90edec
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/62/859662/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,4273be24bab1e3a59c4cfeb8e131c59948e6866a,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06031deac8b37e912dc69f1c6d2e2634696d2547"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fcharm-neutron-api-plugin-arista~stable%2Ftrain~I5017e5dbcdebff6408305d162ee31a44e4ea1ebf,openstack/charm-neutron-api-plugin-arista,stable/train,I5017e5dbcdebff6408305d162ee31a44e4ea1ebf,Pin build.lock for all layers to the commit hash,NEW,2022-09-28 17:10:21.000000000,2022-11-29 14:23:54.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 17:10:21.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/4af93f048f0b245bf67f4d0c72aecbe4911be193', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5017e5dbcdebff6408305d162ee31a44e4ea1ebf\n'}]",1,859659,4af93f048f0b245bf67f4d0c72aecbe4911be193,4,2,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I5017e5dbcdebff6408305d162ee31a44e4ea1ebf
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/59/859659/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,4af93f048f0b245bf67f4d0c72aecbe4911be193,train-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""da16f317315280269821acb21338018bf0825a5a"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fkolla-ansible~master~Iafa24db06ad46bcfe250451ed98bc3c48d8a5138,openstack/kolla-ansible,master,Iafa24db06ad46bcfe250451ed98bc3c48d8a5138,Removal of dockerSDK check for other container engines,MERGED,2022-11-28 10:09:52.000000000,2022-11-29 14:01:40.000000000,2022-11-29 14:00:35.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-11-28 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ed82b486cb602d86e7aab2cfde383b1e1a6bbf2', 'message': 'Small fixes\n\nTypo fix and adding condition on not checking docket SDK version\nwhen container engine is not docker\n\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}, {'number': 2, 'created': '2022-11-28 10:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f6b341836013f46aca8e94ce6756ec5e9ab7b30', 'message': 'Small fixes\n\nTypo fix and adding condition on not checking docker SDK version\nwhen container engine is not docker\n\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}, {'number': 3, 'created': '2022-11-28 12:11:11.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/swift/tasks/reconfigure.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/652b9cfe0ef2e5d7a950bde8580a18d80bb6f512', 'message': 'Removal of dockerSDK check for other container engines\n\nTypo fix and adding condition on not checking docker SDK version\nwhen container engine is not docker\n\nThis is a followup to Ic30b67daa2e215524096ad1f4385c569e3d41b95\nSigned-off-by: Ivan Halomi <i.halomi@partner.samsung.com>\nChange-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138\n'}]",8,865817,652b9cfe0ef2e5d7a950bde8580a18d80bb6f512,14,3,3,35105,,,0,"Removal of dockerSDK check for other container engines

Typo fix and adding condition on not checking docker SDK version
when container engine is not docker

This is a followup to Ic30b67daa2e215524096ad1f4385c569e3d41b95
Signed-off-by: Ivan Halomi <i.halomi@partner.samsung.com>
Change-Id: Iafa24db06ad46bcfe250451ed98bc3c48d8a5138
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/865817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/swift/tasks/reconfigure.yml']",2,7ed82b486cb602d86e7aab2cfde383b1e1a6bbf2,," command: ""{{ kolla_container_engine }} exec -u root {{ item.name }} /usr/local/bin/kolla_set_configs --check"""," command: ""{{ kolla_container_engine }}exec -u root {{ item.name }} /usr/local/bin/kolla_set_configs --check""",4,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I5290f65965164a55594e2ec9fd1022ee9320397b,openstack/tripleo-ansible,stable/train,I5290f65965164a55594e2ec9fd1022ee9320397b,[Train Only] Delete duplicate filter definition.,ABANDONED,2022-11-29 10:58:44.000000000,2022-11-29 13:52:48.000000000,,"[{'_account_id': 6816}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-29 10:58:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5323b8def1e8aa7e7145b763beba93068cf414df', 'message': ""[Train Only] Delete duplicate filter definition.\n\nThis code creates filters that are duplicate of those created in\ntripleo_upgrade.py[1]. This duplication is a source of error if\npatches are created for one and not the other.\n\nWe remove the one here and let the one in tripleo-upgrade be the\nsource of truth as those filters are specific to tripleo-upgrade.\n\nTrain only because that file doesn't exist in later version.\n\n[1] https://opendev.org/openstack/tripleo-upgrade/src/branch/stable/wallaby/filter_plugins/tripleo_upgrade.py#L1\n\nRelated-Bug: #1994081\n\nChange-Id: I5290f65965164a55594e2ec9fd1022ee9320397b\n""}]",1,865977,5323b8def1e8aa7e7145b763beba93068cf414df,4,2,1,8297,,,0,"[Train Only] Delete duplicate filter definition.

This code creates filters that are duplicate of those created in
tripleo_upgrade.py[1]. This duplication is a source of error if
patches are created for one and not the other.

We remove the one here and let the one in tripleo-upgrade be the
source of truth as those filters are specific to tripleo-upgrade.

Train only because that file doesn't exist in later version.

[1] https://opendev.org/openstack/tripleo-upgrade/src/branch/stable/wallaby/filter_plugins/tripleo_upgrade.py#L1

Related-Bug: #1994081

Change-Id: I5290f65965164a55594e2ec9fd1022ee9320397b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/865977/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/filter/tripleo_inventory.py'],1,5323b8def1e8aa7e7145b763beba93068cf414df,,,"#!/usr/bin/env python # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import six import sys import yaml def to_inventory_hostmap(data): # Flattens inventory to a group->host mapping if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data group_host_map = {} todo = collections.deque(inventory.keys()) while todo: group = todo.popleft() if 'hosts' in inventory[group]: group_host_map[group] = list(inventory[group]['hosts']) else: if 'children' in inventory[group]: for child in inventory[group]['children']: # Children have not all been flattened yet # so postpone flattening this group if child in todo: todo.append(group) break else: group_host_map[group] = [] for child in inventory[group]['children']: group_host_map[group] += group_host_map[child] group_host_map[group].sort() return group_host_map def to_inventory_rolemap(data): # Falttens inventory to a group->role mapping if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data group_role_map = {} todo = collections.deque(inventory.keys()) while todo: group = todo.popleft() if 'tripleo_role_name' in inventory[group].get('vars', {}): group_role_map[group] = [inventory[group]['vars']['tripleo_role_name']] else: if 'children' in inventory[group]: for child in inventory[group]['children']: # Children have not all been flattened yet # so postpone flattening this group if child in todo: todo.append(group) break else: group_role_map[group] = [] for child in inventory[group]['children']: group_role_map[group] += group_role_map[child] group_role_map[group].sort() return group_role_map def to_inventory_roles(data): # Returns list of tripleo roles in inventory if isinstance(data, six.string_types): inventory = yaml.safe_load(data) else: inventory = data roles = {} for group, group_data in six.iteritems(inventory): group_role = group_data.get('vars', {}).get('tripleo_role_name', None) if group_role is not None: roles[group_role] = True return sorted(list(roles)) class FilterModule(object): def filters(self): return { 'to_inventory_hostmap': to_inventory_hostmap, 'to_inventory_rolemap': to_inventory_rolemap, 'to_inventory_roles': to_inventory_roles, } ",0,104
openstack%2Fkolla-ansible~master~I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f,openstack/kolla-ansible,master,I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f,ovn: Break out role into ovn-db and ovn-controller roles,MERGED,2022-06-27 11:38:56.000000000,2022-11-29 13:48:52.000000000,2022-11-29 13:46:27.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-27 11:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c1daff5536fa106a489b78e82c3df4664795066', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 2, 'created': '2022-06-27 12:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d421f3eb9048f55dac68eb487054f2d1d6bd5933', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 3, 'created': '2022-06-27 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f614ca3065a85b0fe48ad792d377087c5dec4bbd', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 4, 'created': '2022-06-27 16:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a94b599ebf06e8fd6e89babfd2ceea0015a4ab9c', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 5, 'created': '2022-06-28 11:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a14fb6af25b4561b6b0d03015b5c9718dbcaa25', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 6, 'created': '2022-06-28 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/028aa1117b4c81674f177d57c87a8fcd300e6054', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 7, 'created': '2022-06-28 14:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4e464e8a241ec30a953a38511c5a3ecc4422a84', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 8, 'created': '2022-07-29 14:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58c55d578d1410407d348b0227b63cf34ff1640b', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 9, 'created': '2022-07-29 14:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e970a30fc1e9e6cf37c7ea8124f3f37c7bb1b75b', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 10, 'created': '2022-08-01 11:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46461c0b1fc65452b2fb473deba29633485de708', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 11, 'created': '2022-08-01 14:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80187416cdb1f3eb6096583ebc56d70f77e7bda8', 'message': 'ovn: Break out role into ovn-db and ovn-controller roles\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n'}, {'number': 12, 'created': '2022-08-22 16:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ca099f959bbc003b006946ca2f8dd0003559e91', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 13, 'created': '2022-08-22 16:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfe0f30fe888f1f0bfef4c9f22e48582220b8bd8', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 14, 'created': '2022-10-05 09:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e620f7ed6a83fa1ef181e01614fbf3212182da3b', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 15, 'created': '2022-10-18 12:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c16b281b56bb6b33d2fc90a6cfa7df83bed66ebb', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 16, 'created': '2022-10-18 13:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d4301493ecc3edc1de0550f508d1a917abbc960', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 17, 'created': '2022-11-15 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77fae36de937634a50d589feef9bb61db58aff31', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 18, 'created': '2022-11-23 09:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9edf36b9ee342ffad7612007e82b5a4dfb06d51f', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\nAccording to OVN Upgrade docs [1], ovn-controller should\nbe dealt with first - let's apply this to deploy as well,\nsince OVN versions can be changed in a cycle.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 19, 'created': '2022-11-23 09:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/611cd44d64ebdb4bb274a54b789bf5be2fa2ae14', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}, {'number': 20, 'created': '2022-11-28 12:52:32.000000000', 'files': ['ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/config.yml', 'ansible/roles/ovn-db/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/tasks/pull.yml', 'ansible/site.yml', 'ansible/roles/ovn-db/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/upgrade.yml', 'ansible/roles/ovn-controller/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/handlers/main.yml', 'ansible/roles/ovn-db/tasks/precheck.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/ovn-controller/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/reconfigure.yml', 'ansible/roles/ovn-db/tasks/pull.yml', 'ansible/roles/ovn-controller/vars/main.yml', 'ansible/roles/ovn-db/tasks/stop.yml', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/vars/main.yml', 'ansible/roles/ovn-controller/tasks/precheck.yml', 'ansible/roles/ovn-db/templates/ovn-northd.json.j2', 'ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'releasenotes/notes/ovn-controller-ecb49695dc377e88.yaml', 'ansible/roles/ovn-controller/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/setup-ovs.yml', 'ansible/roles/ovn-db/tasks/main.yml', 'ansible/roles/ovn-controller/templates/ovn-controller.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'zuul.d/base.yaml', 'ansible/roles/ovn-controller/tasks/upgrade.yml', 'ansible/roles/ovn-db/tasks/config.yml', 'ansible/roles/ovn-controller/tasks/main.yml', 'ansible/roles/ovn-controller/tasks/stop.yml', 'ansible/roles/ovn-controller/defaults/main.yml', 'ansible/roles/ovn-controller/tasks/reconfigure.yml', 'ansible/roles/ovn-db/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63a7968d8d968663c4a19be164a0bdfb641491ea', 'message': ""ovn: Break out role into ovn-db and ovn-controller roles\n\nInstead of handling everything in one role - let's have small\nfit-for-purpose roles, because in reality these are two hosts\nroles and performance should be better with this approach.\n\n[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html\n\nChange-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f\n""}]",47,847769,63a7968d8d968663c4a19be164a0bdfb641491ea,79,6,20,22629,,,0,"ovn: Break out role into ovn-db and ovn-controller roles

Instead of handling everything in one role - let's have small
fit-for-purpose roles, because in reality these are two hosts
roles and performance should be better with this approach.

[1]: https://docs.ovn.org/en/latest/intro/install/ovn-upgrades.html

Change-Id: I8f9dbe9d950323f16375ad5e1dbaedfb1be6585f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/847769/20 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn-controller/tasks/bootstrap.yml', 'ansible/roles/ovn-db/tasks/deploy.yml', 'ansible/roles/ovn-controller/tasks/config.yml', 'ansible/roles/ovn-db/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/tasks/pull.yml', 'ansible/site.yml', 'ansible/roles/ovn-db/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/upgrade.yml', 'ansible/roles/ovn-controller/tasks/deploy-containers.yml', 'ansible/roles/ovn-controller/handlers/main.yml', 'ansible/roles/ovn-db/tasks/precheck.yml', 'ansible/roles/ovn-controller/tasks/check-containers.yml', 'ansible/roles/ovn-db/tasks/reconfigure.yml', 'ansible/roles/ovn-db/tasks/pull.yml', 'ansible/roles/ovn-controller/vars/main.yml', 'ansible/roles/ovn-db/tasks/stop.yml', 'ansible/roles/ovn-db/defaults/main.yml', 'ansible/roles/ovn-db/tasks/check.yml', 'ansible/roles/ovn-db/tasks/bootstrap.yml', 'ansible/roles/ovn-db/vars/main.yml', 'ansible/roles/ovn-controller/tasks/precheck.yml', 'ansible/roles/ovn-db/templates/ovn-northd.json.j2', 'ansible/roles/ovn-db/templates/ovn-sb-db.json.j2', 'ansible/roles/ovn-controller/tasks/deploy.yml', 'ansible/roles/ovn-db/tasks/main.yml', 'ansible/roles/ovn-controller/templates/ovn-controller.json.j2', 'ansible/roles/ovn-db/templates/ovn-nb-db.json.j2', 'ansible/roles/ovn-controller/tasks/upgrade.yml', 'ansible/roles/ovn-db/tasks/config.yml', 'ansible/roles/ovn-controller/tasks/main.yml', 'ansible/roles/ovn-controller/tasks/stop.yml', 'ansible/roles/ovn-controller/defaults/main.yml', 'ansible/roles/ovn-controller/tasks/check.yml', 'ansible/roles/ovn-controller/tasks/reconfigure.yml', 'ansible/roles/ovn-db/handlers/main.yml']",35,1c1daff5536fa106a489b78e82c3df4664795066,," service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"" service: ""{{ ovn_db_services[service_name] }}"""," service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}"" service: ""{{ ovn_services[service_name] }}""",80,24
openstack%2Fproject-config~master~I92bc12b8f712e28962d24dd6474cfce22b81222c,openstack/project-config,master,I92bc12b8f712e28962d24dd6474cfce22b81222c,Ensure NetworkManager doesn't override /etc/resolv.conf,MERGED,2022-11-23 14:12:54.000000000,2022-11-29 13:44:53.000000000,2022-11-29 13:19:44.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 14:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0ed80fc09880081148438d04ec0137e9d1e0498f', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}, {'number': 2, 'created': '2022-11-24 08:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e919a9b1171efe98aa4051700a63aa5318c63e75', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}, {'number': 3, 'created': '2022-11-28 08:25:31.000000000', 'files': ['nodepool/elements/nodepool-base/finalise.d/89-boot-settings'], 'web_link': 'https://opendev.org/openstack/project-config/commit/368bb77ee36d3bdae42cf77e57cfaa2718f383f4', 'message': ""Ensure NetworkManager doesn't override /etc/resolv.conf\n\nUntil now, whenever NetworkManager gets reloaded/restarted/lease\nrefresh, it would override the /etc/resolv.conf file with the\nnameservers and related it gets from the network.\n\nThis patch ensures this won't happen ever again.\n\nChange-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c\n""}]",6,865433,368bb77ee36d3bdae42cf77e57cfaa2718f383f4,17,4,3,28223,,,0,"Ensure NetworkManager doesn't override /etc/resolv.conf

Until now, whenever NetworkManager gets reloaded/restarted/lease
refresh, it would override the /etc/resolv.conf file with the
nameservers and related it gets from the network.

This patch ensures this won't happen ever again.

Change-Id: I92bc12b8f712e28962d24dd6474cfce22b81222c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/865433/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/finalise.d/89-boot-settings', 'nodepool/elements/nodepool-base/install.d/92-venv-crudini']",2,0ed80fc09880081148438d04ec0137e9d1e0498f,unbound/networkmanager,"#!/bin/bash # Copyright (c) 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # dib-lint: disable=setu setpipefail if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -e python3 -m venv /usr/crudini-env if [[ ${DIB_RELEASE} == 'xenial' ]]; then # The pip on xenial can't figure out it shouldn't install # the latest pip; this is the last to support 3.5 /usr/crudini-env/bin/pip install --upgrade pip==20.3.4 else /usr/crudini-env/bin/pip install --upgrade pip fi /usr/crudini-env/bin/pip install crudini ",,35,0
openstack%2Fovn-bgp-agent~master~If614e421bc9739ff9891c62353a768bd9c1fe309,openstack/ovn-bgp-agent,master,If614e421bc9739ff9891c62353a768bd9c1fe309,Change strip by split when suitable,ABANDONED,2022-11-29 08:14:27.000000000,2022-11-29 13:37:12.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 08:14:27.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d8f982b8e901953414f5172d92e7a4b93241943d', 'message': 'Change strip by split when suitable\n\nChange-Id: If614e421bc9739ff9891c62353a768bd9c1fe309\n'}]",3,865640,d8f982b8e901953414f5172d92e7a4b93241943d,6,2,1,23567,,,0,"Change strip by split when suitable

Change-Id: If614e421bc9739ff9891c62353a768bd9c1fe309
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/40/865640/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py']",2,d8f982b8e901953414f5172d92e7a4b93241943d,," mock_p.assert_called_once_with(port.strip(""cr-lrp-""))"," mock_p.assert_called_once_with(port.split(""cr-lrp-"")[1])",3,3
openstack%2Frequirements~master~I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08,openstack/requirements,master,I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08,update constraint for neutron-lib to new release 3.2.0,ABANDONED,2022-11-29 09:16:27.000000000,2022-11-29 13:35:13.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 09:16:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ddfd68f95a8badae43df5137adfd74164603fee', 'message': 'update constraint for neutron-lib to new release 3.2.0\n\nnew version 3.2.0\n\nChange-Id: I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08\n'}]",2,865963,6ddfd68f95a8badae43df5137adfd74164603fee,6,2,1,33607,,,0,"update constraint for neutron-lib to new release 3.2.0

new version 3.2.0

Change-Id: I4acb7dcd12816b308b1b6b3bda5a2dc553d66a08
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/865963/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6ddfd68f95a8badae43df5137adfd74164603fee,bug-1986969,neutron-lib===3.2.0,neutron-lib===3.1.0,1,1
openstack%2Fopenstack-zuul-jobs~master~I201eba6ec6db9f0caaaabb0a3d15b0894125c7d6,openstack/openstack-zuul-jobs,master,I201eba6ec6db9f0caaaabb0a3d15b0894125c7d6,Add some output to the `find' command,NEW,2022-11-23 10:03:57.000000000,2022-11-29 13:30:26.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 10:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/339caac0c1e6fab25e1b9cf29f1ef3d744f61739', 'message': 'Add some output to the `find\' command\n\nThis, alongside the ""df -h"" output, may provide some useful information\nabout the /opt content (not as precise as a `du -shxc /opt\', but at\nleast it\'s already something).\n\nThe goal here is to understand the actual impact of this task.\n\nChange-Id: I201eba6ec6db9f0caaaabb0a3d15b0894125c7d6\n'}, {'number': 2, 'created': '2022-11-29 13:22:04.000000000', 'files': ['roles/configure-swap/tasks/ephemeral.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/30e7116e408f7fd79b3182007bce265cc4e5629d', 'message': 'Add some output to the `find\' command\n\nThis, alongside the ""df -h"" output, may provide some useful information\nabout the /opt content (not as precise as a `du -shxc /opt\', but at\nleast it\'s already something). It can then be compared with the\nexisting `df -h\' information located in the zuul-info/ directory. \n\nThe goal here is to understand the actual impact of this task.\n\nChange-Id: I201eba6ec6db9f0caaaabb0a3d15b0894125c7d6\n'}]",1,865383,30e7116e408f7fd79b3182007bce265cc4e5629d,7,2,2,28223,,,0,"Add some output to the `find' command

This, alongside the ""df -h"" output, may provide some useful information
about the /opt content (not as precise as a `du -shxc /opt', but at
least it's already something). It can then be compared with the
existing `df -h' information located in the zuul-info/ directory. 

The goal here is to understand the actual impact of this task.

Change-Id: I201eba6ec6db9f0caaaabb0a3d15b0894125c7d6
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/83/865383/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/configure-swap/tasks/ephemeral.yaml'],1,339caac0c1e6fab25e1b9cf29f1ef3d744f61739,ephemeral/mount-mv, register: moving_opt df -h time find /opt/ -mindepth 1 -maxdepth 1 -print -exec mv {} /mnt/ \;- name: Output data from old /opt debug: var: moving_opt , find /opt/ -mindepth 1 -maxdepth 1 -exec mv {} /mnt/ \;,7,1
openstack%2Fproject-config~master~I1dc5e5ed9f93ad40f2089891c63b530994b290f2,openstack/project-config,master,I1dc5e5ed9f93ad40f2089891c63b530994b290f2,Use kolla.config for kolla-ansible in gerrit,MERGED,2022-11-25 13:35:45.000000000,2022-11-29 12:59:03.000000000,2022-11-29 12:50:42.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-11-25 13:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aba207ace7a5317ec0965b37e083c6e81485881f', 'message': 'Use kolla-core group for kolla-ansible in gerrit\n\nThe kolla project has decided that it no longer needs to have a\ndedicated kolla-ansible-core group that is different from the kolla-core\ngroup. Membership between the two groups has already been synced, so\nthis change is essentially a no-op, but allows us to only maintain a\nsingle group going forward.\n\n[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html\n\nChange-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2\n'}, {'number': 2, 'created': '2022-11-28 14:59:23.000000000', 'files': ['gerrit/acls/openstack/kolla-ansible.config', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/98c69f6fa9402a187ca30c29c3140e63a5050a5f', 'message': 'Use kolla.config for kolla-ansible in gerrit\n\nThe kolla project has decided that it no longer needs to have a\ndedicated kolla-ansible-core group that is different from the kolla-core\ngroup. Membership between the two groups has already been synced, so\nthis change is essentially a no-op, but allows us to only maintain a\nsingle group going forward.\n\n[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html\n\nChange-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2\n'}]",2,865686,98c69f6fa9402a187ca30c29c3140e63a5050a5f,14,4,2,13252,,,0,"Use kolla.config for kolla-ansible in gerrit

The kolla project has decided that it no longer needs to have a
dedicated kolla-ansible-core group that is different from the kolla-core
group. Membership between the two groups has already been synced, so
this change is essentially a no-op, but allows us to only maintain a
single group going forward.

[0] https://meetings.opendev.org/meetings/kolla/2022/kolla.2022-11-23-14.00.log.html

Change-Id: I1dc5e5ed9f93ad40f2089891c63b530994b290f2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/865686/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/kolla-ansible.config'],1,aba207ace7a5317ec0965b37e083c6e81485881f,merge-kolla-groups,abandon = group kolla-core editHashtags = group kolla-core label-Backport-Candidate = -2..+2 group kolla-corelabel-Code-Review = -2..+2 group kolla-core label-Review-Priority = -1..+2 group kolla-core label-Workflow = -1..+1 group kolla-core toggleWipState = group kolla-core,abandon = group kolla-ansible-core editHashtags = group kolla-ansible-core label-Backport-Candidate = -2..+2 group kolla-ansible-corelabel-Code-Review = -2..+2 group kolla-ansible-core label-Review-Priority = -1..+2 group kolla-ansible-core label-Workflow = -1..+1 group kolla-ansible-core toggleWipState = group kolla-ansible-core,7,7
openstack%2Fbarbican~master~Ib01714e6462470dd5c3f6f06b52a3afeff573696,openstack/barbican,master,Ib01714e6462470dd5c3f6f06b52a3afeff573696,Remove six,MERGED,2022-05-19 02:43:57.000000000,2022-11-29 12:50:50.000000000,2022-11-29 12:49:48.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-19 02:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ab61ee526c7e5a9348074115c317487705db76c4', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 2, 'created': '2022-05-19 02:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/186b632f69ca8243c887b29b949bb4993530dbc2', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 3, 'created': '2022-05-19 04:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/7bd53dcfff3a14381a49a50932512b0baa70f183', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 4, 'created': '2022-07-30 06:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5c5e94be28e27bee9585fc9b5695c1e7854dffd6', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}, {'number': 5, 'created': '2022-10-28 12:02:30.000000000', 'files': ['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6d34865522406d3e9c279f011d414e68a22a04bf', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nAlso, This removes B314 test from documentation because its actual\nimplementation was already removed[1].\n\n[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5\n\nChange-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696\n'}]",0,842455,6d34865522406d3e9c279f011d414e68a22a04bf,17,5,5,9816,,,0,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Also, This removes B314 test from documentation because its actual
implementation was already removed[1].

[1] 9dbeefb55eb55a9baa481ec6d6293527d46e04a5

Change-Id: Ib01714e6462470dd5c3f6f06b52a3afeff573696
",git fetch https://review.opendev.org/openstack/barbican refs/changes/55/842455/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/common/test_utils.py', 'barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/objects/test_ovo_project_secret_store.py', 'barbican/cmd/pkcs11_key_generation.py', 'barbican/common/validators.py', 'barbican/tests/api/test_transport_keys_resource.py', 'barbican/plugin/crypto/pkcs11.py', 'functionaltests/common/client.py', 'barbican/hacking/checks.py', 'requirements.txt', 'barbican/api/__init__.py', 'barbican/model/models.py', 'barbican/tests/common/test_validators.py', 'barbican/tests/plugin/crypto/test_crypto.py', 'barbican/tests/utils.py', 'barbican/tests/queue/test_server.py', 'functionaltests/api/v1/behaviors/base_behaviors.py', 'barbican/plugin/dogtag.py', 'barbican/api/controllers/acls.py', 'barbican/api/controllers/transportkeys.py', 'barbican/plugin/util/mime_types.py', 'barbican/tests/test_middleware_auth.py', 'barbican/common/utils.py', 'functionaltests/api/v1/functional/test_secrets.py', 'barbican/api/controllers/versions.py', 'barbican/tests/model/repositories/test_repositories_secret_consumers.py', 'barbican/plugin/castellan_secret_store.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py', 'barbican/plugin/util/translations.py', 'barbican/cmd/pkcs11_migrate_kek_signatures.py', 'barbican/tests/model/repositories/test_repositories.py', 'functionaltests/api/base.py', 'barbican/plugin/crypto/simple_crypto.py', 'barbican/tests/common/test_quota.py', 'barbican/tests/tasks/test_resources.py', 'barbican/tests/plugin/interface/test_secret_store.py', 'barbican/api/controllers/secrets.py', 'barbican/objects/fields.py', 'barbican/tests/plugin/crypto/test_p11_crypto.py']",39,ab61ee526c7e5a9348074115c317487705db76c4,remove-six,"import builtins with mock.patch(builtins.__name__ + '.open',","import six with mock.patch(six.moves.builtins.__name__ + '.open',",121,162
openstack%2Fnova~stable%2Fwallaby~Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,openstack/nova,stable/wallaby,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2022-11-07 16:57:01.000000000,2022-11-29 12:02:39.000000000,2022-11-29 12:01:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 16:57:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43c0e40d288960760a6eaad05cb9670e01ef40d0', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)\n(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)\n'}]",6,863901,43c0e40d288960760a6eaad05cb9670e01ef40d0,28,3,1,34860,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)
(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)
(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)
(cherry picked from commit 15502ddedc23e6591ace4e73fa8ce5b18b5644b0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/863901/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",3,43c0e40d288960760a6eaad05cb9670e01ef40d0,bug/1628606," self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host'])"," # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host'])",63,6
openstack%2Fhorizon~stable%2Fxena~I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10,openstack/horizon,stable/xena,I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10,Get ports directly instead of via loop,MERGED,2022-02-25 22:06:57.000000000,2022-11-29 12:01:51.000000000,2022-11-29 12:00:48.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-25 22:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/85132116cf6feb259656e8f349e070cf6635da95', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 2, 'created': '2022-04-06 11:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5387ae5b68f5921249eb086360e0d0b75f7ad38d', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 3, 'created': '2022-04-06 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d6c44966e20f2f012b8d594f7a7fd0d0ea6ec53', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 4, 'created': '2022-07-22 13:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/dbfa542237a6a4eeea2154d72d0fdd18de6a3743', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 5, 'created': '2022-07-22 14:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/12594fa717570e88442490b15c6aeb83564f6c53', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 6, 'created': '2022-07-23 22:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5653682193912190d53ba38f4fca374204437176', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}, {'number': 7, 'created': '2022-07-23 22:53:18.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/instances/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1561fcce55371c6b2d93a31b83ca533dea82f746', 'message': 'Get ports directly instead of via loop\n\nIn order to get a list of available ports, the current implementation\nof the form code in `project/instances/attach_interface` loops through\nthe available networks in the project and requests a list of ports for\neach via the Neutron API. This implementation is O(N) in time with a\nlarge prefactor (the time for a Neutron API call) where N is the\nnumber of networks.\n\nInstead of calling the Neutron API for each network this change uses\none call to the Neutron API to get the list of ports on all networks\nand filters this list via a list comprehension. While this\nimplementation is still O(N) the prefactor is significantly smaller.\n\nIncludes some unit test fixes to workaround the fact that patch\n6ac31e0 is not backported beyond Y.\n\nCloses-Bug: #1943639\nChange-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10\nSigned-off-by: Nicolas Bock <nicolas.bock@canonical.com>\n(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)\n'}]",16,831035,1561fcce55371c6b2d93a31b83ca533dea82f746,29,4,7,19298,,,0,"Get ports directly instead of via loop

In order to get a list of available ports, the current implementation
of the form code in `project/instances/attach_interface` loops through
the available networks in the project and requests a list of ports for
each via the Neutron API. This implementation is O(N) in time with a
large prefactor (the time for a Neutron API call) where N is the
number of networks.

Instead of calling the Neutron API for each network this change uses
one call to the Neutron API to get the list of ports on all networks
and filters this list via a list comprehension. While this
implementation is still O(N) the prefactor is significantly smaller.

Includes some unit test fixes to workaround the fact that patch
6ac31e0 is not backported beyond Y.

Closes-Bug: #1943639
Change-Id: I8fd32c3aad22d8ef7f57201f5144f6b2e357ef10
Signed-off-by: Nicolas Bock <nicolas.bock@canonical.com>
(cherry picked from commit 9f5d659d160d24d359992dda22fecb0db6b6f805)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/831035/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/instances/tests.py']",2,85132116cf6feb259656e8f349e070cf6635da95,lp_1943639," @helpers.create_mocks({api.neutron: ('network_list_for_tenant', 'port_list_with_trunk_types')}) self.mock_port_list_with_trunk_types.return_value = self.ports.list() self.mock_port_list_with_trunk_types.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=self.tenant.id) @helpers.create_mocks({api.neutron: ('network_list_for_tenant', 'port_list_with_trunk_types'), self.mock_port_list_with_trunk_types.return_value = self.ports.list() self.mock_port_list_with_trunk_types.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=self.tenant.id)"," @helpers.create_mocks({api.neutron: ('network_list_for_tenant',)}) @helpers.create_mocks({api.neutron: ('network_list_for_tenant',),",21,11
openstack%2Ftripleo-heat-templates~master~Id7616ebceb820d9799661c0fbc5f3f234f421ea3,openstack/tripleo-heat-templates,master,Id7616ebceb820d9799661c0fbc5f3f234f421ea3,Use --force when creating pacemaker resources,MERGED,2022-11-28 18:41:56.000000000,2022-11-29 11:59:37.000000000,2022-11-29 11:59:37.000000000,"[{'_account_id': 8833}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-28 18:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38423a5805bb95c448fe5e2144590c9fb36bca43', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n""}, {'number': 2, 'created': '2022-11-28 19:08:12.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59300dfb30c5ee9c8186ee4b28f9c57e9b345647', 'message': ""Use --force when creating pacemaker resources\n\npcs-0.10.14-6 introduced enforce validation at resources creation time.\nUnfortunately this doesn't work in our use case as puppet runs on the\nhost but the necessary binaries are installed inside the containers.\n\nLet's try using --force to workaround.\n\nCloses-Bug: #1997939\n\nChange-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3\n""}]",4,865881,59300dfb30c5ee9c8186ee4b28f9c57e9b345647,14,6,2,30126,,,0,"Use --force when creating pacemaker resources

pcs-0.10.14-6 introduced enforce validation at resources creation time.
Unfortunately this doesn't work in our use case as puppet runs on the
host but the necessary binaries are installed inside the containers.

Let's try using --force to workaround.

Closes-Bug: #1997939

Change-Id: Id7616ebceb820d9799661c0fbc5f3f234f421ea3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/865881/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",3,38423a5805bb95c448fe5e2144590c9fb36bca43,bug/1997939, # starting from pcs-0.10.14-6 enforces validations but this doesn't work when running # outside the respective containers. we need to use --force to overcome this. tripleo::profile::pacemaker::rabbitmq_bundle::force_ocf: true,,9,0
openstack%2Fcharm-neutron-k8s~stable%2Fxena~I5415ea8f6b3941494f3d8504a9518a5781c404a9,openstack/charm-neutron-k8s,stable/xena,I5415ea8f6b3941494f3d8504a9518a5781c404a9,Refactor bundle for series alignment,MERGED,2022-11-29 09:41:25.000000000,2022-11-29 11:55:51.000000000,2022-11-29 11:03:20.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-29 09:41:25.000000000', 'files': ['tests/bundles/xena.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/db0337e38e533d9520f5b9de8f8c228c10f96120', 'message': 'Refactor bundle for series alignment\n\nSet default series of bundle to jammy, provide charm specific\nseries when needed.\n\nDrop to a single traefik instance for public ingress.\n\nChange-Id: I5415ea8f6b3941494f3d8504a9518a5781c404a9\n'}]",0,865965,db0337e38e533d9520f5b9de8f8c228c10f96120,7,2,1,935,,,0,"Refactor bundle for series alignment

Set default series of bundle to jammy, provide charm specific
series when needed.

Drop to a single traefik instance for public ingress.

Change-Id: I5415ea8f6b3941494f3d8504a9518a5781c404a9
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/65/865965/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', 'tests/tests.yaml']",2,db0337e38e533d9520f5b9de8f8c228c10f96120,shuffle-bundle,, traefik-public: workload-status: active workload-status-message-regex: '^$',3,28
openstack%2Ftripleo-quickstart-extras~master~I89a7897e6a4cbf83149302a0ea856b151623b9ba,openstack/tripleo-quickstart-extras,master,I89a7897e6a4cbf83149302a0ea856b151623b9ba,Added script to spin an instance on external compute,MERGED,2022-11-04 06:45:49.000000000,2022-11-29 11:29:56.000000000,2022-11-29 11:29:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-04 06:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/64a9f52003d38917fe32050f0be7095e93377d3a', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 2, 'created': '2022-11-04 11:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7521ed75908eab395af0e4bab26285eec548c439', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 3, 'created': '2022-11-05 00:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af549b5783558aa00d650b91dab2a4d2919f7314', 'message': '[DNM] validation check\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 4, 'created': '2022-11-16 10:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a14c3d9f78180a0ca32f19b5b3db17b0f823e0f2', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 5, 'created': '2022-11-16 14:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/feb367d29436437ec55f009e0abe5ed7ed767268', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 6, 'created': '2022-11-18 10:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c3f4bdc7087c92d9bd93c22bbf05b0d3356fe25', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 7, 'created': '2022-11-24 07:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6d4c9d2731e9c75ae98f4d6b9b9616977154988f', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 8, 'created': '2022-11-25 04:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8dba94abf98a7269a09e00b42aa8e1d29ec3ed8c', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}, {'number': 9, 'created': '2022-11-28 12:26:06.000000000', 'files': ['roles/external-data-plane-management/templates/validate_edpm.sh.j2', 'roles/external-data-plane-management/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a66b23e7522ff612552b6ab8759e45945ea13afd', 'message': 'Added script to spin an instance on external compute\n\nvalidate_edpm.sh.j2 adds the script to spin an instance\non external compute in order to validate the external\ncompute deployment.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba\n'}]",15,863590,a66b23e7522ff612552b6ab8759e45945ea13afd,44,5,9,12393,,,0,"Added script to spin an instance on external compute

validate_edpm.sh.j2 adds the script to spin an instance
on external compute in order to validate the external
compute deployment.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863935

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I89a7897e6a4cbf83149302a0ea856b151623b9ba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/863590/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/external-data-plane-management/templates/validate_edpm.sh.j2', 'roles/external-data-plane-management/defaults/main.yml']",2,64a9f52003d38917fe32050f0be7095e93377d3a,standalone-roles, # Values for validation tempest_cidr: '192.168.24.0/24',,57,0
openstack%2Fhorizon~stable%2Fussuri~I076a97a6f943ab74a2db8bc5179a7db194009db4,openstack/horizon,stable/ussuri,I076a97a6f943ab74a2db8bc5179a7db194009db4,Fix app cred create without project_id for domain admins,MERGED,2022-10-19 05:42:26.000000000,2022-11-29 11:26:39.000000000,2022-11-29 11:25:39.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-19 05:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14856d0ccf3bde6b3283824ef31e3bdd412f0517', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n'}, {'number': 2, 'created': '2022-11-22 18:47:55.000000000', 'files': ['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aad971e54c54f9255ebb0a9ab3d0dd097ec2a192', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)\n(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)\n(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)\n(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)\n(cherry picked from commit 37caed80e67fe71abf44a877908ffdf708239515)\n'}]",0,861821,aad971e54c54f9255ebb0a9ab3d0dd097ec2a192,11,3,2,29313,,,0,"Fix app cred create without project_id for domain admins

Users with domain admin role that are not cloud admins are
not able to get scoped context and create an application
credential with project_id, so this change forces the
scoped context in that particular case.

Closes-bug: #1827120
Change-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4
(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)
(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)
(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)
(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)
(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)
(cherry picked from commit 37caed80e67fe71abf44a877908ffdf708239515)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/861821/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py']",2,14856d0ccf3bde6b3283824ef31e3bdd412f0517,bug/1827120-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"def keystoneclient(request, admin=False, force_scoped=False): if (is_domain_admin(request) and not is_domain_context_specified and not force_scoped): # NOTE(ganso): users with domain admin role that are not cloud admins are # not able to get scoped context and create an application credential with # project_id, so only in this particular case we force a scoped context force_scoped = False if (request.user.project_id and request.session.get(""domain_token"") and not policy.check( ((""identity"", ""identity:update_domain""),), request)): force_scoped = True manager = keystoneclient( request, force_scoped=force_scoped).application_credentials","def keystoneclient(request, admin=False): if is_domain_admin(request) and not is_domain_context_specified: manager = keystoneclient(request).application_credentials",58,3
openstack%2Fansible-collection-kolla~master~I9918eb081ed88d4c754950e6297c5bbfd6c1595d,openstack/ansible-collection-kolla,master,I9918eb081ed88d4c754950e6297c5bbfd6c1595d,Fix incorrect Docker URL for RHEL distro,ABANDONED,2022-02-22 14:46:25.000000000,2022-11-29 11:26:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-22 14:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/d269549c7a657c0182dcae19aa859031aec7a1c7', 'message': 'Fix incorrect Docker URL for RedHat distro\n\nCloses-Bug: #1952150\nChange-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d\n'}, {'number': 2, 'created': '2022-02-22 15:10:14.000000000', 'files': ['roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/31800291f95799164d21cce1b7ec3bc030e321da', 'message': 'Fix incorrect Docker URL for RHEL distro\n\nCloses-Bug: #1952150\nChange-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d\n'}]",2,830436,31800291f95799164d21cce1b7ec3bc030e321da,8,2,2,26285,,,0,"Fix incorrect Docker URL for RHEL distro

Closes-Bug: #1952150
Change-Id: I9918eb081ed88d4c754950e6297c5bbfd6c1595d
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/36/830436/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/defaults/main.yml'],1,d269549c7a657c0182dcae19aa859031aec7a1c7,bug/1952150,"docker_yum_url: ""https://download.docker.com/linux/{{ 'rhel' if ansible_facts.distribution | lower == 'redhat' else ansible_facts.distribution | lower }}""","docker_yum_url: ""https://download.docker.com/linux/{{ ansible_facts.distribution | lower }}""",1,1
openstack%2Fpython-watcherclient~master~I1a0e0aca2c49a76f35cf0085c875db49f1f98e19,openstack/python-watcherclient,master,I1a0e0aca2c49a76f35cf0085c875db49f1f98e19,Remove the unused coding style modules,ABANDONED,2020-10-21 16:10:55.000000000,2022-11-29 11:25:16.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-10-21 16:10:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/17c93a2d680beb9439d2938b5c88393f95ce3892', 'message': 'Remove the unused coding style modules\n\nPython modules related to coding style checks (listed in blacklist.txt in\nopenstack/requirements repo) are dropped from lower-constraints.txt\nthey are not needed during installation.\n\nChange-Id: I1a0e0aca2c49a76f35cf0085c875db49f1f98e19\n'}]",0,759097,17c93a2d680beb9439d2938b5c88393f95ce3892,5,3,1,26285,,,0,"Remove the unused coding style modules

Python modules related to coding style checks (listed in blacklist.txt in
openstack/requirements repo) are dropped from lower-constraints.txt
they are not needed during installation.

Change-Id: I1a0e0aca2c49a76f35cf0085c875db49f1f98e19
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/97/759097/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,17c93a2d680beb9439d2938b5c88393f95ce3892,,,flake8==2.5.5 hacking==0.12.0mccabe==0.2.1pyflakes==0.8.1,0,4
openstack%2Ffreezer-api~master~I601c668bac078e983113c34ec1a8d06294b0c12a,openstack/freezer-api,master,I601c668bac078e983113c34ec1a8d06294b0c12a,Rebuild elasticsearch DSL,ABANDONED,2019-03-01 15:53:56.000000000,2022-11-29 11:24:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 26285}]","[{'number': 1, 'created': '2019-03-01 15:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/30e91c0e011415ba769c4db1903f54db0fd0928d', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}, {'number': 2, 'created': '2019-03-02 06:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/bf21da36f7ff7b67fa2424fb638b4171f9389e17', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}, {'number': 3, 'created': '2019-03-02 10:54:55.000000000', 'files': ['freezer_api/storage/elasticv2.py', 'freezer_api/storage/elastic.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cca7398ce57aa1566041a2200ea4df1902bd3ddb', 'message': 'Rebuild elasticsearch DSL\n\nwhen use elasticsearch as storage backend, freezer-api can not\nwork well,it report ""transport error"", this is because after\nelasticsearch 5.x version, it has remove filtered section,\nbut now we still use it.so we need to rebuild elasticsearch DSL.\nfiltered deprecated in ES 2.x and remove in ES 5.x\nrefer to [0][1]\n[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html\n[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html\n\nChange-Id: I601c668bac078e983113c34ec1a8d06294b0c12a\n'}]",0,640408,cca7398ce57aa1566041a2200ea4df1902bd3ddb,11,3,3,26285,,,0,"Rebuild elasticsearch DSL

when use elasticsearch as storage backend, freezer-api can not
work well,it report ""transport error"", this is because after
elasticsearch 5.x version, it has remove filtered section,
but now we still use it.so we need to rebuild elasticsearch DSL.
filtered deprecated in ES 2.x and remove in ES 5.x
refer to [0][1]
[0]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-filtered-query.html
[1]https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html

Change-Id: I601c668bac078e983113c34ec1a8d06294b0c12a
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/08/640408/3 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/storage/elasticv2.py', 'freezer_api/storage/elastic.py']",2,30e91c0e011415ba769c4db1903f54db0fd0928d,," def get_base_search_filter(user_id, search=None, version=False): #version flag used for elasticsearch server's version > 5.x if version: return base_filter, match_list, match_not_list base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) must_match.append( must_match.append( return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search,version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}} base_filter, must_match, must_not_match = TypeManager.get_base_search_filter(user_id, search, version=True) return {'query':{'bool':{'must':must_match,'must_not':must_not_match,'filter':base_filter}}}"," def get_base_search_filter(user_id, search=None): base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) base_filter.append( base_filter.append( query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}} base_filter = TypeManager.get_base_search_filter(user_id, search) query_filter = {""filter"": {""bool"": {""must"": base_filter}}} return {'query': {'filtered': query_filter}}",48,48
openstack%2Fnova~stable%2Ftrain~I016bc1812404ce1019c71b7a3363f34acc3f8aed,openstack/nova,stable/train,I016bc1812404ce1019c71b7a3363f34acc3f8aed,Block unsupported instance ops with accelerators.,ABANDONED,2022-11-25 07:38:13.000000000,2022-11-29 11:14:57.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 07:38:13.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df', 'message': 'Block unsupported instance ops with accelerators.\n\nThe block is applied to primary operations, such as pause\nor shelve, but not to their reverse operations, like\nunpause or unshelve, because that is not necessary.\n\nAdded functional tests for various instance operations,\nincluding those that work and those that fail.\nRebuild functional test passes.\n\nConflicts:\n      nova/api/openstack/compute/servers.py\n      nova/tests/unit/compute/test_compute_api.py\n\nRelated-Bug: #1978983\nChange-Id: I016bc1812404ce1019c71b7a3363f34acc3f8aed\nBlueprint: nova-cyborg-interaction\n(cherry picked from commit 89dbd08976da6faabb5c8d0e7a29f4b7f9e8b812)\n'}]",4,865624,06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df,6,2,1,34860,,,0,"Block unsupported instance ops with accelerators.

The block is applied to primary operations, such as pause
or shelve, but not to their reverse operations, like
unpause or unshelve, because that is not necessary.

Added functional tests for various instance operations,
including those that work and those that fail.
Rebuild functional test passes.

Conflicts:
      nova/api/openstack/compute/servers.py
      nova/tests/unit/compute/test_compute_api.py

Related-Bug: #1978983
Change-Id: I016bc1812404ce1019c71b7a3363f34acc3f8aed
Blueprint: nova-cyborg-interaction
(cherry picked from commit 89dbd08976da6faabb5c8d0e7a29f4b7f9e8b812)
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/865624/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/evacuate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/suspend_server.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",8,06c248611d7d6fb01d9dbd37d8f0e8f8a859d2df,bug/1978983," except (exception.QuotaError, exception.ForbiddenWithAccelerators) as error: except (exception.QuotaError, exception.ForbiddenWithAccelerators) as error:", except exception.QuotaError as error: except exception.QuotaError as error:,45,10
openstack%2Fnova~stable%2Fwallaby~I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,openstack/nova,stable/wallaby,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-07 16:57:01.000000000,2022-11-29 11:10:44.000000000,2022-11-29 11:08:36.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 16:57:01.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed1ea71489b60c0f95d76ab05f554cd046c60bac', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)\n'}]",1,863900,ed1ea71489b60c0f95d76ab05f554cd046c60bac,9,3,1,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
(cherry picked from commit 5efcc3f695e02d61cb8b881e009308c2fef3aa58)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/863900/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,ed1ea71489b60c0f95d76ab05f554cd046c60bac,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,63,1
openstack%2Fnova~master~Id29ce352df84168d0a45512e2c59820aefc75943,openstack/nova,master,Id29ce352df84168d0a45512e2c59820aefc75943,Temporary skip some volume detach test in nova-lvm job,MERGED,2022-11-28 23:59:22.000000000,2022-11-29 11:10:43.000000000,2022-11-29 11:08:29.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 23:59:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2aa779016d79b97f61677293d779fd25d9b37e9f', 'message': ""Temporary skip some volume detach test in nova-lvm job\n\nA few tests related to volume detach are timeout in\nnova-lvm job (failing 100%[1]). Root cause of timeout is not\nknown and it may take time to find and fix the issue. To unblock\ngate and keep runing rest of the tests in lvm job, let's skip\nthe failing tests until they are fixed.\n\nRelated-Bug: #1998148\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=nova-lvm&branch=master&skip=0\n\nChange-Id: Id29ce352df84168d0a45512e2c59820aefc75943\n""}]",3,865922,2aa779016d79b97f61677293d779fd25d9b37e9f,10,3,1,8556,,,0,"Temporary skip some volume detach test in nova-lvm job

A few tests related to volume detach are timeout in
nova-lvm job (failing 100%[1]). Root cause of timeout is not
known and it may take time to find and fix the issue. To unblock
gate and keep runing rest of the tests in lvm job, let's skip
the failing tests until they are fixed.

Related-Bug: #1998148

[1] https://zuul.opendev.org/t/openstack/builds?job_name=nova-lvm&branch=master&skip=0

Change-Id: Id29ce352df84168d0a45512e2c59820aefc75943
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/865922/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2aa779016d79b97f61677293d779fd25d9b37e9f,bug/1998148," # Skip slow tests. Also, skip some volume detach tests until bug#1998148 # is fixed. tempest_exclude_regex: (^tempest\.(api\.compute\.(volumes\.test_attach_volume\.AttachVolumeTestJSON\.test_attach_detach_volume|servers\.(test_server_rescue\.ServerStableDeviceRescueTest\.test_stable_device_rescue_disk_virtio_with_volume_attached|test_server_rescue_negative\.ServerRescueNegativeTestJSON\.test_rescued_vm_detach_volume)))|.*\[.*\bslow\b.*\])", # Skip slow tests. tempest_exclude_regex: .*\[.*\bslow\b.*\],3,2
openstack%2Fironic-inspector~stable%2Fussuri~Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21,openstack/ironic-inspector,stable/ussuri,Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21,Fix port id vs uuid in ValidateInterfacesHook,MERGED,2022-11-04 15:45:42.000000000,2022-11-29 11:09:26.000000000,2022-11-29 11:07:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 15:45:42.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6c372e67b79182eda0f90389668fc5c57c9bbf12', 'message': 'Fix port id vs uuid in ValidateInterfacesHook\n\nfollow-up to Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\n\nUse id attribute instead of uuid. This caused an exception when an unexpected\nport was being deleted.\n\nStory: 2008698\nTask: 42007\nChange-Id: Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21\n(cherry picked from commit 22853a74b5f30c0047a1ffab039f983e2563a335)\n'}]",1,863626,6c372e67b79182eda0f90389668fc5c57c9bbf12,12,3,1,32553,,,0,"Fix port id vs uuid in ValidateInterfacesHook

follow-up to Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17

Use id attribute instead of uuid. This caused an exception when an unexpected
port was being deleted.

Story: 2008698
Task: 42007
Change-Id: Ib4978f5e3e4f1b64faa1bfae3cdcf46199bb2f21
(cherry picked from commit 22853a74b5f30c0047a1ffab039f983e2563a335)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/26/863626/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py']",2,6c372e67b79182eda0f90389668fc5c57c9bbf12,fix2008698-stable/ussuri," {'port': port.id,"," {'port': port.uuid,",2,2
openstack%2Ftripleo-ci~master~I7cc3b191e9af124878f037bcf0f837d353a44f8f,openstack/tripleo-ci,master,I7cc3b191e9af124878f037bcf0f837d353a44f8f,Add edpm base jobs,MERGED,2022-11-16 11:45:19.000000000,2022-11-29 11:05:43.000000000,2022-11-29 11:05:43.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-16 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/edad39e38b6c9a29799f891d1fa5ba6d12799273', 'message': 'Add tripleo-ci-centos-9-standalone-external-compute-options job\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 2, 'created': '2022-11-24 04:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/45a0009700deeccdb50430335ec1ac5002b87825', 'message': 'Add tripleo-ci-standalone-external-compute-options job\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 3, 'created': '2022-11-24 09:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d7698f3d64a46ec6a4c7ad44c71cb0658c7ab47', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\ntripleo-ci-standalone-external-compute-options\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 4, 'created': '2022-11-25 04:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/289bcd5b16217a8f4043b4b8910eeecc35a4b0c3', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\ntripleo-ci-standalone-external-compute-options\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}, {'number': 5, 'created': '2022-11-28 09:31:10.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c84c3e22c1341c2388dbed10b410d7f348ae0d7', 'message': 'Add edpm base jobs\n\nIn order to add the periodic version of external compute jobs,\nwe need to create a seperate job which contains the reusable\njob definitions. It can be reused in RDO, Downstream and\nUpstream job definitions.\n\nedpm jobs are parented from multinode cs9 distro jobs. When we\nuse multi parenting with the existing jobs then tags and playbook\nvars are not getting overriden in multi parenting.\n\nIn order to fix that, we have added a new edpm base job which\nwill be shared in RDO/downstream also.\n\nHere is the new parent structure\ntripleo-ci-base-multinode-standard\ntripleo-ci-base-multinode-edpm-standard\ntripleo-ci-base-required-projects-edpm-upstream\ntripleo-ci-base-edpm-centos-9\nthen actual job: tripleo-ci-centos-9-standalone-external-compute-target-host\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f\n'}]",7,864724,5c84c3e22c1341c2388dbed10b410d7f348ae0d7,24,6,5,12393,,,0,"Add edpm base jobs

In order to add the periodic version of external compute jobs,
we need to create a seperate job which contains the reusable
job definitions. It can be reused in RDO, Downstream and
Upstream job definitions.

edpm jobs are parented from multinode cs9 distro jobs. When we
use multi parenting with the existing jobs then tags and playbook
vars are not getting overriden in multi parenting.

In order to fix that, we have added a new edpm base job which
will be shared in RDO/downstream also.

Here is the new parent structure
tripleo-ci-base-multinode-standard
tripleo-ci-base-multinode-edpm-standard
tripleo-ci-base-required-projects-edpm-upstream
tripleo-ci-base-edpm-centos-9
then actual job: tripleo-ci-centos-9-standalone-external-compute-target-host

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7cc3b191e9af124878f037bcf0f837d353a44f8f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/24/864724/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,edad39e38b6c9a29799f891d1fa5ba6d12799273,standalone-roles, - job: name: tripleo-ci-centos-9-standalone-external-compute-options- job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-base-multinode-centos-9 branches: - master - stable/zed - job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-centos-9-standalone-external-compute-options ,- job: name: tripleo-ci-centos-9-standalone-external-compute-target-host parent: tripleo-ci-base-multinode-centos-9 branches: - master - stable/zed,13,5
openstack%2Frequirements~stable%2Fvictoria~I8b22e921785abb2c144bc0a8c446e3485ce739a7,openstack/requirements,stable/victoria,I8b22e921785abb2c144bc0a8c446e3485ce739a7,[CVE-2022-40023] Bump Mako version to 1.2.2,ABANDONED,2022-11-21 12:43:41.000000000,2022-11-29 10:41:42.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 12:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8afa93282104c482da2916f123fe79d4c0680493', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n(cherry picked from commit 759b34c0a2d538464c8dc3e8ebd96f0f1bb2c090)\n'}, {'number': 2, 'created': '2022-11-21 12:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d2a93b1942b6252afbeab2b199e8bf6478e8b2e5', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n(cherry picked from commit 759b34c0a2d538464c8dc3e8ebd96f0f1bb2c090)\n'}, {'number': 3, 'created': '2022-11-25 16:11:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/25932cffe53e60f6c7e61e8ad1b4497176de3108', 'message': '[CVE-2022-40023] Bump Mako version to 1.2.2\n\nStory: 2010320\nChange-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7\n'}]",1,864989,25932cffe53e60f6c7e61e8ad1b4497176de3108,9,2,3,32927,,,0,"[CVE-2022-40023] Bump Mako version to 1.2.2

Story: 2010320
Change-Id: I8b22e921785abb2c144bc0a8c446e3485ce739a7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/864989/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8afa93282104c482da2916f123fe79d4c0680493,story/2010320-stable/victoria,<<<<<<< HEAD (f831f1 Raise upper diskimage-builder===3.24.0)======= Mako===1.2.2 pyScss===1.4.0 sphinxcontrib-htmlhelp===2.0.0 >>>>>>> CHANGE (759b34 [CVE-2022-40023] Bump Mako version to 1.2.2),,6,0
openstack%2Fovn-octavia-provider~master~Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,openstack/ovn-octavia-provider,master,Ib8499d7c4ea102e183ead31f063a3c0a70af6e23,Make clear distinction between health check and health monitor,MERGED,2022-11-21 13:25:07.000000000,2022-11-29 10:15:15.000000000,2022-11-29 10:14:09.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-21 13:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/efbeefcda7ddf0bdffd49dc83c49c6a9bff91f70', 'message': 'Make clear distintion between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distintion between Octavia HM and OVN LB HCs.\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 2, 'created': '2022-11-22 07:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/43eedaf6e508d14387e3b7fbb6ae5dadd7d8eed8', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 3, 'created': '2022-11-22 15:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c2f152f8acbe2e1f67ee2e5de04f7e9098691b94', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 4, 'created': '2022-11-25 09:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5a4c55ba5425d30fe09263a49d608b72b487d5a8', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}, {'number': 5, 'created': '2022-11-25 10:17:59.000000000', 'files': ['ovn_octavia_provider/event.py', 'ovn_octavia_provider/common/constants.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9cb8cd5054e64ab7fd13b4b63259b639b4f26c50', 'message': 'Make clear distinction between health check and health monitor\n\nThere was quite a mix between (Octavia) Health Monitors and\n(OVN) Load Balancer Health Checks. This patch tries to make a\nmore clear distinction between Octavia HM and OVN LB HCs.\n\nThis patch also add a reference to the Octavia Health Monitors\nIds to the external_ids of the OVN NB Load_Balancer entries.\n\nRelated-Bug: #1997418\n\nChange-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23\n'}]",15,864817,9cb8cd5054e64ab7fd13b4b63259b639b4f26c50,24,4,5,23567,,,0,"Make clear distinction between health check and health monitor

There was quite a mix between (Octavia) Health Monitors and
(OVN) Load Balancer Health Checks. This patch tries to make a
more clear distinction between Octavia HM and OVN LB HCs.

This patch also add a reference to the Octavia Health Monitors
Ids to the external_ids of the OVN NB Load_Balancer entries.

Related-Bug: #1997418

Change-Id: Ib8499d7c4ea102e183ead31f063a3c0a70af6e23
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/864817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,efbeefcda7ddf0bdffd49dc83c49c6a9bff91f70,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_lbhc_by_id')"," @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_lookup_hm_by_id')",34,32
openstack%2Fmagnum~stable%2Fyoga~I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,openstack/magnum,stable/yoga,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 15:04:01.000000000,2022-11-29 10:13:37.000000000,2022-11-29 10:12:35.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 15:04:01.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f77471678d13a13dddfc54dbdf41f050f43e2660', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865440,f77471678d13a13dddfc54dbdf41f050f43e2660,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/40/865440/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,f77471678d13a13dddfc54dbdf41f050f43e2660,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fmagnum~stable%2Fzed~I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,openstack/magnum,stable/zed,I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0,Make configure-agent-env.service idempotent.,MERGED,2022-11-23 14:59:33.000000000,2022-11-29 10:13:37.000000000,2022-11-29 10:12:33.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 14:59:33.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/11348ce7a818b24e34ea1d861f22e65af5592e3b', 'message': ""Make configure-agent-env.service idempotent.\n\nWhen the configure-agent-env.service service is restarted it will fail\nwhen it tries to create the directory /etc/kubernetes, leaving the\nsystem 'degraded' from systemd's perspective, this change adds the '-p'\nflag to mkdir to fail silently if the directory already exists.\n\nChange-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0\nRelated-Bug: #1982872\n(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)\n""}]",0,865436,11348ce7a818b24e34ea1d861f22e65af5592e3b,7,2,1,2424,,,0,"Make configure-agent-env.service idempotent.

When the configure-agent-env.service service is restarted it will fail
when it tries to create the directory /etc/kubernetes, leaving the
system 'degraded' from systemd's perspective, this change adds the '-p'
flag to mkdir to fail silently if the directory already exists.

Change-Id: I79c3beebd790f2e7c787cf1c34be3c5a26cca2d0
Related-Bug: #1982872
(cherry picked from commit 64570c25b09a945125afc9eabcbcc53dac5673e4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/865436/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/fcct-config.yaml'],1,11348ce7a818b24e34ea1d861f22e65af5592e3b,bug/1982872, mkdir -p /etc/kubernetes/, mkdir /etc/kubernetes/,1,1
openstack%2Fskyline-console~master~Ib1418d2f4ba79ff7fb619365b8f71734d112e69d,openstack/skyline-console,master,Ib1418d2f4ba79ff7fb619365b8f71734d112e69d,fix: fix health_status in magnum cluster,MERGED,2022-11-29 07:44:23.000000000,2022-11-29 10:02:01.000000000,2022-11-29 10:01:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-29 07:44:23.000000000', 'files': ['src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0', 'message': 'fix: fix health_status in magnum cluster\n\nIt should not use valueMap for health_status\n\nChange-Id: Ib1418d2f4ba79ff7fb619365b8f71734d112e69d\n'}]",0,865948,b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0,8,2,1,33689,,,0,"fix: fix health_status in magnum cluster

It should not use valueMap for health_status

Change-Id: Ib1418d2f4ba79ff7fb619365b8f71734d112e69d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/48/865948/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/Clusters/Detail/index.jsx', 'src/pages/container-infra/containers/Clusters/index.jsx']",2,b4f23fd78c6bc4223e9ee8e7c2f54a660a0200b0,fix-magnum-ui," render: (value) => healthStatus[value] || value || '-',"," valueMap: healthStatus,",2,2
openstack%2Fansible-collection-kolla~stable%2Fyoga~Ic2a21f31309edbf17d6c841167dff41addff6698,openstack/ansible-collection-kolla,stable/yoga,Ic2a21f31309edbf17d6c841167dff41addff6698,Install drpm only on RHEL-derivates major version 8,MERGED,2022-11-18 06:38:41.000000000,2022-11-29 09:33:19.000000000,2022-11-29 09:32:24.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 06:38:41.000000000', 'files': ['roles/baremetal/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/682ae88fb5bc003e510142ec0202d116e55207c9', 'message': 'Install drpm only on RHEL-derivates major version 8\n\ndrpm is not available on RHEL9 clones\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/864920\nChange-Id: Ic2a21f31309edbf17d6c841167dff41addff6698\n'}]",2,864993,682ae88fb5bc003e510142ec0202d116e55207c9,12,2,1,22629,,,0,"Install drpm only on RHEL-derivates major version 8

drpm is not available on RHEL9 clones

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/864920
Change-Id: Ic2a21f31309edbf17d6c841167dff41addff6698
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/93/864993/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/tasks/install.yml'],1,682ae88fb5bc003e510142ec0202d116e55207c9,kolla_yoga_rl9," when: ansible_facts.os_family == 'RedHat' and ansible_facts.distribution_major_version == ""8""", when: ansible_facts.os_family == 'RedHat',1,1
openstack%2Ftripleo-ansible~master~I3214109f4f75620abc25d48db86179a8a411ccc7,openstack/tripleo-ansible,master,I3214109f4f75620abc25d48db86179a8a411ccc7,Hide output which can contain password strings,MERGED,2022-11-29 01:58:55.000000000,2022-11-29 09:09:39.000000000,2022-11-29 09:09:39.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-29 01:58:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc758a2fbdda193b0a161bf4de36ffde5df789f6', 'message': 'Hide output which can contain password strings\n\nThe change I68a89e413b7c3eecb747386998bd36314250384b introduced\nthe task to check whether the password is valid but this task dumps\na raw password string in case password authentication failed for some\nreason (eg. the user is not yet created).\n\nThis change ensures the output is hidden, unless users explicitly\nenable sensitive logs.\n\nCloses-Bug: #1998158\nChange-Id: I3214109f4f75620abc25d48db86179a8a411ccc7\n'}]",0,865928,fc758a2fbdda193b0a161bf4de36ffde5df789f6,9,4,1,9816,,,0,"Hide output which can contain password strings

The change I68a89e413b7c3eecb747386998bd36314250384b introduced
the task to check whether the password is valid but this task dumps
a raw password string in case password authentication failed for some
reason (eg. the user is not yet created).

This change ensures the output is hidden, unless users explicitly
enable sensitive logs.

Closes-Bug: #1998158
Change-Id: I3214109f4f75620abc25d48db86179a8a411ccc7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/865928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/users.yml'],1,fc758a2fbdda193b0a161bf4de36ffde5df789f6,bug/1998158," # needed because the module dumps the raw output in case auth fails no_log: ""{{ tripleo_keystone_resources_hide_sensitive_logs | bool }}""",,2,0
openstack%2Fkeystoneauth~master~I16763742dd802bf1a82d8d407097baf7c97b1b28,openstack/keystoneauth,master,I16763742dd802bf1a82d8d407097baf7c97b1b28,Remove python-dev from bindep,ABANDONED,2022-11-07 09:54:43.000000000,2022-11-29 08:28:15.000000000,,"[{'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 09:54:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/f44176adf9d16fd53453613cee56db1295ee9f71', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: I16763742dd802bf1a82d8d407097baf7c97b1b28\n""}]",1,863834,f44176adf9d16fd53453613cee56db1295ee9f71,6,2,1,28522,,,0,"Remove python-dev from bindep

It is no longer supported by jammy and lead us to the following errors with the announce-release job.

```
No package matching 'python-dev' is available
```

Change-Id: I16763742dd802bf1a82d8d407097baf7c97b1b28
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/34/863834/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f44176adf9d16fd53453613cee56db1295ee9f71,drop-python-dev-from-bindep,,python-dev [platform:dpkg test],0,1
openstack%2Fnova~master~If2bc7786778d9a8354a31c8c3b7f3232ad3a5193,openstack/nova,master,If2bc7786778d9a8354a31c8c3b7f3232ad3a5193,Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next,ABANDONED,2022-11-25 10:09:09.000000000,2022-11-29 08:27:06.000000000,,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 10:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd6f0cf77f38899b3fdccd5e0191da68c52752e5', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 2, 'created': '2022-11-25 10:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/276797113c2565b0312bea3ebccf04195eb2ec94', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 3, 'created': '2022-11-28 10:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1201c7ea6f79ec3d68e2e3dc6f0de151dc8b8a1f', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/842240\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 4, 'created': '2022-11-28 13:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a66275de8c2527270718848d07f80be29e2eebd7', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/842240\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/840410\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}, {'number': 5, 'created': '2022-11-28 14:46:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/69a1c0710e96605120fb56e9812b07619aa6d2ff', 'message': 'Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next\n\nWe identified the jobs as consistently failing due to\ntempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk\n\nRemoving the tempest test until we figure out the root cause and fix it.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/840410\nChange-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193\nRelated-Bug: #1940425\n'}]",13,865658,69a1c0710e96605120fb56e9812b07619aa6d2ff,31,6,5,7166,,,0,"Skip live_migration_with_trunk tempest test on ovs-hybrid and nova-next

We identified the jobs as consistently failing due to
tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk

Removing the tempest test until we figure out the root cause and fix it.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/840410
Change-Id: If2bc7786778d9a8354a31c8c3b7f3232ad3a5193
Related-Bug: #1940425
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/865658/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dd6f0cf77f38899b3fdccd5e0191da68c52752e5,, # FIXME(sbauza): test_live_migration_with_trunk is skipped due a neutron # issue identified in bug #1940425 tempest_exclude_regex: tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk # FIXME(sbauza): test_live_migration_with_trunk is skipped due a neutron # issue identified in bug #1940425 tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment|tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk, tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment,6,1
openstack%2Ftripleo-quickstart~master~I18c6ecc1bb3c48617f16eb429ba108b243ec59e2,openstack/tripleo-quickstart,master,I18c6ecc1bb3c48617f16eb429ba108b243ec59e2,Exclude pcs-0.10.14-6.el8.x86_64 in t and w c8,NEW,2022-11-28 18:39:57.000000000,2022-11-29 08:23:55.000000000,,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-28 18:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bc80698974f1f88cbe67de5d0cfc144e3c99b8ac', 'message': 'Exclude pacemaker 2.1.5-2.el8.x86_64\n\nThis is to work around the linked bug which affects c8 wallaby and train integration and component lines\n\nRelated-Bug: #1997939\nChange-Id: I18c6ecc1bb3c48617f16eb429ba108b243ec59e2\n'}, {'number': 2, 'created': '2022-11-28 18:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5015abf312fa8b943f4aa89c820c9441a3fb1697', 'message': 'Exclude pacemaker 2.1.5-2.el8.x86_64 in train and wallaby c8 releasefiles\n\nThis is to work around the linked bug which affects c8 wallaby and train integration and component lines\n\nRelated-Bug: #1997939\nChange-Id: I18c6ecc1bb3c48617f16eb429ba108b243ec59e2\n'}, {'number': 3, 'created': '2022-11-28 21:58:48.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/89ad74a078527843c182a6f93f365b99990224e6', 'message': 'Exclude pcs-0.10.14-6.el8.x86_64 in t and w c8\n\nThis is to work around the linked bug which\naffects c8 wallaby and train integration and\ncomponent lines.\n\nThe downgrade is to pcs-0.10.14-5.el8.x86_64\n\nRelated-Bug: #1997939\nChange-Id: I18c6ecc1bb3c48617f16eb429ba108b243ec59e2\n'}]",7,865880,89ad74a078527843c182a6f93f365b99990224e6,12,4,3,32458,,,0,"Exclude pcs-0.10.14-6.el8.x86_64 in t and w c8

This is to work around the linked bug which
affects c8 wallaby and train integration and
component lines.

The downgrade is to pcs-0.10.14-5.el8.x86_64

Related-Bug: #1997939
Change-Id: I18c6ecc1bb3c48617f16eb429ba108b243ec59e2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/80/865880/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",2,bc80698974f1f88cbe67de5d0cfc144e3c99b8ac,I18c6ecc1bb3c48617f16eb429ba108b243ec59e2, # Note(frenzyfriday): Exclude pacemaker-2.1.5-2.el8.x86_64 # due to https://bugs.launchpad.net/tripleo/+bug/1997939 exclude: - pacemaker-2.1.5-2.el8.x86_64,,8,0
openstack%2Ftrove-tempest-plugin~master~Ia87bcc7e63ecebbfe92662431f0a81508034e18e,openstack/trove-tempest-plugin,master,Ia87bcc7e63ecebbfe92662431f0a81508034e18e,Add python3.9 support,MERGED,2022-11-28 14:57:57.000000000,2022-11-29 07:01:08.000000000,2022-11-29 07:01:08.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-28 14:57:57.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/fe377e07847a515e34274b9173e37fde71a38c4d', 'message': 'Add python3.9 support\n\nAdd python3.9 support and set the default test env to py39\n\nChange-Id: Ia87bcc7e63ecebbfe92662431f0a81508034e18e\n'}]",0,865858,fe377e07847a515e34274b9173e37fde71a38c4d,6,2,1,26285,,,0,"Add python3.9 support

Add python3.9 support and set the default test env to py39

Change-Id: Ia87bcc7e63ecebbfe92662431f0a81508034e18e
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/58/865858/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,fe377e07847a515e34274b9173e37fde71a38c4d,,"envlist = py39,pypy,pep8","envlist = py36,py35,pypy,pep8",2,3
openstack%2Fskyline-console~master~Id9b70108f4ac2dac289bb50fa83eeab18f08199e,openstack/skyline-console,master,Id9b70108f4ac2dac289bb50fa83eeab18f08199e,fix: Move the keypair to node spec when create cluster instance,MERGED,2022-11-29 03:32:41.000000000,2022-11-29 06:45:32.000000000,2022-11-29 06:44:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-29 03:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/2ca943f21251a3d4aae0f286590f89a18305c186', 'message': 'fix: Move the keypair to node spec when create cluster instance\n\nIn order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster template\n\nChange-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e\n'}, {'number': 2, 'created': '2022-11-29 03:33:58.000000000', 'files': ['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0c3a946d2196929c582407bf5a489ef2b56fbb5d', 'message': 'fix: Move the keypair to node spec when create cluster instance\n\nIn order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster instance\n\nChange-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e\n'}]",0,865932,0c3a946d2196929c582407bf5a489ef2b56fbb5d,9,3,2,33689,,,0,"fix: Move the keypair to node spec when create cluster instance

In order to be consistent with the cluster template creating, move the keypair to node spec step when create cluster instance

Change-Id: Id9b70108f4ac2dac289bb50fa83eeab18f08199e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/32/865932/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/Clusters/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/Detail/BaseDetail.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx']",4,2ca943f21251a3d4aae0f286590f89a18305c186,fix-magnum-ui,,"import globalKeypairStore from 'stores/nova/keypair';import { getKeyPairHeader } from 'resources/nova/keypair'; this.keyPairStore = globalKeypairStore; this.getKeypairs(); this.updateState(); async getKeypairs() { await this.keyPairStore.fetchList(); } get keypairs() { return this.keyPairStore.list.data || []; } get nameForStateUpdate() { return ['clusterTemplate']; } const { clusterTemplate, initKeyPair } = this.state; const { keypair_id } = clusterTemplate || {}; { name: 'keypair', label: t('Keypair'), type: 'select-table', required: !keypair_id, data: this.keypairs, initValue: initKeyPair, isLoading: this.keyPairStore.list.isLoading, header: getKeyPairHeader(this), tip: t( 'The SSH key is a way to remotely log in to the cluster instance. If it’s not set, the value of this in template will be used.' ), filterParams: [ { label: t('Name'), name: 'name', }, ], columns: [ { title: t('Name'), dataIndex: 'name', }, { title: t('Fingerprint'), dataIndex: 'fingerprint', }, ], },",84,64
openstack%2Ftripleo-ansible~stable%2Fzed~I6edef63e60623ea3b51386593d76b18092dd7f30,openstack/tripleo-ansible,stable/zed,I6edef63e60623ea3b51386593d76b18092dd7f30,Ensure $tuned_params is restored after grub2-mkconfig,MERGED,2022-11-28 08:31:01.000000000,2022-11-29 05:48:09.000000000,2022-11-29 05:48:09.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-28 08:31:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8d2f40660e669d9f8e9bb487802df0647b7cb71', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)\n'}]",1,865728,e8d2f40660e669d9f8e9bb487802df0647b7cb71,8,4,1,9816,,,0,"Ensure $tuned_params is restored after grub2-mkconfig

The playbook cli-overcloud-node-kernelargs.yaml calls the tuned role
and then the tripleo_kernel role.

The tuned role executes the following command:
    tuned-adm profile throughput-performance

This has the side-effect of adding $tuned_params to the options line
of /boot/loader/entries files, which is required to add its kernel
arguments from /boot/grub2/grubenv.

However when grub2-mkconfig is called, $tuned_params is *removed* from
the /boot/loader/entries files, breaking the enablement of the tuned
profile.

This change runs tuned-adm after grub2-mkconfig, which adds back
$tuned_params if there is an active profile.

Change-Id: I6edef63e60623ea3b51386593d76b18092dd7f30
Resolves: rhbz#2122949
(cherry picked from commit 55c724fefacbc1b5986065c1f90f270bf0adfb60)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/865728/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,e8d2f40660e669d9f8e9bb487802df0647b7cb71,bz/2139922-stable/zed," - name: Check for active tuned profile stat: path: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Ensure $tuned_params is restored to /boot/loader/entries files shell: >- tuned-adm profile $(cat /etc/tuned/active_profile) environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - tuned_active_profile.stat.exists - tuned_active_profile.stat.size | int > 0 ",,15,0
openstack%2Fironic~bugfix%2F18.1~Id6f8996e4d103f849325f54fe0619b4acb43453a,openstack/ironic,bugfix/18.1,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-11-15 03:07:45.000000000,2022-11-29 05:25:34.000000000,2022-11-29 05:24:01.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a23309d915180047163d39ebadb30649ce75bfc3', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 2, 'created': '2022-11-15 09:15:05.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/common/test_utils.py', 'doc/source/admin/drivers/irmc.rst', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/98e8f5e50f7eb3420b131647b217e2567cef3144', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",6,864466,98e8f5e50f7eb3420b131647b217e2567cef3144,22,3,2,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	ironic/common/utils.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/864466/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",10,a23309d915180047163d39ebadb30649ce75bfc3,snmp-18.1," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",551,60
openstack%2Ftripleo-common~stable%2Fzed~Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,openstack/tripleo-common,stable/zed,Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0,Define container image used by GlanceApiInternal service,MERGED,2022-11-28 17:42:11.000000000,2022-11-29 04:45:01.000000000,2022-11-29 04:43:55.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 17:42:11.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84749a7256b11912653a79bf70ada64cd13bb788', 'message': 'Define container image used by GlanceApiInternal service\n\nGlanceApiInternal is a new tripleo service, and it uses the same\ncontainer image as the GlanceApi and GlanceApiEdge services.\n\nChange-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0\n(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)\n'}]",2,865873,84749a7256b11912653a79bf70ada64cd13bb788,13,3,1,21129,,,0,"Define container image used by GlanceApiInternal service

GlanceApiInternal is a new tripleo service, and it uses the same
container image as the GlanceApi and GlanceApiEdge services.

Change-Id: Ib6188505197d0a267dbd8c4d96f12f31f7b5c9f0
(cherry picked from commit 1f5b751be7cac392b069ba8bca2f262211aaabe9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/865873/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,84749a7256b11912653a79bf70ada64cd13bb788,glance-api-internal, - ContainerGlanceApiInternalConfigImage - OS::TripleO::Services::GlanceApiInternal,,2,0
openstack%2Fironic~bugfix%2F19.0~Id6f8996e4d103f849325f54fe0619b4acb43453a,openstack/ironic,bugfix/19.0,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-11-15 03:06:27.000000000,2022-11-29 04:33:34.000000000,2022-11-29 04:32:18.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-15 03:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1cb1f1330a5116ae2d0d8deca2b977cfc46fa05', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 2, 'created': '2022-11-15 09:13:46.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'ironic/tests/unit/common/test_utils.py', 'doc/source/admin/drivers/irmc.rst', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e482d4012ce006c485b572ddba275da3365d345f', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",6,864465,e482d4012ce006c485b572ddba275da3365d345f,21,3,2,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	ironic/common/utils.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/864465/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",10,f1cb1f1330a5116ae2d0d8deca2b977cfc46fa05,snmp-19.0," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",551,60
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib59bb985fe15f612f93a33b1a688427e684654dd,openstack/tripleo-heat-templates,stable/wallaby,Ib59bb985fe15f612f93a33b1a688427e684654dd,Deprecate DeployedServerPortMap,ABANDONED,2022-11-28 03:05:47.000000000,2022-11-29 04:22:25.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 03:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698af3a1b019d61f4119e7c828903501cb2fcc29', 'message': 'Deprecate DeployedServerPortMap\n\nThe environment\nenvironments/deployed-server-deployed-neutron-ports.yaml, the\ndeployed-neutron-port.yaml template, and DeployedServerPortMap parameter\nare deprecated in favor of NodePortMap, ControlPlaneVipData, and\nVipPortMap, which can be used with the generated\nenvironments/deployed-ports.yaml.\n\nChange-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)\n'}, {'number': 2, 'created': '2022-11-29 01:25:37.000000000', 'files': ['.gitignore', 'environments/deployed-ports.j2.yaml', 'releasenotes/notes/deprecate-deployed-server-port-map-99d4d6a01f630d04.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'environments/deployed-server-deployed-neutron-ports.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfc2b9f8eddf4d20b1bcf8871751551b771d94e9', 'message': 'Deprecate DeployedServerPortMap\n\nThe environment\nenvironments/deployed-server-deployed-neutron-ports.yaml, the\ndeployed-neutron-port.yaml template, and DeployedServerPortMap parameter\nare deprecated in favor of NodePortMap, ControlPlaneVipData, and\nVipPortMap, which can be used with the generated\nenvironments/deployed-ports.yaml.\n\nChange-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)\n'}]",0,865782,dfc2b9f8eddf4d20b1bcf8871751551b771d94e9,6,3,2,30073,,,0,"Deprecate DeployedServerPortMap

The environment
environments/deployed-server-deployed-neutron-ports.yaml, the
deployed-neutron-port.yaml template, and DeployedServerPortMap parameter
are deprecated in favor of NodePortMap, ControlPlaneVipData, and
VipPortMap, which can be used with the generated
environments/deployed-ports.yaml.

Change-Id: Ib59bb985fe15f612f93a33b1a688427e684654dd
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 26be3179905c7751812aa10a0af9f56e58e7ef08)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/865782/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'environments/deployed-ports.j2.yaml', 'releasenotes/notes/deprecate-deployed-server-port-map-99d4d6a01f630d04.yaml', 'deployed-server/deployed-server.yaml', 'deployed-server/deployed-neutron-port.yaml', 'environments/deployed-server-deployed-neutron-ports.yaml']",6,698af3a1b019d61f4119e7c828903501cb2fcc29,,"# ****************************************************************************** # DEPRECATED: The environment # environments/deployed-server-deployed-neutron-ports.yaml, the # deployed-neutron-port.yaml template, and DeployedServerPortMap parameter are # deprecated in favor of NodePortMap, ControlPlaneVipData, and VipPortMap, # which can be used with the generated environments/deployed-ports.yaml # ******************************************************************************",,85,8
openstack%2Fcharm-cinder~master~I47fc2cd2a7e2f956083461fbf04f375f0de136e3,openstack/charm-cinder,master,I47fc2cd2a7e2f956083461fbf04f375f0de136e3,Remove the changes from charmhelpers,ABANDONED,2022-11-28 23:14:15.000000000,2022-11-28 23:15:20.000000000,,[],"[{'number': 1, 'created': '2022-11-28 23:14:15.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/28eab47bfee183c2bc1c43d93e7a08f34aa75fd2', 'message': 'Remove the changes from charmhelpers\n\nChange-Id: I47fc2cd2a7e2f956083461fbf04f375f0de136e3\n'}]",0,865921,28eab47bfee183c2bc1c43d93e7a08f34aa75fd2,2,0,1,35369,,,0,"Remove the changes from charmhelpers

Change-Id: I47fc2cd2a7e2f956083461fbf04f375f0de136e3
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/21/865921/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",3,28eab47bfee183c2bc1c43d93e7a08f34aa75fd2,remove_auth_uri_from_keystone_authtoken,auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},www_authenticate_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},4,4
openstack%2Ftripleo-ansible~master~Icaa639af18b46fe81c5e37682c10aeab317929c8,openstack/tripleo-ansible,master,Icaa639af18b46fe81c5e37682c10aeab317929c8,tripleo_nova_compute: use config_template for configuration,MERGED,2022-11-01 21:05:14.000000000,2022-11-28 22:22:48.000000000,2022-11-28 22:22:48.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-01 21:05:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yml', 'ansible-test-env-podman.rc'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e06b0ea9671d26a9fec96166722b64236746622', 'message': 'tripleo_nova_compute: use config_template for configuration\n\nSwitch to using openstack.config_template for configuring nova.conf\ninstead of inifile. openstack.config_template is much more performant,\nand supports the ListOpt and MultiStrOpt configuration types used in\nOpenStack.\n\nAlso adds a missing environment variable to ansible-test-env-podman.rc\nfor running the tripleo_compute_node molecule test locally.\n\nChange-Id: Icaa639af18b46fe81c5e37682c10aeab317929c8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",7,863181,4e06b0ea9671d26a9fec96166722b64236746622,25,4,1,7144,,,0,"tripleo_nova_compute: use config_template for configuration

Switch to using openstack.config_template for configuring nova.conf
instead of inifile. openstack.config_template is much more performant,
and supports the ListOpt and MultiStrOpt configuration types used in
OpenStack.

Also adds a missing environment variable to ansible-test-env-podman.rc
for running the tripleo_compute_node molecule test locally.

Change-Id: Icaa639af18b46fe81c5e37682c10aeab317929c8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/863181/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nova_compute/tasks/configure.yml', 'ansible-test-env-podman.rc']",2,4e06b0ea9671d26a9fec96166722b64236746622,standalone-roles,"export TRIPLEO_ANSIBLE_COMPUTE_NODE_MOLECULE_VOLUMES=""['$HOME/.cache/tripleo-ansible/containers:/var/lib/containers:rw','/sys/fs/cgroup:/sys/fs/cgroup:rw']""",,7,15
openstack%2Fkolla-ansible~stable%2Fyoga~Ife7767904efe64602531fa3eb163c78260650909,openstack/kolla-ansible,stable/yoga,Ife7767904efe64602531fa3eb163c78260650909,init-runonce: use CirrOS 0.6.0,MERGED,2022-11-18 08:16:25.000000000,2022-11-28 22:16:08.000000000,2022-11-28 22:15:06.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 08:16:25.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cc884df3ce9776b0d0217020a444baf7c7c4605', 'message': 'init-runonce: use CirrOS 0.6.0\n\nCirrOS 0.6.0 was released yesterday. Has newer kernel and userspace,\nbetter network configuration (more IPv6 stuff) and some other\nimprovements.\n\nChange-Id: Ife7767904efe64602531fa3eb163c78260650909\n(cherry picked from commit e17a0ca24ac16aa4071f7a4d36a537e1e812e9f3)\n'}]",0,864971,5cc884df3ce9776b0d0217020a444baf7c7c4605,10,2,1,22629,,,0,"init-runonce: use CirrOS 0.6.0

CirrOS 0.6.0 was released yesterday. Has newer kernel and userspace,
better network configuration (more IPv6 stuff) and some other
improvements.

Change-Id: Ife7767904efe64602531fa3eb163c78260650909
(cherry picked from commit e17a0ca24ac16aa4071f7a4d36a537e1e812e9f3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/864971/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,5cc884df3ce9776b0d0217020a444baf7c7c4605,kolla_yoga_rl9,CIRROS_RELEASE=0.6.0IMAGE_URL=https://github.com/cirros-dev/cirros/releases/download/${CIRROS_RELEASE}/ IMAGE=cirros-${CIRROS_RELEASE}-${ARCH}-disk.img,IMAGE_URL=https://github.com/cirros-dev/cirros/releases/download/0.5.1/ IMAGE=cirros-0.5.1-${ARCH}-disk.img,3,2
openstack%2Fkolla-ansible~stable%2Fyoga~Ia0a3620bae21984933756331bb5937ce681d3237,openstack/kolla-ansible,stable/yoga,Ia0a3620bae21984933756331bb5937ce681d3237,CI: set cpu_model to Nehalem for kvm jobs,MERGED,2022-11-18 14:31:27.000000000,2022-11-28 22:14:47.000000000,2022-11-28 22:12:43.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-18 14:31:27.000000000', 'files': ['tests/templates/nova-compute-overrides.j2', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f34d15e46e8122987a8135acf86bcfc569bc1a5', 'message': 'CI: set cpu_model to Nehalem for kvm jobs\n\nRHEL 9 are being compiled for the x86_64-v2 architecture which is\nnewer than the qemu default of qemu64. Nehalem is apparently the\noldest model that works for x86_64-v2 and is expected to work on\nIntel and AMD cpus with kvm or qemu.\n\nSee devstack change [0].\n\n[0]: Ibd6e11b59f3c8655bc60ace7383a08458b2177f2\n\nChange-Id: Ia0a3620bae21984933756331bb5937ce681d3237\n(cherry picked from commit aa1b19c3c0a1d71f5dc4212d2fece3a41e3c2714)\n'}]",0,864973,4f34d15e46e8122987a8135acf86bcfc569bc1a5,10,2,1,22629,,,0,"CI: set cpu_model to Nehalem for kvm jobs

RHEL 9 are being compiled for the x86_64-v2 architecture which is
newer than the qemu default of qemu64. Nehalem is apparently the
oldest model that works for x86_64-v2 and is expected to work on
Intel and AMD cpus with kvm or qemu.

See devstack change [0].

[0]: Ibd6e11b59f3c8655bc60ace7383a08458b2177f2

Change-Id: Ia0a3620bae21984933756331bb5937ce681d3237
(cherry picked from commit aa1b19c3c0a1d71f5dc4212d2fece3a41e3c2714)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/864973/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/nova-compute-overrides.j2', 'zuul.d/base.yaml']",2,4f34d15e46e8122987a8135acf86bcfc569bc1a5,kolla_yoga_rl9, - ^tests/templates/nova-compute-overrides.j2,,10,0
openstack%2Fcharm-interface-ceph-client~master~I6ee3f53f2ebe2204b37dd7033eda77d670c11458,openstack/charm-interface-ceph-client,master,I6ee3f53f2ebe2204b37dd7033eda77d670c11458,just black,NEW,2022-11-28 22:02:16.000000000,2022-11-28 22:05:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-28 22:02:16.000000000', 'files': ['src/ceph_mds/requires.py', 'unit_tests/test_provides.py', 'test-requirements.txt', 'src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-ceph-client/commit/133389153d4c4a6254ea7c58c672c9814e754bdc', 'message': 'just black\n\nChange-Id: I6ee3f53f2ebe2204b37dd7033eda77d670c11458\n'}]",0,865916,133389153d4c4a6254ea7c58c672c9814e754bdc,2,1,1,31420,,,0,"just black

Change-Id: I6ee3f53f2ebe2204b37dd7033eda77d670c11458
",git fetch https://review.opendev.org/openstack/charm-interface-ceph-client refs/changes/16/865916/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/ceph_mds/requires.py', 'unit_tests/test_provides.py', 'test-requirements.txt', 'src/ceph_client/requires.py', 'unit_tests/test_requires.py', 'unit_tests/__init__.py', 'src/lib/base_requires.py', 'src/lib/base_provides.py', 'tox.ini']",9,133389153d4c4a6254ea7c58c672c9814e754bdc,black,commands = flake8 {posargs} black --check {toxinidir} [testenv:format] envdir = {toxworkdir}/pep8 deps = -r{toxinidir}/test-requirements.txt commands = black {toxinidir}exclude=.tox max-line-length = 88,commands = flake8 {posargs},327,302
openstack%2Fdesignate~stable%2Fvictoria~I052fb7ad90b4134ebe4c4e6a4784064c176eaaee,openstack/designate,stable/victoria,I052fb7ad90b4134ebe4c4e6a4784064c176eaaee,Specify AXFR transfer timeout for dnspython v1.,ABANDONED,2022-11-08 19:26:17.000000000,2022-11-28 21:23:13.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 19:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/48d2454c00bfc08a5cdb65121497f09886f8de08', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\nBy default there is no timeout at all, so we set infinity.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}, {'number': 2, 'created': '2022-11-09 12:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ffd6fbf393685bd70c67ea42097c185a2811ee92', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}, {'number': 3, 'created': '2022-11-09 12:14:11.000000000', 'files': ['designate/dnsutils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/dda3c31465683f5f64403b75d7d599db17af6e93', 'message': ""Specify AXFR transfer timeout for dnspython v1.\n\nIf we specify message timeout and do not specify AXFR transfer timeout\nwe face with error in dnspython v1:\nhttps://github.com/rthalley/dnspython/issues/390\nThe bug was fixed in v2:\nhttps://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375\nIt's risky to update dnspython to version 2 because there are changes in interfaces\nand eventlet requires updates too to be compatible with dnspython.\nSo it's simpler to set transfer timeout.\n\nCloses-Bug: 1940563\nChange-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee\n""}]",3,864058,dda3c31465683f5f64403b75d7d599db17af6e93,8,2,3,32927,,,0,"Specify AXFR transfer timeout for dnspython v1.

If we specify message timeout and do not specify AXFR transfer timeout
we face with error in dnspython v1:
https://github.com/rthalley/dnspython/issues/390
The bug was fixed in v2:
https://github.com/rthalley/dnspython/commit/9fbf9b223dc26262b1cf23f623f89283ee9c8375
It's risky to update dnspython to version 2 because there are changes in interfaces
and eventlet requires updates too to be compatible with dnspython.
So it's simpler to set transfer timeout.

Closes-Bug: 1940563
Change-Id: I052fb7ad90b4134ebe4c4e6a4784064c176eaaee
",git fetch https://review.opendev.org/openstack/designate refs/changes/58/864058/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/dnsutils.py'],1,48d2454c00bfc08a5cdb65121497f09886f8de08,bug/1940563," timeout=1, port=srv['port'], source=source, lifetime=float('inf'))"," timeout=1, port=srv['port'], source=source)",2,1
openstack%2Fcharm-hacluster~master~I8be6ac75979a276d7359cd96b123ca57342a7328,openstack/charm-hacluster,master,I8be6ac75979a276d7359cd96b123ca57342a7328,Add the python libmaas ppa,ABANDONED,2022-11-28 04:39:37.000000000,2022-11-28 21:06:31.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 04:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d53b521ad0a9cd8da109f8629719a9913169c347', 'message': 'Add the python libmaas ppa\n\nThis is to ensure we can install the latest python3-libmaas.\nThe main motivation is to fix jammy support\n(currently the version of python3-libmaas in the official repos\ndoes not support jammy).\n\nCloses-Bug: #1998069\nChange-Id: I8be6ac75979a276d7359cd96b123ca57342a7328\n'}, {'number': 2, 'created': '2022-11-28 04:52:58.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_hacluster_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e92e64f309881eba81ee199afc202c69ca9c5c51', 'message': 'Add the python libmaas ppa\n\nThis is to ensure we can install the latest python3-libmaas.\nThe main motivation is to fix jammy support\n(currently the version of python3-libmaas in the official repos\ndoes not support jammy).\n\nCloses-Bug: #1998069\nChange-Id: I8be6ac75979a276d7359cd96b123ca57342a7328\n'}]",4,865785,e92e64f309881eba81ee199afc202c69ca9c5c51,8,3,2,34352,,,0,"Add the python libmaas ppa

This is to ensure we can install the latest python3-libmaas.
The main motivation is to fix jammy support
(currently the version of python3-libmaas in the official repos
does not support jammy).

Closes-Bug: #1998069
Change-Id: I8be6ac75979a276d7359cd96b123ca57342a7328
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/85/865785/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,d53b521ad0a9cd8da109f8629719a9913169c347,libmaas-ppa," add_source, # add the ppa for the latest python-libmaas version add_source('ppa:maas/python-libmaas') apt_update(fatal=True)",,4,0
openstack%2Ftripleo-ansible~stable%2Fzed~I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,openstack/tripleo-ansible,stable/zed,I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,Fix repo problems in tripleo_collectd,ABANDONED,2022-11-28 19:25:15.000000000,2022-11-28 19:42:04.000000000,,[],"[{'number': 1, 'created': '2022-11-28 19:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8733c20845656ccb33afbd27d55313469e63f2b6', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)\n'}, {'number': 2, 'created': '2022-11-28 19:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c05f301dc0da729727276ac5bf6fa58dce91e221', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}, {'number': 3, 'created': '2022-11-28 19:40:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8994b5570e00dfdc1aac729700134a996a1bd61e', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)\n'}]",0,865887,8994b5570e00dfdc1aac729700134a996a1bd61e,4,0,3,30893,,,0,"Fix repo problems in tripleo_collectd

Closes-Bug: #1979972
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
Change-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93
(cherry picked from commit c049f57c5f4f35d9c15f9ea0c2f3c67ddc5b083b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/865887/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",10,8733c20845656ccb33afbd27d55313469e63f2b6,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,32,37
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,openstack/tripleo-ansible,stable/wallaby,I9df1a5b498f455f68b732cb2d54b0a85e58eeb93,Fix repo problems in tripleo_collectd,ABANDONED,2022-11-24 20:03:34.000000000,2022-11-28 19:17:26.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 20:03:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c', 'message': 'Fix repo problems in tripleo_collectd\n\nCloses-Bug: #1979972\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\n(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)\nChange-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93\n'}]",6,865600,abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c,5,2,1,30893,,,0,"Fix repo problems in tripleo_collectd

Closes-Bug: #1979972
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
(cherry picked from commit c9d7238d3325663f36762ede64c424682ef3f5cd)
Change-Id: I9df1a5b498f455f68b732cb2d54b0a85e58eeb93
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/865600/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_collectd/molecule/amqp_connection/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_collectd/molecule/amqp_default_interval/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/verify.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/common/prepare.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_libpodstats/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sqlalchemy/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_stf/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/collectd_connection/molecule.yml', 'tripleo_ansible/roles/tripleo_collectd/molecule/enable_sensubility/molecule.yml']",11,abbebbdaa57c6d65a5ffab58b4a81a1a49b6949c,, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg:O - /opt/yum.repos.d:/etc/yum.repos.d:O - /etc/dnf/vars:/etc/dnf/vars:O, - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw - /etc/dnf/vars:/etc/dnf/vars,33,30
openstack%2Fneutron~master~Ic38280eafaf500cbea4deae9fe2befa012fad861,openstack/neutron,master,Ic38280eafaf500cbea4deae9fe2befa012fad861,Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2),MERGED,2022-11-28 17:11:10.000000000,2022-11-28 18:48:35.000000000,2022-11-28 18:45:55.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 17:11:10.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b64ac90133d77d1615022125aa56890a3e169d9', 'message': 'Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2)\n\nThis patch completes the missing bits from [1].\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865590\n\nRelated-Bug: #1938966\nChange-Id: Ic38280eafaf500cbea4deae9fe2befa012fad861\n'}]",0,865871,5b64ac90133d77d1615022125aa56890a3e169d9,10,4,1,16688,,,0,"Use the neutron-lib constant for PACKET_RATE_LIMIT table number (2)

This patch completes the missing bits from [1].

[1]https://review.opendev.org/c/openstack/neutron/+/865590

Related-Bug: #1938966
Change-Id: Ic38280eafaf500cbea4deae9fe2befa012fad861
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/865871/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'],1,5b64ac90133d77d1615022125aa56890a3e169d9,bug/1938966," table_id=ovs_constants.PACKET_RATE_LIMIT), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE, table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE), table_id=ovs_constants.TRANSIENT_TABLE, table_id=ovs_constants.TRANSIENT_TABLE,"," table_id=59), table_id=60), table_id=60), table_id=60), table_id=60), table_id=60, table_id=60), table_id=60), table_id=60, table_id=60,",10,10
openstack%2Fneutron~master~Ic47c10ea2ba07347f32f75aa5de3c69e9e261780,openstack/neutron,master,Ic47c10ea2ba07347f32f75aa5de3c69e9e261780,[OVN] Prevent maintenance task fail resource stdattr does not exist,MERGED,2022-11-10 15:44:55.000000000,2022-11-28 18:46:59.000000000,2022-11-28 18:45:40.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84a5663f5fd9fad480b82a392dc4debae3360e71', 'message': '[WIP] [OVN] Prevent maintenance task fail resource stdattr does not exist\n\nCloses-Bug: #1996180\nChange-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780\n'}, {'number': 2, 'created': '2022-11-11 10:55:48.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81004125c4592f2378d8434e41ec2db41a42886b', 'message': ""[OVN] Prevent maintenance task fail resource stdattr does not exist\n\nIn the maintenance task, the method that fixes the missing or not\nupdated resources ``DBInconsistenciesPeriodics._fix_create_update``\nnot won't exit if the resource is not found in the Neutron database.\nWhen the OVN revision number is bumped, now the method retrieves the\nresource standard attributes register. If this register does not\nexist, that means the resource has been deleted.\n\nThe method catches the ``StandardAttributeIDNotFound`` exception and\nlogs an error.\n\nCloses-Bug: #1996180\nChange-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780\n""}]",7,864215,81004125c4592f2378d8434e41ec2db41a42886b,36,6,2,16688,,,0,"[OVN] Prevent maintenance task fail resource stdattr does not exist

In the maintenance task, the method that fixes the missing or not
updated resources ``DBInconsistenciesPeriodics._fix_create_update``
not won't exit if the resource is not found in the Neutron database.
When the OVN revision number is bumped, now the method retrieves the
resource standard attributes register. If this register does not
exist, that means the resource has been deleted.

The method catches the ``StandardAttributeIDNotFound`` exception and
logs an error.

Closes-Bug: #1996180
Change-Id: Ic47c10ea2ba07347f32f75aa5de3c69e9e261780
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/864215/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ovn_revision_numbers_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,84a5663f5fd9fad480b82a392dc4debae3360e71,bug/1996180," try: if not ovn_obj: res_map['ovn_create'](context, n_obj) else: if row.resource_type == ovn_const.TYPE_SECURITY_GROUP_RULES: LOG.error(""SG rule %s found with a revision number while "" ""this resource doesn't support updates"", row.resource_uuid) elif row.resource_type == ovn_const.TYPE_SECURITY_GROUPS: # In OVN, we don't care about updates to security groups, # so just bump the revision number to whatever it's # supposed to be. else: ext_ids = getattr(ovn_obj, 'external_ids', {}) ovn_revision = int(ext_ids.get( ovn_const.OVN_REV_NUM_EXT_ID_KEY, -1)) # If the resource exist in the OVN DB but the revision # number is different from Neutron DB, updated it. if ovn_revision != n_obj['revision_number']: res_map['ovn_update'](context, n_obj) else: # If the resource exist and the revision number # is equal on both databases just bump the revision on # the cache table. revision_numbers_db.bump_revision(context, n_obj, row.resource_type) except revision_numbers_db.StandardAttributeIDNotFound: LOG.error('Standard attribute ID not found for object ID %s', n_obj['id'])"," if not ovn_obj: res_map['ovn_create'](context, n_obj) else: if row.resource_type == ovn_const.TYPE_SECURITY_GROUP_RULES: LOG.error(""SG rule %s found with a revision number while "" ""this resource doesn't support updates"", row.resource_uuid) elif row.resource_type == ovn_const.TYPE_SECURITY_GROUPS: # In OVN, we don't care about updates to security groups, # so just bump the revision number to whatever it's # supposed to be. revision_numbers_db.bump_revision(context, n_obj, row.resource_type) else: ext_ids = getattr(ovn_obj, 'external_ids', {}) ovn_revision = int(ext_ids.get( ovn_const.OVN_REV_NUM_EXT_ID_KEY, -1)) # If the resource exist in the OVN DB but the revision # number is different from Neutron DB, updated it. if ovn_revision != n_obj['revision_number']: res_map['ovn_update'](context, n_obj) else: # If the resource exist and the revision number # is equal on both databases just bump the revision on # the cache table.",33,38
openstack%2Fneutron~master~I6803a194218fc2e92aae481917e850a27417d721,openstack/neutron,master,I6803a194218fc2e92aae481917e850a27417d721,"Remove deprecation warning of ""ovs-ofctl"" usage",MERGED,2022-11-24 17:02:43.000000000,2022-11-28 18:45:48.000000000,2022-11-28 18:45:48.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-24 17:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e318fb903892ef412136cf3c2908c45567f4e97', 'message': 'Remove deprecation warning of ""ovs-ofctl"" usage\n\nThis tool was not removed in the expected version and there are no\nplans to remove it yet. This patch removes the deprecation warning.\n\nChange-Id: I6803a194218fc2e92aae481917e850a27417d721\n'}, {'number': 2, 'created': '2022-11-25 08:19:48.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dad500481dc6ac9b9f2f91995f25d8b33af56bf', 'message': 'Remove deprecation warning of ""ovs-ofctl"" usage\n\nThis tool was not removed in the expected version and there are no\nplans to remove it yet. This patch removes the deprecation warning.\n\nChange-Id: I6803a194218fc2e92aae481917e850a27417d721\n'}]",1,865588,5dad500481dc6ac9b9f2f91995f25d8b33af56bf,15,5,2,16688,,,0,"Remove deprecation warning of ""ovs-ofctl"" usage

This tool was not removed in the expected version and there are no
plans to remove it yet. This patch removes the deprecation warning.

Change-Id: I6803a194218fc2e92aae481917e850a27417d721
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/865588/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,3e318fb903892ef412136cf3c2908c45567f4e97,remove_ovs-ofctl_deprecation_warning,," debtcollector.deprecate(""Use of run_ofctl is "" ""deprecated"", removal_version='V')",0,2
openstack%2Fironic~master~Id2e1462362e97d0152f3948e978a05ec16ca8e4d,openstack/ironic,master,Id2e1462362e97d0152f3948e978a05ec16ca8e4d,Get inventory from Inspector,MERGED,2022-11-08 19:15:17.000000000,2022-11-28 18:38:40.000000000,2022-11-28 18:37:09.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/554b8846a54f79a07d589fec49ccde195de93bbb', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 2, 'created': '2022-11-15 17:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f710be20a60f7abba4dcbf24c02a1840e191a92', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 3, 'created': '2022-11-22 17:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6161af95f0b588a2d74b7569cfbd5ce6551a6847', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 4, 'created': '2022-11-22 17:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73d70735a7182fc5367474d04347459ae39b10e2', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 5, 'created': '2022-11-22 18:38:10.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4073d198390914b3582e7692e3032d0d644b9479', 'message': 'Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}]",4,864057,4073d198390914b3582e7692e3032d0d644b9479,28,4,5,35099,,,0,"Get inventory from Inspector

Get inventory data and store it in the local database.

Story: 2010275
Task: 46204
Change-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/864057/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/inspector.py'],1,554b8846a54f79a07d589fec49ccde195de93bbb,get_inventory_from_inspector,"from ironic.objects import node_inventory inspector_client = _get_client(task.context) status = inspector_client.get_introspection(node.uuid) inventory_data = inspector_client.get_introspection_data( node.uuid, processed=True) node_inventory.NodeInventory( node_id=node.id, inventory_data=inventory_data).create()", status = _get_client(task.context).get_introspection(node.uuid),8,1
openstack%2Fansible-role-pki~master~I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172,openstack/ansible-role-pki,master,I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172,Allow to specify format for private keys,MERGED,2022-11-23 11:49:14.000000000,2022-11-28 18:13:08.000000000,2022-11-28 18:12:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-23 11:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/9d97eafdd39a77924998efa3d5841660e480753e', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}, {'number': 2, 'created': '2022-11-24 10:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/b1dee02a6c8ee653d10332d60d92866a254c262b', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}, {'number': 3, 'created': '2022-11-24 15:22:08.000000000', 'files': ['tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/eb5c560158929439886713ce687d522a86429f72', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}]",0,865420,eb5c560158929439886713ce687d522a86429f72,13,3,3,28619,,,0,"Allow to specify format for private keys

Some applications, like zookeeper, require private key to be in pkcs8
format while default one is pkcs1

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312
Change-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/20/865420/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_cert.yml'],1,9d97eafdd39a77924998efa3d5841660e480753e,osa/zookeeper," format: ""{{ cert.key_format | default(omit) }}""",,1,0
openstack%2Fdiskimage-builder~master~I5f3d0dc5a72db853fea37873eb4643a116412dda,openstack/diskimage-builder,master,I5f3d0dc5a72db853fea37873eb4643a116412dda,Change rockylinux-9 container to use baseurl instead of mirrorlist,ABANDONED,2022-10-05 14:52:25.000000000,2022-11-28 18:11:10.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-05 14:52:25.000000000', 'files': ['diskimage_builder/elements/rocky-container/containerfiles/9'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/516ef9c0d768d46b132e50e7a3500a2a312829ce', 'message': 'Change rockylinux-9 container to use baseurl instead of mirrorlist\n\nSome errors during build due to a bad mirror, it appears. This should\nuse the dl.rockylinux.org CDN and will help determine if it was just a\nproblem with a single mirror being returned to the node builder\nmachines.\n\nChange-Id: I5f3d0dc5a72db853fea37873eb4643a116412dda\n'}]",1,860428,516ef9c0d768d46b132e50e7a3500a2a312829ce,9,4,1,34411,,,0,"Change rockylinux-9 container to use baseurl instead of mirrorlist

Some errors during build due to a bad mirror, it appears. This should
use the dl.rockylinux.org CDN and will help determine if it was just a
problem with a single mirror being returned to the node builder
machines.

Change-Id: I5f3d0dc5a72db853fea37873eb4643a116412dda
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/860428/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/rocky-container/containerfiles/9'],1,516ef9c0d768d46b132e50e7a3500a2a312829ce,,# NOTE(nhanlon) 2022-10-05: Force rocky mirrors to use dl.rockylinux.org instead of mirrorlist RUN sed -i -e 's/^mirrorlist.*//g' -e 's/^#baseurl/baseurl/g' /etc/yum.repos.d/rocky*.repo ,,3,0
openstack%2Fansible-role-pki~master~I979fad595325f5608c889993079a8bb4bcdb9929,openstack/ansible-role-pki,master,I979fad595325f5608c889993079a8bb4bcdb9929,Drop bindep file,MERGED,2022-11-24 15:21:54.000000000,2022-11-28 18:05:00.000000000,2022-11-28 18:04:06.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-24 15:21:54.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/af36b57757429b0aceb6e62894ce8f9ef5ab9682', 'message': ""Drop bindep file\n\nWe don't really need bindep file on our roles so it can be safely\nremoved.\n\nAt the moment role breaks due to content of bindep as with switch to\nUbuntu Jammy python2 packages are no longer available.\n\nChange-Id: I979fad595325f5608c889993079a8bb4bcdb9929\n""}]",0,865574,af36b57757429b0aceb6e62894ce8f9ef5ab9682,8,3,1,28619,,,0,"Drop bindep file

We don't really need bindep file on our roles so it can be safely
removed.

At the moment role breaks due to content of bindep as with switch to
Ubuntu Jammy python2 packages are no longer available.

Change-Id: I979fad595325f5608c889993079a8bb4bcdb9929
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/74/865574/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,af36b57757429b0aceb6e62894ce8f9ef5ab9682,,,"# This file facilitates OpenStack-CI package installation # before the execution of any tests. # # See the following for details: # - https://docs.openstack.org/infra/bindep/ # - https://opendev.org/openstack-infra/bindep # # Even if the role does not make use of this facility, it # is better to have this file empty, otherwise OpenStack-CI # will fall back to installing its default packages which # will potentially be detrimental to the tests executed. # # Note: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/bindep.txt # If you need to remove or add extra dependencies, you should modify # the central file instead and once your change is accepted then update # this file as well. The purpose of this file is to ensure that Python and # Ansible have all their necessary binary requirements on the test host before # tox executes. Any binary requirements needed by services/roles should be # installed by those roles in their applicable package install tasks, not through # using this file. # # The gcc compiler gcc # Base requirements for Ubuntu git-core [platform:dpkg platform:suse] libssl-dev [platform:dpkg] libffi-dev [platform:dpkg] python2.7 [platform:dpkg] python-apt [platform:dpkg] python-dev [platform:dpkg] python3 [platform:dpkg] python3-apt [platform:dpkg] python3-dev [platform:dpkg] # Base requirements for RPM distros gcc-c++ [platform:rpm] git [platform:rpm !platform:suse] libffi-devel [platform:rpm] openssl-devel [platform:rpm] python-devel [platform:rpm] python2-dnf [platform:fedora] # Base requirements for Gentoo git [platform:gentoo] # For SELinux libselinux-python [platform:redhat] libsemanage-python [platform:redhat] ",0,52
openstack%2Fopenstack-ansible-lxc_hosts~master~I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e,openstack/openstack-ansible-lxc_hosts,master,I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e,Replace ifupdown with native ip-link,MERGED,2022-02-07 12:30:38.000000000,2022-11-28 18:03:57.000000000,2022-11-28 18:02:55.000000000,"[{'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-07 12:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b929e677617247ac5eea42126ee11c7f76909c0d', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 2, 'created': '2022-02-07 14:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/edd80cf9e11a80e9cb6d1fe6505dbb0f34006d56', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 3, 'created': '2022-02-07 14:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/59f44ab99bc0d958031ef01f9b43f6ed2de46383', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 4, 'created': '2022-02-07 14:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/83af9d96f35a5d65a916e0acc3b19b6a7f278f36', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 5, 'created': '2022-02-19 15:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c6729553f977da0764b2bca13cfbc7f5fca425ea', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 6, 'created': '2022-10-14 08:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9e341409b1ecf78d63fa514a91c4d8eadcf830cb', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 7, 'created': '2022-10-14 10:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9d48d917dd3a9a5d4c95242494b71d09e91804d3', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 8, 'created': '2022-10-14 10:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/99325ab127c064fc1c61c911f7e58a5707a80025', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 9, 'created': '2022-10-14 11:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0a75340f7d4185ba970438bb8290acd18d5e968a', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 10, 'created': '2022-10-14 11:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/de38595061cd846dd7dcf5c7d54293d6a3c99907', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 11, 'created': '2022-10-18 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6134f97cd562534cd5fca28021fc893c41e33e25', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 12, 'created': '2022-10-18 08:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/957c0419dcfecfbb7612fd1e7cbae34287c30dea', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 13, 'created': '2022-10-18 08:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0cc0dc613054f915dae79c8f9f90fc5c10a13a3b', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 14, 'created': '2022-11-02 12:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ad3d4b0d134f8c8b83b447ea52160107c60cd9b4', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 15, 'created': '2022-11-11 08:58:05.000000000', 'files': ['templates/lxc-networkd-bridge.netdev.j2', 'templates/lxc-system-manage.j2', 'tasks/lxc_net.yml', 'templates/lxc-net-bridge.cfg.j2', 'vars/debian-host.yml', 'templates/lxc-dnsmasq-systemd-init.j2', 'templates/lxc-networkd-bridge.network.j2', 'handlers/main.yml', 'templates/lxc-net-redhat-bridge.cfg.j2', 'vars/redhat-host.yml', 'templates/lxc-net-redhat-postdown.cfg.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3d8e3690ba620d1724129f8ed1a6a040c5ccdac9', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}]",12,828120,3d8e3690ba620d1724129f8ed1a6a040c5ccdac9,43,5,15,28619,,,0,"Replace ifupdown with native ip-link

We also leverage systemd-networkd for managing lxc-net and replace
using of custom service template for lxc-dnsmasq service with our
systemd-service role. These changes are quite tighten together, so
it's quite hard to split them in different patchsets.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350
Change-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/20/828120/10 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-system-manage.j2', 'vars/debian-host.yml', 'handlers/main.yml', 'vars/ubuntu-20.04-host.yml']",4,b929e677617247ac5eea42126ee11c7f76909c0d,osa/systemd_roles,, - ifupdown,2,4
openstack%2Fnova~master~I53439f9c5df117fde614a7d99e44187b29813651,openstack/nova,master,I53439f9c5df117fde614a7d99e44187b29813651,DNM:testing lvm job,NEW,2022-11-26 02:32:36.000000000,2022-11-28 17:57:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-26 02:32:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/36ba199ce1ef130fb554fa523818332061522119', 'message': 'DNM:testing lvm job\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/842240\nChange-Id: I53439f9c5df117fde614a7d99e44187b29813651\n'}]",3,865765,36ba199ce1ef130fb554fa523818332061522119,5,1,1,8556,,,0,"DNM:testing lvm job

Depends-On: https://review.opendev.org/c/openstack/tempest/+/842240
Change-Id: I53439f9c5df117fde614a7d99e44187b29813651
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/865765/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,36ba199ce1ef130fb554fa523818332061522119,,, templates: - check-requirements - integrated-gate-compute - openstack-cover-jobs - openstack-python3-jobs - openstack-python3-jobs-arm64 - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-live-migration - nova-live-migration-ceph - nova-multi-cell - nova-next - nova-ovs-hybrid-plug - nova-tox-validate-backport: voting: false - nova-tox-functional-py38 - nova-tox-functional-py39 - nova-tox-functional-py310: voting: true - openstack-tox-py310: voting: true - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - grenade-skip-level: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false gate: jobs: - nova-live-migration - nova-live-migration-ceph - nova-tox-functional-py38 - nova-tox-functional-py39 - nova-multi-cell - nova-next - nova-tox-validate-backport - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - tempest-integrated-compute: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files periodic-weekly: jobs: # Runs emulation feature functionality test less frequently due # to being the initial release and experimental in nature. - nova-emulation - tempest-centos9-stream-fips experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *nova-base-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *nova-base-irrelevant-files - nova-osprofiler-redis - tempest-pg-full: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-iptables_hybrid: irrelevant-files: *nova-base-irrelevant-files - os-vif-ovs: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-base-irrelevant-files - devstack-tobiko-nova: irrelevant-files: *nova-base-irrelevant-files - tempest-centos9-stream-fips: irrelevant-files: *nova-base-irrelevant-files - nova-emulation - tempest-integrated-compute-centos-9-stream: irrelevant-files: *nova-base-irrelevant-files,0,131
openstack%2Ftripleo-ci~master~Ibacc9b0e4d00c24f4224ccfb01381735ebab503b,openstack/tripleo-ci,master,Ibacc9b0e4d00c24f4224ccfb01381735ebab503b,Trigger scenario001 job when tripelo-podman role is upsed,MERGED,2022-11-24 06:53:19.000000000,2022-11-28 17:52:56.000000000,2022-11-28 17:52:56.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-24 06:53:19.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/592bfa8155a1cf60ae135fa0ea20643cca3ca8e0', 'message': 'Trigger scenario001 job when tripelo-podman role is upsed\n\nThe collectd service now directly refers to the implementations in\ntripleo-podman role. This change makes sure we trigger the scenario 001\njob, which contains collectd, when we make any change in tripleo-podman\nrole.\n\nChange-Id: Ibacc9b0e4d00c24f4224ccfb01381735ebab503b\n'}]",2,865506,592bfa8155a1cf60ae135fa0ea20643cca3ca8e0,12,5,1,9816,,,0,"Trigger scenario001 job when tripelo-podman role is upsed

The collectd service now directly refers to the implementations in
tripleo-podman role. This change makes sure we trigger the scenario 001
job, which contains collectd, when we make any change in tripleo-podman
role.

Change-Id: Ibacc9b0e4d00c24f4224ccfb01381735ebab503b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/865506/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,592bfa8155a1cf60ae135fa0ea20643cca3ca8e0,, - ^tripleo_ansible/roles/tripleo_podman/.*,,1,0
openstack%2Fneutron~master~Ib9663495f30562f79babef163729a0c43812089d,openstack/neutron,master,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-09 23:49:33.000000000,2022-11-28 17:47:00.000000000,2022-11-28 17:44:38.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-09 23:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e6b6787ffefd40231fa0915f87d6bf183d21c3a', 'message': '[WIP][OVN] Support enable and disable network logging\n\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\n'}, {'number': 2, 'created': '2022-11-11 16:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2956e3712ea7cad0abd06552c42f881c7b3173cb', 'message': '[WIP][OVN] Support enable and disable network logging\n\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\n'}, {'number': 3, 'created': '2022-11-16 15:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c50eebc3f2fab424c79036cf2029244b25ca4ed6', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 4, 'created': '2022-11-18 13:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d6df4bb6fe942bd6e05088d030b49a65dd7056f', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 5, 'created': '2022-11-24 12:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfd34d8e64c99eedc5573317d4daa1d0130c8be8', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 6, 'created': '2022-11-25 15:42:45.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f629b77d3c821717333eb740311a33a7a45b0e8d', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}]",25,864152,f629b77d3c821717333eb740311a33a7a45b0e8d,39,4,6,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/864152/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/drivers/ovn/driver.py'],1,0e6b6787ffefd40231fa0915f87d6bf183d21c3a,disable_sgl," #import pdb; pdb.set_trace() if not log_obj.enabled: other_logs = [log for log in self._get_logs(context) if log.id != log_obj.id and log.enabled] if other_logs: if log_obj.event == log_const.ALL_EVENT: acls_to_check = pgs[0][""acls""].copy() for log in other_logs: active_acls = self._pgs_from_log_obj(context, log)[0][""acls""] for acl in active_acls: if acl in acls_to_check: acl_to_check.remove(acl) if not acls_to_check: return acls_to_remove = [{""name"":pgs[0][""name""], ""acls"":acls_to_check}] self._remove_acls_log(acls_to_remove, ovn_txn) else: all_events = set([log.event for log in other_logs if not log.resource_id or log.resource_id == log_obj.resource_id]) if log_const.ALL_EVENT in all_events: return elif log_obj.event not in all_events: self._remove_acls_log(pgs, ovn_txn) else: self._set_acls_log(pgs, ovn_txn, actions_enabled, utils.ovn_name(log_obj.id))"," self._set_acls_log(pgs, ovn_txn, actions_enabled, utils.ovn_name(log_obj.id)) ",25,3
openstack%2Fswift~master~Ic0454c5f1d37a84258e43427cfe7cd6dfced285b,openstack/swift,master,Ic0454c5f1d37a84258e43427cfe7cd6dfced285b,proxy: add test for ContainerController._GET_using_cache,MERGED,2022-11-25 18:25:15.000000000,2022-11-28 17:45:50.000000000,2022-11-28 17:44:42.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 18:25:15.000000000', 'files': ['test/unit/proxy/controllers/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a1939cba037926400cd777059ee511481916cb08', 'message': ""proxy: add test for ContainerController._GET_using_cache\n\nAdd coverage for container the GET path that attempts to use memcache.\n\nWhen memcache is not available the backend requests will reverse shard\nranges if required by the request params. When memcache is available\nthe proxy sends a 'X-Backend-Override-Shard-Name-Filter' header to\ninstruct the backend to always return ShardRanges in their natural\norder. Add test coverage for the latter case.\n\nAlso add a last_modified item to the shard range dicts in mock\nresponse bodies to be consistent with the real server response.\n\nChange-Id: Ic0454c5f1d37a84258e43427cfe7cd6dfced285b\n""}]",3,865707,a1939cba037926400cd777059ee511481916cb08,13,2,1,7847,,,0,"proxy: add test for ContainerController._GET_using_cache

Add coverage for container the GET path that attempts to use memcache.

When memcache is not available the backend requests will reverse shard
ranges if required by the request params. When memcache is available
the proxy sends a 'X-Backend-Override-Shard-Name-Filter' header to
instruct the backend to always return ShardRanges in their natural
order. Add test coverage for the latter case.

Also add a last_modified item to the shard range dicts in mock
response bodies to be consistent with the real server response.

Change-Id: Ic0454c5f1d37a84258e43427cfe7cd6dfced285b
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/865707/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_container.py'],1,a1939cba037926400cd777059ee511481916cb08,p-namespace-map-2," reverse=False, expected_status=200, memcache=False): if memcache: # memcache exists, which causes backend to ignore constraints and # reverse params for shard range GETs request.environ['swift.cache'] = FakeMemcache() if memcache: self.assertEqual('sharded', req['headers'].get( 'X-Backend-Override-Shard-Name-Filter')) else: self.assertNotIn('X-Backend-Override-Shard-Name-Filter', req['headers']) def test_GET_sharded_container_no_memcache(self): sr_dicts = [dict(sr, last_modified=sr.timestamp.isoformat) for sr in shard_ranges] # NB: the backend returns reversed shard range list def test_GET_sharded_container_with_memcache(self): # verify alternative code path in ContainerController when memcache is # available... shard_bounds = ('', 'ham', 'pie', u'\N{SNOWMAN}', u'\U0001F334', '') shard_ranges = [ ShardRange('.shards_a/c_%s' % upper, Timestamp.now(), lower, upper) for lower, upper in zip(shard_bounds[:-1], shard_bounds[1:])] sr_dicts = [dict(sr, last_modified=sr.timestamp.isoformat) for sr in shard_ranges] sr_objs = [self._make_shard_objects(sr) for sr in shard_ranges] shard_resp_hdrs = [ {'X-Backend-Sharding-State': 'unsharded', 'X-Container-Object-Count': len(sr_objs[i]), 'X-Container-Bytes-Used': sum([obj['bytes'] for obj in sr_objs[i]]), 'X-Container-Meta-Flavour': 'flavour%d' % i, 'X-Backend-Storage-Policy-Index': 0} for i, _ in enumerate(shard_ranges)] all_objects = [] for objects in sr_objs: all_objects.extend(objects) size_all_objects = sum([obj['bytes'] for obj in all_objects]) num_all_objects = len(all_objects) limit = CONTAINER_LISTING_LIMIT expected_objects = all_objects root_resp_hdrs = {'X-Backend-Sharding-State': 'sharded', 'X-Backend-Timestamp': '99', # pretend root object stats are not yet updated 'X-Container-Object-Count': num_all_objects - 1, 'X-Container-Bytes-Used': size_all_objects - 1, 'X-Container-Meta-Flavour': 'peach', 'X-Backend-Storage-Policy-Index': 0, 'X-Backend-Override-Shard-Name-Filter': 'true'} root_shard_resp_hdrs = dict(root_resp_hdrs) root_shard_resp_hdrs['X-Backend-Record-Type'] = 'shard' # GET all objects # include some failed responses mock_responses = [ # status, body, headers (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2], shard_resp_hdrs[2]), (200, sr_objs[3], shard_resp_hdrs[3]), (200, sr_objs[4], shard_resp_hdrs[4]), ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto'}, dict(states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='ham\x00', limit=str(limit), states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xd1\xb0', end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xe2\xa8\x83', end_marker='', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2] + sr_objs[3])))), # 200 ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET all objects - sharding, final shard range points back to root root_range = ShardRange('a/c', Timestamp.now(), 'pie', '') mock_responses = [ # status, body, headers (200, sr_dicts[:2] + [dict(root_range)], root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2] + sr_objs[3] + sr_objs[4], root_resp_hdrs) ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing')), # 200 (shard_ranges[0].name, {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='ham\x00', limit=str(limit), states='listing')), # 200 (shard_ranges[1].name, {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), # 200 (root_range.name, {'X-Backend-Record-Type': 'object', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='p', end_marker='', limit=str(limit - len(sr_objs[0] + sr_objs[1])))) # 200 ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET all objects in reverse and *blank* limit mock_responses = [ # status, body, headers (200, list(sr_dicts), root_shard_resp_hdrs), (200, list(reversed(sr_objs[4])), shard_resp_hdrs[4]), (200, list(reversed(sr_objs[3])), shard_resp_hdrs[3]), (200, list(reversed(sr_objs[2])), shard_resp_hdrs[2]), (200, list(reversed(sr_objs[1])), shard_resp_hdrs[1]), (200, list(reversed(sr_objs[0])), shard_resp_hdrs[0]), ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing', reverse='true', limit='')), (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='\xf0\x9f\x8c\xb4', states='listing', reverse='true', limit=str(limit))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xf0\x9f\x8c\xb5', end_marker='\xe2\x98\x83', states='listing', reverse='true', limit=str(limit - len(sr_objs[4])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xe2\x98\x84', end_marker='pie', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='q', end_marker='ham', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3] + sr_objs[2])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='i', end_marker='', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3] + sr_objs[2] + sr_objs[1])))), # 200 ] resp = self._check_GET_shard_listing( mock_responses, list(reversed(expected_objects)), expected_requests, query_string='?reverse=true&limit=', reverse=True, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET with limit param limit = len(sr_objs[0]) + len(sr_objs[1]) + 1 expected_objects = all_objects[:limit] mock_responses = [ (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2][:1], shard_resp_hdrs[2]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(limit=str(limit), states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(limit=str(limit), states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='', end_marker='ham\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?limit=%s' % limit, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with marker marker = bytes_to_wsgi(sr_objs[3][2]['name'].encode('utf8')) first_included = (len(sr_objs[0]) + len(sr_objs[1]) + len(sr_objs[2]) + 2) limit = CONTAINER_LISTING_LIMIT expected_objects = all_objects[first_included:] mock_responses = [ (404, '', {}), (200, sr_dicts[3:], root_shard_resp_hdrs), (404, '', {}), (200, sr_objs[3][2:], shard_resp_hdrs[3]), (200, sr_objs[4], shard_resp_hdrs[4]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=marker, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=marker, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='\xe2\xa8\x83', end_marker='', states='listing', limit=str(limit - len(sr_objs[3][2:])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s' % marker, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with end marker end_marker = bytes_to_wsgi(sr_objs[3][6]['name'].encode('utf8')) first_excluded = (len(sr_objs[0]) + len(sr_objs[1]) + len(sr_objs[2]) + 6) expected_objects = all_objects[:first_excluded] mock_responses = [ (404, '', {}), (200, sr_dicts[:4], root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (404, '', {}), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2], shard_resp_hdrs[2]), (404, '', {}), (200, sr_objs[3][:6], shard_resp_hdrs[3]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(end_marker=end_marker, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(end_marker=end_marker, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='', end_marker='ham\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(marker='\xd1\xb0', end_marker=end_marker, states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='\xd1\xb0', end_marker=end_marker, states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?end_marker=%s' % end_marker, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with prefix prefix = 'hat' # they're all 1-character names; the important thing # is which shards we query expected_objects = [] mock_responses = [ (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, [], shard_resp_hdrs[1]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(prefix=prefix, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(prefix=prefix, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(prefix=prefix, marker='', end_marker='pie\x00', states='listing', limit=str(limit))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?prefix=%s' % prefix, memcache=True) self.check_response(resp, root_resp_hdrs) # marker and end_marker and limit limit = 2 expected_objects = all_objects[first_included:first_excluded] mock_responses = [ (200, sr_dicts[3:4], root_shard_resp_hdrs), (200, sr_objs[3][2:6], shard_resp_hdrs[1]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing', limit=str(limit), marker=marker, end_marker=end_marker)), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker=end_marker, states='listing', limit=str(limit))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s&end_marker=%s&limit=%s' % (marker, end_marker, limit), memcache=True) self.check_response(resp, root_resp_hdrs) # reverse with marker, end_marker, and limit expected_objects.reverse() mock_responses = [ (200, sr_dicts[3:4], root_shard_resp_hdrs), (200, list(reversed(sr_objs[3][2:6])), shard_resp_hdrs[1]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=end_marker, reverse='true', end_marker=marker, limit=str(limit), states='listing',)), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=end_marker, end_marker=marker, states='listing', limit=str(limit), reverse='true')), ] self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s&end_marker=%s&limit=%s&reverse=true' % (end_marker, marker, limit), reverse=True, memcache=True) self.check_response(resp, root_resp_hdrs) "," reverse=False, expected_status=200): def test_GET_sharded_container(self): sr_dicts = [dict(sr) for sr in shard_ranges]",415,3
openstack%2Fneutron~master~Ic35b5d4b9110b832c10345c45ec62c0923237cfd,openstack/neutron,master,Ic35b5d4b9110b832c10345c45ec62c0923237cfd,Fix duplicated routes exceptions,MERGED,2022-11-24 10:49:47.000000000,2022-11-28 17:45:46.000000000,2022-11-28 17:44:30.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 10:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/773c92b23bfc3f8d3bbf208ebfbc356429f555bb', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending on the keepalived version.\nThis can result in duplicated routes inside network namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state because it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of keepalived's configuration\nso network namespaces do not run into duplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 2, 'created': '2022-11-24 11:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab987398926aa859ced0cab5f763a53b5e38278', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending on the keepalived version.\nThis can result in duplicated routes inside network namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state because it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of keepalived's configuration\nso network namespaces do not run into duplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 3, 'created': '2022-11-24 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a11e73da7b75fcfb39ae4eff99bfa14ed043465', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 4, 'created': '2022-11-24 12:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e006ad9fc3f0a68f1186699f649c9746da0f9ed6', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 5, 'created': '2022-11-24 22:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92b3027b60e2257e554aa91c8295672e72ecde2f', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 6, 'created': '2022-11-25 08:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fbe080712193e05c594f3241d62cdcd0c2769ea', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 7, 'created': '2022-11-25 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a91a2e23ddb7220f27938590562ab7bad3147d11', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 8, 'created': '2022-11-25 18:40:09.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c813b658d0e5e0c00093f90f849fcf67ddca16cf', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}]",25,865525,c813b658d0e5e0c00093f90f849fcf67ddca16cf,41,4,8,34380,,,0,"Fix duplicated routes exceptions

Since the train release neutron adds routes with protocol static.
Keepalived also adds the same routes with different protocols depending
on the keepalived version. This can result in duplicated routes inside
network namespaces. On l3 agent restarts those duplicate routes
then prevent the l3 agent from updating its router state
because it runs into 'RTNETLINK answers: File exists expections'
when it tries to execute 'ip route' commands.

This patch adds the same protocol static to each virtual route of
keepalived's configuration so network namespaces do not run into
duplicated routes anymore.

Closes-Bug: #1956846
Change-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/865525/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/keepalived.py'],1,773c92b23bfc3f8d3bbf208ebfbc356429f555bb,fix-duplicated-routes, # NOTE: neutron and keepalived are adding the same routes on primary routers. # With this we ensure that both are adding the routes with the same procotol # and prevent duplicated routes which result in neutron exception for ip route commands. output += ' protocol static',,4,0
openstack%2Fpuppet-nova~master~I0f590f12017e743a17d989d3a1008faa9b840e87,openstack/puppet-nova,master,I0f590f12017e743a17d989d3a1008faa9b840e87,Migrate instance_name_template to the base class,MERGED,2022-01-29 14:39:35.000000000,2022-11-28 17:42:24.000000000,2022-11-28 17:41:25.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25613}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-29 14:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/36c568452c69430067079710c9a9967a6c7ad37e', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nDeployment would fail if the old parameter is used and customized\nto let users aware of the ineffective usage.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 2, 'created': '2022-11-18 03:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1884f41b2b994ecbaa620cd0916a899855700f1e', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 3, 'created': '2022-11-18 05:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0d953bf80a13c2928ee7ae5c47946642d298bcbf', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 4, 'created': '2022-11-21 00:48:26.000000000', 'files': ['manifests/api.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/move-instance_name_template-to-base-52516c9df907a8c6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/73eb553202e77ca3073764bb863cc07adc7f32c4', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}]",8,826958,73eb553202e77ca3073764bb863cc07adc7f32c4,34,6,4,9816,,,0,"Migrate instance_name_template to the base class

The [DEFAULT] instance_name_template parameter is used not only by
nova-api but by other services like nova-conductor or nova-compute.
This change migrate the parameter from the api class to the base class
so that users can configure the parameter for all services.

Change-Id: I0f590f12017e743a17d989d3a1008faa9b840e87
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/826958/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/move-instance_name_template-to-base-52516c9df907a8c6.yaml']",5,36c568452c69430067079710c9a9967a6c7ad37e,instance_name_template,--- deprecations: - | The ``nova::api::instance_name_template`` parameter has been deprecated and has no effect. Use the ``nova::instance_name_template`` parameter instead so that the setting is applied to all nova services. ,,28,26
openstack%2Fneutron~master~I902cc542f2d0e81ff7d1c4379199a5cf92af907c,openstack/neutron,master,I902cc542f2d0e81ff7d1c4379199a5cf92af907c,[DNM] Testing patch,ABANDONED,2022-11-18 15:32:10.000000000,2022-11-28 17:25:00.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 15:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13c35ad5ddda254678fa918387109bf89553143f', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 2, 'created': '2022-11-18 16:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36a42c574df6bb7557e087ab37edeca11723ca70', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 3, 'created': '2022-11-21 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1440c8feb503f1548c8ac657c53ad866fb0b06fc', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 4, 'created': '2022-11-21 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/140a8c6fd4b754f26564744ab557bed7b1df9d93', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 5, 'created': '2022-11-21 19:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7f61163e21d6f4055b3a3bd757a7de559dded64', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 6, 'created': '2022-11-22 09:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e00993109f7b1ee044644401832d3c23d6b4359', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 7, 'created': '2022-11-22 12:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6733fdd7261d5dc1ca9c06ed5edc80e085817a1', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 8, 'created': '2022-11-22 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/348b8cf559655543418352bc19062141c101c4eb', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 9, 'created': '2022-11-22 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7555bc39d5f55801e6e77442654989405b3433e', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 10, 'created': '2022-11-23 09:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ee4169aa1d5a89b529290f3b95367d758b3be0a', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 11, 'created': '2022-11-23 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7da7c53442dbfd729a882d23f075695da5cd2883', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 12, 'created': '2022-11-24 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5b7828ebdd6377fae88f34c91eebf50b74115a4', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 13, 'created': '2022-11-25 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a04d5557ad92c6fc99f8fcda0b6a0ba7ca64bd7b', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 14, 'created': '2022-11-25 12:48:59.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8c53cef1d14b8242c23eab4e46c174044a05021', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}]",13,865039,d8c53cef1d14b8242c23eab4e46c174044a05021,71,2,14,16688,,,0,"[DNM] Testing patch

This patch tests https://review.opendev.org/c/openstack/neutron/+/837780

I'll recheck this patch several times in order to run
""neutron-ovs-tempest-multinode-full"" several times, testing that
""test_live_migration_with_trunk"" test is now working (as expected).

Change-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/865039/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py']",2,13c35ad5ddda254678fa918387109bf89553143f,bug/1869244,# Trivial change to force testing.,,1,50
openstack%2Fneutron~master~I4e16357f3ff214fcf41e418982806c24088a2665,openstack/neutron,master,I4e16357f3ff214fcf41e418982806c24088a2665,Avoid race condition when deleting trunk bridges,MERGED,2022-04-13 23:26:56.000000000,2022-11-28 17:20:36.000000000,2022-11-28 17:18:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 23:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faf396f2589a8dd0acebb9e0d8528c333319f6df', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but are deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 2, 'created': '2022-04-13 23:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4600e85ea84c024f3becde895a5531f0b6c5ccfc', 'message': ""[WIP] Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but are deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 3, 'created': '2022-04-14 21:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dc4e71e5d3375782e1298c295ea6fece60bd7ba', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 4, 'created': '2022-05-02 23:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4822996d95a7fb259b86a3e766d9a437014e08ee', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 5, 'created': '2022-05-04 21:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dc5cdf520802417ec3ad06d98bee70a438431c6', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 6, 'created': '2022-05-05 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8eee41e0bff6fbcb328a3954451429972e1d3cd7', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 7, 'created': '2022-05-11 23:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f693121ba014b15ac5b6459be8af6261971dbb70', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 8, 'created': '2022-07-22 23:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f25c9756a06f668acbd47cab5eea2357c3f8187', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 9, 'created': '2022-07-26 23:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25607c183519ea50dd95f07443a302caaaeb702b', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 10, 'created': '2022-07-29 23:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8d9329b85ea9baf0aa67cad2ea0d6dc0f0dd1ea', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851619\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 11, 'created': '2022-08-01 22:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86284ac401e589b4fdca4d92d46d61238010bde4', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851619\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 12, 'created': '2022-11-18 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89d1f52b7a08b697d2f6fcfd0eb6aab23d083278', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nCloses-Bug: #1869244\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 13, 'created': '2022-11-18 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca52af597b04243e37795c6b6c231d768091a0c1', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/865041\n\nCloses-Bug: #1869244\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 14, 'created': '2022-11-23 09:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59045b54df67831363a925e0e3c7388494bd21e0', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1]. As commented in the previous paragraph,\nthis patch fixes the issue reported in LP#1997025. The trunk port live\nmigration must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 15, 'created': '2022-11-23 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adc79d90b3cfba01c2d9fb3fb4c14a6d62ae8114', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1]. As commented in the previous paragraph,\nthis patch fixes the issue reported in LP#1997025. The trunk port live\nmigration must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 16, 'created': '2022-11-24 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a6678e3c746de11772cbe0fe70c227f44f0b3be', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1] and [2]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n[1]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 17, 'created': '2022-11-25 10:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0834eeb73ba906c5876d7d294d13048a4805b9e', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity. Since [1], Nova uses the os-vif version that contains\nthis functionality.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [2] and [3]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/nova/+/865031\n[2]https://review.opendev.org/c/openstack/neutron/+/865295\n[3]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 18, 'created': '2022-11-25 12:48:59.000000000', 'files': ['neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'zuul.d/tempest-multinode.yaml', 'requirements.txt', 'neutron/services/trunk/drivers/openvswitch/driver.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/test_driver.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py', 'neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py', 'neutron/tests/common/net_helpers.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33de608f04dcc8117eeba63876598dc2ae93013a', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity. Since [1], Nova uses the os-vif version that contains\nthis functionality.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [2] and [3]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/nova/+/865031\n[2]https://review.opendev.org/c/openstack/neutron/+/865295\n[3]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}]",36,837780,33de608f04dcc8117eeba63876598dc2ae93013a,131,8,18,4694,,,0,"Avoid race condition when deleting trunk bridges

Prior to this change, trunk bridges are created by os-vif but deleted
by Neutron when the last vif is removed from it. This creates race
conditions in some use cases, like DPDK with vhostuserclient mode, when
VMs are rebooted. To avoid these races, Neutron will not delete trunk
bridges anymore. Their creation and deletion will be os-vif's
responsiblity. Since [1], Nova uses the os-vif version that contains
this functionality.

This patch also changes the trunk status change event. During a live
migration, when the trunk parent port has been bound to the destination
host (that means there is only one port binding associated) and the
status has changed to ACTIVE, the method triggers the subport binding
to the new host too. This is because there could be a race condition
between the subport binding, triggered by the OVS agent, and the parent
port binding, triggered by Nova. If when the OVS agent tries to bind the
subports, the parent port is still bound to the source host, the subport
binding remains in the source host too, instead of changing to the
destination.

This patch also reverts [2] and [3]. As commented in the previous
paragraph, this patch fixes the issue reported in LP#1997025. The trunk
port live migration with ML2/OVS must be fixed with this patch.

[1]https://review.opendev.org/c/openstack/nova/+/865031
[2]https://review.opendev.org/c/openstack/neutron/+/865295
[3]https://review.opendev.org/c/openstack/neutron/+/865424

Closes-Bug: #1869244
Closes-Bug: #1997025

Change-Id: I4e16357f3ff214fcf41e418982806c24088a2665
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/837780/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py'],1,faf396f2589a8dd0acebb9e0d8528c333319f6df,bug/1869244,, txn.add(ovsdb.del_br(self.bridge.br_name)),0,1
openstack%2Ftripleo-heat-templates~master~I1331a179d53d992e692128d2b419290843031740,openstack/tripleo-heat-templates,master,I1331a179d53d992e692128d2b419290843031740,Ceilometer: Remove ceilometer::db parameters,MERGED,2022-06-20 01:12:46.000000000,2022-11-28 17:09:12.000000000,2022-11-28 17:09:12.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-20 01:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a443217ad8ed4ca452777d642d0ab9717233280', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 2, 'created': '2022-08-30 09:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bf112eb6b47128a30e1e12c64a831dfab66fe4f', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 3, 'created': '2022-09-08 12:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1d4f12b9e8ec1d977dda6e5edc1dac2e87f79a6', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 4, 'created': '2022-11-24 02:40:02.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9172e88a11d1998172b64ea23e43fcec326ce2a6', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}]",2,846539,9172e88a11d1998172b64ea23e43fcec326ce2a6,27,8,4,9816,,,0,"Ceilometer: Remove ceilometer::db parameters

... because the class is no longer included.

Depends-on: https://review.opendev.org/846537
Change-Id: I1331a179d53d992e692128d2b419290843031740
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/846539/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,5a443217ad8ed4ca452777d642d0ab9717233280,ceilometer-remove-db,, ceilometer::db::sync_db: false,0,1
openstack%2Fcharm-ceph-mon~stable%2Fquincy~I9dbc28e3d400169d011f0aa3c90a9f9445079bb2,openstack/charm-ceph-mon,stable/quincy,I9dbc28e3d400169d011f0aa3c90a9f9445079bb2,Backport pg-repair action (quincy),ABANDONED,2022-11-22 22:39:29.000000000,2022-11-28 17:06:33.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 22:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1c93c81e14bc7643490e05eb095fbdb163b658fa', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 2, 'created': '2022-11-22 23:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/19d186ecf5502d43c73bafc1eef7d94edadbdac4', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 3, 'created': '2022-11-22 23:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1bfe5fa5452664c53e1cdd6749fa325ad251ea30', 'message': 'Added safe-pg-repair action (quincy)\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 4, 'created': '2022-11-23 22:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ad2cc33623aab994eb933e4ec46d5f1a07ff5fdd', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 5, 'created': '2022-11-24 00:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ea3686def056912535ce56ea8c2caac14e016e87', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 6, 'created': '2022-11-26 00:12:27.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'actions/pg-repair', 'actions/pg_repair.py', 'unit_tests/test_action_pg_repair.py', 'tox.ini', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/3aabb478851261c483dc1e66fbd672cfebb7fe19', 'message': 'Backport pg-repair action (quincy)\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}]",3,865346,3aabb478851261c483dc1e66fbd672cfebb7fe19,22,3,6,33717,,,0,"Backport pg-repair action (quincy)

This action automatically repairs inconsistent placement groups
which are caused by read errors.

PGs are repaired using `ceph pg repair <pgid>`.

Action is only taken if on of a PG's shards has a ""read_error"",
and no action will be taken if any additional errors are found.
No action will be taken if multiple ""read_errors"" are found.

This action is intended to be safe to run in all contexts.

Closes-Bug: #1923218
(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)

Change-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/46/865346/5 && git format-patch -1 --stdout FETCH_HEAD,"['actions/pg-repair', 'actions/pg_repair.py', 'unit_tests/test_action_pg_repair.py', 'actions.yaml']",4,1c93c81e14bc7643490e05eb095fbdb163b658fa,quincy-pg-repair,"pg-repair: description: ""Repair inconsistent placement groups, if safe to do so.""",,485,0
openstack%2Ftrove~master~I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48,openstack/trove,master,I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48,Fix the missing log request-id,MERGED,2022-11-27 16:33:56.000000000,2022-11-28 16:51:33.000000000,2022-11-28 16:50:26.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-27 16:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6ba50273e972fbd95b346f2a1da0ed713c15cdaf', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}, {'number': 2, 'created': '2022-11-28 08:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/addafe105b0b1dd497bc9ed552377d52b58b8620', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}, {'number': 3, 'created': '2022-11-28 08:32:13.000000000', 'files': ['releasenotes/notes/fix-missing-request-id-in-log.yaml', 'trove/common/context.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/61a5198255a76fce0582e22510ef29b751211e28', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}]",5,865635,61a5198255a76fce0582e22510ef29b751211e28,16,2,3,28290,,,0,"Fix the missing log request-id

This PS ensure oslo Context.update_store method is called, to
ensure that thread-local context object is updated before
Trove service render log

Story: 2010451
Task: 46951

Change-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48
Signed-off-by: Ha Minh Cong <conghm1@viettel.com.vn>
",git fetch https://review.opendev.org/openstack/trove refs/changes/35/865635/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/context.py'],1,6ba50273e972fbd95b346f2a1da0ed713c15cdaf,fix-log-request-id-missing," super(TroveContext, self).update_store()",,1,0
openstack%2Fironic~bugfix%2F19.0~I98955e90f216411c0ca3077dfb20fc3f2dc5b93e,openstack/ironic,bugfix/19.0,I98955e90f216411c0ca3077dfb20fc3f2dc5b93e,Deals with migration of tox base job to Ubuntu Jammy,MERGED,2022-11-28 08:39:26.000000000,2022-11-28 16:22:50.000000000,2022-11-28 16:20:13.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-28 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dbdd3afdeed32374c397f2ff6036b3336225af31', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover and openstack-tox-pep8\n(there is no package named 'python-dev' in Ubuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e\n""}, {'number': 2, 'created': '2022-11-28 08:51:41.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b194c2d424634e5cc08a59095bacb4c852af1a3', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover, openstack-tox-pep8,\nironic-tox-unit-with-driver-libs, ironic-tox-bandit and\nironic-cross-sushy (there is no package named 'python-dev' in\nUbuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e\n""}]",0,865802,5b194c2d424634e5cc08a59095bacb4c852af1a3,9,3,2,30566,,,0,"Deals with migration of tox base job to Ubuntu Jammy

OpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)
adds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th
(6d85fd8399ed6b9f2358412945cd6683989662cd).
This causes CI failure in openstack-tox-cover, openstack-tox-pep8,
ironic-tox-unit-with-driver-libs, ironic-tox-bandit and
ironic-cross-sushy (there is no package named 'python-dev' in
Ubuntu Jammy).

This commit fixes this through specifying Ubuntu Focal Zuul node.

Change-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/865802/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'bindep.txt']",2,dbdd3afdeed32374c397f2ff6036b3336225af31,handle_jammy_change_19.0,python-dev [platform:dpkg test !platform:ubuntu-jammy],python-dev [platform:dpkg test],5,1
openstack%2Ftripleo-quickstart~master~I45ccfea8d301abef09ad9d10c85eaf4497cde901,openstack/tripleo-quickstart,master,I45ccfea8d301abef09ad9d10c85eaf4497cde901,[DNM] Activating debug for update.,ABANDONED,2022-11-28 13:21:53.000000000,2022-11-28 16:21:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b5fc7a43f4f2d2a5a2e102df896b96fb67df4056', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}, {'number': 2, 'created': '2022-11-28 13:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4f9aa02dd43ecb73cb7718b13be31feba7842ae1', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}, {'number': 3, 'created': '2022-11-28 13:28:53.000000000', 'files': ['config/general_config/featureset037.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9868f24e0c6a93c6b57d69a6bb2b85343a60fd82', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}]",0,865827,9868f24e0c6a93c6b57d69a6bb2b85343a60fd82,6,2,3,8297,,,0,"[DNM] Activating debug for update.

Trying to understand what happen there
https://review.opendev.org/c/openstack/tripleo-common/+/859403

Change-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/865827/2 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset037.yml'],1,b5fc7a43f4f2d2a5a2e102df896b96fb67df4056,,quickstart_verbosity: '-vvvv' ,,2,0
openstack%2Fironic~bugfix%2F18.1~I190687b259d38fc42ec82c2440a6f92092602362,openstack/ironic,bugfix/18.1,I190687b259d38fc42ec82c2440a6f92092602362,Deals with migration of tox base job to Ubuntu Jammy,MERGED,2022-11-28 08:47:25.000000000,2022-11-28 16:19:20.000000000,2022-11-28 16:16:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-28 08:47:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/777734ba6231dcfd092e983319b91a3a408a6f6d', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover, openstack-tox-pep8,\nironic-tox-unit-with-driver-libs and ironic-tox-bandit\n(there is no package named 'python-dev' in Ubuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I190687b259d38fc42ec82c2440a6f92092602362\n""}]",0,865804,777734ba6231dcfd092e983319b91a3a408a6f6d,8,3,1,30566,,,0,"Deals with migration of tox base job to Ubuntu Jammy

OpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)
adds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th
(6d85fd8399ed6b9f2358412945cd6683989662cd).
This causes CI failure in openstack-tox-cover, openstack-tox-pep8,
ironic-tox-unit-with-driver-libs and ironic-tox-bandit
(there is no package named 'python-dev' in Ubuntu Jammy).

This commit fixes this through specifying Ubuntu Focal Zuul node.

Change-Id: I190687b259d38fc42ec82c2440a6f92092602362
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/865804/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'bindep.txt']",2,777734ba6231dcfd092e983319b91a3a408a6f6d,handle_jammy_change_18.1,python-dev [platform:dpkg test !platform:ubuntu-jammy],python-dev [platform:dpkg test],8,2
openstack%2Fopenstack-ansible~master~I6ca593142c673ea24aed9e5ce58a03bca0bfd48d,openstack/openstack-ansible,master,I6ca593142c673ea24aed9e5ce58a03bca0bfd48d,Make bootstrap-ansible fail for unsupported distro installs,NEW,2022-10-07 20:06:44.000000000,2022-11-28 16:19:13.000000000,,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-07 20:06:44.000000000', 'files': ['releasenotes/notes/limit-distro-installs-15abdcf018dc62ef.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b', 'message': 'Make bootstrap-ansible fail for unsupported distro installs\n\nThe Zed release only supports Ubuntu Focal for distro install_method,\nso make the bootstrap fail for any other operating systems.\n\nThis will reduce the possibility of the use of unsupported operating\nsystems during the installation / upgrade of the Zed release.\n\nChange-Id: I6ca593142c673ea24aed9e5ce58a03bca0bfd48d\n'}]",1,860746,54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b,5,3,1,25023,,,0,"Make bootstrap-ansible fail for unsupported distro installs

The Zed release only supports Ubuntu Focal for distro install_method,
so make the bootstrap fail for any other operating systems.

This will reduce the possibility of the use of unsupported operating
systems during the installation / upgrade of the Zed release.

Change-Id: I6ca593142c673ea24aed9e5ce58a03bca0bfd48d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/860746/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/limit-distro-installs-15abdcf018dc62ef.yaml', 'playbooks/openstack-hosts-setup.yml']",2,54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b,," - name: Check for a valid install_method vars: bypass_install_method_check: ""{{ use_unsupported_install_method | default(False) }}"" assert: that: - (install_method == 'source') or (install_method == 'distro' and ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_release'] == 'focal') or bypass_install_method_check msg: > The only supported platform for 'distro' install_method is Ubuntu Focal. Set use_unsupported_install_method: true in user_variables.yml to disable this check",,27,0
openstack%2Fironic-python-agent~master~I98f1c1ff03868fc610e6133419fade094d15e2f6,openstack/ironic-python-agent,master,I98f1c1ff03868fc610e6133419fade094d15e2f6,Add an attestation extension,NEW,2021-08-04 19:37:01.000000000,2022-11-28 16:17:57.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 19:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1441fb33d7547ec3aef35be9ac06344914d33dbb', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 2, 'created': '2021-08-09 16:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ec16532893ff954456a4f40fda15b996e3b72c0a', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 3, 'created': '2021-08-10 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d3ce9494431a01fabc376c2418d7fe905566bfc5', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 4, 'created': '2021-09-21 16:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca8b2e4e365f469fd49504c4c2d4bfb3fb656fff', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 5, 'created': '2021-09-21 18:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2d1364962648cac1f9138cd43e07788642fc5990', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 6, 'created': '2021-09-27 14:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e586fe1c4aeea288e91ba55df5047681a4f265c', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 7, 'created': '2022-11-28 14:29:29.000000000', 'files': ['releasenotes/notes/add-attestation-extension-4bed291b16c3f541.yaml', 'ironic_python_agent/tests/unit/extensions/test_attestation.py', 'ironic_python_agent/extensions/attestation.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/395bcc6246fe3f363a83df539ff9fbb1002f7a4a', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}]",22,803510,395bcc6246fe3f363a83df539ff9fbb1002f7a4a,20,2,7,32617,,,0,"Add an attestation extension

This extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.
Story: 2002713
Task: 42947

Change-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/803510/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_attestation.py', 'ironic_python_agent/extensions/attestation.py', 'setup.cfg']",3,1441fb33d7547ec3aef35be9ac06344914d33dbb,keylime-attestation, attestation = ironic_python_agent.extensions.attestation:AttestationExtension,,96,0
openstack%2Fcharm-mysql-innodb-cluster~master~I119018f31a7d08f38d4b51d613a2c028132247cc,openstack/charm-mysql-innodb-cluster,master,I119018f31a7d08f38d4b51d613a2c028132247cc,Add bindep.txt,MERGED,2022-11-25 12:57:04.000000000,2022-11-28 16:11:36.000000000,2022-11-28 16:11:36.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:57:04.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/95cc98597d2aab1e01a569599c3674c2c0262d69', 'message': 'Add bindep.txt\n\nChange-Id: I119018f31a7d08f38d4b51d613a2c028132247cc\n'}]",0,865685,95cc98597d2aab1e01a569599c3674c2c0262d69,7,3,1,2424,,,0,"Add bindep.txt

Change-Id: I119018f31a7d08f38d4b51d613a2c028132247cc
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/85/865685/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,95cc98597d2aab1e01a569599c3674c2c0262d69,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fovn-octavia-provider~stable%2Fwallaby~Ie47f19afdd041843fe47da739b09ee03a88c7b02,openstack/ovn-octavia-provider,stable/wallaby,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:32:14.000000000,2022-11-28 15:54:45.000000000,2022-11-28 15:53:31.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:32:14.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865713,6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/865713/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Fovn-octavia-provider~stable%2Fxena~Ie47f19afdd041843fe47da739b09ee03a88c7b02,openstack/ovn-octavia-provider,stable/xena,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:31:58.000000000,2022-11-28 15:54:41.000000000,2022-11-28 15:53:29.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:31:58.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865712,ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/865712/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Ftripleo-ansible~master~I78a3c5361276d8f2a7cf42e95a32592f26606dee,openstack/tripleo-ansible,master,I78a3c5361276d8f2a7cf42e95a32592f26606dee,Drop unused vars for cells v2 discover tasks,MERGED,2022-11-02 13:53:29.000000000,2022-11-28 15:51:47.000000000,2022-11-28 15:51:47.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-02 13:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7220011bf86396308ac5445590de6d849ad7a83c', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-25 15:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/485dc3ef36bc23ea570f2ad9871faf4a2b088c66', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-11-25 15:33:57.000000000', 'files': ['tripleo_ansible/playbooks/create-nova-cell-v2.yaml', 'tripleo_ansible/roles/tripleo_cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/discover_hosts.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/create_cell.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26c905e08b322cb2db7556da7a14459adbe3875f', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,863312,26c905e08b322cb2db7556da7a14459adbe3875f,21,8,3,6926,,,0,"Drop unused vars for cells v2 discover tasks

Change-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/863312/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/create-nova-cell-v2.yaml'],1,7220011bf86396308ac5445590de6d849ad7a83c,,," tripleo_cellv2_cell_name: ""{{ tripleo_cellv2_cell_name }}"" tripleo_cellv2_cellcontroller_group: ""{{ groups['CellController'] }}""",0,2
openstack%2Ftripleo-heat-templates~master~Idb16f8664d937d8d11108f2b29b22f8b7ced521c,openstack/tripleo-heat-templates,master,Idb16f8664d937d8d11108f2b29b22f8b7ced521c,Expose /var/lib/glance to cron container,MERGED,2022-11-24 06:21:26.000000000,2022-11-28 15:51:43.000000000,2022-11-28 15:51:43.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-24 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cdd3214771222cda8158e6ad07fd9bc2092a112', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}, {'number': 2, 'created': '2022-11-24 06:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdb77112cf65b82de2581291978f093fb6a18222', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}, {'number': 3, 'created': '2022-11-28 08:37:04.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b532a042152805e32c2f410bbfe16f5e8e222581', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nBecause the directory is now shared by the two containers (glance_api\nand glance_api_cron), the mount flag is updated from slave to shared\nso that any change is propagated between these two containers.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}]",4,865501,b532a042152805e32c2f410bbfe16f5e8e222581,16,4,3,9816,,,0,"Expose /var/lib/glance to cron container

The glance_api_cron container executes the cache clean/prune jobs, thus
it requires access to the /var/lib/glance directory which contains
the cache data.

Because the directory is now shared by the two containers (glance_api
and glance_api_cron), the mount flag is updated from slave to shared
so that any change is propagated between these two containers.

Closes-Bug: #1997625
Change-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/865501/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,8cdd3214771222cda8158e6ad07fd9bc2092a112,bug/1997625, - /var/lib/glance:/var/lib/glance:slave,,1,0
openstack%2Ftripleo-heat-templates~master~I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd,openstack/tripleo-heat-templates,master,I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd,Use renamed task files for podman.,MERGED,2022-11-18 17:24:34.000000000,2022-11-28 15:51:39.000000000,2022-11-28 15:51:39.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-18 17:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cd1dc262cfb7e239ce6a1b47c56c03165f893ec', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the qtask file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 2, 'created': '2022-11-18 17:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c3ad104f890528065043430593bc1027e2e64d0', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the qtask file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 3, 'created': '2022-11-18 17:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733dc2135a0519bdc7f70f9f6d41e011fdb3c697', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 4, 'created': '2022-11-24 09:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a09814abc2c1e7c8c9e59d18c39ba8a3f91fb27', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 5, 'created': '2022-11-24 09:32:47.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c36313639db1bbcdd31df158fdaf278ec18ea3e6', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865503\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}]",7,865048,c36313639db1bbcdd31df158fdaf278ec18ea3e6,35,7,5,31245,,,0,"Use renamed task files for podman.

The depends on commit updates the task file names to match the
standalone-roles conventions. This patch updates the
podman template to use the updated names.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865503
Change-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/865048/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,3cd1dc262cfb7e239ce6a1b47c56c03165f893ec,standalone-roles, tasks_from: install.yml tasks_from: login.yml tasks_from: install.yml tasks_from: purge.yml tasks_from: purge.yml, tasks_from: tripleo_podman_install.yml tasks_from: tripleo_podman_login.yml tasks_from: tripleo_podman_install.yml tasks_from: tripleo_podman_purge.yml tasks_from: tripleo_podman_purge.yml,5,5
openstack%2Fovn-octavia-provider~stable%2Fyoga~Ie47f19afdd041843fe47da739b09ee03a88c7b02,openstack/ovn-octavia-provider,stable/yoga,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:31:28.000000000,2022-11-28 15:25:58.000000000,2022-11-28 15:24:39.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:31:28.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/229c36067d982d3ede427551019b868b3627a55d', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865711,229c36067d982d3ede427551019b868b3627a55d,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/865711/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,229c36067d982d3ede427551019b868b3627a55d,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Ftrove~master~I32211508adf34cbb53500937c41b8842e60175d7,openstack/trove,master,I32211508adf34cbb53500937c41b8842e60175d7,Add offline support for mysql-8.0,ABANDONED,2022-07-06 14:05:01.000000000,2022-11-28 15:23:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-06 14:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4f1e8c2b01dbce79292251135a6a4342a224c876', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}, {'number': 2, 'created': '2022-07-07 14:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/68f2a7d86cff39c67ea0f8f9926ec9f7e5d1a412', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}, {'number': 3, 'created': '2022-07-11 03:14:37.000000000', 'files': ['integration/scripts/files/elements/ubuntu-guest/pre-install.d/11-baseline-tools', 'trove/guestagent/common/operating_system.py', 'trove/templates/mysql/config.template', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/service.py', 'integration/scripts/files/elements/ubuntu-datastore/install.d/31-mysql-8.0', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'integration/scripts/files/elements/ubuntu-datastore/element-deps', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/tests/unittests/guestagent/datastore/mysql/test_mysql_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0f804df70bb6d034fa55395bb073da1d7b44f1a7', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}]",0,848849,0f804df70bb6d034fa55395bb073da1d7b44f1a7,7,1,3,26285,,,0,"Add offline support for mysql-8.0

This PR adds a new variable 'binary_install_type', when it set
to True, trove will stop docker and install binary package for
datastore. currently, it supports mysql 8.0 datastore.

Story: 2010131
Task: 45735

Change-Id: I32211508adf34cbb53500937c41b8842e60175d7
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/848849/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-guest/pre-install.d/11-baseline-tools', 'trove/guestagent/common/operating_system.py', 'trove/templates/mysql/config.template', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/service.py', 'integration/scripts/files/elements/ubuntu-datastore/install.d/31-mysql-8.0', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'integration/scripts/files/elements/ubuntu-datastore/element-deps', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/tests/unittests/guestagent/datastore/mysql/test_mysql_service.py']",13,4f1e8c2b01dbce79292251135a6a4342a224c876,add-mysql-8.0,"# Copyright 2022 Yovole Cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock import fixtures from oslo_config import fixture as oslo_fixture from trove.common.cfg import cfg from trove.guestagent.datastore.mysql_common import service from trove.tests.unittests import trove_testtools from trove.instance import service_status TROVE_AGENT_CONF_PATH = '/etc/trove/config.d/' class TestMysqlStatus(trove_testtools.TestCase): def setUp(self): super(TestMysqlStatus, self).setUp() docker_client = mock.MagicMock() self.mysql_status = service.BaseMySqlAppStatus(docker_client) @mock.patch('trove.guestagent.common.operating_system.get_service_status') def test__get_mysql_service_status_ACTIVE(self, mock_service_status): mock_service_status.return_value = ""active"" status = self.mysql_status._get_mysql_service_status() self.assertEqual(status, service_status.ServiceStatuses.RUNNING) @mock.patch('trove.guestagent.common.operating_system.get_service_status') def test__get_mysql_service_status_SHUTDOWN(self, mock_service_status): mock_service_status.return_value = ""inactive"" status = self.mysql_status._get_mysql_service_status() self.assertEqual(status, service_status.ServiceStatuses.SHUTDOWN) class TestBaseMysqlApp(trove_testtools.TestCase): def setUp(self): super().setUp() docker_client = mock.MagicMock() self.mysql_status = service.BaseMySqlAppStatus(docker_client) @mock.patch('trove.guestagent.common.operating_system.remove') @mock.patch('trove.guestagent.common.operating_system.stop_docker') def test__do_cleanup(self, mock_stop_docker, mock_remove): service.BaseMySqlApp._do_cleanup() mock_stop_docker.assert_called_once() self.assertEquals(4, mock_remove.call_count) @mock.patch('trove.guestagent.datastore.mysql_common.service.BaseMySqlApp') @mock.patch('trove.guestagent.common.operating_system.install_package_from_path') @mock.patch('trove.guestagent.common.operating_system.exists') def test_install_mysql(self, mock_exists, mock_install_package, mock_mysql_service): fake_return_value = 'Job for mysql.service failed because the ' \ 'control process exited with an error code. ' \ 'See ""systemctl status mysql.service"" ' \ 'and ""journalctl -xe"" for details.' mock_exists.return_value = True mock_mysql_service.return_value._do_cleanup.return_value = None mock_install_package.return_value = (fake_return_value, None) ds_version = '8.0' self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app.install_mysql(ds_version) def test_start_db_with_docker(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group=""guest_agent"", binary_install_type=False) self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app.start_db_container = mock.MagicMock() self.mysql_app.start_db() self.mysql_app.start_db_container.assert_called_once_with( False, None, None, None ) def test_start_db_with_binary(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group=""guest_agent"", binary_install_type=True) self.mysql_status.start_db_service = mock.MagicMock() self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app._set_root_password = mock.MagicMock() self.mysql_app.start_db() self.mysql_status.start_db_service.assert_called_once_with(['mysql'], enable_on_boot=True, timeout=300, update_db=False) self.mysql_app._set_root_password.assert_called_once() ",,324,15
openstack%2Fovn-octavia-provider~stable%2Fzed~Ie47f19afdd041843fe47da739b09ee03a88c7b02,openstack/ovn-octavia-provider,stable/zed,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:30:54.000000000,2022-11-28 15:19:33.000000000,2022-11-28 15:18:30.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:30:54.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2af4494842f8d1b3071b815159df9d51ddb54a77', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",2,865710,2af4494842f8d1b3071b815159df9d51ddb54a77,11,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/10/865710/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,2af4494842f8d1b3071b815159df9d51ddb54a77,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Fneutron~master~Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2,openstack/neutron,master,Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2,Detect flows on br-tun whether be used before clean it.,ABANDONED,2020-06-15 08:32:01.000000000,2022-11-28 13:57:00.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31769}]","[{'number': 1, 'created': '2020-06-15 08:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/555d8d9396d0a6d11b1618b1eed97f82fa503278', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 2, 'created': '2020-06-15 08:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85fbbb8737d068264dbd0292354e92d01e620676', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 3, 'created': '2020-06-15 08:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/715dc22700870aa758084d2ee9c58c9915e4c98b', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 4, 'created': '2020-06-15 09:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44f91c4067526908184d43645ed30079aa25d007', 'message': 'Fix flows l2 population related on br-tun being cleaned after\nRabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table 22\nwhich are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 5, 'created': '2020-06-15 11:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dab8231b02f87606511ed8fb9d4c9a126f3ff312', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 6, 'created': '2020-06-16 01:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fbf1c46283729543c3a375a84850cada3160b45', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 7, 'created': '2020-06-16 01:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdfff0ec9cab3b798c607254be36d3e34b5675f7', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 8, 'created': '2020-06-16 02:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5431f1abd88371ef8e704c0c53e8678156ad1d23', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 9, 'created': '2020-06-16 08:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cd4ce57fc8091c42c99230ce479e51ece2c94fe', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 10, 'created': '2020-06-22 09:08:34.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb39ad07e07e69e32bfabbbb8e9c95bcc727d687', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}]",11,735525,fb39ad07e07e69e32bfabbbb8e9c95bcc727d687,33,7,10,31834,,,0,"Detect flows on br-tun whether be used before clean it.

Add function get_net_uuid_by_vlan to vlanmanager.py,modify fun-
ction cleanup_flows in ofswitch.py and add funcion check_and_c-
leanup_table to it.The three function ensure flows in table
FLOOD_TO_TUN which are in use will not be cleaned.
The l2 pop related flows mainly include table20, table21, and
table 22, the flow with lowest priority in them is resubmitted
to table 22, so we only need to ensure flows in table 22 exist.
Before cleanup flows in table 22, we dump all flows in it, then
compare vlan_num of every flow with LocalVLANMapping to judge
this network is still in use, if not, cleanup it. If this netw-
ork is still in use, the flow related it in  table 22 will not
be cleaned until agent get rpc to refresh it.

Change-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2
Closes-Bug:#1883071
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/735525/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py']",3,555d8d9396d0a6d11b1618b1eed97f82fa503278,bug/1883071,"from neutron.plugins.ml2.drivers.openvswitch.agent import vlanmanager self.vlan_manager = vlanmanager.LocalVlanManager() if table_id == 22: self.check_and_cleanup_table(table_id) else: self._dump_and_clean(table_id) def check_and_cleanup_table(self, table_id): LOG.debug('check and cleanup table %s', table_id) flows = self.dump_flows(table_id) for flow in flows: matches = dict(flow.match.items()) if matches.get('vlan_vid'): vlan = matches['vlan_vid'] & 0x0fff if not self.vlan_manager.get_net_uuid_by_vlan(vlan): self.uninstall_flows(table_id=22, match=flow.match) ", self._dump_and_clean(table_id),39,1
openstack%2Fcloudkitty~master~I46b09ee11821620f7eab6758961ce651f3c8af46,openstack/cloudkitty,master,I46b09ee11821620f7eab6758961ce651f3c8af46,Announce future deprecation of Elasticsearch,MERGED,2022-11-14 14:18:54.000000000,2022-11-28 13:38:45.000000000,2022-11-28 13:37:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-11-14 14:18:54.000000000', 'files': ['releasenotes/notes/deprecate-elasticsearch-for-opensearch-a338965edff23509.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/addb4d6aa865f3b0a5bde20238bdb629aa624a4a', 'message': 'Announce future deprecation of Elasticsearch\n\nChange-Id: I46b09ee11821620f7eab6758961ce651f3c8af46\n'}]",0,864412,addb4d6aa865f3b0a5bde20238bdb629aa624a4a,8,3,1,15197,,,0,"Announce future deprecation of Elasticsearch

Change-Id: I46b09ee11821620f7eab6758961ce651f3c8af46
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/12/864412/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-elasticsearch-for-opensearch-a338965edff23509.yaml'],1,addb4d6aa865f3b0a5bde20238bdb629aa624a4a,deprecate-elasticsearch,"--- deprecations: - | Support for using Elasticsearch as a storage backend is being deprecated in the Antelope release in favour of OpenSearch. We will try to keep CloudKitty compatible with both solutions. However, we will only test with OpenSearch. ",,7,0
openstack%2Fopenstacksdk~master~Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c,openstack/openstacksdk,master,Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c,cloud: create_server: fix scheduler_hints/group,ABANDONED,2022-11-28 13:27:10.000000000,2022-11-28 13:35:29.000000000,,[],"[{'number': 1, 'created': '2022-11-28 13:27:10.000000000', 'files': ['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/11863843956377ff715cd03a8583f7be240e0bb8', 'message': 'cloud: create_server: fix scheduler_hints/group\n\nChange I1a6ba311ddedc1b8910051257299d3acd367df46 stopped sending\nserver_json data and instead called self.compute.create_server(**kwargs).\n\nBefore this change the code would pop() scheduler_hints from kwargs, so\nit was not present when creating the server. Additionally the ""group""\ncode would also only operate on the no longer used server_json.\n\nRemove server_json and override/set the scheduler_hints group key\ndirectly in kwargs if ""group"" is supplied.\n\nAlso add tests for this functionality.\n\nCo-Authored-byː stephenfin <stephenfin@redhat.com>\nChange-Id: I7ac2fd85970bf4c6c6e73af8aad11348a290a90a\n\nChange-Id: Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c\n'}]",0,865828,11863843956377ff715cd03a8583f7be240e0bb8,2,0,1,35573,,,0,"cloud: create_server: fix scheduler_hints/group

Change I1a6ba311ddedc1b8910051257299d3acd367df46 stopped sending
server_json data and instead called self.compute.create_server(**kwargs).

Before this change the code would pop() scheduler_hints from kwargs, so
it was not present when creating the server. Additionally the ""group""
code would also only operate on the no longer used server_json.

Remove server_json and override/set the scheduler_hints group key
directly in kwargs if ""group"" is supplied.

Also add tests for this functionality.

Co-Authored-byː stephenfin <stephenfin@redhat.com>
Change-Id: I7ac2fd85970bf4c6c6e73af8aad11348a290a90a

Change-Id: Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/865828/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_compute.py']",2,11863843956377ff715cd03a8583f7be240e0bb8,fix-scheduler_hints-and-group, if 'scheduler_hints' not in kwargs: kwargs['scheduler_hints'] = {} kwargs['scheduler_hints']['group'] = group_obj['id'] ," server_json = {'server': kwargs} hints = kwargs.pop('scheduler_hints', {}) hints['group'] = group_obj['id'] if hints: server_json['os:scheduler_hints'] = hints",171,6
openstack%2Fneutron-lib~master~Idbec232e95bdc71942f4e3f88684c3de62294d51,openstack/neutron-lib,master,Idbec232e95bdc71942f4e3f88684c3de62294d51,"User ""sha1"" with ""usedforsecurity=False""",MERGED,2022-11-24 15:52:21.000000000,2022-11-28 13:21:00.000000000,2022-11-28 13:19:50.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 15:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d94609dbff567aba63408f0c6f9a513bcac558cd', 'message': 'Test sha1 pylint error\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 2, 'created': '2022-11-24 16:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3732f74cd045a9be4b01c045153f3569033863ed', 'message': 'Use a secure hash method: replace ""sha1"" with ""sha256""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 3, 'created': '2022-11-25 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2a31ab6fe40ff36bd6b00d21e9a3dd98f9e11bde', 'message': 'Use a secure hash method: replace ""sha1"" with ""sha256""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 4, 'created': '2022-11-25 14:20:54.000000000', 'files': ['neutron_lib/plugins/utils.py', 'neutron_lib/tests/unit/plugins/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2ded6ed3ce93983b7c852a873f1808fe13931eba', 'message': 'User ""sha1"" with ""usedforsecurity=False""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}]",5,865578,2ded6ed3ce93983b7c852a873f1808fe13931eba,19,4,4,16688,,,0,"User ""sha1"" with ""usedforsecurity=False""

That prevents the pep8 pylint error B324 [1].

[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html

Trivial-Fix

Change-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/78/865578/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,d94609dbff567aba63408f0c6f9a513bcac558cd,sha1_pylint, # To be changed,,1,0
openstack%2Fswift~master~Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88,openstack/swift,master,Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88,proxy: refactor ContainerController._GET_using_cache,MERGED,2022-11-25 18:25:15.000000000,2022-11-28 13:10:24.000000000,2022-11-28 13:09:22.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 18:25:15.000000000', 'files': ['swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bd5d099035a50c419c4c257f41de15966ff3f5b3', 'message': 'proxy: refactor ContainerController._GET_using_cache\n\nRefactor the ContainerController._GET_using_cache. No behavioral\nchanges.\n\n* Make the top-level method shorter.\n\n* Make the flow easier to follow.\n\n* Make various return points more obvious.\n\n* Change variable names to clarify those that are lists of ShardRange\n  objects from those that are lists of dicts representing shard\n  ranges.\n\nChange-Id: Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88\n'}]",2,865706,bd5d099035a50c419c4c257f41de15966ff3f5b3,13,2,1,7847,,,0,"proxy: refactor ContainerController._GET_using_cache

Refactor the ContainerController._GET_using_cache. No behavioral
changes.

* Make the top-level method shorter.

* Make the flow easier to follow.

* Make various return points more obvious.

* Change variable names to clarify those that are lists of ShardRange
  objects from those that are lists of dicts representing shard
  ranges.

Change-Id: Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/865706/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/container.py'],1,bd5d099035a50c419c4c257f41de15966ff3f5b3,p-namespace-map-2," def _make_shard_ranges_response_body(self, req, shard_range_dicts): # filter shard ranges according to request constraints and return a # serialised list of shard ranges for shard_range in shard_range_dicts] def _get_shard_ranges_from_cache(self, req, info): headers = headers_from_container_info(info) if not headers: # only use cached values if all required headers available return None infocache = req.environ.setdefault('swift.infocache', {}) memcache = cache_from_env(req.environ, True) cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') resp_body = None cached_range_dicts = infocache.get(cache_key) if cached_range_dicts: resp_body = self._make_shard_ranges_response_body( req, cached_range_dicts) elif memcache: skip_chance = \ self.app.container_listing_shard_ranges_skip_cache if skip_chance and random.random() < skip_chance: self.logger.increment('shard_listing.cache.skip') else: try: cached_range_dicts = memcache.get( cache_key, raise_on_error=True) if cached_range_dicts: cache_state = 'hit' resp_body = self._make_shard_ranges_response_body( req, cached_range_dicts) else: cache_state = 'miss' except MemcacheConnectionError: cache_state = 'error' self.logger.increment( 'shard_listing.cache.%s' % cache_state) if resp_body is None: resp = None else: # shard ranges can be returned from cache infocache[cache_key] = tuple(cached_range_dicts) self.logger.debug('Found %d shards in cache for %s', len(cached_range_dicts), req.path_qs) headers.update({'x-backend-record-type': 'shard', 'x-backend-cached-results': 'true'}) # mimic GetOrHeadHandler.get_working_response... # note: server sets charset with content_type but proxy # GETorHEAD_base does not, so don't set it here either resp = Response(request=req, body=resp_body) update_headers(resp, headers) resp.last_modified = Timestamp(headers['x-put-timestamp']).ceil() resp.environ['swift_x_timestamp'] = headers.get('x-timestamp') resp.accept_ranges = 'bytes' resp.content_type = 'application/json' return resp def _store_shard_ranges_in_cache(self, req, resp): # parse shard ranges returned from backend, store them in infocache and # memcache, and return a list of dicts cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') data = self._parse_listing_response(req, resp) backend_shard_ranges = self._parse_shard_ranges(req, data, resp) if backend_shard_ranges is None: return None cached_range_dicts = [dict(sr) for sr in backend_shard_ranges] if resp.headers.get('x-backend-sharding-state') == 'sharded': # cache in infocache even if no shard ranges returned; this # is unexpected but use that result for this request infocache = req.environ.setdefault('swift.infocache', {}) infocache[cache_key] = tuple(cached_range_dicts) memcache = cache_from_env(req.environ, True) if memcache and cached_range_dicts: # cache in memcache only if shard ranges as expected self.logger.debug('Caching %d shards for %s', len(cached_range_dicts), req.path_qs) memcache.set(cache_key, cached_range_dicts, time=self.app.recheck_listing_shard_ranges) return cached_range_dicts def _get_shard_ranges_from_backend(self, req): # Make a backend request for shard ranges. The response is cached and # then returned as a list of dicts. # Note: We instruct the backend server to ignore name constraints in cached_range_dicts = self._store_shard_ranges_in_cache(req, resp) if cached_range_dicts: resp.body = self._make_shard_ranges_response_body( req, cached_range_dicts) def _GET_using_cache(self, req, info): # It may be possible to fulfil the request from cache: we only reach # here if request record_type is 'shard' or 'auto', so if the container # state is 'sharded' then look for cached shard ranges. However, if # X-Newest is true then we always fetch from the backend servers. get_newest = config_true_value(req.headers.get('x-newest', False)) if get_newest: self.logger.debug( 'Skipping shard cache lookup (x-newest) for %s', req.path_qs) elif (info and is_success(info['status']) and info.get('sharding_state') == 'sharded'): # container is sharded so we may have the shard ranges cached resp = self._get_shard_ranges_from_cache(req, info) if resp: return resp # The request was not fulfilled from cache so send to backend server return self._get_shard_ranges_from_backend(req) "," def _filter_resp_shard_ranges(self, req, cached_ranges): # filter returned shard ranges according to request constraints for shard_range in cached_ranges] def _GET_using_cache(self, req, info): # It may be possible to fulfil the request from cache: we only reach # here if request record_type is 'shard' or 'auto', so if the container # state is 'sharded' then look for cached shard ranges. However, if # X-Newest is true then we always fetch from the backend servers. get_newest = config_true_value(req.headers.get('x-newest', False)) if get_newest: self.logger.debug( 'Skipping shard cache lookup (x-newest) for %s', req.path_qs) elif (info and is_success(info['status']) and info.get('sharding_state') == 'sharded'): # container is sharded so we may have the shard ranges cached headers = headers_from_container_info(info) if headers: # only use cached values if all required headers available infocache = req.environ.setdefault('swift.infocache', {}) memcache = cache_from_env(req.environ, True) cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') cached_ranges = infocache.get(cache_key) if cached_ranges is None and memcache: skip_chance = \ self.app.container_listing_shard_ranges_skip_cache if skip_chance and random.random() < skip_chance: self.logger.increment('shard_listing.cache.skip') else: try: cached_ranges = memcache.get( cache_key, raise_on_error=True) cache_state = 'hit' if cached_ranges else 'miss' except MemcacheConnectionError: cache_state = 'error' self.logger.increment( 'shard_listing.cache.%s' % cache_state) if cached_ranges is not None: infocache[cache_key] = tuple(cached_ranges) # shard ranges can be returned from cache self.logger.debug('Found %d shards in cache for %s', len(cached_ranges), req.path_qs) headers.update({'x-backend-record-type': 'shard', 'x-backend-cached-results': 'true'}) shard_range_body = self._filter_resp_shard_ranges( req, cached_ranges) # mimic GetOrHeadHandler.get_working_response... # note: server sets charset with content_type but proxy # GETorHEAD_base does not, so don't set it here either resp = Response(request=req, body=shard_range_body) update_headers(resp, headers) resp.last_modified = Timestamp( headers['x-put-timestamp']).ceil() resp.environ['swift_x_timestamp'] = headers.get( 'x-timestamp') resp.accept_ranges = 'bytes' resp.content_type = 'application/json' return resp # The request was not fulfilled from cache so send to the backend # server, but instruct the backend server to ignore name constraints in # backend returned unfiltered listing state shard ranges so parse # them and replace response body with filtered listing cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') data = self._parse_listing_response(req, resp) backend_shard_ranges = self._parse_shard_ranges(req, data, resp) if backend_shard_ranges is not None: cached_ranges = [dict(sr) for sr in backend_shard_ranges] if resp.headers.get('x-backend-sharding-state') == 'sharded': # cache in infocache even if no shard ranges returned; this # is unexpected but use that result for this request infocache = req.environ.setdefault('swift.infocache', {}) infocache[cache_key] = tuple(cached_ranges) memcache = cache_from_env(req.environ, True) if memcache and cached_ranges: # cache in memcache only if shard ranges as expected self.logger.debug('Caching %d shards for %s', len(cached_ranges), req.path_qs) memcache.set( cache_key, cached_ranges, time=self.app.recheck_listing_shard_ranges) # filter returned shard ranges according to request constraints resp.body = self._filter_resp_shard_ranges(req, cached_ranges) ",110,85
openstack%2Fopenstack-zuul-jobs~master~I96023fb323647465dacc450567d4a6adf6f59314,openstack/openstack-zuul-jobs,master,I96023fb323647465dacc450567d4a6adf6f59314,Add py310 master template jobs,MERGED,2022-10-21 10:00:01.000000000,2022-11-28 13:08:31.000000000,2022-11-28 13:06:40.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-21 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fa1994409aeb73a55383d425803b331954985bc8', 'message': 'Add py310 master template jobs\n\nThe following master templates has been added to py310 based testing:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 2, 'created': '2022-10-24 08:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/21c49eab2f943209a3a0f297771cc3ff32dd0b94', 'message': 'Add py310 master template jobs\n\nThe following master templates has been added to py310 based testing:\n- periodic-jobs-with-neutron-lib-master-py310\n- periodic-jobs-with-oslo-master-py310\n- periodic-jobs-with-ovsdbapp-master-py310\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 3, 'created': '2022-10-25 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b02ebffad4bc49fc27c28636a834d50357722c86', 'message': 'Add py310 master template jobs\n\nThe following py39 based jobs has been changed to py310 based in these\ntemplates:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 4, 'created': '2022-10-25 08:31:05.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4d28e8dcff9e7bd55dd5431c4e2e107457a6fa2b', 'message': 'Add py310 master template jobs\n\nThe following py39 based jobs has been changed to py310 based in these\ntemplates:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}]",6,862286,4d28e8dcff9e7bd55dd5431c4e2e107457a6fa2b,20,6,4,8313,,,0,"Add py310 master template jobs

The following py39 based jobs has been changed to py310 based in these
templates:
- periodic-jobs-with-neutron-lib-master
- periodic-jobs-with-oslo-master
- periodic-jobs-with-ovsdbapp-master

Change-Id: I96023fb323647465dacc450567d4a6adf6f59314
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/86/862286/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,fa1994409aeb73a55383d425803b331954985bc8,py310_master_jobs," name: openstack-tox-py310-with-oslo-master parent: openstack-tox-with-oslo-master-base nodeset: ubuntu-jammy description: | This job installs all oslo libraries from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master vars: tox_envlist: py310 bindep_profile: test py310 python_version: '3.10' - job: name: openstack-tox-py310-with-neutron-lib-master parent: openstack-tox-py310 timeout: 3000 description: | This job installs neutron-lib from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master required-projects: - openstack/neutron - openstack/neutron-lib vars: tox_install_siblings: true - job: name: openstack-tox-py310-with-ovsdbapp-master parent: openstack-tox-py310 timeout: 3000 description: | This job installs ovsdbapp from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master required-projects: - openstack/ovsdbapp vars: tox_install_siblings: true - job:",,52,0
openstack%2Fpuppet-nova~master~I66527f6ef2ad547621e80ea702ef65980db77b26,openstack/puppet-nova,master,I66527f6ef2ad547621e80ea702ef65980db77b26,Deprecate support for [upgrade_levels] network,MERGED,2022-11-21 05:35:53.000000000,2022-11-28 13:02:10.000000000,2022-11-28 13:01:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/966afac8bf3b717b50b8a853c3438914183bf56f', 'message': 'Deprecate support for [upgrade_level] network\n\n... because the option was deprecated several cycles ago by [1].\n\n[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6\n\nChange-Id: I66527f6ef2ad547621e80ea702ef65980db77b26\n'}, {'number': 2, 'created': '2022-11-21 07:34:55.000000000', 'files': ['releasenotes/notes/deprecate-upgrade_level_network-64301c66337d1ad0.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/feb79359eb2cda759cfdb513d03302f1b2021c77', 'message': 'Deprecate support for [upgrade_levels] network\n\n... because the option was deprecated several cycles ago by [1].\n\n[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6\n\nChange-Id: I66527f6ef2ad547621e80ea702ef65980db77b26\n'}]",5,865100,feb79359eb2cda759cfdb513d03302f1b2021c77,24,3,2,9816,,,0,"Deprecate support for [upgrade_levels] network

... because the option was deprecated several cycles ago by [1].

[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6

Change-Id: I66527f6ef2ad547621e80ea702ef65980db77b26
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/00/865100/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-upgrade_level_network-64301c66337d1ad0.yaml', 'manifests/init.pp']",2,966afac8bf3b717b50b8a853c3438914183bf56f,,"# [*upgrade_level_network*] # (optional) Sets a version cap for messages sent to network services # Defaults to $::os_service_default # $upgrade_level_network = undef, warning(""The upgrade_level_cert parameter is deprecated and will be removed \ in a future release."") } if $upgrade_level_network != undef { warning(""The upgrade_level_network parameter is deprecated and will be removed \ in a future release."") 'upgrade_levels/network': value => pick($upgrade_level_network, $::os_service_default);","# [*upgrade_level_network*] # (optional) Sets a version cap for messages sent to network services # Defaults to $::os_service_default # $upgrade_level_network = $::os_service_default, warning('The upgrade_level_cert parameter is deprecated and will be removed \ in a future release.') 'upgrade_levels/network': value => $upgrade_level_network;",18,8
openstack%2Fnova-specs~master~I5dd783d13902e0b1b69299e91147bbf6d168e71f,openstack/nova-specs,master,I5dd783d13902e0b1b69299e91147bbf6d168e71f,Re-propose per process healthchecks,MERGED,2022-11-09 23:44:44.000000000,2022-11-28 12:39:22.000000000,2022-11-28 12:38:09.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-09 23:44:44.000000000', 'files': ['specs/2023.1/approved/per-process-healthchecks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91c90e090caf6848e88e6c23fefdb9f2222704af', 'message': 'Re-propose per process healthchecks\n\nPreviously-approved: Yoga\n\nSpelling and capitalization have been adjusted where noticed.\n\nRelated to blueprint per-process-healthchecks\n\nChange-Id: I5dd783d13902e0b1b69299e91147bbf6d168e71f\n'}]",4,864150,91c90e090caf6848e88e6c23fefdb9f2222704af,14,5,1,4690,,,0,"Re-propose per process healthchecks

Previously-approved: Yoga

Spelling and capitalization have been adjusted where noticed.

Related to blueprint per-process-healthchecks

Change-Id: I5dd783d13902e0b1b69299e91147bbf6d168e71f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/50/864150/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/per-process-healthchecks.rst'],1,91c90e090caf6848e88e6c23fefdb9f2222704af,per-process-healthchecks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Per Process Healthcheck endpoints ================================= https://blueprints.launchpad.net/nova/+spec/per-process-healthchecks In many modern deployment frameworks, there is an expectation that an application can expose a health-check endpoint so that the binary status can be monitored. Nova currently does not provide a native way to inspect the health of its binaries which doesn't help cloud monitoring and maintenance. While limited support exists for health checks via Oslo middleware for our WSGI based API binaries, this blueprint seeks to expose a local HTTP health-check endpoint to address this feature gap consistently for all Nova components. Problem description =================== To monitor the health of a Nova service today requires experience to develop and implement a series of external heuristics to infer the state of the service binaries. This can be as simple as checking the service status for those with heartbeats or can comprise monitoring log output via a watchdog and restarting the service if no output is detected after a protracted period. Processing the logs for known error messages and executing a remediation script or other methods that are easy to do incorrectly are also common. This is also quite unfriendly to new Nova users who have not gained enough experience with operating Nova to know what warning signs they should look for such as inability to connect to the message bus. Nova developers however do know what some of the important health indicators are and can expose those as a local health-check endpoint that operators can use instead. The existing Oslo middleware does not address this problem statement because: #. It can only be used by the API and metadata binaries #. The middleware does not tell you the service is alive if its hosted by a WSGI server like Apache since the middleware is executed independently from the WSGI application. i.e. the middleware can pass while the nova-api can't connect to the DB and is otherwise broken. #. The Oslo middleware in detailed mode leaks info about the host Python kernel, Python version and hostname which can be used to determine in the host is vulnerable to CVEs which means it should never be exposed to the Internet. e.g. :: platform: 'Linux-5.15.2-xanmod1-tt-x86_64-with-glibc2.2.5', python_version: '3.8.12 (default, Aug 30 2021, 16:42:10) \n[GCC 10.3.0]' Use Cases --------- As an operator, I want a simple REST endpoint I can consume to know if a Nova process is healthy. As an operator I want this health check to not impact the performance of the service so it can be queried frequently at short intervals. As a deployment tool implementer, I want the health check to be local with no dependencies on other hosts or services to function so I can integrate it with service managers such as systemd or a container runtime like Docker. As a packager, I would like the use of the health check endpoints to not require special clients or packages to consume them. cURL, socat, or netcat should be all that is required to connect to the health check and retrieve the service status. As an operator I would like to be able to use health-check of the Nova API and metadata services to manage the membership of endpoints in my load-balancer or reverse proxy automatically. Proposed change =============== Definitions ----------- ``TTL``: The time interval for which a health check item is valid. ``pass``: all health indicators are passing and their TTLs have not expired. ``warn``: any health indicator has an expired TTL or where there is a partial transient failure. ``fail``: any health indicator is reporting an error or all TTLs are expired. .. Note: In line with the recommendation in the IETF RFC API health check draft `[1]`_ ``pass`` and ``warn`` will respond with a 200 OK ``fail`` will respond with a 503 Service Unavailable Content-Type: application/health+json will be used in all cases. Warn vs fail ------------ In general if any of the health check indicators are failing then the service should be reported as ``fail`` however if the specific error condition is recoverable or only a partial failure the ``warn`` state can and should be used. An example of this is a service that has lost a connection to the message bus. When the connection is lost it should go to the ``warn`` state, if the first attempt to reconnect fails it should go to the ``fail`` state. Transient failure should be considered warning but persistent errors should be escalated to failures. In many cases external management systems will treat ``warn`` and ``fail`` as equivalent and raise an alarm or restart the service. While this spec does not specify how you should recover from a degraded state, it is important to include a human readable description of why the ``warn`` or ``fail`` state was entered. Services in the ``warn`` state are still considered healthy in most cases but they may be about to fail soon or be partially degraded. .. NOTE: Where no health check items are currently registered such as during start up the health check, status will be considered ``pass`` not ``warn`` or ``fail``. This will prevent restart loops for any service managers that treat any value other then ``pass`` as an error state. Code changes ------------ A new top-level Nova health check module will be created to encapsulate the common code and data structure required to implement this feature. A new health check manager class will be introduced which will maintain the health-check state and all functions related to retrieving, updating and summarizing that state. .. NOTE: All health check state will be stored in memory and reset/lost on restart of the binary. For services that support dynamic reconfiguration via SIG_HUP the health check data will be reset as part of this process. The health check manager will be responsible for creating the health check endpoint when it is enabled in the nova.conf and exposing the health check over HTTP. The initial implementation will support HTTP over TCP with optional support for UNIX domain sockets as a more secure alternative to be added later. The HTTP endpoint in both cases will be unauthenticated and the response will be in JSON format. A new HealthcheckStausItem data class will be introduced to store an individual health check data-point. The HealtcheckStatusItem will contain the name of the health check, its status, the time it was recorded, and an optional output string that should be populated if the status is ``warn`` or ``fail``. A new decorator will be introduced that will automatically retrieve the reference to the healthcheck manager from the Nova context object and update the result based on whether the function decorated raises an exception or not. The exception list and healthcheck item name will be specifiable. The decorator will accept the name of the health check as a positional argument and include the exception message as the output of the health check on failure. Note that the decorator will only support the pass or fail status for simplicity; where warn is appropriate a manual check should be written. If multiple functions act as indicators of the same capability the same name should be used. e.g. .. code-block:: python @healthcheck('database', [SQLAlchemyError]) def my_db_func(self): pass @healthcheck('database', [SQLAlchemyError]) def my_other_db_func(self): pass By default all exceptions will be caught and re-raised by the decorator. The new REST health check endpoint exposed by this spec will initially only support one URL path ``/health``. The ``/health`` endpoint will include a `Cache-Control: max-age=<ttl>` header as part of its response which can optionally be consumed by the client. The endpoint may also implement a simple incrementing etag at a later date once the initial implementation is complete, if required. Initially adding an ``etag`` is not provided as the response is expected to be small and cheap to query, so etags do not actually provide much benefit form a performance perspective. If implemented, the ``etag`` will be incremented whenever the service state changes and will reset to 0 when the service is restarted. Additional URL paths may be supported in the future, for example to retrieve the running configuration or trigger the generation of Guru Meditation Reports or enable debug logging. However, any endpoint beyond ``/health`` is out of scope of this spec. ``/`` is not used for health check response to facilitate additional paths in the future. Example output ~~~~~~~~~~~~~~ :: GET /health HTTP/1.1 Host: example.org Accept: application/health+json HTTP/1.1 200 OK Content-Type: application/health+json Cache-Control: max-age=3600 Connection: close { ""status"": ""pass"", ""version"": ""1.0"", ""serviceId"": ""e3c22423-cd7a-47dc-b6e9-e18d1a8b3bdf"", ""description"": ""nova-api"", ""notes"": {""host"": ""controller-1.cloud"", ""hostname"": ""controller-1.cloud""} ""checks"": { ""message_bus"": {""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""}, ""api_db"": {""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""} } } GET /health HTTP/1.1 Host: example.org Accept: application/health+json HTTP/1.1 503 Sevice Unavailable Content-Type: application/health+json Cache-Control: no-cache Connection: close { ""status"": ""fail"", ""version"": ""1.0"", ""serviceId"": ""0a47dceb-11b1-4d94-8b9c-927d998be320"", ""description"": ""nova-compute"", ""notes"": {""host"": ""controller-1.cloud"", ""hostname"": ""controller-1.cloud""} ""checks"":{ ""message_bus"":{""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""}, ""hypervisor"":{ ""status"": ""fail"", ""time"": ""2021-12-17T16:05:55+00:00"", ""output"": ""Libvirt Error: ..."" } } } .. NOTE: ``version`` will initially be 1.0 and can be incremented following ``SemVer`` conventions if we extend the response format. This is not the Nova version. Adding new checks to the Nova code base will not increment the version of the response but adding or removing any new field to the response will. The set of check names will be closed and each new check name that is added will be signaled by a minor version bump. The initial set of check names for version 1.0 is left to the implementation. ``serviceId`` should be set to the Nova service ID for this binary. ``description`` will contain the binary name for the service. ``notes`` the notes will contain the CONF.host value in the host field and optionally the hypervisor_hostname in the hostname field. ``status`` will contain the overall status of the service with details provided in the ``checks`` dictionary. The keys of the ``checks`` dictionary will be the name of the health check and the value will contain the ``status`` and ``time`` in ISO datetime format that the status was recorded at. If the ``status`` is ``warn`` or ``error`` an ``output`` key will be present with a message explaining the status. Alternatives ------------ Instead of maintaining the state of the process in a data structure and returning the cached state we, could implement the health check as a series of active probes such as checking the DB schema version to ensure we can access it or making a ping RPC call to the cell conductor or our own services RPC endpoint. While this approach has some advantages it will have a negative performance impact if the health-check is queried frequently or in a large deployment where infrequent queries may still degrade the DB and message bus performance due to the scale of the deployment. This spec initially suggested using ``OK``, ``Degraded`` and ``Faulty`` as the values for the status field. These were updated to ``pass``, ``warn`` and ``fail`` to align with the draft IETF RFC for health check response format for HTTP APIs `[1]`_. Data model impact ----------------- The Nova context object will be extended to store a reference to the health check manager. REST API impact --------------- None While this change will expose a new REST API endpoint it will not be part of the existing Nova API. In the Nova API the /health check route will not initially be used to allow those that already enable the Oslo middleware to continue to do so. In a future release Nova reserves the right to add a /health check endpoint that may or may not correspond to the response format defined in Oslo. A translation between the Oslo response format and the health check module may be provided in the future but it is out of the scope of this spec. Security impact --------------- The new health check endpoint will be disabled by default. When enabled it will not provide any authentication or explicit access control. The documentation will detail that when enabled, the TCP endpoint should be bound to ``localhost`` and that file system permission should be used to secure the UNIX socket. The TCP configuration option will not prevent binding it to a routable IP if the operator chooses to do so. The intent is that the data contained in the endpoint will be non-privileged however it may contain hostnames/FQDNs or other infrastructure information such as service UUIDs, so it should not be accessible from the Internet. Notifications impact -------------------- None While the health checks will use the ability to send notification as an input to determine the health of the system, this spec will not introduce any new notifications and as such it will not impact the Notification subsystem in Nova. New notifications are not added as this would incur a performance overhead. Other end user impact --------------------- None At present, it is not planned to extend the Nova client or the unified client to query the new endpoint. cURL, socat, or any other UNIX socket or TCP HTTP client can be used to invoke the endpoint. Performance Impact ------------------ None We expect there to be little or no performance impact as we will be taking a minimally invasive approach to add health indicators to key functions which will be cached in memory. While this will slightly increase memory usage there is no expected impact on system performance. Other deployer impact --------------------- A new config section ``healthcheck`` will be added in the nova.conf A ``uri`` config option will be introduced to enable the health check functionality. The config option will be a string opt that supports a comma-separated list of URIs with the following format uri=<scheme>://[host:port|path],<scheme>://[host:port|path] e.g. :: [healthcheck] uri=tcp://localhost:424242 [healthcheck] uri=unix:///run/nova/nova-compute.sock [healthcheck] uri=tcp://localhost:424242,unix:///run/nova/nova-compute.sock The URI should be limited to the following characters ``[a-zA-Z0-9_-]``, ``,`` is reserved as a separation character, ``.`` may only be used in IPv4 addresses, and ``:`` is reserved for port separation unless the address is an IPv6 address. IPv6 addresses must be enclosed in ``[`` and ``]``. ``/`` may be used with the UNIX protocol however relative paths are not supported. These constraints and the parsing of the URI will be enforced and provided by the RFC3986 lib https://pypi.org/project/rfc3986/ A ``ttl`` IntOpt will be added with a default value of 300 seconds. If set to 0, the time to live of a health check item will be infinite. If the TTL expires, the state will be considered unknown and the healthcheck item will be discarded. A cache_control IntOpt will be provided to set the max-age value in the cache_control header. By default it will have the same max-age as the TTL config option. Setting this to 0 will disable the reporting of the header. Setting this to -1 will report ``Cache-Control: no-cache``. Any other positive integer value will be used as the max-age. Developer impact ---------------- Developers should be aware of the new decorator and consider whether it should be added to more functions, if that function is an indicator of the system's health. Failures due to interactions with external systems such as Neutron port binding external events should be handled with caution. While failure to receive a port binding event will likely result in the failure to boot a VM, it should not be used as a health indicator for the nova-compute agent. This is because such a failure may be due to a failure in Neutron, not Nova. As such, other operations such as VM snapshot may be unaffected and the Nova compute service may be otherwise healthy. Any failure to connect to a non-OpenStack service such as the message bus, hypervisor, or database should be treated as a ``warn`` or ``fail`` health indicator if it prevents the Nova binary from functioning correctly. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sean-k-mooney Other contributors: melwitt Feature Liaison --------------- Feature liaison: sean-k-mooney Work Items ---------- * Add new module * Introduce decorator * Extend context object to store a reference to health check manager * Add config options * Expose TCP endpoint * Expose UNIX socket endpoint support * Add docs Dependencies ============ None Testing ======= This can be tested entirely with unit and functional tests, however, Devstack will be extended to expose the endpoint and use it to determine whether the Nova services have started. Documentation Impact ==================== The config options will be documented in the config reference and a release note will be added for the feature. A new health check section will be added to the admin docs describing the current response format and how to enable the feature and its intended usage. This document should be evolved whenever the format changes or new functionality is added beyond the scope of this spec. References ========== * Yoga PTG topic: https://etherpad.opendev.org/p/r.e70aa851abf8644c29c8abe4bce32b81#L415 .. _`[1]`: https://tools.ietf.org/id/draft-inadarei-api-health-check-06.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced * - 2023.1 Antelope - Reproposed ",,517,0
openstack%2Fcharm-neutron-k8s~stable%2Fxena~If55075356b976b611509becdf8cfbcdae0f6f360,openstack/charm-neutron-k8s,stable/xena,If55075356b976b611509becdf8cfbcdae0f6f360,Updates for stable xena opening,MERGED,2022-11-21 13:29:59.000000000,2022-11-28 12:33:35.000000000,2022-11-28 11:46:28.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 13:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/c5f146d44f9738d3785df264b2e27a01d8c6afbd', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 2, 'created': '2022-11-22 14:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/5dcb9060bff9e41f19822e165884a03c7d107e79', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 3, 'created': '2022-11-28 09:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/a4d8de04b6ed361dc6dc66a771605c42644a97e9', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nForce series to jammy to workaround bug 1997688.\n\nRelated-Bug: 1997688\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 4, 'created': '2022-11-28 10:18:40.000000000', 'files': ['tests/bundles/xena.yaml', '.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3abe73557903fafa4bfe36b55dc30b9b9080105e', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nForce series to jammy to workaround bug 1997688.\n\nPin flake8<6 for the time being.\n\nRelated-Bug: 1997688\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}]",11,865127,3abe73557903fafa4bfe36b55dc30b9b9080105e,32,2,4,935,,,0,"Updates for stable xena opening

Update git review configuration.

Refresh bundle with up-to-date channel information.

Force series to jammy to workaround bug 1997688.

Pin flake8<6 for the time being.

Related-Bug: 1997688
Change-Id: If55075356b976b611509becdf8cfbcdae0f6f360
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/27/865127/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', '.gitreview']",2,c5f146d44f9738d3785df264b2e27a01d8c6afbd,,defaultbranch=stable/xena,defaultbranch=main,9,9
openstack%2Fansible-role-redhat-subscription~master~Ic882fc75f1a6b0545588fcfa882b8eef8e2bc0ac,openstack/ansible-role-redhat-subscription,master,Ic882fc75f1a6b0545588fcfa882b8eef8e2bc0ac,Allow to bypass Satellite version discovery,NEW,2022-11-28 11:12:45.000000000,2022-11-28 12:12:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-28 11:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/5627229ca01700f79deacefcb45ca8f0124ff740', 'message': 'Allow to bypass Satellite version discovery\n\nIf the operator knows Satellite version, they can now bypass the\nauto-discovery steps by setting the ""rhsm_satellite_version"" parameter\nwhen calling the role.\n\nChange-Id: Ic882fc75f1a6b0545588fcfa882b8eef8e2bc0ac\n'}, {'number': 2, 'created': '2022-11-28 11:14:00.000000000', 'files': ['tasks/satellite.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/2692b6d2064be0063ac1a224290b0a3a94a044a3', 'message': 'Allow to bypass Satellite version discovery\n\nIf the operator knows Satellite version, they can now bypass the\nauto-discovery steps by setting the ""rhsm_satellite_version"" parameter\nwhen calling the role.\n\nResolves: rhbz#2144478\nChange-Id: Ic882fc75f1a6b0545588fcfa882b8eef8e2bc0ac\n'}]",0,865824,2692b6d2064be0063ac1a224290b0a3a94a044a3,4,1,2,28223,,,0,"Allow to bypass Satellite version discovery

If the operator knows Satellite version, they can now bypass the
auto-discovery steps by setting the ""rhsm_satellite_version"" parameter
when calling the role.

Resolves: rhbz#2144478
Change-Id: Ic882fc75f1a6b0545588fcfa882b8eef8e2bc0ac
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/24/865824/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/satellite.yml', 'defaults/main.yml']",2,5627229ca01700f79deacefcb45ca8f0124ff740,satellite/set_version,# Allow to bypass satellite version discovery rhsm_satellite_version: null,,79,71
openstack%2Fskyline-console~master~Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95,openstack/skyline-console,master,Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95,Fix keypair in magnum,MERGED,2022-11-28 08:01:08.000000000,2022-11-28 12:12:15.000000000,2022-11-28 12:11:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-28 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7ff344af4e2e94d15fcfa27a7dcc5f712d9ee2eb', 'message': 'Fix keypair in magnum\n\n1.The form items will be resetted, when create a new keypair\n2.Same issue when create instance\n\nCloses-Bug: #1998077\nChange-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95\n'}, {'number': 2, 'created': '2022-11-28 09:12:59.000000000', 'files': ['src/stores/magnum/clusterTemplates.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ac1edd6e9785c45b58a69debab99b9480a696177', 'message': 'Fix keypair in magnum\n\n1.The form items value will be resetted, when create a new keypair\n2.Same issue when create instance\n\nCloses-Bug: #1998077\nChange-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95\n'}]",0,865799,ac1edd6e9785c45b58a69debab99b9480a696177,9,3,2,33689,,,0,"Fix keypair in magnum

1.The form items value will be resetted, when create a new keypair
2.Same issue when create instance

Closes-Bug: #1998077
Change-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/99/865799/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/magnum/clusterTemplates.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx']",6,7ff344af4e2e94d15fcfa27a7dcc5f712d9ee2eb,fix-create-keypair," keypair, if (keypair) { body.keypair_id = keypair.selectedRowKeys[0];"," keypairs, if (keypairs) { body.keypair_id = keypairs.selectedRowKeys[0];",15,21
openstack%2Ftripleo-ansible~stable%2Fzed~I168bb928e1a3943d243a61ddaa6fea32db7c9e5e,openstack/tripleo-ansible,stable/zed,I168bb928e1a3943d243a61ddaa6fea32db7c9e5e,Remove cryptography pin,NEW,2022-11-22 08:12:41.000000000,2022-11-28 11:51:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-22 08:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cd670bb6c93b002431c52314127da2ed469b011', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)\n'}, {'number': 2, 'created': '2022-11-24 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2bd368861adbafd7982b845ed665a00e0dd8286', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865526\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)\n'}, {'number': 3, 'created': '2022-11-24 13:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/11edcdc856881c7cbd3df34717143773b44e6b72', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865526\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)\n'}, {'number': 4, 'created': '2022-11-24 16:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3113253e2a2cb7b0942fdd2b6627b2305e6f492f', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865526\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863795\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)\n'}, {'number': 5, 'created': '2022-11-28 08:28:56.000000000', 'files': ['ansible-requirements.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4ef1cf9801bf857cc3a448c4c97e6416a1f7fe1', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865526\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863795\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)\n'}]",2,865239,b4ef1cf9801bf857cc3a448c4c97e6416a1f7fe1,11,1,5,28223,,,0,"Remove cryptography pin

If we ensure we're running with pyOpenSSL >= 22.1.0, we are all good
with the python ""cryptography"" latest version.

Closes-Bug: #1995608
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865526
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/863795

Change-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e
(cherry picked from commit c0fbc1b281acdb827bf1ade53f81d073953bfd58)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/39/865239/5 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,6cd670bb6c93b002431c52314127da2ed469b011,molecule-corrections-stable/zed,# Allows to unpin cryptography pyOpenSSL>=22.1.0,cryptography,2,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I154bfc36cc56f6b5425ec6bf805a290973203ba1,openstack/tripleo-heat-templates,stable/wallaby,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 07:58:49.000000000,2022-11-28 11:42:57.000000000,2022-11-28 11:41:57.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:58:49.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/623465ef8b400a27eb7cd9a61db325f6f58a7e2a', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nConflicts:\n\ttox.ini\n\nBackport note:\nThis backport effectively backports the change[1] to fix encoding\nerrors.\n\n[1] https://review.opendev.org/805119\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)\n(cherry picked from commit e675ecb95561b5061b5c2b5737348c0bd818feac)\n""}]",0,865798,623465ef8b400a27eb7cd9a61db325f6f58a7e2a,7,2,1,9816,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Conflicts:
	tox.ini

Backport note:
This backport effectively backports the change[1] to fix encoding
errors.

[1] https://review.opendev.org/805119

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)
(cherry picked from commit e675ecb95561b5061b5c2b5737348c0bd818feac)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/865798/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,623465ef8b400a27eb7cd9a61db325f6f58a7e2a,,setenv = VIRTUAL_ENV={envdir} LC_ALL=en_US.UTF-8,requires = # extra plugin returns error if git reports untracked or dirty files tox-extra>=0.0.0,3,11
openstack%2Ftripleo-heat-templates~master~I4288738c2c95ab990024845fa43653854e790bd8,openstack/tripleo-heat-templates,master,I4288738c2c95ab990024845fa43653854e790bd8,Improve volumes format check of yaml-validate.py,MERGED,2022-11-18 01:33:04.000000000,2022-11-28 11:41:53.000000000,2022-11-28 11:41:53.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-18 01:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13e548408f34a41ddb7cf348f7c3b18312945bf9', 'message': 'Improve volumes format check of yaml-validate.py\n\nCurrently, yaml-validate.py cannot detect trailing slashes under\n""list_concat"" and ""if"".\n\n  volumes:\n    - /example:/example/ # <======= detected\n\n  volumes:\n    list_concat:\n    - - /example1:/example1/ # <===== not detected\n      - /example2:/example2\n    - if:\n      - {get_param: TestValue}\n      - - /example3:/example3/ # <==== not detected\n        - /example4:/example4\n\nThis fix makes yaml-validate.py detect the these trailing slashes.\n\nBecause the current implementation digs ""list"" twice in one call to\ncheck_volumes(), trailing slashes under ""list_concat"" are not detected.\nBecause the current implementation ignores ""if"", trailing slashes under\n""if"" are not deleted. check_volumes() doesn\'t have to ignore ""if""\nbecause non-volume-style value is ignored because of IndexError.\n\nChange-Id: I4288738c2c95ab990024845fa43653854e790bd8\n'}, {'number': 2, 'created': '2022-11-18 01:58:12.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d940f586147e40e52b53b44c239e113a6d460747', 'message': 'Improve volumes format check of yaml-validate.py\n\nCurrently, yaml-validate.py cannot detect trailing slashes under\n""list_concat"" and ""if"".\n\n  volumes:\n    - /example:/example/ # <======= detected\n\n  volumes:\n    list_concat:\n    - - /example1:/example1/ # <===== not detected\n      - /example2:/example2\n    - if:\n      - {get_param: TestValue}\n      - - /example3:/example3/ # <==== not detected\n        - /example4:/example4\n\nThis fix makes yaml-validate.py detect the these trailing slashes.\n\nBecause the current implementation digs ""list"" twice in one call to\ncheck_volumes(), trailing slashes under ""list_concat"" are not detected.\nBecause the current implementation ignores ""if"", trailing slashes under\n""if"" are not deleted. check_volumes() doesn\'t have to ignore ""if""\nbecause non-volume-style value is ignored because of IndexError.\n\nChange-Id: I4288738c2c95ab990024845fa43653854e790bd8\n'}]",1,864955,d940f586147e40e52b53b44c239e113a6d460747,9,4,2,34564,,,0,"Improve volumes format check of yaml-validate.py

Currently, yaml-validate.py cannot detect trailing slashes under
""list_concat"" and ""if"".

  volumes:
    - /example:/example/ # <======= detected

  volumes:
    list_concat:
    - - /example1:/example1/ # <===== not detected
      - /example2:/example2
    - if:
      - {get_param: TestValue}
      - - /example3:/example3/ # <==== not detected
        - /example4:/example4

This fix makes yaml-validate.py detect the these trailing slashes.

Because the current implementation digs ""list"" twice in one call to
check_volumes(), trailing slashes under ""list_concat"" are not detected.
Because the current implementation ignores ""if"", trailing slashes under
""if"" are not deleted. check_volumes() doesn't have to ignore ""if""
because non-volume-style value is ignored because of IndexError.

Change-Id: I4288738c2c95ab990024845fa43653854e790bd8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/864955/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'tools/yaml-validate.py']",2,13e548408f34a41ddb7cf348f7c3b18312945bf9,," result += check_volumes(vol) elif isinstance(volumes, dict): elif isinstance(volumes, str): vol_def = volumes.split(':') try: if vol_def[0][-1] == '/' or vol_def[1][-1] == '/': print('ERROR: trailing ""/"" detected' ' for {}'.format(volumes)) return 1 except IndexError: # Not a volume definition, ignore it pass"," if isinstance(vol, dict): # Avoid 'if', 'get_*' etc continue elif isinstance(vol, list): for item in vol: result += check_volumes(item) elif isinstance(vol, str): vol_def = vol.split(':') try: if vol_def[0][-1] == '/' or vol_def[1][-1] == '/': print('ERROR: trailing ""/"" detected' ' for {}'.format(vol)) return 1 except IndexError: # Not a volume definition, ignore it continue elif isinstance(volumes, dict): # Step into 'list_concat', 'map_*' etc.",12,18
openstack%2Ftripleo-heat-templates~master~I03de141258ae7528706dd3a1d2eb5305e027d657,openstack/tripleo-heat-templates,master,I03de141258ae7528706dd3a1d2eb5305e027d657,Use root for frr container,ABANDONED,2022-11-04 10:43:32.000000000,2022-11-28 11:40:38.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-04 10:43:32.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e982b4690a1a92b2a67559ab171c6425db6493c0', 'message': 'Use root for frr container\n\nSince frr-8.3 enforces the frr daemons to be started/stopped by\nthe root user we need to align our container definition.\n\nChange-Id: I03de141258ae7528706dd3a1d2eb5305e027d657\n'}]",4,863635,e982b4690a1a92b2a67559ab171c6425db6493c0,12,5,1,30126,,,0,"Use root for frr container

Since frr-8.3 enforces the frr daemons to be started/stopped by
the root user we need to align our container definition.

Change-Id: I03de141258ae7528706dd3a1d2eb5305e027d657
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/863635/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,e982b4690a1a92b2a67559ab171c6425db6493c0,, user: root,,1,0
openstack%2Fnova-specs~master~I529100701b4e37838894913613d485fa5ecc9d63,openstack/nova-specs,master,I529100701b4e37838894913613d485fa5ecc9d63,Proposes cpu power managment in libvirt,MERGED,2022-10-17 09:17:19.000000000,2022-11-28 11:28:38.000000000,2022-11-28 11:27:08.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 09:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ed3310a372d9d865944eba2777e43f706aca1764', 'message': 'Add spec for external cpu power managment\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 2, 'created': '2022-10-17 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f25893955fe6fe02100ce285347249cd13118737', 'message': 'Proposes external cpu power managment\n\nThis spec describes blueprint external-cpu-management\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 3, 'created': '2022-10-17 09:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/da67beac37b0dfe7ee263284e9de3b03f9f16299', 'message': 'Proposes external cpu power managment\n\nThis spec describes blueprint external-cpu-management\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 4, 'created': '2022-11-15 13:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4edf34adcc30edf1f8d95ea237f930a76f3b8e8c', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 5, 'created': '2022-11-16 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4d8daf7db868af8e3c9d8e8e6a20c4c869f492a5', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 6, 'created': '2022-11-25 15:13:06.000000000', 'files': ['specs/2023.1/approved/libvirt-cpu-state-mgmt.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bba19dc7939198528f9b3583472691d997860e03', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}]",48,861591,bba19dc7939198528f9b3583472691d997860e03,28,4,6,7166,,,0,"Proposes cpu power managment in libvirt

This spec describes blueprint libvirt-cpu-state-mgmt

Change-Id: I529100701b4e37838894913613d485fa5ecc9d63
Co-Authored-By: Sean Mooney <work@seanmooney.info>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/91/861591/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/external-cpu-management.rst'],1,ed3310a372d9d865944eba2777e43f706aca1764,external-cpu-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= External CPU Management ======================= https://blueprints.launchpad.net/nova/+spec/external-cpu-management In many telecom or semi-static clouds, there is a bin packing problem where a node for all practical use cases is full since no further applications can be scheduled to the host but in reality, it still has unused CPU cores. In a typical server system, an idle CPU core consumes 3-5 watts of power and produces 3-5 watts of heat which the data center cooling solution must accommodate. To facilitate reducing power usage and heat output in order to make data centers greener and less expensive, it makes sense to allow the power state of CPUs to be turned off or using another governor so that they can be optimized. As we don't want to have the nova-compute services to support this as it would be different between virt drivers etc. we prefer to have a external CPU management tool for this. Problem description =================== For our large telco operators, they often find that they have 2-4 CPUs that are not usable due to CPU pinning/packing requirements per host. Each CPU consumes 3-5 watts per core or ~12-20 watts per host. Assuming a nominal cost per kWh of $0,20 and 1000 hosts, that means they pay $35,040 in wasted electricity a year alone from just the idle CPU usage plus the additional cost of dissipating all of the heat generated. Furthermore, while many telco use-cases require low latency and high throughput, not all of them require the CPU to run at the max frequency. Use Cases --------- As an operator using the nova libvirt driver, I would like to be able to disable (offline) cpu cores using the kernel sysfs interface from an external tool. As an operator, I would like to leverage server metadata and tags to express a policy that my external tool can use to tune the host. Proposed change =============== There are three parts to this proposal : - add a config option for declaring that CPUs are externally managed - modify inventories for reserving offlined CPUs - use events between Nova and the external tool to know when a CPU is onlined Let's discuss those three parts by each of them : Declaring CPUs as externally managed ------------------------------------ We can add a config option to the hardware section to declare that the host CPUs are externally managed `[1]`_. .. code:: # registered in group [hardware] cfg.BoolOpt('cpu_external_management', default=False, help='Use of an external CPU management tool.') If this option is set to True, then all the CPUs will be told as onlined even if they are offlined as the external management tool could online them after starting the nova-compute service. ..note:: For the moment, only the libvirt driver will use this option but other drivers could support it too later. Modify the inventories to reserve offline CPUs ---------------------------------------------- The update provider tree will be modified for CPU inventories by modifying the ``reserved`` field to the number of offline CPUs if ``[hardware]/cpu_external_management option`` is set to True. This will allow the external tool to notify Placement of the offlined CPUs for correct scheduling. Use events between Nova and the external tool --------------------------------------------- ..note:: this step can be optional if operators don't want to run an external tool as a dynamic daemon that would turn on CPUs on fly when an instance is created. They indeed could just set the CPUs on or off statically based on their different use cases. We propose to add a new external event and a second config option to wait for this event. .. code:: # registered in group [hardware] cfg.IntOpt('external_management_timeout', default=-1, help=""Event wait time from external management tool. Set to -1 to disable this timeout, 0 for waiting indefinitely or any positive number for the number of seconds to wait for this event."") When this config option is not equal to -1, a new set of external event waiters will be activated in specific instance actions before nova starts a VM at boot, unshelve, cold migrate, rebuild, rescue, and evacuate. As synchronization during a live migrate action is non-trivial and Nova can not control when the VM un-pauses, *no* additional waiting will be added for live-migrate. The external service would listen to the versioned nova notification stream to know that an instance needs to be managed so no direct interface between nova and the external service is required. Some examples of this back-and-forth between the nova-compute service and the external management tool can be : - when an instance is spawned, it holds until the external tool turns the corresponding CPU online. - when an instance is spawned, it holds until the CPU governor is set to performance. Other examples could happen later, but as you see, all of those won't require any changes in Nova. Alternatives ------------ We could just do the first step and provide a way to disable checking the CPU online state in the libvirt driver with no external synchronization, but this would require the operators to statically manage their cloud, which is cumbersome. We could do this directly in nova and amend Nova everytime we want a new usecase. Not sure we'd appreciate this. We could make reporting CPUs to the Placement API controlable via config, but this would only solve one usecase and would still require some tooling for playing with the config option. Data model impact ----------------- None REST API impact --------------- A new external event type will be added : ``hypervisor-external-management-complete``. Security impact --------------- None While the external management component will need to ensure that it works securely, there is no security impact to Nova. Notifications impact -------------------- If we implement the last step, which is an event listener, we may also want to send a new notification to indicate we have started waiting for external management of the instance. Other end user impact --------------------- None Performance Impact ------------------ This could generate a bit more extra load on some Nova REST API calls as they would need an event arrivate to complete. This will also add more messages to the message bus. That being said, as this feature is opt-in, operators can identify any potential need for performance tuning before fully adopting it. Other deployer impact --------------------- In addition to the Nova change, deployment tools that choose to support this feature will need to be enhanced to deploy the external management daemon. Developer impact ---------------- None Upgrade impact -------------- The external management daemon will not be usable until after the compute node is upgraded to Antelope due to the current restriction on core online status. However once the compute node is updated, there should be no upgrade impact. Implementation ============== Assignee(s) ----------- Primary assignee: bauzas Other contributors: sean-k-mooney Feature Liaison --------------- Feature liaison: N/A Work Items ---------- * Add a config option for external cpu state management `[1]`_ * Add a config option for external event timeout * Add an external event type to API * Add conditional event waiting blocks to instance start operations. * Add example documentation for how to integrate an external service. Dependencies ============ None Testing ======= Testing of this spec will be done with unit and functional tests. A test fixture to fake an external service will be added. This fixture will be a noop that just sends the event in response to the new notification. The API sample tests will be updated to account for the new notification. We could also integrate a Tempest scenario that would rely on a small external tool that would just send the event back. Documentation Impact ==================== An example documentation will be provided on how to integrate a service for deployment tools to consume. References ========== .. _[1]: https://review.opendev.org/c/openstack/nova/+/821228 A WIP reference implementation of the external service is hosted at https://github.com/SeanMooney/arbiterd This may be upstreamed to opendev in the future. In the specific case of arbiterd, the intent is to allow add integration with Placement so that it can mark any off-lined core as reserved in placement to ensure correct scheduling. Traits inventories of power budget or other resources may also be exposed over time however ``provider.yaml`` may also be used for that. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced * - Antelope - Reproposed ",,299,0
openstack%2Fbarbican~stable%2Fwallaby~I4896f1508e34785864c260e64484ae0138100ef4,openstack/barbican,stable/wallaby,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-24 13:13:41.000000000,2022-11-28 10:18:44.000000000,2022-11-28 10:17:19.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:41.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6ee5ad91635b41c3ab891602942b1b809a25ace6', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)\n'}]",1,865552,6ee5ad91635b41c3ab891602942b1b809a25ace6,9,2,1,14250,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/865552/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,6ee5ad91635b41c3ab891602942b1b809a25ace6,policy-system-admin-typo-stable/wallaby," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Fpycadf~stable%2Fvictoria~Ia3f66b6805704c254295fd663f0260d5d963ed66,openstack/pycadf,stable/victoria,Ia3f66b6805704c254295fd663f0260d5d963ed66,Drop lower-constraints.txt and its testing,MERGED,2022-11-04 18:46:48.000000000,2022-11-28 10:18:36.000000000,2022-11-28 10:15:29.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 18:46:48.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/0475709c0734d8314637298de2fd2b005ad5a1cb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 84f6e5b7658adc36e9e9cedcd42642c9ab8ceb15)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}]",0,863690,0475709c0734d8314637298de2fd2b005ad5a1cb,9,5,1,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

(cherry picked from commit 84f6e5b7658adc36e9e9cedcd42642c9ab8ceb15)

Change-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/90/863690/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,0475709c0734d8314637298de2fd2b005ad5a1cb,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,58
openstack%2Fpycadf~stable%2Fussuri~Ia3f66b6805704c254295fd663f0260d5d963ed66,openstack/pycadf,stable/ussuri,Ia3f66b6805704c254295fd663f0260d5d963ed66,Drop lower-constraints.txt and its testing,MERGED,2022-11-04 18:51:25.000000000,2022-11-28 10:18:34.000000000,2022-11-28 10:15:31.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 18:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/414bc907b3d0440238dbf602d2b74e92364147c1', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}, {'number': 2, 'created': '2022-11-04 19:39:52.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.py', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/6fe11b5188bbdbb39bff511fa0227e5785be17f7', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}]",0,863691,6fe11b5188bbdbb39bff511fa0227e5785be17f7,11,4,2,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)

Change-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/91/863691/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,414bc907b3d0440238dbf602d2b74e92364147c1,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,63
openstack%2Ftripleo-ci~master~I3aa5b15015ec316a1ea4457637cdd908468ebdff,openstack/tripleo-ci,master,I3aa5b15015ec316a1ea4457637cdd908468ebdff,"[DNM][WIP]""Add Ironic standalone job""",ABANDONED,2022-06-14 14:15:24.000000000,2022-11-28 09:56:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 14:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5bee6f4e3dcfdb30b7cdba7d1fcb12477fc6ce4', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit attempts to introduce a new job replicating\nan Ironic job used in phase 3 with Infrared.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 2, 'created': '2022-06-15 07:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4b7381abeec74a5e81625b740def2f4a543575db', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 3, 'created': '2022-06-20 14:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bc8cc16454453fcf6b4bb293a630ae61d7284ba', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 4, 'created': '2022-06-21 09:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98368d3f2d1e95b5082426ae3348164d647e8e7a', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 5, 'created': '2022-06-21 09:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/091b72efb9e93a30620e3e08f94b6e25c0ddb56e', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 6, 'created': '2022-06-21 09:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/876d7a4ae6a5f4292fdfe75f78f5acf9ad9cc7bf', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 7, 'created': '2022-06-21 09:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28fb4871f86709cec5f1cc890129923f4390c473', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 8, 'created': '2022-06-21 10:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e577864098344d1a2cdb7353f7dd77ddb85bd054', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 9, 'created': '2022-06-21 10:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0cda4c822de9f7bfa92d3f8642470d3a0503d5bd', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 10, 'created': '2022-06-21 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0eae36d78cd61c2de5af1f439a045b0903300156', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 11, 'created': '2022-06-21 14:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49c8b73d548873f7bbf05bf64da6b1f989137063', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 12, 'created': '2022-06-21 14:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a843b79a3b1991b34249b48747a2b373d3c66049', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 13, 'created': '2022-06-21 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61610cfd6c56a6d885286a5ffe4aee63f2c33df5', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 14, 'created': '2022-06-21 14:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b72aaa9d8686835da411894452209e14a2847642', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 15, 'created': '2022-06-21 15:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a3c6b96cbfe3cd3e550b4c301b71a28f8cc0a25', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 16, 'created': '2022-06-22 10:40:29.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e8535e0c80dcbea58574a2f88578348e7333325', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}]",3,845763,6e8535e0c80dcbea58574a2f88578348e7333325,42,2,16,34602,,,0,"[DNM][WIP]""Add Ironic standalone job""

This commit introduces a new job for Ironic project.

Change-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/845763/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,d5bee6f4e3dcfdb30b7cdba7d1fcb12477fc6ce4,, name: tripleo-ci-scenario012-ironic-options vars: featureset: '060' featureset_override: standalone_environment_files: - 'ci/environments/scenario012-standalone.yaml' - job: name: tripleo-ci-centos-8-ironic-standalone parent: tripleo-ci-scenario012-ironic-options - job:,,12,0
openstack%2Fkeystonemiddleware~stable%2Fxena~I0ced0a7f4c8947d879676b17cb8b49368df2a634,openstack/keystonemiddleware,stable/xena,I0ced0a7f4c8947d879676b17cb8b49368df2a634,Xena: Update classifiers according to tested runtimes,MERGED,2022-05-27 16:15:51.000000000,2022-11-28 09:53:00.000000000,2022-11-28 09:51:57.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 16:15:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5c318d603b2c27d98f57a9512225ed6ebf7108cd', 'message': 'Xena: Update classifiers according to tested runtimes\n\nChange-Id: I0ced0a7f4c8947d879676b17cb8b49368df2a634\n'}]",0,843653,5c318d603b2c27d98f57a9512225ed6ebf7108cd,9,6,1,9816,,,0,"Xena: Update classifiers according to tested runtimes

Change-Id: I0ced0a7f4c8947d879676b17cb8b49368df2a634
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/53/843653/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5c318d603b2c27d98f57a9512225ed6ebf7108cd,,python-requires >= 3.6 Programming Language :: Python :: 3 :: Only Programming Language :: Python :: 3.8,,3,0
openstack%2Fhorizon~master~I568e3320294d5f78d17bebd58e40b35f03806a08,openstack/horizon,master,I568e3320294d5f78d17bebd58e40b35f03806a08,[DNM] Test nodejs test job,ABANDONED,2022-11-09 05:58:07.000000000,2022-11-28 09:35:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-09 05:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/08a16f69e64a2763df794c31561bd5bcf8f18687', 'message': '[DNM] Test nodejs test job\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}, {'number': 2, 'created': '2022-11-09 07:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b240cefcdd62f9182866cee7f098a572b773889', 'message': '[DNM] Test nodejs test job\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}, {'number': 3, 'created': '2022-11-09 14:20:51.000000000', 'files': ['bindep.txt', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8db5f7a83db67398931f476bff8c2f6ac68fa31f', 'message': '[DNM] Test nodejs test job\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/864119\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}]",0,864081,8db5f7a83db67398931f476bff8c2f6ac68fa31f,6,1,3,29313,,,0,"[DNM] Test nodejs test job

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/864119

Change-Id: I568e3320294d5f78d17bebd58e40b35f03806a08
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/864081/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,08a16f69e64a2763df794c31561bd5bcf8f18687,, #- check-requirements #- horizon-cross-jobs #- horizon-non-primary-django-jobs #- openstack-python3-jobs #- periodic-stable-jobs #- publish-openstack-docs-pti #- release-notes-jobs-python3 #- horizon-integration-tests #- horizon-dsvm-tempest-plugin #- horizon-tox-bandit-baseline #- horizon-tempest-plugin-ipv6, - check-requirements - horizon-cross-jobs - horizon-non-primary-django-jobs - openstack-python3-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - horizon-integration-tests - horizon-dsvm-tempest-plugin - horizon-tox-bandit-baseline - horizon-tempest-plugin-ipv6,11,11
openstack%2Fpuppet-neutron~master~Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968,openstack/puppet-neutron,master,Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968,ovn-metadata: Remove deprecated metadata_ip,MERGED,2022-11-15 01:59:31.000000000,2022-11-28 08:39:51.000000000,2022-11-28 08:38:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-15 01:59:31.000000000', 'files': ['releasenotes/notes/remove-ovn_metadata-metadata_ip-a83b5fbf0cc7a630.yaml', 'manifests/agents/ovn_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5e9324e62f96ca2128548b95341b9376f400f85d', 'message': 'ovn-metadata: Remove deprecated metadata_ip\n\nThe parameter was deprecated during the previous cycle[1], because\nthe actual parameter in Neutron had been removed a long ago.\n\n[1] 189d7d6bea084b0298e5490c43157018a330f5c4\n\nChange-Id: Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968\n'}]",11,864451,5e9324e62f96ca2128548b95341b9376f400f85d,38,3,1,9816,,,0,"ovn-metadata: Remove deprecated metadata_ip

The parameter was deprecated during the previous cycle[1], because
the actual parameter in Neutron had been removed a long ago.

[1] 189d7d6bea084b0298e5490c43157018a330f5c4

Change-Id: Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/51/864451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ovn_metadata-metadata_ip-a83b5fbf0cc7a630.yaml', 'manifests/agents/ovn_metadata.pp']",2,5e9324e62f96ca2128548b95341b9376f400f85d,,,"# DEPRECATED PARAMETERS # # [*metadata_ip*] # The IP address of the metadata service. # Defaults to undef # # DEPRECATED PARAMETERS $metadata_ip = undef, if $metadata_ip != undef { warning('The metadata_ip parameter is deprecated and has no effect') } ovn_metadata_agent_config { 'DEFAULT/nova_metadata_ip': ensure => absent; } ",5,15
openstack%2Fldappool~master~Ifd88d86705c8c89681a3144b0a747c140dd58159,openstack/ldappool,master,Ifd88d86705c8c89681a3144b0a747c140dd58159,Stop to use the __future__ module.,NEW,2020-06-02 18:22:07.000000000,2022-11-28 08:38:50.000000000,,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:22:07.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ldappool/commit/beca20c089198742fc2586d8821c3862a6082311', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Ifd88d86705c8c89681a3144b0a747c140dd58159\n""}]",0,732855,beca20c089198742fc2586d8821c3862a6082311,10,7,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Ifd88d86705c8c89681a3144b0a747c140dd58159
",git fetch https://review.opendev.org/openstack/ldappool refs/changes/55/732855/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,beca20c089198742fc2586d8821c3862a6082311,drop_future_imports,,from __future__ import unicode_literals ,0,2
openstack%2Fkeystonemiddleware~master~I0107815b9423ea3661cef0a20a8689c6eba454ce,openstack/keystonemiddleware,master,I0107815b9423ea3661cef0a20a8689c6eba454ce,Switch memcache_pool_socket_timeout to a float,NEW,2022-11-22 19:08:32.000000000,2022-11-28 08:11:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-22 19:08:32.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bca0311f94ae2f04440006efd20b84af7d440939', 'message': ""Switch memcache_pool_socket_timeout to a float\n\nIt's not unusual to set 0.25 as a socket_timeout value, and this was\nnot possible. This can have a dramatic impact for performance when one\nmemcached server is down, especially when keystone is involved.\n\nSee https://review.opendev.org/c/openstack/oslo.cache/+/519353/\nfor a similar change in oslo (and related lp#1731921).\n\nChange-Id: I0107815b9423ea3661cef0a20a8689c6eba454ce\n""}]",3,865325,bca0311f94ae2f04440006efd20b84af7d440939,6,2,1,30126,,,0,"Switch memcache_pool_socket_timeout to a float

It's not unusual to set 0.25 as a socket_timeout value, and this was
not possible. This can have a dramatic impact for performance when one
memcached server is down, especially when keystone is involved.

See https://review.opendev.org/c/openstack/oslo.cache/+/519353/
for a similar change in oslo (and related lp#1731921).

Change-Id: I0107815b9423ea3661cef0a20a8689c6eba454ce
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/25/865325/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/_opts.py'],1,bca0311f94ae2f04440006efd20b84af7d440939,," cfg.FloatOpt('memcache_pool_socket_timeout', default=3.0,"," cfg.IntOpt('memcache_pool_socket_timeout', default=3,",2,2
openstack%2Ftrove~master~I8619621b4348bff26808104e4f9e070c64429c3f,openstack/trove,master,I8619621b4348bff26808104e4f9e070c64429c3f,Follow up: CI: test build docker image,MERGED,2022-11-23 11:02:03.000000000,2022-11-28 07:52:15.000000000,2022-11-28 07:50:36.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-23 11:02:03.000000000', 'files': ['playbooks/image-build/docker-registry.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/3134fd478d11ea08c513254a305b6ae0bf323b75', 'message': 'Follow up: CI: test build docker image\n\nThe previous patch forgot to push the tarball to openstack website.\nThis change adds a task to push it and replaces hard quote with soft\nquote\n\nChange-Id: I8619621b4348bff26808104e4f9e070c64429c3f\n'}]",0,865413,3134fd478d11ea08c513254a305b6ae0bf323b75,8,2,1,26285,,,0,"Follow up: CI: test build docker image

The previous patch forgot to push the tarball to openstack website.
This change adds a task to push it and replaces hard quote with soft
quote

Change-Id: I8619621b4348bff26808104e4f9e070c64429c3f
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/865413/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/docker-registry.yaml', 'zuul.d/jobs.yaml']",2,3134fd478d11ea08c513254a305b6ae0bf323b75,trove-local-registry, parent: publish-openstack-artifacts - openstack/trove , - openstack/trove,3,2
openstack%2Ftripleo-heat-templates~stable%2Fzed~I154bfc36cc56f6b5425ec6bf805a290973203ba1,openstack/tripleo-heat-templates,stable/zed,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 07:28:11.000000000,2022-11-28 07:48:18.000000000,2022-11-28 07:47:22.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:28:11.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e675ecb95561b5061b5c2b5737348c0bd818feac', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)\n""}]",1,865726,e675ecb95561b5061b5c2b5737348c0bd818feac,8,2,1,8833,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/865726/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,e675ecb95561b5061b5c2b5737348c0bd818feac,, VIRTUAL_ENV={envdir},requires = # extra plugin returns error if git reports untracked or dirty files tox-extra>=0.0.0,1,11
openstack%2Ftripleo-heat-templates~master~I154bfc36cc56f6b5425ec6bf805a290973203ba1,openstack/tripleo-heat-templates,master,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 06:04:22.000000000,2022-11-28 07:26:42.000000000,2022-11-28 07:25:44.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-28 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/162742bd3c321659d24b7c07edacacb91b46f2d5', 'message': 'WIP fix tox failures\n\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n'}, {'number': 2, 'created': '2022-11-28 06:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14ba40f6c609526669f696d4be22b435ad5efd4b', 'message': 'WIP fix tox failures\n\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n'}, {'number': 3, 'created': '2022-11-28 06:25:15.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/889dffa6a8a65d50d418c3724abb1912d5d4e882', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n""}]",1,865789,889dffa6a8a65d50d418c3724abb1912d5d4e882,11,3,3,8833,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/865789/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,162742bd3c321659d24b7c07edacacb91b46f2d5,, VIRTUAL_ENV={envdir},,1,8
openstack%2Fmasakari~master~Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3,openstack/masakari,master,Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3,vm evacuations for host recovery,ABANDONED,2021-05-04 02:13:49.000000000,2022-11-28 07:26:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-05-04 02:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2685fd7a342c819f9fb6f86a45419d2f3f94037e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 2, 'created': '2021-05-04 07:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae0ac89152f8d578fd6e495d8e1e1d4961395ac4', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 3, 'created': '2021-05-04 07:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/7a2c216dc1be291c1e5134f74bf60a9eade0f0b6', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 4, 'created': '2021-05-05 01:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/666c31c6b9268ed33182a6add9abdb58cf8cbb19', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 5, 'created': '2021-08-16 06:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e400db3e5b3cfb0e96b20d09fd97e8d57cd8fd1e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 6, 'created': '2021-08-20 02:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2cd7d0e94d00a4699a3046d61217bd0469dd2d1a', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 7, 'created': '2021-08-20 03:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/512200c691f797a7ed163380c5713401bfc14b14', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 8, 'created': '2021-08-20 03:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/30a6e27ae569edeb64081d761126b52ef78b0eec', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 9, 'created': '2021-08-20 05:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9a222a3ef24aa98ed05685e881151d1d9e802eb3', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 10, 'created': '2021-08-25 12:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/186341469e1b9a0973804218ddcdf772144ef531', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 11, 'created': '2021-08-25 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a3208e357a5eaa49641ba4c6778c41ce207d4efa', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 12, 'created': '2021-08-31 11:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a33cc521b631c111f0b2a545f06ea753e3e45118', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 13, 'created': '2021-12-21 07:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4a8dfaa9a4cf0f4b5cba4533ab0ea02144d80037', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nCo-Authored-By: suzhengwei <sugar-2008@163.com>\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 14, 'created': '2021-12-22 02:00:33.000000000', 'files': ['masakari/tests/unit/api/openstack/ha/test_evacuations.py', 'masakari/tests/unit/fakes.py', 'masakari/tests/unit/objects/test_objects.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/exception.py', 'masakari/policies/evacuations.py', 'masakari/policies/__init__.py', 'masakari/api/openstack/ha/evacuations.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/objects/__init__.py', 'masakari/ha/api.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/tests/unit/objects/test_evacuations.py', 'masakari/db/sqlalchemy/api.py', 'masakari/objects/evacuation.py', 'masakari/db/api.py', 'masakari/objects/fields.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_evacuation_table.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/db/sqlalchemy/models.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari/commit/8997e895f1ff321c8b05208e88b8d9911739a75e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nCo-Authored-By: suzhengwei <sugar-2008@163.com>\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}]",134,789460,8997e895f1ff321c8b05208e88b8d9911739a75e,33,3,14,31825,,,0,"vm evacuations for host recovery

Generally, the resources of computing nodes are gradually reduced.
If a large number of hosts fail at the same time and there are not
enough computing node resources, the operator needs to set the
priority of instance evacuation in advance to ensure that the
evacuation can be carried out in the order of priority.

When the failed compute node recovers, in order to make full
use of the computing node resources, and some instances need
to run on a specific computing node, the operator wants to
migrate the instance back to the original node.

Co-Authored-By: suzhengwei <sugar-2008@163.com>
Change-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3
Implements: BP vm-evacuations-for-host-recovery
",git fetch https://review.opendev.org/openstack/masakari refs/changes/60/789460/3 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/exception.py', 'masakari/policies/evacuations.py', 'masakari/policies/__init__.py', 'masakari/api/openstack/ha/evacuations.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/objects/__init__.py', 'masakari/ha/api.py', 'masakari/db/sqlalchemy/api.py', 'masakari/objects/evacuation.py', 'masakari/db/api.py', 'masakari/objects/fields.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_evacuation_table.py', 'masakari/db/sqlalchemy/models.py', 'setup.cfg']",14,2685fd7a342c819f9fb6f86a45419d2f3f94037e,bp/vm-evacuations-for-host-recovery, evacuations = masakari.api.openstack.ha.evacuations:Evacuations,,703,37
openstack%2Ftrove~master~I11aa38d2ff0da058590ec2b089756a659cad777b,openstack/trove,master,I11aa38d2ff0da058590ec2b089756a659cad777b,Adds database_service_uid to the document,MERGED,2022-10-31 04:48:20.000000000,2022-11-28 06:39:12.000000000,2022-11-28 06:38:12.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-10-31 04:48:20.000000000', 'files': ['doc/source/admin/run_trove_in_production.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/a39d7f9a29a9f8abdb36f472e2f286c7aff73728', 'message': 'Adds database_service_uid to the document\n\nThis PR adds the `database_service_uid` configuration option to the\ndocument.\n\nStory: 2010259\nTask: 46154\nChange-Id: I11aa38d2ff0da058590ec2b089756a659cad777b\n'}]",2,862987,a39d7f9a29a9f8abdb36f472e2f286c7aff73728,10,5,1,31737,,,0,"Adds database_service_uid to the document

This PR adds the `database_service_uid` configuration option to the
document.

Story: 2010259
Task: 46154
Change-Id: I11aa38d2ff0da058590ec2b089756a659cad777b
",git fetch https://review.opendev.org/openstack/trove refs/changes/87/862987/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/run_trove_in_production.rst'],1,a39d7f9a29a9f8abdb36f472e2f286c7aff73728,story/2010259, database_service_uid The UID(GID) of database service user. ,,3,0
openstack%2Fpuppet-openstack_extras~master~I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb,openstack/puppet-openstack_extras,master,I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb,CentOS: Remove deprecated parameters,MERGED,2022-11-09 15:42:44.000000000,2022-11-28 06:36:27.000000000,2022-11-28 06:35:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-09 15:42:44.000000000', 'files': ['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/redhat-repo-cleanup-antelope-ca46c38bbf3ee957.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/bdf0f42d522d79266c3292005866de8ed0285112', 'message': 'CentOS: Remove deprecated parameters\n\nThese parameters were deprecated during the past cycles and have no\neffect since support for CentOS 8 has been completely removed.\n\nChange-Id: I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb\n'}]",5,864126,bdf0f42d522d79266c3292005866de8ed0285112,24,3,1,9816,,,0,"CentOS: Remove deprecated parameters

These parameters were deprecated during the past cycles and have no
effect since support for CentOS 8 has been completely removed.

Change-Id: I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/26/864126/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/redhat-repo-cleanup-antelope-ca46c38bbf3ee957.yaml']",2,bdf0f42d522d79266c3292005866de8ed0285112,,--- upgrade: - | The following parameters of the ``openstack_extras::repo::redhat::redhat`` class have been removed. - ``stream`` - ``manage_virt`` ,,8,23
openstack%2Ftripleo-heat-templates~master~I26cbcb812da8473536d25a4ba26e45e42af4db10,openstack/tripleo-heat-templates,master,I26cbcb812da8473536d25a4ba26e45e42af4db10,Use pacemaker-managed redis for Octavia,ABANDONED,2022-11-03 09:18:21.000000000,2022-11-28 06:35:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-03 09:18:21.000000000', 'files': ['environments/services/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83b725e0031de49d0b0307dfad8533d219cda5c0', 'message': 'Use pacemaker-managed redis for Octavia\n\nTest\n\nChange-Id: I26cbcb812da8473536d25a4ba26e45e42af4db10\n'}]",0,863485,83b725e0031de49d0b0307dfad8533d219cda5c0,5,3,1,30126,,,0,"Use pacemaker-managed redis for Octavia

Test

Change-Id: I26cbcb812da8473536d25a4ba26e45e42af4db10
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/863485/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/octavia.yaml'],1,83b725e0031de49d0b0307dfad8533d219cda5c0,, OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml, OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml,1,1
openstack%2Fpuppet-swift~master~I77657c2dd50df511f5191219896e780d94405949,openstack/puppet-swift,master,I77657c2dd50df511f5191219896e780d94405949,DNM: Testing canonical IPv6 address,ABANDONED,2022-11-21 23:50:15.000000000,2022-11-28 03:40:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-21 23:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8e817dcfeeb88f05be5f90975260cf17c038385c', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}, {'number': 2, 'created': '2022-11-22 00:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/caef230dff75d6cea5870b4b2178c3de06ecf708', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}, {'number': 3, 'created': '2022-11-22 02:08:30.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5c436ac47c965e7c17f8cdf55267052b156e2d85', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}]",0,865209,5c436ac47c965e7c17f8cdf55267052b156e2d85,7,1,3,9816,,,0,"DNM: Testing canonical IPv6 address

Change-Id: I77657c2dd50df511f5191219896e780d94405949
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/09/865209/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_swift_spec.rb'],1,8e817dcfeeb88f05be5f90975260cf17c038385c,," $swift_node_host = $openstack_integration::config::ipv6 ? { true => '0000:0000:0000:0000:0000:0000:0000:0001', default => $::openstack_integration::config::host } storage_local_net_ip => $swift_node_host,"," storage_local_net_ip => $::openstack_integration::config::host,",5,1
openstack%2Fpuppet-tripleo~master~Ie4db2e34caea708603850eaeb7436e719d057b9e,openstack/puppet-tripleo,master,Ie4db2e34caea708603850eaeb7436e719d057b9e,Octavia: Remove deprecated parameters,ABANDONED,2022-11-26 17:20:07.000000000,2022-11-28 03:22:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-26 17:20:07.000000000', 'files': ['manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32a09bd573244676e3203c119072df2749df8e47', 'message': 'Octavia: Remove deprecated parameters\n\nThe ovn db parameters were deprecated before Zed release[1] thus can\nbe removed now. Also, the neutron_driver parameter was deprecated\nseveral cycles ago[2] and can be removed now as well.\n\n[1] a485965a2326cb1e62c2597b3eeac7e2cd54131f\n[2] 517eea74811fa5e61ea6010a620ffb50d207844b\n\nChange-Id: Ie4db2e34caea708603850eaeb7436e719d057b9e\n'}]",0,865774,32a09bd573244676e3203c119072df2749df8e47,4,2,1,9816,,,0,"Octavia: Remove deprecated parameters

The ovn db parameters were deprecated before Zed release[1] thus can
be removed now. Also, the neutron_driver parameter was deprecated
several cycles ago[2] and can be removed now as well.

[1] a485965a2326cb1e62c2597b3eeac7e2cd54131f
[2] 517eea74811fa5e61ea6010a620ffb50d207844b

Change-Id: Ie4db2e34caea708603850eaeb7436e719d057b9e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/865774/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp']",2,32a09bd573244676e3203c119072df2749df8e47,," if $ovn_db_clustered { join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port}""].filter |$c| { !$c.empty() }, ':') join([$protocol, normalize_ip_for_uri($h), ""${ovn_sb_port}""].filter |$c| { !$c.empty() }, ':')"," # For backward compatibility # TODO(tkajinam): Remove these deprecated parameters if $::tripleo::profile::base::octavia::api::ovn_db_host and !is_service_default(::tripleo::profile::base::octavia::api::ovn_db_host) { $ovn_db_hosts_real = any2array($::tripleo::profile::base::octavia::api::ovn_db_host) $ovn_nb_port_real = $::tripleo::profile::base::octavia::api::ovn_nb_port # NOTE(beagles): there is no backwards compatible case for the sb_port but I'm # adding this line for consistency. $ovn_sb_port_real = $ovn_sb_port } elsif $ovn_db_clustered { $ovn_nb_port_real = $ovn_nb_port $ovn_sb_port_real = $ovn_sb_port $ovn_nb_port_real = $ovn_nb_port $ovn_sb_port_real = $ovn_sb_port join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port_real}""].filter |$c| { !$c.empty() }, ':') join([$protocol, normalize_ip_for_uri($h), ""${ovn_sb_port_real}""].filter |$c| { !$c.empty() }, ':')",3,37
openstack%2Frequirements~stable%2Fxena~Ib60c615f1040a80a5872106f90b3c508b06c69ff,openstack/requirements,stable/xena,Ib60c615f1040a80a5872106f90b3c508b06c69ff,update constraint for sushy to new release 3.12.5,MERGED,2022-11-24 16:36:32.000000000,2022-11-28 01:15:30.000000000,2022-11-28 01:15:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 16:36:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d75796d8562a5c5f243272dcd4f21c672f15f83', 'message': 'update constraint for sushy to new release 3.12.5\n\nmeta: version: 3.12.5\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Jacob Anders <janders@redhat.com>\nmeta: release:Commit: Jacob Anders <janders@redhat.com>\nmeta: release:Change-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib60c615f1040a80a5872106f90b3c508b06c69ff\n'}]",1,865586,6d75796d8562a5c5f243272dcd4f21c672f15f83,10,3,1,11131,,,0,"update constraint for sushy to new release 3.12.5

meta: version: 3.12.5
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Jacob Anders <janders@redhat.com>
meta: release:Commit: Jacob Anders <janders@redhat.com>
meta: release:Change-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib60c615f1040a80a5872106f90b3c508b06c69ff
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/865586/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6d75796d8562a5c5f243272dcd4f21c672f15f83,new-release,sushy===3.12.5,sushy===3.12.4,1,1
openstack%2Frequirements~stable%2Fyoga~Ibaa72523fa74e5648687ea7bc066652b1b66332b,openstack/requirements,stable/yoga,Ibaa72523fa74e5648687ea7bc066652b1b66332b,update constraint for sushy to new release 4.1.5,MERGED,2022-11-24 16:24:36.000000000,2022-11-27 20:08:48.000000000,2022-11-27 20:08:48.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 16:24:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d', 'message': 'update constraint for sushy to new release 4.1.5\n\nmeta: version: 4.1.5\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Jacob Anders <janders@redhat.com>\nmeta: release:Commit: Jacob Anders <janders@redhat.com>\nmeta: release:Change-Id: Ic15aa833a408685811e53c457c1c5653547b0f85\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ibaa72523fa74e5648687ea7bc066652b1b66332b\n'}]",0,865584,1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d,8,3,1,11131,,,0,"update constraint for sushy to new release 4.1.5

meta: version: 4.1.5
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Jacob Anders <janders@redhat.com>
meta: release:Commit: Jacob Anders <janders@redhat.com>
meta: release:Change-Id: Ic15aa833a408685811e53c457c1c5653547b0f85
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ibaa72523fa74e5648687ea7bc066652b1b66332b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/865584/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d,new-release,sushy===4.1.5,sushy===4.1.3,1,1
openstack%2Fpython-swiftclient~master~Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e,openstack/python-swiftclient,master,Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e,Fix region selection in a multi-region deployment.,ABANDONED,2021-12-17 22:33:28.000000000,2022-11-27 15:49:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-17 22:33:28.000000000', 'files': ['swiftclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e9c786863c822d0c37f8ffab63b7d79c44911b4b', 'message': 'Fix region selection in a multi-region deployment.\n\nSwift doesn’t pass correctly the value of region_name option\nto keystoneauth1.plugin.BaseAuthPlugin. Specifically, what happens is\nthat the region_name parameter is passed to the function\nget_endpoint_data as part of **kwargs, but the current\nimplementation of the function ignores the content of kwargs,\ntherefore get_endpoint_data doesn’t receive any info on the region_name.\n\nChange-Id: Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e\n'}]",5,822210,e9c786863c822d0c37f8ffab63b7d79c44911b4b,5,1,1,34379,,,0,"Fix region selection in a multi-region deployment.

Swift doesn’t pass correctly the value of region_name option
to keystoneauth1.plugin.BaseAuthPlugin. Specifically, what happens is
that the region_name parameter is passed to the function
get_endpoint_data as part of **kwargs, but the current
implementation of the function ignores the content of kwargs,
therefore get_endpoint_data doesn’t receive any info on the region_name.

Change-Id: Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/10/822210/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/client.py'],1,e9c786863c822d0c37f8ffab63b7d79c44911b4b,fix-region-selection," region_name = os_options.get('region_name') or 'default' region_name=region_name,",,2,0
openstack%2Fpuppet-neutron~master~I88f96f6a73921907cf076a8689b4113fc2b8170b,openstack/puppet-neutron,master,I88f96f6a73921907cf076a8689b4113fc2b8170b,Document default values of neutron::designate parameters,MERGED,2022-11-22 02:39:13.000000000,2022-11-26 21:50:06.000000000,2022-11-26 21:50:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 02:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71e9ec2a717a638691671e0cc9c7b3f19f27c8f0', 'message': 'Document default values of neutron::designate parameters\n\nThis change fixes some missing description about the default values of\nthe neutron::designate class parameters, and makes the description\nformat more consistent.\n\nChange-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b\n'}, {'number': 2, 'created': '2022-11-22 02:47:59.000000000', 'files': ['manifests/designate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4305385ebc8654843bb275fff60c6b01a1b3a74b', 'message': 'Document default values of neutron::designate parameters\n\nThis change fixes some missing description about the default values of\nthe neutron::designate class parameters, and makes the description\nformat more consistent.\n\nChange-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b\n'}]",1,865219,4305385ebc8654843bb275fff60c6b01a1b3a74b,12,3,2,9816,,,0,"Document default values of neutron::designate parameters

This change fixes some missing description about the default values of
the neutron::designate class parameters, and makes the description
format more consistent.

Change-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/865219/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/designate.pp'],1,71e9ec2a717a638691671e0cc9c7b3f19f27c8f0,,# (Required) Password for connection to designate in admin context.# (Required) URL to the designate service.# (Optional) An authentication type to use with an OpenStack Identity server.# (Optional) Username for connection to designate in admin context# (Optional) The name of the admin project# (Optional) Authorization URI for connection to designate in admin context.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) The email address to be used when creating PTR zones. # Defaults to $::os_service_default.,# (required) Password for connection to designate in admin context.# (required) URL to the designate service.# (optional) An authentication type to use with an OpenStack Identity server.# (optional) Username for connection to designate in admin context# (optional) The name of the admin project# (optional) Authorization URI for connection to designate in admin context.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) The email address to be used when creating PTR zones.,14,10
openstack%2Ftripleo-ansible~master~I161a68c94f09b7febb3a260f54a0ef58311eee77,openstack/tripleo-ansible,master,I161a68c94f09b7febb3a260f54a0ef58311eee77,Sync: Use ansible group var to detect instance ha,MERGED,2022-11-02 14:16:06.000000000,2022-11-26 19:56:32.000000000,2022-11-26 19:56:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-02 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26fcaf2cbc6c39adb2ad6e39771d9b6b0289c311', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-16 16:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/811ffd84fd84f0b03d7e381e99692d0c4d27619e', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-11-21 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c88bbf14b5bb26382721625198370aa6f4e3a78', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-11-25 15:22:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a30b17ddc152dbb0ebd5b4b5ee9016b0c754df8', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",8,863314,6a30b17ddc152dbb0ebd5b4b5ee9016b0c754df8,27,8,4,6926,,,0,"Sync: Use ansible group var to detect instance ha

Sync t-h-t changes for instance HA detection.

Change the way we identify if a host is an instance ha node:
instead of relying on service_names (not a thing here)
just check if inventory hostname belongs to the compute_instanceha
group. Inventory generation in deployment framework ensures
there are groups named as it is defined in t-h-t service_names.

I78b5544f9000af64f0f0fddad3457482ed63e338

Change-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/863314/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yml'],1,26fcaf2cbc6c39adb2ad6e39771d9b6b0289c311,sync_tht_nova_compute," when: inventory_hostname in groups[""compute_instanceha""]"," - name: Get list of instance HA compute nodes command: hiera -c /etc/puppet/hiera.yaml compute_instanceha_short_node_names register: iha_nodes when: iha_nodes.stdout|lower is search('""'+ansible_facts['hostname']|lower+'""')",1,5
openstack%2Fpuppet-openstack-integration~master~If9c4bdbb3d8c447303adb6ddee420c12ecda4133,openstack/puppet-openstack-integration,master,If9c4bdbb3d8c447303adb6ddee420c12ecda4133,Install ruby-augeas in Debian,MERGED,2022-11-21 01:28:13.000000000,2022-11-26 18:55:32.000000000,2022-11-26 18:55:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c104dd1a1fc7973c13001d06ac7b02384382cb90', 'message': 'Install ruby-augeas in Debian\n\n... because the package is available in recent stable releases. This\nallows us to make the logic to install the package simpler.\n\nChange-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133\n'}, {'number': 2, 'created': '2022-11-21 01:29:12.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1002258b5d318cce34ea61c9331487df437e876c', 'message': 'Install ruby-augeas in Debian\n\n... because the package is available in recent stable releases[1].\nThis allows us to make the logic to install the package simpler.\n\n[1]\nhttps://packages.debian.org/stretch/ruby-augeas\nhttps://packages.debian.org/buster/ruby-augeas\nhttps://packages.debian.org/bullseye/ruby-augeas\n\nChange-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133\n'}]",2,865087,1002258b5d318cce34ea61c9331487df437e876c,16,3,2,9816,,,0,"Install ruby-augeas in Debian

... because the package is available in recent stable releases[1].
This allows us to make the logic to install the package simpler.

[1]
https://packages.debian.org/stretch/ruby-augeas
https://packages.debian.org/buster/ruby-augeas
https://packages.debian.org/bullseye/ruby-augeas

Change-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/865087/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,c104dd1a1fc7973c13001d06ac7b02384382cb90,," # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } "," # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } if $::operatingsystem == 'Ubuntu' { # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } }",5,11
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,stable/train,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-11-25 14:13:45.000000000,2022-11-26 11:02:21.000000000,2022-11-26 11:02:21.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 14:13:45.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b', 'message': ""Nova: Use internal endpoint to access Keystone\n\nThe Keystone admin endpoint is deployed on the provisioning network by\ndefault, and usually this network has no redundancy. We don't expect\noutage in provisioning network affects functionality of overcloud so\nservices should not be rely on connectivity in provisioning network.\n\nThis change ensures that internal endpoint, which is deployed on\ninternal api network, is used instead.\n\nCloses-Bug: #1959353\nChange-Id: Id13a221726af88dd229cf8e12462eabb4027b377\n(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)\n(cherry picked from commit b67137ae93a1ce4612c6ac82eeabbec6abac70aa)\n""}]",2,865567,ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b,10,3,1,6926,,,0,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)
(cherry picked from commit b67137ae93a1ce4612c6ac82eeabbec6abac70aa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/865567/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b,bug/1959353-stable/train," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Fmistral~master~I892b35ffa609820d71a13893d883477e99795d67,openstack/mistral,master,I892b35ffa609820d71a13893d883477e99795d67,Update python testing classifier,NEW,2021-12-21 10:28:12.000000000,2022-11-26 09:16:33.000000000,,"[{'_account_id': 11583}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-21 10:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1177863a1aa5fdd950db3bf030969214e2e71c25', 'message': 'Update python testing classifier\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}, {'number': 2, 'created': '2022-04-19 08:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/779e7babd1b3bfcc1690fcc7644ed55d6dd76f67', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}, {'number': 3, 'created': '2022-10-10 09:10:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b612e3a94fa5aef679d044985ad79caf50839c53', 'message': 'Update python testing classifier\n\nThis patch updates the python classifier in setup.cfg not dropping lower-constraints job. So please use the correct commit-msg, for more info please refer [1].\n\n[1] https://review.opendev.org/c/openstack/cloudkitty-dashboard/+/822368\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}]",3,822467,b612e3a94fa5aef679d044985ad79caf50839c53,9,3,3,31412,,,0,"Update python testing classifier

This patch updates the python classifier in setup.cfg not dropping lower-constraints job. So please use the correct commit-msg, for more info please refer [1].

[1] https://review.opendev.org/c/openstack/cloudkitty-dashboard/+/822368

Change-Id: I892b35ffa609820d71a13893d883477e99795d67
",git fetch https://review.opendev.org/openstack/mistral refs/changes/67/822467/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1177863a1aa5fdd950db3bf030969214e2e71c25,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fopenstack-ansible~master~Ie41e26c1dcc671c30d39b34d3f436e225e7580a5,openstack/openstack-ansible,master,Ie41e26c1dcc671c30d39b34d3f436e225e7580a5,Disable stick tables for galera,MERGED,2022-11-16 21:37:16.000000000,2022-11-26 04:13:55.000000000,2022-11-26 04:12:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-16 21:37:16.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c673e7a027780ca47ada6258fdccc5bb770b7624', 'message': ""Disable stick tables for galera\n\nHaproxy config check(/usr/sbin/haproxy -c -f /etc/haproxy/haproxy.cfg)\nshows a warning:\n\n'http-request' rules ignored for backend 'galera-back' as they require\nHTTP mode.\n\nIt's caused by the way we configure stick tables in haproxy.\nWe don't need stick tables for galera as it has only one active backend.\n\nChange-Id: Ie41e26c1dcc671c30d39b34d3f436e225e7580a5\n""}]",4,864792,c673e7a027780ca47ada6258fdccc5bb770b7624,19,3,1,32666,,,0,"Disable stick tables for galera

Haproxy config check(/usr/sbin/haproxy -c -f /etc/haproxy/haproxy.cfg)
shows a warning:

'http-request' rules ignored for backend 'galera-back' as they require
HTTP mode.

It's caused by the way we configure stick tables in haproxy.
We don't need stick tables for galera as it has only one active backend.

Change-Id: Ie41e26c1dcc671c30d39b34d3f436e225e7580a5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/864792/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,c673e7a027780ca47ada6258fdccc5bb770b7624,tls-backend, haproxy_stick_table_enabled: False,,1,0
openstack%2Fvenus~master~I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b,openstack/venus,master,I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b,Add devstack steps.,MERGED,2022-11-25 14:59:02.000000000,2022-11-26 03:53:20.000000000,2022-11-26 03:52:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24061}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-11-25 14:59:02.000000000', 'files': ['devstack/README.md'], 'web_link': 'https://opendev.org/openstack/venus/commit/41a116ea80a4ba7fd04ce4f82833c53afbd1b477', 'message': 'Add devstack steps.\n\nChange-Id: I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b\n'}]",2,865696,41a116ea80a4ba7fd04ce4f82833c53afbd1b477,8,3,1,30562,,,0,"Add devstack steps.

Change-Id: I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b
",git fetch https://review.opendev.org/openstack/venus refs/changes/96/865696/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.md'],1,41a116ea80a4ba7fd04ce4f82833c53afbd1b477,,"# Enabling Venus in DevStack To enable Venus in DevStack, perform the following steps: ## 1. Enabling Venus in local.conf Enable the plugin by adding the following section to `local.conf` ``` [[local|localrc]] enable_plugin venus https://review.opendev.org/openstack/venus enable_plugin venus-dashboard https://review.opendev.org/openstack/venus-dashboard ``` ## 2. Modify service log format After `stack.sh` process finished, replace the lines begin with `logging_default_format_string =` and `logging_context_format_string =` with ``` logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [- req-None - - - - -] %(instance)s%(message)s logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(global_request_id)s %(request_id)s ``` in files - /etc/nova/nova.conf - /etc/cinder/cinder.conf - /etc/neutron/neutron.conf Restart nova, cinder and neutron service: ``` systemctl restart devstack@n-api.service systemctl restart devstack@c-api.service systemctl restart devstack@q-svc.service ``` ## 3. [Optional] Manually download td-agent and es If you want to download td-agent and es yourself when the official download link is not available, you cloud get them via the following links: - https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.16.deb - http://packages.treasuredata.com.s3.amazonaws.com/4/ubuntu/bionic/pool/contrib/t/td-agent/td-agent_4.1.0-1_amd64.deb And save the files to `/opt/stack/venus/devstack/files`",,39,0
openstack%2Fvalidations-libs~master~I7d434408ab0af67967e9c1407a8e286daee51769,openstack/validations-libs,master,I7d434408ab0af67967e9c1407a8e286daee51769,Format list to str for get_reason message or skip,MERGED,2022-11-23 09:11:49.000000000,2022-11-26 02:17:47.000000000,2022-11-26 02:15:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-23 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cedefc6744d00f5e80e316201210ecc8070b3095', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}, {'number': 2, 'created': '2022-11-23 09:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fd0bfb9b03d6ecd80bdaf29c90f5697c42586d29', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}, {'number': 3, 'created': '2022-11-25 09:02:21.000000000', 'files': ['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ac2b6b7b7ed8b8ba231b7ad7dc1ed5730c09cfb6', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}]",5,865378,ac2b6b7b7ed8b8ba231b7ad7dc1ed5730c09cfb6,20,3,3,16515,,,0,"Format list to str for get_reason message or skip

If the message in the validation log is a list, this patch
format it to a string, as expected, otherwise, if the message
another type, we just skip and move to default reason: Unknown

Change-Id: I7d434408ab0af67967e9c1407a8e286daee51769
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/78/865378/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py']",3,cedefc6744d00f5e80e316201210ecc8070b3095,catch/wierd/msg,"FAILED_VALIDATIONS_LOGS_WRONG_MSG_LIST = [{ 'stats': { 'undercloud': { 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0 } }, 'validation_output': [ { ""task"": { ""hosts"": { ""localhost"": { ""_ansible_no_log"": False, ""action"": ""fail"", ""changed"": False, ""failed"": True, ""failed_when_result"": True, ""msg"": [""Fake"", ""Failed""] } }, ""name"": ""Verify Fake requirements"", ""status"": ""FAILED"" } } ] }] FAILED_VALIDATIONS_LOGS_WRONG_MSG_TYPE = [{ 'stats': { 'undercloud': { 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0 } }, 'validation_output': [ { ""task"": { ""hosts"": { ""localhost"": { ""_ansible_no_log"": False, ""action"": ""fail"", ""changed"": False, ""failed"": True, ""failed_when_result"": True, ""msg"": True } }, ""name"": ""Verify Fake requirements"", ""status"": ""FAILED"" } } ] }] ",,105,2
openstack%2Fopenstack-ansible~master~Ifbca3e17e57ee0250def5a65c6855acc01b0a464,openstack/openstack-ansible,master,Ifbca3e17e57ee0250def5a65c6855acc01b0a464,Update ansible-collections-openstack version,MERGED,2022-11-15 14:52:55.000000000,2022-11-25 22:55:37.000000000,2022-11-25 22:54:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-15 14:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28d48c67f792fc5897c9ab077deba31b3a96f801', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}, {'number': 2, 'created': '2022-11-24 15:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/594fcd870afdcae5b99f4ee2e037f5898238fba1', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}, {'number': 3, 'created': '2022-11-25 17:27:45.000000000', 'files': ['ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5053c88a56d80292eee0b4bfd4e8a232684c878', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}]",1,864553,a5053c88a56d80292eee0b4bfd4e8a232684c878,19,5,3,28619,,,0,"Update ansible-collections-openstack version

Current collections version is failing to manage quota which results in
Octavia role failure.

Change-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/864553/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-collection-requirements.yml'],1,28d48c67f792fc5897c9ab077deba31b3a96f801,, version: f0cb7f680231bf17fdf043de4e5e8117c1aef097, version: 9f3f0837c88f847b229e8bcd23986b362eee9b1f,1,1
openstack%2Fopenstack-ansible~stable%2Fyoga~Ife227db4ad25851456e1acc6b4daf198f39d989a,openstack/openstack-ansible,stable/yoga,Ife227db4ad25851456e1acc6b4daf198f39d989a,Update self version fetching mechanism,MERGED,2022-11-22 17:10:30.000000000,2022-11-25 21:56:43.000000000,2022-11-25 21:55:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-22 17:10:30.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f933194813de9d18b89040fa8c5b80bcd0dd967c', 'message': ""Update self version fetching mechanism\n\nWith release of new setuptools running setup.py --version started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nCloses-Bug: #1997365\nChange-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a\n""}]",2,865166,f933194813de9d18b89040fa8c5b80bcd0dd967c,14,3,1,28619,,,0,"Update self version fetching mechanism

With release of new setuptools running setup.py --version started
returining extra line. Eventually, running setup.py as a script is not
considered as good practice and we should not rely on it's output much.
Instead, we can leverage importlib.metadata as it should be more
reliable in long run.

Closes-Bug: #1997365
Change-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/865166/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,f933194813de9d18b89040fa8c5b80bcd0dd967c,,"export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python -c ""from importlib.metadata import version; print(version('openstack-ansible'))"")",export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python setup.py --version),1,1
openstack%2Fcinder~master~If0345c863b1750eaca3097f240fde9b976ac442e,openstack/cinder,master,If0345c863b1750eaca3097f240fde9b976ac442e,"Hacking: Remove C306, C308 checks",NEW,2022-10-19 12:45:25.000000000,2022-11-25 21:29:05.000000000,,"[{'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2022-10-19 12:45:25.000000000', 'files': ['cinder/tests/hacking/checks.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac5331847b32a56f696923e5af933f6fc096f628', 'message': ""Hacking: Remove C306, C308 checks\n\nThese block usage of methods that no longer\nexist in oslo.utils 6.0.0+.  Since they have\nbeen removed, we don't need a hacking check\nfor this.\n\nChange-Id: If0345c863b1750eaca3097f240fde9b976ac442e\n""}]",1,861883,ac5331847b32a56f696923e5af933f6fc096f628,24,3,1,4523,,,0,"Hacking: Remove C306, C308 checks

These block usage of methods that no longer
exist in oslo.utils 6.0.0+.  Since they have
been removed, we don't need a hacking check
for this.

Change-Id: If0345c863b1750eaca3097f240fde9b976ac442e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/861883/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/hacking/checks.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst']",4,ac5331847b32a56f696923e5af933f6fc096f628,,,- [C306] timeutils.strtime() must not be used (deprecated). - [C308] timeutils.isotime() must not be used (deprecated).,0,26
openstack%2Fpuppet-keystone~master~I79e39b43baa5963e13a4fda404244e6787980f9e,openstack/puppet-keystone,master,I79e39b43baa5963e13a4fda404244e6787980f9e,Fix wrong indent,MERGED,2022-11-17 03:06:22.000000000,2022-11-25 19:48:38.000000000,2022-11-25 19:48:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 03:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/050f3d0670667f1200c13d281ee74ff30b11ea9b', 'message': 'Fix wrong indent\n\nTrivial-Fix\n\nChange-Id: I79e39b43baa5963e13a4fda404244e6787980f9e\n'}, {'number': 2, 'created': '2022-11-25 14:00:53.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2d6bab823199c8b2c0b5d871349d2f67aadfc2af', 'message': 'Fix wrong indent\n\nTrivial-Fix\n\nChange-Id: I79e39b43baa5963e13a4fda404244e6787980f9e\n'}]",4,864832,2d6bab823199c8b2c0b5d871349d2f67aadfc2af,16,3,2,9816,,,0,"Fix wrong indent

Trivial-Fix

Change-Id: I79e39b43baa5963e13a4fda404244e6787980f9e
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/32/864832/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,050f3d0670667f1200c13d281ee74ff30b11ea9b,, if $fernet_keys {, if $fernet_keys {,1,1
openstack%2Fnova~master~I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122,openstack/nova,master,I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122,Fix VMs sorting fail in case of comparison with None,NEW,2022-11-18 15:27:59.000000000,2022-11-25 19:40:07.000000000,,"[{'_account_id': 11604}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 15:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecf8a2be2a990982378a6aa62bb7670bfc5795f2', 'message': 'Fix VMs sorting fail in case of comparison two None values\n\nThis patch fixes a bug when trying to compare two None values:\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}, {'number': 2, 'created': '2022-11-22 21:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/656a306aeab5b30335a621760c98461f888b350d', 'message': 'Fix VMs sorting fail in case of comparison with None\n\nThis patch fixes a bug when trying to compare two None values, which is not\nallowed in python3.\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nAlso skip comparison with one of None as sort order is undefined for comparison\nbetween None and any value.\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}, {'number': 3, 'created': '2022-11-23 10:23:13.000000000', 'files': ['nova/compute/multi_cell_list.py', 'nova/tests/unit/compute/test_multi_cell_list.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b23869dc36213a952aebd4e86ea97c82261020a0', 'message': 'Fix VMs sorting fail in case of comparison with None\n\nThis patch fixes a bug when trying to compare two None values, which is not\nallowed in python3.\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nAlso skip comparison with one of None as sort order is undefined for comparison\nbetween None and any value.\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}]",9,865037,b23869dc36213a952aebd4e86ea97c82261020a0,19,3,3,28722,,,0,"Fix VMs sorting fail in case of comparison with None

This patch fixes a bug when trying to compare two None values, which is not
allowed in python3.

>>> None < None
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: '<' not supported between instances of 'NoneType' and 'NoneType'
>>>

Also skip comparison with one of None as sort order is undefined for comparison
between None and any value.

Closes-Bug: #1997090
Signed-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>
Change-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/865037/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/multi_cell_list.py', 'nova/tests/unit/compute/test_multi_cell_list.py']",2,ecf8a2be2a990982378a6aa62bb7670bfc5795f2,bug/1997090," inst1 = {'key0': 'foo', 'key1': 'd', 'key2': 456, 'key4': dt1, 'key5': None} inst2 = {'key0': 'foo', 'key1': 's', 'key2': 123, 'key4': dt2, 'key5': None} # Descending by key5: None == None: ctx = multi_cell_list.RecordSortContext(['key5'], ['desc']) self.assertEqual(0, ctx.compare_records(inst1, inst2)) # Ascending by key5: None == None: ctx = multi_cell_list.RecordSortContext(['key5'], ['asc']) self.assertEqual(0, ctx.compare_records(inst1, inst2)) "," inst1 = {'key0': 'foo', 'key1': 'd', 'key2': 456, 'key4': dt1} inst2 = {'key0': 'foo', 'key1': 's', 'key2': 123, 'key4': dt2}",14,2
openstack%2Fpuppet-nova~master~Id0222c03595bdf04596cc9a5f51734460da69e62,openstack/puppet-nova,master,Id0222c03595bdf04596cc9a5f51734460da69e62,Ensure [api] auth_strategy is wiped by default,MERGED,2022-11-21 05:11:12.000000000,2022-11-25 19:37:19.000000000,2022-11-25 19:37:19.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:11:12.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6', 'message': 'Ensure [api] auth_strategy is wiped by default\n\n... instead of leaving the parameter unmanaged.\n\nChange-Id: Id0222c03595bdf04596cc9a5f51734460da69e62\n'}]",0,865097,da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6,8,4,1,9816,,,0,"Ensure [api] auth_strategy is wiped by default

... instead of leaving the parameter unmanaged.

Change-Id: Id0222c03595bdf04596cc9a5f51734460da69e62
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/865097/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6,, is_expected.to contain_nova_config('api/auth_strategy').with_value('<SERVICE DEFAULT>'), is_expected.not_to contain_nova_config('api/auth_strategy'),4,2
openstack%2Fpuppet-nova~master~I4fbd1c23c1fec1310675dd69491626c0f98e3dda,openstack/puppet-nova,master,I4fbd1c23c1fec1310675dd69491626c0f98e3dda,Remove deprecated cinder parameters,MERGED,2022-11-21 05:27:56.000000000,2022-11-25 19:27:54.000000000,2022-11-25 19:27:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/42951166f44f672ea2d5c39e13abb50b1a36d480', 'message': 'Remove deprecated cinder parameters\n\nThis change removes the deprecated cinder parameters from the nova\nclasses, because these were all deprecated before Zed release.\n\nThis also makes the nova::cinder class removes all credential\nparameters in case the password parameter is unset, because these are\nuseless unless the password parameter is given.\n\nChange-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda\n'}, {'number': 2, 'created': '2022-11-21 07:00:50.000000000', 'files': ['manifests/cinder.pp', 'manifests/init.pp', 'releasenotes/notes/remove-cinder-opts-fa152e7b58c61bd8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c5fd57ddba61bfcc188f17950cd53e17cf5461c2', 'message': 'Remove deprecated cinder parameters\n\nThis change removes the deprecated cinder parameters from the nova\nclasses, because these were all deprecated before Zed release.\n\nThis also makes the nova::cinder class removes all credential\nparameters in case the password parameter is unset, because these are\nuseless unless the password parameter is given.\n\nChange-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda\n'}]",0,865099,c5fd57ddba61bfcc188f17950cd53e17cf5461c2,11,4,2,9816,,,0,"Remove deprecated cinder parameters

This change removes the deprecated cinder parameters from the nova
classes, because these were all deprecated before Zed release.

This also makes the nova::cinder class removes all credential
parameters in case the password parameter is unset, because these are
useless unless the password parameter is given.

Change-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/865099/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/init.pp', 'releasenotes/notes/remove-cinder-opts-fa152e7b58c61bd8.yaml']",3,42951166f44f672ea2d5c39e13abb50b1a36d480,,--- upgrade: - | The following parameters have been removed. Use the ``nova::cinder`` class parameters instead. - ``nova::os_region_name`` - ``nova::cinder_catalog_info`` - ``nova::cross_az_attach`` ,,38,65
openstack%2Fopenstacksdk~master~I401f58a65555aa397c14e2795e11d3e76047ba63,openstack/openstacksdk,master,I401f58a65555aa397c14e2795e11d3e76047ba63,docs: Add overview of supported services to README,MERGED,2022-11-22 11:36:23.000000000,2022-11-25 19:04:10.000000000,2022-11-25 19:02:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:36:23.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b1f15919e13cd30ca16063ccc7671820d7d7669b', 'message': 'docs: Add overview of supported services to README\n\nChange-Id: I401f58a65555aa397c14e2795e11d3e76047ba63\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,865265,b1f15919e13cd30ca16063ccc7671820d7d7669b,7,2,1,15334,,,0,"docs: Add overview of supported services to README

Change-Id: I401f58a65555aa397c14e2795e11d3e76047ba63
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/65/865265/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b1f15919e13cd30ca16063ccc7671820d7d7669b,coe-gaps,"Supported services ------------------ The following services are currently supported. A full list of all available OpenStack service can be found in the `Project Navigator`__. .. __: https://www.openstack.org/software/project-navigator/openstack-components#openstack-services .. note:: Support here does not guarantee full-support for all APIs. It simply means some aspect of the project is supported. .. list-table:: Supported services :widths: 15 25 10 40 :header-rows: 1 * - Service - Description - Cloud Layer - Proxy & Resource Layer * - **Compute** - - - * - Nova - Compute - ✔ - ✔ (``openstack.compute``) * - **Hardware Lifecycle** - - - * - Ironic - Bare metal provisioning - ✔ - ✔ (``openstack.baremetal``, ``openstack.baremetal_introspection``) * - Cyborg - Lifecycle management of accelerators - ✔ - ✔ (``openstack.accelerator``) * - **Storage** - - - * - Cinder - Block storage - ✔ - ✔ (``openstack.block_storage``) * - Swift - Object store - ✔ - ✔ (``openstack.object_store``) * - Cinder - Shared filesystems - ✔ - ✔ (``openstack.share_file_system``) * - **Networking** - - - * - Neutron - Networking - ✔ - ✔ (``openstack.network``) * - Octavia - Load balancing - ✔ - ✔ (``openstack.load_balancer``) * - Designate - DNS - ✔ - ✔ (``openstack.dns``) * - **Shared services** - - - * - Keystone - Identity - ✔ - ✔ (``openstack.identity``) * - Placement - Placement - ✔ - ✔ (``openstack.placement``) * - Glance - Image storage - ✔ - ✔ (``openstack.image``) * - Barbican - Key management - ✔ - ✔ (``openstack.key_manager``) * - **Workload provisioning** - - - * - Magnum - Container orchestration engine provisioning - ✔ - ✘ * - **Orchestration** - - - * - Heat - Orchestration - ✔ - ✔ (``openstack.orchestration``) * - Senlin - Clustering - ✔ - ✔ (``openstack.clustering``) * - Mistral - Workflow - ✔ - ✔ (``openstack.workflow``) * - Zaqar - Messaging - ✔ - ✔ (``openstack.message``) * - **Application lifecycle** - - - * - Masakari - Instances high availability service - ✔ - ✔ (``openstack.instance_ha``) ",,157,0
openstack%2Fpython-openstackclient~master~I6cf28bdd217326db991466a21221b685124d4b99,openstack/python-openstackclient,master,I6cf28bdd217326db991466a21221b685124d4b99,docs: Small cleanup of human interface guide,MERGED,2022-11-25 13:47:29.000000000,2022-11-25 19:03:21.000000000,2022-11-25 19:02:15.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-25 13:47:29.000000000', 'files': ['doc/source/contributor/humaninterfaceguide.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abf1a7cc4b1caada799aa4549f9753b76146e243', 'message': 'docs: Small cleanup of human interface guide\n\nBefore we add more content.\n\nChange-Id: I6cf28bdd217326db991466a21221b685124d4b99\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,865689,abf1a7cc4b1caada799aa4549f9753b76146e243,9,3,1,15334,,,0,"docs: Small cleanup of human interface guide

Before we add more content.

Change-Id: I6cf28bdd217326db991466a21221b685124d4b99
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/865689/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/humaninterfaceguide.rst'],1,abf1a7cc4b1caada799aa4549f9753b76146e243,docs,"To determine a list of available commands, use the ``-h`` or ``--help`` options:For help with an individual command, use the ``help`` command:* The top level command name is ``openstack``from the option name by dropping the leading dashes (``--``), converting each embedded dash (``-``) to an underscore (``_``), and converting to upper case. * All long options names shall begin with two dashes (``--``) and use a single dash (``-`` internally between words (``--like-this``). Underscores (``_``) shall notFor example, ``--os-username`` can be set from the environment via ``OS_USERNAME``. ``--help`` ++++++++++ The standard ``--help`` global option displays the documentation for invokingform help option (``-h``) is also available. ``--version`` +++++++++++++ The standard ``--version`` option displays the name and version on standardCommands consist of an object described by one or more words followed by an action. Commands that require two objects have the primary object ahead of the action and the secondary object after the action. Any positional arguments identifying the objects shall appear in the same order as the objects. In badly formed English it is expressed as ""(Take) object-1 (and perform) action (using) object-2 (to it).""::* ``group add user <group> <user>`` * ``volume type list`` (note that ``volume type`` is a two-word single object) The ``help`` command is unique as it appears in front of a normal command* **boolean**: boolean options shall use a form of ``--<true>|--<false>`` (preferred) or ``--<option>|--no-<option>``. For example, the ``enabled`` state of a project is set with ``--enable|--disable``.``prettytable`` module. Machine-parsable output format may be specified with the ``--format`` option to ``list`` and ``show`` commands. ``list`` commands have an option (``--format csv``) for CSV output and ``show`` commands have an option (``--format shell``) for the shell variable assignment syntax of ``var=""value""``. In both cases, all data fields are quoted with ``""``tasks. The format of the ``help`` command therefore varies from the form for other commands in that the ``help`` command appears in frontThe options ``--help`` and ``-h`` display the global options and aversions that are in effect; i.e. if ``--os-identity-api-version=3`` isUsing the CSV output format with a list command:``my_`` to avoid collisions with existing environment variables:","To determine a list of available commands, use the :code:`-h` or :code:`--help` options:For help with an individual command, use the :code:`help` command:* The top level command name is :code:`openstack`from the option name by dropping the leading dashes ('--'), converting each embedded dash ('-') to an underscore ('_'), and converting to upper case.* All long options names shall begin with two dashes ('--') and use a single dash ('-') internally between words (:code:`--like-this`). Underscores ('_') shall notFor example, :code:`--os-username` can be set from the environment via :code:`OS_USERNAME`. --help ++++++ The standard :code:`--help` global option displays the documentation for invokingform help option (:code:`-h`) is also available. --version +++++++++ The standard :code:`--version` option displays the name and version on standardCommands consist of an object described by one or more words followed by an action. Commands that require two objects have the primary object ahead of the action and the secondary object after the action. Any positional arguments identifying the objects shall appear in the same order as the objects. In badly formed English it is expressed as ""(Take) object1 (and perform) action (using) object2 (to it).""* :code:`group add user <group> <user>` * :code:`volume type list` # Note that :code:`volume type` is a two-word single object The :code:`help` command is unique as it appears in front of a normal command* **boolean**: boolean options shall use a form of :code:`--<true>|--<false>` (preferred) or :code:`--<option>|--no-<option>`. For example, the :code:`enabled` state of a project is set with :code:`--enable|--disable`.:code:`prettytable` module. Machine-parsable output format may be specified with the :code:`--format` option to :code:`list` and :code:`show` commands. :code:`list` commands have an option (:code:`--format csv`) for CSV output and :code:`show` commands have an option (:code:`--format shell`) for the shell variable assignment syntax of :code:`var=""value""`. In both cases, all data fields are quoted with `""`tasks. The format of the :code:`help` command therefore varies from the form for other commands in that the :code:`help` command appears in frontThe options :code:`--help` and :code:`-h` display the global options and aversions that are in effect; i.e. if :code:`--os-identity-api-version=3` isUsing the csv output format with a list command::code:`my_` to avoid collisions with existing environment variables:",43,37
openstack%2Fopenstacksdk~master~I8e16961c8812ee9c15a8771ea7babf81c9ec534e,openstack/openstacksdk,master,I8e16961c8812ee9c15a8771ea7babf81c9ec534e,docs: Add docstring to 'openstack' module,MERGED,2022-11-22 11:36:23.000000000,2022-11-25 19:03:21.000000000,2022-11-25 19:02:11.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:36:23.000000000', 'files': ['openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/62f64754f100d4ed03c377197d5f81358729acf1', 'message': ""docs: Add docstring to 'openstack' module\n\nChange-Id: I8e16961c8812ee9c15a8771ea7babf81c9ec534e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,865264,62f64754f100d4ed03c377197d5f81358729acf1,7,2,1,15334,,,0,"docs: Add docstring to 'openstack' module

Change-Id: I8e16961c8812ee9c15a8771ea7babf81c9ec534e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/865264/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/__init__.py'],1,62f64754f100d4ed03c377197d5f81358729acf1,coe-gaps," """"""The openstack SDK. :py:mod:`openstacksdk` is a client library for building applications to work with OpenStack clouds. The project aims to provide a consistent and complete set of interactions with OpenStack's many services, along with complete documentation, examples, and tools. There are three ways to interact with :py:mod:`openstacksdk`. The *clouds layer*, the *proxy layer*, and the *resource layer*. Most users will make use of either the *cloud layer* or *proxy layer*. Listing flavours using the *cloud layer*:: >>> import openstack >>> conn = openstack.connect(cloud='mordred') >>> for server in conn.list_servers(): ... print(server.to_dict()) Listing servers using the *proxy layer*:: >>> import openstack >>> conn = openstack.connect(cloud='mordred') >>> for server in conn.compute.servers(): ... print(server.to_dict()) Listing servers using the *resource layer*:: >>> import openstack >>> import openstack.compute.v2.server >>> conn = openstack.connect(cloud='mordred') >>> for server in openstack.compute.v2.server.Server.list( ... session=conn.compute, ... ): ... print(server.to_dict()) For more information, refer to the documentation found in each submodule. """""" import argparse import typing as ty from openstack._log import enable_logging cloud: ty.Optional[str] = None, app_name: ty.Optional[str] = None, app_version: ty.Optional[str] = None, options: ty.Optional[argparse.Namespace] = None, load_yaml_config: bool = True, load_envvars: bool = True, **kwargs, ) -> openstack.connection.Connection: An argparse Namespace object. Allows direct passing in of app_name=app_name, app_version=app_version, options=options, **kwargs, ) vendor_hook=kwargs.get('vendor_hook'), )","import typing from openstack._log import enable_logging # noqa cloud=None, app_name=None, # type: typing.Optional[str] app_version=None, # type: typing.Optional[str] options=None, load_yaml_config=True, # type: bool load_envvars=True, # type: bool **kwargs): # type: (...) -> openstack.connection.Connection An argparse Namespace object. allows direct passing in of app_name=app_name, app_version=app_version, options=options, **kwargs) vendor_hook=kwargs.get('vendor_hook'))",58,14
openstack%2Fpython-neutronclient~master~I13e9d1132fc38104e6e85d9c8442bc7506adc2fd,openstack/python-neutronclient,master,I13e9d1132fc38104e6e85d9c8442bc7506adc2fd,Fix help sentence in network log create --enable,MERGED,2022-11-25 14:09:09.000000000,2022-11-25 18:07:44.000000000,2022-11-25 18:06:41.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 14:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1c0cf14a2a36769e745377c2481c43c5cee77aaf', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is to be\nenabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}, {'number': 2, 'created': '2022-11-25 14:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/95225fc1ed18a659799dacc92a30eea6c939383b', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is\nto be enabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}, {'number': 3, 'created': '2022-11-25 14:33:10.000000000', 'files': ['neutronclient/osc/v2/logging/network_log.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/776e360e351c4b0c754fec5ad6308323adb44437', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is\nto be enabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}]",0,865694,776e360e351c4b0c754fec5ad6308323adb44437,10,3,3,32586,,,0,"Fix help sentence in network log create --enable

As the documentation states [1], the default in network log objects is
to be enabled, not disabled.

[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html

Change-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/94/865694/3 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/osc/v2/logging/network_log.py'],1,1c0cf14a2a36769e745377c2481c43c5cee77aaf,, help=_('Enable this log (default is enabled)')), help=_('Enable this log (default is disabled)')),1,1
openstack%2Fpuppet-nova~master~I4e62309109bf0889741dc2da9fcb7cd6c7ac011b,openstack/puppet-nova,master,I4e62309109bf0889741dc2da9fcb7cd6c7ac011b,Allow customizing state of libvirt packages,MERGED,2022-11-21 03:51:45.000000000,2022-11-25 18:01:30.000000000,2022-11-25 17:59:30.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 03:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d362f7dcc43130c7bcfad90b3975aabc44378bfa', 'message': 'Allow customizing state of libvirt packages\n\n... instead of hard-coding the state.\n\nChange-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b\n'}, {'number': 2, 'created': '2022-11-21 06:00:58.000000000', 'files': ['releasenotes/notes/libvirt-ensure_package-6136e2ae53a04974.yaml', 'manifests/compute/libvirt/services.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7', 'message': 'Allow customizing state of libvirt packages\n\n... instead of hard-coding the state.\n\nChange-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b\n'}]",3,865091,ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7,17,4,2,9816,,,0,"Allow customizing state of libvirt packages

... instead of hard-coding the state.

Change-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/865091/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-ensure_package-6136e2ae53a04974.yaml', 'manifests/compute/libvirt/services.pp']",2,d362f7dcc43130c7bcfad90b3975aabc44378bfa,,"# [*ensure_package*] # (optional) The state of the libvirt packages. # Defaults to 'present' # $ensure_package = 'present', ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package,"," ensure => present, ensure => present, ensure => present, ensure => present, ensure => present, ensure => running, ensure => present,",17,7
openstack%2Fpuppet-nova~master~I2ae6ed374dda55f8f68c3be5449b1fcd2a890123,openstack/puppet-nova,master,I2ae6ed374dda55f8f68c3be5449b1fcd2a890123,Ubuntu/Debian: Install qemu-block-extra when rbd backend is used,MERGED,2022-11-21 06:56:54.000000000,2022-11-25 18:00:39.000000000,2022-11-25 17:59:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 06:56:54.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'releasenotes/notes/qemu-block-extra-998bf6f1d9d75eda.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/449507e1a929c60f0a89f9f0d3ee16d0103b8289', 'message': 'Ubuntu/Debian: Install qemu-block-extra when rbd backend is used\n\nIn Ubuntu Jammy, the qemu-block-extra package is no longer required by\nthe qemu-utils package and should be additionally installed to use rbd\nbackend.\n\nChange-Id: I2ae6ed374dda55f8f68c3be5449b1fcd2a890123\n'}]",3,865105,449507e1a929c60f0a89f9f0d3ee16d0103b8289,14,3,1,9816,,,0,"Ubuntu/Debian: Install qemu-block-extra when rbd backend is used

In Ubuntu Jammy, the qemu-block-extra package is no longer required by
the qemu-utils package and should be additionally installed to use rbd
backend.

Change-Id: I2ae6ed374dda55f8f68c3be5449b1fcd2a890123
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/05/865105/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'releasenotes/notes/qemu-block-extra-998bf6f1d9d75eda.yaml']",3,449507e1a929c60f0a89f9f0d3ee16d0103b8289,,--- features: - | The ``nova::compute::rbd`` class now installs the ``qemu-block-extra`` package in Ubuntu or Debian. The ``package_ensure`` parameter can be used to customize state of the package. ,,40,4
openstack%2Fvalidations-libs~stable%2F1.6~I2737c334286794f0f352fa6bc7dea320a5a6d7a9,openstack/validations-libs,stable/1.6,I2737c334286794f0f352fa6bc7dea320a5a6d7a9,[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs,MERGED,2022-11-25 12:03:01.000000000,2022-11-25 17:59:45.000000000,2022-11-25 17:58:29.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-25 12:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a6be2790f2681d583fde543541ecd2d8b7e6ce7c', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9\n'}, {'number': 2, 'created': '2022-11-25 12:18:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/50813ff1fe3ac5305e78672323fc6c8094c517ce', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9\n'}]",0,865680,50813ff1fe3ac5305e78672323fc6c8094c517ce,11,3,2,32926,,,0,"[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/80/865680/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a6be2790f2681d583fde543541ecd2d8b7e6ce7c,ubuntu-focal,- job: name: openstack-tox-linters-ubuntu-focal nodeset: ubuntu-focal parent: openstack-tox-linters - job: name: openstack-tox-cover-ubuntu-focal nodeset: ubuntu-focal parent: openstack-tox-cover - openstack-tox-linters-ubuntu-focal: &tox_override_checkout - openstack-tox-linters-ubuntu-focal - openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal, - openstack-tox-linters: &tox_override_checkout - openstack-tox-linters - openstack-tox-cover - openstack-tox-linters: *tox_override_checkout - openstack-tox-linters,15,5
openstack%2Fpuppet-octavia~master~I13fb52a3f8e0e3237013da2c42c7b8baf322a006,openstack/puppet-octavia,master,I13fb52a3f8e0e3237013da2c42c7b8baf322a006,Add support for [controller_worker] amphora_delete_* options,MERGED,2022-11-21 02:19:57.000000000,2022-11-25 17:41:57.000000000,2022-11-25 17:40:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 02:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d09ee3f9b0dfeab2f2264e1e82d5c162d5c487a0', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 2, 'created': '2022-11-21 03:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8190214e863d9f2a0c01203abc24b8b904639d15', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 3, 'created': '2022-11-21 04:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/81e298061c641d4bc20071780bf65e78df222fd2', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 4, 'created': '2022-11-21 05:58:16.000000000', 'files': ['releasenotes/notes/amphora_delete-opts-187baf4230e484fb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/6840de653f717ccb715d362dd4f054c8e57ec8ae', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}]",2,865088,6840de653f717ccb715d362dd4f054c8e57ec8ae,16,3,4,9816,,,0,"Add support for [controller_worker] amphora_delete_* options

... so that users can tune these options using the native class
parameters.

Change-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/88/865088/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/amphora_delete-opts-187baf4230e484fb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,d09ee3f9b0dfeab2f2264e1e82d5c162d5c487a0,,"# Defaults to $::os_service_default # # [*amphora_delete_retries*] # (optional) Number of times an amphora delete should be retried. # Defaults to $::os_service_default # # [*amphora_delete_retry_interval*] # (optional) Time, in seconds, between amphora delete retries. # Defaults to $::os_service_default 'controller_worker/amphora_delete_retries': : value => $amphora_delete_retries; 'controller_worker/amphora_delete_retry_interval': : value => $amphora_delete_retry_interval;",# Default is $::os_service_default,25,1
openstack%2Fopenstack-manuals~master~I5034a4d42086d2640bfe2c5d5003c5b125809fbb,openstack/openstack-manuals,master,I5034a4d42086d2640bfe2c5d5003c5b125809fbb,[www] Set Wallaby status to Extended Maintenance,MERGED,2022-10-21 18:08:39.000000000,2022-11-25 17:29:42.000000000,2022-11-25 17:09:37.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-21 18:08:39.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88533d978957c8194bb7a75764c84e2f7513943b', 'message': ""[www] Set Wallaby status to Extended Maintenance\n\nProject's last releases in Wallaby have been tagged with wallaby-em.\nNow indicate that Wallaby is in Extended Maintenance phase also at\nhttps://docs.openstack.org\n\nPlanned transition date is November 2nd, 2022.\n\nChange-Id: I5034a4d42086d2640bfe2c5d5003c5b125809fbb\n""}]",3,862395,88533d978957c8194bb7a75764c84e2f7513943b,10,3,1,17685,,,0,"[www] Set Wallaby status to Extended Maintenance

Project's last releases in Wallaby have been tagged with wallaby-em.
Now indicate that Wallaby is in Extended Maintenance phase also at
https://docs.openstack.org

Planned transition date is November 2nd, 2022.

Change-Id: I5034a4d42086d2640bfe2c5d5003c5b125809fbb
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/862395/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,88533d978957c8194bb7a75764c84e2f7513943b,wallaby-em," 'wallaby': SeriesInfo(date='April 2021', status='extended-maintenance'),"," 'wallaby': SeriesInfo(date='April 2021', status='maintained'),",1,1
openstack%2Fblazar~master~Ibed073bf14ce5ea23641aa8a1362f239351aa80e,openstack/blazar,master,Ibed073bf14ce5ea23641aa8a1362f239351aa80e,DNM: testing jobs on Ubuntu Jammy (22.04),ABANDONED,2022-10-27 11:48:56.000000000,2022-11-25 17:28:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-27 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/80aa3c4fabcdec646eef246029568bc6361a0383', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}, {'number': 2, 'created': '2022-11-17 13:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ab4cb579c17d5dff5e4f5134f2abca9c35e11a97', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/blazar-tempest-plugin/+/864895\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}, {'number': 3, 'created': '2022-11-17 20:06:33.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a2658339a0dd32dc5e5d69035ff009d5f4df244e', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}]",1,862799,a2658339a0dd32dc5e5d69035ff009d5f4df244e,9,1,3,28619,,,0,"DNM: testing jobs on Ubuntu Jammy (22.04)

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Change-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/99/862799/2 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,80aa3c4fabcdec646eef246029568bc6361a0383,migrate-to-jammy,,,0,0
openstack%2Fopenstack-ansible-os_designate~master~I9490820bf344fc387a15020d0c5dedf08ab925f1,openstack/openstack-ansible-os_designate,master,I9490820bf344fc387a15020d0c5dedf08ab925f1,Adds handler for copying policy.json to the right place,ABANDONED,2020-07-31 12:59:07.000000000,2022-11-25 17:23:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-31 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/8b44a5b6ad416eb011ee6078b2bdc23619cab2cf', 'message': 'Adds handler for copying policy.json to the right place\n\nIf designate_policy_overrides existed, the changes were written to\n/etc/designate/policy.json-{{ designate_venv_tag  }}, but not\ncopied to /etc/designate/policy.json.\n\nChange-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1\n'}, {'number': 2, 'created': '2021-01-21 15:36:01.000000000', 'files': ['tasks/designate_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/07e8bf0534d5058d6bf2b33d078ebd605b8a9a10', 'message': 'Adds handler for copying policy.json to the right place\n\nIf designate_policy_overrides existed, the changes were written to\n/etc/designate/policy.json-{{ designate_venv_tag  }}, but not\ncopied to /etc/designate/policy.json.\n\nChange-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1\n'}]",2,744149,07e8bf0534d5058d6bf2b33d078ebd605b8a9a10,6,2,2,30660,,,0,"Adds handler for copying policy.json to the right place

If designate_policy_overrides existed, the changes were written to
/etc/designate/policy.json-{{ designate_venv_tag  }}, but not
copied to /etc/designate/policy.json.

Change-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/49/744149/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/designate_post_install.yml', 'handlers/main.yml']",2,8b44a5b6ad416eb011ee6078b2bdc23619cab2cf,copy-policy-json-in-place," - ""Copy policy.json to the right place""",,2,0
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884,openstack/openstack-virtual-baremetal,stable/2.0,I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884,DNM - Testing RDO third party ci,ABANDONED,2022-11-25 11:23:25.000000000,2022-11-25 17:14:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:23:25.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/5680409a54e7ef64d2fee89982edb523a5409b0a', 'message': 'DNM - Testing RDO third party ci\n\nChange-Id: I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884\n'}]",0,865671,5680409a54e7ef64d2fee89982edb523a5409b0a,4,2,1,30002,,,0,"DNM - Testing RDO third party ci

Change-Id: I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/71/865671/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,5680409a54e7ef64d2fee89982edb523a5409b0a,dnm_test_rdo,,,0,0
openstack%2Fopenstacksdk~master~I8cf81fb102dbca566c29fb085851610349caa5a7,openstack/openstacksdk,master,I8cf81fb102dbca566c29fb085851610349caa5a7,Respect the kwargs in _get_grant_revoke_params,NEW,2022-11-25 08:08:15.000000000,2022-11-25 17:11:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29f5ca099c4334f0a14726b2e8de5e352f8b2567', 'message': ""Respect the kwargs in _get_grant_revoke_params\n\nFixed search_args targeting in _get_grant_revoke_params method.\nUsing search_args as filters of the get_user method doesn't work.\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I8cf81fb102dbca566c29fb085851610349caa5a7\n""}, {'number': 2, 'created': '2022-11-25 08:08:54.000000000', 'files': ['openstack/cloud/_identity.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bccca3c2aa52886fcdb370b0e276e7153fec2ba5', 'message': ""Respect the kwargs in _get_grant_revoke_params\n\nFixed search_args targeting in _get_grant_revoke_params method.\nUsing search_args as filters of the get_user method doesn't work.\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I8cf81fb102dbca566c29fb085851610349caa5a7\n""}]",3,865626,bccca3c2aa52886fcdb370b0e276e7153fec2ba5,6,2,2,34379,,,0,"Respect the kwargs in _get_grant_revoke_params

Fixed search_args targeting in _get_grant_revoke_params method.
Using search_args as filters of the get_user method doesn't work.

Signed-off-by: Francesco Lombardo <francesco.lombardo@garr.it>
Change-Id: I8cf81fb102dbca566c29fb085851610349caa5a7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/865626/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,29f5ca099c4334f0a14726b2e8de5e352f8b2567,get-user-with-domain_id," data['user'] = self.get_user(user, **search_args)"," data['user'] = self.get_user(user, filters=search_args)",1,1
openstack%2Fovn-octavia-provider~master~Ie47f19afdd041843fe47da739b09ee03a88c7b02,openstack/ovn-octavia-provider,master,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-22 11:33:33.000000000,2022-11-25 17:06:05.000000000,2022-11-25 17:05:05.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-22 11:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fada24ddee04140ad53d4d8e5a325e1d85fc3cbe', 'message': 'Ensure HM updates work as expected\n\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n'}, {'number': 2, 'created': '2022-11-22 13:41:20.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4ccc5970da34d6e50704affd71306b8991b05aa0', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n'}]",3,864821,4ccc5970da34d6e50704affd71306b8991b05aa0,15,4,2,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/21/864821/2 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,fada24ddee04140ad53d4d8e5a325e1d85fc3cbe,, options = {} if info['interval']: options['interval'] = str(info['interval']) if info['timeout']: options['timeout'] = str(info['timeout']) if info['success_count']: options['success_count'] = str(info['success_count']) if info['failure_count']: options['failure_count'] = str(info['failure_count'])," options = { 'interval': str(info['interval']), 'timeout': str(info['timeout']), 'success_count': str(info['success_count']), 'failure_count': str(info['failure_count'])}",9,5
openstack%2Fopenstack-virtual-baremetal~stable%2F2.0~I178bd5c642ac8c54c94cd854452f9bcebf697fba,openstack/openstack-virtual-baremetal,stable/2.0,I178bd5c642ac8c54c94cd854452f9bcebf697fba,Set bmc_other_ports port_security_enabled: false,MERGED,2022-11-23 21:09:31.000000000,2022-11-25 16:38:38.000000000,2022-11-25 16:38:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-23 21:09:31.000000000', 'files': ['templates/bmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa', 'message': 'Set bmc_other_ports port_security_enabled: false\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nSet port_security_enabled: false on BMC other ports.\n\nCloses-Bug: #1997561\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n(cherry picked from commit 31896d86b8db2be180b1fb22fab12a521a34f0f8)\n'}]",11,865398,2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa,22,3,1,30002,,,0,"Set bmc_other_ports port_security_enabled: false

We are seeing error in BMC console on some clouds:
  Error, some other host (<% MAC_ADDR %>) already uses
  address <% IP ADDR %>.

Set port_security_enabled: false on BMC other ports.

Closes-Bug: #1997561

Change-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba
(cherry picked from commit 31896d86b8db2be180b1fb22fab12a521a34f0f8)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/98/865398/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/bmc.yaml'],1,2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa,bmc-other-no-port-security-stable/2.0, port_security_enabled: false,,1,0
openstack%2Freleases~master~I0f093865bab190273421d966c755434d0369e0a0,openstack/releases,master,I0f093865bab190273421d966c755434d0369e0a0,Update _CLOSED_SERIES set with Wallaby,MERGED,2022-10-21 18:04:20.000000000,2022-11-25 16:36:17.000000000,2022-11-25 16:36:17.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 18:04:20.000000000', 'files': ['openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/671c4b7a09e64a6a44744cfb568af8de560da985', 'message': ""Update _CLOSED_SERIES set with Wallaby\n\nValidation is not needed for a series as soon as it reaches the\nExtended Maintenance state as there won't be any releases from such\nbranches. This patch updates the set of closed series to avoid\nunnecessary validation.\n\nChange-Id: I0f093865bab190273421d966c755434d0369e0a0\n""}]",0,862394,671c4b7a09e64a6a44744cfb568af8de560da985,7,3,1,17685,,,0,"Update _CLOSED_SERIES set with Wallaby

Validation is not needed for a series as soon as it reaches the
Extended Maintenance state as there won't be any releases from such
branches. This patch updates the set of closed series to avoid
unnecessary validation.

Change-Id: I0f093865bab190273421d966c755434d0369e0a0
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/862394/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,671c4b7a09e64a6a44744cfb568af8de560da985,wallaby-em," 'wallaby',",,1,0
openstack%2Freleases~master~Ib27a507a0bf47881bff842bfb9185dd6aee837e2,openstack/releases,master,Ib27a507a0bf47881bff842bfb9185dd6aee837e2,Set Wallaby status to Extended Maintenance,MERGED,2022-10-21 18:04:20.000000000,2022-11-25 16:36:15.000000000,2022-11-25 16:36:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 18:04:20.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4eff323c1b3e8769c96580c0268d70afdfe02826', 'message': ""Set Wallaby status to Extended Maintenance\n\nProject's last releases in Wallaby have been tagged with wallaby-em.\nNow indicate that Wallaby is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nTransition date is November 2nd, 2022.\n\nChange-Id: Ib27a507a0bf47881bff842bfb9185dd6aee837e2\n""}]",3,862393,4eff323c1b3e8769c96580c0268d70afdfe02826,9,3,1,17685,,,0,"Set Wallaby status to Extended Maintenance

Project's last releases in Wallaby have been tagged with wallaby-em.
Now indicate that Wallaby is in Extended Maintenance phase also at
https://releases.openstack.org

Transition date is November 2nd, 2022.

Change-Id: Ib27a507a0bf47881bff842bfb9185dd6aee837e2
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/862393/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,4eff323c1b3e8769c96580c0268d70afdfe02826,wallaby-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2022-11-02,2,3
openstack%2Fironic~master~Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9,openstack/ironic,master,Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9,Align iRMC driver with Ironic's default boot_mode,MERGED,2022-10-25 05:29:20.000000000,2022-11-25 16:34:19.000000000,2022-11-25 16:32:42.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-25 05:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25f8282f16e9b60f4765cc3351aa91a7e2137de1', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 2, 'created': '2022-10-25 05:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1218eecacf08bbc851ef4fdb8d923e158d2f8904', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 3, 'created': '2022-10-25 08:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f953abef92b0af1c45135b783406101ec329bc73', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 4, 'created': '2022-10-27 06:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d053ddf5ad50beaf3a39439dee4ef255c6e9b856', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 5, 'created': '2022-11-07 02:57:28.000000000', 'files': ['releasenotes/notes/irmc-align-with-ironic-default-boot-mode-dde6f65ea084c9e6.yaml', 'ironic/drivers/modules/irmc/management.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/drivers/modules/irmc/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/071cf9b2dd2233509c3cdb8261c0ee7b391e6b2c', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}]",5,862552,071cf9b2dd2233509c3cdb8261c0ee7b391e6b2c,36,3,5,30566,,,0,"Align iRMC driver with Ironic's default boot_mode

This commit modifies iRMC driver to use ironic.conf [deploy]
default_boot_mode as default value of boot_mode.
Before this commit, iRMC driver assumes Legacy BIOS as default
boot_mode and value of default_boot_mode doesn't have any effect
on iRMC driver's behavior.

Story: 2010381
Task: 46643
Change-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/862552/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/irmc-align-with-ironic-default-boot-mode-dde6f65ea084c9e6.yaml', 'ironic/drivers/modules/irmc/management.py', 'ironic/tests/unit/drivers/modules/irmc/test_management.py']",3,25f8282f16e9b60f4765cc3351aa91a7e2137de1,align_with_ironic_boot_mode," ""0x00 0x08 0x05 0xa0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x0c 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x0c 0x00 0x00 0x00"")"," ""0x00 0x08 0x05 0x80 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x0c 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x0c 0x00 0x00 0x00"")",17,11
openstack%2Fneutron~stable%2Fqueens~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/queens,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,ABANDONED,2021-03-29 03:29:39.000000000,2022-11-25 16:32:12.000000000,,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 03:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa7d5e47f36d7a124968603a4236dfd58709e77c', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n'}, {'number': 2, 'created': '2021-07-02 10:23:18.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e7ffa5f317db526b455b33f0369c9aa1b978ee', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n(cherry picked from commit 27ade26b64446554135e5d6f04c0927de314377a)\n'}]",0,783543,02e7ffa5f317db526b455b33f0369c9aa1b978ee,7,3,2,31769,,,0,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
(cherry picked from commit 27ade26b64446554135e5d6f04c0927de314377a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/783543/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,aa7d5e47f36d7a124968603a4236dfd58709e77c,bug/1920700-stable/queens," def test_ovs_restart_for_ingress_direct_goto_flows(self): with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_RESTARTED), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.object(self.agent, 'setup_integration_br'), \ mock.patch.object(self.agent, 'install_ingress_direct_goto_flows') as \ install_ingress_direct_goto_flows: try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass install_ingress_direct_goto_flows.assert_called_once_with() ",,49,0
openstack%2Fneutron~stable%2Fqueens~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/queens,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,ABANDONED,2022-10-11 03:41:22.000000000,2022-11-25 16:32:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-11 03:41:22.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5720994cdcb33e14982822e8c5c651ae7aab5451', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",2,860901,5720994cdcb33e14982822e8c5c651ae7aab5451,9,1,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/860901/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,5720994cdcb33e14982822e8c5c651ae7aab5451,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Frocky~Ib3945d294601b35f9b268c25841cd284b52c4ca3,openstack/neutron,stable/rocky,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,ABANDONED,2022-10-11 03:41:11.000000000,2022-11-25 16:31:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-11 03:41:11.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7925eab522e60478dd5ebb66c9fc6a453d779410', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",2,860900,7925eab522e60478dd5ebb66c9fc6a453d779410,9,1,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/860900/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,7925eab522e60478dd5ebb66c9fc6a453d779410,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~stable%2Frocky~I600d0a4bb3629c360ead2f7ebad2cee58b15137e,openstack/neutron,stable/rocky,I600d0a4bb3629c360ead2f7ebad2cee58b15137e,[stable-only] CI: Remove Ironic test; branch EOL,ABANDONED,2022-11-12 17:03:29.000000000,2022-11-25 16:31:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-12 17:03:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2656e75ed47a6b2cb048e0a9d49db7870064f37d', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic rocky is EOL, remove the job.\n\nChange-Id: I600d0a4bb3629c360ead2f7ebad2cee58b15137e\n'}]",1,864339,2656e75ed47a6b2cb048e0a9d49db7870064f37d,4,1,1,10342,,,0,"[stable-only] CI: Remove Ironic test; branch EOL

Ironic rocky is EOL, remove the job.

Change-Id: I600d0a4bb3629c360ead2f7ebad2cee58b15137e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/864339/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2656e75ed47a6b2cb048e0a9d49db7870064f37d,,, - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,0,2
openstack%2Fopenstack-ansible-os_swift~master~I254e35a67195817c237dba00bec6338d3fffa985,openstack/openstack-ansible-os_swift,master,I254e35a67195817c237dba00bec6338d3fffa985,Add support for running object-servers Per Disk,MERGED,2022-11-16 08:38:43.000000000,2022-11-25 16:29:26.000000000,2022-11-25 16:28:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-16 08:38:43.000000000', 'files': ['doc/source/configure-swift-config.rst', 'templates/ring.contents.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/89a6bb07187f87aa8aab11ffba14f0248019886f', 'message': 'Add support for running object-servers Per Disk\n\nAdds support for configuring different storage port per disk\nin the storage policy ring. This Swift feature is described\nhere https://docs.openstack.org/swift/latest/deployment_guide.html#running-object-servers-per-disk\n\nSigned-off-by: Andrej Babolcai <andrej.babolcai@gmail.com>\nChange-Id: I254e35a67195817c237dba00bec6338d3fffa985\n'}]",0,864685,89a6bb07187f87aa8aab11ffba14f0248019886f,8,3,1,35543,,,0,"Add support for running object-servers Per Disk

Adds support for configuring different storage port per disk
in the storage policy ring. This Swift feature is described
here https://docs.openstack.org/swift/latest/deployment_guide.html#running-object-servers-per-disk

Signed-off-by: Andrej Babolcai <andrej.babolcai@gmail.com>
Change-Id: I254e35a67195817c237dba00bec6338d3fffa985
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/85/864685/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configure-swift-config.rst', 'templates/ring.contents.j2']",2,89a6bb07187f87aa8aab11ffba14f0248019886f,feature-servers_per_port,{% set stor_port = drive.storage_port | default(port) %} {% set repl_port = drive.repl_port | default(port) %}{% set _update = device.update({'replication_port': repl_port|int}) %}{% set _update = device.update({'port': stor_port|int}) %},{% set _update = device.update({'replication_port': port|int}) %}{% set _update = device.update({'port': port|int}) %},11,2
openstack%2Fpuppet-openstack-integration~master~Ic8f5d35aca87a5df40864aeec3b04b5ea746188c,openstack/puppet-openstack-integration,master,Ic8f5d35aca87a5df40864aeec3b04b5ea746188c,Remove logic for CentOS < 9,MERGED,2022-11-21 01:01:51.000000000,2022-11-25 16:21:23.000000000,2022-11-25 16:21:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/480e7c9a7a18ce397b3208bf591acf8662d4940b', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 2, 'created': '2022-11-21 01:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9731fb6b037b5be9fd29da9fc5dc6a589af061a7', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 3, 'created': '2022-11-21 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d33db08c8cbfcdb900e6e58a6568c8aae3ad799c', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 4, 'created': '2022-11-21 07:24:38.000000000', 'files': ['manifests/neutron.pp', 'manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/017e308b491747418018dd005749351294fa3ea2', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}]",0,865085,017e308b491747418018dd005749351294fa3ea2,13,3,4,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/865085/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,480e7c9a7a18ce397b3208bf591acf8662d4940b,puppet-c8-cleanup," $powertools_repo = 'crb' $centos_mirror = 'http://mirror.stream.centos.org', $ceph_mirror_fallback = ""${centos_mirror}/SIGs/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", $ceph_mirror = $::ceph_mirror_host exec { 'enable-crb': command => 'dnf config-manager --enable crb', unless => 'test 0 -ne $(dnf repolist --enabled crb | wc -l)'"," # Set specific variables for CentOS Stream 9 if versioncmp($::os['release']['major'], '9') >= 0 { $powertools_repo = 'crb' } else { $powertools_repo = 'powertools' } $centos_mirror = $::os['release']['major'] ? { '9' => 'http://mirror.stream.centos.org', default => 'http://mirror.centos.org', } $ceph_mirror_fallback = $::os['release']['major'] ? { '9' => ""${centos_mirror}/SIGs/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", default => ""${centos_mirror}/centos/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", } $ceph_mirror = pick($::ceph_mirror_host, $ceph_mirror_fallback) exec { 'enable-powertools': command => ""dnf config-manager --enable ${powertools_repo}"", unless => ""test 0 -ne $(dnf repolist --enabled ${powertools_repo} | wc -l)""",8,18
openstack%2Fpuppet-openstack-integration~master~I5549e5edea33e720a7d5cf67c3056036daca52fc,openstack/puppet-openstack-integration,master,I5549e5edea33e720a7d5cf67c3056036daca52fc,Allow disabling separate Ceph repository,MERGED,2022-11-21 01:09:01.000000000,2022-11-25 16:21:06.000000000,2022-11-25 16:21:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d7fdac730bf2ab6f5479b480cbcfde7f37893e47', 'message': 'Allow disabling separate Ceph repository\n\nThis change introduces the new flag to disable the separate Ceph\nrepository. This is now required to migrate Ubuntu job to Jammy,\nbecause the upstream ceph repository does not provide the packages\nfor Ubuntu Jammy yet.\n\nChange-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc\n'}, {'number': 2, 'created': '2022-11-21 01:34:32.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/82d6eae24871afb79319744a208edb4008497515', 'message': 'Allow disabling separate Ceph repository\n\nThis change introduces the new flag to disable the separate Ceph\nrepository. This is now required to migrate Ubuntu job to Jammy,\nbecause the upstream ceph repository does not provide the packages\nfor Ubuntu Jammy yet.\n\nChange-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc\n'}]",0,865086,82d6eae24871afb79319744a208edb4008497515,8,3,2,9816,,,0,"Allow disabling separate Ceph repository

This change introduces the new flag to disable the separate Ceph
repository. This is now required to migrate Ubuntu job to Jammy,
because the upstream ceph repository does not provide the packages
for Ubuntu Jammy yet.

Change-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/86/865086/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,d7fdac730bf2ab6f5479b480cbcfde7f37893e47,," if defined('$::enable_ceph_repo') and downcase($::enable_ceph_repo) == 'false' { $enable_ceph_repository = false } else { $enable_ceph_repository = true } if $enable_ceph_repository { # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', } if $enable_ceph_repository {"," # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', if $::osfamily == 'RedHat' or $::operatingsystem == 'Ubuntu' {",22,13
openstack%2Fhorizon~master~I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77,openstack/horizon,master,I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77,[DNM] Test nodejs job with new changes,ABANDONED,2022-11-25 09:53:51.000000000,2022-11-25 16:02:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a6c75ac38269f8fbe7bf974fe0c3d67a9992c329', 'message': '[DNM] Test nodejs job with new changes\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459\nChange-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77\n'}, {'number': 2, 'created': '2022-11-25 11:59:14.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', '.zuul.d/base.yaml', '.zuul.d/tempest-and-integrated.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0dec2b2980600ea5ffd11e8a76670907de409db', 'message': '[DNM] Test nodejs job with new changes\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459\nChange-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77\n'}]",0,865655,d0dec2b2980600ea5ffd11e8a76670907de409db,5,1,2,29313,,,0,"[DNM] Test nodejs job with new changes

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459
Change-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/865655/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a6c75ac38269f8fbe7bf974fe0c3d67a9992c329,865655,,,1,0
openstack%2Fopenstack-ansible-os_aodh~master~Ied5a4defa1351dced468a7215e5c84fe30a58c24,openstack/openstack-ansible-os_aodh,master,Ied5a4defa1351dced468a7215e5c84fe30a58c24,Install git into aodh containers,MERGED,2022-11-18 02:49:00.000000000,2022-11-25 15:59:39.000000000,2022-11-25 15:58:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-18 02:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/4ab5709582c5b03d82aaecf5c524d36e336d8376', 'message': 'Install git into aodh containers\n\nIf venv_wheel_build_enabled is default to False, aodh will fail to clone\nand install repositories due to missing git binary.\n\nRelated-bug: #1995535\n\nSigned-off-by: Matthew Thode <mthode@mthode.org>\nChange-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24\n'}, {'number': 2, 'created': '2022-11-24 17:23:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/c87f251c5acf63b66c4083e39adecf180dbcace8', 'message': 'Install git into aodh containers\n\nIf venv_wheel_build_enabled is default to False, aodh will fail to clone\nand install repositories due to missing git binary.\n\nRelated-bug: #1995535\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/864962\nSigned-off-by: Matthew Thode <mthode@mthode.org>\nChange-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24\n'}]",1,864966,c87f251c5acf63b66c4083e39adecf180dbcace8,13,3,2,14288,,,0,"Install git into aodh containers

If venv_wheel_build_enabled is default to False, aodh will fail to clone
and install repositories due to missing git binary.

Related-bug: #1995535

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/864962
Signed-off-by: Matthew Thode <mthode@mthode.org>
Change-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/66/864966/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,4ab5709582c5b03d82aaecf5c524d36e336d8376,fix-git-missing, - git,,2,0
openstack%2Fpuppet-swift~master~I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea,openstack/puppet-swift,master,I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea,Remove logic for CentOS < 9,MERGED,2022-11-21 05:05:21.000000000,2022-11-25 15:59:01.000000000,2022-11-25 15:59:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0f76582c2126f76ee19b73bac05ef61d207a51fa', 'message': 'Clean up logics for CentOS <= 8\n\n... because RDO no longer supports CentOS Stream 8.\n\nChange-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea\n'}, {'number': 2, 'created': '2022-11-21 05:06:44.000000000', 'files': ['spec/classes/swift_storage_all_spec.rb', 'spec/classes/swift_storage_spec.rb', 'manifests/params.pp', 'spec/classes/swift_ringserver_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/be26baa863c473ae139deb0587a37fa0a97dc2d5', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea\n'}]",0,865095,be26baa863c473ae139deb0587a37fa0a97dc2d5,9,3,2,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/95/865095/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_storage_all_spec.rb', 'spec/classes/swift_storage_spec.rb', 'manifests/params.pp', 'spec/classes/swift_ringserver_spec.rb']",4,0f76582c2126f76ee19b73bac05ef61d207a51fa,puppet-c8-cleanup, { :xinetd_available => true } { :xinetd_available => false }, { :xinetd_available => true } if facts[:operatingsystemmajrelease] > '8' { :xinetd_available => false } else { :xinetd_available => true } end,6,22
openstack%2Fpuppet-swift~master~I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd,openstack/puppet-swift,master,I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd,Ubuntu: Disable acceptance tests with swiftinit service provider,MERGED,2022-11-21 07:57:27.000000000,2022-11-25 15:58:59.000000000,2022-11-25 15:58:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 07:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/20b807240be956c3ff70df845face7a6f83d2ec5', 'message': 'Ubuntu: Disable acceptance tests with swiftinit service provider\n\nCurrently acceptance tests are consistently failing in Ubuntu, because\nof broken idempotency with swiftinit service provider.\n\nThis change disables the test cases as a temporal workaround.\n\nChange-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd\n'}, {'number': 2, 'created': '2022-11-21 08:42:55.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/de018ad7d4523a0cf9853910f77a9f4c6a832abe', 'message': 'Ubuntu: Disable acceptance tests with swiftinit service provider\n\nCurrently acceptance tests are consistently failing in Ubuntu, because\nof broken idempotency with swiftinit service provider.\n\nThis change disables the test cases as a temporal workaround.\n\nChange-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd\n'}]",0,865107,de018ad7d4523a0cf9853910f77a9f4c6a832abe,9,3,2,9816,,,0,"Ubuntu: Disable acceptance tests with swiftinit service provider

Currently acceptance tests are consistently failing in Ubuntu, because
of broken idempotency with swiftinit service provider.

This change disables the test cases as a temporal workaround.

Change-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/07/865107/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_swift_spec.rb'],1,20b807240be956c3ff70df845face7a6f83d2ec5,," # NOTE(tkajinam): The scenario with swiftinit provider causes broken # idempotency. We disable the scenario temporarily. if os[:family] != 'Debian' # Run one time to catch any errors upgrading to swiftinit service provider apply_manifest(swiftinit_pp, :catch_failures => true) # The second run tests idempotency apply_manifest(swiftinit_pp, :catch_changes => true) end"," # Run one time to catch any errors upgrading to swiftinit service provider apply_manifest(swiftinit_pp, :catch_failures => true) # The second run tests idempotency apply_manifest(swiftinit_pp, :catch_changes => true)",8,4
openstack%2Fpuppet-swift~master~I762f0780ba25536aa616482a49d59c7db69924d6,openstack/puppet-swift,master,I762f0780ba25536aa616482a49d59c7db69924d6,Ensure consistent IPv6 address format,MERGED,2022-11-21 05:03:08.000000000,2022-11-25 15:58:57.000000000,2022-11-25 15:58:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/dd01a0a4d6066c37fc309808e38855f10405ab42', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 2, 'created': '2022-11-21 05:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1e221ce1e5b9e00a02cb0e34305fc172be98faa3', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 3, 'created': '2022-11-21 08:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/87716d9624466d51fbf7e4404b350ae5b09a48b1', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 4, 'created': '2022-11-21 08:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4c13991ca8d439314d9c6f2a478cf54773dd4c5e', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 5, 'created': '2022-11-21 09:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/facb76cffa253987672da018567d876243444308', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 6, 'created': '2022-11-21 14:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7d1f43239db1f5f2d01877c44607ac333024ce5c', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 7, 'created': '2022-11-21 23:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/697362c0dd07f13386676e25a839f12f1f9e6caa', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 8, 'created': '2022-11-22 05:45:07.000000000', 'files': ['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/249f466f94441ae554478467949378d81b034f89', 'message': 'Ensure consistent IPv6 address format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nCloses-Bug: #1997313\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}]",0,865094,249f466f94441ae554478467949378d81b034f89,18,3,8,9816,,,0,"Ensure consistent IPv6 address format

This change ensures the shortened address representations are always
used for ring devices to avoid broken idempotency caused by different
representations (shortened[1] vs canonical[2]).

[1] ::1
[2] 0000:0000:0000:0000:0000:0000:0000:0001

Closes-Bug: #1997313
Change-Id: I762f0780ba25536aa616482a49d59c7db69924d6
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/94/865094/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/ring_account_device.rb', 'lib/puppet/provider/swift_ring_builder.rb']",2,dd01a0a4d6066c37fc309808e38855f10405ab42,bug/1997313, '[' + ip.to_s + ']', '[' + ip.to_s + ']',15,2
openstack%2Fpuppet-swift~master~I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,openstack/puppet-swift,master,I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,Format IPv6 address for ring device,MERGED,2022-11-22 02:14:33.000000000,2022-11-25 15:58:56.000000000,2022-11-25 15:58:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 02:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4738e82b5af5079a0040f7366d5d22e0b3397937', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted.\n\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 2, 'created': '2022-11-22 02:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5e5acfb37080714211afcc0ad687c534a0fe375d', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 3, 'created': '2022-11-22 02:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1779f6cc547b53733627734ab04f1f87c3b973ae', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 4, 'created': '2022-11-22 05:52:50.000000000', 'files': ['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a8ef5f69060adda86433ff2de4c761a0f86f68c3', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}]",0,865215,a8ef5f69060adda86433ff2de4c761a0f86f68c3,11,3,4,9816,,,0,"Format IPv6 address for ring device

The IPv6 addresses in ring_*_device resource names should be surrounded
by []. This ensures the address is properly formatted when the resource
is define in swift::storage::node.

Closes-Bug: #1997295
Change-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/15/865215/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/node.pp'],1,4738e82b5af5079a0040f7366d5d22e0b3397937,bug/1997295," $ring_host = normalize_ip_for_uri($storage_local_net_ip) if !$policy_index { $ring_device = ""${ring_host}:60${name}0/${name}"" } else { $ring_device = ""${policy_index}:${ring_host}:60${name}0/${name}"" ring_container_device { ""${ring_host}:60${name}1/${name}"": ring_account_device { ""${ring_host}:60${name}2/${name}"":"," if !$policy_index { $ring_device = ""${storage_local_net_ip}:60${name}0/${name}"" } else { $ring_device = ""${policy_index}:${storage_local_net_ip}:60${name}0/${name}"" ring_container_device { ""${storage_local_net_ip}:60${name}1/${name}"": ring_account_device { ""${storage_local_net_ip}:60${name}2/${name}"":",6,4
openstack%2Fopenstack-ansible-os_tempest~stable%2Fussuri~I20ecfcb95d482701e865151822c2d625c0640743,openstack/openstack-ansible-os_tempest,stable/ussuri,I20ecfcb95d482701e865151822c2d625c0640743,Remove tripleo jobs from stable/ussuri branch,MERGED,2022-07-15 09:44:19.000000000,2022-11-25 15:55:15.000000000,2022-11-25 15:52:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-15 09:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/eaf229a3ff4b7034240f9c39980c4b378a7b73c2', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 2, 'created': '2022-10-21 17:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3fdc557872ec4fc1de9104dbf0e92933c5292688', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 3, 'created': '2022-10-24 07:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/077e013ded39a14e2aed5524f89bb4516bad8e6f', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 4, 'created': '2022-10-24 10:35:41.000000000', 'files': ['tests/ansible-role-requirements.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6db911b42c60ad0c2328b923c31ff9c8765c56ec', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}]",7,849973,6db911b42c60ad0c2328b923c31ff9c8765c56ec,28,5,4,12393,,,0,"Remove tripleo jobs from stable/ussuri branch

In TripleO, os_tempest is used from master for all
release. It does not make sense to keep running these jobs
in os_tempest for stable/ussuri branch.

This job is also based on old zuul parenting work, which are
getting removed via this topic:
https://review.opendev.org/q/topic:post_cleanup_zuul_parenting

So this patch removes these jobs completely.
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I20ecfcb95d482701e865151822c2d625c0640743
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/73/849973/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,eaf229a3ff4b7034240f9c39980c4b378a7b73c2,post_cleanup_zuul_parenting,, - job: name: tripleo-ci-centos-8-standalone-os-tempest parent: tripleo-ci-base-standalone nodeset: single-centos-8-node vars: featureset: '052' featureset_override: use_os_tempest: true tempest_tempest_conf_overrides: auth.use_dynamic_credentials: true tempest_test_whitelist: - 'tempest.api.identity.v3' - 'tempest.scenario.test_server_basic_ops' - 'tempest.api.volume.admin.test_multi_backend' - 'tempest.scenario.test_object_storage_basic_ops' consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider,0,28
openstack%2Freleases~master~I616705d23d95f77057a77aeee38f6cffc7fb6fa0,openstack/releases,master,I616705d23d95f77057a77aeee38f6cffc7fb6fa0,[Puppet OpenStack] Transition Wallaby to EM,MERGED,2022-10-21 12:53:56.000000000,2022-11-25 15:44:44.000000000,2022-11-25 15:44:44.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 12:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cfcaa2237e10390143f4e78d1bfcfb24bde460d2', 'message': '[Puppet OpenStack] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0\n'}, {'number': 2, 'created': '2022-11-15 10:02:30.000000000', 'files': ['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/016b5a49d1497ccd5b54ff38a62be7a3aa225358', 'message': '[Puppet OpenStack] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0\n'}]",7,862308,016b5a49d1497ccd5b54ff38a62be7a3aa225358,15,4,2,17685,,,0,"[Puppet OpenStack] Transition Wallaby to EM

This transition the wallaby branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is November 2nd, 2022.

Change-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/862308/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml']",41,cfcaa2237e10390143f4e78d1bfcfb24bde460d2,wallaby-em, - version: wallaby-em projects: - repo: openstack/puppet-gnocchi hash: 4bdde679c1691a6300424efd193676b285b35e4e,,164,0
openstack%2Freleases~master~I808f3b08e845af0330404650807d32a44047cf01,openstack/releases,master,I808f3b08e845af0330404650807d32a44047cf01,[OpenStackAnsible] Transition Wallaby to EM,MERGED,2022-10-21 12:53:15.000000000,2022-11-25 15:42:41.000000000,2022-11-25 15:42:41.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-21 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dc04df99909cd7ea13568983785a11d72e8316ae', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 2, 'created': '2022-11-21 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/879b336808440a09337c800fa285a68db90947ca', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 3, 'created': '2022-11-24 16:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4b1a31cdaee8a809e64418263f46c2bc75578a1c', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 4, 'created': '2022-11-24 16:17:59.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/18543ea6fa499054cdd1e418c2ed71119f0a029c', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}]",4,862306,18543ea6fa499054cdd1e418c2ed71119f0a029c,19,4,4,17685,,,0,"[OpenStackAnsible] Transition Wallaby to EM

This transition the wallaby branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is November 2nd, 2022.

Change-Id: I808f3b08e845af0330404650807d32a44047cf01
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/862306/4 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,dc04df99909cd7ea13568983785a11d72e8316ae,wallaby-em, - version: wallaby-em projects: - repo: openstack/openstack-ansible hash: 236e2677f1a7e7862aded23b251a47547270d623,,4,0
openstack%2Fpuppet-nova~master~I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9,openstack/puppet-nova,master,I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9,Remove logic for CentOS < 9,MERGED,2022-11-21 08:51:26.000000000,2022-11-25 15:38:51.000000000,2022-11-25 15:38:51.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 08:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/185504c3d675d49d03ba2d3e4ff5069ac9934aac', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9\n'}, {'number': 2, 'created': '2022-11-21 09:26:51.000000000', 'files': ['spec/classes/nova_compute_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/610ae05f9127b8c73e86f20dbff9ca0cd7e019e8', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9\n'}]",3,865108,610ae05f9127b8c73e86f20dbff9ca0cd7e019e8,15,4,2,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/08/865108/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_spec.rb', 'manifests/params.pp']",2,185504c3d675d49d03ba2d3e4ff5069ac9934aac,puppet-c8-cleanup, $mkisofs_package_name = 'xorriso' $mkisofs_cmd = 'mkisofs'," if versioncmp($::operatingsystemmajrelease, '9') >= 0 { $mkisofs_package_name = 'xorriso' $mkisofs_cmd = 'mkisofs' } else { $mkisofs_package_name = 'genisoimage' $mkisofs_cmd = false }",4,22
openstack%2Fopenstack-ansible-os_rally~stable%2Fussuri~I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045,openstack/openstack-ansible-os_rally,stable/ussuri,I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045,Return jobs to voting,MERGED,2022-10-18 19:41:17.000000000,2022-11-25 15:34:03.000000000,2022-11-25 15:31:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-18 19:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/f6af1a195ba9152b7b090756c3df991431597b1e', 'message': 'Return jobs to voting\n\nChange-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045\n'}, {'number': 2, 'created': '2022-10-21 07:53:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/21005bd625cd86f1109a69f5425a7093b4e19acd', 'message': 'Return jobs to voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/853029\nChange-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045\n'}]",2,861790,21005bd625cd86f1109a69f5425a7093b4e19acd,16,3,2,28619,,,0,"Return jobs to voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/853029
Change-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/90/861790/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f6af1a195ba9152b7b090756c3df991431597b1e,,, check: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false,0,16
openstack%2Fopenstacksdk~master~I09d118097bade8f0d8ff497957846a754ebc7c1e,openstack/openstacksdk,master,I09d118097bade8f0d8ff497957846a754ebc7c1e,Initialize tests of real clouds,MERGED,2022-09-23 08:20:48.000000000,2022-11-25 15:30:38.000000000,2022-11-25 15:28:58.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-09-23 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8887adc3f075a18dc0f4811d4706a29be82fc2c6', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 2, 'created': '2022-09-23 09:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/75a8d3e43d9ffd9950e174280ff8dabfeae1b426', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 3, 'created': '2022-09-23 15:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e6e7044a223270babb645efd85676f3126df227', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 4, 'created': '2022-09-28 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1d40306799e9be10ebf5dcfc831e694a7950a28b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 5, 'created': '2022-09-30 07:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e66b8e9ee92f510d0df9a0fe34986e36d3a6cfb0', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 6, 'created': '2022-09-30 13:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2b5a9d485d813cd5fc25e2db450d12fc205fd09b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 7, 'created': '2022-10-18 12:56:46.000000000', 'files': ['openstack/tests/functional/base.py', 'openstack/tests/functional/block_storage/v3/test_type.py', 'include-acceptance-regular-user.txt', 'openstack/tests/functional/block_storage/v3/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/70dbcfcd66d85875447a29a5abab110af38b6c5b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}]",11,859026,70dbcfcd66d85875447a29a5abab110af38b6c5b,27,4,7,27900,,,0,"Initialize tests of real clouds

We want to start testing sdk and osc on real clouds. They are all
different, have different settings, policies, etc. In order to cope with
that it would be necessary to rework lot of tests and code to ensure all
of those ""feautres"" are properly detected by sdk and osc.

Block-storage test base class should not set operator cloud, only tests
that require it explicitly should use it

Change-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/859026/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/base.py', 'include-acceptance-regular-user.txt', 'openstack/tests/functional/block_storage/v3/test_volume.py', 'tox.ini', 'openstack/tests/functional/block_storage/v3/test_backup.py']",5,8887adc3f075a18dc0f4811d4706a29be82fc2c6,better_tests,import uuid self.VOLUME_NAME = uuid.uuid4().hex self.BACKUP_NAME = uuid.uuid4().hex, self.VOLUME_NAME = self.getUniqueString() self.BACKUP_NAME = self.getUniqueString(),34,9
openstack%2Fneutron~master~I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6,openstack/neutron,master,I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6,Use the neutron-lib constant for PACKET_RATE_LIMIT table number,MERGED,2022-11-24 17:26:09.000000000,2022-11-25 15:30:33.000000000,2022-11-25 15:29:01.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-24 17:26:09.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5640eee1164cd88b3d9b01848638eeb57d2efb0', 'message': 'Use the neutron-lib constant for PACKET_RATE_LIMIT table number\n\nIn neutron-lib 3.2.0, the table PACKET_RATE_LIMIT changes from 59\nto 58. This patch uses the imported n-lib constant instead of a\nhardcoded number. That will allow the neutron-lib version bump.\nSee [1].\n\n[1]https://review.opendev.org/c/openstack/requirements/+/864899\n\nRelated-Bug: #1938966\nChange-Id: I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6\n'}]",2,865590,c5640eee1164cd88b3d9b01848638eeb57d2efb0,13,7,1,16688,,,0,"Use the neutron-lib constant for PACKET_RATE_LIMIT table number

In neutron-lib 3.2.0, the table PACKET_RATE_LIMIT changes from 59
to 58. This patch uses the imported n-lib constant instead of a
hardcoded number. That will allow the neutron-lib version bump.
See [1].

[1]https://review.opendev.org/c/openstack/requirements/+/864899

Related-Bug: #1938966
Change-Id: I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/865590/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'],1,c5640eee1164cd88b3d9b01848638eeb57d2efb0,bug/1938966," ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.TRANSIENT_TABLE), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), goto_pkt_rate = ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT) instructions=[goto_pkt_rate],"," ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=60), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), instructions=[ ofpp.OFPInstructionGotoTable(table_id=59)],",25,13
openstack%2Fpuppet-openstack-integration~master~Icb582e0956f02f1ac6b6d9568fc33ec086b747ee,openstack/puppet-openstack-integration,master,Icb582e0956f02f1ac6b6d9568fc33ec086b747ee,Capture OS user/group in integration/litmus jobs,MERGED,2022-11-21 05:47:54.000000000,2022-11-25 15:24:00.000000000,2022-11-25 15:24:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:47:54.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/00861b75a084e6fe1fff3cceed8f869e54b34ef0', 'message': 'Capture OS user/group in integration/litmus jobs\n\nChange-Id: Icb582e0956f02f1ac6b6d9568fc33ec086b747ee\n'}]",0,865101,00861b75a084e6fe1fff3cceed8f869e54b34ef0,7,3,1,9816,,,0,"Capture OS user/group in integration/litmus jobs

Change-Id: Icb582e0956f02f1ac6b6d9568fc33ec086b747ee
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/865101/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,00861b75a084e6fe1fff3cceed8f869e54b34ef0,,sudo cp /etc/passwd $LOG_DIR/etc sudo cp /etc/group $LOG_DIR/etc,,2,0
openstack%2Ftooz~stable%2Fwallaby~Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1,openstack/tooz,stable/wallaby,Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1,Move flake8 as a pre-commit local target.,MERGED,2022-11-24 05:00:52.000000000,2022-11-25 15:18:45.000000000,2022-11-25 15:17:38.000000000,"[{'_account_id': 7294}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 05:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/e8f32ae47922519c2fdb8ee2c7443086c5717154', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1\n(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)\n""}, {'number': 2, 'created': '2022-11-24 05:22:06.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/8611c15308925621260f573c0f275a1dea9f80e0', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1\n(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)\n""}]",1,865401,8611c15308925621260f573c0f275a1dea9f80e0,11,5,2,32240,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1
(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/01/865401/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', '.pre-commit-config.yaml']",2,e8f32ae47922519c2fdb8ee2c7443086c5717154,move_flake8_local-stable/wallaby," rev: 9136088a246768144165fcc3ecc3d31bb686920a # v3.3.0<<<<<<< HEAD (73dbe0 Cap protobuf < 4.x)======= - repo: local >>>>>>> CHANGE (714e77 Move flake8 as a pre-commit local target.) name: flake8 additional_dependencies: <<<<<<< HEAD (73dbe0 Cap protobuf < 4.x)======= - hacking>=4.0.0,<4.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' >>>>>>> CHANGE (714e77 Move flake8 as a pre-commit local target.)", rev: ebc15addedad713c86ef18ae9632c88e187dd0af # v3.1.0 additional_dependencies:,18,1
openstack%2Fpuppet-openstack_extras~master~I05326c3231cb1ca2186731afa249e1cbdf1184d9,openstack/puppet-openstack_extras,master,I05326c3231cb1ca2186731afa249e1cbdf1184d9,CentOS: Switch default to zed release,MERGED,2022-11-21 00:56:22.000000000,2022-11-25 15:18:17.000000000,2022-11-25 15:18:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 00:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/97ceaea1a7d39ff2eae5e2acfad40e55f3fddbbd', 'message': 'CentOS: Switch default to zed release\n\nChange-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9\n'}, {'number': 2, 'created': '2022-11-21 01:32:11.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/5a6ef41d19133505bef972ceb711cd5cb21d9884', 'message': 'CentOS: Switch default to zed release\n\nChange-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9\n'}]",1,865084,5a6ef41d19133505bef972ceb711cd5cb21d9884,10,3,2,9816,,,0,"CentOS: Switch default to zed release

Change-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/84/865084/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/params.pp'],1,97ceaea1a7d39ff2eae5e2acfad40e55f3fddbbd,, $release = 'zed', $release = 'yoga',1,1
openstack%2Fpuppet-ovn~master~I40afe284da3b6c0b6f7d6af813a24801f8f40654,openstack/puppet-ovn,master,I40afe284da3b6c0b6f7d6af813a24801f8f40654,Add an extra space to align variables in class ovn::controller,MERGED,2022-11-24 14:32:37.000000000,2022-11-25 15:08:02.000000000,2022-11-25 15:08:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 14:32:37.000000000', 'files': ['manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/bd2256daeae7ef1a1344cdb172e0f4422ceba706', 'message': 'Add an extra space to align variables in class ovn::controller\n\nAdd an extra space to align variables in class ovn::controller\n\nChange-Id: I40afe284da3b6c0b6f7d6af813a24801f8f40654\n'}]",0,865549,bd2256daeae7ef1a1344cdb172e0f4422ceba706,7,3,1,7130,,,0,"Add an extra space to align variables in class ovn::controller

Add an extra space to align variables in class ovn::controller

Change-Id: I40afe284da3b6c0b6f7d6af813a24801f8f40654
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/49/865549/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,bd2256daeae7ef1a1344cdb172e0f4422ceba706,align," $ovn_encap_type = 'geneve', $ovn_encap_tos = undef, $ovn_bridge_mappings = [], $bridge_interface_mappings = [], $hostname = $::fqdn, $ovn_bridge = 'br-int', $mac_table_size = undef, $datapath_type = undef, $enable_dpdk = false, $ovn_cms_options = undef, $ovn_remote_probe_interval = 60000, $ovn_openflow_probe_interval = 60, $ovn_transport_zones = [], $enable_ovn_match_northd = false, $ovn_chassis_mac_map = [], $ovn_monitor_all = false, $manage_ovs_bridge = true,"," $ovn_encap_type = 'geneve', $ovn_encap_tos = undef, $ovn_bridge_mappings = [], $bridge_interface_mappings = [], $hostname = $::fqdn, $ovn_bridge = 'br-int', $mac_table_size = undef, $datapath_type = undef, $enable_dpdk = false, $ovn_cms_options = undef, $ovn_remote_probe_interval = 60000, $ovn_openflow_probe_interval = 60, $ovn_transport_zones = [], $enable_ovn_match_northd = false, $ovn_chassis_mac_map = [], $ovn_monitor_all = false, $manage_ovs_bridge = true,",17,17
openstack%2Freleases~master~I053ce436bf43f194c5b909cc756283b043442651,openstack/releases,master,I053ce436bf43f194c5b909cc756283b043442651,Release OpenSTack-Ansible for Wallaby EM,MERGED,2022-11-24 16:17:06.000000000,2022-11-25 14:50:18.000000000,2022-11-25 14:50:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 16:17:06.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dff995375231b2c7ceef991116848dda488e2ade', 'message': 'Release OpenSTack-Ansible for Wallaby EM\n\nSince EM is not ""independant"" release and must be based on some other\ntag - creating such tag that is designed for EM only.\n\nChange-Id: I053ce436bf43f194c5b909cc756283b043442651\n'}]",1,865583,dff995375231b2c7ceef991116848dda488e2ade,8,3,1,28619,,,0,"Release OpenSTack-Ansible for Wallaby EM

Since EM is not ""independant"" release and must be based on some other
tag - creating such tag that is designed for EM only.

Change-Id: I053ce436bf43f194c5b909cc756283b043442651
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/865583/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,dff995375231b2c7ceef991116848dda488e2ade,, - version: 23.4.4 projects: - repo: openstack/openstack-ansible hash: 91f0009dcbd45e0828f6d47e70930c524b37fc5d,,4,0
openstack%2Fpuppet-openstack_spec_helper~master~I195165dd2e4d0e7806ad56d6e417d34f458f09dd,openstack/puppet-openstack_spec_helper,master,I195165dd2e4d0e7806ad56d6e417d34f458f09dd,Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal),MERGED,2022-07-03 15:31:04.000000000,2022-11-25 14:29:32.000000000,2022-11-25 14:29:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 15:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d2a1dbbaf7053a82dfa731bf83e74f65dd2f240c', 'message': 'Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)\n\n... because the Zed release is supposed to be available for only 22.04.\n\nChange-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd\n'}, {'number': 2, 'created': '2022-08-17 02:06:54.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b1eafc75f0ed78cfdcbc3fff8098b6249c82d7ee', 'message': 'Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)\n\n... because the Zed release is supposed to be available for only 22.04.\n\nChange-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd\n'}]",0,848537,b1eafc75f0ed78cfdcbc3fff8098b6249c82d7ee,13,4,2,9816,,,0,"Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)

... because the Zed release is supposed to be available for only 22.04.

Change-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/37/848537/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,d2a1dbbaf7053a82dfa731bf83e74f65dd2f240c,puppet-jammy," 'operatingsystemrelease' => [ '22.04' ] },"," 'operatingsystemrelease' => [ '20.04' ] },",1,1
openstack%2Fpuppet-zaqar~master~Ia13da06587e9d44049945952fb754333a529b0ef,openstack/puppet-zaqar,master,Ia13da06587e9d44049945952fb754333a529b0ef,Remove logic for CentOS 8/RHEL 8,MERGED,2022-11-21 14:56:09.000000000,2022-11-25 14:10:03.000000000,2022-11-25 14:10:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 14:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f5b637ca150bad09afad044424f4a91a9848d82d', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ia13da06587e9d44049945952fb754333a529b0ef\n'}, {'number': 2, 'created': '2022-11-21 14:57:41.000000000', 'files': ['spec/classes/zaqar_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/9d64b592bacf088f1a8b7d15c3858d87640632ae', 'message': 'Remove logic for CentOS 8/RHEL 8\n\n... because CentOS 8 and RHEL 8 are no longer supported by RDO since\nZed release.\n\nChange-Id: Ia13da06587e9d44049945952fb754333a529b0ef\n'}]",0,865142,9d64b592bacf088f1a8b7d15c3858d87640632ae,8,3,2,9816,,,0,"Remove logic for CentOS 8/RHEL 8

... because CentOS 8 and RHEL 8 are no longer supported by RDO since
Zed release.

Change-Id: Ia13da06587e9d44049945952fb754333a529b0ef
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/42/865142/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/zaqar_wsgi_apache_spec.rb'],1,f5b637ca150bad09afad044424f4a91a9848d82d,puppet-c8-cleanup," { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.9/site-packages/zaqar/transport/wsgi/app.py' }"," if facts[:operatingsystemmajrelease].to_i > 8 { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.9/site-packages/zaqar/transport/wsgi/app.py' } else { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.6/site-packages/zaqar/transport/wsgi/app.py' } end",4,11
openstack%2Fhorizon~master~I1a5a46d7be12ed179474a6a74647d0872b27b492,openstack/horizon,master,I1a5a46d7be12ed179474a6a74647d0872b27b492,Fix preselection for launch Instance dialog,MERGED,2022-11-23 21:55:35.000000000,2022-11-25 13:50:38.000000000,2022-11-25 13:49:33.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-23 21:55:35.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/452c37dd369d2fa4c0dac9da1aba53bf1da89a30', 'message': 'Fix preselection for launch Instance dialog\n\nLaunch instance from a volumes/volume snapshot/instance snapshot\nshould open a dialog with preselected boot source. However the\ndialog shows Image as selected boot source in any case, discarding\nthe preselection.\n\nThis patch fixes it, explicitly changing the boot source according to\nthe preselection.\n\nChange-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492\n'}]",1,865474,452c37dd369d2fa4c0dac9da1aba53bf1da89a30,8,3,1,6914,,,0,"Fix preselection for launch Instance dialog

Launch instance from a volumes/volume snapshot/instance snapshot
should open a dialog with preselected boot source. However the
dialog shows Image as selected boot source in any case, discarding
the preselection.

This patch fixes it, explicitly changing the boot source according to
the preselection.

Change-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492
",git fetch https://review.opendev.org/openstack/horizon refs/changes/74/865474/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,452c37dd369d2fa4c0dac9da1aba53bf1da89a30,launch_from_volume, // and update the table for the new source selection. The default value is function updateBootSource(newValue) { // Update the initial boot source selection when launching from a preselected source for (var index = 0; index < $scope.model.allowedBootSources.length; index++) { if ($scope.model.allowedBootSources[index].type === key) { $scope.model.allowedBootSources[index].selected = true; } else { $scope.model.allowedBootSources[index].selected = false; } }, // and update the table for the new source selection. The devault value is function changeBootSource(newValue) {,11,2
openstack%2Fopenstack-ansible-ops~master~I0231b0b00277f306066d4827988f9640d9a1fba7,openstack/openstack-ansible-ops,master,I0231b0b00277f306066d4827988f9640d9a1fba7,kibana: fix installation on ubuntu jammy and other py3 only systems,MERGED,2022-11-11 10:29:50.000000000,2022-11-25 13:32:23.000000000,2022-11-25 13:31:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-11 10:29:50.000000000', 'files': ['elk_metrics_7x/roles/elastic_kibana/vars/ubuntu-18.04.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2f1449b04c423861cf79ccfe8a793f71db358943', 'message': 'kibana: fix installation on ubuntu jammy and other py3 only systems\n\nChange-Id: I0231b0b00277f306066d4827988f9640d9a1fba7\n'}]",0,864258,2f1449b04c423861cf79ccfe8a793f71db358943,8,3,1,31542,,,0,"kibana: fix installation on ubuntu jammy and other py3 only systems

Change-Id: I0231b0b00277f306066d4827988f9640d9a1fba7
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/58/864258/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_kibana/vars/ubuntu-18.04.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml']",4,2f1449b04c423861cf79ccfe8a793f71db358943,, - python3-passlib, - python-passlib,24,3
