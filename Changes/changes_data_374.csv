id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fmonasca-agent~master~If779ebad11926594961577e0744093a8ba691610,openstack/monasca-agent,master,If779ebad11926594961577e0744093a8ba691610,Update hacking version to 1.1.x,MERGED,2019-06-12 08:42:45.000000000,2019-06-27 09:00:17.000000000,2019-06-27 09:00:16.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-12 08:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d0af3b4e17028060f46e4167497ac4853d7ff907', 'message': 'Update hacking version to 1.1.x\n\nThis commit updates hacking version in test-requirements\nand fixes some related pep8 issues\n\nChange-Id: If779ebad11926594961577e0744093a8ba691610\nStory: 2004930\nTask: 29314\n'}, {'number': 2, 'created': '2019-06-26 07:24:07.000000000', 'files': ['monasca_setup/detection/plugins/influxdb.py', 'test-requirements.txt', 'monasca_agent/collector/checks/collector.py', 'monasca_setup/detection/plugins/influxdb_relay.py', 'monasca_setup/detection/plugins/ovs.py', 'monasca_agent/collector/checks_d/lxc.py', 'monasca_setup/detection/plugins/vcenter.py', 'monasca_agent/collector/checks/utils.py', 'monasca_agent/collector/checks_d/disk.py', 'monasca_agent/forwarder/daemon.py', 'monasca_agent/common/util.py', 'monasca_setup/detection/plugins/kafka_consumer.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3404a6df722b8f85c425d15769a0e831891cdc2c', 'message': 'Update hacking version to 1.1.x\n\nThis commit updates hacking version in test-requirements\nand fixes some related pep8 issues\n\nAlso ignores false positive bandit test\nB105: hardcoded_password_string,\nB106: hardcoded_password_funcarg\nbased on variable or argument names.\nFor more info refer [1][2]\n\n[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n[2] https://bandit.readthedocs.io/en/latest/plugins/b106_hardcoded_password_funcarg.html\n\nChange-Id: If779ebad11926594961577e0744093a8ba691610\nStory: 2004930\nTask: 29314\n'}]",0,664829,3404a6df722b8f85c425d15769a0e831891cdc2c,14,3,2,25553,,,0,"Update hacking version to 1.1.x

This commit updates hacking version in test-requirements
and fixes some related pep8 issues

Also ignores false positive bandit test
B105: hardcoded_password_string,
B106: hardcoded_password_funcarg
based on variable or argument names.
For more info refer [1][2]

[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html
[2] https://bandit.readthedocs.io/en/latest/plugins/b106_hardcoded_password_funcarg.html

Change-Id: If779ebad11926594961577e0744093a8ba691610
Story: 2004930
Task: 29314
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/29/664829/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_setup/detection/plugins/influxdb.py', 'monasca_setup/detection/plugins/vcenter.py', 'test-requirements.txt', 'monasca_agent/collector/checks/collector.py', 'monasca_setup/detection/plugins/influxdb_relay.py', 'monasca_agent/collector/checks_d/disk.py', 'monasca_agent/common/util.py', 'monasca_setup/detection/plugins/kafka_consumer.py', 'tox.ini', 'monasca_setup/detection/plugins/ovs.py']",10,d0af3b4e17028060f46e4167497ac4853d7ff907,664829, neutron_conf_valid = (neutron_conf_exists and self._is_neutron_conf_valid(neutron_conf)), neutron_conf_valid = (neutron_conf_exists and self._is_neutron_conf_valid(neutron_conf)),28,22
openstack%2Fzun~master~I52266e8f6f02312da860e79171dfc6dd1fe551e9,openstack/zun,master,I52266e8f6f02312da860e79171dfc6dd1fe551e9,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:45:02.000000000,2019-06-27 08:58:01.000000000,2019-06-27 08:58:01.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-20 12:45:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/009424db69da469a31165858816f6fc8c30c2921', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I52266e8f6f02312da860e79171dfc6dd1fe551e9\n'}]",0,666555,009424db69da469a31165858816f6fc8c30c2921,16,4,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I52266e8f6f02312da860e79171dfc6dd1fe551e9
",git fetch https://review.opendev.org/openstack/zun refs/changes/55/666555/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,009424db69da469a31165858816f6fc8c30c2921,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fcinder~stable%2Fqueens~I5b1c285680f7c3256a707ea5973573f1176d4a26,openstack/cinder,stable/queens,I5b1c285680f7c3256a707ea5973573f1176d4a26,Make sure we install cinder requirements during the correct tox phase,MERGED,2019-05-13 20:34:20.000000000,2019-06-27 08:28:31.000000000,2019-06-25 22:44:31.000000000,"[{'_account_id': 6593}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12898}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28935}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-05-13 20:34:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3', 'message': ""Make sure we install cinder requirements during the correct tox phase\n\nWhen runnign tests under tox the virtualenv is created in a number of\nphases (in brush strokes)\n0. virtualenv -p $python .tox/$dir\n1. pip install $deps\n2. pip install .\n\nStep 2 is run without any deps as they're all supposed to be installed\nin phase 2\n\nWe have constraints in 'deps' we need to install all of cinders\nrequirements during phase 2.  If we don't then we get unconstrained\nversions being installed during phase 2.\n\nThis shows up in a py27 run[1] as the absence of taskflow, and then in\n[2] with new dependancies being installed\n\n[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log\n[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log\n\nChange-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26\n(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)\n(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)\n(cherry picked from commit 81bf9537018486b9c4ef7985daaec901fbdc2a1b)\n""}]",0,658915,ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3,32,19,1,6593,,,0,"Make sure we install cinder requirements during the correct tox phase

When runnign tests under tox the virtualenv is created in a number of
phases (in brush strokes)
0. virtualenv -p $python .tox/$dir
1. pip install $deps
2. pip install .

Step 2 is run without any deps as they're all supposed to be installed
in phase 2

We have constraints in 'deps' we need to install all of cinders
requirements during phase 2.  If we don't then we get unconstrained
versions being installed during phase 2.

This shows up in a py27 run[1] as the absence of taskflow, and then in
[2] with new dependancies being installed

[1] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-1.log
[2] http://logs.openstack.org/34/647934/3/check/openstack-tox-py27/93180f1/tox/py27-2.log

Change-Id: I5b1c285680f7c3256a707ea5973573f1176d4a26
(cherry picked from commit f12fda8ffbb42e71108701b38c09618997b836c3)
(cherry picked from commit aecb6100e296aed7235635a5b18a0835fd2aca34)
(cherry picked from commit 81bf9537018486b9c4ef7985daaec901fbdc2a1b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/658915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ad8e3dc8aba932793ad2c1c9711cd310c5e5e0f3,,deps = -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt, deps = -r{toxinidir}/test-requirements.txt,3,2
openstack%2Fnetworking-l2gw-tempest-plugin~master~I23e035c59fb444e946b5f17a41a6e772095ebf34,openstack/networking-l2gw-tempest-plugin,master,I23e035c59fb444e946b5f17a41a6e772095ebf34,Add neutron-tempest-plugin to test-requirements.txt,ABANDONED,2019-02-06 05:56:05.000000000,2019-06-27 08:22:04.000000000,,"[{'_account_id': 5689}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-06 05:56:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/3d62ea549d101905d0d2b5a8043f44ef2a8094c9', 'message': 'Add neutron-tempest-plugin to test-requirements.txt\n\nThis commit adds neutron-tempest-plugin to test-requirements.txt to\nresolve the dependency.\n\nChange-Id: I23e035c59fb444e946b5f17a41a6e772095ebf34\n'}]",0,635093,3d62ea549d101905d0d2b5a8043f44ef2a8094c9,10,4,1,5689,,,0,"Add neutron-tempest-plugin to test-requirements.txt

This commit adds neutron-tempest-plugin to test-requirements.txt to
resolve the dependency.

Change-Id: I23e035c59fb444e946b5f17a41a6e772095ebf34
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/93/635093/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d62ea549d101905d0d2b5a8043f44ef2a8094c9,tempest-sanity-gate,neutron-tempest-plugin>=0.2.0 # Apache-2.0,,1,0
openstack%2Foctavia~master~I8f9c25e979a7e86ff0b8e19267e4525817802ba2,openstack/octavia,master,I8f9c25e979a7e86ff0b8e19267e4525817802ba2,Workaround pyroute2 platform-dependent imports,MERGED,2019-06-18 08:48:15.000000000,2019-06-27 08:05:27.000000000,2019-06-27 08:05:27.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 08:48:15.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/624a63dce01006ad8c158f1c7c0841d8a04c3664', 'message': ""Workaround pyroute2 platform-dependent imports\n\nPyroute2 recently changed the way they import their base namespace\nojects. Now they are somewhat platform dependent, so on OSX unit tests\nwill fail for lack of linux-specific libs. Using `create=true` allows\nthe mocks to be created even if the library doesn't think they exist.\nhttps://github.com/svinota/pyroute2/commit/b69999ec82667828816fa2a7b19d0a4f2fe06a83\n\nChange-Id: I8f9c25e979a7e86ff0b8e19267e4525817802ba2\n""}]",0,665915,624a63dce01006ad8c158f1c7c0841d8a04c3664,10,5,1,10273,,,0,"Workaround pyroute2 platform-dependent imports

Pyroute2 recently changed the way they import their base namespace
ojects. Now they are somewhat platform dependent, so on OSX unit tests
will fail for lack of linux-specific libs. Using `create=true` allows
the mocks to be created even if the library doesn't think they exist.
https://github.com/svinota/pyroute2/commit/b69999ec82667828816fa2a7b19d0a4f2fe06a83

Change-Id: I8f9c25e979a7e86ff0b8e19267e4525817802ba2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/665915/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/backends/agent/api_server/test_amphora_info.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_keepalivedlvs.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",4,624a63dce01006ad8c158f1c7c0841d8a04c3664,," @mock.patch('pyroute2.IPRoute', create=True) @mock.patch('pyroute2.NetNS', create=True) @mock.patch('pyroute2.IPRoute', create=True) @mock.patch('pyroute2.NetNS', create=True) @mock.patch('pyroute2.NSPopen', create=True) @mock.patch('pyroute2.IPRoute', create=True) @mock.patch('pyroute2.netns.create', create=True) @mock.patch('pyroute2.NetNS', create=True) @mock.patch('pyroute2.NSPopen', create=True) @mock.patch('pyroute2.IPRoute', create=True) @mock.patch('pyroute2.netns.create', create=True) @mock.patch('pyroute2.NetNS', create=True) @mock.patch('pyroute2.NetNS', create=True)", @mock.patch('pyroute2.IPRoute') @mock.patch('pyroute2.NetNS') @mock.patch('pyroute2.IPRoute') @mock.patch('pyroute2.NetNS') @mock.patch('pyroute2.NSPopen') @mock.patch('pyroute2.IPRoute') @mock.patch('pyroute2.netns.create') @mock.patch('pyroute2.NetNS') @mock.patch('pyroute2.NSPopen') @mock.patch('pyroute2.IPRoute') @mock.patch('pyroute2.netns.create') @mock.patch('pyroute2.NetNS') @mock.patch('pyroute2.NetNS'),28,28
openstack%2Fpython-cloudkittyclient~master~I6af7c339e139f0980c64927fdd7cf3304b0715c5,openstack/python-cloudkittyclient,master,I6af7c339e139f0980c64927fdd7cf3304b0715c5,Bump openstackdocstheme to 1.30.0,MERGED,2019-06-27 02:44:21.000000000,2019-06-27 07:58:29.000000000,2019-06-27 07:58:29.000000000,"[{'_account_id': 7042}, {'_account_id': 7923}, {'_account_id': 8358}, {'_account_id': 9642}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-27 02:44:21.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/a5a14a5883fd805d942bc0469d8b0e08bdee0ed9', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I6af7c339e139f0980c64927fdd7cf3304b0715c5\n'}]",0,667773,a5a14a5883fd805d942bc0469d8b0e08bdee0ed9,6,9,1,27822,,,0,"Bump openstackdocstheme to 1.30.0

...to pick up many improvements, including the return of table borders.

Change-Id: I6af7c339e139f0980c64927fdd7cf3304b0715c5
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/73/667773/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,a5a14a5883fd805d942bc0469d8b0e08bdee0ed9,Bug#5,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fplacement~master~I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0,openstack/placement,master,I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0,Add OsProfiler config options to generated reference,ABANDONED,2019-06-26 12:52:39.000000000,2019-06-27 07:39:37.000000000,,"[{'_account_id': 9708}, {'_account_id': 14070}]","[{'number': 1, 'created': '2019-06-26 12:52:39.000000000', 'files': ['requirements.txt', 'etc/placement/config-generator.conf'], 'web_link': 'https://opendev.org/openstack/placement/commit/b48ece15b5db00aa1d522498af60f424e91a7588', 'message': ""Add OsProfiler config options to generated reference\n\nOsProfiler is optional, but if it's installed we'll load up the configuration\noptions from the library, but they weren't in the generated config sample so\npeople would have to find the osprofiler docs, or worse the code, to figure\nout how to configure it.\n\nThis simply adds the OsProfiler config options to the config sample, which\nwill also show up in the config reference docs.\n\nChange-Id: I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0\nStory: 2005842\nTask: 34191\n""}]",2,667602,b48ece15b5db00aa1d522498af60f424e91a7588,4,2,1,9708,,,0,"Add OsProfiler config options to generated reference

OsProfiler is optional, but if it's installed we'll load up the configuration
options from the library, but they weren't in the generated config sample so
people would have to find the osprofiler docs, or worse the code, to figure
out how to configure it.

This simply adds the OsProfiler config options to the config sample, which
will also show up in the config reference docs.

Change-Id: I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0
Story: 2005842
Task: 34191
",git fetch https://review.opendev.org/openstack/placement refs/changes/02/667602/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'etc/placement/config-generator.conf']",2,b48ece15b5db00aa1d522498af60f424e91a7588,story/2005842,namespace = osprofiler,,4,0
openstack%2Fswift~master~I30f5af07e2e1fc7cbb6bdb1c334a0a161caf0906,openstack/swift,master,I30f5af07e2e1fc7cbb6bdb1c334a0a161caf0906,More tests for 404 handoff skipping,MERGED,2019-06-25 18:43:32.000000000,2019-06-27 07:37:56.000000000,2019-06-27 07:35:42.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 18:43:32.000000000', 'files': ['test/unit/proxy/controllers/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/044c919871f80e1df91ff9a40318a5afd6a2960d', 'message': ""More tests for 404 handoff skipping\n\nSometimes we want 404, sometimes we want 503 - it's tricky\n\nChange-Id: I30f5af07e2e1fc7cbb6bdb1c334a0a161caf0906\nRelated-Change-Id: I53ed04b5de20c261ddd79c98c629580472e09961\n""}]",1,667438,044c919871f80e1df91ff9a40318a5afd6a2960d,7,2,1,1179,,,0,"More tests for 404 handoff skipping

Sometimes we want 404, sometimes we want 503 - it's tricky

Change-Id: I30f5af07e2e1fc7cbb6bdb1c334a0a161caf0906
Related-Change-Id: I53ed04b5de20c261ddd79c98c629580472e09961
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/667438/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_container.py'],1,044c919871f80e1df91ff9a40318a5afd6a2960d,lp1833616," ([500] * (nodes - 1) + [404] * (handoffs + 1), 503), def test_handoff_has_deleted_database(self): nodes = self.app.container_ring.replicas handoffs = self.app.request_node_count(nodes) - nodes status = [Timeout()] * nodes + [404] * handoffs timestamps = tuple([None] * nodes + ['1'] + [None] * (handoffs - 1)) with mocked_http_conn(*status, timestamps=timestamps): req = Request.blank('/v1/a/c') resp = req.get_response(self.app) self.assertEqual(resp.status_int, 404) ",,11,0
openstack%2Fswift~master~I53ed04b5de20c261ddd79c98c629580472e09961,openstack/swift,master,I53ed04b5de20c261ddd79c98c629580472e09961,Return 503 when primary containers can't respond,MERGED,2019-06-25 16:57:59.000000000,2019-06-27 07:36:58.000000000,2019-06-27 07:35:40.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 16:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8d44c23f1ede85dcc36028237bcce1a01cf04831', 'message': ""Return 503 when primary containers can't respond\n\nCloses-Bug: #1833612\n\nChange-Id: I53ed04b5de20c261ddd79c98c629580472e09961\n""}, {'number': 2, 'created': '2019-06-25 17:23:16.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/563e1671cf0583767d652a72ebc4d73d7cc07435', 'message': ""Return 503 when primary containers can't respond\n\nCloses-Bug: #1833612\n\nChange-Id: I53ed04b5de20c261ddd79c98c629580472e09961\n""}]",11,667411,563e1671cf0583767d652a72ebc4d73d7cc07435,16,3,2,1179,,,0,"Return 503 when primary containers can't respond

Closes-Bug: #1833612

Change-Id: I53ed04b5de20c261ddd79c98c629580472e09961
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/667411/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/base.py']",4,8d44c23f1ede85dcc36028237bcce1a01cf04831,bug/1833612," src_headers = dict( (k.lower(), v) for k, v in possible_source.getheaders()) if self.server_type != 'Object' and 'handoff_index' in node and \ possible_source.status == HTTP_NOT_FOUND and \ Timestamp(src_headers.get( 'x-backend-timestamp')) <= Timestamp(0): # throw out 404s from handoff nodes unless the db is really # on disk and had been DELETEd return False"," src_headers = dict( (k.lower(), v) for k, v in possible_source.getheaders())",53,9
openstack%2Fkeystone~master~I8fc5fcb2b35431882f0d64866765d6b0cd31356f,openstack/keystone,master,I8fc5fcb2b35431882f0d64866765d6b0cd31356f,"Revert ""Add JSON driver for access rules config""",MERGED,2019-05-28 15:39:02.000000000,2019-06-27 07:35:45.000000000,2019-06-27 07:35:44.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 15:39:02.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/tests/unit/ksfixtures/__init__.py', 'keystone/access_rules_config/backends/json.py', 'keystone/tests/unit/access_rules_config/backends/__init__.py', 'keystone/access_rules_config/backends/base.py', 'keystone/tests/unit/access_rules_config/__init__.py', 'keystone/tests/unit/config_files/access_rules.json', 'keystone/conf/access_rules_config.py', 'keystone/access_rules_config/__init__.py', 'keystone/exception.py', 'keystone/access_rules_config/backends/__init__.py', 'keystone/tests/unit/ksfixtures/access_rules_config.py', 'setup.cfg', 'keystone/tests/unit/access_rules_config/backends/test_json.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7c42f1a7a8a00ed652ae3c54c53a17aa92f2a702', 'message': 'Revert ""Add JSON driver for access rules config""\n\nThis reverts commit f028ca4edd592c45c100e7cf42cb95fe954604aa.\n\nIn the Train PTG[1] we agreed to defer this feature until we had some\nkind of traceability or discoverability for APIs and that this wasn\'t\nfeasible or useful until then.\n\nThis change was merged to master but never released, so I submit that\nit is safe to revert.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials\n\nChange-Id: I8fc5fcb2b35431882f0d64866765d6b0cd31356f\n'}]",0,661794,7c42f1a7a8a00ed652ae3c54c53a17aa92f2a702,15,6,1,8482,,,0,"Revert ""Add JSON driver for access rules config""

This reverts commit f028ca4edd592c45c100e7cf42cb95fe954604aa.

In the Train PTG[1] we agreed to defer this feature until we had some
kind of traceability or discoverability for APIs and that this wasn't
feasible or useful until then.

This change was merged to master but never released, so I submit that
it is safe to revert.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials

Change-Id: I8fc5fcb2b35431882f0d64866765d6b0cd31356f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/661794/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/tests/unit/ksfixtures/__init__.py', 'keystone/access_rules_config/backends/json.py', 'keystone/tests/unit/access_rules_config/backends/__init__.py', 'keystone/access_rules_config/backends/base.py', 'keystone/tests/unit/access_rules_config/__init__.py', 'keystone/tests/unit/config_files/access_rules.json', 'keystone/conf/access_rules_config.py', 'keystone/access_rules_config/__init__.py', 'keystone/exception.py', 'keystone/access_rules_config/backends/__init__.py', 'keystone/tests/unit/ksfixtures/access_rules_config.py', 'setup.cfg', 'keystone/tests/unit/access_rules_config/backends/test_json.py']",14,7c42f1a7a8a00ed652ae3c54c53a17aa92f2a702,bp/whitelist-extension-for-app-creds,,"# Copyright 2019 SUSE Linux GmbH # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from keystone.access_rules_config.backends import json as json_driver from keystone import exception from keystone.tests import unit from keystone.tests.unit.ksfixtures import access_rules_config from keystone.tests.unit.ksfixtures import temporaryfile class JSONDriverTestCase(unit.TestCase): """"""Tests for validating the access rules config driver."""""" def setUp(self): super(JSONDriverTestCase, self).setUp() rules_file = '%s/access_rules.json' % unit.TESTCONF self.useFixture(access_rules_config.AccessRulesConfig( self.config_fixture, rules_file=rules_file)) self.driver = json_driver.AccessRulesConfig() def test_invalid_json_raises_error(self): tmpfile = self.useFixture(temporaryfile.SecureTempFile()) invalid_access_rules = tmpfile.file_name with open(invalid_access_rules, 'w') as f: f.write(""This is an invalid data"") self.useFixture(access_rules_config.AccessRulesConfig( self.config_fixture, rules_file=invalid_access_rules)) self.assertRaises(exception.AccessRulesConfigFileError, json_driver.AccessRulesConfig) def test_list_access_rules_config(self): rules = self.driver.list_access_rules_config() self.assertIn('identity', rules) self.assertIn('image', rules) def test_list_access_rules_config_for_service(self): rules = self.driver.list_access_rules_config(service='image') self.assertNotIn('identity', rules) self.assertIn('image', rules) def test_check_access_rule(self): result = self.driver.check_access_rule('identity', '/v3/users', 'GET') self.assertTrue(result) userid = uuid.uuid4().hex check_path = '/v3/users/%(userid)s' % {'userid': userid} result = self.driver.check_access_rule('identity', check_path, 'GET') self.assertTrue(result) img = uuid.uuid4().hex memb = uuid.uuid4().hex check_path = '/v2/images/%(img)s/members/%(memb)s' % {'img': img, 'memb': memb} result = self.driver.check_access_rule('image', check_path, 'PUT') self.assertTrue(result) result = self.driver.check_access_rule('image', '/servers', 'GET') self.assertFalse(result) result = self.driver.check_access_rule('glance', '/v2/images', 'GET') self.assertFalse(result) result = self.driver.check_access_rule('image', 'images', 'POST') self.assertFalse(result) projectid = uuid.uuid4().hex check_path = '/v3/%(projectid)s/volumes' % {'projectid': projectid} result = self.driver.check_access_rule('block-storage', check_path, 'GET') self.assertTrue(result) check_path = '/v2/%(projectid)s/volumes' % {'projectid': projectid} result = self.driver.check_access_rule('block-storage', check_path, 'GET') self.assertFalse(result) result = self.driver.check_access_rule('compute', '/v2.1/servers', 'GET') self.assertTrue(result) ",0,1278
openstack%2Fnova~stable%2Fstein~I99601773406c61f93002e2f7cbb248cf73cef0ab,openstack/nova,stable/stein,I99601773406c61f93002e2f7cbb248cf73cef0ab,Refresh instance network info on deletion,MERGED,2019-06-13 14:07:26.000000000,2019-06-27 07:35:36.000000000,2019-06-27 07:35:36.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 11583}, {'_account_id': 14595}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30127}]","[{'number': 1, 'created': '2019-06-13 14:07:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54ec03a52a7a327021022547c75368db5e157852', 'message': ""Refresh instance network info on deletion\n\nWhen deleting an instance, if the network info is empty, we should\nrefresh the info because we can't be sure the copy of the cache we\nhave when we fetched the instance to delete is up-to-date, i.e. if\nwe're racing to delete the server while it's building and the\nnetwork info cache was updated in the database after we started the\ndelete operation and got the instance from the DB, then we could\nfail to unplug VIFs.\n\nCloses-Bug: #1830081\n\nChange-Id: I99601773406c61f93002e2f7cbb248cf73cef0ab\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n(cherry picked from commit d4ed0d8b7adc350e8962df033c2da892c95561fe)\n""}]",0,665143,54ec03a52a7a327021022547c75368db5e157852,30,9,1,11583,,,0,"Refresh instance network info on deletion

When deleting an instance, if the network info is empty, we should
refresh the info because we can't be sure the copy of the cache we
have when we fetched the instance to delete is up-to-date, i.e. if
we're racing to delete the server while it's building and the
network info cache was updated in the database after we started the
delete operation and got the instance from the DB, then we could
fail to unplug VIFs.

Closes-Bug: #1830081

Change-Id: I99601773406c61f93002e2f7cbb248cf73cef0ab
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
(cherry picked from commit d4ed0d8b7adc350e8962df033c2da892c95561fe)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/665143/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_compute_utils.py']",3,54ec03a52a7a327021022547c75368db5e157852,bug/1830081, net_info = model.NetworkInfo([model.VIF(id=uuids.port_id)]), net_info = model.NetworkInfo([]),40,1
openstack%2Fkeystone~master~I2cefe9363842101ac6b55947352b91fe9def7cc1,openstack/keystone,master,I2cefe9363842101ac6b55947352b91fe9def7cc1,"Revert ""Add manager for access rules config""",MERGED,2019-05-28 15:39:02.000000000,2019-06-27 07:19:18.000000000,2019-06-27 07:19:17.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 15:39:02.000000000', 'files': ['keystone/tests/unit/access_rules_config/test_backends.py', 'keystone/access_rules_config/__init__.py', 'keystone/access_rules_config/core.py', 'keystone/server/backends.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/78d30c9331c3305789221605837e64f4860778a7', 'message': 'Revert ""Add manager for access rules config""\n\nThis reverts commit e1d31eda34a4d55ec6156474463f6a23fdb9edd4.\n\nIn the Train PTG[1] we agreed to defer this feature until we had some\nkind of traceability or discoverability for APIs and that this wasn\'t\nfeasible or useful until then.\n\nThis change was merged to master but never released, so I submit that\nit is safe to revert.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials\n\nChange-Id: I2cefe9363842101ac6b55947352b91fe9def7cc1\n'}]",0,661793,78d30c9331c3305789221605837e64f4860778a7,15,6,1,8482,,,0,"Revert ""Add manager for access rules config""

This reverts commit e1d31eda34a4d55ec6156474463f6a23fdb9edd4.

In the Train PTG[1] we agreed to defer this feature until we had some
kind of traceability or discoverability for APIs and that this wasn't
feasible or useful until then.

This change was merged to master but never released, so I submit that
it is safe to revert.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials

Change-Id: I2cefe9363842101ac6b55947352b91fe9def7cc1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/93/661793/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/access_rules_config/test_backends.py', 'keystone/access_rules_config/__init__.py', 'keystone/access_rules_config/core.py', 'keystone/server/backends.py']",4,78d30c9331c3305789221605837e64f4860778a7,bp/whitelist-extension-for-app-creds," managers = [application_credential.Manager, assignment.Manager,","from keystone import access_rules_config managers = [access_rules_config.Manager, application_credential.Manager, assignment.Manager,",1,122
openstack%2Fopenstack-helm-infra~master~If9fb5f50e395379fdd3ccc46e945a93606dcbabe,openstack/openstack-helm-infra,master,If9fb5f50e395379fdd3ccc46e945a93606dcbabe,[Kibana] Add improvements to Selenium tests for Kibana,MERGED,2019-06-25 07:50:33.000000000,2019-06-27 07:07:14.000000000,2019-06-27 07:07:14.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-25 07:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/568bde7246033999ff0ecb61a26c72fc132a48b0', 'message': '[Kibana] Add improvements to Selenium tests for Kibana\n\nThis PS adds several fixes to Selenium tests (for Kibana) and adds\nrole which allows to collect the results.\n\nChange-Id: If9fb5f50e395379fdd3ccc46e945a93606dcbabe\n'}, {'number': 2, 'created': '2019-06-26 03:51:10.000000000', 'files': ['roles/gather-selenium-data/tasks/main.yaml', 'tools/gate/selenium/kibanaSelenium.py', 'playbooks/osh-infra-collect-logs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1db1ddf0baf65bc5302ab5a09f748970de9ee425', 'message': '[Kibana] Add improvements to Selenium tests for Kibana\n\nThis PS adds several fixes to Selenium tests (for Kibana) and adds\nrole which allows to collect the results.\n\nChange-Id: If9fb5f50e395379fdd3ccc46e945a93606dcbabe\n'}]",0,667279,1db1ddf0baf65bc5302ab5a09f748970de9ee425,12,5,2,17119,,,0,"[Kibana] Add improvements to Selenium tests for Kibana

This PS adds several fixes to Selenium tests (for Kibana) and adds
role which allows to collect the results.

Change-Id: If9fb5f50e395379fdd3ccc46e945a93606dcbabe
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/667279/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/selenium/kibanaSelenium.py', 'roles/gather-kibana-data/tasks/main.yaml', 'playbooks/osh-infra-collect-logs.yaml']",3,568bde7246033999ff0ecb61a26c72fc132a48b0,, - gather-kibana-data - gather-prom-metrics - gather-kibana-data , - gather-prom-metrics,78,75
openstack%2Fwatcher~master~Ifd8be7491669c429482d880fdf0219be5ef03163,openstack/watcher,master,Ifd8be7491669c429482d880fdf0219be5ef03163,Improve the configuration parameters for grafana,MERGED,2019-06-21 14:49:11.000000000,2019-06-27 07:03:21.000000000,2019-06-27 07:03:21.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-21 14:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/65a9e98b69acb3e131cc90b4fab2c0ca5d59d35b', 'message': 'Improve the configuration parameters for grafana\n\nThis improves the documentation on configuration parameters for the\nGrafana datasource.\n\nDepends-on: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\nChange-Id: Ifd8be7491669c429482d880fdf0219be5ef03163\n'}, {'number': 2, 'created': '2019-06-21 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4f04d558470c99669e57d3d98e6a9d907ee30f0f', 'message': 'Improve the configuration parameters for grafana\n\nThis improves the documentation on configuration parameters for the\nGrafana datasource.\n\nFollow-up: If1f27dc01e853c5b24bdb21f1e810f64eaee2e5c\nDepends-on: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\nChange-Id: Ifd8be7491669c429482d880fdf0219be5ef03163\n'}, {'number': 3, 'created': '2019-06-21 18:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f209136194ec08ef3c008c6d2e0b13144f67ff55', 'message': 'Improve the configuration parameters for grafana\n\nThis improves the documentation on configuration parameters for the\nGrafana datasource.\n\nFollow-up: If1f27dc01e853c5b24bdb21f1e810f64eaee2e5c\nDepends-on: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\nChange-Id: Ifd8be7491669c429482d880fdf0219be5ef03163\n'}, {'number': 4, 'created': '2019-06-24 18:38:56.000000000', 'files': ['watcher/tests/conf/test_list_opts.py', 'watcher/conf/grafana_client.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d08d7c396eb0c4231d44700c5b5ee3901a0e68ac', 'message': 'Improve the configuration parameters for grafana\n\nThis improves the documentation on configuration parameters for the\nGrafana datasource.\n\nFollow-up: If1f27dc01e853c5b24bdb21f1e810f64eaee2e5c\nDepends-on: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\nChange-Id: Ifd8be7491669c429482d880fdf0219be5ef03163\n'}]",18,666856,d08d7c396eb0c4231d44700c5b5ee3901a0e68ac,25,5,4,29911,,,0,"Improve the configuration parameters for grafana

This improves the documentation on configuration parameters for the
Grafana datasource.

Follow-up: If1f27dc01e853c5b24bdb21f1e810f64eaee2e5c
Depends-on: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47
Change-Id: Ifd8be7491669c429482d880fdf0219be5ef03163
",git fetch https://review.opendev.org/openstack/watcher refs/changes/56/666856/4 && git format-patch -1 --stdout FETCH_HEAD,['watcher/conf/grafana_client.py'],1,65a9e98b69acb3e131cc90b4fab2c0ca5d59d35b,grafana_upstream_config_update," help=""First part of the url (including https:// or http://) up "" help=""Mapping of datasource metrics to grafana project ids. "" help=""Mapping of datasource metrics to grafana databases. "" help=""Mapping of datasource metrics to resource attributes. "" ""https://docs.openstack.org/watcher/latest/datasources/gr"" ""afana.html#attribute "" help=""Mapping of datasource metrics to grafana translators. "" help=""Mapping of datasource metrics to grafana queries. "" ""will transform it. The transformation offers five "" ""parameters to the query labeled {0} to {4}. {0} will be "" ""replaced with the aggregate, {1} with the resource"" ""attribute, {2} with the period, {3} with the"" ""granularity and {4} with translator specifics for"" ""InfluxDB this will be the retention period. "" ""These queries will need to be constructed using tools "" ""such as Postman. Example: SELECT cpu FROM {4}."" ""cpu_percent WHERE host == '{1}' AND time > now()-{2}s"")]"," help=""first part of the url (including https:// or http://) up "" help=""Mapping of grafana project ids to datasource metrics. "" help=""Mapping of grafana databases to datasource metrics. "" help=""Mapping of resource attributes to datasource metrics. "" ""instance.py and node.py in "" ""decision_engine/model/element. "" help=""Mapping of grafana translators to datasource metrics. "" help=""Mapping of grafana queries to datasource metrics. "" ""will transform it. These queries will need to be "" ""constructed using tools such as Postman. "" ""Example: SELECT cpu FROM {4}.cpu_percent WHERE "" ""host == '{1}' AND time > now()-{2}s"")]",17,12
openstack%2Fopenstack-helm-images~master~Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797,openstack/openstack-helm-images,master,Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797,Libvirt: Ubuntu Bionic image,MERGED,2019-06-26 17:51:50.000000000,2019-06-27 06:39:48.000000000,2019-06-27 06:36:16.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 17:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e785dbfcc044072ff2630301318ec10606b9b54f', 'message': 'WIP: Libvirt: Ubuntu Bionic image\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-26 18:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e8bb494723b40b95765371b35875f75e8344429c', 'message': 'WIP: Libvirt: Ubuntu Bionic image\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-26 19:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3645b85e9b14693e6634419cd95ce3e8e939c10e', 'message': 'WIP: Libvirt: Ubuntu Bionic image\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-26 19:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/737df7e9f75400965a6016e1882dae1d915bf26f', 'message': 'Libvirt: Ubuntu Bionic image\n\nThis PS adds a libvirt image based on the bionic release of Ubuntu.\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-26 19:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/196de07c3016185de4e013e502942d6e97ad0554', 'message': 'Libvirt: Ubuntu Bionic image\n\nThis PS adds a libvirt image based on the bionic release of Ubuntu.\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-26 20:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0f869aa2486f747668e221c3d07a40bbf8f760cd', 'message': 'Libvirt: Ubuntu Bionic image\n\nThis PS adds a libvirt image based on the bionic release of Ubuntu.\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-26 20:18:20.000000000', 'files': ['zuul.d/libvirt.yaml', 'libvirt/Dockerfile.ubuntu_xenial', 'libvirt/ubuntu-install-libvirt.sh', 'libvirt/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/03e66fa9a8a55bdbadfa422267f58ca216b27ca5', 'message': 'Libvirt: Ubuntu Bionic image\n\nThis PS adds a libvirt image based on the bionic release of Ubuntu.\n\nChange-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667693,03e66fa9a8a55bdbadfa422267f58ca216b27ca5,15,3,7,23928,,,0,"Libvirt: Ubuntu Bionic image

This PS adds a libvirt image based on the bionic release of Ubuntu.

Change-Id: Id87dc3f6a280cf91b3a31a1f847ea1439cbfa797
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/93/667693/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libvirt.yaml', 'libvirt/Dockerfile.ubuntu_bionic']",2,e785dbfcc044072ff2630301318ec10606b9b54f,libvirt-bionic,"FROM docker.io/ubuntu:bionic LABEL maintainer=""pete.birley@att.com"" ARG CEPH_RELEASE=mimic ARG PROJECT=nova ARG UID=42424 ARG GID=42424 ARG CEPH_REPO=http://download.ceph.com/debian-${CEPH_RELEASE}/ ARG CEPH_KEY=http://download.ceph.com/keys/release.asc ADD ${CEPH_KEY} /etc/apt/ceph-${CEPH_RELEASE}.key RUN set -ex ;\ export DEBIAN_FRONTEND=noninteractive ;\ apt-key add /etc/apt/ceph-${CEPH_RELEASE}.key ;\ rm -f /etc/apt/ceph-${CEPH_RELEASE}.key ;\ echo ""deb ${CEPH_REPO} xenial main"" | tee /etc/apt/sources.list.d/ceph.list ;\ apt-get update ;\ apt-get upgrade -y ;\ apt-get install --no-install-recommends -y \ ceph-common \ cgroup-tools \ dmidecode \ ebtables \ iproute2 \ libvirt-bin \ pm-utils \ qemu \ qemu-block-extra \ qemu-efi \ openvswitch-switch ;\ groupadd -g ${GID} ${PROJECT} ;\ useradd -u ${UID} -g ${PROJECT} -M -d /var/lib/${PROJECT} -s /usr/sbin/nologin -c ""${PROJECT} user"" ${PROJECT} ;\ mkdir -p /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ chown ${PROJECT}:${PROJECT} /etc/${PROJECT} /var/log/${PROJECT} /var/lib/${PROJECT} /var/cache/${PROJECT} ;\ usermod -a -G kvm ${PROJECT} ;\ apt-get clean -y ;\ rm -rf \ /var/cache/debconf/* \ /var/lib/apt/lists/* \ /var/log/* \ /tmp/* \ /var/tmp/* ",,49,0
openstack%2Fwatcher~master~I5d1d3129b5d225f0f2fc86d149c046f9aab94d47,openstack/watcher,master,I5d1d3129b5d225f0f2fc86d149c046f9aab94d47,Documentation configuring grafana datasource,MERGED,2019-06-11 15:03:52.000000000,2019-06-27 06:30:32.000000000,2019-06-27 06:30:32.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-11 15:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/02be4a7b620f767344bb3fd0fa562a20bcc7f01e', 'message': '[WiP] Documentation configuring grafana datasource\n\nDocumentation for adminsrators on how to configure the Grafana\ndatasource.\n\nChange-Id: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\n'}, {'number': 2, 'created': '2019-06-18 14:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e5a331b72718d4ade551df48e751cebed2418d21', 'message': 'Documentation configuring grafana datasource\n\nDocumentation for adminsrators on how to configure the Grafana\ndatasource.\n\nChange-Id: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\n'}, {'number': 3, 'created': '2019-06-20 07:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d2c1b9dfbc5bdc512805e5ae1ca89c3d4eaf8af8', 'message': 'Documentation configuring grafana datasource\n\nDocumentation for administrators on how to configure the Grafana\ndatasource.\n\nChange-Id: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\n'}, {'number': 4, 'created': '2019-06-26 08:58:13.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/datasources/index.rst', 'doc/source/datasources/grafana.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/fa1642e323e37fcd442a923264e836153ab051e3', 'message': 'Documentation configuring grafana datasource\n\nDocumentation for administrators on how to configure the Grafana\ndatasource.\n\nChange-Id: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47\n'}]",18,664613,fa1642e323e37fcd442a923264e836153ab051e3,24,6,4,29911,,,0,"Documentation configuring grafana datasource

Documentation for administrators on how to configure the Grafana
datasource.

Change-Id: I5d1d3129b5d225f0f2fc86d149c046f9aab94d47
",git fetch https://review.opendev.org/openstack/watcher refs/changes/13/664613/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/datasources/index.rst', 'doc/source/datasources/grafana.rst']",3,02be4a7b620f767344bb3fd0fa562a20bcc7f01e,grafana_documentation,"================== Grafana datasource ================== Synopsis -------- Grafana can interface with many different types of storage backends that Grafana calls datasources_. Since the term datasources causes significant confusion by overlapping definitions used in Watcher these **datasources are called** **projects instead**. Some examples of supported projects are InfluxDB or Elasticsearch while others might be more familiar such as Monasca or Gnocchi. The Grafana datasource provides the functionality to retrieve metrics from Grafana for different projects. This functionality is achieved by using the proxy interface exposed in Grafana to communicate with Grafana projects directly. Background ********** Since queries to retrieve metrics from Grafana are proxied to the project the format of these queries will change significantly depending on the type of project. The structure of the projects themselves will also change significantly as they are structured by users and administrators. For instance, some developers might decide to store metrics about compute_nodes in MySQL and use the UUID as primary key while others use InfluxDB and use the hostname as primary key. Furthermore, datasources in Watcher should return metrics in specific units strictly defined in the baseclass_ depending on how the units are stored in the projects they might require conversion before being returned. The flexible configuration parameters of the Grafana datasource allow to specify exactly how the deployment is configured and this will enable to correct retrieval of metrics and with the correct units. .. _datasources: https://grafana.com/plugins?type=datasource .. _baseclass: https://opendev.org/openstack/watcher/src/branch/master/watcher/datasources/base.py Requirements ------------ The use of the Grafana datasource requires a reachable Grafana endpoint and an authentication token for access to the desired projects. The projects behind Grafana will need to contain the metrics for compute_nodes_ or instances_ and these need to be identifiable by an attribute of the Watcher datamodel_ for instance hostname or UUID. .. _compute_nodes: https://opendev.org/openstack/watcher/src/branch/master/watcher/decision_engine/model/element/node.py .. _instances: https://opendev.org/openstack/watcher/src/branch/master/watcher/decision_engine/model/element/instance.py .. _datamodel: https://opendev.org/openstack/watcher/src/branch/master/watcher/decision_engine/model/element Limitations *********** * Only the InfluxDB project is currently supported [#f1]_. * All metrics must be retrieved from the same Grafana endpoint (same URL). * All metrics must be retrieved with the same authentication token. .. [#f1] A base class for databases is available_. .. _available: https://review.opendev.org/#/c/649341/24/watcher/datasources/grafana_translator/base.py Configuration ------------- Several steps are required in order to use the Grafana datasource, Most steps are related configuring Watcher to match the deployed Grafana setup such as queries proxied to the project or the type of project for any given metric. How to use it ? --------------- .. code-block:: shell $ Write the command line to create an audit with your strategy. External Links -------------- - `List of Grafana datasources <https://grafana.com/plugins?type=datasource>`_ ",,86,0
openstack%2Fopenstack-helm-images~master~I962696eac7c9cc94650666a1d3a60c610d1ae867,openstack/openstack-helm-images,master,I962696eac7c9cc94650666a1d3a60c610d1ae867,Nagios: Update Nagios host definition plugin,MERGED,2019-06-26 23:00:29.000000000,2019-06-27 06:24:33.000000000,2019-06-27 06:22:14.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-26 23:00:29.000000000', 'files': ['nagios/Dockerfile.ubuntu_xenial', 'nagios/plugins/check_update_prometheus_hosts.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eae35b7739aa6d156fcc8ceba63f24a8f5979464', 'message': ""Nagios: Update Nagios host definition plugin\n\nThis updates the plugin responsible for defining Nagios's hosts\nand hostgroups to use the Kubernetes python client instead of\nquerying Prometheus for this information. This results in a more\npredictable and reliable list of hosts for Nagios to use, as\nquerying Prometheus for scalar metrics in a point-in-time could\nresult in a host not being added correctly in scenarios where\na host is down when Nagios is attempting to query Prometheus to\ngenerate the list of hosts\n\nChange-Id: I962696eac7c9cc94650666a1d3a60c610d1ae867\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,667749,eae35b7739aa6d156fcc8ceba63f24a8f5979464,8,3,1,17591,,,0,"Nagios: Update Nagios host definition plugin

This updates the plugin responsible for defining Nagios's hosts
and hostgroups to use the Kubernetes python client instead of
querying Prometheus for this information. This results in a more
predictable and reliable list of hosts for Nagios to use, as
querying Prometheus for scalar metrics in a point-in-time could
result in a host not being added correctly in scenarios where
a host is down when Nagios is attempting to query Prometheus to
generate the list of hosts

Change-Id: I962696eac7c9cc94650666a1d3a60c610d1ae867
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/49/667749/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/Dockerfile.ubuntu_xenial', 'nagios/plugins/check_update_prometheus_hosts.py']",2,eae35b7739aa6d156fcc8ceba63f24a8f5979464,update-host-plugin,"import kubernetes.client import kubernetes.config description='Keeps Nagios config Updated.') node_list = get_kubernetes_node_list() print(get_nagios_hosts(node_list)) elif args.hostgroups: node_list = get_kubernetes_node_list() print(get_nagios_hostgroups_dictionary(node_list)) update_config_file(args.object_file_loc) update_config_file(args.object_file_loc)def get_kubernetes_node_list(): kubernetes.config.load_incluster_config() kube_api = kubernetes.client.CoreV1Api() try: node_list = kube_api.list_node(pretty='false', limit=100, timeout_seconds=60) except ApiException as e: print(""Exception when calling CoreV1Api->list_node: %s\n"" % e) return node_list.items def update_config_file(object_file_loc): node_list = get_kubernetes_node_list() nagios_hosts = get_nagios_hosts(node_list) nagios_hostgroups = get_nagios_hostgroups(node_list) print(""No hosts discovered - Kubernetes CoreV1API->list_node resulted in empty list."")def get_nagios_hostgroups(node_list): node_list).iteritems():def get_nagios_hostgroups_dictionary(node_list): for node in node_list: node_name = node.metadata.name node_labels = node.metadata.labels host_group_labels = set() for node_label in node_labels: host_group_labels.add(node_label) nagios_hostgroups[node_name] = host_group_labels except Exception as e: print(""Unable to access Kubernetes node list"")def get_nagios_hosts(node_list): hostgroup_dictionary = get_nagios_hostgroups_dictionary(node_list) for node in node_list: host_name = node.metadata.name for addr in node.status.addresses: if addr.type == ""InternalIP"": host_ip = addr.address except ApiException as e: print(""Exception when calling CoreV1Api->list_node: %s\n"" % e)"," description='Queries Prometheus and Keeps Nagios config Updated.') parser.add_argument( '--prometheus_api', metavar='prometheus_api', type=str, required=True, help='Prometheus query API with scheme, host and port') print(get_nagios_hosts(args.prometheus_api)) elif args.hostgroups: print(get_nagios_hostgroups(args.prometheus_api)) update_config_file( args.prometheus_api, args.object_file_loc) update_config_file(args.prometheus_api, args.object_file_loc) def update_config_file(prometheus_api, object_file_loc): nagios_hosts = get_nagios_hosts(prometheus_api) nagios_hostgroups = get_nagios_hostgroups(prometheus_api) print(""no hosts discovered. Either prometheus is unreachable or is not collecting node metrics."")def get_nagios_hostgroups(prometheus_api): prometheus_api).iteritems():def get_nagios_hostgroups_dictionary(prometheus_api): labels_json = query_prometheus(prometheus_api, 'kube_node_labels') for label_dictionary in labels_json['data']['result']: host_name = label_dictionary['metric']['node'] labels = set() for key in label_dictionary['metric']: if key.startswith('label_'): labels.add(key[6:]) nagios_hostgroups[host_name] = labels except Exception as e: print(""Unable to query prometheus at {} to retrieve hosts"".format(prometheus_api))def get_nagios_hosts(prometheus_api): unames_json = query_prometheus(prometheus_api, 'node_uname_info') hostgroup_dictionary = get_nagios_hostgroups_dictionary(prometheus_api) for uname in unames_json['data']['result']: host_name = uname['metric']['nodename'] host_ip = uname['metric']['instance'].split(':')[0] if hostgroups.find(""promenade_genesis"") != -1: hostgroups = hostgroups + "",prometheus-hosts"" except Exception as e: print(""Unable to query prometheus at {} to retrieve hosts"".format(prometheus_api)) sys.exit(NAGIOS_CRITICAL) def query_prometheus(prometheus_api, query): url = ""{}/api/v1/query"".format(include_schema(prometheus_api)) params = {""query"": query} response = requests.get( url, headers={ ""Accept"": ""application/json""}, params=params) return response.json() def include_schema(prometheus_api): if prometheus_api.startswith( ""http://"") or prometheus_api.startswith(""https://""): return prometheus_api else: return ""http://{}"".format(prometheus_api) ",51,60
openstack%2Ftripleo-common~master~Ic7274b382bb60dea467bf4d116f80472bfd04e0c,openstack/tripleo-common,master,Ic7274b382bb60dea467bf4d116f80472bfd04e0c,Fix regression in UpdateParametersAction,MERGED,2019-06-25 09:21:28.000000000,2019-06-27 06:23:51.000000000,2019-06-27 06:23:51.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-25 09:21:28.000000000', 'files': ['tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca5f7f8f191fbded01004a4e983f68c481fa80fc', 'message': 'Fix regression in UpdateParametersAction\n\nRegression From https://review.opendev.org/#/c/599188/\n\nChange-Id: Ic7274b382bb60dea467bf4d116f80472bfd04e0c\nCloses-Bug: #1834086\n'}]",0,667301,ca5f7f8f191fbded01004a4e983f68c481fa80fc,22,6,1,8833,,,0,"Fix regression in UpdateParametersAction

Regression From https://review.opendev.org/#/c/599188/

Change-Id: Ic7274b382bb60dea467bf4d116f80472bfd04e0c
Closes-Bug: #1834086
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/667301/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/parameters.py'],1,ca5f7f8f191fbded01004a4e983f68c481fa80fc,bug/1834086, process_templates_action._process_custom_roles(context), self._process_custom_roles(context),1,1
openstack%2Fopenstack-helm-images~master~Iaeb2fad62ac213b74637dadc329e7ea304602ab8,openstack/openstack-helm-images,master,Iaeb2fad62ac213b74637dadc329e7ea304602ab8,Nagios: Make scripts and plugins executable,MERGED,2019-06-26 22:36:27.000000000,2019-06-27 06:23:29.000000000,2019-06-27 06:22:13.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-26 22:36:27.000000000', 'files': ['nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/nagiosutil.py', 'nagios/plugins/check_update_prometheus_hosts.py', 'nagios/scripts/entrypoint.sh', 'nagios/plugins/check_exporter_health_metric.py', 'nagios/plugins/query_elasticsearch.py', 'nagios/plugins/send_service_trap.sh', 'nagios/plugins/send_http_post_event.py', 'nagios/plugins/send_host_trap.sh', 'nagios/plugins/check_prometheus_metric.sh', 'nagios/plugins/check_rest_get_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e1a1faec28b554f48f497468d9555ef9b892cbca', 'message': 'Nagios: Make scripts and plugins executable\n\nThis updates the entrypoint script and the plugins included with\nthe nagios image executable\n\nChange-Id: Iaeb2fad62ac213b74637dadc329e7ea304602ab8\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667743,e1a1faec28b554f48f497468d9555ef9b892cbca,8,3,1,17591,,,0,"Nagios: Make scripts and plugins executable

This updates the entrypoint script and the plugins included with
the nagios image executable

Change-Id: Iaeb2fad62ac213b74637dadc329e7ea304602ab8
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/43/667743/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/nagiosutil.py', 'nagios/plugins/check_update_prometheus_hosts.py', 'nagios/scripts/entrypoint.sh', 'nagios/plugins/check_exporter_health_metric.py', 'nagios/plugins/query_elasticsearch.py', 'nagios/plugins/send_service_trap.sh', 'nagios/plugins/send_http_post_event.py', 'nagios/plugins/send_host_trap.sh', 'nagios/plugins/check_prometheus_metric.sh', 'nagios/plugins/check_rest_get_api.py']",11,e1a1faec28b554f48f497468d9555ef9b892cbca,fix-nagios-image,,,0,0
openstack%2Fopenstack-ansible~master~I19ef3733c250617a266fce98d11ab29fb548ab16,openstack/openstack-ansible,master,I19ef3733c250617a266fce98d11ab29fb548ab16,Reduce the RAM allocation for the octavia amphora flavor in AIO/CI,MERGED,2019-06-26 14:26:14.000000000,2019-06-27 06:16:08.000000000,2019-06-27 04:21:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-26 14:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1fdce054ccf1777ffef02901666dd2871307f559', 'message': 'Reduce the RAM allocation for the octavia amphora flavor in AIO/CI\n\nIn restrcited environments such as AIO and CI, tempest tests\ncan fail because the host RAM may be exhaused by trying to launch\nthe amphora and back end servers needed for the test.\n\nThis patch halves the memory allocation to the amphora to allow\nthe tests to pass. The setting is not suitable for production use\nand a comment is added as a reminder in the override.\n\nChange-Id: I19ef3733c250617a266fce98d11ab29fb548ab16\n'}, {'number': 2, 'created': '2019-06-26 19:22:34.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/549f09459ce5e3db408463fcc849b0b9ff0601de', 'message': 'Reduce the RAM allocation for the octavia amphora flavor in AIO/CI\n\nIn restrcited environments such as AIO and CI, tempest tests\ncan fail because the host RAM may be exhaused by trying to launch\nthe amphora and back end servers needed for the test.\n\nChange-Id: I19ef3733c250617a266fce98d11ab29fb548ab16\n'}]",0,667633,549f09459ce5e3db408463fcc849b0b9ff0601de,10,3,2,25023,,,0,"Reduce the RAM allocation for the octavia amphora flavor in AIO/CI

In restrcited environments such as AIO and CI, tempest tests
can fail because the host RAM may be exhaused by trying to launch
the amphora and back end servers needed for the test.

Change-Id: I19ef3733c250617a266fce98d11ab29fb548ab16
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/33/667633/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/conf.d/octavia.yml.aio'],1,1fdce054ccf1777ffef02901666dd2871307f559,, #reduce the amphora memory footprint for AIO and CI to fit the whole deploy withing 8G RAM #not suitable for production use octavia-amp-ram: 512,,4,0
openstack%2Fplacement~master~Id433b0540e2051ab27b2c22cc14c62105555ea8f,openstack/placement,master,Id433b0540e2051ab27b2c22cc14c62105555ea8f,Miscellaneous doc/comment/log cleanups,MERGED,2019-06-17 14:32:18.000000000,2019-06-27 05:47:50.000000000,2019-06-27 05:47:50.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5aa59158d802e05077a8971a0703a27b4ed336c2', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 2, 'created': '2019-06-17 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/00d696153810d110571d807cd9a864480f33c184', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 3, 'created': '2019-06-17 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e39efb971a6f666db55d5e1b341ccab9e18cc924', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 4, 'created': '2019-06-17 22:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e800c5fc3e2b3b7b78700a3e9da07e30ca1348b3', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 5, 'created': '2019-06-18 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b34b46ff78740ab67df95ac9fe34846111385fe0', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 6, 'created': '2019-06-18 20:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e11d13a0d963bdd7f59db17f887e795fba8832c9', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 7, 'created': '2019-06-19 23:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/38f61dd625731804513fb0f3150522ff876a3875', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 8, 'created': '2019-06-20 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/72f0f673117cba4dc1a7c86f7b5b769928fe7158', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 9, 'created': '2019-06-20 21:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bcb4f51b400819856b2978604c0f5dc92912823c', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 10, 'created': '2019-06-20 22:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e87b4df1eda8f53092c38f25d1bab65870e822ff', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 11, 'created': '2019-06-20 22:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8108d65ad00e8c7f4c0eb2feaec9e579c2b1947c', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}, {'number': 12, 'created': '2019-06-25 13:34:21.000000000', 'files': ['placement/objects/research_context.py', 'placement/exception.py', 'doc/source/usage/provider-tree.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/698645ca5ceaf273b93fc7129553e9e22cec85d1', 'message': 'Miscellaneous doc/comment/log cleanups\n\nThis commit is a grab-bag of tweaks and cleanups noticed while working\nin the neighborhood on something unrelated.\n\n- Add a descriptive comment to the ResourceProviderNotFound exception.\n  This is a marker exception used for inter-method communication.\n- Add and enhance debug logs in the in_tree$S filter code path.\n- Correct a SQL comment in get_providers_with_resource (missed when the\n  code was tweaked).\n- Removes a TODO about an optimization that became obsolete when\n  RequestGroupSearchContext was integrated into\n  get_provider_ids_matching.\n- Corrects the get_sharing_providers docstring s/list/set/ to reflect\n  reality.\n- Changes a link in the provider-tree doc from the spec-in-progress to\n  the merged and published version.\n\nChange-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f\n'}]",3,665691,698645ca5ceaf273b93fc7129553e9e22cec85d1,37,6,12,14070,,,0,"Miscellaneous doc/comment/log cleanups

This commit is a grab-bag of tweaks and cleanups noticed while working
in the neighborhood on something unrelated.

- Add a descriptive comment to the ResourceProviderNotFound exception.
  This is a marker exception used for inter-method communication.
- Add and enhance debug logs in the in_tree$S filter code path.
- Correct a SQL comment in get_providers_with_resource (missed when the
  code was tweaked).
- Removes a TODO about an optimization that became obsolete when
  RequestGroupSearchContext was integrated into
  get_provider_ids_matching.
- Corrects the get_sharing_providers docstring s/list/set/ to reflect
  reality.
- Changes a link in the provider-tree doc from the spec-in-progress to
  the merged and published version.

Change-Id: Id433b0540e2051ab27b2c22cc14c62105555ea8f
",git fetch https://review.opendev.org/openstack/placement refs/changes/91/665691/4 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/exception.py']",2,5aa59158d802e05077a8971a0703a27b4ed336c2,story/2005575-33753," # Marker exception indicating that we've filtered down to zero possible # allocation candidates. Does not represent an API error; should only be # used internally: no results is a 200 with empty allocation_requests. msg_fmt = ""No results are possible."""," msg_fmt = ""No such resource provider(s)""",12,10
openstack%2Fzun~master~I9f8cb32ec5d8027f88635be35a77023e2f02bac3,openstack/zun,master,I9f8cb32ec5d8027f88635be35a77023e2f02bac3,[DO NOT MERGE] Test CI,ABANDONED,2019-06-10 01:16:48.000000000,2019-06-27 04:42:15.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 01:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b7341fab9b7624d925f594865d188926c1237cdc', 'message': '[DO NOT MERGE] Test CI\n\nDepends-On: https://review.opendev.org/#/c/664166/\nChange-Id: I9f8cb32ec5d8027f88635be35a77023e2f02bac3\n'}, {'number': 2, 'created': '2019-06-24 01:25:57.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/2fcc55e965271bc0c02083e83be7148e7908153a', 'message': '[DO NOT MERGE] Test CI\n\nDepends-On: https://review.opendev.org/#/c/664166/\nChange-Id: I9f8cb32ec5d8027f88635be35a77023e2f02bac3\n'}]",0,664178,2fcc55e965271bc0c02083e83be7148e7908153a,17,2,2,11536,,,0,"[DO NOT MERGE] Test CI

Depends-On: https://review.opendev.org/#/c/664166/
Change-Id: I9f8cb32ec5d8027f88635be35a77023e2f02bac3
",git fetch https://review.opendev.org/openstack/zun refs/changes/78/664178/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b7341fab9b7624d925f594865d188926c1237cdc,,# test,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Idabfec5f568a4e02900d103d23f4cb3c199e84c9,openstack/tripleo-heat-templates,stable/stein,Idabfec5f568a4e02900d103d23f4cb3c199e84c9,Replace /var/log/containers/swift symlink with directories,MERGED,2019-06-26 03:49:46.000000000,2019-06-27 04:32:32.000000000,2019-06-27 04:32:32.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 03:49:46.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f2877d986fd329777a1fb1bd8c0546cf23237cb', 'message': 'Replace /var/log/containers/swift symlink with directories\n\nOnce we remove the symlinks in update_staks, host_prep_tasks\nwould create those directories.\n\nAssuming that minor update runs before upgrades, this should\ntake care of upgrades too.\n\nChange-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9\nRelated-Bug: #1833690\n(cherry picked from commit 90d05216b96adaf93dcf36680954328ed1cb053d)\n'}]",6,667501,6f2877d986fd329777a1fb1bd8c0546cf23237cb,17,6,1,8833,,,0,"Replace /var/log/containers/swift symlink with directories

Once we remove the symlinks in update_staks, host_prep_tasks
would create those directories.

Assuming that minor update runs before upgrades, this should
take care of upgrades too.

Change-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9
Related-Bug: #1833690
(cherry picked from commit 90d05216b96adaf93dcf36680954328ed1cb053d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/667501/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,6f2877d986fd329777a1fb1bd8c0546cf23237cb,bug/1833690-stable/stein, update_tasks: - name: Check swift containers log folder/symlink exists stat: path: /var/log/containers/swift register: swift_log_link - name: Delete if symlink file: path: /var/log/containers/swift state: absent when: swift_log_link.stat.islnk is defined and swift_log_link.stat.islnk,,19,0
openstack%2Fpython-tripleoclient~master~I6f2082c6880f313b841fc420bc362a52708b3358,openstack/python-tripleoclient,master,I6f2082c6880f313b841fc420bc362a52708b3358,Fix minion config test,MERGED,2019-06-26 15:42:31.000000000,2019-06-27 04:32:31.000000000,2019-06-27 04:32:31.000000000,"[{'_account_id': 3153}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-26 15:42:31.000000000', 'files': ['tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/831b1e7bbbf29c4e488d8650b60ac2ca329b2a3f', 'message': 'Fix minion config test\n\nWe were missing a mock for the ansible symlink call so it was actually\nexecuting on the host. This fails in our package building environments\nbecause we do not have access to sudo.\n\nChange-Id: I6f2082c6880f313b841fc420bc362a52708b3358\nCloses-Bug: #1834347\n'}]",0,667656,831b1e7bbbf29c4e488d8650b60ac2ca329b2a3f,9,4,1,14985,,,0,"Fix minion config test

We were missing a mock for the ansible symlink call so it was actually
executing on the host. This fails in our package building environments
because we do not have access to sudo.

Change-Id: I6f2082c6880f313b841fc420bc362a52708b3358
Closes-Bug: #1834347
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/667656/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/undercloud/minion/test_config.py'],1,831b1e7bbbf29c4e488d8650b60ac2ca329b2a3f,bug/1834347," @mock.patch('tripleoclient.utils.ansible_symlink') mock_images_config, mock_isdir, mock_ans_symlink): @mock.patch('tripleoclient.utils.ansible_symlink') mock_images_config, mock_isdir, mock_exists, mock_ans_symlink):"," mock_images_config, mock_isdir): mock_images_config, mock_isdir, mock_exists):",5,2
openstack%2Fopenstack-ansible-os_trove~master~I779ba715d20d83b1efe4f07226a5eadd7e0a1870,openstack/openstack-ansible-os_trove,master,I779ba715d20d83b1efe4f07226a5eadd7e0a1870,Use keystone catalog and fix looking up and storing admin tenant id,MERGED,2019-06-25 08:31:41.000000000,2019-06-27 03:46:34.000000000,2019-06-27 03:46:34.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-25 08:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/a3dd0a5e0648f838a667ae2b73756c3e1c46a902', 'message': 'Use keystone catalog to retrieve service endpoints\n\nTrove is now able to properly use the service catalog [1].\n\n[1] https://review.opendev.org/#/c/574254/\n\nChange-Id: I779ba715d20d83b1efe4f07226a5eadd7e0a1870\n'}, {'number': 2, 'created': '2019-06-25 19:00:53.000000000', 'files': ['templates/trove-taskmanager.conf.j2', 'tasks/trove_service_network.yml', 'templates/trove.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/951924ab51f78f984cbfa5625ce1f3b708e9fd16', 'message': ""Use keystone catalog and fix looking up and storing admin tenant id\n\nTrove is now able to properly use the service catalog [1].\n\nWe have another[2] patch that this patch depends-on, which\ncauses us to have a circular dependency. As the change is minimal,\nshould be ok to squash them together to be able to fix that role.\n\nThe paragraph bellow contains the commit message of the patch that is\nbeing squashed.\n\nThe 'Get admin tenant id' task was passing invalid arguments to the\nos_project_facts module, and the 'Store admin tenant id' task was not\nusing the correct variable to retrieve the project id.\n\n[1] https://review.opendev.org/#/c/574254/\n[2] https://review.opendev.org/#/c/665458/\n\nChange-Id: I779ba715d20d83b1efe4f07226a5eadd7e0a1870\n""}]",0,667287,951924ab51f78f984cbfa5625ce1f3b708e9fd16,14,5,2,25023,,,0,"Use keystone catalog and fix looking up and storing admin tenant id

Trove is now able to properly use the service catalog [1].

We have another[2] patch that this patch depends-on, which
causes us to have a circular dependency. As the change is minimal,
should be ok to squash them together to be able to fix that role.

The paragraph bellow contains the commit message of the patch that is
being squashed.

The 'Get admin tenant id' task was passing invalid arguments to the
os_project_facts module, and the 'Store admin tenant id' task was not
using the correct variable to retrieve the project id.

[1] https://review.opendev.org/#/c/574254/
[2] https://review.opendev.org/#/c/665458/

Change-Id: I779ba715d20d83b1efe4f07226a5eadd7e0a1870
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/87/667287/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/trove-taskmanager.conf.j2', 'templates/trove.conf.j2', 'defaults/main.yml']",3,a3dd0a5e0648f838a667ae2b73756c3e1c46a902,,,"# By default assume the trove service network is an internal one # It would be good to use the catalog service to lookup these URLs based on the endpoint type # but currently the Trove code doesn't work properly when endpoint types are specified trove_nova_compute_url: ""{{ trove_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ nova_service_port }}/v2.1"" trove_cinder_url: ""{{ trove_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ cinder_service_port }}/v1"" trove_swift_url: ""{{ trove_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ swift_proxy_port }}/v1/AUTH_"" trove_neutron_url: ""{{ trove_service_internaluri_proto }}://{{ internal_lb_vip_address }}:{{ neutron_service_port }}/"" ",3,15
openstack%2Fzun-tempest-plugin~master~Ic5b29a42cbba665ae9f027e1618460190330bf23,openstack/zun-tempest-plugin,master,Ic5b29a42cbba665ae9f027e1618460190330bf23,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 12:44:05.000000000,2019-06-27 03:42:45.000000000,2019-06-27 03:42:45.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-20 12:44:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/7d4651cd75feb62935715780a18a69d90153cc64', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ic5b29a42cbba665ae9f027e1618460190330bf23\n'}]",0,666553,7d4651cd75feb62935715780a18a69d90153cc64,6,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ic5b29a42cbba665ae9f027e1618460190330bf23
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/53/666553/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7d4651cd75feb62935715780a18a69d90153cc64,,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,4,2
openstack%2Foctavia~master~I4103bcbaab65ed5d7683d35aaf04955e59ed2471,openstack/octavia,master,I4103bcbaab65ed5d7683d35aaf04955e59ed2471,Specify the linux-image-kvm kernel for ubuntu,MERGED,2019-06-18 05:01:28.000000000,2019-06-27 03:27:13.000000000,2019-06-27 03:27:13.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 05:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b3283d6c076c06f8c0abd7d954d6cca75cbf2fb', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch adds an element ""kernel-specifier"" that overrides the\nkernel package for a distrobution.\nIn the case of Ubuntu it selects the linux-image-kvm kernel.\n\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 2, 'created': '2019-06-18 17:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb69b0426f8b506ce7b354f57288fdfc8e8665b9', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the ubuntu-minimal-kvm element\nfrom diskimage-builder by default. It produces images that are\nabout 200MB smaller than ubuntu-minimal by using the\nlinux-image-kvm instead of the linux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 3, 'created': '2019-06-18 19:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d49d14f227d2052746465656b4c3795ac4ac78a1', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the ubuntu-minimal-kvm element\nfrom diskimage-builder by default. It produces images that are\nabout 200MB smaller than ubuntu-minimal by using the\nlinux-image-kvm instead of the linux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 4, 'created': '2019-06-19 21:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a50c831beb76d9b579c06aa188e732261239150e', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the linux-image-kvm kernel by default.\nIt produces images that are about 200MB smaller than ubuntu-minimal with\nlinux-image-generic by using the linux-image-kvm instead of the\nlinux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 5, 'created': '2019-06-19 22:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ce4d6106b55642501e34d7f87fb72e620fb02f1b', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the linux-image-kvm kernel by default.\nIt produces images that are about 200MB smaller than ubuntu-minimal with\nlinux-image-generic by using the linux-image-kvm instead of the\nlinux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 6, 'created': '2019-06-19 22:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f30c7f191fa69cf16d91f0b359aff29d4ed13546', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the linux-image-kvm kernel by default.\nIt produces images that are about 200MB smaller than ubuntu-minimal with\nlinux-image-generic by using the linux-image-kvm instead of the\nlinux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}, {'number': 7, 'created': '2019-06-26 23:32:12.000000000', 'files': ['releasenotes/notes/Use-Ubuntu-KVM-kernel-for-Amphora-a1e8af8bc7893011.yaml', 'diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd50ae5c0c4ffcf142cac5264fb7851a5fccbe1e', 'message': 'Specify the linux-image-kvm kernel for ubuntu\n\nThis patch switches to using the linux-image-kvm kernel by default.\nIt produces images that are about 200MB smaller than ubuntu-minimal with\nlinux-image-generic by using the linux-image-kvm instead of the\nlinux-image-generic kernel.\n\nDepends-On: https://review.opendev.org/666063\nChange-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471\n'}]",4,665861,cd50ae5c0c4ffcf142cac5264fb7851a5fccbe1e,31,4,7,11628,,,0,"Specify the linux-image-kvm kernel for ubuntu

This patch switches to using the linux-image-kvm kernel by default.
It produces images that are about 200MB smaller than ubuntu-minimal with
linux-image-generic by using the linux-image-kvm instead of the
linux-image-generic kernel.

Depends-On: https://review.opendev.org/666063
Change-Id: I4103bcbaab65ed5d7683d35aaf04955e59ed2471
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/665861/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/kernel-specifier/pkg-map', 'diskimage-create/diskimage-create.sh', 'elements/kernel-specifier/README.rst']",3,4b3283d6c076c06f8c0abd7d954d6cca75cbf2fb,,Specify a kernel for the Amphora image This element will override the kernel package to install a specific kernel in the element. ,,12,0
openstack%2Foctavia~stable%2Fqueens~Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8,openstack/octavia,stable/queens,Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8,Validate certificate content at API level,MERGED,2019-06-24 19:21:23.000000000,2019-06-27 03:03:57.000000000,2019-06-27 03:03:57.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-06-24 19:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e9e4e4f3dec41b30000789172850cb20f696306', 'message': ""Validate certificate content at API level\n\nStarting from Rocky, certificates are loaded still at API level when\nconverting objects to provider data models. The act of loading the\ncertificate provides validation as to its content. For example, it\nchecks if a value in the Common Name field is set. When the content is\npassed in on create and update actions via reference, it is checked at\nAPI level. If it's invalid, it fails right there and an error is\nreturned to the user.\n\nAltough, certificate content is not checked at API level in Queens.\nShould an invalid certificate be passed in, the API accepts but it will\nlater fail at provisioning -- the listener and loadbalancer go into\nERROR. The problem starts when the health manager runs the periodic\nupdate health check. It calculates the expected number of listeners and\nsees the listener in ERROR. In an attempt to self-heal it, an amphora\nfailover is triggered. As it runs the failover, it tries, again, to load\nup the invalid certificate. Amphora failover goes on in a loop.\n\nThis patch is a Queens-only patch.\n\nTask: 34261\nStory: 2005925\n\nChange-Id: Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8\n""}, {'number': 2, 'created': '2019-06-24 22:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2127c33b7be0ead62e5c757aac44aebefe415b10', 'message': ""Validate certificate content at API level\n\nStarting from Rocky, certificates are loaded still at API level when\nconverting objects to provider data models. The act of loading the\ncertificate provides validation as to its content. For example, it\nchecks if a value in the Common Name field is set. When the content is\npassed in on create and update actions via reference, it is checked at\nAPI level. If it's invalid, it fails right there and an error is\nreturned to the user.\n\nAlthough, certificate content is not checked at API level in Queens.\nShould an invalid certificate be passed in, the API accepts but it will\nlater fail at provisioning -- the listener and loadbalancer go into\nERROR. The problem starts when the health manager runs the periodic\nupdate health check. It calculates the expected number of listeners and\nsees the listener in ERROR. In an attempt to heal it, an amphora\nfailover is triggered. As it runs the failover, it tries, again, to load\nup the invalid certificate. Amphora failover goes on in a loop.\n\nThis patch is a Queens-only patch.\n\nTask: 34261\nStory: 2005925\n\nChange-Id: Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8\n""}, {'number': 3, 'created': '2019-06-24 22:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/59fee85e30c20b0dfa70ebc42a890c02c47d3082', 'message': ""Validate certificate content at API level\n\nStarting from Rocky, certificates are loaded still at API level when\nconverting objects to provider data models. The act of loading the\ncertificate provides validation as to its content. For example, it\nchecks if a value in the Common Name field is set. When the content is\npassed in on create and update actions via reference, it is checked at\nAPI level. If it's invalid, it fails right there and an error is\nreturned to the user.\n\nAltough, certificate content is not checked at API level in Queens.\nShould an invalid certificate be passed in, the API accepts but it will\nlater fail at provisioning -- the listener and loadbalancer go into\nERROR. The problem starts when the health manager runs the periodic\nupdate health check. It calculates the expected number of listeners and\nsees the listener in ERROR. In an attempt to self-heal it, an amphora\nfailover is triggered. As it runs the failover, it tries, again, to load\nup the invalid certificate. Amphora failover goes on in a loop.\n\nThis patch is a Queens-only patch.\n\nTask: 34261\nStory: 2005925\n\nChange-Id: Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8\n""}, {'number': 4, 'created': '2019-06-24 22:33:08.000000000', 'files': ['releasenotes/notes/fix-certificate-validation-d65df8ff16e7f985.yaml', 'octavia/common/tls_utils/cert_parser.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/26d8fde69fca888e90f7ea3292f3f1d34d7c002b', 'message': ""Validate certificate content at API level\n\nStarting from Rocky, certificates are loaded still at API level when\nconverting objects to provider data models. The act of loading the\ncertificate provides validation as to its content. For example, it\nchecks if a value in the Common Name field is set. When the content is\npassed in on create and update actions via reference, it is checked at\nAPI level. If it's invalid, it fails right there and an error is\nreturned to the user.\n\nAlthough, certificate content is not checked at API level in Queens.\nShould an invalid certificate be passed in, the API accepts but it will\nlater fail at provisioning -- the listener and loadbalancer go into\nERROR. The problem starts when the health manager runs the periodic\nupdate health check. It calculates the expected number of listeners and\nsees the listener in ERROR. In an attempt to heal it, an amphora\nfailover is triggered. As it runs the failover, it tries, again, to load\nup the invalid certificate. Amphora failover goes on in a loop.\n\nThis patch is a Queens-only patch.\n\nTask: 34261\nStory: 2005925\n\nChange-Id: Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8\n""}]",0,667200,26d8fde69fca888e90f7ea3292f3f1d34d7c002b,24,6,4,6469,,,0,"Validate certificate content at API level

Starting from Rocky, certificates are loaded still at API level when
converting objects to provider data models. The act of loading the
certificate provides validation as to its content. For example, it
checks if a value in the Common Name field is set. When the content is
passed in on create and update actions via reference, it is checked at
API level. If it's invalid, it fails right there and an error is
returned to the user.

Although, certificate content is not checked at API level in Queens.
Should an invalid certificate be passed in, the API accepts but it will
later fail at provisioning -- the listener and loadbalancer go into
ERROR. The problem starts when the health manager runs the periodic
update health check. It calculates the expected number of listeners and
sees the listener in ERROR. In an attempt to heal it, an amphora
failover is triggered. As it runs the failover, it tries, again, to load
up the invalid certificate. Amphora failover goes on in a loop.

This patch is a Queens-only patch.

Task: 34261
Story: 2005925

Change-Id: Ib0fb3db3b2d56345eeeda2014c15e35281bcfec8
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/667200/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/tls_utils/cert_parser.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py']",4,0e9e4e4f3dec41b30000789172850cb20f696306,story/2005925,"from octavia.common.tls_utils import cert_parser cert_parser.load_certificate_data( self.cert_manager, ref, context)"," self.cert_manager.get_cert(context, ref, check_only=True)",46,26
openstack%2Fzun-tempest-plugin~master~I071f18177d6a073334e7d4adbc0d0657e7ae6f01,openstack/zun-tempest-plugin,master,I071f18177d6a073334e7d4adbc0d0657e7ae6f01,[DNM] Test CI,ABANDONED,2019-06-26 02:01:21.000000000,2019-06-27 02:40:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-26 02:01:21.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/b59c5c8283288ad81c0a5d2659bd2dd749399aa3', 'message': '[DNM] Test CI\n\nChange-Id: I071f18177d6a073334e7d4adbc0d0657e7ae6f01\n'}]",0,667489,b59c5c8283288ad81c0a5d2659bd2dd749399aa3,3,1,1,11536,,,0,"[DNM] Test CI

Change-Id: I071f18177d6a073334e7d4adbc0d0657e7ae6f01
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/89/667489/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b59c5c8283288ad81c0a5d2659bd2dd749399aa3,,# Test,,1,0
openstack%2Fzun-tempest-plugin~master~I7528bc4b562e0701c40c7e8b482d5a50783abcdf,openstack/zun-tempest-plugin,master,I7528bc4b562e0701c40c7e8b482d5a50783abcdf,Disable SSL certificate validation,MERGED,2019-06-26 02:04:44.000000000,2019-06-27 02:25:14.000000000,2019-06-27 02:25:13.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 02:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/bf9b4c47a366ba6a492fee01439df57d68aa5039', 'message': '[WIP] Disable SSL certificate validation\n\nStarting from urllib3 1.25.x, it validate SSL certificate by default,\nwhich failed our CI.\n\nChange-Id: I7528bc4b562e0701c40c7e8b482d5a50783abcdf\n'}, {'number': 2, 'created': '2019-06-26 04:12:37.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/clients.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/d4387a34c7b67f190db227556b0ddf480011c6cf', 'message': 'Disable SSL certificate validation\n\nStarting from urllib3 1.25.x, it validate SSL certificate by default,\nwhich failed our CI.\n\nChange-Id: I7528bc4b562e0701c40c7e8b482d5a50783abcdf\n'}]",0,667491,d4387a34c7b67f190db227556b0ddf480011c6cf,10,2,2,11536,,,0,"Disable SSL certificate validation

Starting from urllib3 1.25.x, it validate SSL certificate by default,
which failed our CI.

Change-Id: I7528bc4b562e0701c40c7e8b482d5a50783abcdf
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/91/667491/2 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/clients.py'],1,bf9b4c47a366ba6a492fee01439df57d68aa5039,," self.auth_provider, 'image', CONF.identity.region, disable_ssl_certificate_validation=True)"," self.auth_provider, 'image', CONF.identity.region)",2,1
openstack%2Ftempest~master~I3a4119d261c1809d01c041000f66d7ae6eae4da5,openstack/tempest,master,I3a4119d261c1809d01c041000f66d7ae6eae4da5,Fix error message in RestClientException,ABANDONED,2019-06-26 08:32:23.000000000,2019-06-27 01:51:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-26 08:32:23.000000000', 'files': ['tempest/lib/exceptions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/35eee36d0cfd484b50dafe40e87fabe795365b24', 'message': 'Fix error message in RestClientException\n\nIn RestClientException, self.resp and self.resp_body are never used,\nso this is to rewrite the error message to include both resp and\nresp_body if not empty.\n\nChange-Id: I3a4119d261c1809d01c041000f66d7ae6eae4da5\n'}]",0,667549,35eee36d0cfd484b50dafe40e87fabe795365b24,3,1,1,20190,,,0,"Fix error message in RestClientException

In RestClientException, self.resp and self.resp_body are never used,
so this is to rewrite the error message to include both resp and
resp_body if not empty.

Change-Id: I3a4119d261c1809d01c041000f66d7ae6eae4da5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/667549/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/exceptions.py'],1,35eee36d0cfd484b50dafe40e87fabe795365b24,contenttype," resp = kwargs.get('resp', '') message = kwargs.get(""message"", resp_body or '') if message and resp: message = ""%s\n"" % message if resp: message = ""%s%s"" % (message, resp) "," if 'resp' in kwargs: self.resp = kwargs.get('resp') self.resp_body = resp_body message = kwargs.get(""message"", resp_body)",7,4
openstack%2Ftripleo-common~master~I9ccccbfee44fc7c1375dec7357ccad6cba909c16,openstack/tripleo-common,master,I9ccccbfee44fc7c1375dec7357ccad6cba909c16,Add template mode to tripleo-hieradata,MERGED,2019-06-13 16:40:57.000000000,2019-06-27 01:34:43.000000000,2019-06-27 01:34:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 16:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/abb9af55ca8e01641ee663123fe92642828d79d5', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 2, 'created': '2019-06-13 16:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d06f4ead834b1e7fcd3c74f6a8c241acaa8f5217', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 3, 'created': '2019-06-14 14:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae8a00d43a08bb48120f0fc92765f5b9a9af24cb', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 4, 'created': '2019-06-17 12:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c477eae7c090bef538312e88ddf65a330d7983b3', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 5, 'created': '2019-06-17 12:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/99b6a262d4e198e0ef6617aa1c80b85aa19da6a7', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 6, 'created': '2019-06-19 11:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d60e698860a745692405037fac6806c26fb0e452', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 7, 'created': '2019-06-19 13:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03df0edf4cbff9623473ffdb826a460deac34204', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 8, 'created': '2019-06-20 12:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/77f410f876a8e8d09bf439d71b19b257d3e05638', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 9, 'created': '2019-06-20 20:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b81c452abc12acd4f50b23203d387447d012e2a8', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 10, 'created': '2019-06-22 12:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e0010504cb5e4915817b94ede03cb643493842c5', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}, {'number': 11, 'created': '2019-06-24 22:05:06.000000000', 'files': ['roles/tripleo-hieradata/templates/bootstrap_node.j2', 'roles/tripleo-hieradata/test-playbook.yaml', 'roles/tripleo-hieradata/templates/net_ip_map.j2', 'roles/tripleo-hieradata/defaults/main.yaml', 'roles/tripleo-hieradata/tasks/hieradata_vars.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c94ee2bbfe657c5dc432af512c8da40c97411896', 'message': 'Add template mode to tripleo-hieradata\n\nAdd a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role\nthat will create the hieradata files from jinja2 templates that are\nincluded with the role.\n\nThe templates will be rendered based off of the values of\nhost_vars/group_vars/inventory_vars and variable files read out of Heat.\n\nThis functionality is a start to migrating the Hiera generation out of\nHeat into pure Ansible.\n\nChange-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16\n'}]",0,665172,c94ee2bbfe657c5dc432af512c8da40c97411896,44,6,11,7144,,,0,"Add template mode to tripleo-hieradata

Add a new tasks file (hieradata_vars.yaml) to the tripleo-hieradata role
that will create the hieradata files from jinja2 templates that are
included with the role.

The templates will be rendered based off of the values of
host_vars/group_vars/inventory_vars and variable files read out of Heat.

This functionality is a start to migrating the Hiera generation out of
Heat into pure Ansible.

Change-Id: I9ccccbfee44fc7c1375dec7357ccad6cba909c16
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/665172/9 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-hieradata/templates/bootstrap_node.j2', 'roles/tripleo-hieradata/test-playbook.yaml', 'roles/tripleo-hieradata/templates/all_nodes.j2', 'roles/tripleo-hieradata/tasks/hieradata_vars.yaml']",4,abb9af55ca8e01641ee663123fe92642828d79d5,bp/reduce-deployment-resources,- name: Render all_nodes hieradata from template template: src: templates/{{ item }}.j2 dest: /etc/puppet/hieradata/{{ item }}.json loop: - all_nodes - bootstrap_node ,,56,0
openstack%2Ftripleo-common~master~Ie94905120a797d95becc21cc33d63816910b0638,openstack/tripleo-common,master,Ie94905120a797d95becc21cc33d63816910b0638,Transfer all images in a manifest list,MERGED,2019-05-30 21:22:57.000000000,2019-06-27 01:34:42.000000000,2019-06-27 01:34:42.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-30 21:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e2e9a8aa0df473719ba4ec91be60c3686fed98d', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n'}, {'number': 2, 'created': '2019-05-31 05:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cdc85df91a9cd29818c583f714a3ab730cf6a300', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n'}, {'number': 3, 'created': '2019-06-03 23:34:49.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c58d7cda34dcfb86ea7a5ff193ca27a4a9798901', 'message': 'Transfer all images in a manifest list\n\nWhen multi_arch=True, request a manifest list then transfer all images\nreferenced in that list.\n\nChange-Id: Ie94905120a797d95becc21cc33d63816910b0638\nBlueprint: multiarch-support\n'}]",0,662337,c58d7cda34dcfb86ea7a5ff193ca27a4a9798901,44,6,3,4571,,,0,"Transfer all images in a manifest list

When multi_arch=True, request a manifest list then transfer all images
referenced in that list.

Change-Id: Ie94905120a797d95becc21cc33d63816910b0638
Blueprint: multiarch-support
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/662337/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,9e2e9a8aa0df473719ba4ec91be60c3686fed98d,bp/multiarch-support," MEDIA_MANIFEST_V2_LIST, 'application/vnd.docker.distribution.manifest.list.v2+json', if task.modify_role and task.multi_arch: raise ImageUploaderException( 'Cannot run a modify role on multi-arch image %s' % task.image_name ) source_layers = [] manifests_str = [] self._collect_manifests_layers( t.source_image_url, source_session, manifests_str, source_layers, t.multi_arch source_manifests=manifests_str, target_session=target_session, source_layers=source_layers def _fetch_manifest(cls, url, session, multi_arch): if multi_arch: manifest_headers = {'Accept': MEDIA_MANIFEST_V2_LIST} else: manifest_headers = {'Accept': MEDIA_MANIFEST_V2} def _collect_manifests_layers(cls, image_url, session, manifests_str, layers, multi_arch): manifest_str = cls._fetch_manifest( image_url, session=session, multi_arch=multi_arch ) manifests_str.append(manifest_str) manifest = json.loads(manifest_str) if manifest.get('schemaVersion', 2) == 1: layers.extend(reversed([l['blobSum'] for l in manifest['fsLayers']])) elif manifest.get('mediaType') == MEDIA_MANIFEST_V2: layers.extend(l['digest'] for l in manifest['layers']) elif manifest.get('mediaType') == MEDIA_MANIFEST_V2_LIST: image, tag = cls._image_tag_from_url(image_url) for man in manifest.get('manifests', []): # replace image tag with the manifest hash in the list man_url = cls._build_url( image_url, CALL_MANIFEST % { 'image': image, 'tag': man['digest'] } ) cls._collect_manifests_layers( man_url, session, manifests_str, layers, multi_arch=False ) source_manifests, target_session=None, source_layers=None): if source_layers: for layer in source_layers: copy_jobs.append(p.submit( cls._copy_layer_registry_to_registry, source_url, target_url, layer=layer, source_session=source_session, target_session=target_session )) for source_manifest in source_manifests: manifest = json.loads(source_manifest) config_str = None if manifest.get('mediaType') == MEDIA_MANIFEST_V2: config_digest = manifest['config']['digest'] LOG.debug('Uploading config with digest: %s' % config_digest) parts['digest'] = config_digest source_config_url = cls._build_url( source_url, CALL_BLOB % parts) r = source_session.get(source_config_url, timeout=30) r.raise_for_status() config_str = r.text manifest['config']['size'] = len(config_str) manifest['config']['mediaType'] = MEDIA_CONFIG cls._copy_manifest_config_to_registry( target_url=target_url, manifest_str=source_manifest, config_str=config_str, target_session=target_session ) if manifest.get('schemaVersion', 2) == 1: else: manifest_type = manifest['mediaType'] manifest_str = json.dumps(manifest, indent=3) manifest['config']['size'] = len(config_str) manifest['config']['mediaType'] = MEDIA_CONFIG"," manifest_str = self._fetch_manifest( t.source_image_url, session=source_session manifest = json.loads(manifest_str) if manifest.get('schemaVersion', 2) == 1: source_layers = list(reversed([l['blobSum'] for l in manifest['fsLayers']])) else: source_layers = [l['digest'] for l in manifest['layers']] source_manifest=manifest_str, target_session=target_session def _fetch_manifest(cls, url, session): manifest_headers = {'Accept': MEDIA_MANIFEST_V2} source_manifest, target_session=None): manifest = json.loads(source_manifest) v1manifest = manifest.get('schemaVersion', 2) == 1 # config = json.loads(manifest['history'][0]['v1Compatibility']) if v1manifest: layers = list(reversed([{'digest': l['blobSum']} for l in manifest['fsLayers']])) config_str = None else: layers = manifest['layers'] config_digest = manifest['config']['digest'] LOG.debug('Uploading config with digest: %s' % config_digest) parts['digest'] = config_digest source_config_url = cls._build_url( source_url, CALL_BLOB % parts) r = source_session.get(source_config_url, timeout=30) r.raise_for_status() config_str = r.text for layer in layers: copy_jobs.append(p.submit( cls._copy_layer_registry_to_registry, source_url, target_url, layer=layer, source_session=source_session, target_session=target_session )) cls._copy_manifest_config_to_registry( target_url=target_url, manifest_str=source_manifest, config_str=config_str, target_session=target_session ) if config_str is not None: manifest['config']['size'] = len(config_str) manifest['config']['mediaType'] = MEDIA_CONFIG manifest['mediaType'] = MEDIA_MANIFEST_V2 manifest_type = MEDIA_MANIFEST_V2 manifest_str = json.dumps(manifest, indent=3) else:",266,67
openstack%2Fmanila~master~Ia85736693d7f536766e0e0980f88805c61aa8325,openstack/manila,master,Ia85736693d7f536766e0e0980f88805c61aa8325,Adding documentation for User Messages in Manila Documentation,MERGED,2019-03-20 21:14:05.000000000,2019-06-27 01:11:34.000000000,2019-06-26 12:33:16.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15439}, {'_account_id': 16643}, {'_account_id': 18058}, {'_account_id': 20695}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 26968}, {'_account_id': 29958}]","[{'number': 1, 'created': '2019-03-20 21:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8bcb13f4ec7dc395fdd6affac14dc52460b09728', 'message': 'Adding documentation for user messages in Manila\n\n-Reference to the CLI usage\n\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\nPartial-Bug: #1796986\n'}, {'number': 2, 'created': '2019-03-20 21:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4162f92fdc3e50da359475b2b42f8a395ab36907', 'message': 'Adding documentation for user messages in Manila\n\n-Reference to the CLI usage\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 3, 'created': '2019-03-21 03:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2574345930b7ddd2bb1ce473ff24f27c8da5cafc', 'message': 'Adding documentation for user messages in Manila\n\n-Reference to the CLI usage\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 4, 'created': '2019-03-21 16:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0e64ba61353605efa16bfbb21a9731858ec1a623', 'message': 'Adding documentation for user messages in Manila\n\n-Reference to the CLI usage\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 5, 'created': '2019-03-22 03:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bde4bccb98e9966826bc5787e6b63cef7365ca46', 'message': 'Adding documentation for user messages in Manila Documentation\n\n-Reference to the user messages CLI usage at\nhttps://docs.openstack.org/manila/latest/cli/manila.html\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 6, 'created': '2019-03-22 15:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6b59074f415793c13b25b928841d15cefeef4506', 'message': 'Adding documentation for user messages in Manila Documentation\n\n-Reference to the user messages CLI usage at\nhttps://docs.openstack.org/manila/latest/cli/manila.html\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 7, 'created': '2019-03-22 18:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6f02643669b3a8886323414928969b00c158e7fd', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at\nhttps://docs.openstack.org/manila/latest/cli/manila.html\n\nPartial-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 8, 'created': '2019-03-25 16:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d78f03e88f6a8910cc46151dcff7a31418267609', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 9, 'created': '2019-03-25 16:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4f7106ce0b88354003a5baadb881f0c8fe38cbce', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 10, 'created': '2019-03-25 17:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4a229953ce190d61001a64fddf8ef30e1a681dfe', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 11, 'created': '2019-03-25 18:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/896301d5a6bdf909c04fd574316ad5d6b8e43478', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 12, 'created': '2019-03-25 18:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ac4c1d643b75be5dbf55a9dcbe00f18f466e1e06', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 13, 'created': '2019-03-25 18:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0f3cf2341a002847ceda8e695482ad0a5162e58f', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 14, 'created': '2019-04-11 22:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/590084359b3432fb19fb01b41e1b130bb3554f3f', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 15, 'created': '2019-04-11 23:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0ef941ac69270b439a03bda8cf6c8447ab775598', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 16, 'created': '2019-04-12 17:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ff59af501c58425e51077513cda6b19f158d2302', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 17, 'created': '2019-04-20 20:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0122bfaf701d0f7f4a57f5d3d5e820be19bdd453', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 18, 'created': '2019-05-04 12:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/250accc77529bcabf89c15eac0c4d828f28968cb', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 19, 'created': '2019-05-10 16:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ee272bbfbc49b8085dfcc038b0f020f955abf273', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 20, 'created': '2019-06-11 20:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7b697e632eb2ac01974acb067f9ee2a198d92a21', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 21, 'created': '2019-06-11 20:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3e2b90db0dcf2074d90319b4b8f6d1bbac9786c0', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 22, 'created': '2019-06-12 16:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2556bf7b321781027c419c82fb54d98a0670fcf0', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 23, 'created': '2019-06-14 17:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52b5c0d67bb5a34940746d86a012d232b2d4ce1b', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 24, 'created': '2019-06-24 19:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/874c58f4d25626146dbf64f865c3f80375e52c98', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}, {'number': 25, 'created': '2019-06-24 20:10:46.000000000', 'files': ['doc/source/cli/manila.rst', 'doc/source/user/index.rst', 'doc/source/user/troubleshooting-asynchronous-failures.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/84e7f4e5426fcee5941b8e4cb6d53040be8cd0ee', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n'}]",40,645010,84e7f4e5426fcee5941b8e4cb6d53040be8cd0ee,182,22,25,29958,,,0,"Adding documentation for User Messages in Manila Documentation

-Reference to the User Messages CLI usage at:
https://docs.openstack.org/manila/latest/cli/manila.html
https://docs.openstack.org/manila/latest/user/create-and-manage-shares.

Closes-Bug: #1796986
Change-Id: Ia85736693d7f536766e0e0980f88805c61aa8325
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/645010/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/manila.rst'],1,8bcb13f4ec7dc395fdd6affac14dc52460b09728,bug/1796986,"``message-delete`` Remove one or more messages. ``message-list`` Lists all messages. ``message-show`` Show details about a message. Optional share type. Use of optional volume type is.. _manila_message-delete: manila message-delete ---------------------- .. code-block:: console usage: manila message-delete <message> [<message> ...] Remove one or more messages. **Positional arguments:** `` <message>`` ID of the message(s). .. _manila message-list: manila message-list ---------------------- .. code-block:: console usage: manila message-list [--resource_id <resource_id>] [--resource_type <type>] [--action_id <id>] [--detail_id <id>] [--request_id <request_id>] [--level <level>] [--limit <limit>] [--offset <offset>] [--sort-key <sort_key>] [--sort-dir <sort_dir>] [--columns <columns>] .. _manila message-show: message-show ---------------------- .. code-block:: console usage: manila message-show <message> Show details about a message. **Positional arguments:** ``<message>`` ID of the message. .. _manila message-list: manila message-list ---------------------- .. code-block:: console usage: manila message-list [--resource_id <resource_id>] [--resource_type <type>] [--action_id <id>] [--detail_id <id>] [--request_id <request_id>] [--level <level>] [--limit <limit>] [--offset <offset>] [--sort-key <sort_key>] [--sort-dir <sort_dir>] [--columns <columns>] Lists all messages. **Optional arguments:** ``--resource_id <resource_id>, --resource-id <resource_id>, --resource <resource_id>`` Filters results by a resource uuid. Default=None. ``--resource_type <type>, --resource-type <type>`` Filters results by a resource type. Default=None. Example: ""manila message-list --resource_type share"" ``--action_id <id>, --action-id <id>, --action <id>`` Filters results by action id. Default=None. ``--detail_id <id>, --detail-id <id>, --detail <id> Filters results by detail id. Default=None. ``--request_id <request_id>, --request-id <request_id>, --request <request_id>`` Filters results by request id. Default=None. ``--level <level>, --message_level <level>, --message-level <level>`` Filters results by the message level. Default=None. Example: ""manila message-list --level ERROR"". ``--limit <limit>`` Maximum number of messages to return. (Default=None) ``--offset <offset>`` Start position of message listing. ``--sort-key <sort_key>, --sort_key <sort_key>`` Key to be sorted, available keys are ('id', 'project_id', 'request_id', 'resource_type', 'action_id', 'detail_id', 'resource_id', 'message_level', 'expires_at', 'request_id', 'created_at'). Default=desc. ``--sort-dir <sort_dir>, --sort_dir <sort_dir>`` Sort direction, available values are ('asc', 'desc'). OPTIONAL: Default=None. ``--columns <columns>`` Comma separated list of columns to be displayed example --columns ""resource_id,user_message"". ", Optional share type. Use of optional volume type is,106,1
openstack%2Fopenstack-ansible~stable%2Fstein~I7351dad983e2312fda82508ee7b688e3e5b4cd7b,openstack/openstack-ansible,stable/stein,I7351dad983e2312fda82508ee7b688e3e5b4cd7b,Bootstrap host using stein RDO mirror in CI,MERGED,2019-06-13 18:42:45.000000000,2019-06-27 00:50:22.000000000,2019-06-27 00:50:22.000000000,"[{'_account_id': 1004}, {'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-13 18:42:45.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48f2f68dc28652c7f9bcc758cb718378ae6d0076', 'message': 'Bootstrap host using stein RDO mirror in CI\n\nChange-Id: I7351dad983e2312fda82508ee7b688e3e5b4cd7b\n'}]",0,665209,48f2f68dc28652c7f9bcc758cb718378ae6d0076,13,5,1,14805,,,0,"Bootstrap host using stein RDO mirror in CI

Change-Id: I7351dad983e2312fda82508ee7b688e3e5b4cd7b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/09/665209/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,48f2f68dc28652c7f9bcc758cb718378ae6d0076,rdo-stable-branch, export DLRN_BASE=${DLRN_BASE:-centos7-stein/puppet-passed-ci}, export DLRN_BASE=${DLRN_BASE:-centos7-master/puppet-passed-ci},1,1
openstack%2Fopenstack-ansible-galera_server~master~Ia0985c03d51c3bfe06b98ae73a3533c3402453e3,openstack/openstack-ansible-galera_server,master,Ia0985c03d51c3bfe06b98ae73a3533c3402453e3,Fix galera_server installation for openSUSE Leap 15.1,MERGED,2019-06-19 12:12:32.000000000,2019-06-26 23:42:43.000000000,2019-06-26 23:42:43.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-19 12:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/996feeed372ce6c32e8c74a3df509199397268bc', 'message': 'Fix galera_server installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: Ia0985c03d51c3bfe06b98ae73a3533c3402453e3\n'}, {'number': 2, 'created': '2019-06-25 09:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7aa3e59c2ec98332eb6953e06e6858a290100a38', 'message': 'Fix galera_server installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nChange-Id: Ia0985c03d51c3bfe06b98ae73a3533c3402453e3\n'}, {'number': 3, 'created': '2019-06-26 17:00:28.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/5965bf6e5021e71442e2abb8c7ff52a868259c52', 'message': 'Fix galera_server installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nChange-Id: Ia0985c03d51c3bfe06b98ae73a3533c3402453e3\n'}]",0,666272,5965bf6e5021e71442e2abb8c7ff52a868259c52,12,4,3,6593,,,0,"Fix galera_server installation for openSUSE Leap 15.1

The MariaDB repositories are offering a download repo under
the leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap
42.x and leap 15.x versions, respectively. There isn't a specific
build for openSUSE Leap 15.1, so the previous logic selected
a repo url of opensuse-151 which does not exist.

Change-Id: Ia0985c03d51c3bfe06b98ae73a3533c3402453e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/72/666272/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,996feeed372ce6c32e8c74a3df509199397268bc,,"_galera_opensuse_dir: ""{{ ansible_distribution_major_version }}""","_galera_opensuse_dir: ""{{ (ansible_distribution_major_version == '15') | ternary(ansible_distribution_version | regex_replace('\\.', ''), ansible_distribution_major_version) }}""",1,1
openstack%2Fopenstack-ansible-galera_server~master~I190e4576f75b7a56944a7b127540f0ce81eb05b0,openstack/openstack-ansible-galera_server,master,I190e4576f75b7a56944a7b127540f0ce81eb05b0,Remove xenial-ssl,MERGED,2019-06-26 17:00:28.000000000,2019-06-26 23:42:42.000000000,2019-06-26 23:42:42.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-26 17:00:28.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/00eef359e290258f54a4b32fa0c73e7d42425e7a', 'message': 'Remove xenial-ssl\n\nHas been failing for weeks, bionic is still passing.\n\nChange-Id: I190e4576f75b7a56944a7b127540f0ce81eb05b0\n'}]",0,667682,00eef359e290258f54a4b32fa0c73e7d42425e7a,7,3,1,6593,,,0,"Remove xenial-ssl

Has been failing for weeks, bionic is still passing.

Change-Id: I190e4576f75b7a56944a7b127540f0ce81eb05b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/82/667682/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,00eef359e290258f54a4b32fa0c73e7d42425e7a,,, - job: name: openstack-ansible-functional-ubuntu-xenial-ssl parent: openstack-ansible-functional-ubuntu-xenial vars: tox_env: ssl,0,8
openstack%2Foctavia-tempest-plugin~master~Ib5f55a8885e8f5d39af9f464b2bb71d4bde599f0,openstack/octavia-tempest-plugin,master,Ib5f55a8885e8f5d39af9f464b2bb71d4bde599f0,Fix quoting in zuul for tempest plugins,MERGED,2019-06-26 18:15:23.000000000,2019-06-26 23:31:31.000000000,2019-06-26 23:31:31.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 18:15:23.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b6dc9d1acb113a6e5c3f9d2f9c296c959878c241', 'message': 'Fix quoting in zuul for tempest plugins\n\nSomething has changed and the quoting used in the zuul jobs\nconfiguration no longer works[1]. This patch removes the excess\nquoting.\n\n[1] http://logs.openstack.org/61/665861/6/check/ \\\n    octavia-v2-dsvm-noop-api/dac4dba/job-output.txt.gz \\\n    #_2019-06-26_14_13_23_428457\n\nChange-Id: Ib5f55a8885e8f5d39af9f464b2bb71d4bde599f0\n'}]",0,667700,b6dc9d1acb113a6e5c3f9d2f9c296c959878c241,7,3,1,11628,,,0,"Fix quoting in zuul for tempest plugins

Something has changed and the quoting used in the zuul jobs
configuration no longer works[1]. This patch removes the excess
quoting.

[1] http://logs.openstack.org/61/665861/6/check/ \
    octavia-v2-dsvm-noop-api/dac4dba/job-output.txt.gz \
    #_2019-06-26_14_13_23_428457

Change-Id: Ib5f55a8885e8f5d39af9f464b2bb71d4bde599f0
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/00/667700/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,b6dc9d1acb113a6e5c3f9d2f9c296c959878c241,, TEMPEST_PLUGINS: /opt/stack/octavia-tempest-plugin TEMPEST_PLUGINS: /opt/stack/octavia-tempest-plugin," TEMPEST_PLUGINS: ""'/opt/stack/octavia-tempest-plugin'"" TEMPEST_PLUGINS: ""'/opt/stack/octavia-tempest-plugin'""",2,2
openstack%2Fkolla~master~I737f80566dd263ed291e215968ec72a95ad41a5f,openstack/kolla,master,I737f80566dd263ed291e215968ec72a95ad41a5f,Speed up builds of horizon slowed down by recent upstream change,MERGED,2019-06-24 19:39:13.000000000,2019-06-26 23:21:29.000000000,2019-06-26 23:21:28.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-24 19:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d1011120e03bfd5130c0e8918cf88d9b6165d718', 'message': 'Speed up source builds for horizon\n\nSource builds of horizon needlessly ran many compilemessages\niterations for core horizon parts because of using horizon\nmanage.py which referenced openstack_dashboard.settings\nThis patch switches to django-admin for source builds.\n\nDue to manage.py not being run, the ""static"" directory\nmust be created here by us to prevent later breakage.\n\nChange-Id: I737f80566dd263ed291e215968ec72a95ad41a5f\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-24 19:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/24c720fe7fffe5636e5f5cc06d9f59dd3eec2d8e', 'message': 'Speed up source builds for horizon\n\nSource builds of horizon needlessly ran many compilemessages\niterations for core horizon parts because of using horizon\nmanage.py which referenced openstack_dashboard.settings\nIt caused CentOS builds to take a long time due to their\nslow gettext implementation which in turn caused failed jobs\nin CI.\n\nThis patch switches to django-admin for source builds.\n\nDue to manage.py not being run, the ""static"" directory\nmust be created here by us to prevent later breakage.\n\nChange-Id: I737f80566dd263ed291e215968ec72a95ad41a5f\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-26 17:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44ddf2ff0e3db99659563bfbc3b5571149476ff5', 'message': ""Speed up builds for horizon slowed down by recent upstream change\n\nSource builds of horizon needlessly ran many compilemessages iterations\nfor core horizon parts because of using horizon's manage.py in a loop.\nThe behavior was caused by recent upstream change ([1]).\n\nIt caused CentOS source builds to take too long time and time out in CI.\n\nThis patch switches to using django-admin.\n\n[1] https://opendev.org/openstack/horizon/commit/4e911e2889ebe7f0a577a0323649dceb9cef363c\n\nChange-Id: I737f80566dd263ed291e215968ec72a95ad41a5f\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 4, 'created': '2019-06-26 17:45:24.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9591bdec9fe996b5072c2dea03313e5414be67d', 'message': ""Speed up builds of horizon slowed down by recent upstream change\n\nBuilds of horizon needlessly ran many compilemessages iterations for\ncore horizon parts because of using horizon's manage.py in a loop.\nThe behavior was caused by recent upstream change ([1]).\n\nIt caused CentOS source builds to take too long time and time out in CI.\n\nThis patch switches to using django-admin.\n\n[1] https://opendev.org/openstack/horizon/commit/4e911e2889ebe7f0a577a0323649dceb9cef363c\n\nChange-Id: I737f80566dd263ed291e215968ec72a95ad41a5f\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n""}]",0,667204,b9591bdec9fe996b5072c2dea03313e5414be67d,24,7,4,30491,,,0,"Speed up builds of horizon slowed down by recent upstream change

Builds of horizon needlessly ran many compilemessages iterations for
core horizon parts because of using horizon's manage.py in a loop.
The behavior was caused by recent upstream change ([1]).

It caused CentOS source builds to take too long time and time out in CI.

This patch switches to using django-admin.

[1] https://opendev.org/openstack/horizon/commit/4e911e2889ebe7f0a577a0323649dceb9cef363c

Change-Id: I737f80566dd263ed291e215968ec72a95ad41a5f
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/667204/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,d1011120e03bfd5130c0e8918cf88d9b6165d718,speed-up-source-builds, (cd ${locale%/*} && /var/lib/kolla/venv/bin/django-admin compilemessages) \ && mkdir -p /var/lib/kolla/venv/lib/python{{distro_python_version}}/site-packages/static \, (cd ${locale%/*} && /var/lib/kolla/venv/bin/python /var/lib/kolla/venv/bin/manage.py compilemessages) \,2,1
openstack%2Fpython-dracclient~stable%2Fstein~Iedd3179b8b2b6e3815709cc1acfd6a3059e42399,openstack/python-dracclient,stable/stein,Iedd3179b8b2b6e3815709cc1acfd6a3059e42399,Consider a BOSS card a RAID controller,MERGED,2019-04-23 18:37:47.000000000,2019-06-26 23:05:49.000000000,2019-06-26 23:05:49.000000000,"[{'_account_id': 8068}, {'_account_id': 10379}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23253}, {'_account_id': 23847}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-04-23 18:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/7e69c8b82a3331407ab9ec771fa99c460d8e2142', 'message': 'Consider a BOSS card a RAID controller\n\nThis fixes the is_raid_controller method so that it returns true\nfor a BOSS controller in addition to normal RAID controllers.\n\nChange-Id: Iedd3179b8b2b6e3815709cc1acfd6a3059e42399\n(cherry picked from commit caff41164f361ad69dc08979882fba47cc3e7bda)\n(cherry picked from commit 998acc1604780619fa7d15479fd386f1e20ba449)\n'}, {'number': 2, 'created': '2019-04-23 18:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/1c173e930b4ebb65b0f6c774911b089a50264595', 'message': 'Consider a BOSS card a RAID controller\n\nThis fixes the is_raid_controller method so that it returns true\nfor a BOSS controller in addition to normal RAID controllers.\n\nChange-Id: Iedd3179b8b2b6e3815709cc1acfd6a3059e42399\n(cherry picked from commit caff41164f361ad69dc08979882fba47cc3e7bda)\n'}, {'number': 3, 'created': '2019-05-20 21:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/657639d4f36147f557febdcdc2aaf74385063748', 'message': 'Consider a BOSS card a RAID controller\n\nThis fixes the is_raid_controller method so that it returns true\nfor a BOSS controller in addition to normal RAID controllers.\n\nChange-Id: Iedd3179b8b2b6e3815709cc1acfd6a3059e42399\n'}, {'number': 4, 'created': '2019-06-17 20:52:45.000000000', 'files': ['dracclient/tests/test_raid.py', 'dracclient/client.py', 'dracclient/resources/raid.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/793140c9a9c5fe856c0696e6e12d9fa71fbe4841', 'message': 'Consider a BOSS card a RAID controller\n\nThis fixes the is_raid_controller method so that it returns true\nfor a BOSS controller in addition to normal RAID controllers.\n\nChange-Id: Iedd3179b8b2b6e3815709cc1acfd6a3059e42399\n(cherry picked from commit caff41164f361ad69dc08979882fba47cc3e7bda)\n'}]",0,655230,793140c9a9c5fe856c0696e6e12d9fa71fbe4841,18,7,4,10250,,,0,"Consider a BOSS card a RAID controller

This fixes the is_raid_controller method so that it returns true
for a BOSS controller in addition to normal RAID controllers.

Change-Id: Iedd3179b8b2b6e3815709cc1acfd6a3059e42399
(cherry picked from commit caff41164f361ad69dc08979882fba47cc3e7bda)
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/30/655230/4 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_raid.py', 'dracclient/client.py', 'dracclient/resources/raid.py']",3,7e69c8b82a3331407ab9ec771fa99c460d8e2142,boss_is_a_raid_ctrlr," def is_raid_controller(self, raid_controller_fqdd, raid_controllers=None): :param raid_controllers: A list of RAIDControllers used to check for the presence of BOSS cards. If None, the iDRAC will be queried for the list of controllers. return raid_controller_fqdd.startswith('RAID.') or \ self.is_boss_controller(raid_controller_fqdd, raid_controllers) all_controllers = self.list_raid_controllers() if self.is_raid_controller(physical_d.controller, all_controllers):"," def is_raid_controller(self, raid_controller_fqdd): return raid_controller_fqdd.startswith('RAID.') if (self.is_raid_controller(physical_d.controller) or self.is_boss_controller(physical_d.controller)):",42,8
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,stable/stein,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-25 10:52:12.000000000,2019-06-26 23:03:08.000000000,2019-06-26 23:03:08.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 29222}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-25 10:52:12.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eaabaf368a8fa58eba892ba171c2e07b8e26f7d', 'message': 'Fix ipaclient script\n\nThe parameters for no_ntp_setup, ipa_domain and makehomedir\nneed to be set to whatever is coming in from heat.\n\nChange-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556\n(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)\n'}]",0,667324,1eaabaf368a8fa58eba892ba171c2e07b8e26f7d,13,9,1,14250,,,0,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
(cherry picked from commit 1a12568b7317fba5b2ea46694c2536b0cdf5f33b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/667324/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,1eaabaf368a8fa58eba892ba171c2e07b8e26f7d,fix_ipaclient_service-stable/stein, makehomedir={{ makehomedir }} idm_no_ntp={{ idm_no_ntp }} idm_domain={{ idm_domain }} ,,4,0
openstack%2Ftripleo-ci~master~If75a3e49a9d570e744063ea35ea41919261ad876,openstack/tripleo-ci,master,If75a3e49a9d570e744063ea35ea41919261ad876,Bumped and hardened linting,MERGED,2019-02-15 09:21:02.000000000,2019-06-26 23:03:05.000000000,2019-06-26 23:03:05.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 27898}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-15 09:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e6634ac3149716725bde3721f0d033ffba9d151', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}, {'number': 2, 'created': '2019-03-08 12:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/27b11e89dc6df6f27cfadbba78fb8347bbaf00dd', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}, {'number': 3, 'created': '2019-03-08 16:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cedee4e2ce854080673f7d5f94c8c8f1b3f524b5', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nAssure the `pre-commit run -a` is always run on all files instead\nof old behavior which allowed linting to be broken when merging.\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}, {'number': 4, 'created': '2019-03-14 16:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a3c627068b672e492313bf4fca1f98030ad5f1b2', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nAssure the `pre-commit run -a` is always run on all files instead\nof old behavior which allowed linting to be broken when merging.\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}, {'number': 5, 'created': '2019-04-03 13:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/371d2a296263e341513c7da1df975490f4109abb', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nAssure the `pre-commit run -a` is always run on all files instead\nof old behavior which allowed linting to be broken when merging.\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}, {'number': 6, 'created': '2019-06-26 11:32:32.000000000', 'files': ['playbooks/tripleo-buildimage/run.yaml', 'playbooks/tripleo-buildimage/run-v3.yaml', 'roles/tripleo-repos/tasks/main.yml', 'playbooks/tripleo-buildcontainers/pre.yaml', '.ansible-lint', '.pre-commit-config.yaml', 'playbooks/tripleo-ci/post.yaml', 'roles/tripleo-repos/meta/main.yml', 'zuul.d/standalone-jobs.yaml', 'playbooks/openstack-zuul-jobs/legacy/pre.yaml', 'playbooks/tripleo-ci/run.yaml', 'roles/ceph-loop-device/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ce78d3a18f59045f10638690156e0399a8de4ed', 'message': 'Bumped and hardened linting\n\n- Fixes one bashate problem\n- Updates linters\n- Addressed most of the skip_list exclusions and removed them\n\nAssure the `pre-commit run -a` is always run on all files instead\nof old behavior which allowed linting to be broken when merging.\n\nBumping operation is mostly automated, we just need to run:\n`pre-commit autoupdate` from time to time and fix eventual issues.\n\nChange-Id: If75a3e49a9d570e744063ea35ea41919261ad876\n'}]",12,637151,8ce78d3a18f59045f10638690156e0399a8de4ed,33,11,6,24162,,,0,"Bumped and hardened linting

- Fixes one bashate problem
- Updates linters
- Addressed most of the skip_list exclusions and removed them

Assure the `pre-commit run -a` is always run on all files instead
of old behavior which allowed linting to be broken when merging.

Bumping operation is mostly automated, we just need to run:
`pre-commit autoupdate` from time to time and fix eventual issues.

Change-Id: If75a3e49a9d570e744063ea35ea41919261ad876
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/637151/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/templates/toci_gate_test.sh.j2', 'playbooks/tripleo-buildimage/run.yaml', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildimage/run-v3.yaml', 'roles/tripleo-repos/tasks/main.yml', 'playbooks/tripleo-buildcontainers/pre.yaml', '.ansible-lint', '.pre-commit-config.yaml', 'playbooks/tripleo-ci/post.yaml', 'roles/tripleo-repos/meta/main.yml', 'playbooks/tripleo-buildcontainers/post.yaml', 'playbooks/openstack-zuul-jobs/legacy/pre.yaml', 'playbooks/tripleo-ci/run.yaml', 'roles/ceph-loop-device/tasks/main.yml']",14,6e6634ac3149716725bde3721f0d033ffba9d151,oooq/lint, changed_when: true,,55,31
openstack%2Ftripleo-common~master~I5da77a5fe5aa154181efff12fac1f681c1a96f1a,openstack/tripleo-common,master,I5da77a5fe5aa154181efff12fac1f681c1a96f1a,Remove the json_error callback plugin,ABANDONED,2019-06-13 18:12:32.000000000,2019-06-26 23:02:48.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 18:12:32.000000000', 'files': ['ansible_plugins/callback/json_error.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd3ae60b3c95c50ebdde84574f7c234f70600853', 'message': 'Remove the json_error callback plugin\n\nThe json_error callback plugin has been imported into tripleo-ansible\nand is no longer required here.\n\nDepends-On: I1f32841786358203cf954eff2ca2f3dd5cf5ba07\nChange-Id: I5da77a5fe5aa154181efff12fac1f681c1a96f1a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,665200,fd3ae60b3c95c50ebdde84574f7c234f70600853,12,3,1,7353,,,0,"Remove the json_error callback plugin

The json_error callback plugin has been imported into tripleo-ansible
and is no longer required here.

Depends-On: I1f32841786358203cf954eff2ca2f3dd5cf5ba07
Change-Id: I5da77a5fe5aa154181efff12fac1f681c1a96f1a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/665200/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible_plugins/callback/json_error.py'],1,fd3ae60b3c95c50ebdde84574f7c234f70600853,tc/callback,,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Ansible has another callback plugin just called ""json.py"", which overrides # a normal import of ""import json"", so use absolute imports from __future__ import absolute_import import json import os from ansible.plugins.callback import CallbackBase from tripleo_common import constants DOCUMENTATION = ''' callback: json_error short_description: Write errors in JSON format to a log file description: - This callback writes errors in JSON format to a log file type: aggregate options: output_dir: name: json-error log file default: ansible-error.json description: Log file where to write errors in JSON format. env: - name: JSON_ERROR_LOG_FILE ''' class CallbackModule(CallbackBase): CALLBACK_VERSION = 2.5 CALLBACK_TYPE = 'aggregate' CALLBACK_NAME = 'json-error' def __init__(self, display=None): super(CallbackModule, self).__init__(display) self.errors = {} self.log_file = os.getenv( 'JSON_ERROR_LOG_FILE', constants.ANSIBLE_ERRORS_FILE) def v2_playbook_on_stats(self, stats): with open(self.log_file, 'w') as f: f.write(json.dumps(self.errors)) def v2_runner_on_failed(self, result, ignore_errors=False): if not ignore_errors: host_errors = self.errors.setdefault(result._host.name, []) host_errors.append((result.task_name, result._result)) ",0,62
openstack%2Ftripleo-quickstart~master~If21960b016006c030ac7a3965ac991ea94fde8c6,openstack/tripleo-quickstart,master,If21960b016006c030ac7a3965ac991ea94fde8c6,master promotion use the same repos as master,MERGED,2019-03-21 21:16:55.000000000,2019-06-26 22:56:01.000000000,2019-06-26 22:56:01.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28543}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-21 21:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/25dc2b08ed439cc5fa280f27c69ad94349a00531', 'message': 'master promotion use the same repos as master\n\nmaster promotion needs the rt repo like the\nmaster release file has.\n\nChange-Id: If21960b016006c030ac7a3965ac991ea94fde8c6\n'}, {'number': 2, 'created': '2019-05-13 19:22:58.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c17d980584ed0748ac7e84b93e34346b8380b84f', 'message': 'master promotion use the same repos as master\n\nmaster promotion needs the rt repo like the\nmaster release file has.\n\nChange-Id: If21960b016006c030ac7a3965ac991ea94fde8c6\n'}]",0,645357,c17d980584ed0748ac7e84b93e34346b8380b84f,16,8,2,9592,,,0,"master promotion use the same repos as master

master promotion needs the rt repo like the
master release file has.

Change-Id: If21960b016006c030ac7a3965ac991ea94fde8c6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/57/645357/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml'],1,25dc2b08ed439cc5fa280f27c69ad94349a00531,oooq/branching, - type: generic reponame: quickstart-centos7-rt filename: quickstart-centos7-rt.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/7/rt/x86_64/ enabled: 0 ,,6,0
openstack%2Fpython-tripleoclient~master~I427887467678c11c74382b6805e32d1455641294,openstack/python-tripleoclient,master,I427887467678c11c74382b6805e32d1455641294,Bump keystone middleware version to 4.18,MERGED,2019-02-14 07:56:46.000000000,2019-06-26 22:51:07.000000000,2019-06-26 22:51:07.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-14 07:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc3ef46299cd57d406367a35f1b39ab1af440a86', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}, {'number': 2, 'created': '2019-06-07 19:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/006bfbadceca8045ab4d5a9671aa74bfdd70495f', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}, {'number': 3, 'created': '2019-06-19 21:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8227fa6976777c4aaf8d366e5fd07ef9062d2335', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}, {'number': 4, 'created': '2019-06-19 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1a379e1333f2fa504a08c03a71c76f6cd273c182', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}, {'number': 5, 'created': '2019-06-20 13:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1be32fc67db865afba6687828fc6585fbea2454c', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}, {'number': 6, 'created': '2019-06-20 19:23:23.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c880c8fde8dd24e9fc3c1821bfa2e0daa9bd0b7c', 'message': 'Bump keystone middleware version to 4.18\n\nkeystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri\ninstead.\n\nThis is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174\n\nkeystonemiddleware in lower constraints should be increased\nbecause www_authenticate_uri was introduced in keystonemiddleware 4.18.0.\n\nChange-Id: I427887467678c11c74382b6805e32d1455641294\n'}]",0,636849,c880c8fde8dd24e9fc3c1821bfa2e0daa9bd0b7c,30,7,6,15895,,,0,"Bump keystone middleware version to 4.18

keystone_authtoken/auth_uri is deprecated. Use www_authenticate_uri
instead.

This is related to this bug https://bugs.launchpad.net/mistral/+bug/1788174

keystonemiddleware in lower constraints should be increased
because www_authenticate_uri was introduced in keystonemiddleware 4.18.0.

Change-Id: I427887467678c11c74382b6805e32d1455641294
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/636849/6 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,dc3ef46299cd57d406367a35f1b39ab1af440a86,use_www_authenticate_uri,keystonemiddleware==4.18.0,keystonemiddleware==4.17.0,1,1
openstack%2Fpython-tripleoclient~master~I700fe5deeee15086dc6ecabb69e63dc8a5cd7898,openstack/python-tripleoclient,master,I700fe5deeee15086dc6ecabb69e63dc8a5cd7898,Fixup sphinx requirements,MERGED,2019-06-19 21:01:20.000000000,2019-06-26 22:51:06.000000000,2019-06-26 22:51:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-19 21:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3689b4075d10cde753e20109d15c25fdc64f961b', 'message': 'Fixup sphinx requirements\n\nChange-Id: I700fe5deeee15086dc6ecabb69e63dc8a5cd7898\n'}, {'number': 2, 'created': '2019-06-19 21:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3435ec5f5567bd07f9bedda06a18b1f7c932b937', 'message': 'Fixup sphinx requirements\n\nChange-Id: I700fe5deeee15086dc6ecabb69e63dc8a5cd7898\n'}, {'number': 3, 'created': '2019-06-20 13:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fa98acc72b91be559646cd0ccca656f69543d31e', 'message': 'Fixup sphinx requirements\n\nChange-Id: I700fe5deeee15086dc6ecabb69e63dc8a5cd7898\n'}, {'number': 4, 'created': '2019-06-20 19:19:44.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/81d26455ab71f1aa3d6956e6a0eaadd822d976df', 'message': 'Fixup sphinx requirements\n\nChange-Id: I700fe5deeee15086dc6ecabb69e63dc8a5cd7898\n'}]",2,666443,81d26455ab71f1aa3d6956e6a0eaadd822d976df,16,5,4,14985,,,0,"Fixup sphinx requirements

Change-Id: I700fe5deeee15086dc6ecabb69e63dc8a5cd7898
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/666443/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3689b4075d10cde753e20109d15c25fdc64f961b,fix-requirements,"sphinx>=1.6.2,!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx>=1.6.2,!=1.6.6,!=1.6.7;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Fpython-tripleoclient~stable%2Fqueens~I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357,openstack/python-tripleoclient,stable/queens,I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357,Retry heat stack polling on gateway problems,MERGED,2019-06-21 20:23:29.000000000,2019-06-26 22:51:05.000000000,2019-06-26 22:51:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 20:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af9310741c9881d83e6ed88e6c17294bb177e0f0', 'message': 'Retry heat stack polling on gateway problems\n\nIf the heat api is overloaded or temporarily unavailable, we might get a\n503 or 504 from haproxy during the deployment. We should retry polling\nfor events in this case as to not prematurely exit the deployment.\n\nChange-Id: I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357\nCloses-Bug: #1833452\n(cherry picked from commit cb42cfe30fb0ca8f95ae3e7d93e616c106c6c191)\n'}, {'number': 2, 'created': '2019-06-24 13:07:41.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e717083e2af9d73badef959977ea7608467458eb', 'message': 'Retry heat stack polling on gateway problems\n\nIf the heat api is overloaded or temporarily unavailable, we might get a\n503 or 504 from haproxy during the deployment. We should retry polling\nfor events in this case as to not prematurely exit the deployment.\n\nChange-Id: I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357\nCloses-Bug: #1833452\n(cherry picked from commit cb42cfe30fb0ca8f95ae3e7d93e616c106c6c191)\n'}]",0,666917,e717083e2af9d73badef959977ea7608467458eb,14,4,2,14985,,,0,"Retry heat stack polling on gateway problems

If the heat api is overloaded or temporarily unavailable, we might get a
503 or 504 from haproxy during the deployment. We should retry polling
for events in this case as to not prematurely exit the deployment.

Change-Id: I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357
Closes-Bug: #1833452
(cherry picked from commit cb42cfe30fb0ca8f95ae3e7d93e616c106c6c191)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/666917/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,af9310741c9881d83e6ed88e6c17294bb177e0f0,bug/1833452," action='CREATE', verbose=False, poll_period=5, nested_depth=2, max_retries=10): :param nested_depth: Max depth to look for events :type nested_depth: int :param poll_period: How often to poll for events :type poll_period: int :param max_retries: Number of retries in the case of server problems :type max_retries: int log = logging.getLogger(__name__ + "".wait_for_stack_ready"") retries = 0 while retries <= max_retries: try: stack_status, msg = event_utils.poll_for_events( orchestration_client, stack_name, action=action, poll_period=5, marker=marker, out=out, nested_depth=nested_depth) print(msg) return stack_status == '%s_COMPLETE' % action except hc_exc.HTTPException as e: if e.code in [503, 504]: retries += 1 log.warning(""Server issue while waiting for stack to be ready."" "" Attempting retry {} of {}"".format(retries, max_retries)) time.sleep(retries * 5) continue log.error(""Error occured while waiting for stack to be ready."") raise e raise RuntimeError( ""wait_for_stack_ready: Max retries {} reached"".format(max_retries))"," action='CREATE', verbose=False): stack_status, msg = event_utils.poll_for_events( orchestration_client, stack_name, action=action, poll_period=5, marker=marker, out=out, nested_depth=2) print(msg) return stack_status == '%s_COMPLETE' % action",81,6
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fstein~I0fb42cdf2bcbf0422c137d63160e25a88d3cd3bd,openstack/openstack-ansible-openstack_hosts,stable/stein,I0fb42cdf2bcbf0422c137d63160e25a88d3cd3bd,Use stein RDO release repo,MERGED,2019-06-13 17:40:15.000000000,2019-06-26 22:48:49.000000000,2019-06-26 22:48:48.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-13 17:40:15.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/57811decb0198f171c8a8477dd3907862a14b485', 'message': 'Use stein RDO release repo\n\nChange-Id: I0fb42cdf2bcbf0422c137d63160e25a88d3cd3bd\n'}]",0,665189,57811decb0198f171c8a8477dd3907862a14b485,8,4,1,14805,,,0,"Use stein RDO release repo

Change-Id: I0fb42cdf2bcbf0422c137d63160e25a88d3cd3bd
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/89/665189/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,57811decb0198f171c8a8477dd3907862a14b485,rdo-stable-branch,"openstack_hosts_rdo_repo_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos7-stein/current-passed-ci/"" openstack_hosts_rdo_deps_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos7-stein/deps/latest/""","openstack_hosts_rdo_repo_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos7-master/current-passed-ci/"" openstack_hosts_rdo_deps_url: ""{{ openstack_hosts_rdo_mirror_url }}/centos7-master/deps/latest/""",2,2
openstack%2Ftripleo-ansible~master~I9e380518fd2688c11c3b0277eb1bf482ccb5eda5,openstack/tripleo-ansible,master,I9e380518fd2688c11c3b0277eb1bf482ccb5eda5,DNM - job filter test commit,ABANDONED,2019-06-26 22:30:31.000000000,2019-06-26 22:33:41.000000000,,[{'_account_id': 7353}],"[{'number': 1, 'created': '2019-06-26 22:30:31.000000000', 'files': ['tripleo_ansible/roles/test_package_action/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42081eac804c517c3e09bfd70e9ee379cb53d95b', 'message': 'DNM - job filter test commit\n\nChange-Id: I9e380518fd2688c11c3b0277eb1bf482ccb5eda5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667740,42081eac804c517c3e09bfd70e9ee379cb53d95b,3,1,1,7353,,,0,"DNM - job filter test commit

Change-Id: I9e380518fd2688c11c3b0277eb1bf482ccb5eda5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/667740/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_package_action/README.md'],1,42081eac804c517c3e09bfd70e9ee379cb53d95b,dnm, test,,2,0
openstack%2Ftripleo-ansible~master~I22aa575f3d46b378d7ef14b522d3de5490a4fac7,openstack/tripleo-ansible,master,I22aa575f3d46b378d7ef14b522d3de5490a4fac7,DNM - job filter test commit2,ABANDONED,2019-06-26 22:31:51.000000000,2019-06-26 22:33:36.000000000,,[{'_account_id': 7353}],"[{'number': 1, 'created': '2019-06-26 22:31:51.000000000', 'files': ['tripleo_ansible/roles/test_package_action/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d4bc6c444c76a0213e4d15a6ea8fccb4a3cf84a', 'message': 'DNM - job filter test commit2\n\nChange-Id: I22aa575f3d46b378d7ef14b522d3de5490a4fac7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667741,8d4bc6c444c76a0213e4d15a6ea8fccb4a3cf84a,3,1,1,7353,,,0,"DNM - job filter test commit2

Change-Id: I22aa575f3d46b378d7ef14b522d3de5490a4fac7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/667741/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_package_action/tasks/main.yml'],1,8d4bc6c444c76a0213e4d15a6ea8fccb4a3cf84a,dnm, # Test change ,,2,0
openstack%2Ftripleo-ansible~master~I8808be93fa573c5af456bf219371166d001f092c,openstack/tripleo-ansible,master,I8808be93fa573c5af456bf219371166d001f092c,DNM,ABANDONED,2019-06-26 22:05:09.000000000,2019-06-26 22:09:21.000000000,,[],"[{'number': 1, 'created': '2019-06-26 22:05:09.000000000', 'files': ['tripleo_ansible/roles/test_deps/DNM.file'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/729cc0ecbca7f0bd9ab83224190dca1034799b09', 'message': 'DNM\n\nChange-Id: I8808be93fa573c5af456bf219371166d001f092c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667737,729cc0ecbca7f0bd9ab83224190dca1034799b09,2,0,1,7353,,,0,"DNM

Change-Id: I8808be93fa573c5af456bf219371166d001f092c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/667737/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_deps/DNM.file'],1,729cc0ecbca7f0bd9ab83224190dca1034799b09,DNM,test ,,1,0
openstack%2Fneutron~master~I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,openstack/neutron,master,I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0,Show all SG rules belong to SG in group's details,MERGED,2019-05-20 16:51:23.000000000,2019-06-26 21:59:32.000000000,2019-05-25 01:03:02.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-20 16:51:23.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1920a37a94b7a9589dcf83f6ff0765068560dbf8', 'message': ""Show all SG rules belong to SG in group's details\n\nIf security group contains rule(s) which were created by different\nuser (admin), owner of this security group should see such rules\neven if those rules don't belong to him.\n\nThis patch changes to use admin_context to get security group rules\nin get_security_group() method to achieve that.\n\nTest to cover such case is added in neutron-tempest-plugin repo.\n\nChange-Id: I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0\nCloses-Bug: #1824248\n""}]",2,660174,1920a37a94b7a9589dcf83f6ff0765068560dbf8,17,8,1,11975,,,0,"Show all SG rules belong to SG in group's details

If security group contains rule(s) which were created by different
user (admin), owner of this security group should see such rules
even if those rules don't belong to him.

This patch changes to use admin_context to get security group rules
in get_security_group() method to achieve that.

Test to cover such case is added in neutron-tempest-plugin repo.

Change-Id: I890c81bb6eabc5caa620ed4fcc4dc88ebfa6e1b0
Closes-Bug: #1824248
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/660174/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,1920a37a94b7a9589dcf83f6ff0765068560dbf8,bug/1824248,"from neutron_lib import context as context_lib context_lib.get_admin_context(), {'security_group_id': [id]})"," context, {'security_group_id': [id]})",3,1
openstack%2Fkolla~master~Icf7289bd5fc02494551a42efc42691df3d8ed290,openstack/kolla,master,Icf7289bd5fc02494551a42efc42691df3d8ed290,horizon: process i18n files just once,ABANDONED,2019-06-25 15:33:23.000000000,2019-06-26 21:59:07.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-25 15:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5d4b2c3418c755890b3e0c9fce1e1bf61888806c', 'message': ""horizon: process i18n files just once\n\nDuring build of horizon we have a situation where i18n files get\nprocessed several times.\n\nFrom my debugging it looks like 'manage.py compilemessages' command\nalready knows how to walk through directories so instead of calling it\nper directory we can call it once per 'site-packages'.\n\nChange-Id: Icf7289bd5fc02494551a42efc42691df3d8ed290\n""}, {'number': 2, 'created': '2019-06-25 21:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e01e1e32a696a7a9f236d2f264b06545f8a3027', 'message': ""horizon: process i18n files just once\n\nDuring build of horizon we have a situation where i18n files get\nprocessed several times.\n\nFrom my debugging it looks like 'manage.py compilemessages' command\nalready knows how to walk through directories so instead of calling it\nper directory we can call it once per 'site-packages'.\n\nChange-Id: Icf7289bd5fc02494551a42efc42691df3d8ed290\n""}, {'number': 3, 'created': '2019-06-26 08:15:32.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b91a2ef1f387b758fdb33a8e8d7208c580a14bf2', 'message': ""horizon: process i18n files just once\n\nDuring build of horizon we have a situation where i18n files get\nprocessed several times.\n\nFrom my debugging it looks like 'manage.py compilemessages' command\nalready knows how to walk through directories so instead of calling it\nper directory we can call it once per 'site-packages'.\n\nAlso remove 1100 locale files from django to make it faster.\n\nChange-Id: Icf7289bd5fc02494551a42efc42691df3d8ed290\n""}]",5,667386,b91a2ef1f387b758fdb33a8e8d7208c580a14bf2,28,5,3,24072,,,0,"horizon: process i18n files just once

During build of horizon we have a situation where i18n files get
processed several times.

From my debugging it looks like 'manage.py compilemessages' command
already knows how to walk through directories so instead of calling it
per directory we can call it once per 'site-packages'.

Also remove 1100 locale files from django to make it faster.

Change-Id: Icf7289bd5fc02494551a42efc42691df3d8ed290
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/667386/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,5d4b2c3418c755890b3e0c9fce1e1bf61888806c,fix/horizon-loop, && cd /usr/lib/python{{distro_python_version}}/site-packages/ \ && /usr/bin/{{ horizon_python }} /usr/bin/manage.py compilemessages && cd /var/lib/kolla/venv/lib/python{{distro_python_version}}/site-packages/ \ && /var/lib/kolla/venv/bin/python /var/lib/kolla/venv/bin/manage.py compilemessages \, && for locale in /usr/lib/python{{ distro_python_version }}/site-packages/*/locale; do \ (cd ${locale%/*} && /usr/bin/{{ horizon_python }} /usr/bin/manage.py compilemessages) \ done && for locale in /var/lib/kolla/venv/lib/python{{distro_python_version}}/site-packages/*/locale; do \ (cd ${locale%/*} && /var/lib/kolla/venv/bin/python /var/lib/kolla/venv/bin/manage.py compilemessages) \ done \,4,6
openstack%2Fkolla~stable%2Fstein~I6bf0cbfaffc22147c5bec03b5897719de53366ed,openstack/kolla,stable/stein,I6bf0cbfaffc22147c5bec03b5897719de53366ed,Move back to CentOS StorageSIG repos for Ceph and Ganesha,MERGED,2019-06-26 13:36:38.000000000,2019-06-26 21:56:06.000000000,2019-06-26 21:56:06.000000000,"[{'_account_id': 13861}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-26 13:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a009bbcaeb8b205cbfdf3cd1c3aaf96f65fb42e2', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n(cherry picked from commit 0af35cbf682093855d71743cc38370058efa2e0b)\n'}, {'number': 2, 'created': '2019-06-26 15:35:58.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/base/ceph.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4edaf8a7031308372b3c9c6171bd2a25af96446c', 'message': 'Move back to CentOS StorageSIG repos for Ceph and Ganesha\n\nRecently a new repo was created in CentOS to distribute Ganesha,\nand the repo made a dependency of the Ceph Nautilus repo package [1]\n\nWhen centos-release-ceph-nautilus 1.2-1 will go out, it should not\nbe necessary to disable the CentOS Ceph repos pulled in by\ndependency of the RDO repositories, as done in [2]\n\n1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907\n2. https://review.opendev.org/#/c/651601/\n\nChange-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed\n(cherry picked from commit cf47864ab1e4fa6192ea96727d01b3e935b7a1fc)\n'}]",0,667616,4edaf8a7031308372b3c9c6171bd2a25af96446c,15,6,2,6796,,,0,"Move back to CentOS StorageSIG repos for Ceph and Ganesha

Recently a new repo was created in CentOS to distribute Ganesha,
and the repo made a dependency of the Ceph Nautilus repo package [1]

When centos-release-ceph-nautilus 1.2-1 will go out, it should not
be necessary to disable the CentOS Ceph repos pulled in by
dependency of the RDO repositories, as done in [2]

1. https://github.com/CentOS-Storage-SIG/centos-release-ceph/commit/f1a17c9d145cabfa1dfd3102fe7e2fc584f6a907
2. https://review.opendev.org/#/c/651601/

Change-Id: I6bf0cbfaffc22147c5bec03b5897719de53366ed
(cherry picked from commit cf47864ab1e4fa6192ea96727d01b3e935b7a1fc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/667616/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/base/ceph.repo']",2,a009bbcaeb8b205cbfdf3cd1c3aaf96f65fb42e2,,,[ceph] name=ceph baseurl=https://download.ceph.com/rpm-nautilus/el7/$basearch enabled=1 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [ceph-noarch] name=Ceph noarch packages baseurl=https://download.ceph.com/rpm-nautilus/el7/noarch enabled=1 priority=2 gpgcheck=1 gpgkey=https://download.ceph.com/keys/release.asc [nfs_ganesha] baseurl = http://download.ceph.com/nfs-ganesha/rpm-V2.7-stable/nautilus/$basearch gpgcheck = 1 gpgkey = https://download.ceph.com/keys/release.asc name = nfs-ganesha stable repo skip_if_unavailable = 1 ,5,31
openstack%2Fcinder~master~Ib5947e2c7300730adb851ad58e898a29f2b88525,openstack/cinder,master,Ib5947e2c7300730adb851ad58e898a29f2b88525,Create new image volume cache entry when cloning fails,MERGED,2019-01-14 18:19:04.000000000,2019-06-26 21:55:58.000000000,2019-03-01 21:56:59.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11418}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-14 18:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a2ef78e1aa6c63fd168682c8a6279fbd324b986', 'message': 'Create new image volume cache entry when cloning fails\n\nThis patch fixes the image volume cache so that a new cache entry is\ncreated whenever cloning an existing entry fails (which can happen, for\nexample, when a cached volume reaches its snapshot limit). This restores\nthe original behavior, which was broken by [1].\n\n[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4\n\nCloses-Bug: #1801595\nChange-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525\n'}, {'number': 2, 'created': '2019-01-15 11:34:02.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/93519a02c0c9b5dcb9d5139761780bcbdceef982', 'message': 'Create new image volume cache entry when cloning fails\n\nThis patch fixes the image volume cache so that a new cache entry is\ncreated whenever cloning an existing entry fails (which can happen, for\nexample, when a cached volume reaches its snapshot limit). This restores\nthe original behavior, which was broken by [1].\n\n[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4\n\nCloses-Bug: #1801595\nChange-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525\n'}]",2,630753,93519a02c0c9b5dcb9d5139761780bcbdceef982,95,41,2,21129,,,0,"Create new image volume cache entry when cloning fails

This patch fixes the image volume cache so that a new cache entry is
created whenever cloning an existing entry fails (which can happen, for
example, when a cached volume reaches its snapshot limit). This restores
the original behavior, which was broken by [1].

[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4

Closes-Bug: #1801595
Change-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/630753/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,3a2ef78e1aa6c63fd168682c8a6279fbd324b986,bug/1801595," try: model_update, cloned = self._create_from_image_cache( context, internal_context, volume, image_id, image_meta ) except exception.CinderException as e: LOG.warning('Failed to create volume from image-volume ' 'cache, image will be downloaded from Glance. ' 'Error: %(exception)s', {'exception': e}) # If an exception occurred when cloning the image-volume, # it may be the image-volume reached its snapshot limit. # Create another ""fresh"" cache entry. update_cache = True "," except exception.CinderException as e: LOG.warning('Failed to create volume from image-volume cache, ' 'image will be downloaded from Glance. Error: ' '%(exception)s', {'exception': e}) model_update, cloned = self._create_from_image_cache( context, internal_context, volume, image_id, image_meta )",63,27
openstack%2Fdevstack-plugin-ceph~master~I6785d5ca4d42c9f30139f3e7c0f7569d116924b8,openstack/devstack-plugin-ceph,master,I6785d5ca4d42c9f30139f3e7c0f7569d116924b8,"Revert ""Disable compute shelve tests""",ABANDONED,2019-06-26 21:38:29.000000000,2019-06-26 21:48:34.000000000,,[{'_account_id': 6873}],"[{'number': 1, 'created': '2019-06-26 21:38:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a2f9ce4fb6a78b81f1761f4f56bc40d2994f4f38', 'message': 'Revert ""Disable compute shelve tests""\n\nThis reverts commit ff6bdd7454695f8a380698c8027f022e88b33e52.\n\nThe inability to delete the shelved rbd snapshot image should\nbe fixed in the dependent nova change so we can enable shelve\ntesting again (at least on branches that have the nova fix).\n\nDepends-On: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n\nChange-Id: I6785d5ca4d42c9f30139f3e7c0f7569d116924b8\nRelated-Bug: #1653953\nRelated-Bug: #1697953\n'}]",0,667733,a2f9ce4fb6a78b81f1761f4f56bc40d2994f4f38,3,1,1,6873,,,0,"Revert ""Disable compute shelve tests""

This reverts commit ff6bdd7454695f8a380698c8027f022e88b33e52.

The inability to delete the shelved rbd snapshot image should
be fixed in the dependent nova change so we can enable shelve
testing again (at least on branches that have the nova fix).

Depends-On: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8

Change-Id: I6785d5ca4d42c9f30139f3e7c0f7569d116924b8
Related-Bug: #1653953
Related-Bug: #1697953
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/33/667733/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a2f9ce4fb6a78b81f1761f4f56bc40d2994f4f38,bug/1653953,," # This is only being set because the tempest test # test_shelve_unshelve_server fails with an # ""After unshelve, shelved image is not deleted"" # failure. Re-enable this feature when that test is fixed. # https://review.openstack.org/#/c/471352/ iniset $TEMPEST_CONFIG compute-feature-enabled shelve False",0,7
openstack%2Fswift~master~I49d881c7e4c38d36bb5efedf1a76c9331c4b0427,openstack/swift,master,I49d881c7e4c38d36bb5efedf1a76c9331c4b0427,WIP: Calculate quorum on status code based on node list order,ABANDONED,2019-06-25 16:39:03.000000000,2019-06-26 21:45:28.000000000,,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 16:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/98eee69a6a42067f02b7f5bd23cf840dadedb26a', 'message': 'WIP: Calculate quorum on status code based on node list order\n\nChange-Id: I49d881c7e4c38d36bb5efedf1a76c9331c4b0427\n'}, {'number': 2, 'created': '2019-06-25 16:45:34.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cec2a01b2720b72323c0af216f9c683f2b7f7878', 'message': 'WIP: Calculate quorum on status code based on node list order\n\nChange-Id: I49d881c7e4c38d36bb5efedf1a76c9331c4b0427\n'}]",0,667404,cec2a01b2720b72323c0af216f9c683f2b7f7878,5,2,2,9625,,,0,"WIP: Calculate quorum on status code based on node list order

Change-Id: I49d881c7e4c38d36bb5efedf1a76c9331c4b0427
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/667404/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/base.py']",2,98eee69a6a42067f02b7f5bd23cf840dadedb26a,," HTTP_INSUFFICIENT_STORAGE, HTTP_UNAUTHORIZED, HTTP_CONTINUE, HTTP_GONE, \ HTTP_INTERNAL_SERVER_ERROR ''' Given a list of statuses, group them into error types and then pick the highest error code within the error type group that reaches quorum first ''' status_list = {} for h in (HTTP_OK, HTTP_MULTIPLE_CHOICES, HTTP_BAD_REQUEST, HTTP_INTERNAL_SERVER_ERROR): status_list[h] = [] for i, s in enumerate(statuses): status_list[s - s % 100].append((i, s)) for hundred in status_list: hstatuses = status_list[hundred] if len(hstatuses) >= quorum_size: try: status_index, status = max( ((i, stat) for i, stat in hstatuses if i not in indices_to_avoid), key=operator.itemgetter(1)) except ValueError: # All statuses were indices to avoid continue resp = status_map[status](request=req) resp.status = '%s %s' % (status, reasons[status_index]) resp.body = bodies[status_index] if headers: update_headers(resp, headers[status_index]) if etag: resp.headers['etag'] = etag.strip('""') return resp"," HTTP_INSUFFICIENT_STORAGE, HTTP_UNAUTHORIZED, HTTP_CONTINUE, HTTP_GONE for hundred in (HTTP_OK, HTTP_MULTIPLE_CHOICES, HTTP_BAD_REQUEST): hstatuses = \ [(i, s) for i, s in enumerate(statuses) if hundred <= s < hundred + 100] if len(hstatuses) >= quorum_size: try: status_index, status = max( ((i, stat) for i, stat in hstatuses if i not in indices_to_avoid), key=operator.itemgetter(1)) except ValueError: # All statuses were indices to avoid continue resp = status_map[status](request=req) resp.status = '%s %s' % (status, reasons[status_index]) resp.body = bodies[status_index] if headers: update_headers(resp, headers[status_index]) if etag: resp.headers['etag'] = etag.strip('""') return resp",59,22
openstack%2Foctavia~stable%2Fstein~I48e82f39e3980d6d50e3b710326b8e437eddb08b,openstack/octavia,stable/stein,I48e82f39e3980d6d50e3b710326b8e437eddb08b,Add bindep.txt for Octavia,MERGED,2019-06-24 22:28:12.000000000,2019-06-26 21:20:35.000000000,2019-06-26 21:20:35.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 22:28:12.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d53010dc423867bc965069206b007a62fbb02475', 'message': 'Add bindep.txt for Octavia\n\nSome base packages are no longer automatically included in zuul\njob runs. This is good as we need to call out our platform package\nrequirements.\nThis patch adds a bindep.txt to Octavia to capture those\npackage requirements.\n\nChange-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b\n'}]",0,667237,d53010dc423867bc965069206b007a62fbb02475,14,4,1,11628,,,0,"Add bindep.txt for Octavia

Some base packages are no longer automatically included in zuul
job runs. This is good as we need to call out our platform package
requirements.
This patch adds a bindep.txt to Octavia to capture those
package requirements.

Change-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/667237/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,d53010dc423867bc965069206b007a62fbb02475,,# Docs package dependencies graphviz [doc] ,,2,0
openstack%2Fneutron-specs~master~I57f4df31bee83b818f2c0123577d11a8e07c0191,openstack/neutron-specs,master,I57f4df31bee83b818f2c0123577d11a8e07c0191,Port binding event extended information for Nova,MERGED,2019-03-21 13:41:07.000000000,2019-06-26 21:10:30.000000000,2019-06-26 21:10:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-03-21 13:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b64f28590bc29c52edaa7f771bd045b732df2b99', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}, {'number': 2, 'created': '2019-03-25 15:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cc313959dd66c773603761868057cd388bf7ab9e', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}, {'number': 3, 'created': '2019-05-15 13:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2350ed20419273abe9f47a920a62602db721a99b', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}, {'number': 4, 'created': '2019-06-18 14:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/30eb7bb66047a1da3aea2a220b046d1763625e0a', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}, {'number': 5, 'created': '2019-06-24 15:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dd4d5e7b97b81318f889d9adbca96d78ad4ce1bb', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}, {'number': 6, 'created': '2019-06-25 10:06:49.000000000', 'files': ['specs/train/port-binding-extended-information.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fde298d0a179987a4195c8e12a66a2aa968ddfb6', 'message': 'Port binding event extended information for Nova\n\nThere are several cases in the Nova/Neutron/os-vif interaction\nwhere the knowledge of the neutron core plugin or ML2 driver\nwould be useful to facilitate a more robust handling of guest\nnetworking.\n\nFor example, in Icehouse, a external event mechanism was\nintroduced to allow neutron to notify Nova of network changes\nand VIF plugging. As the occasion on which these events are\nemitted is dependent on the driver that bound the port and Nova\ndoes not have knowledge of that. Therefore, Nova cannot rely on\nthe event to synchronize the operation between Nova and neutron,\nwhich has lead to a race condition in the past.\n\nChange-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191\nRelated-Bug: #1821058\n'}]",86,645173,fde298d0a179987a4195c8e12a66a2aa968ddfb6,41,13,6,16688,,,0,"Port binding event extended information for Nova

There are several cases in the Nova/Neutron/os-vif interaction
where the knowledge of the neutron core plugin or ML2 driver
would be useful to facilitate a more robust handling of guest
networking.

For example, in Icehouse, a external event mechanism was
introduced to allow neutron to notify Nova of network changes
and VIF plugging. As the occasion on which these events are
emitted is dependent on the driver that bound the port and Nova
does not have knowledge of that. Therefore, Nova cannot rely on
the event to synchronize the operation between Nova and neutron,
which has lead to a race condition in the past.

Change-Id: I57f4df31bee83b818f2c0123577d11a8e07c0191
Related-Bug: #1821058
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/73/645173/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/port-binding-extended-information.rst'],1,b64f28590bc29c52edaa7f771bd045b732df2b99,bug/1821058,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================= Port binding records, capabilities and events ============================================= https://bugs.launchpad.net/neutron/+bug/1821058 There are several cases in the Nova/Neutron/os-vif interaction where the knowledge of the neutron core plugin or ML2 driver would be useful to facilitate a more robust handling of guest networking. For example, in Icehouse, a external event mechanism was introduced to allow neutron to notify Nova of network changes and VIF plugging. As the occasion on which these events are emitted is dependent on the driver that bound the port and Nova does not have knowledge of that. Therefore, Nova cannot rely on the event to synchronize the operation between Nova and neutron, which has lead to a race condition in the past. This spec aims to enhance the port binding API via the introduction of a new extension to provide the additional information required to enable Nova and os-vif to make more intelligent use of network event and port binding info. Problem Description =================== This spec aims to resolve 3 related problems. Reliable network events ----------------------- When Neutron is used as a Nova network manager, there is a many to one correlation between Neutron core plugins or ML2 drivers and VIF types. The canonical example of this is VIF_TYPE=ovs which is used by ML2/ovs, ML2/ovn, ML2/odl, ML2/onos and several others. In the past and possibly present VIF_TYPE=ovs was also used by in and out of tree core plugins that did not use the ML2 framework at all. While there are some ways for Nova to guess what backend may have bound the Neuton port to VIF_TYPE=ovs, it cannot determine for certain if ML2/ovs or ML2/odl bound the port. As a result of this, in combination with the fact that the network-vif-plugged and network-vif-unplugged events are sent based on different criteria for different network backend, this prevents the reliable use of network-vif-* events during instance lifecycle operation; e.g.: live migration. As a concrete example, ML2/ovs emits a network-vif-plugged event after the ovs agent has assigned the local VLAN to the OVS interface and has applied the appropriate QoS and security group actions. ML2/odl used to emit the network-vif-plugged event when the port was bound in the API before any dataplane configuration had taken place. ML2/ovn emits network-vif-plugged event when an interface is added to OVS. If we consider the case of a hard reboot, ML2/ovs will emit both a network-vif-unplugged event followed by a network-vif-plugged event, as we remove and readd the OVS port to the integration bridge. Since the neutron OVS L2 agent uses the ovsdb monitor to track port addition and removal, it is able to reliably track port operation and process them. The Linux Brige L2 agent however uses a polling loop to query for the attached ports to a bridge. As a result if you are using ML2/linuxbridge and an instance is hard rebooted, if the port removal and addition occurs within the period of one polling interval then the Linux Bridge l2 agent will not detect the removal and re addition and will not emit network-vif-* events. Network connectivity -------------------- `Boot a VM with an unaddressed port`_ blueprint seeks to enable the use of instances with ip_allocation=none. To do this safely and guarantee the guest will have network connectivity, Nova must ensure that the network backend that bound the port provides L2 connectivity For example, in a mixed Calico/SR-IOV deployment, it is valid to use ip_allocation=none for any port that is bound by the SR-IOV ML2 driver, but not for the Calico backend. Network isolation ----------------- In resolving `bug 1734320`_, a new config option was required in os-vif to allow enabling VIF isolation for the ML2/ovs backend. As Nova cannot differentiate between VIF_TYPE=ovs that is bound by ML2/odl or ML2/ovs it cannot automatically instruct os-vif to enable or disable VIF isolation for ML2/ovs hosts. If the ML2 driver(s) that bound the port are recorded in the port binding details, Nova and os-vif can use that information to more intelligently enable backend specific code paths without requiring additional network backend specific config options. Proposed Change =============== To address the 3 problems statement above, the following additions to the ``binding:vif_details`` dictionary in the port object are proposed: * A new ``connectivity`` field will be introduced with allowed values of ""l2"", ""l3"", ""legacy"". The ""legacy"" ``connectivity`` value will be the default and is a sentinel to indicate the driver does not support this extension yet and no connectivity info is available. When this value is set Nova or other consumer, should ignore it and proceed. * A new ``bound_drivers`` field will be added that is a dict of binding_level to driver name. The driver name will be the stevadore entry point name for the driver which is already used in config files and intended to be stable. A POC is available in https://review.openstack.org/#/c/635083. * A new ``network_events`` field will be added that is a dict of list of stings field. This dict will map network-* event names to a list of strings representing when the driver that bound the port binding emits the event. Optionally this could be a dict of dict of list of stings field it we want to add an additional layer of nesting to allow recording when each binding level with emit events. To enable declaration of the ``connectivity``, a new property will be added to the ML2 driver base class which will default to ""legacy"". ML2 drivers that inherit from this will override the property. Similarly for ``network_events``, a new property will be defined and will default to an empty dict. Subclasses that support this extension will override the property and statically initialize the value. Examples -------- ML2/ovs: .. code-block:: python binding_details: { ... ""connectivity"": ""l2"", ""bound_drivers"": {""0"": ""openvswtich""} ""network_events"": {""network-vif-plugged"": ""backend-port-configured"", ... } } ML2/odl v1: .. code-block:: python binding_details: { ... ""connectivity"": ""legacy"", ""bound_drivers"": {""0"": ""opendaylight""} ""network_events"": {""network-vif-plugged"": ""port-bound"", ... } } ML2/odl v2: .. code-block:: python binding_details: { ... ""connectivity"": ""l2"", ""bound_drivers"": {""0"": ""opendaylight_v2""} ""network_events"": {""network-vif-plugged"": ""backend-port-configured"", ... } } ML2/calico .. code-block:: python binding_details: { ... ""connectivity"": ""l3"", ""bound_drivers"": {""0"": ""calico""} ""network_events"": {""network-vif-plugged"": ""backend-port-configured"", ... } } References ========== .. _`Boot a VM with an unaddressed port`: https://blueprints.launchpad.net/nova/+spec/boot-vm-with-unaddressed-port .. _`bug 1734320`: https://bugs.launchpad.net/neutron/+bug/1734320 ",,188,0
openstack%2Fopenstack-ansible~master~I79587051374867468298172d980b8b403b5fe87d,openstack/openstack-ansible,master,I79587051374867468298172d980b8b403b5fe87d,haproxy: allow status 200 on ceph-rgw backend,ABANDONED,2018-11-06 15:30:00.000000000,2019-06-26 21:00:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-06 15:30:00.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75975a43d70fc1cb6cccc0b765ef81efd7bd1483', 'message': 'haproxy: allow status 200 on ceph-rgw backend\n\nWhen the S3 API is enabled on Ceph RadosGW, `HEAD /` returns HTTP 200\ninstead of HTTP 405 when only the Swift API is enabled.\n\nThis commit modifies the HTTP check in the `ceph-rgw-back` backend in\nHAproxy to accept both HTTP 200 and HTTP 405 as valid statuses.\n\nChange-Id: I79587051374867468298172d980b8b403b5fe87d\nCloses-Bug: #1801950\n'}]",0,615912,75975a43d70fc1cb6cccc0b765ef81efd7bd1483,3,1,1,18152,,,0,"haproxy: allow status 200 on ceph-rgw backend

When the S3 API is enabled on Ceph RadosGW, `HEAD /` returns HTTP 200
instead of HTTP 405 when only the Swift API is enabled.

This commit modifies the HTTP check in the `ceph-rgw-back` backend in
HAproxy to accept both HTTP 200 and HTTP 405 as valid statuses.

Change-Id: I79587051374867468298172d980b8b403b5fe87d
Closes-Bug: #1801950
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/615912/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,75975a43d70fc1cb6cccc0b765ef81efd7bd1483,bug/1801950, - expect rstatus (200|405), - expect status 405,1,1
openstack%2Foctavia~stable%2Fqueens~I48e82f39e3980d6d50e3b710326b8e437eddb08b,openstack/octavia,stable/queens,I48e82f39e3980d6d50e3b710326b8e437eddb08b,Add bindep.txt for Octavia,MERGED,2019-06-24 22:28:35.000000000,2019-06-26 20:59:23.000000000,2019-06-26 20:59:23.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 22:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae505577aaca4ceed2790a1d939b42c658d07809', 'message': 'Add bindep.txt for Octavia\n\nSome base packages are no longer automatically included in zuul\njob runs. This is good as we need to call out our platform package\nrequirements.\nThis patch adds a bindep.txt to Octavia to capture those\npackage requirements.\n\nChange-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b\n'}, {'number': 2, 'created': '2019-06-24 22:33:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9c459a8686817bdaf4967ffb45b2c180a5e4265', 'message': 'Add bindep.txt for Octavia\n\nSome base packages are no longer automatically included in zuul\njob runs. This is good as we need to call out our platform package\nrequirements.\nThis patch adds a bindep.txt to Octavia to capture those\npackage requirements.\n\nChange-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b\n'}]",0,667239,d9c459a8686817bdaf4967ffb45b2c180a5e4265,14,4,2,11628,,,0,"Add bindep.txt for Octavia

Some base packages are no longer automatically included in zuul
job runs. This is good as we need to call out our platform package
requirements.
This patch adds a bindep.txt to Octavia to capture those
package requirements.

Change-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/667239/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ae505577aaca4ceed2790a1d939b42c658d07809,story/2005925-queens,# Docs package dependencies graphviz [doc] ,,2,0
openstack%2Fcinder~master~I9fda67abdf0156d1712c3c5c9013264341dd1511,openstack/cinder,master,I9fda67abdf0156d1712c3c5c9013264341dd1511,Rename RSD doc file to match title for sorting,MERGED,2019-06-07 18:26:36.000000000,2019-06-26 20:58:13.000000000,2019-06-26 20:58:13.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-07 18:26:36.000000000', 'files': ['doc/source/configuration/block-storage/drivers/intel-rsd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e875add1e527eaeef5298559b9cfe5f4d3596681', 'message': 'Rename RSD doc file to match title for sorting\n\nThe list of driver docs are sorted based on their file names, but since\nthe name was rsd* but the title was ""Intel RSD..."", it would show up in\nthe list out of order. This updates the file name so the sorting works\nright.\n\nChange-Id: I9fda67abdf0156d1712c3c5c9013264341dd1511\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,664022,e875add1e527eaeef5298559b9cfe5f4d3596681,30,24,1,11904,,,0,"Rename RSD doc file to match title for sorting

The list of driver docs are sorted based on their file names, but since
the name was rsd* but the title was ""Intel RSD..."", it would show up in
the list out of order. This updates the file name so the sorting works
right.

Change-Id: I9fda67abdf0156d1712c3c5c9013264341dd1511
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/664022/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/intel-rsd-volume-driver.rst'],1,e875add1e527eaeef5298559b9cfe5f4d3596681,train-drivers,,,0,0
openstack%2Fneutron~master~Ic6c738db28208e5009f78bb52598eb3c141f639f,openstack/neutron,master,Ic6c738db28208e5009f78bb52598eb3c141f639f,Fix update of network's segmentation id,MERGED,2019-06-16 15:37:13.000000000,2019-06-26 20:58:10.000000000,2019-06-26 20:58:09.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-16 15:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb3f8ab2404cfdb0d9ccc5d6b1e0297c3d1983df', 'message': 'WIP Fix updated network segmentation_id\n\nChange-Id: Ic6c738db28208e5009f78bb52598eb3c141f639f\nCloses-Bug: #1832985\n'}, {'number': 2, 'created': '2019-06-16 17:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bf224d48d6a7b6a06e019cf6f798e257566fa83', 'message': 'Fix updated network segmentation_id\n\nThis patch fixes 2 issues in updating network\'s segmentation_id:\n1. Wrong context was passed to mech_driver.get_vif_type() method and that\n   caused raising AttributeError as ""Context"" object didn\'t have attribute\n   \'current\'.\n   This patch added new method ""get_supported_vif_type"" to mechanism drivers\n   and this method don\'t need context to return what vif_types are supported\n   regarding agent type.\n2. Filter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\n   was used in db query and because of that ports belong to network wasn\'t\n   filtered by vif_type thus if there were any ports in network, it was not\n   possible to change its segmentation id.\n\nChange-Id: Ic6c738db28208e5009f78bb52598eb3c141f639f\nCloses-Bug: #1832985\n'}, {'number': 3, 'created': '2019-06-17 09:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82d13a116bacce5f1d1fd4034e0df4f27fa44671', 'message': 'Fix update of network\'s segmentation id\n\nIn patch [1] there was added usage of context parameter in method\nget_vif_type in openvswitch mech_driver.\nThis exposed that previously ""wrong"" context was passed to this method\nin _update_segmentation_id() method in ml2 plugin and that caused\nraising AttributeError as ""Context"" object didn\'t have attribute\n\'current\'.\n\nThis patch adds new method ""get_supported_vif_type"" to mechanism\ndrivers and this method don\'t need context to return what vif_types\nare supported regarding agent type.\n\n[1] https://review.opendev.org/#/c/658784/\n\nChange-Id: Ic6c738db28208e5009f78bb52598eb3c141f639f\nRelated-Bug: #1832985\n'}, {'number': 4, 'created': '2019-06-17 09:27:55.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/mechanism_test.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/352f5ac674dde0d76ebe92d80b2cb02638b80ade', 'message': 'Fix update of network\'s segmentation id\n\nIn patch [1] there was added usage of context parameter in method\nget_vif_type in openvswitch mech_driver.\nThis exposed that previously ""wrong"" context was passed to this method\nin _update_segmentation_id() method in ml2 plugin and that caused\nraising AttributeError as ""Context"" object didn\'t have attribute\n\'current\'.\n\nThis patch adds new method ""get_supported_vif_type"" to mechanism\ndrivers and this method don\'t need context to return what vif_types\nare supported regarding agent type.\n\n[1] https://review.opendev.org/#/c/658784/\n\nChange-Id: Ic6c738db28208e5009f78bb52598eb3c141f639f\nRelated-Bug: #1832985\n'}]",0,665548,352f5ac674dde0d76ebe92d80b2cb02638b80ade,61,9,4,11975,,,0,"Fix update of network's segmentation id

In patch [1] there was added usage of context parameter in method
get_vif_type in openvswitch mech_driver.
This exposed that previously ""wrong"" context was passed to this method
in _update_segmentation_id() method in ml2 plugin and that caused
raising AttributeError as ""Context"" object didn't have attribute
'current'.

This patch adds new method ""get_supported_vif_type"" to mechanism
drivers and this method don't need context to return what vif_types
are supported regarding agent type.

[1] https://review.opendev.org/#/c/658784/

Change-Id: Ic6c738db28208e5009f78bb52598eb3c141f639f
Related-Bug: #1832985
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/665548/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py']",2,bb3f8ab2404cfdb0d9ccc5d6b1e0297c3d1983df,bug/1832985," vif_types.append(mech_driver.obj.vif_type) if ports_obj.Port.get_network_ports_by_binding_types( context, network['id'], vif_types, negative_search=True):","from neutron_lib.objects import utils as obj_utils agent_type = mech_driver.obj.agent_type agents = self.get_agents( context, filters={'agent_type': [agent_type]}) for agent in agents: vif_types.append(mech_driver.obj.get_vif_type( context, agent, segments[0])) filter_obj = obj_utils.NotIn(vif_types) filters = {portbindings.VIF_TYPE: filter_obj.filter(models.PortBinding.vif_type), 'network_id': [network['id']]} if super(Ml2Plugin, self).get_ports_count(context, filters=filters):",18,13
openstack%2Fcinder-specs~master~Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131,openstack/cinder-specs,master,Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131,Support multiple stores of Glance,MERGED,2019-03-06 07:46:27.000000000,2019-06-26 20:29:38.000000000,2019-06-26 20:29:38.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-03-06 07:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a73bfbc436764e41c040f8cb23a8a2f3f1d1c5fc', 'message': 'Support multiple backend of Glance\n\nAdd --backend option to upload-to-image API to upload volume\nimage to specific/dedicated backend.\n\nAPIImpact\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 2, 'created': '2019-03-28 07:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/0653f2b0d4aa45cfad68f2df1e94f49785370d6e', 'message': ""Support multiple stores of Glance\n\nAdd 'store' option to upload-to-image API to upload volume\nimage to specific/dedicated store.\n\nAPIImpact\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n""}, {'number': 3, 'created': '2019-03-28 13:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/46ea3def3fe8332a9397db4c3191b2942a748380', 'message': ""Support multiple stores of Glance\n\nAdd 'store' option to upload-to-image API to upload volume\nimage to specific/dedicated store.\n\nAPIImpact\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n""}, {'number': 4, 'created': '2019-03-28 13:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/0050dd150aeeff5c2bc00cae430c58f66910197d', 'message': ""Support multiple stores of Glance\n\nAdd 'store' option to upload-to-image API to upload volume\nimage to specific/dedicated store.\n\nAPIImpact\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n""}, {'number': 5, 'created': '2019-05-14 01:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5d7ea4993568c3dac459bb54a31adbb8ea62eb6b', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 6, 'created': '2019-05-14 04:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d34aa7d5446963fd41ca59dc17592f7106f7b302', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 7, 'created': '2019-05-14 14:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a3b586845f6c0781f967fcbcb829a0b8ddc97c0e', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 8, 'created': '2019-05-14 14:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/aa5e2911c892faeed00251662b4c3d026379611f', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 9, 'created': '2019-05-16 17:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/05ba8e54b70465b8362bfb4a730f84ecb5e65a6a', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}, {'number': 10, 'created': '2019-05-16 22:03:09.000000000', 'files': ['specs/train/support-glance-multiple-backend.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/a11807a5f0e9af262975b4618bf99a9b67e51c05', 'message': 'Support multiple stores of Glance\n\nCo-authored-by: Abhishek Kekane <akekane@redhat.com>\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131\nbp:support-glance-multiple-backend\n'}]",39,641267,a11807a5f0e9af262975b4618bf99a9b67e51c05,43,11,10,9303,,,0,"Support multiple stores of Glance

Co-authored-by: Abhishek Kekane <akekane@redhat.com>
Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ia02a64f522a62ccfcdbf87b6b2fa8cb205faf131
bp:support-glance-multiple-backend
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/67/641267/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/support-glance-multiple-backend.rst'],1,a73bfbc436764e41c040f8cb23a8a2f3f1d1c5fc,bp/support-glance-multiple-backend,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================== Support multiple backend of Glance ================================== https://blueprints.launchpad.net/cinder/+spec/support-glance-multiple-backend This blueprint proposed to support the multiple backend of glance. Problem description =================== Recently in Rocky, Glance has added multiple backend as a EXPERIMENTAL feature. This way opearator can configure more than one of similar or different kind of backends and use one as a default backend. If backend is not specified at the time of uploading the image then the image will be stored in default backend. In case of cinder upload-volume-to-image if multiple backend is configured then the volume image will alwasy be uploaded to default backend. This will not cause any issue unless operator want's to upload volume images to dedicated backends. Use Cases ========= 1. Operator wants to upload all the volume images to one specific/dedicated backend. Proposed change =============== Add a new microversion to volume-upload-to-image API to support configuring to upload the volume image to specific backend. I am proposing to add new --backend option to volume-upload-to-image API where user can specify to which backend volume image will be uploaded. If --backend option is not specified then the image will be uploaded to default backend. Vendor-specific changes ----------------------- None Alternatives ------------ Add a new configuration option 'glance_backend' under 'glance' section to upload all the volume images to specified/dedicated backend. If this option is not present then all the volume images will be uploaded to default backend. This solution will be efficient if operator doesn't want to expose the use of uploading volume image to specific backend to end user. Data model impact ----------------- None REST API impact --------------- * URL: * /v3/{project_id}/volumes/{volume_id}/action: * Request method: * POST The config of backend to add undeer metadata to request payload :: { ""os-volume_upload_image"":{ ""image_name"": ""test"", ""force"": false, ""disk_format"": ""raw"", ""container_format"": ""bare"", ""visibility"": ""private"", ""protected"": false, ""metadata"": {""backend"": ""backend""} } } Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- User will be able to upload volume image to dedicated/specified backend. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: abhishek-kekane Other contributors: Volume Driver maintainers Work Items ---------- * Add ``backned`` support in upload-to-image API * Add ``backend`` support for 'cinder upload-to-image' in cinderclient * Add related tests Dependencies ============ None Testing ======= * Add related unittest * Add related functional test * Add tempest tests Documentation Impact ==================== Operators documentation should be updated according to spec implementation. References ========== None ",,162,0
openstack%2Fmanila~stable%2Frocky~I1824f132b0ffadc6c9179582d37295f3abed355f,openstack/manila,stable/rocky,I1824f132b0ffadc6c9179582d37295f3abed355f,[CI] Add bindep.txt,MERGED,2019-06-26 17:02:30.000000000,2019-06-26 20:19:04.000000000,2019-06-26 20:18:52.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-26 17:02:30.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/4fbe70fbb6c12eb06bc026e043ed2a27572b5da1', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1][2] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n(cherry picked from commit 1709fd7fc222f81bcbedc05e683d2eec5337edcc)\n(cherry picked from commit 6ac1730127ddf2f8113e791c3740909bbe05837d)\n'}]",0,667684,4fbe70fbb6c12eb06bc026e043ed2a27572b5da1,12,6,1,17685,,,0,"[CI] Add bindep.txt

Bindep is a tool for checking the presence of binary
packages needed to use an application / library. It
started life as a way to make it easier to set up a
development environment for OpenStack projects.

Infra has been looking to drop the global
bindep_fallback.txt [1][2] file for all
OpenStack projects, they recommend that projects
maintain their own with packages as necessary.

[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html
Change-Id: I1824f132b0ffadc6c9179582d37295f3abed355f
(cherry picked from commit 1709fd7fc222f81bcbedc05e683d2eec5337edcc)
(cherry picked from commit 6ac1730127ddf2f8113e791c3740909bbe05837d)
",git fetch https://review.opendev.org/openstack/manila refs/changes/84/667684/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,4fbe70fbb6c12eb06bc026e043ed2a27572b5da1,bindep-fallback,"[testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). basepython = python3 deps = bindep commands = bindep test usedevelop = False ",,47,0
openstack%2Ftripleo-common~stable%2Fqueens~I8296a0bde754cdeb325e784642ed668d0314103e,openstack/tripleo-common,stable/queens,I8296a0bde754cdeb325e784642ed668d0314103e,Make tempest container available on undercloud,MERGED,2019-06-25 19:12:24.000000000,2019-06-26 20:05:42.000000000,2019-06-26 20:05:41.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-25 19:12:24.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef1f875f6a796d4ddcc617f3e3e1498fc6dc2cf0', 'message': 'Make tempest container available on undercloud\n\nCloses-Bug: #1834240\nChange-Id: I8296a0bde754cdeb325e784642ed668d0314103e\n(cherry picked from commit fd4e399ca3a4000ffe5063d5fbb2cdbb7f365619)\n'}]",0,667446,ef1f875f6a796d4ddcc617f3e3e1498fc6dc2cf0,8,3,1,14985,,,0,"Make tempest container available on undercloud

Closes-Bug: #1834240
Change-Id: I8296a0bde754cdeb325e784642ed668d0314103e
(cherry picked from commit fd4e399ca3a4000ffe5063d5fbb2cdbb7f365619)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/667446/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,ef1f875f6a796d4ddcc617f3e3e1498fc6dc2cf0,containerize_tempest-stable/queens, params: - DockerTempestImage services: - OS::TripleO::Services::Tempest, params: None services: None,4,2
openstack%2Fnetworking-ovn~stable%2Fstein~If157e9d4660cc6c566ecad44aa6734af2bd14db1,openstack/networking-ovn,stable/stein,If157e9d4660cc6c566ecad44aa6734af2bd14db1,Maintenance task: Fix race condition at resource creation,MERGED,2019-06-21 12:50:21.000000000,2019-06-26 19:52:43.000000000,2019-06-26 19:52:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-21 12:50:21.000000000', 'files': ['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ff0458122f136df6912d0c68a967c60eefe3f1c7', 'message': 'Maintenance task: Fix race condition at resource creation\n\nWhen the maintenance task runs (every 5 minutes) it should take in\nconsideration how old is the resource before considering it to be an\ninconsitency.\n\nPrior to this patch, what could happen is that a resource being created\nwas committed to the neutron database but not yet to the OVN database and\novn_revision_numbers cache table. In the meantime, the maintenance\ntask could run and create that resource before the create_*_postcommit()\ncompleted resulting in a race condition.\n\nUsing a port as an example, the following error would be seeing when\nthat happens (more detailed example in the LP ticket):\n\novsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:\n{""details"":""Transaction causes multiple rows in \\""Logical_Switch_Port\\""\ntable to have identical values (\\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\\"")\nfor index on column \\""name\\"".\n\nThis patch adds a new filter to the get_inconsistent_resources() method\nwhich checks the ""created_at"" column of the resource to see if it\'s older\nthan 60 seconds and ignore if it\'s newer.\n\nCloses-Bug: #1833445\nChange-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)\n'}]",0,666825,ff0458122f136df6912d0c68a967c60eefe3f1c7,10,4,1,6773,,,0,"Maintenance task: Fix race condition at resource creation

When the maintenance task runs (every 5 minutes) it should take in
consideration how old is the resource before considering it to be an
inconsitency.

Prior to this patch, what could happen is that a resource being created
was committed to the neutron database but not yet to the OVN database and
ovn_revision_numbers cache table. In the meantime, the maintenance
task could run and create that resource before the create_*_postcommit()
completed resulting in a race condition.

Using a port as an example, the following error would be seeing when
that happens (more detailed example in the LP ticket):

ovsdbapp.backend.ovs_idl.transaction [-] OVSDB Error:
{""details"":""Transaction causes multiple rows in \""Logical_Switch_Port\""
table to have identical values (\""89ebd403-68af-43a2-a4e4-5fa86d57d2a2\"")
for index on column \""name\"".

This patch adds a new filter to the get_inconsistent_resources() method
which checks the ""created_at"" column of the resource to see if it's older
than 60 seconds and ignore if it's newer.

Closes-Bug: #1833445
Change-Id: If157e9d4660cc6c566ecad44aa6734af2bd14db1
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 1e0c9370b23315d7e734cf5ebc960e76c454bb61)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/25/666825/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/db/test_maintenance.py', 'networking_ovn/db/maintenance.py', 'networking_ovn/tests/functional/test_maintenance.py']",3,ff0458122f136df6912d0c68a967c60eefe3f1c7,bug/1833445,"@mock.patch('networking_ovn.db.maintenance.INCONSISTENCIES_OLDER_THAN', -1)",,52,9
openstack%2Fkolla~stable%2Focata~I117d3a6b09599cfe23981477eb1e85fe9d8154ba,openstack/kolla,stable/ocata,I117d3a6b09599cfe23981477eb1e85fe9d8154ba,Disable publishing images on Ocata,MERGED,2019-06-17 18:07:38.000000000,2019-06-26 19:24:35.000000000,2019-06-26 19:24:35.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-17 18:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/467a06b5404a22f0f56ac8cfa2cce3becf890971', 'message': 'Disable publishing images on Ocata\n\nThese jobs have been failing for some time. Stop wasting CI resources\nand disable them. We can enable them again if someone maintains ocata\nbefore it gets to EOL.\n\nChange-Id: I117d3a6b09599cfe23981477eb1e85fe9d8154ba\n'}, {'number': 2, 'created': '2019-06-18 10:10:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/dbc07f34b81c57f3361c47bca51f1b154bf77399', 'message': 'Disable publishing images on Ocata\n\nThese jobs have been failing for some time. Stop wasting CI resources\nand disable them. We can enable them again if someone maintains ocata\nbefore it gets to EOL.\n\nChange-Id: I117d3a6b09599cfe23981477eb1e85fe9d8154ba\n'}]",0,665742,dbc07f34b81c57f3361c47bca51f1b154bf77399,10,4,2,14826,,,0,"Disable publishing images on Ocata

These jobs have been failing for some time. Stop wasting CI resources
and disable them. We can enable them again if someone maintains ocata
before it gets to EOL.

Change-Id: I117d3a6b09599cfe23981477eb1e85fe9d8154ba
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/665742/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,467a06b5404a22f0f56ac8cfa2cce3becf890971,disable-publish-ocata,, periodic-stable: jobs: - kolla-publish-centos-source - kolla-publish-centos-binary - kolla-publish-ubuntu-source - kolla-publish-ubuntu-binary - kolla-publish-oraclelinux-source - kolla-publish-oraclelinux-binary,0,8
openstack%2Fopenstack-helm~master~Id511a07fca3eec9b5e80f2f9413628ab4d42d61b,openstack/openstack-helm,master,Id511a07fca3eec9b5e80f2f9413628ab4d42d61b,Create ${APACHE_RUN_DIR} if libapache2-mod-wsgi-py3 module is installed,MERGED,2019-06-26 10:18:34.000000000,2019-06-26 19:16:51.000000000,2019-06-26 19:16:51.000000000,"[{'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-06-26 10:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbf4a4a2c4c16392d2c1d18f24707fd11b2138ac', 'message': ""Creating directory from ${APACHE_RUN_DIR} variable for:\n\n* aodh\n* ceilometer\n* horizon\n* panko\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3 module\nhas to be installed accordingly but the module doesn't create /var/run/apache2\ndirectory which is APACHE_RUN_DIR in apache configuration file so apache can't\nstart without it due to the fact that the directory is used to make there pid,\nrun, etc files.\n\nChange-Id: Id511a07fca3eec9b5e80f2f9413628ab4d42d61b\n""}, {'number': 2, 'created': '2019-06-26 13:06:13.000000000', 'files': ['ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'aodh/templates/bin/_aodh-api.sh.tpl', 'horizon/templates/bin/_horizon.sh.tpl', 'panko/templates/bin/_panko-api.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dfa4a53db9c114417afab3ad1034571ab189f22d', 'message': ""Create ${APACHE_RUN_DIR} if libapache2-mod-wsgi-py3 module is installed\n\nThe aim of the patch is to creating directory from ${APACHE_RUN_DIR}\nvariable for:\n\n* aodh\n* ceilometer\n* horizon\n* panko\n\nIf an image is built with python3 therefore libapache2-mod-wsgi-py3 module\nhas to be installed accordingly but the module doesn't create /var/run/apache2\ndirectory which is APACHE_RUN_DIR in apache configuration file so apache can't\nstart without it due to the fact that the directory is used to make there pid,\nrun, etc files.\n\nChange-Id: Id511a07fca3eec9b5e80f2f9413628ab4d42d61b\n""}]",2,667570,dfa4a53db9c114417afab3ad1034571ab189f22d,16,6,2,29954,,,0,"Create ${APACHE_RUN_DIR} if libapache2-mod-wsgi-py3 module is installed

The aim of the patch is to creating directory from ${APACHE_RUN_DIR}
variable for:

* aodh
* ceilometer
* horizon
* panko

If an image is built with python3 therefore libapache2-mod-wsgi-py3 module
has to be installed accordingly but the module doesn't create /var/run/apache2
directory which is APACHE_RUN_DIR in apache configuration file so apache can't
start without it due to the fact that the directory is used to make there pid,
run, etc files.

Change-Id: Id511a07fca3eec9b5e80f2f9413628ab4d42d61b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/667570/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/templates/bin/_ceilometer-api.sh.tpl', 'aodh/templates/bin/_aodh-api.sh.tpl', 'horizon/templates/bin/_horizon.sh.tpl', 'panko/templates/bin/_panko-api.sh.tpl']",4,cbf4a4a2c4c16392d2c1d18f24707fd11b2138ac,, # The directory below has to be created due to the fact that # libapache2-mod-wsgi-py3 doesn't create it in contrary by libapache2-mod-wsgi if [ ! -d ${APACHE_RUN_DIR} ]; then mkdir -p ${APACHE_RUN_DIR} fi,,20,0
openstack%2Fdiskimage-builder~master~I1e1d3a3826157b8b22386c211eaa58b6439b5f3c,openstack/diskimage-builder,master,I1e1d3a3826157b8b22386c211eaa58b6439b5f3c,Only enable dbus-daemon for fedora-29 and below,MERGED,2019-05-04 16:00:49.000000000,2019-06-26 19:15:24.000000000,2019-05-07 05:47:57.000000000,"[{'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-04 16:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c6d20d3fdd2eb209f947b52dbe4bf21904de4ce2', 'message': 'Only enable dbus-daemon for fedora-29 and below\n\nIn fedora-30 is when we migrate to dbus-broker, fedora-29 is still using\ndbus-daemon.\n\nChange-Id: I1e1d3a3826157b8b22386c211eaa58b6439b5f3c\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2019-05-06 07:49:54.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-broker', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-daemon'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/38d757412743f24804426a881d09e02aa7e1f759', 'message': 'Only enable dbus-daemon for fedora-29 and below\n\nIn fedora-30 is when we migrate to dbus-broker, fedora-29 is still using\ndbus-daemon.\n\nChange-Id: I1e1d3a3826157b8b22386c211eaa58b6439b5f3c\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",3,657126,38d757412743f24804426a881d09e02aa7e1f759,16,5,2,4162,,,0,"Only enable dbus-daemon for fedora-29 and below

In fedora-30 is when we migrate to dbus-broker, fedora-29 is still using
dbus-daemon.

Change-Id: I1e1d3a3826157b8b22386c211eaa58b6439b5f3c
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/657126/2 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-broker', 'diskimage_builder/elements/yum-minimal/install.d/11-ensure-dbus-daemon']",2,c6d20d3fdd2eb209f947b52dbe4bf21904de4ce2,657126,"#!/bin/bash # # Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail # Ensure that dbus-daemon is enabled; fedora 30 and above has switched to # dbus-broker. if [[ ${DISTRO_NAME} == 'fedora' && ${DIB_RELEASE} -le 29 ]]; then systemctl --no-reload enable dbus-daemon.service fi ",,28,32
openstack%2Fcharm-neutron-api~master~I47d86a36949f56163d0c845437b102a918b4dd13,openstack/charm-neutron-api,master,I47d86a36949f56163d0c845437b102a918b4dd13,Update tox.ini to remove py27 targets,MERGED,2019-06-26 15:01:23.000000000,2019-06-26 19:13:30.000000000,2019-06-26 19:13:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c88bfba5da5d37ce59abac38174eab6f88b026ed', 'message': 'Update tox.ini to remove py27 targets\n\nChange-Id: I47d86a36949f56163d0c845437b102a918b4dd13\n'}, {'number': 2, 'created': '2019-06-26 15:03:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/7df59601328cf1e132d4f6faf12f59af3e31f1bd', 'message': 'Update tox.ini to remove py27 targets\n\nChange-Id: I47d86a36949f56163d0c845437b102a918b4dd13\n'}]",0,667643,7df59601328cf1e132d4f6faf12f59af3e31f1bd,11,3,2,20634,,,0,"Update tox.ini to remove py27 targets

Change-Id: I47d86a36949f56163d0c845437b102a918b4dd13
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/43/667643/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c88bfba5da5d37ce59abac38174eab6f88b026ed,py3-only,"envlist = pep8,py3[testenv:py3] basepython = python3 ","envlist = pep8,py27,py35[testenv:py27] basepython = python2.7 deps = commands = /bin/true [testenv:func-noop] basepython = python3 commands = true ",4,11
openstack%2Fnova-specs~master~I86680498a5eb098e3deedf768b7482c4647e0b3d,openstack/nova-specs,master,I86680498a5eb098e3deedf768b7482c4647e0b3d,grammar fix for show-server-numa-topology spec,MERGED,2019-06-26 01:53:59.000000000,2019-06-26 19:07:49.000000000,2019-06-26 19:07:49.000000000,"[{'_account_id': 4393}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 01:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c640902556bc4578203e5b839d24f61803656332', 'message': 'grammar fix for show-server-numa-topology spec\n\nChange-Id: I86680498a5eb098e3deedf768b7482c4647e0b3d\n'}, {'number': 2, 'created': '2019-06-26 05:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c1d1a96c65262c1a2e62d49a974a055f4780c794', 'message': 'grammar fix for show-server-numa-topology spec\n\nChange-Id: I86680498a5eb098e3deedf768b7482c4647e0b3d\n'}, {'number': 3, 'created': '2019-06-26 17:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1c05fbe0195e5b6ebce5954167a03e0bce264d1d', 'message': 'grammar fix for show-server-numa-topology spec\n\nChange-Id: I86680498a5eb098e3deedf768b7482c4647e0b3d\n'}, {'number': 4, 'created': '2019-06-26 18:43:52.000000000', 'files': ['specs/train/approved/show-server-numa-topology.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/15da794b704f24e45fa0745243676e660cdee51f', 'message': 'grammar fix for show-server-numa-topology spec\n\nChange-Id: I86680498a5eb098e3deedf768b7482c4647e0b3d\n'}]",5,667487,15da794b704f24e45fa0745243676e660cdee51f,15,3,4,7543,,,0,"grammar fix for show-server-numa-topology spec

Change-Id: I86680498a5eb098e3deedf768b7482c4647e0b3d
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/87/667487/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/show-server-numa-topology.rst'],1,c640902556bc4578203e5b839d24f61803656332,numa-grammar," how the various guest OSes expose it. instances for the purpose of debugging, and admin need to make sure the NUMA topology is what it's supposed to be, and is correctly mapped onto the Host. * The end user could have all of the above abilities if admin allows them byIn nova, the InstanceNUMATopology object contains groups of relatedThe topology API returns the NUMA cell information for a server, includingInstead of putting these information into ``GET /servers/{server_id}/topology``, there are two other options: * add NUMA information into the existing sub-resource ``diagnostics``: ""pagesize_kb"": 4,* A fine-grained information exposed by this API is admin only by default, and the control policy ``TOPOLOGY % 'index:host_info'`` is use to keep host only"," how the various gest OSes expose it. instances for the purpose of debugging, and admin need make sure the NUMA topology is what it's supposed to be, and is correctly mapped onto Host. * The end user could have all of above abilities if admin allows them byIn nova, the instanceNUMATopology object contains groups of relatedThe topology API returns the numa cell information for a server, includingInstead of put these information into ``GET /servers/{server_id}/topology``, there are other 2 options: * add NUMA information into existed sub-resource ``diagnostics``: ""pagesize_kb"": 4096,* These information exposed by this API is admin only by default, and fine control policy ``TOPOLOGY % 'index:host_info'`` use to keep host only",12,12
openstack%2Fdevstack~stable%2Fstein~I0d7f9f2baaee2836a719f199939156bd4f53f778,openstack/devstack,stable/stein,I0d7f9f2baaee2836a719f199939156bd4f53f778,Use neutron-legacy on subnodes in devstack zuul job,MERGED,2019-06-24 20:24:07.000000000,2019-06-26 19:01:41.000000000,2019-06-26 19:01:41.000000000,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-24 20:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2728414614815a8e6baa4230ba29c3fda96bcad4', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)\n'}, {'number': 2, 'created': '2019-06-24 20:30:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a6b3c8a97c8d5e423e2df1a734d073d30442dcf', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nCloses-Bug: #1834079\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)\n'}]",0,667216,7a6b3c8a97c8d5e423e2df1a734d073d30442dcf,15,7,2,11975,,,0,"Use neutron-legacy on subnodes in devstack zuul job

There are still some issues with lib/neutron thus neutron-legacy is used
on controller node in multinode jobs and in single node jobs.
But in ""group-vars"" in devstack job it was configured to use
lib/neutron which can cause some problems in multinode jobs.

So lets switch to neutron-legacy on subnodes also until lib/neutron
will be ready to use everywhere.

Closes-Bug: #1834079

Change-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778
(cherry picked from commit 1b15176b0598f00c442c3b40985df30204dc6963)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/667216/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2728414614815a8e6baa4230ba29c3fda96bcad4,neutron-legacy, # We need to keep using the neutron-legacy based services for # now until all issues with the new lib/neutron code are solved q-agt: true # neutron-agent: true, neutron-agent: true,4,1
openstack%2Fcinder~master~Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788,openstack/cinder,master,Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788,PowerMax Driver - PowerMax Formatted Vols Fix,MERGED,2019-05-21 15:21:18.000000000,2019-06-26 19:01:39.000000000,2019-06-26 19:01:39.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26297}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30165}, {'_account_id': 30413}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-21 15:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/470cd66972e731bd8b5862bcb76d04336edd0ec6', 'message': 'PowerMax Driver - PowerMax Formatted Vols Fix\n\nPowerMax OS (uCode 5978) arrays support adding volumes to a Metro\nRDF group without the need for formatting the volume in advance.\nThis bug fix addresses a bug in the code where PowerMax volumes\nare formatted regardless of support.\n\nChange-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788\nCloses-Bug: #1829876\n'}, {'number': 2, 'created': '2019-05-27 09:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/32b631b10188bcf83d79c5559307e6986a2a0810', 'message': 'PowerMax Driver - PowerMax Formatted Vols Fix\n\nPowerMax OS (uCode 5978) arrays support adding volumes to a Metro\nRDF group without the need for formatting the volume in advance.\nThis bug fix addresses a bug in the code where PowerMax volumes\nare formatted regardless of support.\n\nChange-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788\nCloses-Bug: #1829876\n'}, {'number': 3, 'created': '2019-05-31 11:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69123ea084b4d6464e51a942bb5eda1a900a3f55', 'message': 'PowerMax Driver - PowerMax Formatted Vols Fix\n\nPowerMax OS (uCode 5978) arrays support adding volumes to a Metro\nRDF group without the need for formatting the volume in advance.\nThis bug fix addresses a bug in the code where PowerMax volumes\nare formatted regardless of support.\n\nChange-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788\nCloses-Bug: #1829876\n'}, {'number': 4, 'created': '2019-06-03 20:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0aa8422e99efe3f77817a880b72cd107fe01ba3', 'message': 'PowerMax Driver - PowerMax Formatted Vols Fix\n\nPowerMax OS (uCode 5978) arrays support adding volumes to a Metro\nRDF group without the need for formatting the volume in advance.\nThis bug fix addresses a bug in the code where PowerMax volumes\nare formatted regardless of support.\n\nChange-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788\nCloses-Bug: #1829876\n'}, {'number': 5, 'created': '2019-06-05 11:07:32.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2f52da0d37f77e7a7d619ad1b6c6e098971dac1', 'message': 'PowerMax Driver - PowerMax Formatted Vols Fix\n\nPowerMax OS (uCode 5978) arrays support adding volumes to a Metro\nRDF group without the need for formatting the volume in advance.\nThis bug fix addresses a bug in the code where PowerMax volumes\nare formatted regardless of support.\n\nChange-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788\nCloses-Bug: #1829876\n'}]",3,660425,e2f52da0d37f77e7a7d619ad1b6c6e098971dac1,160,46,5,23601,,,0,"PowerMax Driver - PowerMax Formatted Vols Fix

PowerMax OS (uCode 5978) arrays support adding volumes to a Metro
RDF group without the need for formatting the volume in advance.
This bug fix addresses a bug in the code where PowerMax volumes
are formatted regardless of support.

Change-Id: Ib840d885c8e3d4d13c9d4bc3c88ef8e5d8477788
Closes-Bug: #1829876
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/660425/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",5,470cd66972e731bd8b5862bcb76d04336edd0ec6,91_endpoint," # Check if arrays are next gen to support add data vol to existing # metro enabled rdfg, else format drive before adding r1_nxt_gen = self.is_next_gen_array(array) r2_nxt_gen = self.is_next_gen_array(remote_array) if r1_nxt_gen and r2_nxt_gen: extra_specs[utils.RDF_CONS_EXEMPT] = True else: extra_specs[utils.RDF_CONS_EXEMPT] = False if (extra_specs.get(utils.RDF_CONS_EXEMPT) and extra_specs[utils.RDF_CONS_EXEMPT] is True): payload['consExempt'] = 'true' payload['rdfType'] = 'RDF1' else: LOG.warning(""Adding HyperMax OS volumes to an existing RDFG "" ""requires the volumes to be formatted in advance,"" ""please upgrade to PowerMax OS to bypass this "" ""restriction."") payload['format'] = 'true' payload['rdfType'] = 'NA' ", # Need to format subsequent volumes payload['format'] = 'true' payload['rdfType'] = 'RDF1',95,16
openstack%2Fpuppet-tripleo~master~I8e0f4bd90d22617a6451fa591f9ff50821d9c33b,openstack/puppet-tripleo,master,I8e0f4bd90d22617a6451fa591f9ff50821d9c33b,Fix bootstrap node for nova conductor,MERGED,2019-06-20 19:24:36.000000000,2019-06-26 18:50:11.000000000,2019-06-26 18:50:11.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-20 19:24:36.000000000', 'files': ['manifests/profile/base/nova/conductor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/31e5cc36fdb91a83a76ed0c7cf32949e464222cb', 'message': 'Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n'}]",0,666661,31e5cc36fdb91a83a76ed0c7cf32949e464222cb,9,5,1,3153,,,0,"Fix bootstrap node for nova conductor

The doc was updated but the actual default value still the one.
See context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9

Partial-Bug: #1792613
Change-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/61/666661/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/conductor.pp'],1,31e5cc36fdb91a83a76ed0c7cf32949e464222cb,bug/1792613," $bootstrap_node = hiera('nova_api_short_bootstrap_node_name', undef),"," $bootstrap_node = hiera('bootstrap_nodeid', undef),",1,1
openstack%2Fcinder~master~I0d2c129c172c7c2e4126e31a9b07de6178036dfc,openstack/cinder,master,I0d2c129c172c7c2e4126e31a9b07de6178036dfc,PowerMax driver - Rapid TDEV Deallocation,MERGED,2019-05-13 14:23:42.000000000,2019-06-26 18:50:06.000000000,2019-06-26 18:50:06.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-13 14:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01b6ea9a344b9b9a0a41e80e3e3754f62aa57c5c', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 2, 'created': '2019-05-17 09:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63c3ba7cbdfc767a16c1c1a55ca89d2f8262160b', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 3, 'created': '2019-05-17 09:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93132f8a0ce6a3f3a5eb8a17e7241837e4c865c2', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 4, 'created': '2019-05-21 12:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8bf3d2026ae2790c5a67fd21245027c99c6382fd', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 5, 'created': '2019-05-21 12:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca862d0f9b0a90e6cb19e0ec6fafce8abb902365', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 6, 'created': '2019-05-21 13:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4db76dc3a01ab1880d3d3672aa9dc9bff6c132d', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nImplements: blueprint powermax-tdev-deallocation\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 7, 'created': '2019-05-27 09:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3811a11141e9309826b5eea451eba2565bc48573', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nImplements: blueprint powermax-tdev-deallocation\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 8, 'created': '2019-05-31 11:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/610eb7ce51757c8456d1d5484923dade1207a18d', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nImplements: blueprint powermax-tdev-deallocation\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 9, 'created': '2019-06-03 20:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a70833be41420ef7e43bf82f71a7de8ca8724e8', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nImplements: blueprint powermax-tdev-deallocation\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}, {'number': 10, 'created': '2019-06-05 11:02:13.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'releasenotes/notes/powermax-tdev-deallocation-90bda0f95ab0b271.yaml', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd39a9b2f19e5a3fff86dd6908ea8d76db6f0e55', 'message': 'PowerMax driver - Rapid TDEV Deallocation\n\nChanges made to adding & removing volumes from RDF enabled storage groups\nwhen using new 91 endpoints force flag is needed in established groups.\n\nVolume delete workflow no longer calls deallocation function seperately, this is now\nincluded in volume delete process.\n\nImplements: blueprint powermax-tdev-deallocation\n\nChange-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc\n'}]",0,658830,cd39a9b2f19e5a3fff86dd6908ea8d76db6f0e55,245,44,10,30165,,,0,"PowerMax driver - Rapid TDEV Deallocation

Changes made to adding & removing volumes from RDF enabled storage groups
when using new 91 endpoints force flag is needed in established groups.

Volume delete workflow no longer calls deallocation function seperately, this is now
included in volume delete process.

Implements: blueprint powermax-tdev-deallocation

Change-Id: I0d2c129c172c7c2e4126e31a9b07de6178036dfc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/658830/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",4,01b6ea9a344b9b9a0a41e80e3e3754f62aa57c5c,91_endpoint," def add_vol_to_sg(self, array, storagegroup_name, device_id, extra_specs, force=False): :param force: add fprce argument to call force_add = ""true"" if force else ""false"" ""volumeId"": device_id, ""remoteSymmSGInfoParam"": { ""force"": force_add}}}}}) force_vol_remove = (""true"" if ""force_vol_remove"" in extra_specs else ""false"") ""volumeId"": device_id, ""remoteSymmSGInfoParam"": { ""force"": force_vol_remove}}}}) """"""Delete a volume. try: except Exception as e: LOG.warning('Delete volume failed with %(e)s.', {'e': e}) raise payload['rdfType'] = 'RDF1' payload = {""action"": ""SUSPEND"", params=params)"," def add_vol_to_sg(self, array, storagegroup_name, device_id, extra_specs): ""volumeId"": device_id}}}}) ""volumeId"": device_id}}}) """"""Deallocate or delete a volume. # Deallocate volume. Can fail if there are no tracks allocated. payload = {""editVolumeActionParam"": { ""freeVolumeParam"": {""free_volume"": 'true'}}} try: self._modify_volume(array, device_id, payload) except Exception as e: LOG.warning('Deallocate volume failed with %(e)s.' 'Attempting delete.', {'e': e}) # Try to delete the volume if deallocate failed. payload['rdfType'] = 'NA' payload = {""action"": ""Suspend"", private=""/private"", params=params)",38,24
openstack%2Fcinder~master~I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc,openstack/cinder,master,I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc,PowerMax driver - locking improvements,MERGED,2019-04-18 10:54:41.000000000,2019-06-26 18:50:03.000000000,2019-06-26 18:50:03.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30165}]","[{'number': 1, 'created': '2019-04-18 10:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a447a7038adf141042c2450534b1ea945781325', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}, {'number': 2, 'created': '2019-05-01 14:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4aad42261cd787a5e33fc6faca7e24cb59e1723', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}, {'number': 3, 'created': '2019-05-10 10:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82004233d4ae1cdfa06dd78e7fd5ac441b7268b0', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}, {'number': 4, 'created': '2019-05-17 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0819cadffe2789626fcddfeba222fe84c2e2478a', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}, {'number': 5, 'created': '2019-05-31 11:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c03c78f10a3b9b6de6690e13f59bda371e234303', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}, {'number': 6, 'created': '2019-06-03 20:09:11.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85228993298a0b83278b7c3a7efab39deed2ef40', 'message': 'PowerMax driver - locking improvements\n\nAdding the serial number of the array to the coordination tag which\nwill improve replication performance as storage groups and masking\nviews use the same names on the both the source and target array.\n\nChange-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc\n'}]",0,653717,85228993298a0b83278b7c3a7efab39deed2ef40,196,46,6,12670,,,0,"PowerMax driver - locking improvements

Adding the serial number of the array to the coordination tag which
will improve replication performance as storage groups and masking
views use the same names on the both the source and target array.

Change-Id: I127dd5f150cee8faa8c4a50d9ffed3f5e057e7bc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/653717/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py']",2,8a447a7038adf141042c2450534b1ea945781325,91_endpoint," @coordination.synchronized(""emc-mv-{maskingview_name}-{serial_number}"") def do_get_or_create_masking_view_and_map_lun( maskingview_name, serial_number): masking_view_dict[utils.MV_NAME], serial_number) @coordination.synchronized(""emc-sg-{child_sg}-{serial_number}"") @coordination.synchronized(""emc-sg-{parent_sg}-{serial_number}"") def do_add_sg_to_sg(child_sg, parent_sg, serial_number): do_add_sg_to_sg(child_sg_name, parent_sg_name, serial_number) @coordination.synchronized( ""emc-sg-{source_storagegroup_name}-{serial_number}"") @coordination.synchronized( ""emc-sg-{target_storagegroup_name}-{serial_number}"") @coordination.synchronized(""emc-sg-{sg_name}-{serial_number}"") def do_add_volume_to_sg(sg_name, serial_number): do_add_volume_to_sg(storagegroup_name, serial_number) @coordination.synchronized(""emc-sg-{sg_name}-{serial_number}"") def do_add_volume_to_sg(sg_name, serial_number): do_add_volume_to_sg(storagegroup_name, serial_number) @coordination.synchronized(""emc-sg-{sg_name}-{serial_number}"") def do_remove_volumes_from_storage_group(sg_name, serial_number): return do_remove_volumes_from_storage_group( storagegroup_name, serial_number) @coordination.synchronized(""emc-sg-{sg_name}-{serial_number}"") def do_remove_volume_from_sg(sg_name, serial_number): return do_remove_volume_from_sg(storagegroup_name, serial_number) @coordination.synchronized(""emc-mv-{parent_name}-{serial_number}"") @coordination.synchronized(""emc-mv-{mv_name}-{serial_number}"") @coordination.synchronized(""emc-sg-{sg_name}-{serial_number}"") def do_remove_volume_from_sg( mv_name, sg_name, parent_name, serial_number): parent_sg_name, serial_number) @coordination.synchronized( ""emc-sg-{default_sg_name}-{serial_number}"") def _move_vol_to_default_sg(default_sg_name, serial_number): _move_vol_to_default_sg(storagegroup_name, serial_number) @coordination.synchronized( ""emc-ig-{ig_name}-{serial_number}"") def _delete_ig(ig_name, serial_number): _delete_ig(initiatorgroup_name, serial_number)"," @coordination.synchronized(""emc-mv-{maskingview_name}"") def do_get_or_create_masking_view_and_map_lun(maskingview_name): masking_view_dict[utils.MV_NAME]) @coordination.synchronized(""emc-sg-{child_sg}"") @coordination.synchronized(""emc-sg-{parent_sg}"") def do_add_sg_to_sg(child_sg, parent_sg): do_add_sg_to_sg(child_sg_name, parent_sg_name) @coordination.synchronized(""emc-sg-{source_storagegroup_name}"") @coordination.synchronized(""emc-sg-{target_storagegroup_name}"") @coordination.synchronized(""emc-sg-{sg_name}"") def do_add_volume_to_sg(sg_name): do_add_volume_to_sg(storagegroup_name) @coordination.synchronized(""emc-sg-{sg_name}"") def do_add_volume_to_sg(sg_name): do_add_volume_to_sg(storagegroup_name) @coordination.synchronized(""emc-sg-{sg_name}"") def do_remove_volumes_from_storage_group(sg_name): return do_remove_volumes_from_storage_group(storagegroup_name) @coordination.synchronized(""emc-sg-{sg_name}"") def do_remove_volume_from_sg(sg_name): return do_remove_volume_from_sg(storagegroup_name) @coordination.synchronized(""emc-mv-{parent_name}"") @coordination.synchronized(""emc-mv-{mv_name}"") @coordination.synchronized(""emc-sg-{sg_name}"") def do_remove_volume_from_sg(mv_name, sg_name, parent_name): parent_sg_name) @coordination.synchronized(""emc-sg-{default_sg_name}"") def _move_vol_to_default_sg(default_sg_name): _move_vol_to_default_sg(storagegroup_name) @coordination.synchronized(""emc-ig-{ig_name}"") def _delete_ig(ig_name): _delete_ig(initiatorgroup_name)",45,38
openstack%2Fcinder~master~I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f,openstack/cinder,master,I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f,PowerMax driver - clone improvements,MERGED,2019-04-17 15:31:49.000000000,2019-06-26 18:50:00.000000000,2019-06-26 18:50:00.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}, {'_account_id': 30165}]","[{'number': 1, 'created': '2019-04-17 15:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/227cac2fa2b9dce05a72604b02127dba26192b1c', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}, {'number': 2, 'created': '2019-05-01 14:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aaed5ad969d766751f15c80683ce24c9c91f7171', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}, {'number': 3, 'created': '2019-05-10 10:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fe590a281247ae18b7de81bebd0014084b9c2a2', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}, {'number': 4, 'created': '2019-05-17 09:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67170bfd17dc0ae8d55ef8c194cc61f2289dc41d', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}, {'number': 5, 'created': '2019-05-31 11:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c974b2677b78a680045de8cab90bd9ee56d8706b', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}, {'number': 6, 'created': '2019-06-03 20:07:21.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff5cbe0d88db3b7ee654ce8954f79564f289fcd3', 'message': 'PowerMax driver - clone improvements\n\n1.  Bring clone licence exception closer to clone licence check\n2.  Throw exception if source volume no longer exists\n3.  Retry snapvx cleanup\n\nChange-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f\n'}]",4,653469,ff5cbe0d88db3b7ee654ce8954f79564f289fcd3,210,46,6,12670,,,0,"PowerMax driver - clone improvements

1.  Bring clone licence exception closer to clone licence check
2.  Throw exception if source volume no longer exists
3.  Retry snapvx cleanup

Change-Id: I2c9d89a4384428ce08d86a6f8260f3ac2a460e8f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/653469/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py']",2,227cac2fa2b9dce05a72604b02127dba26192b1c,91_endpoint,"from cinder.utils import retryretry_exc_tuple = (exception.VolumeBackendAPIException,) if not is_clone_license: exception_message = (_( ""SnapVx feature is not licensed on %(array)s."") % {'array': array}) LOG.error(exception_message) raise exception.VolumeBackendAPIException( message=exception_message) if not source_device_id: ""Cannot find source device on %(array)s."") @retry(retry_exc_tuple, interval=2, retries=2) try: self._unlink_targets_and_delete_temp_snapvx( session, array, extra_specs) except Exception: exception_message = _( ""Will retry one more time."") LOG.warning(exception_message) raise exception.VolumeBackendAPIException( exception_message) def _unlink_targets_and_delete_temp_snapvx( self, session, array, extra_specs): """"""unlink targets and delete the temporary snapvx :param session: the snapvx session :param array: the array serial number :param extra_specs: extra specifications """""" source = session['source_vol'] snap_name = session['snap_name'] targets = session['target_vol_list'] generation = session['generation'] for target in targets: LOG.debug(""Unlinking source from target. Source: "" ""%(volume)s, Target: %(target)s, "" ""generation: %(generation)s."", {'volume': source, 'target': target[0], 'generation': generation}) self.provision.break_replication_relationship( array, target[0], source, snap_name, extra_specs, generation) # The snapshot name will only have 'temp' (or EMC_SMI for # legacy volumes) if it is a temporary volume. # Only then is it a candidate for deletion. if 'temp' in snap_name or 'EMC_SMI' in snap_name: LOG.debug(""Deleting temporary snapshot. Source: "" ""%(volume)s, snap name: %(snap_name)s, "" ""generation: %(generation)s."", {'volume': source, 'snap_name': snap_name, 'generation': generation}) self.provision.delete_temp_volume_snap( array, snap_name, source, generation)"," if not is_clone_license: ""SnapVx feature is not licensed on %(array)s."") source = session['source_vol'] snap_name = session['snap_name'] targets = session['target_vol_list'] generation = session['generation'] # Break the replication relationship for target in targets: LOG.debug(""Unlinking source from target. Source: "" ""%(volume)s, Target: %(target)s, "" ""generation: %(generation)s."", {'volume': source, 'target': target[0], 'generation': generation}) self.provision.break_replication_relationship( array, target[0], source, snap_name, extra_specs, generation) # The snapshot name will only have 'temp' (or EMC_SMI for # legacy volumes) if it is a temporary volume. # Only then is it a candidate for deletion. if 'temp' in snap_name or 'EMC_SMI' in snap_name: LOG.debug(""Deleting temporary snapshot. Source: "" ""%(volume)s, snap name: %(snap_name)s, "" ""generation: %(generation)s."", {'volume': source, 'snap_name': snap_name, 'generation': generation}) self.provision.delete_temp_volume_snap( array, snap_name, source, generation)",115,28
openstack%2Fcinder~master~I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8,openstack/cinder,master,I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8,PowerMax driver - add 'target_array_model' to metadata,MERGED,2019-03-19 17:51:32.000000000,2019-06-26 18:49:57.000000000,2019-06-26 18:49:57.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30165}]","[{'number': 1, 'created': '2019-03-19 17:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e77cbf26f8e8235bfa70b9bae1ace771c9d1765f', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 2, 'created': '2019-03-19 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dd2ca7549abd8330b8cd596f1c0afce0014b67e', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 3, 'created': '2019-03-20 12:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a38c5bedc9758fc820a62965417b12f6d96c2c03', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 4, 'created': '2019-03-21 15:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a95f2eb9a527fbab5654b7a33e4a8314b8eb1d0', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 5, 'created': '2019-03-22 22:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ec3af3f6227e979f9f2d442e82889b61622e64b', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 6, 'created': '2019-05-01 13:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f29e122e2e94d1d5ad0d661f0906a3cbc1e2af0', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 7, 'created': '2019-05-01 14:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eedd5b10a254128a761fac3fdeb5296dbd39de00', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 8, 'created': '2019-05-09 15:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b2c29d0da1c45aa7f20c2a36686f56c8bb8b250', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 9, 'created': '2019-05-17 09:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/210fb8e23ee55b983028fa2ea7d15932165ee47b', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 10, 'created': '2019-05-31 10:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c41ad878896d2b9428fe6b1bb27937a437001a20', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}, {'number': 11, 'created': '2019-06-03 20:05:34.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e57c46042dbda4f43948e6672b047f22cc65276c', 'message': ""PowerMax driver - add 'target_array_model' to metadata\n\nMake sure 'target_array_model' gets added to volume metadata in all\ncases where replication is enabled.  Initialize it to None to prevent\nKeyError exceptions.  Also using traceback for a more explanatory\nexception within the decorator method.\n\nChange-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8\n""}]",13,644620,e57c46042dbda4f43948e6672b047f22cc65276c,323,47,11,12670,,,0,"PowerMax driver - add 'target_array_model' to metadata

Make sure 'target_array_model' gets added to volume metadata in all
cases where replication is enabled.  Initialize it to None to prevent
KeyError exceptions.  Also using traceback for a more explanatory
exception within the decorator method.

Change-Id: I30c2e7a60e12e4f419dd469f1ed04bf03a74c1a8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/644620/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",5,e77cbf26f8e8235bfa70b9bae1ace771c9d1765f,91_endpoint, vmax_driver_version = '4.0', vmax_driver_version = '3.1',113,16
openstack%2Fcinder~master~Ie072e1c4cd2db204664896dc4dc0c131a9341d57,openstack/cinder,master,Ie072e1c4cd2db204664896dc4dc0c131a9341d57,PowerMax driver -  changing from 9.0 to 9.1 REST endpoints,MERGED,2019-04-18 15:09:26.000000000,2019-06-26 18:43:28.000000000,2019-06-26 18:43:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28543}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30165}, {'_account_id': 30402}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-04-18 15:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5267f41aef001a781c0a6e7d11343f8338dd861c', 'message': 'PowerMax driver -  changing from 9.0 to 9.1 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 9.0 to 9.1.\n\nChange-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57\n'}, {'number': 2, 'created': '2019-05-01 14:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85e2b6e5ef2b22005a7658da19b3057151664239', 'message': 'PowerMax driver -  changing from 9.0 to 9.1 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 9.0 to 9.1.\n\nChange-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57\n'}, {'number': 3, 'created': '2019-05-09 13:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9a2f16f447aef3a83172a4005cc3efa49783eb2', 'message': 'PowerMax driver -  changing from 9.0 to 9.1 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 9.0 to 9.1.\n\nChange-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57\n'}, {'number': 4, 'created': '2019-05-17 08:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57ffdf178b26df79ebf06f7e590f5a3f7c1db3b5', 'message': 'PowerMax driver -  changing from 9.0 to 9.1 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 9.0 to 9.1.\n\nChange-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57\n'}, {'number': 5, 'created': '2019-05-31 09:55:40.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/powermax-90-to-91-endpoints-a92c4d158cb63fe4.yaml', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bcc12d383a82250bda0f5c4c06203b0655613be1', 'message': 'PowerMax driver -  changing from 9.0 to 9.1 REST endpoints\n\nChanging unisphere for powermax REST endpoint from 9.0 to 9.1.\n\nChange-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57\n'}]",1,653786,bcc12d383a82250bda0f5c4c06203b0655613be1,191,53,5,30165,,,0,"PowerMax driver -  changing from 9.0 to 9.1 REST endpoints

Changing unisphere for powermax REST endpoint from 9.0 to 9.1.

Change-Id: Ie072e1c4cd2db204664896dc4dc0c131a9341d57
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/653786/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",7,5267f41aef001a781c0a6e7d11343f8338dd861c,91_endpoint,"U4V_VERSION = '91' version_url = ""/%s/system/info"" % U4V_VERSION version_dict = self._get_request(version_url, 'info') target_uri = ""/%s/sloprovisioning/symmetrix?compressionCapable=true"" \ % U4V_VERSION ""expandStorageGroupParam"": { ""addExistingStorageGroupParam"": { ""storageGroupId"": [child_sg]}}}} sc, job = self.modify_storage_group(array, parent_sg, payload) slo_param = {""sloId"": slo, ""volumeAttributes"": [{ ""capacityUnit"": ""GB"", ""num_of_vols"": 0}]} port = ""%s:%s"" % (key['directorId'], key['portId']) ""symforce"": 'false', ""generation"": generation} if (snap_info.get('snapshotSrcs') and bool(snap_info['snapshotSrcs'])): for snap in snap_info['snapshotSrcs']: if bool(snap_info['snapshotSrcs']): snapshot_list = snap_info['snapshotSrcs']","U4V_VERSION = '90' version_url = ""/%s/system/version"" % U4V_VERSION version_dict = self._get_request(version_url, 'version') target_uri = ""/84/sloprovisioning/symmetrix?compressionCapable=true"" ""addExistingStorageGroupParam"": { ""storageGroupId"": [child_sg]}}} sc, job = self.modify_storage_group(array, parent_sg, payload, version=""83"") slo_param = {""num_of_vols"": 0, ""sloId"": slo, ""volumeAttribute"": { ""capacityUnit"": ""GB""}} port = key['portId'] ""symforce"": 'false', ""nocopy"": 'false', ""generation"": generation} if (snap_info.get('snapshotSrc') and bool(snap_info['snapshotSrc'])): for snap in snap_info['snapshotSrc']: if bool(snap_info['snapshotSrc']): snapshot_list = snap_info['snapshotSrc']",61,56
openstack%2Fplacement~master~I76cad83248920fa71da122711f1f763c4ebdb1ba,openstack/placement,master,I76cad83248920fa71da122711f1f763c4ebdb1ba,Microversion 1.35: root_required,MERGED,2019-06-14 22:55:31.000000000,2019-06-26 18:43:23.000000000,2019-06-26 18:43:23.000000000,"[{'_account_id': 2394}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-14 22:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6f2c8cdb35910f9c96f72bfdc38f98b61742acd8', 'message': 'WIP: Microversion 1.35: root_required\n\nTODO: finish the plumbing\nTODO: moar gabbi\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 2, 'created': '2019-06-15 00:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ba26f28323fc9ff5db5a51200bdcc5a48a112c7e', 'message': 'WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 3, 'created': '2019-06-15 01:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4e6cad6297471be764f71304c82a813321bfdb79', 'message': 'WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 4, 'created': '2019-06-15 01:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f3c88f9ff61bfa9beb4df59bb03c1af97e4d80a5', 'message': 'WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 5, 'created': '2019-06-16 17:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fa8660e3cefb47f95a0e9431e05b6d306b8c0cd1', 'message': 'WIP: Microversion 1.35: root_required\n\nTODO: finish plumbing\nTODO: moar gabbi\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 6, 'created': '2019-06-16 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4b0e8eca777b656deb6de3a051844f30ef9fbbd5', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 7, 'created': '2019-06-17 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b694c6077a7ad9dfefc9c52f1e86aa3d073cd1b0', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 8, 'created': '2019-06-17 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/17eabb9968449c9a9ac322de44b9e7d37747cae8', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 9, 'created': '2019-06-17 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b4066967a4e6efcc5e52e975a0aa121dcf83b867', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 10, 'created': '2019-06-17 22:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d422a27a958d833b965e3dc262a58a95f91833e7', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 11, 'created': '2019-06-18 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/864648ab2e7f918747d44c4b608cbd16980d8abc', 'message': ""WIP: Microversion 1.35: root_required\n\nTODO: moar gabbi\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree's root resource provider satisfies\nthe specified trait requirements.\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n""}, {'number': 12, 'created': '2019-06-18 20:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/924e7fcd0e4898d48b19f25990c67c323a28202f', 'message': 'Microversion 1.35: root_required\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree\'s root resource provider satisfies\nthe specified trait requirements.\n\nThis is to support use cases like, ""Land my VM on a host that is capable\nof multi-attach,"" or, ""Reserve my Windows-licensed hosts for special\nuse.""\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 13, 'created': '2019-06-19 23:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bdf68ca2e571f8381b5021c11cae5d6e0382176f', 'message': 'Microversion 1.35: root_required\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree\'s root resource provider satisfies\nthe specified trait requirements.\n\nThis is to support use cases like, ""Land my VM on a host that is capable\nof multi-attach,"" or, ""Reserve my Windows-licensed hosts for special\nuse.""\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 14, 'created': '2019-06-20 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/777e25b11f6ea2ffde2da7d52ee085c4ee5e5156', 'message': 'Microversion 1.35: root_required\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree\'s root resource provider satisfies\nthe specified trait requirements.\n\nThis is to support use cases like, ""Land my VM on a host that is capable\nof multi-attach,"" or, ""Reserve my Windows-licensed hosts for special\nuse.""\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 15, 'created': '2019-06-20 21:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cbecaeb40190539405695288faed743fcd37480c', 'message': 'Microversion 1.35: root_required\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree\'s root resource provider satisfies\nthe specified trait requirements.\n\nThis is to support use cases like, ""Land my VM on a host that is capable\nof multi-attach,"" or, ""Reserve my Windows-licensed hosts for special\nuse.""\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}, {'number': 16, 'created': '2019-06-20 22:30:44.000000000', 'files': ['api-ref/source/parameters.yaml', 'placement/lib.py', 'placement/objects/research_context.py', 'placement/tests/functional/gabbits/allocation-candidates-root-required.yaml', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/microversion.py', 'placement/schemas/allocation_candidate.py', 'placement/rest_api_version_history.rst', 'placement/tests/functional/fixtures/gabbits.py', 'placement/errors.py', 'releasenotes/notes/allocation-candidates-root_required-bfe4f96f96a2a5db.yaml', 'api-ref/source/allocation_candidates.inc', 'doc/source/usage/provider-tree.rst', 'placement/handlers/allocation_candidate.py', 'placement/tests/functional/gabbits/microversion.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/b733786a0a5bca5b56b9ace5b75e23365f10d9ce', 'message': 'Microversion 1.35: root_required\n\nMicroversion 1.35_ adds support for the ``root_required`` query\nparameter to the ``GET /allocation_candidates`` API. It accepts a\ncomma-delimited list of trait names, each optionally prefixed with ``!``\nto indicate a forbidden trait, in the same format as the ``required``\nquery parameter. This restricts allocation requests in the response to\nonly those whose (non-sharing) tree\'s root resource provider satisfies\nthe specified trait requirements.\n\nThis is to support use cases like, ""Land my VM on a host that is capable\nof multi-attach,"" or, ""Reserve my Windows-licensed hosts for special\nuse.""\n\nStory: #2005575\nTask: #33753\nChange-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba\n'}]",116,665492,b733786a0a5bca5b56b9ace5b75e23365f10d9ce,61,8,16,14070,,,0,"Microversion 1.35: root_required

Microversion 1.35_ adds support for the ``root_required`` query
parameter to the ``GET /allocation_candidates`` API. It accepts a
comma-delimited list of trait names, each optionally prefixed with ``!``
to indicate a forbidden trait, in the same format as the ``required``
query parameter. This restricts allocation requests in the response to
only those whose (non-sharing) tree's root resource provider satisfies
the specified trait requirements.

This is to support use cases like, ""Land my VM on a host that is capable
of multi-attach,"" or, ""Reserve my Windows-licensed hosts for special
use.""

Story: #2005575
Task: #33753
Change-Id: I76cad83248920fa71da122711f1f763c4ebdb1ba
",git fetch https://review.opendev.org/openstack/placement refs/changes/92/665492/16 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'placement/lib.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/microversion.py', 'placement/schemas/allocation_candidate.py', 'placement/rest_api_version_history.rst', 'releasenotes/notes/allocation-candidates-root_required-bfe4f96f96a2a5db.yaml', 'api-ref/source/allocation_candidates.inc', 'placement/handlers/allocation_candidate.py', 'placement/tests/functional/gabbits/allocation-candidates-root_required.yaml', 'placement/tests/functional/gabbits/microversion.yaml']",12,6f2c8cdb35910f9c96f72bfdc38f98b61742acd8,story/2005575-33753,- name: latest microversion is 1.35 openstack-api-version: placement 1.35,- name: latest microversion is 1.34 openstack-api-version: placement 1.34,189,62
openstack%2Fnova~master~I43fd8d5eeb382d1e5472fa4e9a2f01bd0e4bf243,openstack/nova,master,I43fd8d5eeb382d1e5472fa4e9a2f01bd0e4bf243,Fix update_provider_tree signature in reference docs,MERGED,2019-06-25 16:47:16.000000000,2019-06-26 18:43:19.000000000,2019-06-26 18:43:19.000000000,"[{'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 16:47:16.000000000', 'files': ['doc/source/reference/update-provider-tree.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9ed708d8743c1dccec5c61db600e732e7c22f5e', 'message': 'Fix update_provider_tree signature in reference docs\n\nThe migration guide for porting from old methods to upt\nwas missing the allocations kwarg in the code samples.\n\nChange-Id: I43fd8d5eeb382d1e5472fa4e9a2f01bd0e4bf243\n'}]",0,667408,c9ed708d8743c1dccec5c61db600e732e7c22f5e,12,7,1,6873,,,0,"Fix update_provider_tree signature in reference docs

The migration guide for porting from old methods to upt
was missing the allocations kwarg in the code samples.

Change-Id: I43fd8d5eeb382d1e5472fa4e9a2f01bd0e4bf243
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/667408/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/update-provider-tree.rst'],1,c9ed708d8743c1dccec5c61db600e732e7c22f5e,upt-docs," def update_provider_tree(self, provider_tree, nodename, allocations=None): def update_provider_tree(self, provider_tree, nodename, allocations=None):"," def update_provider_tree(self, provider_tree, nodename): def update_provider_tree(self, provider_tree, nodename):",2,2
openstack%2Fplacement~master~I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6,openstack/placement,master,I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6,RequestWideParams and RequestWideSearchContext,MERGED,2019-06-17 15:26:49.000000000,2019-06-26 18:43:14.000000000,2019-06-26 18:43:14.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9f9b6271ca9ff1e8fce04bbdc7a84b87d4233b2f', 'message': 'Introduce RequestWideParams\n\nRecent design discussions have reified the concept that a request to GET\n/allocation_candidates has two kinds of query parameters:\n\n- Those that apply to request groups: resources[$S], required[$S], etc.\n  Essentially all the ones that can be (optionally) suffixed.\n- Those that apply to the request as a whole: limit, group_policy.\n\nGroup-specific parameters are already encapsulated in the\nplacement.lib.RequestGroup class, one instance of which is used to\nrepresent each request group in the query.\n\nThis commit pulls the existing request-wide parameters, limit and\ngroup_policy, into a new class, placement.lib.RequestWideParams.\n\nIn so doing, it adjusts the signatures of methods which used to use\nthose individual parameters to use an instance of RequestWideParams as\nwell.\n\nAt the same time, parameters and local variables referring to the list\nof RequestGroup are renamed from `requests` to `groups` to\ndisambiguate/clarify what they are.\n\nChange-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6\n'}, {'number': 2, 'created': '2019-06-17 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4c24a8ce78fc4c89a19fa681cedba225365d5e99', 'message': 'RequestWideParams and RequestWideSearchContext\n\nRecent design discussions have reified the concept that a request to GET\n/allocation_candidates has two kinds of query parameters:\n\n- Those that apply to request groups: resources[$S], required[$S], etc.\n  Essentially all the ones that can be (optionally) suffixed.\n- Those that apply to the request as a whole: limit, group_policy.\n\nGroup-specific parameters are already encapsulated in the\nplacement.lib.RequestGroup class, one instance of which is used to\nrepresent each request group in the query. And then database and other\nfiltering logic is encapsulated in\nplacement.objects.research_context.RequestGroupSearchContext.\n\nThis commit pulls the existing request-wide parameters, limit and\ngroup_policy, into a new class, placement.lib.RequestWideParams; and\nintroduces placement.objects.research_context.RequestWideSearchContext\nto encompass the filtering logic for the same.\n\nIn so doing, we adjust the signatures of methods which used to use those\nindividual parameters.\n\nAt the same time, parameters and local variables referring to the list\nof RequestGroup are renamed from `requests` to `groups` to\ndisambiguate/clarify what they are.\n\nIn the end, this is just a refactor. No logic is changed.\n\nChange-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6\n'}, {'number': 3, 'created': '2019-06-17 22:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/90ec6ee124fe819ee1c325e8b455febd44e952ac', 'message': 'RequestWideParams and RequestWideSearchContext\n\nRecent design discussions have reified the concept that a request to GET\n/allocation_candidates has two kinds of query parameters:\n\n- Those that apply to request groups: resources[$S], required[$S], etc.\n  Essentially all the ones that can be (optionally) suffixed.\n- Those that apply to the request as a whole: limit, group_policy.\n\nGroup-specific parameters are already encapsulated in the\nplacement.lib.RequestGroup class, one instance of which is used to\nrepresent each request group in the query. And then database and other\nfiltering logic is encapsulated in\nplacement.objects.research_context.RequestGroupSearchContext.\n\nThis commit pulls the existing request-wide parameters, limit and\ngroup_policy, into a new class, placement.lib.RequestWideParams; and\nintroduces placement.objects.research_context.RequestWideSearchContext\nto encompass the filtering logic for the same.\n\nIn so doing, we adjust the signatures of methods which used to use those\nindividual parameters.\n\nAt the same time, parameters and local variables referring to the list\nof RequestGroup are renamed from `requests` to `groups` to\ndisambiguate/clarify what they are.\n\nIn the end, this is just a refactor. No logic is changed.\n\nChange-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6\n'}, {'number': 4, 'created': '2019-06-20 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9ca32d1194ce4c8aa5ddbcf671e2ba3d75ba32b3', 'message': 'RequestWideParams and RequestWideSearchContext\n\nRecent design discussions have reified the concept that a request to GET\n/allocation_candidates has two kinds of query parameters:\n\n- Those that apply to request groups: resources[$S], required[$S], etc.\n  Essentially all the ones that can be (optionally) suffixed.\n- Those that apply to the request as a whole: limit, group_policy.\n\nGroup-specific parameters are already encapsulated in the\nplacement.lib.RequestGroup class, one instance of which is used to\nrepresent each request group in the query. And then database and other\nfiltering logic is encapsulated in\nplacement.objects.research_context.RequestGroupSearchContext.\n\nThis commit pulls the existing request-wide parameters, limit and\ngroup_policy, into a new class, placement.lib.RequestWideParams; and\nintroduces placement.objects.research_context.RequestWideSearchContext\nto encompass the filtering logic for the same.\n\nIn so doing, we adjust the signatures of methods which used to use those\nindividual parameters.\n\nAt the same time, parameters and local variables referring to the list\nof RequestGroup are renamed from `requests` to `groups` to\ndisambiguate/clarify what they are.\n\nIn the end, this is just a refactor. No logic is changed.\n\nChange-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6\n'}, {'number': 5, 'created': '2019-06-20 21:58:35.000000000', 'files': ['placement/lib.py', 'placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/tests/functional/db/test_resource_provider.py', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/5a6884ae12cab3e9627699b7a8045a0386343e84', 'message': 'RequestWideParams and RequestWideSearchContext\n\nRecent design discussions have reified the concept that a request to GET\n/allocation_candidates has two kinds of query parameters:\n\n- Those that apply to request groups: resources[$S], required[$S], etc.\n  Essentially all the ones that can be (optionally) suffixed.\n- Those that apply to the request as a whole: limit, group_policy.\n\nGroup-specific parameters are already encapsulated in the\nplacement.lib.RequestGroup class, one instance of which is used to\nrepresent each request group in the query. And then database and other\nfiltering logic is encapsulated in\nplacement.objects.research_context.RequestGroupSearchContext.\n\nThis commit pulls the existing request-wide parameters, limit and\ngroup_policy, into a new class, placement.lib.RequestWideParams; and\nintroduces placement.objects.research_context.RequestWideSearchContext\nto encompass the filtering logic for the same.\n\nIn so doing, we adjust the signatures of methods which used to use those\nindividual parameters.\n\nAt the same time, parameters and local variables referring to the list\nof RequestGroup are renamed from `requests` to `groups` to\ndisambiguate/clarify what they are.\n\nIn the end, this is just a refactor. No logic is changed.\n\nChange-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6\n'}]",5,665712,5a6884ae12cab3e9627699b7a8045a0386343e84,21,4,5,14070,,,0,"RequestWideParams and RequestWideSearchContext

Recent design discussions have reified the concept that a request to GET
/allocation_candidates has two kinds of query parameters:

- Those that apply to request groups: resources[$S], required[$S], etc.
  Essentially all the ones that can be (optionally) suffixed.
- Those that apply to the request as a whole: limit, group_policy.

Group-specific parameters are already encapsulated in the
placement.lib.RequestGroup class, one instance of which is used to
represent each request group in the query. And then database and other
filtering logic is encapsulated in
placement.objects.research_context.RequestGroupSearchContext.

This commit pulls the existing request-wide parameters, limit and
group_policy, into a new class, placement.lib.RequestWideParams; and
introduces placement.objects.research_context.RequestWideSearchContext
to encompass the filtering logic for the same.

In so doing, we adjust the signatures of methods which used to use those
individual parameters.

At the same time, parameters and local variables referring to the list
of RequestGroup are renamed from `requests` to `groups` to
disambiguate/clarify what they are.

In the end, this is just a refactor. No logic is changed.

Change-Id: I572ec8e6c0f9d81ead49964f41b46ab68a3de9a6
",git fetch https://review.opendev.org/openstack/placement refs/changes/12/665712/5 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/handlers/allocation_candidate.py']",4,9f9b6271ca9ff1e8fce04bbdc7a84b87d4233b2f,story/2005575-33753," groups = lib.RequestGroup.dict_from_request(req) rqparams = lib.RequestWideParams.from_request(context, req) if not rqparams.group_policy: if len([rg for rg in groups.values() if rg.use_same_provider]) > 1: context, groups, rqparams, nested_aware=nested_aware) trx_cands = _transform_allocation_candidates(cands, groups, want_version)"," requests = lib.RequestGroup.dict_from_request(req) limit = req.GET.getall('limit') # JSONschema has already confirmed that limit has the form # of an integer. if limit: limit = int(limit[0]) group_policy = req.GET.getall('group_policy') or None # Schema ensures we get either ""none"" or ""isolate"" if group_policy: group_policy = group_policy[0] else: if len([rg for rg in requests.values() if rg.use_same_provider]) > 1: context, requests, limit=limit, group_policy=group_policy, nested_aware=nested_aware) trx_cands = _transform_allocation_candidates(cands, requests, want_version)",81,52
openstack%2Fplacement~master~I4c2502fe46b354851203e186d7deb1cb3f199fd3,openstack/placement,master,I4c2502fe46b354851203e186d7deb1cb3f199fd3,Refactor anchors_for_sharing_providers,MERGED,2019-06-16 21:10:14.000000000,2019-06-26 18:35:50.000000000,2019-06-26 18:35:50.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-16 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/143a671bb576ab1cf6c271d580830852894f5214', 'message': 'Refactor anchors_for_sharing_providers\n\nAt some point anchors_for_sharing_providers was reused in a context\nwhere we needed to use the same algorithm, but retrieve internal IDs\ninstead of UUIDs. This was done by adding a kwarg triggering slightly\ndifferent SQL.\n\nA future patch is going to want both internal IDs *and* UUIDs at the\nsame time, so this commit refactors anchors_for_sharing_providers to\neliminate the kwarg, run the same SQL every time, and return a\nnamedtuple called AnchorIds containing all four identifiers (provider\nID, provider UUID, anchor ID, anchor UUID).\n\nChange-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3\n'}, {'number': 2, 'created': '2019-06-17 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8e4a00d08cb64db5c98db56a817a1772eb54df9c', 'message': 'Refactor anchors_for_sharing_providers\n\nAt some point anchors_for_sharing_providers was reused in a context\nwhere we needed to use the same algorithm, but retrieve internal IDs\ninstead of UUIDs. This was done by adding a kwarg triggering slightly\ndifferent SQL.\n\nA future patch is going to want both internal IDs *and* UUIDs at the\nsame time, so this commit refactors anchors_for_sharing_providers to\neliminate the kwarg, run the same SQL every time, and return a\nnamedtuple called AnchorIds containing all four identifiers (provider\nID, provider UUID, anchor ID, anchor UUID).\n\nChange-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3\n'}, {'number': 3, 'created': '2019-06-17 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2c0407297fc31cfabd1cc6ecb84b16fb4bdbd285', 'message': 'Refactor anchors_for_sharing_providers\n\nAt some point anchors_for_sharing_providers was reused in a context\nwhere we needed to use the same algorithm, but retrieve internal IDs\ninstead of UUIDs. This was done by adding a kwarg triggering slightly\ndifferent SQL.\n\nA future patch is going to want both internal IDs *and* UUIDs at the\nsame time, so this commit refactors anchors_for_sharing_providers to\neliminate the kwarg, run the same SQL every time, and return a\nnamedtuple called AnchorIds containing all four identifiers (provider\nID, provider UUID, anchor ID, anchor UUID).\n\nChange-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3\n'}, {'number': 4, 'created': '2019-06-20 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a54e457cf7feb02d17ef7772ff13757c2a7d7905', 'message': 'Refactor anchors_for_sharing_providers\n\nAt some point anchors_for_sharing_providers was reused in a context\nwhere we needed to use the same algorithm, but retrieve internal IDs\ninstead of UUIDs. This was done by adding a kwarg triggering slightly\ndifferent SQL.\n\nA future patch is going to want both internal IDs *and* UUIDs at the\nsame time, so this commit refactors anchors_for_sharing_providers to\neliminate the kwarg, run the same SQL every time, and return a\nnamedtuple called AnchorIds containing all four identifiers (provider\nID, provider UUID, anchor ID, anchor UUID).\n\nChange-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3\n'}, {'number': 5, 'created': '2019-06-20 21:58:35.000000000', 'files': ['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/c774416dd124ab95eeca942a3a8992bcdee3fadf', 'message': 'Refactor anchors_for_sharing_providers\n\nAt some point anchors_for_sharing_providers was reused in a context\nwhere we needed to use the same algorithm, but retrieve internal IDs\ninstead of UUIDs. This was done by adding a kwarg triggering slightly\ndifferent SQL.\n\nA future patch is going to want both internal IDs *and* UUIDs at the\nsame time, so this commit refactors anchors_for_sharing_providers to\neliminate the kwarg, run the same SQL every time, and return a\nnamedtuple called AnchorIds containing all four identifiers (provider\nID, provider UUID, anchor ID, anchor UUID).\n\nChange-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3\n'}]",0,665561,c774416dd124ab95eeca942a3a8992bcdee3fadf,19,4,5,14070,,,0,"Refactor anchors_for_sharing_providers

At some point anchors_for_sharing_providers was reused in a context
where we needed to use the same algorithm, but retrieve internal IDs
instead of UUIDs. This was done by adding a kwarg triggering slightly
different SQL.

A future patch is going to want both internal IDs *and* UUIDs at the
same time, so this commit refactors anchors_for_sharing_providers to
eliminate the kwarg, run the same SQL every time, and return a
namedtuple called AnchorIds containing all four identifiers (provider
ID, provider UUID, anchor ID, anchor UUID).

Change-Id: I4c2502fe46b354851203e186d7deb1cb3f199fd3
",git fetch https://review.opendev.org/openstack/placement refs/changes/61/665561/4 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_resource_provider.py']",3,143a671bb576ab1cf6c271d580830852894f5214,story/2005575-33753," def _anchor(shr, anc): return res_ctx.AnchorIds( rp_id=shr.id, rp_uuid=shr.uuid, anchor_id=anc.id, anchor_uuid=anc.uuid) expected = set(_anchor(s1, rp) for rp in (s1, r1, r2, r3, s5)) expected = set(_anchor(s2, rp) for rp in (s2, r3)) set([_anchor(s3, s3)]), res_ctx.anchors_for_sharing_providers(self.ctx, [s3.id])) expected = set(_anchor(s5, rp) for rp in (s5, r1, r2, s1)) [_anchor(s1, rp) for rp in (r1, r2, r3, s1, s5)] + [_anchor(s2, rp) for rp in (r3, s2)] + [_anchor(s3, rp) for rp in (s3,)] + [_anchor(s5, rp) for rp in (r1, r2, s1, s5)] self.ctx, [s1.id, s2.id, s3.id, s4.id, s5.id]))"," expected = set([(s1.uuid, rp.uuid) for rp in (s1, r1, r2, r3, s5)]) # Get same result (id format) when we set get_id=True expected = set([(s1.id, rp.id) for rp in (s1, r1, r2, r3, s5)]) self.assertItemsEqual( expected, res_ctx.anchors_for_sharing_providers( self.ctx, [s1.id], get_id=True)) expected = set([(s2.uuid, rp.uuid) for rp in (s2, r3)]) set([(s3.uuid, s3.uuid)]), res_ctx.anchors_for_sharing_providers( self.ctx, [s3.id])) expected = set([(s5.uuid, rp.uuid) for rp in (s5, r1, r2, s1)]) [(s1.id, rp.id) for rp in (r1, r2, r3, s1, s5)] + [(s2.id, rp.id) for rp in (r3, s2)] + [(s3.id, rp.id) for rp in (s3,)] + [(s5.id, rp.id) for rp in (r1, r2, s1, s5)] self.ctx, [s1.id, s2.id, s3.id, s4.id, s5.id], get_id=True))",36,39
openstack%2Fproject-config~master~Id9c5f666ec511f34d57ab607f5379b05e0e65f2e,openstack/project-config,master,Id9c5f666ec511f34d57ab607f5379b05e0e65f2e,"Revert ""Make glean opensuse job non-voting""",ABANDONED,2019-06-26 07:13:46.000000000,2019-06-26 18:29:02.000000000,,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 07:13:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1f8f0367b1f025419d29c48a94c0877c9759a487', 'message': 'Revert ""Make glean opensuse job non-voting""\n\nThis reverts commit 0caa0941578c36653ea0d5f23448438f63733385.\n\nChange-Id: Id9c5f666ec511f34d57ab607f5379b05e0e65f2e\n'}]",0,667527,1f8f0367b1f025419d29c48a94c0877c9759a487,4,5,1,6593,,,0,"Revert ""Make glean opensuse job non-voting""

This reverts commit 0caa0941578c36653ea0d5f23448438f63733385.

Change-Id: Id9c5f666ec511f34d57ab607f5379b05e0e65f2e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/667527/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,1f8f0367b1f025419d29c48a94c0877c9759a487,nodepool-func, - nodepool-functional-py35-suse-src - nodepool-functional-py35-suse-src, - nodepool-functional-py35-suse-src: voting: false,2,2
openstack%2Fplacement~master~I5a2d386523d336e70aac34f0c455e909019e59ba,openstack/placement,master,I5a2d386523d336e70aac34f0c455e909019e59ba,research_context._get_roots_with_traits(),MERGED,2019-06-14 22:55:31.000000000,2019-06-26 18:24:56.000000000,2019-06-26 18:24:55.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-14 22:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4dbb21ff38a2d7ea4cadb7b771b004bcb41535f0', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}, {'number': 2, 'created': '2019-06-15 00:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/efc396010c334c511c5df7c53857b64b1f77ee7a', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}, {'number': 3, 'created': '2019-06-17 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/38727132d6f1105feed9fa17ebeadbc85f225326', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}, {'number': 4, 'created': '2019-06-17 17:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cbb7d5cf007a4b1e9ba50ca18a51f450db1f95cf', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}, {'number': 5, 'created': '2019-06-20 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2aa821db91f08bb6455baed3eb92eda06909f32e', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}, {'number': 6, 'created': '2019-06-20 21:58:35.000000000', 'files': ['placement/objects/research_context.py', 'placement/tests/functional/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/85fcc8e7b97fdbf969cbe4f979c546a3342bd12a', 'message': 'research_context._get_roots_with_traits()\n\nAdds a helper method, _get_roots_with_traits, returning the set of root\nprovider IDs satisfying required and forbidden trait requirements.\n\nThis is needed to implement root_required.\n\nChange-Id: I5a2d386523d336e70aac34f0c455e909019e59ba\nStory: #2005575\nTask: #33753\n'}]",24,665491,85fcc8e7b97fdbf969cbe4f979c546a3342bd12a,25,5,6,14070,,,0,"research_context._get_roots_with_traits()

Adds a helper method, _get_roots_with_traits, returning the set of root
provider IDs satisfying required and forbidden trait requirements.

This is needed to implement root_required.

Change-Id: I5a2d386523d336e70aac34f0c455e909019e59ba
Story: #2005575
Task: #33753
",git fetch https://review.opendev.org/openstack/placement refs/changes/91/665491/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/objects/research_context.py', 'placement/tests/functional/db/test_allocation_candidates.py']",2,4dbb21ff38a2d7ea4cadb7b771b004bcb41535f0,story/2005575-33753," def _make_trees_with_traits(self): return rp_ids, avx2_t, ssd_t, geneve_t, ssl_t def test_get_trees_with_traits(self): """"""Creates a few provider trees having different traits and tests the _get_trees_with_traits() utility function to ensure that only the root provider IDs of matching traits are returned. """""" rp_ids, avx2_t, ssd_t, geneve_t, ssl_t = self._make_trees_with_traits() def test_get_roots_with_traits(self): _, avx2_t, ssd_t, geneve_t, ssl_t = self._make_trees_with_traits() def do_test(required=None, forbidden=None, expected=None): actual = res_ctx._get_roots_with_traits( self.ctx, {trait.name: trait.id for trait in required or []}, {trait.name: trait.id for trait in forbidden or []}) if expected: expected = self._get_rp_ids_matching_names( 'cn%d' % d for d in expected) self.assertEqual(expected or set(), actual) # One of required/forbidden must be specified self.assertRaises(ValueError, do_test) # AVX2 is on cn1 and cn3 do_test(required=[avx2_t], expected=(1, 3)) # Multiple required do_test(required=[avx2_t, ssd_t], expected=(3,)) # No match on roots for a trait on children do_test(required=[geneve_t]) # ...even if including a trait also on roots do_test(required=[geneve_t, ssd_t]) # Forbid traits not on any roots do_test(forbidden=[geneve_t, ssl_t], expected=(1, 2, 3, 4, 5, 6, 7)) # Forbid traits just on roots do_test(forbidden=[avx2_t, ssd_t], expected=(4, 5, 6, 7)) # Forbid traits on roots and children do_test(forbidden=[ssd_t, ssl_t, geneve_t], expected=(1, 4, 5, 6, 7)) # Required & forbidden both on roots do_test(required=[avx2_t], forbidden=[ssd_t], expected=(1,)) # Same, but adding forbidden not on roots has no effect do_test(required=[avx2_t], forbidden=[ssd_t, ssl_t], expected=(1,)) # Required on roots, forbidden only on children do_test( required=[avx2_t, ssd_t], forbidden=[ssl_t, geneve_t], expected=(3,)) # Required & forbidden overlap. No results because it is impossible for # one provider to both have and not have a trait. do_test(required=[avx2_t, ssd_t], forbidden=[ssd_t, geneve_t]) "," def test_get_trees_with_traits(self): """"""Creates a few provider trees having different traits and tests the _get_trees_with_traits() utility function to ensure that only the root provider IDs of matching traits are returned. """"""",127,5
openstack%2Fproject-config~master~Id0842ec0a838246b701cb3e04b69f9b4727fdcef,openstack/project-config,master,Id0842ec0a838246b701cb3e04b69f9b4727fdcef,Remove retired repos,MERGED,2019-06-25 17:21:49.000000000,2019-06-26 17:55:44.000000000,2019-06-26 17:55:44.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-25 17:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/70e04a8e72cd0edf93dd06412916db71b6fefa72', 'message': 'Remove retired repos\n\nThis removes the tripleo repos that have been retired from project config.\n\nChange-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-25 17:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/03424efcbf2978fb6edfe12321d40541188f31ce', 'message': 'Remove retired repos\n\nThis removes the tripleo repos that have been retired from project config.\n\nChange-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-25 17:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/958306098897be81183292da517132d80d43abc0', 'message': 'Remove retired repos\n\nThis removes the tripleo repos that have been retired from project config.\n\nChange-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-25 17:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ec81f3e74ef8eb30dcf2e1835687c8ef09c8cca', 'message': 'Remove retired repos\n\nThis removes the tripleo repos that have been retired from project config.\n\nChange-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-25 18:41:09.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7d46fc12cc4b6e48728707d8363979d9108e3de', 'message': 'Remove retired repos\n\nThis removes the tripleo repos that have been retired from project config.\n\nChange-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,667418,d7d46fc12cc4b6e48728707d8363979d9108e3de,19,7,5,7353,,,0,"Remove retired repos

This removes the tripleo repos that have been retired from project config.

Change-Id: Id0842ec0a838246b701cb3e04b69f9b4727fdcef
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/667418/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,70e04a8e72cd0edf93dd06412916db71b6fefa72,retire-role,, name: openstack/ansible-role-tripleo-aodh templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-barbican templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-ceilometer templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-cinder templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-cookiecutter templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-designate templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-glance templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-gnocchi templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-haproxy templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-heat templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-horizon templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-ironic templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-keepalived templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-keystone templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-manila templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-memcached templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-mistral templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-neutron templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-nova templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-octavia templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-opendaylight templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-ovn templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-panko templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-qdrouterd templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-rabbitmq templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-rsyslog-sidecar templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-sahara templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-sensu templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-swift templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-tacker templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-tempest templates: - noop-jobs - project: name: openstack/ansible-role-tripleo-zaqar templates: - noop-jobs - project: name: x/ansible-role-tripleo-congress templates: - noop-jobs - project:,0,165
openstack%2Fopenstack-helm~master~I269cef9f8f157e22f6b857822df9a8960dac6ea8,openstack/openstack-helm,master,I269cef9f8f157e22f6b857822df9a8960dac6ea8,Container Distro: Add checks for OS (rocky) in Ubuntu Bionic,MERGED,2019-06-26 15:32:42.000000000,2019-06-26 17:45:28.000000000,2019-06-26 17:45:28.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-26 15:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70b7c8bbc2c6e609fa9b2eb589e846a12708e7a6', 'message': 'Container Distro: Add checks for OS (rocky) in Ubuntu Bionic\n\nThis PS adds checks fro running the Rocky release of Openstack under\nPython3 in Ubuntu Bionic containers.\n\nChange-Id: I269cef9f8f157e22f6b857822df9a8960dac6ea8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-26 15:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4f7028c9c53561e5f405c8eb607e7d62f9b71da', 'message': 'Container Distro: Add checks for OS (rocky) in Ubuntu Bionic\n\nThis PS adds checks for running the Rocky release of Openstack under\nPython3 in Ubuntu Bionic containers.\n\nChange-Id: I269cef9f8f157e22f6b857822df9a8960dac6ea8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-26 15:41:55.000000000', 'files': ['neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'zuul.d/project.yaml', 'heat/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/values_overrides/rocky-ubuntu_bionic.yaml', 'glance/values_overrides/rocky-ubuntu_bionic.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'cinder/values_overrides/rocky-ubuntu_bionic.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml', 'keystone/values_overrides/rocky-ubuntu_bionic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5f8fcf7286566701c2a3ac511c83b0a6a21117e', 'message': 'Container Distro: Add checks for OS (rocky) in Ubuntu Bionic\n\nThis PS adds checks for running the Rocky release of Openstack under\nPython3 in Ubuntu Bionic containers.\n\nChange-Id: I269cef9f8f157e22f6b857822df9a8960dac6ea8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667654,e5f8fcf7286566701c2a3ac511c83b0a6a21117e,9,3,3,23928,,,0,"Container Distro: Add checks for OS (rocky) in Ubuntu Bionic

This PS adds checks for running the Rocky release of Openstack under
Python3 in Ubuntu Bionic containers.

Change-Id: I269cef9f8f157e22f6b857822df9a8960dac6ea8
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/667654/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'zuul.d/project.yaml', 'heat/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/values_overrides/rocky-ubuntu_bionic.yaml', 'cinder/values_overrides/rocky-ubuntu_bionic.yaml', 'glance/values_overrides/rocky-ubuntu_bionic.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml', 'keystone/values_overrides/rocky-ubuntu_bionic.yaml']",9,70b7c8bbc2c6e609fa9b2eb589e846a12708e7a6,stein,"--- images: tags: bootstrap: ""docker.io/openstackhelm/heat:rocky-ubuntu_bionic"" db_init: ""docker.io/openstackhelm/heat:rocky-ubuntu_bionic"" db_drop: ""docker.io/openstackhelm/heat:rocky-ubuntu_bionic"" keystone_api: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_bootstrap: ""docker.io/openstackhelm/heat:rocky-ubuntu_bionic"" keystone_credential_rotate: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_credential_setup: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_db_sync: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_domain_manage: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_fernet_rotate: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" keystone_fernet_setup: ""docker.io/openstackhelm/keystone:rocky-ubuntu_bionic"" ks_user: ""docker.io/openstackhelm/heat:rocky-ubuntu_bionic"" ",,157,0
openstack%2Fkeystone~master~Ieec91dc4739d7ac78f3ff8b8918f4a7a5381ab82,openstack/keystone,master,Ieec91dc4739d7ac78f3ff8b8918f4a7a5381ab82,"Revert ""Add a permissive mode for access rules config""",MERGED,2019-05-28 15:39:02.000000000,2019-06-26 17:45:12.000000000,2019-06-26 17:45:12.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 15:39:02.000000000', 'files': ['keystone/tests/unit/access_rules_config/test_backends.py', 'keystone/conf/access_rules_config.py', 'keystone/access_rules_config/backends/json.py', 'keystone/access_rules_config/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/135a5a03e6904996588421e60c7795b827aae29b', 'message': 'Revert ""Add a permissive mode for access rules config""\n\nThis reverts commit 02540b7de644b35660d1185340a7725b0d5eb0e4.\n\nIn the Train PTG[1] we agreed to defer this feature until we had some\nkind of traceability or discoverability for APIs and that this wasn\'t\nfeasible or useful until then.\n\nThis change was merged to master but never released, so I submit that\nit is safe to revert.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials\n\nChange-Id: Ieec91dc4739d7ac78f3ff8b8918f4a7a5381ab82\n'}]",0,661792,135a5a03e6904996588421e60c7795b827aae29b,11,5,1,8482,,,0,"Revert ""Add a permissive mode for access rules config""

This reverts commit 02540b7de644b35660d1185340a7725b0d5eb0e4.

In the Train PTG[1] we agreed to defer this feature until we had some
kind of traceability or discoverability for APIs and that this wasn't
feasible or useful until then.

This change was merged to master but never released, so I submit that
it is safe to revert.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials

Change-Id: Ieec91dc4739d7ac78f3ff8b8918f4a7a5381ab82
",git fetch https://review.opendev.org/openstack/keystone refs/changes/92/661792/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/access_rules_config/test_backends.py', 'keystone/conf/access_rules_config.py', 'keystone/access_rules_config/backends/json.py', 'keystone/access_rules_config/core.py']",4,135a5a03e6904996588421e60c7795b827aae29b,bp/whitelist-extension-for-app-creds,"""""""List access rules.""""""","""""""List access rules config.""""""from keystone.common import driver_hintsfrom keystone.common import provider_apiPROVIDERS = provider_api.ProviderAPIs if CONF.access_rules_config.permissive: hints = driver_hints.Hints() if service: hints.add_filter('service', service) rules = {} services = PROVIDERS.catalog_api.list_services(hints=hints) if service: services = [svc for svc in services if svc['type'] == service] for svc in services: rules[svc['type']] = [] for method in ['HEAD', 'GET', 'POST', 'PUT', 'PATCH', 'DELETE']: rules[svc['type']].append({ ""path"": ""**"", ""method"": method }) return rules if CONF.access_rules_config.permissive: return True",1,58
openstack%2Fkeystone~master~I65ac52b8730221562391adc8b0dbccd22ea79b16,openstack/keystone,master,I65ac52b8730221562391adc8b0dbccd22ea79b16,"Revert ""Add manager support for app cred access rules""",MERGED,2019-05-28 15:39:02.000000000,2019-06-26 17:45:10.000000000,2019-06-26 17:45:09.000000000,"[{'_account_id': 5046}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 15:39:02.000000000', 'files': ['keystone/exception.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/application_credential/test_backends.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/25b2f151a7d19d7725425ba76a8c8883257afb0e', 'message': 'Revert ""Add manager support for app cred access rules""\n\nThis reverts commit 37fc2b9120538e001daba7093d0295e5f65b811d.\n\nIn the Train PTG[1] we agreed to defer the access rules config part of\nthis feature until we had some kind of traceability or discoverability\nfor APIs. For simplicity of review, this patch reverts the access rules\naddition to the app cred manager so that we can reimplement it in a way\nthat doesn\'t require using the access_rules_config API provider.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials\n\nChange-Id: I65ac52b8730221562391adc8b0dbccd22ea79b16\n'}]",0,661791,25b2f151a7d19d7725425ba76a8c8883257afb0e,12,5,1,8482,,,0,"Revert ""Add manager support for app cred access rules""

This reverts commit 37fc2b9120538e001daba7093d0295e5f65b811d.

In the Train PTG[1] we agreed to defer the access rules config part of
this feature until we had some kind of traceability or discoverability
for APIs. For simplicity of review, this patch reverts the access rules
addition to the app cred manager so that we can reimplement it in a way
that doesn't require using the access_rules_config API provider.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials

Change-Id: I65ac52b8730221562391adc8b0dbccd22ea79b16
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/661791/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/exception.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/application_credential/test_backends.py']",3,25b2f151a7d19d7725425ba76a8c8883257afb0e,bp/whitelist-extension-for-app-creds,,"from keystone.tests import unit from keystone.tests.unit.ksfixtures import access_rules_config def test_create_application_credential_with_access_rules(self): self.config_fixture.config(group='access_rules_config', permissive=True) app_cred = self._new_app_cred_data(self.user_foo['id'], project_id=self.project_bar['id']) app_cred['access_rules'] = [{ 'service': uuid.uuid4().hex, 'path': uuid.uuid4().hex, 'method': uuid.uuid4().hex[16:] }] resp = self.app_cred_api.create_application_credential(app_cred) resp.pop('roles') resp_access_rules = resp.pop('access_rules') app_cred.pop('roles') orig_access_rules = app_cred.pop('access_rules') self.assertDictEqual(app_cred, resp) for i, ar in enumerate(resp_access_rules): self.assertDictEqual(orig_access_rules[i], ar) def test_create_application_credential_with_invalid_access_rule(self): rules_file = '%s/access_rules.json' % unit.TESTCONF self.useFixture(access_rules_config.AccessRulesConfig( self.config_fixture, rules_file=rules_file)) self.load_backends() app_cred = self._new_app_cred_data(self.user_foo['id'], project_id=self.project_bar['id']) app_cred['access_rules'] = [{ 'service': uuid.uuid4().hex, 'path': uuid.uuid4().hex, 'method': uuid.uuid4().hex[16:] }] self.assertRaises(exception.AccessRuleNotAllowed, self.app_cred_api.create_application_credential, app_cred) ",1,54
openstack%2Fkeystone~master~Ibb48983f7edef1c2df50ba998f6a95741f933168,openstack/keystone,master,Ibb48983f7edef1c2df50ba998f6a95741f933168,"Revert ""Add API for /v3/access_rules_config""",MERGED,2019-05-28 15:39:02.000000000,2019-06-26 17:45:08.000000000,2019-06-26 17:45:08.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-28 15:39:02.000000000', 'files': ['keystone/tests/unit/test_v3_access_rules_config.py', 'keystone/api/access_rules_config.py', 'keystone/tests/unit/test_versions.py', 'keystone/api/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d7a2dd48e4636462d686023c9ee8cedfbbec9838', 'message': 'Revert ""Add API for /v3/access_rules_config""\n\nThis reverts commit 8d31705806721242db6dab34b2c293e317753ea6.\n\nIn the Train PTG[1] we agreed to defer this feature until we had some\nkind of traceability or discoverability for APIs and that this wasn\'t\nfeasible or useful until then.\n\nThis change was merged to master but never released, so I submit that\nit is safe to revert.\n\n[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials\n\nChange-Id: Ibb48983f7edef1c2df50ba998f6a95741f933168\n'}]",0,661790,d7a2dd48e4636462d686023c9ee8cedfbbec9838,12,6,1,8482,,,0,"Revert ""Add API for /v3/access_rules_config""

This reverts commit 8d31705806721242db6dab34b2c293e317753ea6.

In the Train PTG[1] we agreed to defer this feature until we had some
kind of traceability or discoverability for APIs and that this wasn't
feasible or useful until then.

This change was merged to master but never released, so I submit that
it is safe to revert.

[1] https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials

Change-Id: Ibb48983f7edef1c2df50ba998f6a95741f933168
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/661790/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_v3_access_rules_config.py', 'keystone/api/access_rules_config.py', 'keystone/tests/unit/test_versions.py', 'keystone/api/__init__.py']",4,d7a2dd48e4636462d686023c9ee8cedfbbec9838,bp/whitelist-extension-for-app-creds,,"from keystone.api import access_rules_config 'access_rules_config', access_rules_config,",1,98
openstack%2Fneutron~master~I71521efbdaf9bb6d7cd9650f77c52bf6e02c9ced,openstack/neutron,master,I71521efbdaf9bb6d7cd9650f77c52bf6e02c9ced,Remove some synchronization decorators from ip_lib,MERGED,2019-06-21 14:10:59.000000000,2019-06-26 17:45:05.000000000,2019-06-26 17:45:05.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-21 14:10:59.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ecad3ca4b3ebb655440ad926de5029e0d2ccc1b', 'message': 'Remove some synchronization decorators from ip_lib\n\nRemoved the synchronization from the following ip_lib functions:\n* create_netns\n* remove_netns\n* list_netns\n\nThe mentioned bug #1811515 and the corresponding patch [1], explain\nthe problem of Pyroute2 NetNS class and the file descriptors used\nin a multithread environment. This is why, until a fix is applied to\nthis library, a synchronization decorator was applied to all Pyroute2\ncommands.\n\nHowever, the listed functions do not instantiate this class. These three\nmethods only handle the filesystem in order to create, remove or list\nthe system namespaces. That means those methods are not affected by the\nmentioned bug in Pyroute2 and it is safe to execute them without any\nsynchronization.\n\n[1] https://review.opendev.org/#/c/631275/\n\nChange-Id: I71521efbdaf9bb6d7cd9650f77c52bf6e02c9ced\nCloses-Bug: #1833717\nRelated-Bug: #1811515\n'}]",0,666845,8ecad3ca4b3ebb655440ad926de5029e0d2ccc1b,28,9,1,16688,,,0,"Remove some synchronization decorators from ip_lib

Removed the synchronization from the following ip_lib functions:
* create_netns
* remove_netns
* list_netns

The mentioned bug #1811515 and the corresponding patch [1], explain
the problem of Pyroute2 NetNS class and the file descriptors used
in a multithread environment. This is why, until a fix is applied to
this library, a synchronization decorator was applied to all Pyroute2
commands.

However, the listed functions do not instantiate this class. These three
methods only handle the filesystem in order to create, remove or list
the system namespaces. That means those methods are not affected by the
mentioned bug in Pyroute2 and it is safe to execute them without any
synchronization.

[1] https://review.opendev.org/#/c/631275/

Change-Id: I71521efbdaf9bb6d7cd9650f77c52bf6e02c9ced
Closes-Bug: #1833717
Related-Bug: #1811515
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/666845/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,8ecad3ca4b3ebb655440ad926de5029e0d2ccc1b,bug/1833717,,"# NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")# NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")# NOTE(slaweq): Because of issue with pyroute2.NetNS objects running in threads # we need to lock this function to workaround this issue. # For details please check https://bugs.launchpad.net/neutron/+bug/1811515 @lockutils.synchronized(""privileged-ip-lib"")",0,12
openstack%2Fopenstack-ansible-os_horizon~master~I180cd0abbb64c538585ef4bb9a1ccdd70c3eb0dc,openstack/openstack-ansible-os_horizon,master,I180cd0abbb64c538585ef4bb9a1ccdd70c3eb0dc,Only install py3 version of libapache2-mod-wsgi for ubuntu distro installs,MERGED,2019-06-24 16:01:40.000000000,2019-06-26 17:33:24.000000000,2019-06-26 17:33:24.000000000,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-24 16:01:40.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f5829f517c19e9283ccf6e9b5551e03994f895a4', 'message': 'Only install py3 version of libapache2-mod-wsgi for ubuntu distro installs\n\nChange-Id: I180cd0abbb64c538585ef4bb9a1ccdd70c3eb0dc\nCloses-Bug: 1834059\n'}]",0,667150,f5829f517c19e9283ccf6e9b5551e03994f895a4,12,6,1,25023,,,0,"Only install py3 version of libapache2-mod-wsgi for ubuntu distro installs

Change-Id: I180cd0abbb64c538585ef4bb9a1ccdd70c3eb0dc
Closes-Bug: 1834059
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/50/667150/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,f5829f517c19e9283ccf6e9b5551e03994f895a4,bug/1834059," - ""{{ (horizon_install_method == 'distro') | ternary('libapache2-mod-wsgi-py3', 'libapache2-mod-wsgi') }}""", - libapache2-mod-wsgi-py3,1,1
openstack%2Fopenstack-zuul-jobs~master~I427e1d56384841770deb9c56cd56cbffb2df456b,openstack/openstack-zuul-jobs,master,I427e1d56384841770deb9c56cd56cbffb2df456b,Add and switch to the newly created opensuse-15 nodeset,MERGED,2019-06-18 17:13:14.000000000,2019-06-26 17:33:22.000000000,2019-06-26 17:33:22.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 17:13:14.000000000', 'files': ['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3b357da34fe9527ff3380c88adbd09d6bbd64664', 'message': 'Add and switch to the newly created opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nChange-Id: I427e1d56384841770deb9c56cd56cbffb2df456b\n'}]",0,666066,3b357da34fe9527ff3380c88adbd09d6bbd64664,8,5,1,6593,,,0,"Add and switch to the newly created opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Change-Id: I427e1d56384841770deb9c56cd56cbffb2df456b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/66/666066/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",2,3b357da34fe9527ff3380c88adbd09d6bbd64664,, nodeset: opensuse-15 label: opensuse-15 label: opensuse-15, nodeset: opensuse-150 label: opensuse-150 label: opensuse-150,11,3
openstack%2Fmanila-specs~master~I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac,openstack/manila-specs,master,I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 11:33:18.000000000,2019-06-26 17:27:50.000000000,2019-06-26 17:27:50.000000000,"[{'_account_id': 8556}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/ec8017c20e7b6c6b828c24de232e20183a41d3d1', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac\n'}, {'number': 2, 'created': '2019-06-25 09:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/118d55e74dd0ea1f387c20ecd87c50828201c48f', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac\n'}, {'number': 3, 'created': '2019-06-25 09:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/07c8bf91aa7f6143ca2898641a766426398b37b3', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac\n'}, {'number': 4, 'created': '2019-06-26 00:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/b47ac38d3fae458b12e3752519d6a5433ac6d098', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Fix links within JSON schema specification\n2. Replace git.openstack.org URLs with opendev.org URLs\n3. Update some URLs to latest\n\nChange-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac\n'}, {'number': 5, 'created': '2019-06-26 00:43:03.000000000', 'files': ['specs/unimplemented/add-json-schema-validation-for-api.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/135a3a4e6d8091a5014c723bb9bb23726c06b423', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Fix links within JSON schema specification\n2. Replace git.openstack.org URLs with opendev.org URLs\n3. Update some URLs to latest\n\nChange-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac\n'}]",5,654973,135a3a4e6d8091a5014c723bb9bb23726c06b423,14,3,5,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Fix links within JSON schema specification
2. Replace git.openstack.org URLs with opendev.org URLs
3. Update some URLs to latest

Change-Id: I408a84bd12d70d96cb6a94b01c3145af4a3bc2ac
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/73/654973/3 && git format-patch -1 --stdout FETCH_HEAD,"['specs/template.rst', 'specs/stein/add-json-schema-validation-for-api.rst']",2,ec8017c20e7b6c6b828c24de232e20183a41d3d1,,* `Validation Testing <http://opendev.org/openstack/tempest/tree/etc/schemas/compute/flavors/flavors_list.json?id=24eb89cd3efd9e9873c78aacde804870962ddcbb>`_ * `Negative Validation Testing <http://opendev.org/openstack/tempest/tree/tempest/api/compute/flavors/test_flavors_negative.py?id=b2978da5ab52e461b06a650e038df52e6ceb5cd6>`_ http://opendev.org/openstack/nova/tree/nova/api/validation,* `Validation Testing <http://git.openstack.org/cgit/openstack/tempest/tree/etc/schemas/compute/flavors/flavors_list.json?id=24eb89cd3efd9e9873c78aacde804870962ddcbb>`_ * `Negative Validation Testing <http://git.openstack.org/cgit/openstack/tempest/tree/tempest/api/compute/flavors/test_flavors_negative.py?id=b2978da5ab52e461b06a650e038df52e6ceb5cd6>`_ http://git.openstack.org/cgit/openstack/nova/tree/nova/api/validation,4,4
openstack%2Fkayobe~master~Idcb616fd3add4d58f22b91865cec8a54fe492092,openstack/kayobe,master,Idcb616fd3add4d58f22b91865cec8a54fe492092,Sync Sphinx requirement,MERGED,2019-06-18 16:33:57.000000000,2019-06-26 17:24:40.000000000,2019-06-26 17:24:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-18 16:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e7d88fd6ceb9359f080a61e5509632085b57c229', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: Idcb616fd3add4d58f22b91865cec8a54fe492092\n'}, {'number': 2, 'created': '2019-06-25 02:24:45.000000000', 'files': ['CONTRIBUTING.rst', 'test-requirements.txt', 'doc/requirements.txt', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67a4d5028879ed5e842ae856f110216ef5378611', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: Idcb616fd3add4d58f22b91865cec8a54fe492092\n'}]",0,666044,67a4d5028879ed5e842ae856f110216ef5378611,22,5,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove unncessary ""==""

Change-Id: Idcb616fd3add4d58f22b91865cec8a54fe492092
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/666044/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'test-requirements.txt', 'doc/requirements.txt', 'HACKING.rst']",4,e7d88fd6ceb9359f080a61e5509632085b57c229,,=========================,===============================================,11,5
openstack%2Fproject-config~master~Ie0bd80cc36d66fe3db73148daef2dca7bc8dd75d,openstack/project-config,master,Ie0bd80cc36d66fe3db73148daef2dca7bc8dd75d,Remove nodepool functional job attachments,MERGED,2019-06-24 20:10:49.000000000,2019-06-26 17:22:00.000000000,2019-06-26 17:22:00.000000000,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1e09300f8e0d975bc3c7f2371765e0caaed4a40f', 'message': 'Remove nodepool functional job attachments\n\nThe dependent changes move these jobs to their respective in-repo\nconfig files.  The experimental nodepool jobs are removed altogether.\n\nDepends-On: https://review.opendev.org/667211\nDepends-On: https://review.opendev.org/667212\nChange-Id: Ie0bd80cc36d66fe3db73148daef2dca7bc8dd75d\n'}, {'number': 2, 'created': '2019-06-26 06:58:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/16689cc26395e51fbc925967bef336515e0a8c99', 'message': 'Remove nodepool functional job attachments\n\nThe dependent changes move these jobs to their respective in-repo\nconfig files.  The experimental nodepool jobs are removed altogether.\n\nDepends-On: https://review.opendev.org/667211\nDepends-On: https://review.opendev.org/667212\nChange-Id: Ie0bd80cc36d66fe3db73148daef2dca7bc8dd75d\n'}]",0,667213,16689cc26395e51fbc925967bef336515e0a8c99,11,3,2,1,,,0,"Remove nodepool functional job attachments

The dependent changes move these jobs to their respective in-repo
config files.  The experimental nodepool jobs are removed altogether.

Depends-On: https://review.opendev.org/667211
Depends-On: https://review.opendev.org/667212
Change-Id: Ie0bd80cc36d66fe3db73148daef2dca7bc8dd75d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/13/667213/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,1e09300f8e0d975bc3c7f2371765e0caaed4a40f,nodepool-func,, - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints jobs: - nodepool-functional-py35-gentoo-src: voting: false - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src - nodepool-functional-py35-suse-src jobs: - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src - nodepool-functional-py35-suse-src experimental: jobs: - nodepool-functional-py35-debian-src - openstack-cover-jobs - check-requirements - openstack-python-jobs - openstack-python35-jobs - release-notes-jobs jobs: - openstack-tox-pylint - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src jobs: - openstack-tox-pylint - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src experimental: jobs: - nodepool-functional-py35-gentoo-src - nodepool-functional-py35-debian-src - nodepool-functional-py35-suse-src - octavia-v1-dsvm-scenario - octavia-v1-dsvm-py3x-scenario name: zuul/nodepool experimental: jobs: - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src - nodepool-functional-py35-suse-src - nodepool-functional-py35-debian-src - nodepool-functional-py35-gentoo-src - project:,0,46
openstack%2Fnova~master~I554ab5552df9b83fcdcc9d530ccb0e54081f4ed7,openstack/nova,master,I554ab5552df9b83fcdcc9d530ccb0e54081f4ed7,Remove orphaned comment from _get_group_details,MERGED,2019-06-24 15:28:33.000000000,2019-06-26 17:15:00.000000000,2019-06-26 17:15:00.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 15:28:33.000000000', 'files': ['nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ce34c26459d49ddec390056a30e110c49b5a9ba', 'message': 'Remove orphaned comment from _get_group_details\n\nThis is a follow up to change\nI745aecb008f0867fcda2d3d2c7691621dd8f6168 which\nremoved the code for which the comment was related\nand is now orphaned. This change removes the comment\nsince it has no context/relevance to the code around\nit now.\n\nChange-Id: I554ab5552df9b83fcdcc9d530ccb0e54081f4ed7\n'}]",1,667135,7ce34c26459d49ddec390056a30e110c49b5a9ba,41,13,1,6873,,,0,"Remove orphaned comment from _get_group_details

This is a follow up to change
I745aecb008f0867fcda2d3d2c7691621dd8f6168 which
removed the code for which the comment was related
and is now orphaned. This change removes the comment
since it has no context/relevance to the code around
it now.

Change-Id: I554ab5552df9b83fcdcc9d530ccb0e54081f4ed7
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/667135/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/utils.py'],1,7ce34c26459d49ddec390056a30e110c49b5a9ba,bug/1788527,," # NOTE(melwitt): If the context is already targeted to a cell (during a # move operation), we don't need to scatter-gather.",0,2
openstack%2Fnova~master~I78e692e08440afc38ac2697fabfa566fff5f0a9f,openstack/nova,master,I78e692e08440afc38ac2697fabfa566fff5f0a9f,Replace deprecated with_lockmode with with_for_update,MERGED,2019-06-19 05:16:29.000000000,2019-06-26 16:37:01.000000000,2019-06-26 16:37:01.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-19 05:16:29.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1532cdce2ebd526190b9b2404d0b583ebfbceb0', 'message': 'Replace deprecated with_lockmode with with_for_update\n\nThe Query.with_lockmode() method is deprecated since version 0.9.0\nand will be removed in a future release. [1]\nThis patch replaces it with Query.with_for_update().\n\n[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode\n\nChange-Id: I78e692e08440afc38ac2697fabfa566fff5f0a9f\n'}]",0,666221,f1532cdce2ebd526190b9b2404d0b583ebfbceb0,36,14,1,10206,,,0,"Replace deprecated with_lockmode with with_for_update

The Query.with_lockmode() method is deprecated since version 0.9.0
and will be removed in a future release. [1]
This patch replaces it with Query.with_for_update().

[1] https://docs.sqlalchemy.org/en/13/orm/query.html#sqlalchemy.orm.query.Query.with_lockmode

Change-Id: I78e692e08440afc38ac2697fabfa566fff5f0a9f
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/666221/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,f1532cdce2ebd526190b9b2404d0b583ebfbceb0,, with_for_update().\ with_for_update().\, with_lockmode('update').\ with_lockmode('update').\,2,2
openstack%2Fkolla-ansible~stable%2Fstein~I5fe322546d82a373522645485be18fe7bfc57999,openstack/kolla-ansible,stable/stein,I5fe322546d82a373522645485be18fe7bfc57999,Make cron jobs generator command task in keystone non-changing,MERGED,2019-06-26 12:27:27.000000000,2019-06-26 16:24:20.000000000,2019-06-26 16:24:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-26 12:27:27.000000000', 'files': ['ansible/roles/keystone/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/613454abeb3c2a81c11a8b1e538d16d0d95ac8b4', 'message': 'Make cron jobs generator command task in keystone non-changing\n\nThe task does not change any state but is used to set a fact\nfrom parsed output.\n\nAlso adjust task name.\n\nChange-Id: I5fe322546d82a373522645485be18fe7bfc57999\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 802dfce4a854ef6f30827a2223c0ca7a73226f7a)\n'}]",0,667599,613454abeb3c2a81c11a8b1e538d16d0d95ac8b4,7,3,1,30491,,,0,"Make cron jobs generator command task in keystone non-changing

The task does not change any state but is used to set a fact
from parsed output.

Also adjust task name.

Change-Id: I5fe322546d82a373522645485be18fe7bfc57999
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 802dfce4a854ef6f30827a2223c0ca7a73226f7a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/667599/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/config.yml'],1,613454abeb3c2a81c11a8b1e538d16d0d95ac8b4,keystone-idempotency-stable/stein, changed_when: false- name: Set fact with the generated cron jobs for building the crontab later,- name: Save the returned from cron jobs for building the crontab,2,1
openstack%2Fkayobe~master~I2ad53aa0db3bab8db6d6d9de4b00c5dac756fb15,openstack/kayobe,master,I2ad53aa0db3bab8db6d6d9de4b00c5dac756fb15,Fix overcloud introspection data save,MERGED,2019-04-25 17:32:40.000000000,2019-06-26 16:09:53.000000000,2019-06-24 20:08:46.000000000,"[{'_account_id': 10910}, {'_account_id': 11444}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 17:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/684731f88ad0576f09d903de4d92b336f41e7b33', 'message': 'Fix overcloud introspection data save\n\nThis playbook was omitted from the change to use OS_CLOUD.\n\nChange-Id: I2ad53aa0db3bab8db6d6d9de4b00c5dac756fb15\n'}, {'number': 2, 'created': '2019-05-17 14:04:32.000000000', 'files': ['kayobe/cli/commands.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c7ab69b38b8eebda2620f53366e4a9156d431f3a', 'message': ""Fix overcloud introspection data save\n\nIf running 'kayobe overcloud introspection data save' in an environment\nwhere nodes have been registered in the seed's ironic service manually\n(rather than through auto-discovery), previously the bifrost ansible\ninventory would not have been populated.\n\nThis change ensures the bifrost ansible inventory exists prior to\ncollecting introspection data.\n\nChange-Id: I2ad53aa0db3bab8db6d6d9de4b00c5dac756fb15\n""}]",0,655743,c7ab69b38b8eebda2620f53366e4a9156d431f3a,13,6,2,14826,,,0,"Fix overcloud introspection data save

If running 'kayobe overcloud introspection data save' in an environment
where nodes have been registered in the seed's ironic service manually
(rather than through auto-discovery), previously the bifrost ansible
inventory would not have been populated.

This change ensures the bifrost ansible inventory exists prior to
collecting introspection data.

Change-Id: I2ad53aa0db3bab8db6d6d9de4b00c5dac756fb15
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/655743/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/overcloud-introspection-data-save.yml'],1,684731f88ad0576f09d903de4d92b336f41e7b33,fix-introspection-data-save," export OS_CLOUD=bifrost && export OS_BAREMETAL_API_VERSION=1.34 && -a ""openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'"," export OS_TOKEN=fake-token && -a ""env OS_URL=http://localhost:5050 openstack baremetal introspection data save {% raw %}{{ inventory_hostname }}{% endraw %}""'",3,2
openstack%2Ftripleo-common~master~I46375348b2885d19290ab4334624910a86e215b9,openstack/tripleo-common,master,I46375348b2885d19290ab4334624910a86e215b9,Overcloud-full image templates for RHEL8,MERGED,2019-05-14 18:36:56.000000000,2019-06-26 16:08:39.000000000,2019-06-05 21:20:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 7118}, {'_account_id': 8161}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-14 18:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7de22a0b76d1ca79e9a245d5e4d3db96370a8ae7', 'message': 'Overcloud-full image templates for RHEL8\n\nChange-Id: I46375348b2885d19290ab4334624910a86e215b9\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}, {'number': 2, 'created': '2019-06-03 12:57:19.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f15e6ac387bbc49afa49a5bde35cf3349051ce16', 'message': 'Overcloud-full image templates for RHEL8\n\nChange-Id: I46375348b2885d19290ab4334624910a86e215b9\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\n'}]",0,659136,f15e6ac387bbc49afa49a5bde35cf3349051ce16,22,8,2,8161,,,0,"Overcloud-full image templates for RHEL8

Change-Id: I46375348b2885d19290ab4334624910a86e215b9
Signed-off-by: Lon Hohberger <lhh@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/659136/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-rhel8.yaml']",2,7de22a0b76d1ca79e9a245d5e4d3db96370a8ae7,,"disk_images: - imagename: overcloud-full type: qcow2 distro: rhel release: 8 elements: - selinux-permissive environment: FS_TYPE: xfs options: - ""--mkfs-options '-s size=4096'"" - imagename: ironic-python-agent type: qcow2 distro: rhel release: 8 elements: - selinux-permissive ",,23,4
openstack%2Fopenstack-helm-images~master~I8f691908b8f7aa482e716559e9e1422f2d4d5d6c,openstack/openstack-helm-images,master,I8f691908b8f7aa482e716559e9e1422f2d4d5d6c,Add bionic based build jobs to Zuul build configuraton,MERGED,2019-06-13 10:09:36.000000000,2019-06-26 15:59:36.000000000,2019-06-26 15:53:38.000000000,"[{'_account_id': 16353}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 30220}]","[{'number': 1, 'created': '2019-06-13 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6b96b5e276c0ff9a628193ea33a94fa590c1fb73', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 2, 'created': '2019-06-13 10:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f5a380244d9fd8a3cf12379f52b4b55389666b86', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 3, 'created': '2019-06-14 08:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c1411836910d32b92a1b6f1a099b3f7269c34484', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 4, 'created': '2019-06-14 08:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8cd64643c0382c15b5f81d664bb7f65527c859bc', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 5, 'created': '2019-06-24 10:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f95775f1545386d5225eea260c963ddb20c68294', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 6, 'created': '2019-06-24 12:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f2593bdc326aaabe3ceb7581a18dcb9ec0582133', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 7, 'created': '2019-06-26 00:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7627e0efe2c81cd6b0e6e4a08e9e319ed35161fe', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 8, 'created': '2019-06-26 09:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/bee3d95d91b7b7351bf21598630d7b65144b9da1', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 9, 'created': '2019-06-26 10:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/2c043a4f2eca0aa0fc727831ab9eebea899bdb7e', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 10, 'created': '2019-06-26 12:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6fea565a1f8370d2d000cb9407b7fa96591812d5', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}, {'number': 11, 'created': '2019-06-26 13:53:48.000000000', 'files': ['openstack/loci/build-stein.sh', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/070f3b694aee4d35aa2c64bdd6020b64b230541f', 'message': 'Add bionic based build jobs to Zuul build configuraton\n\nThis patch adds bionic based build jobs to Zuul config\nto create loci images based on Bionic.\n\nChange-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c\n'}]",6,665102,070f3b694aee4d35aa2c64bdd6020b64b230541f,36,9,11,30220,,,0,"Add bionic based build jobs to Zuul build configuraton

This patch adds bionic based build jobs to Zuul config
to create loci images based on Bionic.

Change-Id: I8f691908b8f7aa482e716559e9e1422f2d4d5d6c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/02/665102/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,6b96b5e276c0ff9a628193ea33a94fa590c1fb73,bionic," - openstack-helm-images-build-openstack-loci-master-ubuntu_bionic - openstack-helm-images-build-openstack-loci-master-ubuntu_bionic - openstack-helm-images-build-openstack-loci-master-ubuntu_bionic - openstack-helm-images-build-openstack-loci-master-ubuntu_bionic# Bionic - job: name: openstack-helm-images-build-openstack-loci-master-ubuntu_bionic # Inherits secrets and vars parent: openstack-helm-images-build description: Build master LOCI images for bionic # Increase timeout due to many images to build timeout: 5400 # This enables depends-on to work by using local repos required-projects: - openstack/loci # Fork of standard playbook to build prep images first (reusing # role) with a different zuul_role_dir, publish wheels on http server. # zuul_work_dir: ""src/opendev.org/openstack/loci"" run: zuul.d/playbooks/build-loci.yml vars: &build_master_bionic_images branchname: ""master"" shortbranchname: ""master"" distroname: ""ubuntu_bionic"" from: ""docker.io/ubuntu:18.04"" python3: ""no"" #172.17.0.1 is default docker0 ip. wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" prep_docker_images: - &requirements_project context: ""."" repository: openstackhelm/requirements build_args: - ""FROM='{{ from }}'"" - ""PYTHON3={{ python3 }}"" - ""PROJECT='requirements'"" - ""PROJECT_REF={{ branchname }}"" docker_images: - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project name: openstack-helm-images-upload-openstack-loci-master-ubuntu_bionic description: Build and upload master LOCI images for bionic # Inherits secrets and vars parent: openstack-helm-images-upload # Increase timeout due to many images to build timeout: 5400 # This enables depends-on to work by using local repos required-projects: - openstack/loci run: zuul.d/playbooks/build-loci.yml vars: *build_master_bionic_images files: *loci-files - job: name: openstack-helm-images-promote-openstack-loci-master-ubuntu_bionic parent: openstack-helm-images-promote description: Promote previously published loci bionic master images vars: *build_master_bionic_images files: *loci-files # rocky - job:",,67,0
openstack%2Ftripleo-quickstart~master~Ie8a2265ec266b0db1423cec190534c1c0f04d77f,openstack/tripleo-quickstart,master,Ie8a2265ec266b0db1423cec190534c1c0f04d77f,WIP: clean libvirt teardown process,ABANDONED,2018-12-27 15:09:45.000000000,2019-06-26 15:44:58.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-12-27 15:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/43bbb04fdb0a8b3d4663c630f9117cc43dad33c5', 'message': 'WIP: clean teardown process\n\nAvoid abusive use of ignore_errors during teardown which prevented\nus from spotting logic bugs.\n\nNew code should not display Ansible errors if the teardown works as\nexpected: at the end not having any VMs running or defined. This code\nshould work regardless the presense or absence of these VMs, following\nthe delete-if-found logic.\n\nNote: when testing this using reproducer remember that by default\nit uses only master from tq[e], so you need to hack it to force it to\nuse this specific change (cherry pick and disable cloning).\n\nChange-Id: Ie8a2265ec266b0db1423cec190534c1c0f04d77f\n'}, {'number': 2, 'created': '2018-12-27 22:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5825c7628aa8a0c2cf90cf9fd5ea17c9daaea84e', 'message': 'WIP: clean libvirt teardown process\n\nAvoid abusive use of ignore_errors during teardown which prevented\nus from spotting logic bugs.\n\nNew code should not display Ansible errors if the teardown works as\nexpected: at the end not having any VMs running or defined. This code\nshould work regardless the presense or absence of these VMs, following\nthe delete-if-found logic.\n\nNote: when testing this using reproducer remember that by default\nit uses only master from tq[e], so you need to hack it to force it to\nuse this specific change (cherry pick and disable cloning).\n\nChange-Id: Ie8a2265ec266b0db1423cec190534c1c0f04d77f\n'}, {'number': 3, 'created': '2018-12-28 11:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/07adf1689c4e8fa6d647bcccae9af55796d8773b', 'message': 'WIP: clean libvirt teardown process\n\nAvoid abusive use of ignore_errors during teardown which prevented\nus from spotting logic bugs.\n\nNew code should not display Ansible errors if the teardown works as\nexpected: at the end not having any VMs running or defined. This code\nshould work regardless the presense or absence of these VMs, following\nthe delete-if-found logic.\n\nNote: when testing this using reproducer remember that by default\nit uses only master from tq[e], so you need to hack it to force it to\nuse this specific change (cherry pick and disable cloning).\n\nChange-Id: Ie8a2265ec266b0db1423cec190534c1c0f04d77f\n'}, {'number': 4, 'created': '2019-01-18 13:03:18.000000000', 'files': ['roles/libvirt/teardown/nodes/tasks/main.yml', 'roles/environment/teardown/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/debc7efccd64e0f54bd60ddf1be8fb100d2b554c', 'message': 'WIP: clean libvirt teardown process\n\nAvoid abusive use of ignore_errors during teardown which prevented\nus from spotting logic bugs.\n\nNew code should not display Ansible errors if the teardown works as\nexpected and at the end we do not have any VMs running or defined.\n\nThis code should work regardless the presense or absence of these VMs,\nfollowing a delete-if-found logic.\n\nNote: when testing this using reproducer remember that by default\nit uses only master from tq[e], so you need to hack it to force it to\nuse this specific change (cherry pick and disable cloning).\n\nChange-Id: Ie8a2265ec266b0db1423cec190534c1c0f04d77f\n'}]",0,627538,debc7efccd64e0f54bd60ddf1be8fb100d2b554c,16,3,4,24162,,,0,"WIP: clean libvirt teardown process

Avoid abusive use of ignore_errors during teardown which prevented
us from spotting logic bugs.

New code should not display Ansible errors if the teardown works as
expected and at the end we do not have any VMs running or defined.

This code should work regardless the presense or absence of these VMs,
following a delete-if-found logic.

Note: when testing this using reproducer remember that by default
it uses only master from tq[e], so you need to hack it to force it to
use this specific change (cherry pick and disable cloning).

Change-Id: Ie8a2265ec266b0db1423cec190534c1c0f04d77f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/38/627538/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/teardown/nodes/tasks/main.yml'],1,43bbb04fdb0a8b3d4663c630f9117cc43dad33c5,oooq/clean-teardown," shell: set -eo pipefail virsh list --name | grep '{{ overcloud_nodes | map(attribute='name') | join('|') }}' | xargs virsh destroy || true register: result changed_when: result.stdout_lines virsh list --all | grep '{{ overcloud_nodes | map(attribute='name') | join('|') }}' | xargs virsh undefine || true '{{ item }}'.qcow2 2>&1 > /dev/null '{{ item }}'.qcow2 with_items: ""{{ overcloud_nodes | map(attribute='name' }}"" register: result failed_when: result.rc and 'Storage volume not found' in result.stderr - when: supplemental_node is defined environment: - when: undercloud_node is defined block: - name: Check undercloud vm command: > virsh domid ""{{ undercloud_node.name }}"" ignore_errors: true register: undercloud_check - name: Destroy undercloud vm command: > virsh destroy ""{{ undercloud_node.name }}"" when: undercloud_check is success ignore_errors: true - name: Undefine undercloud vm command: > virsh undefine ""{{ undercloud_node.name }}"" when: undercloud_check is success - name: Delete undercloud vm storage shell: | virsh vol-dumpxml --pool '{{ libvirt_volume_pool }}' \ '{{ undercloud_node.name }}'.qcow2 2>&1 > /dev/null virsh vol-delete --pool '{{ libvirt_volume_pool }}' \ '{{ undercloud_node.name }}'.qcow2 ignore_errors: true"," # Check if the overcloud nodes exist. - name: Check overcloud vms command: > virsh domid ""{{ item.name }}"" with_items: ""{{ overcloud_nodes }}"" ignore_errors: true register: overcloud_check command: virsh destroy ""{{ item.item.name }}"" when: item is success with_items: ""{{ overcloud_check.results }}"" ignore_errors: true virsh undefine ""{{ item.item.name }}"" when: item is success with_items: ""{{ overcloud_check.results }}"" '{{ item.name }}'.qcow2 2>&1 > /dev/null '{{ item.name }}'.qcow2 with_items: ""{{ overcloud_nodes }}"" ignore_errors: true - environment: - name: Check undercloud vm command: > virsh domid ""{{ undercloud_node.name }}"" ignore_errors: true register: undercloud_check - name: Destroy undercloud vm command: > virsh destroy ""{{ undercloud_node.name }}"" when: undercloud_check is success ignore_errors: true - name: Undefine undercloud vm command: > virsh undefine ""{{ undercloud_node.name }}"" when: undercloud_check is success - name: Delete undercloud vm storage shell: | virsh vol-dumpxml --pool '{{ libvirt_volume_pool }}' \ '{{ undercloud_node.name }}'.qcow2 2>&1 > /dev/null virsh vol-delete --pool '{{ libvirt_volume_pool }}' \ '{{ undercloud_node.name }}'.qcow2 ignore_errors: true",36,42
openstack%2Fdevstack~master~Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d,openstack/devstack,master,Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d,Add nova-multi-cell job to experimental queue,MERGED,2019-05-24 19:09:54.000000000,2019-06-26 15:44:08.000000000,2019-06-26 15:44:07.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-24 19:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/25cec26b77672819207d9a219a88b340b4627a47', 'message': 'Add nova-multi-cell job to experimental queue\n\nNova has had a multi-cell job (nova-multi-cell) since the\nStein release but is currently non-voting in the check queue\nfor nova changes. This change adds the job to the experimental\nqueue for devstack changes so we can test changes to devstack\nand make sure they work for the multi-cell job.\n\nChange-Id: Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d\n'}, {'number': 2, 'created': '2019-05-24 19:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f6c68913f2e47638a149803afadc7efcd487b2b0', 'message': 'Add nova-multi-cell job to experimental queue\n\nNova has had a multi-cell job (nova-multi-cell) since the\nTrain release but is currently non-voting in the check queue\nfor nova changes. This change adds the job to the experimental\nqueue for devstack changes so we can test changes to devstack\nand make sure they work for the multi-cell job.\n\nChange-Id: Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d\n'}, {'number': 3, 'created': '2019-06-06 16:16:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/58abccb89f46576b573733fd424056b2f5a0203d', 'message': 'Add nova-multi-cell job to experimental queue\n\nNova has had a multi-cell job (nova-multi-cell) since the\nTrain release but is currently non-voting in the check queue\nfor nova changes. This change adds the job to the experimental\nqueue for devstack changes so we can test changes to devstack\nand make sure they work for the multi-cell job.\n\nChange-Id: Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d\n'}]",1,661381,58abccb89f46576b573733fd424056b2f5a0203d,13,5,3,6873,,,0,"Add nova-multi-cell job to experimental queue

Nova has had a multi-cell job (nova-multi-cell) since the
Train release but is currently non-voting in the check queue
for nova changes. This change adds the job to the experimental
queue for devstack changes so we can test changes to devstack
and make sure they work for the multi-cell job.

Change-Id: Icf31baf6fd4313aec5ecfb9e8f9cbcef1ff7f61d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/661381/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,25cec26b77672819207d9a219a88b340b4627a47,nova-multi-cell, # * nova-multi-cell: maintained by nova and currently non-voting in the # check queue for nova changes but relies on devstack configuration - nova-multi-cell,,3,0
openstack%2Fosprofiler~master~I7fa963b20498549d4241ccb16cfbca8ddf70eef5,openstack/osprofiler,master,I7fa963b20498549d4241ccb16cfbca8ddf70eef5,Support standalone placement in the devstack,MERGED,2019-06-13 13:27:43.000000000,2019-06-26 15:21:51.000000000,2019-06-14 09:44:34.000000000,"[{'_account_id': 5950}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 13:27:43.000000000', 'files': ['devstack/lib/osprofiler'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/55b0542eaa28555665f54eb40bfe14b9c456e9b8', 'message': 'Support standalone placement in the devstack\n\nThe placement service has a separate config file that also needs to be\nmodified if osprofiler is enabled in devstack.\n\nChange-Id: I7fa963b20498549d4241ccb16cfbca8ddf70eef5\n'}]",0,665135,55b0542eaa28555665f54eb40bfe14b9c456e9b8,8,4,1,9708,,,0,"Support standalone placement in the devstack

The placement service has a separate config file that also needs to be
modified if osprofiler is enabled in devstack.

Change-Id: I7fa963b20498549d4241ccb16cfbca8ddf70eef5
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/35/665135/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/osprofiler'],1,55b0542eaa28555665f54eb40bfe14b9c456e9b8,, $PLACEMENT_CONF,,1,0
openstack%2Fcharm-neutron-api~master~I936aedf51b2021bf5a09dc4dceb98235aebc0a86,openstack/charm-neutron-api,master,I936aedf51b2021bf5a09dc4dceb98235aebc0a86,Migrate functional tests from Amulet to Zaza,MERGED,2019-06-05 12:57:13.000000000,2019-06-26 15:14:07.000000000,2019-06-26 15:14:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-05 12:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/72320ea2c34c5ff9ed2da74b299c41c2049ccd5c', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 2, 'created': '2019-06-06 07:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/bf3ce29ea856b35f975cb06bed895b72880e2f99', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 3, 'created': '2019-06-06 08:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/11051b3f9265e79d33628ce4e992dc39461d5ebb', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 4, 'created': '2019-06-06 14:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/e8f63e9de11a4d9a63025f3c36dd22748541bb6f', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 5, 'created': '2019-06-06 15:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/cd086efe60ec9d565cd8aa816f17863cb65f7891', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 6, 'created': '2019-06-07 07:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c9c7ec831064f00bdc71f3a750e7c031d1de8e73', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 7, 'created': '2019-06-07 11:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/17a4a3b06b445e488a57841962e29b4d5fb7dfe8', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nCloses-Bug: #1828424\n'}, {'number': 8, 'created': '2019-06-07 14:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c9d280b22d9be921a45576fee55288ab6d361b11', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 9, 'created': '2019-06-08 07:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/847f3674a98f8c93ea19225f708f7fc15507bb9f', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 10, 'created': '2019-06-18 09:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/0fb9886a9760291ff8ec51b46077a3e71fb18bae', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis change additionally bringe in a charmhelpers change that\nshifts strictness in ConfigParser for security audits.\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 11, 'created': '2019-06-18 09:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f4018d36f8f6592a6a97e6134ef016b372c18892', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis change additionally bringe in a charmhelpers change that\nshifts strictness in ConfigParser for security audits.\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 12, 'created': '2019-06-19 06:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/3bc3dfeffe92ddbf9c2b0bd64251d14c4727fb5d', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis change additionally bringe in a charmhelpers change that\nshifts strictness in ConfigParser for security audits.\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 13, 'created': '2019-06-19 06:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/4ba372bf0838dd70c5b7c163dea20661fa8d7155', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis change additionally bringe in a charmhelpers change that\nshifts strictness in ConfigParser for security audits.\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 14, 'created': '2019-06-20 12:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b8f9655351de6af52d4f4c02b0031e94b5693510', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis change additionally bringe in a charmhelpers change that\nshifts strictness in ConfigParser for security audits.\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}, {'number': 15, 'created': '2019-06-21 07:08:54.000000000', 'files': ['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/dev-basic-disco-stein', 'tests/gate-basic-bionic-stein', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/05f373a27b3a5acfa1a8bff738bbcf4e812ab307', 'message': 'Migrate functional tests from Amulet to Zaza\n\nChange-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17\nCloses-Bug: #1828424\n'}]",0,663313,05f373a27b3a5acfa1a8bff738bbcf4e812ab307,103,4,15,20634,,,0,"Migrate functional tests from Amulet to Zaza

Change-Id: I936aedf51b2021bf5a09dc4dceb98235aebc0a86
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/17
Closes-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/13/663313/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xenial-ocata.yaml', 'test-requirements.txt', 'tests/bundles/disco-stein.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-bionic-stein.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tox.ini']",12,72320ea2c34c5ff9ed2da74b299c41c2049ccd5c,bug/1828424,passenv = HOME TERM AMULET_* CS_API_* OS_* deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt[testenv:func-noop] basepython = python3 true [testenv:func] basepython = python3 functest-run-suite --keep-model [testenv:func-smoke] basepython = python3 functest-run-suite --keep-model --smoke [testenv:func-dev] basepython = python3 functest-run-suite --keep-model --dev,"passenv = HOME TERM AMULET_* CS_API_*deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt[testenv:func27-noop] # DRY RUN - For Debug basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" -n --no-destroy [testenv:func27] # Charm Functional Test # Run all gate tests which are +x (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" --no-destroy [testenv:func27-smoke] # Charm Functional Test # Run a specific test as an Amulet smoke test (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-rocky --no-destroy [testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev] # Charm Functional Test # Run all development test targets which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dev-*"" --no-destroy",1209,82
openstack%2Fcharm-hacluster~master~I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2,openstack/charm-hacluster,master,I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2,Make the workgroup status more robust,MERGED,2019-06-21 23:10:30.000000000,2019-06-26 15:01:38.000000000,2019-06-26 15:01:38.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 23:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d7c71de94a6adb3289b0910c22ab403d3adc9ad4', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 2, 'created': '2019-06-21 23:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/60cdd74d8be3c1a79d9db161405fa27756f1d4d3', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 3, 'created': '2019-06-24 23:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0acc7fa29ac7f16124aec7b18dec26b0107eea84', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 4, 'created': '2019-06-25 17:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3647947717ebaf103981045843f8a5201d01ee6b', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 5, 'created': '2019-06-25 17:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d15ae2e41f20900dba6322fd1ba9e19c887de6a9', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 6, 'created': '2019-06-25 18:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c0e7c069e22712a01d82008a2233a87118297fd3', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}, {'number': 7, 'created': '2019-06-25 23:26:31.000000000', 'files': ['hooks/utils.py', 'unit_tests/test_pcmk.py', 'hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/93644400756170bb8e37d5a5f995a54a4a3bd8dd', 'message': 'Make the workgroup status more robust\n\nThe current charm does not indicated to the end user when a specific\nresource is not running. Neither does it indicate when a node is offline\nor stopped.\n\nValidate that configured resources are actually running and let the end\nuser know if they are not.\n\nCloses-Bug: #1834263\n\nChange-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2\n'}]",0,666939,93644400756170bb8e37d5a5f995a54a4a3bd8dd,30,4,7,20805,,,0,"Make the workgroup status more robust

The current charm does not indicated to the end user when a specific
resource is not running. Neither does it indicate when a node is offline
or stopped.

Validate that configured resources are actually running and let the end
user know if they are not.

Closes-Bug: #1834263

Change-Id: I1171e71ae3b015b4b838b7ecf0de18eb10d7c8f2
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/39/666939/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/utils.py'],1,d7c71de94a6adb3289b0910c22ab403d3adc9ad4,bug/1834263," for resource in get_resources().keys(): if not pcmk.is_resource_present(resource): return (""waiting"", ""Resource: {} not yet configured"".format(resource)) if not pcmk.crm_res_running(resource): return (""blocked"", ""Resource: {} not runing"".format(resource)) def get_resources(): json_rel_data = {} for rid in relation_ids(""ha""): for unit in related_units(rid): json_rel_data = relation_get(""json_resources"", rid=rid, unit=unit) return json.loads(json_rel_data)",,16,0
openstack%2Ftripleo-validations~stable%2Fstein~I7fc7909d21fb3489cd489b0d8ec848621c96e0e9,openstack/tripleo-validations,stable/stein,I7fc7909d21fb3489cd489b0d8ec848621c96e0e9,WIP: Add Molecule tests for the role xfs-check-ftype.,ABANDONED,2019-06-26 14:37:57.000000000,2019-06-26 14:50:40.000000000,,"[{'_account_id': 11491}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-26 14:37:57.000000000', 'files': ['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fcdd66efe0fe5ce6293042acc06cdd970f3c0a9c', 'message': 'WIP: Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: I7fc7909d21fb3489cd489b0d8ec848621c96e0e9\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,667637,fcdd66efe0fe5ce6293042acc06cdd970f3c0a9c,8,3,1,25877,,,0,"WIP: Add Molecule tests for the role xfs-check-ftype.

Change-Id: I7fc7909d21fb3489cd489b0d8ec848621c96e0e9
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/667637/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml']",5,fcdd66efe0fe5ce6293042acc06cdd970f3c0a9c,molecule,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",,185,0
openstack%2Ftempest~master~Ia2779fec22d89113b3d6206c7ed13aecb1c7c675,openstack/tempest,master,Ia2779fec22d89113b3d6206c7ed13aecb1c7c675,Remove 'nova-cells-v1' from experimental pipeline,ABANDONED,2019-05-22 10:06:08.000000000,2019-06-26 14:45:47.000000000,,"[{'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 10:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b798a02522645abfc3a0c22781443b000fffae2', 'message': ""Remove 'nova-cells-v1' from experimental pipeline\n\nChange I2031bf2cc914d134e5ed61156d2cfc621f006e0b removed this from nova.\nRemove references to it from here.\n\nChange-Id: Ia2779fec22d89113b3d6206c7ed13aecb1c7c675\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-26 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99d6d82c96df2fd92ed645e9de4c78d552ca0a88', 'message': ""Remove 'nova-cells-v1' from experimental pipeline\n\nChange I2031bf2cc914d134e5ed61156d2cfc621f006e0b removed this from nova.\nRemove references to it from here.\n\nChange-Id: Ia2779fec22d89113b3d6206c7ed13aecb1c7c675\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,660622,99d6d82c96df2fd92ed645e9de4c78d552ca0a88,8,4,2,15334,,,0,"Remove 'nova-cells-v1' from experimental pipeline

Change I2031bf2cc914d134e5ed61156d2cfc621f006e0b removed this from nova.
Remove references to it from here.

Change-Id: Ia2779fec22d89113b3d6206c7ed13aecb1c7c675
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/660622/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3b798a02522645abfc3a0c22781443b000fffae2,remove-cells-v1,, - nova-cells-v1: irrelevant-files: *tempest-irrelevant-files,0,2
openstack%2Foslo.config~master~I04baae695a7ba0bb93c91ea642c4e33c04bf87bd,openstack/oslo.config,master,I04baae695a7ba0bb93c91ea642c4e33c04bf87bd,Deprecate ConfigFilter,MERGED,2019-06-17 17:51:09.000000000,2019-06-26 14:39:29.000000000,2019-06-26 14:39:29.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 17:51:09.000000000', 'files': ['oslo_config/cfgfilter.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a2e8aa9aa9e02b620e513ef2f78761ad7b15daea', 'message': ""Deprecate ConfigFilter\n\nThere are no existing users of this class[0], and I believe there were\nsome fundamental problems with the design that we never addressed.\nAs I recall, this is because we adopted the policy that other projects\nshould never use config opts they didn't define, so there's no real\nneed for this feature now.\n\nI'm proposing that we deprecate this for only one cycle and remove it\nin U. While this doesn't fit our usual deprecation policy, the fact\nthat the module has no known users makes me think it's not worth\nwaiting the full two cycles we normally would.\n\nChange-Id: I04baae695a7ba0bb93c91ea642c4e33c04bf87bd\n0: http://codesearch.openstack.org/?q=ConfigFilter&i=nope&files=&repos=\n""}]",0,665735,a2e8aa9aa9e02b620e513ef2f78761ad7b15daea,11,3,1,6928,,,0,"Deprecate ConfigFilter

There are no existing users of this class[0], and I believe there were
some fundamental problems with the design that we never addressed.
As I recall, this is because we adopted the policy that other projects
should never use config opts they didn't define, so there's no real
need for this feature now.

I'm proposing that we deprecate this for only one cycle and remove it
in U. While this doesn't fit our usual deprecation policy, the fact
that the module has no known users makes me think it's not worth
waiting the full two cycles we normally would.

Change-Id: I04baae695a7ba0bb93c91ea642c4e33c04bf87bd
0: http://codesearch.openstack.org/?q=ConfigFilter&i=nope&files=&repos=
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/35/665735/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/cfgfilter.py'],1,a2e8aa9aa9e02b620e513ef2f78761ad7b15daea,deprecate-config-filter,DEPRECATED: This module is deprecated and scheduled for removal in the U cycle. from debtcollector import removals @removals.removed_class('CliOptRegisteredError')@removals.removed_class('ConfigFilter'),,7,0
openstack%2Freviewstats~master~I0591064c14ccc38d8a7275267209fb69e7b2a029,openstack/reviewstats,master,I0591064c14ccc38d8a7275267209fb69e7b2a029,DNM: Debug zuul failure,ABANDONED,2019-04-24 17:22:03.000000000,2019-06-26 14:22:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-24 17:22:03.000000000', 'files': ['reviewstats/utils.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/1adbc3f79e1c6734a674acbe99a31920e95fe84a', 'message': 'DNM: Debug zuul failure\n\nChange-Id: I0591064c14ccc38d8a7275267209fb69e7b2a029\n'}]",0,655507,1adbc3f79e1c6734a674acbe99a31920e95fe84a,3,1,1,6928,,,0,"DNM: Debug zuul failure

Change-Id: I0591064c14ccc38d8a7275267209fb69e7b2a029
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/07/655507/1 && git format-patch -1 --stdout FETCH_HEAD,['reviewstats/utils.py'],1,1adbc3f79e1c6734a674acbe99a31920e95fe84a,upstream, LOG.error(os.getcwd()) LOG.error(files),,2,0
openstack%2Fpython-heatclient~master~I44bbafa95d6eeb3550aac5b480391a3fc7ddaef5,openstack/python-heatclient,master,I44bbafa95d6eeb3550aac5b480391a3fc7ddaef5,Fix unit tests,MERGED,2019-06-25 00:30:52.000000000,2019-06-26 13:58:40.000000000,2019-06-26 13:58:40.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 00:30:52.000000000', 'files': ['heatclient/tests/unit/test_format_utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/d87aa032de73744d37360f664deddad5052d9a9f', 'message': 'Fix unit tests\n\nChange-Id: I44bbafa95d6eeb3550aac5b480391a3fc7ddaef5\n'}]",0,667253,d87aa032de73744d37360f664deddad5052d9a9f,7,4,1,4257,,,0,"Fix unit tests

Change-Id: I44bbafa95d6eeb3550aac5b480391a3fc7ddaef5
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/53/667253/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/tests/unit/test_format_utils.py'],1,d87aa032de73744d37360f664deddad5052d9a9f,," self.assertEqual(expected, self.app.stdout.make_string().rstrip())"," self.assertEqual(expected, self.app.stdout.make_string())",1,1
openstack%2Fopenstack-helm~master~I7733f4989cce223148464d295d57fd8812fcf963,openstack/openstack-helm,master,I7733f4989cce223148464d295d57fd8812fcf963,[Doc] Fix the reference to the helm-toolkit macro used in example,MERGED,2019-06-26 07:46:10.000000000,2019-06-26 13:50:38.000000000,2019-06-26 13:50:38.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-26 07:46:10.000000000', 'files': ['doc/source/devref/endpoints.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3086d7b8ac1f3073d316fe93e2a83afa4bf94eec', 'message': '[Doc] Fix the reference to the helm-toolkit macro used in example\n\nChange-Id: I7733f4989cce223148464d295d57fd8812fcf963\n'}]",0,667534,3086d7b8ac1f3073d316fe93e2a83afa4bf94eec,7,3,1,9963,,,0,"[Doc] Fix the reference to the helm-toolkit macro used in example

Change-Id: I7733f4989cce223148464d295d57fd8812fcf963
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/667534/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/endpoints.rst'],1,3086d7b8ac1f3073d316fe93e2a83afa4bf94eec,doc-endpoint-macro," {{- if empty .Values.conf.cinder.DEFAULT.glance_api_servers -}} {{- $_ := tuple ""image"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup""| set .Values.conf.cinder.DEFAULT ""glance_api_servers"" -}} {{- end -}} As an example, this line uses the ``endpoints.keystone_endpoint_uri_lookup`` macro in the ``helm-toolkit`` chart (since it is used by all charts). Note that``endpoints.keystone_endpoint_uri_lookup`` is defined in the ``helm-toolkit`` chart."," +glance_api_servers = {{ tuple ""image"" ""internal"" ""api"" . | include ""helm-toolkit.endpoint_type_lookup_addr"" }} As an example, this line uses the ``endpoint_type_lookup_addr`` macro in the ``helm-toolkit`` chart (since it is used by all charts). Note that``endpoint_type_lookup_addr`` is defined in the ``helm-toolkit`` chart.",7,4
openstack%2Fopenstack-helm~master~Ibff6210d5bbbf5897eb23e252b6445a938a158d8,openstack/openstack-helm,master,Ibff6210d5bbbf5897eb23e252b6445a938a158d8,Add OpenSUSE Leap15 specific values overrides for barbican,MERGED,2019-05-09 12:47:03.000000000,2019-06-26 13:50:37.000000000,2019-06-26 13:50:37.000000000,"[{'_account_id': 6593}, {'_account_id': 8749}, {'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-09 12:47:03.000000000', 'files': ['barbican/values_overrides/rocky-opensuse_15.yaml', 'barbican/.helmignore'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b56059087b42c7510b8693dc85d84106779b617', 'message': 'Add OpenSUSE Leap15 specific values overrides for barbican\n\nOnly provide the paths for the right images, no other helm charts updates.\n\nChange-Id: Ibff6210d5bbbf5897eb23e252b6445a938a158d8\n'}]",0,658071,3b56059087b42c7510b8693dc85d84106779b617,9,5,1,9963,,,0,"Add OpenSUSE Leap15 specific values overrides for barbican

Only provide the paths for the right images, no other helm charts updates.

Change-Id: Ibff6210d5bbbf5897eb23e252b6445a938a158d8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/658071/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/values_overrides/rocky-opensuse_15.yaml', 'barbican/.helmignore']",2,3b56059087b42c7510b8693dc85d84106779b617,barbican-values-overrides,values_overrides ,,13,0
openstack%2Fopenstack-helm~master~I63eb86b3fb39749a839040a25689ecf979537b64,openstack/openstack-helm,master,I63eb86b3fb39749a839040a25689ecf979537b64,Clean up the code for fetching image id,MERGED,2019-06-10 08:04:58.000000000,2019-06-26 13:50:35.000000000,2019-06-26 13:50:35.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-10 08:04:58.000000000', 'files': ['tools/deployment/multinode/900-tempest.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1e8ceb15b79d43e5d0970a45322c58bad17c5868', 'message': 'Clean up the code for fetching image id\n\nChange-Id: I63eb86b3fb39749a839040a25689ecf979537b64\n'}]",0,664218,1e8ceb15b79d43e5d0970a45322c58bad17c5868,7,3,1,9963,,,0,"Clean up the code for fetching image id

Change-Id: I63eb86b3fb39749a839040a25689ecf979537b64
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/664218/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/900-tempest.sh'],1,1e8ceb15b79d43e5d0970a45322c58bad17c5868,,"IMAGE_ID=$(openstack image list -f value -c Name -c ID | \ grep "" Cirros "" | head -1 | cut -f 1 -d ' ')","IMAGE_NAME=$(openstack image show -f value -c name \ $(openstack image list -f csv | awk -F ',' '{ print $2 "","" $1 }' | \ grep ""^\""Cirros"" | head -1 | awk -F ',' '{ print $2 }' | tr -d '""'))IMAGE_ID=$(openstack image show ""${IMAGE_NAME}"" -f value -c id)",2,4
openstack%2Fkolla-ansible~stable%2Fstein~Id3c006df00c1e2d66472c2195781e01c640cab22,openstack/kolla-ansible,stable/stein,Id3c006df00c1e2d66472c2195781e01c640cab22,Replace merge_configs with merge_yaml for merge mongodb.conf,MERGED,2019-06-24 13:22:37.000000000,2019-06-26 13:44:20.000000000,2019-06-26 13:44:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28367}, {'_account_id': 30381}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-24 13:22:37.000000000', 'files': ['ansible/roles/mongodb/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b5d1407ace818b6495e1cdfbdfdcfa3fd4b8c8c', 'message': ""Replace merge_configs with merge_yaml for merge mongodb.conf\n\nActually, 'mongodb.conf' is a yaml format configuration file. Do not use\nmerge_configs to merge it.\n\nChange-Id: Id3c006df00c1e2d66472c2195781e01c640cab22\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n(cherry picked from commit d7c4a4f2b98c48e4c95ec853717a11d309f5cf6b)\n""}]",0,667092,9b5d1407ace818b6495e1cdfbdfdcfa3fd4b8c8c,12,6,1,30491,,,0,"Replace merge_configs with merge_yaml for merge mongodb.conf

Actually, 'mongodb.conf' is a yaml format configuration file. Do not use
merge_configs to merge it.

Change-Id: Id3c006df00c1e2d66472c2195781e01c640cab22
Signed-off-by: ZijianGuo <guozijn@gmail.com>
(cherry picked from commit d7c4a4f2b98c48e4c95ec853717a11d309f5cf6b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/667092/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/tasks/config.yml'],1,9b5d1407ace818b6495e1cdfbdfdcfa3fd4b8c8c,fix-merge-mongodb-conf-stable/stein, merge_yaml:, merge_configs:,1,1
openstack%2Fneutron~master~Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b,openstack/neutron,master,Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b,"Import ""Manage Networking service quotas"" admin guide",MERGED,2019-06-24 17:37:20.000000000,2019-06-26 13:42:01.000000000,2019-06-24 22:47:19.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-24 17:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6688ff9decd23dd1dd33f5077f72156baaa38552', 'message': 'Import ""Manage Networking service quotas"" admin guide\n\nThis copies the guide from openstack-manuals [1] which should\nhave been done with the manuals docs migration in Pike. The\nonly content change is a todo is added to migrate the guide\nfrom using the deprecated neutron CLIs to the openstack CLIs.\n\n[1] https://docs.openstack.org/ocata/admin-guide/cli-networking-advanced-quotas.html\n\nChange-Id: Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b\nCloses-Bug: #1834068\n'}, {'number': 2, 'created': '2019-06-24 17:37:47.000000000', 'files': ['doc/source/admin/ops-quotas.rst', 'doc/source/admin/ops.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e8693e3a0f6bf4b27bac312e8da0f6ab51a708f', 'message': 'Import ""Manage Networking service quotas"" admin guide\n\nThis copies the guide from openstack-manuals [1] which should\nhave been done with the manuals docs migration in Pike. The\nonly content change is a todo is added to migrate the guide\nfrom using the deprecated neutron CLIs to the openstack CLIs.\n\n[1] https://docs.openstack.org/ocata/admin-guide/cli-networking-advanced-quotas.html\n\nChange-Id: Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b\nCloses-Bug: #1834068\n'}]",1,667168,2e8693e3a0f6bf4b27bac312e8da0f6ab51a708f,10,4,2,6873,,,0,"Import ""Manage Networking service quotas"" admin guide

This copies the guide from openstack-manuals [1] which should
have been done with the manuals docs migration in Pike. The
only content change is a todo is added to migrate the guide
from using the deprecated neutron CLIs to the openstack CLIs.

[1] https://docs.openstack.org/ocata/admin-guide/cli-networking-advanced-quotas.html

Change-Id: Ia0cad1ea0c27067bc257c1fc8e05299052e35e1b
Closes-Bug: #1834068
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/667168/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/ops.rst'],1,6688ff9decd23dd1dd33f5077f72156baaa38552,bug/1834068, ops-quotas,,1,0
openstack%2Fopenstack-helm~master~Ifab508f2c3e39de69e3b1423b6aab57e333fc37e,openstack/openstack-helm,master,Ifab508f2c3e39de69e3b1423b6aab57e333fc37e,Horizon: Set SECURE_PROXY_ADDR_HEADER,MERGED,2019-05-20 17:40:49.000000000,2019-06-26 13:40:51.000000000,2019-06-26 13:40:51.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-05-20 17:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/befb88d04df3a9d443ed31cb69b85754d4231e55', 'message': ""Horizon: Set SECURE_PROXY_ADDR_HEADER\n\nSetting this to HTTP_X_FORWARDED_FOR will display the IP in\nX-Forwarded-For header instead of REMOTE_ADDR. This is to display\nclient's IP.\n\nChange-Id: Ifab508f2c3e39de69e3b1423b6aab57e333fc37e\n""}, {'number': 2, 'created': '2019-05-20 19:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d583620561eb6005347fff4222ec8e847c615ca9', 'message': ""Horizon: Set SECURE_PROXY_ADDR_HEADER\n\nSetting this to HTTP_X_FORWARDED_FOR will display the IP in\nX-Forwarded-For header instead of REMOTE_ADDR. This is to display\nclient's IP.\n\nChange-Id: Ifab508f2c3e39de69e3b1423b6aab57e333fc37e\n""}, {'number': 3, 'created': '2019-05-20 19:21:02.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d1e01ee3d26f9b1c51643b688f8a619c96a20fb', 'message': ""Horizon: Set SECURE_PROXY_ADDR_HEADER\n\nSetting this to HTTP_X_FORWARDED_FOR will display the IP in\nX-Forwarded-For header instead of REMOTE_ADDR. This is to display\nclient's IP.\n\nChange-Id: Ifab508f2c3e39de69e3b1423b6aab57e333fc37e\n""}]",0,660184,0d1e01ee3d26f9b1c51643b688f8a619c96a20fb,11,3,3,24780,,,0,"Horizon: Set SECURE_PROXY_ADDR_HEADER

Setting this to HTTP_X_FORWARDED_FOR will display the IP in
X-Forwarded-For header instead of REMOTE_ADDR. This is to display
client's IP.

Change-Id: Ifab508f2c3e39de69e3b1423b6aab57e333fc37e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/660184/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,befb88d04df3a9d443ed31cb69b85754d4231e55,Client's IP," # This setting specifies the name of the header with remote IP address. If not present, # then REMOTE_ADDR header is used. The commom value for this setting is HTTP_X_REAL_IP # or HTTP_X_FORWARDED_FOR SECURE_PROXY_ADDR_HEADER = ""HTTP_X_FORWARDED_FOR"" ",,5,0
openstack%2Fpython-neutronclient~stable%2Frocky~Ic4639628c8910b88a14b0fe8f37638bb4f9474be,openstack/python-neutronclient,stable/rocky,Ic4639628c8910b88a14b0fe8f37638bb4f9474be,Update json module to jsonutils,ABANDONED,2019-04-10 15:35:16.000000000,2019-06-26 13:37:32.000000000,,"[{'_account_id': 841}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-04-10 15:35:16.000000000', 'files': ['neutronclient/client.py', 'neutronclient/tests/unit/test_cli20.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/0f97d524e54e2c68ee6c64661f4562ffcb4d30b1', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and neutronclient use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/python-neutronclient/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: Ic4639628c8910b88a14b0fe8f37638bb4f9474be\n(cherry picked from commit 1f35b8f25cb328ede6aea7933ecd33a1cd713ba8)\n'}]",0,651583,0f97d524e54e2c68ee6c64661f4562ffcb4d30b1,5,4,1,28614,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and neutronclient use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/python-neutronclient/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: Ic4639628c8910b88a14b0fe8f37638bb4f9474be
(cherry picked from commit 1f35b8f25cb328ede6aea7933ecd33a1cd713ba8)
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/83/651583/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/client.py', 'neutronclient/tests/unit/test_cli20.py']",2,0f97d524e54e2c68ee6c64661f4562ffcb4d30b1,,from oslo_serialization import jsonutils data = jsonutils.loads(self.fake_stdout.make_string()) data = jsonutils.loads(''.join(self.fake_stdout.content)) data = jsonutils.loads(''.join(self.fake_stdout.content)),import json data = json.loads(self.fake_stdout.make_string()) data = json.loads(''.join(self.fake_stdout.content)) data = json.loads(''.join(self.fake_stdout.content)),8,11
openstack%2Fopenstack-helm~master~I4a5b53da6684e006c661df0bf1f1a7c17d8058b4,openstack/openstack-helm,master,I4a5b53da6684e006c661df0bf1f1a7c17d8058b4,Change to use mkisofs for SUSE Nova image,MERGED,2019-05-31 06:06:48.000000000,2019-06-26 13:37:25.000000000,2019-06-26 13:37:24.000000000,"[{'_account_id': 7102}, {'_account_id': 8749}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-05-31 06:06:48.000000000', 'files': ['nova/values_overrides/opensuse_15.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/249bfd12271a805375a8bd57061195b7a716d705', 'message': 'Change to use mkisofs for SUSE Nova image\n\nSUSE Nova image installs mkisofs instead of genisoimage. Set the\nmkisofs_cmd property in nova.conf to mkisofs.\n\nChange-Id: I4a5b53da6684e006c661df0bf1f1a7c17d8058b4\n'}]",0,662385,249bfd12271a805375a8bd57061195b7a716d705,12,10,1,24580,,,0,"Change to use mkisofs for SUSE Nova image

SUSE Nova image installs mkisofs instead of genisoimage. Set the
mkisofs_cmd property in nova.conf to mkisofs.

Change-Id: I4a5b53da6684e006c661df0bf1f1a7c17d8058b4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/85/662385/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/values_overrides/opensuse_15.yaml'],1,249bfd12271a805375a8bd57061195b7a716d705,, nova: DEFAULT: mkisofs_cmd: mkisofs,,3,0
openstack%2Fcharm-ceph-radosgw~master~I248d6ef5ae3ffb1d5b8e666e4c4676578460d439,openstack/charm-ceph-radosgw,master,I248d6ef5ae3ffb1d5b8e666e4c4676578460d439,Remove trusty-icehouse functional test,MERGED,2019-06-25 13:48:04.000000000,2019-06-26 13:35:22.000000000,2019-06-26 13:35:22.000000000,"[{'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 13:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4405b09ea3e81105b1aac2b92b6fb1c23a01d198', 'message': 'Remove trusty-icehouse functional test\n\nChange-Id: I248d6ef5ae3ffb1d5b8e666e4c4676578460d439\n'}, {'number': 2, 'created': '2019-06-25 13:49:47.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/trusty-icehouse.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/3b9130d8088b245d82e6c2132e82c5dc5e51cc41', 'message': 'Remove trusty-icehouse functional test\n\nChange-Id: I248d6ef5ae3ffb1d5b8e666e4c4676578460d439\n'}]",0,667368,3b9130d8088b245d82e6c2132e82c5dc5e51cc41,16,5,2,6737,,,0,"Remove trusty-icehouse functional test

Change-Id: I248d6ef5ae3ffb1d5b8e666e4c4676578460d439
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/68/667368/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/trusty-icehouse.yaml'],1,4405b09ea3e81105b1aac2b92b6fb1c23a01d198,remove-trusty-icehouse-func-test,,"options: source: &source distro series: trusty applications: ceph-radosgw: charm: ceph-radosgw series: trusty num_units: 1 options: source: *source ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source osd-devices: '/srv/ceph /dev/test-non-existent' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source auth-supported: 'none' percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *source glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *source cinder: expose: True charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: 'None' glance-api-version: '2' openstack-origin: *source cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph nova-cloud-controller: expose: True charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *source relations: - - nova-compute:amqp - rabbitmq-server:amqp - - nova-compute:image-service - glance:image-service - - nova-compute:ceph - ceph-mon:client - - keystone:shared-db - percona-cluster:shared-db - - glance:shared-db - percona-cluster:shared-db - - glance:identity-service - keystone:identity-service - - glance:amqp - rabbitmq-server:amqp - - glance:ceph - ceph-mon:client - - cinder:shared-db - percona-cluster:shared-db - - cinder:identity-service - keystone:identity-service - - cinder:amqp - rabbitmq-server:amqp - - cinder:image-service - glance:image-service - - cinder-ceph:storage-backend - cinder:storage-backend - - cinder-ceph:ceph - ceph-mon:client - - ceph-osd:mon - ceph-mon:osd - - nova-cloud-controller:shared-db - percona-cluster:shared-db - - nova-cloud-controller:identity-service - keystone:identity-service - - nova-cloud-controller:amqp - rabbitmq-server:amqp - - nova-cloud-controller:cloud-compute - nova-compute:cloud-compute - - nova-cloud-controller:image-service - glance:image-service - - ceph-radosgw:mon - ceph-mon:radosgw - - ceph-radosgw:identity-service - keystone:identity-service - - cinder-ceph:ceph-access - nova-compute:ceph-access ",0,110
openstack%2Fnetworking-l2gw-tempest-plugin~master~I2664e551896629838a8b2c090ecec05714e11f76,openstack/networking-l2gw-tempest-plugin,master,I2664e551896629838a8b2c090ecec05714e11f76,Make tempest job use Python3,MERGED,2019-06-19 08:56:24.000000000,2019-06-26 13:29:50.000000000,2019-06-26 13:29:50.000000000,"[{'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 08:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/c8b693177c98253c4a0db889f7063b5e137a75c0', 'message': 'Make tempest job use Python3\n\nChange-Id: I2664e551896629838a8b2c090ecec05714e11f76\n'}, {'number': 2, 'created': '2019-06-19 12:40:37.000000000', 'files': ['.zuul.yaml', 'networking_l2gw_tempest_plugin/tests/api/test_l2gw_extensions.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw-tempest-plugin/commit/a3af33b319e5605791b0c95b7bbfdd81a814877c', 'message': 'Make tempest job use Python3\n\nFrom python3 range returns immutable sequence of numbers [0], instead of\na list.\n[0]: https://docs.python.org/3.7/library/stdtypes.html#typesseq-range\n\nChange-Id: I2664e551896629838a8b2c090ecec05714e11f76\n'}]",0,666247,a3af33b319e5605791b0c95b7bbfdd81a814877c,8,2,2,8313,,,0,"Make tempest job use Python3

From python3 range returns immutable sequence of numbers [0], instead of
a list.
[0]: https://docs.python.org/3.7/library/stdtypes.html#typesseq-range

Change-Id: I2664e551896629838a8b2c090ecec05714e11f76
",git fetch https://review.opendev.org/openstack/networking-l2gw-tempest-plugin refs/changes/47/666247/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c8b693177c98253c4a0db889f7063b5e137a75c0,python3-first, USE_PYTHON3: True,,1,0
openstack%2Fgovernance~master~Ie55bb65ae76e0df8393ee9218566a3618058a8fa,openstack/governance,master,Ie55bb65ae76e0df8393ee9218566a3618058a8fa,Add Horizon to 'Help most needed' list,ABANDONED,2019-01-29 18:35:13.000000000,2019-06-26 13:27:41.000000000,,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 5046}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-29 18:35:13.000000000', 'files': ['reference/help-most-needed.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/80a1686d7729d909ca44e04a60077aec3be309c3', 'message': ""Add Horizon to 'Help most needed' list\n\nChange-Id: Ie55bb65ae76e0df8393ee9218566a3618058a8fa\n""}]",11,633798,80a1686d7729d909ca44e04a60077aec3be309c3,16,8,1,1736,,,0,"Add Horizon to 'Help most needed' list

Change-Id: Ie55bb65ae76e0df8393ee9218566a3618058a8fa
",git fetch https://review.opendev.org/openstack/governance refs/changes/98/633798/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/help-most-needed.rst'],1,80a1686d7729d909ca44e04a60077aec3be309c3,formal-vote," 6. Horizon Contributors ======================= `Horizon`_ is the implementation of OpenStacks Dashboard, which provides a unified web-based user interface for all OpenStack services. Graphical User Interface (GUI) is often used by new OpenStack users and operators to start work with OpenStack itself. It's a part of our `technical vision`_ to provide a GUI for OpenStack services. Horizon is looking for new contributors to work on new features, bug fixes and do reviews. We've got a lot of Python and JavaScript specific parts so it could be a good chance to work with for both backend and frontend developers. Working with Horizon helps you to understand how all other OpenStack components work. It leads to better knowledge not only about Horizon but about all OpenStack components. If you're interested, please join the Horizon IRC channel (#openstack-horizon) or reach out to the Horizon PTL (e0ne), the TC sponsor for this item (TD) or starting a new email thread on the openstack-discuss ML using the tag `[horizon]`. .. _`Horizon`: https://governance.openstack.org/tc/reference/projects/horizon.html .. _`technical vision`: https://governance.openstack.org/tc/reference/technical-vision.html#graphical-user-interface",,25,0
openstack%2Ftripleo-validations~stable%2Fstein~I5859af77e65044728ec712fe7bfd8fe85e085f38,openstack/tripleo-validations,stable/stein,I5859af77e65044728ec712fe7bfd8fe85e085f38,Documentation update with the new validations architecture,MERGED,2019-06-26 09:07:02.000000000,2019-06-26 13:26:58.000000000,2019-06-26 13:26:58.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 09:07:02.000000000', 'files': ['README.rst', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fae8a8595b7257ce02eb3d1b96b55d93542a005e', 'message': 'Documentation update with the new validations architecture\n\nChange-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 990bc993e36d000506be7ac9803ff1c35e8876c9)\n'}]",0,667558,fae8a8595b7257ce02eb3d1b96b55d93542a005e,8,6,1,11491,,,0,"Documentation update with the new validations architecture

Change-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 990bc993e36d000506be7ac9803ff1c35e8876c9)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/667558/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'doc/source/readme.rst']",2,fae8a8595b7257ce02eb3d1b96b55d93542a005e,,"A collection of Ansible roles and playbooks to detect and report potential issues during TripleO deployments.* Source: https://opendev.org/openstack/tripleo-validations * Bugs: https://storyboard.openstack.org/#!/project/openstack/tripleo-validationsThe TripleO validations require Ansible 2.7 or above:: $ sudo pip install 'ansible>=2.7'All validations consist of an Ansible role located in the ``roles`` directory and a playbook located in the ``playbooks`` directory. - the ``playbooks`` one contains all the validations playbooks you can run; - the ``lookup_plugins`` one is for custom Ansible look up plugins available to the validations;- the ``roles`` one contains all the necessary Ansible roles to validate your TripleO deployment; playbooks/  first_validation.yaml  second_validation.yaml  third_validation.yaml  etc... library/  another_module.py  some_module.py  etc... lookup_plugins/  one_lookup_plugin.py  another_lookup_plugin.py  etc... roles  first_role  second_role  etc... Each validation is an Ansible playbook located in the ``playbooks`` directory calling his own Ansible role located in the ``roles`` directory. Each playbook have some metadata. Here is what a minimal validation would look like:: - hosts: undercloud roles: - hello-world It should be saved as ``playbooks/hello_world.yaml``.``hosts``, ``vars -> metadata`` and ``roles``.reported by the API.``roles`` include the Ansible role, which contains all the tasks to run, associated to this validation. Each task is a YAML dictionary that must at minimum contain a name and a module to use. Module can be any module that ships with Ansible or any of the custom ones in the ``library`` directory.Just pass ``-i /usr/bin/tripleo-ansible-inventory`` to ``ansible-playbook`` command. As the playbooks are located in their own directory and not at the same level as the ``roles``, ``callback_plugins``, ``library`` and ``lookup_plugins`` directories, you will have to export some Ansible variables first:: $ cd tripleo-validations/ $ export ANSIBLE_CALLBACK_PLUGINS=""${PWD}/callback_plugins"" $ export ANSIBLE_ROLES_PATH=""${PWD}/roles"" $ export ANSIBLE_LOOKUP_PLUGINS=""${PWD}/lookup_plugins"" $ export ANSIBLE_LIBRARY=""${PWD}/library"" $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/hello_world.yaml``library`` directory.Save it as ``library/my_module.py`` and use it in a validation like $ /bin/run-validations.sh --help Usage: run-validations.sh [--help] [--debug] [--ansible-default-callback] [--plan <overcloud>] --validation-name <validation_name> --debug: Enable ansible verbose mode (-vvvv connection debugging) --ansible-default-callback: Use the 'default' Ansible callback plugin instead of the tripleo-validations custom callback 'validation_output' --plan: Stack name to use for generating the inventory data --validation-name: The name of the validation $ /bin/run-validations.sh --validation-name validationLet's create ``playbooks/undercloud-ram.yaml`` and put some metadataNow let's include the Ansible role associated to this validation. Add this under the same indentation as ``hosts`` and ``vars``:: roles: - undercloud-ram Now let's create the ``undercloud-ram`` Ansible role which will contain the necessary task(s) for checking if the Undercloud has the mininum amount of RAM required.:: $ cd tripleo-validations $ ansible-galaxy init --init-path=roles/ undercloud-ram - undercloud-ram was created successfully The tree of the new created role should look like:: undercloud-ram/  defaults   main.yml  meta   main.yml  tasks   main.yml  vars  main.yml Now let's add an Ansible task to test that it's all set up properly:: $ cd roles $ cat <<EOF >> undercloud-ram/tasks/main.yml - name: Test Output debug: msg: ""Hello World!"" EOF $ /bin/run-validations.sh --validation-name undercloud-ram.yaml --ansible-default-callback PLAY [undercloud] ********************************************************* TASK [Gathering Facts] **************************************************** ok: [undercloud] TASK [undercloud-ram : Test Output] *************************************** ok: [undercloud] => { PLAY RECAP **************************************************************** undercloud : ok=2 changed=0 unreachable=0 failed=0 ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/undercloud-ram.yaml -e minimum_ram_gb=1 ansible-playbook -i /usr/bin/tripleo-ansible-inventory playbooks/undercloud-ram.yaml -e minimum_ram_gb=128","A collection of Ansible playbooks to detect and report potential issues during TripleO deployments.* Source: https://git.openstack.org/cgit/openstack/tripleo-validations * Bugs: https://bugs.launchpad.net/tripleo/+bugs?field.tag=validationsThe TripleO validations require Ansible 2.0 or above:: $ sudo pip install 'ansible>=2'All validations are located in the ``validations`` directory. It contains a couple of subdirectories: - the ``files`` directory contains scripts that are directly executable;- ``tasks`` is for common steps that can be shared between the validations. validations  first_validation.yaml  second_validation.yaml  files   some_script.sh  library   another_module.py   some_module.py  tasks  some_task.yamlEach validation is an Ansible playbook with a known location and some meta-data. Here is what a minimal validation would look like:: - hosts: overcloud tasks: - name: Run an echo command command: echo Hello World! It should be saved as ``validations/hello_world.yaml``.``hosts``, ``vars -> metadata`` and ``tasks``.reported by the API and shown in the UI.``tasks`` contain a list of Ansible tasks to run. Each task is a YAML dictionary that must at minimum contain a name and a module to use. Module can be any module that ships with Ansible or any of the custom ones in the ``library`` subdirectory.Just pass ``-i /usr/bin/tripleo-ansible-inventory`` to ``ansible-playbook`` command:: ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/hello_world.yaml``validations/library`` directory.Save it as ``validations/library/my_module.py`` and use it in a validation like $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory path/to/validation.yamlLet's create ``validations/undercloud-ram.yaml`` and put some metadataNow let's add an Ansible task to test that it's all set up properly. Add this under the same indentation as ``hosts`` and ``vars``:: tasks: - name: Test Output debug: msg=""Hello World!"" $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yaml PLAY [undercloud] ************************************************************* GATHERING FACTS *************************************************************** ok: [localhost] TASK: [Test Output] *********************************************************** ok: [localhost] => { PLAY RECAP ******************************************************************** localhost : ok=2 changed=0 unreachable=0 failed=0 ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=1 ansible-playbook -i /usr/bin/tripleo-ansible-inventory validations/undercloud-ram.yaml -e minimum_ram_gb=128 For reference, here's the full validation:: --- - hosts: undercloud vars: metadata: name: Minimum RAM required on the undercloud description: Make sure the undercloud has enough RAM. groups: - prep - pre-introspection minimum_ram_gb: 16 tasks: - name: Verify the RAM requirements fail: msg=""The RAM on the undercloud node is {{ ansible_memtotal_mb }} MB, the minimal recommended value is {{ minimum_ram_gb|int * 1024 }} MB."" failed_when: ""({{ ansible_memtotal_mb }}) < {{ minimum_ram_gb|int * 1024 }}""",122,72
openstack%2Fpython-cloudkittyclient~master~I53995062fe76100f6dfcc672af482f653cc85bde,openstack/python-cloudkittyclient,master,I53995062fe76100f6dfcc672af482f653cc85bde,Add support for /v2/scope API endpoint to the client,MERGED,2019-05-10 10:14:09.000000000,2019-06-26 13:20:20.000000000,2019-06-26 13:20:20.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-05-10 10:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/2a8b852cf8cc97bb6c18ac7bc98c3778326bf98c', 'message': 'Add support for /v2/scope API endpoint to the client\n\nThis allows to retrieve the state of one or several scopes through the API via\nthe client library and cli tool.\n\nChange-Id: I53995062fe76100f6dfcc672af482f653cc85bde\nStory: 2005395\nTask: 30795\nDepends-On: https://review.opendev.org/#/c/658073/\n'}, {'number': 2, 'created': '2019-05-21 09:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/aa75508862b5899ec84e02f921f8510cd7b950ab', 'message': 'Add support for /v2/scope API endpoint to the client\n\nThis allows to retrieve the state of one or several scopes through the API via\nthe client library and cli tool.\n\nChange-Id: I53995062fe76100f6dfcc672af482f653cc85bde\nStory: 2005395\nTask: 30795\nDepends-On: https://review.opendev.org/#/c/658073/\n'}, {'number': 3, 'created': '2019-06-25 13:52:56.000000000', 'files': ['cloudkittyclient/v2/client.py', 'cloudkittyclient/v2/scope.py', 'cloudkittyclient/tests/functional/v1/test_hashmap.py', 'cloudkittyclient/tests/functional/v2/__init__.py', 'cloudkittyclient/tests/functional/v1/test_storage.py', 'cloudkittyclient/tests/functional/v1/test_collector.py', 'cloudkittyclient/v2/scope_cli.py', 'cloudkittyclient/tests/functional/base.py', 'cloudkittyclient/tests/functional/v1/test_rating.py', 'cloudkittyclient/tests/functional/v1/test_pyscripts.py', 'cloudkittyclient/tests/unit/v2/__init__.py', 'cloudkittyclient/tests/functional/v2/test_scope.py', 'cloudkittyclient/tests/unit/v2/test_scope.py', 'cloudkittyclient/tests/unit/v2/base.py', 'setup.cfg', 'cloudkittyclient/tests/functional/v1/test_info.py', 'cloudkittyclient/tests/functional/v1/test_report.py'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/7e7d25dd7871438745cf53fe6559fa45a095bdad', 'message': 'Add support for /v2/scope API endpoint to the client\n\nThis allows to retrieve the state of one or several scopes through the API via\nthe client library and cli tool.\n\nChange-Id: I53995062fe76100f6dfcc672af482f653cc85bde\nStory: 2005395\nTask: 30795\nDepends-On: https://review.opendev.org/#/c/658073/\n'}]",0,658323,7e7d25dd7871438745cf53fe6559fa45a095bdad,11,3,3,23060,,,0,"Add support for /v2/scope API endpoint to the client

This allows to retrieve the state of one or several scopes through the API via
the client library and cli tool.

Change-Id: I53995062fe76100f6dfcc672af482f653cc85bde
Story: 2005395
Task: 30795
Depends-On: https://review.opendev.org/#/c/658073/
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/23/658323/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittyclient/v2/client.py', 'cloudkittyclient/v2/scope.py', 'cloudkittyclient/tests/functional/v1/test_hashmap.py', 'cloudkittyclient/tests/functional/v2/__init__.py', 'cloudkittyclient/tests/functional/v1/test_storage.py', 'cloudkittyclient/tests/functional/v1/test_collector.py', 'cloudkittyclient/v2/scope_cli.py', 'cloudkittyclient/tests/functional/base.py', 'cloudkittyclient/tests/functional/v1/test_rating.py', 'cloudkittyclient/tests/functional/v1/test_pyscripts.py', 'cloudkittyclient/tests/unit/v2/__init__.py', 'cloudkittyclient/tests/functional/v2/test_scope.py', 'cloudkittyclient/tests/unit/v2/test_scope.py', 'cloudkittyclient/tests/unit/v2/base.py', 'setup.cfg', 'cloudkittyclient/tests/functional/v1/test_info.py', 'cloudkittyclient/tests/functional/v1/test_report.py']",17,2a8b852cf8cc97bb6c18ac7bc98c3778326bf98c,,from cloudkittyclient.tests.functional import base,from cloudkittyclient.tests.functional.v1 import base,199,7
openstack%2Fopenstack-helm-images~master~I0459c6fa7d9e967b6667c1dd36193d5dd999be09,openstack/openstack-helm-images,master,I0459c6fa7d9e967b6667c1dd36193d5dd999be09,WIP: Stein Images,ABANDONED,2019-06-25 21:25:57.000000000,2019-06-26 13:19:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-25 21:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9d782ff167a8db1cfe0a847036ba5500c60ef2dd', 'message': 'WIP: Stein Images\n\nChange-Id: I0459c6fa7d9e967b6667c1dd36193d5dd999be09\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-25 23:21:34.000000000', 'files': ['openstack/loci/build-stein.sh', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a0284ddbf97aaba878fbcc974dcbed474281530c', 'message': 'WIP: Stein Images\n\nChange-Id: I0459c6fa7d9e967b6667c1dd36193d5dd999be09\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667468,a0284ddbf97aaba878fbcc974dcbed474281530c,5,1,2,23928,,,0,"WIP: Stein Images

Change-Id: I0459c6fa7d9e967b6667c1dd36193d5dd999be09
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/68/667468/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/loci/build-stein.sh', 'zuul.d/openstack-loci.yaml']",2,9d782ff167a8db1cfe0a847036ba5500c60ef2dd,stein," - openstack-helm-images-build-openstack-loci-stein-ubuntu_xenial - openstack-helm-images-upload-openstack-loci-stein-ubuntu_xenial - openstack-helm-images-promote-openstack-loci-stein-ubuntu_xenial - openstack-helm-images-build-openstack-loci-stein-ubuntu_xenial name: openstack-helm-images-build-openstack-loci-stein-ubuntu_xenial parent: openstack-helm-images-build-openstack-loci-master-ubuntu_xenial description: Build rocky LOCI images for xenial vars: &build_stein_xenial_images <<: *build_master_xenial_images branchname: ""stable/stein"" shortbranchname: ""stein"" - job: name: openstack-helm-images-upload-openstack-loci-stein-ubuntu_xenial parent: openstack-helm-images-upload-openstack-loci-master-ubuntu_xenial description: Build and upload stein LOCI images for xenial vars: *build_stein_xenial_images - job: name: openstack-helm-images-promote-openstack-loci-stein-ubuntu_xenial parent: openstack-helm-images-promote-openstack-loci-master-ubuntu_xenial description: Promote previously published loci xenial rocky images vars: *build_stein_xenial_images - job:",,49,0
openstack%2Ftripleo-heat-templates~master~I131c111bab22dc97bf39de4495aaaa4bf749da37,openstack/tripleo-heat-templates,master,I131c111bab22dc97bf39de4495aaaa4bf749da37,Add docker socket inside neutron_l3_agent container,ABANDONED,2019-06-26 13:02:32.000000000,2019-06-26 13:14:35.000000000,,[{'_account_id': 6681}],"[{'number': 1, 'created': '2019-06-26 13:02:32.000000000', 'files': ['deployment/neutron/neutron-l3-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7efc95c667d1bf84862dd8ad7a9bf4257fd25d5f', 'message': 'Add docker socket inside neutron_l3_agent container\n\nThis will allow to use the new neutron ""kill script"" feature, allowing\nto make the agent clean and drop its container agents instead of keeping\nthem dangling.\nRelates to https://review.opendev.org/663528\n\nChange-Id: I131c111bab22dc97bf39de4495aaaa4bf749da37\n'}]",1,667608,7efc95c667d1bf84862dd8ad7a9bf4257fd25d5f,3,1,1,28223,,,0,"Add docker socket inside neutron_l3_agent container

This will allow to use the new neutron ""kill script"" feature, allowing
to make the agent clean and drop its container agents instead of keeping
them dangling.
Relates to https://review.opendev.org/663528

Change-Id: I131c111bab22dc97bf39de4495aaaa4bf749da37
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/667608/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-l3-container-puppet.yaml'],1,7efc95c667d1bf84862dd8ad7a9bf4257fd25d5f,neutron-l3-agent/docker-access, - /var/run/docker.sock:/var/run/docker.sock:rw,,1,0
openstack%2Ftripleo-ansible~master~I6250a6dcf33caef599fe2bc25f90eea3b8d53d1e,openstack/tripleo-ansible,master,I6250a6dcf33caef599fe2bc25f90eea3b8d53d1e,Update contributiing docs for readability and correctness,MERGED,2019-06-25 17:01:02.000000000,2019-06-26 13:11:07.000000000,2019-06-26 13:11:07.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 17:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/063bc09f64b5ea4ba569773899407dd36dee5425', 'message': 'Update contributiing docs for readability and correctness\n\nThe contributing docs have been updated to correct the file name pathing\nand to update the basic noted job structure so that it matches what is\ncurrently being executed.\n\nChange-Id: I6250a6dcf33caef599fe2bc25f90eea3b8d53d1e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-25 19:38:24.000000000', 'files': ['doc/source/roles/role-tripleo-transfer.rst', 'doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bde4cdc250a540f2f7b1ee8b18b5aec04baebe56', 'message': 'Update contributiing docs for readability and correctness\n\nThe contributing docs have been updated to correct the file name pathing\nand to update the basic noted job structure so that it matches what is\ncurrently being executed.\n\nRole title names have been adjusted to make them all uniform.\n\nChange-Id: I6250a6dcf33caef599fe2bc25f90eea3b8d53d1e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667412,bde4cdc250a540f2f7b1ee8b18b5aec04baebe56,9,3,2,7353,,,0,"Update contributiing docs for readability and correctness

The contributing docs have been updated to correct the file name pathing
and to update the basic noted job structure so that it matches what is
currently being executed.

Role title names have been adjusted to make them all uniform.

Change-Id: I6250a6dcf33caef599fe2bc25f90eea3b8d53d1e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/667412/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,063bc09f64b5ea4ba569773899407dd36dee5425,,"Create a new role manually ~~~~~~~~~~~~~~~~~~~~~~~~~~ commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py --scenario=${SCENARIO_2} When the role is ready for CI, add a **job** entry into the `zuul.d/molecule.yaml`. name: tripleo-ansible-centos-7-molecule-${NEWROLENAME} parent: tripleo-ansible-centosMake sure to add the **job** name into the check and gate section at the top of the `molecule.yaml` file. - tripleo-ansible-centos-7-molecule-${NEWROLENAME} gate: jobs: - tripleo-ansible-centos-7-molecule-${NEWROLENAME} Finally add a role documentation file atthe molecule playbook, or playbooks, used to test the role, which is noted as an ""example"" playbook. Create a new role with automation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ will perform the basic tasks noted above."," commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py --scenario=${SCENARIO_2} When the role is ready for CI add a jobs entry into the `zuul.d/jobs.yaml`. name: tripleo-ansible-centos:mol-${NEWROLENAME} parent: tripleo-ansible-centosAdd the job into the `zuul.d/layout.yaml` file. - tripleo-ansible-centos:mol-${NEWROLENAME} And finally add a role documentation file atthe molecule playbook used to test the role, which is noted as an ""example"" playbook. will perform all of the tasks noted above.",21,13
openstack%2Foslo.messaging~master~I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2,openstack/oslo.messaging,master,I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2,Implement the transport options,MERGED,2019-06-19 07:53:14.000000000,2019-06-26 13:09:53.000000000,2019-06-26 13:09:53.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-06-19 07:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1c7afa7bf5f6a79a275c13732dd3accf4a47ec4f', 'message': ""WIP Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(transport,\nat_least_once=True)`\n\nTransportOptions is decoded for every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - This is a WIP\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n  - get_options() returns a dictionary that can be parsed easily for each\n    driver.\n  - tests don't work\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is\nhttps://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 2, 'created': '2019-06-20 08:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f948ae4a5fc83f279aabbd6aafb339415879a6ca', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(transport,\nat_least_once=True)`\n\nTransportOptions is decoded for every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n  - get_options() returns a dictionary that can be parsed easily for each\n    driver.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is [1]\nTo test it you can use [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 3, 'created': '2019-06-20 08:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/550d3d0036e82f210e2bba7facbe00b25749656c', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(transport,\nat_least_once=True)`\n\nTransportOptions is decoded for every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n  - get_options() returns a dictionary that can be parsed easily for each\n    driver.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is: [1]\nTo test it you can use: [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 4, 'created': '2019-06-20 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7ab9fe5d1b16304f7c8c40447c127a369fd6497e', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(transport,\nat_least_once=True)`\n\nTransportOptions is decoded for every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n  - get_options() returns a dictionary that can be parsed easily for each\n    driver.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is [1]\nTo test it you can use [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 5, 'created': '2019-06-24 08:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/054d60131c6039e051ba83300292233941c72d07', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(at_least_once=True)`\n\nTransportOptions is used in every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is [1]\nTo test it you can use [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 6, 'created': '2019-06-24 08:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1ab1ee6374aaaad08bac762e125da18780acf6b0', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(at_least_once=True)`\n\nTransportOptions is used in every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is: [1]\nTo test it you can use: [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}, {'number': 7, 'created': '2019-06-24 14:51:03.000000000', 'files': ['oslo_messaging/transport.py', 'oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/tests/rpc/test_client.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e804874c50fd8cfbfca2d982a4932fdd8844c3f1', 'message': ""Implement the transport options\n\nWith this feature, it is possible to specialize the parameters to send.\n`options = oslo_messaging.TransportOptions(at_least_once=True)`\n\nTransportOptions is used in every single driver,\nfor example in RabbitMQ driver is used to handle the mandatory flag.\n\nNotes:\n  - The idea of creating a new  class TransportOptions is because I'd like\n    to have an abstract class not related only to the RPCClient\n  - at_least_once is the first parameter, when needed we can add the\n    others.\n\nImplements: blueprint transport-options (second point)\n\nThe blueprint link is [1]\nTo test it you can use [2]\n\n1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options\n2- https://github.com/Gsantomaggio/rabbitmq-utils/\n   tree/master/openstack/mandatory_test\n\nChange-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2\n""}]",11,666241,e804874c50fd8cfbfca2d982a4932fdd8844c3f1,25,6,7,29364,,,0,"Implement the transport options

With this feature, it is possible to specialize the parameters to send.
`options = oslo_messaging.TransportOptions(at_least_once=True)`

TransportOptions is used in every single driver,
for example in RabbitMQ driver is used to handle the mandatory flag.

Notes:
  - The idea of creating a new  class TransportOptions is because I'd like
    to have an abstract class not related only to the RPCClient
  - at_least_once is the first parameter, when needed we can add the
    others.

Implements: blueprint transport-options (second point)

The blueprint link is [1]
To test it you can use [2]

1- https://blueprints.launchpad.net/oslo.messaging/+spec/transport-options
2- https://github.com/Gsantomaggio/rabbitmq-utils/
   tree/master/openstack/mandatory_test

Change-Id: I1858e4a990507d3c2bac2ef7fbef75d8c2dbfce2
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/41/666241/6 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/base.py', 'oslo_messaging/transport.py', 'oslo_messaging/_drivers/impl_rabbit.py']",3,1c7afa7bf5f6a79a275c13732dd3accf4a47ec4f,bp/transport-options," def is_mandatory(ops): if ops is not None: if isinstance(ops, dict): if ""mandatory"" in ops: return ops[""mandatory""] return False mandatory=is_mandatory(transport_options), def get_transport_options(self, at_least_once): return {""mandatory"": at_least_once}",,27,0
openstack%2Fmonasca-notification~master~I2521fe8c65f1cf6ae58b2f83f9ced50a94b5cb84,openstack/monasca-notification,master,I2521fe8c65f1cf6ae58b2f83f9ced50a94b5cb84,Cap bandit with <1.6.0,ABANDONED,2019-06-25 14:32:04.000000000,2019-06-26 13:09:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 14:32:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c53276c0b249b36b0b281d05db8a8aa482f306f5', 'message': ""Cap bandit with <1.6.0\n\nThere are still error for bandit latest\nrelease. Let's cap it with <1.6.0 till all\nissues are fixed.\n\nChange-Id: I2521fe8c65f1cf6ae58b2f83f9ced50a94b5cb84\n""}]",0,667374,c53276c0b249b36b0b281d05db8a8aa482f306f5,7,3,1,8556,,,0,"Cap bandit with <1.6.0

There are still error for bandit latest
release. Let's cap it with <1.6.0 till all
issues are fixed.

Change-Id: I2521fe8c65f1cf6ae58b2f83f9ced50a94b5cb84
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/74/667374/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c53276c0b249b36b0b281d05db8a8aa482f306f5,,"bandit<1.6.0,>=1.1.0 # Apache-2.0","bandit!=1.6.0,>=1.1.0 # Apache-2.0",1,1
openstack%2Fplacement~master~I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0,openstack/placement,master,I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0,Add OsProfiler config options to generated reference,ABANDONED,2019-06-26 12:52:39.000000000,2019-06-26 12:53:59.000000000,,[],"[{'number': 1, 'created': '2019-06-26 12:52:39.000000000', 'files': ['requirements.txt', 'etc/placement/config-generator.conf'], 'web_link': 'https://opendev.org/openstack/placement/commit/b48ece15b5db00aa1d522498af60f424e91a7588', 'message': ""Add OsProfiler config options to generated reference\n\nOsProfiler is optional, but if it's installed we'll load up the configuration\noptions from the library, but they weren't in the generated config sample so\npeople would have to find the osprofiler docs, or worse the code, to figure\nout how to configure it.\n\nThis simply adds the OsProfiler config options to the config sample, which\nwill also show up in the config reference docs.\n\nChange-Id: I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0\nStory: 2005842\nTask: 34191\n""}]",0,667603,b48ece15b5db00aa1d522498af60f424e91a7588,2,0,1,9708,,,0,"Add OsProfiler config options to generated reference

OsProfiler is optional, but if it's installed we'll load up the configuration
options from the library, but they weren't in the generated config sample so
people would have to find the osprofiler docs, or worse the code, to figure
out how to configure it.

This simply adds the OsProfiler config options to the config sample, which
will also show up in the config reference docs.

Change-Id: I4cd2c27b11c67ac67ace22bc43e09add8ac05bf0
Story: 2005842
Task: 34191
",git fetch https://review.opendev.org/openstack/placement refs/changes/03/667603/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'etc/placement/config-generator.conf']",2,b48ece15b5db00aa1d522498af60f424e91a7588,story/2005842,namespace = osprofiler,,4,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~I76531c5fb36135cfd733ddb6980bf43d0295db30,openstack/python-tripleoclient,stable/queens,I76531c5fb36135cfd733ddb6980bf43d0295db30,Pass stack name to enable_ssh_admin workflow,ABANDONED,2019-02-18 21:56:57.000000000,2019-06-26 12:53:05.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-18 21:56:57.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/74c5e880189660c920abfcab2ab3bec4d2fb23a9', 'message': ""Pass stack name to enable_ssh_admin workflow\n\nPass the stack/plan name to the enable_ssh_admin workflow, otherwise,\nonly the default 'overcloud' name works.\n\nDepends-On: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1\nChange-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30\nCloses-Bug: #1795417\n(cherry picked from commit 23f19693a522592f502226ccca6e14222e40f7ca)\n""}]",2,637636,74c5e880189660c920abfcab2ab3bec4d2fb23a9,6,4,1,25877,,,0,"Pass stack name to enable_ssh_admin workflow

Pass the stack/plan name to the enable_ssh_admin workflow, otherwise,
only the default 'overcloud' name works.

Depends-On: Ie5dbe86232c3b6a85665a9eec08ace8ba9415ea1
Change-Id: I76531c5fb36135cfd733ddb6980bf43d0295db30
Closes-Bug: #1795417
(cherry picked from commit 23f19693a522592f502226ccca6e14222e40f7ca)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/637636/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",3,74c5e880189660c920abfcab2ab3bec4d2fb23a9,bug/1795417," stack.stack_name,",,55,2
openstack%2Fpython-tripleoclient~stable%2Fqueens~I767984623c7d2402b10bae3d30b695783166f6bf,openstack/python-tripleoclient,stable/queens,I767984623c7d2402b10bae3d30b695783166f6bf,Add --overcloud-ssh-network,ABANDONED,2019-02-28 19:58:01.000000000,2019-06-26 12:52:59.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-28 19:58:01.000000000', 'files': ['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6b74bf5951df654b5c11cdee013e285e8429050e', 'message': 'Add --overcloud-ssh-network\n\nIn some cases, we may not want to always assume the ctlplane as the\nnetwork to use for both ssh access to the overcloud nodes, and for\ngenerating the ansible inventory. This patches adds a new cli argument,\n--overcloud-ssh-network that can be used to set the network name to be\nused. Defaults to ctlplane.\n\nDepends-On: I1e3f9a5142bff5e4f77e5e40df164089d9144652\nChange-Id: I767984623c7d2402b10bae3d30b695783166f6bf\n(cherry picked from commit a1c01dfc7af09f4ffbb5e6306b2af444172aa75f)\n'}]",0,640179,6b74bf5951df654b5c11cdee013e285e8429050e,5,3,1,25877,,,0,"Add --overcloud-ssh-network

In some cases, we may not want to always assume the ctlplane as the
network to use for both ssh access to the overcloud nodes, and for
generating the ansible inventory. This patches adds a new cli argument,
--overcloud-ssh-network that can be used to set the network name to be
used. Defaults to ctlplane.

Depends-On: I1e3f9a5142bff5e4f77e5e40df164089d9144652
Change-Id: I767984623c7d2402b10bae3d30b695783166f6bf
(cherry picked from commit a1c01dfc7af09f4ffbb5e6306b2af444172aa75f)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/79/640179/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",4,6b74bf5951df654b5c11cdee013e285e8429050e,," '--overcloud-ssh-network', help=_('Network name to use for ssh access to overcloud nodes.'), default='ctlplane' ) parser.add_argument( hosts = deployment.get_overcloud_hosts( stack, parsed_args.overcloud_ssh_network) parsed_args.overcloud_ssh_network,"," hosts = deployment.get_overcloud_hosts(self.clients, stack)",46,19
openstack%2Ftripleo-common~stable%2Fqueens~I1e3f9a5142bff5e4f77e5e40df164089d9144652,openstack/tripleo-common,stable/queens,I1e3f9a5142bff5e4f77e5e40df164089d9144652,Add ssh_network input,ABANDONED,2019-03-05 17:26:14.000000000,2019-06-26 12:52:51.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-05 17:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79b10cc2309414e7bfe886023353828cd24b17d4', 'message': 'Add ssh_network input\n\nIn some cases, we may not want to always assume the ctlplane as the network to\nuse for generating the ansible inventory. This patches adds a new workflow\ninput, ssh_network that can be used to set the network name to be used.\nDefaults to ctlplane.\n\nChange-Id: I1e3f9a5142bff5e4f77e5e40df164089d9144652\n(cherry picked from commit 5ef16ada8df16852b00f56601c306fa57a1967b2)\n'}, {'number': 2, 'created': '2019-03-12 18:28:12.000000000', 'files': ['workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6dd8ff33ff935be216c379eea3c5d31f0b93caa0', 'message': 'Add ssh_network input\n\nIn some cases, we may not want to always assume the ctlplane as the network to\nuse for generating the ansible inventory. This patches adds a new workflow\ninput, ssh_network that can be used to set the network name to be used.\nDefaults to ctlplane.\n\nChange-Id: I1e3f9a5142bff5e4f77e5e40df164089d9144652\n(cherry picked from commit 5ef16ada8df16852b00f56601c306fa57a1967b2)\n'}]",1,641090,6dd8ff33ff935be216c379eea3c5d31f0b93caa0,8,3,2,25877,,,0,"Add ssh_network input

In some cases, we may not want to always assume the ctlplane as the network to
use for generating the ansible inventory. This patches adds a new workflow
input, ssh_network that can be used to set the network name to be used.
Defaults to ctlplane.

Change-Id: I1e3f9a5142bff5e4f77e5e40df164089d9144652
(cherry picked from commit 5ef16ada8df16852b00f56601c306fa57a1967b2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/641090/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py']",2,79b10cc2309414e7bfe886023353828cd24b17d4,," self.ssh_network = self._kwargs_for_run.pop( 'ssh_network', 'ctlplane') plan_name=self.plan_name, host_network=self.ssh_network)", plan_name=self.plan_name),7,1
openstack%2Fcharm-keystone~master~I19a0e239f1857bc713df95c3070f06e71e31f6a7,openstack/charm-keystone,master,I19a0e239f1857bc713df95c3070f06e71e31f6a7,trivial comma,MERGED,2019-06-20 06:44:47.000000000,2019-06-26 12:49:52.000000000,2019-06-26 12:20:10.000000000,"[{'_account_id': 10068}, {'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30603}]","[{'number': 1, 'created': '2019-06-20 06:44:47.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/da6f616b854ecfbae825f012a057727ca272c766', 'message': 'trivial comma\n\nChange-Id: I19a0e239f1857bc713df95c3070f06e71e31f6a7\n'}]",0,666499,da6f616b854ecfbae825f012a057727ca272c766,14,6,1,30603,,,0,"trivial comma

Change-Id: I19a0e239f1857bc713df95c3070f06e71e31f6a7
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/99/666499/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,da6f616b854ecfbae825f012a057727ca272c766,ackersond-test,"`fernet-max-active-keys` or reduce `token-expiration`, and, to decrease","`fernet-max-active-keys` or reduce `token-expiration`, and to decrease",1,1
openstack%2Fmanila~stable%2Fstein~I1824f132b0ffadc6c9179582d37295f3abed355f,openstack/manila,stable/stein,I1824f132b0ffadc6c9179582d37295f3abed355f,[CI] Add bindep.txt,MERGED,2019-06-25 17:06:51.000000000,2019-06-26 12:33:15.000000000,2019-06-26 12:33:15.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-06-25 17:06:51.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/6ac1730127ddf2f8113e791c3740909bbe05837d', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1][2] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n(cherry picked from commit 1709fd7fc222f81bcbedc05e683d2eec5337edcc)\n'}]",0,667414,6ac1730127ddf2f8113e791c3740909bbe05837d,7,9,1,16643,,,0,"[CI] Add bindep.txt

Bindep is a tool for checking the presence of binary
packages needed to use an application / library. It
started life as a way to make it easier to set up a
development environment for OpenStack projects.

Infra has been looking to drop the global
bindep_fallback.txt [1][2] file for all
OpenStack projects, they recommend that projects
maintain their own with packages as necessary.

[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html
Change-Id: I1824f132b0ffadc6c9179582d37295f3abed355f
(cherry picked from commit 1709fd7fc222f81bcbedc05e683d2eec5337edcc)
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/667414/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,6ac1730127ddf2f8113e791c3740909bbe05837d,ci-stable/stein,"[testenv:bindep] # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). basepython = python3 deps = bindep commands = bindep test usedevelop = False ",,47,0
openstack%2Ftripleo-repos~master~I6a310c5b1c22c779c8c0e3c280856466173118b8,openstack/tripleo-repos,master,I6a310c5b1c22c779c8c0e3c280856466173118b8,Rename build-containers job,MERGED,2019-06-18 13:39:35.000000000,2019-06-26 12:27:59.000000000,2019-06-26 12:27:59.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 13:39:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5ed935f1447096f388228dc20bdb07cd665202ed', 'message': 'Rename build-containers job\n\nDepends-On: https://review.opendev.org/664947\nChange-Id: I6a310c5b1c22c779c8c0e3c280856466173118b8\n'}]",0,665981,5ed935f1447096f388228dc20bdb07cd665202ed,12,9,1,24162,,,0,"Rename build-containers job

Depends-On: https://review.opendev.org/664947
Change-Id: I6a310c5b1c22c779c8c0e3c280856466173118b8
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/81/665981/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5ed935f1447096f388228dc20bdb07cd665202ed,build-containers-separate-branch-jobs, - tripleo-ci-build-containers-jobs, - tripleo-build-containers-jobs,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,openstack/tripleo-heat-templates,stable/stein,I6bd11bdf9c74db24c0d21fa600030e9f3b144df0,Enable Ceph RGW 'account in url' option,MERGED,2019-06-20 17:25:48.000000000,2019-06-26 12:27:58.000000000,2019-06-26 12:27:58.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-20 17:25:48.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/086238e9110555f8612cb39336e9b553b5353e18', 'message': ""Enable Ceph RGW 'account in url' option\n\nThis requires an update of the endpoint but is necessary to be able\nto use public-readable containers (like temporary URLs) with RGW.\n\nChange-Id: I6bd11bdf9c74db24c0d21fa600030e9f3b144df0\nCloses-Bug: 1826894\n(cherry picked from commit 7c379543ccab831da0bf4f8f4b850b534d5c5247)\n""}]",0,666652,086238e9110555f8612cb39336e9b553b5353e18,11,5,1,6796,,,0,"Enable Ceph RGW 'account in url' option

This requires an update of the endpoint but is necessary to be able
to use public-readable containers (like temporary URLs) with RGW.

Change-Id: I6bd11bdf9c74db24c0d21fa600030e9f3b144df0
Closes-Bug: 1826894
(cherry picked from commit 7c379543ccab831da0bf4f8f4b850b534d5c5247)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/666652/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml', 'deployment/ceph-ansible/ceph-base.yaml']",3,086238e9110555f8612cb39336e9b553b5353e18,, rgw_swift_account_in_url: 'true',,82,72
openstack%2Fkolla-ansible~master~I5fe322546d82a373522645485be18fe7bfc57999,openstack/kolla-ansible,master,I5fe322546d82a373522645485be18fe7bfc57999,Make cron jobs generator command task in keystone non-changing,MERGED,2019-06-16 08:51:04.000000000,2019-06-26 12:27:27.000000000,2019-06-18 12:19:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 08:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/635b135cbeee065936f6e5ce23d710193e0d6daf', 'message': 'Make cron jobs set_fact task in keystone non-changing\n\nThe task does not change any state but is used to set a fact\nfrom parsed output.\n\nAlso straighten the name.\n\nChange-Id: I5fe322546d82a373522645485be18fe7bfc57999\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-17 16:56:33.000000000', 'files': ['ansible/roles/keystone/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/802dfce4a854ef6f30827a2223c0ca7a73226f7a', 'message': 'Make cron jobs generator command task in keystone non-changing\n\nThe task does not change any state but is used to set a fact\nfrom parsed output.\n\nAlso adjust task name.\n\nChange-Id: I5fe322546d82a373522645485be18fe7bfc57999\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,665533,802dfce4a854ef6f30827a2223c0ca7a73226f7a,14,4,2,30491,,,0,"Make cron jobs generator command task in keystone non-changing

The task does not change any state but is used to set a fact
from parsed output.

Also adjust task name.

Change-Id: I5fe322546d82a373522645485be18fe7bfc57999
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/665533/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/config.yml'],1,635b135cbeee065936f6e5ce23d710193e0d6daf,keystone-idempotency,- name: Set fact with the generated cron jobs for building the crontab later changed_when: False,- name: Save the returned from cron jobs for building the crontab,2,1
openstack%2Fmonasca-api~stable%2Fpike~I5a29421bd0d128ffb6ca547694fa31056d884195,openstack/monasca-api,stable/pike,I5a29421bd0d128ffb6ca547694fa31056d884195,Fix test_metrics tempest-test encoding,MERGED,2019-06-25 13:04:57.000000000,2019-06-26 12:18:36.000000000,2019-06-26 12:18:35.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-06-25 13:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/fc338d5ca4b29a41dbd083b677236f692d0c5fae', 'message': 'Fix test_metrics tempest-test encoding\n\nChange-Id: I5a29421bd0d128ffb6ca547694fa31056d884195\n'}, {'number': 2, 'created': '2019-06-26 08:04:15.000000000', 'files': ['monasca_tempest_tests/tests/api/test_metrics.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bcb4d6ba77e0a26d0399660828b526e924560e61', 'message': 'Fix test_metrics tempest-test encoding\n\nChange-Id: I5a29421bd0d128ffb6ca547694fa31056d884195\n'}]",0,667361,bcb4d6ba77e0a26d0399660828b526e924560e61,10,3,2,28062,,,0,"Fix test_metrics tempest-test encoding

Change-Id: I5a29421bd0d128ffb6ca547694fa31056d884195
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/61/667361/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_tempest_tests/tests/api/test_metrics.py'],1,fc338d5ca4b29a41dbd083b677236f692d0c5fae,tempest-encoding, if str(element['name'].encode('utf8')) == name: if str(element['name'].encode('utf8')) == name: if str(element['name'].encode('utf8')) == name: if str(element['name'].encode('utf8')) == name: if str(element['name'].encode('utf8')) == name:, if str(element['name']) == name: if str(element['name']) == name: if str(element['name']) == name: if str(element['name']) == name: if str(element['name']) == name:,5,5
openstack%2Fmonasca-persister~master~Ia2d2e1585965dd31f9679e2a63497bf4cc68349e,openstack/monasca-persister,master,Ia2d2e1585965dd31f9679e2a63497bf4cc68349e,cassandra metrics_id contain null value bug,MERGED,2019-06-10 09:24:46.000000000,2019-06-26 12:09:52.000000000,2019-06-26 12:09:51.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 09:24:46.000000000', 'files': ['monasca_persister/repositories/cassandra/metrics_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/506717e23e0295c76686e7ca803f980ff769eeca', 'message': 'cassandra metrics_id contain null value bug\n\nmetrics table in cassandra always contain row which has no metric_id.\nit is casused by cassandra ttl.cassandra supports TTL column only,\nso when update a row,metric_id must update as well.\n\nChange-Id: Ia2d2e1585965dd31f9679e2a63497bf4cc68349e\nStory: 2005832\nTask: 33590\n'}]",1,664232,506717e23e0295c76686e7ca803f980ff769eeca,14,4,1,29970,,,0,"cassandra metrics_id contain null value bug

metrics table in cassandra always contain row which has no metric_id.
it is casused by cassandra ttl.cassandra supports TTL column only,
so when update a row,metric_id must update as well.

Change-Id: Ia2d2e1585965dd31f9679e2a63497bf4cc68349e
Story: 2005832
Task: 33590
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/32/664232/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/repositories/cassandra/metrics_repository.py'],1,506717e23e0295c76686e7ca803f980ff769eeca,metric-id-null-bug," 'set metric_id = ?, updated_at = ? ' id_bytes,", 'set updated_at = ? ',2,1
openstack%2Ftripleo-ci~master~I3d6fc2ab8dce2394de74f14d73a375ae88542e80,openstack/tripleo-ci,master,I3d6fc2ab8dce2394de74f14d73a375ae88542e80,[DNM] Test stein build,ABANDONED,2019-03-26 15:55:16.000000000,2019-06-26 11:38:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-26 15:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/429346f296d441a7865e681f34baa25f46fa6fdc', 'message': '[DNM] Test stein build\n\nChange-Id: I3d6fc2ab8dce2394de74f14d73a375ae88542e80\n'}, {'number': 2, 'created': '2019-03-26 15:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc82c3f92269a5d69e5111c66f6b1e4ae5dba9da', 'message': '[DNM] Test stein build\n\nChange-Id: I3d6fc2ab8dce2394de74f14d73a375ae88542e80\nDepends-On: https://review.rdoproject.org/r/#/c/19754/\n'}, {'number': 3, 'created': '2019-03-26 16:15:59.000000000', 'files': ['roles/tripleo-repos/.placeholder'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9b7e9144e31b7684fa142f48a7abf628bd0843c8', 'message': '[DNM] Test stein build\n\nChange-Id: I3d6fc2ab8dce2394de74f14d73a375ae88542e80\nDepends-On: https://review.rdoproject.org/r/#/c/19754/\n'}]",0,647785,9b7e9144e31b7684fa142f48a7abf628bd0843c8,6,2,3,24162,,,0,"[DNM] Test stein build

Change-Id: I3d6fc2ab8dce2394de74f14d73a375ae88542e80
Depends-On: https://review.rdoproject.org/r/#/c/19754/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/647785/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,429346f296d441a7865e681f34baa25f46fa6fdc,oooq/disable-excludes,,,0,0
openstack%2Ftripleo-ci~master~Id196ef6c5afb19046d2ca584f0d61cddd8396798,openstack/tripleo-ci,master,Id196ef6c5afb19046d2ca584f0d61cddd8396798,Deduplicate scenario job file patterns,ABANDONED,2019-03-07 11:08:18.000000000,2019-06-26 11:32:48.000000000,,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-07 11:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ed865a6210a142b19849a851e594e3b810fa471', 'message': 'Deduplicate scenario job file patterns\n\nThere is no reason to have different trigger file patterns for\ncheck and gate queues.\n\nBy moving these to parent job definition we can reuse them in the\ntemplate not only to avoid deduplication between queues but also\nto be able to reuse them in other jobs inheriting those.\n\nChange-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798\n'}, {'number': 2, 'created': '2019-03-07 11:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9baac9eaff208777da9affd89ba65dfadebfc650', 'message': 'Deduplicate scenario job file patterns\n\nThere is no reason to have different trigger file patterns for\ncheck and gate queues.\n\nBy moving these to parent job definition we can reuse them in the\ntemplate not only to avoid deduplication between queues but also\nto be able to reuse them in other jobs inheriting those.\n\nChange-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798\n'}, {'number': 3, 'created': '2019-03-07 11:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1338affeb4d2ace3f1434c14fca633bc01576979', 'message': 'Deduplicate scenario job file patterns\n\nThere is no reason to have different trigger file patterns for\ncheck and gate.\n\nBy moving these to parent job definition we can reuse them in the\ntemplate not only to avoid deduplication between check and gate but\nalso be able to reuse them in other jobs.\n\nChange-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798\n'}, {'number': 4, 'created': '2019-03-19 16:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8774e4aa6f39d5641ece1237bfd37cd072ee0bc1', 'message': 'Deduplicate scenario job file patterns\n\nThere is no reason to have different trigger file patterns for\ncheck and gate.\n\nBy moving these to parent job definition we can reuse them in the\ntemplate not only to avoid deduplication between check and gate but\nalso be able to reuse them in other jobs.\n\nChange-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798\n'}, {'number': 5, 'created': '2019-03-19 18:10:49.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4615ab89f50897231f371e993b857b85b65cf3e7', 'message': 'Deduplicate scenario job file patterns\n\nThere is no reason to have different trigger file patterns for\ncheck and gate.\n\nBy moving these to parent job definition we can reuse them in the\ntemplate not only to avoid deduplication between check and gate but\nalso be able to reuse them in other jobs.\n\nChange-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798\n'}]",3,641633,4615ab89f50897231f371e993b857b85b65cf3e7,13,7,5,24162,,,0,"Deduplicate scenario job file patterns

There is no reason to have different trigger file patterns for
check and gate.

By moving these to parent job definition we can reuse them in the
template not only to avoid deduplication between check and gate but
also be able to reuse them in other jobs.

Change-Id: Id196ef6c5afb19046d2ca584f0d61cddd8396798
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/641633/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,2ed865a6210a142b19849a851e594e3b810fa471,oooq/file-deduplication, - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-standalone - tripleo-ci-centos-7-scenario003-standalone - tripleo-ci-centos-7-scenario004-standalone files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*barbican.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*ec2-api.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/.*swift.*$ - ^((docker|puppet)/services|deployment)/.*zaqar.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario002-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/prepare-node/.* - roles/common/.* files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*designate.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*mistral.*$ - ^((docker|puppet)/services|deployment)/.*nova.*$ - ^((docker|puppet)/services|deployment)/.*sahara.*$ - ci/environments/scenario003-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - ^manifests/profile/(base|pacemaker)/designate.*$ # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ files: # tripleo-common - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - zuul.d/layout.yaml # tripleo-heat-templates - ^(docker/services|deployment)/ceph.*$ - ^(docker/services|deployment)/glance.*$ - ^(docker/services|deployment)/manila.*$ - ^((docker|puppet)/services|deployment)/database/mysql.*$ - ci/environments/scenario004-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - roles/ceph-loop-device/.* # scen1/4 ceph - job: name: tripleo-ci-fedora-28-scenario001-standalone voting: false parent: tripleo-ci-centos-7-scenario001-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario002-standalone voting: false parent: tripleo-ci-centos-7-scenario002-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario003-standalone voting: false parent: tripleo-ci-centos-7-scenario003-standalone nodeset: single-fedora-28-node - job: name: tripleo-ci-fedora-28-scenario004-standalone voting: false parent: tripleo-ci-centos-7-scenario004-standalone nodeset: single-fedora-28-node, - tripleo-ci-centos-7-scenario001-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - roles/ceph-loop-device/.* # scen1/4 ceph - tripleo-ci-centos-7-scenario002-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*barbican.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*ec2-api.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/.*swift.*$ - ^((docker|puppet)/services|deployment)/.*zaqar.*$ - ^((docker|puppet)/services|deployment)/database/redis.*$ - ci/environments/scenario002-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/prepare-node/.* - roles/common/.* - tripleo-ci-centos-7-scenario003-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*designate.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*mistral.*$ - ^((docker|puppet)/services|deployment)/.*nova.*$ - ^((docker|puppet)/services|deployment)/.*sahara.*$ - ci/environments/scenario003-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - ^manifests/profile/(base|pacemaker)/designate.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - tripleo-ci-centos-7-scenario004-standalone: files: # tripleo-common - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - zuul.d/layout.yaml # tripleo-heat-templates - ^(docker/services|deployment)/ceph.*$ - ^(docker/services|deployment)/glance.*$ - ^(docker/services|deployment)/manila.*$ - ^((docker|puppet)/services|deployment)/database/mysql.*$ - ci/environments/scenario004-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* - roles/ceph-loop-device/.* # scen1/4 ceph - tripleo-ci-centos-7-scenario001-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*ceph.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*logging.*$ - ^((docker|puppet)/services|deployment)/.*metrics.*$ - ^((docker|puppet)/services|deployment)/.*monitoring.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ci/environments/scenario001-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/logging.*$ - ^manifests/profile/(base|pacemaker)/metrics.*$ - ^manifests/profile/(base|pacemaker)/monitoring.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - zuul.d/layout.yaml # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ - tripleo-ci-centos-7-scenario002-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py - workbooks/ceph-ansible.yaml - tripleo_common/actions/ansible.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*aodh.*$ - ^((docker|puppet)/services|deployment)/.*barbican.*$ - ^((docker|puppet)/services|deployment)/.*ceilometer.*$ - ^((docker|puppet)/services|deployment)/.*cinder.*$ - ^((docker|puppet)/services|deployment)/.*ec2-api.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*gnocchi.*$ - ^((docker|puppet)/services|deployment)/.*panko.*$ - ^((docker|puppet)/services|deployment)/.*swift.*$ - ^((docker|puppet)/services|deployment)/.*zaqar.*$ - ci/environments/scenario002-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/profile/(base|pacemaker)/aodh.*$ - ^manifests/profile/(base|pacemaker)/barbican.*$ - ^manifests/profile/(base|pacemaker)/ceilometer.*$ - ^manifests/profile/(base|pacemaker)/cinder.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/gnocchi.*$ - ^manifests/profile/(base|pacemaker)/nova/ec2.*$ - ^manifests/profile/(base|pacemaker)/panko.*$ - ^manifests/profile/(base|pacemaker)/swift.*$ - ^manifests/profile/(base|pacemaker)/zaqar.*$ # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ - tripleo-ci-centos-7-scenario003-standalone: files: # tripleo-common - ^container-images/.*$ - tripleo_common/image/kolla_builder.py # tripleo-heat-templates - ^((docker|puppet)/services|deployment)/.*designate.*$ - ^((docker|puppet)/services|deployment)/.*glance.*$ - ^((docker|puppet)/services|deployment)/.*mistral.*$ - ^((docker|puppet)/services|deployment)/.*nova.*$ - ^((docker|puppet)/services|deployment)/.*sahara.*$ - ci/environments/scenario003-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/mistral.*$ - ^manifests/profile/(base|pacemaker)/sahara.*$ - ^manifests/profile/(base|pacemaker)/designate.*$ # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ - tripleo-ci-centos-7-scenario004-standalone: files: # tripleo-common - workbooks/ceph-ansible.yaml - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - zuul.d/layout.yaml # tripleo-heat-templates - ^(docker/services|deployment)/ceph.*$ - ^(docker/services|deployment)/glance.*$ - ^(docker/services|deployment)/manila.*$ - ci/environments/scenario004-standalone.yaml - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/haproxy.*$ - ^manifests/profile/(base|pacemaker)/glance.*$ - ^manifests/profile/(base|pacemaker)/manila.*$ # tripleo-quickstart-extras - roles/standalone/.* # python-tripleoclient - ^tripleoclient/heat_launcher.*$ - ^tripleoclient/v1/tripleo_(deploy|config|upgrade).*$ ,180,305
openstack%2Fironic-inspector~master~I36e9187d66025170d682ae5f431015f0786305fa,openstack/ironic-inspector,master,I36e9187d66025170d682ae5f431015f0786305fa,Tests: Using bmc_addresss for node_driver_info,ABANDONED,2019-06-04 15:18:12.000000000,2019-06-26 10:17:14.000000000,,"[{'_account_id': 8767}, {'_account_id': 10239}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-04 15:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d05e244becfc34cdd595e34e559375618f857f0c', 'message': ""Tests: Using bmc_addresss for node_driver_info\n\nThe _check_existing_nodes and create_node functions using node_driver_info,\nthis value is a result of utils.get_ipmi_address_from_data.\nSo it's better to use 'bmc_address' from Inventory.\n\nChange-Id: I36e9187d66025170d682ae5f431015f0786305fa\n""}, {'number': 2, 'created': '2019-06-05 03:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0d54491484fe339bdd9b4ad6bd0112b1ea98bf25', 'message': ""Tests: Using bmc_addresss for node_driver_info\n\nThe _check_existing_nodes and create_node functions using node_driver_info,\nthis value is a result of utils.get_ipmi_address_from_data.\nSo it's better to use 'bmc_address' from Inventory.\n\nAlso using more elaborate introspection_data.\n\nChange-Id: I36e9187d66025170d682ae5f431015f0786305fa\n""}, {'number': 3, 'created': '2019-06-05 06:41:17.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_discovery.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1f1b211943fc1296f11de79171e92417dafcff8b', 'message': ""Tests: Using bmc_addresss for node_driver_info\n\nThe _check_existing_nodes and create_node functions using node_driver_info,\nthis value is a result of utils.get_ipmi_address_from_data.\nSo it's better to use 'bmc_address' from Inventory.\n\nAlso using more elaborate introspection_data.\n\nChange-Id: I36e9187d66025170d682ae5f431015f0786305fa\n""}]",14,663062,1f1b211943fc1296f11de79171e92417dafcff8b,22,5,3,12860,,,0,"Tests: Using bmc_addresss for node_driver_info

The _check_existing_nodes and create_node functions using node_driver_info,
this value is a result of utils.get_ipmi_address_from_data.
So it's better to use 'bmc_address' from Inventory.

Also using more elaborate introspection_data.

Change-Id: I36e9187d66025170d682ae5f431015f0786305fa
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/62/663062/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_plugins_discovery.py'],1,d05e244becfc34cdd595e34e559375618f857f0c,unit_test," driver_info={'ipmi_address': self.bmc_address}) expected_data, {'ipmi_address': self.bmc_address}, self.ironic) self.assertEqual({'ipmi_address': self.bmc_address, 'auto_discovered': True},"," driver_info={'ipmi_address': '1.2.3.4'}) expected_data, {'ipmi_address': '1.2.3.4'}, self.ironic) self.assertEqual({'ipmi_address': '1.2.3.4', 'auto_discovered': True},",4,3
openstack%2Fcontributor-guide~master~Ied7217c59073050e2bc5ae038e3afabba22750c0,openstack/contributor-guide,master,Ied7217c59073050e2bc5ae038e3afabba22750c0,Imported Translations from Zanata,MERGED,2019-06-26 08:19:08.000000000,2019-06-26 10:08:31.000000000,2019-06-26 10:08:31.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 08:19:08.000000000', 'files': ['doc/source/locale/zh_CN/LC_MESSAGES/doc-operators.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/347439fd28fb1bffd3b471b53baaf9ddd267e4c5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ied7217c59073050e2bc5ae038e3afabba22750c0\n'}]",0,667545,347439fd28fb1bffd3b471b53baaf9ddd267e4c5,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ied7217c59073050e2bc5ae038e3afabba22750c0
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/45/667545/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/zh_CN/LC_MESSAGES/doc-operators.po', 'doc/source/locale/de/LC_MESSAGES/doc-operators.po', 'doc/source/locale/id/LC_MESSAGES/doc-operators.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-operators.po']",4,347439fd28fb1bffd3b471b53baaf9ddd267e4c5,zanata/translations,"""POT-Creation-Date: 2019-06-25 13:41+0000\n""""Example configurations for various OpenStack services are provided in the "" ""`openstack/osops-example-configs repository <https://git.openstack.org/cgit/"" ""openstack/osops-example-configs/tree/README.md>`_. Operators can share their "" ""configuration files to help others, and review how others setup and tune "" ""their configurations."" msgstr """" ""Example configurations for various OpenStack services are provided in the "" ""`openstack/osops-example-configs repository <https://git.openstack.org/cgit/"" ""openstack/osops-example-configs/tree/README.md>`_. Operators can share their "" ""configuration files to help others, and review how others setup and tune "" ""their configurations."" msgid """"","""POT-Creation-Date: 2019-04-22 19:12+0000\n""msgid """" ""Operators have used a dedicated mailing list until November 2018. You can "" ""read the `openstack.operators archive <http://lists.openstack.org/pipermail/"" ""openstack-operators/>`_ which contain plenty of valuable information. "" ""Currently there is a `joint mailing list <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/openstack-discuss>`_ for developer and operator to "" ""subscribe. More generic information about mailing lists can be found in the "" ""Communication page's :ref:`communication-mailing-lists` section."" msgstr """" ""Operators have used a dedicated mailing list until November 2018. You can "" ""read the `openstack.operators archive <http://lists.openstack.org/pipermail/"" ""openstack-operators/>`_ which contain plenty of valuable information. "" ""Currently there is a `joint mailing list <http://lists.openstack.org/cgi-bin/"" ""mailman/listinfo/openstack-discuss>`_ for developer and operator to "" ""subscribe. More generic information about mailing lists can be found in the "" ""Communication page's :ref:`communication-mailing-lists` section."" ""There is the #openstack-operators channel on Freenode IRC for live "" ""conversations and `Operators' team meeting <http://eavesdrop.openstack.org/"" ""#OpenStack_OSOps_Team>`_. On top of the #openstack-operators channel there "" ""are several others. More generic information about IRC channels can be found "" ""in the :ref:`irc-channels` section of the IRC page."" msgstr """" ""There is the #openstack-operators channel on Freenode IRC for live "" ""conversations and `Operators' team meeting <http://eavesdrop.openstack.org/"" ""#OpenStack_OSOps_Team>`_. On top of the #openstack-operators channel there "" ""are several others. More generic information about IRC channels can be found "" ""in the :ref:`irc-channels` section of the IRC page."" msgid """"",50,145
openstack%2Fopenstack-helm~master~I6015344c9fcf175bab076fc5c81dfe7778d421ee,openstack/openstack-helm,master,I6015344c9fcf175bab076fc5c81dfe7778d421ee,Add wait.resources.type to armada manifest,MERGED,2019-03-28 18:37:09.000000000,2019-06-26 09:54:02.000000000,2019-06-26 09:54:02.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27715}, {'_account_id': 28372}]","[{'number': 1, 'created': '2019-03-28 18:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e7193f8576ab0d1e23f685a0f474e2a8d10bd070', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 2, 'created': '2019-03-29 04:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f589b7f407ab63e94a9c5f1037873cf40f1b771f', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 3, 'created': '2019-04-01 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8999a40b27d801643ad344d50d8b5f9a2702bb4d', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 4, 'created': '2019-04-01 13:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9eea7dbc516cbe04911ae601a07368be1027f810', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 5, 'created': '2019-04-01 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8009b3e7ae4d159c267bbed9310f43f301c80151', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 6, 'created': '2019-04-01 18:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40f410cd1f81f4b4821d7a069224b35bf1a99ec3', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 7, 'created': '2019-04-01 19:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9a9e3b4005051af4904a5c11456e400df55c4a1d', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 8, 'created': '2019-04-01 20:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b68fcb300bb1e0bbae1b087e1fa6f2cdbad89388', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 9, 'created': '2019-04-02 02:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d332eefd3d56d978a738aed21df8c208361d8e5b', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 10, 'created': '2019-04-02 05:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b4ef42fb643bfcff74cd4882a649552d8bf86445', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 11, 'created': '2019-04-02 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce148908525d69eaa3219b6f01a5a4dc5ea77ccd', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 12, 'created': '2019-04-02 15:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ccfd387b7a1162d87e6f06047d74c2eebe17d954', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 13, 'created': '2019-04-02 17:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3f6f24b90374d47198538da7e688df75aacacf6', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 14, 'created': '2019-04-03 16:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f5b6efd9c26eea856113c090d20ccae67229935', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 15, 'created': '2019-04-03 18:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac5d73daca664f002f63f95e7cf7b3cacf114e0d', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 16, 'created': '2019-04-05 02:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b016c519383437713a94be5415240623035d6b66', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 17, 'created': '2019-04-06 21:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6141e1fa9336157b439b968a4ec5eff3bbd34d03', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 18, 'created': '2019-04-07 18:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/177ae1f6cc13e7b13139becb19effc5a8c7d015e', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 19, 'created': '2019-04-07 18:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4281abff6f9357e515a727abc744371bb9f7698c', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 20, 'created': '2019-04-08 18:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0bd0ca011c09964a5f8f6549e4e0a286af602b36', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 21, 'created': '2019-04-09 14:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15b6a083c45abe0555dc7f73531249d591bd235b', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 22, 'created': '2019-04-09 23:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6f32cc5f0405d968357732947c1e838827b340c4', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 23, 'created': '2019-04-10 15:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c1ea43b597014ade6181657452388338fdb8bc9', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 24, 'created': '2019-04-14 04:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d79b631deb6d49336328e42d311fc61874aab56a', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 25, 'created': '2019-04-14 18:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b1d3ea7cd18f859b17ed190700cd045b5dd268b4', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 26, 'created': '2019-04-14 18:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f47180ee6f208ce793a893002981a42aa692883', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 27, 'created': '2019-04-16 16:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/796be8b28be4087cef9d206d7eba3eb3fcede54a', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 28, 'created': '2019-04-17 14:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f7a7dbde1916b03c2262675ff2ae4b4ad42b13df', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 29, 'created': '2019-04-17 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da17b0febbc43b810657d86426af49ce1c57bddd', 'message': 'DNM - Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 30, 'created': '2019-04-17 20:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0a3154982afa46f5665a9d3fcf1926deeea2025', 'message': 'WIP - Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 31, 'created': '2019-04-18 15:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81712b665d88f6ef5435c1de2f5da43cbb1070cb', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 32, 'created': '2019-04-18 20:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1dbbc0c234972faa407aeac40859e6c85c4afd17', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 33, 'created': '2019-04-25 20:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ada2e4df25820ae835aeb37909346d09f0c06512', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 34, 'created': '2019-04-26 20:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aaed0e76ec67acb87437900766f63ba78d8e3240', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 35, 'created': '2019-04-29 22:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e5bd081639076ba2ad3d3b5d65fc3e321539f2d', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 36, 'created': '2019-04-30 17:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6767f97ca10eeb21731dea74a3e44d0d2c004628', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 37, 'created': '2019-04-30 22:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c4eb4827c8b27997ad780dc6d8b3222b9430526', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 38, 'created': '2019-05-01 21:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3fba1af1c0c8ca016dc9c4862a317b4bdfb506be', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 39, 'created': '2019-05-02 15:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/89c347229fe8a9cf03a66d23cbca62eebcfd8870', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 40, 'created': '2019-05-09 02:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4cc8b8860ddaf0219090a1d8e179800ab6e05dcc', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 41, 'created': '2019-05-15 20:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95fdf8b097bbaeafbc52d678569306061c79eb25', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 42, 'created': '2019-05-20 04:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/034dc554e4379f99d720b81dde903d26eb823468', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 43, 'created': '2019-05-21 19:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0c525cd2e92aba8485ea95fac6afee2e9acddcf', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 44, 'created': '2019-05-21 20:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/161ad6df4c01eb2e298763497c5989af7a2a078d', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 45, 'created': '2019-05-23 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aac406f54507d6f8f0c481074d602026babc0d2c', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 46, 'created': '2019-05-24 19:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47a07c463c28190d9144c9e3a9cd68e04fabb829', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 47, 'created': '2019-06-03 15:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73449cc2a4f47caaa28e824bd7a147d9f899765b', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 48, 'created': '2019-06-03 20:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1cec84a4706d4bc3a36f12e95654b6c08306956b', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 49, 'created': '2019-06-03 23:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c9dc2ca633d8b9e853c136e88381c76caae0538', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 50, 'created': '2019-06-04 14:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b03257b0ba521f247feb3197eb2fa199bcef15ca', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 51, 'created': '2019-06-07 16:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ded8fb9abcfc34fa31d6de73ba62979374e81de1', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 52, 'created': '2019-06-07 19:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e98350b908b90a892744bcd371464b23dfcb2a52', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}, {'number': 53, 'created': '2019-06-10 17:30:25.000000000', 'files': ['tools/deployment/armada/manifests/armada-osh.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a9929c5c3a8f0a816fc981f875effb1df5f8e34', 'message': 'Add wait.resources.type to armada manifest\n\nThis change adds various wait.resources.type to the armada\nmanifest for each openstack service.\n\nChange-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee\n'}]",9,648503,1a9929c5c3a8f0a816fc981f875effb1df5f8e34,242,8,53,21420,,,0,"Add wait.resources.type to armada manifest

This change adds various wait.resources.type to the armada
manifest for each openstack service.

Change-Id: I6015344c9fcf175bab076fc5c81dfe7778d421ee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/648503/13 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/manifests/armada-osh.yaml'],1,e7193f8576ab0d1e23f685a0f474e2a8d10bd070,armada-resource, resources: - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job resources: - type: deployment - type: statefulset - type: job,,31,0
openstack%2Ftripleo-docs~master~Ibe2e2302b47efea1c747c0166d552fab4feb31c8,openstack/tripleo-docs,master,Ibe2e2302b47efea1c747c0166d552fab4feb31c8,Add admonition for manual config-download with Ceph,MERGED,2019-06-25 21:16:02.000000000,2019-06-26 09:43:03.000000000,2019-06-26 09:43:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-25 21:16:02.000000000', 'files': ['doc/source/install/advanced_deployment/ansible_config_download.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4279a2bcf85d7c639ba5245baa4b066a92b4826d', 'message': 'Add admonition for manual config-download with Ceph\n\nShow how to pass CephAnsibleEnvironmentVariables when\nrunning config-download manually to configure Ceph.\n\nChange-Id: Ibe2e2302b47efea1c747c0166d552fab4feb31c8\n'}]",0,667467,4279a2bcf85d7c639ba5245baa4b066a92b4826d,8,4,1,18002,,,0,"Add admonition for manual config-download with Ceph

Show how to pass CephAnsibleEnvironmentVariables when
running config-download manually to configure Ceph.

Change-Id: Ibe2e2302b47efea1c747c0166d552fab4feb31c8
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/67/667467/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ansible_config_download.rst'],1,4279a2bcf85d7c639ba5245baa4b066a92b4826d,ceph_ansible_env_vars,".. admonition:: Ceph :class: ceph When config-download configures Ceph, Ansible executes ceph-ansible from within the config-download external_deploy_steps_tasks playbook. When config-download is run manually the `ssh_args` argument above will not be inherited by the second Ansible execution. To pass Ansible environment variables to this execution use a Heat environment file like the following:: parameter_defaults: CephAnsibleEnvironmentVariables: ANSIBLE_HOST_KEY_CHECKING: 'False' ",,14,0
openstack%2Ftripleo-heat-templates~master~Iac95e4eff314db7aa3c17c10315359bb5abadb80,openstack/tripleo-heat-templates,master,Iac95e4eff314db7aa3c17c10315359bb5abadb80,Fix Ceph RGW listener port configuration,MERGED,2019-06-19 13:55:59.000000000,2019-06-26 09:31:54.000000000,2019-06-26 00:27:06.000000000,"[{'_account_id': 8449}, {'_account_id': 14270}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-19 13:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c12f3c71c80ef56f682819182e4759c54694a66b', 'message': 'Change the Ceph RGW listener from civetweb to beast\n\nFrom the Ceph Nautilus release beast is the preferred listener for\nRGW.\n\nChange-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80\n'}, {'number': 2, 'created': '2019-06-19 14:12:02.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3791bf36c4ed85d4881f48c8f2c62745a880c030', 'message': 'Fix Ceph RGW listener port configuration\n\nFrom the Ceph Nautilus release beast is the preferred listener for\nRGW.\n\nCloses-Bug: 1833426\nChange-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80\n'}]",0,666294,3791bf36c4ed85d4881f48c8f2c62745a880c030,13,7,2,6796,,,0,"Fix Ceph RGW listener port configuration

From the Ceph Nautilus release beast is the preferred listener for
RGW.

Closes-Bug: 1833426
Change-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/666294/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,c12f3c71c80ef56f682819182e4759c54694a66b,bug/1833426," radosgw_frontend_port: {get_param: [EndpointMap, CephRgwInternal, port]}"," radosgw_civetweb_port: {get_param: [EndpointMap, CephRgwInternal, port]}",1,1
openstack%2Ftripleo-ansible~master~Ice80e74b177bfaeedc22f51572e434c01dea18fc,openstack/tripleo-ansible,master,Ice80e74b177bfaeedc22f51572e434c01dea18fc,Add default for the container_image option,MERGED,2019-06-26 04:22:12.000000000,2019-06-26 09:31:04.000000000,2019-06-26 09:31:04.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-26 04:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75a175b2c4bf8077acdb1c94961f90192f0c52a9', 'message': 'Add default for the container_image option\n\nThis creates a default option for `tripleo_container_image` and a failure condition\nwhen the option is undefined.\n\nChange-Id: Ice80e74b177bfaeedc22f51572e434c01dea18fc\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2019-06-26 05:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca453dfaba804b4359aeaaf5dc738ddfdb9ba261', 'message': 'Add default for the container_image option\n\nThis creates a default option for `tripleo_container_image` and a failure condition\nwhen the option is undefined.\n\nChange-Id: Ice80e74b177bfaeedc22f51572e434c01dea18fc\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2019-06-26 05:24:57.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f13fb3f3bc96489529989bf14e08c4fab358ed29', 'message': 'Add default for the container_image option\n\nThis creates a default option for `tripleo_container_image` and a failure condition\nwhen the option is undefined.\n\nCloses-Bug: #1834283\nChange-Id: Ice80e74b177bfaeedc22f51572e434c01dea18fc\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",6,667505,f13fb3f3bc96489529989bf14e08c4fab358ed29,18,5,3,7353,,,0,"Add default for the container_image option

This creates a default option for `tripleo_container_image` and a failure condition
when the option is undefined.

Closes-Bug: #1834283
Change-Id: Ice80e74b177bfaeedc22f51572e434c01dea18fc
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/667505/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml']",2,75a175b2c4bf8077acdb1c94961f90192f0c52a9,bug/1834283," # Set the default container image if undefined tripleo_container_image: ""{{ container_image | default('') }}""",,10,0
openstack%2Ffuel-web~master~Ida45bf45d314b09ffda836b2dda94be8c8100778,openstack/fuel-web,master,Ida45bf45d314b09ffda836b2dda94be8c8100778,Constraint networkx to <2.3 for Python 2,ABANDONED,2019-05-20 12:19:46.000000000,2019-06-26 09:30:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-20 12:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/97643403505ddfeef0e4c112db1ac7de297e401b', 'message': ' Constraint networkx to <2.3 for Python 2\n\n NetworkX released 2.3, dropping support for Python 2.\n\n https://github.com/networkx/networkx/blob/master/doc/news.rst\n\n Also see I0a9700926c9a0db93e782c853c33f1aaee3d4876\n\nChange-Id: Ida45bf45d314b09ffda836b2dda94be8c8100778\n'}, {'number': 2, 'created': '2019-05-20 12:21:55.000000000', 'files': ['nailgun/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2a6f9d75906e3ea140bcd87be05fe156177ea56d', 'message': ' Constraint networkx to <2.3 for Python 2\n\n NetworkX released 2.3, dropping support for Python 2.\n\n https://github.com/networkx/networkx/blob/master/doc/news.rst\n\n Also see I0a9700926c9a0db93e782c853c33f1aaee3d4876\n\nChange-Id: Ida45bf45d314b09ffda836b2dda94be8c8100778\n'}]",0,660106,2a6f9d75906e3ea140bcd87be05fe156177ea56d,6,2,2,28522,,,0," Constraint networkx to <2.3 for Python 2

 NetworkX released 2.3, dropping support for Python 2.

 https://github.com/networkx/networkx/blob/master/doc/news.rst

 Also see I0a9700926c9a0db93e782c853c33f1aaee3d4876

Change-Id: Ida45bf45d314b09ffda836b2dda94be8c8100778
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/06/660106/2 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/requirements.txt'],1,97643403505ddfeef0e4c112db1ac7de297e401b,cap-networkx,networkx<2.3;python_version<'3.0' # BSD networkx;python_version>='3.4' # BSD,networkx>=1.10,2,1
openstack%2Ffuel-library~master~I6ac1374fcdedcd86a6751db7504ae10ac0bc61cf,openstack/fuel-library,master,I6ac1374fcdedcd86a6751db7504ae10ac0bc61cf,Constraint networkx to <2.3 for Python 2,ABANDONED,2019-05-20 12:05:53.000000000,2019-06-26 09:30:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-20 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/03e02eb39f496d20475744a0e1101d61c85fe051', 'message': ' Constraint networkx to <2.3 for Python 2\n\n NetworkX released 2.3, dropping support for Python 2.\n\n https://github.com/networkx/networkx/blob/master/doc/news.rst\n\n Also see => I0a9700926c9a0db93e782c853c33f1aaee3d4876\n\nChange-Id: I6ac1374fcdedcd86a6751db7504ae10ac0bc61cf\n'}, {'number': 2, 'created': '2019-05-20 12:08:14.000000000', 'files': ['utils/fuel-tasklib/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3a4df434b2940cbfd5d19c933b69e267e2813b5a', 'message': ' Constraint networkx to <2.3 for Python 2\n\n NetworkX released 2.3, dropping support for Python 2.\n\n https://github.com/networkx/networkx/blob/master/doc/news.rst\n\n Also see => I0a9700926c9a0db93e782c853c33f1aaee3d4876\n\nChange-Id: I6ac1374fcdedcd86a6751db7504ae10ac0bc61cf\n'}]",0,660099,3a4df434b2940cbfd5d19c933b69e267e2813b5a,6,2,2,28522,,,0," Constraint networkx to <2.3 for Python 2

 NetworkX released 2.3, dropping support for Python 2.

 https://github.com/networkx/networkx/blob/master/doc/news.rst

 Also see => I0a9700926c9a0db93e782c853c33f1aaee3d4876

Change-Id: I6ac1374fcdedcd86a6751db7504ae10ac0bc61cf
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/99/660099/1 && git format-patch -1 --stdout FETCH_HEAD,['utils/fuel-tasklib/requirements.txt'],1,03e02eb39f496d20475744a0e1101d61c85fe051,cap-networkx,networkx<2.3;python_version<'3.0' # BSD networkx;python_version>='3.4' # BSD,"networkx>=1.10;python_version>='2.7' networkx>=1.8,<1.10; python_version=='2.6'",2,2
openstack%2Fkolla-ansible~master~Ia39898cdb165e30dab74de727048be2ebb2290c8,openstack/kolla-ansible,master,Ia39898cdb165e30dab74de727048be2ebb2290c8,Do not run Zuul kolla-ansible-base jobs when modifying globals.yml,MERGED,2019-06-16 09:15:03.000000000,2019-06-26 09:27:09.000000000,2019-06-26 09:27:09.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 09:15:03.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24b3df90ba63f34788a2e1e26a3d7d0818671543', 'message': 'Do not run Zuul kolla-ansible-base jobs when modifying globals.yml\n\nThe file is not used in Zuul jobs. It is templated independently.\n\nChange-Id: Ia39898cdb165e30dab74de727048be2ebb2290c8\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,665536,24b3df90ba63f34788a2e1e26a3d7d0818671543,10,6,1,30491,,,0,"Do not run Zuul kolla-ansible-base jobs when modifying globals.yml

The file is not used in Zuul jobs. It is templated independently.

Change-Id: Ia39898cdb165e30dab74de727048be2ebb2290c8
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/665536/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,24b3df90ba63f34788a2e1e26a3d7d0818671543,ignore-example-globals-yml, - ^etc/kolla/globals.yml$,,1,0
openstack%2Fopenstack-helm-images~master~Ib41797cabbb226ee35daab9f886fa0fc38120c32,openstack/openstack-helm-images,master,Ib41797cabbb226ee35daab9f886fa0fc38120c32,Freeze libvirt image with date,MERGED,2019-06-25 11:45:53.000000000,2019-06-26 09:11:48.000000000,2019-06-26 09:08:31.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-25 11:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f30fcd278d84c60ef40c87e9a0582c38a725db0c', 'message': ""Freeze libvirt image with date\n\nThis starts an alternative approach to the use of Zuul's date time,\nwhose fact availability is inconsistent across check/gates/promote\npipeline.\n\nThis implements an alternative approach for testing in the promote\npipeline.\n\nChange-Id: Ib41797cabbb226ee35daab9f886fa0fc38120c32\n""}, {'number': 2, 'created': '2019-06-25 15:03:20.000000000', 'files': ['zuul.d/libvirt.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/510a3ddfd526efeace2182667705690a79783284', 'message': ""Freeze libvirt image with date\n\nThis starts an alternative approach to the use of Zuul's date time,\nwhose fact availability is inconsistent across check/gates/promote\npipeline.\n\nThis implements an alternative approach for testing in the promote\npipeline.\n\nChange-Id: Ib41797cabbb226ee35daab9f886fa0fc38120c32\n""}]",0,667339,510a3ddfd526efeace2182667705690a79783284,10,3,2,17068,,,0,"Freeze libvirt image with date

This starts an alternative approach to the use of Zuul's date time,
whose fact availability is inconsistent across check/gates/promote
pipeline.

This implements an alternative approach for testing in the promote
pipeline.

Change-Id: Ib41797cabbb226ee35daab9f886fa0fc38120c32
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/39/667339/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libvirt.yaml', 'zuul.d/base.yaml']",2,f30fcd278d84c60ef40c87e9a0582c38a725db0c,build-with-date," # Minimum version required is 2.8. # When default in zuul moves to 2.8, remove # this line. # See also: https://zuul-ci.org/docs/zuul/user/config.html#attr-job.ansible-version ansible-version: 2.8 ansible-version: 2.8 ansible-version: 2.8",,10,0
openstack%2Ftripleo-validations~master~I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,openstack/tripleo-validations,master,I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,Remove useless cookiecutter files,MERGED,2019-06-21 15:35:10.000000000,2019-06-26 09:02:17.000000000,2019-06-25 22:32:24.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 15:35:10.000000000', 'files': ['tripleo_validations/tests/test_tripleo_validations.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eed1c117395d66f6b18c76615caf896b37fb591f', 'message': 'Remove useless cookiecutter files\n\nA useless unit test and a totally incorrect doc.\n\nChange-Id: I335fbe0562f33f1adb80ea3aa7650b6dfac259aa\n'}]",0,666869,eed1c117395d66f6b18c76615caf896b37fb591f,9,3,1,23078,,,0,"Remove useless cookiecutter files

A useless unit test and a totally incorrect doc.

Change-Id: I335fbe0562f33f1adb80ea3aa7650b6dfac259aa
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/666869/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/test_tripleo_validations.py', 'doc/source/usage.rst']",2,eed1c117395d66f6b18c76615caf896b37fb591f,,,======== Usage ======== To use tripleo-validations in a project:: import tripleo-validations ,0,35
openstack%2Fpython-tripleoclient~master~I61832f5088be172eaf31b36a9cca8dc289580bb2,openstack/python-tripleoclient,master,I61832f5088be172eaf31b36a9cca8dc289580bb2,Add minion installation,MERGED,2019-05-03 17:57:51.000000000,2019-06-26 08:52:01.000000000,2019-06-26 08:52:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-03 17:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82243a1780deb96acaebdcba37fd819c4524906e', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 2, 'created': '2019-05-03 20:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d43b4507afb7e26ff89526683d64083382d558e5', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 3, 'created': '2019-05-08 20:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f3ea923ac78c99020e2c2f36d007bfe18e1ae05', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 4, 'created': '2019-05-09 15:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f97c9f76163688389970f898a2522f2df69ab38b', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 5, 'created': '2019-05-10 19:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eab60b896664f330767146d8403c755b549bfb51', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 6, 'created': '2019-05-20 22:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5101aa9e4dab34a841840650d05fcf3744d5d3e0', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 7, 'created': '2019-05-20 22:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/950687549cf8c2e77347d526f2a36652145df364', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 8, 'created': '2019-05-20 22:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ea1cd16c9369ec90491bf6f9a00396de7f47720', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 9, 'created': '2019-05-24 20:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff64806d91e43253b750ac245bf21268b62969b9', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 10, 'created': '2019-05-28 20:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f9f9033022d288dd51b4da388309e51d833c7c46', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 11, 'created': '2019-05-28 22:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2d7ffcefbd21efa1a4a746fe9b44eed609a5ed5c', 'message': 'WIP: Add minion installation\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 12, 'created': '2019-05-29 20:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a8a5c6cd95a86ff6d9909bf142b2d2f1e4c86b48', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 13, 'created': '2019-05-29 20:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c71f498f8da33f7039a422fc96e454b4e8d68289', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 14, 'created': '2019-05-29 20:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c1217346dec40716aa9314ed647ded2c69e8a71b', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 15, 'created': '2019-05-29 21:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c3787324fcbbf2ea69341f6416a4f8e5c96ae92', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 16, 'created': '2019-05-29 23:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9153783de36d07f2d205152bfae2d4e068717d97', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 17, 'created': '2019-05-30 13:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e3d5c35c7aec2da6010d10536874d470c07114c9', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 18, 'created': '2019-06-10 19:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e17cc3bd28333876355c0a25eb5718b4f7a9b1e4', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 19, 'created': '2019-06-10 20:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5db33dd08e8bd20811ebeb3da223a44541897ea4', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 20, 'created': '2019-06-13 13:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79c34817b113ca5ba176c85fb574e182038035c6', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 21, 'created': '2019-06-13 13:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af91bfb626db0318f4ee152905197c17b319c1cf', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 22, 'created': '2019-06-14 21:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/13eded7e850ee1a6c56f5548a0788adc3ec90b3c', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 23, 'created': '2019-06-17 21:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d07e1b1a5fb305e1067361d14525306d70dd952a', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}, {'number': 24, 'created': '2019-06-21 13:46:33.000000000', 'files': ['tripleoclient/config/standalone.py', 'tripleoclient/constants.py', '.gitignore', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'config-generator/minion.conf', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'releasenotes/notes/undercloud-minion-install-6b369d8f5f3d6a89.yaml', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/config/undercloud.py', 'tripleoclient/tests/config/test_config_minion.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_minion.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py', 'setup.cfg', 'tox.ini', 'tripleoclient/tests/config/test_config_standalone.py', 'tripleoclient/tests/v1/undercloud/minion/__init__.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8de77cbe706f3b91a73e875488c2f3e639ce9235', 'message': 'Add minion installation\n\nAdd the ability to install an undercloud minion which is connected to an\noriginal undercloud. This minion can have either heat-engine or\nironic-conductor deployed on it.\n\nAdds two new openstack commands for the minion install and a new\nminion.conf can be used to configure them.\n\nopenstack undercloud minion install\nopenstack undercloud minion upgrade\n\nDepends-On: https://review.opendev.org/#/c/656984\nChange-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2\nRelated-Blueprint: undercloud-minion\n'}]",17,656997,8de77cbe706f3b91a73e875488c2f3e639ce9235,83,9,24,14985,,,0,"Add minion installation

Add the ability to install an undercloud minion which is connected to an
original undercloud. This minion can have either heat-engine or
ironic-conductor deployed on it.

Adds two new openstack commands for the minion install and a new
minion.conf can be used to configure them.

openstack undercloud minion install
openstack undercloud minion upgrade

Depends-On: https://review.opendev.org/#/c/656984
Change-Id: I61832f5088be172eaf31b36a9cca8dc289580bb2
Related-Blueprint: undercloud-minion
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/656997/24 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py']",3,82243a1780deb96acaebdcba37fd819c4524906e,bp/undercloud-minion,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""Plugin action implementation"""""" import json import logging import netaddr import os import shutil import sys from cryptography import x509 from cryptography.hazmat.backends import default_backend from cryptography.hazmat.primitives import serialization from jinja2 import Environment from jinja2 import FileSystemLoader from jinja2 import meta from osc_lib.i18n import _ from oslo_config import cfg from tripleo_common.image import kolla_builder from tripleoclient.config.minion import load_global_config from tripleoclient.config.minion import MinionConfig from tripleoclient import constants from tripleoclient import exceptions from tripleoclient import utils from tripleoclient.v1 import undercloud_preflight # Provides mappings for some of the instack_env tags to undercloud heat # params or undercloud.conf opts known here (as a fallback), needed to maintain # feature parity with instack net config override templates. # TODO(bogdando): all of the needed mappings should be wired-in, eventually INSTACK_NETCONF_MAPPING = { 'LOCAL_INTERFACE': 'local_interface', 'LOCAL_IP': 'local_ip', 'LOCAL_MTU': 'UndercloudLocalMtu', 'PUBLIC_INTERFACE_IP': 'undercloud_public_host', # can't be 'CloudName' 'UNDERCLOUD_NAMESERVERS': 'minion_nameservers', 'SUBNETS_STATIC_ROUTES': 'ControlPlaneStaticRoutes', } PARAMETER_MAPPING = { 'minion_debug': 'Debug', 'local_mtu': 'UndercloudLocalMtu', 'container_healthcheck_disabled': 'ContainerHealthcheckDisabled', 'local_interface': 'NeutronPublicInterface', } SUBNET_PARAMETER_MAPPING = { 'cidr': 'NetworkCidr', 'gateway': 'NetworkGateway', 'host_routes': 'HostRoutes' } THT_HOME = os.environ.get('THT_HOME', ""/usr/share/openstack-tripleo-heat-templates/"") USER_HOME = os.environ.get('HOME', '') CONF = cfg.CONF # When adding new options to the lists below, make sure to regenerate the # sample config by running ""tox -e genconfig"" in the project root. ci_defaults = kolla_builder.container_images_prepare_defaults() config = MinionConfig() # Routed subnets _opts = config.get_opts() load_global_config() LOG = logging.getLogger(__name__ + "".minion_config"") def _get_jinja_env_source(f): path, filename = os.path.split(f) env = Environment(loader=FileSystemLoader(path)) src = env.loader.get_source(env, filename)[0] return (env, src) def prepare_minion_deploy(upgrade=False, no_validations=False, verbose_level=1, yes=False, force_stack_update=False, dry_run=False): """"""Prepare Undercloud deploy command based on undercloud.conf"""""" env_data = {} registry_overwrites = {} deploy_args = [] # Fetch configuration and use its log file param to add logging to a file utils.load_config(CONF, constants.UNDERCLOUD_CONF_PATH) utils.configure_logging(LOG, verbose_level, CONF['minion_log_file']) # NOTE(bogdando): the generated env files are stored another path then # picked up later. # NOTE(aschultz): We copy this into the tht root that we save because # we move any user provided environment files into this root later. tempdir = os.path.join(os.path.abspath(CONF['output_dir']), 'tripleo-config-generated-env-files') if not os.path.isdir(tempdir): os.mkdir(tempdir) env_data['PythonInterpreter'] = sys.executable env_data['ContainerImagePrepareDebug'] = CONF['minion_debug'] for param_key, param_value in PARAMETER_MAPPING.items(): if param_key in CONF.keys(): env_data[param_value] = CONF[param_key] # Parse the undercloud.conf options to include necessary args and # yaml files for undercloud deploy command if CONF.get('minion_enable_selinux'): env_data['SELinuxMode'] = 'enforcing' else: env_data['SELinuxMode'] = 'permissive' if CONF.get('minion_ntp_servers', None): env_data['NtpServer'] = CONF['minion_ntp_servers'] if CONF.get('minion_timezone', None): env_data['TimeZone'] = CONF['minion_timezone'] else: env_data['TimeZone'] = utils.get_local_timezone() env_data['DockerInsecureRegistryAddress'] = [ '%s:8787' % CONF['local_ip'].split('/')[0]] env_data['DockerInsecureRegistryAddress'].append( '%s:8787' % CONF['minion_admin_host']) env_data['DockerInsecureRegistryAddress'].extend( CONF['container_insecure_registries']) env_data['ContainerCli'] = CONF['container_cli'] if CONF.get('container_registry_mirror', None): env_data['DockerRegistryMirror'] = CONF['container_registry_mirror'] # This parameter the IP address used to bind the local container registry env_data['LocalContainerRegistry'] = CONF['local_ip'].split('/')[0] if CONF.get('local_ip', None): deploy_args.append('--local-ip=%s' % CONF['local_ip']) if CONF.get('templates', None): tht_templates = CONF['templates'] deploy_args.append('--templates=%s' % tht_templates) else: tht_templates = THT_HOME deploy_args.append('--templates=%s' % THT_HOME) if CONF.get('roles_file', constants.MINION_ROLES_FILE): deploy_args.append('--roles-file=%s' % CONF['roles_file']) if CONF.get('networks_file'): deploy_args.append('--networks-file=%s' % CONF['networks_file']) else: deploy_args.append('--networks-file=%s' % constants.MINION_NETWORKS_FILE) if yes: deploy_args += ['-y'] if upgrade: # TODO(aschultz): minion upgrade deploy_args += [ '--upgrade', '-e', os.path.join( tht_templates, ""environments/lifecycle/minion-upgrade-prepare.yaml"")] if not CONF.get('heat_native', False): deploy_args.append('--heat-native=False') else: deploy_args.append('--heat-native') if CONF.get('heat_container_image'): deploy_args.append('--heat-container-image=%s' % CONF['heat_container_image']) # These should be loaded first so we can override all the bits later deploy_args += [ ""-e"", os.path.join(tht_templates, 'environments/undercloud/minion.yaml'), '-e', os.path.join(tht_templates, 'environments/use-dns-for-vips.yaml') ] # we want to load this environment after undercloud.yaml for precedence. if CONF.get('container_cli', 'podman') == 'podman': deploy_args += [ '-e', os.path.join(tht_templates, 'environments/podman.yaml') ] # If a container images file is used, copy it into the tempdir to make it # later into other deployment artifacts and user-provided files. _container_images_config(CONF, deploy_args, env_data, tempdir) if CONF.get('enable_heat_engine'): deploy_args += ['-e', os.path.join( tht_templates, ""environments/services/heat-engine.yaml"")] if CONF.get('enable_ironic_conductor'): deploy_args += ['-e', os.path.join( tht_templates, ""environments/services/ironic-conductor.yaml"")] if CONF.get('minion_service_certificate'): # We assume that the certificate is trusted env_data['InternalTLSCAFile'] = '' env_data.update( _get_public_tls_parameters( CONF.get('minion_service_certificate'))) deploy_args += [ '-e', os.path.join(tht_templates, 'environments/services/' 'undercloud-haproxy.yaml'), '-e', os.path.join(tht_templates, 'environments/services/' 'undercloud-keepalived.yaml')] ""environments/public-tls-undercloud.yaml"")] else: deploy_args += ['-e', os.path.join( tht_templates, ""environments/ssl/no-tls-endpoints-public-ip.yaml"")] if (CONF.get('generate_service_certificate') or CONF.get('minion_service_certificate')): endpoint_environment = _get_tls_endpoint_environment( CONF.get('minion_public_host'), tht_templates) try: public_host = CONF.get('minion_public_host') netaddr.IPAddress(public_host) deploy_args += ['--public-virtual-ip', public_host] admin_host = CONF.get('minion_admin_host') netaddr.IPAddress(admin_host) deploy_args += ['--control-virtual-ip', admin_host] except netaddr.core.AddrFormatError: # TODO(jaosorior): We could do a reverse lookup for the hostnames # if the *_host variables are DNS names and not IPs. pass deploy_args += [ '-e', endpoint_environment, '-e', os.path.join( tht_templates, 'environments/services/undercloud-haproxy.yaml'), '-e', os.path.join( tht_templates, 'environments/services/undercloud-keepalived.yaml')] u = CONF.get('deployment_user') or utils.get_deployment_user() env_data['DeploymentUser'] = u # TODO(cjeanner) drop that once using oslo.privsep deploy_args += ['--deployment-user', u] deploy_args += ['--output-dir=%s' % CONF['output_dir']] if not os.path.isdir(CONF['output_dir']): os.mkdir(CONF['output_dir']) if CONF.get('net_config_override', None): data_file = CONF['net_config_override'] if os.path.abspath(data_file) != data_file: data_file = os.path.join(USER_HOME, data_file) if not os.path.exists(data_file): msg = _(""Could not find net_config_override file '%s'"") % data_file LOG.error(msg) raise RuntimeError(msg) # NOTE(bogdando): Process templated net config override data: # * get a list of used instack_env j2 tags (j2 vars, like {{foo}}), # * fetch values for the tags from the known mappins, # * raise, if there is unmatched tags left # * render the template into a JSON dict net_config_env, template_source = _get_jinja_env_source(data_file) # Create rendering context from the known to be present mappings for # identified instack_env tags to generated in env_data undercloud heat # params. Fall back to config opts, when env_data misses a param. context = {} for tag in INSTACK_NETCONF_MAPPING.keys(): mapped_value = INSTACK_NETCONF_MAPPING[tag] if mapped_value in env_data.keys() or mapped_value in CONF.keys(): try: context[tag] = CONF[mapped_value] except cfg.NoSuchOptError: context[tag] = env_data.get(mapped_value, None) # this returns a unicode string, convert it in into json net_config_str = net_config_env.get_template( os.path.split(data_file)[-1]).render(context).replace( ""'"", '""').replace('&quot;', '""') try: net_config_json = json.loads(net_config_str) except ValueError: net_config_json = json.loads(""{%s}"" % net_config_str) if 'network_config' not in net_config_json: msg = ('Unsupported data format in net_config_override ' 'file %s: %s' % (data_file, net_config_str)) LOG.error(msg) raise exceptions.DeploymentError(msg) env_data['UndercloudNetConfigOverride'] = net_config_json params_file = os.path.join(tempdir, 'minion_parameters.yaml') utils.write_env_file(env_data, params_file, registry_overwrites) deploy_args += ['-e', params_file] if CONF.get('hieradata_override', None): data_file = CONF['hieradata_override'] if os.path.abspath(data_file) != data_file: data_file = os.path.join(USER_HOME, data_file) if not os.path.exists(data_file): msg = _(""Could not find hieradata_override file '%s'"") % data_file LOG.error(msg) raise RuntimeError(msg) deploy_args += ['--hieradata-override=%s' % data_file] if CONF.get('minion_hostname'): utils.set_hostname(CONF.get('minion_hostname')) if CONF.get('enable_validations') and not no_validations: utils.ansible_symlink() minion_preflight.check(verbose_level, upgrade) deploy_args += ['-e', os.path.join( tht_templates, ""environments/tripleo-validations.yaml"")] if CONF.get('custom_env_files'): for custom_file in CONF['custom_env_files']: deploy_args += ['-e', custom_file] if verbose_level > 1: deploy_args.append('--debug') deploy_args.append('--log-file=%s' % CONF['minion_log_file']) # Always add a drop-in for the ephemeral undercloud heat stack # virtual state tracking (the actual file will be created later) stack_vstate_dropin = os.path.join( tht_templates, 'minion-stack-vstate-dropin.yaml') deploy_args += [""-e"", stack_vstate_dropin] if force_stack_update: deploy_args += [""--force-stack-update""] cmd = [""sudo"", ""--preserve-env"", ""openstack"", ""tripleo"", ""deploy"", ""--standalone"", ""--standalone-role"", ""Undercloud"", ""--stack"", ""undercloud""] cmd += deploy_args[:] # In dry-run, also report the expected heat stack virtual state/action if dry_run: stack_update_mark = os.path.join( constants.STANDALONE_EPHEMERAL_STACK_VSTATE, 'update_mark_undercloud') if os.path.isfile(stack_update_mark) or force_stack_update: LOG.warning(_('The heat stack undercloud virtual state/action ' ' would be UPDATE')) return cmd def _get_tls_endpoint_environment(public_host, tht_templates): try: netaddr.IPAddress(public_host) return os.path.join(tht_templates, ""environments/ssl/tls-endpoints-public-ip.yaml"") except netaddr.core.AddrFormatError: return os.path.join(tht_templates, ""environments/ssl/tls-endpoints-public-dns.yaml"") def _get_public_tls_parameters(service_certificate_path): with open(service_certificate_path, ""rb"") as pem_file: pem_data = pem_file.read() cert = x509.load_pem_x509_certificate(pem_data, default_backend()) private_key = serialization.load_pem_private_key( pem_data, password=None, backend=default_backend()) key_pem = private_key.private_bytes( encoding=serialization.Encoding.PEM, format=serialization.PrivateFormat.TraditionalOpenSSL, encryption_algorithm=serialization.NoEncryption()) cert_pem = cert.public_bytes(serialization.Encoding.PEM) return { 'SSLCertificate': cert_pem, 'SSLKey': key_pem } def _container_images_config(conf, deploy_args, env_data, tempdir): if conf.container_images_file: deploy_args += ['-e', conf.container_images_file] try: shutil.copy(os.path.abspath(conf.container_images_file), tempdir) except Exception: msg = _('Cannot copy a container images' 'file %s into a tempdir!') % conf.container_images_file LOG.error(msg) raise exceptions.DeploymentError(msg) else: # no images file was provided. Set a default ContainerImagePrepare # parameter to trigger the preparation of the required container list cip = kolla_builder.CONTAINER_IMAGE_PREPARE_PARAM env_data['ContainerImagePrepare'] = cip ",,579,0
openstack%2Fcloudkitty~master~I2268ead54d0c0651c364bf790f1f17a16f28ab39,openstack/cloudkitty,master,I2268ead54d0c0651c364bf790f1f17a16f28ab39,"Update the ""admin/configuration"" section of the documentation",MERGED,2019-06-06 12:08:18.000000000,2019-06-26 08:51:01.000000000,2019-06-26 08:51:01.000000000,"[{'_account_id': 2376}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-06 12:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/faa828859de87edc7b5a4c24aa43b1174fb8778c', 'message': 'Update the ""admin/configuration"" section of the documentation\n\nThis replaces the out-of-date ""admin/configuration"" section of the\ndocumentation with a step-by-step configuration guide.\n\nChange-Id: I2268ead54d0c0651c364bf790f1f17a16f28ab39\nStory: 2004179\nTask: 29063\n'}, {'number': 2, 'created': '2019-06-07 12:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a1115351c146f2014e73f5ae1e3a71f9d01fc24e', 'message': 'Update the ""admin/configuration"" section of the documentation\n\nThis replaces the out-of-date ""admin/configuration"" section of the\ndocumentation with a step-by-step configuration guide.\n\nChange-Id: I2268ead54d0c0651c364bf790f1f17a16f28ab39\nStory: 2004179\nTask: 29063\n'}, {'number': 3, 'created': '2019-06-11 08:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8471cbcf3b6b3a5b9d6c89df32e5bb3acc4960ca', 'message': 'Update the ""admin/configuration"" section of the documentation\n\nThis replaces the out-of-date ""admin/configuration"" section of the\ndocumentation with a step-by-step configuration guide.\n\nChange-Id: I2268ead54d0c0651c364bf790f1f17a16f28ab39\nStory: 2004179\nTask: 29063\n'}, {'number': 4, 'created': '2019-06-26 08:10:37.000000000', 'files': ['doc/source/admin/configuration/configuration.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1c09de7e11a10d17d9ca522d8dcae66dd591af30', 'message': 'Update the ""admin/configuration"" section of the documentation\n\nThis replaces the out-of-date ""admin/configuration"" section of the\ndocumentation with a step-by-step configuration guide.\n\nChange-Id: I2268ead54d0c0651c364bf790f1f17a16f28ab39\nStory: 2004179\nTask: 29063\n'}]",10,663622,1c09de7e11a10d17d9ca522d8dcae66dd591af30,21,4,4,23060,,,0,"Update the ""admin/configuration"" section of the documentation

This replaces the out-of-date ""admin/configuration"" section of the
documentation with a step-by-step configuration guide.

Change-Id: I2268ead54d0c0651c364bf790f1f17a16f28ab39
Story: 2004179
Task: 29063
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/22/663622/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/configuration.rst'],1,faa828859de87edc7b5a4c24aa43b1174fb8778c,refresh_config,"================================ Step by step configuration guide ================================ Edit ``/etc/cloudkitty/cloudkitty.conf`` to configure cloudkitty. Common options -------------- Options supported by most OpenStack projects are also supported by cloudkitty: verbose = true debug = false API authentication method ------------------------- The authentication method is defined through the ``auth_strategy`` option in the ``[DEFAULT]`` section. Standalone mode +++++++++++++++ If you're using CloudKitty in standalone mode, you'll have to use noauth: .. code-block:: ini [DEFAULT]Keystone integration ++++++++++++++++++++ If you're using CloudKitty with OpenStack, you'll want to use Keystone authentication:When using Keystone, you'll have to provide the CloudKitty credentials for Keystone. These must be specified in the ``[keystone_authtoken]`` section. Since these credentials will be used in multiple places, it is convenient to use a common section: .. code-block:: ini .. note:: The ``service`` project may also be called ``services``. CloudKitty provides the ``rating`` OpenStack service. To integrate cloudkitty to Keystone, run the following commands (as OpenStack administrator): .. code-block:: shell openstack user create cloudkitty --password CK_PASSWORD openstack role add --project service --user cloudkitty admin openstack service create rating --name cloudkitty \ --description ""OpenStack Rating Service"" openstack endpoint create rating --region RegionOne \ public http://localhost:8889 openstack endpoint create rating --region RegionOne \ admin http://localhost:8889 openstack endpoint create rating --region RegionOne \ internal http://localhost:8889 Storage ------- The next step is to configure the storage. Start with the SQL and create the ``cloudkitty`` table and user: .. code-block:: shellSpecify the SQL credentials in the ``[database]`` section of the configuration file: .. code-block:: ini [database] connection = mysql+pymysql://CK_DBUSER:CK_DBPASSWORD@DB_HOST/cloudkitty Once the SQL has been set up, the storage backend for rated data can be configured. A complete configuration reference can be found in the `storage backend configuration guide`_. We'll use a v2 storage backend, which enables the v2 API. The storage version and driver to use must be specified in the ``[storage]`` section of the documentation: .. code-block:: ini [storage] version = 2 backend = influxdb Driver-specific options are then specified in the ``[storage_{drivername}]`` section: .. code-block:: ini [storage_influxdb] username = cloudkitty password = cloudkitty database = cloudkitty host = influxdb Once the SQL and rated data storage backends have been configured, initalize the storage:: cloudkitty-storage-init Then, run the database migrations:: cloudkitty-dbsync upgrade .. _storage backend configuration guide: ./storage.html Fetcher ------- The fetcher retrieves the list of scopes to rate, which will then be passed to the collector. A complete configuration reference can be found in the `fetcher configuration guide`_. For this example, we'll use the ``gnocchi`` fetcher, which will allow us to discover tenants to rate. The fetcher to use is specified through the ``backend`` option of the ``[fetcher]`` section: .. code-block:: ini [fetcher] backend = gnocchi Fetcher-specific options are then specified in the ``[fetcher_{fetchername}]`` section: .. code-block:: ini [fetcher_gnocchi] auth_section = ks_auth region_name = MyRegion .. _fetcher configuration guide: ./fetcher.html Collector --------- The collector will retrieve data for the scopes provided by the fetcher and pass them to the rating modules. The collector to use is specified in the ``[collect]`` section, and the collector-specific options are specified in the ``[collector_{collectorname}]`` section: .. code-block:: ini [collect] collector = gnocchi [collector_gnocchi] auth_section = ks_auth region_name = MyRegion Note that you'll also have to configure what metrics the the collector should collect, and how they should be collected. Have a look at the `collector configuration guide`_ for this: .. _collector configuration guide: ./collector.html","################### Configuration Guide ################### Configure Cloudkitty ==================== Edit :file:`/etc/cloudkitty/cloudkitty.conf` to configure cloudkitty. Then you need to know which keystone API version you use (which can be determined using ``openstack endpoint list``) The first thing to set is the authentication method wished to reach Cloudkitty API endpoints. Without authentication ---------------------- If wanted, you can choose to not set any authentication method. This should be set in the ``DEFAULT`` block of the configuration file owing to the ``auth_strategy`` field: verbose = True # oslo_messaging_rabbit is deprecated Otherwise, the only other officially implemented authentication method is keystone. More methods will be implemented soon. It should be set in the ``DEFAULT`` configuration block too, with the ``auth_stategy`` field. For keystone (identity) API v3 ------------------------------ The following shows the basic configuration items: verbose = True log_dir = /var/log/cloudkitty # oslo_messaging_rabbit is deprecated transport_url = rabbit://RABBIT_USER:RABBIT_PASSWORD@RABBIT_HOST/ debug = True [database] connection = mysql+pymysql://CK_DBUSER:CK_DBPASSWORD@DB_HOST/cloudkitty [fetcher_keystone] auth_section = ks_auth keystone_version = 3 [tenant_fetcher] backend = keystone .. note:: The tenant named ``service`` is also commonly called ``services`` It is now time to configure the storage backend. Two storage backends are available: ``sqlalchemy`` and ``hybrid`` (SQLalchemy being the recommended one). .. warning:: A v2 influxdb backend storage is also available. Its API is considered stable but its implementation may still evolve. .. code-block:: ini [storage] backend = sqlalchemy version = 1 As you will see in the following example, collector and storage backends sometimes need additional configuration sections. (The tenant fetcher works the same way). The section's name has the following format: ``{backend_type}_{backend_name}`` (``collector_gnocchi`` for example). If you want to use the hybrid storage with a gnocchi backend, add the following entry: .. code-block:: ini [storage_gnocchi] auth_section = ks_auth Two collectors are available: Gnocchi and Monasca. The Monasca collector collects metrics published by the Ceilometer agent to Monasca using Ceilosca_. The collect information, is separated from the Cloudkitty configuration file, in a yaml one. This allows Cloudkitty users to change metrology configuration, without modifying source code or Cloudkitty configuration file. .. code-block:: ini [collect] metrics_conf = /etc/cloudkitty/metrics.yml [collector_gnocchi] auth_section = ks_auth The ``/etc/cloudkitty/metrics.yml`` file looks like this: .. literalinclude:: ../../../../etc/cloudkitty/metrics.yml :language: yaml Conversion information is included in the yaml file. It allows operators to change metrics units for rating and so to not stay stuck with the original unit. The conversion information must be set for each metric. It includes optionals factor and offset, plus a mandatory final unit (used once the conversion is done). By default, factor and offset are 1 and 0 respectively. All type of linear conversions are so covered. The complete formula looks like: ``new_value = (value * factor) + offset`` Setup the database and storage backend -------------------------------------- MySQL/MariaDB is the recommended database engine. To setup the database, use the ``mysql`` client::If you need to authorize the mysql user associated to cloudkitty from another host you have to change the line accordingly. Run the database synchronisation scripts:: cloudkitty-dbsync upgrade Init the storage backend:: cloudkitty-storage-init Integration with Keystone ------------------------- cloudkitty uses Keystone for authentication, and provides a ``rating`` service. To integrate cloudkitty to Keystone, run the following commands (as OpenStack administrator):: openstack user create cloudkitty --password CK_PASSWORD \ --email cloudkitty@localhost openstack role add --project service --user cloudkitty admin Give the ``rating`` role to ``cloudkitty`` for each project that should be handled by cloudkitty:: openstack role create rating openstack role add --project XXX --user cloudkitty rating Create the ``rating`` service and its endpoints:: openstack service create rating --name cloudkitty \ --description ""OpenStack Rating Service"" openstack endpoint create rating --region RegionOne \ public http://localhost:8889 openstack endpoint create rating --region RegionOne \ admin http://localhost:8889 openstack endpoint create rating --region RegionOne \ internal http://localhost:8889 .. note:: The default port for the API service changed from 8888 to 8889 in the Newton release. If you installed Cloudkitty in an earlier version, make sure to either explicitly define the ``[api]/port`` setting to 8888 in ``cloudkitty.conf``, or update your keystone endpoints to use the 8889 port. Start cloudkitty ================ If you installed cloudkitty from packages ----------------------------------------- Start the processing services:: systemctl start cloudkitty-processor.service If you installed cloudkitty from sources ----------------------------------------- Start the processing services:: cloudkitty-processor --config-file /etc/cloudkitty/cloudkitty.conf Choose and start the API server ------------------------------- Cloudkitty includes the ``cloudkitty-api`` command. It can be used to run the API server. For smaller or proof-of-concept installations this is a reasonable choice. For larger installations it is strongly recommended to install the API server in a WSGI host such as mod_wsgi (see :ref:`mod_wsgi`). Doing so will provide better performance and more options for making adjustments specific to the installation environment. If you are using the ``cloudkitty-api`` command it can be started as:: $ cloudkitty-api -p 8889 .. _Ceilosca: https://github.com/openstack/monasca-ceilometer",117,160
openstack%2Ftripleo-validations~master~Ica0d4af5faa1693baa8f336db71143e0457401f0,openstack/tripleo-validations,master,Ica0d4af5faa1693baa8f336db71143e0457401f0,Add support for the chrony implementation,MERGED,2019-06-25 09:03:05.000000000,2019-06-26 08:42:51.000000000,2019-06-26 08:08:27.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 09:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d08324c6b6b99197c6774c036bc38b94263e6556', 'message': '[WIP] Add support for the chrony implementation\n\nChange-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-06-25 10:41:08.000000000', 'files': ['roles/ntpstat/vars/main.yml', 'roles/ntp/tasks/main.yml', 'roles/ntp/meta/main.yml', 'roles/ntpstat/tasks/main.yml', 'roles/ntp/vars/main.yml', 'playbooks/ntp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d4db54cbfd005c7b8b2ad046ae3240d03a87d185', 'message': ""Add support for the chrony implementation\n\nChronyd is installed and configured by default since the Stein\nCycle. This patch adds the support of the latter.\n\nThis patch also renames the 'ntpstat' playbook and role by 'ntp' which\nis more generic.\n\nChange-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,667292,d4db54cbfd005c7b8b2ad046ae3240d03a87d185,10,6,2,11491,,,0,"Add support for the chrony implementation

Chronyd is installed and configured by default since the Stein
Cycle. This patch adds the support of the latter.

This patch also renames the 'ntpstat' playbook and role by 'ntp' which
is more generic.

Change-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/92/667292/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ntp/meta/main.yml', 'roles/ntp/tasks/main.yml', 'roles/ntp/vars/main.yml', 'roles/ntpstat/tasks/main.yml', 'playbooks/ntp.yaml']",5,d08324c6b6b99197c6774c036bc38b94263e6556,chrony_support, that it is indeed running and connected to an NTP server on all nodes. - ntp, that it is indeed running and connected to an NPT server on all nodes. - ntpstat,19,8
openstack%2Fopenstack-helm-infra~master~I9cf67c3321339078ac795a7290f441b16cc41d41,openstack/openstack-helm-infra,master,I9cf67c3321339078ac795a7290f441b16cc41d41,Fluentd: Fix whitespace chomps for volumes and volume mounts,MERGED,2019-06-25 11:30:58.000000000,2019-06-26 08:42:19.000000000,2019-06-26 08:42:19.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28025}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-06-25 11:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d1730576a1ca77666db39e25516d33727c8ca48', 'message': 'Fluentd: Fix whitespace chomps for volumes and volume mounts\n\nThis fixes the whitespace chomps for adding extra volumes and\nvolume mounts via values.yaml for the Fluentd chart, as currently\ntoo much whitespace is removed and the extra volumes and mounts\nare not added correctly\n\nChange-Id: I9cf67c3321339078ac795a7290f441b16cc41d41\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-25 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/31ce46c1a7244e4b8bbce8c84d604271c28695f8', 'message': 'Fluentd: Fix whitespace chomps for volumes and volume mounts\n\nThis fixes the whitespace chomps for adding extra volumes and\nvolume mounts via values.yaml for the Fluentd chart, as currently\ntoo much whitespace is removed and the extra volumes and mounts\nare not added correctly\n\nChange-Id: I9cf67c3321339078ac795a7290f441b16cc41d41\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-25 21:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed585c488737f84049bf639679d38e386f736ea3', 'message': 'Fluentd: Fix whitespace chomps for volumes and volume mounts\n\nThis fixes the whitespace chomps for adding extra volumes and\nvolume mounts via values.yaml for the Fluentd chart, as currently\ntoo much whitespace is removed and the extra volumes and mounts\nare not added correctly\n\nChange-Id: I9cf67c3321339078ac795a7290f441b16cc41d41\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-25 23:31:09.000000000', 'files': ['fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e33cc2c192e181660cd2e47116e2870b12ed4b9', 'message': 'Fluentd: Fix whitespace chomps for volumes and volume mounts\n\nThis fixes the whitespace chomps for adding extra volumes and\nvolume mounts via values.yaml for the Fluentd chart, as currently\ntoo much whitespace is removed and the extra volumes and mounts\nare not added correctly\n\nChange-Id: I9cf67c3321339078ac795a7290f441b16cc41d41\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667336,9e33cc2c192e181660cd2e47116e2870b12ed4b9,36,8,4,17591,,,0,"Fluentd: Fix whitespace chomps for volumes and volume mounts

This fixes the whitespace chomps for adding extra volumes and
volume mounts via values.yaml for the Fluentd chart, as currently
too much whitespace is removed and the extra volumes and mounts
are not added correctly

Change-Id: I9cf67c3321339078ac795a7290f441b16cc41d41
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/667336/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/deployment-fluentd.yaml'],1,1d1730576a1ca77666db39e25516d33727c8ca48,fluentd-mount-whitespace,{{ if $mounts_fluentd.volumeMounts }}{{ toYaml $mounts_fluentd.volumeMounts | indent 12 }}{{- end }}{{ if $mounts_fluentd.volumes }}{{ toYaml $mounts_fluentd.volumes | indent 8 }}{{- end }},{{- if $mounts_fluentd.volumeMounts }}{{ toYaml $mounts_fluentd.volumeMounts | indent 12 }}{{- end }}{{- if $mounts_fluentd.volumes }}{{ toYaml $mounts_fluentd.volumes | indent 8 }}{{- end }},2,2
openstack%2Foctavia~stable%2Frocky~I48e82f39e3980d6d50e3b710326b8e437eddb08b,openstack/octavia,stable/rocky,I48e82f39e3980d6d50e3b710326b8e437eddb08b,Add bindep.txt for Octavia,MERGED,2019-06-24 22:28:24.000000000,2019-06-26 08:42:16.000000000,2019-06-26 08:42:16.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 22:28:24.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5bc9a788d953d96adafd297f81691e07a2597e15', 'message': 'Add bindep.txt for Octavia\n\nSome base packages are no longer automatically included in zuul\njob runs. This is good as we need to call out our platform package\nrequirements.\nThis patch adds a bindep.txt to Octavia to capture those\npackage requirements.\n\nChange-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b\n'}]",0,667238,5bc9a788d953d96adafd297f81691e07a2597e15,8,3,1,11628,,,0,"Add bindep.txt for Octavia

Some base packages are no longer automatically included in zuul
job runs. This is good as we need to call out our platform package
requirements.
This patch adds a bindep.txt to Octavia to capture those
package requirements.

Change-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/667238/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5bc9a788d953d96adafd297f81691e07a2597e15,,# Docs package dependencies graphviz [doc] ,,2,0
openstack%2Ftripleo-docs~master~I424d2e3b24468c6432f16bf51ccccd41f2f9205e,openstack/tripleo-docs,master,I424d2e3b24468c6432f16bf51ccccd41f2f9205e,Add ContainerImageRegistryCredentials example,MERGED,2019-06-25 20:49:38.000000000,2019-06-26 08:30:51.000000000,2019-06-26 08:30:50.000000000,"[{'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-25 20:49:38.000000000', 'files': ['doc/source/install/advanced_deployment/container_image_prepare.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bd62c54599a03835ceb0fbb28df3745eb2b13e0c', 'message': 'Add ContainerImageRegistryCredentials example\n\nChange-Id: I424d2e3b24468c6432f16bf51ccccd41f2f9205e\n'}]",0,667463,bd62c54599a03835ceb0fbb28df3745eb2b13e0c,8,6,1,18002,,,0,"Add ContainerImageRegistryCredentials example

Change-Id: I424d2e3b24468c6432f16bf51ccccd41f2f9205e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/63/667463/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/container_image_prepare.rst'],1,bd62c54599a03835ceb0fbb28df3745eb2b13e0c,authenticated_registry,"Authenticated Registries ........................ If a container registry requires a username and password, then those values may be passed using the following syntax:: ContainerImagePrepare: - push_destination: 192.168.24.1:8787 set: namespace: quay.io/... ... ContainerImageRegistryCredentials: 'quay.io': {'<your_quay_username>': '<your_quay_password>'} ",,14,0
openstack%2Foslo-cookiecutter~master~I2f1afcb2a20c3ee0bf8d52c294836e725b5a4e28,openstack/oslo-cookiecutter,master,I2f1afcb2a20c3ee0bf8d52c294836e725b5a4e28,Use recommended configuration for apidoc,MERGED,2019-06-03 16:06:32.000000000,2019-06-26 08:22:39.000000000,2019-06-26 08:22:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-03 16:06:32.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/6a73ff4ddd2fd654bec97d742ea51340a6057ffc', 'message': ""Use recommended configuration for apidoc\n\nThe documentation for apidoc recommends pointing the module_dir at\nthe module directory itself rather than the top-level directory for\nthe project so you don't have to explicitly omit setup.py or other\nunpackaged Python files.\n\nI did have to remove the _* exclusion because it was breaking in the\ncurrent version of Sphinx. It doesn't seem to be necessary in my\ntesting either. Private files are ignored anyway.\n\nChange-Id: I2f1afcb2a20c3ee0bf8d52c294836e725b5a4e28\n""}]",0,662795,6a73ff4ddd2fd654bec97d742ea51340a6057ffc,8,3,1,6928,,,0,"Use recommended configuration for apidoc

The documentation for apidoc recommends pointing the module_dir at
the module directory itself rather than the top-level directory for
the project so you don't have to explicitly omit setup.py or other
unpackaged Python files.

I did have to remove the _* exclusion because it was breaking in the
current version of Sphinx. It doesn't seem to be necessary in my
testing either. Private files are ignored anyway.

Change-Id: I2f1afcb2a20c3ee0bf8d52c294836e725b5a4e28
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/95/662795/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/doc/source/conf.py'],1,6a73ff4ddd2fd654bec97d742ea51340a6057ffc,oslosphinx,"apidoc_module_dir = '../../oslo_{{cookiecutter.module_name}}' 'tests',","apidoc_module_dir = '../../' 'oslo_{{cookiecutter.module_name}}/tests', 'oslo_{{cookiecutter.module_name}}/_*', 'setup.py',",2,4
openstack%2Foslo-cookiecutter~master~Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc,openstack/oslo-cookiecutter,master,Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc,Remove unnecessary setenv,MERGED,2019-05-31 18:03:55.000000000,2019-06-26 08:22:38.000000000,2019-06-26 08:22:38.000000000,"[{'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-05-31 18:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c8cd5af1903e8b8e2a3d56182f9a7e3a894d8b58', 'message': ""Remove unnecessary setenv\n\nThere doesn't seem to be any reason for this, so let's get rid of it\nand clean up tox.ini a bit.\n\nChange-Id: Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc\n""}, {'number': 2, 'created': '2019-05-31 19:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/fc2944de2c8b1dc1c8a49fa2c1f34be26213133d', 'message': ""Remove unnecessary setenv\n\nThere doesn't seem to be any reason for this, so let's get rid of it\nand clean up tox.ini a bit.\n\nChange-Id: Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc\n""}, {'number': 3, 'created': '2019-05-31 20:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/fe73f159b72d6dbd9c83d9344fe8afbcfd7a12b0', 'message': ""Remove unnecessary setenv\n\nThere doesn't seem to be any reason for this, so let's get rid of it\nand clean up tox.ini a bit.\n\nChange-Id: Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc\n""}, {'number': 4, 'created': '2019-05-31 20:32:07.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c976c60dff38247747ec95d181aeab222f010a81', 'message': ""Remove unnecessary setenv\n\nThere doesn't seem to be any reason for this, so let's get rid of it\nand clean up tox.ini a bit.\n\nChange-Id: Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc\n""}]",0,662535,c976c60dff38247747ec95d181aeab222f010a81,15,5,4,6928,,,0,"Remove unnecessary setenv

There doesn't seem to be any reason for this, so let's get rid of it
and clean up tox.ini a bit.

Change-Id: Ib7e3635441d5a9be30f4dc1fd72ccf4036b659cc
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/35/662535/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/tox.ini'],1,c8cd5af1903e8b8e2a3d56182f9a7e3a894d8b58,oslosphinx,,setenv = VIRTUAL_ENV={envdir},0,2
openstack%2Foslo-cookiecutter~master~I96810e7cf132304ca700ebedd0c43e3d4d56bbd4,openstack/oslo-cookiecutter,master,I96810e7cf132304ca700ebedd0c43e3d4d56bbd4,Switch cookiecutter tox job to use test_tox_targets.sh,MERGED,2019-05-31 17:19:40.000000000,2019-06-26 08:21:04.000000000,2019-06-26 08:21:04.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/b976767e296b6a8e89e83229ed3b98b29835a898', 'message': ""Switch cookiecutter tox job to use test_tox_targets.sh\n\nThis verifies that the thing we generate will actually pass its\ndefined tests. It's a superset of the tests we were running before.\n\nChange-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4\n""}, {'number': 2, 'created': '2019-05-31 18:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/7bf67441ca22d69fe0f7aa40311ed98006a9805c', 'message': ""Switch cookiecutter tox job to use test_tox_targets.sh\n\nThis verifies that the thing we generate will actually pass its\ndefined tests. It's a superset of the tests we were running before.\n\nChange-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4\n""}, {'number': 3, 'created': '2019-05-31 19:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c0a7e0ce5eda81efe95f9f6b856b9e6c1ff3b732', 'message': ""Switch cookiecutter tox job to use test_tox_targets.sh\n\nThis verifies that the thing we generate will actually pass its\ndefined tests. It's a superset of the tests we were running before.\n\nAlso adds git config calls to make this work in the gate where\nthe user details aren't already set.\n\nChange-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4\n""}, {'number': 4, 'created': '2019-05-31 20:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/c82fdde518ba599b0f7f39cc852b2e4637e5059a', 'message': ""Switch cookiecutter tox job to use test_tox_targets.sh\n\nThis verifies that the thing we generate will actually pass its\ndefined tests. It's a superset of the tests we were running before.\n\nAlso adds git config calls to make this work in the gate where\nthe user details aren't already set.\n\nChange-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4\n""}, {'number': 5, 'created': '2019-05-31 20:32:07.000000000', 'files': ['tools/test_tox_targets.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/a15352f509a0da9a646cce3c07829b9122ef5057', 'message': ""Switch cookiecutter tox job to use test_tox_targets.sh\n\nThis verifies that the thing we generate will actually pass its\ndefined tests. It's a superset of the tests we were running before.\n\nAlso adds git config calls to make this work in the gate where\nthe user details aren't already set.\n\nChange-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4\n""}]",0,662523,a15352f509a0da9a646cce3c07829b9122ef5057,16,3,5,6928,,,0,"Switch cookiecutter tox job to use test_tox_targets.sh

This verifies that the thing we generate will actually pass its
defined tests. It's a superset of the tests we were running before.

Also adds git config calls to make this work in the gate where
the user details aren't already set.

Change-Id: I96810e7cf132304ca700ebedd0c43e3d4d56bbd4
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/23/662523/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b976767e296b6a8e89e83229ed3b98b29835a898,oslosphinx, {toxinidir}/tools/test_tox_targets.sh, mkdir -p {envdir}/tmp {toxinidir}/tools/test_template.sh {envdir}/tmp,1,2
openstack%2Ftripleo-heat-templates~master~Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f,openstack/tripleo-heat-templates,master,Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f,Add UndercloudMinion environments,MERGED,2019-05-03 17:16:44.000000000,2019-06-26 08:21:03.000000000,2019-06-26 08:21:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-03 17:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ce7d6bf5c23577dc3f9c675f0d174306ceb207f', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 2, 'created': '2019-05-06 15:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/788b875edacc5e63f1a6909928b34a7b59188772', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 3, 'created': '2019-05-07 16:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d96716905f880cc6d2337308e7e10bb37f68831', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 4, 'created': '2019-05-07 22:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afb421f561d6806d8774b10e659a1bdbaa5071a3', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 5, 'created': '2019-05-07 22:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/436057b2c74c0e024314fc9da14b3e03cea4c167', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 6, 'created': '2019-05-08 21:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c61b2d8bcce70a639b86b56861ab66066a5f1bc7', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 7, 'created': '2019-05-10 15:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a61b899fd0a2e930e4405b39f6f1e57938864a24', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 8, 'created': '2019-05-20 19:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f532cb4835e45dc77caf6d2192b9376ba819bfd2', 'message': 'Add UndercloudMinion role\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 9, 'created': '2019-05-24 15:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66ad7055a758370a518d482c8dba98aac4f99893', 'message': 'Add UndercloudMinion environments\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 10, 'created': '2019-05-24 22:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61fd833e4e0c3cd02bd32e745cef875177c29b97', 'message': 'Add UndercloudMinion environments\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 11, 'created': '2019-05-28 16:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3bb430867cd718ce023323ad91871eb45f00f4f', 'message': 'Add UndercloudMinion environments\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 12, 'created': '2019-05-28 22:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81e9a3b1e6741b798f2d67db2aed4aa4fe6276e7', 'message': 'Add UndercloudMinion environments\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 13, 'created': '2019-05-28 23:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a627d65ecdef5d4f04dc783c523327f6a7ee4ef7', 'message': 'Add UndercloudMinion environments\n\nThis adds a role and service files to support an undercloud minion that\nruns additional services that connects to an undercloud.\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 14, 'created': '2019-05-29 20:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4406a9c026d3f268ec234cfceb3f8733f7e7b246', 'message': 'Add UndercloudMinion environments\n\nThis adds a role and service files to support an undercloud minion that\nruns additional services that connects to an undercloud.\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 15, 'created': '2019-06-10 21:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad81953d684ba5bbafec8ca694df6f86098a1745', 'message': 'Add UndercloudMinion environments\n\nThis adds a role and service files to support an undercloud minion that\nruns additional services that connects to an undercloud.\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 16, 'created': '2019-06-14 21:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a63b930d929e92f2162402201de0bec4cade3cf3', 'message': 'Add UndercloudMinion environments\n\nThis adds a role and service files to support an undercloud minion that\nruns additional services that connects to an undercloud.\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}, {'number': 17, 'created': '2019-06-21 21:45:52.000000000', 'files': ['deployment/undercloud/minion-rabbitmq-puppet.yaml', 'environments/services/heat-engine.yaml', 'environments/services/ironic-conductor.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/UndercloudMinion.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eeb0d5495885f161fe1c34ffd4589da65cb2d17b', 'message': 'Add UndercloudMinion environments\n\nThis adds a role and service files to support an undercloud minion that\nruns additional services that connects to an undercloud.\n\nChange-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f\nRelated-Blueprint: undercloud-minion\n'}]",12,656984,eeb0d5495885f161fe1c34ffd4589da65cb2d17b,89,10,17,14985,,,0,"Add UndercloudMinion environments

This adds a role and service files to support an undercloud minion that
runs additional services that connects to an undercloud.

Change-Id: Ib6fb39f7baa6972ea9879f4f29d7dd46487e2b8f
Related-Blueprint: undercloud-minion
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/656984/2 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/undercloud-minion.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/UndercloudMinion.yaml']",3,6ce7d6bf5c23577dc3f9c675f0d174306ceb207f,bp/undercloud-minion,############################################################################### # Role: Undercloud # ############################################################################### - name: UndercloudMinion description: | A role to deploy an undercloud minion to handle scaling out of heat-engine and ironic-conductor via heat using the 'openstack undercloud minion deploy' command. CountDefault: 1 disable_constraints: True ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::CACerts - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::Keepalived - OS::TripleO::Services::Kernel - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::Memcached - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::OpenStackClients - OS::TripleO::Services::Podman - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Sshd - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::Tmpwatch - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::Tuned - OS::TripleO::Services::UndercloudUpgrade - OS::TripleO::Services::TripleoValidations ,,124,0
openstack%2Fneutron~master~I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,openstack/neutron,master,I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6,Turn CIDR in query filter into proper subnet,MERGED,2019-06-06 01:25:02.000000000,2019-06-26 08:11:12.000000000,2019-06-26 06:39:39.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-06 01:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/361af5d7578da24d7730d18e3008a4ce6509638a', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n'}, {'number': 2, 'created': '2019-06-06 15:51:46.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/af773557323580c7b07bd41dd1f524e81530c939', 'message': 'Turn CIDR in query filter into proper subnet\n\nUse netaddr.IPNetwork to convert CIDRs in a query\ninto proper subnets.\n\nWhen creating subnets the CIDR is converted into\na proper subnet. i.e a subnet can be created with\ncidr=10.0.0.11/24 in the create request. On create\nthe cidr is turned into a proper subnet resulting\nin a subnet with cidr=10.0.0.0/24.\n\nThis change does the same to CIDRs when used as\nquery filters during a list subnet request, so\nthat the same value that was used to create the\nsubnet can be used to find the subnet.\n\nCloses-Bug: #1831811\nChange-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6\n'}]",2,663464,af773557323580c7b07bd41dd1f524e81530c939,160,13,2,24245,,,0,"Turn CIDR in query filter into proper subnet

Use netaddr.IPNetwork to convert CIDRs in a query
into proper subnets.

When creating subnets the CIDR is converted into
a proper subnet. i.e a subnet can be created with
cidr=10.0.0.11/24 in the create request. On create
the cidr is turned into a proper subnet resulting
in a subnet with cidr=10.0.0.0/24.

This change does the same to CIDRs when used as
query filters during a list subnet request, so
that the same value that was used to create the
subnet can be used to find the subnet.

Closes-Bug: #1831811
Change-Id: I8ae478a03ceedc6c3b1ae1d40081b5e5158813e6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/663464/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py']",2,361af5d7578da24d7730d18e3008a4ce6509638a,bug/1831811," def test_list_subnets_filtering_by_cidr_used_on_create(self): with self.network() as network: with self.subnet(network=network, gateway_ip='10.0.0.1', cidr='10.0.0.11/24') as v1,\ self.subnet(network=network, gateway_ip='10.0.1.1', cidr='10.0.1.11/24') as v2: subnets = (v1, v2) query_params = ('cidr=10.0.0.11/24&cidr=10.0.1.11/24') self._test_list_resources('subnet', subnets, query_params=query_params) ",,20,0
openstack%2Ftripleo-heat-templates~master~I329d151a09a747566430ab4032e0f4984f7d7e7b,openstack/tripleo-heat-templates,master,I329d151a09a747566430ab4032e0f4984f7d7e7b,Remove duplicated cinder::cron::db_purge::destination,MERGED,2019-06-21 01:40:43.000000000,2019-06-26 08:08:25.000000000,2019-06-26 08:08:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 01:40:43.000000000', 'files': ['deployment/cinder/cinder-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/063b34ce428ae439dcb948c0aeef2c147635ad23', 'message': 'Remove duplicated cinder::cron::db_purge::destination\n\n... so that we do not have a useless line which is overwritten\nby the other.\n\nChange-Id: I329d151a09a747566430ab4032e0f4984f7d7e7b\n'}]",0,666747,063b34ce428ae439dcb948c0aeef2c147635ad23,17,5,1,9816,,,0,"Remove duplicated cinder::cron::db_purge::destination

... so that we do not have a useless line which is overwritten
by the other.

Change-Id: I329d151a09a747566430ab4032e0f4984f7d7e7b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/666747/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-base.yaml'],1,063b34ce428ae439dcb948c0aeef2c147635ad23,remove-dup,, cinder::cron::db_purge::destination: '/dev/null',0,1
openstack%2Fpython-tripleoclient~master~Ie6fa04112e3348f429dc42b28442f8996ab03f29,openstack/python-tripleoclient,master,Ie6fa04112e3348f429dc42b28442f8996ab03f29,nova-less-deploy: stop using glance for ironic-python-agent images,MERGED,2019-06-07 10:54:20.000000000,2019-06-26 08:08:24.000000000,2019-06-26 08:08:24.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-07 10:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e8e6ee1efad6be992e344757afa0a1161d01e6b', 'message': '[WIP] nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers.\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\n'}, {'number': 2, 'created': '2019-06-07 11:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5b999637da2f4026973fa4f4c1e1919a2448ab8', 'message': '[WIP] nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers.\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\nDepends-On: https://review.opendev.org/#/c/663897/\n'}, {'number': 3, 'created': '2019-06-12 13:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24fff3a82644e71e666859ac67c545a5f247ffa6', 'message': '[WIP] nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers.\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\nDepends-On: https://review.opendev.org/#/c/663897/\n'}, {'number': 4, 'created': '2019-06-13 15:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a193eaab54d6419f67fd96ad455af5ca11469475', 'message': '[WIP] nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers.\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\nDepends-On: https://review.opendev.org/#/c/663897/\n'}, {'number': 5, 'created': '2019-06-14 10:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/866b39a932b4a82bc3cd048776186a93111d62a1', 'message': '[WIP] nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers (for introspection).\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\nDepends-On: https://review.opendev.org/#/c/663897/\n'}, {'number': 6, 'created': '2019-06-14 15:08:32.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ad1b812fc5e2504e130e0997b741ce3b891f4db', 'message': ""nova-less-deploy: stop using glance for ironic-python-agent images\n\nIronic can use HTTP links or local files, and we already put the images to\na location accessible inside of ironic containers (for introspection).\nThis change switches to using file images for IPA. The existing Glance\nimages are not deleted since some nodes may be using them. Multi-arch\nlayout of [[PLATFORM-]ARCH/]agent.EXT is reused from the unit tests\nof the `image upload` command, assuming that's what people are using.\n\nChange-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29\nImplements: blueprint nova-less-deploy\nDepends-On: https://review.opendev.org/#/c/663897/\n""}]",3,663891,7ad1b812fc5e2504e130e0997b741ce3b891f4db,35,9,6,10239,,,0,"nova-less-deploy: stop using glance for ironic-python-agent images

Ironic can use HTTP links or local files, and we already put the images to
a location accessible inside of ironic containers (for introspection).
This change switches to using file images for IPA. The existing Glance
images are not deleted since some nodes may be using them. Multi-arch
layout of [[PLATFORM-]ARCH/]agent.EXT is reused from the unit tests
of the `image upload` command, assuming that's what people are using.

Change-Id: Ie6fa04112e3348f429dc42b28442f8996ab03f29
Implements: blueprint nova-less-deploy
Depends-On: https://review.opendev.org/#/c/663897/
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/663891/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_node.py']",3,0e8e6ee1efad6be992e344757afa0a1161d01e6b,bp/nova-less-deploy," parser.add_argument(""--http-boot"", default=self._get_environment_var( 'HTTP_BOOT', constants.IRONIC_HTTP_BOOT_BIND_MOUNT), help=_(""Root directory for the ironic-python-agent"" "" image"")) if not parsed_args.no_deploy_image: oooutils.update_nodes_deploy_data(nodes_config, http_boot=parsed_args.http_boot) parser.add_argument( '--deploy-kernel', default='file://%s/agent.kernel' % constants.IRONIC_HTTP_BOOT_BIND_MOUNT, help=_('Image with deploy kernel.')) parser.add_argument( '--deploy-ramdisk', default='file://%s/agent.ramdisk' % constants.IRONIC_HTTP_BOOT_BIND_MOUNT, help=_('Image with deploy ramdisk.'))"," if parsed_args.no_deploy_image: deploy_kernel = None deploy_ramdisk = None else: deploy_kernel = oooutils.deploy_kernel()[0] deploy_ramdisk = oooutils.deploy_ramdisk()[0] oooutils.update_nodes_deploy_data(self.app.client_manager.image, nodes_config) kernel_name=deploy_kernel, ramdisk_name=deploy_ramdisk, parser.add_argument('--deploy-kernel', default='bm-deploy-kernel', help=_('Image with deploy kernel.')) parser.add_argument('--deploy-ramdisk', default='bm-deploy-ramdisk', help=_('Image with deploy ramdisk.'))",47,38
openstack%2Ftripleo-common~master~I773a38fd903fe287132151a4d178326a46890969,openstack/tripleo-common,master,I773a38fd903fe287132151a4d178326a46890969,Allow networks in roles_data to be dict or list,MERGED,2018-08-23 09:54:42.000000000,2019-06-26 07:50:40.000000000,2018-09-07 13:25:28.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-08-23 09:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c68f2b5fb825d5c8875e65f84cd74fae624eb2e5', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef change: I85676ae961d34bf6a986fa813c40380d50f09711\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}, {'number': 2, 'created': '2018-08-28 12:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ba5685fb7bc5407669e1075edf91bc3ce4f09ff', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef change: I85676ae961d34bf6a986fa813c40380d50f09711\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}, {'number': 3, 'created': '2018-08-30 16:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39444714c289f3a56dbddded3301f4ce422a1b0d', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef change: I85676ae961d34bf6a986fa813c40380d50f09711\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}, {'number': 4, 'created': '2018-09-03 11:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/530fb2d9a74b6c89bd1f97e08a7a9c1c76e415ca', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef Change-Id: I77edc82723d00bfece6752b5dd2c79137db93443\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}, {'number': 5, 'created': '2018-09-04 07:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4d2b8475d9947ac8001effaa00049adf7b6d53ff', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef Change-Id: I77edc82723d00bfece6752b5dd2c79137db93443\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}, {'number': 6, 'created': '2018-09-04 17:12:08.000000000', 'files': ['tripleo_common/tests/utils/test_roles.py', 'tripleo_common/utils/roles.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d52f5b9acc9b4d587bb36dd8afb7c77e24422e7', 'message': ""Allow networks in roles_data to be dict or list\n\nWith the changes to make all networks for the overcloud\nneutron routed networks it makes sense to change the\nschema of 'networks' in roles_data to allow the user to\nspecify both the networks and the subnet of each network\nfor a role.\n\nRef change: I85676ae961d34bf6a986fa813c40380d50f09711\n\nThis changes the role yaml validation to allow 'networks'\nto be either a list or a dict.\n\nRelated: blueprint tripleo-routed-networks-templates\nChange-Id: I773a38fd903fe287132151a4d178326a46890969\n""}]",0,595570,6d52f5b9acc9b4d587bb36dd8afb7c77e24422e7,52,8,6,24245,,,0,"Allow networks in roles_data to be dict or list

With the changes to make all networks for the overcloud
neutron routed networks it makes sense to change the
schema of 'networks' in roles_data to allow the user to
specify both the networks and the subnet of each network
for a role.

Ref change: I85676ae961d34bf6a986fa813c40380d50f09711

This changes the role yaml validation to allow 'networks'
to be either a list or a dict.

Related: blueprint tripleo-routed-networks-templates
Change-Id: I773a38fd903fe287132151a4d178326a46890969
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/595570/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/roles.py'],1,c68f2b5fb825d5c8875e65f84cd74fae624eb2e5,bp/tripleo-routed-networks-templates," 'networks': {'type': [list, dict]}, if k in role: if k == 'networks': if not (isinstance(role[k], schema[k]['type'][0]) or isinstance(role[k], schema[k]['type'][1])): msg = ""Role '{}': {} is not of expected type {}"".format( role['name'], k, schema[k]['type']) raise RoleMetadataError(msg) else: if not isinstance(role[k], schema[k]['type']): msg = ""Role '{}': {} is not of expected type {}"".format( role['name'], k, schema[k]['type']) raise RoleMetadataError(msg)"," 'networks': {'type': list}, if k in role and not isinstance(role[k], schema[k]['type']): msg = ""Role '{}': {} is not of expected type {}"".format( role['name'], k, schema[k]['type']) raise RoleMetadataError(msg)",13,5
openstack%2Fcloudkitty~master~Ib20409079a1b5aadabeac28a12ec2baa7009ddf6,openstack/cloudkitty,master,Ib20409079a1b5aadabeac28a12ec2baa7009ddf6,"Update the ""architecture"" section of the documentation",MERGED,2019-06-05 15:08:47.000000000,2019-06-26 07:49:00.000000000,2019-06-26 07:48:59.000000000,"[{'_account_id': 2376}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}, {'_account_id': 29523}]","[{'number': 1, 'created': '2019-06-05 15:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a6d5473908a7230da68c77b221fc7c62654b5039', 'message': 'Update the ""architecture"" section of the documentation\n\nThis updates the ""architecture"" section of the documentation. Architecture\nschemas have been added and information about the different parts\nhas been updated and extended.\n\nStory: 2004179\nTask: 28515\nChange-Id: Ib20409079a1b5aadabeac28a12ec2baa7009ddf6\n'}, {'number': 2, 'created': '2019-06-06 12:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5c0dba2b6254fbe0807c896de932342c725e4081', 'message': 'Update the ""architecture"" section of the documentation\n\nThis updates the ""architecture"" section of the documentation. Architecture\nschemas have been added and information about the different parts\nhas been updated and extended.\n\nStory: 2004179\nTask: 28515\nChange-Id: Ib20409079a1b5aadabeac28a12ec2baa7009ddf6\n'}, {'number': 3, 'created': '2019-06-11 08:36:28.000000000', 'files': ['doc/source/admin/architecture.rst', 'doc/source/images/cloudkitty_modules.png', 'doc/source/images/cloudkitty_architecture.png'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a88a7560c72ab97f6bb4cf685540455f1e04cdd7', 'message': 'Update the ""architecture"" section of the documentation\n\nThis updates the ""architecture"" section of the documentation. Architecture\nschemas have been added and information about the different parts\nhas been updated and extended.\n\nStory: 2004179\nTask: 28515\nChange-Id: Ib20409079a1b5aadabeac28a12ec2baa7009ddf6\n'}]",10,663354,a88a7560c72ab97f6bb4cf685540455f1e04cdd7,18,5,3,23060,,,0,"Update the ""architecture"" section of the documentation

This updates the ""architecture"" section of the documentation. Architecture
schemas have been added and information about the different parts
has been updated and extended.

Story: 2004179
Task: 28515
Change-Id: Ib20409079a1b5aadabeac28a12ec2baa7009ddf6
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/54/663354/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/architecture.rst', 'doc/source/images/cloudkitty_modules.png', 'doc/source/images/cloudkitty_architecture.png']",3,a6d5473908a7230da68c77b221fc7c62654b5039,,,,92,82
openstack%2Fwatcher~master~Ie728081caa205ded2435c6b95f5e8d4bbd23372c,openstack/watcher,master,Ie728081caa205ded2435c6b95f5e8d4bbd23372c,Fix placement_client group help docs generation,MERGED,2019-06-21 18:09:14.000000000,2019-06-26 07:29:05.000000000,2019-06-26 07:29:05.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-21 18:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/cdb4e72d6f5ec14a960920f9bf608c3cdf592936', 'message': 'Fix placement_client group help docs generation\n\nTo get the placement_client OptGroup help text to generate\nin the docs, we have to use the OptGroup object in the\nlist_opts() method rather than a string for the group name.\n\nhttps://docs.openstack.org/oslo.config/latest/cli/generator.html#defining-option-discovery-entry-points\n\nChange-Id: Ie728081caa205ded2435c6b95f5e8d4bbd23372c\n'}, {'number': 2, 'created': '2019-06-24 18:52:13.000000000', 'files': ['watcher/tests/conf/test_list_opts.py', 'watcher/conf/placement_client.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/5f521471e1e886a27fc8e722729812928f3dd8b2', 'message': 'Fix placement_client group help docs generation\n\nTo get the placement_client OptGroup help text to generate\nin the docs, we have to use the OptGroup object in the\nlist_opts() method rather than a string for the group name.\n\nhttps://docs.openstack.org/oslo.config/latest/cli/generator.html#defining-option-discovery-entry-points\n\nChange-Id: Ie728081caa205ded2435c6b95f5e8d4bbd23372c\n'}]",1,666897,5f521471e1e886a27fc8e722729812928f3dd8b2,15,4,2,6873,,,0,"Fix placement_client group help docs generation

To get the placement_client OptGroup help text to generate
in the docs, we have to use the OptGroup object in the
list_opts() method rather than a string for the group name.

https://docs.openstack.org/oslo.config/latest/cli/generator.html#defining-option-discovery-entry-points

Change-Id: Ie728081caa205ded2435c6b95f5e8d4bbd23372c
",git fetch https://review.opendev.org/openstack/watcher refs/changes/97/666897/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/conf/placement_client.py'],1,cdb4e72d6f5ec14a960920f9bf608c3cdf592936,fix-placement-client-opt-group-help-docs," return [(placement_group, placement_opts)]"," return [(placement_group.name, placement_opts)]",1,1
openstack%2Fproject-config~master~Idf2ef5b2cdd8120ad472df7a3222e8e80976daee,openstack/project-config,master,Idf2ef5b2cdd8120ad472df7a3222e8e80976daee,Normalize projects.yaml,MERGED,2019-06-26 06:17:05.000000000,2019-06-26 07:25:40.000000000,2019-06-26 07:25:40.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 06:17:05.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/095130f05a2a119546ed38ba37077e73197ec20b', 'message': 'Normalize projects.yaml\n\nChange-Id: Idf2ef5b2cdd8120ad472df7a3222e8e80976daee\n'}]",0,667516,095130f05a2a119546ed38ba37077e73197ec20b,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Idf2ef5b2cdd8120ad472df7a3222e8e80976daee
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/667516/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,095130f05a2a119546ed38ba37077e73197ec20b,project-yaml-normalization,, upstream: https://github.com/TristanCacqueray/zuul-operator,0,1
openstack%2Fproject-config~master~I436a8635873b01e24b07bfdb7a1eeacf5aeb5e6e,openstack/project-config,master,I436a8635873b01e24b07bfdb7a1eeacf5aeb5e6e,Make glean opensuse job non-voting,MERGED,2019-06-25 20:34:01.000000000,2019-06-26 07:13:46.000000000,2019-06-25 21:00:18.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 20:34:01.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0caa0941578c36653ea0d5f23448438f63733385', 'message': 'Make glean opensuse job non-voting\n\nSomething seems to have broken with the suse image build, make\nthis non-voting so we can move these jobs in-repo.\n\nChange-Id: I436a8635873b01e24b07bfdb7a1eeacf5aeb5e6e\n'}]",0,667459,0caa0941578c36653ea0d5f23448438f63733385,9,3,1,1,,,0,"Make glean opensuse job non-voting

Something seems to have broken with the suse image build, make
this non-voting so we can move these jobs in-repo.

Change-Id: I436a8635873b01e24b07bfdb7a1eeacf5aeb5e6e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/667459/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,0caa0941578c36653ea0d5f23448438f63733385,nodepool-func, - nodepool-functional-py35-suse-src: voting: false, - nodepool-functional-py35-suse-src - nodepool-functional-py35-suse-src,2,2
openstack%2Fkolla~master~Id4cb46242d124f96145cae025e732aeab6a6dacd,openstack/kolla,master,Id4cb46242d124f96145cae025e732aeab6a6dacd,Gather collectd systemd service in gate,ABANDONED,2018-12-04 09:32:16.000000000,2019-06-26 07:05:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-04 09:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bc2fda211af42ac60dd6279d8da478c7f0e5abc', 'message': 'Gather collectd systemd service in gate\n\nCollectd is recently failing to start, this change\ngather logs to start debugging the error\n\nChange-Id: Id4cb46242d124f96145cae025e732aeab6a6dacd\n'}, {'number': 2, 'created': '2018-12-04 15:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6657582cfa86af1022306498711ea428c07e8f61', 'message': 'Gather collectd systemd service in gate\n\nCollectd is recently failing to start, this change\ngather logs to start debugging the error\n\nChange-Id: Id4cb46242d124f96145cae025e732aeab6a6dacd\n'}, {'number': 3, 'created': '2018-12-05 08:48:27.000000000', 'files': ['roles/collect-collectd/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3231ad7dda8d9f7448cd827ffc4d922ebf3c9d28', 'message': 'Gather collectd systemd service in gate\n\nCollectd is recently failing to start, this change\ngather logs to start debugging the error\n\nChange-Id: Id4cb46242d124f96145cae025e732aeab6a6dacd\n'}]",0,622143,3231ad7dda8d9f7448cd827ffc4d922ebf3c9d28,7,1,3,19316,,,0,"Gather collectd systemd service in gate

Collectd is recently failing to start, this change
gather logs to start debugging the error

Change-Id: Id4cb46242d124f96145cae025e732aeab6a6dacd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/622143/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect-collectd/tasks/main.yml'],1,9bc2fda211af42ac60dd6279d8da478c7f0e5abc,gather-collectd-logs,"- name: get collectd journal log shell: ""journalctl -xeu collectd > {{ zuul.executor.log_root }}"" ",,3,0
openstack%2Fcyborg~stable%2Fstein~Ibdb4520ba41f2a9c283b4f512ddd62aa40a75f12,openstack/cyborg,stable/stein,Ibdb4520ba41f2a9c283b4f512ddd62aa40a75f12,Python3 migration for stable/stein,ABANDONED,2019-06-25 05:08:39.000000000,2019-06-26 06:51:47.000000000,,"[{'_account_id': 10068}, {'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 05:08:39.000000000', 'files': ['cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'cyborg/objects/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b946e1f0b6d51973abf1dd20279de279facd7e19', 'message': 'Python3 migration for stable/stein\n\nChange-Id: Ibdb4520ba41f2a9c283b4f512ddd62aa40a75f12\n'}]",0,667266,b946e1f0b6d51973abf1dd20279de279facd7e19,5,3,1,29845,,,0,"Python3 migration for stable/stein

Change-Id: Ibdb4520ba41f2a9c283b4f512ddd62aa40a75f12
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/66/667266/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/common/exception.py', 'cyborg/objects/base.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'tox.ini']",5,b946e1f0b6d51973abf1dd20279de279facd7e19,python3-migration,"envlist = py37-constraints,py36-constraints,py27-constraints,pypy-constraints,pep8-constraints","envlist = py35-constraints,py27-constraints,pypy-constraints,pep8-constraints",18,7
openstack%2Frequirements~master~I95f2c52c7aaf53fffd64cfaf8b6dccab1ac9ae13,openstack/requirements,master,I95f2c52c7aaf53fffd64cfaf8b6dccab1ac9ae13,Updated from generate-constraints,ABANDONED,2019-06-26 06:20:03.000000000,2019-06-26 06:45:44.000000000,,[],"[{'number': 1, 'created': '2019-06-26 06:20:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/14bc577bed51f9ded5bbeb9119b0c57e26bdec9a', 'message': 'Updated from generate-constraints\n\nChange-Id: I95f2c52c7aaf53fffd64cfaf8b6dccab1ac9ae13\n'}]",0,667517,14bc577bed51f9ded5bbeb9119b0c57e26bdec9a,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I95f2c52c7aaf53fffd64cfaf8b6dccab1ac9ae13
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/667517/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,14bc577bed51f9ded5bbeb9119b0c57e26bdec9a,openstack/requirements/constraints,soupsieve===1.9.2paramiko===2.6.0tornado===5.1.1;python_version=='2.7'mypy===0.711;python_version=='3.4' mypy===0.711;python_version=='3.5' mypy===0.711;python_version=='3.6' mypy===0.711;python_version=='3.7'pathlib2===2.3.4boto3===1.9.176bottle===0.12.17botocore===1.12.176storops===1.2.0jsonschema===3.0.1alembic===1.0.11,soupsieve===1.9.1paramiko===2.5.0tornado===4.5.3;python_version=='2.7'mypy===0.710;python_version=='3.4' mypy===0.710;python_version=='3.5' mypy===0.710;python_version=='3.6' mypy===0.710;python_version=='3.7'pathlib2===2.3.3boto3===1.9.174bottle===0.12.16botocore===1.12.174storops===1.1.0jsonschema===2.6.0alembic===1.0.10,14,14
openstack%2Fproject-config~master~I686c6254623532fe18d326b5ec5857996c351cb3,openstack/project-config,master,I686c6254623532fe18d326b5ec5857996c351cb3,Only iterate the list of zuul projects once when preparing repos,ABANDONED,2017-08-30 19:36:05.000000000,2019-06-26 06:44:39.000000000,,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 9061}]","[{'number': 1, 'created': '2017-08-30 19:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd8b63bc04034ce35277faebc7efe5fcea4dcf01', 'message': 'Only iterate the list of zuul projects once when preparing repos\n\nThis merges the three previous tasks by a single task which prepares\nthe repository, whether it is cached or not and remove the git origin.\n\nThis is mostly an optimization so that we iterate through the list\none time instead of three.\nThis is not just for performance purposes but it also condenses all three\ntasks into one, making it less verbose and easier to troubleshoot.\n\nChange-Id: I686c6254623532fe18d326b5ec5857996c351cb3\n'}, {'number': 2, 'created': '2017-08-30 20:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2c6533156c3d3c374bcabe3181133441437bb236', 'message': 'Only iterate the list of zuul projects once when preparing repos\n\nThis merges the three previous tasks by a single task which prepares\nthe repository, whether it is cached or not and remove the git origin.\n\nThis is mostly an optimization so that we iterate through the list\none time instead of three.\nThis is not just for performance purposes but it also condenses all three\ntasks into one, making it less verbose and easier to troubleshoot.\n\nChange-Id: I686c6254623532fe18d326b5ec5857996c351cb3\n'}, {'number': 3, 'created': '2017-08-30 20:21:12.000000000', 'files': ['roles/use-cached-repos/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/31ac25f3ac597b0e2e0e5128dc5b42dad38ed457', 'message': 'Only iterate the list of zuul projects once when preparing repos\n\nThis merges the three previous tasks by a single task which prepares\nthe repository, whether it is cached or not and remove the git origin.\n\nThis is mostly an optimization so that we iterate through the list\none time instead of three.\nThis is not just for performance purposes but it also condenses all three\ntasks into one, making it less verbose and easier to troubleshoot.\n\nChange-Id: I686c6254623532fe18d326b5ec5857996c351cb3\n'}]",1,499273,31ac25f3ac597b0e2e0e5128dc5b42dad38ed457,13,3,3,9061,,,0,"Only iterate the list of zuul projects once when preparing repos

This merges the three previous tasks by a single task which prepares
the repository, whether it is cached or not and remove the git origin.

This is mostly an optimization so that we iterate through the list
one time instead of three.
This is not just for performance purposes but it also condenses all three
tasks into one, making it less verbose and easier to troubleshoot.

Change-Id: I686c6254623532fe18d326b5ec5857996c351cb3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/499273/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/use-cached-repos/tasks/main.yaml'],1,dd8b63bc04034ce35277faebc7efe5fcea4dcf01,zuulv3,"- name: Ensure repositories are in the workspace command: | {% if item.1.stat.exists -%} git clone /opt/git/{{ item.0.name }} {{ ansible_user_dir }}/{{ item.0.src_dir }} {% else -%} git clone https://{{ item.0.canonical_hostname }}/{{ item.0.name }} {{ ansible_user_dir }}/{{ item.0.src_dir }} {% endif -%} git --git-dir={{ ansible_user_dir }}/{{ item.0.src_dir}}/.git remote rm origin creates: ""{{ ansible_user_dir }}/{{ item.0.src_dir }}""","- name: Clone cached repo to workspace command: ""git clone /opt/git/{{ item.0.name }} {{ ansible_user_dir }}/{{ item.0.src_dir}}"" args: creates: ""{{ ansible_user_dir }}/{{ item.0.src_dir}}"" when: item.1.stat.exists - name: Clone upstream repo to workspace command: ""git clone https://{{ item.0.canonical_hostname }}/{{ item.0.name}} {{ ansible_user_dir }}/{{ item.0.src_dir}}"" args: creates: ""{{ ansible_user_dir }}/{{ item.0.src_dir}}"" when: not item.1.stat.exists with_together: - ""{{ zuul.projects }}"" - ""{{ cached_repos }}"" - name: Remove origin from local git repos command: ""git remote rm origin"" args: chdir: ""{{ ansible_user_dir }}/{{ item.src_dir}}"" with_items: ""{{ zuul.projects }}""",9,20
openstack%2Fnova~master~Ic262af86bb848072f5bccd40df1809e5d752af85,openstack/nova,master,Ic262af86bb848072f5bccd40df1809e5d752af85,Remove comments about mirroring changes to nova/cells/messaging.py,MERGED,2019-06-24 14:09:05.000000000,2019-06-26 06:44:35.000000000,2019-06-26 06:43:29.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 14:09:05.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9ce93a3006529b3e7f2efcdf4ccffa2a2aab0ed', 'message': 'Remove comments about mirroring changes to nova/cells/messaging.py\n\nThe nova/cells/messaging.py module no longer exists so we can\nremove the comments saying to mirror snapshot/backup changes\nfrom the compute API to that cells v1 code.\n\nRelated to blueprint remove-cells-v1\n\nChange-Id: Ic262af86bb848072f5bccd40df1809e5d752af85\n'}]",0,667107,c9ce93a3006529b3e7f2efcdf4ccffa2a2aab0ed,37,14,1,6873,,,0,"Remove comments about mirroring changes to nova/cells/messaging.py

The nova/cells/messaging.py module no longer exists so we can
remove the comments saying to mirror snapshot/backup changes
from the compute API to that cells v1 code.

Related to blueprint remove-cells-v1

Change-Id: Ic262af86bb848072f5bccd40df1809e5d752af85
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/667107/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,c9ce93a3006529b3e7f2efcdf4ccffa2a2aab0ed,bp/remove-cells-v1,, # NOTE(comstud): Any changes to this method should also be made # to the backup_instance() method in nova/cells/messaging.py # NOTE(comstud): Any changes to this method should also be made # to the snapshot_instance() method in nova/cells/messaging.py,0,5
openstack%2Frequirements~master~I2b4ba1e653f0577e55eaf45d38552b9848485e78,openstack/requirements,master,I2b4ba1e653f0577e55eaf45d38552b9848485e78,Updated from generate-constraints,MERGED,2019-06-23 06:14:36.000000000,2019-06-26 06:43:47.000000000,2019-06-26 06:43:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-23 06:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a881b1406afdc55ee7138d987f83622e4f4cc1fd', 'message': 'Updated from generate-constraints\n\nChange-Id: I2b4ba1e653f0577e55eaf45d38552b9848485e78\n'}, {'number': 2, 'created': '2019-06-24 06:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a76fd6c3454adfda862919575d257735978f2f9b', 'message': 'Updated from generate-constraints\n\nChange-Id: I2b4ba1e653f0577e55eaf45d38552b9848485e78\n'}, {'number': 3, 'created': '2019-06-25 06:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3536d50d64acb765913f4bce11d5f2c0567fddf5', 'message': 'Updated from generate-constraints\n\nChange-Id: I2b4ba1e653f0577e55eaf45d38552b9848485e78\n'}, {'number': 4, 'created': '2019-06-25 06:53:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/23f7ac020b1c48c4f52b9a85dd1f94c137412afc', 'message': 'Updated from generate-constraints\n\nChange-Id: I2b4ba1e653f0577e55eaf45d38552b9848485e78\n'}]",0,666981,23f7ac020b1c48c4f52b9a85dd1f94c137412afc,13,2,4,11131,,,0,"Updated from generate-constraints

Change-Id: I2b4ba1e653f0577e55eaf45d38552b9848485e78
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/666981/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a881b1406afdc55ee7138d987f83622e4f4cc1fd,openstack/requirements/constraints/noclob,tornado===5.1.1;python_version=='2.7'storops===1.2.0jsonschema===3.0.1,tornado===4.5.3;python_version=='2.7'storops===1.1.0jsonschema===2.6.0,3,3
openstack%2Fnova~master~I52c8d038118c858004e17e71b2fba9e9e2714815,openstack/nova,master,I52c8d038118c858004e17e71b2fba9e9e2714815,Drop source node allocations if finish_resize fails,MERGED,2019-04-20 22:07:40.000000000,2019-06-26 06:43:39.000000000,2019-06-26 06:43:38.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-20 22:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78f8ab242a04f54e935b268372be06da882fcdf9', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n'}, {'number': 2, 'created': '2019-04-22 13:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5c3530b0b851905672c47f7dc561533a5db1e5f', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n'}, {'number': 3, 'created': '2019-04-22 20:15:27.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea297d6ffba81c5dc982afe6519de09ff3744cad', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n'}]",3,654067,ea297d6ffba81c5dc982afe6519de09ff3744cad,86,16,3,6873,,,0,"Drop source node allocations if finish_resize fails

By the time finish_resize runs on the dest host, the instance
host/node values are already pointing at the dest (they are
set by resize_instance on the source compute before casting to
finish_resize on the dest). If finish_resize fails, the instance
is essentially stuck on the dest host so rather than revert the
allocations (which will drop the new flavor allocations against
the dest host where the instance now lives) we should just drop
the old flavor allocations on the source node resource provider,
which is what this change does.

The functional regression recreate test is updated to show this
working.

Change-Id: I52c8d038118c858004e17e71b2fba9e9e2714815
Closes-Bug: #1825537
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/654067/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py']",3,78f8ab242a04f54e935b268372be06da882fcdf9,bug/1825537," self.flavor2, server['id'], dest_rp_uuid) # And the source node provider should not have any usage. source_rp_usages = self._get_provider_usages(source_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, source_rp_usages)"," # FIXME(mriedem): This is bug 1825537 where the allocations are # reverted when finish_resize fails so the dest node resource provider # does not have any allocations and the instance allocations are for # the old flavor on the source node resource provider even though the # instance is not running on the source host nor pointed at the source # host in the DB. # self.assertFlavorMatchesAllocation( # self.flavor2, server['id'], dest_rp_uuid) dest_rp_usages = self._get_provider_usages(dest_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, dest_rp_usages) self.flavor1, server['id'], source_rp_uuid)",28,17
openstack%2Fdevstack~master~Ib444e928fa2ca7650670f97be6927202333a1dd7,openstack/devstack,master,Ib444e928fa2ca7650670f97be6927202333a1dd7,Adjust repo namespace for pbr,MERGED,2019-06-21 13:46:12.000000000,2019-06-26 06:39:48.000000000,2019-06-26 06:39:48.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 13:46:12.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/99e7445fb245deaa67d831a23c4e4ee21c13c855', 'message': 'Adjust repo namespace for pbr\n\nThis is a follow up for change Ifcfce490edb3d77e4e436e002d35bc909e1a057c\nwhere the GIT_BASE was changed to the opendev URL to avoid redirects.\nThe pbr namespace in stackrc was old and still getting redirected and\nthis change fixes that.\n\nChange-Id: Ib444e928fa2ca7650670f97be6927202333a1dd7\n'}]",0,666838,99e7445fb245deaa67d831a23c4e4ee21c13c855,11,4,1,6873,,,0,"Adjust repo namespace for pbr

This is a follow up for change Ifcfce490edb3d77e4e436e002d35bc909e1a057c
where the GIT_BASE was changed to the opendev URL to avoid redirects.
The pbr namespace in stackrc was old and still getting redirected and
this change fixes that.

Change-Id: Ib444e928fa2ca7650670f97be6927202333a1dd7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/666838/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,99e7445fb245deaa67d831a23c4e4ee21c13c855,bug/1833256,"GITREPO[""pbr""]=${PBR_REPO:-${GIT_BASE}/openstack/pbr.git}","GITREPO[""pbr""]=${PBR_REPO:-${GIT_BASE}/openstack-dev/pbr.git}",1,1
openstack%2Fneutron~master~Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b,openstack/neutron,master,Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b,use AuthenticIPNetwork and AuthenticEUI from neutron-lib,MERGED,2019-05-17 21:17:40.000000000,2019-06-26 06:39:44.000000000,2019-06-26 06:39:44.000000000,"[{'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-05-17 21:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8aee17f7bf3765f0604be15143bdb443929b6c1', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 2, 'created': '2019-05-28 20:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d5ed03c3d614e2e72ea8720271e783997b656b7', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 3, 'created': '2019-05-30 08:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fce9cd8b741985f27dbba9aad81e9a34f79811d', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 4, 'created': '2019-06-11 17:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/148b9496829222b10c3e0fe6064fcdb99a36bf27', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 5, 'created': '2019-06-14 14:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a24317af15dd9820a8f3a631dab59ad001e9d29', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 6, 'created': '2019-06-18 16:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/324d1cc06dc37e43a180114beced7223921a15ef', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}, {'number': 7, 'created': '2019-06-25 15:53:49.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/objects/common_types.py', 'neutron/objects/metering.py', 'neutron/objects/securitygroup.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/objects/ports.py', 'neutron/objects/router.py', 'neutron/db/extraroute_db.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/db/allowedaddresspairs_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39c7ac3ffe0eab32e1c61428661cbdcb68f7170b', 'message': ""use AuthenticIPNetwork and AuthenticEUI from neutron-lib\n\nThis patch switches over to neutron-lib's version of the the\n_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by\ndeleting them from neutron and using lib's version instead.\n\nDepends-On: https://review.opendev.org/#/c/659881/\n\nNeutronLibImpact\n\nChange-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b\n""}]",3,659882,39c7ac3ffe0eab32e1c61428661cbdcb68f7170b,76,13,7,5367,,,0,"use AuthenticIPNetwork and AuthenticEUI from neutron-lib

This patch switches over to neutron-lib's version of the the
_AuthenticBase, AuthenticEUI and AuthenticIPNetwork classes by
deleting them from neutron and using lib's version instead.

Depends-On: https://review.opendev.org/#/c/659881/

NeutronLibImpact

Change-Id: Ia3d3db401d6abcb9c9965b945bcd4c199f8e812b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/659882/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/objects/common_types.py', 'neutron/objects/metering.py', 'neutron/objects/securitygroup.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'neutron/common/utils.py', 'neutron/tests/unit/common/test_utils.py', 'neutron/tests/unit/services/logapi/common/test_db_api.py', 'neutron/objects/ports.py', 'neutron/objects/router.py', 'neutron/db/extraroute_db.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/db/allowedaddresspairs_db.py']",16,d8aee17f7bf3765f0604be15143bdb443929b6c1,bp/neutronlib-decouple-db,from neutron_lib.utils import net as net_utils mac_address = net_utils.AuthenticEUI( ip_address = net_utils.AuthenticIPNetwork(, from neutron.common import utils mac_address = utils.AuthenticEUI( ip_address = utils.AuthenticIPNetwork(,47,106
openstack%2Fneutron~master~I4fa37519bbf91e93ebd2f0e46e4d14edd40728fd,openstack/neutron,master,I4fa37519bbf91e93ebd2f0e46e4d14edd40728fd,[OVS] Network segmentation ID change not allowed if multisegments,MERGED,2019-06-19 16:09:47.000000000,2019-06-26 06:39:36.000000000,2019-06-26 06:39:36.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-19 16:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f501740d4d7735caef9c1fe1bc36e6d8e1f086d8', 'message': '[OVS] Network segmentation ID change not allowed if multisegments\n\nIf a network has several segments, the provider network segmentation ID\ncannot be changed. This is defined in the feature spec [1].\n\nIn the case of having a multisegment network, the OVS agent RPC call\n""get_network_details"" will return the following value:\n\n  {\n    ""network"": {\n      ""updated_at"": ""2019-02-19T13:25:15Z"",\n      ""revision_number"": 5,\n      ""id"": ""ba973781-065b-4c69-9f07-a5c4f9a3b754"",\n      ...\n      ""segments"": [{\n        ""provider:network_type"": ""vxlan"",\n        ""provider:physical_network"": null,\n        ""provider:segmentation_id"": 10041\n      },\n      {\n        ""provider:network_type"": ""vxlan"",\n        ""provider:physical_network"": null,\n        ""provider:segmentation_id"": 10066\n      }],\n      ...\n}\n\nThe provider network information will be contained inside the ""segments""\nlist, instead of being container in the parent ""network"" dictionary.\n\nCloses-Bug: #1832745\n\n[1]https://opendev.org/openstack/neutron-specs/src/branch/master/specs/stein/change-segmentation-id-vlan-provider-network.rst\n\nChange-Id: I4fa37519bbf91e93ebd2f0e46e4d14edd40728fd\n'}, {'number': 2, 'created': '2019-06-22 15:21:58.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc80fc9fe7836840d25eac16c4f8013cda55acfa', 'message': '[OVS] Network segmentation ID change not allowed if multisegments\n\nIf a network has several segments, the provider network segmentation ID\ncannot be changed. This is defined in the feature spec [1].\n\nIn the case of having a multisegment network, the OVS agent RPC call\n""get_network_details"" will return the following value:\n\n  {\n    ""network"": {\n      ""updated_at"": ""2019-02-19T13:25:15Z"",\n      ""revision_number"": 5,\n      ""id"": ""ba973781-065b-4c69-9f07-a5c4f9a3b754"",\n      ...\n      ""segments"": [{\n        ""provider:network_type"": ""vxlan"",\n        ""provider:physical_network"": null,\n        ""provider:segmentation_id"": 10041\n      },\n      {\n        ""provider:network_type"": ""vxlan"",\n        ""provider:physical_network"": null,\n        ""provider:segmentation_id"": 10066\n      }],\n      ...\n}\n\nThe provider network information will be contained inside the ""segments""\nlist, instead of being container in the parent ""network"" dictionary.\n\nCloses-Bug: #1832745\n\n[1]https://opendev.org/openstack/neutron-specs/src/branch/master/specs/stein/change-segmentation-id-vlan-provider-network.rst\n\nChange-Id: I4fa37519bbf91e93ebd2f0e46e4d14edd40728fd\n'}]",0,666375,dc80fc9fe7836840d25eac16c4f8013cda55acfa,49,6,2,16688,,,0,"[OVS] Network segmentation ID change not allowed if multisegments

If a network has several segments, the provider network segmentation ID
cannot be changed. This is defined in the feature spec [1].

In the case of having a multisegment network, the OVS agent RPC call
""get_network_details"" will return the following value:

  {
    ""network"": {
      ""updated_at"": ""2019-02-19T13:25:15Z"",
      ""revision_number"": 5,
      ""id"": ""ba973781-065b-4c69-9f07-a5c4f9a3b754"",
      ...
      ""segments"": [{
        ""provider:network_type"": ""vxlan"",
        ""provider:physical_network"": null,
        ""provider:segmentation_id"": 10041
      },
      {
        ""provider:network_type"": ""vxlan"",
        ""provider:physical_network"": null,
        ""provider:segmentation_id"": 10066
      }],
      ...
}

The provider network information will be contained inside the ""segments""
list, instead of being container in the parent ""network"" dictionary.

Closes-Bug: #1832745

[1]https://opendev.org/openstack/neutron-specs/src/branch/master/specs/stein/change-segmentation-id-vlan-provider-network.rst

Change-Id: I4fa37519bbf91e93ebd2f0e46e4d14edd40728fd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/666375/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,f501740d4d7735caef9c1fe1bc36e6d8e1f086d8,bug/1832745," def test__update_network_segmentation_id_multisegments(self): network = {'id': 'my-net-uuid', 'segments': [mock.ANY]} with mock.patch.object(self.agent.vlan_manager, 'get') as mock_get: self.agent._update_network_segmentation_id(network) mock_get.assert_not_called() ",,9,1
openstack%2Fproject-config~master~Ib9276c1ab7198b82bf1db70b1e6ef3888488742e,openstack/project-config,master,Ib9276c1ab7198b82bf1db70b1e6ef3888488742e,Create a repo for zuul-operator,ABANDONED,2019-03-06 19:26:04.000000000,2019-06-26 05:44:24.000000000,,"[{'_account_id': 1}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 19:26:04.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/38c5fd6d85c634c94b287ccc48ed797948d183b6', 'message': 'Create a repo for zuul-operator\n\nThe zuul team would like to make a kubernetes operator for Zuul\nas discussed in\nhttp://lists.zuul-ci.org/pipermail/zuul-discuss/2019-March/000791.html\n\nChange-Id: Ib9276c1ab7198b82bf1db70b1e6ef3888488742e\n'}]",0,641474,38c5fd6d85c634c94b287ccc48ed797948d183b6,7,3,1,2,,,0,"Create a repo for zuul-operator

The zuul team would like to make a kubernetes operator for Zuul
as discussed in
http://lists.zuul-ci.org/pipermail/zuul-discuss/2019-March/000791.html

Change-Id: Ib9276c1ab7198b82bf1db70b1e6ef3888488742e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/641474/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,38c5fd6d85c634c94b287ccc48ed797948d183b6,, - openstack-infra/zuul-operator,,9,0
openstack%2Fneutron-fwaas~master~Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,openstack/neutron-fwaas,master,Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c,Fix removing non-last port from the group,MERGED,2019-06-12 08:20:22.000000000,2019-06-26 05:29:36.000000000,2019-06-24 13:07:48.000000000,"[{'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 08:20:22.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/fbea371e652b6aa634c5c974b0a9c6ee4066e90a', 'message': 'Fix removing non-last port from the group\n\nWhen a firewall group has few ports, and some of those are removed\nthe status of the firewall group should not become INACTIVE\n\nChange-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c\nCloses-Bug: #1832450\n'}]",0,664825,fbea371e652b6aa634c5c974b0a9c6ee4066e90a,8,2,1,20363,,,0,"Fix removing non-last port from the group

When a firewall group has few ports, and some of those are removed
the status of the firewall group should not become INACTIVE

Change-Id: Ie3c0538ca31af9abb1b8c1cc5e4f6c3df9b16a1c
Closes-Bug: #1832450
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/25/664825/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py']",3,fbea371e652b6aa634c5c974b0a9c6ee4066e90a,," # Set last-port to True if there are no ports in the new group, # but the old group had ports fwg_with_rules['last-port'] = (old_firewall_group['ports'] and not(new_firewall_group['ports']))", fwg_with_rules['last-port'] = not ( set(new_firewall_group['ports']) - set(old_firewall_group['ports']) ),27,4
openstack%2Fnova~stable%2Fstein~Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb,openstack/nova,stable/stein,Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb,Always Set dhcp_server in network_info,ABANDONED,2019-06-25 11:50:42.000000000,2019-06-26 05:24:25.000000000,,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 11:50:42.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'releasenotes/notes/always-set-dhcp-server-if-enable-dhcp-b96bf720af235902.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/d74fc09fcc9024ace55281e27ce41542127b4bc5', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n(cherry picked from commit c7f572d65b57e034c1391ed49d84f6e5f1d672ad)\n'}]",0,667340,d74fc09fcc9024ace55281e27ce41542127b4bc5,10,6,1,11583,,,0,"Always Set dhcp_server in network_info

If enable_dhcp is set on subnet, but, for
some reason neutron did not have any DHCP port yet, we still
want the network_info to be populated with a valid dhcp_server
value. This is mostly useful for the metadata API (which is
relying on this value to give network_data to the instance).

This will also help some providers which are using external
DHCP servers not handled by neutron.
In this case, neutron will never create any DHCP port in the
subnet.

Also note that we cannot set the value to None because then the
value would be discarded by the metadata API.
So the subnet gateway will be used as fallback.

Change-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
(cherry picked from commit c7f572d65b57e034c1391ed49d84f6e5f1d672ad)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/667340/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'releasenotes/notes/always-set-dhcp-server-if-enable-dhcp-b96bf720af235902.yaml']",3,d74fc09fcc9024ace55281e27ce41542127b4bc5,dev/arnaud.morin/add_dhcp_even_without_port_upstream,--- features: - When ``enable_dhcp`` is set on a subnet but there is no DHCP port on neutron then the ``dhcp_server`` value in meta hash will contain the subnet gateway IP instead of being absent. ,,65,0
openstack%2Fopenstack-helm-infra~master~If73a5036c5e6a651393f81a136874b9e8a52b4f1,openstack/openstack-helm-infra,master,If73a5036c5e6a651393f81a136874b9e8a52b4f1,Add node selector to Ceph test pods,MERGED,2019-06-20 16:37:41.000000000,2019-06-26 05:18:12.000000000,2019-06-26 05:18:12.000000000,"[{'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-20 16:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1e7a634fdc1382fea6646ec51d5f8a191aea011', 'message': ""Add node selector to Ceph test pods\n\nThis PS looks to add a node selector into the Ceph test pod's\nspecs.\n\nChange-Id: If73a5036c5e6a651393f81a136874b9e8a52b4f1\n""}, {'number': 2, 'created': '2019-06-22 10:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d28b86325bce2d13178fd16b1382365cad4bb664', 'message': ""Add node selector to Ceph test pods\n\nThis PS looks to add a node selector into the Ceph test pod's\nspecs.\n\nChange-Id: If73a5036c5e6a651393f81a136874b9e8a52b4f1\n""}, {'number': 3, 'created': '2019-06-22 13:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7afed8bf0643dee8008f79b0b583a08627d96de5', 'message': ""Add node selector to Ceph test pods\n\nThis PS looks to add a node selector into the Ceph test pod's\nspecs.\n\nChange-Id: If73a5036c5e6a651393f81a136874b9e8a52b4f1\n""}, {'number': 4, 'created': '2019-06-24 17:41:09.000000000', 'files': ['ceph-provisioners/values.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-osd/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/083956e37b2e411aeed55789104e46396eba4d80', 'message': ""Add node selector to Ceph test pods\n\nThis PS looks to add a node selector into the Ceph test pod's\nspecs.\n\nChange-Id: If73a5036c5e6a651393f81a136874b9e8a52b4f1\n""}]",0,666636,083956e37b2e411aeed55789104e46396eba4d80,27,4,4,28275,,,0,"Add node selector to Ceph test pods

This PS looks to add a node selector into the Ceph test pod's
specs.

Change-Id: If73a5036c5e6a651393f81a136874b9e8a52b4f1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/666636/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-provisioners/values.yaml', 'ceph-osd/values.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-osd/templates/pod-helm-tests.yaml']",8,a1e7a634fdc1382fea6646ec51d5f8a191aea011,, nodeSelector: {{ .Values.labels.test.node_selector_key }}: {{ .Values.labels.test.node_selector_value }},,20,0
openstack%2Fopenstack-helm-infra~master~I6563104ded6631b63d9fced775b9b9dba7fd00ef,openstack/openstack-helm-infra,master,I6563104ded6631b63d9fced775b9b9dba7fd00ef,Gate: Store helm values for release,MERGED,2019-06-24 18:49:16.000000000,2019-06-26 05:14:26.000000000,2019-06-26 05:14:26.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-24 18:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9aedddf9f5c8c1eec1594df6b0feb91e57086528', 'message': 'Gate: Store helm values for release\n\nThis PS stores the applied helm values for releases in the gate.\n\nChange-Id: I6563104ded6631b63d9fced775b9b9dba7fd00ef\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-24 21:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c18918b5fb3224fa6502e63f7f91dfb30e267eb8', 'message': 'Gate: Store helm values for release\n\nThis PS stores the applied helm values for releases in the gate.\n\nChange-Id: I6563104ded6631b63d9fced775b9b9dba7fd00ef\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-25 18:54:09.000000000', 'files': ['roles/helm-release-status/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e80c7f8aac9c0c9f55fcaca1249cddf1c52cefb0', 'message': 'Gate: Store helm values for release\n\nThis PS stores the applied helm values for releases in the gate.\n\nChange-Id: I6563104ded6631b63d9fced775b9b9dba7fd00ef\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667178,e80c7f8aac9c0c9f55fcaca1249cddf1c52cefb0,16,5,3,23928,,,0,"Gate: Store helm values for release

This PS stores the applied helm values for releases in the gate.

Change-Id: I6563104ded6631b63d9fced775b9b9dba7fd00ef
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/78/667178/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/helm-release-status/tasks/main.yaml'],1,9aedddf9f5c8c1eec1594df6b0feb91e57086528,computed-values-dump," path: ""{{ logs_dir }}/helm/{{ directory }}"" loop_control: loop_var: directory with_items: - values - releases helm status {{ helm_released }} >> {{ logs_dir }}/helm/releases/{{ helm_release }}.txt helm get values {{ helm_released }} >> {{ logs_dir }}/helm/values/{{ helm_release }}.yaml"," path: ""{{ logs_dir }}/helm"" helm status {{ helm_released }} >> {{ logs_dir }}/helm/{{ helm_release }}.txt",8,2
openstack%2Fos-brick~stable%2Fstein~I02c208142f5b342f894666831449243863eccbfe,openstack/os-brick,stable/stein,I02c208142f5b342f894666831449243863eccbfe,FC: Ignore some HBAs from map for single WWNN,MERGED,2019-06-17 10:33:12.000000000,2019-06-26 04:55:14.000000000,2019-06-21 17:07:20.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 26077}, {'_account_id': 26233}]","[{'number': 1, 'created': '2019-06-17 10:33:12.000000000', 'files': ['releasenotes/notes/fc-always-check-single-wwnn-1595689da0eb673b.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1ee6acb509910d7de1213fb71cd0d6166991609a', 'message': ""FC: Ignore some HBAs from map for single WWNN\n\nCurrent FC OS-Brick code only checks for single WWNN to exclude some\nHBAs from scanning when we don't receive an initiator_target_map from\nthe backend.\n\nThere are storage arrays,like XtremIO, that due to their architecture\nand design have all target ports automatically mapped to LUNs and are\nreturning the initiator_target_map, but some of those ports may not be\nconnected to our HBAs, so we end up with another case of bug #1765000.\n\nThis patch makes sure that we always check if the target implements\nsingle WWNN, not only when we don't receive the initiator_target_map.\n\nWith this we decrease the likelihood of ending with unexpected devices\nin our system, because now we will ignore unconnected HBAs (even if\nreported in the initiator_target_map) if we are working with single WWNN\ntarget.\n\nRelated-Bug: #1765000\nCloses-Bug: #1828440\nChange-Id: I02c208142f5b342f894666831449243863eccbfe\n(cherry picked from commit 70899a9aa3e4bdd3f1b1a7024807390cd55c4958)\n""}]",0,665641,1ee6acb509910d7de1213fb71cd0d6166991609a,13,9,1,21570,,,0,"FC: Ignore some HBAs from map for single WWNN

Current FC OS-Brick code only checks for single WWNN to exclude some
HBAs from scanning when we don't receive an initiator_target_map from
the backend.

There are storage arrays,like XtremIO, that due to their architecture
and design have all target ports automatically mapped to LUNs and are
returning the initiator_target_map, but some of those ports may not be
connected to our HBAs, so we end up with another case of bug #1765000.

This patch makes sure that we always check if the target implements
single WWNN, not only when we don't receive the initiator_target_map.

With this we decrease the likelihood of ending with unexpected devices
in our system, because now we will ignore unconnected HBAs (even if
reported in the initiator_target_map) if we are working with single WWNN
target.

Related-Bug: #1765000
Closes-Bug: #1828440
Change-Id: I02c208142f5b342f894666831449243863eccbfe
(cherry picked from commit 70899a9aa3e4bdd3f1b1a7024807390cd55c4958)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/41/665641/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fc-always-check-single-wwnn-1595689da0eb673b.yaml', 'os_brick/initiator/linuxfc.py', 'os_brick/tests/initiator/test_linuxfc.py']",3,1ee6acb509910d7de1213fb71cd0d6166991609a,," def test_rescan_hosts_initiator_map_single_wwnn(self): """"""Test FC rescan with initiator map and single WWNN."""""" get_chan_results = [[['2', '3', 1], ['4', '5', 1]], [['-', '-', 1]]] hbas, con_props = self.__get_rescan_info(zone_manager=True) with mock.patch.object(self.lfc, '_execute', return_value=None) as execute_mock, \ mock.patch.object(self.lfc, '_get_hba_channel_scsi_target', side_effect=get_chan_results) as mock_get_chan: self.lfc.rescan_hosts(hbas, con_props) expected_commands = [ mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='2 3 1', root_helper=None, run_as_root=True), mock.call('tee', '-a', '/sys/class/scsi_host/host6/scan', process_input='4 5 1', root_helper=None, run_as_root=True)] execute_mock.assert_has_calls(expected_commands) self.assertEqual(len(expected_commands), execute_mock.call_count) expected_calls = [mock.call(hbas[0], con_props), mock.call(hbas[1], con_props)] mock_get_chan.assert_has_calls(expected_calls) ",,56,19
openstack%2Fbashate~master~Ic30124b56688b4ecfa3b0402a56667259b59f6f5,openstack/bashate,master,Ic30124b56688b4ecfa3b0402a56667259b59f6f5,Update to opendev,MERGED,2019-04-23 07:47:10.000000000,2019-06-26 04:32:27.000000000,2019-06-26 04:32:27.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-23 07:47:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/bashate/commit/b9f61c703cf1a6c06ff512c098dd73d834b46166', 'message': 'Update to opendev\n\nChange-Id: Ic30124b56688b4ecfa3b0402a56667259b59f6f5\n'}]",0,654816,b9f61c703cf1a6c06ff512c098dd73d834b46166,6,2,1,26584,,,0,"Update to opendev

Change-Id: Ic30124b56688b4ecfa3b0402a56667259b59f6f5
",git fetch https://review.opendev.org/openstack/bashate refs/changes/16/654816/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b9f61c703cf1a6c06ff512c098dd73d834b46166,,- Source: https://opendev.org/openstack/bashate/,- Source: https://git.openstack.org/cgit/openstack-dev/bashate,1,1
openstack%2Fbashate~master~If032e7a345d5a612fbaaa6850e880c2a8601e718,openstack/bashate,master,If032e7a345d5a612fbaaa6850e880c2a8601e718,Remove pylintrc file,MERGED,2019-06-26 01:43:44.000000000,2019-06-26 04:31:07.000000000,2019-06-26 04:31:07.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 01:43:44.000000000', 'files': ['pylintrc'], 'web_link': 'https://opendev.org/openstack/bashate/commit/e82b4e13371be91e869778651e8f2feb6955f26b', 'message': ""Remove pylintrc file\n\nThis commit removes the pylintrc file. The pylint requirement was\nremoved 4 years ago[0] and we don't use it now. So, we can remove this\nrc file safely.\n\n[0] https://review.opendev.org/#/c/150816/\n\nChange-Id: If032e7a345d5a612fbaaa6850e880c2a8601e718\n""}]",0,667486,e82b4e13371be91e869778651e8f2feb6955f26b,6,2,1,5689,,,0,"Remove pylintrc file

This commit removes the pylintrc file. The pylint requirement was
removed 4 years ago[0] and we don't use it now. So, we can remove this
rc file safely.

[0] https://review.opendev.org/#/c/150816/

Change-Id: If032e7a345d5a612fbaaa6850e880c2a8601e718
",git fetch https://review.opendev.org/openstack/bashate refs/changes/86/667486/1 && git format-patch -1 --stdout FETCH_HEAD,['pylintrc'],1,e82b4e13371be91e869778651e8f2feb6955f26b,remove-pylintrc,,"# The format of this file isn't really documented; just use --generate-rcfile [Messages Control] # C0111: Don't require docstrings on every method # W0511: TODOs in code comments are fine. # W0142: *args and **kwargs are fine. # W0622: Redefining id is fine. disable=C0111,W0511,W0142,W0622 [Basic] # Variable names can be 1 to 31 characters long, with lowercase and underscores variable-rgx=[a-z_][a-z0-9_]{0,30}$ # Argument names can be 2 to 31 characters long, with lowercase and underscores argument-rgx=[a-z_][a-z0-9_]{1,30}$ # Method names should be at least 3 characters long # and be lowercased with underscores method-rgx=([a-z_][a-z0-9_]{2,50}|setUp|tearDown)$ [Design] max-public-methods=100 min-public-methods=0 max-args=6 [Variables] # List of additional names supposed to be defined in builtins. Remember that # you should avoid to define new builtins when possible. # _ is used by our localization additional-builtins=_ ",0,31
openstack%2Fmistral-dashboard~master~I9ae90abc4945b6600582a443a2726cfc405b1084,openstack/mistral-dashboard,master,I9ae90abc4945b6600582a443a2726cfc405b1084,Modify the name of action_executions panel,MERGED,2019-06-26 02:49:41.000000000,2019-06-26 04:02:10.000000000,2019-06-26 04:02:09.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2019-06-26 02:49:41.000000000', 'files': ['mistraldashboard/action_executions/panel.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/5d1f9ab4c0ecadb05a4d7bb95e51060e469e18f9', 'message': 'Modify the name of action_executions panel\n\nChange-Id: I9ae90abc4945b6600582a443a2726cfc405b1084\n'}]",0,667495,5d1f9ab4c0ecadb05a4d7bb95e51060e469e18f9,6,7,1,27822,,,0,"Modify the name of action_executions panel

Change-Id: I9ae90abc4945b6600582a443a2726cfc405b1084
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/95/667495/1 && git format-patch -1 --stdout FETCH_HEAD,['mistraldashboard/action_executions/panel.py'],1,5d1f9ab4c0ecadb05a4d7bb95e51060e469e18f9,,class ActionExecutions(horizon.Panel):dashboard.MistralDashboard.register(ActionExecutions),class Tasks(horizon.Panel):dashboard.MistralDashboard.register(Tasks),2,2
openstack%2Fneutron-lbaas~stable%2Fqueens~I73d1824265cad4d24535d3a15b263491f12fde56,openstack/neutron-lbaas,stable/queens,I73d1824265cad4d24535d3a15b263491f12fde56,Remove DDT tests from tempest plugin,MERGED,2019-06-14 18:11:20.000000000,2019-06-26 04:01:05.000000000,2019-06-26 04:01:05.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 18:11:20.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/ddt/test_health_monitor_admin_state_up.py', 'neutron_lbaas/tests/tempest/v2/ddt/test_listeners_admin_state.py', 'neutron_lbaas/tests/tempest/v2/ddt/base_ddt.py', 'neutron_lbaas/tests/tempest/v2/ddt/__init__.py', 'neutron_lbaas/tests/tempest/v2/ddt/test_members_admin_state_up.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/fae9d93e0be3aa50e1d28a484139e0559716b33d', 'message': 'Remove DDT tests from tempest plugin\n\nThe DDT tests were removed from neutron-lbaas in Rocky[1] as part\nof another patch.\nThe gates have not run these tests since, at the latest, Mitaka\nand they were never stable.\nThis patch is a ""backport"" of the removal of these non-functional\ntests.\n\n[1] https://review.opendev.org/#/c/561049/\n\nChange-Id: I73d1824265cad4d24535d3a15b263491f12fde56\n'}]",0,665444,fae9d93e0be3aa50e1d28a484139e0559716b33d,53,4,1,11628,,,0,"Remove DDT tests from tempest plugin

The DDT tests were removed from neutron-lbaas in Rocky[1] as part
of another patch.
The gates have not run these tests since, at the latest, Mitaka
and they were never stable.
This patch is a ""backport"" of the removal of these non-functional
tests.

[1] https://review.opendev.org/#/c/561049/

Change-Id: I73d1824265cad4d24535d3a15b263491f12fde56
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/44/665444/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/tempest/v2/ddt/test_health_monitor_admin_state_up.py', 'neutron_lbaas/tests/tempest/v2/ddt/test_listeners_admin_state.py', 'neutron_lbaas/tests/tempest/v2/ddt/base_ddt.py', 'neutron_lbaas/tests/tempest/v2/ddt/__init__.py', 'neutron_lbaas/tests/tempest/v2/ddt/test_members_admin_state_up.py']",5,fae9d93e0be3aa50e1d28a484139e0559716b33d,,,"# Copyright 2015 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config import testscenarios from neutron_lbaas.tests.tempest.v2.ddt import base_ddt CONF = config.CONF """""" Tests the following operations in the Neutron-LBaaS API using the REST client with various combinations of values for the admin_state_up field of lb, listener, pool and member. create member update member """""" # set up the scenarios scenario_lb_T = ('lb_T', {'lb_flag': True}) scenario_lb_F = ('lb_F', {'lb_flag': False}) scenario_listener_T = ('listener_T', {'listener_flag': True}) scenario_listener_F = ('listener_F', {'listener_flag': False}) scenario_pool_T = ('pool_T', {'pool_flag': True}) scenario_pool_F = ('pool_F', {'pool_flag': False}) scenario_member_T = ('member_T', {'member_flag': True}) scenario_member_F = ('member_F', {'member_flag': False}) scenario_mem_to_flag_T = ('member_to_flag_T', {'member_to_flag': True}) scenario_mem_to_flag_F = ('member_to_flag_F', {'member_to_flag': False}) # The following command creates 16 unique scenarios scenario_create_member = testscenarios.multiply_scenarios( [scenario_lb_T, scenario_lb_F], [scenario_listener_T, scenario_listener_F], [scenario_pool_T, scenario_pool_F], [scenario_member_T, scenario_member_F]) # The following command creates 32 unique scenarios scenario_update_member = testscenarios.multiply_scenarios( [scenario_mem_to_flag_T, scenario_mem_to_flag_F], scenario_create_member) class CreateMemberAdminStateTests(base_ddt.AdminStateTests): scenarios = scenario_create_member @classmethod def resource_setup(cls): super(CreateMemberAdminStateTests, cls).resource_setup() @classmethod def resource_cleanup(cls): super(CreateMemberAdminStateTests, cls).resource_cleanup() def setUp(self): """"""Set up load balancer, listener, pool and member."""""" super(CreateMemberAdminStateTests, self).setUp() self.resource_setup_load_balancer(self.lb_flag) self.addCleanup(self._delete_load_balancer, self.load_balancer_id) self.resource_setup_listener(self.listener_flag) self.addCleanup(self._delete_listener, self.listener_id) self.resource_setup_pool(self.pool_flag) self.addCleanup(self._delete_pool, self.pool_id) self.resource_setup_member(self.member_flag) self.addCleanup(self._delete_member, self.pool_id, self.member_id) @classmethod def resource_setup_load_balancer(cls, admin_state_up_flag): (super(CreateMemberAdminStateTests, cls). resource_setup_load_balancer(admin_state_up_flag)) @classmethod def resource_setup_listener(cls, admin_state_up_flag): (super(CreateMemberAdminStateTests, cls). resource_setup_listener(admin_state_up_flag)) @classmethod def resource_setup_pool(cls, admin_state_up_flag): (super(CreateMemberAdminStateTests, cls). resource_setup_pool(admin_state_up_flag)) @classmethod def resource_setup_member(cls, admin_state_up_flag): (super(CreateMemberAdminStateTests, cls). resource_setup_member(admin_state_up_flag)) def test_create_member_with_admin_state_up(self): """"""Test create a member. """""" self.check_operating_status() class UpdateMemberAdminStateTests(base_ddt.AdminStateTests): scenarios = scenario_update_member @classmethod def resource_setup(cls): super(UpdateMemberAdminStateTests, cls).resource_setup() @classmethod def resource_cleanup(cls): super(UpdateMemberAdminStateTests, cls).resource_cleanup() def setUp(self): """"""Set up load balancer, listener, pool and member resources."""""" super(UpdateMemberAdminStateTests, self).setUp() self.resource_setup_load_balancer(self.lb_flag) self.addCleanup(self._delete_load_balancer, self.load_balancer_id) self.resource_setup_listener(self.listener_flag) self.addCleanup(self._delete_listener, self.listener_id) self.resource_setup_pool(self.pool_flag) self.addCleanup(self._delete_pool, self.pool_id) self.resource_setup_member(self.member_flag) self.addCleanup(self._delete_member, self.pool_id, self.member_id) @classmethod def resource_setup_load_balancer(cls, admin_state_up_flag): (super(UpdateMemberAdminStateTests, cls). resource_setup_load_balancer(admin_state_up_flag)) @classmethod def resource_setup_listener(cls, admin_state_up_flag): (super(UpdateMemberAdminStateTests, cls). resource_setup_listener(admin_state_up_flag)) @classmethod def resource_setup_pool(cls, admin_state_up_flag): (super(UpdateMemberAdminStateTests, cls). resource_setup_pool(admin_state_up_flag)) @classmethod def resource_setup_member(cls, admin_state_up_flag): (super(UpdateMemberAdminStateTests, cls). resource_setup_member(admin_state_up_flag)) def test_update_member_with_admin_state_up(self): """"""Test update a member. """""" self.create_member_kwargs = {'admin_state_up': self.member_to_flag} self.member = self._update_member(self.pool_id, self.member_id, **self.create_member_kwargs) self.check_operating_status() ",0,672
openstack%2Ftripleo-common~stable%2Fqueens~I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,openstack/tripleo-common,stable/queens,I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b,Fix regression in validation action,MERGED,2019-06-24 15:26:41.000000000,2019-06-26 03:50:11.000000000,2019-06-26 00:49:14.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-24 15:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0746950f995839253762b6bc374be6bcebedc96f', 'message': 'Fix regression in validation action\n\nRegression with https://review.opendev.org/#/c/656379/\n\nStack is dict rather than a python object\n\nChange-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b\nCloses-Bug: #1834054\nRelated-Bug: #1826925\n'}, {'number': 2, 'created': '2019-06-25 10:02:44.000000000', 'files': ['tripleo_common/actions/validations.py', 'tripleo_common/tests/actions/test_validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/19148898aabc58afb7c93957676c6cf408d0f962', 'message': 'Fix regression in validation action\n\nRegression with https://review.opendev.org/#/c/656379/\n\nself.stack is dict rather than a python object from action\nheat.stacks_get  and is an input to this action.\n\nChange-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b\nCloses-Bug: #1834054\nRelated-Bug: #1826925\n'}]",1,667134,19148898aabc58afb7c93957676c6cf408d0f962,19,6,2,8833,,,0,"Fix regression in validation action

Regression with https://review.opendev.org/#/c/656379/

self.stack is dict rather than a python object from action
heat.stacks_get  and is an input to this action.

Change-Id: I92c9d0bb5ddac5b8a887a3acf3fc3314aab5867b
Closes-Bug: #1834054
Related-Bug: #1826925
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/667134/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/validations.py'],1,0746950f995839253762b6bc374be6bcebedc96f,bug/1834054, if self.stack and self.stack['status'] != 'FAILED':, if self.stack and self.stack.status != 'FAILED':,1,1
openstack%2Ftripleo-heat-templates~master~Idabfec5f568a4e02900d103d23f4cb3c199e84c9,openstack/tripleo-heat-templates,master,Idabfec5f568a4e02900d103d23f4cb3c199e84c9,Replace /var/log/containers/swift symlink with directories,MERGED,2019-06-24 03:28:25.000000000,2019-06-26 03:49:46.000000000,2019-06-25 18:53:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-24 03:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5ed3377978f7f4a10fc2f699497c759e828351a', 'message': 'Replace /var/log/conatiners/swift symlink with directories\n\nOne we remove those symlinks in update_staks, host_prep_tasks\nwould create those directories.\n\nAssuming that minor update runs before upgrades, this should\ntake care of those.\n\nChange-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9\nRelated-Bug: #1833690\n'}, {'number': 2, 'created': '2019-06-24 06:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9852ce557f0221273f35793d0e790f8dd6daf46a', 'message': 'Replace /var/log/conatiners/swift symlink with directories\n\nOne we remove those symlinks in update_staks, host_prep_tasks\nwould create those directories.\n\nAssuming that minor update runs before upgrades, this should\ntake care of those.\n\nChange-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9\nRelated-Bug: #1833690\n'}, {'number': 3, 'created': '2019-06-24 10:48:33.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90d05216b96adaf93dcf36680954328ed1cb053d', 'message': 'Replace /var/log/containers/swift symlink with directories\n\nOnce we remove the symlinks in update_staks, host_prep_tasks\nwould create those directories.\n\nAssuming that minor update runs before upgrades, this should\ntake care of upgrades too.\n\nChange-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9\nRelated-Bug: #1833690\n'}]",5,667005,90d05216b96adaf93dcf36680954328ed1cb053d,26,10,3,8833,,,0,"Replace /var/log/containers/swift symlink with directories

Once we remove the symlinks in update_staks, host_prep_tasks
would create those directories.

Assuming that minor update runs before upgrades, this should
take care of upgrades too.

Change-Id: Idabfec5f568a4e02900d103d23f4cb3c199e84c9
Related-Bug: #1833690
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/667005/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,a5ed3377978f7f4a10fc2f699497c759e828351a,bug/1833690, update_tasks: - name: Check swift containers log folder exists stat: path = /var/log/containers/swift register: swfit_log_link - name: Delete if symlink file: path: /var/log/containers/swift state: absent when: swift_log_link.stat.islnk is defined and swift_log_lik.stat.islnk,,17,0
openstack%2Fopenstack-helm-infra~master~Id9d735310c53a922a62c6a82121edd332e7df724,openstack/openstack-helm-infra,master,Id9d735310c53a922a62c6a82121edd332e7df724,Fluentd: Update Clusterrole verbs,MERGED,2019-06-25 18:18:22.000000000,2019-06-26 01:55:47.000000000,2019-06-26 01:55:47.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-25 18:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0aab4125f055561eac1b89a15930832adb5d755b', 'message': 'Fluentd: Update Clusterrole verbs\n\nThis updates the Fluentd clusterrole to allow for getting\nnamespaces, as this is required for the fluentd kubernetes\nplugin to function correctly\n\nChange-Id: Id9d735310c53a922a62c6a82121edd332e7df724\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-25 21:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21ece00af802a06228d3535b4803e08bf891cb4b', 'message': 'Fluentd: Update Clusterrole verbs\n\nThis updates the Fluentd clusterrole to allow for getting\nnamespaces, as this is required for the fluentd kubernetes\nplugin to function correctly\n\nChange-Id: Id9d735310c53a922a62c6a82121edd332e7df724\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-25 21:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/315001eec133c45e123522f71adae4e0de3fb6a7', 'message': 'Fluentd: Update Clusterrole verbs\n\nThis updates the Fluentd clusterrole to allow for getting\nnamespaces, as this is required for the fluentd kubernetes\nplugin to function correctly\n\nChange-Id: Id9d735310c53a922a62c6a82121edd332e7df724\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-06-25 23:31:19.000000000', 'files': ['fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29fc716cf3ff636a66944903fbbe9bd3f921e22f', 'message': 'Fluentd: Update Clusterrole verbs\n\nThis updates the Fluentd clusterrole to allow for getting\nnamespaces, as this is required for the fluentd kubernetes\nplugin to function correctly\n\nChange-Id: Id9d735310c53a922a62c6a82121edd332e7df724\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667428,29fc716cf3ff636a66944903fbbe9bd3f921e22f,16,5,4,17591,,,0,"Fluentd: Update Clusterrole verbs

This updates the Fluentd clusterrole to allow for getting
namespaces, as this is required for the fluentd kubernetes
plugin to function correctly

Change-Id: Id9d735310c53a922a62c6a82121edd332e7df724
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/28/667428/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/deployment-fluentd.yaml'],1,0aab4125f055561eac1b89a15930832adb5d755b,fluentd-rbac, - get,,1,0
openstack%2Fnova-specs~master~I60b16eee2f03a78382b735ccad588d0d619e7693,openstack/nova-specs,master,I60b16eee2f03a78382b735ccad588d0d619e7693,"add spec ""show-server-numa-topology""",MERGED,2019-05-13 02:31:42.000000000,2019-06-26 01:55:12.000000000,2019-06-25 14:18:20.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 7543}, {'_account_id': 8768}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23157}, {'_account_id': 26936}, {'_account_id': 28715}]","[{'number': 1, 'created': '2019-05-13 02:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1516bc3dc57d5ebaed0f96d2b791395a3f4ecf5e', 'message': 'add spec ""show-server-numa-topology""\n\nThis spec present numa information in server diagnostic API.\n\nAPIImpact\nbp: show-server-numa-topology\n\nChange-Id: I60b16eee2f03a78382b735ccad588d0d619e7693\n'}, {'number': 2, 'created': '2019-05-22 07:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ec665caf0d2c0ed5dc9f9df9b65b45454e555280', 'message': 'add spec ""show-server-numa-topology""\n\nThis spec present numa information in server diagnostic API.\n\nAPIImpact\nbp: show-server-numa-topology\n\nChange-Id: I60b16eee2f03a78382b735ccad588d0d619e7693\n'}, {'number': 3, 'created': '2019-05-29 07:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8323de3fe1e588eb6fceaef439ad4e652349a222', 'message': 'add spec ""show-server-numa-topology""\n\nThis spec present numa information in server diagnostic API.\n\nAPIImpact\nbp: show-server-numa-topology\n\nChange-Id: I60b16eee2f03a78382b735ccad588d0d619e7693\n'}, {'number': 4, 'created': '2019-05-31 01:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c1b86fa62c3011330785599c387ad276f8df5235', 'message': 'add spec ""show-server-numa-topology""\n\nThis spec present numa information in server diagnostic API.\n\nAPIImpact\nbp: show-server-numa-topology\n\nChange-Id: I60b16eee2f03a78382b735ccad588d0d619e7693\n'}, {'number': 5, 'created': '2019-06-18 07:45:09.000000000', 'files': ['specs/train/approved/show-server-numa-topology.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1b0f39002cb9e35bd2d3e64def0ab806197de8a7', 'message': 'add spec ""show-server-numa-topology""\n\nThis spec present numa information in server diagnostic API.\n\nAPIImpact\nbp: show-server-numa-topology\n\nChange-Id: I60b16eee2f03a78382b735ccad588d0d619e7693\n'}]",70,658716,1b0f39002cb9e35bd2d3e64def0ab806197de8a7,34,11,5,7543,,,0,"add spec ""show-server-numa-topology""

This spec present numa information in server diagnostic API.

APIImpact
bp: show-server-numa-topology

Change-Id: I60b16eee2f03a78382b735ccad588d0d619e7693
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/16/658716/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/show-server-numa-topology.rst'],1,1516bc3dc57d5ebaed0f96d2b791395a3f4ecf5e,bp/show-server-numa-topology,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================= Show server numa topology ========================= Add NUMA into new sub-resource ``GET /servers/{server_id}/topology`` API. https://blueprints.launchpad.net/nova/+spec/show-server-numa-topology Problem description =================== There is server-related NUMA information that is useful to both end user and Admin but currently there is no available API to retrieve that information. The APIs ``GET /servers`` and ``GET /servers/{id}`` can list extra specs which may contain some hints about the guest numa topology but it is not easy to interpret. Use Cases --------- * The admin wants to see the topology (RAM, CPU) without logging in to the guest VM. * The admin wants a unified way to get topology information, independent of how the various gest OSes expose it. * The admin wants to know the virtual-to-physical mapping for one or more instances for the purpose of debugging, and admin need make sure the NUMA topology is what it's supposed to be, and is correctly mapped onto Host. * The end user could have all of above abilities if admin alows them by change policy rule. Proposed change =============== In nova, NUMA topology contains group of related properties, like the amount of memory managed by a NUMA cell, the list of memory page sizes supported on the NUMA cell,the vCPU thread to logical host processor mapping. This spec proposes an API to present all this NUMA information, including the virtual-to-physical mapping. This spec proposes a new sub-resource 'topology' to servers API: ``GET /servers/{server_id}/topology`` This API is admin only by default, it could be exposed to users/roles by changing the default policy rule. API returns each cell's information belonging to one server, including cpu, thread, mem, page size, cpuset, siblings, CPU pinning, host NUMA node number. If there is no NUMA information available, the corresponding key's value will simply be set to None. Alternatives ------------ Instead of put these information into ``GET /servers/{server_id}/topology``, there are other 2 options: * add NUMA information into existed sub-resource ``diagnostics``: ``GET /servers/{server_id}/diagnostics`` returns the NUMA information for one server. As NUMA toplogy does not change for given server, it's better put under new ``topology`` sub-resource. * put the NUMA information under ``GET /servers/{id}`` and ``GET /servers/detail``. This would negatively affect performance as it needs an additional database query (via the ``InstanceNUMATopology`` object's ``get_by_instance_uuid`` method). Data model impact ----------------- None REST API impact --------------- API ``GET /servers/{server_id}/topology`` will show NUMA information with a new microversion. The returned information for NUMA topology:: { # overall policy: TOPOLOGY % 'index ""nodes"":[ { # Host Numa Node # control by policy TOPOLOGY % 'index:host_info' ""host_numa_node"": 3, # 0:5 means vcpu 0 pinning to pcpu 5 # control by policy TOPOLOGY % 'index:host_info' ""cpu_pinning"": {0:5, 1:6}, ""vcpu_set"": [0,1,2,3], ""siblings"": [[0,1],[2,3]], ""memory_mb"": 1024, ""pagesize_kb"": 4096, ""cores"": 2, # one core has at least one thread ""threads"": 2 } ... ], # nodes } Security impact --------------- * These information exposed by this API is admin only by default, and fine control policy ``TOPOLOGY % 'index:host_info'`` use to keep host only information to admin while this API expose to end user. * Add new ``topology`` policy, admin only by default: .. code-block:: python TOPOLOGY = 'os_compute_api:servers:topology:%s' server_topology_policies = [ policy.DocumentedRuleDefault( BASE_POLICY_NAME, base.RULE_ADMIN_API, ""Show the topology data for a server"", [ { 'method': 'GET', 'path': '/servers/{server_id}/topology' } ]), policy.DocumentedRuleDefault( # control host numa node and cpu pin information TOPOLOGY % 'index:host_info', base.RULE_ADMIN_API, ""List all servers with detailed information"", [ { 'method': 'GET', 'path': '/servers/{server_id}/topology' } ]), ] Notifications impact -------------------- N/A Other end user impact --------------------- * python novaclient and python-openstackclient would display numa_topology information. Performance Impact ------------------ None Other deployer impact --------------------- N/A Developer impact ---------------- N/A Upgrade impact -------------- N/A Implementation ============== Assignee(s) ----------- Primary assignee: Yongli He Work Items ---------- * Add new microversion for this change. Dependencies ============ N/A Testing ======= * Add functional api_sample tests. Documentation Impact ==================== The API document should be changed to introduce this new feature. References ========== * Stein PTG discussion:https://etherpad.openstack.org/p/nova-ptg-stein * Mailing list discussion: http://lists.openstack.org/pipermail/openstack-discuss/2018-December/001070.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Version * - Stein - First Introduced ",,240,0
openstack%2Fnova~master~I071ac917d192d0dd70eaf78a22d2716ecb648eb4,openstack/nova,master,I071ac917d192d0dd70eaf78a22d2716ecb648eb4,hacking: Resolve E741 (ambiguous variable name),MERGED,2019-04-12 16:06:38.000000000,2019-06-26 01:31:24.000000000,2019-06-26 01:31:23.000000000,"[{'_account_id': 4393}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-12 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcf0f61e9d2e7fa54a6dd129fdb931bccce869ee', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-04-15 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd18e8e7ba52c2a21098c99a0404cff03aa1ff4', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-05-20 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f3d1883c0af0559cbfae71d44d2b93b61ac659', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-05-29 16:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5edf52bd9eabc8d477c28e526fc50e1c98c5629', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-06-13 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/083410d222c1fe65cb7a761a82f0dee68f2e6b5d', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-06-17 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3224f0e284f68c7ef189a4fadbdc0b22b6c12826', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-06-21 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46f5c2025300a199fad34246c2ea207c6c19cc5c', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2019-06-24 10:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b5c0ddb5a4b820d5b0b29ab429f796c6a9abd42', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2019-06-24 19:24:14.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'tox.ini', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97b769ef536f4ba496e845f43c79a7f0655a17d3', 'message': 'hacking: Resolve E741 (ambiguous variable name)\n\nChange-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,652103,97b769ef536f4ba496e845f43c79a7f0655a17d3,84,16,9,15334,,,0,"hacking: Resolve E741 (ambiguous variable name)

Change-Id: I071ac917d192d0dd70eaf78a22d2716ecb648eb4
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/652103/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/virt/disk/mount/test_loop.py', 'tox.ini', 'nova/cells/filters/image_properties.py', 'nova/tests/unit/api/openstack/compute/test_server_external_events.py']",5,fcf0f61e9d2e7fa54a6dd129fdb931bccce869ee,hacking-update, return objects.InstanceList(objects=[, l = objects.InstanceList(objects=[ return l,35,36
openstack%2Fnova~master~I6381365ff882cf23808e8dabfce41143c5e35192,openstack/nova,master,I6381365ff882cf23808e8dabfce41143c5e35192,hacking: Resolve W503 (line break occurred before a binary operator),MERGED,2019-04-10 14:26:02.000000000,2019-06-26 01:31:16.000000000,2019-06-26 01:31:16.000000000,"[{'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-10 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce922217e4959a44cb7e03bb46d58d61039f1163', 'message': 'hacking: Resolve W503 issues\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-04-12 09:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfb123c4a70d9f506b854d1764457ee304786f62', 'message': 'hacking: Resolve W503 issues\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-04-12 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e90415a2bc2ca868f572ec742019e7a9abebbbc2', 'message': 'hacking: Resolve W503 issues\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-04-15 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4adc763c5bfce5ac673acf06e9f8d61a88d9db7a', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-05-20 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f370f11e34311c3a6b4a45eb1186112ee7e00bf1', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2019-05-29 16:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69343f834aab1f92520fd19f89f40835a33dd99d', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2019-06-13 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fbfafa3397d9ef488ef833c91c72fda7718c734', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2019-06-17 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af93bfab6aab0230c13741875ca0928d83307320', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2019-06-21 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f362d513d22874e7bf5c091f08f9e02063f480f6', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 10, 'created': '2019-06-24 10:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93485b1d18e96d1e3be8ccbe0d755fa674278067', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 11, 'created': '2019-06-24 19:24:14.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/compute/monitors/cpu/virt_driver.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/virt/libvirt/guest.py', 'nova/notifications/base.py', 'nova/objects/build_request.py', 'nova/objects/compute_node.py', 'nova/compute/manager.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/xenapi/driver.py', 'nova/api/metadata/base.py', 'nova/objects/image_meta.py', 'nova/tests/functional/test_servers.py', 'tox.ini', 'nova/compute/resource_tracker.py', 'nova/scheduler/host_manager.py', 'nova/virt/block_device.py', 'nova/tests/unit/db/fakes.py', 'nova/tests/unit/network/test_linux_net.py', 'nova/scheduler/weights/cpu.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/api/openstack/compute/shelve.py', 'nova/virt/libvirt/host.py', 'nova/objects/instance_mapping.py', 'nova/objects/instance_numa_topology.py', 'nova/image/glance.py', 'nova/api/openstack/compute/aggregates.py', 'nova/scheduler/client/report.py', 'nova/network/linux_net.py', 'nova/network/security_group/security_group_base.py', 'nova/conf/network.py', 'nova/network/neutronv2/api.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/compute/api.py', 'nova/network/security_group/neutron_driver.py', 'nova/virt/disk/api.py', 'nova/api/openstack/compute/servers.py', 'nova/objects/request_spec.py', 'nova/api/openstack/urlmap.py', 'nova/virt/hardware.py', 'nova/tests/unit/fake_instance.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/231908a7f42b8329a58e62c8a89204fdeaa16dca', 'message': 'hacking: Resolve W503 (line break occurred before a binary operator)\n\nChange-Id: I6381365ff882cf23808e8dabfce41143c5e35192\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,651555,231908a7f42b8329a58e62c8a89204fdeaa16dca,143,17,11,15334,,,0,"hacking: Resolve W503 (line break occurred before a binary operator)

Change-Id: I6381365ff882cf23808e8dabfce41143c5e35192
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/651555/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/compute/monitors/cpu/virt_driver.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/virt/libvirt/guest.py', 'nova/db/sqlalchemy/api.py', 'nova/notifications/base.py', 'nova/objects/build_request.py', 'nova/objects/compute_node.py', 'nova/compute/manager.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/api/openstack/placement/objects/resource_provider.py', 'nova/api/openstack/placement/requestlog.py', 'nova/virt/xenapi/driver.py', 'nova/api/metadata/base.py', 'nova/objects/image_meta.py', 'nova/tests/functional/test_servers.py', 'tox.ini', 'nova/compute/resource_tracker.py', 'nova/scheduler/host_manager.py', 'nova/virt/block_device.py', 'nova/tests/unit/db/fakes.py', 'nova/tests/unit/network/test_linux_net.py', 'nova/scheduler/weights/cpu.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/api/openstack/compute/shelve.py', 'nova/virt/libvirt/host.py', 'nova/objects/instance_mapping.py', 'nova/objects/instance_numa_topology.py', 'nova/image/glance.py', 'nova/api/openstack/compute/aggregates.py', 'nova/scheduler/client/report.py', 'nova/network/linux_net.py', 'nova/network/security_group/security_group_base.py', 'nova/conf/network.py', 'nova/network/neutronv2/api.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/compute/api.py', 'nova/network/security_group/neutron_driver.py', 'nova/virt/disk/api.py', 'nova/api/openstack/compute/servers.py', 'nova/objects/request_spec.py', 'nova/api/openstack/urlmap.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/virt/hardware.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/tests/unit/scheduler/test_scheduler_utils.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",52,ce922217e4959a44cb7e03bb46d58d61039f1163,hacking-update, fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_REUSE_EXT | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_DISK_ONLY | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_NO_METADATA | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_QUIESCE)), fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_REUSE_EXT | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_DISK_ONLY | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_NO_METADATA | fakelibvirt.VIR_DOMAIN_SNAPSHOT_CREATE_QUIESCE)),191,189
openstack%2Fdiskimage-builder~master~Ie3b2e31833423ae8658861e8cc85300d45882f8e,openstack/diskimage-builder,master,Ie3b2e31833423ae8658861e8cc85300d45882f8e,Move existing Zuul project config to projects.yaml,MERGED,2019-06-24 20:41:02.000000000,2019-06-26 00:45:35.000000000,2019-06-26 00:45:35.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 20:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5568de449e00f9d211d4cc76ea11a0a4c1afe7be', 'message': 'Move existing Zuul project config to projects.yaml\n\nThere was a project stanza in zuul.d/jobs.yaml which was unexpected.\nMove it to projects.yaml and combine it with the one just added.\n\nChange-Id: Ie3b2e31833423ae8658861e8cc85300d45882f8e\n'}, {'number': 2, 'created': '2019-06-24 20:48:00.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3df4e8b9cadb49318d8084269b027da0828d74c9', 'message': 'Move existing Zuul project config to projects.yaml\n\nThere was a project stanza in zuul.d/jobs.yaml which was unexpected.\nMove it to projects.yaml and combine it with the one just added.\n\nChange-Id: Ie3b2e31833423ae8658861e8cc85300d45882f8e\n'}]",0,667220,3df4e8b9cadb49318d8084269b027da0828d74c9,16,6,2,1,,,0,"Move existing Zuul project config to projects.yaml

There was a project stanza in zuul.d/jobs.yaml which was unexpected.
Move it to projects.yaml and combine it with the one just added.

Change-Id: Ie3b2e31833423ae8658861e8cc85300d45882f8e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/20/667220/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,5568de449e00f9d211d4cc76ea11a0a4c1afe7be,nodepool-func,,- project: templates: - openstack-lower-constraints-jobs - tripleo-buildimage-jobs check: jobs: - dib-functests-centos7-python2 - dib-functests-centos7-python2-image - dib-functests-centos7-python2-extras - dib-functests-trusty-python2 - dib-functests-trusty-python2-image - dib-functests-trusty-python2-extras - dib-functests-xenial-python3 - dib-functests-xenial-python3-image - dib-functests-xenial-python3-extras - dib-functests-xenial-python3-containers - dib-functests-bionic-python3 - dib-functests-bionic-python3-image - dib-functests-bionic-python3-extras - dib-functests-bionic-python3-containers gate: jobs: - dib-functests-trusty-python2 - dib-functests-xenial-python3 - dib-functests-centos7-python2 ,19,26
openstack%2Ftripleo-quickstart~master~I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6,openstack/tripleo-quickstart,master,I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6,Bump Ansible to 2.7.x,MERGED,2019-04-05 01:16:24.000000000,2019-06-26 00:27:10.000000000,2019-06-26 00:27:10.000000000,"[{'_account_id': 6469}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-04-05 01:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e276ff652e71d20c5672c1478f330f1ec1d9a43e', 'message': 'DNM: ansible 2.7.10 test\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 2, 'created': '2019-04-05 22:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9125eac7e1b3657e84e92d1c230c45d634b0a6ad', 'message': 'DNM: ansible 2.7.10 test\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 3, 'created': '2019-04-08 00:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dda8a8e9aaf6017d809ade85f7899afbf54097ce', 'message': 'DNM: ansible 2.7.10 test\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 4, 'created': '2019-04-08 13:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/adece998eb7a94c5bec8953c4c38c11cafe4f71c', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 5, 'created': '2019-04-09 12:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3d823edd56bb724982b027bfc4a3e4b0de32f413', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: https://review.openstack.org/651214\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 6, 'created': '2019-04-25 19:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8438031435856def26ee4186513f5c4f25ec7131', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: https://review.openstack.org/651214\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 7, 'created': '2019-04-25 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8f0f2782089d97d9c60ccfe8a7d60e20a31d7557', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: https://review.openstack.org/651214\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 8, 'created': '2019-05-06 18:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7358317f2b2af91a2a0385320dd58ad44ced9abf', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: https://review.openstack.org/651214\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\nDepends-On: https://review.opendev.org/657431\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 9, 'created': '2019-05-13 21:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b648382dcde14bb9391a30205c695cab23fe4747', 'message': 'DNM: ansible 2.7.1 test\n\nDepends-On: https://review.openstack.org/651214\nDepends-On: Ie4574d35c86f21de7f69f4f6676e2479aaef8431\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 10, 'created': '2019-06-11 09:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8bf180e47ee6711c89bb7b9cac9dbe60e05e2fc1', 'message': 'Bump Ansible to 2.7.x\n\nDepends-On: https://review.openstack.org/651214\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 11, 'created': '2019-06-11 09:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b41d31d5bbc2761415fe51a614436d42569db13', 'message': 'Bump Ansible to 2.7.x\n\nDepends-On: https://review.openstack.org/651214\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 12, 'created': '2019-06-11 09:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a8b8fdbdcc2706bb7f90a40349ee3c60a571ba6f', 'message': 'Bump Ansible to 2.7.x\n\nDepends-On: https://review.openstack.org/651214\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 13, 'created': '2019-06-11 09:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c6eab8e299fa4b26df8ab2ee28cfdefa730447d2', 'message': 'Bump Ansible to 2.7.x\n\n\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n'}, {'number': 14, 'created': '2019-06-11 09:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/01cb7e69e40c4adf466c718d2cdad1acfa4686a6', 'message': ""Bump Ansible to 2.7.x\n\nAnsible 2.5.x reached end-of-life last month.\n\nfilter dict2items is introduced in ansible-2.6. \n\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg: template error while templating \nstring: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop \n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n""}, {'number': 15, 'created': '2019-06-17 12:14:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/13b35fc5e121e6ad553ae25baede92da6a784304', 'message': ""Bump Ansible to 2.7.x\n\nAnsible 2.5.x reached end-of-life last month.\n\nfilter dict2items is introduced in ansible-2.6. \n\nUpdate version to unblock multinode-oooq-container-updates job that\nfails with next error msg: template error while templating \nstring: no filter named 'dict2items'.\n\nOther notable fixes:\n- blockinfile\n- lineinfile\n- docker modules\n- loop \n\nStory: https://tree.taiga.io/project/tripleo-ci-board/task/386\nChange-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6\n""}]",6,650169,13b35fc5e121e6ad553ae25baede92da6a784304,70,11,15,9592,,,0,"Bump Ansible to 2.7.x

Ansible 2.5.x reached end-of-life last month.

filter dict2items is introduced in ansible-2.6. 

Update version to unblock multinode-oooq-container-updates job that
fails with next error msg: template error while templating 
string: no filter named 'dict2items'.

Other notable fixes:
- blockinfile
- lineinfile
- docker modules
- loop 

Story: https://tree.taiga.io/project/tripleo-ci-board/task/386
Change-Id: I8a04063763516f32d9b2fbe29eab64ccc4f2e5f6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/69/650169/14 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e276ff652e71d20c5672c1478f330f1ec1d9a43e,ansible-2.7-ooo,ansible==2.7.10,ansible==2.5.7,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I8c8ca93744934746d588c7228caa2950a53b23ce,openstack/tripleo-heat-templates,stable/queens,I8c8ca93744934746d588c7228caa2950a53b23ce,Queens only - allow SSH from any source,MERGED,2019-06-25 09:15:46.000000000,2019-06-26 00:27:08.000000000,2019-06-26 00:27:08.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 09:15:46.000000000', 'files': ['puppet/services/tripleo-firewall.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1bf53b5466381bb00f77d91179f5c8cc3fa71298', 'message': 'Queens only - allow SSH from any source\n\nWith change I89cff59947dda3f51482486c41a3d67c4aa36a3e\nSSH was limited to the ctlplane_subnet only. This changes\nthe previous behaviour that allowed SSH from any source.\n\nThe use of hiera introduced a regression where overcloud\nnodes on remote subnet in a DCN (or spine-and-leaf) set\nup are not available via SSH from the undercloud or from\novercloud nodes in other sites/leafs.\n\nIntroducing the tripleo::firewall::firewall_rules to allow\noperators to define more granular ssh firewall rules does\nmake sense, but changeing the default will also break\nusers doing monitoring or management/maintenance\noperations via SSH.\n\nChange-Id: I8c8ca93744934746d588c7228caa2950a53b23ce\nCloses-Bug: #1834161\n(cherry picked from commit d8ef4512b8dcb9f2295f154dd2a9a82684f34260)\n'}]",0,667297,1bf53b5466381bb00f77d91179f5c8cc3fa71298,8,7,1,24245,,,0,"Queens only - allow SSH from any source

With change I89cff59947dda3f51482486c41a3d67c4aa36a3e
SSH was limited to the ctlplane_subnet only. This changes
the previous behaviour that allowed SSH from any source.

The use of hiera introduced a regression where overcloud
nodes on remote subnet in a DCN (or spine-and-leaf) set
up are not available via SSH from the undercloud or from
overcloud nodes in other sites/leafs.

Introducing the tripleo::firewall::firewall_rules to allow
operators to define more granular ssh firewall rules does
make sense, but changeing the default will also break
users doing monitoring or management/maintenance
operations via SSH.

Change-Id: I8c8ca93744934746d588c7228caa2950a53b23ce
Closes-Bug: #1834161
(cherry picked from commit d8ef4512b8dcb9f2295f154dd2a9a82684f34260)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/667297/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-firewall.yaml'],1,1bf53b5466381bb00f77d91179f5c8cc3fa71298,feature/firewall, '003 accept ssh from any':," '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}""",1,2
openstack%2Fadjutant~master~I3ff563fe31859871309213ed0f73be39d83e5daf,openstack/adjutant,master,I3ff563fe31859871309213ed0f73be39d83e5daf,Add bindep.txt file,MERGED,2019-06-25 06:11:15.000000000,2019-06-26 00:06:30.000000000,2019-06-26 00:06:30.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 06:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/a24a33ebc8bb70c93a0409108700bbe1295a31a9', 'message': 'Add bindep.txt file\n\nChange-Id: I3ff563fe31859871309213ed0f73be39d83e5daf\n'}, {'number': 2, 'created': '2019-06-25 22:56:49.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/4709c37267c4416a3ea7375bdf4834a8817b7c3f', 'message': 'Add bindep.txt file\n\nChange-Id: I3ff563fe31859871309213ed0f73be39d83e5daf\n'}]",0,667270,4709c37267c4416a3ea7375bdf4834a8817b7c3f,8,2,2,10420,,,0,"Add bindep.txt file

Change-Id: I3ff563fe31859871309213ed0f73be39d83e5daf
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/70/667270/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a24a33ebc8bb70c93a0409108700bbe1295a31a9,bug/no_bindep,# See openstack-infra/project-config:jenkins/data/bindep-fallback.txt # This is used by bindep: sudo [apt-get | yum] install $(bindep -b) libffi-dev [platform:dpkg] libffi-devel [platform:rpm] libsqlite3-dev [platform:dpkg] libssl-dev [platform:dpkg] openssl-devel [platform:rpm] mysql-client [platform:dpkg] mysql-server [platform:dpkg] mariadb [platform:rpm] mariadb-devel [platform:redhat] mariadb-server [platform:rpm] libmariadb-devel [platform:suse] python-all-dev [platform:dpkg] python3-all-dev [platform:dpkg] python2-devel [platform:rpm] python3-devel [platform:fedora] python34-devel [platform:centos] ,,21,0
openstack%2Ftripleo-heat-templates~master~I9f288ee2771c0a954beee085b6df650419978422,openstack/tripleo-heat-templates,master,I9f288ee2771c0a954beee085b6df650419978422,Make comparisons case insensitive,MERGED,2019-06-19 15:53:27.000000000,2019-06-25 23:59:13.000000000,2019-06-25 23:59:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-19 15:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0571b033b1378ee4e94bd1f13234bbbabdab648', 'message': 'Make comparisons case insensitive\n\nIf the values for the conditional checks are ""true"" rather than ""True"",\nthey would be skipped. Let\'s force the variable contents to lowercase to\nremove the possibility of skipping the check when the value is ""true""\n\nChange-Id: I9f288ee2771c0a954beee085b6df650419978422\nCloses-Bug: #1833441\n'}, {'number': 2, 'created': '2019-06-19 16:01:45.000000000', 'files': ['validation-scripts/all-nodes.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ac8cf9c281f97b320192ca088c72a1bdf8de9f3', 'message': 'Make comparisons case insensitive\n\nIf the values for the conditional checks are ""true"" rather than ""True"",\nthey would be skipped. Let\'s force the variable contents to lowercase to\nremove the possibility of skipping the check when the value is ""true""\n\nChange-Id: I9f288ee2771c0a954beee085b6df650419978422\nCloses-Bug: #1833441\n'}]",1,666324,7ac8cf9c281f97b320192ca088c72a1bdf8de9f3,17,6,2,14985,,,0,"Make comparisons case insensitive

If the values for the conditional checks are ""true"" rather than ""True"",
they would be skipped. Let's force the variable contents to lowercase to
remove the possibility of skipping the check when the value is ""true""

Change-Id: I9f288ee2771c0a954beee085b6df650419978422
Closes-Bug: #1833441
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/666324/2 && git format-patch -1 --stdout FETCH_HEAD,['validation-scripts/all-nodes.sh'],1,f0571b033b1378ee4e94bd1f13234bbbabdab648,bug/1833441," if [[ ${in_network,,} == ""true"" ]]; thenif [[ ""${validate_gateways_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_controllers_icmp,,}"" == ""true"" ]];thenif [[ ""${validate_fqdn,,}"" == ""true"" ]];thenif [[ ""${validate_ntp,,}"" == ""true"" ]];then"," if [[ $in_network == ""True"" ]]; thenif [[ $validate_gateways_icmp == ""True"" ]];thenif [[ $validate_controllers_icmp == ""True"" ]];thenif [[ $validate_fqdn == ""True"" ]];thenif [[ $validate_ntp == ""True"" ]];then",5,5
openstack%2Ftripleo-heat-templates~master~I6d12a66616cc2cc65e62755e8a54084d65aeae5e,openstack/tripleo-heat-templates,master,I6d12a66616cc2cc65e62755e8a54084d65aeae5e,Enable Request Filter for Image Types,MERGED,2019-06-13 16:06:18.000000000,2019-06-25 23:59:11.000000000,2019-06-25 23:59:11.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-13 16:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8bc95838c73491a02259d0da9a14ed5bd36f7d3', 'message': 'Enable Request Filter for Image Types\n\nThis change enables `scheduler/query_placement_for_image_type_support`\nby default for all deployments. Setting it causes the scheduler to ask\nplacement only for compute hosts that support the disk_format of the\nimage used in the request which is beneficial for example, the libvirt\ndriver, when using ceph as an ephemeral backend, does not support ``qcow2``\nimages (without an expensive conversion step).\n\nChange-Id: I6d12a66616cc2cc65e62755e8a54084d65aeae5e\nCloses-Bug: #1832738\n'}, {'number': 2, 'created': '2019-06-15 08:37:43.000000000', 'files': ['releasenotes/notes/query_placement_for_image_type-0bfbef90bb8c3871.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37a6aa85997867dc6a4d15de13caecdf272826b5', 'message': 'Enable Request Filter for Image Types\n\nThis change enables `scheduler/query_placement_for_image_type_support`\nby default for all deployments. Setting it causes the scheduler to ask\nplacement only for compute hosts that support the disk_format of the\nimage used in the request which is beneficial for example, the libvirt\ndriver, when using ceph as an ephemeral backend, does not support ``qcow2``\nimages (without an expensive conversion step).\n\nChange-Id: I6d12a66616cc2cc65e62755e8a54084d65aeae5e\nCloses-Bug: #1832738\n'}]",0,665168,37a6aa85997867dc6a4d15de13caecdf272826b5,25,8,2,30133,,,0,"Enable Request Filter for Image Types

This change enables `scheduler/query_placement_for_image_type_support`
by default for all deployments. Setting it causes the scheduler to ask
placement only for compute hosts that support the disk_format of the
image used in the request which is beneficial for example, the libvirt
driver, when using ceph as an ephemeral backend, does not support ``qcow2``
images (without an expensive conversion step).

Change-Id: I6d12a66616cc2cc65e62755e8a54084d65aeae5e
Closes-Bug: #1832738
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/665168/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-scheduler-container-puppet.yaml'],1,d8bc95838c73491a02259d0da9a14ed5bd36f7d3,bug/1832738, NovaSchedulerQueryImageType: type: boolean default: true description: > This setting causes the scheduler to ask placement only for compute hosts that support the disk_format of the image used in the request. nova::scheduler::query_placement_for_image_type_support: {get_param: NovaSchedulerQueryImageType},,7,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ie37dac8859a4bb339dafc2bf8d084dcb2b6262ea,openstack/tripleo-heat-templates,stable/stein,Ie37dac8859a4bb339dafc2bf8d084dcb2b6262ea,"Revert ""ceilometer_agent_notification: disable-panko.yaml""",MERGED,2019-06-18 17:43:22.000000000,2019-06-25 23:46:58.000000000,2019-06-25 23:46:58.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-18 17:43:22.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d2d1b29a675cf4037030782c372b813b8495863', 'message': 'Revert ""ceilometer_agent_notification: disable-panko.yaml""\n\nThis reverts commit 1762e9b636566e4a78c31def630fffaea44d8f84.\n\nChange-Id: Ie37dac8859a4bb339dafc2bf8d084dcb2b6262ea\n'}]",0,666078,1d2d1b29a675cf4037030782c372b813b8495863,12,6,1,28504,,,0,"Revert ""ceilometer_agent_notification: disable-panko.yaml""

This reverts commit 1762e9b636566e4a78c31def630fffaea44d8f84.

Change-Id: Ie37dac8859a4bb339dafc2bf8d084dcb2b6262ea
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/666078/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'],1,1d2d1b29a675cf4037030782c372b813b8495863,bug/1824840, - '', - null,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8c8ca93744934746d588c7228caa2950a53b23ce,openstack/tripleo-heat-templates,stable/rocky,I8c8ca93744934746d588c7228caa2950a53b23ce,Rocky only - allow SSH from any source,MERGED,2019-06-25 09:15:19.000000000,2019-06-25 23:46:57.000000000,2019-06-25 23:46:57.000000000,"[{'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 09:15:19.000000000', 'files': ['puppet/services/tripleo-firewall.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8ef4512b8dcb9f2295f154dd2a9a82684f34260', 'message': 'Rocky only - allow SSH from any source\n\nWith change I89cff59947dda3f51482486c41a3d67c4aa36a3e\nSSH was limited to the ctlplane_subnet only. This changes\nthe previous behaviour that allowed SSH from any source.\n\nThe use of hiera introduced a regression where overcloud\nnodes on remote subnet in a DCN (or spine-and-leaf) set\nup are not available via SSH from the undercloud or from\novercloud nodes in other sites/leafs.\n\nIntroducing the tripleo::firewall::firewall_rules to allow\noperators to define more granular ssh firewall rules does\nmake sense, but changeing the default will also break\nusers doing monitoring or management/maintenance\noperations via SSH.\n\nChange-Id: I8c8ca93744934746d588c7228caa2950a53b23ce\nCloses-Bug: #1834161\n'}]",0,667296,d8ef4512b8dcb9f2295f154dd2a9a82684f34260,7,6,1,24245,,,0,"Rocky only - allow SSH from any source

With change I89cff59947dda3f51482486c41a3d67c4aa36a3e
SSH was limited to the ctlplane_subnet only. This changes
the previous behaviour that allowed SSH from any source.

The use of hiera introduced a regression where overcloud
nodes on remote subnet in a DCN (or spine-and-leaf) set
up are not available via SSH from the undercloud or from
overcloud nodes in other sites/leafs.

Introducing the tripleo::firewall::firewall_rules to allow
operators to define more granular ssh firewall rules does
make sense, but changeing the default will also break
users doing monitoring or management/maintenance
operations via SSH.

Change-Id: I8c8ca93744934746d588c7228caa2950a53b23ce
Closes-Bug: #1834161
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/667296/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-firewall.yaml'],1,d8ef4512b8dcb9f2295f154dd2a9a82684f34260,feature/firewall, '003 accept ssh from any':," '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}""",1,2
openstack%2Fneutron-specs~master~I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f,openstack/neutron-specs,master,I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f,Improve Extraroute API,MERGED,2019-04-25 12:35:49.000000000,2019-06-25 23:41:02.000000000,2019-06-25 23:41:02.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4257}, {'_account_id': 4694}, {'_account_id': 8150}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-25 12:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1ac04e9b5dad307326a86412e1a3ee30f7c8717e', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 2, 'created': '2019-04-25 13:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4150cd01c676eba3decc8c6dd569eb70548e2dcd', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 3, 'created': '2019-04-29 21:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9e96e26c3697f6d5ce106af1780b5e5c3c0f491a', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 4, 'created': '2019-05-03 15:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c071330dc2c98d377bc8ee91734e963a43f06b07', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 5, 'created': '2019-05-04 17:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e31de2d7a2d1694e3bde1bdf99d39c6a65c72345', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 6, 'created': '2019-05-07 07:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/25d64d83308f1923359b99f308398e090426f290', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\nRelated Heat spec: https://review.opendev.org/655892\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 7, 'created': '2019-05-14 13:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dca314c7f20b59b893f92a7f575907982b1e92d5', 'message': 'Atomic Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 8, 'created': '2019-05-14 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a51f9f351f5d1ad21c5ca8e453f603a0c77eea49', 'message': 'Improve Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}, {'number': 9, 'created': '2019-06-14 12:23:04.000000000', 'files': ['specs/train/improve-extraroute-api.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c1e12a0fd12ffd6b2934fdff5a0ee29de11a102d', 'message': 'Improve Extraroute API\n\nAs discussed in an openstack-discuss thread [1] we could improve the\nextraroute API to better support Neutron API clients, especially Heat.\n\nThe problem is that the current extraroute API does not allow atomic\nadditions/deletions of particular routing table entries. In the current\nAPI the routes attribute of a router (containing all routing table\nentries) must be updated at once. Therefore additions and deletions\nmust be performed on the client side. Therefore multiple clients race\nto update the routes attribute and updates may get lost.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html\n\nChange-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f\nPartial-Bug: #1826396\n'}]",79,655680,c1e12a0fd12ffd6b2934fdff5a0ee29de11a102d,45,9,9,15554,,,0,"Improve Extraroute API

As discussed in an openstack-discuss thread [1] we could improve the
extraroute API to better support Neutron API clients, especially Heat.

The problem is that the current extraroute API does not allow atomic
additions/deletions of particular routing table entries. In the current
API the routes attribute of a router (containing all routing table
entries) must be updated at once. Therefore additions and deletions
must be performed on the client side. Therefore multiple clients race
to update the routes attribute and updates may get lost.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html

Change-Id: I10407a74102bfd16e3a0b8d2bd08c92acb4cc27f
Partial-Bug: #1826396
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/80/655680/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/atomic-extraroute-api.rst'],1,1ac04e9b5dad307326a86412e1a3ee30f7c8717e,extraroute,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode Atomic Extraroute API ===================== As discussed in an `openstack-discuss thread <http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005121.html>`_ we could improve the extraroute API to better support Neutron API clients, especially Heat. Problem Description ------------------- The problem is that the current extraroute API does not allow atomic additions/deletions of particular routing table entries. In the current API the routes attribute of a router (containing all routing table entries) `must be updated at once <https://developer.openstack.org/api-ref/network/v2/?expanded=update-router-detail#update-router>`_. Therefore additions and deletions must be performed on the client side. Therefore multiple clients race to update the routes attribute and updates may get lost. The problem can be easily (but nondeterministically) reproduced by a `simple HOT template <http://paste.openstack.org/show/749738/>`_. :: $ wget -O extraroute-concurrent.yaml http://paste.openstack.org/raw/749738/ $ openstack stack create --wait -t extraroute-concurrent.yaml stack0 $ openstack stack resource list stack0 --filter name=router0 -f value -c physical_resource_id \ | xargs -r openstack router show -f value -c routes Proposed Change --------------- This RFE proposes to expose the extraroute functionality of Neutron on a second API. While keeping the original functionality and extraroute API for backwards compatibility. Introduce a new API extension: extraroutes-atomic :: PUT /v2.0/routers/{router_id}/add_extraroutes [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" }, ... ] :: PUT /v2.0/routers/{router_id}/remove_extraroutes [ { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"" }, ... ] The DB and OVO layer in Neutron is ready for this change, the routes attribute is already de-composed to its own table: :: mysql> describe routerroutes; +-------------+-------------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +-------------+-------------+------+-----+---------+-------+ | destination | varchar(64) | NO | PRI | NULL | | | nexthop | varchar(64) | NO | PRI | NULL | | | router_id | varchar(36) | NO | PRI | NULL | | +-------------+-------------+------+-----+---------+-------+ Further changes included: * Documentation: api-ref. * Unit tests. * Tempest test in neutron-tempest-plugin. * Adapt openstackclient. * I also hope to improve Heat's OS::Neutron::Extraroute resource building on this work, but that will be described in its own Heat blueprint. Deprecations ------------ Keeping in line with the long standing Neutron tradition of not making backward incompatible API changes the old extraroutes extension is *not* deprecated. It is also not deprecated because some operations (like listing extraroutes) are only available via that API. Other Impact ------------ No impact expected on upgrades. No impact expected on configuration. No impact expected on RPC. Alternatives ------------ Compare and Swap ~~~~~~~~~~~~~~~~ Neutron has `compare-and-swap API update logic <https://bugs.launchpad.net/neutron/+bug/1703234>`_. However using that to solve this problem is awkward on the client side (retry until success if the routes attibute change while the client edited it). Plus as the number of racing clients grow use of the compare-and-swap API is going to generate unnecessary load on API as update requests must be thrown away and retried. First Class Resource ~~~~~~~~~~~~~~~~~~~~ Extra routes could be made a first class API resource. :: POST /v2.0/extraroutes { ""extraroute"": { ""destination"": ""179.24.1.0/24"", ""nexthop"": ""172.24.3.99"", ""router_id"": ""c56ae8f4-674f-11e9-ac88-bb91270af224"" }, } :: GET, PUT, DELETE /v2.0/extraroutes/{extraroute_id} The proposed API seems more convenient to me, because I only see use cases of extra routes in the scope of a single router. For example auto-deleting all extraroutes when a router is deleted seems a convenient user interface to me. Or I don't see a use case to list all extraroutes independently of routers. References ---------- RFE bug report of this spec: https://bugs.launchpad.net/neutron/+bug/1826396 ",,144,0
openstack%2Fopenstack-helm-infra~master~If2912d15123913ee13dc5e9e36badfb3a7dbdf64,openstack/openstack-helm-infra,master,If2912d15123913ee13dc5e9e36badfb3a7dbdf64,Make openstack-support job nonvoting,ABANDONED,2019-06-25 22:44:56.000000000,2019-06-25 23:31:33.000000000,,[],"[{'number': 1, 'created': '2019-06-25 22:44:56.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4fa9db9092e98497a8e4d98cf808d5f856034a7', 'message': 'Make openstack-support job nonvoting\n\nThis makes the openstack-support job a nonvoting job and removes\nit as a gate job\n\nChange-Id: If2912d15123913ee13dc5e9e36badfb3a7dbdf64\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667479,a4fa9db9092e98497a8e4d98cf808d5f856034a7,2,0,1,17591,,,0,"Make openstack-support job nonvoting

This makes the openstack-support job a nonvoting job and removes
it as a gate job

Change-Id: If2912d15123913ee13dc5e9e36badfb3a7dbdf64
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/667479/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a4fa9db9092e98497a8e4d98cf808d5f856034a7,experimental-support-job, - openstack-helm-infra-openstack-support: voting: false - openstack-helm-infra-armada-update-passwords , - openstack-helm-infra-openstack-support - openstack-helm-infra-openstack-support - openstack-helm-infra-armada-update-passwords,3,3
openstack%2Fmanila-image-elements~master~Ibe8c402c2817c31748e6a4b8344024a276609260,openstack/manila-image-elements,master,Ibe8c402c2817c31748e6a4b8344024a276609260,Sync Sphinx requirement,MERGED,2019-06-18 16:47:37.000000000,2019-06-25 23:26:52.000000000,2019-06-25 23:26:52.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/d7ca41af9034a7a14d05912d7fce67fba6e762d8', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ibe8c402c2817c31748e6a4b8344024a276609260\n'}, {'number': 2, 'created': '2019-06-25 06:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/83d73bb2a226d1f247ac4d0de3377f0856900a3d', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update the UPPER_CONSTRAINTS_FILE for tox[1]\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ibe8c402c2817c31748e6a4b8344024a276609260\n'}, {'number': 3, 'created': '2019-06-25 06:36:26.000000000', 'files': ['CONTRIBUTING.rst', 'test-requirements.txt', 'tox.ini', 'tools/docker_builder.sh'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/67b317ce82f4e8b1c168db73aaa0a8a7c43a6f34', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update the UPPER_CONSTRAINTS_FILE for tox[1]\n3. Update some URLs to latest\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ibe8c402c2817c31748e6a4b8344024a276609260\n'}]",1,666047,67b317ce82f4e8b1c168db73aaa0a8a7c43a6f34,11,3,3,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update the UPPER_CONSTRAINTS_FILE for tox[1]
3. Update some URLs to latest

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ibe8c402c2817c31748e6a4b8344024a276609260
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/47/666047/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'test-requirements.txt']",2,d7ca41af9034a7a14d05912d7fce67fba6e762d8,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",4,3
openstack%2Fcharm-vault~master~Ie969cb069200fd027213d5b183b76ffff1bdb6c3,openstack/charm-vault,master,Ie969cb069200fd027213d5b183b76ffff1bdb6c3,Rebuild vault charm,MERGED,2019-06-25 13:20:45.000000000,2019-06-25 23:13:04.000000000,2019-06-25 23:13:03.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 13:20:45.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/b6fac1cc6f342c4ea97609b9cbb06addd9fc1c98', 'message': 'Rebuild vault charm\n\nRebuild vault charm to incorporate fixes to the tls-certificates\ninterface.\n\nChange-Id: Ie969cb069200fd027213d5b183b76ffff1bdb6c3\nCloses-Bug: 1830772\n'}]",0,667365,b6fac1cc6f342c4ea97609b9cbb06addd9fc1c98,11,4,1,935,,,0,"Rebuild vault charm

Rebuild vault charm to incorporate fixes to the tls-certificates
interface.

Change-Id: Ie969cb069200fd027213d5b183b76ffff1bdb6c3
Closes-Bug: 1830772
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/65/667365/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,b6fac1cc6f342c4ea97609b9cbb06addd9fc1c98,bug/1830772,de718802-c0c5-4de9-baa0-a97a3ca2c867,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 120650ec-5aab-11e9-a87e-fbc92e9be59b",1,5
openstack%2Fopenstack-helm~master~Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214,openstack/openstack-helm,master,Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214,OpenStack: Check Rocky release on Ubuntu Xenial,MERGED,2019-06-25 20:14:29.000000000,2019-06-25 23:06:25.000000000,2019-06-25 23:06:24.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-25 20:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f340fc30e6af58f0073b593b2f33de059409ab7', 'message': 'WIP: Rocky Support for Ubuntu\n\nChange-Id: Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-25 21:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29ae66a88502c62dbf1d07ba6c9aaf850b53755f', 'message': 'WIP: Rocky Support for Ubuntu\n\nChange-Id: Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-25 21:14:30.000000000', 'files': ['glance/values_overrides/rocky-ubuntu_xenial.yaml', 'keystone/values_overrides/rocky-ubuntu_xenial.yaml', 'heat/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-ubuntu_xenial.yaml', 'neutron/values_overrides/rocky-ubuntu_xenial.yaml', 'cinder/values_overrides/rocky-ubuntu_xenial.yaml', 'horizon/values_overrides/rocky-ubuntu_xenial.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6606c8bc2ecb30ba4e2f74aca95743e4d8e974c1', 'message': 'OpenStack: Check Rocky release on Ubuntu Xenial\n\nThis PS adds checks for the Rocky Release of OpenStack in Ubuntu Xenial\ncontainers.\n\nChange-Id: Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667456,6606c8bc2ecb30ba4e2f74aca95743e4d8e974c1,10,3,3,23928,,,0,"OpenStack: Check Rocky release on Ubuntu Xenial

This PS adds checks for the Rocky Release of OpenStack in Ubuntu Xenial
containers.

Change-Id: Ieed4a6a3afa6e3ebd9b2f72ba227aac891d65214
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/667456/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/values_overrides/rocky-ubuntu_xenial.yaml', 'heat/values_overrides/rocky-ubuntu_xenial.yaml', 'keystone/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-ubuntu_xenial.yaml', 'neutron/values_overrides/rocky-ubuntu_xenial.yaml', 'cinder/values_overrides/rocky-ubuntu_xenial.yaml', 'horizon/values_overrides/rocky-ubuntu_xenial.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",9,5f340fc30e6af58f0073b593b2f33de059409ab7,script-runner, name: openstack-helm-keystone-rocky-ubuntu_xenial parent: openstack-helm-keystone vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-glance-rocky-ubuntu_xenial parent: openstack-helm-glance vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-heat-rocky-ubuntu_xenial parent: openstack-helm-heat vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-cinder-rocky-ubuntu_xenial parent: openstack-helm-cinder vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job: name: openstack-helm-compute-kit-rocky-ubuntu_xenial parent: openstack-helm-compute-kit vars: osh_params: openstack_release: rocky container_distro_name: ubuntu container_distro_version: xenial - job:,,157,0
openstack%2Fopenstack-helm~master~I0d4d427e43f06fa955dfd275859939d0adca113c,openstack/openstack-helm,master,I0d4d427e43f06fa955dfd275859939d0adca113c,OpenStack: Check Queens release on Ubuntu Xenial,MERGED,2019-06-24 19:42:22.000000000,2019-06-25 23:04:04.000000000,2019-06-25 23:04:04.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-24 19:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5cf28997163ae1e09dc60d4b9dadd764b13ec784', 'message': 'WIP: Queens Support for Ubuntu\n\nChange-Id: I0d4d427e43f06fa955dfd275859939d0adca113c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-25 19:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce55d4b7d0a99670c2cf80d8a17d59f69d991e82', 'message': 'WIP: Queens Support for Ubuntu\n\nChange-Id: I0d4d427e43f06fa955dfd275859939d0adca113c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-25 19:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15e5ebbeaa444d37b8b68f8720850b7258e4f842', 'message': 'WIP: Queens Support for Ubuntu\n\nChange-Id: I0d4d427e43f06fa955dfd275859939d0adca113c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-25 19:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3500fd1405f1705844436aa7fc88f04fbf9d0b21', 'message': 'WIP: Queens Support for Ubuntu\n\nChange-Id: I0d4d427e43f06fa955dfd275859939d0adca113c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-25 21:10:28.000000000', 'files': ['heat/values_overrides/queens-ubuntu_xenial.yaml', 'keystone/values_overrides/queens-ubuntu_xenial.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'neutron/values_overrides/queens-ubuntu_xenial.yaml', 'horizon/values_overrides/queens-ubuntu_xenial.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'glance/values_overrides/queens-ubuntu_xenial.yaml', 'cinder/values_overrides/queens-ubuntu_xenial.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ffb24e337cc64acffded5c8a3dc4de3ac6cbe3d5', 'message': 'OpenStack: Check Queens release on Ubuntu Xenial\n\nThis PS adds checks for the Queens Release of OpenStack in Ubuntu Xenial\ncontainers.\n\nChange-Id: I0d4d427e43f06fa955dfd275859939d0adca113c\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667205,ffb24e337cc64acffded5c8a3dc4de3ac6cbe3d5,13,3,5,23928,,,0,"OpenStack: Check Queens release on Ubuntu Xenial

This PS adds checks for the Queens Release of OpenStack in Ubuntu Xenial
containers.

Change-Id: I0d4d427e43f06fa955dfd275859939d0adca113c
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/05/667205/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/values_overrides/queens-ubuntu_xenial.yaml', 'keystone/values_overrides/queens-ubuntu_xenial.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'neutron/values_overrides/queens-ubuntu_xenial.yaml', 'horizon/values_overrides/queens-ubuntu_xenial.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'cinder/values_overrides/queens-ubuntu_xenial.yaml', 'glance/values_overrides/queens-ubuntu_xenial.yaml']",9,5cf28997163ae1e09dc60d4b9dadd764b13ec784,script-runner,"--- images: tags: bootstrap: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" db_init: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" db_drop: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" ks_user: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" ks_service: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" ks_endpoints: ""docker.io/openstackhelm/heat:queens-ubuntu_xenial"" glance_db_sync: ""docker.io/openstackhelm/glance:queens-ubuntu_xenial"" glance_api: ""docker.io/openstackhelm/glance:queens-ubuntu_xenial"" glance_registry: ""docker.io/openstackhelm/glance:queens-ubuntu_xenial"" glance_storage_init: ""docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_xenial"" ",,160,0
openstack%2Fdiskimage-builder~master~I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f,openstack/diskimage-builder,master,I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f,Add DIB_UBUNTU_KERNEL to ubuntu-minimal,MERGED,2019-06-18 17:05:59.000000000,2019-06-25 22:48:50.000000000,2019-06-25 22:48:50.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 11628}, {'_account_id': 14288}, {'_account_id': 21741}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 17:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/82f018cdb3d38772ebcdfbb2ec8eccd11a5c0c5a', 'message': 'Add ubuntu-minimal-kvm element\n\nThis patch adds a new element called ubuntu-minimal-kvm that uses\nthe Ubuntu linux-image-kvm kernel package instead of the\nlinux-image-generic used in the main ubuntu-minimal element.\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 2, 'created': '2019-06-19 21:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/53af0604bbfba4cd3fceaaa733849d9d60ab0388', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 3, 'created': '2019-06-19 21:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/95e0d067379bc1b15c9ffcf94c9baec946f3a4b3', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 4, 'created': '2019-06-19 21:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/43441d21baaac8e004cf12badf6fc12299c90f32', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 5, 'created': '2019-06-19 22:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dc9903c32dee8ac40d09d8ebcd265e21f9de3159', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 6, 'created': '2019-06-19 23:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/53a7fa02b233132b98a4c11373fdf3bf22717b8a', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}, {'number': 7, 'created': '2019-06-20 17:18:30.000000000', 'files': ['diskimage_builder/elements/ubuntu-minimal/environment.d/11-ubuntu-kernel.bash', 'diskimage_builder/elements/ubuntu-minimal/README.rst', 'releasenotes/notes/Add-DIB-UBUNTU-KERNEL-5f75a809f3ce9bab.yaml', 'diskimage_builder/elements/ubuntu-minimal/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e433aebf7d77b070264bd10b4e66643146a16933', 'message': 'Add DIB_UBUNTU_KERNEL to ubuntu-minimal\n\nThis patch adds a new environment variable to the ubuntu-minimal\nelement called DIB_UBUNTU_KERNEL that allows you to specify the kernel\nmeta package that will be using to install the kernel inside the image.\nIt supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and\n""linux-image-virtual"".\nThis allows building images that are smaller in size (~200MB smaller\nqcow2) that have only the kernel modules necessary for virtual\nmachines.\n\nChange-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f\n'}]",0,666063,e433aebf7d77b070264bd10b4e66643146a16933,42,8,7,11628,,,0,"Add DIB_UBUNTU_KERNEL to ubuntu-minimal

This patch adds a new environment variable to the ubuntu-minimal
element called DIB_UBUNTU_KERNEL that allows you to specify the kernel
meta package that will be using to install the kernel inside the image.
It supports ""linux-image-generic"" (The default), ""linux-image-kvm"", and
""linux-image-virtual"".
This allows building images that are smaller in size (~200MB smaller
qcow2) that have only the kernel modules necessary for virtual
machines.

Change-Id: I8ce65e1d357d15e8ed8995ad1dcaea02bbd1986f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/63/666063/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-ubuntu-minimal-kvm-element-63cc84ae56e3be26.yaml', 'diskimage_builder/elements/ubuntu-minimal-kvm/package-installs.yaml', 'diskimage_builder/elements/ubuntu-minimal-kvm/root.d/75-ubuntu-minimal-baseinstall', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/bionic-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/xenial-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/xenial-build-succeeds/test-output-formats', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/xenial-build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu-minimal-kvm/README.rst', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/bionic-build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/bionic-build-succeeds/test-output-formats', 'diskimage_builder/elements/ubuntu-minimal-kvm/element-deps', 'diskimage_builder/elements/ubuntu-minimal-kvm/element-provides', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/xenial-build-succeeds/element-deps', 'diskimage_builder/elements/ubuntu-minimal-kvm/test-elements/bionic-build-succeeds/element-deps']",14,82f018cdb3d38772ebcdfbb2ec8eccd11a5c0c5a,,block-device-mbr openstack-ci-mirrors vm ,,119,0
openstack%2Fneutron~master~I1785ee36ef2a74c8673d6834ac4227a67c55daa3,openstack/neutron,master,I1785ee36ef2a74c8673d6834ac4227a67c55daa3,Switch to new engine facade for BaseResourceFilter,MERGED,2019-06-18 15:37:00.000000000,2019-06-25 22:44:29.000000000,2019-06-25 22:44:28.000000000,"[{'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-18 15:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/680952e3be581eee92fd21d6bf2038df0ad1175c', 'message': 'Switch to new engine facade for BaseResourceFilter\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1785ee36ef2a74c8673d6834ac4227a67c55daa3\n'}, {'number': 2, 'created': '2019-06-19 12:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/115602627f3271db8852a259e4d2f34225f8e22d', 'message': 'Switch to new engine facade for BaseResourceFilter\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1785ee36ef2a74c8673d6834ac4227a67c55daa3\n'}, {'number': 3, 'created': '2019-06-19 22:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01040a50d3b7dc24082e4737c2dd608887ba80c8', 'message': 'Switch to new engine facade for BaseResourceFilter\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1785ee36ef2a74c8673d6834ac4227a67c55daa3\n'}, {'number': 4, 'created': '2019-06-22 15:24:43.000000000', 'files': ['neutron/scheduler/base_resource_filter.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/93d75d89a09215d568a0c2a2e2db49a3fe99e60b', 'message': 'Switch to new engine facade for BaseResourceFilter\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1785ee36ef2a74c8673d6834ac4227a67c55daa3\n'}]",1,666024,93d75d89a09215d568a0c2a2e2db49a3fe99e60b,43,8,4,16688,,,0,"Switch to new engine facade for BaseResourceFilter

Partially-Implements blueprint: enginefacade-switch

Change-Id: I1785ee36ef2a74c8673d6834ac4227a67c55daa3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/666024/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/scheduler/base_resource_filter.py'],1,680952e3be581eee92fd21d6bf2038df0ad1175c,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context):, with context.session.begin(subtransactions=True):,2,1
openstack%2Fnova-specs~master~If8d3b358e6fbe95d039fafcb9d39a8f310027170,openstack/nova-specs,master,If8d3b358e6fbe95d039fafcb9d39a8f310027170,"Spec for a new nova virt driver to manage an RSD, composable infrastructure deployment",ABANDONED,2019-03-29 11:39:36.000000000,2019-06-25 22:32:34.000000000,,"[{'_account_id': 7}, {'_account_id': 136}, {'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23488}, {'_account_id': 25497}, {'_account_id': 30001}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-03-29 11:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e58638fa8aca6f9515c36d07bbb6dafaa28387c6', 'message': 'Spec for a new nova virt driver to manage an RSD, composable\ninfrastructure deployment\n\nChange-Id: If8d3b358e6fbe95d039fafcb9d39a8f310027170\nSigned-off-by: Helena McGough <helena.mcgough@intel.com>\n'}, {'number': 2, 'created': '2019-04-03 14:32:57.000000000', 'files': ['specs/train/approved/rsd-virt-for-nova-implementation.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/67bc7783eaf96288ce9c3e7b6bd3c74719198dd4', 'message': 'Spec for a new nova virt driver to manage an RSD, composable\ninfrastructure deployment\n\nChange-Id: If8d3b358e6fbe95d039fafcb9d39a8f310027170\nSigned-off-by: Helena McGough <helena.mcgough@intel.com>\n'}]",75,648665,67bc7783eaf96288ce9c3e7b6bd3c74719198dd4,21,11,2,23488,,,0,"Spec for a new nova virt driver to manage an RSD, composable
infrastructure deployment

Change-Id: If8d3b358e6fbe95d039fafcb9d39a8f310027170
Signed-off-by: Helena McGough <helena.mcgough@intel.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/65/648665/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/rsd-virt-for-nova-implementation.rst'],1,e58638fa8aca6f9515c36d07bbb6dafaa28387c6,rsd-virt-for-nova,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Nova virt-driver for RSD ======================== Blueprint https://blueprints.launchpad.net/nova/+spec/rsd-virt-for-nova-implementation This spec documents the implementation of a new nova virt-driver to manage an RSD deployment. Relevant information about RSD can be found at the following link: https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design/rack-scale-design-resources.html The new driver would allow a user to orchestrate an RSD composable infrastructure through nova and redfish APIs. Problem description =================== How to manage RSD composability the same way virtual infrastructure is managed in the market today, i.e. VMs, container and baremetal instances. There is currently no seamless orchestration solution to manage an RSD composable architecture deployment. :: +----------------+ | | | OpenStack | | | +-------+--------+ | | | +-------+--------+ +-----------+ | | | | | Hypervisor +----------------------+ Chassis | | | | | +----------------+ +-----------+ ^ ^ | | | | | | +-------+--------+ | | | | | Instance | | | | | +----------------+ | ^ | | | | | | +---------------+ +-----+-------+ | | | | | +---------+ Composed Node +-----+ RSD Compute | is a type of | | | | +---------------+ +-------------+ Use Cases --------- * Deploying and managing an RSD deployment as your undercloud for an openstack deployment. * Enabling the booting of compute instances that are composed nodes. * Providing the ability to create workloads on composable infrastructure directly as a self service compute resource via nova. * Managing the lifecycle of composable resouces using standard nova APIs. * Providing the flexibility to dynamically compose hardware to meet the need of the cloud workload. Proposed change =============== The creation of a new virt-driver that communicates with and manages an RSD deployment. Created based on the compute driver template provided in the nova repo. https://github.com/openstack/nova/blob/master/nova/virt/driver.py This spec aims to give an overview into the design implementation of this new virt-driver. How it communicates with the RSD deployment, how the resources are represented in nova and the placement API, how to boot composed node instances and any other required details. This is done through the extension of the following driver methods and libraries: - ``rsd-lib`` - Conf - ``register_opts()`` - ``init_host()`` + ``get_available_resources()`` - ``update_provider_tree()`` - ``spawn()`` - ``power_off()`` - ``power_on()`` - ``reboot()`` - ``destroy()`` - Additional Functionality: Flavor Auto-generation rsd-lib ------- This virt-driver leverages previous work done to connect RSD and OpenStack. ``rsd-lib`` is an extended library for RSD. :: https://github.com/openstack/rsd-lib It allows API calls to be made to RSD redfish endpoints. Specifically, it establishes a connection to the PODM(POD Manager) which manages all of the available resources in your deployment. Once connection is established, then REST calls can be made to manage the deployment. Conf - register_opts() ---------------------- On the deployment of OpenStack an override-defaults file is read to set the ``VIRT_DRIVER`` parameter. :: VIRT_DRIVER=rsd You can set the configuration parameters to establish the connection to the RSD deployment through rsd-lib, otherwise connection will be attempted with the default values: :: PODM_IP=${PODM_IP:-'localhost'} PODM_USER=${PODM_USER:-'admin'} PODM_PASSWD=${PODM_PASSWD:-'admin'} PODM_PORT=${PODM_PORT:-8443} The following section is added to the ``n-cpu.conf``: :: [rsd] podm_port = 8443 podm_password = admin podm_user = admin podm_ip = localhost init_host() + get_available_resources() --------------------------------------- When the n-cpu service starts up rsd-lib estabilishes the connection between RSD and OpenStack deployments. It also checks all of the available resources in the RSD deployment and presents them to Nova. The following processes occur after connection is established: * All available composable compute systems are ``Allocated`` and ``Assembled`` into composed nodes. These nodes are then powered off to ensure they are not consuming power. :: /redfish/v1/Nodes/1 * As described above for each of the composable systems an RSD specific flavor is created. * If a Chassis contains composable systems a hypervisor is created for that Chassis. * For each of the Chassis hypervisors, an RP is created for that compute node. Then its child RPs are created for each of the systems contained within that Chassis. The init_host function defines the ``hypervisor`` that will be created to manage the composable resources. These hypervisors allow you to boot the composed node instances from. An RSD hypervisor is defined at a Chassis level. In an RSD context a chassis contains all of the available composable systems. If a chassis is present and has associated composable systems a hypervisor for that chassis is created, e.g.: :: +----+---------------------------------+-----------------+---------------+-------+ | ID | Hypervisor Hostname | Hypervisor Type | Host IP | State | +----+---------------------------------+-----------------+---------------+-------+ | 1 | /redfish/v1/Chassis/1-c-module1 | composable | 10.237.222.44 | up | +----+---------------------------------+-----------------+---------------+-------+ This hypervisor will allow a composed node to be booted from any of the system(s) that are contained within that chassis. The ``memory_mb`` and ``vcpus`` resources that are presented for consumption, are the combined resources of all the composable systems available contained within that Chassis. The implementation for this involves: - Leveraging ``rsd-lib`` to get all of the available chassis - Check for composable systems contained within these chassis. - Try and create a hypervisor for this chassis if it has at least one composable system, if one does not exist. - Remove any hypervisors that no longer have a related system/chassis. update_provider_tree() ---------------------- To track the physical resources through placement, a parent resource provider(RP) is created for each of the Chassis which contain composable systems. Each of these parents then have associated children RPs that reflect the entire composable compute systems, e.g.: :: +--------------------------------------+---------------------------------+------------+ | uuid | name | generation | +--------------------------------------+---------------------------------+------------+ | 8a14a805-1aaa-4f96-b4ee-da089d2953b8 | /redfish/v1/Chassis/1-c-module1 | 1 | | e9e1bddc-3fef-420b-a5b3-60df50d1bccc | /redfish/v1/Systems/1-s-1 | 1 | +--------------------------------------+---------------------------------+------------+ In terms of how the resources are tracked using these RPs. Like the hypervisors the parent RP, at the Chassis level, will track the combined ``VCPU`` and ``MEMORY_MB`` information about all of the systems contained within that Chassis. :: +----------------+------------------+----------+----------+-----------+----------+-------+ | resource_class | allocation_ratio | max_unit | reserved | step_size | min_unit | total | +----------------+------------------+----------+----------+-----------+----------+-------+ | VCPU | 1.0 | 128 | 0 | 1 | 1 | 128 | | MEMORY_MB | 1.0 | 49151 | 0 | 1 | 1 | 49151 | +----------------+------------------+----------+----------+-----------+----------+-------+ The child, System, RP will track itself as an entire entity, i.e. when a composed node instance is booted from a specified system the entire capacity of its RP is consumed. It is defined as follows: :: +-------------------------+------------------+----------+----------+-----------+----------+-------+ | resource_class | allocation_ratio | max_unit | reserved | step_size | min_unit | total | +-------------------------+------------------+----------+----------+-----------+----------+-------+ | CUSTOM_49151MB_128VCPUS | 1.0 | 1 | 0 | 1 | 1 | 1 | +-------------------------+------------------+----------+----------+-----------+----------+-------+ A custom resource is created for each system based on its capacity and this is consumed when a composed node instance is booted from that system. spawn() ------- A composed instance is requestable via the same commands as any other instance e.g. VM, container, baremetal. :: openstack server create --image <IMAGE_ID> --flavor <RSD_FLAVOR_ID> When a composed node instance request is made the following chain of events happens: * Checks are made to ensure that the node is valid and that the request can be made. * The specified composed node is powered on. * The ``vcpus`` and ``memory_mb`` information is consumed from the selected hypervisor. * The ``VCPU`` and ``MEMORY_MB`` information is consumed by the Chassis RP. The entire System RP provider is consumed as defined by the custom resource in the flavor. :: +----------------+-------+ | resource_class | usage | +----------------+-------+ | VCPU | 72 | | MEMORY_MB | 48639 | +----------------+-------+ +------------------------+-------+ | resource_class | usage | +------------------------+-------+ | CUSTOM_48639MB_72VCPUS | 1 | +------------------------+-------+ Once all of this is complete and correctly tracked a composed node instance will be present through nova. :: +-------------------------------------+-----------------------------------------------------------------+ | Field | Value | +-------------------------------------+-----------------------------------------------------------------+ | OS-DCF:diskConfig | MANUAL | | OS-EXT-AZ:availability_zone | nova | | OS-EXT-SRV-ATTR:host | <HOST_NAME> | | OS-EXT-SRV-ATTR:hypervisor_hostname | /redfish/v1/Chassis/1-c-module1 | | OS-EXT-SRV-ATTR:instance_name | instance-00000004 | | OS-EXT-STS:power_state | Running | | OS-EXT-STS:task_state | None | | OS-EXT-STS:vm_state | active | | OS-SRV-USG:launched_at | 2019-03-21T11:32:45.000000 | | OS-SRV-USG:terminated_at | None | | accessIPv4 | | | accessIPv6 | | | addresses | private=192.168.208.40, fd4a:d4d1:28c3:0:f816:3eff:fef5:a70d | | config_drive | | | created | 2019-03-21T11:32:41Z | | flavor | RSD-48639MB-72vcpus (48639MB-72vcpus) | | hostId | 58022ba4ffb1ff0ac963f189b216f621c43a8a8ac5bf6f01044b576e | | id | 484f7ecc-ea50-4d6a-a349-5b63b4e8113e | | image | cirros-0.4.0-x86_64-disk (55892a1e-2b99-4608-8eae-e7f27ed9d1ca) | | key_name | None | | name | rsd1 | | progress | 0 | | project_id | a6c7f3730a0d424ea1700de4baa27383 | | properties | | | security_groups | name='default' | | status | ACTIVE | | updated | 2019-03-21T11:32:45Z | | user_id | bd85db17573d4505bbfced787e58cc38 | | volumes_attached | | +-------------------------------------+-----------------------------------------------------------------+ In terms of the events that have occured to the composed node through the PODM, the specified composed node has been powered on. power_off() ----------- Once a composed node is created the aim is to manage it as any other nova instance. The following commands are currently supported and the result of the PODM actions are defined below: ``openstack server stop`` You can run this command and the associated composed node will be powered off. ``rsd-lib`` will then physically power of the composed node with the following action: :: node_inst.reset_node('graceful shutdown') power_on() ---------- ``openstack server start`` To start up the composed node, ``rsd-lib`` calls the PODM to perform the following action: :: node_inst.reset_node('force on') reboot() -------- ``openstack server reboot --hard`` You can perform a hard reboot on the composed node instance. This results in ``rsd-lib`` requesting the following action from PODM: :: node_inst.reset_node('force restart') ``openstack server reboot --soft`` To perform a soft reboot ``rsd-lib`` performs the following action through PODM: :: node_inst.reset_node('graceful restart') destroy() --------- This function defines the sequence of events that occurs when a composed node instance is selected for deletion. For the command: :: openstack server delete The composed node instance is being deleted through nova. When this request is made from a nova perspective the composed node instance is deleted. However, from an RSD perspective a few different events occurs: * The composed node associated with the instance is requested to be deleted through ``rsd-lib``, i.e. the node is disassembled and its resources are deallocated: :: node_inst.delete_node() * Although the node is now deleted, we want to be able to re-use the flavor, resource and hypervisor information used to boot the initial node. To do this a new node has to be created and powered on in your RSD deployment. :: node_inst = COMPOSED_NODE_COL.compose_node() rep_node = self.driver.PODM.get_node(node_inst) rep_node.assemble_node() * Now there is always a composed node associated with a specified flavor which can be used to boot an instance. Additional Functionality: Flavor Auto-generation ------------------------------------------------ A flavor is required to boot an instance from, to boot a composed node instance a specific RSD flavor is required with the custom resource defined. Based on the capacity of the composable systems available an RSD flavor is created and reserved for booting a composed node instance. The flavor would be defined as follows: :: +----------------------------+---------------------------------------+ | Field | Value | +----------------------------+---------------------------------------+ | OS-FLV-DISABLED:disabled | False | | OS-FLV-EXT-DATA:ephemeral | 0 | | access_project_ids | None | | disk | 0 | | id | 523775MB-28vcpus | | name | RSD-523775MB-28vcpus | | os-flavor-access:is_public | True | | properties | resources:CUSTOM_523775MB_28VCPUS='1' | | ram | 523775 | | rxtx_factor | 1.0 | | swap | | | vcpus | 28 | +----------------------------+---------------------------------------+ The ``properties`` parameter defines the custom resource as an ``extra_specs`` that is consumed from placement and the system RP when the specified composed node is booted. The current implementation of this feature enables a flavor to be auto-created for each composable system available. However it also prevents duplicate flavors being created if multiple systems of the same capacity are available. In addition to this, if a system is removed from a Chassis and is no longer available, its associated flavor is removed. :: NOTE: RSD composed nodes cannot be created using any of the standard flavors. Alternatives ------------ There is one alternative approach to managing an RSD deployment through the use of OpenStack. It requires the use of Ironic to manage the composed nodes. Which all have to be manually created and enrolled into the ironic database. https://www.intel.com/content/dam/www/public/us/en/documents/guides/rsd-openstack-implementation-guide.pdf An RSD client was also created to carry out all of the commands to manage the RSD deployment and its composed nodes. https://github.com/openstack/python-rsdclient Data model impact ----------------- None REST API impact --------------- None Security impact --------------- To auto-generate the flavors the driver has to authenticate to keystone. To perform any of the API calls to check, delete or create a new flavor. In addition to this, access has to be granted to gather the resource information from the RSD deployment. There is security communication between the virt-driver and the PODM threw ``rsd-lib``. Based on configuration options set on deployment: :: PODM_IP=${PODM_IP:-'localhost'} PODM_USER=${PODM_USER:-'admin'} PODM_PASSWD=${PODM_PASSWD:-'admin'} PODM_PORT=${PODM_PORT:-8443} ``rsd-lib`` makes an API call to the PODM in your RSD deployment using the access credentials provided and attempts to authenticate your OpenStack deployment with your RSD deployment. :: self.PODM = rsd_lib.RSDLib(PODM_URI, username=CONF.rsd.podm_user, password=CONF.rsd.podm_password, verify=False).factory() The API call would be as follows: :: GET https://<PODM-HOST>:<PODM-PORT>/redfish/v1 Then a response with the following JSON body would be returned on successful authentication. :: {'@odata.type': '#ServiceRoot.v1_1_1.ServiceRoot', 'Fabrics': { '@odata.id': '/redfish/v1/Fabrics'}, 'Managers': { '@odata.id': '/redfish/v1/Managers'}, 'Description': 'POD Manager Service root', 'Links': { 'Oem': {}}, 'EventService': { '@odata.id': '/redfish/v1/EventService'}, 'RedfishVersion': '1.1.0', 'StorageServices': { '@odata.id': '/redfish/v1/StorageServices'}, '@odata.id': '/redfish/v1', '@odata.context': '/redfish/v1/$metadata#ServiceRoot.ServiceRoot', 'UUID': 'f859d652-eba2-466b-bb0c-2e37ee8b0b9c', 'Chassis': { '@odata.id': '/redfish/v1/Chassis'}, 'Systems': { '@odata.id': '/redfish/v1/Systems'}, 'TelemetryService': { '@odata.id': '/redfish/v1/TelemetryService'}, 'Oem': { 'Intel_RackScale': { '@odata.type': '#Intel.Oem.ServiceRoot', 'EthernetSwitches': { '@odata.id': '/redfish/v1/EthernetSwitches'}, 'Nodes': { '@odata.id': '/redfish/v1/Nodes'}, 'ApiVersion': '2.3.0'} }, 'Id': 'ServiceRoot', 'Name': 'Service root'} :: NOTE: PODM does not support integration with Keystone. Integration with Keystone AA is the preferred way forward once supported. Notifications impact -------------------- None Other end user impact --------------------- This change does not impact the nova-client, you create and manage server instances of type composed node as you would any other instance. Performance Impact ------------------ This code is called in place of any other virt-driver implementation. * It may impact performance on the nova-compute service based on its calls to the RSD deployment to check for changes in the available resources. The current implementation relies on the polling mechanism implemented by the nova compute service. So for now these checks are only performed when the compute service starts up and when the following required compute_driver functions are called: :: init_host get_available_nodes get_available_resource update_provider_tree As part of these checks the additional calls are made to the nova flavors API where necessary. To create, delete or update the list of available RSD flavors. * There will also be database queries through nova API calls. This will be done to check, create and delete the required RSD flavors. * In addtition to this the way the hypervisors are created for the RSD deployment. A hypervisor is created for each Chassis present in the deployment, to each scheduler filter has to be called for each of these hosts for every instance that is being created. However to prevent over creation of hypervisors and unecessary calls, a hypervisor is only created for a Chassis that has an associated composable system. Other deployer impact --------------------- To use this virt-driver a deployer will have to: * Have access to an RSD deployment, and the credentials to access it. * Configure the driver correctly as per the instructions in: https://github.com/openstack/rsd-virt-for-nova/blob/master/doc/source/installation_guide.rst * Doesn't require the installation of another CLI as composed node instances can be managed like any other instance. Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: helena-mcgough Other contributors: thaysilva ivens.zambrano Work Items ---------- - Spec: helena-mcgough - rsd-virt-for-nova driver(WIP): helena-mcgough Dependencies ============ None Testing ======= This new driver currently has unit tests implemented that are run as part of the zuul verification process. This feature will also have functional tests. It aims to be tested on real RSD hardware. Documentation Impact ==================== Usage and installation documentation will be included in the repo itseld: https://github.com/openstack/rsd-virt-for-nova/tree/master/doc/source References ========== * Information about intelRSD: https://www.intel.com/content/www/us/en/architecture-and-technology/rack-scale-design/rack-scale-design-resources.html * IntelRSD source code: https://github.com/intel/intelRSD * Work in progress, initial implementation of the rsd-virt-for-nova driver: https://github.com/openstack/rsd-virt-for-nova History ======= None ",,696,0
openstack%2Fansible-role-container-registry~master~Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c,openstack/ansible-role-container-registry,master,Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c,Add docker login support,MERGED,2019-06-20 16:56:00.000000000,2019-06-25 22:32:28.000000000,2019-06-25 22:32:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 16:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/6272bf12b942db4b0faed0d0e42ef48cf72e7c02', 'message': 'Add docker login support\n\nWe need to be able to perform a login prior to pulling containers from\nregistries that require authentication.\n\nChange-Id: Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c\nRelated-Bug: #1833584\n'}, {'number': 2, 'created': '2019-06-20 19:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/93e3b18dcba64f911fabb51417ba6837f4590afb', 'message': 'Add docker login support\n\nWe need to be able to perform a login prior to pulling containers from\nregistries that require authentication.\n\nChange-Id: Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c\nRelated-Bug: #1833584\n'}, {'number': 3, 'created': '2019-06-20 21:33:38.000000000', 'files': ['tasks/docker-login.yml', 'README.rst', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/9bf5868d028638e4b265a740e272eb9fedc12489', 'message': 'Add docker login support\n\nWe need to be able to perform a login prior to pulling containers from\nregistries that require authentication.\n\nChange-Id: Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c\nRelated-Bug: #1833584\n'}]",12,666644,9bf5868d028638e4b265a740e272eb9fedc12489,24,7,3,14985,,,0,"Add docker login support

We need to be able to perform a login prior to pulling containers from
registries that require authentication.

Change-Id: Ic3b720ba35db8e3f3f866cd31d9171e91b04a86c
Related-Bug: #1833584
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/44/666644/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/docker-login.yml', 'README.rst', 'defaults/main.yml']",3,6272bf12b942db4b0faed0d0e42ef48cf72e7c02,bug/1833584,container_registry_logins: [],,17,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~Ifb17e002d011a8618496a5af375ac75fd4112630,openstack/tripleo-heat-templates,stable/rocky,Ifb17e002d011a8618496a5af375ac75fd4112630,Update to the ceilometer publisher list,MERGED,2019-04-16 20:27:09.000000000,2019-06-25 22:32:27.000000000,2019-06-25 22:32:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28504}]","[{'number': 1, 'created': '2019-04-16 20:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cb60667e06da31a8969b8b0d8929a8b9ed3767b', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n(cherry picked from commit 25b3ee40c602c8341f1b46a98b5e0047335e3653)\n'}, {'number': 2, 'created': '2019-04-17 22:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49261a4ff19dd865c127050bb391d91828bffede', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n'}, {'number': 3, 'created': '2019-05-31 17:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40b687b38c58bcc70950269fcf2be155ae74c5c3', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n'}, {'number': 4, 'created': '2019-05-31 18:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a87887670bbe11516192555d5ee05aeb9d54ecfd', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n'}, {'number': 5, 'created': '2019-06-24 17:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b90a7215f9c8b3622605f5aee54bebbb5d94c176', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n'}, {'number': 6, 'created': '2019-06-24 18:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0aa2d5cc1a17a75659d823b7924445c0d4c60249', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n(cherry picked from commit b90a7215f9c8b3622605f5aee54bebbb5d94c176)\n'}, {'number': 7, 'created': '2019-06-24 18:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b4c17993ef1742ad004ecf26124c5c54a18e4eb', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n(cherry picked from commit b90a7215f9c8b3622605f5aee54bebbb5d94c176)\n'}, {'number': 8, 'created': '2019-06-24 20:43:44.000000000', 'files': ['docker/services/metrics/qdr.yaml', 'environments/metrics/collectd-write-qdr.yaml', 'puppet/services/ceilometer-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29b370dce397c746be654b22df0c3b0a0f0e30e0', 'message': 'Update to the ceilometer publisher list\n\nTemplate level changes to update endpoint list\nin ceilometer to support data dispatch to\nqdr running locally.\n\nDepends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea\nDepends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954\nChange-Id: Ifb17e002d011a8618496a5af375ac75fd4112630\n(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)\n(cherry picked from commit b90a7215f9c8b3622605f5aee54bebbb5d94c176)\n'}]",0,653144,29b370dce397c746be654b22df0c3b0a0f0e30e0,27,5,8,28504,,,0,"Update to the ceilometer publisher list

Template level changes to update endpoint list
in ceilometer to support data dispatch to
qdr running locally.

Depends-On: I7bbac48f2dfa9ec532f56a814af25117e11511ea
Depends-On: Ifd5c4bca8d1fc7bbfa9f03fc09250cce9dabd954
Change-Id: Ifb17e002d011a8618496a5af375ac75fd4112630
(cherry picked from commit e8f3436b6aecdc2955ffb88b7f09adcabce7b62a)
(cherry picked from commit b90a7215f9c8b3622605f5aee54bebbb5d94c176)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/653144/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/qdr.yaml', 'environments/metrics-collectd-qdr.yaml', 'puppet/services/ceilometer-base.yaml']",3,7cb60667e06da31a8969b8b0d8929a8b9ed3767b,saf_client_side," AmqpRpcAddressPrefix: default: '' description: Address prefix for RPC addresses type: string AmqpNotifyAddressPrefix: default: '' description: Address prefix for Notification addresses type: string MetricsQdrPort: default: '5666' description: Service name or port number on which the qdrouterd will accept connections. This argument must be string, even if the numeric form is used. type: string CeilometerQdrPublish: default: false description: Whether to send telemetry data to Qdr. type: boolean ceilometer_qdr_publish: {equals: [{get_param: CeilometerQdrPublish}, true]} map_merge: - ceilometer::debug: if: - service_debug_unset - {get_param: Debug } - {get_param: CeilometerDebug } ceilometer::keystone::authtoken::project_name: 'service' ceilometer::keystone::authtoken::user_domain_name: 'Default' ceilometer::keystone::authtoken::project_domain_name: 'Default' ceilometer::keystone::authtoken::password: {get_param: CeilometerPassword} ceilometer::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::keystone::authtoken::auth_url: { get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::agent::auth::auth_password: {get_param: CeilometerPassword} ceilometer::agent::auth::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::agent::notification::manage_event_pipeline: {get_param: ManageEventPipeline} ceilometer::agent::notification::manage_pipeline: {get_param: ManagePipeline} ceilometer::agent::polling::manage_polling: {get_param: ManagePolling} ceilometer::agent::auth::auth_region: {get_param: KeystoneRegion} ceilometer::agent::auth::auth_tenant_name: 'service' ceilometer::agent::auth::auth_user_domain_name: 'Default' ceilometer::agent::auth::auth_project_domain_name: 'Default' ceilometer::agent::auth::auth_endpoint_type: 'internalURL' ceilometer::notification_driver: {get_param: NotificationDriver} ceilometer::amqp_rpc_address_prefix: {get_param: AmqpRpcAddressPrefix} ceilometer::amqp_notify_address_prefix: {get_param: AmqpNotifyAddressPrefix} # TODO(ansmith): remove once p-t-o switches to oslo params ceilometer::rabbit_userid: {get_param: RpcUserName} ceilometer::rabbit_password: {get_param: RpcPassword} ceilometer::rabbit_use_ssl: {get_param: RpcUseSSL} ceilometer::rabbit_port: {get_param: RpcPort} ceilometer::rabbit_heartbeat_timeout_threshold: 60 ceilometer::telemetry_secret: {get_param: CeilometerMeteringSecret} ceilometer::snmpd_readonly_username: {get_param: SnmpdReadonlyUserName} ceilometer::snmpd_readonly_user_password: {get_param: SnmpdReadonlyUserPassword} ceilometer::host: ""%{hiera('fqdn_canonical')}"" tripleo::profile::base::ceilometer::event_pipeline_publishers: {get_param: EventPipelinePublishers} tripleo::profile::base::ceilometer::pipeline_publishers: {get_param: PipelinePublishers} - if: #Ceilometer connection to qdr - ceilometer_qdr_publish - tripleo::profile::base::ceilometer::notifier_host_addr: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MetricsQdrNetwork]} tripleo::profile::base::ceilometer::notifier_host_port: {get_param: MetricsQdrPort} - {}"," ceilometer::debug: if: - service_debug_unset - {get_param: Debug } - {get_param: CeilometerDebug } ceilometer::keystone::authtoken::project_name: 'service' ceilometer::keystone::authtoken::user_domain_name: 'Default' ceilometer::keystone::authtoken::project_domain_name: 'Default' ceilometer::keystone::authtoken::password: {get_param: CeilometerPassword} ceilometer::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::keystone::authtoken::auth_url: { get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::agent::auth::auth_password: {get_param: CeilometerPassword} ceilometer::agent::auth::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } ceilometer::agent::notification::manage_event_pipeline: {get_param: ManageEventPipeline} ceilometer::agent::notification::event_pipeline_publishers: {get_param: EventPipelinePublishers} ceilometer::agent::notification::manage_pipeline: {get_param: ManagePipeline} ceilometer::agent::notification::pipeline_publishers: {get_param: PipelinePublishers} ceilometer::agent::polling::manage_polling: {get_param: ManagePolling} ceilometer::agent::auth::auth_region: {get_param: KeystoneRegion} ceilometer::agent::auth::auth_tenant_name: 'service' ceilometer::agent::auth::auth_user_domain_name: 'Default' ceilometer::agent::auth::auth_project_domain_name: 'Default' ceilometer::agent::auth::auth_endpoint_type: 'internalURL' ceilometer::notification_driver: {get_param: NotificationDriver} # TODO(ansmith): remove once p-t-o switches to oslo params ceilometer::rabbit_userid: {get_param: RpcUserName} ceilometer::rabbit_password: {get_param: RpcPassword} ceilometer::rabbit_use_ssl: {get_param: RpcUseSSL} ceilometer::rabbit_port: {get_param: RpcPort} ceilometer::rabbit_heartbeat_timeout_threshold: 60 ceilometer::telemetry_secret: {get_param: CeilometerMeteringSecret} ceilometer::snmpd_readonly_username: {get_param: SnmpdReadonlyUserName} ceilometer::snmpd_readonly_user_password: {get_param: SnmpdReadonlyUserPassword} ceilometer::host: ""%{hiera('fqdn_canonical')}""",152,35
openstack%2Ftripleo-heat-templates~master~I09fbe0a0b856462989fc1c1e46d676fe0923856c,openstack/tripleo-heat-templates,master,I09fbe0a0b856462989fc1c1e46d676fe0923856c,Remove deprecated config-download-environment.yaml,MERGED,2019-06-17 11:50:23.000000000,2019-06-25 22:32:25.000000000,2019-06-25 22:32:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-17 11:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89f200c6b8201e00d5ed1b0753cbbbe11dbd4ca1', 'message': ""Remove deprecated config-download-environment.yaml\n\nMapped OS::TripleO::WorkflowSteps to OS::Heat::None\nas it's not expected to used with config-download.\n\nAll other resource registry mappings are defaults in\novercloud-resource-registry-puppet.j2.yaml.\n\nChange-Id: I09fbe0a0b856462989fc1c1e46d676fe0923856c\nPartial-Bug: #bug/1832441\n""}, {'number': 2, 'created': '2019-06-17 11:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa0cb66de1371f75ddc58f461e2342ba819b9a79', 'message': ""Remove deprecated config-download-environment.yaml\n\nMapped OS::TripleO::WorkflowSteps to OS::Heat::None\nas it's not expected to be used with config-download.\n\nAll other resource registry mappings are defaults in\novercloud-resource-registry-puppet.j2.yaml.\n\nChange-Id: I09fbe0a0b856462989fc1c1e46d676fe0923856c\nPartial-Bug: #1832441\n""}, {'number': 3, 'created': '2019-06-17 13:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c723b3c6e42c650e2d8d586b48398e5443dad0e', 'message': ""Remove deprecated config-download-environment.yaml\n\nMapped OS::TripleO::WorkflowSteps to OS::Heat::None\nas it's not expected to be used with config-download.\n\nAll other resource registry mappings are defaults in\novercloud-resource-registry-puppet.j2.yaml.\n\nChange-Id: I09fbe0a0b856462989fc1c1e46d676fe0923856c\nDepends-On: https://review.opendev.org/665655\nDepends-On: https://review.opendev.org/665663\nPartial-Bug: #1832441\n""}, {'number': 4, 'created': '2019-06-21 04:56:14.000000000', 'files': ['environments/config-download-environment.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d9efc3785d40e791cc5f4f48b8b5f4616219eb4', 'message': ""Remove deprecated config-download-environment.yaml\n\nMapped OS::TripleO::WorkflowSteps to OS::Heat::None\nas it's not expected to be used with config-download.\n\nAll other resource registry mappings are defaults in\novercloud-resource-registry-puppet.j2.yaml.\n\nChange-Id: I09fbe0a0b856462989fc1c1e46d676fe0923856c\nDepends-On: https://review.opendev.org/665663\nPartial-Bug: #1832441\n""}]",1,665650,0d9efc3785d40e791cc5f4f48b8b5f4616219eb4,39,7,4,8833,,,0,"Remove deprecated config-download-environment.yaml

Mapped OS::TripleO::WorkflowSteps to OS::Heat::None
as it's not expected to be used with config-download.

All other resource registry mappings are defaults in
overcloud-resource-registry-puppet.j2.yaml.

Change-Id: I09fbe0a0b856462989fc1c1e46d676fe0923856c
Depends-On: https://review.opendev.org/665663
Partial-Bug: #1832441
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/665650/4 && git format-patch -1 --stdout FETCH_HEAD,"['environments/config-download-environment.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",2,89f200c6b8201e00d5ed1b0753cbbbe11dbd4ca1,bug/1832441, OS::TripleO::WorkflowSteps: OS::Heat::None, OS::TripleO::WorkflowSteps: OS::Mistral::ExternalResource,1,15
openstack%2Fnova-specs~master~I687af2d08806f26a07183746eaf8e5a3456957d4,openstack/nova-specs,master,I687af2d08806f26a07183746eaf8e5a3456957d4,RMD Plugin: Energy Efficiency using CPU Core P-State control The power state of a core can be setup between a minimum and the maximum frequency on the cores as defined in the factory. Each core on a CPU can be defined individually to perform at specific frequencies during specific periods of time. The value of this feature is to be able to reconfigure the power state of the cores according to the workload demands by setting the core frequency for a period of time. Maintaining a high core frequency without the need for it by the workload wastes energy and reducing the frequency results in a power and electricity saving for operators of servers. Energy efficiency is the a major driver to make this feature dynamically driven within the node policy definition and the workload functional policy. Customers report that saving 10-20% of energy over a 24 hour period is highly valued.,ABANDONED,2019-04-08 23:17:55.000000000,2019-06-25 22:31:59.000000000,,"[{'_account_id': 7}, {'_account_id': 10068}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 29334}, {'_account_id': 30001}]","[{'number': 1, 'created': '2019-04-08 23:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8a1be8846ab953ca93587feece474fb323d2d363', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}, {'number': 2, 'created': '2019-04-08 23:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1ce7f5d6dd963b4ef8421517ccc50d6cb4ff42b2', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}, {'number': 3, 'created': '2019-04-08 23:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3779b802db54746b5039c331428d3a63b9cab26a', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}, {'number': 4, 'created': '2019-04-08 23:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c99476f2db961a8361a5f77a575da5e82d2aa2d7', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}, {'number': 5, 'created': '2019-04-09 01:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5fef2402bb14635adef28aee3fd3956d9b4007d3', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}, {'number': 6, 'created': '2019-04-23 23:02:57.000000000', 'files': ['specs/train/approved/rmd-plugin-energy-efficiency-core-p-states-control.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/162e95459445ae3fd110a907e619cb41101fb2d9', 'message': 'RMD Plugin: Energy Efficiency using CPU Core P-State control\nThe power state of a core can be setup between a minimum and the maximum\nfrequency on the cores as defined in the factory. Each core on a CPU can be\ndefined individually to perform at specific frequencies during specific periods\nof time. The value of this feature is to be able to reconfigure the power state\nof the cores according to the workload demands by setting the core frequency\nfor a period of time. Maintaining a high core frequency without the need for it\nby the workload wastes energy and reducing the frequency results in a power and\nelectricity saving for operators of servers. Energy efficiency is the a major\ndriver to make this feature dynamically driven within the node policy\ndefinition and the workload functional policy. Customers report that saving\n10-20% of energy over a 24 hour period is highly valued.\n\nChange-Id: I687af2d08806f26a07183746eaf8e5a3456957d4\n'}]",49,651024,162e95459445ae3fd110a907e619cb41101fb2d9,17,7,6,30001,,,0,"RMD Plugin: Energy Efficiency using CPU Core P-State control
The power state of a core can be setup between a minimum and the maximum
frequency on the cores as defined in the factory. Each core on a CPU can be
defined individually to perform at specific frequencies during specific periods
of time. The value of this feature is to be able to reconfigure the power state
of the cores according to the workload demands by setting the core frequency
for a period of time. Maintaining a high core frequency without the need for it
by the workload wastes energy and reducing the frequency results in a power and
electricity saving for operators of servers. Energy efficiency is the a major
driver to make this feature dynamically driven within the node policy
definition and the workload functional policy. Customers report that saving
10-20% of energy over a 24 hour period is highly valued.

Change-Id: I687af2d08806f26a07183746eaf8e5a3456957d4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/24/651024/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/rmd-plugin-energy-efficiency-core-p-states-control.rst'],1,8a1be8846ab953ca93587feece474fb323d2d363,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== RMD Plugin: Energy Efficiency using CPU Core P-State control ========================================== https://blueprints.launchpad.net/nova/+spec/rmd-plugin-energy-efficiency-core-p-states-control The power state of a core can be setup between a minimum and the maximum frequency on the cores as defined in the factory. Each core on a CPU can be defined individually to perform at specific frequencies during specific periods of time. The value of this feature is to be able to reconfigure the power state of the cores according to the workload demands by setting the core frequency for a period of time. Maintaining a high core frequency without the need for it by the workload wastes energy and reducing the frequency results in a power and electricity saving for operators of servers. Energy efficiency is the a major driver to make this feature dynamically driven within the node policy definition and the workload functional policy. Customers report that saving 10-20% of energy over a 24 hour period is highly valued. Problem description =================== Using the plugin model provided by RMD, this requirement describes the introduction of a new plugin to control the core frequency states for integration with. Intel CPU core frequency management technology is named Per Core P States or P states for short. In one mode of this technology, software controls the frequency of each core (Xeon-SP and Xeon-D) in range specific to the CPU model. The range is between the out of the box frequency (called P1) to a low value per CPU model. This allows software to set the frequency lower on low utilization cores and achieve an energy efficiency benefit. The power state of a core can be setup between a minimum and the maximum frequency on the cores as defined in the factory. Each core on a CPU can be defined individually to perform at specific frequencies during specific periods of time. The value of this feature is to be able to reconfigure the power state of the cores according to the workload demands by setting the core frequency for a period of time. Maintaining a high core frequency without the need for it by the workload wastes energy and reducing the frequency results in a power and electricity saving for operators of servers. Energy efficiency is the a major driver to make this feature dynamically driven within the node policy definition and the workload functional policy. Customers report that saving 10-20% of energy over a 24 hour period is highly valued. Using P-States is a standalone feature to achieve energy efficiency. However, it is worth noting this technology can operate in conjunction with SST-BF: The ceiling frequency and operating range is higher on some cores and lower on others when SST-BF is configured. The frequency control interfaces in HW remain the same with/without SST-BF. The max frequency value could be modified in a number of cores on the CPU by the introduction of Base Frequencies (SST-BF) control where a group of CPUs can be configured to work at a higher frequency and another group at a lower frequency, creating effectively two frequency tiers. Frequency control through P-States allows the sys-admin and the workload definition to configure the platform to set the power of a core to a specific frequency inside the SST-BF boundaries (highlownormal). There are three valid combinations for P-States and SST-BF status in a host, as described in the following table: P-states | SST-BF ------------------- On | Off Off | On On | On Use Cases --------- UC-1 As a Sys-Admin I want to be able to setup the initial state of the CPU cores P-States in the platform UC-2 As a tenant (VNF-M) I want RMD to apply the initial Power State configuration in the CPU cores before the workload is started based on the characteristics defined in the VNF policy (G7+G8) using the RMD Plugin described by G1 UC-3 As a Sys-Admin performing an under-cloud deployment and node configuration I want to be able to deliver a policy artefact (Node policy) to define the default behavior of P-States in the CPU cores UC-4 As a tenant (VNF-M) I want to be able to spin up a VM on a host providing the Energy Efficiency using P-States feature by advertising the feature as part of EPA UC-5 As a tenant (VNF-M) I want the workload to be scheduled on a host with the right SST-BF setup to support the workloads (VNF) required frequency UC-6 As a tenant (VNF-M) I want the workload to be pinned to a group of CPU cores capable of providing the combination of high and low frequency declared in the VNF policy UC-7 As a tenant (VNF-M) I want to be able describe the location of the VNF policy (object store, image store, well known protocol downloadable endpoint, etc.) as part of the flavor extra_specs. UC-8 As a tenant (VNF-M) I want to be able to deliver RMD's ""Workload Policy ID"" describing the P-States behavior to the platform scheduled to fulfill the workload throughput/latency, to be able to pull the artifact from its source UC-9 As a tenant (VNF-M) I want to be able to manage the rejection of a workload scheduling request if the CPU cores available do not provide the right SST-BF or if the initial configuration of P-States is not possible UC-10 As the platform resource manager, RMD (software component), I want to be able to match the base platform policy definitions with the workload (VNF) policy definitions and compute the applicability of the VNFs requirements Proposed change =============== Through the introduction of the RMD-Plugin: Energy Efficiency using CPU Core P-State control Nova can interact with the exposed Resource Management Daemon (RMD) APIs to allow tenants to manage specific hardware features on a compute node during runtime without the need to decommission and reconfigure the node offline- in this specific case, to modify the CPU frequency to increase the throughput of a workload during a high demand peaks. The behavior of the plugin is defined via a policy artifact that is handled by RMD. The location of the policy shall be delivered to RMD through the interpretation of a flavor extra_specs providing the URL to the policy source endpoint. Alternatives ------------ The alternative to this approach is to decommission the node and establish a different core frequency configuration. This defeats the purpose of the hardware feature as the core will be setup to a suboptimal energy consumption level that will never provide real advantages or provide a good cost/value ratio to the service provider. Alternative around RMDs Workload policy: instead of adding the complexity of the need to add a policy store, each item in the policy could be described as a flavor extra_spec. The policy definition for a workload could be complex as it may include more items that just the ones needed by the RMD-Plugin: Energy Efficiency using CPU Core P-State control Data model impact ----------------- N/A REST API impact --------------- N/A Security impact --------------- The northbound interface provided by RMD needs to verify access to the resource feature. The configuration required to talk to RMD could be held as part of the Nova local configuration, exposing credentials, which is not desirable. Optional mechanisms imply the extension of the RMD API to implement keystone components. Notifications impact -------------------- The failure to spawn a VM due to the incompatibility of a nodes RMD policy with the workloads RMD policy. This will require to expose the RMD return message logs. Other end user impact --------------------- The end user will need to create different flavors to define different CPU top core frequencies (highlownormal) and this shall be interpreted by the functionality introduced by the SST-BF spec. For each workload requiring a different RMD-Plugin: Energy Efficiency using CPU Core P-State control policy content, the tenant will be required to create a different flavor with a different extra_spec pointing to a different policy source. Performance Impact ------------------ When creating a VM requiring specific CPU cores frequency and the presence of Energy Efficiency in the platform, the nova virt driver will perform an extra step to communicate with RMD and deliver the policy parameters. This will introduce a locking period to wait for verification of RMDs workload policy compatibility with RMDs node policy and then for reconfiguration of the hardware. The performance impact will depend on the number of different RMD resource plugins living in the platform under RMD, the complexity of the policy and the specific CPU reconfiguration time. Other deployer impact --------------------- The deployer shall pull to the node the RMD Core and the RMD-Plugin: Energy Efficiency using CPU Core P-State control. This shall be handled by the sys-admin under-cloud configuration process. Developer impact ---------------- Nova virt driver requires changes to interact with RMD when the configuration rmd_enabled=true is present in the section [compute] Nova virt-driver requires changes to extract from flavor extra_specs the workload RMD policy location and then to deliver this information to the method workloadPolicyURL on the RMD API Upgrade impact -------------- N/A (need input from the community based on the spec for the upgrade implications) Implementation ============== Assignee(s) ----------- Primary assignee: Other contributors: IvensZambrano Dakshina Ilangovan Work Items ---------- The process starts with under-cloud configuration steps, when delivering the component for RMD. Under-cloud and configuration steps: 1. The P-States option needs to be enabled on the nodes BIOS 2. The under-cloud deployment tool installs the Operating System and the RMD software component 3. The under-cloud deployment tool delivers the RMDs node policy as defined by the under-cloud sysadmin. The node policy will hold behavioral definitions for multiple RMD plugins (not just for RMD-Plugin: Energy Efficiency using CPU Core P-State control) 4. The plugins defined by the policy are loaded to the node from an object store holding them 5. RMD gets started and it reads RMDs node policy and performs the initial configuration for: a. RMDs base configuration including policy source location (Glance by default) b. Every resource Manager as described by the policy c. Every resource as described by the policy. 6. Initialization outcome: a. The initialization of resources could fail and the under-cloud deployment process will report as failed on the compromised node b. The initialization of resources succeeds and the enablement of the node continues 7. The under-cloud deployment tool continues with the compute node configuration by installing the nova components 8. To indicate the existence of RMD a line is added to the nova.conf section [compute] rmd_enable=true. In the event RMD is unavailable though nova.conf.rmd=true, resource inventory is not updated and resource feature is unavailable. 9. To advertise the existence of RMD-Plugin: Energy Efficiency using CPU Core P-State control a new entry is added under the [compute] section of nova.conf indicating rmd_plugin_p_states=true 10. From now on, any request to create a VM requiring specific frequency through the flavor extra_specs (see VM Deployment Steps), will perform a call to RMDs API to setup the right resources configuration 11. The CPU capabilities and features are queried from RMD by nova as part of the update_provider_tree to get the cores topology and their respective PBF frequencies. This information is translated to the right provider tree and inventory structure and synced back to placement API. VM deployment steps: 1. RMDs workload policy artefact is added to a well know location accessible from the RMD process running on the node. 2. A new flavor is created by the tenant and the flavor extra_specs holds: a. The ID of RMDs workload policy b. The number of vCPUs required Without SST-BF Enabled properties -> hw:cpu_policy='dedicated', cpus.p_energy_efficiency_enabled='0-2,5-7', cpus.p_energy_efficiency_disabled='3-4' With SST-BF Enabled properties -> cpus.CUSTOM_PRI_HIGH='0-4', cpus.CUSTOM_PRI_LOW='5-7', hw:cpu_policy='dedicated', cpus.p_energy_efficiency_enabled*='0-2,5-7', cpus.p_energy_efficiency_disabled**='3-4' *p_energy_efficiancy_enabled: the hardware takes care of the frequencies to lower the power consumption based on the ongoing load **p_energy_efficiancy_disabled: the core is setup to avoid frequency fluctuation and remain on the top level frequency offered by the core 3. A new VM is requested of that specific flavor 4. Scheduler queries the resource provider tree to identify the cores with the characteristics required by the flavor that are available 5. The scheduler sends the placement request to the node, the nodes send the metadata to RMD a. The CPU pinning requirements and SST-BF specific cores frequencies availability are verified by nova virt driver if specified as part of the flavor extra-specs 6. The virt-driver passes down RMDs workload policy ID to RMD using RMDs REST API and waits for RMDs response a. RMD pulls the policy from the well known location b. RMD validates the compatibility of the policy c. RMD checks the configuration required for the VM is applicable on the node d. The failure of this step will revert the node placement as usual e. RMD asks the corresponding plugin to apply the required configuration f. The plugin executes the change in the resource g. RMD reports back to the nova virt-driver 7. The virt-driver reports back to the scheduler with the operation result 8. Placement API gets updated with the resources used and the new state of the node and consumed resources. Dependencies ============ The implementation of this feature depends on the implementation of the following RMD API method put workloadPolicyURL(String):bool This method allows nova to talk to RMD and deliver the policy ID for the workload requested. The boolean return value will indicate if the workload policy is compatible with the node policy and the result of the reconfiguration of the platform resource CI process need to be in place for the verification and validation of the ""RMD: Energy Efficiency using P-States"" functionality and added to the OpenStack CI verification loop RMD Policy: ----------- Node Policy: <WIP> Workload Policy: <WIP> Testing ======= Unit, functional and integration test is required for this feature to verify the end to end implementation Flavor creation with extra-specs Workload shceduling Policy compatibility verification Workload late rejection Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== History ======= *Initial Version",,426,0
openstack%2Fmanila~master~Idac30b5e79cba9352f421654a1a94054dd1ba110,openstack/manila,master,Idac30b5e79cba9352f421654a1a94054dd1ba110,Add admin ref for manage/unmanage servers DHSS=True,MERGED,2019-05-06 17:40:00.000000000,2019-06-25 22:21:25.000000000,2019-06-25 22:21:25.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 29632}]","[{'number': 1, 'created': '2019-05-06 17:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8d9f56175b37739a7c822ad4a954d310f2be0622', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 2, 'created': '2019-05-22 13:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/745a9f8f87c24f86c582d246938cf4021e52b33e', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 3, 'created': '2019-05-22 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/95edde03dbaa8671827e4a1f35e952b99aba82d9', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 4, 'created': '2019-05-23 20:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45459936de9c4f9613fa46f54a613a73c2f5ecb6', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 5, 'created': '2019-06-03 13:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/59edfb0b5c9a9b2654abd0ead22c0ad31c653d16', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 6, 'created': '2019-06-03 13:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ec2a73300e36522859d00b76a869a449033043e8', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 7, 'created': '2019-06-05 11:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dc782bb76657efe9927e14835183dcc7b3f80703', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 8, 'created': '2019-06-05 20:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2293e312652fd378286b2027c3305ae8e73301ab', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 9, 'created': '2019-06-06 17:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c23d060f4fcb17084bbf7d8cf5c1c86bc89682af', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 10, 'created': '2019-06-06 20:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5e4b27840d8444cbca35fec48b525e71563a2b6c', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nPartial-Bug: #1818758\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 11, 'created': '2019-06-07 11:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7fc635a6d2f2d83eabe46744f04b0791a298fc39', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nPartial-Bug: #1818758\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 12, 'created': '2019-06-09 15:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/96f4bc8a1a00d0d798c88c24ee5a8d9f2487c3bf', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nPartial-Bug: #1818758\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 13, 'created': '2019-06-11 01:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db4b2ffa217c97779b239ccdbddd6adcbe9417dd', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nPartial-Bug: #1818758\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}, {'number': 14, 'created': '2019-06-11 17:28:28.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-server-management.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/408348b5a47968822752260117e93b7a86b5d86a', 'message': 'Add admin ref for manage/unmanage servers DHSS=True\n\nThis patch updates the Manila admin reference adding information\nfor the feature manage/unmanage of share servers with DHSS=True\ndriver mode, introduced in Stein release.\n\nPartial-Bug: #1818758\nChange-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110\n'}]",102,657414,408348b5a47968822752260117e93b7a86b5d86a,133,14,14,29632,,,0,"Add admin ref for manage/unmanage servers DHSS=True

This patch updates the Manila admin reference adding information
for the feature manage/unmanage of share servers with DHSS=True
driver mode, introduced in Stein release.

Partial-Bug: #1818758
Change-Id: Idac30b5e79cba9352f421654a1a94054dd1ba110
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/657414/9 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share.rst', 'doc/source/admin/shared-file-systems-share-server-management.rst', 'doc/source/admin/shared-file-systems-manage-and-unmanage-share-servers.rst']",4,8d9f56175b37739a7c822ad4a954d310f2be0622,bug/1818758,".. _shared_file_systems_manage_and_unmanage_share_servers: ================================ Manage and unmanage share server ================================ To ``manage`` a share server means that when the driver is operating in the ``driver_handle_share_servers = True`` mode, the administrator manages a pre-existing share server contained in his storage. To ``unmanage`` means that the administrator is able to unregister an existing share server from the Shared File Systems service. To do so, the referred share server cannot have any share, otherwise the Shared File Systems service will throw up an error advising the administrator about existing shares. Manage a share server --------------------- To bring a share server under the Shared File System service, run the :command:`manila share-server-manage` command: .. code-block:: console manila share-server-manage [--driver_options [<key=value> [<key=value> ...]]] <host> <share_network> <identifier> The positional arguments are: - service_host. The manage-share service host in ``host@backend`` format, which consists of the host name for the back end and the name of the back end. - share_network. The share network where the share server is contained. - identifier. The identifier of the share server in the storage. The ``driver_options`` is an optional set of one or more key and value pairs that describe driver options. For this operation, we must ensure that the share type has the ``driver_handles_share_servers = True`` option. To manage a share server, run: .. code-block:: console $ manila share-server-manage \ manila@paris \ c895fe26-92be-4152-9e6c-f2ad230efb13 \ d753qe13-51ad-2046-ae45-j6jh765utt32 +--------------------+------------------------------------------+ | Property | Value | +--------------------+------------------------------------------+ | id | 441d806f-f0e0-4c90-b7e2-a553c6aa76b2 | | project_id | 907004508ef4447397ce6741a8f037c1 | | updated_at | None | | status | manage_starting | | host | manila@paris | | share_network_name | share_net_test | | share_network_id | c895fe26-92be-4152-9e6c-f2ad230efb13 | | created_at | 2019-04-25T18:25:23.000000 | | backend_details | {} | | is_auto_deletable | False | | identifier | d753qe13-51ad-2046-ae45-j6jh765utt32 | +--------------------+------------------------------------------+ Unmanage a share server ----------------------- To ``unmanage`` a share server, run :command:`manila share-server-unmanage <share-server>`. Then, try to print informations about the share server using :command:`manila share-server-show <share-server>` command. The result should indicate that the Shared File Systems service wasn't able to find the share. .. code-block:: console $ manila unmanage-share-server share_server_for_docs $ manila share-server-show share_server_for_docs ERROR: Share server share_server_for_docs could not be found. ",,104,8
openstack%2Fopenstack-helm~master~I03086d05abc8e14dab60494d1126e849f97ee375,openstack/openstack-helm,master,I03086d05abc8e14dab60494d1126e849f97ee375,Gate: Move jobs with duplicated coverage to periodics,MERGED,2019-06-24 20:43:05.000000000,2019-06-25 22:19:00.000000000,2019-06-25 22:19:00.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-24 20:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/141f6b4eca5e4e5e45e5af82933c6d217233038e', 'message': 'Gate: Move jobs with duplicated coverage to periodics\n\nThis PS moves the gates we have with duplicated coverage to\nperiodics, reducing the load we place on -infra with each ps\n\nChange-Id: I03086d05abc8e14dab60494d1126e849f97ee375\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-24 20:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/79a15c2539e6f2966070bd655a76a1bfdcec64ca', 'message': 'Gate: Move jobs with duplicated coverage to periodics\n\nThis PS moves the gates we have with duplicated coverage to\nperiodics, reducing the load we place on -infra with each ps\n\nChange-Id: I03086d05abc8e14dab60494d1126e849f97ee375\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-25 14:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/04809afbf13656d237ff51b128a883968b5da3e7', 'message': 'Gate: Move jobs with duplicated coverage to periodics\n\nThis PS moves the gates we have with duplicated coverage to\nperiodics, reducing the load we place on -infra with each ps\n\nChange-Id: I03086d05abc8e14dab60494d1126e849f97ee375\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-25 19:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/019287f228b6ecea0bb8fbe24f7a9156db5a4167', 'message': 'Gate: Move jobs with duplicated coverage to periodics\n\nThis PS moves the gates we have with duplicated coverage to\nperiodics, reducing the load we place on -infra with each ps\n\nChange-Id: I03086d05abc8e14dab60494d1126e849f97ee375\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-25 19:40:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/663328e6e54f29703d8f2b67f4b6ee6265d952e7', 'message': 'Gate: Move jobs with duplicated coverage to periodics\n\nThis PS moves the gates we have with duplicated coverage to\nperiodics, reducing the load we place on -infra with each ps\n\nChange-Id: I03086d05abc8e14dab60494d1126e849f97ee375\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",2,667224,663328e6e54f29703d8f2b67f4b6ee6265d952e7,16,9,5,23928,,,0,"Gate: Move jobs with duplicated coverage to periodics

This PS moves the gates we have with duplicated coverage to
periodics, reducing the load we place on -infra with each ps

Change-Id: I03086d05abc8e14dab60494d1126e849f97ee375
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/667224/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,141f6b4eca5e4e5e45e5af82933c6d217233038e,script-runner, - openstack-helm-keystone - openstack-helm-keystone-pike-ubuntu_xenial: voting: false - openstack-helm-keystone-rocky-opensuse_15: voting: false - openstack-helm-keystone-ldap - openstack-helm-glance - openstack-helm-glance-pike-ubuntu_xenial: voting: false - openstack-helm-glance-rocky-opensuse_15: voting: false - openstack-helm-heat - openstack-helm-heat-pike-ubuntu_xenial: voting: false - openstack-helm-heat-rocky-opensuse_15: voting: false, - openstack-helm-keystone - openstack-helm-keystone-pike-ubuntu_xenial: voting: false - openstack-helm-keystone-rocky-opensuse_15: voting: false - openstack-helm-keystone-ldap - openstack-helm-glance - openstack-helm-glance-pike-ubuntu_xenial: voting: false - openstack-helm-glance-rocky-opensuse_15: voting: false - openstack-helm-heat - openstack-helm-heat-pike-ubuntu_xenial: voting: false - openstack-helm-heat-rocky-opensuse_15: voting: false - openstack-helm-keystone - openstack-helm-keystone-ldap - openstack-helm-glance - openstack-helm-heat,16,20
openstack%2Ftripleo-common~master~I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0,openstack/tripleo-common,master,I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0,trigger image-build off of image-yaml changes,MERGED,2019-06-24 21:24:32.000000000,2019-06-25 22:07:37.000000000,2019-06-25 22:07:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-24 21:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/736eaf8130890f3e0fcc74c0a4702002b76f0804', 'message': ""trigger image-build off of image-yaml changes\n\nwhile we are adjusting the DIB for el8,\nlet's trigger the image build jobs until\neverything is stable again.\n\nChange-Id: I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0\n""}, {'number': 2, 'created': '2019-06-24 23:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdfeaee6ade91e744661d1ea2cd90a76d20732d9', 'message': ""trigger image-build off of image-yaml changes\n\nwhile we are adjusting the DIB for el8,\nlet's trigger the image build jobs until\neverything is stable again.\n\nChange-Id: I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0\n""}, {'number': 3, 'created': '2019-06-24 23:19:21.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87c1cac5d0dc15993ebf252c2d4426ab59485200', 'message': ""trigger image-build off of image-yaml changes\n\nwhile we are adjusting the DIB for el8,\nlet's trigger the image build jobs until\neverything is stable again.\n\nChange-Id: I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0\n""}]",6,667230,87c1cac5d0dc15993ebf252c2d4426ab59485200,17,7,3,9592,,,0,"trigger image-build off of image-yaml changes

while we are adjusting the DIB for el8,
let's trigger the image build jobs until
everything is stable again.

Change-Id: I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/667230/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,736eaf8130890f3e0fcc74c0a4702002b76f0804,I76345d14c9ec05776e189ea6ed0ad18ce5ac3fb0, - tripleo-buildimage-overcloud-full-centos-7: files: - ^image-yaml/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: files: - ^image-yaml/.*$ - tripleo-buildimage-overcloud-hardened-full-centos-7: files: - ^image-yaml/.*$,,9,0
openstack%2Ftripleo-heat-templates~master~I9510fd00755cf33df105ef637d047d3cb87243ae,openstack/tripleo-heat-templates,master,I9510fd00755cf33df105ef637d047d3cb87243ae,Idempotency for system_upgrade_prepare,MERGED,2019-06-24 13:27:16.000000000,2019-06-25 22:07:35.000000000,2019-06-25 22:07:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 13:27:16.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56a35beb51c050a928bf0ba6d82e730e730966ab', 'message': 'Idempotency for system_upgrade_prepare\n\nPartial-Bug: #1831690\nChange-Id: I9510fd00755cf33df105ef637d047d3cb87243ae\n'}]",0,667099,56a35beb51c050a928bf0ba6d82e730e730966ab,9,4,1,8042,,,0,"Idempotency for system_upgrade_prepare

Partial-Bug: #1831690
Change-Id: I9510fd00755cf33df105ef637d047d3cb87243ae
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/667099/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,56a35beb51c050a928bf0ba6d82e730e730966ab,leapp, - name: Check if pcs is present stat: path: /usr/sbin/pcs register: pcs_stat when: pcs_stat.stat.exists when: pcs_stat.stat.exists,,6,0
openstack%2Ftripleo-heat-templates~master~I65ccf3436bf3816b52c40a7e154511ab3a2e43be,openstack/tripleo-heat-templates,master,I65ccf3436bf3816b52c40a7e154511ab3a2e43be,Allow skipping RHSM with Leapp,MERGED,2019-06-24 13:27:16.000000000,2019-06-25 22:07:33.000000000,2019-06-25 22:07:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-24 13:27:16.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ca7c550390f5978d1dab3c78a1b84fe073f8ed0', 'message': ""Allow skipping RHSM with Leapp\n\nUseful when developing and testing.\n\nAlso, we don't need to be explicitly installing RHSM, instead we\nshould ensure that it doesn't get removed by accident if it needs to\nbe present.\n\nChange-Id: I65ccf3436bf3816b52c40a7e154511ab3a2e43be\nPartial-Bug: #1831690\n""}]",0,667098,2ca7c550390f5978d1dab3c78a1b84fe073f8ed0,10,5,1,8042,,,0,"Allow skipping RHSM with Leapp

Useful when developing and testing.

Also, we don't need to be explicitly installing RHSM, instead we
should ensure that it doesn't get removed by accident if it needs to
be present.

Change-Id: I65ccf3436bf3816b52c40a7e154511ab3a2e43be
Partial-Bug: #1831690
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/667098/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,2ca7c550390f5978d1dab3c78a1b84fe073f8ed0,leapp, UpgradeLeappDevelSkipRhsm: description: Skip RHSM when running Leapp in development/testing. type: boolean default: false upgrade_leapp_devel_skip_rhsm: {get_param: UpgradeLeappDevelSkipRhsm} - name: install leapp package: name: leapp shell: > {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %} leapp upgrade {% if upgrade_leapp_debug|default(true) %}--debug{% endif %}," - name: install leapp and required packages which may have been removed previously package: name: ""{{item}}"" loop: - leapp - subscription-manager shell: | leapp upgrade {{ '--debug' if upgrade_leapp_debug|default(true) else '' }}",11,7
openstack%2Ftripleo-validations~stable%2Fstein~I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,openstack/tripleo-validations,stable/stein,I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54,Update the Undercloud Services list for the uc-service-status role,MERGED,2019-06-18 17:04:19.000000000,2019-06-25 22:07:32.000000000,2019-06-25 22:07:32.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-18 17:04:19.000000000', 'files': ['roles/undercloud-service-status/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7193778a51c6a4c17da240bb90ecbe6cb953872d', 'message': ""Update the Undercloud Services list for the uc-service-status role\n\nSince Stein, the name of the OpenStack services on the Undercloud have\nbeen renamed as 'tripleo_*.service'. This patch makes the Undercloud\nservice names evolve accordingly.\n\nChange-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit d5e948fcc1d087ffe01fa33240caff0394525c2b)\n""}]",0,666060,7193778a51c6a4c17da240bb90ecbe6cb953872d,12,6,1,11491,,,0,"Update the Undercloud Services list for the uc-service-status role

Since Stein, the name of the OpenStack services on the Undercloud have
been renamed as 'tripleo_*.service'. This patch makes the Undercloud
service names evolve accordingly.

Change-Id: I9e04b20cfa63d8d60c3a92cf2ff05b3c7c470e54
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d5e948fcc1d087ffe01fa33240caff0394525c2b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/60/666060/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-service-status/defaults/main.yml'],1,7193778a51c6a4c17da240bb90ecbe6cb953872d,undercloud-service-status-stable/stein,undercloud_service_list: - tripleo_nova_compute - tripleo_heat_engine - tripleo_ironic_conductor - tripleo_swift_container_server - tripleo_swift_object_server - tripleo_mistral_engine, undercloud_service_list: - openstack-nova-compute - openstack-heat-engine - openstack-ironic-conductor - openstack-swift-container - openstack-swift-object - openstack-mistral-engine,6,7
openstack%2Ftripleo-validations~master~I5859af77e65044728ec712fe7bfd8fe85e085f38,openstack/tripleo-validations,master,I5859af77e65044728ec712fe7bfd8fe85e085f38,Documentation update with the new validations architecture,MERGED,2019-06-19 09:53:33.000000000,2019-06-25 22:07:31.000000000,2019-06-25 22:07:31.000000000,"[{'_account_id': 10112}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-19 09:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e04fad3ff0ab59677f0956a09734364f39700846', 'message': '[WIP] Documentation update with the new validations architecture\n\nChange-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-06-19 12:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/70b2f253a62fc84167557a9ff9b1938946dcbe4e', 'message': '[WIP] Documentation update with the new validations architecture\n\nChange-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-06-19 12:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/536ed3efbfa4e85feaee3adacf87f09f00fd9fd7', 'message': 'Documentation update with the new validations architecture\n\nChange-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-06-21 09:10:26.000000000', 'files': ['README.rst', 'doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/990bc993e36d000506be7ac9803ff1c35e8876c9', 'message': 'Documentation update with the new validations architecture\n\nChange-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",1,666256,990bc993e36d000506be7ac9803ff1c35e8876c9,16,7,4,11491,,,0,"Documentation update with the new validations architecture

Change-Id: I5859af77e65044728ec712fe7bfd8fe85e085f38
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/666256/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/readme.rst'],1,e04fad3ff0ab59677f0956a09734364f39700846,Doc_Refreshing,A collection of Ansible roles and playbooks to detect and report potential issues during TripleO deployments.* Bugs: https://storyboard.openstack.org/#!/project/openstack/tripleo-validationsAll validations consist of an Ansible role located in the ``roles`` directory and a playbook located in the ``playbooks`` directory. - the ``playbooks`` one - the ``lookup_plugins`` one is for custom Ansible look up plugins available to the validations;- the ``roles`` one contains all the necessary Ansible roles to validate your TripleO deployment. playbooks/  first_validation.yaml  second_validation.yaml  third_validation.yaml  etc... library/  another_module.py  some_module.py  etc... lookup_plugins/  one_lookup_plugin.py  another_lookup_plugin.py  etc... roles  first_role  second_role  etc... It should be saved as ``playbooks/hello_world.yaml``. $ /bin/run-validations.sh --help Usage: run-validations.sh [--help] [--debug] [--ansible-default-callback] [--plan <overcloud>] --validation-name <validation_name> --debug: Enable ansible verbose mode (-vvvv connection debugging) --ansible-default-callback: Use the 'default' Ansible callback plugin instead of the tripleo-validations custom callback 'validation_output' --plan: Stack name to use for generating the inventory data --validation-name: The name of the validation $ /bin/run-validations.sh --validation-name validation``Controller`` and ``Compute`` (i.e. just the controller or the compute nodes).,A collection of Ansible playbooks to detect and report potential issues during TripleO deployments.* Bugs: https://bugs.launchpad.net/tripleo/+bugs?field.tag=validationsAll validations are located in the ``validations`` directory. It contains a couple of subdirectories: - the ``files`` directory contains scripts that are directly executable;- ``tasks`` is for common steps that can be shared between the validations. validations  first_validation.yaml  second_validation.yaml  files   some_script.sh  library   another_module.py   some_module.py  tasks  some_task.yamlIt should be saved as ``validations/hello_world.yaml``. $ ansible-playbook -i /usr/bin/tripleo-ansible-inventory path/to/validation.yaml``controller`` and ``compute`` (i.e. just the controller or the compute nodes).,45,20
openstack%2Ftripleo-heat-templates~master~I3bc7d8557f758103c35533a59e06e36cd15f98b9,openstack/tripleo-heat-templates,master,I3bc7d8557f758103c35533a59e06e36cd15f98b9,Make Multipathd an optional service,MERGED,2019-06-14 18:47:52.000000000,2019-06-25 22:07:30.000000000,2019-06-25 22:07:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-14 18:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f004848856bed1c1b279d70611a099203b1979f', 'message': 'Make Multipathd an optional service\n\nThis is part 1 of a series of patches to properly deploy multipathd.\n\nThis patch makes Multipathd an optional TripleO service (defaults to\nOS::Heat::None), and binds it to every role that might use the service.\nThis is essentially any role that accesses cinder volumes. Previously,\nthe service was not optional, but was not bound to any roles and so it\nwas never deployed.\n\nChange-Id: I3bc7d8557f758103c35533a59e06e36cd15f98b9\n'}, {'number': 2, 'created': '2019-06-15 20:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33998e2bd2deeaf2e3d871977e642b473a3a3ee5', 'message': 'Make Multipathd an optional service\n\nThis is part 1 of a series of patches to properly deploy multipathd.\n\nThis patch makes Multipathd an optional TripleO service (defaults to\nOS::Heat::None), and binds it to every role that might use the service.\nThis is essentially any role that accesses cinder volumes. Previously,\nthe service was not optional, but was not bound to any roles and so it\nwas never deployed.\n\nChange-Id: I3bc7d8557f758103c35533a59e06e36cd15f98b9\n'}, {'number': 3, 'created': '2019-06-24 14:17:38.000000000', 'files': ['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-3nodes.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Undercloud.yaml', 'ci/environments/scenario003-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1726619959ac8e9cb1d0e2939e097c528a04c81', 'message': 'Make Multipathd an optional service\n\nThis is part 1 of a series of patches to properly deploy multipathd.\n\nThis patch makes Multipathd an optional TripleO service (defaults to\nOS::Heat::None), and binds it to every role that might use the service.\nThis is essentially any role that accesses cinder volumes. Previously,\nthe service was not optional, but was not bound to any roles and so it\nwas never deployed.\n\nPartial-Bug: #1834042\nChange-Id: I3bc7d8557f758103c35533a59e06e36cd15f98b9\n'}]",0,665455,b1726619959ac8e9cb1d0e2939e097c528a04c81,15,4,3,21129,,,0,"Make Multipathd an optional service

This is part 1 of a series of patches to properly deploy multipathd.

This patch makes Multipathd an optional TripleO service (defaults to
OS::Heat::None), and binds it to every role that might use the service.
This is essentially any role that accesses cinder volumes. Previously,
the service was not optional, but was not bound to any roles and so it
was never deployed.

Partial-Bug: #1834042
Change-Id: I3bc7d8557f758103c35533a59e06e36cd15f98b9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/665455/2 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario010-multinode-containers.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario004-multinode-containers.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/ControllerOpenstack.yaml', 'ci/environments/scenario012-multinode-containers.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'ci/environments/scenario002-multinode-containers.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ControllerNoCeph.yaml', 'ci/environments/multinode-3nodes.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'ci/environments/multinode-containers.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Undercloud.yaml', 'ci/environments/scenario003-multinode-containers.yaml']",42,8f004848856bed1c1b279d70611a099203b1979f,bug/1834042, - OS::TripleO::Services::Multipathd,,47,1
openstack%2Fmanila-tempest-plugin~master~I11887de48c31bc5ea4c097e36c0f0da238d613b2,openstack/manila-tempest-plugin,master,I11887de48c31bc5ea4c097e36c0f0da238d613b2,Clarify help text of network options,MERGED,2019-06-12 20:19:00.000000000,2019-06-25 21:58:53.000000000,2019-06-25 21:58:53.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-12 20:19:00.000000000', 'files': ['manila_tempest_tests/config.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/90c354b526ddbaf2ab0bb69d9c34ef85ae570d9c', 'message': 'Clarify help text of network options\n\nTrivialFix\n\nChange-Id: I11887de48c31bc5ea4c097e36c0f0da238d613b2\n'}]",0,665011,90c354b526ddbaf2ab0bb69d9c34ef85ae570d9c,12,5,1,16643,,,0,"Clarify help text of network options

TrivialFix

Change-Id: I11887de48c31bc5ea4c097e36c0f0da238d613b2
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/11/665011/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/config.py'],1,90c354b526ddbaf2ab0bb69d9c34ef85ae570d9c,TrivialFix," ""used for shares. If not set, it won't be used. Setting "" ""this option to a valid share network ID will mean that "" ""the value of create_networks_when_multitenancy_enabled "" ""should be False.""), "" in alt tenant. If not set, it won't be used. Setting "" ""this option to a valid share network ID will mean that "" ""the value of create_networks_when_multitenancy_enabled "" ""should be False.""), "" in admin tenant. If not set, it won't be used. Setting "" ""this option to a valid share network ID will mean that "" ""the value of create_networks_when_multitenancy_enabled "" ""should be False.""),"," ""used for shares. If not set, it won't be used.""), "" in alt tenant. If not set, it won't be used""), "" in admin tenant. If not set, it won't be used""),",12,3
openstack%2Fdiskimage-builder~master~I235a0584d2b0156406b2d07848d484a9148d064e,openstack/diskimage-builder,master,I235a0584d2b0156406b2d07848d484a9148d064e,Move Zuul config in-repo,MERGED,2019-06-24 20:10:11.000000000,2019-06-25 21:44:40.000000000,2019-06-25 21:44:40.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/813271c57990e749218c85f668951c9b8a5855dd', 'message': 'Move Zuul config in-repo\n\nThis moves the Zuul project configuration into this repo rather\nthan project-config for easier modification of check/gate jobs.\n\nChange-Id: I235a0584d2b0156406b2d07848d484a9148d064e\n'}, {'number': 2, 'created': '2019-06-24 20:48:00.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a46ea776412b7ad5d083787ab9024d7dea5ac66', 'message': 'Move Zuul config in-repo\n\nThis moves the Zuul project configuration into this repo rather\nthan project-config for easier modification of check/gate jobs.\n\nChange-Id: I235a0584d2b0156406b2d07848d484a9148d064e\n'}]",1,667212,4a46ea776412b7ad5d083787ab9024d7dea5ac66,14,7,2,1,,,0,"Move Zuul config in-repo

This moves the Zuul project configuration into this repo rather
than project-config for easier modification of check/gate jobs.

Change-Id: I235a0584d2b0156406b2d07848d484a9148d064e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/12/667212/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,813271c57990e749218c85f668951c9b8a5855dd,nodepool-func,- project: name: openstack/diskimage-builder templates: - openstack-cover-jobs - check-requirements - openstack-python-jobs - openstack-python35-jobs - release-notes-jobs check: jobs: - openstack-tox-pylint - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src gate: jobs: - openstack-tox-pylint - nodepool-functional-py35-redhat-src - nodepool-functional-py35-ubuntu-src experimental: jobs: - nodepool-functional-py35-gentoo-src - nodepool-functional-py35-debian-src - nodepool-functional-py35-suse-src - octavia-v1-dsvm-scenario - octavia-v1-dsvm-py3x-scenario ,,25,0
openstack%2Fproject-config~master~I600db7fe362e6eafa45be2a05b744323e2e2ffb6,openstack/project-config,master,I600db7fe362e6eafa45be2a05b744323e2e2ffb6,Add zuul-operator project,MERGED,2019-06-24 20:59:39.000000000,2019-06-25 21:00:16.000000000,2019-06-25 21:00:16.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 16068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:59:39.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ac08e7715c2e1508dbdbe8fcc90ff09d3cc463e', 'message': 'Add zuul-operator project\n\nThis is a new repo for the Zuul project.  It will hold an\nimplementation of a Kubernetes Operator for Zuul, which is an\nautomated deployment mechanism.  It makes the most sense for it\nto reside in its own Git repo.\n\nChange-Id: I600db7fe362e6eafa45be2a05b744323e2e2ffb6\n'}]",0,667228,5ac08e7715c2e1508dbdbe8fcc90ff09d3cc463e,8,4,1,1,,,0,"Add zuul-operator project

This is a new repo for the Zuul project.  It will hold an
implementation of a Kubernetes Operator for Zuul, which is an
automated deployment mechanism.  It makes the most sense for it
to reside in its own Git repo.

Change-Id: I600db7fe362e6eafa45be2a05b744323e2e2ffb6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/667228/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,5ac08e7715c2e1508dbdbe8fcc90ff09d3cc463e,new-project, - zuul/zuul-operator,,11,0
openstack%2Fopenstack-ansible-os_trove~master~I83a7b6b444b9597807ec26363a110f63ce260d14,openstack/openstack-ansible-os_trove,master,I83a7b6b444b9597807ec26363a110f63ce260d14,Fix tasks looking up and storing admin tenant id,ABANDONED,2019-06-14 18:57:22.000000000,2019-06-25 20:44:44.000000000,,"[{'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-14 18:57:22.000000000', 'files': ['tasks/trove_service_network.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/892b3223610b985b64dd19e336343e17e6593451', 'message': ""Fix tasks looking up and storing admin tenant id\n\nThe 'Get admin tenant id' task was passing invalid arguments to the\nos_project_facts module, and the 'Store admin tenant id' task was not\nusing the correct variable to retrieve the project id.\n\nChange-Id: I83a7b6b444b9597807ec26363a110f63ce260d14\n""}]",0,665458,892b3223610b985b64dd19e336343e17e6593451,16,4,1,14805,,,0,"Fix tasks looking up and storing admin tenant id

The 'Get admin tenant id' task was passing invalid arguments to the
os_project_facts module, and the 'Store admin tenant id' task was not
using the correct variable to retrieve the project id.

Change-Id: I83a7b6b444b9597807ec26363a110f63ce260d14
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/58/665458/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/trove_service_network.yml'],1,892b3223610b985b64dd19e336343e17e6593451,," interface: internal validate_certs: ""{{ not (keystone_service_internaluri_insecure | bool) }}"" keystone_admin_tenant_id: ""{{ ansible_facts.openstack_projects[0].id }}"""," state: present interface: ""{{ keystone_service_adminurl }}"" no_log: True keystone_admin_tenant_id: ""{{ keystone_facts.id }}""",3,4
openstack%2Foslo.limit~master~Ie6f805233a7b7b50b4ce78d9d9903bb1b50c6ea3,openstack/oslo.limit,master,Ie6f805233a7b7b50b4ce78d9d9903bb1b50c6ea3,WIP: Rewrite oslo.limit,ABANDONED,2019-06-14 19:57:16.000000000,2019-06-25 20:25:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-14 19:57:16.000000000', 'files': ['oslo_limit/exception.py', 'oslo_limit/limit.py', 'oslo_limit/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/c8f74d5fbe1d820e9d6bdfd5328fdb77c49a3f32', 'message': ""WIP: Rewrite oslo.limit\n\nThis is a collection of ideas on how the oslo.limit interface shoudl\nwork.\n\nPreviously, we wanted to encapsulate the limit and usage verification\nlogic in a context manager so entry and exit handled verification for\nrace conditions. This ended up being can of worms since it would\nrequire more resource shuffling between the service and oslo.limit.\nFor now we're going to omit that functionality. We can implement it\nlater if there is a need.\n\nChange-Id: Ie6f805233a7b7b50b4ce78d9d9903bb1b50c6ea3\n""}]",0,665465,c8f74d5fbe1d820e9d6bdfd5328fdb77c49a3f32,3,1,1,5046,,,0,"WIP: Rewrite oslo.limit

This is a collection of ideas on how the oslo.limit interface shoudl
work.

Previously, we wanted to encapsulate the limit and usage verification
logic in a context manager so entry and exit handled verification for
race conditions. This ended up being can of worms since it would
require more resource shuffling between the service and oslo.limit.
For now we're going to omit that functionality. We can implement it
later if there is a need.

Change-Id: Ie6f805233a7b7b50b4ce78d9d9903bb1b50c6ea3
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/65/665465/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/exception.py', 'oslo_limit/limit.py', 'oslo_limit/opts.py']",3,c8f74d5fbe1d820e9d6bdfd5328fdb77c49a3f32,," loading.register_auth_conf_options(CONF, _option_group) plugin_name = CONF.oslo_limit.auth_type if plugin_name: plugin_loader = loading.get_plugin_loader(plugin_name) plugin_opts = loading.get_auth_plugin_conf_options(plugin_loader) CONF.register_opts(plugin_opts, group=_option_group) ",,146,49
openstack%2Fdesignate~master~I344d4253515569ece66eee7ff92fac3d4190a065,openstack/designate,master,I344d4253515569ece66eee7ff92fac3d4190a065,Add Python 3 Train unit tests,MERGED,2019-06-24 13:08:38.000000000,2019-06-25 20:11:03.000000000,2019-06-25 20:11:03.000000000,"[{'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-06-24 13:08:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/a15a2da6b2805ea917a262cd1ee706f09c43a06f', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I344d4253515569ece66eee7ff92fac3d4190a065\nStory: #2005924\nTask: #34204\n'}]",1,667077,a15a2da6b2805ea917a262cd1ee706f09c43a06f,12,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I344d4253515569ece66eee7ff92fac3d4190a065
Story: #2005924
Task: #34204
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/667077/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a15a2da6b2805ea917a262cd1ee706f09c43a06f,python3-train,"envlist = py27,py37,flake8","envlist = py27,py36,py37,flake8",1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I64c63440c95657caa4d46db9038c3d50715fbb31,openstack/tripleo-heat-templates,stable/queens,I64c63440c95657caa4d46db9038c3d50715fbb31,I1353020f874b348afd98e7ed3832033f85a5267f,ABANDONED,2019-06-25 19:58:21.000000000,2019-06-25 19:59:55.000000000,,[],"[{'number': 1, 'created': '2019-06-25 19:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3c0a1da2a42f7b1f448c62ca68f7b9ccabd585f', 'message': 'I1353020f874b348afd98e7ed3832033f85a5267f\n\nChange-Id: I64c63440c95657caa4d46db9038c3d50715fbb31\n'}]",0,667453,f3c0a1da2a42f7b1f448c62ca68f7b9ccabd585f,2,0,1,28504,,,0,"I1353020f874b348afd98e7ed3832033f85a5267f

Change-Id: I64c63440c95657caa4d46db9038c3d50715fbb31
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/667453/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f3c0a1da2a42f7b1f448c62ca68f7b9ccabd585f,saf_client_side,,,0,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~I6f19724fe0dabc00d4fae5097301f7ab46a91483,openstack/kuryr-kubernetes,stable/rocky,I6f19724fe0dabc00d4fae5097301f7ab46a91483,Fix network pool deletion method,MERGED,2019-06-21 10:12:21.000000000,2019-06-25 19:58:40.000000000,2019-06-25 19:58:40.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-21 10:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7264567aec2ff34d596c80abb7e2c237db45bada', 'message': 'Fix network pool deletion method\n\nThis patch ensures that available_ports_pools dict structure is not\nmodified to be a list when ports are deleted while running the\nnetwork pool deletion method. This ensures further iterations on that\ndict will not fail.\n\nCloses-Bug: 1832838\nChange-Id: I6f19724fe0dabc00d4fae5097301f7ab46a91483\n'}, {'number': 2, 'created': '2019-06-21 10:21:58.000000000', 'files': ['kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a2e1849765972bd361ba9a7e2341fc480f6f5c9', 'message': 'Fix network pool deletion method\n\nThis patch ensures that available_ports_pools dict structure is not\nmodified to be a list when ports are deleted while running the\nnetwork pool deletion method. This ensures further iterations on that\ndict will not fail.\n\nCloses-Bug: 1832838\nChange-Id: I6f19724fe0dabc00d4fae5097301f7ab46a91483\n(cherry picked from commit 19045416455c16c44fc424bb33048dbea2bb0301)\n'}]",0,666810,2a2e1849765972bd361ba9a7e2341fc480f6f5c9,14,5,2,23567,,,0,"Fix network pool deletion method

This patch ensures that available_ports_pools dict structure is not
modified to be a list when ports are deleted while running the
network pool deletion method. This ensures further iterations on that
dict will not fail.

Closes-Bug: 1832838
Change-Id: I6f19724fe0dabc00d4fae5097301f7ab46a91483
(cherry picked from commit 19045416455c16c44fc424bb33048dbea2bb0301)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/10/666810/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,7264567aec2ff34d596c80abb7e2c237db45bada,bug/1832838," try: self._drv_subnets.delete_namespace_subnet(net_crd) except exceptions.ResourceNotReady: LOG.debug(""Subnet is not ready to be removed."") # TODO(ltomasbo): Once KuryrPort CRDs is supported, we should # execute a delete network ports method here to remove the ports # associated to the namespace/subnet, ensuring next retry will be # successful raise", self._drv_subnets.delete_namespace_subnet(net_crd),9,1
openstack%2Fopenstack-helm-infra~master~I23f0f03824eec5b142d3f2e8e42e8d07cddfe618,openstack/openstack-helm-infra,master,I23f0f03824eec5b142d3f2e8e42e8d07cddfe618,Fluentd: Remove readOnly flag from /var/log mount,MERGED,2019-06-24 16:12:40.000000000,2019-06-25 19:57:58.000000000,2019-06-25 19:57:58.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 28618}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-06-24 16:12:40.000000000', 'files': ['fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1df9cee5c127befd27500153a3323cfc6054a943', 'message': 'Fluentd: Remove readOnly flag from /var/log mount\n\nThis removes the readOnly flag from the /var/log mount for the\nfluentd pod to allow for using the file buffer mechanism when\ndesired\n\nChange-Id: I23f0f03824eec5b142d3f2e8e42e8d07cddfe618\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667152,1df9cee5c127befd27500153a3323cfc6054a943,13,8,1,17591,,,0,"Fluentd: Remove readOnly flag from /var/log mount

This removes the readOnly flag from the /var/log mount for the
fluentd pod to allow for using the file buffer mechanism when
desired

Change-Id: I23f0f03824eec5b142d3f2e8e42e8d07cddfe618
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/667152/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/deployment-fluentd.yaml'],1,1df9cee5c127befd27500153a3323cfc6054a943,fluentd-log-mount,, readOnly: true,0,1
openstack%2Fopenstack-helm-infra~master~I8a164bd47ce1950e0bd6c5043713f4cde9f85d79,openstack/openstack-helm-infra,master,I8a164bd47ce1950e0bd6c5043713f4cde9f85d79,Fluentd: Add deployment conditional for probes,MERGED,2019-06-25 11:35:51.000000000,2019-06-25 19:57:56.000000000,2019-06-25 19:57:56.000000000,"[{'_account_id': 8898}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28025}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-06-25 11:35:51.000000000', 'files': ['fluentd/templates/deployment-fluentd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6321a01c1e76f86a55de6c10a3bc3fe56bf73722', 'message': 'Fluentd: Add deployment conditional for probes\n\nThis adds a conditional check on the deployment type of the\nFluentd chart to determine whether to enable the current liveness\nand readiness probes or not.  The current probes are designed\naround using fluentd as an aggregator and do not function properly\nwhen fluentd is deployed as a daemonset.  When run as a daemonset\nand configured to tail files via the tail input plugin, fluentd\nwill prioritize reading the entirety of those files before\nprocessing other input types, including opening the forward source\nsocket required for the current probes to function correctly. This\nresults in scenarios where the current probes will fail when in\nfact fluentd is functioning correctly.\n\nDaemonset focused probes to come as a follow on once a proper path\nforward has been determined\n\nChange-Id: I8a164bd47ce1950e0bd6c5043713f4cde9f85d79\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667337,6321a01c1e76f86a55de6c10a3bc3fe56bf73722,11,7,1,17591,,,0,"Fluentd: Add deployment conditional for probes

This adds a conditional check on the deployment type of the
Fluentd chart to determine whether to enable the current liveness
and readiness probes or not.  The current probes are designed
around using fluentd as an aggregator and do not function properly
when fluentd is deployed as a daemonset.  When run as a daemonset
and configured to tail files via the tail input plugin, fluentd
will prioritize reading the entirety of those files before
processing other input types, including opening the forward source
socket required for the current probes to function correctly. This
results in scenarios where the current probes will fail when in
fact fluentd is functioning correctly.

Daemonset focused probes to come as a follow on once a proper path
forward has been determined

Change-Id: I8a164bd47ce1950e0bd6c5043713f4cde9f85d79
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/37/667337/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/deployment-fluentd.yaml'],1,6321a01c1e76f86a55de6c10a3bc3fe56bf73722,fluentd-probes,"{{- if eq .Values.deployment.type ""Deployment"" }}{{- end }}",,2,0
openstack%2Fdesignate~master~Ic1896affe355fbc6d6c9a2cb2b6853df773cef57,openstack/designate,master,Ic1896affe355fbc6d6c9a2cb2b6853df773cef57,Removing manage command for akamai backend,MERGED,2019-06-24 00:18:53.000000000,2019-06-25 19:57:48.000000000,2019-06-25 19:57:48.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-06-24 00:18:53.000000000', 'files': ['designate/manage/akamai.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate/commit/bcd59f2b05ad93772e32712ec17dd4d2b2e232c1', 'message': 'Removing manage command for akamai backend\n\nThis command has been broken for a very long time, and is\nunlikely to be useful. In addition this command only supports\nthe old, unsupported ini based pool configuration.\n\nChange-Id: Ic1896affe355fbc6d6c9a2cb2b6853df773cef57\n'}]",1,666994,bcd59f2b05ad93772e32712ec17dd4d2b2e232c1,9,4,1,22623,,,0,"Removing manage command for akamai backend

This command has been broken for a very long time, and is
unlikely to be useful. In addition this command only supports
the old, unsupported ini based pool configuration.

Change-Id: Ic1896affe355fbc6d6c9a2cb2b6853df773cef57
",git fetch https://review.opendev.org/openstack/designate refs/changes/94/666994/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/manage/akamai.py', 'setup.cfg']",2,bcd59f2b05ad93772e32712ec17dd4d2b2e232c1,remove_broken_manage_cmd,, akamai = designate.manage.akamai:AkamaiCommands,0,108
openstack%2Fpython-tripleoclient~master~I52ef17bd87cbcde7f9dc34e8b1bb874581d0917d,openstack/python-tripleoclient,master,I52ef17bd87cbcde7f9dc34e8b1bb874581d0917d,Allow deeper levels of nesting for pdf builds,MERGED,2019-06-24 17:08:05.000000000,2019-06-25 19:53:39.000000000,2019-06-25 19:53:39.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 17:08:05.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a37cd7c9d0ab7a5699f0ec48d059aed540936e40', 'message': 'Allow deeper levels of nesting for pdf builds\n\nChange the defaults for the max of a 5 of \\begin...\\end stanzas,\nup to a 10.\n\nChange-Id: I52ef17bd87cbcde7f9dc34e8b1bb874581d0917d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,667158,a37cd7c9d0ab7a5699f0ec48d059aed540936e40,8,3,1,6926,,,0,"Allow deeper levels of nesting for pdf builds

Change the defaults for the max of a 5 of \begin...\end stanzas,
up to a 10.

Change-Id: I52ef17bd87cbcde7f9dc34e8b1bb874581d0917d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/667158/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,a37cd7c9d0ab7a5699f0ec48d059aed540936e40,build-pdf-docs,# Allow deeper levels of nesting for \begin...\end stanzas latex_elements = {'maxlistdepth': 10} ,,3,0
openstack%2Fpython-tripleoclient~stable%2Frocky~I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357,openstack/python-tripleoclient,stable/rocky,I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357,Retry heat stack polling on gateway problems,MERGED,2019-06-21 20:23:08.000000000,2019-06-25 19:53:38.000000000,2019-06-25 19:53:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 20:23:08.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e83e38be5daee54d3ccd206a3befe95581235f7', 'message': 'Retry heat stack polling on gateway problems\n\nIf the heat api is overloaded or temporarily unavailable, we might get a\n503 or 504 from haproxy during the deployment. We should retry polling\nfor events in this case as to not prematurely exit the deployment.\n\nChange-Id: I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357\nCloses-Bug: #1833452\n(cherry picked from commit cb42cfe30fb0ca8f95ae3e7d93e616c106c6c191)\n'}]",0,666916,2e83e38be5daee54d3ccd206a3befe95581235f7,8,3,1,14985,,,0,"Retry heat stack polling on gateway problems

If the heat api is overloaded or temporarily unavailable, we might get a
503 or 504 from haproxy during the deployment. We should retry polling
for events in this case as to not prematurely exit the deployment.

Change-Id: I947cd0f9bf4a97e46c3d2bf3e9b986f7d38e9357
Closes-Bug: #1833452
(cherry picked from commit cb42cfe30fb0ca8f95ae3e7d93e616c106c6c191)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/666916/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,2e83e38be5daee54d3ccd206a3befe95581235f7,bug/1833452," action='CREATE', verbose=False, poll_period=5, nested_depth=2, max_retries=10): :param nested_depth: Max depth to look for events :type nested_depth: int :param poll_period: How often to poll for events :type poll_period: int :param max_retries: Number of retries in the case of server problems :type max_retries: int log = logging.getLogger(__name__ + "".wait_for_stack_ready"") retries = 0 while retries <= max_retries: try: stack_status, msg = event_utils.poll_for_events( orchestration_client, stack_name, action=action, poll_period=5, marker=marker, out=out, nested_depth=nested_depth) print(msg) return stack_status == '%s_COMPLETE' % action except hc_exc.HTTPException as e: if e.code in [503, 504]: retries += 1 log.warning(""Server issue while waiting for stack to be ready."" "" Attempting retry {} of {}"".format(retries, max_retries)) time.sleep(retries * 5) continue log.error(""Error occured while waiting for stack to be ready."") raise e raise RuntimeError( ""wait_for_stack_ready: Max retries {} reached"".format(max_retries))"," action='CREATE', verbose=False): stack_status, msg = event_utils.poll_for_events( orchestration_client, stack_name, action=action, poll_period=5, marker=marker, out=out, nested_depth=2) print(msg) return stack_status == '%s_COMPLETE' % action",81,6
openstack%2Fneutron-tempest-plugin~master~I8b036068645f9d0277cde66b027a22273d9b1c41,openstack/neutron-tempest-plugin,master,I8b036068645f9d0277cde66b027a22273d9b1c41,Additional test cases for port forwardings API,MERGED,2019-06-16 09:04:11.000000000,2019-06-25 19:35:52.000000000,2019-06-25 19:35:51.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-16 09:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/45dabe19e00fbf99ce27646174a9290c42d286ff', 'message': ""Additional test cases for port forwardings API\n\nThis patch adds 2 additional test cases to API tests for\nport forwardings:\n1. Attempt to delete Floating IP used already by port forwarding -\n   this should returns Conflict error,\n2. Try to associate port forwarding to Neutron's port which is\n   already associated with another Floating IP - this should raise\n   Conflict error.\n\nChange-Id: I8b036068645f9d0277cde66b027a22273d9b1c41\n""}, {'number': 2, 'created': '2019-06-19 06:44:40.000000000', 'files': ['neutron_tempest_plugin/api/test_port_forwardings.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/411261f4ff24f7394bdbe583dc2dcf2201bdf718', 'message': ""Additional test cases for port forwardings API\n\nThis patch adds 2 additional test cases to API tests for\nport forwardings:\n1. Attempt to delete Floating IP used already by port forwarding -\n   this should returns Conflict error,\n2. Try to associate port forwarding to Neutron's port which is\n   already associated with another Floating IP - this should raise\n   Conflict error.\n\nDepends-On: https://review.opendev.org/666235\nChange-Id: I8b036068645f9d0277cde66b027a22273d9b1c41\n""}]",2,665535,411261f4ff24f7394bdbe583dc2dcf2201bdf718,25,6,2,11975,,,0,"Additional test cases for port forwardings API

This patch adds 2 additional test cases to API tests for
port forwardings:
1. Attempt to delete Floating IP used already by port forwarding -
   this should returns Conflict error,
2. Try to associate port forwarding to Neutron's port which is
   already associated with another Floating IP - this should raise
   Conflict error.

Depends-On: https://review.opendev.org/666235
Change-Id: I8b036068645f9d0277cde66b027a22273d9b1c41
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/665535/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_port_forwardings.py'],1,45dabe19e00fbf99ce27646174a9290c42d286ff,add-api-port-forwardings-tests," # Now lets try to remove Floating IP with existing port forwarding, # this should fails self.assertRaises(exceptions.Conflict, self.delete_floatingip, fip) # Now Floating IP should be deleted properly self.delete_floatingip(fip) self.assertRaises(exceptions.NotFound, self.client.get_floatingip, fip['id']) @decorators.idempotent_id('4ca72d40-93e4-485f-a876-76caf33c1fe6') def test_associate_port_forwarding_to_port_with_fip(self): port = self.create_port(self.network) self.create_floatingip(port=port) fip_for_pf = self.create_floatingip() self.assertRaises( exceptions.Conflict, self.create_port_forwarding, fip_for_pf['id'], internal_port_id=port['id'], internal_ip_address=port['fixed_ips'][0]['ip_address'], internal_port=1111, external_port=2222, protocol=""tcp"")",,24,0
openstack%2Fneutron~stable%2Frocky~I4ba4b023d79185f8d478d60ce16417d3501bf785,openstack/neutron,stable/rocky,I4ba4b023d79185f8d478d60ce16417d3501bf785,Prevent create port forwarding to port which has binding fip,MERGED,2019-06-19 06:44:06.000000000,2019-06-25 19:35:50.000000000,2019-06-25 19:35:49.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-19 06:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f976d13d91e58cebde42ec6b2c18c086f5b7219b', 'message': 'Prevent create port forwarding to port which has binding fip\n\nFor dvr scenario, if port has a bound floating, and then create\nport forwarding to it, this port forwarding will not work, due to\nthe traffic is redirected to dvr rules.\n\nThis patch restricts such API request, if user try to create port\nforwarding to a port, check if it has bound floating IP first.\nThis will be run for all type of routers, since neutron should\nnot let user to waste public IP address on a port which already\nhas a floating IP, it can take care all the procotol port\nnumbers.\n\nConflicts:\n    neutron/services/portforwarding/pf_plugin.py\n\nCloses-Bug: #1799137\nChange-Id: I4ba4b023d79185f8d478d60ce16417d3501bf785\n(cherry picked from commit b8d2ab8543a27b03bde534ef994027d9b44556c4)\n'}, {'number': 2, 'created': '2019-06-19 15:05:24.000000000', 'files': ['neutron/services/portforwarding/common/exceptions.py', 'neutron/tests/functional/services/portforwarding/test_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9749fd270c1f7493fe4daf8b0e8412fcf0412184', 'message': 'Prevent create port forwarding to port which has binding fip\n\nFor dvr scenario, if port has a bound floating, and then create\nport forwarding to it, this port forwarding will not work, due to\nthe traffic is redirected to dvr rules.\n\nThis patch restricts such API request, if user try to create port\nforwarding to a port, check if it has bound floating IP first.\nThis will be run for all type of routers, since neutron should\nnot let user to waste public IP address on a port which already\nhas a floating IP, it can take care all the procotol port\nnumbers.\n\nConflicts:\n    neutron/services/portforwarding/pf_plugin.py\n\nCloses-Bug: #1799137\nChange-Id: I4ba4b023d79185f8d478d60ce16417d3501bf785\n(cherry picked from commit b8d2ab8543a27b03bde534ef994027d9b44556c4)\n'}]",0,666235,9749fd270c1f7493fe4daf8b0e8412fcf0412184,24,7,2,11975,,,0,"Prevent create port forwarding to port which has binding fip

For dvr scenario, if port has a bound floating, and then create
port forwarding to it, this port forwarding will not work, due to
the traffic is redirected to dvr rules.

This patch restricts such API request, if user try to create port
forwarding to a port, check if it has bound floating IP first.
This will be run for all type of routers, since neutron should
not let user to waste public IP address on a port which already
has a floating IP, it can take care all the procotol port
numbers.

Conflicts:
    neutron/services/portforwarding/pf_plugin.py

Closes-Bug: #1799137
Change-Id: I4ba4b023d79185f8d478d60ce16417d3501bf785
(cherry picked from commit b8d2ab8543a27b03bde534ef994027d9b44556c4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/666235/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/common/exceptions.py', 'neutron/tests/functional/services/portforwarding/test_port_forwarding.py', 'neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",4,f976d13d91e58cebde42ec6b2c18c086f5b7219b,bug/1799137," @mock.patch.object(pf_plugin.PortForwardingPlugin, '_check_port_has_binding_floating_ip') mock_check_router_match, mock_push_api, mock_update_objects, mock_check_bind_fip): '_check_port_has_binding_floating_ip') @mock.patch.object(pf_plugin.PortForwardingPlugin, mock_check_router_match, mock_try_find_exist, mock_check_bind_fip): @mock.patch.object(router.FloatingIP, 'get_objects') def test_create_floatingip_port_forwarding_port_in_use( self, mock_fip_get_objects): pf_input = { 'port_forwarding': {'port_forwarding': { 'internal_ip_address': '1.1.1.1', 'internal_port_id': 'internal_neutron_port', 'floatingip_id': 'fip_id_1'}}, 'floatingip_id': 'fip_id_1'} fip_obj = mock.Mock(floating_ip_address=""10.10.10.10"") mock_fip_get_objects.return_value = [fip_obj] self.assertRaises(pf_exc.PortHasBindingFloatingIP, self.pf_plugin.create_floatingip_port_forwarding, self.ctxt, **pf_input) @mock.patch.object(router.FloatingIP, 'get_objects') def test_update_floatingip_port_forwarding_port_in_use( self, mock_fip_get_objects): pf_input = { 'port_forwarding': {'port_forwarding': { 'internal_ip_address': '1.1.1.1', 'internal_port_id': 'internal_neutron_port', 'floatingip_id': 'fip_id_2'}}} fip_obj = mock.Mock(floating_ip_address=""10.10.10.11"") mock_fip_get_objects.return_value = [fip_obj] self.assertRaises(pf_exc.PortHasBindingFloatingIP, self.pf_plugin.update_floatingip_port_forwarding, self.ctxt, 'fake-pf-id', 'fip_id_2', **pf_input)"," mock_check_router_match, mock_push_api, mock_update_objects): mock_check_router_match, mock_try_find_exist):",102,2
openstack%2Fmonasca-api~master~Id0daa331378473cb2629228f323d5bc01cb80750,openstack/monasca-api,master,Id0daa331378473cb2629228f323d5bc01cb80750,Enables InfluxDB TSI data storage as default,MERGED,2019-06-06 09:52:25.000000000,2019-06-25 19:32:40.000000000,2019-06-25 19:32:39.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30438}]","[{'number': 1, 'created': '2019-06-06 09:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1e88601770a00a8cebd7e9559e873492ad5cf075', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}, {'number': 2, 'created': '2019-06-06 10:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5c910daed720b5229b8ddcc3455f25fbc69ff5a1', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}, {'number': 3, 'created': '2019-06-06 10:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7ddceba1c65d307c90b424a8a975b5cefdcac2bc', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}, {'number': 4, 'created': '2019-06-07 13:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/5262540cd5ca912eeeba0e5da2e8940e96fb62c6', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}, {'number': 5, 'created': '2019-06-07 13:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/de88874b007a6a6c9bd4773ecc29a3ef1851b100', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}, {'number': 6, 'created': '2019-06-24 08:55:59.000000000', 'files': ['devstack/files/influxdb/influxdb.conf', 'doc/source/admin/index.rst', 'releasenotes/notes/enable-disk-tsi-40f29262a0301531.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/36aec23cac1b3991d208755e2aaf35d6511f94d2', 'message': 'Enables InfluxDB TSI data storage as default\n\nSee https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/\nand https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/\nfor details.\n\nChange-Id: Id0daa331378473cb2629228f323d5bc01cb80750\n'}]",2,663572,36aec23cac1b3991d208755e2aaf35d6511f94d2,31,4,6,30438,,,0,"Enables InfluxDB TSI data storage as default

See https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/
and https://docs.influxdata.com/influxdb/v1.7/concepts/tsi-details/
for details.

Change-Id: Id0daa331378473cb2629228f323d5bc01cb80750
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/72/663572/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/influxdb/influxdb.conf', 'releasenotes/notes/enable-disk-tsi-40f29262a0301531.yaml']",2,1e88601770a00a8cebd7e9559e873492ad5cf075,influxdb-1.7.6-version-change,--- upgrade: - | Changes InfluxDB data from in-memory to disk storage (see https://docs.influxdata.com/influxdb/v1.7/concepts/time-series-index/). If upgrading an existing InfluxDB install please follow the instructions for migrating existing data here: https://docs.influxdata.com/influxdb/v1.7/administration/upgrading/#upgrading-influxdb-1-3-1-4-no-tsi-preview-to-1-7-x-tsi-enabled ,,9,0
openstack%2Fopenstack-helm~master~I49edf52cc1fc5ec60ee9754c28880c9c0c54492e,openstack/openstack-helm,master,I49edf52cc1fc5ec60ee9754c28880c9c0c54492e,Gate: Simpler multiple distro/over-ride support,MERGED,2019-06-22 12:45:46.000000000,2019-06-25 19:30:28.000000000,2019-06-25 19:30:27.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-22 12:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58fa679e27db1abdb838801284e26f1f048dc54c', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-22 13:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0abb61b90884e5a945cdf9f5477e2aa16005e298', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-22 13:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9400902584e46ce20aff08c99adf56ce5dd36926', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-22 14:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0507ca25b8b25f8f443146b062542e01c469d6df', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-22 14:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fefdc5991a9bbd5636de2b973f04091fe6a9783f', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-22 15:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebc4c78b5e3ca3e8211df01035031a81bf64a350', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-22 21:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1921bce6d01e973d836d12aeda8911ed7c4af321', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-06-22 21:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/42bb19f3be3e408b6d7d83a1545b86f84c938849', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2019-06-22 21:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8db15f66631926cdff745ddeaf76c429b7286a2a', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2019-06-22 21:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7fa828ea6450848354beea4a8546995ab2a62a51', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2019-06-23 00:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5f6faa672b5b4d66a9c443a7dbbc57a4b2ae440', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 12, 'created': '2019-06-23 00:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f51538558d3c6496802920427ae1da89b3467917', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 13, 'created': '2019-06-23 01:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26c8da8c2146504f4657049c135ff1a6bea0d726', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 14, 'created': '2019-06-23 01:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee2273c7c0e4ece5edfd326408ec44e6205701d3', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 15, 'created': '2019-06-24 15:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58cf1bd572830bb01a85c500b7f5b33f6ec023e1', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 16, 'created': '2019-06-24 15:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/664a6cff83812ac39ba41d2b98cd14f82bd87be5', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 17, 'created': '2019-06-24 16:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d521f42bbb7205e51f3d2837b11e44f4b4d88d41', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 18, 'created': '2019-06-24 16:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/917899481c95b024cdda87d1e0dfe2acdd06901e', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 19, 'created': '2019-06-24 17:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b7d1f7a545948fc4a54c9b14164a20c96e4ba9d', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 20, 'created': '2019-06-24 17:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ece85549c9d252a72245754a8c177e224d89a1f', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 21, 'created': '2019-06-24 17:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb2d89e4d171b3ac81ddf19a26447f37c08b5aac', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 22, 'created': '2019-06-24 18:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/08915ef39a04deb19546ce78d635caf13ee69ccd', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 23, 'created': '2019-06-24 19:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1b8f2948b85d4b238f2f9c82f8c3ebe6bb74e34', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 24, 'created': '2019-06-24 20:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee96e3881e908e435f434551e1cc37eaedfb0394', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 25, 'created': '2019-06-24 20:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/80b5406af7ab98ffb8e06d65e1bca241567007af', 'message': 'Gate: Simpler multiple distro/over-ride support\n\nThis PS indroduces a simpler way to incorp over-rides into gate\nruns, and also ensures that they are scoped to a single chart, rather\nthan all of the charts deployed within a gate run.\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 26, 'created': '2019-06-25 13:16:37.000000000', 'files': ['keystone/values_overrides/ldap.yaml', 'tools/deployment/component/ceph/ceph-ns-activate.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/glance/glance.sh', 'tools/deployment/component/horizon/horizon.sh', 'tools/deployment/component/ceph/ceph.sh', 'tools/deployment/component/common/mariadb.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/component/cinder/cinder.sh', 'tools/deployment/common/get-values-overrides.sh', 'tools/deployment/component/compute-kit/compute-kit.sh', 'tools/deployment/component/compute-kit/openvswitch.sh', 'tools/deployment/component/common/memcached.sh', 'tools/deployment/component/compute-kit/libvirt.sh', 'tools/deployment/component/common/rabbitmq.sh', 'tools/deployment/component/heat/heat.sh', 'tools/deployment/common/install-packages.sh', 'tools/deployment/component/common/ingress.sh', 'tools/deployment/component/keystone/keystone-ldap.sh', 'tools/deployment/component/common/ldap.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cede6c0d482b22258c60b6f7ea9e24ac6cfcf68d', 'message': 'Gate: Simpler multiple distro/over-ride support\n\nThis PS indroduces a simpler way to incorp over-rides into gate\nruns, and also ensures that they are scoped to a single chart, rather\nthan all of the charts deployed within a gate run.\n\nDepends-On: https://review.opendev.org/666957\n\nChange-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",1,666958,cede6c0d482b22258c60b6f7ea9e24ac6cfcf68d,48,8,26,23928,,,0,"Gate: Simpler multiple distro/over-ride support

This PS indroduces a simpler way to incorp over-rides into gate
runs, and also ensures that they are scoped to a single chart, rather
than all of the charts deployed within a gate run.

Depends-On: https://review.opendev.org/666957

Change-Id: I49edf52cc1fc5ec60ee9754c28880c9c0c54492e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/666958/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,58fa679e27db1abdb838801284e26f1f048dc54c,script-runner, osh_params: openstack_release: newton container_distro_name: ubuntu container_distro_version: xenial osh_params: openstack_release: pike container_distro_name: ubuntu container_distro_version: xenial osh_params: openstack_release: rocky container_distro_name: opensuse container_distro_version: '15', values_overrides: # - ../openstack-helm-infra/ingress/values_overrides/pike-ubuntu_xenial.yaml - ./keystone/values_overrides/pike-ubuntu_xenial.yaml values_overrides: - ../openstack-helm-infra/ingress/values_overrides/rocky-opensuse_15.yaml - ./keystone/values_overrides/opensuse_15.yaml - ./keystone/values_overrides/rocky-opensuse_15.yaml,39,34
openstack%2Fdesignate~master~I4f1419fa3136d44da099ba66fdd0a42cf2139c4a,openstack/designate,master,I4f1419fa3136d44da099ba66fdd0a42cf2139c4a,Moved test_context to designate.tests.unit,MERGED,2019-06-23 02:16:04.000000000,2019-06-25 19:23:24.000000000,2019-06-25 19:23:24.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-23 02:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d627d6b6bce5a54cc522ba363b5b02057e91c53d', 'message': 'Moved test_context to designate.tests.unit\n\n* Added some minor tests.\n\nChange-Id: I4f1419fa3136d44da099ba66fdd0a42cf2139c4a\n'}, {'number': 2, 'created': '2019-06-23 02:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8cc656dba2bcfeed6ea56598f4fe4a019c6acd85', 'message': 'Moved test_context to designate.tests.unit\n\n* Added some minor tests.\n* Cleaned up.\n\nChange-Id: I4f1419fa3136d44da099ba66fdd0a42cf2139c4a\n'}, {'number': 3, 'created': '2019-06-23 04:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55ee5fb30531377483aad48edcc32e690544d78d', 'message': 'Moved test_context to designate.tests.unit\n\n* Added some minor tests.\n* Cleaned up.\n\nChange-Id: I4f1419fa3136d44da099ba66fdd0a42cf2139c4a\n'}, {'number': 4, 'created': '2019-06-24 00:56:26.000000000', 'files': ['designate/tests/test_context.py', 'designate/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5383ad9ddcab49a6dc7ff014d8c75641deb6242d', 'message': 'Moved test_context to designate.tests.unit\n\n* Added some minor tests.\n* Cleaned up.\n\nChange-Id: I4f1419fa3136d44da099ba66fdd0a42cf2139c4a\n'}]",0,666976,5383ad9ddcab49a6dc7ff014d8c75641deb6242d,15,4,4,22623,,,0,"Moved test_context to designate.tests.unit

* Added some minor tests.
* Cleaned up.

Change-Id: I4f1419fa3136d44da099ba66fdd0a42cf2139c4a
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/666976/4 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/test_context.py'],1,d627d6b6bce5a54cc522ba363b5b02057e91c53d,standardize_unit_tests,"from designate.tests import TestCase orig = context.DesignateContext( user_id='12345', project_id='54321' ) def test_tsikey_id_override(self): orig = context.DesignateContext( tsigkey_id='12345', project_id='54321' ) copy = orig.to_dict() self.assertEqual('TSIG:12345 54321 - - -', copy['user_identity']) def test_elevated(self): ctxt = context.DesignateContext( user_id='12345', project_id='54321' ) def test_elevated_with_show_deleted(self): ctxt = context.DesignateContext( user_id='12345', project_id='54321' ) admin_ctxt = ctxt.elevated(show_deleted=True) self.assertTrue(admin_ctxt.show_deleted) def test_all_tenants(self): ctxt = context.DesignateContext( user_id='12345', project_id='54321' ) admin_ctxt = ctxt.elevated() ctxt = context.DesignateContext( user_id='12345', project_id='54321' ) ctxt = context.DesignateContext( user_id='12345', project_id='54321' ) ctxt = context.DesignateContext( user_id='12345', project_id='54321' )","from oslo_log import log as logging from designate.tests import TestCase LOG = logging.getLogger(__name__) orig = context.DesignateContext(user_id='12345', project_id='54321') def test_elevated(self): ctxt = context.DesignateContext(user_id='12345', project_id='54321') def test_all_tenants(self): ctxt = context.DesignateContext(user_id='12345', project_id='54321') admin_ctxt = ctxt.elevated() ctxt = context.DesignateContext(user_id='12345', project_id='54321') ctxt = context.DesignateContext(user_id='12345', project_id='54321') ctxt = context.DesignateContext(user_id='12345', project_id='54321')",38,12
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~Ide611fd3d88e352367220f05dbcf4186ac20319f,openstack/openstack-ansible-os_keystone,stable/stein,Ide611fd3d88e352367220f05dbcf4186ac20319f,Fix loss of fernet and credential keys during Rocky to Stein upgrade,MERGED,2019-06-24 19:26:59.000000000,2019-06-25 19:19:32.000000000,2019-06-25 19:19:32.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-24 19:26:59.000000000', 'files': ['tasks/keystone_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8fc9bbb88bf677ddbb5f2780e9ed2b7dcd668458', 'message': 'Fix loss of fernet and credential keys during Rocky to Stein upgrade\n\nThis applies only to source based installations.\n\nThe introduction of smart-sources in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nand credential keys which pre-existed in the case of an upgrade from\nRocky. The original keys were deleted simulataneously across the whole\nkeystone_all group in a way which is makes them unrecoverable in\nthe absence of a backup taken by the operator.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, a task is added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n(cherry picked from commit 8e1f7f4ad8918af9e467387144c7eede7f19f92a)\n'}]",0,667201,8fc9bbb88bf677ddbb5f2780e9ed2b7dcd668458,12,4,1,25023,,,0,"Fix loss of fernet and credential keys during Rocky to Stein upgrade

This applies only to source based installations.

The introduction of smart-sources in [1] created a code path
which deletes the /etc/keystone directory before symlinking it
into the keystone venv and creating the necessary config files.

Unfortunatley this has the side effect of also deleting any fernet
and credential keys which pre-existed in the case of an upgrade from
Rocky. The original keys were deleted simulataneously across the whole
keystone_all group in a way which is makes them unrecoverable in
the absence of a backup taken by the operator.

This change simplifies the smart-sources code to always keep the
keystone config files and fernet keys in the host /etc/keystone.
This ensures that the lifecycle of the fernet keys is not coupled
to the lifecycle of the keystone venvs.

In addition, a task is added to rescue any keys which have been
created in the keystone venv by installations from the Stein
release-candidate.

[1] https://review.opendev.org/#/c/588960/

Closes-Bug: 1833414
Change-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f
(cherry picked from commit 8e1f7f4ad8918af9e467387144c7eede7f19f92a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/01/667201/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_pre_install.yml'],1,8fc9bbb88bf677ddbb5f2780e9ed2b7dcd668458,bug/1833414-stable/stein,"# NOTE(jrosser) this block is to undo symlinking of /etc/keystone into # the keystone venv introduced in change-id I93cb6463ca1eb93ab7f4e7a3970a7de829efaf66. # The smart-sources behaviour of deleting the /etc/keystone directory caused the total # loss of all fernet keys and credential keys during an R->S upgrade using the Stein # release candidate. # Remove this code in the Train release. delegate_to: ""{{ item }}"" run_once: yes - name: Remove the config directory symlink, if it exists - item.stat.islnk is defined and item.stat.islnk run_once: yes mode: ""0755"" # NOTE (jrosser) This recovers Stein release candidate deployments into a # state where the fernet and credential keys will not be lost on subsequent upgrades. # Remove in Train release - name: Rescue fernet keys previously symlinked into the ansible venv command: > cp -rp {{ item.stat.lnk_target | regex_replace('^../', '/') }} /etc/keystone with_items: - ""{{ keystone_conf_dir_stat.results }}"" delegate_to: ""{{ item.item }}"" when: - keystone_install_method == 'source' - item.stat.islnk is defined and item.stat.islnk run_once: yes tags: - skip_ansible_lint ","# NOTE(cloudnull): During an upgrade the local directory may exist on a source # install. If the directory does exist it will need to be # removed. This is required on source installs because the # config directory is a link. - name: Remove the config directory - item.stat.isdir is defined and item.stat.isdir - ""inventory_hostname == ansible_play_hosts[0]"" - path: ""{{ (keystone_install_method == 'distro') | ternary('/etc/keystone', (keystone_bin | dirname) + '/etc/keystone') }}"" mode: ""0755"" # NOTE(cloudnull): The ""src"" path is relative. This ensures all files remain # within the host/container confines when connecting to # them using the connection plugin or the root filesystem. src: ""{{ keystone_bin | dirname | regex_replace('^/', '../') }}/etc/keystone"" state: ""{{ (keystone_install_method == 'source') | ternary('link', 'directory') }}"" force: ""{{ (keystone_install_method == 'source') | ternary(true, omit) }}""",32,16
openstack%2Ftripleo-common~master~I8296a0bde754cdeb325e784642ed668d0314103e,openstack/tripleo-common,master,I8296a0bde754cdeb325e784642ed668d0314103e,Make tempest container available on undercloud,MERGED,2018-02-27 15:58:16.000000000,2019-06-25 19:12:24.000000000,2018-03-06 12:51:21.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10459}, {'_account_id': 10969}, {'_account_id': 13039}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-27 15:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4349d0f48cc4b9716c14b199e3bf3877397c0293', 'message': 'Make tempest container available on undercloud\n\nDepends-On: https://review.openstack.org/#/c/548325/\nChange-Id: I8296a0bde754cdeb325e784642ed668d0314103e\n'}, {'number': 2, 'created': '2018-03-02 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f13d076c4f739306a6b6105544a40c855e529b7b', 'message': 'Make tempest container available on undercloud\n\nDepends-On: https://review.openstack.org/#/c/548325/\nChange-Id: I8296a0bde754cdeb325e784642ed668d0314103e\n'}, {'number': 3, 'created': '2018-03-02 14:01:42.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd4e399ca3a4000ffe5063d5fbb2cdbb7f365619', 'message': 'Make tempest container available on undercloud\n\nChange-Id: I8296a0bde754cdeb325e784642ed668d0314103e\n'}]",1,548329,fd4e399ca3a4000ffe5063d5fbb2cdbb7f365619,14,8,3,12393,,,0,"Make tempest container available on undercloud

Change-Id: I8296a0bde754cdeb325e784642ed668d0314103e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/548329/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,4349d0f48cc4b9716c14b199e3bf3877397c0293,containerize_tempest, params: - DockerTempestImage, params: None services: None,2,2
openstack%2Ftripleo-heat-templates~master~I45c30a7ee5cbea64daac3c6082dd58a073da910e,openstack/tripleo-heat-templates,master,I45c30a7ee5cbea64daac3c6082dd58a073da910e,Remove duplicated parameters about nova db archive,MERGED,2019-06-21 02:26:20.000000000,2019-06-25 18:40:59.000000000,2019-06-25 18:40:59.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 02:26:20.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea24b7820a844b74d7e8594e5221f9f6e8dc243a', 'message': 'Remove duplicated parameters about nova db archive\n\nPerviously we have duplicated parmaeters about nova db archive,\nNovaCronDBArchived* and NovaCronArchiveDeleteRows*, which do not\nwork properly as they conflict with eatch other.\n\nThis patch removes the duplication and make tht to have only\nNovaCronArchiveDeleteRows.\n\nChange-Id: I45c30a7ee5cbea64daac3c6082dd58a073da910e\n'}]",0,666750,ea24b7820a844b74d7e8594e5221f9f6e8dc243a,10,5,1,9816,,,0,"Remove duplicated parameters about nova db archive

Perviously we have duplicated parmaeters about nova db archive,
NovaCronDBArchived* and NovaCronArchiveDeleteRows*, which do not
work properly as they conflict with eatch other.

This patch removes the duplication and make tht to have only
NovaCronArchiveDeleteRows.

Change-Id: I45c30a7ee5cbea64daac3c6082dd58a073da910e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/666750/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,ea24b7820a844b74d7e8594e5221f9f6e8dc243a,dup-dbarchive-params, NovaCronArchiveDeleteRowsMaxDelay: type: string description: > Cron to move deleted instances to another table - Max Delay default: '3600' nova::cron::archive_deleted_rows::maxdelay: {get_param: NovaCronArchiveDeleteRowsMaxDelay},,6,38
openstack%2Fkolla-ansible~master~Ife475ca7d0555562f6e3ef0867835d69d288c8c4,openstack/kolla-ansible,master,Ife475ca7d0555562f6e3ef0867835d69d288c8c4,Add gnocchi extra volumes,MERGED,2019-06-23 01:46:03.000000000,2019-06-25 18:38:37.000000000,2019-06-25 18:38:37.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 28367}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-23 01:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56527566d08d9bafce7b72dbc3f4647abd07bb32', 'message': 'Add gnocchi extra volumes\n\nChange-Id: Ife475ca7d0555562f6e3ef0867835d69d288c8c4\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 2, 'created': '2019-06-23 10:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5a4ce617f50727d560a62d26ee256ee58215b66', 'message': 'Add gnocchi extra volumes\n\nChange-Id: Ife475ca7d0555562f6e3ef0867835d69d288c8c4\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 3, 'created': '2019-06-23 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81905fc46fab68a6488fa98c1f545238405e6c15', 'message': 'Add gnocchi extra volumes\n\nIn some cases, we can mount extra volumes for gnocchi to facilitate\nintegration.\n\nChange-Id: Ife475ca7d0555562f6e3ef0867835d69d288c8c4\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}, {'number': 4, 'created': '2019-06-24 08:58:27.000000000', 'files': ['ansible/roles/gnocchi/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d23a88d7e86a1a6e8b694943f7d24ccc78423401', 'message': 'Add gnocchi extra volumes\n\nIn some cases, we can mount extra volumes for gnocchi to facilitate\nintegration.\n\nChange-Id: Ife475ca7d0555562f6e3ef0867835d69d288c8c4\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",4,666975,d23a88d7e86a1a6e8b694943f7d24ccc78423401,18,5,4,28367,,,0,"Add gnocchi extra volumes

In some cases, we can mount extra volumes for gnocchi to facilitate
integration.

Change-Id: Ife475ca7d0555562f6e3ef0867835d69d288c8c4
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/666975/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/defaults/main.yml'],1,56527566d08d9bafce7b72dbc3f4647abd07bb32,add-gnocchi-extra-volumes," volumes: ""{{ gnocchi_api_default_volume + gnocchi_api_extra_volumes }}"" volumes: ""{{ gnocchi_metricd_default_volume + gnocchi_api_metricd_volumes }}"" volumes: ""{{ gnocchi_statsd_default_volume + gnocchi_statsd_extra_volumes }}""gnocchi_api_default_volume: - ""{{ node_config_directory }}/gnocchi-api/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/"" gnocchi_metricd_default_volume: - ""{{ node_config_directory }}/gnocchi-metricd/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/"" gnocchi_statsd_default_volume: - ""{{ node_config_directory }}/gnocchi-statsd/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/"" gnocchi_extra_volumes: ""{{ default_extra_volumes }}"" gnocchi_api_extra_volumes: ""{{ gnocchi_extra_volumes }}"" gnocchi_metricd_extra_volumes: ""{{ gnocchi_extra_volumes }}"" gnocchi_statsd_extra_volumes: ""{{ gnocchi_extra_volumes }}"" "," volumes: - ""{{ node_config_directory }}/gnocchi-api/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/"" volumes: - ""{{ node_config_directory }}/gnocchi-metricd/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/"" volumes: - ""{{ node_config_directory }}/gnocchi-statsd/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ gnocchi_metric_datadir_volume }}:/var/lib/gnocchi/"" - ""kolla_logs:/var/log/kolla/""",26,15
openstack%2Fcharm-neutron-openvswitch~master~Ic60ee47078089c59ccb09b8659422e7ad7081149,openstack/charm-neutron-openvswitch,master,Ic60ee47078089c59ccb09b8659422e7ad7081149,Add support for FWaaS v2 logging,MERGED,2019-06-10 11:37:57.000000000,2019-06-25 18:37:42.000000000,2019-06-25 18:37:42.000000000,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 11:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/efe65e575a12a59834c39c2fb0fb1d2845d77ed5', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}, {'number': 2, 'created': '2019-06-12 11:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7d29cc9d71859d7b1f2b19d1de96a004b825a4be', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}, {'number': 3, 'created': '2019-06-12 11:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5abf576105d1628c9a02fa0b837e2729ad2fe19f', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}, {'number': 4, 'created': '2019-06-12 11:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/ec4f673fe41b6087a6060183045edaad62959d13', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}, {'number': 5, 'created': '2019-06-25 15:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5e8ad14e4b6aa291e55ed9a792208bdaff357141', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}, {'number': 6, 'created': '2019-06-25 15:53:32.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'templates/newton/fwaas_driver.ini', 'hooks/neutron_ovs_utils.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'templates/stein/l3_agent.ini', 'hooks/charmhelpers/fetch/ubuntu.py', 'templates/stein/fwaas_driver.ini', 'unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/neutron_ovs_context.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/9b0de9bbff162316f39f955c12d211345860972a', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149\nPartial-Bug: 1831972\n'}]",5,664249,9b0de9bbff162316f39f955c12d211345860972a,25,5,6,935,,,0,"Add support for FWaaS v2 logging

Enable support for configuration of FWaaS v2 firewall group
logging.

Configuration options mirror those for neutron-openvswitch
for security group logging.

This feature is currently only enabled for FWaaS v2 at Stein
for the charms (but is supported back to Queens in Neutron).

Change-Id: Ic60ee47078089c59ccb09b8659422e7ad7081149
Partial-Bug: 1831972
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/49/664249/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'templates/newton/fwaas_driver.ini', 'hooks/neutron_ovs_utils.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/templates/section-oslo-notifications', 'templates/stein/l3_agent.ini', 'hooks/charmhelpers/fetch/ubuntu.py', 'templates/stein/fwaas_driver.ini', 'unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_neutron_ovs_hooks.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/neutron_ovs_context.py', 'hooks/charmhelpers/contrib/openstack/templates/vendor_data.json', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",19,efe65e575a12a59834c39c2fb0fb1d2845d77ed5,bug/1831972," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein', 'bionic_train', 'eoan_train', ]"," 'trusty_mitaka', 'xenial_mitaka', 'xenial_newton', 'yakkety_newton', 'xenial_ocata', 'zesty_ocata', 'xenial_pike', 'artful_pike', 'xenial_queens', 'bionic_queens', 'bionic_rocky', 'cosmic_rocky', 'bionic_stein', 'disco_stein']",335,16
openstack%2Fopenstack-helm~master~Ibbc2f311c7328e44a163b97be0f7f443c0b2f72e,openstack/openstack-helm,master,Ibbc2f311c7328e44a163b97be0f7f443c0b2f72e,Gate: Add bindep for docs requirements,MERGED,2019-06-25 13:02:43.000000000,2019-06-25 18:33:19.000000000,2019-06-25 18:33:19.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-25 13:02:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/585f0adcda41eeeba3e1636825a3ac89862b3063', 'message': 'Gate: Add bindep for docs requirements\n\nThis PS adds the required bindep.txt for the docs jobs.\n\nSee: http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ibbc2f311c7328e44a163b97be0f7f443c0b2f72e\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667360,585f0adcda41eeeba3e1636825a3ac89862b3063,7,3,1,23928,,,0,"Gate: Add bindep for docs requirements

This PS adds the required bindep.txt for the docs jobs.

See: http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ibbc2f311c7328e44a163b97be0f7f443c0b2f72e
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/667360/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,585f0adcda41eeeba3e1636825a3ac89862b3063,fix/gate,# This file facilitates OpenStack-CI package installation # before the execution of any tests. # Required to build language docs gettext ,,5,0
openstack%2Foslo.limit~master~I3cca109213e6d3fad91160ebb632d15499690093,openstack/oslo.limit,master,I3cca109213e6d3fad91160ebb632d15499690093,Add skeleton enforce() method to Enforcer,MERGED,2019-06-17 15:18:33.000000000,2019-06-25 18:27:22.000000000,2019-06-25 18:27:22.000000000,"[{'_account_id': 782}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/614a923e089195ce0206fe4bb903d0c0d138fae5', 'message': 'Add skeleton enforce() method to Enforcer\n\nThe `enforce()` method is going to be the main entry point into\noslo.limit for services enforcing usage against unified limits.\n\nFuture patches will add methods for collecting information from\nkeystone, resolving callback functions for project resource usage, and\nimplement different enforcement models (flat, strict-two-level).\n\nChange-Id: I3cca109213e6d3fad91160ebb632d15499690093\n'}, {'number': 2, 'created': '2019-06-19 20:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/4bbd0cba0949cdad104ea4d3f809f520d13913ad', 'message': 'Add skeleton enforce() method to Enforcer\n\nThe `enforce()` method is going to be the main entry point into\noslo.limit for services enforcing usage against unified limits.\n\nFuture patches will add methods for collecting information from\nkeystone, resolving callback functions for project resource usage, and\nimplement different enforcement models (flat, strict-two-level).\n\nChange-Id: I3cca109213e6d3fad91160ebb632d15499690093\n'}, {'number': 3, 'created': '2019-06-20 14:23:17.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/996edbae1293f77282952426b66ffa0bba871397', 'message': 'Add skeleton enforce() method to Enforcer\n\nThe `enforce()` method is going to be the main entry point into\noslo.limit for services enforcing usage against unified limits.\n\nFuture patches will add methods for collecting information from\nkeystone, resolving callback functions for project resource usage, and\nimplement different enforcement models (flat, strict-two-level).\n\nChange-Id: I3cca109213e6d3fad91160ebb632d15499690093\n'}]",3,665711,996edbae1293f77282952426b66ffa0bba871397,14,5,3,5046,,,0,"Add skeleton enforce() method to Enforcer

The `enforce()` method is going to be the main entry point into
oslo.limit for services enforcing usage against unified limits.

Future patches will add methods for collecting information from
keystone, resolving callback functions for project resource usage, and
implement different enforcement models (flat, strict-two-level).

Change-Id: I3cca109213e6d3fad91160ebb632d15499690093
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/11/665711/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",2,614a923e089195ce0206fe4bb903d0c0d138fae5,," def __init__(self, usage_callback): :param usage_callback: A callable function that accepts a project_id string as a parameter and calculates the current usage of a resource. if not callable(usage_callback): msg = 'usage_callback must be a callable function.' raise ValueError(msg) self.usage_callback = usage_callback def enforce(self, deltas): """"""Check resource usage against limits and request deltas. :param deltas: An dictionary containing resource names as keys and requests resource quantities as values. :type deltas: dictionary """""""," def __init__(self, deltas, callback=None): :param deltas: An dictionary containing resource names as keys and requests resource quantities as values. :type deltas: dictionary :param callback: A callable function that accepts a project_id string as a parameter and calculates the current usage of a resource. if callback and not callable(callback): msg = 'callback must be a callable function.' raise ValueError(msg) self.deltas = deltas self.callback = callback",24,28
openstack%2Fcharm-nova-cloud-controller~master~Ia6cd2976f7b8577d86e68c27707e8efe13843ef8,openstack/charm-nova-cloud-controller,master,Ia6cd2976f7b8577d86e68c27707e8efe13843ef8,Refactor get_compute_config(),MERGED,2019-06-25 11:42:32.000000000,2019-06-25 18:27:07.000000000,2019-06-25 18:27:06.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 11:42:32.000000000', 'files': ['hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ee97d576f89cc70ff369e5c08001f051f2eb7e69', 'message': 'Refactor get_compute_config()\n\nEssentially, remove a set_relation() call as the data bag that\nget_compute_config() returns is used in an identical style\nset_relation() call.  This removes the output side-effect from\nget_compute_config(), making it a little easier to reason about.\n\nChange-Id: Ia6cd2976f7b8577d86e68c27707e8efe13843ef8\n'}]",0,667338,ee97d576f89cc70ff369e5c08001f051f2eb7e69,9,4,1,20870,,,0,"Refactor get_compute_config()

Essentially, remove a set_relation() call as the data bag that
get_compute_config() returns is used in an identical style
set_relation() call.  This removes the output side-effect from
get_compute_config(), making it a little easier to reason about.

Change-Id: Ia6cd2976f7b8577d86e68c27707e8efe13843ef8
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/38/667338/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_hooks.py'],1,ee97d576f89cc70ff369e5c08001f051f2eb7e69,improve-ssh-key-management,"def get_compute_config(remote_restart=False): """"""Get the compute config as a dictionary to set on the relation. This gets the console settings (from console_settings()) the serial console settings and some additional items that are in the form suitable for a relation_set. :param remote_restart: whether a restart should be notified :type remote_restart: bool :returns: dictionary settings for the relation :rtype: Dict[str, ANY] """""" rel_settings.update(console_settings()) rel_settings = get_compute_config(remote_restart=remote_restart) rel_settings = get_compute_config(remote_restart=remote_restart)","def get_compute_config(rid=None, remote_restart=False): cons_settings = console_settings() hookenv.relation_set(relation_id=rid, **cons_settings) rel_settings = get_compute_config(rid=rid, remote_restart=remote_restart) rel_settings = get_compute_config(rid=rid, remote_restart=remote_restart)",15,5
openstack%2Fopenstack-helm-infra~master~I74a7c883230265bc4be192539845ac56d7d66a06,openstack/openstack-helm-infra,master,I74a7c883230265bc4be192539845ac56d7d66a06,WIP/DNM: Test Fluentd Buffer Update,ABANDONED,2019-06-25 13:01:26.000000000,2019-06-25 18:24:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-25 13:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab39b9b4c9519a0aaa92e47ef16e78775975db6c', 'message': 'WIP/DNM: Test Fluentd Buffer Updates\n\nChange-Id: I74a7c883230265bc4be192539845ac56d7d66a06\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-25 13:12:28.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/common/fluentd-daemonset.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d49ed1a844ee0ddae3ddedc4dacdb3e6ca60f6c', 'message': 'WIP/DNM: Test Fluentd Buffer Update\n\nChange-Id: I74a7c883230265bc4be192539845ac56d7d66a06\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667359,1d49ed1a844ee0ddae3ddedc4dacdb3e6ca60f6c,4,1,2,17591,,,0,"WIP/DNM: Test Fluentd Buffer Update

Change-Id: I74a7c883230265bc4be192539845ac56d7d66a06
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/59/667359/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/common/fluentd-daemonset.sh']",3,ab39b9b4c9519a0aaa92e47ef16e78775975db6c,fluentd-buffer-updates, chunk_limit_size 8M flush_interval 1s queue_limit_length 16 chunk_limit_size 8M flush_interval 1s queue_limit_length 16 chunk_limit_size 8M flush_interval 1s queue_limit_length 16 chunk_limit_size 8M flush_interval 1s queue_limit_length 16 chunk_limit_size 8M flush_interval 1s queue_limit_length 16 chunk_limit_size 8M flush_interval 1s queue_limit_length 16, chunk_limit_size 512K flush_interval 5s queue_limit_length 32 chunk_limit_size 512K flush_interval 5s queue_limit_length 32 chunk_limit_size 512K flush_interval 5s queue_limit_length 32 chunk_limit_size 512K flush_interval 5s queue_limit_length 32 chunk_limit_size 512K flush_interval 5s queue_limit_length 32 chunk_limit_size 512K flush_interval 5s queue_limit_length 32,35,36
openstack%2Foslo.limit~master~I3a1e58cb18a498bca67f36c76d8e8c8c4fb80083,openstack/oslo.limit,master,I3a1e58cb18a498bca67f36c76d8e8c8c4fb80083,Remove __enter__ and __exit__ methods from Enforcer,MERGED,2019-06-17 15:18:33.000000000,2019-06-25 18:12:15.000000000,2019-06-25 18:12:14.000000000,"[{'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/804232b794cba9e00b7fe0d55ca7bd56e82c673a', 'message': ""Remove __enter__ and __exit__ methods from Enforcer\n\nOriginally, we wanted oslo.limit's Enforcer object to be a context\nmanager to make it easier to abstract logic to protect against\nresource race conditions. Since verification logic isn't going to be\nimplemented right away, we can just focus on a single method for\nenforcement instead, making it easier to adopt.\n\nSubsequent patches are going to introduce a new enforcement interface\nfor oslo.limit.\n\nChange-Id: I3a1e58cb18a498bca67f36c76d8e8c8c4fb80083\n""}, {'number': 2, 'created': '2019-06-19 20:02:11.000000000', 'files': ['oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/5db5a5930a1978a1db649c3407dc3ca32cfb3282', 'message': ""Remove __enter__ and __exit__ methods from Enforcer\n\nOriginally, we wanted oslo.limit's Enforcer object to be a context\nmanager to make it easier to abstract logic to protect against\nresource race conditions. Since verification logic isn't going to be\nimplemented right away, we can just focus on a single method for\nenforcement instead, making it easier to adopt.\n\nSubsequent patches are going to introduce a new enforcement interface\nfor oslo.limit.\n\nChange-Id: I3a1e58cb18a498bca67f36c76d8e8c8c4fb80083\n""}]",0,665710,5db5a5930a1978a1db649c3407dc3ca32cfb3282,9,3,2,5046,,,0,"Remove __enter__ and __exit__ methods from Enforcer

Originally, we wanted oslo.limit's Enforcer object to be a context
manager to make it easier to abstract logic to protect against
resource race conditions. Since verification logic isn't going to be
implemented right away, we can just focus on a single method for
enforcement instead, making it easier to adopt.

Subsequent patches are going to introduce a new enforcement interface
for oslo.limit.

Change-Id: I3a1e58cb18a498bca67f36c76d8e8c8c4fb80083
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/10/665710/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_limit/limit.py'],1,804232b794cba9e00b7fe0d55ca7bd56e82c673a,,," def __enter__(self): pass def __exit__(self, *args): pass",0,6
openstack%2Foslo.limit~master~I50f52189862bc3d109654e158cba381b156e70b6,openstack/oslo.limit,master,I50f52189862bc3d109654e158cba381b156e70b6,Remove verification functionality,MERGED,2019-06-17 15:18:33.000000000,2019-06-25 18:12:14.000000000,2019-06-25 18:12:13.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a222d4f6295d28fdb4c32b07e3d79b85698bf1d7', 'message': ""Remove verification functionality\n\nWe want the initial implementation of oslo.limit to be as simple as\npossible. Originally, we thought we were going to implement resource\nverification, but that's something we can do later.\n\nResource verification is meant to protect against race conditions when\ntwo clients claim the same amount of resources and the project is over\nlimit. Unfortunately, having services implement resource verification\nrequires them to use either a context manager or make multiple calls\nto enforce limits and sprinkling those calls around existing business\nlogic. Since we don't know which approach we want to use to implement\nthis, let's just focus on enforcing limits and come back to resource\nverification when we get more feedback from developers incorporating\nthis into their services.\n\nChange-Id: I50f52189862bc3d109654e158cba381b156e70b6\n""}, {'number': 2, 'created': '2019-06-19 20:02:11.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/8bf64bb278ba17264d427ac0e07646c4e496a3b0', 'message': ""Remove verification functionality\n\nWe want the initial implementation of oslo.limit to be as simple as\npossible. Originally, we thought we were going to implement resource\nverification, but that's something we can do later.\n\nResource verification is meant to protect against race conditions when\ntwo clients claim the same amount of resources and the project is over\nlimit. Unfortunately, having services implement resource verification\nrequires them to use either a context manager or make multiple calls\nto enforce limits and sprinkling those calls around existing business\nlogic. Since we don't know which approach we want to use to implement\nthis, let's just focus on enforcing limits and come back to resource\nverification when we get more feedback from developers incorporating\nthis into their services.\n\nChange-Id: I50f52189862bc3d109654e158cba381b156e70b6\n""}]",0,665709,8bf64bb278ba17264d427ac0e07646c4e496a3b0,11,4,2,5046,,,0,"Remove verification functionality

We want the initial implementation of oslo.limit to be as simple as
possible. Originally, we thought we were going to implement resource
verification, but that's something we can do later.

Resource verification is meant to protect against race conditions when
two clients claim the same amount of resources and the project is over
limit. Unfortunately, having services implement resource verification
requires them to use either a context manager or make multiple calls
to enforce limits and sprinkling those calls around existing business
logic. Since we don't know which approach we want to use to implement
this, let's just focus on enforcing limits and come back to resource
verification when we get more feedback from developers incorporating
this into their services.

Change-Id: I50f52189862bc3d109654e158cba381b156e70b6
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/09/665709/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",2,a222d4f6295d28fdb4c32b07e3d79b85698bf1d7,," def __init__(self, deltas, callback=None):"," def __init__(self, deltas, callback=None, verify=True): :param verify: Boolean denoting whether or not to verify the new usage after checking the resource delta. This can be useful for handling race conditions between clients claiming resources. :type verify: boolean if verify and not isinstance(verify, bool): msg = 'verify must be a boolean value.' raise ValueError(msg) self.verify = verify",2,25
openstack%2Foslo.limit~master~I3f04ffc6d27208500b8e6409c3c30e6cb3147169,openstack/oslo.limit,master,I3f04ffc6d27208500b8e6409c3c30e6cb3147169,Remove ProjectClaim object from oslo.limit,MERGED,2019-06-17 15:18:33.000000000,2019-06-25 18:12:12.000000000,2019-06-25 18:12:12.000000000,"[{'_account_id': 782}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 15:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/adcf84a681d2868455ade05bef2c644e93078210', 'message': ""Remove ProjectClaim object from oslo.limit\n\nThe concept of having project claims and tacking them on to an\nEnforcer object is too heavy-handed for what we need right now.\nInstead, we can just use a dictionary with resource names as the key\nand their respective usage/request limits as values.\n\nFuture patches will remove the context manager functionality from\noslo.limit, too. We can revisit the concept of a context manager to\nimplement additional functionality for verification and race\nconditions when we have a for sure need for it.\n\nThe goal of this patch is to make the interface as simple as possible\nso that it is easier for projects to adopt it.\n\nNote: we're able to make these changes because we haven't released\noslo.limit, yet. We can make breaking changes up to version 1.0, so we\ncan easily come back to this approach up to that point.\n\nChange-Id: I3f04ffc6d27208500b8e6409c3c30e6cb3147169\n""}, {'number': 2, 'created': '2019-06-19 20:02:11.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/af184185fe03a6f73c44eedeb6bcf53082a96a64', 'message': ""Remove ProjectClaim object from oslo.limit\n\nThe concept of having project claims and tacking them on to an\nEnforcer object is too heavy-handed for what we need right now.\nInstead, we can just use a dictionary with resource names as the key\nand their respective usage/request limits as values.\n\nFuture patches will remove the context manager functionality from\noslo.limit, too. We can revisit the concept of a context manager to\nimplement additional functionality for verification and race\nconditions when we have a for sure need for it.\n\nThe goal of this patch is to make the interface as simple as possible\nso that it is easier for projects to adopt it.\n\nNote: we're able to make these changes because we haven't released\noslo.limit, yet. We can make breaking changes up to version 1.0, so we\ncan easily come back to this approach up to that point.\n\nChange-Id: I3f04ffc6d27208500b8e6409c3c30e6cb3147169\n""}]",1,665708,af184185fe03a6f73c44eedeb6bcf53082a96a64,11,4,2,5046,,,0,"Remove ProjectClaim object from oslo.limit

The concept of having project claims and tacking them on to an
Enforcer object is too heavy-handed for what we need right now.
Instead, we can just use a dictionary with resource names as the key
and their respective usage/request limits as values.

Future patches will remove the context manager functionality from
oslo.limit, too. We can revisit the concept of a context manager to
implement additional functionality for verification and race
conditions when we have a for sure need for it.

The goal of this patch is to make the interface as simple as possible
so that it is easier for projects to adopt it.

Note: we're able to make these changes because we haven't released
oslo.limit, yet. We can make breaking changes up to version 1.0, so we
can easily come back to this approach up to that point.

Change-Id: I3f04ffc6d27208500b8e6409c3c30e6cb3147169
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/08/665708/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",2,adcf84a681d2868455ade05bef2c644e93078210,," def __init__(self, deltas, callback=None, verify=True): """"""An object for checking usage against resource limits and requests. :param deltas: An dictionary containing resource names as keys and requests resource quantities as values. :type deltas: dictionary after checking the resource delta. This can be useful for handling race conditions between clients claiming resources. if not isinstance(deltas, dict): msg = 'deltas must be a dictionary.' self.deltas = deltas","import six class ProjectClaim(object): def __init__(self, resource_name, project_id, quantity=None): """"""An object representing a claim of resources against a project. :param resource_name: A string representing the resource to claim. :type resource_name: string :param project_id: The ID of the project claiming the resources. :type project_id: string :param quantity: The number of resources being claimed. :type quantity: integer """""" if not isinstance(resource_name, six.string_types): msg = 'resource_name must be a string type.' raise ValueError(msg) if not isinstance(project_id, six.string_types): msg = 'project_id must be a string type.' raise ValueError(msg) if quantity and not isinstance(quantity, int): msg = 'quantity must be an integer.' raise ValueError(msg) self.resource_name = resource_name self.project_id = project_id self.quantity = quantity def __init__(self, claim, callback=None, verify=True): """"""Context manager for checking usage against resource claims. :param claim: An object containing information about the claim. :type claim: ``oslo_limit.limit.ProjectClaim`` after executing a claim. This can be useful for handling race conditions between clients claiming resources. if not isinstance(claim, ProjectClaim): msg = 'claim must be an instance of oslo_limit.limit.ProjectClaim.' self.claim = claim",22,122
openstack%2Fsahara-tests~master~I12a3c5f0c5394238c1449c31745bad62ff6df579,openstack/sahara-tests,master,I12a3c5f0c5394238c1449c31745bad62ff6df579,DNM Test with tls-proxy,NEW,2018-10-02 10:14:19.000000000,2019-06-25 17:47:33.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-02 10:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/6d7acb8173755c1963db407fbbf3020c078cc131', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 2, 'created': '2018-10-05 10:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/91c3e5bf6495dcb20d056b8fa5f371f07f4aa3eb', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 3, 'created': '2018-10-05 12:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/ccc33a7daeffa484f9a3632de7913c50fcc104a2', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 4, 'created': '2018-10-22 16:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/e502ad2c401c8fa2d10aaefd087b6cf965aae963', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 5, 'created': '2018-11-30 19:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/140887aefd71bb9988dcac88a4fb90cc3c73b5d2', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 6, 'created': '2019-01-31 21:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/712ff316a53ae2676fc71a1f9859cce387bd17f5', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 7, 'created': '2019-02-04 17:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/0b6100ff3c3f9a23dda02001389114549ca94cc3', 'message': 'DNM Test print python version\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n'}, {'number': 8, 'created': '2019-03-29 10:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/c460a6a1706b2078b24e1b6b7658e4077f3a5630', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}, {'number': 9, 'created': '2019-04-02 10:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/58eb48b53ff1a7ae24734339d2f9329002d300cf', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nDepends-On: https://review.openstack.org/649252\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}, {'number': 10, 'created': '2019-04-05 08:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/7592b2037067ed1ffe02b0e46aa1bd0363bd86c3', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nI can see errors from gnocchi, let's try if enabling aodh helps.\n\nDepends-On: https://review.openstack.org/649252\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}, {'number': 11, 'created': '2019-04-05 09:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/402d4f8544f6bb1663f2337e1c08df2b3cfe53ea', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nI can see errors from gnocchi, let's try if enabling aodh helps.\n\nDepends-On: https://review.openstack.org/649252\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}, {'number': 12, 'created': '2019-04-05 14:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/375abd777623452aaffcc0146f28dda1e7e33d2a', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nTemporarily disable certificate verification for tempest CLI and\npython client tests.\n\nDepends-On: https://review.openstack.org/649252\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}, {'number': 13, 'created': '2019-04-20 18:04:27.000000000', 'files': ['sahara_tempest_plugin/tests/cli/base.py', '.zuul.yaml', 'sahara_tempest_plugin/tests/clients/base.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/8c1b2b12b48db8d8763d44b6a35c239e38837fc4', 'message': ""DNM Test with tls-proxy\n\nIt didn't work in the past, so let's recheck if it is still\nthe case or some change fixed the deployment with tls-proxy.\n\nTemporarily disable certificate verification for tempest CLI and\npython client tests.\n\nDepends-On: https://review.openstack.org/649252\nChange-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579\n""}]",0,607145,8c1b2b12b48db8d8763d44b6a35c239e38837fc4,39,2,13,10459,,,0,"DNM Test with tls-proxy

It didn't work in the past, so let's recheck if it is still
the case or some change fixed the deployment with tls-proxy.

Temporarily disable certificate verification for tempest CLI and
python client tests.

Depends-On: https://review.openstack.org/649252
Change-Id: I12a3c5f0c5394238c1449c31745bad62ff6df579
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/45/607145/12 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-sahara-scenario/tasks/main.yaml'],1,6d7acb8173755c1963db407fbbf3020c078cc131,test-tlsproxy," - name: TEST print python version shell: | tox -e venv --sitepackages -- python --version args: chdir: ""{{ sahara_tests_src_dir }}""",,6,0
openstack%2Fsahara-plugin-spark~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-spark,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:21.000000000,2019-06-25 17:40:46.000000000,2019-06-25 17:40:46.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:21.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/82ebcd7f0d86ba078a449bb63a18649899921b9c', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667308,82ebcd7f0d86ba078a449bb63a18649899921b9c,7,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/08/667308/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,82ebcd7f0d86ba078a449bb63a18649899921b9c,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-plugin-ambari~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-ambari,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:02.000000000,2019-06-25 17:40:44.000000000,2019-06-25 17:40:44.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/58911e05e51c54daef00750942872fc8e8b40669', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}, {'number': 2, 'created': '2019-06-25 09:50:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/1bc790221598b7c3b48c1857a734da29fd540cfd', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667305,1bc790221598b7c3b48c1857a734da29fd540cfd,8,3,2,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/05/667305/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,58911e05e51c54daef00750942872fc8e8b40669,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-plugin-cdh~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-cdh,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:09.000000000,2019-06-25 17:37:50.000000000,2019-06-25 17:37:50.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/4f956bbe90e1db1ba3f6f35ad485225f2d12d141', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667306,4f956bbe90e1db1ba3f6f35ad485225f2d12d141,7,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/06/667306/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4f956bbe90e1db1ba3f6f35ad485225f2d12d141,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpython-saharaclient~master~I5c3653d41b87869ea3b307206785636274302946,openstack/python-saharaclient,master,I5c3653d41b87869ea3b307206785636274302946,Update sphinx from current requirements,MERGED,2019-06-25 09:50:06.000000000,2019-06-25 17:37:49.000000000,2019-06-25 17:37:49.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:50:06.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/30ad1cf26c067745c416b6f010a4ba93859c0ac3', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I5c3653d41b87869ea3b307206785636274302946\n'}]",0,667312,30ad1cf26c067745c416b6f010a4ba93859c0ac3,7,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I5c3653d41b87869ea3b307206785636274302946
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/12/667312/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,30ad1cf26c067745c416b6f010a4ba93859c0ac3,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-plugin-vanilla~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-vanilla,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:33.000000000,2019-06-25 17:37:48.000000000,2019-06-25 17:37:48.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/3c73896af83a9ec6971dcb97881bc24d4f3b60af', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667310,3c73896af83a9ec6971dcb97881bc24d4f3b60af,7,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/10/667310/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3c73896af83a9ec6971dcb97881bc24d4f3b60af,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-plugin-storm~master~I7a378c69f3ac35ec398400ff8be8421b619a8e6b,openstack/sahara-plugin-storm,master,I7a378c69f3ac35ec398400ff8be8421b619a8e6b,Update sphinx from current requirements,MERGED,2019-06-25 09:47:27.000000000,2019-06-25 17:37:20.000000000,2019-06-25 17:37:20.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 09:47:27.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/70e8bc93ff9c8a527e6fe861f940b69a1b7d148a', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b\n'}]",0,667309,70e8bc93ff9c8a527e6fe861f940b69a1b7d148a,7,3,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I7a378c69f3ac35ec398400ff8be8421b619a8e6b
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/09/667309/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,70e8bc93ff9c8a527e6fe861f940b69a1b7d148a,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara~master~I4d7fc4b212a42c29839e1c6915ec6aab3ee4ed15,openstack/sahara,master,I4d7fc4b212a42c29839e1c6915ec6aab3ee4ed15,Remove some files not worth maintaining,MERGED,2019-06-20 13:59:27.000000000,2019-06-25 17:25:16.000000000,2019-06-25 17:25:16.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-20 13:59:27.000000000', 'files': ['tools/get_auth_token', 'doc/source/install/installation-guide.rst', 'etc/sahara/sahara.conf.sample-basic', 'tools/get_auth_token.py', 'doc/source/admin/configuration-guide.rst'], 'web_link': 'https://opendev.org/openstack/sahara/commit/865858460ca2b3c0e5c9a2b244ef07cec1e9f8cb', 'message': 'Remove some files not worth maintaining\n\nChange-Id: I4d7fc4b212a42c29839e1c6915ec6aab3ee4ed15\n'}]",2,666584,865858460ca2b3c0e5c9a2b244ef07cec1e9f8cb,9,4,1,23078,,,0,"Remove some files not worth maintaining

Change-Id: I4d7fc4b212a42c29839e1c6915ec6aab3ee4ed15
",git fetch https://review.opendev.org/openstack/sahara refs/changes/84/666584/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/get_auth_token', 'doc/source/install/installation-guide.rst', 'etc/sahara/sahara.conf.sample-basic', 'tools/get_auth_token.py', 'doc/source/admin/configuration-guide.rst']",5,865858460ca2b3c0e5c9a2b244ef07cec1e9f8cb,make-life-easier-1,"A full configuration file showing all possible configuration options and their defaults can be generated with the following command:After creating a configuration file by either generating one or starting with an empty file, edit the ``connection`` parameter in the","Sahara is packaged with a basic sample configuration file: ``sahara.conf.sample-basic``. This file contains all the essential parameters that are required for sahara. We recommend creating your configuration file based on this basic example. If a more thorough configuration is needed we recommend using the ``tox`` tool to create a full configuration file by executing the following command:After creating a configuration file by either copying the basic example or generating one, edit the ``connection`` parameter in the",11,224
openstack%2Fsahara~master~If66a364be10271882629e0b278c8729172ff47bd,openstack/sahara,master,If66a364be10271882629e0b278c8729172ff47bd,Update Python 3 test runtimes for Train,MERGED,2019-05-09 06:27:01.000000000,2019-06-25 17:25:15.000000000,2019-06-25 17:25:14.000000000,"[{'_account_id': 4257}, {'_account_id': 8932}, {'_account_id': 9414}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-09 06:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/a665ac2e56d1844aada656e2d57d58d150f7378b', 'message': 'Update Python 3 test runtimes for Train\n\nFollowing the process set down in the TC resolution on updating Python\nversions:\n\nhttps://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n\nChange-Id: If66a364be10271882629e0b278c8729172ff47bd\nDepends-On: https://review.opendev.org/#/c/641878/\n'}, {'number': 2, 'created': '2019-05-09 09:36:10.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/bc049c9fc2bd38e107da3d0700fc078a2c745174', 'message': 'Update Python 3 test runtimes for Train\n\nThis goal is to implement the process set out in the 2018-10-24 Python\nUpdate Process TC resolution[1], for the Train cycle to ensure unit\ntesting is in place for all of the Tested Runtimes for Train[2].\nIn practice, this generally means adding unit tests for Python 3.7 and dropping\nunit tests for Python 3.5. Using the Zuul template for Train will ensure that\nall projects that support Python3 will be tested against the agreed runtime\nversions, and make it easier to update them in future.\n\n[1]https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n[2]https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: If66a364be10271882629e0b278c8729172ff47bd\nDepends-On: https://review.opendev.org/#/c/641878/\n'}]",0,657931,bc049c9fc2bd38e107da3d0700fc078a2c745174,23,5,2,9414,,,0,"Update Python 3 test runtimes for Train

This goal is to implement the process set out in the 2018-10-24 Python
Update Process TC resolution[1], for the Train cycle to ensure unit
testing is in place for all of the Tested Runtimes for Train[2].
In practice, this generally means adding unit tests for Python 3.7 and dropping
unit tests for Python 3.5. Using the Zuul template for Train will ensure that
all projects that support Python3 will be tested against the agreed runtime
versions, and make it easier to update them in future.

[1]https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html
[2]https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: If66a364be10271882629e0b278c8729172ff47bd
Depends-On: https://review.opendev.org/#/c/641878/
",git fetch https://review.opendev.org/openstack/sahara refs/changes/31/657931/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,a665ac2e56d1844aada656e2d57d58d150f7378b,python3-train,"envlist = py36,py37,py27,pep8,genpolicy[testenv:debug-py37] basepython = python3.7 commands = oslo_debug_helper -t sahara/tests/unit {posargs} ","envlist = py36,py27,pep8,genpolicy",7,3
openstack%2Fcompute-hyperv~master~Ibfb879751bba038054ba7852dc49f6d9e67027d6,openstack/compute-hyperv,master,Ibfb879751bba038054ba7852dc49f6d9e67027d6,Implement update_provider_tree,MERGED,2019-04-23 12:29:28.000000000,2019-06-25 17:12:20.000000000,2019-06-14 12:06:06.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-23 12:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5890884f9467f9641d44769ff832fcceea4c90b9', 'message': ""Hyper-V: implement update_provider_tree\n\nFor now, we'll just set the available ram, disk and vcpus.\nThis will allow allocation ratios to be set at the placement\ninventory level. At the same time, driver capabilities will be\nexposed through traits.\n\nOnce #1784020 is addressed, we may skip reporting shared storage\ncapacity.\n\nWe're also skipping CPU features for a couple of reasons:\n* there are just a few features defined by os-traits, yet even\n  fewer exposed by Windows APIs. One option would be to call cpuid\n  to get a more exhaustive list of features but that would require\n  a C Python extension or separate executable.\n* we can't tell for sure which CPU features will actually be exposed\n  to the guest, especially when limiting guest CPU features in order\n  to support live migration in heterogeneous deployments.\n\nChange-Id: Ibfb879751bba038054ba7852dc49f6d9e67027d6\n""}, {'number': 2, 'created': '2019-04-23 12:47:39.000000000', 'files': ['compute_hyperv/nova/hostops.py', 'compute_hyperv/nova/driver.py', 'compute_hyperv/tests/unit/test_hostops.py', 'compute_hyperv/tests/unit/test_driver.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/6f3e999d1d458feab795f1462b68a3587f69c25f', 'message': ""Implement update_provider_tree\n\nFor now, we'll just set the available ram, disk and vcpus.\nThis will allow allocation ratios to be set at the placement\ninventory level. At the same time, driver capabilities will be\nexposed through traits.\n\nOnce #1784020 is addressed, we may skip reporting shared storage\ncapacity.\n\nWe're also skipping CPU features for a couple of reasons:\n* there are just a few features defined by os-traits, yet even\n  fewer exposed by Windows APIs. One option would be to call cpuid\n  to get a more exhaustive list of features but that would require\n  a C Python extension or separate executable.\n* we can't tell for sure which CPU features will actually be exposed\n  to the guest, especially when limiting guest CPU features in order\n  to support live migration in heterogeneous deployments.\n\nChange-Id: Ibfb879751bba038054ba7852dc49f6d9e67027d6\n""}]",0,655123,6f3e999d1d458feab795f1462b68a3587f69c25f,10,4,2,8543,,,0,"Implement update_provider_tree

For now, we'll just set the available ram, disk and vcpus.
This will allow allocation ratios to be set at the placement
inventory level. At the same time, driver capabilities will be
exposed through traits.

Once #1784020 is addressed, we may skip reporting shared storage
capacity.

We're also skipping CPU features for a couple of reasons:
* there are just a few features defined by os-traits, yet even
  fewer exposed by Windows APIs. One option would be to call cpuid
  to get a more exhaustive list of features but that would require
  a C Python extension or separate executable.
* we can't tell for sure which CPU features will actually be exposed
  to the guest, especially when limiting guest CPU features in order
  to support live migration in heterogeneous deployments.

Change-Id: Ibfb879751bba038054ba7852dc49f6d9e67027d6
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/23/655123/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/hostops.py', 'compute_hyperv/nova/driver.py', 'compute_hyperv/tests/unit/test_hostops.py', 'compute_hyperv/tests/unit/test_driver.py']",4,5890884f9467f9641d44769ff832fcceea4c90b9,rp," @mock.patch.object(driver.HyperVDriver, '_get_allocation_ratios') def test_update_provider_tree(self, mock_get_alloc_ratios): mock_ptree = mock.Mock() mock_inventory = mock_ptree.data.return_value.inventory self.driver.update_provider_tree( mock_ptree, mock.sentinel.nodename, mock.sentinel.allocations) mock_get_alloc_ratios.assert_called_once_with(mock_inventory) self.driver._hostops.update_provider_tree.assert_called_once_with( mock_ptree, mock.sentinel.nodename, mock_get_alloc_ratios.return_value, mock.sentinel.allocations)",,105,0
openstack%2Fmanila~master~I1824f132b0ffadc6c9179582d37295f3abed355f,openstack/manila,master,I1824f132b0ffadc6c9179582d37295f3abed355f,[CI] Add bindep.txt,MERGED,2019-06-24 21:39:30.000000000,2019-06-25 17:06:51.000000000,2019-06-25 16:56:33.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-24 21:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/51b5b071fc92f8f359f05cc87b75954d1b266382', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n'}, {'number': 2, 'created': '2019-06-24 21:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8a59234a3dea4097d6628e9f58dd3525064f18c2', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n'}, {'number': 3, 'created': '2019-06-24 21:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fff06af02c236bb113fcc3a23cbed339b25f94f5', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1][2] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n'}, {'number': 4, 'created': '2019-06-24 22:03:58.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/1709fd7fc222f81bcbedc05e683d2eec5337edcc', 'message': '[CI] Add bindep.txt\n\nBindep is a tool for checking the presence of binary\npackages needed to use an application / library. It\nstarted life as a way to make it easier to set up a\ndevelopment environment for OpenStack projects.\n\nInfra has been looking to drop the global\nbindep_fallback.txt [1][2] file for all\nOpenStack projects, they recommend that projects\nmaintain their own with packages as necessary.\n\n[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html\nChange-Id: I1824f132b0ffadc6c9179582d37295f3abed355f\n'}]",0,667233,1709fd7fc222f81bcbedc05e683d2eec5337edcc,24,10,4,16643,,,0,"[CI] Add bindep.txt

Bindep is a tool for checking the presence of binary
packages needed to use an application / library. It
started life as a way to make it easier to set up a
development environment for OpenStack projects.

Infra has been looking to drop the global
bindep_fallback.txt [1][2] file for all
OpenStack projects, they recommend that projects
maintain their own with packages as necessary.

[1] http://lists.openstack.org/pipermail/openstack-infra/2018-April/005926.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006888.html
Change-Id: I1824f132b0ffadc6c9179582d37295f3abed355f
",git fetch https://review.opendev.org/openstack/manila refs/changes/33/667233/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,51b5b071fc92f8f359f05cc87b75954d1b266382,ci,"# This is a cross-platform list tracking distribution packages needed for # install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. build-essential [platform:dpkg test] gcc [platform:rpm test] # gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. gettext [!platform:suse doc test] gettext-runtime [platform:suse doc test] graphviz [doc test] libffi-dev [platform:dpkg] libffi-devel [platform:redhat] libffi48-devel [platform:suse] virtual/libffi [platform:gentoo] libssl-dev [platform:dpkg] openssl-devel [platform:rpm !platform:suse] libopenssl-devel [platform:suse !platform:rpm] locales [platform:debian] mariadb [platform:rpm] mariadb-server [platform:redhat] mariadb-devel [platform:redhat] libmysqlclient-dev [platform:dpkg] libmysqlclient-devel [platform:suse] mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql postgresql-client [platform:dpkg] postgresql-devel [platform:rpm] postgresql-server [platform:rpm] libxml2-dev [platform:dpkg test] libxslt-devel [platform:rpm test] libxslt1-dev [platform:dpkg test] ",,34,0
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I0fd0516a23c8e6a8d1e0ecaeec15ff5c8bf07fc9,openstack/puppet-openstack-integration,stable/rocky,I0fd0516a23c8e6a8d1e0ecaeec15ff5c8bf07fc9,DNM - test - Move zuul layout in zuul.d,ABANDONED,2019-06-25 16:44:33.000000000,2019-06-25 16:57:20.000000000,,[],"[{'number': 1, 'created': '2019-06-25 16:44:33.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0c81e3db3fcefc6c6ff3d0b88f30da305832197', 'message': 'DNM - test - Move zuul layout in zuul.d\n\nChange-Id: I0fd0516a23c8e6a8d1e0ecaeec15ff5c8bf07fc9\n'}]",0,667406,b0c81e3db3fcefc6c6ff3d0b88f30da305832197,2,0,1,3153,,,0,"DNM - test - Move zuul layout in zuul.d

Change-Id: I0fd0516a23c8e6a8d1e0ecaeec15ff5c8bf07fc9
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/667406/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b0c81e3db3fcefc6c6ff3d0b88f30da305832197,zuul/rocky,,,0,0
openstack%2Fpuppet-openstack-integration~master~I8bc39c000b51ebe74be7755ede2988cea3a9dfe6,openstack/puppet-openstack-integration,master,I8bc39c000b51ebe74be7755ede2988cea3a9dfe6,DNM - testing zuul/poi,ABANDONED,2019-06-25 16:40:20.000000000,2019-06-25 16:57:16.000000000,,[],"[{'number': 1, 'created': '2019-06-25 16:40:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d334ccacf5018e9563b54cf9323b0669dac73419', 'message': 'DNM - testing zuul/poi\n\nChange-Id: I8bc39c000b51ebe74be7755ede2988cea3a9dfe6\n'}]",0,667405,d334ccacf5018e9563b54cf9323b0669dac73419,2,0,1,3153,,,0,"DNM - testing zuul/poi

Change-Id: I8bc39c000b51ebe74be7755ede2988cea3a9dfe6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/05/667405/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d334ccacf5018e9563b54cf9323b0669dac73419,test,,,1,0
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I43e4f19ec7e50f08500a2052987b1126aa54e162,openstack/puppet-openstack-integration,stable/rocky,I43e4f19ec7e50f08500a2052987b1126aa54e162,DNM - Add implied branch config for pacemaker and ceph,ABANDONED,2019-06-25 16:45:42.000000000,2019-06-25 16:57:08.000000000,,[],"[{'number': 1, 'created': '2019-06-25 16:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/41a5d3dd013f4d7628751be6fe3946297438da2d', 'message': 'DNM - Add implied branch config for pacemaker and ceph\n\nChange-Id: I43e4f19ec7e50f08500a2052987b1126aa54e162\n'}, {'number': 2, 'created': '2019-06-25 16:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b8e8619635ac769bf6a8748514e3ab056620b0a1', 'message': 'DNM - Add implied branch config for pacemaker and ceph\n\nChange-Id: I43e4f19ec7e50f08500a2052987b1126aa54e162\n'}, {'number': 3, 'created': '2019-06-25 16:55:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/252f2582e1bb85859cd0cf25812c21b9a3bbc240', 'message': 'DNM - Add implied branch config for pacemaker and ceph\n\nChange-Id: I43e4f19ec7e50f08500a2052987b1126aa54e162\n'}]",0,667407,252f2582e1bb85859cd0cf25812c21b9a3bbc240,4,0,3,3153,,,0,"DNM - Add implied branch config for pacemaker and ceph

Change-Id: I43e4f19ec7e50f08500a2052987b1126aa54e162
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/07/667407/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,41a5d3dd013f4d7628751be6fe3946297438da2d,test,# handle puppet-ceph mimic branch and puppet-pacemaker 0.7.x - pragma: implied-branches: - stable/mimic - stable/0.7.x ,,6,0
openstack%2Fopenstack-helm-infra~master~Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8,openstack/openstack-helm-infra,master,Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8,Gate: Simpler multiple distro/over-ride support,MERGED,2019-06-22 12:44:42.000000000,2019-06-25 16:41:25.000000000,2019-06-25 16:41:25.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-22 12:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0457fec2a797f12af75ed463c10bfd805528fb45', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nChange-Id: Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-24 17:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de41b2778447fa58c266564650cbf8b8654ad373', 'message': 'WIP: Simpler multiple distro/over-ride support\n\nChange-Id: Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-24 19:17:17.000000000', 'files': ['roles/osh-run-script/defaults/main.yaml', 'roles/osh-run-script/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2bb0dcb5b03d0da091606e1d8d24418ebeac9d0f', 'message': 'Gate: Simpler multiple distro/over-ride support\n\nThis PS indroduces a simpler way to incorp over-rides into gate\nruns, and also ensures that they are scoped to a single chart, rather\nthan all of the charts deployed within a gate run.\n\nChange-Id: Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,666957,2bb0dcb5b03d0da091606e1d8d24418ebeac9d0f,12,7,3,23928,,,0,"Gate: Simpler multiple distro/over-ride support

This PS indroduces a simpler way to incorp over-rides into gate
runs, and also ensures that they are scoped to a single chart, rather
than all of the charts deployed within a gate run.

Change-Id: Iba80f645f33c6d5847fbbb28ce66ee3d23e4fce8
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/666957/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/osh-run-script/defaults/main.yaml', 'roles/osh-run-script/tasks/main.yaml']",2,0457fec2a797f12af75ed463c10bfd805528fb45,script-runner," OPENSTACK_RELEASE: ""{{ osh_params.openstack_release}}"" CONTAINER_DISTRO_NAME: ""{{ osh_params.container_distro_name}}"" CONTAINER_DISTRO_VERSION: ""{{ osh_params.container_distro_version}}""",,19,0
openstack%2Foslo.upgradecheck~master~I54f3f347b0d7da4385ffcbfa5da61c83657f390c,openstack/oslo.upgradecheck,master,I54f3f347b0d7da4385ffcbfa5da61c83657f390c,Enable JSON results output,MERGED,2019-05-24 15:30:50.000000000,2019-06-25 16:37:59.000000000,2019-06-25 16:37:59.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-05-24 15:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/108f56a66e4f317fd7f0880f2b918367490fe9bd', 'message': 'Enable JSON results output\n\nThis takes a lighter weight approach to allowing output to be formatted\nas JSON than switching over to using cliff. This adds the --json flag\nargument that will format the printed results in a much more compact\nJSON format.\n\nChange-Id: I54f3f347b0d7da4385ffcbfa5da61c83657f390c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-06-11 15:06:20.000000000', 'files': ['releasenotes/notes/.placeholder', 'oslo_upgradecheck/upgradecheck.py', 'releasenotes/notes/json-output-78a9e19588b7b1e1.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/3a92c6e0b60321fff869c864fb167381066b5585', 'message': 'Enable JSON results output\n\nThis takes a lighter weight approach to allowing output to be formatted\nas JSON than switching over to using cliff. This adds the --json flag\nargument that will format the printed results in a much more compact\nJSON format.\n\nChange-Id: I54f3f347b0d7da4385ffcbfa5da61c83657f390c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",5,661334,3a92c6e0b60321fff869c864fb167381066b5585,11,5,2,11904,,,0,"Enable JSON results output

This takes a lighter weight approach to allowing output to be formatted
as JSON than switching over to using cliff. This adds the --json flag
argument that will format the printed results in a much more compact
JSON format.

Change-Id: I54f3f347b0d7da4385ffcbfa5da61c83657f390c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/34/661334/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/.placeholder', 'oslo_upgradecheck/upgradecheck.py', 'releasenotes/notes/json-output-78a9e19588b7b1e1.yaml']",3,108f56a66e4f317fd7f0880f2b918367490fe9bd,json,"--- features: - | oslo.upgradecheck now supports the command line flag ``--json`` to have the upgrade check results output in a compact, machine readable JSON format. The default output without this flag remains a human readable table of the results. ",,51,17
openstack%2Fopenstack-helm-images~master~Ib941eefe4bfd014fd78dd378cad7c2dd3e9d277b,openstack/openstack-helm-images,master,Ib941eefe4bfd014fd78dd378cad7c2dd3e9d277b,Add Prometheus openstack exporter image,MERGED,2019-06-03 15:24:38.000000000,2019-06-25 16:34:57.000000000,2019-06-25 16:31:15.000000000,"[{'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-03 15:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8fe77b4785dbc053ce2160eb89bd6726b6afc043', 'message': 'Add Prometheus openstack exporter image\n\nThis adds the Prometheus OpenStack exporter image built for\nopenstack-helm-infra to openstack-helm-images\n\nChange-Id: Ib941eefe4bfd014fd78dd378cad7c2dd3e9d277b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-25 02:47:47.000000000', 'files': ['prometheus-openstack-exporter/Dockerfile.ubuntu_xenial', 'prometheus-openstack-exporter/exporter/__init__.py', 'prometheus-openstack-exporter/build.sh', 'prometheus-openstack-exporter/exporter/nova_services.py', 'prometheus-openstack-exporter/exporter/hypervisor_stats.py', 'prometheus-openstack-exporter/exporter/main.py', 'prometheus-openstack-exporter/exporter/neutron_agents.py', 'zuul.d/prometheus-openstack-exporter.yaml', 'prometheus-openstack-exporter/exporter/base.py', 'prometheus-openstack-exporter/exporter/osclient.py', 'prometheus-openstack-exporter/exporter/cinder_services.py', 'prometheus-openstack-exporter/exporter/oscache.py', 'prometheus-openstack-exporter/exporter/check_os_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/64343f86fab735a6dd4e1e12b8f7afdb4964eae7', 'message': 'Add Prometheus openstack exporter image\n\nThis adds the Prometheus OpenStack exporter image built for\nopenstack-helm-infra to openstack-helm-images\n\nChange-Id: Ib941eefe4bfd014fd78dd378cad7c2dd3e9d277b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",2,662787,64343f86fab735a6dd4e1e12b8f7afdb4964eae7,11,4,2,17591,,,0,"Add Prometheus openstack exporter image

This adds the Prometheus OpenStack exporter image built for
openstack-helm-infra to openstack-helm-images

Change-Id: Ib941eefe4bfd014fd78dd378cad7c2dd3e9d277b
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/87/662787/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/Dockerfile.ubuntu_xenial', 'prometheus-openstack-exporter/exporter/__init__.py', 'prometheus-openstack-exporter/build.sh', 'prometheus-openstack-exporter/exporter/nova_services.py', 'prometheus-openstack-exporter/exporter/hypervisor_stats.py', 'prometheus-openstack-exporter/exporter/main.py', 'prometheus-openstack-exporter/exporter/neutron_agents.py', 'zuul.d/prometheus-openstack-exporter.yaml', 'prometheus-openstack-exporter/exporter/base.py', 'prometheus-openstack-exporter/exporter/osclient.py', 'prometheus-openstack-exporter/exporter/cinder_services.py', 'prometheus-openstack-exporter/exporter/oscache.py', 'prometheus-openstack-exporter/exporter/check_os_api.py']",13,8fe77b4785dbc053ce2160eb89bd6726b6afc043,openstack-exporter-image,"#!/usr/bin/env python # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from base import OSBase from urlparse import urlparse from prometheus_client import CollectorRegistry, generate_latest, Gauge import logging logging.basicConfig( level=logging.DEBUG, format=""%(asctime)s:%(levelname)s:%(message)s"") logger = logging.getLogger(__name__) class CheckOSApi(OSBase): """"""Class to check the status of OpenStack API services."""""" CHECK_MAP = { 'keystone': {'path': '/', 'expect': [300], 'name': 'keystone-public-api'}, 'heat': {'path': '/', 'expect': [300], 'name': 'heat-api'}, 'heat-cfn': {'path': '/', 'expect': [300], 'name': 'heat-cfn-api'}, 'glance': {'path': '/', 'expect': [300], 'name': 'glance-api'}, 'cinder': {'path': '/', 'expect': [200, 300], 'name': 'cinder-api'}, 'cinderv2': { 'path': '/', 'expect': [200, 300], 'name': 'cinder-v2-api'}, 'neutron': {'path': '/', 'expect': [200], 'name': 'neutron-api'}, 'nova': {'path': '/', 'expect': [200], 'name': 'nova-api'}, 'ceilometer': { 'path': 'v2/capabilities', 'expect': [200], 'auth': True, 'name': 'ceilometer-api'}, 'swift': {'path': '/', 'expect': [200], 'name': 'ceph'}, 'swift_s3': { 'path': 'healthcheck', 'expect': [200], 'name': 'swift-s3-api'}, 'murano': {'path': '/', 'expect': [200, 300], 'name': 'murano-api'}, 'trove': {'path': '/', 'expect': [200, 300], 'name': 'trove-api'}, 'mistral': {'path': '/', 'expect': [200, 300], 'name': 'mistral-api'}, 'designate': {'path': '/', 'expect': [200, 300], 'name': 'designate-api'}, 'contrail_analytics': {'path': '/', 'expect': [200], 'name': 'contrail-analytics-api'}, 'contrail_config': {'path': '/', 'expect': [200], 'name': 'contrail-config-api'}, 'congress': {'path': '/', 'expect': [200], 'name': 'congress-api'}, 'placement': {'path': '/', 'expect': [401], 'name': 'placement-api'}, 'shipyard': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'promenade'}, } def _service_url(self, endpoint, path): url = urlparse(endpoint) u = '%s://%s' % (url.scheme, url.netloc) if path != '/': u = '%s/%s' % (u, path) return u def build_cache_data(self): """""" Check the status of all the API services. Yields a list of dict items with 'service', 'status' (either OK, FAIL or UNKNOWN) and 'region' keys. """""" check_array = [] catalog = self.osclient.service_catalog for service in catalog: name = service['name'] url = None status_code = 500 if name not in self.CHECK_MAP: logger.info( ""No check found for service '%s', creating one"" % name) self.CHECK_MAP[name] = { 'path': '/', 'expect': [200, 300, 302, 401, 404], 'name': name, } check = self.CHECK_MAP[name] url = self._service_url(service['url'], check['path']) r = self.osclient.raw_get( url, token_required=check.get( 'auth', False)) if r is not None: status_code = r.status_code if r is None or status_code not in check['expect']: logger.info( ""Service %s check failed "" ""(returned '%s' but expected '%s')"" % ( name, status_code, check['expect']) ) status = self.FAIL else: status = self.OK check_array.append({ 'service': name, 'status': status, 'url': url, 'status_code': status_code, 'region': self.osclient.region, }) return check_array def get_cache_key(self): return ""check_os_api"" def get_stats(self): registry = CollectorRegistry() labels = ['region', 'url', 'service'] check_api_data_cache = self.get_cache_data() for check_api_data in check_api_data_cache: label_values = [ check_api_data['region'], check_api_data['url'], check_api_data['service']] gague_name = self.gauge_name_sanitize( ""check_{}_api"".format(check_api_data['service'])) check_gauge = Gauge( gague_name, 'Openstack API check. fail = 0, ok = 1 and unknown = 2', labels, registry=registry) check_gauge.labels(*label_values).set(check_api_data['status']) return generate_latest(registry) ",,1208,0
openstack%2Freleases~master~I6be928a75acd02a55c3f7d8cd5e3b54c10a756ff,openstack/releases,master,I6be928a75acd02a55c3f7d8cd5e3b54c10a756ff,Release OpenStack-Ansible Stein,MERGED,2019-06-20 20:11:20.000000000,2019-06-25 16:26:31.000000000,2019-06-25 16:26:30.000000000,"[{'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-20 20:11:20.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/32bbe5121732e63b95ab96f68b3178c80ccc3d23', 'message': 'Release OpenStack-Ansible Stein\n\nChange-Id: I6be928a75acd02a55c3f7d8cd5e3b54c10a756ff\n'}]",0,666721,32bbe5121732e63b95ab96f68b3178c80ccc3d23,12,5,1,28619,,,0,"Release OpenStack-Ansible Stein

Change-Id: I6be928a75acd02a55c3f7d8cd5e3b54c10a756ff
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/666721/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,32bbe5121732e63b95ab96f68b3178c80ccc3d23,release_osa, - projects: - hash: 97e9ac1f22168d63f90390b191306e7a14bf0c8d repo: openstack/openstack-ansible version: 19.0.0.0rc3,,4,0
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I776dc70d858326e33e04db94b7af161167a5eecb,openstack/puppet-openstack-integration,stable/rocky,I776dc70d858326e33e04db94b7af161167a5eecb,Add implied branch for puppet-pacemaker 0.7.x,ABANDONED,2019-06-25 16:17:03.000000000,2019-06-25 16:19:39.000000000,,[],"[{'number': 1, 'created': '2019-06-25 16:17:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3e302b4c0be8faaf8d8b51b15fe27c4379149967', 'message': 'Add implied branch for puppet-pacemaker 0.7.x\n\nChange-Id: I776dc70d858326e33e04db94b7af161167a5eecb\n'}]",0,667400,3e302b4c0be8faaf8d8b51b15fe27c4379149967,2,0,1,14985,,,0,"Add implied branch for puppet-pacemaker 0.7.x

Change-Id: I776dc70d858326e33e04db94b7af161167a5eecb
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/00/667400/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e302b4c0be8faaf8d8b51b15fe27c4379149967,fix-pacemaker-ci,# handle puppet-pacemaker 0.7.x branch - pragma: implied-branches: - stable/0.7.x ,,5,0
openstack%2Fopenstack-helm-images~master~Icd7bcdee59f1dc719d0dc5e7517294ac922f680e,openstack/openstack-helm-images,master,Icd7bcdee59f1dc719d0dc5e7517294ac922f680e,Add Nagios image to openstack-helm-images,MERGED,2019-06-03 15:06:20.000000000,2019-06-25 16:18:57.000000000,2019-06-25 16:14:48.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-03 15:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/86691faec73f72b4a7367689639b9c34a342d0ab', 'message': 'Add Nagios image to openstack-helm-images\n\nThis adds the Prometheus-aware Nagios core 4 image built for\nopenstack-helm-infra to the openstack-helm-images repository\n\nChange-Id: Icd7bcdee59f1dc719d0dc5e7517294ac922f680e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-03 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7a62d1267539d247f19e13cd866b7952d3ba84ed', 'message': 'Add Nagios image to openstack-helm-images\n\nThis adds the Prometheus-aware Nagios core 4 image built for\nopenstack-helm-infra to the openstack-helm-images repository\n\nChange-Id: Icd7bcdee59f1dc719d0dc5e7517294ac922f680e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-06-25 02:47:43.000000000', 'files': ['nagios/apache2/ports.conf', 'nagios/plugins/check_update_prometheus_hosts.py', 'nagios/plugins/query_elasticsearch.py', 'nagios/plugins/send_service_trap.sh', 'nagios/plugins/check_prometheus_metric.sh', 'nagios/scripts/snmp-mibs/NAGIOS-ROOT-MIB', 'zuul.d/nagios.yaml', 'nagios/Dockerfile.ubuntu_xenial', 'nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/nagiosutil.py', 'nagios/scripts/entrypoint.sh', 'nagios/plugins/check_exporter_health_metric.py', 'nagios/apache2/sites-available/nagios.conf', 'nagios/plugins/send_http_post_event.py', 'nagios/plugins/send_host_trap.sh', 'nagios/plugins/check_rest_get_api.py', 'nagios/build.sh', 'nagios/scripts/snmp-mibs/NAGIOS-NOTIFY-MIB'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/dbf42a23014094043dbd00ef0408236797aacccb', 'message': 'Add Nagios image to openstack-helm-images\n\nThis adds the Prometheus-aware Nagios core 4 image built for\nopenstack-helm-infra to the openstack-helm-images repository\n\nChange-Id: Icd7bcdee59f1dc719d0dc5e7517294ac922f680e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,662784,dbf42a23014094043dbd00ef0408236797aacccb,13,4,3,17591,,,0,"Add Nagios image to openstack-helm-images

This adds the Prometheus-aware Nagios core 4 image built for
openstack-helm-infra to the openstack-helm-images repository

Change-Id: Icd7bcdee59f1dc719d0dc5e7517294ac922f680e
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/84/662784/3 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/apache2/ports.conf', 'nagios/plugins/check_update_prometheus_hosts.py', 'nagios/plugins/query_elasticsearch.py', 'nagios/plugins/send_service_trap.sh', 'nagios/plugins/check_prometheus_metric.sh', 'nagios/scripts/snmp-mibs/NAGIOS-ROOT-MIB', 'zuul.d/nagios.yaml', 'nagios/Dockerfile.ubuntu_xenial', 'nagios/plugins/query_prometheus_alerts.py', 'nagios/plugins/nagiosutil.py', 'nagios/scripts/entrypoint.sh', 'nagios/plugins/check_exporter_health_metric.py', 'nagios/apache2/sites-available/nagios.conf', 'nagios/plugins/send_http_post_event.py', 'nagios/plugins/send_host_trap.sh', 'nagios/plugins/check_rest_get_api.py', 'nagios/build.sh', 'nagios/scripts/snmp-mibs/NAGIOS-NOTIFY-MIB']",18,86691faec73f72b4a7367689639b9c34a342d0ab,nagios-image,"NAGIOS-NOTIFY-MIB DEFINITIONS ::= BEGIN IMPORTS MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE, Integer32, Gauge32 FROM SNMPv2-SMI nagios,NotifyType,HostStateID,HostStateType,ServiceStateID FROM NAGIOS-ROOT-MIB; nagiosNotify MODULE-IDENTITY LAST-UPDATED ""200503090000Z"" -- March 9, 2005 ORGANIZATION ""Nagios"" CONTACT-INFO "" Subhendu Ghosh Telephone: +1 201 232 2851 Email: sghosh@users.sourceforge.net Nagios Information: http://www.nagios.org "" DESCRIPTION ""Objects for Nagios(tm) events. There are 2 primary tables reflecting the division in Nagios for Host events and Service events. The event tables are extended by the HostNotifyTable and the ServiceNotifyTable to keep track of the notifications based on events. The tables entries themselves are not accessible but are used for OID entries for TRAP/INFORM notifications. These objects are based on the macros defined in Nagios v2.0 "" REVISION ""200503090000Z"" -- March 9, 2005 DESCRIPTION ""Spell check"" REVISION ""200501200000Z"" --January 20, 2005 DESCRIPTION ""Initial Version"" ::= { nagios 1 } nagiosHostEventTable OBJECT-TYPE SYNTAX SEQUENCE OF HostEventEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Table of Nagios host events"" ::= { nagiosNotify 1 } HostEventEntry ::= SEQUENCE { nHostEventIndex Integer32, nHostname OCTET STRING, nHostAlias OCTET STRING, nHostStateID HostStateID, nHostStateType HostStateType, nHostAttempt Integer32, nHostDurationSec Integer32, nHostGroupName OCTET STRING, nHostLastCheck INTEGER, nHostLastChange INTEGER, nHostLastUp INTEGER, nHostLastDown INTEGER, nHostLastUnreachable INTEGER, nHostOutput OCTET STRING, nHostPerfData OCTET STRING } nagiosHostEventEntry OBJECT-TYPE SYNTAX HostEventEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Each notification event"" INDEX { nHostEventIndex } ::= { nagiosHostEventTable 1 } nHostEventIndex OBJECT-TYPE SYNTAX Integer32 (1..65535) MAX-ACCESS not-accessible STATUS current DESCRIPTION ""This object uniquely identifies this host event entry. It is generated by the SNMP application and is not related to any Nagios data."" ::= { nagiosHostEventEntry 1 } nHostname OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""Hostname as specified in the Nagios configuration file."" ::= { nagiosHostEventEntry 2 } nHostAlias OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The host alias as specified in the Nagios configuration file"" ::= { nagiosHostEventEntry 3 } nHostStateID OBJECT-TYPE SYNTAX HostStateID MAX-ACCESS read-only STATUS current DESCRIPTION ""The host state as defined by the HOSTSTATEID macro"" ::= { nagiosHostEventEntry 4 } nHostStateType OBJECT-TYPE SYNTAX HostStateType MAX-ACCESS read-only STATUS current DESCRIPTION ""The host state as defined by the HOSTSTATETYPE macro"" ::= { nagiosHostEventEntry 5 } nHostAttempt OBJECT-TYPE SYNTAX Integer32 MAX-ACCESS read-only STATUS current DESCRIPTION ""The number of the current host check retry. For instance, if this is the second time that the host is being rechecked, this will be the number two. Current attempt number is really only useful when writing host event handlers for soft states that take a specific action based on the host retry number. The host state as defined by the HOSTSTATEID macro"" ::= { nagiosHostEventEntry 6 } nHostDurationSec OBJECT-TYPE SYNTAX Integer32 MAX-ACCESS read-only STATUS current DESCRIPTION ""A number indicating the number of seconds that the host has spent in its current state"" ::= { nagiosHostEventEntry 7 } nHostGroupName OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The short name of the hostgroup that this host belongs to. This value is taken from the hostgroup_name directive in the hostgroup definition. If the host belongs to more than one hostgroup this macro will contain the name of just one of them."" ::= { nagiosHostEventEntry 8 } nHostLastCheck OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which a check of the host was last performed."" ::= { nagiosHostEventEntry 9 } nHostLastChange OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time the host last changed state."" ::= { nagiosHostEventEntry 10 } nHostLastUp OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the host was last detected as being in an UP state."" ::= { nagiosHostEventEntry 11 } nHostLastDown OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the host was last detected as being in an DOWN state."" ::= { nagiosHostEventEntry 12 } nHostLastUnreachable OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the host was last detected as being in an UNREACHABLE state."" ::= { nagiosHostEventEntry 13 } nHostOutput OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The text output from the last host check (i.e. Ping OK)."" ::= { nagiosHostEventEntry 14 } nHostPerfData OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""This object contains any performance data that may have been returned by the last host check."" ::= { nagiosHostEventEntry 15 } -- -- Host Notifications nagiosHostNotifyTable OBJECT-TYPE SYNTAX SEQUENCE OF HostNotifyEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Table of Nagios host notifications"" ::= {nagiosNotify 2} HostNotifyEntry ::= SEQUENCE { nHostNotifyType NotifyType, nHostNotifyNum Gauge32, -- was Integer32, nHostAckAuthor OCTET STRING, nHostAckComment OCTET STRING } nagiosHostNotifyEntry OBJECT-TYPE SYNTAX HostNotifyEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Nagios host notifications extends the nagiosHostEventTable when a notification is generated for an event."" INDEX { nHostEventIndex } ::= { nagiosHostNotifyTable 1 } nHostNotifyType OBJECT-TYPE SYNTAX NotifyType MAX-ACCESS read-only STATUS current DESCRIPTION ""This identifies the type of notification that is being sent (PROBLEM, RECOVERY, ACKNOWLEDGEMENT, FLAPPINGSTART or FLAPPINGSTOP)"" ::= { nagiosHostNotifyEntry 1 } nHostNotifyNum OBJECT-TYPE SYNTAX Gauge32 -- was NotifyType MAX-ACCESS read-only STATUS current DESCRIPTION ""This identifies the current notification number for the service or host. The notification number increases by one (1) each time a new notification is sent out for a host or service (except for acknowledgements). The notification number is reset to 0 when the host or service recovers (after the recovery notification has gone out). Acknowledgements do not cause the notification number to increase."" ::= { nagiosHostNotifyEntry 2 } nHostAckAuthor OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""A string containing the name of the user who acknowledged the host problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to ACKNOWLEDGEMENT."" ::= { nagiosHostNotifyEntry 3 } nHostAckComment OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""A string containing the acknowledgement comment that was entered by the user who acknowledged the host problem. This macro is only valid in notifications where the $NOTIFICATIONTYPE$ macro is set to ACKNOWLEDGEMENT"" ::= { nagiosHostNotifyEntry 4 } -- -- Service Events -- nagiosSvcEventTable OBJECT-TYPE SYNTAX SEQUENCE OF SvcEventEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Table of Nagios service notifications"" ::= { nagiosNotify 3 } SvcEventEntry ::= SEQUENCE { nSvcEventIndex Integer32, nSvcHostname OCTET STRING, nSvcHostAlias OCTET STRING, nSvcHostStateID HostStateID, nSvcHostStateType HostStateType, nSvcDesc OCTET STRING, nSvcStateID ServiceStateID, nSvcAttempt Integer32, nSvcDurationSec Integer32, nSvcGroupName OCTET STRING, nSvcLastCheck INTEGER, nSvcLastChange INTEGER, nSvcLastOK INTEGER, nSvcLastWarn INTEGER, nSvcLastCrit INTEGER, nSvcLastUnkn INTEGER, nSvcOutput OCTET STRING, nSvcPerfData OCTET STRING } nagiosSvcEventEntry OBJECT-TYPE SYNTAX SvcEventEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Table of Nagios service events."" INDEX { nSvcEventIndex } ::= { nagiosSvcEventTable 1 } nSvcEventIndex OBJECT-TYPE SYNTAX Integer32 (1..65535) MAX-ACCESS not-accessible STATUS current DESCRIPTION ""This object uniquely identifies this service event entry"" ::= { nagiosSvcEventEntry 1 } nSvcHostname OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""Hostname as specified in the Nagios configuration file."" ::= { nagiosSvcEventEntry 2 } nSvcHostAlias OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The host alias as specified in the Nagios configuration file"" ::= { nagiosSvcEventEntry 3 } nSvcHostStateID OBJECT-TYPE SYNTAX HostStateID MAX-ACCESS read-only STATUS current DESCRIPTION ""A number that corresponds to the current state of the service: 0=OK, 1=WARNING, 2=CRITICAL, 3=UNKNOWN."" ::= { nagiosSvcEventEntry 4 } nSvcHostStateType OBJECT-TYPE SYNTAX HostStateType MAX-ACCESS read-only STATUS current DESCRIPTION ""Whether the host is in a hard or soft state."" ::= { nagiosSvcEventEntry 5 } nSvcDesc OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""This value is taken from the description directive of the service definition."" ::= { nagiosSvcEventEntry 6 } nSvcStateID OBJECT-TYPE SYNTAX ServiceStateID MAX-ACCESS read-only STATUS current DESCRIPTION "" A number that corresponds to the current state of the service: 0=OK, 1=WARNING, 2=CRITICAL, 3=UNKNOWN"" ::= { nagiosSvcEventEntry 7 } nSvcAttempt OBJECT-TYPE SYNTAX Integer32 MAX-ACCESS read-only STATUS current DESCRIPTION ""The number of the current service check retry. For instance, if this is the second time that the service is being rechecked, this will be the number two. Current attempt number is really only useful when writing service event handlers for soft states that take a specific action based on the service retry number."" ::= { nagiosSvcEventEntry 8 } nSvcDurationSec OBJECT-TYPE SYNTAX Integer32 MAX-ACCESS read-only STATUS current DESCRIPTION ""A number indicating the number of seconds that the service has spent in its current state."" ::= { nagiosSvcEventEntry 9 } nSvcGroupName OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The short name of the servicegroup that this service belongs to. This value is taken from the servicegroup_name directive in the servicegroup definition. If the service belongs to more than one servicegroup this object will contain the name of just one of them."" ::= { nagiosSvcEventEntry 10 } nSvcLastCheck OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which a check of the service was last performed."" ::= { nagiosSvcEventEntry 11 } nSvcLastChange OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time the service last changed state."" ::= { nagiosSvcEventEntry 12 } nSvcLastOK OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the service was last detected as being in an OK state."" ::= { nagiosSvcEventEntry 13 } nSvcLastWarn OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the service was last detected as being in a WARNING state."" ::= { nagiosSvcEventEntry 14 } nSvcLastCrit OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the service was last detected as being in a CRITICAL state."" ::= { nagiosSvcEventEntry 15 } nSvcLastUnkn OBJECT-TYPE SYNTAX INTEGER MAX-ACCESS read-only STATUS current DESCRIPTION ""This is a timestamp in time_t format (seconds since the UNIX epoch) indicating the time at which the service was last detected as being in an UNKNOWN state."" ::= { nagiosSvcEventEntry 16 } nSvcOutput OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""The text output from the last service check (i.e. Ping OK)."" ::= { nagiosSvcEventEntry 17 } nSvcPerfData OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""This object contains any performance data that may have been returned by the last service check."" ::= { nagiosSvcEventEntry 18 } -- -- Service Notifications -- nagiosSvcNotifyTable OBJECT-TYPE SYNTAX SEQUENCE OF SvcNotifyEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Table of Nagios service notifications."" ::= { nagiosNotify 4 } SvcNotifyEntry ::= SEQUENCE { nSvcNotifyType NotifyType, nSvcNotifyNum Gauge32, -- Integer32, nSvcAckAuthor OCTET STRING, nSvcAckComment OCTET STRING } nagiosSvcNotifyEntry OBJECT-TYPE SYNTAX SvcNotifyEntry MAX-ACCESS not-accessible STATUS current DESCRIPTION ""Nagios service notifications extends the nagiosSvcEnevtsTable when a notification is generated for an event."" INDEX { nSvcEventIndex } ::= { nagiosSvcNotifyTable 1} nSvcNotifyType OBJECT-TYPE SYNTAX NotifyType MAX-ACCESS read-only STATUS current DESCRIPTION ""A string identifying the type of notification that is being sent (PROBLEM, RECOVERY, ACKNOWLEDGEMENT, FLAPPINGSTART or FLAPPINGSTOP)."" ::= { nagiosSvcNotifyEntry 1 } nSvcNotifyNum OBJECT-TYPE SYNTAX Gauge32 -- Integer32 MAX-ACCESS read-only STATUS current DESCRIPTION ""The current notification number for the service or host. The notification number increases by one (1) each time a new notification is sent out for a host or service (except for acknowledgements). The notification number is reset to 0 when the host or service recovers (after the recovery notification has gone out). Acknowledgements do not cause the notification number to increase."" ::= { nagiosSvcNotifyEntry 2 } nSvcAckAuthor OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""A string containing the name of the user who acknowledged the service problem. This object is only valid in notifications where the nSvcNotifyType object is set to ACKNOWLEDGEMENT."" ::= { nagiosSvcNotifyEntry 3 } nSvcAckComment OBJECT-TYPE SYNTAX OCTET STRING MAX-ACCESS read-only STATUS current DESCRIPTION ""A string containing the acknowledgement comment that was entered by the user who acknowledged the service problem. This object is only valid in notifications where the nSvcNotifyType object is set to ACKNOWLEDGEMENT."" ::= { nagiosSvcNotifyEntry 4 } -- -- Events and Notifications -- nHostEvent NOTIFICATION-TYPE OBJECTS { nHostname, nHostStateID, nHostStateType, nHostAttempt, nHostDurationSec, nHostGroupName, nHostLastCheck, nHostLastChange, nHostOutput } STATUS current DESCRIPTION ""The SNMP trap that is generated as a result of an event with the host in Nagios."" ::= { nagiosNotify 5 } nHostNotify NOTIFICATION-TYPE OBJECTS { nHostNotifyType, nHostNotifyNum, nHostAckAuthor, nHostAckComment, nHostname, nHostStateID, nHostStateType, nHostAttempt, nHostDurationSec, nHostGroupName, nHostLastCheck, nHostLastChange, nHostOutput } STATUS current DESCRIPTION ""The SNMP trap that is generated as a result of an event requiring notification for a host in Nagios."" ::= { nagiosNotify 6 } nSvcEvent NOTIFICATION-TYPE OBJECTS { nHostname, nHostStateID, nSvcDesc, nSvcStateID, nSvcAttempt, nSvcDurationSec, nSvcGroupName, nSvcLastCheck, nSvcLastChange, nSvcOutput } STATUS current DESCRIPTION ""The SNMP trap that is generated as a result of an event with the service in Nagios."" ::= { nagiosNotify 7 } nSvcNotify NOTIFICATION-TYPE OBJECTS { nSvcNotifyType, nSvcNotifyNum, nSvcAckAuthor, nSvcAckComment, nHostname, nHostStateID, nSvcDesc, nSvcStateID, nSvcAttempt, nSvcDurationSec, nSvcGroupName, nSvcLastCheck, nSvcLastChange, nSvcOutput } STATUS current DESCRIPTION ""The SNMP trap that is generated as a result of an event requiring notification for a service in Nagios."" ::= { nagiosNotify 8 } END ",,2340,0
openstack%2Fnova~master~I0dfb4f8668563b3a2c16eada6eb82e4276495ed3,openstack/nova,master,I0dfb4f8668563b3a2c16eada6eb82e4276495ed3,Functional reproduce for bug 1833581,ABANDONED,2019-06-25 16:09:29.000000000,2019-06-25 16:12:58.000000000,,[],"[{'number': 1, 'created': '2019-06-25 16:09:29.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1833581.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9dc5f822f823de02542ed6cbede1217654945e6d', 'message': 'Functional reproduce for bug 1833581\n\nChange-Id: I0dfb4f8668563b3a2c16eada6eb82e4276495ed3\nRelated-Bug: #1833581\n'}]",0,667397,9dc5f822f823de02542ed6cbede1217654945e6d,2,0,1,9708,,,0,"Functional reproduce for bug 1833581

Change-Id: I0dfb4f8668563b3a2c16eada6eb82e4276495ed3
Related-Bug: #1833581
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/667397/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1833581.py'],1,9dc5f822f823de02542ed6cbede1217654945e6d,bug/bug/1833581,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova import utils class TestComputeRestartInstanceStuckInBuild( integrated_helpers.ProviderUsageBaseTestCase): compute_driver = 'fake.SmallFakeDriver' def setUp(self): super(TestComputeRestartInstanceStuckInBuild, self).setUp() self.compute1 = self._start_compute(host='host1') flavors = self.api.get_flavors() self.flavor1 = flavors[0] def test_restart_compute_while_instance_waiting_for_resource_claim(self): """"""Regression test for bug 1833581 where an instance is stuck in BUILD state forever due to compute service is restarted before the resource claim finished. """""" # starting a server here to make sure that the compute is fully up # before we start the real test scenario as we need to avoid grabbing # the lock below before the compute is fully up as that would prevent # reporting available resources. server_req = self._build_minimal_create_server_request( self.api, 'normal-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none', az='nova:host1') normal_server = self.api.post_server({'server': server_req}) self._wait_for_state_change(self.admin_api, normal_server, 'ACTIVE') # To avoid timing issues in the test we grab the # COMPUTE_RESOURCE_SEMAPHORE so the instance_claim will # wait and we can restart the compute at the right time. @utils.synchronized(""compute_resources"") def do_test(): fake_notifier.reset() server_req = self._build_minimal_create_server_request( self.api, 'interrupted-server', flavor_id=self.flavor1['id'], image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks='none', az='nova:host1') created_server = self.api.post_server({'server': server_req}) self._wait_for_state_change( self.admin_api, created_server, 'BUILD') # the instance.create.start is the closest thing to the # instance_claim call we can wait for in the test fake_notifier.wait_for_versioned_notifications( 'instance.create.start') self.restart_compute_service(self.compute1) return created_server server = do_test() # This is bug 1833581 as the server remains in error state after the # compute restart. self._wait_for_state_change(self.admin_api, server, 'BUILD') # We expect that the instance is pushed to ERROR state during the # compute restart. # self._wait_for_state_change(self.admin_api, server, 'ERROR') ",,77,0
openstack%2Frally~master~Ifb7f7af5823bd14e45b0a32047e2093e49a89dbb,openstack/rally,master,Ifb7f7af5823bd14e45b0a32047e2093e49a89dbb,Fix assertion methods,MERGED,2019-06-20 04:51:59.000000000,2019-06-25 16:05:25.000000000,2019-06-25 16:05:25.000000000,"[{'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 04:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9c4ee1cae20e3d6ee760cb06f9aaf47cd52de9ea', 'message': 'Fix assertion methods\n\nFix typos of assertion methods and misuse of assertTrue.\n\nChange-Id: Ifb7f7af5823bd14e45b0a32047e2093e49a89dbb\n'}, {'number': 2, 'created': '2019-06-25 00:29:32.000000000', 'files': ['tests/unit/test_api.py', 'tests/unit/env/test_env_mgr.py', 'tests/unit/cli/commands/test_verify.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/6df07c6c7fc8c1cfc9acdd4643a737c7622dd52c', 'message': 'Fix assertion methods\n\nFix typos of assertion methods and misuse of assertTrue.\n\nChange-Id: Ifb7f7af5823bd14e45b0a32047e2093e49a89dbb\n'}]",2,666487,6df07c6c7fc8c1cfc9acdd4643a737c7622dd52c,11,3,2,7634,,,0,"Fix assertion methods

Fix typos of assertion methods and misuse of assertTrue.

Change-Id: Ifb7f7af5823bd14e45b0a32047e2093e49a89dbb
",git fetch https://review.opendev.org/openstack/rally refs/changes/87/666487/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_api.py', 'tests/unit/env/test_env_mgr.py', 'tests/unit/cli/commands/test_verify.py']",3,9c4ee1cae20e3d6ee760cb06f9aaf47cd52de9ea,fix_assertion," self.assertEqual(1, mock_print_list.call_count) self.assertEqual(1, mock_print_list.call_count)"," self.assertTrue(1, len(mock_print_list.call_args())) self.assertTrue(1, len(mock_print_list.call_args()))",8,8
openstack%2Ftripleo-docs~master~Ic797b4f6e1fd0b2bdfd0e5fe29a437f58a59d619,openstack/tripleo-docs,master,Ic797b4f6e1fd0b2bdfd0e5fe29a437f58a59d619,Fix docs: config-download wasn't default until Rocky,MERGED,2019-06-25 13:53:00.000000000,2019-06-25 15:57:01.000000000,2019-06-25 15:57:01.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 13:53:00.000000000', 'files': ['doc/source/install/advanced_deployment/ansible_config_download_differences.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/13383290d19b8ad7b67441d6856cc55bb1216eca', 'message': ""Fix docs: config-download wasn't default until Rocky\n\nChange-Id: Ic797b4f6e1fd0b2bdfd0e5fe29a437f58a59d619\n""}]",0,667370,13383290d19b8ad7b67441d6856cc55bb1216eca,11,4,1,7144,,,0,"Fix docs: config-download wasn't default until Rocky

Change-Id: Ic797b4f6e1fd0b2bdfd0e5fe29a437f58a59d619
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/70/667370/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ansible_config_download_differences.rst'],1,13383290d19b8ad7b67441d6856cc55bb1216eca,,"Starting with the Queens release, it is possible to use Ansible to apply the overcloud configuration. In the Rocky release, this method is the new default behavior. The feature is fully documented at"," In the Queens release, the default deployment changed to use Ansible to apply software configuration to overcloud nodes using **config-download**. The feature is fully documented at",4,3
openstack%2Fcharm-vault~stable%2F19.04~Ie969cb069200fd027213d5b183b76ffff1bdb6c3,openstack/charm-vault,stable/19.04,Ie969cb069200fd027213d5b183b76ffff1bdb6c3,Rebuild vault charm,MERGED,2019-06-24 14:56:49.000000000,2019-06-25 15:56:31.000000000,2019-06-25 15:56:31.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:56:49.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/da9ab878eab6497be665d2d8e8f6487f30375827', 'message': 'Rebuild vault charm\n\nRebuild vault charm to incorporate fixes to the tls-certificates\ninterface.\n\nChange-Id: Ie969cb069200fd027213d5b183b76ffff1bdb6c3\nCloses-Bug: 1830772\n'}]",0,667121,da9ab878eab6497be665d2d8e8f6487f30375827,14,5,1,935,,,0,"Rebuild vault charm

Rebuild vault charm to incorporate fixes to the tls-certificates
interface.

Change-Id: Ie969cb069200fd027213d5b183b76ffff1bdb6c3
Closes-Bug: 1830772
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/21/667121/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,da9ab878eab6497be665d2d8e8f6487f30375827,bug/1830772,00e66054-0b1e-4022-9b76-828c7c994791,"# This file is used to trigger rebuilds # when dependencies of the charm change, # but nothing in the charm needs to. # simply change the uuid to something new 120650ec-5aab-11e9-a87e-fbc92e9be59b",1,5
openstack%2Fcharm-neutron-api~master~I4c440e233ee16d4e756c575d8db70918ff062f3e,openstack/charm-neutron-api,master,I4c440e233ee16d4e756c575d8db70918ff062f3e,Add support for FWaaS v2 logging,MERGED,2019-06-07 13:03:14.000000000,2019-06-25 15:56:07.000000000,2019-06-25 15:56:07.000000000,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30127}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-06-07 13:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f43e43bda763dda6afcab7ed4a407bd5ed8be655', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging. The feature can be enabled or disabled via the\nenable-firewall-group-logging flag.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: I4c440e233ee16d4e756c575d8db70918ff062f3e\nPartial-Bug: 1831972\n'}, {'number': 2, 'created': '2019-06-11 08:07:06.000000000', 'files': ['unit_tests/test_neutron_api_hooks.py', 'hooks/neutron_api_context.py', 'hooks/neutron_api_hooks.py', 'config.yaml', 'unit_tests/test_neutron_api_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/27b4fb1538588690c9a5b851939bd6654eee5a6f', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging. The feature can be enabled or disabled via the\nenable-firewall-group-logging flag.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: I4c440e233ee16d4e756c575d8db70918ff062f3e\nPartial-Bug: 1831972\n'}]",1,663934,27b4fb1538588690c9a5b851939bd6654eee5a6f,17,6,2,12549,,,0,"Add support for FWaaS v2 logging

Enable support for configuration of FWaaS v2 firewall group
logging. The feature can be enabled or disabled via the
enable-firewall-group-logging flag.

This feature is currently only enabled for FWaaS v2 at Stein
for the charms (but is supported back to Queens in Neutron).

Change-Id: I4c440e233ee16d4e756c575d8db70918ff062f3e
Partial-Bug: 1831972
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/34/663934/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_api_hooks.py', 'hooks/neutron_api_context.py', 'hooks/neutron_api_hooks.py', 'config.yaml', 'unit_tests/test_neutron_api_context.py']",5,f43e43bda763dda6afcab7ed4a407bd5ed8be655,bug/1831972," def test_is_nfg_logging_enabled(self): self.os_release.return_value = 'stein' self.test_config.set('enable-firewall-group-logging', True) self.assertTrue(context.is_nfg_logging_enabled()) self.os_release.return_value = 'stein' self.test_config.set('enable-firewall-group-logging', False) self.assertFalse(context.is_nfg_logging_enabled()) self.os_release.return_value = 'queens' self.test_config.set('enable-firewall-group-logging', True) self.assertFalse(context.is_nfg_logging_enabled()) ",,94,1
openstack%2Fnova~master~If2035cac931c42c440d61ba97ebc7e9e92141a28,openstack/nova,master,If2035cac931c42c440d61ba97ebc7e9e92141a28,libvirt: Rework 'EBUSY' (SIGKILL) error handling code path,MERGED,2019-02-25 13:39:08.000000000,2019-06-25 15:51:09.000000000,2019-05-31 15:41:26.000000000,"[{'_account_id': 2394}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25314}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-25 13:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb4bbe582760479ec90aef8abed13b4a37130791', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nNova commit 3907867 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroY()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large Compute nodes (3TB of RAM) with high instance\n   add or delete churn, where the current timout may not be sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-02-25 15:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8e625e412438a06b4370032a8cbc7ef0880b863', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nNova commit 3907867 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroY()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large Compute nodes (3TB of RAM) with high instance\n   add or delete churn, where the current timout may not be sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-03-08 13:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8f97b78b789f747a919c230e83d2c3eb9ce7f6d', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nNova commit 3907867 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroY()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large Compute nodes (3TB of RAM) with high instance\n   creation or delete churn, where the current timout may not be\n   sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2019-03-19 12:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3c3e56a36f410870598ac8f7f9c976621e6f5df', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nNova commit 3907867 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroY()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large Compute nodes (3TB of RAM) with high instance\n   creation or delete churn, where the current timout may not be\n   sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 5, 'created': '2019-04-29 12:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/362045bf2bd9d9a34d7307ce0c07aec0c325cfbb', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nNova commit 3907867 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroY()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large Compute nodes (3TB of RAM) with high instance\n   creation or delete churn, where the current timout may not be\n   sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 6, 'created': '2019-04-30 11:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc6ca1110fceec036e2b2056e45a19c367005f70', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIGKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large compute nodes with high instance creation or\n   delete churn, where the current timout may not be sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 7, 'created': '2019-05-29 09:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd5b19b3f90ed91154d4ef5dacec06f8f8b930be', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\ndestroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIGKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large compute nodes with high instance creation or\n   delete churn, where the current timout may not be sufficient.\n\n - Retry the destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 8, 'created': '2019-05-29 11:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9903a0b6f615cbae4c23264a7cd4ef0a7303ff39', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n - Increment the counter to retry the _destroy() call from 3 to 6, thus\n   increasing the total time from 15 to 30 seconds, before SIGKILL takes\n   effect.  And it matches the (more graceful) behaviour of libvirt\n   v4.7.0.  This also gives breathing room for Nova instances running in\n   environments with large compute nodes with high instance creation or\n   delete churn, where the current timout may not be sufficient.\n\n - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is\n   lower than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 9, 'created': '2019-05-29 12:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41c7881a635d4b21bb5f0eb8e8a7e0d66c0a4998', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 10, 'created': '2019-05-29 15:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2827e79c50723c044742af66dff8883da4c6a31', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 11, 'created': '2019-05-29 15:37:38.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/10d50ca4e210039aeae84cb9bd5d18895948af54', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",46,639091,10d50ca4e210039aeae84cb9bd5d18895948af54,153,21,11,6962,,,0,"libvirt: Rework 'EBUSY' (SIGKILL) error handling code path

Change ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in
_destroy()) handled the case where a QEMU process ""refuses to die"" within
a given timeout period set by libvirt.

Originally, libvirt sent SIGTERM (allowing the process to clean-up
resources), then waited 10 seconds, if the guest didn't go away.  Then
it sent, the more lethal, SIGKILL and waited another 5 seconds for it to
take effect.

From libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits
for a guest hard shutdown to complete.  It now waits for 30 seconds for
SIGKILL to work (instead of 5).  Also, additional wait time is added if
there are assigned PCI devices, as some of those tend to slow things
down.

In this change:

  - Increment the counter to retry the _destroy() call from 3 to 6, thus
    increasing the total time from 15 to 30 seconds, before SIGKILL
    takes effect.  And it matches the (more graceful) behaviour of
    libvirt v4.7.0.  This also gives breathing room for Nova instances
    running in environments with large compute nodes with high instance
    creation or delete churn, where the current timout may not be
    sufficient.

  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower
    than 4.7.0.

[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9
    (process: wait longer 5->30s on hard shutdown)
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:
    wait longer on kill per assigned Hostdev"")

Related-bug: #1353939

Change-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/639091/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,cb4bbe582760479ec90aef8abed13b4a37130791,bug/1353939,"MIN_LIBVIRT_BETTER_EBUSY_HANDLING = (4, 7, 0) # # TODO(kchamart): Rewrite the above note, and # remove following code that retries destroy() # API call (to give SIGKILL 30 seconds to take # effect), once MIN_LIBVIRT_VERSION reaches # v4.7.0 -- because from that version onwards, # libvirt increases the timeout to 30 seconds # automatically with these two commits: # # - 9a4e4b942 (process: wait longer 5->30s on # hard shutdown) # # - be2ca0444 (process: wait longer on kill # per assigned Hostdev) if not self._host.has_min_version( MIN_LIBVIRT_BETTER_EBUSY_HANDLING): LOG.warning('Error from libvirt during destroy. ' 'Code=%(errcode)s Error=%(e)s; ' 'attempt %(attempt)d of 6', {'errcode': errcode, 'e': e, 'attempt': attempt}, instance=instance) with excutils.save_and_reraise_exception() as ctxt: # Try up to 6 times before giving up. if attempt < 6: ctxt.reraise = False self._destroy(instance, attempt + 1) return else: return"," LOG.warning('Error from libvirt during destroy. ' 'Code=%(errcode)s Error=%(e)s; ' 'attempt %(attempt)d of 3', {'errcode': errcode, 'e': e, 'attempt': attempt}, instance=instance) with excutils.save_and_reraise_exception() as ctxt: # Try up to 3 times before giving up. if attempt < 3: ctxt.reraise = False self._destroy(instance, attempt + 1) return",32,12
openstack%2Fcinder~master~I77b14eced31750936d7ac975c2f159e625c478b8,openstack/cinder,master,I77b14eced31750936d7ac975c2f159e625c478b8,Fix when create qos set key QoS_Specs_Name has wrong,ABANDONED,2019-06-25 11:20:01.000000000,2019-06-25 14:12:56.000000000,,"[{'_account_id': 11904}, {'_account_id': 24921}]","[{'number': 1, 'created': '2019-06-25 11:20:01.000000000', 'files': ['cinder/api/contrib/qos_specs_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/711eb15927380dbb1354de20516fc470033615ca', 'message': 'Fix when create qos set key QoS_Specs_Name has wrong\n\nChange-Id: I77b14eced31750936d7ac975c2f159e625c478b8\nCloses-Bug: #1834181\nSigned-off-by: yj.bai <bai.yongjun@99cloud.net>\n'}]",0,667331,711eb15927380dbb1354de20516fc470033615ca,12,2,1,29344,,,0,"Fix when create qos set key QoS_Specs_Name has wrong

Change-Id: I77b14eced31750936d7ac975c2f159e625c478b8
Closes-Bug: #1834181
Signed-off-by: yj.bai <bai.yongjun@99cloud.net>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/667331/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/qos_specs_manage.py'],1,711eb15927380dbb1354de20516fc470033615ca,bug/1834181," if specs.get('QoS_Specs_Name', None): msg = _('QoS_Specs_Name use to store the name of QoS specs') notifier_err = dict(name=name, error_message=msg) self._notify_qos_specs_error(context, 'qos_specs.create', notifier_err) raise webob.exc.HTTPBadRequest(explanation=msg)",,7,0
openstack%2Ftripleo-heat-templates~master~I2bd9d7150c1f08f078f1a3a709138fbe3e66d365,openstack/tripleo-heat-templates,master,I2bd9d7150c1f08f078f1a3a709138fbe3e66d365,[AZs] Better detect OVN in NeutronMechanismDrivers,MERGED,2019-06-18 10:17:21.000000000,2019-06-25 14:00:49.000000000,2019-06-24 14:36:22.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-18 10:17:21.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99b63d78051769c94a24c63719318f162e0c7431', 'message': ""[AZs] Better detect OVN in NeutronMechanismDrivers\n\nNeutronMechanismDrivers is a list and we should examine it\nif it contains 'ovn' or not.\n\nChange-Id: I2bd9d7150c1f08f078f1a3a709138fbe3e66d365\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,665938,99b63d78051769c94a24c63719318f162e0c7431,12,9,1,6926,,,0,"[AZs] Better detect OVN in NeutronMechanismDrivers

NeutronMechanismDrivers is a list and we should examine it
if it contains 'ovn' or not.

Change-Id: I2bd9d7150c1f08f078f1a3a709138fbe3e66d365
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/665938/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",2,99b63d78051769c94a24c63719318f162e0c7431,bp/split-controlplane-templates," is_ovn_in_neutron_mechanism_driver: {contains: ['ovn', {get_param: NeutronMechanismDrivers}]} omit_az_configs: {or: [is_ovn_in_neutron_mechanism_driver, az_unset]}"," ovn_enabled: {equals: [{get_param: NeutronMechanismDrivers}, 'ovn']} omit_az_configs: {or: [ovn_enabled, az_unset]}",4,4
openstack%2Fproject-config~master~I2f4c454ea9db4cc81e8bc47ad7626d453b40ecbc,openstack/project-config,master,I2f4c454ea9db4cc81e8bc47ad7626d453b40ecbc,Fix retirement of ansible repos,MERGED,2019-06-25 12:26:46.000000000,2019-06-25 13:41:14.000000000,2019-06-25 13:41:13.000000000,"[{'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-25 12:26:46.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f7bf508b2ccfe3a458bbc35dfdb3f0dc8ab189c', 'message': 'Fix retirement of ansible repos\n\nChange Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08 retired\nsome repos but left some reference to it in the repo, remove\njobs and gerritbot config.\n\nThis should fix the current errors that Zuul reports.\n\nChange-Id: I2f4c454ea9db4cc81e8bc47ad7626d453b40ecbc\n'}]",0,667346,0f7bf508b2ccfe3a458bbc35dfdb3f0dc8ab189c,7,4,1,6547,,,0,"Fix retirement of ansible repos

Change Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08 retired
some repos but left some reference to it in the repo, remove
jobs and gerritbot config.

This should fix the current errors that Zuul reports.

Change-Id: I2f4c454ea9db4cc81e8bc47ad7626d453b40ecbc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/667346/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'zuul.d/projects.yaml']",2,0f7bf508b2ccfe3a458bbc35dfdb3f0dc8ab189c,fix-retirement,, name: openstack/openstack-ansible-os_almanach templates: - noop-jobs - project: name: openstack/openstack-ansible-os_molteniron templates: - noop-jobs - project: name: openstack/openstack-ansible-os_monasca templates: - noop-jobs - project: name: openstack/openstack-ansible-os_monasca-agent templates: - noop-jobs - project: name: openstack/openstack-ansible-os_searchlight templates: - noop-jobs - project: name: openstack/openstack-ansible-os_watcher templates: - noop-jobs - project: name: openstack/openstack-ansible-os_zaqar templates: - noop-jobs - project:,0,36
openstack%2Ftripleo-quickstart~master~Iea891fffb936407f9830bf4b0870216895b5c87c,openstack/tripleo-quickstart,master,Iea891fffb936407f9830bf4b0870216895b5c87c,FS038: enable tempest run,ABANDONED,2018-09-01 11:19:16.000000000,2019-06-25 13:38:05.000000000,,"[{'_account_id': 6469}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-09-01 11:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09b814bfc4cf94bd0fbcfad71a8652a8ed7b07da', 'message': 'FS038: enable tempest run\n\nDepends-On: https://review.openstack.org/#/c/591997/\n\nChange-Id: Iea891fffb936407f9830bf4b0870216895b5c87c\n'}, {'number': 2, 'created': '2018-09-28 07:27:19.000000000', 'files': ['config/general_config/featureset038.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d9a906bba8814cc0e7ece2d2097eff0c43aa24ec', 'message': 'FS038: enable tempest run\n\nDepends-On: https://review.openstack.org/#/c/591997/\n\nChange-Id: Iea891fffb936407f9830bf4b0870216895b5c87c\n'}]",0,599178,d9a906bba8814cc0e7ece2d2097eff0c43aa24ec,13,4,2,6469,,,0,"FS038: enable tempest run

Depends-On: https://review.openstack.org/#/c/591997/

Change-Id: Iea891fffb936407f9830bf4b0870216895b5c87c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/599178/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset038.yml'],1,09b814bfc4cf94bd0fbcfad71a8652a8ed7b07da,gate-octavia,run_tempest: true,# TODO(cgoncalves): enable tempest run once https://review.openstack.org/#/c/591997/ is merged run_tempest: false,1,2
openstack%2Ftripleo-common~master~Ia080677d73765fcbbf56e9761ab326bd9bb45afa,openstack/tripleo-common,master,Ia080677d73765fcbbf56e9761ab326bd9bb45afa,Download CentOS-based amphora image if not present,ABANDONED,2018-08-15 10:13:32.000000000,2019-06-25 13:37:44.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-15 10:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/57538a98543130a89c96a680a7879e8e5b64a907', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 2, 'created': '2018-08-15 10:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d29e39f42625f990e7a0e3e7dcbd3580dae9798d', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 3, 'created': '2018-08-15 16:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a97b065e6fabd1befc4b17d785249e6402d0dd0e', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/580119/\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 4, 'created': '2018-08-15 16:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/78e422751a88aa7f02ed46499ab17b021f9a2fc2', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 5, 'created': '2018-08-20 14:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/716da0fc00683ba3300470d0fba9f94e25c9cab2', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 6, 'created': '2018-08-30 18:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/861ad74b2ac7a894825f310998bb6b48a2d35ae1', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 7, 'created': '2018-08-31 16:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/29ee9d0342bd86081f704a87e47a741a9eae087a', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 8, 'created': '2018-08-31 21:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b5ba7ba6ab33d8faec6616991b0d153a149397e', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 9, 'created': '2018-09-04 10:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1c888b2fe5ae0b60513223c1ec7dd60b969d9b0', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 10, 'created': '2018-09-04 15:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/70a02987e17e5887a156dedbb422e1181917e45e', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 11, 'created': '2018-09-05 10:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f25ab64d842eb38249674eb8dbc8642f2248971', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 12, 'created': '2018-09-12 04:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bafcddb99464d7533f4c1c4077e2e3495588a58e', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 13, 'created': '2018-09-14 05:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/54dc74770d7b4490f49a588c2664cb1b69d39f88', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 14, 'created': '2018-09-28 19:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a517da5a4934487620be83c773db5e8b1305d029', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}, {'number': 15, 'created': '2018-10-08 09:10:35.000000000', 'files': ['playbooks/roles/common/defaults/main.yml', 'playbooks/roles/octavia-undercloud/tasks/main.yml', 'workbooks/octavia_post.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e6d083005631b1e85906178d94d8036676ebd09b', 'message': 'Download CentOS-based amphora image if not present\n\nDownload a periodically built amphora image from RDO if no image file is\npresent. This improves usability when on a CentOS/RDO-based environments\nby enabling ""1-click install"" deployments. Until now admins would need\nto either build or download an amphora image and place it in the\nundercloud beforehand deploying the overcloud.\n\nDepends-On: https://review.openstack.org/#/c/592938/\n\nChange-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa\n'}]",12,591997,e6d083005631b1e85906178d94d8036676ebd09b,80,10,15,6469,,,0,"Download CentOS-based amphora image if not present

Download a periodically built amphora image from RDO if no image file is
present. This improves usability when on a CentOS/RDO-based environments
by enabling ""1-click install"" deployments. Until now admins would need
to either build or download an amphora image and place it in the
undercloud beforehand deploying the overcloud.

Depends-On: https://review.openstack.org/#/c/592938/

Change-Id: Ia080677d73765fcbbf56e9761ab326bd9bb45afa
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/591997/7 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/octavia-undercloud/tasks/main.yml'],1,57538a98543130a89c96a680a7879e8e5b64a907,gate-octavia," - block: - name: set location if CentOS set_fact: image_filename: ""/usr/share/openstack-octavia-amphora-images/amphora-x64-haproxy.qcow2"" - name: check if amphora image file exists stat: path: ""{{ image_filename }}"" follow: true register: centos_image_file_result - name: download CentOS-based amphora image become: true get_url: url: ""https://images.rdoproject.org/octavia/master/amphora-x64-haproxy-centos.qcow2"" dest: ""{{ image_filename }}"" when: not centos_image_file_result.stat.exists"," - name: set location if CentOS set_fact: image_filename: ""/usr/share/openstack-octavia-amphora-images/amphora-x64-haproxy.qcow2""",17,3
openstack%2Fbashate~master~I1701b7efcee392a3192dc4bd5b6fcec6d53b3b56,openstack/bashate,master,I1701b7efcee392a3192dc4bd5b6fcec6d53b3b56,Dropping the py35 testing,MERGED,2019-04-22 03:23:18.000000000,2019-06-25 13:36:29.000000000,2019-06-25 13:36:29.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-22 03:23:18.000000000', 'files': ['setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/bashate/commit/fa80109883fb9cc46b22bc00558a33e2190e4bc5', 'message': 'Dropping the py35 testing\n\nAll the integration testing has been moved to\nBionic now[1] and py3.5 is not tested runtime for\nTrain or stable/stein[2].\n\nAs per below ML thread, we are good to drop the py35\ntesting now:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html\n[2]\nhttps://governance.openstack.org/tc/reference/runtimes/stein.html\nhttps://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: I1701b7efcee392a3192dc4bd5b6fcec6d53b3b56\n'}]",0,654282,fa80109883fb9cc46b22bc00558a33e2190e4bc5,14,3,1,8556,,,0,"Dropping the py35 testing

All the integration testing has been moved to
Bionic now[1] and py3.5 is not tested runtime for
Train or stable/stein[2].

As per below ML thread, we are good to drop the py35
testing now:
http://lists.openstack.org/pipermail/openstack-discuss/2019-April/005097.html

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004647.html
[2]
https://governance.openstack.org/tc/reference/runtimes/stein.html
https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: I1701b7efcee392a3192dc4bd5b6fcec6d53b3b56
",git fetch https://review.opendev.org/openstack/bashate refs/changes/82/654282/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', '.zuul.d/jobs.yaml', 'tox.ini']",3,fa80109883fb9cc46b22bc00558a33e2190e4bc5,dropping-py35-testing,"envlist = py36,py27,pep8","envlist = py35,py27,pep8",2,5
openstack%2Fcontributor-guide~master~I5d73b0e8893e98607b8e6c88b78c57fa1fa6281e,openstack/contributor-guide,master,I5d73b0e8893e98607b8e6c88b78c57fa1fa6281e,Fixing up nits from previous patch,MERGED,2019-06-25 12:46:04.000000000,2019-06-25 13:34:17.000000000,2019-06-25 13:34:17.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 12:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/f4e454f81b369f5f7e62952a267bd881ed4dd41e', 'message': 'Fixing up nits from previous patch\n\nChange-Id: I5d73b0e8893e98607b8e6c88b78c57fa1fa6281e\n'}, {'number': 2, 'created': '2019-06-25 12:47:41.000000000', 'files': ['doc/source/operators/resources.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/441922df68aed688e884f8aaa8e0492e47e6755d', 'message': 'Fixing up nits from previous patch\n\nMy edits were in too late on the previous patch, this \nis just a follow-up to 653822\n\nChange-Id: I5d73b0e8893e98607b8e6c88b78c57fa1fa6281e\n'}]",0,667353,441922df68aed688e884f8aaa8e0492e47e6755d,7,4,2,10607,,,0,"Fixing up nits from previous patch

My edits were in too late on the previous patch, this 
is just a follow-up to 653822

Change-Id: I5d73b0e8893e98607b8e6c88b78c57fa1fa6281e
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/53/667353/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/operators/resources.rst'],1,f4e454f81b369f5f7e62952a267bd881ed4dd41e,,"basics, common use cases, and architecture design requirements.to 'obtain, create and modify VM images that are compatible with OpenStack.'`The Operations Guide <https://docs.openstack.org/operations-guide>`_ isOpenStack Cloud. It offers some basic setup information, but the majority of the content is about maintenance, troubleshooting, usermessaging, etc.)","basiscs, common use cases, and architecture design requirements.to 'obtain, create and modify vm images that are compatible with OpenStack.'`The Operations Guide <https://docs.openstack.org/arch-design/>`_ isOpenStack Cloud. It offers some basic setup infromation, but the majority of the content is about maintenence, troubleshooting, usermessaging, etc)",6,7
openstack%2Fnova~master~I45d0e2ee1ff182347345af46f9a388f2884ba6cd,openstack/nova,master,I45d0e2ee1ff182347345af46f9a388f2884ba6cd,doc: Fix nova-manage cell_v2 list_cells output,MERGED,2019-06-24 01:10:27.000000000,2019-06-25 13:34:06.000000000,2019-06-25 13:34:06.000000000,"[{'_account_id': 5754}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 01:10:27.000000000', 'files': ['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/632150aaa842f13d1c90691cdf771134e689ce6a', 'message': ""doc: Fix nova-manage cell_v2 list_cells output\n\nThe output of 'nova-manage cell_v2 list_cells' command\nhas been modified since Idb306e4f854957fd2ded9ae061fc27f0ef768fc0 and\nI96a6d5e59d33c65314fc187c0286ce3408d30bdc.\n\nFix the output of the command in the install documents.\n\nChange-Id: I45d0e2ee1ff182347345af46f9a388f2884ba6cd\nCloses-Bug: #1833647\n""}]",0,666995,632150aaa842f13d1c90691cdf771134e689ce6a,13,9,1,7634,,,0,"doc: Fix nova-manage cell_v2 list_cells output

The output of 'nova-manage cell_v2 list_cells' command
has been modified since Idb306e4f854957fd2ded9ae061fc27f0ef768fc0 and
I96a6d5e59d33c65314fc187c0286ce3408d30bdc.

Fix the output of the command in the install documents.

Change-Id: I45d0e2ee1ff182347345af46f9a388f2884ba6cd
Closes-Bug: #1833647
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/666995/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-obs.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/controller-install-ubuntu.rst']",3,632150aaa842f13d1c90691cdf771134e689ce6a,bug/1833647, transport_url = rabbit://openstack:RABBIT_PASS@controller:5672/ +-------+--------------------------------------+----------------------------------------------------+--------------------------------------------------------------+----------+ | Name | UUID | Transport URL | Database Connection | Disabled | +-------+--------------------------------------+----------------------------------------------------+--------------------------------------------------------------+----------+ | cell0 | 00000000-0000-0000-0000-000000000000 | none:/ | mysql+pymysql://nova:****@controller/nova_cell0?charset=utf8 | False | | cell1 | f690f4fd-2bc5-4f15-8145-db561a7b9d3d | rabbit://openstack:****@controller:5672/nova_cell1 | mysql+pymysql://nova:****@controller/nova_cell1?charset=utf8 | False | +-------+--------------------------------------+----------------------------------------------------+--------------------------------------------------------------+----------+, transport_url = rabbit://openstack:RABBIT_PASS@controller +-------+--------------------------------------+ | Name | UUID | +-------+--------------------------------------+ | cell1 | 109e1d4b-536a-40d0-83c6-5f121b82b650 | | cell0 | 00000000-0000-0000-0000-000000000000 | +-------+--------------------------------------+,21,21
openstack%2Ftripleo-ansible~master~If34709e5bd2f3a50ad673c1c6744379476c06d1c,openstack/tripleo-ansible,master,If34709e5bd2f3a50ad673c1c6744379476c06d1c,Import the tripleo-transfer role,MERGED,2019-06-24 20:49:41.000000000,2019-06-25 13:31:26.000000000,2019-06-25 13:31:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b2a2776b7fdd6af6e8fb36173573198805cbd7e', 'message': 'Import the tripleo-transfer role\n\nThe tripleo-transfer role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on CENT7 in a mock\nmulti-node setup.\n\nChange-Id: If34709e5bd2f3a50ad673c1c6744379476c06d1c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 21:22:04.000000000', 'files': ['tripleo_ansible/roles/tripleo-transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-transfer.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-transfer/meta/main.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-transfer/README.md', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/335b5da82ffc6fad6469fb1aea459ed4fdbfac06', 'message': 'Import the tripleo-transfer role\n\nThe tripleo-transfer role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on CENT7 in a mock\nmulti-node setup.\n\nChange-Id: If34709e5bd2f3a50ad673c1c6744379476c06d1c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667227,335b5da82ffc6fad6469fb1aea459ed4fdbfac06,9,3,2,7353,,,0,"Import the tripleo-transfer role

The tripleo-transfer role from tripleo-common has been imported.
This role will now be tested with molecule running in containers
allowing us to validate the role functionality on CENT7 in a mock
multi-node setup.

Change-Id: If34709e5bd2f3a50ad673c1c6744379476c06d1c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/667227/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-transfer/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/Dockerfile', 'doc/source/roles/role-tripleo-transfer.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo-transfer/tasks/cleanup.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-transfer/meta/main.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-transfer/README.md', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml']",13,0b2a2776b7fdd6af6e8fb36173573198805cbd7e,role-addition,"--- driver: name: docker log: true platforms: - name: overcloud-controller-0 hostname: overcloud-controller-0 image: centos:7 dockerfile: Dockerfile pkg_extras: python-setuptools easy_install: - pip environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" command: /sbin/init tmpfs: - /run - /tmp capabilities: - ALL # CENT7 requires all due to the age of the software volumes: - /run/udev:/run/udev:ro - /sys/fs/cgroup:/sys/fs/cgroup:ro - name: overcloud-controller-1 hostname: overcloud-controller-1 image: centos:7 dockerfile: Dockerfile pkg_extras: python-setuptools easy_install: - pip environment: <<: *env command: /sbin/init tmpfs: - /run - /tmp capabilities: - ALL # CENT7 requires all due to the age of the software volumes: - /run/udev:/run/udev:ro - /sys/fs/cgroup:/sys/fs/cgroup:ro provisioner: name: ansible log: true env: ANSIBLE_STDOUT_CALLBACK: yaml scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy lint: enabled: false verifier: name: testinfra lint: name: flake8 ",,424,0
openstack%2Ftripleo-ansible~master~I56a390f05193c7c004b7c1254575bddbb9d027fc,openstack/tripleo-ansible,master,I56a390f05193c7c004b7c1254575bddbb9d027fc,Import the tripleo-image-serve role,MERGED,2019-06-24 13:36:44.000000000,2019-06-25 12:56:52.000000000,2019-06-25 12:56:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27c2e1ef21bdf0577c8fc730e6b864cac5738840', 'message': 'Import the tripleo-image-serve role\n\nThe tripleo-image-serve role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on both CENT7 and\nF28.\n\nChange-Id: I56a390f05193c7c004b7c1254575bddbb9d027fc\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 14:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b314812e9d4bcf01c61b3a96f0683b8c0e88f7f1', 'message': 'Import the tripleo-image-serve role\n\nThe tripleo-image-serve role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on both CENT7 and\nF28.\n\nChange-Id: I56a390f05193c7c004b7c1254575bddbb9d027fc\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-24 19:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/28870cf2e0d0dfe105b0b7ca9e1b64a4fdd75b20', 'message': 'Import the tripleo-image-serve role\n\nThe tripleo-image-serve role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on both CENT7 and\nF28.\n\nChange-Id: I56a390f05193c7c004b7c1254575bddbb9d027fc\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-24 19:38:16.000000000', 'files': ['tripleo_ansible/roles/tripleo-image-serve/templates/image-serve.conf.j2', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/playbook.yml', 'doc/source/roles/role-tripleo-image-serve.rst', 'tripleo_ansible/roles/tripleo-image-serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-image-serve/meta/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-image-serve/README.md', 'tripleo_ansible/roles/tripleo-image-serve/defaults/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/verify.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fb866f7319bb37c99e639750e5037fbbbde92530', 'message': 'Import the tripleo-image-serve role\n\nThe tripleo-image-serve role from tripleo-common has been imported.\nThis role will now be tested with molecule running in containers\nallowing us to validate the role functionality on both CENT7 and\nF28.\n\nChange-Id: I56a390f05193c7c004b7c1254575bddbb9d027fc\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667101,fb866f7319bb37c99e639750e5037fbbbde92530,14,3,4,7353,,,0,"Import the tripleo-image-serve role

The tripleo-image-serve role from tripleo-common has been imported.
This role will now be tested with molecule running in containers
allowing us to validate the role functionality on both CENT7 and
F28.

Change-Id: I56a390f05193c7c004b7c1254575bddbb9d027fc
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/667101/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-image-serve/templates/image-serve.conf.j2', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/playbook.yml', 'doc/source/roles/role-tripleo-image-serve.rst', 'tripleo_ansible/roles/tripleo-image-serve/tasks/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-image-serve/meta/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/Dockerfile', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-image-serve/README.md', 'tripleo_ansible/roles/tripleo-image-serve/defaults/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/handlers/main.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/verify.yml', 'tox.ini']",15,27c2e1ef21bdf0577c8fc730e6b864cac5738840,role-addition, [testenv:mol-tripleo-image-serve] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-image-serve commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py,,436,0
openstack%2Fbashate~master~Iaddccfeea154cef9b711d11eaea2af30987877de,openstack/bashate,master,Iaddccfeea154cef9b711d11eaea2af30987877de,Use stestr as a test runner,MERGED,2019-06-24 07:31:52.000000000,2019-06-25 12:55:07.000000000,2019-06-25 12:55:06.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 07:31:52.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/bashate/commit/ba3850c60b374bed2dfdaac7a1bfca21aca7fccf', 'message': 'Use stestr as a test runner\n\nThis commit makes to use stestr as a test runner instead of testr. This\nis aligned to the PTI[0].\n\n[0] https://governance.openstack.org/tc/reference/pti/python.html#python-test-running\n\nChange-Id: Iaddccfeea154cef9b711d11eaea2af30987877de\n'}]",0,667031,ba3850c60b374bed2dfdaac7a1bfca21aca7fccf,6,2,1,5689,,,0,"Use stestr as a test runner

This commit makes to use stestr as a test runner instead of testr. This
is aligned to the PTI[0].

[0] https://governance.openstack.org/tc/reference/pti/python.html#python-test-running

Change-Id: Iaddccfeea154cef9b711d11eaea2af30987877de
",git fetch https://review.opendev.org/openstack/bashate refs/changes/31/667031/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,ba3850c60b374bed2dfdaac7a1bfca21aca7fccf,update-sphinx-version,[DEFAULT] test_path=./bashate/tests,,19,14
openstack%2Fbashate~master~Iaaf4b2dabd04f85217cb4a1af9af79165e5b1ba9,openstack/bashate,master,Iaaf4b2dabd04f85217cb4a1af9af79165e5b1ba9,Update sphinx version,MERGED,2019-06-24 07:12:04.000000000,2019-06-25 12:55:05.000000000,2019-06-25 12:55:04.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 07:12:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/bashate/commit/0cd475e45ef7a21203172b2e9f973003f46f05c6', 'message': ""Update sphinx version\n\nThis commit updates sphinx version which aligns to g-r. Without this\npatch, py27 tests fail because of an error like this:\n\n ERROR: Sphinx requires Python '>=3.5' but the running Python is 2.7.15\n\nChange-Id: Iaaf4b2dabd04f85217cb4a1af9af79165e5b1ba9\n""}]",0,667029,0cd475e45ef7a21203172b2e9f973003f46f05c6,6,2,1,5689,,,0,"Update sphinx version

This commit updates sphinx version which aligns to g-r. Without this
patch, py27 tests fail because of an error like this:

 ERROR: Sphinx requires Python '>=3.5' but the running Python is 2.7.15

Change-Id: Iaaf4b2dabd04f85217cb4a1af9af79165e5b1ba9
",git fetch https://review.opendev.org/openstack/bashate refs/changes/29/667029/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0cd475e45ef7a21203172b2e9f973003f46f05c6,update-sphinx-version,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSD",sphinx>=1.6.2,2,1
openstack%2Ftripleo-ansible~master~I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2,openstack/tripleo-ansible,master,I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2,Import the tripleo-docker-rm role,MERGED,2019-06-21 23:54:30.000000000,2019-06-25 12:55:03.000000000,2019-06-25 12:55:03.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-21 23:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba698601e1d82f6de14102d219119c504c17e8b9', 'message': 'Import the tripleo-docker-rm role\n\nThe docker-rm role is a duplicate role from tripleo-common which provides\nfor the same things as the tripleo-container-rm. To ensure we\'re\ndeveloping a consistent user experience the docker-rm role was created\nas a symlink to container-rm.\n\nThe container-rm role was updated drive consistency across roles by\nchanging the default ""container_cli"". Now all roles with the container_cli\nvariable will have the same default.\n\nBecause this role is a symlink no new zuul tests were added for this role.\nThe interface will be exercised via a new scenario in the container-rm role.\n\nChange-Id: I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 12:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe99736e362cd12312dca7e38b3202639ae7425c', 'message': 'Import the tripleo-docker-rm role\n\nThe docker-rm role is a duplicate role from tripleo-common which provides\nfor the same things as the tripleo-container-rm. To ensure we\'re\ndeveloping a consistent user experience the docker-rm role was created\nas a symlink to container-rm.\n\nThe container-rm role was updated drive consistency across roles by\nchanging the default ""container_cli"". Now all roles with the container_cli\nvariable will have the same default.\n\nBecause this role is a symlink no new zuul tests were added for this role.\nThe interface will be exercised via a new scenario in the container-rm role.\n\nChange-Id: I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-24 12:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb47fd5839620c774acbc322d25604f2d45b506e', 'message': 'Import the tripleo-docker-rm role\n\nThe docker-rm role is a duplicate role from tripleo-common which provides\nfor the same things as the tripleo-container-rm. To ensure we\'re\ndeveloping a consistent user experience the docker-rm role was created\nas a symlink to container-rm.\n\nThe container-rm role was updated drive consistency across roles by\nchanging the default ""container_cli"". Now all roles with the container_cli\nvariable will have the same default.\n\nBecause this role is a symlink no new zuul tests were added for this role.\nThe interface will be exercised via a new scenario in the container-rm role.\n\nChange-Id: I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-24 19:07:53.000000000', 'files': ['doc/source/roles/role-tripleo-container-rm.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/verify.yml', 'doc/source/roles/role-tripleo-docker-rm.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-docker-rm', 'tox.ini', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2135446a351eb6f6d57d86eca548d583d4c8bfb1', 'message': 'Import the tripleo-docker-rm role\n\nThe docker-rm role is a duplicate role from tripleo-common which provides\nfor the same things as the tripleo-container-rm. To ensure we\'re\ndeveloping a consistent user experience the docker-rm role was created\nas a symlink to container-rm.\n\nThe container-rm role was updated drive consistency across roles by\nchanging the default ""container_cli"". Now all roles with the container_cli\nvariable will have the same default.\n\nBecause this role is a symlink no new zuul tests were added for this role.\nThe interface will be exercised via a new scenario in the container-rm role.\n\nChange-Id: I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,666940,2135446a351eb6f6d57d86eca548d583d4c8bfb1,15,5,4,7353,,,0,"Import the tripleo-docker-rm role

The docker-rm role is a duplicate role from tripleo-common which provides
for the same things as the tripleo-container-rm. To ensure we're
developing a consistent user experience the docker-rm role was created
as a symlink to container-rm.

The container-rm role was updated drive consistency across roles by
changing the default ""container_cli"". Now all roles with the container_cli
variable will have the same default.

Because this role is a symlink no new zuul tests were added for this role.
The interface will be exercised via a new scenario in the container-rm role.

Change-Id: I33ecf735af5c5b0a9a0a9f0c650fc2a04f0864a2
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/666940/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-container-rm.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/verify.yml', 'doc/source/roles/role-tripleo-docker-rm.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-docker-rm', 'tox.ini', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/prepare.yml']",15,ba698601e1d82f6de14102d219119c504c17e8b9,role-addition," - docker - python-docker-py - python-virtualenv pre_tasks: - name: Set current user fact set_fact: current_user: ""{{ lookup('env','USER') }}"" - name: Docker block block: - name: Install docker package: name: ""{{ required_packages }}"" state: latest - name: Ensure ""docker"" group exists group: name: docker state: present - name: Ensure the ansible user can access docker user: name: ""{{ ansible_user | default(current_user) }}"" groups: docker - name: Start docker systemd: name: docker state: started - name: Install python-docker in venv pip: name: ""docker"" virtualenv: /opt/tripleo-ansible virtualenv_site_packages: true - name: reset ssh connection to allow user changes to take affect meta: reset_connection - name: pull an image vars: ansible_python_interpreter: /opt/tripleo-ansible/bin/python docker_image: name: fedora:28 source: pull - name: Create a data container vars: ansible_python_interpreter: /opt/tripleo-ansible/bin/python docker_container: name: ""{{ item }}"" image: fedora:28 detach: true command: sleep 1d with_items: - docker-container1 - docker-container2"," - podman - name: Install podman become: true package: name: ""{{ required_packages }}"" state: latest - name: Pull container image command: ""podman pull fedora:28"" - name: Create test containers command: ""podman run -itd --name {{ item }} fedora bash"" with_items: - podman-container1 - podman-container2",157,117
openstack%2Ftripleo-ansible~master~I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6,openstack/tripleo-ansible,master,I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6,Import tripleo-container-rm role,MERGED,2019-06-21 19:26:15.000000000,2019-06-25 12:52:26.000000000,2019-06-25 12:52:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 19:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5fbe9df45c97aa772a683c3ed81b29bb4e413691', 'message': 'Import tripleo-container-rm role\n\nAlso add Molecule tests. The sudo test environment is required\nto run tests with docker and podman.\n\nChange-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-06-21 20:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/beb17d8ea8001703c9c78cc8b02a2f8d6f076474', 'message': 'Import tripleo-container-rm role\n\nAlso add Molecule tests. The sudo test environment is required\nto run tests with docker and podman.\n\nChange-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-06-21 21:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ea88ef8c84ebc0dc07e1ee4652eb9a9312938fa', 'message': 'Import tripleo-container-rm role\n\nAlso add Molecule tests. The sudo test environment is required\nto run tests with docker and podman.\n\nChange-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-06-24 14:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b3ca74b4dfe7bb2202cb48352cbe758fe3e95686', 'message': 'Import tripleo-container-rm role\n\nAlso add Molecule tests. The sudo test environment is required\nto run tests with docker and podman.\n\nChange-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-06-24 18:23:51.000000000', 'files': ['doc/source/roles/role-tripleo-container-rm.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_podman_container_rm.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/pre-prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-rm/tasks/tripleo_docker_container_rm.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/molecule.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker/verify.yml', 'tripleo_ansible/roles/tripleo-container-rm/meta/main.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1db5553f09f594c713d1812e661e2b8ccdc3e12b', 'message': 'Import tripleo-container-rm role\n\nAlso add Molecule tests. The sudo test environment is required\nto run tests with docker and podman.\n\nChange-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",2,666907,1db5553f09f594c713d1812e661e2b8ccdc3e12b,25,4,5,25877,,,0,"Import tripleo-container-rm role

Also add Molecule tests. The sudo test environment is required
to run tests with docker and podman.

Change-Id: I434a822ac071b8a2fb6f54ddf4c03ac7450fccc6
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/07/666907/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-rm/tasks/docker.yaml', 'tripleo_ansible/roles/tripleo-container-rm/tasks/podman.yaml', 'tripleo_ansible/roles/tripleo-container-rm/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-rm/README.md', 'tripleo_ansible/roles/tripleo-container-rm/defaults/main.yaml', 'tox.ini', 'tripleo_ansible/roles/tripleo-container-rm/tasks/main.yaml']",8,5fbe9df45c97aa772a683c3ed81b29bb4e413691,role-addition,"--- - include_tasks: ""{{ container_cli }}.yaml"" vars: container: ""{{ item }}"" with_items: ""{{ containers_to_rm }}"" ",,162,0
openstack%2Fnova~master~I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,openstack/nova,master,I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,"Ignore hw_vif_type for direct, direct-physical vNIC types",MERGED,2018-10-10 15:48:48.000000000,2019-06-25 12:46:14.000000000,2019-06-24 15:45:31.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-10-10 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c34bb1ccf18881dc18c70900a0d8c490f612d3ee', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n""}, {'number': 2, 'created': '2019-06-19 14:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/087ba649c6becd3d3232e7171d7bced5e4b9a352', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n""}, {'number': 3, 'created': '2019-06-20 10:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6d26710752e87e189bfd0448c528053c282b1a7', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n""}, {'number': 4, 'created': '2019-06-20 16:18:41.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a235451578ad7af25268e82500dff5ba6a64ea4e', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n""}]",19,609460,a235451578ad7af25268e82500dff5ba6a64ea4e,94,18,4,15334,,,0,"Ignore hw_vif_type for direct, direct-physical vNIC types

As part of the fix for bug #1789074, we stopped setting the VIF model to
virtio for a vif_type of 'direct' or 'direct-physical'. However, if
users configured the 'hw_vif_type' image metadata property, the VIF
model would be unconditionally set to whatever the user provided. This
would result in bug #1789074 recurring. Given that the model attribute
is unnecessary for these vNIC types, we can resolve this issue by
simply ignoring the image metadata property when configuring such VIFs.

Change-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1797146
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/609460/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",2,c34bb1ccf18881dc18c70900a0d8c490f612d3ee,bug/1789074," self, vnic_type=network_model.VNIC_TYPE_NORMAL, image_meta=None): image_meta = objects.ImageMeta.from_dict(image_meta) None, 'ca:fe:de:ad:be:ef', image_meta, objects.Flavor(), 'kvm', vnic_type, hostimpl) vnic_type=network_model.VNIC_TYPE_DIRECT, image_meta={'hw_vif_type': 'virtio'})"," self, vnic_type=network_model.VNIC_TYPE_NORMAL): None, 'ca:fe:de:ad:be:ef', {}, objects.Flavor(), 'kvm', vnic_type, hostimpl) vnic_type=network_model.VNIC_TYPE_DIRECT)",14,10
openstack%2Fpuppet-tripleo~master~Ibd95f4536c033af2094bd079cc81eeba18a36352,openstack/puppet-tripleo,master,Ibd95f4536c033af2094bd079cc81eeba18a36352,Allow overriding pacemaker_node_ips for staged upgrade,MERGED,2019-06-12 12:22:29.000000000,2019-06-25 12:43:28.000000000,2019-06-18 14:02:56.000000000,"[{'_account_id': 8532}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-12 12:22:29.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff', 'message': 'Allow overriding pacemaker_node_ips for staged upgrade\n\nWe already have pacemaker_short_node_names_override, and we need a\nmatching pacemaker_node_ips_override as the two variables must be\noverriden together.\n\nChange-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352\nPartial-Bug: #1832361\n'}]",0,664869,42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff,11,5,1,8042,,,0,"Allow overriding pacemaker_node_ips for staged upgrade

We already have pacemaker_short_node_names_override, and we need a
matching pacemaker_node_ips_override as the two variables must be
overriden together.

Change-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352
Partial-Bug: #1832361
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/664869/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff,leapp," # If pacemaker_node_ips is not empty we want to create the array $pacemaker_node_ips = hiera('pacemaker_node_ips_override', hiera('pacemaker_node_ips', []))"," # If hiera('pacemaker_node_ips', []) is not empty we want to create the array $pacemaker_node_ips = hiera('pacemaker_node_ips', [])",2,2
openstack%2Fhorizon~master~I30fd96ebc1d5a208f242878978b1124b09216881,openstack/horizon,master,I30fd96ebc1d5a208f242878978b1124b09216881,Imported Translations from Zanata,MERGED,2019-06-25 11:00:15.000000000,2019-06-25 12:28:48.000000000,2019-06-25 12:28:47.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 11:00:15.000000000', 'files': ['doc/source/locale/ru/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/eo/LC_MESSAGES/doc-admin.po', 'doc/source/locale/pt_BR/LC_MESSAGES/doc.po', 'doc/source/locale/fi_FI/LC_MESSAGES/doc-admin.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/63ca38f00d175133ff960b2a21707c5e2d50a56a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I30fd96ebc1d5a208f242878978b1124b09216881\n'}]",0,667327,63ca38f00d175133ff960b2a21707c5e2d50a56a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I30fd96ebc1d5a208f242878978b1124b09216881
",git fetch https://review.opendev.org/openstack/horizon refs/changes/27/667327/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/ru/LC_MESSAGES/doc-admin.po', 'doc/source/locale/de/LC_MESSAGES/doc-admin.po', 'doc/source/locale/eo/LC_MESSAGES/doc-admin.po', 'doc/source/locale/ja/LC_MESSAGES/doc.po', 'doc/source/locale/pt_BR/LC_MESSAGES/doc.po', 'doc/source/locale/fi_FI/LC_MESSAGES/doc-admin.po']",6,63ca38f00d175133ff960b2a21707c5e2d50a56a,zanata/translations,"# Jori Kuusinen <jori.kuusinen@gmail.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: horizon 16.0.0.0b2.dev26\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-06-24 03:59-0500\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-09-20 03:05+0000\n"" ""Last-Translator: Jori Kuusinen <jori.kuusinen@gmail.com>\n"" ""Language-Team: Finnish (Finland)\n"" ""Language: fi_FI\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""Create a role"" msgstr ""Luo rooli"" msgid ""Delete a role"" msgstr ""Poista rooli"" msgid ""Edit a role"" msgstr ""Muokkaa roolia"" ",,217,0
openstack%2Fheat-dashboard~stable%2Frocky~I7c3750c8f3b1c3f4ddcbf0ac043466d3af401d58,openstack/heat-dashboard,stable/rocky,I7c3750c8f3b1c3f4ddcbf0ac043466d3af401d58,Imported Translations from Zanata,MERGED,2019-06-14 09:41:53.000000000,2019-06-25 12:28:05.000000000,2019-06-25 12:28:05.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-14 09:41:53.000000000', 'files': ['heat_dashboard/locale/ne/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/083270b2cb17631e5cdd85020c7e6a741d2f6b9b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7c3750c8f3b1c3f4ddcbf0ac043466d3af401d58\n'}]",0,665343,083270b2cb17631e5cdd85020c7e6a741d2f6b9b,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7c3750c8f3b1c3f4ddcbf0ac043466d3af401d58
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/43/665343/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_dashboard/locale/ne/LC_MESSAGES/django.po'],1,083270b2cb17631e5cdd85020c7e6a741d2f6b9b,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: heat-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-01-30 02:41+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-06-14 04:50+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" #, python-format msgid ""%(resource_status)s: %(resource_status_reason)s"" msgstr ""%(resource_status)s: %(resource_status_reason)s"" #, python-format msgid ""%(stack_status_title)s: %(stack_status_reason)s"" msgstr ""%(stack_status_title)s: %(stack_status_reason)s"" msgid ""A local environment to upload."" msgstr ""    "" msgid ""A local template to upload."" msgstr ""     "" msgid """" ""A template is used to automate the deployment of infrastructure, services, "" ""and applications."" msgstr """" ""   , ,         "" """" msgctxt ""current status of stack"" msgid ""Adopt Complete"" msgstr ""Adopt Complete"" msgctxt ""current status of stack"" msgid ""Adopt Failed"" msgstr ""Adopt Failed"" msgctxt ""current status of stack"" msgid ""Adopt In Progress"" msgstr ""Adopt In Progress"" msgid ""An external (HTTP) URL to load the template from."" msgstr ""       (HTTP) URL"" msgid ""Attributes"" msgstr """" msgid ""Case sensitive"" msgstr "" "" msgid ""Case-sensitive"" msgstr "" "" msgid ""Change Stack Template"" msgstr ""   "" msgid ""Change Template"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Check Complete"" msgstr ""Check Complete"" msgctxt ""current status of stack"" msgid ""Check Failed"" msgstr ""Check Failed"" msgctxt ""current status of stack"" msgid ""Check In Progress"" msgstr ""Check In Progress"" msgid ""Check Stack"" msgid_plural ""Check Stacks"" msgstr[0] ""  "" msgstr[1] ""  "" msgid ""Checked Stack"" msgid_plural ""Checked Stacks"" msgstr[0] ""  "" msgstr[1] ""  "" msgid ""Clear Canvas"" msgstr "" "" msgid ""Close"" msgstr """" msgctxt ""current status of stack"" msgid ""Create Complete"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Create Failed"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Create In Progress"" msgstr "" "" msgid ""Create Stack"" msgstr "" "" msgid ""Create a new stack with the provided values."" msgstr ""       "" msgid ""Created"" msgstr "" "" msgid ""Creation Timeout (minutes)"" msgstr ""  ( )"" msgid ""Date Updated"" msgstr ""   "" msgctxt ""current status of stack"" msgid ""Delete Complete"" msgstr """" msgctxt ""current status of stack"" msgid ""Delete Failed"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Delete In Progress"" msgstr """" msgid ""Delete Stack"" msgid_plural ""Delete Stacks"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Deleted Stack"" msgid_plural ""Deleted Stacks"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Description"" msgstr """" msgid ""Description:"" msgstr "":"" msgid ""Direct Input"" msgstr "" "" msgid ""Disabled"" msgstr "" "" msgid ""Edit Template"" msgstr ""  "" msgid ""Enable rollback on create/update failure."" msgstr ""/    "" msgid ""Enabled"" msgstr "" "" msgid ""Environment Data"" msgstr "" "" msgid ""Environment File"" msgstr "" "" msgid ""Environment Source"" msgstr "" "" msgid ""Events"" msgstr """" msgid ""Export Draft"" msgstr ""  "" msgid ""File"" msgstr """" msgid ""Function"" msgstr """" msgid ""ID"" msgstr "" "" msgid ""Import Draft"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Init Complete"" msgstr ""Init Complete"" msgctxt ""current status of stack"" msgid ""Init Failed"" msgstr ""Init Failed"" msgctxt ""current status of stack"" msgid ""Init In Progress"" msgstr ""Init In Progress"" msgid ""Last Updated"" msgstr ""   "" msgid ""Launch"" msgstr "" "" msgid ""Launch Parameters"" msgstr ""  "" msgid ""Launch Stack"" msgstr ""  "" msgid ""Links"" msgstr """" msgid ""Load Draft"" msgstr ""  "" msgid ""Manage Drafts"" msgstr ""  "" msgid ""Minutes"" msgstr """" msgid ""Name"" msgstr """" msgid """" ""Name must start with a letter and may only contain letters, numbers, "" ""underscores, periods and hyphens."" msgstr """" ""       , , ,   "" ""  "" msgid ""Name of the stack to create."" msgstr ""  "" msgid ""Next"" msgstr """" msgid ""Orchestration"" msgstr """" msgid ""Outputs"" msgstr """" msgid ""Overview"" msgstr """" msgid ""Parameters"" msgstr """" #, python-format msgid ""Password for user \""%s\"""" msgstr "" \""%s\""  "" msgid """" ""Please drag and drop resource icons into center canvas to define resource "" ""for template."" msgstr """" ""           "" ""   "" #, python-format msgid ""Please specify a %s using only one source method."" msgstr ""        %s "" msgid ""Preview"" msgstr """" msgid ""Preview Stack"" msgstr ""  "" msgid ""Preview Stack Details"" msgstr ""   "" msgid ""Preview Stack Parameters"" msgstr ""   "" msgid ""Preview Template"" msgstr ""  "" msgid ""Preview a new stack with the provided values."" msgstr ""       "" msgid ""Properties"" msgstr """" msgid ""Referenced Files"" msgstr ""  "" msgid ""Resource"" msgstr """" msgid ""Resource ID"" msgstr "" ID"" msgid ""Resource Metadata"" msgstr "" "" msgid ""Resource Types"" msgstr "" "" msgid ""Resources"" msgstr """" msgctxt ""current status of stack"" msgid ""Resume Complete"" msgstr ""Resume Complete"" msgctxt ""current status of stack"" msgid ""Resume Failed"" msgstr ""Resume Failed"" msgctxt ""current status of stack"" msgid ""Resume In Progress"" msgstr ""Resume In Progress"" msgid ""Resume Stack"" msgid_plural ""Resume Stacks"" msgstr[0] "" :  "" msgstr[1] "" :  "" msgid ""Resumed Stack"" msgid_plural ""Resumed Stacks"" msgstr[0] "":   "" msgstr[1] "":   "" msgid ""Rollback"" msgstr "" "" msgctxt ""current status of stack"" msgid ""Rollback Complete"" msgstr ""Rollback Complete"" msgctxt ""current status of stack"" msgid ""Rollback Failed"" msgstr ""Rollback Failed"" msgctxt ""current status of stack"" msgid ""Rollback In Progress"" msgstr ""Rollback In Progress"" msgid ""Rollback On Failure"" msgstr "" "" msgid ""Save Draft"" msgstr ""  "" msgid ""Select Template"" msgstr ""  "" msgid ""Select a new template to preview a stack."" msgstr ""      "" msgid ""Select a new template to re-launch a stack."" msgstr ""         "" msgid ""Select a template to launch a stack."" msgstr ""        "" msgctxt ""current status of stack"" msgid ""Snapshot Complete"" msgstr ""Snapshot Complete"" msgctxt ""current status of stack"" msgid ""Snapshot Failed"" msgstr ""Snapshot Failed"" msgctxt ""current status of stack"" msgid ""Snapshot In Progress"" msgstr ""Snapshot In Progress"" msgid ""Stack Events"" msgstr "" "" msgid ""Stack ID"" msgstr "" ID"" msgid ""Stack ID ="" msgstr ""  ="" msgid ""Stack Name"" msgstr "" "" msgid ""Stack Name ="" msgstr ""  ="" msgid ""Stack Parameters"" msgstr "" "" msgid ""Stack Preview"" msgstr "" "" msgid ""Stack Resource"" msgstr "" "" msgid ""Stack Resource ID"" msgstr ""  ID"" msgid ""Stack Resource Type"" msgstr ""  "" msgid ""Stack Resources"" msgstr "" "" msgid ""Stack creation started."" msgstr ""    "" msgid ""Stack creation timeout in minutes."" msgstr ""    "" msgid ""Stack update started."" msgstr ""    "" msgid ""Stack updating timeout in minutes."" msgstr ""   "" msgid ""Stacks"" msgstr """" msgid ""Status"" msgstr """" msgid ""Status ="" msgstr "" ="" msgid ""Status Reason"" msgstr "" "" msgctxt ""current status of stack"" msgid ""Suspend Complete"" msgstr ""Suspend Complete"" msgctxt ""current status of stack"" msgid ""Suspend Failed"" msgstr ""Suspend Failed"" msgctxt ""current status of stack"" msgid ""Suspend In Progress"" msgstr ""Suspend In Progress"" msgid ""Suspend Stack"" msgid_plural ""Suspend Stacks"" msgstr[0] ""  "" msgstr[1] ""  "" msgid ""Suspended Stack"" msgid_plural ""Suspended Stacks"" msgstr[0] "" "" msgstr[1] "" "" msgid ""Template"" msgstr """" msgid ""Template Data"" msgstr "" "" msgid ""Template File"" msgstr "" "" msgid ""Template Functions"" msgstr "" "" msgid ""Template Generator"" msgstr "" "" msgid ""Template Source"" msgstr "" "" msgid ""Template URL"" msgstr "" URL"" msgid ""Template Version"" msgstr "" "" msgid ""Template Versions"" msgstr "" "" msgid ""The raw contents of the environment file."" msgstr ""   "" msgid ""The raw contents of the template."" msgstr ""  "" #, python-format msgid ""There was a problem parsing the %(prefix)s: %(error)s"" msgstr ""%(prefix)s: %(error)s      "" msgid """" ""This is required for operations to be performed throughout the lifecycle of "" ""the stack"" msgstr ""         "" msgid ""Time Since Event"" msgstr "" "" msgid ""Timeout"" msgstr "" "" msgid ""Topology"" msgstr """" msgid ""Type"" msgstr """" msgid ""Type ="" msgstr "" ="" msgid ""URL"" msgstr ""URL"" #, python-format msgid ""Unable to get events for stack \""%s\""."" msgstr ""\""%s\""      "" #, python-format msgid ""Unable to get functions for template version \""%s\""."" msgstr ""  \""%s\""      "" #, python-format msgid ""Unable to get resources for stack \""%s\""."" msgstr ""\""%s\""      "" msgid ""Unable to retrieve metadata."" msgstr ""   "" msgid ""Unable to retrieve resource type details."" msgstr ""   :   "" msgid ""Unable to retrieve resource."" msgstr ""   "" msgid ""Unable to retrieve stack list."" msgstr ""    "" msgid ""Unable to retrieve stack resource types."" msgstr ""     "" msgid ""Unable to retrieve stack template."" msgstr ""    "" msgid ""Unable to retrieve stack."" msgstr ""   "" msgid ""Unable to retrieve template functions."" msgstr ""  :   "" msgid ""Unable to retrieve template versions."" msgstr ""  :   "" msgid ""Update"" msgstr "" "" msgctxt ""current status of stack"" msgid ""Update Complete"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Update Failed"" msgstr ""  "" msgctxt ""current status of stack"" msgid ""Update In Progress"" msgstr "" "" msgid ""Update Stack"" msgstr ""  "" msgid ""Update Stack Parameters"" msgstr ""   "" msgid """" ""Update a stack with the provided values. Please note that any encrypted "" ""parameters, such as passwords, will be reset to default if you do not change "" ""them here."" msgstr """" ""              "" "" ,  ,        "" msgid ""Updated"" msgstr "" "" msgid ""Updating Timeout (minutes)"" msgstr ""  ()  "" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in changing this stack."" msgstr """" ""              "" """" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in creating this stack."" msgstr """" ""              "" ""  "" msgid """" ""Use one of the available template source options to specify the template to "" ""be used in previewing this stack."" msgstr """" ""             "" ""  "" msgid ""Version"" msgstr """" msgid ""You must specify a template via one of the available sources."" msgstr ""         "" msgid ""environment"" msgstr """" msgid ""template"" msgstr """" ",,624,0
openstack%2Fcontributor-guide~master~I7c2713cbe59ba3f25adec60b0229d3c974950713,openstack/contributor-guide,master,I7c2713cbe59ba3f25adec60b0229d3c974950713,Operator Contrib Guide Expansion,MERGED,2019-04-18 18:07:56.000000000,2019-06-25 12:25:03.000000000,2019-06-25 12:25:03.000000000,"[{'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 10905}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2019-04-18 18:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/307ebed27eea9903f5b7142507fe867fa6f0642d', 'message': ""Operator Contrib Guide Expansion\n\nThere are a lot of operator guides that aren't mentioned in the\ncurrent state of the operator guide. This patch adds those guides\nand does some reorganization to give things a better flow.\n\nChange-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713\nStory: 2003117\nTask: 26368\n""}, {'number': 2, 'created': '2019-04-18 18:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/612e940b5fec79436974cd8b0d0c5fce3bc25eb3', 'message': ""Operator Contrib Guide Expansion\n\nThere are a lot of operator guides that aren't mentioned in the\ncurrent state of the operator guide. This patch adds those guides\nand does some reorganization to give things a better flow.\n\nChange-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713\nStory: 2004441\nTask: 28110\n""}, {'number': 3, 'created': '2019-04-18 18:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/e155d87857a0b15c48392663fdab2c406fa5609b', 'message': ""Operator Contrib Guide Expansion\n\nThere are a lot of operator guides that aren't mentioned in the\ncurrent state of the operator guide. This patch adds those guides\nand does some reorganization to give things a better flow.\n\nChange-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713\nStory: 2003117\nTask: 26368\n""}, {'number': 4, 'created': '2019-06-19 23:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/13c42942e5bccd481c07c17c6d1a60e27fb53db5', 'message': ""Operator Contrib Guide Expansion\n\nThere are a lot of operator guides that aren't mentioned in the\ncurrent state of the operator guide. This patch adds those guides\nand does some reorganization to give things a better flow.\n\nChange-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713\nStory: 2003117\nTask: 26368\n""}, {'number': 5, 'created': '2019-06-20 00:11:22.000000000', 'files': ['doc/source/operators/participate.rst', 'doc/source/common/events.rst', 'doc/source/operators/resources.rst', 'doc/source/operators/index.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/718d3679a82d121329bb34edea69e96782f4011b', 'message': ""Operator Contrib Guide Expansion\n\nThere are a lot of operator guides that aren't mentioned in the\ncurrent state of the operator guide. This patch adds those guides\nand does some reorganization to give things a better flow.\n\nChange-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713\nStory: 2003117\nTask: 26368\n""}]",10,653822,718d3679a82d121329bb34edea69e96782f4011b,24,8,5,16708,,,0,"Operator Contrib Guide Expansion

There are a lot of operator guides that aren't mentioned in the
current state of the operator guide. This patch adds those guides
and does some reorganization to give things a better flow.

Change-Id: I7c2713cbe59ba3f25adec60b0229d3c974950713
Story: 2003117
Task: 26368
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/22/653822/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/operators/participate.rst', 'doc/source/common/events.rst', 'doc/source/operators/resources.rst', 'doc/source/operators/index.rst']",4,307ebed27eea9903f5b7142507fe867fa6f0642d,ops_expansion, /operators/participate /common/communication /operators/resources, /common/communication /operators/participate,88,16
openstack%2Fkuryr-tempest-plugin~master~I823534e9596b535f8371335260e53c622265fdca,openstack/kuryr-tempest-plugin,master,I823534e9596b535f8371335260e53c622265fdca,Remove sleep time in favor of checking members,ABANDONED,2019-06-05 15:11:19.000000000,2019-06-25 12:23:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-05 15:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/247941baee14abffd258301f0ee11f229e2d2ec7', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 2, 'created': '2019-06-05 15:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/09e006b0e7c9ce9f02106943bfea4b77983de736', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 3, 'created': '2019-06-05 21:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c7f0b022ba061e10e9202fc550433324cba2a7b0', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 4, 'created': '2019-06-10 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4aa6cc6887849d2f191a0200a9f5034f8a4e5267', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 5, 'created': '2019-06-10 16:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ef155d96ebbddb3d53ff4840bb757dca5db61545', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 6, 'created': '2019-06-11 07:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d92ef7013ede60ada070cd7ea200d872460fb85b', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}, {'number': 7, 'created': '2019-06-13 07:09:40.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6fe8fc5b9fe86a366fca67fcb2210e2df486e22f', 'message': 'Remove sleep time in favor of checking members\n\nThis patch removes the sleep time in favor of checking when kuryr\nwrites the information about the members of the services\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I823534e9596b535f8371335260e53c622265fdca\n'}]",0,663356,6fe8fc5b9fe86a366fca67fcb2210e2df486e22f,53,2,7,23567,,,0,"Remove sleep time in favor of checking members

This patch removes the sleep time in favor of checking when kuryr
writes the information about the members of the services

Depends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118

Change-Id: I823534e9596b535f8371335260e53c622265fdca
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/56/663356/3 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,247941baee14abffd258301f0ee11f229e2d2ec7,remove-multithread," if spec_type == 'ClusterIP': api = cls.k8s_client.CoreV1Api() while True: time.sleep(5) endpoints = api.read_namespaced_endpoints(service_name, namespace) annotations = endpoints.metadata.annotations try: ann_dict = json.loads( annotations[K8S_ANNOTATION_LBAAS_STATE]) ann_members = (ann_dict[""versioned_object.data""] [""members""]) if len(ann_members): break except KeyError: LOG.info(""Waiting till LB members appears in annotation"") continue else:"," if spec_type != ""ClusterIP"": # NOTE(ltomasbo): This must be removed in favor of checking if members # are added or something similar time.sleep(200) ",18,5
openstack%2Fproject-config~master~I09d104e101fc1a437c607f8344ee321184bcf6be,openstack/project-config,master,I09d104e101fc1a437c607f8344ee321184bcf6be,"Revert ""Revert ""Revert ""Revert ""Disable provider limestone""""""""",MERGED,2019-06-25 12:05:04.000000000,2019-06-25 12:07:16.000000000,2019-06-25 12:07:16.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 16688}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 12:05:04.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ba13cc198314a453bce55995a5766bf571d83d7a', 'message': 'Revert ""Revert ""Revert ""Revert ""Disable provider limestone""""""""\n\nThis reverts commit ec48247e1aebb3882353cc6924613ffbe3a38798.\nSame problem returned at 08:00 UTC today.\n\nChange-Id: I09d104e101fc1a437c607f8344ee321184bcf6be\n'}]",0,667343,ba13cc198314a453bce55995a5766bf571d83d7a,4,7,1,5263,,,0,"Revert ""Revert ""Revert ""Revert ""Disable provider limestone""""""""

This reverts commit ec48247e1aebb3882353cc6924613ffbe3a38798.
Same problem returned at 08:00 UTC today.

Change-Id: I09d104e101fc1a437c607f8344ee321184bcf6be
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/667343/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,ba13cc198314a453bce55995a5766bf571d83d7a,, max-servers: 0, max-servers: 50,1,1
openstack%2Fansible-role-tripleo-cookiecutter~master~I9dfeb6de0f1ff12a457b3981f75f6536e5e9db30,openstack/ansible-role-tripleo-cookiecutter,master,I9dfeb6de0f1ff12a457b3981f75f6536e5e9db30,Retire independent ansible role,MERGED,2019-06-12 13:31:34.000000000,2019-06-25 12:05:09.000000000,2019-06-24 23:58:24.000000000,"[{'_account_id': 6547}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-12 13:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/e1778287192388cd0c8853bff98a4db3f3b1ce9f', 'message': 'Retire independent ansible role\n\nThis role has been retired. The transformation squad is pivoting away from\nindependent roles at this time and will be focusing on the tripleo-ansible\nrepository. For more information on the tripleo-ansible efforts and the\ndirection of the transformation squad please review the following mailing\nlist thread [0].\n\n[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html\n\nChange-Id: I9dfeb6de0f1ff12a457b3981f75f6536e5e9db30\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 12:32:48.000000000', 'files': ['.gitignore', 'ansible-role-tripleo-{{cookiecutter.project_name}}/ansible-requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/ci-scripts/ansible-lint.sh', 'test-requirements.txt', 'setup.py', 'cookiecutter.json', 'ansible-role-tripleo-{{cookiecutter.project_name}}/meta/main.yaml', 'zuul.d/layout.yaml', 'LICENSE', 'ansible-role-tripleo-{{cookiecutter.project_name}}/tasks/main.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/LICENSE', 'ansible-role-tripleo-{{cookiecutter.project_name}}/tox.ini', 'ansible-role-tripleo-{{cookiecutter.project_name}}/setup.py', 'ansible-role-tripleo-{{cookiecutter.project_name}}/test-requirements.txt', 'ci-scripts/ansible-lint.sh', 'ansible-role-tripleo-{{cookiecutter.project_name}}/defaults/main.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/setup.cfg', 'README.md', 'ansible-requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/.gitreview', 'ansible-role-tripleo-{{cookiecutter.project_name}}/zuul.d/layout.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/.gitignore', 'setup.cfg', 'tox.ini', 'ansible-role-tripleo-{{cookiecutter.project_name}}/ansible.cfg', 'ansible-role-tripleo-{{cookiecutter.project_name}}/README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-cookiecutter/commit/26c9a3c8b5b02ff9cf03f12fc4ee0b6c59000e29', 'message': 'Retire independent ansible role\n\nThis role has been retired. The transformation squad is pivoting away from\nindependent roles at this time and will be focusing on the tripleo-ansible\nrepository. For more information on the tripleo-ansible efforts and the\ndirection of the transformation squad please review the following mailing\nlist thread [0].\n\n[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html\n\nChange-Id: I9dfeb6de0f1ff12a457b3981f75f6536e5e9db30\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,664895,26c9a3c8b5b02ff9cf03f12fc4ee0b6c59000e29,16,6,2,7353,,,0,"Retire independent ansible role

This role has been retired. The transformation squad is pivoting away from
independent roles at this time and will be focusing on the tripleo-ansible
repository. For more information on the tripleo-ansible efforts and the
direction of the transformation squad please review the following mailing
list thread [0].

[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html

Change-Id: I9dfeb6de0f1ff12a457b3981f75f6536e5e9db30
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-cookiecutter refs/changes/95/664895/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-role-tripleo-{{cookiecutter.project_name}}/ansible-requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/ci-scripts/ansible-lint.sh', 'test-requirements.txt', 'setup.py', 'cookiecutter.json', 'ansible-role-tripleo-{{cookiecutter.project_name}}/meta/main.yaml', 'zuul.d/layout.yaml', 'LICENSE', 'ansible-role-tripleo-{{cookiecutter.project_name}}/tasks/main.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/LICENSE', 'ansible-role-tripleo-{{cookiecutter.project_name}}/tox.ini', 'ansible-role-tripleo-{{cookiecutter.project_name}}/setup.py', 'ansible-role-tripleo-{{cookiecutter.project_name}}/test-requirements.txt', 'ci-scripts/ansible-lint.sh', 'ansible-role-tripleo-{{cookiecutter.project_name}}/defaults/main.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/setup.cfg', 'README.md', 'ansible-requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/.gitreview', 'ansible-role-tripleo-{{cookiecutter.project_name}}/zuul.d/layout.yaml', 'ansible-role-tripleo-{{cookiecutter.project_name}}/requirements.txt', 'ansible-role-tripleo-{{cookiecutter.project_name}}/.gitignore', 'setup.cfg', 'tox.ini', 'ansible-role-tripleo-{{cookiecutter.project_name}}/ansible.cfg', 'ansible-role-tripleo-{{cookiecutter.project_name}}/README.rst']",26,e1778287192388cd0c8853bff98a4db3f3b1ce9f,retire-role,,"TripleO {{ cookiecutter.project_name }} ======================================= A role to manage {{ cookiecutter.project_name }} tasks for TripleO Role Variables -------------- .. list-table:: Variables used for {{ cookiecutter.project_name }} :widths: auto :header-rows: 1 * - Name - Default Value - Description * - `{{ cookiecutter.project_name|lower|replace('-', '_') }}_debug` - `False` - Enable debug option in {{ cookiecutter.project_name }} Requirements ------------ - ansible >= 2.4 - python >= 2.6 Dependencies ------------ None Example Playbooks ----------------- .. code-block:: - hosts: localhost become: true roles: - {{ cookiecutter.project_name }} License ------- Apache 2.0 ",2,860
openstack%2Fproject-config~master~I20e7ff7e7816e008930a9a2f03c94e93f919186c,openstack/project-config,master,I20e7ff7e7816e008930a9a2f03c94e93f919186c,"Revert ""Revert ""Revert ""Disable provider limestone""""""",MERGED,2019-06-24 23:53:46.000000000,2019-06-25 12:05:04.000000000,2019-06-25 04:32:58.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 16688}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 23:53:46.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec48247e1aebb3882353cc6924613ffbe3a38798', 'message': 'Revert ""Revert ""Revert ""Disable provider limestone""""""\n\nThis reverts commit fd38e64173379d327fe4c76ff66099d3b4831f62.\nLogan reports in #openstack-infra a problem with the Neutron\nservers was corrected.\n\nChange-Id: I20e7ff7e7816e008930a9a2f03c94e93f919186c\n'}]",0,667250,ec48247e1aebb3882353cc6924613ffbe3a38798,8,6,1,5263,,,0,"Revert ""Revert ""Revert ""Disable provider limestone""""""

This reverts commit fd38e64173379d327fe4c76ff66099d3b4831f62.
Logan reports in #openstack-infra a problem with the Neutron
servers was corrected.

Change-Id: I20e7ff7e7816e008930a9a2f03c94e93f919186c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/667250/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,ec48247e1aebb3882353cc6924613ffbe3a38798,, max-servers: 50, max-servers: 0,1,1
openstack%2Ftripleo-heat-templates~master~I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6,openstack/tripleo-heat-templates,master,I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6,WIP - podman: allow to configure the storage backend,ABANDONED,2019-06-18 21:43:00.000000000,2019-06-25 11:59:34.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de304660625e7cda7a8f90eb5370ae00109fca9f', 'message': 'WIP - podman: allow to configure the storage backend\n\nCan only be either overlay or vfs.\nDefault to VFS to perform some tests in our CI.\n\nChange-Id: I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6\nRelated-Bug: #1833081\n'}, {'number': 2, 'created': '2019-06-20 02:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9a345c9d1c87003649a06a9ee968710e569b874', 'message': 'WIP - podman: allow to configure the storage backend\n\nCan only be either overlay or vfs.\nDefault to VFS to perform some tests in our CI.\n\nChange-Id: I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6\nRelated-Bug: #1833081\n'}, {'number': 3, 'created': '2019-06-21 01:30:39.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55b75e70e36550fd4b6c54274226d87c1c46c864', 'message': 'WIP - podman: allow to configure the storage backend\n\nCan only be either overlay or vfs.\nDefault to VFS to perform some tests in our CI.\n\nChange-Id: I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6\nRelated-Bug: #1833081\n'}]",1,666175,55b75e70e36550fd4b6c54274226d87c1c46c864,14,5,3,3153,,,0,"WIP - podman: allow to configure the storage backend

Can only be either overlay or vfs.
Default to VFS to perform some tests in our CI.

Change-Id: I1db3908d7511e9261ae20cd25b63bb0ee8fa4cb6
Related-Bug: #1833081
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/666175/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,de304660625e7cda7a8f90eb5370ae00109fca9f,bug/1833081," ContainerStorageDriver: default: 'vfs' description: Driver to use for the container storage. type: string constraints: - allowed_values: ['overlay', 'vfs'] container_storage_driver: {get_param: ContainerStorageDriver} - name: configure container storage driver ini_file: path: /etc/containers/storage.conf section: 'storage' option: driver value: ""{{ container_storage_driver }}""",,13,0
openstack%2Fnova~master~Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb,openstack/nova,master,Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb,Always Set dhcp_server in network_info,MERGED,2019-05-10 13:37:01.000000000,2019-06-25 11:50:42.000000000,2019-06-16 08:03:56.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11583}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-10 13:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8fd0a2bd9d9011bde3995cd86b2784c6fd76d94', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\nThis behavior can be set through neutron config file, for\nexample by setting dhcp_agents_per_network=0.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 2, 'created': '2019-05-15 15:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a1d1c2f01200e9a88b09f7e739bc91868292e28', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\nThis behavior can be set through neutron config file, for\nexample by setting dhcp_agents_per_network=0.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 3, 'created': '2019-05-15 15:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91c6d80e2dd7033c7689be1c9a6c5e4429fe0998', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 4, 'created': '2019-05-16 09:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7fa888dde8de383a1a9a97af93e5eca4e49ecdb', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 5, 'created': '2019-05-16 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c0847283d541c7376a3f2e0d5452f51ef770943', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 6, 'created': '2019-06-14 16:44:46.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'releasenotes/notes/always-set-dhcp-server-if-enable-dhcp-b96bf720af235902.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f572d65b57e034c1391ed49d84f6e5f1d672ad', 'message': 'Always Set dhcp_server in network_info\n\nIf enable_dhcp is set on subnet, but, for\nsome reason neutron did not have any DHCP port yet, we still\nwant the network_info to be populated with a valid dhcp_server\nvalue. This is mostly useful for the metadata API (which is\nrelying on this value to give network_data to the instance).\n\nThis will also help some providers which are using external\nDHCP servers not handled by neutron.\nIn this case, neutron will never create any DHCP port in the\nsubnet.\n\nAlso note that we cannot set the value to None because then the\nvalue would be discarded by the metadata API.\nSo the subnet gateway will be used as fallback.\n\nChange-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}]",12,658362,c7f572d65b57e034c1391ed49d84f6e5f1d672ad,111,27,6,11583,,,0,"Always Set dhcp_server in network_info

If enable_dhcp is set on subnet, but, for
some reason neutron did not have any DHCP port yet, we still
want the network_info to be populated with a valid dhcp_server
value. This is mostly useful for the metadata API (which is
relying on this value to give network_data to the instance).

This will also help some providers which are using external
DHCP servers not handled by neutron.
In this case, neutron will never create any DHCP port in the
subnet.

Also note that we cannot set the value to None because then the
value would be discarded by the metadata API.
So the subnet gateway will be used as fallback.

Change-Id: Ie2cd54c159ea693e48e00d0ca3b0ca5a468d79cb
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/658362/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,a8fd0a2bd9d9011bde3995cd86b2784c6fd76d94,dev/arnaud.morin/add_dhcp_even_without_port_upstream," # NOTE(arnaudmorin): If enable_dhcp is set on subnet, but, for # some reason neutron did not have any DHCP port yet, we still # want the network_info to be populated with a valid dhcp_server # value. This is mostly useful for the metadata API (which is # relying on this value to give network_data to the instance). # # This will also help some providers which are using external # DHCP servers not handled by neutron. # In this case, neutron will never create any DHCP port in the # subnet. # This behavior can be set through neutron config file, for # example by setting dhcp_agents_per_network=0. # # Also note that we cannot set the value to None because then the # value would be discarded by the metadata API. # So the subnet gateway will be used as fallback. if subnet.get('enable_dhcp') and 'dhcp_server' not in subnet_dict: subnet_dict['dhcp_server'] = subnet['gateway_ip'] ",,19,0
openstack%2Fsahara-dashboard~master~I875f7a04ab6a136e5956f04aa3546cf1aeaf4010,openstack/sahara-dashboard,master,I875f7a04ab6a136e5956f04aa3546cf1aeaf4010,Update sphinx dependency,MERGED,2019-06-25 08:48:04.000000000,2019-06-25 11:21:17.000000000,2019-06-25 11:21:17.000000000,"[{'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7132}, {'_account_id': 7710}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 10670}, {'_account_id': 13919}, {'_account_id': 13953}, {'_account_id': 22348}, {'_account_id': 22689}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-06-25 08:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/1ed37d1bf730e39a57863c12b02750c421eae31a', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\ndepend on https://review.opendev.org/#/c/657890/\n\nChange-Id: I875f7a04ab6a136e5956f04aa3546cf1aeaf4010\n'}, {'number': 2, 'created': '2019-06-25 09:45:22.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/8d12d6669a497731f70825eb6be3c4fa6282ccae', 'message': 'Update sphinx dependency\n\nSphinx 2.0 no longer works on python 2.7,\nso we need to start capping it there as well\n\nChange-Id: I875f7a04ab6a136e5956f04aa3546cf1aeaf4010\n'}]",1,667290,8d12d6669a497731f70825eb6be3c4fa6282ccae,11,14,2,27822,,,0,"Update sphinx dependency

Sphinx 2.0 no longer works on python 2.7,
so we need to start capping it there as well

Change-Id: I875f7a04ab6a136e5956f04aa3546cf1aeaf4010
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/90/667290/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,1ed37d1bf730e39a57863c12b02750c421eae31a,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-dashboard~master~Ib08230aca4c0baf2a35d5cc347dd8c7ee45beec8,openstack/sahara-dashboard,master,Ib08230aca4c0baf2a35d5cc347dd8c7ee45beec8,Use openstack-python3-train-jobs for python3 test runtime,MERGED,2019-06-25 08:50:40.000000000,2019-06-25 11:21:16.000000000,2019-06-25 11:21:16.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-25 08:50:40.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/7d240182b137c8493bbf3125ba50ba4011fe313a', 'message': 'Use openstack-python3-train-jobs for python3 test runtime\n\nDepends-On:https://review.opendev.org/#/c/641878/\n\nChange-Id: Ib08230aca4c0baf2a35d5cc347dd8c7ee45beec8\n'}]",0,667291,7d240182b137c8493bbf3125ba50ba4011fe313a,10,4,1,27822,,,0,"Use openstack-python3-train-jobs for python3 test runtime

Depends-On:https://review.opendev.org/#/c/641878/

Change-Id: Ib08230aca4c0baf2a35d5cc347dd8c7ee45beec8
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/91/667291/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,7d240182b137c8493bbf3125ba50ba4011fe313a,python3-train, Programming Language :: Python :: 3.7,,2,2
openstack%2Fmonasca-persister~master~Ia12d04708a88308e88fcbd488d72f4313ba42a36,openstack/monasca-persister,master,Ia12d04708a88308e88fcbd488d72f4313ba42a36,Widen exception catch for point parse failure,MERGED,2019-04-11 09:14:11.000000000,2019-06-25 11:18:13.000000000,2019-04-12 15:40:34.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 29967}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-04-11 09:14:11.000000000', 'files': ['monasca_persister/repositories/persister.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/f43d019a6726552f80d16a6e98cb947c063b4e74', 'message': ""Widen exception catch for point parse failure\n\nThis change supports catching more parse errors which can jam\nthe persistor, such as:\n`partial write: unable to parse 'string_with_invalid_char.%'`.\n\nChange-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36\nStory: 2005430\nTask: 30468\n""}]",0,651731,f43d019a6726552f80d16a6e98cb947c063b4e74,11,6,1,17669,,,0,"Widen exception catch for point parse failure

This change supports catching more parse errors which can jam
the persistor, such as:
`partial write: unable to parse 'string_with_invalid_char.%'`.

Change-Id: Ia12d04708a88308e88fcbd488d72f4313ba42a36
Story: 2005430
Task: 30468
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/31/651731/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_persister/repositories/persister.py'],1,f43d019a6726552f80d16a6e98cb947c063b4e74,," and ""unable to parse"" in ex.message: LOG.warning(""Some points were unable to be parsed and were dropped"")"," and ""unable to parse points"" in ex.message: LOG.warning(""Some points unable to parse were dropped"")",2,2
openstack%2Ftripleo-heat-templates~master~Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,openstack/tripleo-heat-templates,master,Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556,Fix ipaclient script,MERGED,2019-06-18 21:18:57.000000000,2019-06-25 10:52:12.000000000,2019-06-24 14:34:45.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-06-18 21:18:57.000000000', 'files': ['extraconfig/services/ipaclient.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a12568b7317fba5b2ea46694c2536b0cdf5f33b', 'message': 'Fix ipaclient script\n\nThe parameters for no_ntp_setup, ipa_domain and makehomedir\nneed to be set to whatever is coming in from heat.\n\nChange-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556\n'}]",1,666171,1a12568b7317fba5b2ea46694c2536b0cdf5f33b,25,9,1,9914,,,0,"Fix ipaclient script

The parameters for no_ntp_setup, ipa_domain and makehomedir
need to be set to whatever is coming in from heat.

Change-Id: Ica897528ee2ddd7d3e9f7cc7e920de8acdd61556
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/666171/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/ipaclient.yaml'],1,1a12568b7317fba5b2ea46694c2536b0cdf5f33b,fix_ipaclient_service, makehomedir={{ makehomedir }} idm_no_ntp={{ idm_no_ntp }} idm_domain={{ idm_domain }} ,,4,0
openstack%2Ftacker-specs~master~I83347cdc7c7ed4c560d8cee412edf575696eb038,openstack/tacker-specs,master,I83347cdc7c7ed4c560d8cee412edf575696eb038,Adding Multi-Interface for Containerized VNF in Tacker,MERGED,2019-02-12 06:52:05.000000000,2019-06-25 10:24:32.000000000,2019-06-25 10:24:32.000000000,"[{'_account_id': 18955}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-02-12 06:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8f0939014ae1be4e50b8a04befe848117b006ccf', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew featrue to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 2, 'created': '2019-02-12 07:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/84c11e4000994791c38fa7551f0dc99c614fa923', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 3, 'created': '2019-02-12 08:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/19c111b9cb352ee73385f8f2056b86b37645c1de', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 4, 'created': '2019-02-12 08:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6286f149169cf8f1095e849af69f2256213ebb40', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 5, 'created': '2019-02-12 09:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bdb1293cc30cd81599de2a3216279658571ce117', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 6, 'created': '2019-02-12 10:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7feadebfc1680995b9a5e0b2106692830c2b0490', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 7, 'created': '2019-03-16 06:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/132e9336a4996d657ee5f2c300a99e13d822f53c', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 8, 'created': '2019-03-16 07:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/21e0d4652bc80b153e2a9b3426d6bd43292868a9', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 9, 'created': '2019-03-19 12:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/22c3f5bbd0ffb038e583fd23dcd633d02af2a5f1', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 10, 'created': '2019-03-19 12:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7cc406a8511ac7ef5611b4114e70a1d99b588abc', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 11, 'created': '2019-04-01 02:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c90c98039844e52a1cbbb06d034b6ad1cbc47762', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\nstoryboard https://storyboard.openstack.org/#!/story/2005220\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 12, 'created': '2019-04-01 02:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c60070e9ca0132e99b4fbb78ae9c9b0c7715ceab', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 13, 'created': '2019-04-01 02:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5a1c94a81a83116ef02a665b1ae9e26b08fd914d', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 14, 'created': '2019-04-01 04:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/92824664503719eb310262a55c363e0f04dc25c1', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 15, 'created': '2019-04-01 05:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8ff53ef546c86c0903825a8ce05fb35166aee866', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 16, 'created': '2019-04-01 05:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/aca78c951906bd395bce8d73e96b03c40cdbef7c', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 17, 'created': '2019-04-02 05:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/730ddef263ce3c397ca3a33b64bf88d8c300af56', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 18, 'created': '2019-04-02 05:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/45b84c3324afd519328ab8be4c054357947978d2', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 19, 'created': '2019-04-02 06:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/765ba172cc3e89feb74c7d1e6cdf393e1a615777', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 20, 'created': '2019-05-09 12:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8e9c508bdc88bbf45910032e344345cbf23ff753', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 21, 'created': '2019-05-28 04:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4a7b4c24698432720ca574684702cfd2eab67d69', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}, {'number': 22, 'created': '2019-05-28 04:54:09.000000000', 'files': ['specs/train/multi-interface-container.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/60cbeb210c6261d70c451dedf2954e8b017e2527', 'message': 'Adding Multi-Interface for Containerized VNF in Tacker\n\nNew feature to support multi-interface for containeriezed VNF.\n\nBlueprint multi-interface-container\n\nChange-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038\n'}]",25,636272,60cbeb210c6261d70c451dedf2954e8b017e2527,56,6,22,22290,,,0,"Adding Multi-Interface for Containerized VNF in Tacker

New feature to support multi-interface for containeriezed VNF.

Blueprint multi-interface-container

Change-Id: I83347cdc7c7ed4c560d8cee412edf575696eb038
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/72/636272/17 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/multi-interface-container.rst'],1,8f0939014ae1be4e50b8a04befe848117b006ccf,bp/multi-interface-container,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================================== Adding Multi-Interface for Containerized VNF in Tacker ====================================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/tacker/+spec/multi-interface-container Problem description =================== Currently, Tacker provides container-based VNF[#first]. However, the current C-VNF provides only a single interfaces. Current Kuryr-Kubernetes support multiple interfaces. However, when creating a C-VNF using a VNFD template in the tacker, it provides only a single interface. Therefore, it has a limitation to use C-VNF as a Netowrk Function. this proposal suggests providing the multi interface using Kuryr-Kubernetes based 'npwg_multiple_interfaces[#second]. Proposed change =============== Currently, the template used to create C-VNF in Tacker is as follows. .. code-block:: console VDU1: type: tosca.nodes.nfv.VDU.Tacker properties: namespace: default mapping_ports: - ""80:8080"" - ""443:443"" labels: - ""app: webserver"" service_type: ClusterIP vnfcs: web_server: properties: num_cpus: 0.5 mem_size: 512 MB image: celebdor/kuryr-demo ports: - ""8080"" config: | param0: key1 param1: key2 This format allows the creation of C-VNFs. However, in order to use multi-interface, annotation part should be available like below. .. code-block:: console metadata: name: my-pod namespace: my-namespace annotations: k8s.v1.cni.cncf.io/networks: net-a,net-b,other-ns/net-c Therefore, in this specification, we want to add functionality to the translator so that we can use multi-interface feature mentioned above when deploying C-VNF. 1. Definition of ToscaKubeObject: ToscaKubeObject holds the basic struct of a VDU. That is used for translating TOSCA to Kubernetes templates such as Service, Deployment, Horizon Pod Autoscaling, ConfigMap. In this specification, we add 'multi_interface' in the properties and describe the specific network_name in the VL section. It makes to provide multiple interface for C-VNF. Example of an VDU in Tacker: .. code-block:: console VDU1: type: tosca.nodes.nfv.VDU.Tacker properties: namespace: default mapping_ports: - ""80:8080"" - ""443:443"" labels: - ""app: webserver"" service_type: ClusterIP multi_interface: true vnfcs: web_server: properties: num_cpus: 0.5 mem_size: 512 MB image: celebdor/kuryr-demo ports: - ""8080"" config: | param0: key1 param1: key2 VL1: type: tosca.nodes.nfv.VL properties: network_name: net-a vendor: Tacker VL2: type: tosca.nodes.nfv.VL properties: network_name: net-b vendor: Tacker Basically, this specification follows previous containerized VNF specification[#third]. To support multi-interface, we add new properties like below. * multi_interface: If this value is true, user can use multi interface with C-VNF. * network_name: network of VDU, for pure Kubernetes, it is used when enable neutron network with Kuryr-Kubernetes. If multi_interface is true, user can define multi-interface network here. Alternatives ------------ Data model impact ----------------- REST API impact --------------- Security impact --------------- Notifications impact -------------------- Other end user impact --------------------- Performance Impact ------------------ Other deployer impact --------------------- Developer impact ---------------- Implementation ============== Assignee(s) ----------- Primary assignee: Hyunsik Yang <yangun@dcn.ssu.ac.kr> Work Items ---------- 1. Implement translator to translate from TOSCA to k8s template for multi-interface Dependencies ============ Kuryr-Kubenetes python libray Testing ======= Yes Documentation Impact ==================== Yes. We have to describe how to use multi-interface in containerized VNF's References ========== .. [#first] https://kubernetes.io/ .. [#second]https://docs.openstack.org/kuryr-kubernetes/latest/specs/rocky/npwg_spec_support.html#id6 .. [#third] https://specs.openstack.org/openstack/tacker-specs/specs/queens/kubernetes-type-for-containerized-VNF.html ",,205,0
openstack%2Fblazar-nova~master~Ia0df3cd78cac0e8904eb4be82213727a004fa01b,openstack/blazar-nova,master,Ia0df3cd78cac0e8904eb4be82213727a004fa01b,Add Python 3 Train unit tests,MERGED,2019-06-21 21:16:42.000000000,2019-06-25 10:16:28.000000000,2019-06-25 10:16:28.000000000,"[{'_account_id': 4257}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 21:16:42.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/32350eb304768a59ce597f498eff92783cb575ac', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ia0df3cd78cac0e8904eb4be82213727a004fa01b\nStory: #2005924\nTask: #34199\n'}]",0,666926,32350eb304768a59ce597f498eff92783cb575ac,12,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ia0df3cd78cac0e8904eb4be82213727a004fa01b
Story: #2005924
Task: #34199
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/26/666926/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,32350eb304768a59ce597f498eff92783cb575ac,python3-train,"envlist = py27,py36,py37,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fblazar~master~Ie7d09c9aa1853231f42df111a9c74abf56b43b06,openstack/blazar,master,Ie7d09c9aa1853231f42df111a9c74abf56b43b06,Drop py35 tests and add py36 tests,ABANDONED,2019-03-18 09:31:25.000000000,2019-06-25 09:56:01.000000000,,"[{'_account_id': 8556}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 09:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/5a50ced88fa0de869394ec3973539a8bea2816e8', 'message': 'Drop py35 tests\n\nTarget python runtime for Stein is py36 [1]. So, I will drop py35\ntests.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ie7d09c9aa1853231f42df111a9c74abf56b43b06\nSigned-off-by: zhangyangyang <zhangyangyang@unionpay.com>\n'}, {'number': 2, 'created': '2019-03-19 09:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/cf6feffcb10b2d4ae128810a39bd7cce64a90e87', 'message': 'Drop py35 tests and add py36 tests\n\nTarget python runtime for Stein is py36 [1]. So, I will drop py35\ntests.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ie7d09c9aa1853231f42df111a9c74abf56b43b06\nSigned-off-by: zhangyangyang <zhangyangyang@unionpay.com>\n'}, {'number': 3, 'created': '2019-06-07 13:37:07.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/5845eb1e937cceaf18f023a41198fa7f3992a8ea', 'message': 'Drop py35 tests and add py36 tests\n\nTarget python runtime for Stein is py36 [1]. So, I will drop py35\ntests.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein\n\nChange-Id: Ie7d09c9aa1853231f42df111a9c74abf56b43b06\nSigned-off-by: zhangyangyang <zhangyangyang@unionpay.com>\n'}]",0,643901,5845eb1e937cceaf18f023a41198fa7f3992a8ea,15,4,3,26617,,,0,"Drop py35 tests and add py36 tests

Target python runtime for Stein is py36 [1]. So, I will drop py35
tests.

[1] https://governance.openstack.org/tc/reference/runtimes/stein.html#python-runtime-for-stein

Change-Id: Ie7d09c9aa1853231f42df111a9c74abf56b43b06
Signed-off-by: zhangyangyang <zhangyangyang@unionpay.com>
",git fetch https://review.opendev.org/openstack/blazar refs/changes/01/643901/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a50ced88fa0de869394ec3973539a8bea2816e8,drop_py35_test,, - openstack-python35-jobs,0,1
openstack%2Fkeystone-specs~master~Ic19aee4b4b2a5a065b998a8db8ac575e485321de,openstack/keystone-specs,master,Ic19aee4b4b2a5a065b998a8db8ac575e485321de,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 11:38:38.000000000,2019-06-25 09:53:07.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-04-23 11:38:38.000000000', 'files': ['specs/keystone/juno/keystone-api-validation.rst', 'superseded/functional-testing-setup.rst', 'specs/keystone/juno/json-home.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/27cda862188e825acd758670d681745300f3700a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic19aee4b4b2a5a065b998a8db8ac575e485321de\n'}]",0,655022,27cda862188e825acd758670d681745300f3700a,5,3,1,22165,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ic19aee4b4b2a5a065b998a8db8ac575e485321de
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/22/655022/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/keystone/juno/keystone-api-validation.rst', 'superseded/functional-testing-setup.rst', 'specs/keystone/juno/json-home.rst']",3,27cda862188e825acd758670d681745300f3700a,,.. _`Identity API v2`: http://opendev.org/openstack/identity-api/tree/v2.0/src/xsd/version.xsd?id=8e9aef87e49d7b8a0a53730ad98da923588a717e,.. _`Identity API v2`: http://git.openstack.org/cgit/openstack/identity-api/tree/v2.0/src/xsd/version.xsd?id=8e9aef87e49d7b8a0a53730ad98da923588a717e,8,8
openstack%2Fblazar-dashboard~master~I0362accbea950ce67401872716df393b416a72db,openstack/blazar-dashboard,master,I0362accbea950ce67401872716df393b416a72db,Add Python 3 Train unit tests,MERGED,2019-06-21 21:16:19.000000000,2019-06-25 09:51:36.000000000,2019-06-25 09:51:36.000000000,"[{'_account_id': 4257}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 21:16:19.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/e7b1b3f717e5216a41212d80b6c575c9fea47c0a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0362accbea950ce67401872716df393b416a72db\nStory: #2005924\nTask: #34199\n'}]",0,666925,e7b1b3f717e5216a41212d80b6c575c9fea47c0a,8,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0362accbea950ce67401872716df393b416a72db
Story: #2005924
Task: #34199
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/25/666925/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,e7b1b3f717e5216a41212d80b6c575c9fea47c0a,python3-train,"envlist = py27,py36,py37,pep8","envlist = py36,py27,pep8",3,2
openstack%2Fsahara-plugin-mapr~master~I5179f7db5f0709b333ff0030c19a3d3d1fa06385,openstack/sahara-plugin-mapr,master,I5179f7db5f0709b333ff0030c19a3d3d1fa06385,Update sphinx from current requirements,ABANDONED,2019-06-25 09:50:42.000000000,2019-06-25 09:51:08.000000000,,[],"[{'number': 1, 'created': '2019-06-25 09:50:42.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-mapr/commit/3627998dae97a89ea5b661d6d94965599dc7dad0', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I5179f7db5f0709b333ff0030c19a3d3d1fa06385\n'}]",0,667315,3627998dae97a89ea5b661d6d94965599dc7dad0,2,0,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I5179f7db5f0709b333ff0030c19a3d3d1fa06385
",git fetch https://review.opendev.org/openstack/sahara-plugin-mapr refs/changes/15/667315/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3627998dae97a89ea5b661d6d94965599dc7dad0,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fsahara-plugin-cdh~master~I2036afd57cfccdc47e101d80238eca936f2753f0,openstack/sahara-plugin-cdh,master,I2036afd57cfccdc47e101d80238eca936f2753f0,Update sphinx from current requirements,ABANDONED,2019-06-25 09:50:33.000000000,2019-06-25 09:51:01.000000000,,[],"[{'number': 1, 'created': '2019-06-25 09:50:33.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/c6e091431261b7d70b8ad530c3fc76c87947fbf1', 'message': 'Update sphinx from current requirements\n\nOtherwise the requirements-check job fails.\n\nChange-Id: I2036afd57cfccdc47e101d80238eca936f2753f0\n'}]",0,667314,c6e091431261b7d70b8ad530c3fc76c87947fbf1,2,0,1,10459,,,0,"Update sphinx from current requirements

Otherwise the requirements-check job fails.

Change-Id: I2036afd57cfccdc47e101d80238eca936f2753f0
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/14/667314/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c6e091431261b7d70b8ad530c3fc76c87947fbf1,sphinx-reqs,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpython-blazarclient~master~Ibc4be4c59c2dca995f1999879ea2a9e70b129f7f,openstack/python-blazarclient,master,Ibc4be4c59c2dca995f1999879ea2a9e70b129f7f,Add Python 3 Train unit tests,MERGED,2019-06-21 21:17:19.000000000,2019-06-25 09:31:13.000000000,2019-06-25 09:31:13.000000000,"[{'_account_id': 4257}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 21:17:19.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/3ea2b186d338d2af846ae9d5d02a69830ddf23c1', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ibc4be4c59c2dca995f1999879ea2a9e70b129f7f\nStory: #2005924\nTask: #34199\n'}]",0,666927,3ea2b186d338d2af846ae9d5d02a69830ddf23c1,8,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ibc4be4c59c2dca995f1999879ea2a9e70b129f7f
Story: #2005924
Task: #34199
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/27/666927/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,3ea2b186d338d2af846ae9d5d02a69830ddf23c1,python3-train,"envlist = py27,py36,py37,pep8","envlist = py36,py34,py27,pep8",3,3
openstack%2Fcharm-nova-cloud-controller~master~Ieb0a373ed55971af0c357fa89c199fb781e772ab,openstack/charm-nova-cloud-controller,master,Ieb0a373ed55971af0c357fa89c199fb781e772ab,Refactor ssh_compute_remove() in nova,MERGED,2019-06-24 10:00:05.000000000,2019-06-25 09:21:42.000000000,2019-06-25 09:21:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 10:00:05.000000000', 'files': ['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/978e29012f1f5c167bfbc17bf06c3ff3436cf6b7', 'message': 'Refactor ssh_compute_remove() in nova\n\nThis removes one loop, but also changes the unit test so that it is not\ndependent on the implementation of the function, specifically w.r.t. the\nnumber of writes to the output file (which can now be changed in the\nfuture).\n\nChange-Id: Ieb0a373ed55971af0c357fa89c199fb781e772ab\n'}]",0,667054,978e29012f1f5c167bfbc17bf06c3ff3436cf6b7,11,4,1,20870,,,0,"Refactor ssh_compute_remove() in nova

This removes one loop, but also changes the unit test so that it is not
dependent on the implementation of the function, specifically w.r.t. the
number of writes to the output file (which can now be changed in the
future).

Change-Id: Ieb0a373ed55971af0c357fa89c199fb781e772ab
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/54/667054/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py']",2,978e29012f1f5c167bfbc17bf06c3ff3436cf6b7,improve-ssh-key-management," """"""Remove a key from the authorized_keys file for the unit/user :param public_key: the key to remove :type public_key: str :param unit: The unit (as identified by Juju) to reference (default None) :type unit: Union[str, None] :param user: The username to reference (default None) :type user: Union[str, None] """""" with open(authorized_keys(unit, user), 'rt') as f: keys = [k.strip() for k in f.readlines()] with open(authorized_keys(unit, user), 'wt') as f: out = ""\n"".join([key for key in keys if key != public_key]) if not out.endswith('\n'): out += '\n' f.write(out)"," with open(authorized_keys(unit, user), 'rt') as _keys: keys = [k.strip() for k in _keys.readlines()] [keys.remove(key) for key in keys if key == public_key] with open(authorized_keys(unit, user), 'wt') as _keys: keys = '\n'.join(keys) if not keys.endswith('\n'): keys += '\n' _keys.write(keys)",25,11
openstack%2Fcharm-nova-cloud-controller~master~I6b13e2639b808fd640a6f8d892d1e3dd58215361,openstack/charm-nova-cloud-controller,master,I6b13e2639b808fd640a6f8d892d1e3dd58215361,Remove the nova-api handling functions,MERGED,2019-06-24 19:48:44.000000000,2019-06-25 09:19:20.000000000,2019-06-25 09:19:20.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 19:48:44.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a0edc8310977fc21b4fcba82bceb5eda5e13f103', 'message': ""Remove the nova-api handling functions\n\nThe nova-api (commit 962790239b550be61b8eabcc5987aaf50c4f35c1)\nintroduced a 'nova-api' ready relation, but it was never added to the\nmetadata.yaml and it has never been used.  This commit removes it, as\nthere is no need for it after 3 years, and it therefore has a\nmaintenance burden, even if not being used.\n\nChange-Id: I6b13e2639b808fd640a6f8d892d1e3dd58215361\n""}]",0,667206,a0edc8310977fc21b4fcba82bceb5eda5e13f103,9,4,1,20870,,,0,"Remove the nova-api handling functions

The nova-api (commit 962790239b550be61b8eabcc5987aaf50c4f35c1)
introduced a 'nova-api' ready relation, but it was never added to the
metadata.yaml and it has never been used.  This commit removes it, as
there is no need for it after 3 years, and it therefore has a
maintenance burden, even if not being used.

Change-Id: I6b13e2639b808fd640a6f8d892d1e3dd58215361
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/06/667206/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']",4,a0edc8310977fc21b4fcba82bceb5eda5e13f103,revert-api-ready,," for r_id in hookenv.relation_ids('nova-api'): nova_api_relation_joined(rid=r_id) for r_id in hookenv.relation_ids('nova-api'): nova_api_relation_joined(rid=r_id) for r_id in hookenv.relation_ids('nova-api'): nova_api_relation_joined(rid=r_id) for r_id in hookenv.relation_ids('nova-api'): nova_api_relation_joined(rid=r_id) def nova_api_relation_joined(rid=None): rel_data = { 'nova-api-ready': 'yes' if ncc_utils.is_api_ready(CONFIGS) else 'no' } hookenv.relation_set(rid, **rel_data) ",2,77
openstack%2Fironic-lib~master~I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,openstack/ironic-lib,master,I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a,Returns disk_identifier for UEFI boot mode nodes,MERGED,2019-06-12 10:44:46.000000000,2019-06-25 09:16:31.000000000,2019-06-24 15:22:15.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 20401}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-12 10:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/13bd88e1b9242e3a56e35de208b01d723bdf1aae', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 2, 'created': '2019-06-14 11:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0f2580ca0a8fffb55ac278c2b7f87f684f25cc43', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 3, 'created': '2019-06-17 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c45aea363f67af7f336f2eb97b00fd92f695ddc6', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 4, 'created': '2019-06-20 10:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/44e9d7f9d6ac413a76dc686e4d0e3a1fae105671', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 5, 'created': '2019-06-21 12:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/aa1efb23d0c5ba447b73ebc3af489a7e0df90192', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 6, 'created': '2019-06-24 08:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/01bc38ad5fc329e6f5574e842a7ef1167e21346e', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}, {'number': 7, 'created': '2019-06-24 09:53:53.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c826e7db4c44cc2c6e7648a9c8394881c14989a4', 'message': 'Returns disk_identifier for UEFI boot mode nodes\n\nReturns the disk_identifer for the block device images which will be\nneeded in pxe_grub_config.template to boot wholedisk images in UEFI\nboot mode.\n\nChange-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a\nStory: 2005532\nTask: 33673\n'}]",31,664852,c826e7db4c44cc2c6e7648a9c8394881c14989a4,35,6,7,20401,,,0,"Returns disk_identifier for UEFI boot mode nodes

Returns the disk_identifer for the block device images which will be
needed in pxe_grub_config.template to boot wholedisk images in UEFI
boot mode.

Change-Id: I9882a81ae6d476fd26f3fe0dc00f6072454e3e5a
Story: 2005532
Task: 33673
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/52/664852/6 && git format-patch -1 --stdout FETCH_HEAD,['ironic_lib/disk_utils.py'],1,13bd88e1b9242e3a56e35de208b01d723bdf1aae,,"def get_uefi_disk_identifier(dev): partition_id = '' efi_partition = utils.execute('sudo','fdisk' , '-l', dev) report = efi_partition[0] for line in report.split('\n'): if line.startswith(dev) and 'EFI System' in line: part = {} # Split into KEY=VAL pairs vals = shlex.split(line) partition_id = vals[0] lsblk = utils.execute('lsblk', '-PbioUUID', partition_id) lsblk_data = lsblk[0] disk_identifier = (lsblk_data.split(""="")[1]).strip() return disk_identifier ",,18,0
openstack%2Ftripleo-common~master~Ie2b4ffe4424aae97a0d1ee67607988188ff2686b,openstack/tripleo-common,master,Ie2b4ffe4424aae97a0d1ee67607988188ff2686b,Add new Ansible role tripleo-container-backend.,ABANDONED,2018-12-03 11:53:59.000000000,2019-06-25 09:03:01.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-12-03 11:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5c120b2d4567642c789c8029fba0572cb7d11152', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running at. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman), it will store the backend's command into a variable\npassed to the role (similar to what function would do) to be used\noutside of the role.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 2, 'created': '2018-12-04 10:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab517a26da0073a40e33744c424bd90358901fcc', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running at. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman), it will store the backend's command into a variable\npassed to the role (similar to what function would do) to be used\noutside of the role.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 3, 'created': '2018-12-07 10:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ef0b191816264475524b27ed215072d73c7616c8', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman), it will store the backend's command into a variable\npassed to the role (similar to what function would do) to be used\noutside of the role.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 4, 'created': '2018-12-07 12:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21983c206f23b7f9df33edaba9570a188d10d9c2', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman), it will store the backend's command into a variable\npassed to the role (similar to what function would do) to be used\noutside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 5, 'created': '2018-12-13 11:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d828a9575ef9896877ef158f9235ad69f12fe0cd', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman and healtcheck is True), it will store the backend's\ncommand into a variable passed to the role (similar to what function\nwould do) to be used outside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 6, 'created': '2018-12-14 12:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a08e5a547a3c4e448b8e168c49291f906da8144b', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman and healtcheck is True), it will store the backend's\ncommand into a variable passed to the role (similar to what function\nwould do) to be used outside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 7, 'created': '2018-12-17 11:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af263bda386c9d93e71ad83dcd0948cc42c78513', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman and healtcheck is True), it will store the backend's\ncommand into a variable passed to the role (similar to what function\nwould do) to be used outside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 8, 'created': '2018-12-17 11:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4d3983afe48e6b4376fda90463033e8c0e78ac4', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman and healtcheck is True), it will store the backend's\ncommand into a variable passed to the role (similar to what function\nwould do) to be used outside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}, {'number': 9, 'created': '2018-12-17 13:12:23.000000000', 'files': ['roles/tripleo-container-backend/defaults/main.yaml', 'roles/tripleo-container-backend/tasks/healthcheck.yaml', 'roles/tripleo-container-backend/README.md', 'releasenotes/notes/tripleo-container-backend-a903c390b9021ce7.yaml', 'roles/tripleo-container-backend/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df4fa38d9b5a4713c28f60519ca0cd0cd16dbb7b', 'message': ""Add new Ansible role tripleo-container-backend.\n\nAdd a role to identify the container backend a specific container\nis running under. Even though we have the container_cli variable, this\nvariable won't have the right container backend under the containers\nare running in the case of an upgrade from Rocky to Stein (change\nfrom Docker backend to Podman's). So we need a way to identify the\nbackend the container is present at.\nOnce identified (it will fail if the container is not running under\nDocker or Podman and healtcheck is True), it will store the backend's\ncommand into a variable passed to the role (similar to what function\nwould do) to be used outside of the role.\nIt also allows the option to verify the container's health state when\ninvoking the role via the healthcheck (boolean) option, which is set to false\nby default.\n\nChange-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\n""}]",18,621553,df4fa38d9b5a4713c28f60519ca0cd0cd16dbb7b,36,11,9,26343,,,0,"Add new Ansible role tripleo-container-backend.

Add a role to identify the container backend a specific container
is running under. Even though we have the container_cli variable, this
variable won't have the right container backend under the containers
are running in the case of an upgrade from Rocky to Stein (change
from Docker backend to Podman's). So we need a way to identify the
backend the container is present at.
Once identified (it will fail if the container is not running under
Docker or Podman and healtcheck is True), it will store the backend's
command into a variable passed to the role (similar to what function
would do) to be used outside of the role.
It also allows the option to verify the container's health state when
invoking the role via the healthcheck (boolean) option, which is set to false
by default.

Change-Id: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/621553/9 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-backend/defaults/main.yaml', 'roles/tripleo-container-backend/README.md', 'releasenotes/notes/tripleo-container-backend-a903c390b9021ce7.yaml', 'roles/tripleo-container-backend/tasks/main.yaml']",4,5c120b2d4567642c789c8029fba0572cb7d11152,621553,"--- - name: ""Fail if container_cli_var_name or container is not defined"" fail: msg: ""The container_cli_var_name and container variables need to be specified"" when: (container_cli_var_name == """") or (container == """") - name: ""Check if {{ container }} container is present in podman"" command: ""podman inspect -f '{{ '{{' }}.State.Running{{ '}}' }}' {{ container }}"" register: podman_inspect_result ignore_errors: True - name: ""Check if {{ container }} is running in docker backend"" command: ""docker inspect -f '{{ '{{' }}.State.Running{{ '}}' }}' {{ container }}"" register: docker_inspect_result ignore_errors: True - name: Fail if container not running under docker or podman fail: msg: ""Container {{ container }} is not running in any container backend"" when: - podman_inspect_result.rc != 0 - docker_inspect_result.rc != 0 - name: ""Set container backend to podman in {{ container_cli_var_name }}"" set_fact: ""{{ container_cli_var_name }}"": ""podman"" when: podman_inspect_result.rc == 0 - name: ""Set container backend to docker in {{ container_cli_var_name }}"" set_fact: ""{{ container_cli_var_name }}"": ""docker"" when: docker_inspect_result.rc == 0 ",,87,0
openstack%2Ftripleo-quickstart~master~Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207,openstack/tripleo-quickstart,master,Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207,Update repo_cmd for upgrades release files.,ABANDONED,2018-08-29 10:22:26.000000000,2019-06-25 09:02:14.000000000,,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-08-29 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/67086b0fcb4260b330c8ad01cffe1306b0396f51', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}, {'number': 2, 'created': '2018-08-29 11:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2103b738761d4e7d264cfa6639022f6565ab81f4', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}, {'number': 3, 'created': '2018-09-04 15:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/aff988ae304f538b6806b7a15f99f6603cf22d55', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}, {'number': 4, 'created': '2018-09-04 15:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cd968ea018139791b4d8d63caa9be5b6f990c6bf', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\nAlso included the fix for LP#1785067 from the patch [0]\ninto the release files.\n\n[0] - https://review.openstack.org/#/c/595527/4\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}, {'number': 5, 'created': '2018-09-06 13:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4af6119b3a4383b0825189b52feef3d854e4eeef', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\nAlso included the fix for LP#1785067 from the patch [0]\ninto the release files.\n\n[0] - https://review.openstack.org/#/c/595527/4\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}, {'number': 6, 'created': '2018-11-12 10:53:27.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/master-undercloud-rocky-overcloud.yml', 'config/release/tripleo-ci/CentOS-7/rocky-undercloud-queens-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/841fb7c56ea35fd9c737c364f302515c80a9370c', 'message': 'Update repo_cmd for upgrades release files.\n\nSeveral modifications have been done in the main\nrelease files which were not included in the upgrades\nones. This patch tries to synchronize the scripts used\nin repo_cmd_before, repos and repo_cmd_after in all\nthe <release>-undercloud-<release-1>-overcloud.yml\ntemplates.\nAlso included the fix for LP#1785067 from the patch [0]\ninto the release files.\n\n[0] - https://review.openstack.org/#/c/595527/4\n\nChange-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207\n'}]",9,597441,841fb7c56ea35fd9c737c364f302515c80a9370c,63,15,6,26343,,,0,"Update repo_cmd for upgrades release files.

Several modifications have been done in the main
release files which were not included in the upgrades
ones. This patch tries to synchronize the scripts used
in repo_cmd_before, repos and repo_cmd_after in all
the <release>-undercloud-<release-1>-overcloud.yml
templates.
Also included the fix for LP#1785067 from the patch [0]
into the release files.

[0] - https://review.openstack.org/#/c/595527/4

Change-Id: Ib2e33d23f89bb4db000b3c49dd01a61b3be8b207
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/597441/6 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/rocky-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/queens-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml']",4,67086b0fcb4260b330c8ad01cffe1306b0396f51,bug/1789416, - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - openstack-tripleo-* - python*-tripleo* sudo yum remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; # add bootstrap dependencies tripleo/+bug/1785067 sudo yum install -y openstack-heat-agents, - python-tripleoclient - openstack-tripleo-* sudo yum remove -y rdo-release || true;,51,42
openstack%2Ftripleo-heat-templates~master~Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6,openstack/tripleo-heat-templates,master,Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6,WIP: Add pre-upgrade validation step for containerized services.,ABANDONED,2018-07-13 10:57:39.000000000,2019-06-25 09:00:25.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-07-13 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3454216b9a743e3e610a50f4a750b4873b0101b3', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 2, 'created': '2018-07-13 11:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/962ae659e8309a30e361afabde7e4b92576f0ea2', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 3, 'created': '2018-07-13 12:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e88cf392330c57178d58078a757c60e2d2602964', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 4, 'created': '2018-11-12 11:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a1c6f8b30e7b531a2f917ee192019fb656b848c', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 5, 'created': '2018-11-12 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86b1742c6d8ae45689addf8734c40e0e76d9421a', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 6, 'created': '2018-11-14 16:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a20d9599d7097ba1c8aaffa9b83a9d801b868ba0', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 7, 'created': '2018-11-15 15:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e06a0793194e994d7fb30df61c9bc8c372c00b8c', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 8, 'created': '2018-11-20 10:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d65869e3889153e19779f4ffb4006f6cbbdb84', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 9, 'created': '2018-11-22 14:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a0f96f977a47eb9b01355acac7cde38dc78fc72a', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 10, 'created': '2018-11-23 14:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c852c53efe1817e017ca63e2aadab60b56a5c350', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 11, 'created': '2018-11-26 16:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea6b192209e4fb6296c300248da3c3f084e290eb', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 12, 'created': '2018-12-03 12:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3e8ceaec4f97c4ed3633c2b246127d727d142ec', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the pre-upgrade validation tasks for\ncontainerized services, leaving also the systemd checks\nas they are being used for the containerized undercloud\nupgrade.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will stop the upgrade.\n\nAlso, as after rocky all services are containerized in\nthe undercloud and the overcloud, get rid of the\nupgrade_tasks related to systemd services.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 13, 'created': '2018-12-07 14:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0339a99d6a4196f4e37f0fbeb348444723c28a67', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside external_upgrade-tasks section. Like this,\nwe provide a way to execute service validations before and\nafter the upgrade, via openstack overcloud external-upgrade run\n--tags validations.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 14, 'created': '2018-12-10 07:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb68aceea914b3307e26fb7d4d56a4394a332175', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside external_upgrade-tasks section. Like this,\nwe provide a way to execute service validations before and\nafter the upgrade, via openstack overcloud external-upgrade run\n--tags validations.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 15, 'created': '2018-12-11 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f14154d95ff724aed91e4dbd5acd8b70340e3d66', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside external_upgrade-tasks section. Like this,\nwe provide a way to execute service validations before and\nafter the upgrade, via openstack overcloud external-upgrade run\n--tags validations.\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 16, 'created': '2018-12-14 13:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fab4ee45a8699c8ce1789db23e3ed8046f60ad3c', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside upgrade-tasks section. Like this, we also provide\na way to execute service validations before and after the upgrade,\nvia openstack overcloud upgrade run --tags validations for any\nspecific role (via --roles Controller|Compute, etc...).\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 17, 'created': '2018-12-14 13:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44ae25c6e56a51b3cd7a0bd23b631da5736ccbbf', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside upgrade-tasks section. Like this, we also provide\na way to execute service validations before and after the upgrade,\nvia openstack overcloud upgrade run --tags validations for any\nspecific role (via --roles Controller|Compute, etc...).\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 18, 'created': '2018-12-18 10:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b94b379c2bcabdf2b38d6f79d1a166d12df88fd', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside upgrade-tasks section. Like this, we also provide\na way to execute service validations before and after the upgrade,\nvia openstack overcloud upgrade run --tags validations for any\nspecific role (via --roles Controller|Compute, etc...).\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}, {'number': 19, 'created': '2019-01-08 13:25:41.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml', 'docker/services/neutron-api.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'docker/services/nova-api.yaml', 'docker/services/cinder-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/373915c29ebf42428ecea4dcb0eef8117ccd8047', 'message': 'WIP: Add pre-upgrade validation step for containerized services.\n\nAt the moment there is not service checking before\nupgrade when having a containerized deployment. This\npatch includes the upgrade validation tasks for containerized\nservices inside upgrade-tasks section. Like this, we also provide\na way to execute service validations before and after the upgrade,\nvia openstack overcloud upgrade run --tags validations for any\nspecific role (via --roles Controller|Compute, etc...).\n\nIn the case one of the containers is in state different\nthan healthy, the validation taks will fail.\n\nDepends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b\nChange-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6\nCloses-Bug: #1781567\n'}]",11,582502,373915c29ebf42428ecea4dcb0eef8117ccd8047,58,13,19,26343,,,0,"WIP: Add pre-upgrade validation step for containerized services.

At the moment there is not service checking before
upgrade when having a containerized deployment. This
patch includes the upgrade validation tasks for containerized
services inside upgrade-tasks section. Like this, we also provide
a way to execute service validations before and after the upgrade,
via openstack overcloud upgrade run --tags validations for any
specific role (via --roles Controller|Compute, etc...).

In the case one of the containers is in state different
than healthy, the validation taks will fail.

Depends-On: Ie2b4ffe4424aae97a0d1ee67607988188ff2686b
Change-Id: Id4f08e03fbd93f36da636e35db8ae51cd1e27ad6
Closes-Bug: #1781567
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/582502/19 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/glance-api.yaml'],1,3454216b9a743e3e610a50f4a750b4873b0101b3,bug/1781567," - name: Check if glance_api container is present shell: ""docker ps -a --format '{{ '{{' }}.Names{{ '}}' }}' | grep '^glance_api$'"" register: glance_api_container_present ignore_errors: True - name: PreUpgrade validation: Check glance_api container health shell: ""docker inspect --format '{{ '{{' }}.State.Health.Status{{ '}}' }}' glance_api"" when: glance_api_container_present.rc == 0 ignore_errors: True tags: validation register: glance_api_health - name: Fail if glance_api container status is not healthy fail: msg: ""Container glance_api is in {{ glance_api_health.stdout }} status."" tags: validation when: glance_api_health.rc != 0 or glance_api_health.stdout != 'healthy'",,15,0
openstack%2Ftripleo-quickstart-extras~master~Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1,openstack/tripleo-quickstart-extras,master,Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1,Pass stable_release into nodepool_setup for reproducer_oooq.,ABANDONED,2018-04-23 07:27:52.000000000,2019-06-25 08:59:02.000000000,,"[{'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-23 07:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2a0b71fc11aa076edb8db027f37fb5d89c34dcd', 'message': ""Pass stable_release into nodepool_setup for reproducer_oooq.\n\nIf525e3db07976cd8d010074b22129ccec9dd09f7\nadded the control to avoid merging patches\nfrom different branches when testing via\nreproducer-quickstart.sh. However, the\nvariable 'stable_release' which is used\nto differentiate if the patch belongs to\nanother relase or not, is not being set\nat all at the time of calling the nodepool-setup\nrole.\n\nChange-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1\n""}, {'number': 2, 'created': '2018-05-03 12:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e20d523482476bb7a522f25c73b1ee50f0148edb', 'message': ""Pass stable_release into nodepool_setup for reproducer_oooq.\n\nIf525e3db07976cd8d010074b22129ccec9dd09f7\nadded the control to avoid merging patches\nfrom different branches when testing via\nreproducer-quickstart.sh. However, the\nvariable 'stable_release' which is used\nto differentiate if the patch belongs to\nanother relase or not, is not being set\nat all at the time of calling the nodepool-setup\nrole.\n\nChange-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1\n""}, {'number': 3, 'created': '2018-05-07 15:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e72eb5b83cdab3cb5702306d5a72eea89135aac', 'message': ""Pass stable_release into nodepool_setup for reproducer_oooq.\n\nIf525e3db07976cd8d010074b22129ccec9dd09f7\nadded the control to avoid merging patches\nfrom different branches when testing via\nreproducer-quickstart.sh. However, the\nvariable 'stable_release' which is used\nto differentiate if the patch belongs to\nanother relase or not, is not being set\nat all at the time of calling the nodepool-setup\nrole.\n\nCloses-Bug: #1758899\nChange-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1\n""}, {'number': 4, 'created': '2018-05-08 04:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf3c3313d5ee521629a32849884cce25b4bacb9d', 'message': ""Pass stable_release into nodepool_setup for reproducer_oooq.\n\nIf525e3db07976cd8d010074b22129ccec9dd09f7\nadded the control to avoid merging patches\nfrom different branches when testing via\nreproducer-quickstart.sh. However, the\nvariable 'stable_release' which is used\nto differentiate if the patch belongs to\nanother relase or not, is not being set\nat all at the time of calling the nodepool-setup\nrole.\n\nCloses-Bug: #1758899\nChange-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1\n""}, {'number': 5, 'created': '2018-07-02 10:36:12.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6779a3b672d56111fbbf0684ad9875f7e7de1358', 'message': ""Pass stable_release into nodepool_setup for reproducer_oooq.\n\nIf525e3db07976cd8d010074b22129ccec9dd09f7\nadded the control to avoid merging patches\nfrom different branches when testing via\nreproducer-quickstart.sh. However, the\nvariable 'stable_release' which is used\nto differentiate if the patch belongs to\nanother relase or not, is not being set\nat all at the time of calling the nodepool-setup\nrole.\n\nCloses-Bug: #1758899\nChange-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1\n""}]",10,563502,6779a3b672d56111fbbf0684ad9875f7e7de1358,47,13,5,26343,,,0,"Pass stable_release into nodepool_setup for reproducer_oooq.

If525e3db07976cd8d010074b22129ccec9dd09f7
added the control to avoid merging patches
from different branches when testing via
reproducer-quickstart.sh. However, the
variable 'stable_release' which is used
to differentiate if the patch belongs to
another relase or not, is not being set
at all at the time of calling the nodepool-setup
role.

Closes-Bug: #1758899
Change-Id: Ib6f8423ff7f5575dfa327ad4c6fc726bc55f4ca1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/563502/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,a2a0b71fc11aa076edb8db027f37fb5d89c34dcd,563502,"ansible-playbook -i $WORKSPACE/multinode_hosts \ {% if stable_release != '' %} -e stable_release=""{{ stable_release }}"" \ {% endif %} $WORKSPACE/tripleo-quickstart-extras/playbooks/nodepool-setup.yml",ansible-playbook -i $WORKSPACE/multinode_hosts $WORKSPACE/tripleo-quickstart-extras/playbooks/nodepool-setup.yml,5,1
openstack%2Fpython-openstackclient~stable%2Focata~Ifdf65f3bb90fb923947a2cbe80a881d71a3fee56,openstack/python-openstackclient,stable/ocata,Ifdf65f3bb90fb923947a2cbe80a881d71a3fee56,Change noauth strategy for plugin loading,ABANDONED,2017-09-15 15:38:34.000000000,2019-06-25 08:41:17.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 11166}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-09-15 15:38:34.000000000', 'files': ['openstackclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5949c2c6f6824a2cbb5ffc7773023b0539301b2e', 'message': ""Change noauth strategy for plugin loading\n\nDon't do it.\n\nos-client-config's plugin loading has been causing this pain for a long\ntime, removing the KSC hack-around in o-c-c unmasked this again.  So when\nauth is not reuired, just don't let o-c-c do any plugin loading at all.\n\nEver.\n\nOf course, this shouldn't be in OSC either, but we have to do this until\nthe equivalent fix lands in osc-lib, is released and makes it into the\nglobal requirements minimum version.\n\nPartial-Bug: #1717524\nDepends-on: Ie68c82f7b073012685f0513b615ab1bf00bc0c3a\nChange-Id: Ifdf65f3bb90fb923947a2cbe80a881d71a3fee56\n(cherry picked from commit 1c3cb0a3b54cdb6cd5b27e88372b65cfac844422)\n""}]",0,504440,5949c2c6f6824a2cbb5ffc7773023b0539301b2e,6,4,1,26343,,,0,"Change noauth strategy for plugin loading

Don't do it.

os-client-config's plugin loading has been causing this pain for a long
time, removing the KSC hack-around in o-c-c unmasked this again.  So when
auth is not reuired, just don't let o-c-c do any plugin loading at all.

Ever.

Of course, this shouldn't be in OSC either, but we have to do this until
the equivalent fix lands in osc-lib, is released and makes it into the
global requirements minimum version.

Partial-Bug: #1717524
Depends-on: Ie68c82f7b073012685f0513b615ab1bf00bc0c3a
Change-Id: Ifdf65f3bb90fb923947a2cbe80a881d71a3fee56
(cherry picked from commit 1c3cb0a3b54cdb6cd5b27e88372b65cfac844422)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/40/504440/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/shell.py'],1,5949c2c6f6824a2cbb5ffc7773023b0539301b2e,bug/1717524," # TODO(dtroyer): Move this to osc-lib, remove entire method when 1.4.0 # release is minimum version is in global-requirements # NOTE(dtroyer): If auth is not required for a command, skip # get_one_Cloud()'s validation to avoid loading plugins validate = cmd.auth_required validate=validate,"," # TODO(dtroyer): Move this to osc-lib # NOTE(dtroyer): If auth is not required for a command, force fake # token auth so KSA plugins are happy kwargs = {} if not cmd.auth_required: # Build fake token creds to keep ksa and o-c-c hushed kwargs['auth_type'] = 'token_endpoint' kwargs['auth'] = {} kwargs['auth']['token'] = 'x' kwargs['auth']['url'] = 'x' validate=True, **kwargs",6,13
openstack%2Ftripleo-ci~master~I0a0e30836b2f8dfed1d7455984431ad876a6a383,openstack/tripleo-ci,master,I0a0e30836b2f8dfed1d7455984431ad876a6a383,WIP: Disable properly services api_cfn and api_cloudwatch.,ABANDONED,2017-08-30 14:56:43.000000000,2019-06-25 08:40:57.000000000,,"[{'_account_id': 8871}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-08-30 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4d8ccd33f52e71bfb8467f83f48bebf9f6f3492e', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 2, 'created': '2017-09-01 13:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cadd11dc9a9904b09e0b06d9a9ae43ceac36a463', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 3, 'created': '2017-09-12 13:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ee29764fdf83bc2b757112bfb544365638cf401', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 4, 'created': '2017-09-12 14:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a6881377e3cc657d2f0cb66bc7bb644cfcb0f1bc', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 5, 'created': '2017-09-14 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/faef601968ec7d8b607271d3d3c2861aafc83762', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nSpecify default values for metadata handling as heat-api-cfn and\nheat-api-cloudwatch services are disabled.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 6, 'created': '2018-01-11 07:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2cb2827826c1be57d04528df093a839b1097ae60', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nSpecify default values for metadata handling as heat-api-cfn and\nheat-api-cloudwatch services are disabled.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 7, 'created': '2018-02-21 17:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf579f8ad152d1cb4c33327a5478b587ddddb025', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nSpecify default values for metadata handling as heat-api-cfn and\nheat-api-cloudwatch services are disabled.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}, {'number': 8, 'created': '2018-05-08 17:12:37.000000000', 'files': ['test-environments/worker-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b6c66eedb2931f84581dd6124fbeb97f88c02d7a', 'message': ""WIP: Disable properly services api_cfn and api_cloudwatch.\n\nThe worker-config.yaml environment file is widely used in CI jobs,\nincluding the upgrade/update ones. Disabling the services api_cfn\nand api_cloudwatch in the way it was done, setting ::enabled to false\nends up conflicting with the upgrading process as the service is\nnot started but the TripleO is not really conscious that the service\nis disabled as the variable 'service_name'_enabled remains true.\n\nSpecify default values for metadata handling as heat-api-cfn and\nheat-api-cloudwatch services are disabled.\n\nDepends-On: I7257f79af764cddc16423826143b0d8babfe54e7\nDepends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb\nPartial-Bug: #1715083\nChange-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383\n""}]",0,499182,b6c66eedb2931f84581dd6124fbeb97f88c02d7a,55,5,8,26343,,,0,"WIP: Disable properly services api_cfn and api_cloudwatch.

The worker-config.yaml environment file is widely used in CI jobs,
including the upgrade/update ones. Disabling the services api_cfn
and api_cloudwatch in the way it was done, setting ::enabled to false
ends up conflicting with the upgrading process as the service is
not started but the TripleO is not really conscious that the service
is disabled as the variable 'service_name'_enabled remains true.

Specify default values for metadata handling as heat-api-cfn and
heat-api-cloudwatch services are disabled.

Depends-On: I7257f79af764cddc16423826143b0d8babfe54e7
Depends-On: I0536b5efd0e1389b05ffdd29acf75f1fa748babb
Partial-Bug: #1715083
Change-Id: I0a0e30836b2f8dfed1d7455984431ad876a6a383
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/499182/8 && git format-patch -1 --stdout FETCH_HEAD,['test-environments/worker-config.yaml'],1,4d8ccd33f52e71bfb8467f83f48bebf9f6f3492e,bug/1715083,resource_registry: OS::TripleO::Services::HeatApi: OS::Heat::None OS::TripleO::Services::HeatApiCfn: OS::Heat::None ,,4,0
openstack%2Fkolla~master~I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa,openstack/kolla,master,I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa,Make SKIPPED_IMAGES more flexible,MERGED,2019-06-13 11:56:13.000000000,2019-06-25 08:29:16.000000000,2019-06-25 08:29:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-13 11:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4ab4ca32f2ea2ce2e8feda4f318bf256216bad6', 'message': 'Make SKIPPED_IMAGES more flexible\n\nWith introduction of new architectures, it seems reasonable to allow\nskipping of images based on their architecture.\nAdditionally, the existing framework had unneccessary duplication.\nThis commit makes the feature more flexible and cleaner.\nExisting skips have been programmatically rewritten.\n\nChange-Id: I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-13 14:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41f28170a5601567bdd2943535efe9e77e8a0f14', 'message': 'Make SKIPPED_IMAGES more flexible\n\nWith introduction of new architectures, it seems reasonable to allow\nskipping of images based on their architecture.\nAdditionally, the existing framework had unneccessary duplication.\nThis commit makes the feature more flexible and cleaner.\nExisting skips have been programmatically rewritten.\n\nChange-Id: I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-19 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf4ae0f8fed95a5c8bfd5b2107eaff994ecc8f6d', 'message': 'Make SKIPPED_IMAGES more flexible\n\nWith introduction of new architectures, it seems reasonable to allow\nskipping of images based on their architecture.\nAdditionally, the existing framework had unneccessary duplication.\nThis commit makes the feature more flexible and cleaner.\nExisting skips have been programmatically rewritten.\n\nChange-Id: I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-06-19 17:52:49.000000000', 'files': ['kolla/image/build.py', 'releasenotes/notes/more-flexible-image-skipping-8e1320ed78976026.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/be54999eb14b7d3fb83fc4515b0e61645b217105', 'message': 'Make SKIPPED_IMAGES more flexible\n\nWith introduction of new architectures, it seems reasonable to allow\nskipping of images based on their architecture.\nAdditionally, the existing framework had unneccessary duplication.\nThis commit makes the feature more flexible and cleaner.\nExisting skips have been programmatically rewritten.\n\nChange-Id: I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",6,665116,be54999eb14b7d3fb83fc4515b0e61645b217105,26,6,4,30491,,,0,"Make SKIPPED_IMAGES more flexible

With introduction of new architectures, it seems reasonable to allow
skipping of images based on their architecture.
Additionally, the existing framework had unneccessary duplication.
This commit makes the feature more flexible and cleaner.
Existing skips have been programmatically rewritten.

Change-Id: I34c002a0ee605ca121d9d923b256e4fe1ea3d9aa
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/665116/3 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'releasenotes/notes/more-flexible-image-skipping-8e1320ed78976026.yaml']",2,f4ab4ca32f2ea2ce2e8feda4f318bf256216bad6,more-flexible-image-skipping,"--- features: - | Kolla skipped images feature is now more flexible, allowing filtering based on used image distribution, installation type and processor architecture. ",,53,85
openstack%2Fkeystone~master~Ia65b6e89684c1e340bb066955f0ccbc8923e5477,openstack/keystone,master,Ia65b6e89684c1e340bb066955f0ccbc8923e5477,Modify the url of upper_constraints_file,ABANDONED,2019-06-18 06:25:40.000000000,2019-06-25 07:57:31.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-18 06:25:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd2cd27e4c0d94b4f8498a02b069d2aeb207df1e', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ia65b6e89684c1e340bb066955f0ccbc8923e5477\n'}]",0,665873,dd2cd27e4c0d94b4f8498a02b069d2aeb207df1e,5,3,1,28239,,,0,"Modify the url of upper_constraints_file

Depends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ia65b6e89684c1e340bb066955f0ccbc8923e5477
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/665873/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dd2cd27e4c0d94b4f8498a02b069d2aeb207df1e,modify-upper-constraints-file,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Ftricircle~master~I1b6eeab827019a3ac3fc7373e6288cf4467a002a,openstack/tricircle,master,I1b6eeab827019a3ac3fc7373e6288cf4467a002a,SecurityGroupRule can not pass as Neutron/c/660174/,MERGED,2019-06-25 03:57:17.000000000,2019-06-25 07:55:13.000000000,2019-06-25 07:55:13.000000000,"[{'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-06-25 03:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c44d1afd8508e32a40148241b9819847bb682066', 'message': 'SecurityGroupRule can not pass as Neutron/c/660174/\n\nNeutron master submit https://review.opendev.org/#/c/660174/\nwhile this result SecurityGroupRule can not pass bug\nThis patch is to avoid the problem\n\nChange-Id: I1b6eeab827019a3ac3fc7373e6288cf4467a002a\nsigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nco-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 2, 'created': '2019-06-25 03:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/69a91ac22415cb253b9d2e48ab81186fdfea5e48', 'message': 'SecurityGroupRule can not pass as Neutron/c/660174/\n\nNeutron master submit https://review.opendev.org/#/c/660174/\nwhile this result SecurityGroupRule can not pass bug\nThis patch is to avoid the problem\n\nChange-Id: I1b6eeab827019a3ac3fc7373e6288cf4467a002a\nsigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nco-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 3, 'created': '2019-06-25 05:18:46.000000000', 'files': ['tricircle/tests/functional/api/controllers/test_job.py', 'tricircle/tests/functional/api/controllers/test_pod.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/db/core.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1cc14e53ae6297dd298bae6d90815f7052240875', 'message': 'SecurityGroupRule can not pass as Neutron/c/660174/\n\nNeutron master submit https://review.opendev.org/#/c/660174/\nwhile this result SecurityGroupRule can not pass bug\nThis patch is to avoid the problem\n\nChange-Id: I1b6eeab827019a3ac3fc7373e6288cf4467a002a\nsigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nco-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}]",0,667262,1cc14e53ae6297dd298bae6d90815f7052240875,9,2,3,28071,,,0,"SecurityGroupRule can not pass as Neutron/c/660174/

Neutron master submit https://review.opendev.org/#/c/660174/
while this result SecurityGroupRule can not pass bug
This patch is to avoid the problem

Change-Id: I1b6eeab827019a3ac3fc7373e6288cf4467a002a
signed-off-by: zhangchi <zhangchi@szzt.com.cn>
co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/62/667262/2 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/tests/functional/api/controllers/test_job.py', 'tricircle/tests/functional/api/controllers/test_pod.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/db/core.py']",4,c44d1afd8508e32a40148241b9819847bb682066,, connection='sqlite://'), connection='sqlite:///:memory:'),5,96
openstack%2Fironic~master~I3ac6fbd58f38bf21e97143165e501dce42fb6541,openstack/ironic,master,I3ac6fbd58f38bf21e97143165e501dce42fb6541,Add Error Codes to ironic api references,ABANDONED,2017-03-24 08:52:48.000000000,2019-06-25 07:47:21.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 9610}, {'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 13295}, {'_account_id': 14629}, {'_account_id': 17788}, {'_account_id': 17814}, {'_account_id': 19339}, {'_account_id': 23433}, {'_account_id': 24828}, {'_account_id': 25225}]","[{'number': 1, 'created': '2017-03-24 08:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e4f1b76c5ef28a79b21e1f42e2a0abe0c2ddc0b', 'message': 'Add Error Codes to ironic api references,include nodes,nodes-management,node-passthru and chassis\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 2, 'created': '2017-03-24 09:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/062b171f5f848b9fbe29ac0009ba7b893cee1f6c', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 3, 'created': '2017-03-25 02:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e20f0c6eb26e9d86599e5444acc53e514e16ccb9', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 4, 'created': '2017-03-25 03:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f46eefce00ae772c13630e8a134113e9d012ae48', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problem.\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 5, 'created': '2017-03-25 03:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f33d2cdc026603fb5a7c88e4ef633ca9eed10f8', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problems.\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 6, 'created': '2017-03-25 03:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a921fb0af9350ca827dd62f7ba9a0a830c7698e', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problem.\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 7, 'created': '2017-03-28 05:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/52079c93306c4cb134fa1715cfc97427d61bcfdb', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problem.\n\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 8, 'created': '2017-03-28 06:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c7536913bd0245137a989ecccd2a5745f49cb32', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problem.\n\nCo-Authored-By: hnyang <hnyang@fiberhome.com>\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}, {'number': 9, 'created': '2017-03-29 12:06:38.000000000', 'files': ['api-ref/source/baremetal-api-v1-node-management.inc', 'api-ref/source/baremetal-api-v1-nodes.inc', 'api-ref/source/baremetal-api-v1-node-passthru.inc', 'api-ref/source/baremetal-api-v1-chassis.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/841088a60e8c073b6a849fbf8d071d221d4f185a', 'message': 'Add Error Codes to ironic api references\n\ninclude nodes,nodes-management,node-passthru and chassis\n\nadd more error code to those files that listed above.\n\nfix the format problem.\n\nCo-Authored-By: hnyang <hnyang@fiberhome.com>\nChange-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541\n'}]",7,449495,841088a60e8c073b6a849fbf8d071d221d4f185a,36,14,9,17788,,,0,"Add Error Codes to ironic api references

include nodes,nodes-management,node-passthru and chassis

add more error code to those files that listed above.

fix the format problem.

Co-Authored-By: hnyang <hnyang@fiberhome.com>
Change-Id: I3ac6fbd58f38bf21e97143165e501dce42fb6541
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/449495/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/baremetal-api-v1-node-management.inc', 'api-ref/source/baremetal-api-v1-nodes.inc', 'api-ref/source/baremetal-api-v1-node-passthru.inc', 'api-ref/source/baremetal-api-v1-chassis.inc']",4,4e4f1b76c5ef28a79b21e1f42e2a0abe0c2ddc0b,449495,Error codes: - 500 (OperationalError) - 400 (InvalidInput)Error codes: - 500 (OperationalError) - 400 (InvalidInput)Error codes: - 500 (OperationalError) - 400 (InvalidInput)Error codes: - 500 (OperationalError) - 400 (InvalidInput)Error codes: - 500 (OperationalError),.. TODO: add error codes.. TODO: add error codes.. TODO: add error codes.. TODO: add error codes.. TODO: add error codes,47,16
openstack%2Fcyborg-tempest-plugin~master~Ieee7782035b1c16a118aea4c42f0cca1e4321a1e,openstack/cyborg-tempest-plugin,master,Ieee7782035b1c16a118aea4c42f0cca1e4321a1e,Add gate  job for cyborg-tempest-plugin,ABANDONED,2019-06-25 07:02:47.000000000,2019-06-25 07:42:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-25 07:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/45112195cbd639f39b2eefcce6e34f6fc88148f1', 'message': 'Add check job for cyborg-tempest-plugin\n\nChange-Id: Ieee7782035b1c16a118aea4c42f0cca1e4321a1e\n'}, {'number': 2, 'created': '2019-06-25 07:21:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/55ee5757b63810932f247888c56b2484701e35d3', 'message': 'Add gate  job for cyborg-tempest-plugin\n\nChange-Id: Ieee7782035b1c16a118aea4c42f0cca1e4321a1e\n'}]",0,667276,55ee5757b63810932f247888c56b2484701e35d3,4,1,2,14107,,,0,"Add gate  job for cyborg-tempest-plugin

Change-Id: Ieee7782035b1c16a118aea4c42f0cca1e4321a1e
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/76/667276/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45112195cbd639f39b2eefcce6e34f6fc88148f1,,- project: templates: - check-requirements - tempest-plugin-jobs gate: queue: cyborg ,,6,0
openstack%2Fdevstack~stable%2Fstein~I87929fd4e27f6a76fe5c976de8f2ceb7e355f169,openstack/devstack,stable/stein,I87929fd4e27f6a76fe5c976de8f2ceb7e355f169,"Cap stein network, swift, volume api_extensions for tempest",MERGED,2019-05-30 17:42:40.000000000,2019-06-25 07:26:34.000000000,2019-06-22 11:21:13.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 17:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5947d17259160ccfbc767634ccf9c88c9c4ea6a6', 'message': ""Cap stein network, swift, volume api_extensions for tempest\n\nThis commit cap the network, volume and swift extensions on\nTempest's config option api_extensions.\n\nChange-Id: I87929fd4e27f6a76fe5c976de8f2ceb7e355f169\n""}, {'number': 2, 'created': '2019-06-21 16:55:19.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8f77b04fc1f530adfcf091af9db4dfe5ccd7bc95', 'message': ""Cap stein network, swift, volume api_extensions for tempest\n\nThis commit cap the network, volume and swift extensions on\nTempest's config option api_extensions.\n\nChange-Id: I87929fd4e27f6a76fe5c976de8f2ceb7e355f169\n""}]",0,662274,8f77b04fc1f530adfcf091af9db4dfe5ccd7bc95,21,4,2,8556,,,0,"Cap stein network, swift, volume api_extensions for tempest

This commit cap the network, volume and swift extensions on
Tempest's config option api_extensions.

Change-Id: I87929fd4e27f6a76fe5c976de8f2ceb7e355f169
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/662274/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,5947d17259160ccfbc767634ccf9c88c9c4ea6a6,cap-extensions," DEFAULT_NET_EXT=""address-scope,agent,allowed-address-pairs,auto-allocated-topology"" DEFAULT_NET_EXT+="",availability_zone,binding,default-subnetpools,dhcp_agent_scheduler"" DEFAULT_NET_EXT+="",dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors"" DEFAULT_NET_EXT+="",l3-flavors,l3-ha,l3_agent_scheduler,multi-provider,net-mtu"" DEFAULT_NET_EXT+="",network-ip-availability,network_availability_zone,pagination"" DEFAULT_NET_EXT+="",port-security,project-id,provider,quotas,quota_details,rbac-policies"" DEFAULT_NET_EXT+="",revision-if-match,router,router_availability_zone,security-group,service-type,sorting"" DEFAULT_NET_EXT+="",standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp"" DEFAULT_NET_EXT+="",subnet-service-types,subnet_allocation,net-mtu-writable,ip-substring-filtering"" DEFAULT_NET_EXT+="",availability_zone_filter,filter-validation,empty-string-filtering ,port-mac-address-regenerate"" DEFAULT_NET_EXT+="",port-security-groups-filtering,fip-port-details,binding-extended"" DEFAULT_NET_EXT+="",subnet_onboard,l3-port-ip-change-not-allowed,agent-resources-synced"" DEFAULT_NET_EXT+="",floatingip-pools,rbac-security-groups"" local network_api_extensions=${NETWORK_API_EXTENSIONS:-$DEFAULT_NET_EXT} DEFAULT_SWIFT_OPT=""account_quotas,bulk_delete,bulk_upload,container_quotas"" DEFAULT_SWIFT_OPT+="",container_sync,crossdomain,formpost,ratelimit,slo"" DEFAULT_SWIFT_OPT+="",staticweb,tempauth,tempurl,versioned_writes"" local object_storage_api_extensions=${OBJECT_STORAGE_API_EXTENSIONS:-$DEFAULT_SWIFT_OPT} DEFAULT_VOL_EXT=""OS-SCH-HNT,backups,capabilities,cgsnapshots,consistencygroups"" DEFAULT_VOL_EXT+="",encryption,os-admin-actions,os-availability-zone"" DEFAULT_VOL_EXT+="",os-extended-services,os-extended-snapshot-attributes"" DEFAULT_VOL_EXT+="",os-hosts,os-image-create,os-quota-class-sets,os-quota-sets"" DEFAULT_VOL_EXT+="",os-services,os-snapshot-actions,os-snapshot-manage"" DEFAULT_VOL_EXT+="",os-snapshot-unmanage,os-types-extra-specs,os-types-manage"" DEFAULT_VOL_EXT+="",os-used-limits,os-vol-host-attr,os-vol-image-meta"" DEFAULT_VOL_EXT+="",os-vol-mig-status-attr,os-vol-tenant-attr,os-volume-actions"" DEFAULT_VOL_EXT+="",os-volume-encryption-metadata,os-volume-manage"" DEFAULT_VOL_EXT+="",os-volume-transfer,os-volume-type-access"" DEFAULT_VOL_EXT+="",os-volume-unmanage,qos-specs,scheduler-stats"" local volume_api_extensions=${VOLUME_API_EXTENSIONS:-$DEFAULT_VOL_EXT}"," local network_api_extensions=${NETWORK_API_EXTENSIONS:-""all""} local object_storage_api_extensions=${OBJECT_STORAGE_API_EXTENSIONS:-""all""} local volume_api_extensions=${VOLUME_API_EXTENSIONS:-""all""}",30,3
openstack%2Ftripleo-specs~master~I2c883e8aa07483112f7f950e529e7eaa30584dc0,openstack/tripleo-specs,master,I2c883e8aa07483112f7f950e529e7eaa30584dc0,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-04-23 05:05:00.000000000,2019-06-25 06:54:01.000000000,,"[{'_account_id': 14985}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-04-23 05:05:00.000000000', 'files': ['specs/stein/ostempest-tripleo.rst', 'specs/juno/unit-testing.rst', 'specs/ocata/validations-in-workflows.rst', 'README.rst', 'specs/juno/tripleo-juno-deploy-cloud-hypervisor-type.rst', 'specs/juno/network_configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/706f80d45aac45a5671ab79a069eb4534346bca5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I2c883e8aa07483112f7f950e529e7eaa30584dc0\n'}]",6,654709,706f80d45aac45a5671ab79a069eb4534346bca5,10,8,1,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I2c883e8aa07483112f7f950e529e7eaa30584dc0
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/09/654709/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/stein/ostempest-tripleo.rst', 'specs/juno/unit-testing.rst', 'specs/ocata/validations-in-workflows.rst', 'README.rst', 'specs/juno/tripleo-juno-deploy-cloud-hypervisor-type.rst', 'specs/juno/network_configuration.rst']",6,706f80d45aac45a5671ab79a069eb4534346bca5,, * ensure-bridge: http://opendev.org/openstack/tripleo-image-elements/tree/elements/network-utils/bin/ensure-bridge * init-neutron-ovs: http://opendev.org/openstack/tripleo-image-elements/tree/elements/neutron-openvswitch-agent/bin/init-neutron-ovs, * ensure-bridge: http://git.openstack.org/cgit/openstack/tripleo-image-elements/tree/elements/network-utils/bin/ensure-bridge * init-neutron-ovs: http://git.openstack.org/cgit/openstack/tripleo-image-elements/tree/elements/neutron-openvswitch-agent/bin/init-neutron-ovs,7,7
openstack%2Fproject-config~master~I4373246dae5daceb7fe6e746bb18f1804a0a7c42,openstack/project-config,master,I4373246dae5daceb7fe6e746bb18f1804a0a7c42,Normalize projects.yaml,MERGED,2019-06-25 06:08:04.000000000,2019-06-25 06:35:25.000000000,2019-06-25 06:35:25.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 06:08:04.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0216bbf7385bf505e829c8fb0ba4f20461818fdc', 'message': 'Normalize projects.yaml\n\nChange-Id: I4373246dae5daceb7fe6e746bb18f1804a0a7c42\n'}]",0,667268,0216bbf7385bf505e829c8fb0ba4f20461818fdc,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I4373246dae5daceb7fe6e746bb18f1804a0a7c42
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/667268/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,0216bbf7385bf505e829c8fb0ba4f20461818fdc,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-octavia-diskimage-retrofit.git,0,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4df5a0492939cdd5f80ef5f34de068ff735b6e37,openstack/tripleo-heat-templates,stable/queens,I4df5a0492939cdd5f80ef5f34de068ff735b6e37,"Revert ""ceilometer_agent_notification: disable-panko.yaml""",MERGED,2019-06-18 17:43:36.000000000,2019-06-25 04:54:36.000000000,2019-06-25 04:54:36.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 17:43:36.000000000', 'files': ['docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e3ce093d38a7fb60c9dfc4b55c0badb3ca16331', 'message': 'Revert ""ceilometer_agent_notification: disable-panko.yaml""\n\nThis reverts commit 847ec663cc3af2c878cae5cd7acc575a9702f239.\n\nChange-Id: I4df5a0492939cdd5f80ef5f34de068ff735b6e37\n'}]",0,666079,8e3ce093d38a7fb60c9dfc4b55c0badb3ca16331,7,4,1,28504,,,0,"Revert ""ceilometer_agent_notification: disable-panko.yaml""

This reverts commit 847ec663cc3af2c878cae5cd7acc575a9702f239.

Change-Id: I4df5a0492939cdd5f80ef5f34de068ff735b6e37
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/666079/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-notification.yaml'],1,8e3ce093d38a7fb60c9dfc4b55c0badb3ca16331,bug/1824840, - '', - null,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I18054432ba0badac348ccdc3bb2ca404d3bc8cb7,openstack/tripleo-heat-templates,stable/rocky,I18054432ba0badac348ccdc3bb2ca404d3bc8cb7,"Revert ""ceilometer_agent_notification: disable-panko.yaml""",MERGED,2019-06-18 17:43:49.000000000,2019-06-25 04:54:33.000000000,2019-06-25 04:54:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-18 17:43:49.000000000', 'files': ['docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0107dc76bbc86c6f03fca4a9b32bffa56484a55c', 'message': 'Revert ""ceilometer_agent_notification: disable-panko.yaml""\n\nThis reverts commit 5203a4a8326b462226a3ac76a64b64164c8b27ca.\n\nChange-Id: I18054432ba0badac348ccdc3bb2ca404d3bc8cb7\n'}]",0,666080,0107dc76bbc86c6f03fca4a9b32bffa56484a55c,7,4,1,28504,,,0,"Revert ""ceilometer_agent_notification: disable-panko.yaml""

This reverts commit 5203a4a8326b462226a3ac76a64b64164c8b27ca.

Change-Id: I18054432ba0badac348ccdc3bb2ca404d3bc8cb7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/666080/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-notification.yaml'],1,0107dc76bbc86c6f03fca4a9b32bffa56484a55c,bug/1824840, - '', - null,1,1
openstack%2Fproject-config~master~Ifab77cc746e0187611eda98776715909e4819af8,openstack/project-config,master,Ifab77cc746e0187611eda98776715909e4819af8,New project request: airship/docs,MERGED,2019-06-18 23:05:40.000000000,2019-06-25 04:39:39.000000000,2019-06-25 04:39:39.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2019-06-18 23:05:40.000000000', 'files': ['gerrit/acls/airship/docs.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e32c2058380f8665987746d312d60993111d99e9', 'message': 'New project request: airship/docs\n\nThis adds a documentation project for Airship.  Currently, Airship\ndocumentation is scattered across a handful of non-obvious projects.\nAt the PTG it was decided to create a single, clear home for\nAirship-wide documentation as the project matures.\nExisting documentation will migrate to this project, and new docs\nwill be authored here, once the project is created.\n\nChange-Id: Ifab77cc746e0187611eda98776715909e4819af8\n'}]",0,666190,e32c2058380f8665987746d312d60993111d99e9,9,4,1,22477,,,0,"New project request: airship/docs

This adds a documentation project for Airship.  Currently, Airship
documentation is scattered across a handful of non-obvious projects.
At the PTG it was decided to create a single, clear home for
Airship-wide documentation as the project matures.
Existing documentation will migrate to this project, and new docs
will be authored here, once the project is created.

Change-Id: Ifab77cc746e0187611eda98776715909e4819af8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/666190/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/airship/docs.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,e32c2058380f8665987746d312d60993111d99e9,new-project, - airship/docs,,22,0
openstack%2Fadjutant~master~I78f80c461f39ff2be0b0dec01fcc052a8d09766e,openstack/adjutant,master,I78f80c461f39ff2be0b0dec01fcc052a8d09766e,Move task handling to manager,ABANDONED,2018-04-04 00:43:18.000000000,2019-06-25 04:21:04.000000000,,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-04 00:43:18.000000000', 'files': ['doc/source/plugins.rst', 'adjutant/api/v1/manager.py', 'adjutant/api/v1/openstack.py', 'adjutant/api/v1/utils.py', 'adjutant/api/v1/tasks.py', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/api/v1/views.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/a30705962d610fb149c15199449b96df79f764ad', 'message': 'Move task handling to manager\n\n* First in a step of refactoring task handling\n* Introduces a central handler for most task life cycle operations\n  (cancel is left out)\n* Calling self.process_actions is now deprecated, call\n  self.task_manager.process_inital_request instead\n* Slight API changes:\n  * Notifications will now contain task.task_type rather than\n    using the taskview class name\n  * Token submission response is now ""Task completed successfully""\n* Auto-approval and duplication checking is now in place for task\n  updates\n\nChange-Id: I78f80c461f39ff2be0b0dec01fcc052a8d09766e\n'}]",0,558658,a30705962d610fb149c15199449b96df79f764ad,3,2,1,26263,,,0,"Move task handling to manager

* First in a step of refactoring task handling
* Introduces a central handler for most task life cycle operations
  (cancel is left out)
* Calling self.process_actions is now deprecated, call
  self.task_manager.process_inital_request instead
* Slight API changes:
  * Notifications will now contain task.task_type rather than
    using the taskview class name
  * Token submission response is now ""Task completed successfully""
* Auto-approval and duplication checking is now in place for task
  updates

Change-Id: I78f80c461f39ff2be0b0dec01fcc052a8d09766e
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/58/558658/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugins.rst', 'adjutant/api/v1/manager.py', 'adjutant/api/v1/openstack.py', 'adjutant/api/v1/utils.py', 'adjutant/api/v1/tasks.py', 'adjutant/api/v1/tests/test_api_admin.py', 'adjutant/api/v1/views.py']",7,a30705962d610fb149c15199449b96df79f764ad,new/task_refactor2,"from adjutant.api.v1.utils import parse_filters from adjutant.api.v1.manager import TaskManager self.task_manager = TaskManager() processed, status = self.task_manager.update_pre_approve(request, task) if status == 200: return Response({""notes"": [""Task successfully updated.""]}, status=status) return Response(processed, status=status) return Response(*self.task_manager.approve(request, task)) token_list = [token.to_dict() for token in tokens] try: self.task_manager.stage_email(task, 'token') except KeyError as e: return self._handle_task_error(e, task, ""sending token"") return Response(*self.task_manager.submit(request.data, token=token))","from django.conf import settingsfrom adjutant.api.v1.utils import ( create_notification, create_token, parse_filters, send_stage_email) act_list = [] valid = True for action in task.actions: action_serializer = settings.ACTION_CLASSES[action.action_name][1] if action_serializer is not None: serializer = action_serializer(data=request.data) else: serializer = None act_list.append({ 'name': action.action_name, 'action': action, 'serializer': serializer}) if serializer is not None and not serializer.is_valid(): valid = False if valid: for act in act_list: if act['serializer'] is not None: data = act['serializer'].validated_data else: data = {} act['action'].action_data = data act['action'].save() try: act['action'].get_action().pre_approve() except Exception as e: notes = { 'errors': [(""Error: '%s' while updating task. "" + ""See task itself for details."") % e], 'task': task.uuid } create_notification(task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped! %s\n"" + ""Trace: \n%s"") % (timezone.now(), e, trace)) response_dict = { 'errors': [""Error: Something went wrong on the server. "" + ""It will be looked into shortly.""] } return Response(response_dict, status=500) return Response( {'notes': [""Task successfully updated.""]}, status=200) else: errors = {} for act in act_list: if act['serializer'] is not None: errors.update(act['serializer'].errors) return Response({'errors': errors}, status=400) need_token = False valid = True actions = [] for action in task.actions: act_model = action.get_action() actions.append(act_model) try: act_model.post_approve() except Exception as e: notes = { 'errors': [(""Error: '%s' while approving task. "" + ""See task itself for details."") % e], 'task': task.uuid } create_notification(task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped! %s\n"" + ""Trace: \n%s"") % (timezone.now(), e, trace)) return Response(notes, status=500) if not action.valid: valid = False if action.need_token: need_token = True if valid: if need_token: token = create_token(task) try: class_conf = settings.TASK_SETTINGS.get( task.task_type, settings.DEFAULT_TASK_SETTINGS) # will throw a key error if the token template has not # been specified email_conf = class_conf['emails']['token'] send_stage_email(task, email_conf, token) return Response({'notes': ['created token']}, status=200) except KeyError as e: notes = { 'errors': [(""Error: '%s' while sending "" + ""token. See task "" + ""itself for details."") % e], 'task': task.uuid } create_notification(task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped!"" + "" %s\n Trace: \n%s"") % (timezone.now(), e, trace)) response_dict = { 'errors': [""Error: Something went wrong on the "" + ""server. It will be looked into shortly.""] } return Response(response_dict, status=500) else: for action in actions: try: action.submit({}) except Exception as e: notes = { 'errors': [(""Error: '%s' while submitting "" + ""task. See task "" + ""itself for details."") % e], 'task': task.uuid } create_notification(task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped!"" + "" %s\n Trace: \n%s"") % (timezone.now(), e, trace)) return Response(notes, status=500) task.completed = True task.completed_on = timezone.now() task.save() # Sending confirmation email: class_conf = settings.TASK_SETTINGS.get( task.task_type, settings.DEFAULT_TASK_SETTINGS) email_conf = class_conf.get( 'emails', {}).get('completed', None) send_stage_email(task, email_conf) return Response( {'notes': [""Task completed successfully.""]}, status=200) return Response({'errors': ['actions invalid']}, status=400) token_list = [] for token in tokens: token_list.append(token.to_dict()) token = create_token(task) try: class_conf = settings.TASK_SETTINGS.get( task.task_type, settings.DEFAULT_TASK_SETTINGS) # will throw a key error if the token template has not # been specified email_conf = class_conf['emails']['token'] send_stage_email(task, email_conf, token) except KeyError as e: notes = { 'errors': [ (""Error: '%(error)s' while sending token. "" + ""See registration itself for details."") % {'error': e} ], 'task': task.uuid } create_notification(task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped!"" + "" %s\n Trace: \n%s"") % (timezone.now(), e, trace)) response_dict = { 'errors': [""Error: Something went wrong on the "" + ""server. It will be looked into shortly.""] } return Response(response_dict, status=500) required_fields = set() actions = [] for action in token.task.actions: a = action.get_action() actions.append(a) for field in a.token_fields: required_fields.add(field) errors = {} data = {} for field in required_fields: try: data[field] = request.data[field] except KeyError: errors[field] = [""This field is required."", ] except TypeError: errors = [""Improperly formated json. "" + ""Should be a key-value object."", ] break if errors: return Response({""errors"": errors}, status=400) valid = True for action in actions: try: action.submit(data) if not action.valid: valid = False except Exception as e: notes = { 'errors': [(""Error: '%s' while submitting task. "" + ""See task itself for details."") % e], 'task': token.task.uuid } create_notification(token.task, notes, error=True) import traceback trace = traceback.format_exc() self.logger.critical((""(%s) - Exception escaped! %s\n"" + ""Trace: \n%s"") % (timezone.now(), e, trace)) response_dict = { 'errors': [""Error: Something went wrong on the server. "" + ""It will be looked into shortly.""] } return Response(response_dict, status=500) if not valid: return Response({""errors"": [""Actions invalid""]}, status=400) token.task.completed = True token.task.completed_on = timezone.now() token.task.save() token.delete() # Sending confirmation email: class_conf = settings.TASK_SETTINGS.get( token.task.task_type, settings.DEFAULT_TASK_SETTINGS) email_conf = class_conf.get( 'emails', {}).get('completed', None) send_stage_email(token.task, email_conf) return Response( {'notes': [""Token submitted successfully.""]}, status=200)",419,624
openstack%2Fswift~master~I16ca1589abcea2bca942da7e97719286a8961ea6,openstack/swift,master,I16ca1589abcea2bca942da7e97719286a8961ea6,Don't handle object without container,MERGED,2019-06-24 21:58:46.000000000,2019-06-25 03:56:10.000000000,2019-06-25 03:55:00.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 21:58:46.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/82169ead1cc1c60318507fc3f0fbd7deff0f15e9', 'message': ""Don't handle object without container\n\nCloses-Bug: #1833616\n\nChange-Id: I16ca1589abcea2bca942da7e97719286a8961ea6\n""}]",3,667235,82169ead1cc1c60318507fc3f0fbd7deff0f15e9,8,3,1,1179,,,0,"Don't handle object without container

Closes-Bug: #1833616

Change-Id: I16ca1589abcea2bca942da7e97719286a8961ea6
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/667235/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",3,82169ead1cc1c60318507fc3f0fbd7deff0f15e9,bug/1833616," info = headers_to_container_info({}, 503) info = headers_to_account_info({}, 503)"," info = headers_to_container_info({}, 0) info = headers_to_account_info({}, 0)",113,2
openstack%2Fnova~stable%2Fqueens~I9bec28c73522aa050b0b86dc30e466778d63009b,openstack/nova,stable/queens,I9bec28c73522aa050b0b86dc30e466778d63009b,Suppot paginaton for server groups by sql,ABANDONED,2019-06-21 07:48:33.000000000,2019-06-25 03:41:36.000000000,,"[{'_account_id': 9708}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-21 07:48:33.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/objects/instance_group.py', 'nova/api/openstack/compute/server_groups.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f50ef3c374969db8e1498e080cffe4fb72677d8a', 'message': 'Suppot paginaton for server groups by sql\n\nChange-Id: I9bec28c73522aa050b0b86dc30e466778d63009b\n'}]",0,666782,f50ef3c374969db8e1498e080cffe4fb72677d8a,9,7,1,30597,,,0,"Suppot paginaton for server groups by sql

Change-Id: I9bec28c73522aa050b0b86dc30e466778d63009b
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/666782/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/test_server_groups.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/objects/instance_group.py', 'nova/api/openstack/compute/server_groups.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py']",7,f50ef3c374969db8e1498e080cffe4fb72677d8a,,"def _instance_group_get_query_paged(context, model_class, id_field=None, id=None, read_deleted=None, project_id=None, offset=None, limit=None): query = _instance_group_get_query(context, model_class, id_field, id, read_deleted) if project_id is not None: query = query.filter_by(project_id=project_id) if offset is not None: query = query.offset(offset) if limit is not None: query = query.limit(limit) return query def instance_group_get_all(context, offset=None, limit=None): """"""Get all groups paged."""""" return _instance_group_get_query_paged(context, models.InstanceGroup, offset=offset, limit=limit).all()def instance_group_get_all_by_project_id(context, project_id, offset=None, limit=None): """"""Get all groups paged by project id."""""" return _instance_group_get_query_paged(context, models.InstanceGroup, project_id=project_id, offset=offset, limit=limit).all()","def instance_group_get_all(context): """"""Get all groups."""""" return _instance_group_get_query(context, models.InstanceGroup).all()def instance_group_get_all_by_project_id(context, project_id): """"""Get all groups."""""" return _instance_group_get_query(context, models.InstanceGroup).\ filter_by(project_id=project_id).\ all()",108,31
openstack%2Fironic~master~Ie26ddb09fda063cd91890fa7644624f2277a4dab,openstack/ironic,master,Ie26ddb09fda063cd91890fa7644624f2277a4dab,[Trivial] Software RAID: Documentation edits,MERGED,2019-06-24 07:01:00.000000000,2019-06-25 03:32:52.000000000,2019-06-25 03:32:52.000000000,"[{'_account_id': 8580}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-24 07:01:00.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c908374edcc2a268f18c0f766cf58066b7b15738', 'message': ""[Trivial] Software RAID: Documentation edits\n\nHighlight 'software' as the value for controller when defining RAID\nproperties and remove a redundant word.\n\nChange-Id: Ie26ddb09fda063cd91890fa7644624f2277a4dab\n""}]",0,667026,c908374edcc2a268f18c0f766cf58066b7b15738,10,6,1,11292,,,0,"[Trivial] Software RAID: Documentation edits

Highlight 'software' as the value for controller when defining RAID
properties and remove a redundant word.

Change-Id: Ie26ddb09fda063cd91890fa7644624f2277a4dab
",git fetch https://review.opendev.org/openstack/ironic refs/changes/26/667026/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,c908374edcc2a268f18c0f766cf58066b7b15738,software_raid_docs," Agent, the value of this property needs to be set to ``software``.Limitations of Software RAID ============================"," Agent, the value of this property needs to be set to ""software"".Current Limitations of Software RAID ====================================",3,3
openstack%2Fopenstack-helm-infra~master~Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2,openstack/openstack-helm-infra,master,Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2,Open openvswitch_db_server port 6640 to interact with SDN controller,MERGED,2019-05-23 02:19:46.000000000,2019-06-25 03:28:06.000000000,2019-06-25 03:28:06.000000000,"[{'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 21892}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25062}, {'_account_id': 25575}, {'_account_id': 26288}, {'_account_id': 28180}]","[{'number': 1, 'created': '2019-05-23 02:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/46ea8888a53f695511fb3a46792751679ce57657', 'message': 'Open openvswitch_db_server port 6640 to interact with SDN controller\n\nThis change allows the openvswitch to interact with SDN controller\n(e.g., ONOS, ODL) through 6640 port.\n\nChange-Id: Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2\n'}, {'number': 2, 'created': '2019-05-23 06:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1bb3d2f64352a83f944ffbbc0dd6847a0997b07e', 'message': 'Open openvswitch_db_server port 6640 to interact with SDN controller\n\nThis change allows the openvswitch to interact with SDN controller\n(e.g., ONOS, ODL) through 6640 port.\n\nStory: 2005763\nTask: 33473\n\nChange-Id: Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2\n'}, {'number': 3, 'created': '2019-06-21 10:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5d0fa188b8831418e39e60b1a47e2720e831462', 'message': 'Open openvswitch_db_server port 6640 to interact with SDN controller\n\nThis change allows the openvswitch to interact with SDN controller\n(e.g., ONOS, ODL) through 6640 port.\n\nStory: 2005763\nTask: 33473\n\nChange-Id: Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2\n'}, {'number': 4, 'created': '2019-06-24 00:33:18.000000000', 'files': ['openvswitch/values.yaml', 'openvswitch/templates/bin/_openvswitch-db-server.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0146cf98babfe25648532ac1514e04ba5c7e755f', 'message': 'Open openvswitch_db_server port 6640 to interact with SDN controller\n\nThis change allows the openvswitch to interact with SDN controller\n(e.g., ONOS, ODL) through 6640 port.\n\nStory: 2005763\nTask: 33473\n\nChange-Id: Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2\n'}]",1,660866,0146cf98babfe25648532ac1514e04ba5c7e755f,18,9,4,28180,,,0,"Open openvswitch_db_server port 6640 to interact with SDN controller

This change allows the openvswitch to interact with SDN controller
(e.g., ONOS, ODL) through 6640 port.

Story: 2005763
Task: 33473

Change-Id: Ifcbb6a157c230fa729d295ef0d3fb9a16fff60a2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/660866/3 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/values.yaml', 'openvswitch/templates/bin/_openvswitch-db-server.sh.tpl']",2,46ea8888a53f695511fb3a46792751679ce57657,,{{- if .Values.conf.openvswitch_db_server.ptcp_port }} --remote=ptcp:{{ .Values.conf.openvswitch_db_server.ptcp_port }} \ {{- end }},,7,0
openstack%2Fopenstack-helm-infra~master~I060c6c3034fa798a131a053b9d496e5d8781c55d,openstack/openstack-helm-infra,master,I060c6c3034fa798a131a053b9d496e5d8781c55d,Remove fluent-loggin from network-policy,MERGED,2019-06-18 14:33:30.000000000,2019-06-25 03:28:05.000000000,2019-06-25 03:28:05.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-18 14:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/27fd7bf270c8cee4a08234d69f222333e4148248', 'message': 'Remove fluent-loggin from network-policy\n\nThis removes the old fluent-logging chart from network\npolicy and replaces it with the new fluentbit and fluentd\ncharts. This will return the network policy gate back to\npassing\n\nChange-Id: I060c6c3034fa798a131a053b9d496e5d8781c55d\n'}, {'number': 2, 'created': '2019-06-20 23:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/66a9602bf31a68223dd77f166ea68d498427b991', 'message': 'Remove fluent-loggin from network-policy\n\nThis removes the old fluent-logging chart from network\npolicy and replaces it with the new fluentbit and fluentd\ncharts. This will return the network policy gate back to\npassing\n\nChange-Id: I060c6c3034fa798a131a053b9d496e5d8781c55d\n'}, {'number': 3, 'created': '2019-06-21 15:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3576d5e5af0aecd15bbc8fd8c66a8f9cab74b46e', 'message': 'Remove fluent-loggin from network-policy\n\nThis removes the old fluent-logging chart from network\npolicy and replaces it with the new fluentbit and fluentd\ncharts. This will return the network policy gate back to\npassing\n\nChange-Id: I060c6c3034fa798a131a053b9d496e5d8781c55d\n'}, {'number': 4, 'created': '2019-06-24 16:14:05.000000000', 'files': ['tools/deployment/network-policy/130-fluent-logging.sh', 'tools/deployment/network-policy/135-fluentd-deployment.sh', 'tools/deployment/network-policy/125-fluentbit.sh', 'zuul.d/jobs.yaml', 'tools/deployment/network-policy/130-fluentd-daemonset.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d5af61b75173c6a1129ada2ba3d69df744909d1a', 'message': 'Remove fluent-loggin from network-policy\n\nThis removes the old fluent-logging chart from network\npolicy and replaces it with the new fluentbit and fluentd\ncharts. This will return the network policy gate back to\npassing\n\nChange-Id: I060c6c3034fa798a131a053b9d496e5d8781c55d\n'}]",0,665998,d5af61b75173c6a1129ada2ba3d69df744909d1a,17,4,4,28849,,,0,"Remove fluent-loggin from network-policy

This removes the old fluent-logging chart from network
policy and replaces it with the new fluentbit and fluentd
charts. This will return the network policy gate back to
passing

Change-Id: I060c6c3034fa798a131a053b9d496e5d8781c55d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/665998/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/network-policy/130-fluent-logging.sh', 'tools/deployment/network-policy/135-fluentd-deployment.sh', 'tools/deployment/network-policy/125-fluentbit.sh', 'zuul.d/jobs.yaml', 'tools/deployment/network-policy/130-fluentd-daemonset.sh']",5,27fd7bf270c8cee4a08234d69f222333e4148248,remove_fluent-logging,../common/fluentd-daemonset.sh,,6,175
openstack%2Fopenstack-helm-infra~master~Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d,openstack/openstack-helm-infra,master,Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d,Ingress: Update config to be compatible with k8s schema validation,MERGED,2019-06-18 21:26:17.000000000,2019-06-25 03:25:17.000000000,2019-06-25 03:25:17.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-18 21:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b0d9182027e1b8f30ba2e941210a4d1fe55197a', 'message': 'Ingress: Update config to be compatible with k8s schema validation\n\nThis PS updates the ingress controller configmap to be valid with\nk8s schema validation turned on.\n\nChange-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-21 19:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d1cd79dd26ab5f62a85e9dace419aa06a30727b6', 'message': 'Ingress: Update config to be compatible with k8s schema validation\n\nThis PS updates the ingress controller configmap to be valid with\nk8s schema validation turned on.\n\nChange-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-22 10:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82927d20852f578c4861d7bef6c3d561b99dd446', 'message': 'Ingress: Update config to be compatible with k8s schema validation\n\nThis PS updates the ingress controller configmap to be valid with\nk8s schema validation turned on.\n\nChange-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-22 13:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6bfe27aa093427fe851a267b5337db9ca9a9d9c', 'message': 'Ingress: Update config to be compatible with k8s schema validation\n\nThis PS updates the ingress controller configmap to be valid with\nk8s schema validation turned on.\n\nChange-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-24 23:54:23.000000000', 'files': ['ingress/templates/configmap-conf.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d60fe161a55ebc41127bed7c072f6c12308602bb', 'message': 'Ingress: Update config to be compatible with k8s schema validation\n\nThis PS updates the ingress controller configmap to be valid with\nk8s schema validation turned on.\n\nChange-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,666173,d60fe161a55ebc41127bed7c072f6c12308602bb,25,4,5,23928,,,0,"Ingress: Update config to be compatible with k8s schema validation

This PS updates the ingress controller configmap to be valid with
k8s schema validation turned on.

Change-Id: Ibbc82be62398ee63eb353aa58f1ebdf98e66b30d
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/666173/1 && git format-patch -1 --stdout FETCH_HEAD,['ingress/templates/configmap-conf.yaml'],1,5b0d9182027e1b8f30ba2e941210a4d1fe55197a,ingress-k8s-13,"{{- else -}} {{- if empty (index .Values.conf.ingress ""bind-address"") -}} {{- $_ := unset .Values.conf.ingress ""bind-address"" }} {{- end -}}",,4,0
openstack%2Fnetworking-ovn~master~Ieb3ed3cd30e0ec509625fc5ff618a94b2e055442,openstack/networking-ovn,master,Ieb3ed3cd30e0ec509625fc5ff618a94b2e055442,Fix discription error of loadbalanceir,ABANDONED,2019-06-25 03:04:20.000000000,2019-06-25 03:14:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-25 03:04:20.000000000', 'files': ['doc/source/contributor/design/loadbalancer.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7975e87bce8f78978bacf5328327078ed533d276', 'message': 'Fix discription error of loadbalanceir\n\nThe NorthBound DB is updated till a member is added to the\nLoadBalancer\n\nChange-Id: Ieb3ed3cd30e0ec509625fc5ff618a94b2e055442\n'}]",0,667255,7975e87bce8f78978bacf5328327078ed533d276,3,1,1,29874,,,0,"Fix discription error of loadbalanceir

The NorthBound DB is updated till a member is added to the
LoadBalancer

Change-Id: Ieb3ed3cd30e0ec509625fc5ff618a94b2e055442
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/55/667255/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/design/loadbalancer.rst'],1,7975e87bce8f78978bacf5328327078ed533d276,,in the NorthBound DB until the Members are associated with the NorthBound DB till a member is added to the LoadBalancer.,in the NorthBound DB until the Members are not associated with the NorthBound DB till a member is not added to the LoadBalancer.,2,2
openstack%2Fneutron~master~I8f1de4a31f97bab734a33f94c3069444defd870f,openstack/neutron,master,I8f1de4a31f97bab734a33f94c3069444defd870f,Read IP monitor changes in a parallel thread,MERGED,2019-06-12 13:17:28.000000000,2019-06-25 02:25:16.000000000,2019-06-25 02:25:16.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 30412}]","[{'number': 1, 'created': '2019-06-12 13:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12e6e6d5a6e8fb65b068ade0e5f67a066e23b97c', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}, {'number': 2, 'created': '2019-06-12 13:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf656e54add730e85d50f49c28e8484381d1dde', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}, {'number': 3, 'created': '2019-06-13 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f0515fdefced5b982753905ae978216124381e1', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}, {'number': 4, 'created': '2019-06-14 08:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f206520a432b37b57ebf2f220a33f43b259c7f55', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}, {'number': 5, 'created': '2019-06-17 13:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1492706ad9d2d107fd20adbf5d6570d5ff2a38e', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}, {'number': 6, 'created': '2019-06-18 08:39:34.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a20f4c08c421da2e2d0341d03d71654a82d87a21', 'message': 'Read IP monitor changes in a parallel thread\n\nIn order to capture all IP address changes, the method reading the\nnetlink socket will be executed in a parallel thread. Once the\n""ip_monitor"" method is stopped, this blocking thread will be killed.\n\nA new functional test, ""test_add_multiple_ips"", is added in order to\nstress test this method.\n\nChange-Id: I8f1de4a31f97bab734a33f94c3069444defd870f\nCloses-Bug: #1832307\n'}]",17,664889,a20f4c08c421da2e2d0341d03d71654a82d87a21,105,14,6,16688,,,0,"Read IP monitor changes in a parallel thread

In order to capture all IP address changes, the method reading the
netlink socket will be executed in a parallel thread. Once the
""ip_monitor"" method is stopped, this blocking thread will be killed.

A new functional test, ""test_add_multiple_ips"", is added in order to
stress test this method.

Change-Id: I8f1de4a31f97bab734a33f94c3069444defd870f
Closes-Bug: #1832307
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/664889/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/bin/ip_monitor.py']",3,12e6e6d5a6e8fb65b068ade0e5f67a066e23b97c,bug/1832307," with open('/opt/stack/tmp/keep/escribir', 'a+') as f: f.write(""Empezamos\n"") a=0 # with open('/opt/stack/tmp/keep/escribir', 'a+') as f: # f.write(""Get...\n"") a=a+1 with open('/opt/stack/tmp/keep/escribir', 'a+') as f: f.write(jsonutils.dumps(retval) + '\n') f.write(""Numero: %s\n"" % a)",,70,28
openstack%2Ftosca-parser~master~I8d0cb6cafdddbc8a0c61a4d0240c1ee0dc7058ac,openstack/tosca-parser,master,I8d0cb6cafdddbc8a0c61a4d0240c1ee0dc7058ac,Add Python 3 Train unit tests,MERGED,2019-06-24 14:41:30.000000000,2019-06-25 02:24:46.000000000,2019-06-25 02:24:46.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:41:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/048137e0b1b9c03eb36e601b922bdc4f3e101f1d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8d0cb6cafdddbc8a0c61a4d0240c1ee0dc7058ac\nStory: #2005924\nTask: #34209\n'}]",0,667120,048137e0b1b9c03eb36e601b922bdc4f3e101f1d,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8d0cb6cafdddbc8a0c61a4d0240c1ee0dc7058ac
Story: #2005924
Task: #34209
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/20/667120/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,048137e0b1b9c03eb36e601b922bdc4f3e101f1d,python3-train,"envlist = py27,py37,pep8","envlist = py36,py34,py27,pep8",3,2
openstack%2Ftempest~master~Ia0a6fd2175635d4375514d7609646b4516836dc0,openstack/tempest,master,Ia0a6fd2175635d4375514d7609646b4516836dc0,Specify AZ for non-scenario tests,MERGED,2019-06-05 14:37:13.000000000,2019-06-25 01:56:35.000000000,2019-06-19 14:21:51.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 12393}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-06-05 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1570f86180bf211a67e9b19e00ed2d5648b4229', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.scenario.default_availability_zone.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}, {'number': 2, 'created': '2019-06-06 09:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/537532b0528817bf406b164f9889a474f887629e', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.scenario.default_availability_zone.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}, {'number': 3, 'created': '2019-06-06 16:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d45588f638874882b4b97f260f3f038f74ab9661', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.scenario.default_availability_zone.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}, {'number': 4, 'created': '2019-06-08 11:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/60fd802c223c45edcab30998bbb4b2968a4d0170', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.scenario.default_availability_zone.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}, {'number': 5, 'created': '2019-06-12 13:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05e44507a8721760f1e3590ac635af1fb6b85a75', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.scenario.default_availability_zone.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}, {'number': 6, 'created': '2019-06-18 15:23:51.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/volume/base.py', 'tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/00e6d6c2e9982db5438e21ef29b5e7cee885dfcf', 'message': ""Specify AZ for non-scenario tests\n\nThe review allows related non-scenario tests which create\nvolumes and servers to read and use\nCONF.compute.compute_volume_common_az.\nIf the tests don't use the option and tested environment has\nmultiple availability_zones, the tests fail.\n\nRelated-bug: #1647999\n\nChange-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0\n""}]",9,663345,00e6d6c2e9982db5438e21ef29b5e7cee885dfcf,37,9,6,22873,,,0,"Specify AZ for non-scenario tests

The review allows related non-scenario tests which create
volumes and servers to read and use
CONF.compute.compute_volume_common_az.
If the tests don't use the option and tested environment has
multiple availability_zones, the tests fail.

Related-bug: #1647999

Change-Id: Ia0a6fd2175635d4375514d7609646b4516836dc0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/663345/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_create_server.py', 'tempest/common/compute.py']",2,c1570f86180bf211a67e9b19e00ed2d5648b4229,bug/1647999," 'size': CONF.volume.volume_size, 'availability_zone': CONF.scenario.default_availability_zone} kwargs.setdefault('availability_zone', CONF.scenario.default_availability_zone)", 'size': CONF.volume.volume_size},6,2
openstack%2Foctavia~master~I48e82f39e3980d6d50e3b710326b8e437eddb08b,openstack/octavia,master,I48e82f39e3980d6d50e3b710326b8e437eddb08b,Add bindep.txt for Octavia,MERGED,2019-06-24 19:59:13.000000000,2019-06-25 01:39:05.000000000,2019-06-25 01:39:05.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 19:59:13.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/09733a0c39ad394a319f7b807518a5439ec0826e', 'message': 'Add bindep.txt for Octavia\n\nSome base packages are no longer automatically included in zuul\njob runs. This is good as we need to call out our platform package\nrequirements.\nThis patch adds a bindep.txt to Octavia to capture those\npackage requirements.\n\nChange-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b\n'}]",0,667208,09733a0c39ad394a319f7b807518a5439ec0826e,8,3,1,11628,,,0,"Add bindep.txt for Octavia

Some base packages are no longer automatically included in zuul
job runs. This is good as we need to call out our platform package
requirements.
This patch adds a bindep.txt to Octavia to capture those
package requirements.

Change-Id: I48e82f39e3980d6d50e3b710326b8e437eddb08b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/667208/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,09733a0c39ad394a319f7b807518a5439ec0826e,,# Docs package dependencies graphviz [doc] ,,2,0
openstack%2Fheat-translator~master~Ie315b64a5c6a8e09fc428a2524ffe037b5fcebeb,openstack/heat-translator,master,Ie315b64a5c6a8e09fc428a2524ffe037b5fcebeb,Add Python 3 Train unit tests,MERGED,2019-06-24 14:33:23.000000000,2019-06-25 00:51:02.000000000,2019-06-25 00:51:02.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:33:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/b36f9515e9436afeb238e9e2223ceb75b1370e35', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ie315b64a5c6a8e09fc428a2524ffe037b5fcebeb\nStory: #2005924\nTask: #34209\n'}]",0,667117,b36f9515e9436afeb238e9e2223ceb75b1370e35,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ie315b64a5c6a8e09fc428a2524ffe037b5fcebeb
Story: #2005924
Task: #34209
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/17/667117/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b36f9515e9436afeb238e9e2223ceb75b1370e35,python3-train,"envlist = py27,py37,pep8","envlist = py36,py34,py27,pep8",3,3
openstack%2Fopenstack-helm-infra~master~I255f76aa4ff253452d39d89850dfd75488dc6b38,openstack/openstack-helm-infra,master,I255f76aa4ff253452d39d89850dfd75488dc6b38,Trivial typo fixes,MERGED,2019-06-21 19:34:48.000000000,2019-06-25 00:49:00.000000000,2019-06-25 00:49:00.000000000,"[{'_account_id': 7769}, {'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-21 19:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b19fc7d9f514307c0062652c0f2a865249c18966', 'message': 'Trivial typo fixes\n\nChange-Id: I255f76aa4ff253452d39d89850dfd75488dc6b38\n'}, {'number': 2, 'created': '2019-06-21 21:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4d194d52d302ea33d5391443ee711bdd6cbe2cd', 'message': 'Trivial typo fixes\n\nChange-Id: I255f76aa4ff253452d39d89850dfd75488dc6b38\n'}, {'number': 3, 'created': '2019-06-24 06:31:31.000000000', 'files': ['fluentd/values.yaml', 'fluentbit/Chart.yaml', 'fluentd/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e315c90de3364903a5b1fde45fe42fcb30b3c3d1', 'message': 'Trivial typo fixes\n\nChange-Id: I255f76aa4ff253452d39d89850dfd75488dc6b38\n'}]",0,666908,e315c90de3364903a5b1fde45fe42fcb30b3c3d1,12,10,3,20106,,,0,"Trivial typo fixes

Change-Id: I255f76aa4ff253452d39d89850dfd75488dc6b38
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/666908/3 && git format-patch -1 --stdout FETCH_HEAD,"['fluentd/values.yaml', 'fluentbit/Chart.yaml', 'fluentd/Chart.yaml']",3,b19fc7d9f514307c0062652c0f2a865249c18966,,home: https://www.fluentd.org/,home: http://www.fluentbit.io/,3,3
openstack%2Fheat-agents~master~I0135335a85e61e21cff70fd9a3f671c7a1495d42,openstack/heat-agents,master,I0135335a85e61e21cff70fd9a3f671c7a1495d42,Add Python 3 Train unit tests,MERGED,2019-02-19 09:06:59.000000000,2019-06-25 00:37:54.000000000,2019-06-25 00:37:54.000000000,"[{'_account_id': 4257}, {'_account_id': 9414}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 09:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/4f0c24db898b33b06b7b3e990c9f179f6b2f02df', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I0135335a85e61e21cff70fd9a3f671c7a1495d42\nStory: #2004073\nTask: #27416\n'}, {'number': 2, 'created': '2019-06-24 14:30:12.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/a6b19847116cf6f799a418ba6a5fece44ee6eda6', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0135335a85e61e21cff70fd9a3f671c7a1495d42\nStory: #2005924\nTask: #34209\n'}]",1,637786,a6b19847116cf6f799a418ba6a5fece44ee6eda6,11,4,2,9414,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0135335a85e61e21cff70fd9a3f671c7a1495d42
Story: #2005924
Task: #34209
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/86/637786/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4f0c24db898b33b06b7b3e990c9f179f6b2f02df,python3-train, - openstack-python37-jobs,,1,0
openstack%2Fheat-cfntools~master~I1ba956644bdf7c10bd2b6780e556df4c70bceeab,openstack/heat-cfntools,master,I1ba956644bdf7c10bd2b6780e556df4c70bceeab,Add Python 3 Train unit tests,MERGED,2019-06-24 14:31:55.000000000,2019-06-25 00:37:50.000000000,2019-06-25 00:37:50.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:31:55.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfntools/commit/183eb08c6b2c978dbd6b4fff77f13d017a7f8c7d', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1ba956644bdf7c10bd2b6780e556df4c70bceeab\nStory: #2005924\nTask: #34209\n'}]",0,667116,183eb08c6b2c978dbd6b4fff77f13d017a7f8c7d,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I1ba956644bdf7c10bd2b6780e556df4c70bceeab
Story: #2005924
Task: #34209
",git fetch https://review.opendev.org/openstack/heat-cfntools refs/changes/16/667116/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,183eb08c6b2c978dbd6b4fff77f13d017a7f8c7d,python3-train,"envlist = py27,py37,pep8","envlist = py35,py27,pep8",5,4
openstack%2Fheat-cfnclient~master~I11b8c0cd89ea8361e6ee67576a84bc68b5e5d679,openstack/heat-cfnclient,master,I11b8c0cd89ea8361e6ee67576a84bc68b5e5d679,Add Python 3 Train unit tests,MERGED,2019-06-24 14:31:08.000000000,2019-06-25 00:35:17.000000000,2019-06-25 00:35:16.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:31:08.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-cfnclient/commit/acacf9cec9eda85cc6749b8b490311cf7c2a5071', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I11b8c0cd89ea8361e6ee67576a84bc68b5e5d679\nStory: #2005924\nTask: #34209\n'}]",0,667115,acacf9cec9eda85cc6749b8b490311cf7c2a5071,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I11b8c0cd89ea8361e6ee67576a84bc68b5e5d679
Story: #2005924
Task: #34209
",git fetch https://review.opendev.org/openstack/heat-cfnclient refs/changes/15/667115/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,acacf9cec9eda85cc6749b8b490311cf7c2a5071,python3-train,"envlist = py27,py37,pep8","envlist = py36,py35,py27,pep8",4,5
openstack%2Fproject-config~master~I5c682ab59bf570dcd3fd326a28467dc8a9ac7609,openstack/project-config,master,I5c682ab59bf570dcd3fd326a28467dc8a9ac7609,"Revert ""Revert ""Disable provider limestone""""",MERGED,2019-06-22 19:17:33.000000000,2019-06-24 23:53:46.000000000,2019-06-22 19:35:35.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 16688}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-22 19:17:33.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fd38e64173379d327fe4c76ff66099d3b4831f62', 'message': 'Revert ""Revert ""Disable provider limestone""""\n\nThis reverts commit 797796ee77dae0a19f24b3cfbb9e9007557c98df.\nConnectivity is intermittent, causing AFS timeouts for the\nmirror and so breaking builds scheduled there.\n\nChange-Id: I5c682ab59bf570dcd3fd326a28467dc8a9ac7609\n'}]",0,666963,fd38e64173379d327fe4c76ff66099d3b4831f62,6,6,1,5263,,,0,"Revert ""Revert ""Disable provider limestone""""

This reverts commit 797796ee77dae0a19f24b3cfbb9e9007557c98df.
Connectivity is intermittent, causing AFS timeouts for the
mirror and so breaking builds scheduled there.

Change-Id: I5c682ab59bf570dcd3fd326a28467dc8a9ac7609
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/666963/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,fd38e64173379d327fe4c76ff66099d3b4831f62,, max-servers: 0, max-servers: 50,1,1
openstack%2Fproject-config~master~Ic2d23cb2078d6ef00c13056a0b1c4fbac1d7fdde,openstack/project-config,master,Ic2d23cb2078d6ef00c13056a0b1c4fbac1d7fdde,Retire independent ansible role,MERGED,2019-06-13 21:05:52.000000000,2019-06-24 23:20:24.000000000,2019-06-24 23:20:24.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-13 21:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b5010a0d321a19b1971c3eb3a368cadaf17a11ba', 'message': 'Retire independent ansible role\n\nAll of the tripleo ansible roles have been retired. The transformation squad\nis pivoting away from independent roles at this time and will be focusing on\nthe tripleo-ansible repository. For more information on the tripleo-ansible\nefforts and the direction of the transformation squad please review the\nfollowing mailing list thread [0].\n\nThis change adds zuul project config for the cookiecutter role which was\nmissing.\n\n[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html\n\nChange-Id: Ic2d23cb2078d6ef00c13056a0b1c4fbac1d7fdde\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-21 23:59:30.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/320cba5494e00d4dca1b9000763c408846f5d85a', 'message': 'Retire independent ansible role\n\nAll of the tripleo ansible roles have been retired. The transformation squad\nis pivoting away from independent roles at this time and will be focusing on\nthe tripleo-ansible repository. For more information on the tripleo-ansible\nefforts and the direction of the transformation squad please review the\nfollowing mailing list thread [0].\n\nThis change adds zuul project config for the cookiecutter role which was\nmissing.\n\n[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html\n\nChange-Id: Ic2d23cb2078d6ef00c13056a0b1c4fbac1d7fdde\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,665237,320cba5494e00d4dca1b9000763c408846f5d85a,11,5,2,7353,,,0,"Retire independent ansible role

All of the tripleo ansible roles have been retired. The transformation squad
is pivoting away from independent roles at this time and will be focusing on
the tripleo-ansible repository. For more information on the tripleo-ansible
efforts and the direction of the transformation squad please review the
following mailing list thread [0].

This change adds zuul project config for the cookiecutter role which was
missing.

[0] - http://lists.openstack.org/pipermail/openstack-discuss/2019-June/006836.html

Change-Id: Ic2d23cb2078d6ef00c13056a0b1c4fbac1d7fdde
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/665237/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,b5010a0d321a19b1971c3eb3a368cadaf17a11ba,retire-role, name: openstack/ansible-role-tripleo-cookiecutter templates: - noop-jobs - project:,,5,0
openstack%2Fproject-config~master~Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08,openstack/project-config,master,Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08,Retire openstack-ansible unused roles,MERGED,2019-04-05 18:49:09.000000000,2019-06-24 23:20:22.000000000,2019-06-24 23:20:22.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-04-05 18:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a2a04ce2f0a55247a7680a73d3c815afeacdf293', 'message': 'Retire openstack-ansible unused roles\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 2, 'created': '2019-04-05 18:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3873941e38ec4d93ccde62300728781c771dd547', 'message': 'Retire openstack-ansible unused roles\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nDepends-On: https://review.openstack.org/650413\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 3, 'created': '2019-04-05 20:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8dea63b913552c0bc8ef44caaa272431e00e770', 'message': 'Retire openstack-ansible unused roles\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 4, 'created': '2019-04-05 20:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3dc40f0502d19629dbff92ea4072040e49db1448', 'message': 'Retire openstack-ansible unused roles\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 5, 'created': '2019-04-05 20:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c68ffe3011ea8d436b6a4db7a2374daa6440da8a', 'message': 'Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 6, 'created': '2019-04-05 23:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca7ffb27bcfc7d7edff426008bac3f67f0668fcd', 'message': 'Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 7, 'created': '2019-04-18 00:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f2d901d758f442ff776fb0b5b860ad2e8560895e', 'message': 'Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 8, 'created': '2019-04-18 13:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a87bf7396cdff826da65f41f8eb8bef3a1130006', 'message': '[WIP] Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 9, 'created': '2019-04-18 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e12d94e22a45a0ce0037e79cb099ff05eaceaa81', 'message': 'Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nDepends-On: https://review.openstack.org/653631\nDepends-On: https://review.openstack.org/653635\nDepends-On: https://review.openstack.org/653636\nDepends-On: https://review.openstack.org/653621\nDepends-On: https://review.openstack.org/653632\nDepends-On: https://review.openstack.org/653633\nDepends-On: https://review.openstack.org/653630\nNeeded-By: https://review.openstack.org/653643\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}, {'number': 10, 'created': '2019-06-11 21:08:16.000000000', 'files': ['gerrit/acls/openstack/openstack-ansible-os_watcher.config', 'gerrit/acls/openstack/openstack-ansible-os_searchlight.config', 'gerrit/acls/openstack/openstack-ansible-os_monasca-agent.config', 'gerrit/acls/openstack/openstack-ansible-os_molteniron.config', 'gerrit/acls/openstack/openstack-ansible-os_almanach.config', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/openstack-ansible-os_monasca.config', 'gerrit/acls/openstack/openstack-ansible-os_zaqar.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca1d2e7a89332abbd4d59251e7e066e0491e4510', 'message': 'Retire openstack-ansible unused roles\n\nThe patch endings project gate for unsued\nOpenStack Ansible roles for the purposes of\nretiring these roles.\n\nThe announcement has been made on ML [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html\n\nDepends-On: https://review.openstack.org/653631\nDepends-On: https://review.openstack.org/653635\nDepends-On: https://review.openstack.org/653636\nDepends-On: https://review.openstack.org/653621\nDepends-On: https://review.openstack.org/653632\nDepends-On: https://review.openstack.org/653633\nDepends-On: https://review.openstack.org/653630\nNeeded-By: https://review.openstack.org/653643\n\nChange-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08\n'}]",1,650422,ca1d2e7a89332abbd4d59251e7e066e0491e4510,30,4,10,28008,,,0,"Retire openstack-ansible unused roles

The patch endings project gate for unsued
OpenStack Ansible roles for the purposes of
retiring these roles.

The announcement has been made on ML [1]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-April/004610.html

Depends-On: https://review.openstack.org/653631
Depends-On: https://review.openstack.org/653635
Depends-On: https://review.openstack.org/653636
Depends-On: https://review.openstack.org/653621
Depends-On: https://review.openstack.org/653632
Depends-On: https://review.openstack.org/653633
Depends-On: https://review.openstack.org/653630
Needed-By: https://review.openstack.org/653643

Change-Id: Ia71bd9050786c6dc30c494cf0a03e8f3bc5a5f08
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/650422/10 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/openstack-ansible-os_watcher.config', 'gerrit/acls/openstack/openstack-ansible-os_searchlight.config', 'gerrit/acls/openstack/openstack-ansible-os_monasca-agent.config', 'gerrit/acls/openstack/openstack-ansible-os_almanach.config', 'gerrit/acls/openstack/openstack-ansible-os_molteniron.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/openstack-ansible-os_monasca.config', 'gerrit/acls/openstack/openstack-ansible-os_zaqar.config']",10,a2a04ce2f0a55247a7680a73d3c815afeacdf293,retire-osa-unused-roles,,"[access ""refs/heads/*""] abandon = group openstack-ansible-core abandon = group openstack-ansible-os_zaqar-core label-Code-Review = -2..+2 group openstack-ansible-core label-Code-Review = -2..+2 group openstack-ansible-os_zaqar-core label-Workflow = -1..+1 group openstack-ansible-core label-Workflow = -1..+1 group openstack-ansible-os_zaqar-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",14,157
openstack%2Fmagnum~master~I0da4381cdc06f15815bd5ae51417aaf93d36b2c1,openstack/magnum,master,I0da4381cdc06f15815bd5ae51417aaf93d36b2c1,Make kubernetes apiserver start after network,MERGED,2019-05-09 03:58:49.000000000,2019-06-24 23:09:49.000000000,2019-06-24 23:09:49.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-05-09 03:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dc4cf6b6582d47843a03a4bc45a3ab88c3b4cd53', 'message': 'Make kubernetes apiserver start after network\n\nWithout this, the service fails to start with\n\n runc[1150]: error: unable to find suitable network address.error=\'no\n default routes found in ""/proc/net/route"" or ""/proc/net/ipv6_route""\'.\n Try to set the AdvertiseAddress directly or provide a valid BindAddress\n to fix this\n\nChange-Id: I0da4381cdc06f15815bd5ae51417aaf93d36b2c1\n'}, {'number': 2, 'created': '2019-05-15 12:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7f8fc06d5b31b3f798e60fee218f56fa9ff8f117', 'message': 'Make kubernetes apiserver start after network\n\nWithout this, the service fails to start with\n\n runc[1150]: error: unable to find suitable network address.error=\'no\n default routes found in ""/proc/net/route"" or ""/proc/net/ipv6_route""\'.\n Try to set the AdvertiseAddress directly or provide a valid BindAddress\n to fix this\n\nStory: 2005698\nTask: 31019\nChange-Id: I0da4381cdc06f15815bd5ae51417aaf93d36b2c1\n'}, {'number': 3, 'created': '2019-05-16 01:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c976faf166261bcf13bc0c4b8758aeeb83b5a535', 'message': 'Make kubernetes apiserver start after network\n\nWithout this, the service fails to start with\n\n runc[1150]: error: unable to find suitable network address.error=\'no\n default routes found in ""/proc/net/route"" or ""/proc/net/ipv6_route""\'.\n Try to set the AdvertiseAddress directly or provide a valid BindAddress\n to fix this\n\nStory: 2005698\nTask: 31019\nChange-Id: I0da4381cdc06f15815bd5ae51417aaf93d36b2c1\n'}, {'number': 4, 'created': '2019-06-24 22:20:48.000000000', 'files': ['dockerfiles/kubernetes-apiserver/service.template'], 'web_link': 'https://opendev.org/openstack/magnum/commit/35542713aa9f0e084a77534c0d5022b6b79faa1f', 'message': 'Make kubernetes apiserver start after network\n\nWithout this, the service fails to start with\n\n runc[1150]: error: unable to find suitable network address.error=\'no\n default routes found in ""/proc/net/route"" or ""/proc/net/ipv6_route""\'.\n Try to set the AdvertiseAddress directly or provide a valid BindAddress\n to fix this\n\nStory: 2005698\nTask: 31019\nChange-Id: I0da4381cdc06f15815bd5ae51417aaf93d36b2c1\n'}]",0,657915,35542713aa9f0e084a77534c0d5022b6b79faa1f,19,5,4,8064,,,0,"Make kubernetes apiserver start after network

Without this, the service fails to start with

 runc[1150]: error: unable to find suitable network address.error='no
 default routes found in ""/proc/net/route"" or ""/proc/net/ipv6_route""'.
 Try to set the AdvertiseAddress directly or provide a valid BindAddress
 to fix this

Story: 2005698
Task: 31019
Change-Id: I0da4381cdc06f15815bd5ae51417aaf93d36b2c1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/15/657915/1 && git format-patch -1 --stdout FETCH_HEAD,['dockerfiles/kubernetes-apiserver/service.template'],1,dc4cf6b6582d47843a03a4bc45a3ab88c3b4cd53,api_start_after_network,After=network-online.target,,1,0
openstack%2Fmagnum~master~I33da19ad6764bedcf15f2a08381063e2471f8991,openstack/magnum,master,I33da19ad6764bedcf15f2a08381063e2471f8991,"Revert ""support http/https proxy for discovery url""",MERGED,2019-05-21 09:32:20.000000000,2019-06-24 23:09:48.000000000,2019-06-24 23:09:48.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23924}, {'_account_id': 30616}]","[{'number': 1, 'created': '2019-05-21 09:32:20.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/79699f23cddf906753b02562f6d2aebc03e3e15e', 'message': 'Revert ""support http/https proxy for discovery url""\n\nThis reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.\n\nThis commit is reverted for two reasons:\n\n* It is undesirable that the end user can inject proxy config into\n  the magnum-conductor service via the cluster template.\n\n* The proxy settings for the magnum-conductor service may not be\n  the same as those which are required in the cluster template for\n  the end user VM.\n\nSystemd, docker and podman all include native mechanisms for setting\nenvironment variables for proecesses, and this should be used by the\ncloud operator / deployment tooling to configure the required proxy\nsettings for the magnum-conductor service.\n\nIn particular this patch makes it impossible for the cloud operator\nto specify their own http_proxy via the environment, the user supplied\ncluster template setting will always be used.\n\nChange-Id: I33da19ad6764bedcf15f2a08381063e2471f8991\n'}]",0,660316,79699f23cddf906753b02562f6d2aebc03e3e15e,12,5,1,25023,,,0,"Revert ""support http/https proxy for discovery url""

This reverts commit e8d0ee1b144f4db24367ad48bd2cb4306add6672.

This commit is reverted for two reasons:

* It is undesirable that the end user can inject proxy config into
  the magnum-conductor service via the cluster template.

* The proxy settings for the magnum-conductor service may not be
  the same as those which are required in the cluster template for
  the end user VM.

Systemd, docker and podman all include native mechanisms for setting
environment variables for proecesses, and this should be used by the
cloud operator / deployment tooling to configure the required proxy
settings for the magnum-conductor service.

In particular this patch makes it impossible for the cloud operator
to specify their own http_proxy via the environment, the user supplied
cluster template setting will always be used.

Change-Id: I33da19ad6764bedcf15f2a08381063e2471f8991
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/660316/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",6,79699f23cddf906753b02562f6d2aebc03e3e15e,,"if [ -n ""$HTTP_PROXY"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf","if [ -n ""$HTTP_PROXY"" -o ""$HTTPS_PROXY"" ]; then ETCD_DISCOVERY_PROTOCOL=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').scheme"") ETCD_DISCOVERY_HOSTNAME=$(python -c ""from six.moves.urllib import parse as urlparse; print urlparse.urlparse('${ETCD_DISCOVERY_URL}').netloc.partition(':')[0]"") # prints 1 if $ETCD_DISCOVERY_HOSTNAME is listed explicitly in $NO_PROXY, or $NO_PROXY is set to ""*"" ETCD_DISCOVERY_PROXY_BYPASS=$(NO_PROXY=""${NO_PROXY}"" python -c ""import requests; print requests.utils.proxy_bypass('${ETCD_DISCOVERY_HOSTNAME}')"") if [ $ETCD_DISCOVERY_PROXY_BYPASS == ""0"" ]; then if [ -n ""$HTTP_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""http"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTP_PROXY"" >> /etc/etcd/etcd.conf elif [ -n ""$HTTPS_PROXY"" -a ""$ETCD_DISCOVERY_PROTOCOL"" == ""https"" ]; then echo ""ETCD_DISCOVERY_PROXY=$HTTPS_PROXY"" >> /etc/etcd/etcd.conf fi fi",9,208
openstack%2Fproject-config~master~I72801354fe248a063a7fce233cc3cf28ef630ec9,openstack/project-config,master,I72801354fe248a063a7fce233cc3cf28ef630ec9,Add ``octavia-diskimage-retrofit`` charm,MERGED,2019-06-20 13:18:44.000000000,2019-06-24 23:02:38.000000000,2019-06-24 23:02:38.000000000,"[{'_account_id': 935}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 13:18:44.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e88245c90456af6ff8badc52b976f5585e7669a6', 'message': 'Add ``octavia-diskimage-retrofit`` charm\n\nNeeded-By: I9c28b64001c71ab455c95615a51e0ce0b1236931\nChange-Id: I72801354fe248a063a7fce233cc3cf28ef630ec9\n'}]",0,666568,e88245c90456af6ff8badc52b976f5585e7669a6,9,4,1,13686,,,0,"Add ``octavia-diskimage-retrofit`` charm

Needed-By: I9c28b64001c71ab455c95615a51e0ce0b1236931
Change-Id: I72801354fe248a063a7fce233cc3cf28ef630ec9
",git fetch https://review.opendev.org/openstack/project-config refs/changes/68/666568/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,e88245c90456af6ff8badc52b976f5585e7669a6,new-project, - openstack/charm-octavia-diskimage-retrofit,,7,0
openstack%2Fnova~master~I15a7c13edf78884ec223fd531a78a341106b41b8,openstack/nova,master,I15a7c13edf78884ec223fd531a78a341106b41b8,bdm: store empty object as connection_info by default,MERGED,2019-03-21 21:07:02.000000000,2019-06-24 22:47:13.000000000,2019-06-24 22:47:12.000000000,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-21 21:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7521f4f4b8722466dffb12c49a6b3f47c873df9', 'message': ""wip: bdm: store empty object as connection_info by default\n\nthere is a code route here where connection_info is None therefore\nthe stored value in `connection_info` is `null` which breaks other\nparts of nova that depend on that string containing json\n\ni'm pushing this up as i try to dig how this can happen..\n\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n""}, {'number': 2, 'created': '2019-03-21 22:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b06ececc20557bc32533f56a7090862226af541', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n""}, {'number': 3, 'created': '2019-03-21 22:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8583fcf28749854f5d1848f7cfad5960702b6d9', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n""}, {'number': 4, 'created': '2019-03-21 22:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5c246cb5650f8e799c6b343b404bf84bd23cf4c', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nCloses-Bug: #1821244\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n""}, {'number': 5, 'created': '2019-03-22 13:27:10.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9fa03d4d72609b6eb2ace7b89eaf437f94252be0', 'message': ""bdm: store empty object as connection_info by default\n\nThere are several code paths which expect connection_info to be\na valid JSON object.  However, if we don't find a value, we are\nsetting it to an initial value of 'None' which evenutally gets\nconverted to 'null' as JSON and stored in the database.\n\nThis patch sets the default value to {} so that any new block\ndevice mappings have an empty object, rather than NULL.\n\nCloses-Bug: #1821244\nChange-Id: I15a7c13edf78884ec223fd531a78a341106b41b8\n""}]",7,645352,9fa03d4d72609b6eb2ace7b89eaf437f94252be0,94,20,5,1004,,,0,"bdm: store empty object as connection_info by default

There are several code paths which expect connection_info to be
a valid JSON object.  However, if we don't find a value, we are
setting it to an initial value of 'None' which evenutally gets
converted to 'null' as JSON and stored in the database.

This patch sets the default value to {} so that any new block
device mappings have an empty object, rather than NULL.

Closes-Bug: #1821244
Change-Id: I15a7c13edf78884ec223fd531a78a341106b41b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/645352/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,e7521f4f4b8722466dffb12c49a6b3f47c873df9,bug/1821244," self.get('connection_info', {}))", self.get('connection_info')),1,1
openstack%2Fcinder~stable%2Fstein~I52edf34ac451a2c238c88e230e54163bac0bf913,openstack/cinder,stable/stein,I52edf34ac451a2c238c88e230e54163bac0bf913,Fix assertion methods in a unit test,MERGED,2019-06-21 00:15:57.000000000,2019-06-24 22:47:08.000000000,2019-06-24 22:47:08.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-21 00:15:57.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2da46b234b99e602aebde77a60cd96f3e205c6ce', 'message': ""Fix assertion methods in a unit test\n\nReplace 'asset_not_called' with 'assert_not_called'.\n\nChange-Id: I52edf34ac451a2c238c88e230e54163bac0bf913\nCloses-Bug: #1833485\n(cherry picked from commit f8556ae982a520c0a53360bedf3efa9443943e9c)\n""}]",0,666740,2da46b234b99e602aebde77a60cd96f3e205c6ce,16,12,1,7634,,,0,"Fix assertion methods in a unit test

Replace 'asset_not_called' with 'assert_not_called'.

Change-Id: I52edf34ac451a2c238c88e230e54163bac0bf913
Closes-Bug: #1833485
(cherry picked from commit f8556ae982a520c0a53360bedf3efa9443943e9c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/666740/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py'],1,2da46b234b99e602aebde77a60cd96f3e205c6ce,bug/1833485-stable/stein, mock_delete.assert_not_called() mock_delete.assert_not_called(), mock_delete.asset_not_called() mock_delete.asset_not_called(),2,2
openstack%2Ftempest~master~I4f6af233f8b45d2533cf3d224f1d719e28778941,openstack/tempest,master,I4f6af233f8b45d2533cf3d224f1d719e28778941,fup: fix docsting in manager.py,MERGED,2019-06-13 13:12:37.000000000,2019-06-24 22:47:06.000000000,2019-06-24 22:47:06.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-13 13:12:37.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e453fc2b940c7ac0f0fa43d869b5c09f58d9e3c7', 'message': 'fup: fix docsting in manager.py\n\nAs discussed in Ie274f199ce33199a6fc8c4d6846a853522a90d3a there is an\nunnecessary colon in create_networks docstring.\n\nChange-Id: I4f6af233f8b45d2533cf3d224f1d719e28778941\n'}]",0,665132,e453fc2b940c7ac0f0fa43d869b5c09f58d9e3c7,19,8,1,8313,,,0,"fup: fix docsting in manager.py

As discussed in Ie274f199ce33199a6fc8c4d6846a853522a90d3a there is an
unnecessary colon in create_networks docstring.

Change-Id: I4f6af233f8b45d2533cf3d224f1d719e28778941
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/665132/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,e453fc2b940c7ac0f0fa43d869b5c09f58d9e3c7,minimum-bandwidth-allocation-placement-api, :param net_dict: a dict containing experimental network information in, :param: net_dict: a dict containing experimental network information in,1,1
openstack%2Ftripleo-ansible~master~I7b30561137cd78b5a3d297fa26115dbfe4458e06,openstack/tripleo-ansible,master,I7b30561137cd78b5a3d297fa26115dbfe4458e06,Import tripleo-container-tag role,MERGED,2019-06-20 19:52:34.000000000,2019-06-24 22:32:44.000000000,2019-06-24 22:32:44.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-20 19:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/850e79859484a964d9d13fffed5a25c35093b3a9', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-20 21:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f033e68458a5088b5e2aa2717c765d2204672e4b', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-20 21:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c0505642c915acbac218237ad4d4f16b7a2f44a', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-06-20 22:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49a9b853a9157c37c87e67c9083eebf7ef682c03', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-20 22:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/853af1a654bdeacabc5b0a2116815318532b492d', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-06-20 23:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27d8d25dd2b87a0d4d421490f24972b44c88a037', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-06-21 00:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7eba5004a6df82f1b4ca55ec79217ce79d8cbf8e', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-06-21 00:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9726585afb81a49863d90b7746da73ee1c7339f', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-06-21 02:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/acfb1fee658f85799a573cf457ec34e24215797a', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nTo test this role the ""openstack-tox-with-sudo"" job is being used which\nwill allow the job to locally execute against the target node.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 10, 'created': '2019-06-21 03:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7558f18d71c057d20b6b31bb9f945e6e1763bcd', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nTo test this role the ""openstack-tox-with-sudo"" job is being used which\nwill allow the job to locally execute against the target node.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 11, 'created': '2019-06-21 03:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd0adf55cf9488e29d4f09309d91edc57f7a0bd3', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nTo test this role the ""openstack-tox-with-sudo"" job is being used which\nwill allow the job to locally execute against the target node.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 12, 'created': '2019-06-21 04:12:12.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/prepare.yml', 'zuul.d/base.yaml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo-container-tag.rst', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-tag/README.md', 'tripleo_ansible/roles/tripleo-container-tag/molecule/pre-prepare.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/playbook.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e55213e4570f60e0c179e1738b7153a752d84da', 'message': 'Import tripleo-container-tag role\n\nThis change imports the tripleo-container-tag role and adds testing using\nmolecule. Tests within this role will be delegated to the host so that\nit can natively control both docker and podman containers.\n\nTo test this role the ""openstack-tox-with-sudo"" job is being used which\nwill allow the job to locally execute against the target node.\n\nChange-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",0,666671,5e55213e4570f60e0c179e1738b7153a752d84da,30,4,12,7353,,,0,"Import tripleo-container-tag role

This change imports the tripleo-container-tag role and adds testing using
molecule. Tests within this role will be delegated to the host so that
it can natively control both docker and podman containers.

To test this role the ""openstack-tox-with-sudo"" job is being used which
will allow the job to locally execute against the target node.

Change-Id: I7b30561137cd78b5a3d297fa26115dbfe4458e06
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/666671/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-tag/tasks/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/meta/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo-container-tag.rst', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-tag/README.md', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-tag/defaults/main.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/playbook.yml', 'tox.ini']",13,850e79859484a964d9d13fffed5a25c35093b3a9,role-addition, [testenv:mol-tripleo-container-tag] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-container-tag commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py [testenv:mol-tripleo-container-tag-default] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-container-tag commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py --scenario=default [testenv:mol-tripleo-container-tag-podman] basepython = {[testenv:mol]basepython} deps = {[testenv:mol]deps} changedir = {toxinidir}/tripleo_ansible/roles/tripleo-container-tag commands = python -m pytest --color=yes --html={envlogdir}/reports.html --self-contained-html {tty:-s} {toxinidir}/tests/test_molecule.py --scenario=podman,,431,0
openstack%2Ftripleo-ansible~master~Icee3c318ac0049eda586c2696d732415575eaa40,openstack/tripleo-ansible,master,Icee3c318ac0049eda586c2696d732415575eaa40,Improve documentation readability,MERGED,2019-06-20 17:10:42.000000000,2019-06-24 22:32:43.000000000,2019-06-24 22:32:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-20 17:10:42.000000000', 'files': ['doc/source/roles/role-tripleo-module-load.rst', 'doc/source/roles/role-tripleo-ssh-known-hosts.rst', 'doc/source/roles/role-tripleo-create-admin.rst', 'doc/source/roles/role-test_package_action.rst', 'role-addition.yml', 'doc/source/roles/role-tripleo-bootstrap.rst', 'doc/source/roles/role-aide.rst', 'doc/source/roles/role-test_deps.rst', 'doc/source/roles/role-tuned.rst', 'doc/source/roles/role-test_json_error_callback.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e83c1490d5704aa273f24bc674ab42e6a411ced6', 'message': 'Improve documentation readability\n\nThe role documentation titles were too long, and being truncated\nin the site sidebar. This change shortens the title names so that\nthe its easier to navigate the documentation.\n\nAn update has been made to the role-addition playbook so that the\nnew role titles are generated with the shorter length.\n\nChange-Id: Icee3c318ac0049eda586c2696d732415575eaa40\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,666648,e83c1490d5704aa273f24bc674ab42e6a411ced6,9,4,1,7353,,,0,"Improve documentation readability

The role documentation titles were too long, and being truncated
in the site sidebar. This change shortens the title names so that
the its easier to navigate the documentation.

An update has been made to the role-addition playbook so that the
new role titles are generated with the shorter length.

Change-Id: Icee3c318ac0049eda586c2696d732415575eaa40
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/666648/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-module-load.rst', 'doc/source/roles/role-tripleo-ssh-known-hosts.rst', 'doc/source/roles/role-tripleo-create-admin.rst', 'doc/source/roles/role-test_package_action.rst', 'role-addition.yml', 'doc/source/roles/role-tripleo-bootstrap.rst', 'doc/source/roles/role-aide.rst', 'doc/source/roles/role-test_deps.rst', 'doc/source/roles/role-test_json_error_callback.rst', 'doc/source/roles/role-tuned.rst']",10,e83c1490d5704aa273f24bc674ab42e6a411ced6,role-addition,============ Role - tuned ============,============================ TripleO-Ansible Role - tuned ============================,28,28
openstack%2Ftripleo-ansible~master~Ib4ff59a4c372f95cc7a183e8ef724bb1cbf72fed,openstack/tripleo-ansible,master,Ib4ff59a4c372f95cc7a183e8ef724bb1cbf72fed,Import octavia roles and playbooks from tripleo-common,MERGED,2019-06-13 22:31:56.000000000,2019-06-24 22:26:15.000000000,2019-06-24 22:26:15.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-13 22:31:56.000000000', 'files': ['tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/swift_ring_rebalance.yaml', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg-br-int.j2', 'tripleo_ansible/roles/octavia-undercloud/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/netport.yml', 'tripleo_ansible/roles/octavia_common/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-undercloud/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-overcloud-config/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/quotas.yml', 'tripleo_ansible/playbooks/rotate-keys.yaml', 'tripleo_ansible/roles/octavia-controller-post-config/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/netinterface.yml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/templates/manager-post-deploy.conf.j2', 'tripleo_ansible/roles/octavia-controller-config/handlers/main.yml', 'tripleo_ansible/roles/octavia-controller-post-config/defaults/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/network.yml', 'tripleo_ansible/roles/octavia-undercloud/tasks/image_mgmt.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/octavia.yml', 'tripleo_ansible/roles/octavia-controller-config/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82d0705476b9270496e3bc5c5714ba2f72348e79', 'message': ""Import octavia roles and playbooks from tripleo-common\n\nThis change imports all of the octavia playbooks and roles from\n`tripleo-common/playbooks/`. This change ensures all of the resources\nimported are meeting the required lint checks for import and structures\nthe roles such that they'll automatically be installed in the\n`usr/share/ansible/roles/` path making them available to the rest of\nthe tripleo ecosystem.\n\nChange-Id: Ib4ff59a4c372f95cc7a183e8ef724bb1cbf72fed\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,665254,82d0705476b9270496e3bc5c5714ba2f72348e79,8,4,1,7353,,,0,"Import octavia roles and playbooks from tripleo-common

This change imports all of the octavia playbooks and roles from
`tripleo-common/playbooks/`. This change ensures all of the resources
imported are meeting the required lint checks for import and structures
the roles such that they'll automatically be installed in the
`usr/share/ansible/roles/` path making them available to the rest of
the tripleo ecosystem.

Change-Id: Ib4ff59a4c372f95cc7a183e8ef724bb1cbf72fed
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/665254/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_common/defaults/main.yml', 'tripleo_ansible/playbooks/swift_ring_rebalance.yaml', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg.j2', 'tripleo_ansible/roles/octavia-controller-config/templates/ifcfg-br-int.j2', 'tripleo_ansible/roles/octavia-undercloud/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/netport.yml', 'tripleo_ansible/roles/octavia_common/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-undercloud/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/certificate.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-overcloud-config/meta/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/quotas.yml', 'tripleo_ansible/playbooks/rotate-keys.yaml', 'tripleo_ansible/roles/octavia-controller-post-config/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/netinterface.yml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/templates/manager-post-deploy.conf.j2', 'tripleo_ansible/roles/octavia-controller-config/handlers/main.yml', 'tripleo_ansible/roles/octavia-controller-post-config/defaults/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/network.yml', 'tripleo_ansible/roles/octavia-undercloud/tasks/image_mgmt.yml', 'tripleo_ansible/roles/octavia-controller-config/tasks/octavia.yml', 'tripleo_ansible/roles/octavia-controller-config/meta/main.yml']",26,82d0705476b9270496e3bc5c5714ba2f72348e79,tc/playbooks,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: author: OpenStack description: TripleO OpenStack Role -- octavia-controller-config company: Red Hat license: Apache-2.0 min_ansible_version: 2.7 # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: Fedora versions: - 28 - name: CentOS versions: - 7 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: - octavia_common ",,1260,0
openstack%2Foslo.log~master~I7773e41ec48246fb56e7366a359c067788c9f5bb,openstack/oslo.log,master,I7773e41ec48246fb56e7366a359c067788c9f5bb,Schedule a periodical check of requirements to catch py2.7 issues quickly,MERGED,2019-05-15 13:05:29.000000000,2019-06-24 22:24:33.000000000,2019-06-24 22:24:33.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-05-15 13:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/59343b63507ecb8a77ad7331ea9115706daf6748', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 2, 'created': '2019-05-15 13:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e24ee63a2767668912839cfaa744de18885c7466', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 3, 'created': '2019-05-15 13:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6751ef6d618dad8b2424f1f5e0f91c6f30fa5d58', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 4, 'created': '2019-05-15 13:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/dcc906d5136584b93e3fd6cb0f79d45f5338fa72', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 5, 'created': '2019-05-15 13:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d5fe3b2c8b2aee91b63572ba47843f325ae5a55e', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 6, 'created': '2019-05-15 13:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/f6901d4f00ee739417eb3a9de2730bafedf828b6', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 7, 'created': '2019-05-15 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/05929c4a1c6299a423fe36b287b11aa879b96370', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}, {'number': 8, 'created': '2019-05-15 13:50:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8f9a6a19cf1cdf591c038034350b209c317924b9', 'message': 'Schedule a periodical check of requirements to catch py2.7 issues quickly\n\nPrepare a periodic job used to check possible issue on requirements\ndue to the python 2.7 final countdown and requirements\nwho remove python 2.7 support. We will check it daily\nto see potential errors quickly outside the\nstandard development lifecycle (feature, fix, etc...)\n\nChange-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb\n'}]",8,659289,8f9a6a19cf1cdf591c038034350b209c317924b9,22,4,8,28522,,,0,"Schedule a periodical check of requirements to catch py2.7 issues quickly

Prepare a periodic job used to check possible issue on requirements
due to the python 2.7 final countdown and requirements
who remove python 2.7 support. We will check it daily
to see potential errors quickly outside the
standard development lifecycle (feature, fix, etc...)

Change-Id: I7773e41ec48246fb56e7366a359c067788c9f5bb
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/89/659289/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,59343b63507ecb8a77ad7331ea9115706daf6748,periodical-requirements-check," periodic: jobs: # NOTE(hberaud) Used to check possible issue on requirements # due to the python 2.7 final countdown and requirements # who remove python 2.7 support. We will check it daily # to see potential errors quickly outside the # standard development lifecycle (feature, fix, etc...) check-requirements",,8,0
openstack%2Fkolla-ansible~master~Id511db86adb749b8ab63d277dd6af143ad5e5a59,openstack/kolla-ansible,master,Id511db86adb749b8ab63d277dd6af143ad5e5a59,Improve steps to install from git in Quick Start,ABANDONED,2019-04-08 19:51:50.000000000,2019-06-24 22:20:17.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-04-08 19:51:50.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ca63127396810d939a5d8e2d166bc4dacc36971', 'message': ""Improve steps to install from git in Quick Start\n\nEssentially, kolla and kolla-ansible eventually have to be\ninstalled, and that wasn't clear from the existing Quick Start.\n\nAdds steps with:\n$ python setup.py install\n\nChange-Id: Id511db86adb749b8ab63d277dd6af143ad5e5a59\n""}]",1,650979,0ca63127396810d939a5d8e2d166bc4dacc36971,9,3,1,30156,,,0,"Improve steps to install from git in Quick Start

Essentially, kolla and kolla-ansible eventually have to be
installed, and that wasn't clear from the existing Quick Start.

Adds steps with:
$ python setup.py install

Change-Id: Id511db86adb749b8ab63d277dd6af143ad5e5a59
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/650979/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,0ca63127396810d939a5d8e2d166bc4dacc36971,quickstart,#. Install and upgrade ``pip`` to the latest before proceeding.#. Install ``kolla`` and ``kolla-ansible``: .. code-block:: console cd kolla python setup.py install cd ../kolla-ansible python setup.py install ,#. Install and upgrad ``pip`` to the latest before proceeding.,10,1
openstack%2Fos-api-ref~master~I1155300828ad0012bd80b7615a0baca121c5e72e,openstack/os-api-ref,master,I1155300828ad0012bd80b7615a0baca121c5e72e,Add support for Sphinx v2.1,MERGED,2019-06-24 15:09:10.000000000,2019-06-24 22:10:00.000000000,2019-06-24 22:10:00.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 15:09:10.000000000', 'files': ['os_api_ref/tests/test_basic_example.py', 'os_api_ref/tests/test_microversions.py'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/2a3f53494df93d4fe0e67055f95fc3e33cf7e8f4', 'message': 'Add support for Sphinx v2.1\n\nCome a new Sphinx version, come new breakages. This one is because of\ncommit 107c20a11f [1], which changed the default centering style of\ntables.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/107c20a11f\n\nChange-Id: I1155300828ad0012bd80b7615a0baca121c5e72e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,667125,2a3f53494df93d4fe0e67055f95fc3e33cf7e8f4,7,3,1,15334,,,0,"Add support for Sphinx v2.1

Come a new Sphinx version, come new breakages. This one is because of
commit 107c20a11f [1], which changed the default centering style of
tables.

[1] https://github.com/sphinx-doc/sphinx/commit/107c20a11f

Change-Id: I1155300828ad0012bd80b7615a0baca121c5e72e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/25/667125/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_api_ref/tests/test_basic_example.py', 'os_api_ref/tests/test_microversions.py']",2,2a3f53494df93d4fe0e67055f95fc3e33cf7e8f4,python3-train,"<table class=""docutils align-{}"">"""""".format('center' if sphinx.version_info < (2, 1, 0) else 'default') # noqa","<table class=""docutils align-center"">"""""" # noqa",11,8
openstack%2Fos-api-ref~master~Ifc243b812803ec7a015bd2bf53988d9567fca116,openstack/os-api-ref,master,Ifc243b812803ec7a015bd2bf53988d9567fca116,Add Python 3 Train unit tests,MERGED,2019-06-24 13:14:24.000000000,2019-06-24 22:10:00.000000000,2019-06-24 22:10:00.000000000,"[{'_account_id': 6547}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/cab7f790079f0adaf8541bd29175b2a95163ef42', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ifc243b812803ec7a015bd2bf53988d9567fca116\nStory: #2005924\nTask: #34205\n'}, {'number': 2, 'created': '2019-06-24 15:09:10.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/678238dec2162b3dfac29231c11fa1af71009fca', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ifc243b812803ec7a015bd2bf53988d9567fca116\nStory: #2005924\nTask: #34205\n'}]",0,667082,678238dec2162b3dfac29231c11fa1af71009fca,10,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ifc243b812803ec7a015bd2bf53988d9567fca116
Story: #2005924
Task: #34205
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/82/667082/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,cab7f790079f0adaf8541bd29175b2a95163ef42,python3-train,"envlist = py27,py37,pep8,docs","envlist = py27,py36,py37,pep8,docs",2,3
openstack%2Fpython-tripleoclient~master~I101c4c70f2804779089ba25720141a9320270edc,openstack/python-tripleoclient,master,I101c4c70f2804779089ba25720141a9320270edc,Set IPv6 params True if undercloud local_ip is IPv6,MERGED,2019-06-20 15:58:48.000000000,2019-06-24 21:44:03.000000000,2019-06-24 21:44:03.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-20 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/60b262ab89ff2bf5f3836caba88a8b2047049994', 'message': 'Set IPv6 params True if undercloud local_ip is IPv6\n\nWhen deploying the undercloud using an IPv6 control plane\nthe set various parameters for IPv6 to True.\n\nChange-Id: I101c4c70f2804779089ba25720141a9320270edc\nCloses-Bug: #1831315\n'}, {'number': 2, 'created': '2019-06-20 21:44:17.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e66a91ef0ef33caeaec1efc39bdaaf660a1e8a4', 'message': 'Set IPv6 params True if undercloud local_ip is IPv6\n\nWhen deploying the undercloud using an IPv6 control plane\nthe set various parameters for IPv6 to True.\n\nChange-Id: I101c4c70f2804779089ba25720141a9320270edc\nCloses-Bug: #1831315\n'}]",0,666621,5e66a91ef0ef33caeaec1efc39bdaaf660a1e8a4,18,7,2,24245,,,0,"Set IPv6 params True if undercloud local_ip is IPv6

When deploying the undercloud using an IPv6 control plane
the set various parameters for IPv6 to True.

Change-Id: I101c4c70f2804779089ba25720141a9320270edc
Closes-Bug: #1831315
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/666621/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,60b262ab89ff2bf5f3836caba88a8b2047049994,IPv6-support-and-testing," def test_ipv6_control_plane(self): env = {} self.conf.config(local_ip='fd12:3456:789a:1::2/64', undercloud_admin_host='fd12:3456:789a:1::3', undercloud_public_host='fd12:3456:789a:1::4') self.conf.config(cidr='fd12:3456:789a:1::/64', dhcp_start='fd12:3456:789a:1::10', dhcp_end='fd12:3456:789a:1::20', dhcp_exclude=[], inspection_iprange='fd12:3456:789a:1::30,fd12:3456:789a:1::40', gateway='fd12:3456:789a:1::1', masquerade=False, host_routes=[], group='ctlplane-subnet') undercloud_config._process_network_args(env) expected = { 'NovaIPv6': True, 'RabbitIPv6': True, 'MemcachedIPv6': True, 'RedisIPv6': True, 'MysqlIPv6': True, 'ControlPlaneStaticRoutes': [], 'DnsServers': '', 'IronicInspectorSubnets': [ {'gateway': 'fd12:3456:789a:1::1', 'host_routes': [], 'ip_range': 'fd12:3456:789a:1::30,fd12:3456:789a:1::40', 'netmask': 'ffff:ffff:ffff:ffff::', 'tag': 'ctlplane-subnet'}], 'MasqueradeNetworks': {}, 'UndercloudCtlplaneSubnets': { 'ctlplane-subnet': { 'AllocationPools': [ {'start': 'fd12:3456:789a:1::10', 'end': 'fd12:3456:789a:1::20'}], 'HostRoutes': [], 'NetworkCidr': 'fd12:3456:789a:1::/64', 'NetworkGateway': 'fd12:3456:789a:1::1'}}} self.assertEqual(expected, env) ",,46,0
openstack%2Fcyborg-tempest-plugin~master~Ia7791397aeedf60bc2a6b01919bcdfca6c236add,openstack/cyborg-tempest-plugin,master,Ia7791397aeedf60bc2a6b01919bcdfca6c236add,squashing Xinran and Biwei's three commits together Cleaned up code and all tempest tests passing except for Delete Device Profile bug,ABANDONED,2019-06-24 19:28:56.000000000,2019-06-24 21:31:52.000000000,,[],"[{'number': 1, 'created': '2019-06-24 19:28:56.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', '.gitignore', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'accounts_file.yaml', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'cyborg_tempest_plugin/tests/api/base.py', 'cyborg_tempest_plugin/tests/api/test_hello_world.py', '.stestr.conf', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/0e7deefb4753a2851ad625959b2476a8577b680e', 'message': ""squashing Xinran and Biwei's three commits together\nCleaned up code and all tempest tests passing\nexcept for Delete Device Profile bug\n\nChange-Id: Ia7791397aeedf60bc2a6b01919bcdfca6c236add\n""}]",0,667202,0e7deefb4753a2851ad625959b2476a8577b680e,2,0,1,29907,,,0,"squashing Xinran and Biwei's three commits together
Cleaned up code and all tempest tests passing
except for Delete Device Profile bug

Change-Id: Ia7791397aeedf60bc2a6b01919bcdfca6c236add
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/02/667202/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_profile.py', '.gitignore', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'accounts_file.yaml', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'cyborg_tempest_plugin/tests/api/base.py', 'cyborg_tempest_plugin/tests/api/test_hello_world.py', '.stestr.conf', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py']",11,0e7deefb4753a2851ad625959b2476a8577b680e,,"# Copyright 2019 Intel, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import utils from tempest.common import waiters from tempest import config from tempest.lib import decorators from cyborg_tempest_plugin.tests.scenario import manager CONF = config.CONF class TestServerBasicOps(manager.ScenarioTest): """"""The test suite for accelerator basic operations This smoke test case follows this basic set of operations: * Create a keypair for use in launching an instance * Create a security group to control network access in instance * Add simple permissive rules to the security group * Launch an instance * Terminate the instance """""" def setUp(self): super(TestServerBasicOps, self).setUp() @decorators.idempotent_id('7fff3fb3-91d8-4fd0-bd7d-0204f1f180ba') @decorators.attr(type='smoke') @utils.services('compute', 'network') def test_server_basic_ops(self): """"""Test for booting a VM with attached accelerator"""""" keypair = self.create_keypair() security_group = self._create_security_group() # flavor = self.create_flavor() response = self.create_device_profile() device_profile_name = response[""name""] accl_flavor = self.create_accel_flavor(device_profile_name) self.instance = self.create_server( key_name=keypair['name'], security_groups=[{'name': security_group['name']}], name=""cyborg-tempest-test-server"", flavor=accl_flavor) self.servers_client.delete_server(self.instance['id']) waiters.wait_for_server_termination( self.servers_client, self.instance['id'], ignore_error=False) ",,753,66
openstack%2Fcyborg-tempest-plugin~master~I9fb0a4102ecc1800332573677ab37bd237ddb010,openstack/cyborg-tempest-plugin,master,I9fb0a4102ecc1800332573677ab37bd237ddb010,fixed formatting mistakes to pass pep8 tests,ABANDONED,2019-06-24 21:23:03.000000000,2019-06-24 21:30:44.000000000,,[],"[{'number': 1, 'created': '2019-06-24 21:23:03.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'tox.ini', 'cyborg_tempest_plugin/tests/api/base.py', 'cyborg_tempest_plugin/tests/api/test_hello_world.py', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/6e201e1de455fcec231a572585addd42b0da436c', 'message': 'fixed formatting mistakes to pass pep8 tests\n\nChange-Id: I9fb0a4102ecc1800332573677ab37bd237ddb010\n'}]",0,667229,6e201e1de455fcec231a572585addd42b0da436c,2,0,1,29907,,,0,"fixed formatting mistakes to pass pep8 tests

Change-Id: I9fb0a4102ecc1800332573677ab37bd237ddb010
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/29/667229/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg_tempest_plugin/tests/api/test_device_profile.py', 'cyborg_tempest_plugin/tests/scenario/manager.py', 'cyborg_tempest_plugin/config.py', 'cyborg_tempest_plugin/plugin.py', 'cyborg_tempest_plugin/services/cyborg_rest_client.py', 'tox.ini', 'cyborg_tempest_plugin/tests/api/base.py', 'cyborg_tempest_plugin/tests/api/test_hello_world.py', 'cyborg_tempest_plugin/tests/scenario/test_accelerator_basic_ops.py']",9,6e201e1de455fcec231a572585addd42b0da436c,,"# Copyright 2019 Intel, Corp. device_profile_name = response[""name""]","# Copyright 2019 Intel, Inc. device_profile_name = response[""name""]",37,40
openstack%2Ftripleo-ci~master~Ib2a3a24e3eabe82e999d6ddeae0084ea2bf9fe02,openstack/tripleo-ci,master,Ib2a3a24e3eabe82e999d6ddeae0084ea2bf9fe02,add the image-yaml dir to trigger image-build jobs,ABANDONED,2019-06-24 20:42:47.000000000,2019-06-24 21:29:40.000000000,,[],"[{'number': 1, 'created': '2019-06-24 20:42:47.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/515b281e09d312310b3aff3b4372332ededf2523', 'message': ""add the image-yaml dir to trigger image-build jobs\n\nLet's trigger off of changes to the DIB.\nPerhaps after EL8 is settled we can remove\nthis again.\n\nChange-Id: Ib2a3a24e3eabe82e999d6ddeae0084ea2bf9fe02\n""}]",0,667223,515b281e09d312310b3aff3b4372332ededf2523,2,0,1,9592,,,0,"add the image-yaml dir to trigger image-build jobs

Let's trigger off of changes to the DIB.
Perhaps after EL8 is settled we can remove
this again.

Change-Id: Ib2a3a24e3eabe82e999d6ddeae0084ea2bf9fe02
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/667223/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,515b281e09d312310b3aff3b4372332ededf2523,, - ^image-yaml/.*$ - ^image-yaml/.*$ - ^image-yaml/.*$,,3,0
openstack%2Fcharm-vault~master~I2bac675e92d5bcc42acebdf5d6a5b28a06785f3c,openstack/charm-vault,master,I2bac675e92d5bcc42acebdf5d6a5b28a06785f3c,Switch .gitreview to point to openstack/charm-vault,MERGED,2019-06-24 20:15:15.000000000,2019-06-24 21:08:35.000000000,2019-06-24 21:08:35.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:15:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3d097b7ea31030cc3590f46fdcde42e0be44f562', 'message': 'Switch .gitreview to point to openstack/charm-vault\n\nThis is due to the project change due to:\nI7b8f4c2f74530152ac0190024f829491aad2e0fc\n\nChange-Id: I2bac675e92d5bcc42acebdf5d6a5b28a06785f3c\n'}]",0,667214,3d097b7ea31030cc3590f46fdcde42e0be44f562,7,3,1,20870,,,0,"Switch .gitreview to point to openstack/charm-vault

This is due to the project change due to:
I7b8f4c2f74530152ac0190024f829491aad2e0fc

Change-Id: I2bac675e92d5bcc42acebdf5d6a5b28a06785f3c
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/14/667214/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,3d097b7ea31030cc3590f46fdcde42e0be44f562,,project=openstack/charm-vault.git,project=x/charm-vault.git,1,1
openstack%2Fopenstack-helm-infra~master~Id68645b6535c9b1d87c133431b7cd6eb50fb030e,openstack/openstack-helm-infra,master,Id68645b6535c9b1d87c133431b7cd6eb50fb030e,[etcd] Move etcd storage to tmpfs,MERGED,2019-06-21 19:02:38.000000000,2019-06-24 21:04:01.000000000,2019-06-24 21:04:01.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-21 19:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8d5ca2da03bab8aac68fdb8ea52f877cbee45c5f', 'message': '[WIP] Move etcd storage to tmpfs\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 2, 'created': '2019-06-21 20:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d81f6e48991368eb8261759343f922d344cd4e53', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 3, 'created': '2019-06-21 21:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e1d1934244b7e15da3d0eca2c4584a22faf3285', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 4, 'created': '2019-06-21 23:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/02bf31b53ab5cd0d2d30699f5808cc38a8045d44', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 5, 'created': '2019-06-22 10:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1d0bccf41be0b87b124033074d6a4c837d30f0e', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 6, 'created': '2019-06-22 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e56604430f627a4084ce806a54860fa107f96c5c', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 7, 'created': '2019-06-24 15:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1ddeba3c3c2fcb74232accd44f6842072343ba0', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 8, 'created': '2019-06-24 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfc559fcd8788573dd8bebe2931ab8a2e867813c', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}, {'number': 9, 'created': '2019-06-24 18:14:27.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/44c1dcc4c97012409f3e35fcea6b15f1032adf38', 'message': '[etcd] Move etcd storage to tmpfs\n\nThe PS allows to use tmpfs for etcd during the gates.\nThere is an assumption that it will improve the performance and\nwill allow to get rid of weird issues.\n\nChange-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e\n'}]",1,666901,44c1dcc4c97012409f3e35fcea6b15f1032adf38,22,9,9,17119,,,0,"[etcd] Move etcd storage to tmpfs

The PS allows to use tmpfs for etcd during the gates.
There is an assumption that it will improve the performance and
will allow to get rid of weird issues.

Change-Id: Id68645b6535c9b1d87c133431b7cd6eb50fb030e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/666901/9 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,8d5ca2da03bab8aac68fdb8ea52f877cbee45c5f,," libxtables12 \ python-yaml# Move etcd storage to tmpfs echo ""import yaml import time from os import path conf_path = '/etc/kubernetes/manifests/etcd.yaml' end = time.time() + 300 while time.time() < end: if path.exists(conf_path): with open(conf_path, 'r') as f: config = yaml.safe_load(f) vol = [v for v in config['spec']['volumes'] if v['name'] == 'etcd-data'][0] [vol.pop(k) for k in vol.keys() if k != 'name'] vol.update({'emptyDir':{'medium':'Memory'}}) with open(conf_path, 'w') as f: yaml.dump(config, f, default_flow_style=False) break time.sleep(5)"" | python - & ", libxtables12,21,1
openstack%2Fopenstack-ansible-galera_client~master~I64c6796e4324717dd98aa8488bc3e83b31073c45,openstack/openstack-ansible-galera_client,master,I64c6796e4324717dd98aa8488bc3e83b31073c45,Fix galera_client installation for openSUSE Leap 15.1,MERGED,2019-06-19 09:07:44.000000000,2019-06-24 20:58:48.000000000,2019-06-24 20:58:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-19 09:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/733d1bf2e52e0466602efa821089b7610abca3b5', 'message': 'Fix galera_client installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I64c6796e4324717dd98aa8488bc3e83b31073c45\n'}, {'number': 2, 'created': '2019-06-19 11:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/b5eca3bf5f95177adb98cb4ae3b196daa18a01d3', 'message': 'Fix galera_client installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I64c6796e4324717dd98aa8488bc3e83b31073c45\n'}, {'number': 3, 'created': '2019-06-19 14:14:11.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/1fce4446f6fd32d2add092e9c623cfb121bcff01', 'message': 'Fix galera_client installation for openSUSE Leap 15.1\n\nThe MariaDB repositories are offering a download repo under\nthe leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap\n42.x and leap 15.x versions, respectively. There isn\'t a specific\nbuild for openSUSE Leap 15.1, so the previous logic selected\na repo url of opensuse-151 which does not exist.\n\nChange-Id: I64c6796e4324717dd98aa8488bc3e83b31073c45\n'}]",0,666249,1fce4446f6fd32d2add092e9c623cfb121bcff01,10,3,3,6593,,,0,"Fix galera_client installation for openSUSE Leap 15.1

The MariaDB repositories are offering a download repo under
the leap major version, e.g. ""opensuse15"" or ""opensuse42"" for all leap
42.x and leap 15.x versions, respectively. There isn't a specific
build for openSUSE Leap 15.1, so the previous logic selected
a repo url of opensuse-151 which does not exist.

Change-Id: I64c6796e4324717dd98aa8488bc3e83b31073c45
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/49/666249/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,733d1bf2e52e0466602efa821089b7610abca3b5,,"_galera_opensuse_dir: ""{{ ansible_distribution_major_version) }}""","_galera_opensuse_dir: ""{{ (ansible_distribution_major_version == '15') | ternary(ansible_distribution_version | regex_replace('\\.', ''), ansible_distribution_major_version) }}""",1,1
openstack%2Fopenstack-helm-infra~master~I612b8ac24ba2c5ab2dc87d469fbf6fc44a2501b6,openstack/openstack-helm-infra,master,I612b8ac24ba2c5ab2dc87d469fbf6fc44a2501b6,[WIP] Add changes to tests,ABANDONED,2019-06-18 22:30:46.000000000,2019-06-24 20:58:13.000000000,,"[{'_account_id': 17119}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 22:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00e26a969739a48462b474d7dc5906c5dee46709', 'message': '[WIP] Add changes to tests\n\nChange-Id: I612b8ac24ba2c5ab2dc87d469fbf6fc44a2501b6\n'}, {'number': 2, 'created': '2019-06-20 18:02:34.000000000', 'files': ['ceph-provisioners/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6da6db5297777da2c427cf370d5995b5aa93a36', 'message': '[WIP] Add changes to tests\n\nChange-Id: I612b8ac24ba2c5ab2dc87d469fbf6fc44a2501b6\n'}]",0,666180,d6da6db5297777da2c427cf370d5995b5aa93a36,9,2,2,17119,,,0,"[WIP] Add changes to tests

Change-Id: I612b8ac24ba2c5ab2dc87d469fbf6fc44a2501b6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/666180/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-provisioners/templates/bin/_helm-tests.sh.tpl'],1,00e26a969739a48462b474d7dc5906c5dee46709,, kubectl get pvc -n $pvc_namespace $pvc_name,,1,0
openstack%2Fpython-novaclient~master~Ie78badfeed7e51f1786eb5041010c7d17b02e412,openstack/python-novaclient,master,Ie78badfeed7e51f1786eb5041010c7d17b02e412,"Revert ""Add irrelevant files in dsvm job""",MERGED,2019-06-24 16:05:47.000000000,2019-06-24 20:50:54.000000000,2019-06-24 20:50:54.000000000,"[{'_account_id': 679}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 16:05:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4bfcc1a9faae1c505266abd0e2a61b8b3cf621f4', 'message': 'Revert ""Add irrelevant files in dsvm job""\n\nThis reverts commit 52ae954bd09bbb1536bc03b0be334d02e66fe93c.\n\nThe change ignored way too many things that should be run\nthrough the functional dsvm job, such as changes to the\nfunctional tests themselves, requirements, setup.cfg and\ntox.ini changes. The bug was about not running the dsvm\nfunctional job on docs changes and then went much further\nand clearly not much thought was put into what was being\nignored and if it should have been, so let\'s just revert\nand have a do-over.\n\nChange-Id: Ie78badfeed7e51f1786eb5041010c7d17b02e412\n'}]",0,667151,4bfcc1a9faae1c505266abd0e2a61b8b3cf621f4,7,5,1,6873,,,0,"Revert ""Add irrelevant files in dsvm job""

This reverts commit 52ae954bd09bbb1536bc03b0be334d02e66fe93c.

The change ignored way too many things that should be run
through the functional dsvm job, such as changes to the
functional tests themselves, requirements, setup.cfg and
tox.ini changes. The bug was about not running the dsvm
functional job on docs changes and then went much further
and clearly not much thought was put into what was being
ignored and if it should have been, so let's just revert
and have a do-over.

Change-Id: Ie78badfeed7e51f1786eb5041010c7d17b02e412
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/51/667151/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4bfcc1a9faae1c505266abd0e2a61b8b3cf621f4,bug/1833338,, irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^novaclient/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,9
openstack%2Ftripleo-quickstart~master~I7064c1a6b582b06eb55a701ee58d993026e25669,openstack/tripleo-quickstart,master,I7064c1a6b582b06eb55a701ee58d993026e25669,DNM: testing ansible 2.7,ABANDONED,2019-06-11 09:49:08.000000000,2019-06-24 20:41:46.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-11 09:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5207351d1cc97faef74da52a76fbf0708e759a9c', 'message': 'DNM: testing ansible 2.7\n\nChange-Id: I7064c1a6b582b06eb55a701ee58d993026e25669\n'}, {'number': 2, 'created': '2019-06-11 09:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/172e82c98c88626aa1e26e612c2c7bf394c26720', 'message': 'DNM: testing ansible 2.7\n\nChange-Id: I7064c1a6b582b06eb55a701ee58d993026e25669\n'}, {'number': 3, 'created': '2019-06-24 09:03:52.000000000', 'files': ['roles/repo-setup/templates/repo_setup.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ac9457bd289db7429570af821f1b44c5ae27d9b', 'message': 'DNM: testing ansible 2.7\n\nChange-Id: I7064c1a6b582b06eb55a701ee58d993026e25669\n'}]",0,664541,9ac9457bd289db7429570af821f1b44c5ae27d9b,21,3,3,10969,,,0,"DNM: testing ansible 2.7

Change-Id: I7064c1a6b582b06eb55a701ee58d993026e25669
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/664541/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/repo-setup/templates/repo_setup.sh.j2'],1,5207351d1cc97faef74da52a76fbf0708e759a9c,ansible-2.7-ooo, # let's check ansible 2.7,,2,0
openstack%2Fdevstack~master~I0d7f9f2baaee2836a719f199939156bd4f53f778,openstack/devstack,master,I0d7f9f2baaee2836a719f199939156bd4f53f778,Use neutron-legacy on subnodes in devstack zuul job,MERGED,2019-05-31 14:26:37.000000000,2019-06-24 20:24:07.000000000,2019-06-05 09:53:41.000000000,"[{'_account_id': 7118}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 14:26:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b15176b0598f00c442c3b40985df30204dc6963', 'message': 'Use neutron-legacy on subnodes in devstack zuul job\n\nThere are still some issues with lib/neutron thus neutron-legacy is used\non controller node in multinode jobs and in single node jobs.\nBut in ""group-vars"" in devstack job it was configured to use\nlib/neutron which can cause some problems in multinode jobs.\n\nSo lets switch to neutron-legacy on subnodes also until lib/neutron\nwill be ready to use everywhere.\n\nChange-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778\n'}]",0,662480,1b15176b0598f00c442c3b40985df30204dc6963,11,6,1,11975,,,0,"Use neutron-legacy on subnodes in devstack zuul job

There are still some issues with lib/neutron thus neutron-legacy is used
on controller node in multinode jobs and in single node jobs.
But in ""group-vars"" in devstack job it was configured to use
lib/neutron which can cause some problems in multinode jobs.

So lets switch to neutron-legacy on subnodes also until lib/neutron
will be ready to use everywhere.

Change-Id: I0d7f9f2baaee2836a719f199939156bd4f53f778
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/662480/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1b15176b0598f00c442c3b40985df30204dc6963,neutron-legacy, # We need to keep using the neutron-legacy based services for # now until all issues with the new lib/neutron code are solved q-agt: true # neutron-agent: true, neutron-agent: true,4,1
openstack%2Fdevstack~master~I78e3bb5303718962f591117f9c0ee11f2314b128,openstack/devstack,master,I78e3bb5303718962f591117f9c0ee11f2314b128,Update (git|review).openstack.org links to opendev,MERGED,2019-06-18 14:44:28.000000000,2019-06-24 20:23:20.000000000,2019-06-24 20:23:20.000000000,"[{'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 14:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e97746f7f06acdc7efcc596025ae11d66e448b9a', 'message': 'Update git.openstack.org to opendev.org\n\nEverything that goes to git.openstack.org gets redirected to\nopendev.org so this change updates the former links to the latter\nto avoid the redirect.\n\nNote that I also ran tools/generate-devstack-plugins-list.sh which\nregenerated doc/source/plugin-registry.rst.\n\nChange-Id: I78e3bb5303718962f591117f9c0ee11f2314b128\nPartial-Bug: #1833256\n'}, {'number': 2, 'created': '2019-06-18 14:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/08bf42f559d7bec2243f8198626a75400d8d0cdc', 'message': 'Update (git|review).openstack.org links to opendev\n\nThis updates links going to git.openstack.org and review.openstack.org\nto go to their respective opendev locations to avoid redirects.\n\nNote that I also ran tools/generate-devstack-plugins-list.sh which\nregenerated doc/source/plugin-registry.rst. As a result, several\nprojects with devstack plugins which are no longer under the openstack\nnamespace have been dropped from the plugin registry since they are now\nin namespaces like ""x"" and ""starlingx"".\n\nChange-Id: I78e3bb5303718962f591117f9c0ee11f2314b128\nCloses-Bug: #1833256\n'}, {'number': 3, 'created': '2019-06-21 03:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b7519831190fa0af96a0d65df9853b27b426c582', 'message': 'Update (git|review).openstack.org links to opendev\n\nThis updates links going to git.openstack.org and review.openstack.org\nto go to their respective opendev locations to avoid redirects.\n\nChange-Id: I78e3bb5303718962f591117f9c0ee11f2314b128\nCloses-Bug: #1833256\n'}, {'number': 4, 'created': '2019-06-21 04:35:36.000000000', 'files': ['doc/source/guides/nova.rst', 'doc/source/plugins.rst', 'doc/source/faq.rst', 'doc/source/guides/devstack-with-lbaas-v2.rst', 'doc/source/configuration.rst', 'README.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/single-vm.rst', 'doc/source/zuul_ci_jobs_migration.rst', 'doc/source/guides/lxc.rst', 'doc/source/index.rst', 'inc/python', 'doc/source/guides/neutron.rst', 'tools/fixup_stuff.sh', 'tools/install_pip.sh', 'tools/generate-devstack-plugins-list.py', 'doc/source/guides/multinode-lab.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b6d2f20b47523ddc51349943dd76bb76d1c58d8', 'message': 'Update (git|review).openstack.org links to opendev\n\nThis updates links going to git.openstack.org and review.openstack.org\nto go to their respective opendev locations to avoid redirects.\n\nChange-Id: I78e3bb5303718962f591117f9c0ee11f2314b128\nCloses-Bug: #1833256\n'}]",3,666006,9b6d2f20b47523ddc51349943dd76bb76d1c58d8,14,3,4,6873,,,0,"Update (git|review).openstack.org links to opendev

This updates links going to git.openstack.org and review.openstack.org
to go to their respective opendev locations to avoid redirects.

Change-Id: I78e3bb5303718962f591117f9c0ee11f2314b128
Closes-Bug: #1833256
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/666006/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/guides/nova.rst', 'doc/source/plugins.rst', 'doc/source/faq.rst', 'doc/source/guides/devstack-with-lbaas-v2.rst', 'README.rst', 'doc/source/guides/single-machine.rst', 'doc/source/guides/single-vm.rst', 'tools/generate-devstack-plugins-list.sh', 'doc/source/zuul_ci_jobs_migration.rst', 'doc/source/guides/lxc.rst', 'doc/source/index.rst', 'inc/python', 'doc/source/guides/neutron.rst', 'tools/fixup_stuff.sh', 'doc/source/plugin-registry.rst', 'tools/install_pip.sh', 'stackrc', 'tools/generate-devstack-plugins-list.py', 'doc/source/guides/multinode-lab.rst', 'HACKING.rst']",20,e97746f7f06acdc7efcc596025ae11d66e448b9a,bug/1833256,https://opendev.org/openstack/devstack. Besides the master branch that,https://git.openstack.org/openstack-dev/devstack. Besides the master branch that,146,218
openstack%2Foctavia-tempest-plugin~master~I1be586fcd72060a5bf47d5ae7e99fac92855ff57,openstack/octavia-tempest-plugin,master,I1be586fcd72060a5bf47d5ae7e99fac92855ff57,Fix log output format string,MERGED,2019-06-24 13:57:50.000000000,2019-06-24 20:23:03.000000000,2019-06-24 20:23:03.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:57:50.000000000', 'files': ['octavia_tempest_plugin/tests/validators.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7654d2e12bf011705dd94b2b79c063a39e9817e5', 'message': 'Fix log output format string\n\nWrong kind of brackets caused a crash when this log output was created.\n\nChange-Id: I1be586fcd72060a5bf47d5ae7e99fac92855ff57\n'}]",0,667106,7654d2e12bf011705dd94b2b79c063a39e9817e5,7,3,1,25023,,,0,"Fix log output format string

Wrong kind of brackets caused a crash when this log output was created.

Change-Id: I1be586fcd72060a5bf47d5ae7e99fac92855ff57
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/06/667106/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/validators.py'],1,7654d2e12bf011705dd94b2b79c063a39e9817e5,, LOG.info('Request for {} timed out. Retrying.'.format(URL)), LOG.info('Request for () timed out. Retrying.'.format(URL)),1,1
openstack%2Fdevstack~master~Ifcfce490edb3d77e4e436e002d35bc909e1a057c,openstack/devstack,master,Ifcfce490edb3d77e4e436e002d35bc909e1a057c,Change the GIT_BASE default to https://opendev.org,MERGED,2019-05-07 16:13:54.000000000,2019-06-24 20:14:06.000000000,2019-06-24 20:14:06.000000000,"[{'_account_id': 1653}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/190fcbb01cfd74407c6e19814a69ac3c2d31c19d', 'message': 'Change the GIT_BASE default to https://opendev.org\n\nChange-Id: Ifcfce490edb3d77e4e436e002d35bc909e1a057c\n'}, {'number': 2, 'created': '2019-06-21 03:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c89384dd562ec1ae60dafce01885df1db20f37dc', 'message': 'Change the GIT_BASE default to https://opendev.org\n\nChange-Id: Ifcfce490edb3d77e4e436e002d35bc909e1a057c\n'}, {'number': 3, 'created': '2019-06-21 04:35:36.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/371a25328525ac16677ad721f725e81628f9d941', 'message': 'Change the GIT_BASE default to https://opendev.org\n\nChange-Id: Ifcfce490edb3d77e4e436e002d35bc909e1a057c\n'}]",3,657634,371a25328525ac16677ad721f725e81628f9d941,20,4,3,2592,,,0,"Change the GIT_BASE default to https://opendev.org

Change-Id: Ifcfce490edb3d77e4e436e002d35bc909e1a057c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/657634/2 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,190fcbb01cfd74407c6e19814a69ac3c2d31c19d,bug/1833256,GIT_BASE=${GIT_BASE:-https://opendev.org},GIT_BASE=${GIT_BASE:-https://git.openstack.org},1,1
openstack%2Fneutron~master~I88538a67585bc4f345a63f6becb14d2e0fb9779f,openstack/neutron,master,I88538a67585bc4f345a63f6becb14d2e0fb9779f,DNM Only test of iptables_hybrid CI jobs,ABANDONED,2019-06-24 07:52:57.000000000,2019-06-24 20:10:28.000000000,,"[{'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-24 07:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f12ac2f66b5f7dd440a5c07a4ce709889ca2ef40', 'message': 'DNM Only test of iptables_hybrid CI jobs\n\nDepends-On: https://review.opendev.org/#/c/667035/\nChange-Id: I88538a67585bc4f345a63f6becb14d2e0fb9779f\n'}, {'number': 2, 'created': '2019-06-24 07:55:50.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b60cd1305a824d9a9f5be607296accfe98d802a9', 'message': 'DNM Only test of iptables_hybrid CI jobs\n\nRelated-Bug: #1833902\nDepends-On: https://review.opendev.org/#/c/667035/\nChange-Id: I88538a67585bc4f345a63f6becb14d2e0fb9779f\n'}]",0,667036,b60cd1305a824d9a9f5be607296accfe98d802a9,10,5,2,11975,,,0,"DNM Only test of iptables_hybrid CI jobs

Related-Bug: #1833902
Depends-On: https://review.opendev.org/#/c/667035/
Change-Id: I88538a67585bc4f345a63f6becb14d2e0fb9779f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/667036/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,f12ac2f66b5f7dd440a5c07a4ce709889ca2ef40,bug/1833902,# It is only test of iptables_hybrid jobs,,1,0
openstack%2Ftripleo-quickstart~master~I4c047bb2838ff549751b0f439ddffdd71b2aa73b,openstack/tripleo-quickstart,master,I4c047bb2838ff549751b0f439ddffdd71b2aa73b,Set featureset021 to run only skip list,MERGED,2019-06-12 13:35:26.000000000,2019-06-24 19:45:38.000000000,2019-06-24 19:45:37.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-12 13:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3bf61b16db0e1de7acb945c09e21e2963720fcf4', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}, {'number': 2, 'created': '2019-06-13 11:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9b1a5ad011d1552c17329e3b2b100245417f91a6', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}, {'number': 3, 'created': '2019-06-13 11:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3430b25dace822035f89a7ad9748a58c01bf2889', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}, {'number': 4, 'created': '2019-06-14 09:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9587ac09ce807bcf32422afaf7605cf73a9365d6', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}, {'number': 5, 'created': '2019-06-14 19:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a3e171de8e67fc458c3b3270ceb8ab29fb232cdb', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}, {'number': 6, 'created': '2019-06-15 08:25:24.000000000', 'files': ['config/general_config/featureset021.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3e77553b0acfb7f944aafc0c9dfea6f1a1c12ceb', 'message': 'Set featureset021 to run only skip list\n\nThis patch make featureset021 run only the tests on skip list instead\nof full tempest.\n\nChange-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b\n'}]",2,664926,3e77553b0acfb7f944aafc0c9dfea6f1a1c12ceb,38,5,6,8367,,,0,"Set featureset021 to run only skip list

This patch make featureset021 run only the tests on skip list instead
of full tempest.

Change-Id: I4c047bb2838ff549751b0f439ddffdd71b2aa73b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/26/664926/6 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset021.yml'],1,3bf61b16db0e1de7acb945c09e21e2963720fcf4,featureset021-whitelist,"# Featureset 021 is a special case where we do not run full tempest # but just the tests on skiplist skip_test_file: ""{{ playbook_dir | dirname }}/vars/tempest_skip_{{ release | default('master') }}.yml"" skip_list_tests: ""{{ lookup('file', skip_test_file) }}"" tempest_whitelist: ""{{ skip_list_tests['known_failures'] | map(attribute='test') | list }}"" # test_white_regex: '.*'",test_white_regex: '.*',9,1
openstack%2Ftripleo-heat-templates~master~I40df01e75f042176984b31fa5c4811302f9463d1,openstack/tripleo-heat-templates,master,I40df01e75f042176984b31fa5c4811302f9463d1,Remove faulty placement::config leftovers,MERGED,2019-06-24 10:44:48.000000000,2019-06-24 19:45:35.000000000,2019-06-24 19:45:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-24 10:44:48.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93c8eedaea97399063705d7f80aa7cd27f6f6d60', 'message': 'Remove faulty placement::config leftovers\n\nIfacef570b2296b1b62c75d850c6059562ec4cb1c removed the leftover auth\nparameters in placement::config.\n\nThis removes them from the placement template as they are not used\nand duplicate from what is set via placement::keystone::\n\nChange-Id: I40df01e75f042176984b31fa5c4811302f9463d1\n'}]",0,667063,93c8eedaea97399063705d7f80aa7cd27f6f6d60,8,4,1,17216,,,0,"Remove faulty placement::config leftovers

Ifacef570b2296b1b62c75d850c6059562ec4cb1c removed the leftover auth
parameters in placement::config.

This removes them from the placement template as they are not used
and duplicate from what is set via placement::keystone::

Change-Id: I40df01e75f042176984b31fa5c4811302f9463d1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/667063/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,93c8eedaea97399063705d7f80aa7cd27f6f6d60,placement-cleanup,," placement::config::project_name: 'service' placement::config::password: {get_param: PlacementPassword} placement::config::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} placement::config::region_name: {get_param: KeystoneRegion} placement::config::valid_interfaces: {get_param: PlacementAPIInterface}",0,5
openstack%2Fpuppet-tripleo~master~I1c76efb07474f8b0f5e226712aad30a75f6843af,openstack/puppet-tripleo,master,I1c76efb07474f8b0f5e226712aad30a75f6843af,Remove tuned puppet manifest,MERGED,2019-05-28 15:37:25.000000000,2019-06-24 19:45:34.000000000,2019-06-24 19:45:34.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 15:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f3ab2c3809e699d40083dc96ab1046a3f7de7edd', 'message': 'Remove tuned puppet manifest\n\nThe tuned puppet manifest is being removed because the heat template\nwhich invoked it has been converted to ansible. This change removes\nthe tuned manifest and spec files accordingly.\n\nDepends-On: I06d07f6f0949095cb716dd706e05f2e567c0d3d8\n\nChange-Id: I1c76efb07474f8b0f5e226712aad30a75f6843af\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 13:28:59.000000000', 'files': ['manifests/profile/base/tuned.pp', 'spec/classes/tripleo_profile_base_tuned_spec.rb', 'releasenotes/notes/tuned-removed-ab68a7109a1e7403.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/04c6f343e2443c1086f8f8553d871349acc5e289', 'message': 'Remove tuned puppet manifest\n\nThe tuned puppet manifest is being removed because the heat template\nwhich invoked it has been converted to ansible. This change removes\nthe tuned manifest and spec files accordingly.\n\nDepends-On: I06d07f6f0949095cb716dd706e05f2e567c0d3d8\n\nChange-Id: I1c76efb07474f8b0f5e226712aad30a75f6843af\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,661789,04c6f343e2443c1086f8f8553d871349acc5e289,36,6,2,7353,,,0,"Remove tuned puppet manifest

The tuned puppet manifest is being removed because the heat template
which invoked it has been converted to ansible. This change removes
the tuned manifest and spec files accordingly.

Depends-On: I06d07f6f0949095cb716dd706e05f2e567c0d3d8

Change-Id: I1c76efb07474f8b0f5e226712aad30a75f6843af
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/661789/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/tuned.pp', 'spec/classes/tripleo_profile_base_tuned_spec.rb', 'releasenotes/notes/tuned-removed-ab68a7109a1e7403.yaml']",3,f3ab2c3809e699d40083dc96ab1046a3f7de7edd,puppet2ansible,--- deprecations: - The tuned puppet manifest for `tuned` was removed. The heat template invoking this manifest has been converted to Ansible. ,,4,106
openstack%2Fnova~master~I77b3639435c671bacca9cdfc1aa203e44a2fb042,openstack/nova,master,I77b3639435c671bacca9cdfc1aa203e44a2fb042,"Revert ""Revert resize: wait for events according to hybrid plug""",MERGED,2019-06-24 07:50:37.000000000,2019-06-24 19:31:12.000000000,2019-06-24 19:14:33.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2019-06-24 07:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b4285e376d9dccec0c3ac35d2ca19bb92d640be', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b.\n\nChange-Id: I77b3639435c671bacca9cdfc1aa203e44a2fb042\nCloses-Bug: #1833902\n'}, {'number': 2, 'created': '2019-06-24 10:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fad30f4f5de598d5e876e8f4ab930cf5582ec94c', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b.\n\nCommit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b introduced\nregression and caused errors on Neutron CI jobs which runs\non single node jobs with iptables_hybrid firewall driver.\n\nChange-Id: I77b3639435c671bacca9cdfc1aa203e44a2fb042\nCloses-Bug: #1833902\n'}, {'number': 3, 'created': '2019-06-24 14:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94f89960c2c9ebe1215817b1f7e1b38bfe0845ca', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b.\n\nCommit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b introduced\nregression and caused errors on Neutron CI jobs which runs\non single node jobs with iptables_hybrid firewall driver.\nIt happens due to neutron not sending the network-vif-plugged\nevent for ovs hybrid plug ports for a same-host resize because\nthe host binding does not change.\n\nChange-Id: I77b3639435c671bacca9cdfc1aa203e44a2fb042\nCloses-Bug: #1833902\n'}, {'number': 4, 'created': '2019-06-24 14:24:17.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/83a5429db447b17110a7fc192a61879e84f5e5a2', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b.\n\nCommit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b introduced\na regression and caused errors on Neutron CI jobs which run\non a single node with iptables_hybrid firewall driver.\nThis is because the nova change made the resize revert flow\nwait for neutron-vif-plugged events in the ComputeManager\nwhen the port\'s host binding changes for iptables_hybrid\nports but for those types of ports, Neutron does not send\nthe event if the host does not change - which is the case\nfor a same-host resize being reverted.\n\nChange-Id: I77b3639435c671bacca9cdfc1aa203e44a2fb042\nCloses-Bug: #1833902\n'}]",0,667035,83a5429db447b17110a7fc192a61879e84f5e5a2,46,25,4,11975,,,0,"Revert ""Revert resize: wait for events according to hybrid plug""

This reverts commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b.

Commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b introduced
a regression and caused errors on Neutron CI jobs which run
on a single node with iptables_hybrid firewall driver.
This is because the nova change made the resize revert flow
wait for neutron-vif-plugged events in the ComputeManager
when the port's host binding changes for iptables_hybrid
ports but for those types of ports, Neutron does not send
the event if the host does not change - which is the case
for a same-host resize being reverted.

Change-Id: I77b3639435c671bacca9cdfc1aa203e44a2fb042
Closes-Bug: #1833902
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/667035/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,4b4285e376d9dccec0c3ac35d2ca19bb92d640be,bug/1813789," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: vifs_already_plugged=None): context.get_admin_context(), ins_ref, [], None, power_on) drvr.finish_revert_migration(context, ins_ref, []) drvr.finish_revert_migration('', instance, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False)"," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_plug_time_vif), network_model.VIF(id=uuids.hybrid_bind_time_vif, details={'ovs_hybrid_plug': True})]) self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_plug_time_vif)] context.get_admin_context(), ins_ref, network_info, None, power_on) drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False)",34,240
openstack%2Fopenstack-ansible-os_keystone~master~Ide611fd3d88e352367220f05dbcf4186ac20319f,openstack/openstack-ansible-os_keystone,master,Ide611fd3d88e352367220f05dbcf4186ac20319f,Fix loss of fernet and credential keys during Rocky to Stein upgrade,MERGED,2019-06-19 19:44:06.000000000,2019-06-24 19:26:59.000000000,2019-06-24 19:06:44.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-19 19:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/71fce90d2a1f9d54f631525e85d021a7964e3cac', 'message': 'Fix loss of fernet tokens on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 2, 'created': '2019-06-19 19:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8f92fd13fcdb3f178f8589a39851b532d5b870b7', 'message': 'Fix loss of fernet tokens on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 3, 'created': '2019-06-19 19:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/9ef493ff6dd66e95cfe1fe4dc52d7ab3b257c1e3', 'message': 'Fix loss of fernet tokens on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 4, 'created': '2019-06-19 20:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4e9bedd2a3b7a43bd96e3b80cbb435e79b7e4f4c', 'message': 'Fix loss of fernet tokens on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 5, 'created': '2019-06-19 20:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ab143450f58af7a36fa04f3c22f57affdcb2e020', 'message': 'Fix loss of fernet keys on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 6, 'created': '2019-06-19 21:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/46433ef20e5bf433112776413df8aba5b63aa6ab', 'message': 'Fix loss of fernet keys on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 7, 'created': '2019-06-19 21:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/c2d81653d1a62e76ae5710a6c8de16f502b82904', 'message': 'Fix loss of fernet keys on Rocky to Stein upgrade for source installs\n\nThe introduction of smart-soures in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nkeys which pre-existed in the case of an upgrade from Rocky, and\nre-initialising a new key. The original keys are deleted in a way\nwhich is unrecoverable in the absence of a backup taken by the\noperator.\n\nFor minor upgrades between versions of Stein the smart-sources\ncode would have created a new empty /etc/keystone directory in\nthe newly created upgrade venv and re-initialised the fernet keys\nas would happen for a fresh installation, however the old keys\nwould be recoverable manually from the previous venv.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, tasks are added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}, {'number': 8, 'created': '2019-06-20 15:48:01.000000000', 'files': ['tasks/keystone_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/8e1f7f4ad8918af9e467387144c7eede7f19f92a', 'message': 'Fix loss of fernet and credential keys during Rocky to Stein upgrade\n\nThis applies only to source based installations.\n\nThe introduction of smart-sources in [1] created a code path\nwhich deletes the /etc/keystone directory before symlinking it\ninto the keystone venv and creating the necessary config files.\n\nUnfortunatley this has the side effect of also deleting any fernet\nand credential keys which pre-existed in the case of an upgrade from\nRocky. The original keys were deleted simulataneously across the whole\nkeystone_all group in a way which is makes them unrecoverable in\nthe absence of a backup taken by the operator.\n\nThis change simplifies the smart-sources code to always keep the\nkeystone config files and fernet keys in the host /etc/keystone.\nThis ensures that the lifecycle of the fernet keys is not coupled\nto the lifecycle of the keystone venvs.\n\nIn addition, a task is added to rescue any keys which have been\ncreated in the keystone venv by installations from the Stein\nrelease-candidate.\n\n[1] https://review.opendev.org/#/c/588960/\n\nCloses-Bug: 1833414\nChange-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f\n'}]",8,666428,8e1f7f4ad8918af9e467387144c7eede7f19f92a,33,5,8,25023,,,0,"Fix loss of fernet and credential keys during Rocky to Stein upgrade

This applies only to source based installations.

The introduction of smart-sources in [1] created a code path
which deletes the /etc/keystone directory before symlinking it
into the keystone venv and creating the necessary config files.

Unfortunatley this has the side effect of also deleting any fernet
and credential keys which pre-existed in the case of an upgrade from
Rocky. The original keys were deleted simulataneously across the whole
keystone_all group in a way which is makes them unrecoverable in
the absence of a backup taken by the operator.

This change simplifies the smart-sources code to always keep the
keystone config files and fernet keys in the host /etc/keystone.
This ensures that the lifecycle of the fernet keys is not coupled
to the lifecycle of the keystone venvs.

In addition, a task is added to rescue any keys which have been
created in the keystone venv by installations from the Stein
release-candidate.

[1] https://review.opendev.org/#/c/588960/

Closes-Bug: 1833414
Change-Id: Ide611fd3d88e352367220f05dbcf4186ac20319f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/28/666428/6 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_pre_install.yml'],1,71fce90d2a1f9d54f631525e85d021a7964e3cac,bug/1833414," # NOTE(jrosser) this block is to undo symlinking of /etc/keystone into # the keystone venv introduced in change-id I93cb6463ca1eb93ab7f4e7a3970a7de829efaf66. # The previous behaviour of deleting the /etc/keystone directory caused the total # loss of all fernet tokens and this would occur during an R->S upgrade using the # Stein release candidate. Remove in Train release. - name: Remove the config directory symlink, if it exists - item.stat.islnk is defined and item.stat.islnk - path: ""/etc/keystone"" state: 'directory' - name: Remove the config directory symlink, if it exists file: path: ""/etc/keystone"" state: absent with_items: - ""{{ keystone_conf_dir_stat.results }}"" delegate_to: ""{{ item.item }}"" when: - item.stat.islnk is defined and item.stat.islnk # NOTE (jrosser) This recovers Stein release candidate deployments into a # state where the fernet keys will not be lost on subsequent upgrades. # Remove in Train release - name: Rescue fernet keys symlinked into the ansible venv command: > cp -rp {{ item.stat.lnk_target }}/* /etc/keystone with_items: - ""{{ keystone_conf_dir_stat.results }}"" delegate_to: ""{{ item.item }}"" when: - keystone_install_method == 'source' - item.stat.islnk is defined and item.stat.islnk tags: - skip_ansible_lint ","# NOTE(cloudnull): During an upgrade the local directory may exist on a source # install. If the directory does exist it will need to be # removed. This is required on source installs because the # config directory is a link. - name: Remove the config directory - item.stat.isdir is defined and item.stat.isdir - ""inventory_hostname == ansible_play_hosts[0]"" - path: ""{{ (keystone_install_method == 'distro') | ternary('/etc/keystone', (keystone_bin | dirname) + '/etc/keystone') }}"" state: ""{{ (keystone_install_method == 'source') | ternary('link', 'directory') }}""",39,10
openstack%2Fkeystone~master~Ica7037541a1305308ed743d8e04a3c2f02a2b811,openstack/keystone,master,Ica7037541a1305308ed743d8e04a3c2f02a2b811,Don't call .c from select() objects,MERGED,2019-06-22 15:20:19.000000000,2019-06-24 19:18:57.000000000,2019-06-24 19:18:57.000000000,"[{'_account_id': 2903}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-22 15:20:19.000000000', 'files': ['keystone/tests/unit/backend/core_sql.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/48594eddeabdb79aa446a62ed390f9866b848fc9', 'message': 'Don\'t call .c from select() objects\n\nThe .c attribute on a SQLAlchemy select() object implicitly\ncreates an unnamed subquery when invoked, and the columns\nreturned are in reference to this subquery, not the SELECT\nstatement itself.   The usefulness of\nthis subquery is close to zero, whereas it confuses users\nwith its misleading behaviors,  complicates the internals,\nand is rejected by the two leading databases (PostgreSQL and\nMySQL) at the SQL level in any case, and as such it\'s going\naway most likely in SQLAlchemy 1.4, after\na short deprecation period that has yet to be announced in the 1.3\nseries.\n\nKeystone\'s schema-oriented unit tests appear to be applying\nthe select() construct to a Table object that\'s been reflected with\nautoload for the usually immediate purpose of iterating through\nthe columns of this Table and comparing them to a set of\ncomparison tuples, however the "".c."" collection\nis available on all ""from clause"" objects of which Table is a\nmember so there is no need to apply a select() first.  In particular,\nthere is a reference to an internal\nSQLAlchemy API ""_proxies"" which is attempting to reconcile the\nfact that the implicitly created subquery columns don\'t refer\nto the original Table column\'s ""default"" parameter (there is in fact\na public API for this system as well, but it is not needed\nonce the select() is removed).\n\nThis patch removes the ""select()"" applied to the Table returned\nby select_table() and renames the method to load_table() to more\naccurately reflect what this method does.   The use of SQLAlchemy\'s\nprivate ""_proxies"" API can now be removed, and the two occurrences\nwhere the select() were actually used to invoke a SELECT\nstatement are replaced with explicit\nproduction of a select() construct as well as making use of the\nalready-present Session to invoke the query rather than using\nan out-of-band ad-hoc transaction (connectionless execution is\nalso going away by SQLAlchemy 2.0 in any case).\n\nChange-Id: Ica7037541a1305308ed743d8e04a3c2f02a2b811\n'}]",0,666960,48594eddeabdb79aa446a62ed390f9866b848fc9,8,4,1,11816,,,0,"Don't call .c from select() objects

The .c attribute on a SQLAlchemy select() object implicitly
creates an unnamed subquery when invoked, and the columns
returned are in reference to this subquery, not the SELECT
statement itself.   The usefulness of
this subquery is close to zero, whereas it confuses users
with its misleading behaviors,  complicates the internals,
and is rejected by the two leading databases (PostgreSQL and
MySQL) at the SQL level in any case, and as such it's going
away most likely in SQLAlchemy 1.4, after
a short deprecation period that has yet to be announced in the 1.3
series.

Keystone's schema-oriented unit tests appear to be applying
the select() construct to a Table object that's been reflected with
autoload for the usually immediate purpose of iterating through
the columns of this Table and comparing them to a set of
comparison tuples, however the "".c."" collection
is available on all ""from clause"" objects of which Table is a
member so there is no need to apply a select() first.  In particular,
there is a reference to an internal
SQLAlchemy API ""_proxies"" which is attempting to reconcile the
fact that the implicitly created subquery columns don't refer
to the original Table column's ""default"" parameter (there is in fact
a public API for this system as well, but it is not needed
once the select() is removed).

This patch removes the ""select()"" applied to the Table returned
by select_table() and renames the method to load_table() to more
accurately reflect what this method does.   The use of SQLAlchemy's
private ""_proxies"" API can now be removed, and the two occurrences
where the select() were actually used to invoke a SELECT
statement are replaced with explicit
production of a select() construct as well as making use of the
already-present Session to invoke the query rather than using
an out-of-band ad-hoc transaction (connectionless execution is
also going away by SQLAlchemy 2.0 in any case).

Change-Id: Ica7037541a1305308ed743d8e04a3c2f02a2b811
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/666960/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/backend/core_sql.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_sql_upgrade.py']",3,48594eddeabdb79aa446a62ed390f9866b848fc9,dont_call_c_on_selects," def load_table(self, name): return table self.load_table(table_name) table = self.load_table(table_name) stored_trust = list( session.execute(self.load_table('trust').select()) )[0] upgraded_trust = list( session.execute(self.load_table('trust').select()) )[0]"," def select_table(self, name): s = sqlalchemy.select([table]) return s self.select_table(table_name) table = self.select_table(table_name) stored_trust = list(self.select_table('trust').execute())[0] upgraded_trust = list(self.select_table('trust').execute())[0]",18,17
openstack%2Fneutron~master~I3bc3ceb0c47766b0984b67081c4c7d243b8609c2,openstack/neutron,master,I3bc3ceb0c47766b0984b67081c4c7d243b8609c2,use object event_types from neutron-lib,MERGED,2019-06-11 20:51:42.000000000,2019-06-24 19:18:50.000000000,2019-06-24 19:18:49.000000000,"[{'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-11 20:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/977d5fe0cb4dc257bb37473b569ca88925f6fe07', 'message': 'use object event_types from neutron-lib\n\nThis patch consumes the OVO event_types from neutron-lib by removing\nthe module from neutron and using it from lib instead.\n\nNeutronLibImpact\n\nChange-Id: I3bc3ceb0c47766b0984b67081c4c7d243b8609c2\n'}, {'number': 2, 'created': '2019-06-18 21:25:02.000000000', 'files': ['neutron/objects/logapi/event_types.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/logapi/logging_resource.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7181cad179f6034b08cf619478db32851bfc23a5', 'message': 'use object event_types from neutron-lib\n\nThis patch consumes the OVO event_types from neutron-lib by removing\nthe module from neutron and using it from lib instead.\n\nNeutronLibImpact\n\nChange-Id: I3bc3ceb0c47766b0984b67081c4c7d243b8609c2\n'}]",0,664688,7181cad179f6034b08cf619478db32851bfc23a5,16,8,2,5367,,,0,"use object event_types from neutron-lib

This patch consumes the OVO event_types from neutron-lib by removing
the module from neutron and using it from lib instead.

NeutronLibImpact

Change-Id: I3bc3ceb0c47766b0984b67081c4c7d243b8609c2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/664688/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/objects/logapi/event_types.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/logapi/logging_resource.py']",3,977d5fe0cb4dc257bb37473b569ca88925f6fe07,bp/neutronlib-decouple-db,from neutron_lib.objects.logapi import event_types,from neutron.objects.logapi import event_types,2,40
openstack%2Ftempest~master~Ib346d383c430d5151d9aafa6e856dd0a7cae8a23,openstack/tempest,master,Ib346d383c430d5151d9aafa6e856dd0a7cae8a23,compute: Make image certificate validation a configurable feature,MERGED,2019-06-06 10:49:53.000000000,2019-06-24 19:18:44.000000000,2019-06-24 19:18:44.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 12393}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-06-06 10:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1323c41e11007769812f131188441884a1868326', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing a compute feature configurable for image certificate\nvalidation. Additional compute configurables are also introduced to\nallow a specific test image with the required img_signature_* properties\nset to be used and a valid list of trusted image certificates to also be\nused during the test.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}, {'number': 2, 'created': '2019-06-06 11:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8833eec745e8f18e80377c7f97dd0db10cd1b2f', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing a compute feature configurable for image certificate\nvalidation. Additional compute configurables are also introduced to\nallow a specific test image with the required img_signature_* properties\nset to be used and a valid list of trusted image certificates to also be\nused during the test.\n\nIca1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to\nwire up various image certificate and signature validation tests under\nthe barbican-tempest-plugin.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}, {'number': 3, 'created': '2019-06-12 12:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6f630b1ed9dbcc942d2d4da01c04aa74c99154f6', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing a compute feature configurable for image certificate\nvalidation. Additional compute configurables are also introduced to\nallow a specific test image with the required img_signature_* properties\nset to be used and a valid list of trusted image certificates to also be\nused during the test.\n\nIca1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to\nwire up various image certificate and signature validation tests under\nthe barbican-tempest-plugin.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}, {'number': 4, 'created': '2019-06-18 11:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd9851825c771bdfd59451008c0b92fb237c600d', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing a compute feature configurable for image certificate\nvalidation. Additional compute configurables are also introduced to\nallow a specific test image with the required img_signature_* properties\nset to be used and a valid list of trusted image certificates to also be\nused during the test.\n\nIca1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to\nwire up various image certificate and signature validation tests under\nthe barbican-tempest-plugin.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}, {'number': 5, 'created': '2019-06-18 11:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/31c4da83594dad13151f7b26c5d3adc7053fd958', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing two required compute configurables. These allow a\nsigned image with the required img_signature_* properties set along with\na valid list of trusted image certificates to also be used during the\ntest.\n\nIca1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to\nwire up various image certificate and signature validation tests under\nthe barbican-tempest-plugin.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}, {'number': 6, 'created': '2019-06-19 11:48:21.000000000', 'files': ['releasenotes/notes/config_image_certificate_compute_feature-c56efb520d54aff5.yaml', 'tempest/config.py', 'tempest/api/compute/servers/test_servers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7f7c232b29fe4e3f1cb446a810112db43d7dccdc', 'message': 'compute: Make image certificate validation a configurable feature\n\ntempest.api.compute.servers.test_servers.ServerShowV263Test would\npreviously always run and provide the optional\ntrusted_image_certificates parameter to validate the 2.63 API\nmicroversion. However if the test image had not been cached locally this\nwould actually cause the underlying certificate validation logic within\nNova to be called resulting in the test failing as the test image would\nnot have the required img_signature_* properties set and the provided\ntrusted certificates are just test strings.\n\nThis change makes this specific test optional (not running by default)\nnow by introducing two required compute configurables. These allow a\nsigned image with the required img_signature_* properties set along with\na valid list of trusted image certificates to also be used during the\ntest.\n\nIca1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to\nwire up various image certificate and signature validation tests under\nthe barbican-tempest-plugin.\n\nChange-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23\nCloses-bug: 1831866\n'}]",14,663596,7f7c232b29fe4e3f1cb446a810112db43d7dccdc,35,11,6,10135,,,0,"compute: Make image certificate validation a configurable feature

tempest.api.compute.servers.test_servers.ServerShowV263Test would
previously always run and provide the optional
trusted_image_certificates parameter to validate the 2.63 API
microversion. However if the test image had not been cached locally this
would actually cause the underlying certificate validation logic within
Nova to be called resulting in the test failing as the test image would
not have the required img_signature_* properties set and the provided
trusted certificates are just test strings.

This change makes this specific test optional (not running by default)
now by introducing two required compute configurables. These allow a
signed image with the required img_signature_* properties set along with
a valid list of trusted image certificates to also be used during the
test.

Ica1d32ca66d6f89692e9cc90e415bf569332f58d is currently attempting to
wire up various image certificate and signature validation tests under
the barbican-tempest-plugin.

Change-Id: Ib346d383c430d5151d9aafa6e856dd0a7cae8a23
Closes-bug: 1831866
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/663596/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/config_image_certificate_compute_feature-c56efb520d54aff5.yaml', 'tempest/config.py', 'tempest/api/compute/servers/test_servers.py']",3,1323c41e11007769812f131188441884a1868326,bug/1831866," @testtools.skipUnless(CONF.compute_feature_enabled. image_certificate_validation, 'Image certificate validation not available.') trusted_certs = CONF.compute.image_cert_validation_trusted_certs imageRef=CONF.compute.image_cert_validation_ref,"," trusted_certs = ['test-cert-1', 'test-cert-2']",31,1
openstack%2Ftripleo-common~master~Iaf92ef4a35f3deba36822e50300d62a4975c5cd4,openstack/tripleo-common,master,Iaf92ef4a35f3deba36822e50300d62a4975c5cd4,Add Molecule tests to the tripleo-container-rm role.,ABANDONED,2019-06-13 21:22:02.000000000,2019-06-24 19:17:26.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-13 21:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c4733a053cc39750f9e41d8fc3b10be67b34a59', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-06-14 14:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c4e51dfa8d6f2afdbd244737ac2b929443fdc25', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-06-14 16:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a263ee5e481e20f6542c8deffb65fb125376338', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-06-14 16:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/153f04003e3bc6332be0cde1f52d986c7012e093', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-06-14 16:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f235b9d3f382bf9b0a8bd37df48f58048da204f', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-06-20 20:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84e167bc62952b78a53d72f6f9bf87d7ee955d45', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2019-06-20 20:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9da0a7a3f1fffe8c80a821a259b6312d4bcc6fc', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2019-06-21 11:03:01.000000000', 'files': ['roles/tripleo-container-rm/molecule/podman/molecule.yml', 'roles/tripleo-container-rm/molecule/docker/molecule.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/tasks/podman.yaml', 'roles/tripleo-container-rm/molecule/podman/playbook.yml', 'roles/tripleo-container-rm/molecule/podman/prepare.yml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-container-rm/molecule/docker/prepare.yml', 'roles/tripleo-container-rm/molecule/docker/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ce091e48b3287a048d94d5170bc4933a05b0037a', 'message': 'Add Molecule tests to the tripleo-container-rm role.\n\nChange-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",8,665242,ce091e48b3287a048d94d5170bc4933a05b0037a,26,5,8,25877,,,0,"Add Molecule tests to the tripleo-container-rm role.

Change-Id: Iaf92ef4a35f3deba36822e50300d62a4975c5cd4
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/665242/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-container-rm/molecule/docker/tests/test_default.py', 'roles/tripleo-container-rm/molecule/podman/molecule.yml', 'roles/tripleo-container-rm/molecule/docker/molecule.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-container-rm/molecule/podman/Dockerfile.j2', 'roles/tripleo-container-rm/molecule/podman/playbook.yml', 'roles/tripleo-container-rm/molecule/podman/prepare.yml', 'roles/tripleo-container-rm/.yamllint', 'roles/tripleo-container-rm/molecule/docker/INSTALL.rst', 'roles/tripleo-container-rm/tasks/podman.yaml', 'roles/tripleo-container-rm/molecule/docker/Dockerfile.j2', 'roles/tripleo-container-rm/molecule/podman/INSTALL.rst', 'roles/tripleo-container-rm/molecule/podman/tests/test_default.py', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-container-rm/molecule/docker/prepare.yml', 'roles/tripleo-container-rm/molecule/docker/playbook.yml']",16,3c4733a053cc39750f9e41d8fc3b10be67b34a59,molecule,"--- - name: Converge hosts: all gather_facts: false become: true vars: container_cli: docker container_name: test_container containers_to_rm: - ""{{ container_name }}"" roles: - tripleo-container-rm ",,263,8
openstack%2Fkayobe~master~If22ed34dc4b6e87f8cf76c302948c955bddf2bc5,openstack/kayobe,master,If22ed34dc4b6e87f8cf76c302948c955bddf2bc5,Use BatchMode to check whether host is accessible via SSH,MERGED,2019-06-10 18:22:20.000000000,2019-06-24 19:05:26.000000000,2019-06-24 19:05:26.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 18:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/408eab920c34c9f1c7950e3c9dd8500142a4fe4c', 'message': ""Use BatchMode to check whether host is accessible via SSH\n\nIf password authentication is not disabled on the server, we may be\nprompted for a password if the Kayobe Ansible user doesn't exist or\nisn't configured for passwordless authentication.\n\nBy using BatchMode, the ssh command can fail quickly and proceed to\ncreate the Kayobe Ansible user using the bootstrap user.\n\nChange-Id: If22ed34dc4b6e87f8cf76c302948c955bddf2bc5\n""}, {'number': 2, 'created': '2019-06-11 15:01:15.000000000', 'files': ['releasenotes/notes/ssh-batchmode-cda7a4ed63006378.yaml', 'ansible/kayobe-ansible-user.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0e6703a322199115b3c894868abb900e27f2c669', 'message': ""Use BatchMode to check whether host is accessible via SSH\n\nIf password authentication is not disabled on the server, we may be\nprompted for a password if the Kayobe Ansible user doesn't exist or\nisn't configured for passwordless authentication.\n\nBy using BatchMode, the ssh command can fail quickly and proceed to\ncreate the Kayobe Ansible user using the bootstrap user.\n\nChange-Id: If22ed34dc4b6e87f8cf76c302948c955bddf2bc5\n""}]",0,664417,0e6703a322199115b3c894868abb900e27f2c669,11,4,2,15197,,,0,"Use BatchMode to check whether host is accessible via SSH

If password authentication is not disabled on the server, we may be
prompted for a password if the Kayobe Ansible user doesn't exist or
isn't configured for passwordless authentication.

By using BatchMode, the ssh command can fail quickly and proceed to
create the Kayobe Ansible user using the bootstrap user.

Change-Id: If22ed34dc4b6e87f8cf76c302948c955bddf2bc5
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/664417/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kayobe-ansible-user.yml'],1,408eab920c34c9f1c7950e3c9dd8500142a4fe4c,ssh-batch-mode, module: command ssh -o BatchMode=yes -p {{ ssh_port }} {{ ssh_user }}@{{ ssh_host }} hostname, module: command ssh -p {{ ssh_port }} {{ ssh_user }}@{{ ssh_host }} hostname,1,1
openstack%2Fopenstack-zuul-jobs~master~I2f8ffe95cd711eca44c547bdecb1a2d7eceda2d9,openstack/openstack-zuul-jobs,master,I2f8ffe95cd711eca44c547bdecb1a2d7eceda2d9,Switch infra puppet apply jobs to legacy base,MERGED,2019-06-24 18:16:03.000000000,2019-06-24 19:04:03.000000000,2019-06-24 19:04:03.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 18:16:03.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5e1bddf4029e1a82898083fcfcbf385a91a15088', 'message': 'Switch infra puppet apply jobs to legacy base\n\nThese jobs rely on the zuul cloner shim to install puppet modules. Swith\ntheir parent to legacy base so that they get z-c shim installed.\n\nChange-Id: I2f8ffe95cd711eca44c547bdecb1a2d7eceda2d9\n'}]",0,667173,5e1bddf4029e1a82898083fcfcbf385a91a15088,7,3,1,4146,,,0,"Switch infra puppet apply jobs to legacy base

These jobs rely on the zuul cloner shim to install puppet modules. Swith
their parent to legacy base so that they get z-c shim installed.

Change-Id: I2f8ffe95cd711eca44c547bdecb1a2d7eceda2d9
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/73/667173/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5e1bddf4029e1a82898083fcfcbf385a91a15088,legacy-base, # Required to install z-c for puppet module installs. parent: legacy-base,,2,0
openstack%2Fmanila~master~I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1,openstack/manila,master,I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1,[NetApp] Fix race condition issues on vserver deletion,MERGED,2019-06-04 00:04:37.000000000,2019-06-24 18:50:08.000000000,2019-06-12 15:48:32.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-06-04 00:04:37.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1831092-netapp-fix-race-condition-524555133aaa6ca8.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/4fbf1a2d9ddfd2bb48deaaa264a1dad1aced5370', 'message': '[NetApp] Fix race condition issues on vserver deletion\n\nThis patch updates the NetApp driver handling with an issue that\nhappens when the driver tries to delete the vserver, during a\nrollback operation inside the vserver creation method.\n\nChange-Id: I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1\nCloses-bug: #1831092\n'}]",0,662889,4fbf1a2d9ddfd2bb48deaaa264a1dad1aced5370,25,15,1,30002,,,0,"[NetApp] Fix race condition issues on vserver deletion

This patch updates the NetApp driver handling with an issue that
happens when the driver tries to delete the vserver, during a
rollback operation inside the vserver creation method.

Change-Id: I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1
Closes-bug: #1831092
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/662889/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1831092-netapp-fix-race-condition-524555133aaa6ca8.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",3,4fbf1a2d9ddfd2bb48deaaa264a1dad1aced5370,bug/1831092," needs_lock=False,",,21,5
openstack%2Fopenstack-helm~master~Ie400b050a3a8840a74cf0f3469b90f09a053bef1,openstack/openstack-helm,master,Ie400b050a3a8840a74cf0f3469b90f09a053bef1,[DEFECT-7364],ABANDONED,2019-06-24 17:08:15.000000000,2019-06-24 18:15:02.000000000,,"[{'_account_id': 8898}, {'_account_id': 20469}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28208}, {'_account_id': 30445}]","[{'number': 1, 'created': '2019-06-24 17:08:15.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1a01da50736bd75ecc4e18e9e5fe65baff5cc2e7', 'message': '[DEFECT-7364]\n\nChange-Id: Ie400b050a3a8840a74cf0f3469b90f09a053bef1\n'}]",0,667160,1a01da50736bd75ecc4e18e9e5fe65baff5cc2e7,5,6,1,30445,,,0,"[DEFECT-7364]

Change-Id: Ie400b050a3a8840a74cf0f3469b90f09a053bef1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/667160/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,1a01da50736bd75ecc4e18e9e5fe65baff5cc2e7,," csrf_cookie_secure: ""True"" session_cookie_secure: ""True"""," csrf_cookie_secure: ""False"" session_cookie_secure: ""False""",2,2
openstack%2Ftripleo-common~master~I545018d154acc2a4daf9426a34b5314c215a6fe5,openstack/tripleo-common,master,I545018d154acc2a4daf9426a34b5314c215a6fe5,Add common files that will be used across Molecule tests.,ABANDONED,2019-06-03 16:38:47.000000000,2019-06-24 17:36:40.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-06-03 16:38:47.000000000', 'files': ['roles/tripleo-molecule-common/.yamllint', 'roles/tripleo-molecule-common/molecule/default/INSTALL.rst', 'roles/tripleo-molecule-common/molecule/default/molecule.yml', 'roles/tripleo-molecule-common/molecule/default/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4762d139480bd9f64fabe8739275784257160741', 'message': 'Add common files that will be used across Molecule tests.\n\nThis will avoid duplicated code by using symlinks to these files.\n\nChange-Id: I545018d154acc2a4daf9426a34b5314c215a6fe5\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",4,662803,4762d139480bd9f64fabe8739275784257160741,12,6,1,25877,,,0,"Add common files that will be used across Molecule tests.

This will avoid duplicated code by using symlinks to these files.

Change-Id: I545018d154acc2a4daf9426a34b5314c215a6fe5
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/662803/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-molecule-common/.yamllint', 'roles/tripleo-molecule-common/molecule/default/INSTALL.rst', 'roles/tripleo-molecule-common/molecule/default/molecule.yml', 'roles/tripleo-molecule-common/molecule/default/Dockerfile.j2']",4,4762d139480bd9f64fabe8739275784257160741,molecule,# Molecule managed {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python2-dnf bash && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl bash && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates && xbps-remove -O; fi ,,59,0
openstack%2Fpython-monascaclient~master~Ie0f55b10077547e9842aa476caff0478068dd059,openstack/python-monascaclient,master,Ie0f55b10077547e9842aa476caff0478068dd059,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 09:23:06.000000000,2019-06-24 17:32:21.000000000,2019-06-24 17:32:21.000000000,"[{'_account_id': 10068}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-24 09:23:06.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/45043b43ceacfd80a06e067583fc958301a16a8d', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Ie0f55b10077547e9842aa476caff0478068dd059\n'}]",0,667048,45043b43ceacfd80a06e067583fc958301a16a8d,10,4,1,30615,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Ie0f55b10077547e9842aa476caff0478068dd059
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/48/667048/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,45043b43ceacfd80a06e067583fc958301a16a8d,python3-train,"envlist = py{27,36,37},pypy,cover,pep8","envlist = py{27,36},pypy,cover,pep8",3,3
openstack%2Fopenstack-zuul-jobs~master~I8c18a9e169a336d6ea8315bf808015fb665f92aa,openstack/openstack-zuul-jobs,master,I8c18a9e169a336d6ea8315bf808015fb665f92aa,[DNM] Test some jobs on top of base-test,ABANDONED,2019-06-07 16:40:59.000000000,2019-06-24 17:30:04.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 16:40:59.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/28cf9d582f0bc7ecd839a49910f96cfdd5b54756', 'message': '[DNM] Test some jobs on top of base-test\n\nDepends-On: https://review.opendev.org/663995\nChange-Id: I8c18a9e169a336d6ea8315bf808015fb665f92aa\n'}]",0,663996,28cf9d582f0bc7ecd839a49910f96cfdd5b54756,4,2,1,5263,,,0,"[DNM] Test some jobs on top of base-test

Depends-On: https://review.opendev.org/663995
Change-Id: I8c18a9e169a336d6ea8315bf808015fb665f92aa
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/96/663996/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,28cf9d582f0bc7ecd839a49910f96cfdd5b54756,zuulv3, parent: base-test parent: base-test parent: base-test parent: base-test parent: base-test,,5,0
openstack%2Ftacker-specs~master~Idf75f2519a21ebca9aca7d7e150757dc0a336755,openstack/tacker-specs,master,Idf75f2519a21ebca9aca7d7e150757dc0a336755,Fenix plugin for rolling upgrades in Tacker,MERGED,2019-03-14 08:22:03.000000000,2019-06-24 17:27:39.000000000,2019-06-24 17:27:39.000000000,"[{'_account_id': 15834}, {'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27068}, {'_account_id': 29908}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-03-14 08:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9af8770fa787d099b410b5a9fce2e9f00868320f', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 2, 'created': '2019-03-14 08:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c3b88d4090e4ea9fbe6da12e306101aab58305ba', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 3, 'created': '2019-03-14 11:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/87e5dee6062f0403a6c09898263de2e7bc826baf', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 4, 'created': '2019-03-14 11:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ea652f8ee22f0eea711a363ed4e2e7377fe07e70', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 5, 'created': '2019-03-14 12:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d7529798ca71056b55632667fe1deb50be63adf7', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 6, 'created': '2019-03-16 07:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0003960de67325502e73cf4a67bee1d78ca01f65', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 7, 'created': '2019-03-17 23:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/41bad87d77c7bc1911a646b501aceea6e660f731', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 8, 'created': '2019-04-01 04:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/5da0d77a00dd18f10660fdf5a0c0e3561aa1c06e', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 9, 'created': '2019-04-01 05:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c4fc07474bcd2ab4af5659dacdbb46329ccfc6b4', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 10, 'created': '2019-04-05 07:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/03b9af6233ba8707298d0bf7841779ce94f2df2a', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 11, 'created': '2019-04-05 07:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/626d8d73c761287c02b8d1dfba741328aa77a358', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 12, 'created': '2019-04-17 08:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/1d7a8597d6e5a085cf539abaf59167da7fc42eff', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 13, 'created': '2019-04-17 12:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e8f060e4771786def7a79d97f6ddf959e530e2a3', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 14, 'created': '2019-05-28 04:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/02e8684dfd0b2a2538e31785d28bb169c30d7e5f', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 15, 'created': '2019-06-04 07:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/70d80b529764bceae48b81f897624504e1ee5ef9', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 16, 'created': '2019-06-04 07:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0eae2f61850d6dd2e000bb8456af31c190eadda3', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}, {'number': 17, 'created': '2019-06-04 07:39:20.000000000', 'files': ['specs/train/vnf-rolling-upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8f7ad05e096ec0fc2d9ca15d8b5b990a8fadb5b8', 'message': 'Fenix plugin for rolling upgrades in Tacker\n\nThis spec describes a Fenix plugin for rolling upgrades in Tacker\n\nBlueprint vnf-rolling-upgrade\nstoryborad https://storyboard.openstack.org/#!/story/2005220\n\nCo-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>\n\nChange-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755\n'}]",140,643242,8f7ad05e096ec0fc2d9ca15d8b5b990a8fadb5b8,74,10,17,22290,,,0,"Fenix plugin for rolling upgrades in Tacker

This spec describes a Fenix plugin for rolling upgrades in Tacker

Blueprint vnf-rolling-upgrade
storyborad https://storyboard.openstack.org/#!/story/2005220

Co-Authored-By: Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr>

Change-Id: Idf75f2519a21ebca9aca7d7e150757dc0a336755
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/42/643242/13 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/vnf-rolling-upgrade.rst'],1,9af8770fa787d099b410b5a9fce2e9f00868320f,bp/vnf-rolling-upgrade," =========================================== Fenix plugin for rolling upgrades in Tacker =========================================== https://blueprints.launchpad.net/tacker/+spec/vnf-rolling-upgrade This spec describes a Fenix plugin for rolling upgrades in Tacker Problem description =================== Tacker is a VNFM which manages the Life Cycle of VNF that provides Network Service. VNFs are the softwarized version of network functions, there are always needs for upgrades whether it is a bug fix or a new feature release. In addition, the network service must be constantly provided during upgrade or bug fix. This blueprint is proposed VNF maintenance mode by leveraging Fenix(rolling infrastructure maintenance, upgrade and scaling) [#f1]_. Accoring to maintenance procedure of fenix, tacker can support VNF rolling upgrade. Proposed change =============== The scope of this spec focused on: * designing a Fenix Plugin for VNF Maintenance. Whereby, an VNF Maintenance driver is designed to collect events triggered by the Ceilometer/aodh. In this spec, the VNF Maintenance driver subscribes event from ceilometer /aodh with 'maintenance.planned' [#f2]_. * defining maintenance Policy using the TOSCA Policy format [#f3]_. The maintenance policy can apply to a VNF. :: The VNF maintenance framework: +-----------------------------------+ | | | | | +-----------------+ | | | VNFM / TOSCA | | | | | | | +--------^--------+ | | | | | +--------v--------+ | | | | | +----------------+ | | Fenix Plugin | | | fenix client | | | | | +----------------+ | +-^-^-------^-^---+ | | | | | | | | | | +-v-v-------v-v---+ | | | | Ceilometer/Aodh | | +-------v--------+ | | |---------------| Fenix-Engine | | +-----------------+ | +----------------+ +-----------------------------------+ The TOSCA scheme could be defined as the following: **tosca.policies.tacker.Maintenance** .. code-block:: console tosca_definitions_version: tosca_simple_profile_for_nfv_1_0_0 description: Maintenance VNF with Fenix metadata: template_name: tosca-vnfd-maintenance topology_template: node_templates: VDU1: type: tosca.nodes.nfv.VDU.Tacker capabilities: nfv_compute: properties: num_cpus: 2 mem_size: 2048 MB disk_size: 15 GB properties: name: VDU1 image: ubuntu16.04 availability_zone: nova mgmt_driver: noop maintenance: yes CP11: type: tosca.nodes.nfv.CP.Tacker properties: management: true order: 0 anti_spoofing_protection: false requirements: - virtualLink: node: VL1 - virtualBinding: node: VDU1 VL1: type: tosca.nodes.nfv.VL properties: network_name: net_mgmt vendor: Tacker maintenance_url will be created by webhook in Tacker as the following: .. code-block:: ini v1.0/vnfs/<vnf-uuid>/maintenance/<project_id> vnf-uuid represent identity of VNF. Maintenance means that this URL is used for maintenance. project_id represent the project to which the generated VNF belongs. Maintenance Procedure ===================== When VNF is created using VNFD, VNF generates 'Maintenance URL' to register event to AODH. Then, when the user requests maintenance, the Notify message generated by Fenix Engine is delivered to ADOH and the event occurs. When an event occurs, the Tacker perfome the action (ex VNF stop) requested from the Fenix engine to the Tacker via Tacker-plugin. :: +--------+ +--------+ +-------+ +-------+ | Tacker | | AODH | | Fenix | | admin | +--------+ +--------+ +-------+ +-------+ | | | | VNF Creation | | | | | | | |--Register Alarm -->| | | | maintenance.planned | | | Event_type : maintenance.* |<-MAINTENANCE-| | |<----MAINTENANCE-----| | | | | | | event | | |<----MAINTENANCE----| | | | | | | |----------------ACK_MAINTENANCE---------->| | | | | | |<---------------IN_SCALE------------------| | | | | | Scaling | | | |--------------ACK_IN_SCALE--------------->| | | | | | |<-----------PREPARE_MAINTENANCE-----------| | | | | | |----------ACK_PREPARE_MAINTENANCE-------->| | | | | | |<-----------ADMIN_ACTION_DONE-------------| | | | | | Alternatives ------------ None Data model impact ------------------ None REST API impact ------------------ **POST on v1.0/vnfs/<vnf-uuid>/maintenance/<project_id>** Security ------------------ None Notifications impact -------------------- User triggers maintenance session and Tacker perform the action for maintenance. Other end user impact --------------------- None Performance impact ------------------ None Other deployer impact --------------------- None Developer impact ------------------ None Implementation =============== Assignee(s) ------------------ Primary assignee: Hyunsik Yang <yangun@dcn.ssu.ac.kr> Jangwon Lee <jangwon.lee@dcn.ssu.ac.kr> Work Items ------------------ #. TOSCA Template definition for Maintenance #. URL Creation for Manitenance Alarm Registration #. Fenix Plug-in Implementation for Fenix API Dependencies ============ Tacker defines all Maintenance APIs according to APIs defined in Fenix. Tacker supports down Scailing of VNFs. Testing ======== - Maintenance VNF testing - AODH Registration with Maintenance - Maintenance event Alarm Reference ========= .. [#f1] https://wiki.openstack.org/wiki/Fenix .. [#f2] http://docs.oasis-open.org/tosca/tosca-nfv/v1.0/tosca-nfv-v1.0.pdf .. [#f3] https://docs.openstack.org/aodh/latest/contributor/event-alarm.html ",,239,0
openstack%2Fpbr~master~Ic66848dbe44ed946800979fb73776ab6d00869f6,openstack/pbr,master,Ic66848dbe44ed946800979fb73776ab6d00869f6,option to print only the version of a package,MERGED,2018-06-23 09:46:47.000000000,2019-06-24 17:24:34.000000000,2019-06-24 17:24:34.000000000,"[{'_account_id': 6928}, {'_account_id': 8871}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27201}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-06-23 09:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/051664e7fef9980fe5bb595a0a988068e09ebf31', 'message': 'option to print only the version of a package\n\nExample:\n    $ pbr info -s pkgname\n    1.2.3\n\nChange-Id: Ic66848dbe44ed946800979fb73776ab6d00869f6\nSigned-off-by: Gaetan Semet <gaetan@xeberon.net>\n'}, {'number': 2, 'created': '2018-06-23 11:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4ad8c1ad0e6cc14341639ee20249733cec9fe0b4', 'message': 'option to print only the version of a package\n\nExample:\n    $ pbr info -s pkgname\n    1.2.3\n\nChange-Id: Ic66848dbe44ed946800979fb73776ab6d00869f6\nSigned-off-by: Gaetan Semet <gaetan@xeberon.net>\n'}, {'number': 3, 'created': '2018-09-17 22:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/11c05946239b02496e4db3f85ffa1c1b229131b3', 'message': 'option to print only the version of a package\n\nExample:\n    $ pbr info -s pkgname\n    1.2.3\n\nChange-Id: Ic66848dbe44ed946800979fb73776ab6d00869f6\nSigned-off-by: Gaetan Semet <gaetan@xeberon.net>\n'}, {'number': 4, 'created': '2019-06-24 09:58:26.000000000', 'files': ['releasenotes/notes/cmd-e6664dcbd42d3935.yaml', 'pbr/cmd/main.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/c715db6df9d47b56cd31a3c65f934d1d220563bb', 'message': 'option to print only the version of a package\n\nExample:\n    $ pbr info -s pkgname\n    1.2.3\n\nChange-Id: Ic66848dbe44ed946800979fb73776ab6d00869f6\nSigned-off-by: Gaetan Semet <gaetan@xeberon.net>\n'}]",0,577614,c715db6df9d47b56cd31a3c65f934d1d220563bb,19,6,4,27201,,,0,"option to print only the version of a package

Example:
    $ pbr info -s pkgname
    1.2.3

Change-Id: Ic66848dbe44ed946800979fb73776ab6d00869f6
Signed-off-by: Gaetan Semet <gaetan@xeberon.net>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/14/577614/4 && git format-patch -1 --stdout FETCH_HEAD,['pbr/cmd/main.py'],1,051664e7fef9980fe5bb595a0a988068e09ebf31,," if args.short: print(""{version}"".format(**_get_info(args.name))) else: print(""{name}\t{version}\t{released}\t{sha}"".format( **_get_info(args.name))) cmd_info.add_argument('-s', '--short', action=""store_true"", help='only display package version')"," print(""{name}\t{version}\t{released}\t{sha}"".format( **_get_info(args.name)))",6,2
openstack%2Fproject-config~master~I107127df8bb683fbefee328c45d81c1a759f69a2,openstack/project-config,master,I107127df8bb683fbefee328c45d81c1a759f69a2,Make bindep fallback only happen in openstack,MERGED,2019-04-28 21:45:11.000000000,2019-06-24 17:15:37.000000000,2019-06-24 17:15:37.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 21:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/174fa4b5a967e1480ebdf4e6764498a7a10e8fe7', 'message': 'Make bindep fallback only happen in openstack\n\nThis is backwards compat for openstack, not an actual thing\nwe want to do generally.\n\nChange-Id: I107127df8bb683fbefee328c45d81c1a759f69a2\n'}, {'number': 2, 'created': '2019-05-03 15:48:34.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/37aaafbe395c69cacf4ae5843b5f9933e91b4ff7', 'message': 'Make bindep fallback only happen in openstack\n\nThis is backwards compat for openstack, not an actual thing\nwe want to do generally.\n\nDepends-On: https://review.opendev.org/656969\nChange-Id: I107127df8bb683fbefee328c45d81c1a759f69a2\n'}]",3,656195,37aaafbe395c69cacf4ae5843b5f9933e91b4ff7,17,7,2,2,,,0,"Make bindep fallback only happen in openstack

This is backwards compat for openstack, not an actual thing
we want to do generally.

Depends-On: https://review.opendev.org/656969
Change-Id: I107127df8bb683fbefee328c45d81c1a759f69a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/656195/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul/site-variables.yaml', 'zuul.d/jobs.yaml']",2,174fa4b5a967e1480ebdf4e6764498a7a10e8fe7,, bindep_fallback: /usr/local/bindep-fallback/bindep-fallback.txt,,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I89cff59947dda3f51482486c41a3d67c4aa36a3e,openstack/tripleo-heat-templates,stable/queens,I89cff59947dda3f51482486c41a3d67c4aa36a3e,implement default ssh-from-ctlplane rule via hiera,MERGED,2019-04-30 05:02:02.000000000,2019-06-24 17:09:30.000000000,2019-04-30 16:32:39.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8745}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-30 05:02:02.000000000', 'files': ['puppet/services/tripleo-firewall.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b81c744370a6ef0676bb63384e5b65dbed0d4834', 'message': ""implement default ssh-from-ctlplane rule via hiera\n\nWith the accompanying change in puppet-tripleo, this removes the\nhardcoded firewall rule allowing ssh traffic in tripleo::firewall::pre\nand replaces it with a configuration in tripleo-firewall.yaml that\nallows only ssh access from the undercloud's controlplane network\naddress. This allows operators to define more granular ssh\nfirewall rules via tripleo::firewall::firewall_rules.\n\nChange-Id: I89cff59947dda3f51482486c41a3d67c4aa36a3e\nRelated-Bug: #1826829\n(cherry picked from commit a433e05e669a3c77445ccf7574c9ffe9d09cf5ef)\n(cherry picked from commit 123535d8c92caa8be4c19aaf64eff55f8be0c50d)\n""}]",0,656442,b81c744370a6ef0676bb63384e5b65dbed0d4834,9,7,1,28223,,,0,"implement default ssh-from-ctlplane rule via hiera

With the accompanying change in puppet-tripleo, this removes the
hardcoded firewall rule allowing ssh traffic in tripleo::firewall::pre
and replaces it with a configuration in tripleo-firewall.yaml that
allows only ssh access from the undercloud's controlplane network
address. This allows operators to define more granular ssh
firewall rules via tripleo::firewall::firewall_rules.

Change-Id: I89cff59947dda3f51482486c41a3d67c4aa36a3e
Related-Bug: #1826829
(cherry picked from commit a433e05e669a3c77445ccf7574c9ffe9d09cf5ef)
(cherry picked from commit 123535d8c92caa8be4c19aaf64eff55f8be0c50d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/656442/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-firewall.yaml'],1,b81c744370a6ef0676bb63384e5b65dbed0d4834,bug/1826829-stable/queens," tripleo::tripleo_firewall::firewall_rules: '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}"" proto: 'tcp' dport: 22 ",,6,0
openstack%2Fkolla~master~I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb,openstack/kolla,master,I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb,Implement Apache WSGI for Qinling,MERGED,2019-06-20 17:06:07.000000000,2019-06-24 17:08:40.000000000,2019-06-24 17:08:40.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 17:06:07.000000000', 'files': ['docker/qinling/qinling-api/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/qinling/qinling-api/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f5a09567368e47aa6df861b0870a91028bc34f05', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\n[1] https://review.opendev.org/#/c/661851/\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}]",0,666647,f5a09567368e47aa6df861b0870a91028bc34f05,9,4,1,16006,,,0,"Implement Apache WSGI for Qinling

Since this review[1], Qinling supports WSGI execution.

From a production perspective, Qinling should be deployed
using Apache and mod_wsgi.

[1] https://review.opendev.org/#/c/661851/

Change-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb
Story: 2005920
Task: 34181
",git fetch https://review.opendev.org/openstack/kolla refs/changes/47/666647/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/qinling/qinling-api/Dockerfile.j2', 'docker/qinling/qinling-base/Dockerfile.j2', 'docker/qinling/qinling-api/extend_start.sh']",3,f5a09567368e47aa6df861b0870a91028bc34f05,2005920/34181,"# NOTE(pbourke): httpd will not clean up after itself in some cases which # results in the container not being able to restart. (bug #1489676, 1557036) if [[ ""${KOLLA_BASE_DISTRO}"" =~ debian|ubuntu ]]; then # Loading Apache2 ENV variables . /etc/apache2/envvars install -d /var/run/apache2/ rm -rf /var/run/apache2/* else rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd* fi ",,52,5
openstack%2Fpython-novaclient~master~I43c80b4b1ce6252aeeec0575b4a0ced7d28fe079,openstack/python-novaclient,master,I43c80b4b1ce6252aeeec0575b4a0ced7d28fe079,Only ignore unit test changes for functional jobs,ABANDONED,2019-06-24 15:34:20.000000000,2019-06-24 16:57:36.000000000,,[{'_account_id': 6873}],"[{'number': 1, 'created': '2019-06-24 15:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d6de962efcfffd58aa97993c1041340b79e6da0e', 'message': 'Only ignore unit test changes for functional jobs\n\nChange-Id: I43c80b4b1ce6252aeeec0575b4a0ced7d28fe079\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-06-24 15:35:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/380535bfda455a3a923e53b2733c39c4781e6de6', 'message': ""Only ignore unit test changes for functional jobs\n\nAnd *do* watch for changes to requirements while we're at it.\n\nChange-Id: I43c80b4b1ce6252aeeec0575b4a0ced7d28fe079\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,667147,380535bfda455a3a923e53b2733c39c4781e6de6,5,1,2,15334,,,0,"Only ignore unit test changes for functional jobs

And *do* watch for changes to requirements while we're at it.

Change-Id: I43c80b4b1ce6252aeeec0575b4a0ced7d28fe079
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/47/667147/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d6de962efcfffd58aa97993c1041340b79e6da0e,bug/1833338, - ^novaclient/tests/unit.*$, - ^novaclient/tests/.*$,1,1
openstack%2Ftripleo-common~master~I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb,openstack/tripleo-common,master,I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb,Add Molecule tests to tripleo-create-admin role.,ABANDONED,2019-05-31 20:59:45.000000000,2019-06-24 16:41:43.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-31 20:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcdd09d2be9c085bd6d922cdce299305e4a8f93c', 'message': 'WIP: Add Molecule tests to tripleo-create-admin role.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-05-31 21:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/16bfccd221f33bfdbaedc0aa5089825cb83654db', 'message': 'WIP: Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass the idempotency test.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-06-03 16:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ba53a8e9efd4bd1efb9c78cb47b4cd0edf0241ab', 'message': 'WIP: Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass Ansible lint and idempotency tests.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-06-20 21:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cbbfff36d78bfb5903de3e23d7b9cfab1a422f05', 'message': 'Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass Ansible lint and idempotency tests.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-06-20 21:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cc18a616c2b9b86dab516efd058208d0f56a0d4d', 'message': 'Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass Ansible lint and idempotency tests.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-06-21 11:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1e0bd5136db3ca49cc82381c6fb922beab1c0c23', 'message': 'Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass Ansible lint and idempotency tests.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2019-06-23 17:55:07.000000000', 'files': ['roles/tripleo-create-admin/tasks/authorize_user.yml', 'roles/tripleo-create-admin/defaults/main.yml', 'roles/tripleo-create-admin/tasks/main.yml', 'roles/tripleo-create-admin/molecule/default/playbook.yml', 'roles/tripleo-create-admin/molecule/default/molecule.yml', 'roles/tripleo-create-admin/tasks/create_user.yml', 'tox.ini', 'roles/tripleo-create-admin/molecule/default/Dockerfile.j2', 'pytest.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f15f5be26912b95fc04ecfe287255d0ea4f74c1', 'message': 'Add Molecule tests to tripleo-create-admin role.\n\nAlso update the role to pass Ansible lint and idempotency tests.\n\nChange-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",6,662577,6f15f5be26912b95fc04ecfe287255d0ea4f74c1,29,12,7,25877,,,0,"Add Molecule tests to tripleo-create-admin role.

Also update the role to pass Ansible lint and idempotency tests.

Change-Id: I47e574fbeac4b28e943e8c8a71040c9bdd06cfeb
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/662577/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-create-admin/tasks/authorize_user.yml', 'roles/tripleo-create-admin/molecule/default/INSTALL.rst', 'roles/tripleo-create-admin/defaults/main.yml', 'roles/tripleo-create-admin/tasks/main.yml', 'roles/tripleo-create-admin/molecule/default/playbook.yml', 'roles/tripleo-create-admin/.yamllint', 'roles/tripleo-create-admin/molecule/default/molecule.yml', 'roles/tripleo-create-admin/tasks/create_user.yml', 'roles/tripleo-create-admin/molecule/default/Dockerfile.j2']",9,bcdd09d2be9c085bd6d922cdce299305e4a8f93c,molecule,# Molecule managed {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python2-dnf bash && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl bash && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates && xbps-remove -O; fi ,,110,4
openstack%2Fkayobe~master~I0a2cb770c74b7e4e99a1a411990c6ed488efb303,openstack/kayobe,master,I0a2cb770c74b7e4e99a1a411990c6ed488efb303,Add ceph_disks and mdadm_arrays to service placement docs,MERGED,2019-05-23 10:52:09.000000000,2019-06-24 16:16:37.000000000,2019-06-24 16:16:36.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-23 10:52:09.000000000', 'files': ['doc/source/control-plane-service-placement.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/88649df6f670d3b52c2e1e8b7204806fc8f6892d', 'message': 'Add ceph_disks and mdadm_arrays to service placement docs\n\nChange-Id: I0a2cb770c74b7e4e99a1a411990c6ed488efb303\n'}]",0,660973,88649df6f670d3b52c2e1e8b7204806fc8f6892d,7,3,1,14826,,,0,"Add ceph_disks and mdadm_arrays to service placement docs

Change-Id: I0a2cb770c74b7e4e99a1a411990c6ed488efb303
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/73/660973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/control-plane-service-placement.rst'],1,88649df6f670d3b52c2e1e8b7204806fc8f6892d,service-placement-docs," ``ceph_disks`` List of Ceph disks. ``mdadm_arrays`` List of software RAID arrays. See `mrlesmithjr.mdadm role <https://galaxy.ansible.com/mrlesmithjr/mdadm/>`_ for format. ceph_disks: ""{{ controller_ceph_disks }}"" mdadm_arrays: ""{{ controller_mdadm_arrays }}""",,7,0
openstack%2Fkayobe~master~I291cabd76d92b661b7609c82f18fe3aeda2c50ae,openstack/kayobe,master,I291cabd76d92b661b7609c82f18fe3aeda2c50ae,List Xtrabackup configuration file in documentation,MERGED,2019-05-31 14:29:07.000000000,2019-06-24 16:16:34.000000000,2019-06-24 16:16:34.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-31 14:29:07.000000000', 'files': ['doc/source/configuration/kolla-ansible.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e55d58088e4c8705c8cd5fd55a0618b3646fa6de', 'message': 'List Xtrabackup configuration file in documentation\n\nChange-Id: I291cabd76d92b661b7609c82f18fe3aeda2c50ae\nStory: 2005015\nTask: 29493\n'}]",0,662483,e55d58088e4c8705c8cd5fd55a0618b3646fa6de,10,6,1,15197,,,0,"List Xtrabackup configuration file in documentation

Change-Id: I291cabd76d92b661b7609c82f18fe3aeda2c50ae
Story: 2005015
Task: 29493
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/662483/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/kolla-ansible.rst'],1,e55d58088e4c8705c8cd5fd55a0618b3646fa6de,story/2005015, ``backup.my.cnf`` Xtrabackup configuration.,,1,0
openstack%2Fkayobe~master~I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397,openstack/kayobe,master,I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397,Add support for custom Blazar configuration,MERGED,2019-05-31 14:34:20.000000000,2019-06-24 16:16:31.000000000,2019-06-24 16:16:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-31 14:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/91f88a5215b80b0fbf2ee7eabc117fb2ac61dd52', 'message': 'Add support for custom Blazar configuration\n\nChange-Id: I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397\n'}, {'number': 2, 'created': '2019-05-31 14:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5604072aaa80bafebacaee3e8483fa3a2453f736', 'message': 'Add support for custom Blazar configuration\n\nChange-Id: I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397\nStory: 2005809\nTask: 33549\n'}, {'number': 3, 'created': '2019-05-31 15:55:18.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'releasenotes/notes/add-support-for-custom-blazar-conf-c82ee78f2a92d693.yaml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'ansible/roles/kolla-openstack/templates/blazar.conf.j2', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-ansible/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/49d4d7be79bf39d32e4456e528dd424cb29b8195', 'message': 'Add support for custom Blazar configuration\n\nChange-Id: I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397\nStory: 2005809\nTask: 33549\n'}]",0,662485,49d4d7be79bf39d32e4456e528dd424cb29b8195,14,7,3,15197,,,0,"Add support for custom Blazar configuration

Change-Id: I00ee10bdc7f8c1b6ab8576115c757e27b6c2c397
Story: 2005809
Task: 33549
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/662485/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'releasenotes/notes/add-support-for-custom-blazar-conf-c82ee78f2a92d693.yaml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml', 'ansible/roles/kolla-ansible/defaults/main.yml']",8,91f88a5215b80b0fbf2ee7eabc117fb2ac61dd52,blazar-custom-config,#kolla_enable_blazar:,,23,0
openstack%2Fkuryr-kubernetes~master~I0262d60291e8f163e72f6c078c341984b5e5020c,openstack/kuryr-kubernetes,master,I0262d60291e8f163e72f6c078c341984b5e5020c,Add CRD validation to KuryrNet and KuryrNetPolicy,MERGED,2019-06-14 15:12:46.000000000,2019-06-24 16:11:42.000000000,2019-06-24 16:11:42.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-14 15:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/29772b7535a6ed010cc125345821c0f949046ae9', 'message': 'Add CRD validation to KuryrNet and KuryrNetPolicy\n\nThis commits adds validation to important fields of KuryrNet and\nKuryrNetPolicy CRDs.\n\nTODOs:\n- add additional printer columns\n\nChange-Id: I0262d60291e8f163e72f6c078c341984b5e5020c\n'}, {'number': 2, 'created': '2019-06-16 12:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ace26df544d64ae1491d505df27fe6e485e85356', 'message': 'Add CRD validation to KuryrNet and KuryrNetPolicy\n\nThis commits adds validation to important fields of KuryrNet and\nKuryrNetPolicy CRDs.\n\nChange-Id: I0262d60291e8f163e72f6c078c341984b5e5020c\n'}, {'number': 3, 'created': '2019-06-20 08:41:55.000000000', 'files': ['kubernetes_crds/kuryrnet.yaml', 'kubernetes_crds/kuryrnetpolicy.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a85a7bc8b1761eb748ccf16430fe77587bc764c2', 'message': 'Add CRD validation to KuryrNet and KuryrNetPolicy\n\nThis commits adds validation to important fields of KuryrNet and\nKuryrNetPolicy CRDs.\n\nChange-Id: I0262d60291e8f163e72f6c078c341984b5e5020c\n'}]",1,665416,a85a7bc8b1761eb748ccf16430fe77587bc764c2,16,5,3,27032,,,0,"Add CRD validation to KuryrNet and KuryrNetPolicy

This commits adds validation to important fields of KuryrNet and
KuryrNetPolicy CRDs.

Change-Id: I0262d60291e8f163e72f6c078c341984b5e5020c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/16/665416/1 && git format-patch -1 --stdout FETCH_HEAD,"['kubernetes_crds/kuryrnet.yaml', 'kubernetes_crds/kuryrnetpolicy.yaml']",2,29772b7535a6ed010cc125345821c0f949046ae9,add-crd-validations, validation: openAPIV3Schema: properties: spec: required: - egressSgRules - ingressSgRules - networkpolicy_spec - podSelector - securityGroupId properties: egressSgRules: type: array items: type: object required: - security_group_rule properties: namespace: type: string security_group_rule: type: object required: - id properties: description: type: string direction: type: string ethertype: type: string id: type: string security_group_id: type: string ingressSgRules: type: array items: type: object required: - security_group_rule properties: namespace: type: string security_group_rule: type: object required: - id properties: description: type: string direction: type: string ethertype: type: string id: type: string security_group_id: type: string securityGroupId: type: string securityGroupName: type: string,,83,0
openstack%2Foslo.messaging~master~I5ca6ec2cb30b8d7f18e1770f80024957bc029bf3,openstack/oslo.messaging,master,I5ca6ec2cb30b8d7f18e1770f80024957bc029bf3,"Add the ""transport_options"" parameter to the amqp1 and kafka drivers.",MERGED,2019-06-20 20:15:41.000000000,2019-06-24 16:08:45.000000000,2019-06-24 16:08:45.000000000,"[{'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29364}]","[{'number': 1, 'created': '2019-06-20 20:15:41.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/impl_amqp1.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/73c0c0071e34393dc889fe90151cd3aaf1a70ec6', 'message': 'Add the ""transport_options"" parameter to the amqp1 and kafka drivers.\n\nChange-Id: I5ca6ec2cb30b8d7f18e1770f80024957bc029bf3\n'}]",0,666726,73c0c0071e34393dc889fe90151cd3aaf1a70ec6,13,4,1,8770,,,0,"Add the ""transport_options"" parameter to the amqp1 and kafka drivers.

Change-Id: I5ca6ec2cb30b8d7f18e1770f80024957bc029bf3
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/26/666726/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/impl_amqp1.py']",2,73c0c0071e34393dc889fe90151cd3aaf1a70ec6,transport-options," retry=None, transport_options=None): :param transport_options: transport-specific options to apply to the sending of the message (TBD) :type transport_options: dictionary", retry=None):,5,2
openstack%2Fpython-novaclient~master~I25235eae93d2be6c83fbe9676304a03cfe187865,openstack/python-novaclient,master,I25235eae93d2be6c83fbe9676304a03cfe187865,Add irrelevant files in dsvm job,MERGED,2019-06-19 04:47:18.000000000,2019-06-24 16:05:47.000000000,2019-06-24 15:30:02.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 04:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e29f8f364d7edd9bef528230a445c9821f43f6ad', 'message': 'Add irrelevant files in dsvm job\n\nChange-Id: I25235eae93d2be6c83fbe9676304a03cfe187865\nCloses-Bug: #1833338\n'}, {'number': 2, 'created': '2019-06-19 06:57:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/52ae954bd09bbb1536bc03b0be334d02e66fe93c', 'message': 'Add irrelevant files in dsvm job\n\nChange-Id: I25235eae93d2be6c83fbe9676304a03cfe187865\nCloses-Bug: #1833338\n'}]",3,666217,52ae954bd09bbb1536bc03b0be334d02e66fe93c,17,4,2,7634,,,0,"Add irrelevant files in dsvm job

Change-Id: I25235eae93d2be6c83fbe9676304a03cfe187865
Closes-Bug: #1833338
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/17/666217/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e29f8f364d7edd9bef528230a445c9821f43f6ad,bug/1833338, irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^novaclient/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,,9,0
openstack%2Fkolla~stable%2Frocky~I32ba1abd204c9dba4bbe3132b5650b0e391616af,openstack/kolla,stable/rocky,I32ba1abd204c9dba4bbe3132b5650b0e391616af,Add sha256 in ceph fetch keys,MERGED,2019-06-18 17:53:20.000000000,2019-06-24 15:57:32.000000000,2019-06-24 15:57:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 17:53:20.000000000', 'files': ['docker/ceph/ceph-mon/fetch_ceph_keys.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8001de09236504b6bfd7aa01ec5657ef0fb2136e', 'message': 'Add sha256 in ceph fetch keys\n\nfetch_ceph_keys.py is using insecure sha1 function, this patch adds\nsha256 beside sha1 - in order to remove sha1 safely in U release.\n\nChange-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af\nCloses-Bug: #1826327\n(cherry picked from commit 0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb)\n'}]",0,666083,8001de09236504b6bfd7aa01ec5657ef0fb2136e,14,5,1,14826,,,0,"Add sha256 in ceph fetch keys

fetch_ceph_keys.py is using insecure sha1 function, this patch adds
sha256 beside sha1 - in order to remove sha1 safely in U release.

Change-Id: I32ba1abd204c9dba4bbe3132b5650b0e391616af
Closes-Bug: #1826327
(cherry picked from commit 0a2dc8aa1d267da3c1c2925b3f292bd96aa50edb)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/83/666083/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/fetch_ceph_keys.py'],1,8001de09236504b6bfd7aa01ec5657ef0fb2136e,bug/1826327-stable/rocky," # TODO(mnasiadka): Remove sha1 in U 'sha256': hashlib.sha256(raw_data).hexdigest(),",,2,0
openstack%2Fneutron~stable%2Fstein~Idd766bd069eda85ab6876a78b8b050ee5ab66cf6,openstack/neutron,stable/stein,Idd766bd069eda85ab6876a78b8b050ee5ab66cf6,Support multiple external networks in L3 agent,MERGED,2019-05-28 19:58:50.000000000,2019-06-24 15:57:07.000000000,2019-05-30 02:38:00.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30484}]","[{'number': 1, 'created': '2019-05-28 19:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f0bbcfb3300f878c3cb5debbd38f6e3ce581a61', 'message': 'Support multiple external networks in L3 agent\n\nChange [1] removed the deprecated option external_network_bridge. Per\ncommit message in change [2], ""l3 agent can handle any networks by\nsetting the neutron parameter external_network_bridge and\ngateway_external_network_id to empty"". So the consequence of [1] was to\nintroduce a regression whereby multiple external networks are not\nsupported by the L3 agent anymore.\n\nThis change proposes a new simplified rule. If\ngateway_external_network_id is defined, that is the network that the L3\nagent will use. If not and multiple external networks exist, the L3\nagent will handle any of them.\n\n[1] https://review.opendev.org/#/c/567369/\n[2] https://review.opendev.org/#/c/59359\n\nChange-Id: Idd766bd069eda85ab6876a78b8b050ee5ab66cf6\nCloses-Bug: #1824571\n'}, {'number': 2, 'created': '2019-05-28 20:05:16.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/62e0bee8206491690bd6b6b72fc38d9694d5083f', 'message': 'Support multiple external networks in L3 agent\n\nChange [1] removed the deprecated option external_network_bridge. Per\ncommit message in change [2], ""l3 agent can handle any networks by\nsetting the neutron parameter external_network_bridge and\ngateway_external_network_id to empty"". So the consequence of [1] was to\nintroduce a regression whereby multiple external networks are not\nsupported by the L3 agent anymore.\n\nThis change proposes a new simplified rule. If\ngateway_external_network_id is defined, that is the network that the L3\nagent will use. If not and multiple external networks exist, the L3\nagent will handle any of them.\n\n[1] https://review.opendev.org/#/c/567369/\n[2] https://review.opendev.org/#/c/59359\n\nChange-Id: Idd766bd069eda85ab6876a78b8b050ee5ab66cf6\nCloses-Bug: #1824571\n(cherry picked from commit 0b3f5f429d2e495eb78d78d46186092ac735e0d5)\n'}]",0,661835,62e0bee8206491690bd6b6b72fc38d9694d5083f,27,8,2,4694,,,0,"Support multiple external networks in L3 agent

Change [1] removed the deprecated option external_network_bridge. Per
commit message in change [2], ""l3 agent can handle any networks by
setting the neutron parameter external_network_bridge and
gateway_external_network_id to empty"". So the consequence of [1] was to
introduce a regression whereby multiple external networks are not
supported by the L3 agent anymore.

This change proposes a new simplified rule. If
gateway_external_network_id is defined, that is the network that the L3
agent will use. If not and multiple external networks exist, the L3
agent will handle any of them.

[1] https://review.opendev.org/#/c/567369/
[2] https://review.opendev.org/#/c/59359

Change-Id: Idd766bd069eda85ab6876a78b8b050ee5ab66cf6
Closes-Bug: #1824571
(cherry picked from commit 0b3f5f429d2e495eb78d78d46186092ac735e0d5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/661835/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,4f0bbcfb3300f878c3cb5debbd38f6e3ce581a61,support-multiple-external-networks-stable/stein," e = oslo_messaging.RemoteError() e.exc_type = 'TooManyExternalNetworks' agent.plugin_rpc.get_external_network_id.side_effect = e agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info)","from neutron_lib import exceptions as exc self.plugin_api.get_external_network_id.side_effect = ( exc.TooManyExternalNetworks()) self.assertRaises(exc.TooManyExternalNetworks, agent._process_router_if_compatible, router) self.assertNotIn(router['id'], agent.router_info) def test_process_router_if_compatible_with_no_bridge_no_ext_net(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) self.plugin_api.get_external_network_id.return_value = 'aaa' router = {'id': _uuid(), 'routes': [], 'admin_state_up': True, 'external_gateway_info': {'network_id': 'aaa'}} agent.router_info = {} agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info) ",8,26
openstack%2Fopenstack-manuals~master~Ic857918b15496049b5ccacde9515f130cc0bd7e9,openstack/openstack-manuals,master,Ic857918b15496049b5ccacde9515f130cc0bd7e9,[admin-guide]Replace the abandoned command with new command..,MERGED,2017-03-17 03:08:24.000000000,2019-06-24 15:54:29.000000000,2017-04-10 14:09:52.000000000,"[{'_account_id': 3}, {'_account_id': 6772}, {'_account_id': 8846}, {'_account_id': 9162}, {'_account_id': 10607}, {'_account_id': 10897}, {'_account_id': 14962}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22299}, {'_account_id': 25067}, {'_account_id': 25284}, {'_account_id': 25388}]","[{'number': 1, 'created': '2017-03-17 03:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88bf8d45710e03de0b93467c25132d1316470dd4', 'message': 'Replace the command nova absolute-limits with nova limits\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\n'}, {'number': 2, 'created': '2017-03-20 07:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/18e0abb5e74302785e39a7a8564d47cc85d8afed', 'message': 'Replace the command nova absolute-limits with nova limits\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 3, 'created': '2017-03-20 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/89e14cf837cdcf693f2c253e1ce4000fdf84e3c9', 'message': 'Replace the command nova absolute-limits with nova limits\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata.\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 4, 'created': '2017-03-30 09:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f1a977e2a190014d14ccadf9bfb46d703952d697', 'message': 'Replace the command nova absolute-limits with nova limits\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 5, 'created': '2017-04-07 03:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f64ccf9e4842be2ff29730e07933d8e55a7d6d53', 'message': 'Replace the command ""nova absolute-limits"" with ""nova limits"".\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 6, 'created': '2017-04-07 03:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4c2cc94ede626b45164d610fbacf80efbce5b078', 'message': 'Replace the abandoned command with new command..\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;The command ""nova quota-update"" is replaced by ""openstack quota set"".\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 7, 'created': '2017-04-10 02:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cff40589fd3bf56bcfecb4a7f79ff5fe52ef2bc2', 'message': 'Replace the abandoned command with new command..\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;The command ""nova quota-update"" is replaced by ""openstack quota set"".\n\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\n'}, {'number': 8, 'created': '2017-04-10 03:56:03.000000000', 'files': ['doc/admin-guide/source/cli-set-compute-quotas.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/655a9ce2c6372b94d2023242292aaae3a511e631', 'message': '[admin-guide]Replace the abandoned command with new command..\n\nThe commad ""nova absolute-limits "" is replaced by ""nova limits"" after\nOcata;The command ""nova quota-update"" is replaced by ""openstack quota set"".\n\nCo-Authored-By: chenxing <chen.\u200bxing@99cloud.\u200bnet>\nChange-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9\nCloses-Bug: #1672430\nImplements: blueprint use-openstack-command\n'}]",7,446825,655a9ce2c6372b94d2023242292aaae3a511e631,42,13,8,25284,,,0,"[admin-guide]Replace the abandoned command with new command..

The commad ""nova absolute-limits "" is replaced by ""nova limits"" after
Ocata;The command ""nova quota-update"" is replaced by ""openstack quota set"".

Co-Authored-By: chenxing <chen.xing@99cloud.net>
Change-Id: Ic857918b15496049b5ccacde9515f130cc0bd7e9
Closes-Bug: #1672430
Implements: blueprint use-openstack-command
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/25/446825/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide/source/cli-set-compute-quotas.rst'],1,88bf8d45710e03de0b93467c25132d1316470dd4,bug/1672430,Use :command:`nova limits` to get a list of the .. code-block:: console $ nova limits --tenant TENANT_NAME +------+-----+-------+--------+------+----------------+ | Verb | URI | Value | Remain | Unit | Next_Available | +------+-----+-------+--------+------+----------------+ +------+-----+-------+--------+------+----------------+,Use :command:`nova absolute-limits` to get a list of the.. code-block:: console $ nova absolute-limits --tenant TENANT_NAME | FloatingIps | 0 | 10 | | ImageMeta | - | 128 | | SecurityGroupRules | - | 20 | | SecurityGroups | 0 | 10 |,7,7
openstack%2Fkolla~stable%2Frocky~I515f9764ca93a41a871e520696193a9298856d08,openstack/kolla,stable/rocky,I515f9764ca93a41a871e520696193a9298856d08,Use td-agent-gem to install fluentd monasca plugin on ubuntu,MERGED,2019-06-18 17:39:35.000000000,2019-06-24 15:52:58.000000000,2019-06-24 15:52:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 17:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b7f4387481a10031bcd512a0700de57a37c07e6d', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n(cherry picked from commit c585ca5055c7a92fdbe5826030d3529e5c397540)\n'}, {'number': 2, 'created': '2019-06-19 11:52:42.000000000', 'files': ['docker/macros.j2', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/40104a393e11cee0f2d37a6b2eea0cbbd388e71b', 'message': 'Use td-agent-gem to install fluentd monasca plugin on ubuntu\n\nIf monasca is enabled on ubuntu, we see the following error in fluentd:\n\n[error]: config error file=""/etc/td-agent/td-agent.conf""\nerror_class=Fluent::ConfigError error=""Unknown output plugin \'monasca\'.\nRun \'gem search -rd fluent-plugin\' to find plugins""\n\nThis is because we use \'fluent-gem install\' to install the gem, which\nworks on CentOS but on Ubuntu it is necessary to use \'td-agent-gem\ninstall\'.\n\nChange-Id: I515f9764ca93a41a871e520696193a9298856d08\nCloses-Bug: #1830147\n(cherry picked from commit c585ca5055c7a92fdbe5826030d3529e5c397540)\n'}]",0,666075,40104a393e11cee0f2d37a6b2eea0cbbd388e71b,14,5,2,14826,,,0,"Use td-agent-gem to install fluentd monasca plugin on ubuntu

If monasca is enabled on ubuntu, we see the following error in fluentd:

[error]: config error file=""/etc/td-agent/td-agent.conf""
error_class=Fluent::ConfigError error=""Unknown output plugin 'monasca'.
Run 'gem search -rd fluent-plugin' to find plugins""

This is because we use 'fluent-gem install' to install the gem, which
works on CentOS but on Ubuntu it is necessary to use 'td-agent-gem
install'.

Change-Id: I515f9764ca93a41a871e520696193a9298856d08
Closes-Bug: #1830147
(cherry picked from commit c585ca5055c7a92fdbe5826030d3529e5c397540)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/666075/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/macros.j2', 'docker/fluentd/Dockerfile.j2']",2,b7f4387481a10031bcd512a0700de57a37c07e6d,bug/1830147," && {{ macros.install_fluent_plugins(['fluentd-monasca-output-*.gem'], chain=True) }} \", && fluent-gem install fluentd-monasca-output-*.gem \,5,4
openstack%2Fnova~master~Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1,openstack/nova,master,Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1,doc: Add additional content to admin guide,MERGED,2017-08-04 15:46:41.000000000,2019-06-24 15:47:22.000000000,2017-08-08 19:06:37.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10607}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-04 15:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be5c60b6badf355a33659259db4439e763c3145a', 'message': 'doc: Add additional content to admin guide\n\nImport the following documents from the admin guide [1]:\n\n- cli-manage-flavors.rst\n- cli-nova-evacuate.rst\n- cli-nova-manage-projects-security.rst\n- cli-nova-manage-services.rst\n- cli-nova-numa-libvirt.rst\n- cli-nova-specify-host.rst\n- cli-set-quotas.rst\n- cli-set-compute-quotas.rst\n- cli-os-migrate.rst\n- cli-os-migrate-cfg-ssh.rst\n- ts-no-emulator-x86-64.rst\n\nThese were missed in the original import [2].\n\n[1] TODO\n[2] https://review.openstack.org/#/c/477497/\n\nChange-Id: Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1\nCloses-Bug: #1708666\n'}, {'number': 2, 'created': '2017-08-07 10:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/341be3e8261970c3b66ea6cd8f7f9399aae816fc', 'message': 'doc: Add additional content to admin guide\n\nImport the following documents from the admin guide [1]:\n\n- cli-manage-flavors.rst\n- cli-nova-evacuate.rst\n- cli-nova-manage-projects-security.rst\n- cli-nova-manage-services.rst\n- cli-nova-numa-libvirt.rst\n- cli-nova-specify-host.rst\n- cli-set-quotas.rst\n- cli-set-compute-quotas.rst\n- cli-os-migrate.rst\n- cli-os-migrate-cfg-ssh.rst\n- ts-no-emulator-x86-64.rst\n\nThese were missed in the original import [2].\n\n[1] TODO\n[2] https://review.openstack.org/#/c/477497/\n\nChange-Id: Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1\nCloses-Bug: #1708666\n'}, {'number': 3, 'created': '2017-08-07 15:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5c6ca7fa5a3458f94688f9bd400cd914c1392d5', 'message': 'doc: Add additional content to admin guide\n\nImport the following documents from the admin guide [1]:\n\n- cli-manage-flavors.rst\n- cli-nova-evacuate.rst\n- cli-nova-manage-projects-security.rst\n- cli-nova-manage-services.rst\n- cli-nova-numa-libvirt.rst\n- cli-nova-specify-host.rst\n- cli-set-quotas.rst\n- cli-set-compute-quotas.rst\n- cli-os-migrate.rst\n- cli-os-migrate-cfg-ssh.rst\n- ts-no-emulator-x86-64.rst\n\nThese were missed in the original import [2].\n\n[1] https://github.com/openstack/openstack-manuals/tree/stable/ocata/doc/admin-guide/source\n[2] https://review.openstack.org/#/c/477497/\n\nChange-Id: Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1\nCloses-Bug: #1708666\n'}, {'number': 4, 'created': '2017-08-08 13:19:02.000000000', 'files': ['doc/source/admin/security-groups.rst', 'doc/source/admin/index.rst', 'doc/source/admin/evacuate.rst', 'doc/source/admin/support-compute.rst', 'doc/source/admin/availability-zones.rst', 'doc/source/admin/migration.rst', 'doc/source/admin/numa.rst', 'doc/source/admin/quotas.rst', 'doc/source/admin/flavors2.rst', 'doc/source/admin/quotas2.rst', 'doc/source/admin/services.rst', 'doc/source/admin/ssh-configuration.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/cadd25e9bc6dabb62d2d0044f8df9b537deacd87', 'message': ""doc: Add additional content to admin guide\n\nImport the following documents from the admin guide [1]:\n\n- cli-manage-flavors.rst\n- cli-nova-evacuate.rst\n- cli-nova-manage-projects-security.rst\n- cli-nova-manage-services.rst\n- cli-nova-numa-libvirt.rst\n- cli-nova-specify-host.rst\n- cli-set-quotas.rst\n- cli-set-compute-quotas.rst\n- cli-os-migrate.rst\n- cli-os-migrate-cfg-ssh.rst\n- ts-no-emulator-x86-64.rst\n- ts-multipath-warn.rst\n- ts-failed-connect-vol-FC-SAN.rst\n- ts-failed-attach-vol-no-sysfsutils.rst\n- ts-failed-attach-vol-after-detach.rst\n- ts-vol-attach-miss-sg-scan.rst\n\nThese were missed in the original import [2]. All 'ts-' files are merged\ninto a single 'support-compute' document, which is already in-tree.\n\n[1] https://github.com/openstack/openstack-manuals/tree/stable/ocata/doc/admin-guide/source\n[2] https://review.openstack.org/#/c/477497/\n\nChange-Id: Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1\nCloses-Bug: #1708666\n""}]",23,490952,cadd25e9bc6dabb62d2d0044f8df9b537deacd87,54,13,4,15334,,,0,"doc: Add additional content to admin guide

Import the following documents from the admin guide [1]:

- cli-manage-flavors.rst
- cli-nova-evacuate.rst
- cli-nova-manage-projects-security.rst
- cli-nova-manage-services.rst
- cli-nova-numa-libvirt.rst
- cli-nova-specify-host.rst
- cli-set-quotas.rst
- cli-set-compute-quotas.rst
- cli-os-migrate.rst
- cli-os-migrate-cfg-ssh.rst
- ts-no-emulator-x86-64.rst
- ts-multipath-warn.rst
- ts-failed-connect-vol-FC-SAN.rst
- ts-failed-attach-vol-no-sysfsutils.rst
- ts-failed-attach-vol-after-detach.rst
- ts-vol-attach-miss-sg-scan.rst

These were missed in the original import [2]. All 'ts-' files are merged
into a single 'support-compute' document, which is already in-tree.

[1] https://github.com/openstack/openstack-manuals/tree/stable/ocata/doc/admin-guide/source
[2] https://review.openstack.org/#/c/477497/

Change-Id: Ifa0039e270e54ea2fb58ab18ce6724e5e8e061a1
Closes-Bug: #1708666
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/490952/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/quotas.rst', 'doc/source/admin/security-groups.rst', 'doc/source/admin/flavors2.rst', 'doc/source/admin/quotas2.rst', 'doc/source/admin/evacuate.rst', 'doc/source/admin/support-compute.rst', 'doc/source/admin/availability-zones.rst', 'doc/source/admin/services.rst', 'doc/source/admin/migration.rst', 'doc/source/admin/numa.rst', 'doc/source/admin/ssh-configuration.rst']",11,be5c60b6badf355a33659259db4439e763c3145a,bug/1708666,".. _cli-os-migrate-cfg-ssh: =================================== Configure SSH between compute nodes =================================== .. todo:: Consider merging this into a larger ""live-migration"" document If you are resizing or migrating an instance between hypervisors, you might encounter an SSH (Permission denied) error. Ensure that each node is configured with SSH key authentication so that the Compute service can use SSH to move disks to other nodes. To share a key pair between compute nodes, complete the following steps: #. On the first node, obtain a key pair (public key and private key). Use the root key that is in the ``/root/.ssh/id_rsa`` and ``/root/.ssh/id_ras.pub`` directories or generate a new key pair. #. Run :command:`setenforce 0` to put SELinux into permissive mode. #. Enable login abilities for the nova user: .. code-block:: console # usermod -s /bin/bash nova Switch to the nova account. .. code-block:: console # su nova #. As root, create the folder that is needed by SSH and place the private key that you obtained in step 1 into this folder: .. code-block:: console mkdir -p /var/lib/nova/.ssh cp <private key> /var/lib/nova/.ssh/id_rsa echo 'StrictHostKeyChecking no' >> /var/lib/nova/.ssh/config chmod 600 /var/lib/nova/.ssh/id_rsa /var/lib/nova/.ssh/authorized_keys #. Repeat steps 2-4 on each node. .. note:: The nodes must share the same key pair, so do not generate a new key pair for any subsequent nodes. #. From the first node, where you created the SSH key, run: .. code-block:: console ssh-copy-id -i <pub key> nova@remote-host This command installs your public key in a remote machine's ``authorized_keys`` folder. #. Ensure that the nova user can now log in to each node without using a password: .. code-block:: console # su nova $ ssh *computeNodeAddress* $ exit #. As root on each node, restart both libvirt and the Compute services: .. code-block:: console # systemctl restart libvirtd.service # systemctl restart openstack-nova-compute.service ",,1151,0
openstack%2Fplacement~master~I55973aa7de4a85b63dff4a7d1afb6c36796af71a,openstack/placement,master,I55973aa7de4a85b63dff4a7d1afb6c36796af71a,Spec for nested magic 1,MERGED,2019-05-30 12:13:14.000000000,2019-06-24 15:45:54.000000000,2019-06-24 15:45:54.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-05-30 12:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ca6988afecedd80a0177237aef47c806bbd5efb7', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 2, 'created': '2019-05-31 08:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/344aebb5737d0acf7f75e8e4300f8f5297e217b6', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 3, 'created': '2019-05-31 20:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/37c202115e773ca89e734db3f1cf5aa01c30ae9a', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 4, 'created': '2019-06-06 20:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/40ea95bcfedf3b4e08e9a3a2363c0099c16fde36', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 5, 'created': '2019-06-18 18:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/adc8972d32c418ce9104dfa6866936168ab5bd13', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n* Requesting candidates based on traits that are not necessarily\n  associated with resources.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n* root_required\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 6, 'created': '2019-06-19 23:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4ba0323625edd28c821576759ac8ec71be1e47f4', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n* Requesting candidates based on traits/aggregates that are not\n  necessarily associated with resources.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n* root_required, root_member_of\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}, {'number': 7, 'created': '2019-06-20 15:18:08.000000000', 'files': ['doc/source/specs/train/approved/2005575-nested-magic-1.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/c00d043376811c0b4b42fbe845fa8f093351b0b5', 'message': ""Spec for nested magic 1\n\nThis is a spec for several nested features which has been split\noff from the original spec for nested magic [1] in an effort to\nnot delay progress on these features while 'can_split' is being\ndiscussed.\n\nThis spec describes a cluster of Placement API work to support several\ninterrelated use cases for Train around:\n\n* Modeling complex trees such as NUMA layouts, multiple devices,\n  networks.\n* Requesting affinity (in the NUMA sense) between/among the various\n  providers/allocations in allocation candidates against such layouts.\n* Describing granular groups more richly to facilitate the above.\n* Requesting candidates based on traits/aggregates that are not\n  necessarily associated with resources.\n\nIn particular, it describes the new GET /allocation_candidates\nfeatures:\n\n* arbitrary group suffixes\n* same_subtree query parameter\n* resourceless request groups\n* root_required, root_member_of\n\n[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e\n\nCo-Authored-By: Eric Fried <openstack@fried.cc>\nChange-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a\nStory: #2005575\nTask: #30949\n""}]",115,662191,c00d043376811c0b4b42fbe845fa8f093351b0b5,87,12,7,11564,,,0,"Spec for nested magic 1

This is a spec for several nested features which has been split
off from the original spec for nested magic [1] in an effort to
not delay progress on these features while 'can_split' is being
discussed.

This spec describes a cluster of Placement API work to support several
interrelated use cases for Train around:

* Modeling complex trees such as NUMA layouts, multiple devices,
  networks.
* Requesting affinity (in the NUMA sense) between/among the various
  providers/allocations in allocation candidates against such layouts.
* Describing granular groups more richly to facilitate the above.
* Requesting candidates based on traits/aggregates that are not
  necessarily associated with resources.

In particular, it describes the new GET /allocation_candidates
features:

* arbitrary group suffixes
* same_subtree query parameter
* resourceless request groups
* root_required, root_member_of

[1] I7c00b06e85879ab1bf877ce32979e8cc898bfd9e

Co-Authored-By: Eric Fried <openstack@fried.cc>
Change-Id: I55973aa7de4a85b63dff4a7d1afb6c36796af71a
Story: #2005575
Task: #30949
",git fetch https://review.opendev.org/openstack/placement refs/changes/91/662191/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/approved/2005575-nested-magic-1.rst'],1,ca6988afecedd80a0177237aef47c806bbd5efb7,story/2005575-30949,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Getting On The Nested Magic Train 1 =================================== https://storyboard.openstack.org/#!/story/2005575 This spec describes a cluster of Placement API work to support several interrelated use cases for Train around: * Modeling complex trees such as NUMA layouts, multiple devices, networks. * Requesting affinity [*]_ between/among the various providers/allocations in allocation candidates against such layouts. * Describing granular groups more richly to facilitate the above. An additional spec, for a feature known as `can_split`_ has been separated out to its own spec to ensure that any delay in it does not impact these features, which are less controversial. .. [*] The kind of affinity we're talking about is best understood by referring to the use case for the `same_subtree`_ feature below. Proposed change =============== All changes are to the ``GET /allocation_candidates`` operation via new microversions, one per feature described below. arbitrary group suffixes ------------------------ **Use case:** Client code managing request groups for different kinds of resources - which will often come from different providers - may reside in different places in the codebase. For example, the management of compute resources vs. networks vs. accelerators. However, there still needs to be a way for the consuming code to express relationships (such as affinity) among these request groups. For this purpose, API consumers wish to be able to use conventions for request group identifiers. It would also be nice for development and debugging purposes if these designations had some element of human readability. (Merged) code is here: https://review.opendev.org/#/c/657419/ Granular groups are currently restricted to using integer suffixes. We will change this so they can be case-sensitive strings up to 64 characters long comprising alphanumeric (either case), underscore, and hyphen. * 64c so we can fit a UUID (with hyphens) as well as some kind of handy type designation. Like ``resources_PORT_$UUID``. https://review.opendev.org/#/c/657419/4/placement/schemas/allocation_candidate.py@19 * We want to allow uppercase so consumers can make nice visual distinctions like ``resources_PORT...``; we want to allow lowercase because openstack consumers tend to use lowercase UUIDs and this makes them not have to convert them. Placement will use the string in the form it is given and transform it neither on input nor output. If the form does match constraints a ``400`` response will be returned. https://review.opendev.org/#/c/657419/4/placement/schemas/allocation_candidate.py@19 * **Alternative** Uppercase only so we don't have to worry about case sensitivity or confusing differentiation from the prefixes (which are lowercase). **Rejected** because we prefer allowing lowercase UUIDs, and are willing to give the consumer the rope. https://review.opendev.org/#/c/657419/1/placement/lib.py@31 * Hyphens so we can use UUIDs without too much scrubbing. For purposes of documentation (and this spec), we'll rename the ""unnumbered"" group to ""unspecified"" or ""unsuffixed"", and anywhere we reference ""numbered"" groups we can call them ""suffixed"" or ""granular"" (I think this label is already used in some places). same_subtree ------------ **Use case:** I want to express affinity between/among allocations in separate request groups. For example, that a ``VGPU`` come from a GPU affined to the NUMA node that provides my ``VCPU`` and ``MEMORY_MB``; or that multiple network VFs come from the same NIC. A new ``same_subtree`` query parameter will be accepted. The value is a comma-separated list of request group suffix strings ``$S``. Each must exactly match a suffix on a granular group somewhere else in the request. Importantly, the identified request groups need not have a ``resources$S`` (see `resourceless request groups`_). We define ""same subtree"" as ""all of the resource providers satisfying the request group must be rooted at one of the resource providers satisfying the request group"". Or put another way: ""one of the resource providers satisfying the request group must be the direct ancestor of all the other resource providers satisfying the request group"". For example, given a model like:: +--------------+ | compute node | +-------+------+ | +---------+----------+ | | +---------+--------+ +---------+--------+ | numa0 | | numa1 | | VCPU: 4 (2 used) | | VCPU: 4 | | MEMORY_MB: 2048 | | MEMORY_MB: 2048 | +---+--------------+ +---+----------+---+ | | | +---+----+ +---+---+ +---+---+ |fpga0_0 | |fpga1_0| |fpga1_1| |FPGA:1 | |FPGA:1 | |FPGA:1 | +--------+ +-------+ +-------+ a request including:: ?resources_COMPUTE=VCPU:2,MEMORY_MB:512 &resources_ACCEL=FPGA:1 # NOTE: The suffixes include the leading underscore! &same_subtree=_COMPUTE,_ACCEL will produce candidates including:: - numa0: {VCPU:2, MEMORY_MB:512}, fpga0_0: {FPGA:1} - numa1: {VCPU:2, MEMORY_MB:512}, fpga1_0: {FPGA:1} - numa1: {VCPU:2, MEMORY_MB:512}, fpga1_1: {FPGA:1} but *not*:: - numa0: {VCPU:2, MEMORY_MB:512}, fpga1_0: {FPGA:1} - numa0: {VCPU:2, MEMORY_MB:512}, fpga1_1: {FPGA:1} - numa1: {VCPU:2, MEMORY_MB:512}, fpga0_0: {FPGA:1} The ``same_subtree`` query parameter may be repeated. Each grouping is treated independently. Anti-affinity ~~~~~~~~~~~~~ There were discussions about supporting ``!`` syntax in ``same_subtree`` to express anti-affinity (e.g. ``same_subtree=$X,!$Y`` meaning ""resources from group ``$Y`` shall *not* come from the same subtree as resources from group ``$X``""). This shall be deferred to a future release. resourceless request groups --------------------------- **Use case:** When making use of ``same_subtree``, I want to be able to identify a provider as a placeholder in the subtree structure even if I don't need any resources from that provider. It is currently a requirement that a ``resources$S`` exist for all ``$S`` in a request. This restriction shall be removed such that a request group may exist e.g. with only ``required$S`` or ``member_of$S``. There must be at least one ``resources`` or ``resources$S`` somewhere in the request, otherwise there will be no inventory to allocate and thus no allocation candidates. If neither is present a ``400`` response will be returned. For example, given a model like:: +--------------+ | compute node | +-------+------+ | +-----------+-----------+ | | +-----+-----+ +-----+-----+ |nic1 | |nic2 | |HW_NIC_ROOT| |HW_NIC_ROOT| +-----+-----+ +-----+-----+ | | +----+----+ +-----+---+ | | | | +--+--+ +--+--+ +--+--+ +--+--+ |pf1_1| |pf1_2| |pf2_1| |pf2_2| |NET1 | |NET2 | |NET1 | |NET2 | |VF:4 | |VF:4 | |VF:2 | |VF:2 | +-----+ +-----+ +-----+ +-----+ a request such as the following is legal:: ?resources_VIF_NET1=VF:1 &required_VIF_NET1=NET1 &resources_VIF_NET2=VF:1 &required_VIF_NET2=NET2 # NOTE: there is no resources_NIC_AFFINITY &required_NIC_AFFINITY=HW_NIC_ROOT &same_subtree=_VIF_NET1,_VIF_NET2,_NIC_AFFINITY The returned candidates will include:: - pf1_1: {VF:1}, pf1_2: {VF:1} - pf2_1: {VF:1}, pf2_2: {VF:1} but *not*:: - pf1_1: {VF:1}, pf2_2: {VF:1} - pf2_1: {VF:1}, pf1_2: {VF:1} Interactions among query params ------------------------------- Some discussion on these can be found in the neighborhood of http://eavesdrop.openstack.org/irclogs/%23openstack-placement/%23openstack-placement.2019-05-10.log.html#t2019-05-10T22:02:43 group_policy + same_subtree ~~~~~~~~~~~~~~~~~~~~~~~~~~~ ``group_policy=isolate`` forces the request groups identified in ``same_subtree`` to be satisfied by different providers, whereas ``group_policy=none`` would also allow ``same_subtree`` to degenerate to ""same provider"". For example, given the following model:: +--------------+ | compute node | +-------+------+ | +-----------+-----------+ | | +-----+-----+ +-----+-----+ |nic1 | |nic2 | |HW_NIC_ROOT| |HW_NIC_ROOT| +-----+-----+ +-----+-----+ | | +----+----+ ... | | +--+--+ +--+--+ |pf1_1| |pf1_2| |VF:4 | |VF:4 | +-----+ +-----+ a request for:: ?resources_VIF1=VF:1 &resources_VIF2=VF:1 &required_NIC_AFFINITY=HW_NIC_ROOT &same_subtree=_VIF1,_VIF2,_NIC_AFFINITY &group_policy=isolate will return only one candidate:: - pf1: {VF:1}, pf2: {VF:1} whereas the same request with ``group_policy=none``:: ?resources_VIF1=VF:1 &resources_VIF2=VF:1 &required_NIC_AFFINITY=HW_NIC_ROOT &same_subtree=_VIF1,_VIF2,_NIC_AFFINITY &group_policy=none will return two additional candidates where both ``VF``\ s are satisfied by the same provider:: - pf1: {VF:1}, pf2: {VF:1} - pf1: {VF:2} - pf2: {VF:2} Impacts ======= Data model impact ----------------- There should be no changes to database table definitions, but the implementation will almost certainly involve adding/changing database queries. There will also likely be changes to python-side objects representing meta-objects used to manage information between the database and the REST layer. However, the data models for the JSON payloads in the REST layer itself will be unaffected. Performance Impact ------------------ The work for ``same_subtree`` will probably (at least initially) be done on the python side as additional filtering under ``_merge_candidates``. This could have some performance impact especially on large data sets. Again, we should optimize requests without ``same_subtree``, where ``same_subtree`` refers to only one group, where no nested providers exist in the database, etc. Resourceless request groups may add a small additional burden to database queries, but it should be negligible, especially since it should be relatively rare in the wild. However, in this case we may not be able to optimize. Documentation Impact -------------------- The new query parameters will be documented in the API reference. Microversion paperwork will be done. :doc:`/usage/provider-tree` will be updated (and/or split off of). Security impact --------------- None Other end user impact --------------------- None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- * cdent * tetsuro * efried * others Dependencies ============ None Testing ======= Code for a gabbi fixture with some complex and interesting characteristics is started here: https://review.opendev.org/#/c/657463/ Lots of functional testing, primarily via gabbi, will be included. It wouldn't be insane to write some PoC consuming code on the nova side to validate assumptions and use cases. References ========== ...are inline History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced .. _can_split: https://review.opendev.org/658510 ",,349,0
openstack%2Fkuryr-kubernetes~stable%2Fstein~I6f19724fe0dabc00d4fae5097301f7ab46a91483,openstack/kuryr-kubernetes,stable/stein,I6f19724fe0dabc00d4fae5097301f7ab46a91483,Fix network pool deletion method,MERGED,2019-06-21 09:53:03.000000000,2019-06-24 15:41:22.000000000,2019-06-24 15:41:21.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 27032}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-21 09:53:03.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5542c6d92d3a9291b1896dd29e486ea1b6f98b1a', 'message': 'Fix network pool deletion method\n\nThis patch ensures that available_ports_pools dict structure is not\nmodified to be a list when ports are deleted while running the\nnetwork pool deletion method. This ensures further iterations on that\ndict will not fail.\n\nCloses-Bug: 1832838\nChange-Id: I6f19724fe0dabc00d4fae5097301f7ab46a91483\n(cherry picked from commit 19045416455c16c44fc424bb33048dbea2bb0301)\n'}]",0,666806,5542c6d92d3a9291b1896dd29e486ea1b6f98b1a,9,5,1,23567,,,0,"Fix network pool deletion method

This patch ensures that available_ports_pools dict structure is not
modified to be a list when ports are deleted while running the
network pool deletion method. This ensures further iterations on that
dict will not fail.

Closes-Bug: 1832838
Change-Id: I6f19724fe0dabc00d4fae5097301f7ab46a91483
(cherry picked from commit 19045416455c16c44fc424bb33048dbea2bb0301)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/666806/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/namespace.py']",2,5542c6d92d3a9291b1896dd29e486ea1b6f98b1a,bug/1832838-stable/stein," try: self._drv_subnets.delete_namespace_subnet(net_crd) except exceptions.ResourceNotReady: LOG.debug(""Subnet is not ready to be removed."") # TODO(ltomasbo): Once KuryrPort CRDs is supported, we should # execute a delete network ports method here to remove the ports # associated to the namespace/subnet, ensuring next retry will be # successful raise", self._drv_subnets.delete_namespace_subnet(net_crd),11,3
openstack%2Ftripleo-ci~master~Ic174d27fde130a168707da1258bac7283195b60c,openstack/tripleo-ci,master,Ic174d27fde130a168707da1258bac7283195b60c,Allows to collect neutron agent wrappers and kill-scripts,MERGED,2019-06-21 11:13:17.000000000,2019-06-24 15:31:32.000000000,2019-06-24 15:31:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-21 11:13:17.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09006309f3fe15bfddaa1141a14877a0f674194d', 'message': ""Allows to collect neutron agent wrappers and kill-scripts\n\nIt's always good to keep them for debugging purpose, especially nowadays\nwhen we have both podman and docker.\n\nIt consists in a few bash scripts, meaning it shouldn't be more than a\nfew k.\n\nChange-Id: Ic174d27fde130a168707da1258bac7283195b60c\n""}]",2,666815,09006309f3fe15bfddaa1141a14877a0f674194d,10,4,1,28223,,,0,"Allows to collect neutron agent wrappers and kill-scripts

It's always good to keep them for debugging purpose, especially nowadays
when we have both podman and docker.

It consists in a few bash scripts, meaning it shouldn't be more than a
few k.

Change-Id: Ic174d27fde130a168707da1258bac7283195b60c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/666815/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,09006309f3fe15bfddaa1141a14877a0f674194d,collect-neutron-wrappers, - /var/lib/neutron/,,1,0
openstack%2Fkolla-ansible~master~I99d4ea6ca615bdde83cd55d91672733d9b95372a,openstack/kolla-ansible,master,I99d4ea6ca615bdde83cd55d91672733d9b95372a,Add missing docker_registry_insecure in globals.yml,MERGED,2019-06-21 09:30:38.000000000,2019-06-24 15:29:54.000000000,2019-06-24 15:29:54.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 09:30:38.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a81f18dfe90788600808ba75366e839a4246ed8c', 'message': 'Add missing docker_registry_insecure in globals.yml\n\nChange-Id: I99d4ea6ca615bdde83cd55d91672733d9b95372a\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666800,a81f18dfe90788600808ba75366e839a4246ed8c,11,3,1,30491,,,0,"Add missing docker_registry_insecure in globals.yml

Change-Id: I99d4ea6ca615bdde83cd55d91672733d9b95372a
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/666800/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,a81f18dfe90788600808ba75366e839a4246ed8c,add-missing-globals-example,"#docker_registry_insecure: ""yes""",,1,0
openstack%2Fkolla~master~I867ca75cafe853b206beae2f81dfb79b62d05557,openstack/kolla,master,I867ca75cafe853b206beae2f81dfb79b62d05557,Add a variable to configure repos disabled in base CentOS image,MERGED,2019-06-17 12:37:08.000000000,2019-06-24 15:26:13.000000000,2019-06-24 15:26:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-17 12:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/867556b13cf17f24477822368333bdcfb21c9dd0', 'message': 'Add centos_yum_repos_to_disable overridable in base\n\n[1] disabled CentOS Ceph Nautilus repo for Stein.\nIt turned out to be a problem for TripleO ([2])\nwhich does not use upstream Ceph repo and actually\nrelies on CentOS Ceph Nautilus repo.\nWe did not leave the option to override our customization.\nThis patch implements it in master.\n\n[1] https://review.opendev.org/651601\n[2] https://review.opendev.org/664244\n\nChange-Id: I867ca75cafe853b206beae2f81dfb79b62d05557\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-17 18:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c5a1fad7ad94267c61f2bf1b0779e6dcd9d2d5c7', 'message': 'Add a variable to configure repos disabled in base CentOS image\n\n[1] disabled CentOS Ceph Nautilus repo for Stein.\nIt turned out to be a problem for TripleO ([2])\nwhich does not use upstream Ceph repo and actually\nrelies on CentOS Ceph Nautilus repo.\nWe did not leave the option to override our customization.\nThis patch adds a customizable variable to base CentOS image:\ncentos_yum_repos_to_disable\n\nI also adjusted indentation the way it is done for Ubuntu image.\n\n[1] https://review.opendev.org/651601\n[2] https://review.opendev.org/664244\n\nChange-Id: I867ca75cafe853b206beae2f81dfb79b62d05557\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-18 07:14:25.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7ae5f1fe629554e588cd3992666af139e1efd9ce', 'message': 'Add a variable to configure repos disabled in base CentOS image\n\n[1] disabled CentOS Ceph Nautilus repo for Stein.\nIt turned out to be a problem for TripleO ([2])\nwhich does not use upstream Ceph repo and actually\nrelies on CentOS Ceph Nautilus repo.\nWe did not leave the option to override our customization.\nThis patch adds a customizable variable to base CentOS image:\ncentos_yum_repos_to_disable\n\n[1] https://review.opendev.org/651601\n[2] https://review.opendev.org/664244\n\nChange-Id: I867ca75cafe853b206beae2f81dfb79b62d05557\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",5,665657,7ae5f1fe629554e588cd3992666af139e1efd9ce,21,6,3,30491,,,0,"Add a variable to configure repos disabled in base CentOS image

[1] disabled CentOS Ceph Nautilus repo for Stein.
It turned out to be a problem for TripleO ([2])
which does not use upstream Ceph repo and actually
relies on CentOS Ceph Nautilus repo.
We did not leave the option to override our customization.
This patch adds a customizable variable to base CentOS image:
centos_yum_repos_to_disable

[1] https://review.opendev.org/651601
[2] https://review.opendev.org/664244

Change-Id: I867ca75cafe853b206beae2f81dfb79b62d05557
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/665657/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,867556b13cf17f24477822368333bdcfb21c9dd0,yum_repos_to_disable,"## NOTE(yoctozepto): created mostly for TripleO so that they can override it {% set base_centos_yum_repos_to_disable = [ ] %} RUN {{ macros.install_packages(base_centos_yum_repo_packages | customizable(""centos_yum_repo_packages""), chain=True, clean=False) }} \ {% for repo in base_centos_yum_repos_to_disable | customizable('centos_yum_repos_to_disable') -%} && yum-config-manager --disable {{ repo }} \ {% endfor -%} {% for key in base_centos_yum_repo_keys | customizable('centos_yum_repo_keys') -%} && rpm --import {{ key }} \","{{ macros.install_packages(base_centos_yum_repo_packages | customizable(""centos_yum_repo_packages"")) }} {% for key in base_centos_yum_repo_keys | customizable('centos_yum_repo_keys') %} {%- if loop.first %}RUN {% else %} && {% endif -%} rpm --import {{ key }} \",10,4
openstack%2Fnova~master~I745aecb008f0867fcda2d3d2c7691621dd8f6168,openstack/nova,master,I745aecb008f0867fcda2d3d2c7691621dd8f6168,Remove redundant group host setup,MERGED,2019-06-18 11:22:44.000000000,2019-06-24 15:23:58.000000000,2019-06-24 13:33:43.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-18 11:22:44.000000000', 'files': ['nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f108d7967636ec1afceff0be386da15d70e2ca37', 'message': 'Remove redundant group host setup\n\nIt seems that all the code path that ends up calling [1] goes through\n[2] before so setting up group host at [1] is redundant.\n\n[1] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L944-L950\n[2] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L996-L1000\n\nChange-Id: I745aecb008f0867fcda2d3d2c7691621dd8f6168\nCloses-Bug: #1788527\n'}]",1,665954,f108d7967636ec1afceff0be386da15d70e2ca37,19,14,1,9708,,,0,"Remove redundant group host setup

It seems that all the code path that ends up calling [1] goes through
[2] before so setting up group host at [1] is redundant.

[1] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L944-L950
[2] https://github.com/openstack/nova/blob/c7e9e667426a6d88d396a59cb40d30763a3265f9/nova/scheduler/utils.py#L996-L1000

Change-Id: I745aecb008f0867fcda2d3d2c7691621dd8f6168
Closes-Bug: #1788527
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/665954/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/utils.py'],1,f108d7967636ec1afceff0be386da15d70e2ca37,bug/1788527, group_hosts = set(group.get_hosts())," if context.db_connection: # We don't need to target the group object's context because it was # retrieved with the targeted context earlier in this method. group_hosts = set(group.get_hosts()) else: group_hosts = set(_get_instance_group_hosts_all_cells(context, group))",1,7
openstack%2Foslo.tools~master~I8e5c4efbc26110ae87aae7c4661f67bb1c5f9c26,openstack/oslo.tools,master,I8e5c4efbc26110ae87aae7c4661f67bb1c5f9c26,Remove ping_me script,MERGED,2019-06-18 16:56:57.000000000,2019-06-24 15:18:49.000000000,2019-06-24 15:18:49.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-18 16:56:57.000000000', 'files': ['ping_me.py'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/bcc255ccf37bb879379d525a4b3f224121972daa', 'message': ""Remove ping_me script\n\nWe've moved to managing the ping list in the meeting agenda on the\nwiki instead. To avoid confusion, let's remove the old script. If\nwe find that we need to revive it in the future we can always pull\nit from the git history.\n\nChange-Id: I8e5c4efbc26110ae87aae7c4661f67bb1c5f9c26\n""}]",0,666057,bcc255ccf37bb879379d525a4b3f224121972daa,7,3,1,6928,,,0,"Remove ping_me script

We've moved to managing the ping list in the meeting agenda on the
wiki instead. To avoid confusion, let's remove the old script. If
we find that we need to revive it in the future we can always pull
it from the git history.

Change-Id: I8e5c4efbc26110ae87aae7c4661f67bb1c5f9c26
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/57/666057/1 && git format-patch -1 --stdout FETCH_HEAD,['ping_me.py'],1,bcc255ccf37bb879379d525a4b3f224121972daa,retire-ping,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Script that is useful to run to make commands that will ping folks for the oslo weekly irc meeting. """""" import collections import sys NOTIFY_PEPS = [ 'amotoki', 'amrith', 'ansmith', 'bnemec', 'dims', 'dougwig', 'e0ne', 'garyk', 'haypo', 'hberaud', 'electrocucaracha', 'jd__', 'johnsom', 'jungleboyj', 'kgiusti', 'kragniz', 'lhx_', 'moguimar', 'njohnston', 'raildo', 'redrobot', 'sileht', 'sreshetnyak', 'stephenfin', 'stevemar', 'therve', 'thinrichs', 'toabctl', 'zhiyan', 'zzzeek', 'gcb', 'zxy', ] NOTIFY_PEPS = sorted(NOTIFY_PEPS, key=str.lower) NUM_PER_LINE = 7 INFO_MESSAGE = ('To be added or removed from the ping list, please submit a ' 'patch to ' 'http://opendev.org/openstack/oslo.tools/tree/' 'ping_me.py\n' ) def main(): sys.stdout.write(""courtesy ping for "") num_in_line = 0 peps = collections.deque(NOTIFY_PEPS) while peps: pep = peps.popleft() sys.stdout.write(pep) num_in_line += 1 if num_in_line >= NUM_PER_LINE: sys.stdout.write(""\n"") if peps: sys.stdout.write(""courtesy ping for "") num_in_line = 0 else: if peps: sys.stdout.write("", "") if num_in_line: sys.stdout.write(""\n"") sys.stdout.write(INFO_MESSAGE) if __name__ == '__main__': main() ",0,85
openstack%2Fpython-openstackclient~master~I6a2c4406dc3701d8af99ed7f714c077a47a279ce,openstack/python-openstackclient,master,I6a2c4406dc3701d8af99ed7f714c077a47a279ce,Remove deprecated compute.v2.fixedip/floatingip,ABANDONED,2018-01-28 01:49:53.000000000,2019-06-24 15:15:34.000000000,,"[{'_account_id': 6482}, {'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-28 01:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/27589a1e5e09243860672cd7b14937b8410e7408', 'message': ""Remove deprecated compute.v2.fixedip/floatingip\n\nThese were deprecated in these changes:\n\nIc0dd22ca6fb7b7bc3e820fd5a14d7c551e7ab963\n\nIca07ccf92a76c21fd5608ecaff86ff7c4d96f5a0\n\nThe related novaclient changes have been removed\nin the novaclient 10.0.0 release, so it's time to\nalso remove these from openstackclient.\n\nChange-Id: I6a2c4406dc3701d8af99ed7f714c077a47a279ce\nRelated-Bug: #1745795\n""}, {'number': 2, 'created': '2019-06-19 19:36:00.000000000', 'files': ['releasenotes/notes/remove-deprecated-ip-fixed-floating-add-remove-8d0d6a81565103a6.yaml', 'openstackclient/compute/v2/fixedip.py', 'openstackclient/compute/v2/floatingip.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e4d8bdf766c9f48371ca615c01b80e7be8d85b79', 'message': ""Remove deprecated compute.v2.fixedip/floatingip\n\nThese were deprecated in these changes:\n\nIc0dd22ca6fb7b7bc3e820fd5a14d7c551e7ab963\n\nIca07ccf92a76c21fd5608ecaff86ff7c4d96f5a0\n\nThe related novaclient changes have been removed\nin the novaclient 10.0.0 release, so it's time to\nalso remove these from openstackclient.\n\nChange-Id: I6a2c4406dc3701d8af99ed7f714c077a47a279ce\nRelated-Bug: #1745795\n""}]",1,538537,e4d8bdf766c9f48371ca615c01b80e7be8d85b79,10,3,2,6873,,,0,"Remove deprecated compute.v2.fixedip/floatingip

These were deprecated in these changes:

Ic0dd22ca6fb7b7bc3e820fd5a14d7c551e7ab963

Ica07ccf92a76c21fd5608ecaff86ff7c4d96f5a0

The related novaclient changes have been removed
in the novaclient 10.0.0 release, so it's time to
also remove these from openstackclient.

Change-Id: I6a2c4406dc3701d8af99ed7f714c077a47a279ce
Related-Bug: #1745795
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/538537/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-deprecated-ip-fixed-floating-add-remove-8d0d6a81565103a6.yaml', 'openstackclient/compute/v2/fixedip.py', 'openstackclient/compute/v2/floatingip.py', 'setup.cfg']",4,27589a1e5e09243860672cd7b14937b8410e7408,bug/1745795,, ip_fixed_add = openstackclient.compute.v2.fixedip:AddFixedIP ip_fixed_remove = openstackclient.compute.v2.fixedip:RemoveFixedIP ip_floating_add = openstackclient.compute.v2.floatingip:AddFloatingIP ip_floating_remove = openstackclient.compute.v2.floatingip:RemoveFloatingIP ,9,203
openstack%2Freleases~master~I360aa9a024df08024aedd1e115805fe53796e964,openstack/releases,master,I360aa9a024df08024aedd1e115805fe53796e964,Neutron Pike 11.0.9,ABANDONED,2019-06-24 15:11:47.000000000,2019-06-24 15:13:28.000000000,,[],"[{'number': 1, 'created': '2019-06-24 15:11:47.000000000', 'files': ['deliverables/pike/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/867dd9ad19873300120703d38c6398911b761c55', 'message': 'Neutron Pike 11.0.9\n\nChange-Id: I360aa9a024df08024aedd1e115805fe53796e964\n'}]",0,667127,867dd9ad19873300120703d38c6398911b761c55,2,0,1,1131,,,0,"Neutron Pike 11.0.9

Change-Id: I360aa9a024df08024aedd1e115805fe53796e964
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/667127/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/neutron.yaml'],1,867dd9ad19873300120703d38c6398911b761c55,neutron-pike-11.0.9, - hash: 249549379cdb2d43ebde061b76acb07fa4274146 repo: openstack/neutron version: 11.0.9 - projects:,,4,0
openstack%2Fnova-specs~master~I37b05e1025d29d1e79b18a889fa629200f43edfe,openstack/nova-specs,master,I37b05e1025d29d1e79b18a889fa629200f43edfe,Support shared and dedicated VMs in one host,ABANDONED,2018-02-13 06:24:08.000000000,2019-06-24 15:10:40.000000000,,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 1779}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8768}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 30209}]","[{'number': 1, 'created': '2018-02-13 06:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6d139908c831406e501136a1c2135a8b63e1b40a', 'message': ""Add hw:cpu_policy 'mixed' for better CPU utilization\n\nThis feature will allow libvirt driver to pin guest vCPUs to\nhost pCPUs and at the same time allows guest vCPUS to freely\nfloat across host pCPUs by introducing a new cpu_policy `mixed`\nthereby achieving better utilization of compute CPU resources.\n\nImplements: bp add-cpu-policy-mixed\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n""}, {'number': 2, 'created': '2018-02-19 01:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8e7efaaf9b479279d13867309438d09d793303b6', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicate_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 3, 'created': '2018-02-19 12:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/31fac2cb023d4f0cee5b32d5d46a776866b91844', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicate_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 4, 'created': '2018-02-22 08:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e83df037454d89adb6cde349af98078871f6aaef', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 5, 'created': '2018-02-22 08:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ee5bfc5438bba9ab137f94a32e8e192f2a23192c', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 6, 'created': '2018-02-22 10:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d4bc7773d92d60f9831c050a7453a4ae9a208e78', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 7, 'created': '2018-02-22 10:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/aa22e97f55eaf4605f27b38022c0f391f8209807', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 8, 'created': '2018-02-22 14:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9da1a6bae196fd9a3e7d6500a623275dcde10c97', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 9, 'created': '2018-02-22 14:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3095830cd1feefb01d7b328e19f7d8c41b4d85f', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 10, 'created': '2018-02-22 14:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fa9caa1543b6bd60c3d89b824eacc4ad4dc232b7', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to co-locate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 11, 'created': '2018-02-23 00:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/960863cb1b505539d8b517ea77c989444c893256', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 12, 'created': '2018-02-24 08:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9223641d729c2a1ff2a5a7920c52f3687a9d120d', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 13, 'created': '2018-03-01 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6c9a7219ceb5b991b358de6005b6ef29476f551e', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``pcpu_pin_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 14, 'created': '2018-03-01 22:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/209a49714c37ceb94ce094f9ed3ffef39bf18a01', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``pcpu_pin_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 15, 'created': '2018-03-02 07:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/77e0f39f33253a3f7c9568a1796c4c140a3dab67', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``dedicated_numa_cores`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 16, 'created': '2018-03-02 17:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c6147cd5958707421a239c4384657ddd466bc247', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 17, 'created': '2018-03-06 06:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0d4b4e6215259f8c9281024dc8ee29f5fba6d664', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 18, 'created': '2018-03-06 08:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/804f3fc1a385bfd7e0c8eba2723cc3a677240e25', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 19, 'created': '2018-03-15 04:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0fdc8f59d0de916310b4ad7faa42bb20f15c9a56', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 20, 'created': '2018-03-15 08:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a20535026d91221fbce42fec7d11540ec240d7f9', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}, {'number': 21, 'created': '2018-03-16 02:06:34.000000000', 'files': ['specs/rocky/approved/mixed-cpu-policy-host.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/26aa512729f00b004161c293d1250dba1cfbef7a', 'message': 'Support shared and dedicated VMs in one host\n\nThis feature enables VMs with ""cpu-policy=shared"" and\n""cpu-policy=dedicated"" to colocate on the same host at the same time\nby introducing ``vcpu_dedicated_set`` in the nova configuration.\n\nCo-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>\nBlueprint: mixed-cpu-policy-host\nChange-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe\n'}]",225,543805,26aa512729f00b004161c293d1250dba1cfbef7a,88,15,21,20191,,,0,"Support shared and dedicated VMs in one host

This feature enables VMs with ""cpu-policy=shared"" and
""cpu-policy=dedicated"" to colocate on the same host at the same time
by introducing ``vcpu_dedicated_set`` in the nova configuration.

Co-Authored-By: Tetsuro Nakamura <nakamura.tetsuro@lab.ntt.co.jp>
Blueprint: mixed-cpu-policy-host
Change-Id: I37b05e1025d29d1e79b18a889fa629200f43edfe
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/543805/17 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/add-cpu-policy-mixed.rst'],1,6d139908c831406e501136a1c2135a8b63e1b40a,bp/mixed-cpu-policy-instance,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================================= Add hw:cpu_policy 'mixed' for better utilization of compute CPU resources ========================================================================= https://blueprints.launchpad.net/nova/+spec/add-cpu-policy-mixed This feature will allow libvirt driver to pin guest vCPUs to host pCPUs and at the same time allows guest vCPUS to freely float across host pCPUs by introducing a new cpu_policy `mixed` thereby achieving better utilization of compute CPU resources. Problem description =================== For deploying NFV applications to VMs on OpenStack, it demands to run both high performance load as well low performance load in a single VM. In order to run high performance load, you are required to assign dedicated pCPUs to guest VCPUs and to run low performance load, it's better that guest vCPUs floats freely on host pCPUs for better utilization of host CPU resources. Presently, its possible to configure compute host using cpu_policy in flavor and NUMATopologyFilter in one of the following way. * Assign dedicated pCPUs to guest vCPUs by configuring hw:cpu_policy=dedicated * Allow guest vCPUs to freely float on host pCPUs by configuring hw_cpu_policy=shared which is a default one. There is no convenient way to assign both dedicated and shared pCPUs of compute host to guest vCPUs. Use Cases --------- Deploy NFV applications on VMs which requires 2 or more vCPUs. For processing network packets, guest vCPUs will be pinned to host pCPUs in order to get maximum performance. To perform control system processing which doesn't require high performance, guest vCPUs will float freely on host pCPUs. The VNF application and control system processing application will be spawned on appropriate guest vCPUs as it will be aware of which vCPUs are mapped to host pCPUs via api metadata service using cloud_init method. By enabling assignment of both dedicated and shared pCPUs to guest vCPUs, operators will be able to improve the overall utilization of compute resources. Proposed change =============== Modify Flavor extra specs and introduce a new standard resource class to allow to configure shared pCPUs range. * Introduce a new standard resource class The current config option `vpcus_pin_set` will be used to configure dedicated pCPUs and it will be mapped to the existing standard resource class `VCPU` and a new config option `shared_vcpus_pin_set` will be introduced to configure pCPUs of compute host on which guest vCPUs will float freely. If operator configures this new config option, then it will be reported in inventory as a new resource class `SHARED_VCPU`. * Add/modify flavor extra specs The flavor extra specs hw:cpu_policy will be modified and two new parameters will be introduced to configure how many dedicated and shared VCPUs are needed. * hw:cpu_policy=shared|dedicated|mixed * hw:dedicated_vcpus= 0,1 * hw:shared_vcpus= 2,3 If the cpu_policy is set to `shared|dedicated` no changes will be made and the current behavior will remain intact. If cpu_policy is set to `mixed`, then it will expect flavor extra specs to have these two parameters `hw:dedicated_vcpus` and `hw:shared_vcpus`. These two parameters contains list of guest vcpus and total count of these guest vcpus should be equal to total vCPUs of flavor and they shouldn't overlap with each other. The existing scheduler driver `NUMATopologyFilter` will have to be enhanced so that it considers the usage of CPUs by existing guests and respects this new `mixed` cpu policy. It will read the flavor extra specs `hw:dedicated_vcpus= 0,1` and `hw:dedicated_vcpus= 2,3` and assign pCPUs (dedicated, shared and emulator thread in case of emulator_thread_policy=isolate) as per the requirements from a single NUMA cell to gain maximum performance. We will add a object classes NUMACell and InstanceNUMACell to manage `shared_vcpu_pin_set` usage and the existing code for managing dedicated pCPUs configured set in `vpcu_pin_set` on compute node will remain unchanged. If the `hw:emulator_thread_policy` is `isolate`, it will assign pCPU from `vpcu_pin_set` and if it's share, then it will float over dedicated pCPUs assigned to the guest. To use `mixed` cpu_policy, operator will need to setup aggregates to split the hosts into two groups. One allowing overcommit of shared pCPUs and other allowing both dedicated and dedicated+shared pCPUs guests. Hyper threading should be disabled on compute hosts where `shared_vcpu_pin_set` is configured otherwise it will adversely affect performance of dedicated CPU guests. Example ------- Flavor 1001: * hw:cpu_policy=mixed * hw:emulator_thread_policy=isolate * hw:dedicated_vcpus= 0,1 * hw:shared_vcpus= 2,3 Numa Cells on compute node: * NUMA node0 CPU(s): 0-7,16-23 * NUMA node1 CPU(s): 8-15,24-31 Grub setting to configure which pCPUs to be used for guests: .. code:: isolcpus = 4-7, 16-23, 12-15, 24-31 n-cpu.conf: .. code:: vcpu_pin_set = 6-7,16-23, 14-15, 24-31 shared_vcpu_pin_set = 4-5, 8-9 cpu_allocation_ratio=8 Now, if you boot an instance using flavor 1001, then this is how the host pCPUs will be assigned to the guest. .. code:: <cputune> <shares>2048</shares> <vcpupin vcpu='0' cpuset='6'/> <--- Dedicated pCPUs <vcpupin vcpu='1' cpuset='7'/> <--- Dedicated pCPUs <vcpupin vcpu='2' cpuset='4-5'/> <--- Shared pCPUs <vcpupin vcpu='3' cpuset='4-5'/> <--- Shared pCPUs <emulatorpin cpuset='16'/> </cputune> Alternatives ------------ There is no alternative way to assign both dedicated and shared pCPUs of virtualization hosts to the guest vCPUs. Data model impact ----------------- No Impact. The two new data item `hw:dedicated_vcpus` and `hw:shared_vcpus` will be stored in the existing flavor extra specs data model. REST API impact --------------- No impact. Security impact --------------- No impact. Notifications impact -------------------- No impact. The notifications system is not used by this change. Other end user impact --------------------- End users should see predictable latency if they spawn their applications on dedicated vCPUs of guest. Performance Impact ------------------ The performance of scheduler will see a small overhead for mixed cpu policy, but it will be same as you get it today for dedicated cpu policy. Other deployer impact --------------------- The cloud administrator will gain the ability to define flavors which offer both dedicated and shared pCPUs resources to the guest VMs thereby improving the overall utilization of compute resources. Developer impact ---------------- No impact. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Dinesh_Bhor (Dinesh Bhor <dinesh.bhor@nttdata.com>) Other contributors: N/A Work Items ---------- * Add a new standard resource class `SHARED_VCPU` in placement service * Report SHARED_VCPU inventory from compute service to placement service * Add `mixed` policy in CPUAllocationPolicy object class * Modify NUMACell and InstanceNUMACell object classes * Make changes to scheduler service to assign pCPUs as per `mixed` cpu_policy * Make changes to compute service to generate numa config as per `mixed` cpu_policy * Enable `mixed` policy in flavor extra-specs `hw:cpu_policy` Dependencies ============ N/A Testing ======= Collaborate with intel team to enhance intel-nfv-ci-tests (https://github.com/openstack/intel-nfv-ci-tests) to test mixed cpu_policy. Documentation Impact ==================== Document needs to be updated to describe changes that will be made to flavor extra specs as well as introducing a new config option `shared_vcpu_pin_set` on the compute nodes. References ========== [1] https://blueprints.launchpad.net/nova/+spec/virt-driver-cpu-pinning TODO: Current ""big picture"" research and design for the topic of CPU resource utilization and placement with performance graphs will be uploaded soon on the OpenStack wiki. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,274,0
openstack%2Foslo-cookiecutter~master~Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2,openstack/oslo-cookiecutter,master,Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2,Fix doc build in test script,MERGED,2019-05-31 16:03:33.000000000,2019-06-24 15:01:39.000000000,2019-06-24 15:01:39.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 16:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/1b80a6eebf8e1faa5a590a59446700287b1b03fa', 'message': ""Fix doc build in test script\n\nThere is some additional setup required for the docs to be built.\nWe need to have an implementation so there is something to add to\nthe api docs, and openstackdocstheme requires a git commit so it\ncan get the last modified timestamp. Also, we no longer generate a\nChangelog since we aren't using pbr now so we need to remove that\nor we have a missing file.\n\nChange-Id: Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2\n""}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/782ae413326aa8a4c8c220d5ab5c03abb4b66389', 'message': ""Fix doc build in test script\n\nThere is some additional setup required for the docs to be built.\nWe need to have an implementation so there is something to add to\nthe api docs, and openstackdocstheme requires a git commit so it\ncan get the last modified timestamp. Also, we no longer generate a\nChangelog since we aren't using pbr now so we need to remove that\nor we have a missing file.\n\nChange-Id: Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2\n""}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/doc/source/history.rst', 'oslo.{{cookiecutter.module_name}}/doc/source/index.rst', 'tools/test_tox_targets.sh'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/62e5b0c6293fb44ef670b2d2b7751985dd3dc259', 'message': ""Fix doc build in test script\n\nThere is some additional setup required for the docs to be built.\nWe need to have an implementation so there is something to add to\nthe api docs, and openstackdocstheme requires a git commit so it\ncan get the last modified timestamp. Also, we no longer generate a\nChangelog since we aren't using pbr now so we need to remove that\nor we have a missing file.\n\nChange-Id: Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2\n""}]",0,662508,62e5b0c6293fb44ef670b2d2b7751985dd3dc259,11,3,3,6928,,,0,"Fix doc build in test script

There is some additional setup required for the docs to be built.
We need to have an implementation so there is something to add to
the api docs, and openstackdocstheme requires a git commit so it
can get the last modified timestamp. Also, we no longer generate a
Changelog since we aren't using pbr now so we need to remove that
or we have a missing file.

Change-Id: Ic79aa0fb8f7e5813bec420c8b2690b0e9ef79cc2
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/08/662508/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/doc/source/history.rst', 'oslo.{{cookiecutter.module_name}}/doc/source/index.rst', 'tools/test_tox_targets.sh']",3,1b80a6eebf8e1faa5a590a59446700287b1b03fa,oslosphinx,"# openstackdocstheme requires commits for last modified calculation git add . git commit -m ""Test commit"" # Create an ""implementation"" so we have an API to document cat > $project_dir/oslo_testing/test.py << EOF def test_api(): """"""A docstring"""""" pass EOF",,10,2
openstack%2Foslo-cookiecutter~master~Id142abd2f510a8cbfb42d32fb3f169a63552b981,openstack/oslo-cookiecutter,master,Id142abd2f510a8cbfb42d32fb3f169a63552b981,Add test script to verify tox targets run,MERGED,2019-05-30 20:21:27.000000000,2019-06-24 15:01:38.000000000,2019-06-24 15:01:38.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/06079f9a140a90d420c00d824a6c25cab1d87b3f', 'message': ""Add test script to verify tox targets run\n\nWe should be verifying that the tox target defined will run after\ngenerating a project. There's no reason a brand new cookiecutter\nrepo should have failing tests.\n\nChange-Id: Id142abd2f510a8cbfb42d32fb3f169a63552b981\n""}, {'number': 2, 'created': '2019-05-31 16:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/ed854ce1a1591a23e3086ee1979937a6239cc852', 'message': ""Add test script to verify tox targets run\n\nWe should be verifying that the tox target defined will run after\ngenerating a project. There's no reason a brand new cookiecutter\nrepo should have failing tests.\n\nChange-Id: Id142abd2f510a8cbfb42d32fb3f169a63552b981\n""}, {'number': 3, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/ae04371f63046f6af2196afae6723a2bc7b899be', 'message': ""Add test script to verify tox targets run\n\nWe should be verifying that the tox target defined will run after\ngenerating a project. There's no reason a brand new cookiecutter\nrepo should have failing tests.\n\nChange-Id: Id142abd2f510a8cbfb42d32fb3f169a63552b981\n""}, {'number': 4, 'created': '2019-05-31 18:03:55.000000000', 'files': ['tools/test_template.sh', 'tools/test_tox_targets.sh'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/274640e97bd9b022af591735c26a4772aed0e2d6', 'message': ""Add test script to verify tox targets run\n\nWe should be verifying that the tox target defined will run after\ngenerating a project. There's no reason a brand new cookiecutter\nrepo should have failing tests.\n\nChange-Id: Id142abd2f510a8cbfb42d32fb3f169a63552b981\n""}]",0,662326,274640e97bd9b022af591735c26a4772aed0e2d6,14,4,4,6928,,,0,"Add test script to verify tox targets run

We should be verifying that the tox target defined will run after
generating a project. There's no reason a brand new cookiecutter
repo should have failing tests.

Change-Id: Id142abd2f510a8cbfb42d32fb3f169a63552b981
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/26/662326/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/test_template.sh', 'tools/test_tox_targets.sh']",2,06079f9a140a90d420c00d824a6c25cab1d87b3f,oslosphinx,"#!/bin/bash set -eux -o pipefail # Wrapper around test_template.sh that runs tox tests in the resulting # repo to verify that our out-of-the-box configuration is valid tmp_dir=$(mktemp -d) #trap ""rm -rf $tmp_dir"" EXIT tools_dir=""$(dirname $0)"" project_dir=""$tmp_dir/output/oslo.testing"" $tools_dir/test_template.sh ""$tmp_dir"" cd $project_dir ls tox -e pep8 #tox -e pep8,py27,py36,py37,docs,lower-constraints ",,22,1
openstack%2Foslo-cookiecutter~master~Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7,openstack/oslo-cookiecutter,master,Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7,Fix stestr configuration,MERGED,2019-05-31 16:03:33.000000000,2019-06-24 15:01:37.000000000,2019-06-24 15:01:37.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 16:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/5478673d15f791fb4960e5da091555a632cd3062', 'message': ""Fix stestr configuration\n\n.stestr.conf was missing, and in the lower-constraints tests we\nweren't getting stestr installed, probably because we were using an\nolder version of oslotest that didn't depend on it. We should have\nan explicit dep on it anyway so it is added to test-requirements.\n\nSome old testr cruft is also cleaned up.\n\nChange-Id: Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7\n""}, {'number': 2, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/fc856af3380fe8739cd0119f06e33fe291c82c3a', 'message': ""Fix stestr configuration\n\n.stestr.conf was missing, and in the lower-constraints tests we\nweren't getting stestr installed, probably because we were using an\nolder version of oslotest that didn't depend on it. We should have\nan explicit dep on it anyway so it is added to test-requirements.\n\nSome old testr cruft is also cleaned up.\n\nChange-Id: Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7\n""}, {'number': 3, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/.testr.conf', 'oslo.{{cookiecutter.module_name}}/.gitignore', 'oslo.{{cookiecutter.module_name}}/test-requirements.txt', 'oslo.{{cookiecutter.module_name}}/.stestr.conf'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/7a6836d5226969f4ebeb2ced44d1d6a66a1c2b25', 'message': ""Fix stestr configuration\n\n.stestr.conf was missing, and in the lower-constraints tests we\nweren't getting stestr installed, probably because we were using an\nolder version of oslotest that didn't depend on it. We should have\nan explicit dep on it anyway so it is added to test-requirements.\n\nSome old testr cruft is also cleaned up.\n\nChange-Id: Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7\n""}]",0,662507,7a6836d5226969f4ebeb2ced44d1d6a66a1c2b25,11,3,3,6928,,,0,"Fix stestr configuration

.stestr.conf was missing, and in the lower-constraints tests we
weren't getting stestr installed, probably because we were using an
older version of oslotest that didn't depend on it. We should have
an explicit dep on it anyway so it is added to test-requirements.

Some old testr cruft is also cleaned up.

Change-Id: Ia754ee7bc01f87c96ca3e979ec0d6a54001f4bc7
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/07/662507/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/.testr.conf', 'oslo.{{cookiecutter.module_name}}/.gitignore', 'oslo.{{cookiecutter.module_name}}/test-requirements.txt']",3,5478673d15f791fb4960e5da091555a632cd3062,oslosphinx,stestr>=2.0.0 # Apache-2.0,,1,9
openstack%2Foslo-cookiecutter~master~Id05341fa00ae250980a769375cd68f10d3d752b3,openstack/oslo-cookiecutter,master,Id05341fa00ae250980a769375cd68f10d3d752b3,Use sphinxcontrib-apidoc for building api docs,MERGED,2019-05-30 20:21:27.000000000,2019-06-24 15:01:37.000000000,2019-06-24 15:01:37.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/507b757e25e22cb1dbd0dafe9d8882f95a0db60c', 'message': 'Used sphinxcontrib-apidoc for building api docs\n\nThis is the preferred method for building api docs now.\n\nChange-Id: Id05341fa00ae250980a769375cd68f10d3d752b3\n'}, {'number': 2, 'created': '2019-05-31 16:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/2ab298a5564c5e4465fa84f9ee4f4865d030b3b0', 'message': 'Use sphinxcontrib-apidoc for building api docs\n\nThis is the preferred method for building api docs now.\n\nChange-Id: Id05341fa00ae250980a769375cd68f10d3d752b3\n'}, {'number': 3, 'created': '2019-05-31 17:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/cdd2f439633fede2b890be294891986e2b485227', 'message': 'Use sphinxcontrib-apidoc for building api docs\n\nThis is the preferred method for building api docs now.\n\nChange-Id: Id05341fa00ae250980a769375cd68f10d3d752b3\n'}, {'number': 4, 'created': '2019-05-31 18:03:55.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/doc/source/api.rst', 'oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/doc/source/conf.py', 'oslo.{{cookiecutter.module_name}}/doc/source/reference/index.rst', 'oslo.{{cookiecutter.module_name}}/doc/source/index.rst', 'oslo.{{cookiecutter.module_name}}/doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/87289e42b0d56a415783f7e3566a73d23d3cd61b', 'message': 'Use sphinxcontrib-apidoc for building api docs\n\nThis is the preferred method for building api docs now.\n\nChange-Id: Id05341fa00ae250980a769375cd68f10d3d752b3\n'}]",0,662325,87289e42b0d56a415783f7e3566a73d23d3cd61b,14,2,4,6928,,,0,"Use sphinxcontrib-apidoc for building api docs

This is the preferred method for building api docs now.

Change-Id: Id05341fa00ae250980a769375cd68f10d3d752b3
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/25/662325/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/doc/source/api.rst', 'oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/doc/source/conf.py', 'oslo.{{cookiecutter.module_name}}/doc/source/reference/index.rst', 'oslo.{{cookiecutter.module_name}}/doc/source/index.rst', 'oslo.{{cookiecutter.module_name}}/doc/requirements.txt']",6,507b757e25e22cb1dbd0dafe9d8882f95a0db60c,oslosphinx,sphinxcontrib-apidoc>=0.2.0 # BSD,,29,16
openstack%2Fopenstack-doc-tools~master~I8c3460f3f0b7759a6fa1f05424a8a499c0cd9957,openstack/openstack-doc-tools,master,I8c3460f3f0b7759a6fa1f05424a8a499c0cd9957,Add Python 3 Train unit tests,MERGED,2019-06-24 13:13:30.000000000,2019-06-24 14:59:47.000000000,2019-06-24 14:59:47.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:13:30.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/9d59e2087e62e58d8774ea3d3a83241864fecdfb', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8c3460f3f0b7759a6fa1f05424a8a499c0cd9957\nStory: #2005924\nTask: #34205\n'}]",0,667081,9d59e2087e62e58d8774ea3d3a83241864fecdfb,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8c3460f3f0b7759a6fa1f05424a8a499c0cd9957
Story: #2005924
Task: #34205
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/81/667081/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,9d59e2087e62e58d8774ea3d3a83241864fecdfb,python3-train,"envlist = py27,py37,pep8","envlist = py36,py27,pep8",3,2
openstack%2Foslo.config~master~I83be0dce33f31c038e95a756e14d5034fea0f226,openstack/oslo.config,master,I83be0dce33f31c038e95a756e14d5034fea0f226,Remove '.testr.conf',MERGED,2019-06-24 09:51:06.000000000,2019-06-24 14:56:37.000000000,2019-06-24 14:56:37.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 09:51:06.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0f298265a313262e9eefa35c91b2ed41553f1e07', 'message': ""Remove '.testr.conf'\n\nThis was missed in I929f75d069f20b8cfa8af4e0712883e91a54dc4f.\n\nChange-Id: I83be0dce33f31c038e95a756e14d5034fea0f226\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,667052,0f298265a313262e9eefa35c91b2ed41553f1e07,6,2,1,15334,,,0,"Remove '.testr.conf'

This was missed in I929f75d069f20b8cfa8af4e0712883e91a54dc4f.

Change-Id: I83be0dce33f31c038e95a756e14d5034fea0f226
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/52/667052/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,0f298265a313262e9eefa35c91b2ed41553f1e07,trivial,,[DEFAULT] test_command=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION test_id_option=--load-list $IDFILE test_list_option=--list ,0,4
openstack%2Fkolla~master~Id65d7832298e537c82df214db8fd0d1ae4f81d20,openstack/kolla,master,Id65d7832298e537c82df214db8fd0d1ae4f81d20,Fix image squashing,ABANDONED,2019-02-28 17:01:52.000000000,2019-06-24 14:53:37.000000000,,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 7562}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 23942}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-02-28 17:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d29c49b8e9961fb7a2d0050422c0e2a9d404f200', 'message': ""[WIP] Change number of squashed levels\n\nKolla squashes images down to the latest (actually, first)\nlayer in image's history, and this have the following drawbacks:\n\n* all meaning of having a chain of containers is lost as after\n  squashing you have one big image that contains only one layer.\n\n* sometimes this leads to problems when building multiple images\n  at once as some layers just disappears because of squashing.\n\nThis commit changes this a bit, squashing only layers from top\n(newest layer) to the first that have tags. This allows to keep\nolder layers intact, and effectively reduce size of container\nbeing built.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 2, 'created': '2019-03-01 11:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7267a6130feb109d70acca956341e0f8c67b48cb', 'message': ""[WIP] Improve image squashing\n\nKolla squashes images staring from the first layer (oldest image in history),\nand this have the following drawbacks:\n\n* all meaning of having a chain of containers is lost as after\n  squashing you have one big image that contains only one layer.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit changes this a bit, allowing to specify an image where to\nstart squashing. For this a new option '--squash-from' was added. It has\na format of '<key>:<value>' string. <key> could be either 'tag' or\n'tag-index':\n\nIf 'tag':\n\n  Use '--squash-from tag:<image tag>' to tell docker-squash\n  that image should be squashed starting at layer tagged with <image tag>\n\nIf 'tag-index':\n\n  Use '--squash-from tag-index:<N>' to tell docker-squash\n  that image should be squashed from Nth taggerd layer in image's history.\n  Intermediate layers that are not tagged are ignored.\n  Index '0' refers to current image (newest), index '-1' is oldest one\n  (usually this is OS image). Most useful case is to have index '1',\n  that means 'squash starting from previous tagged image'.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 3, 'created': '2019-03-01 11:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/35881978e73cc85df70287240213d51b962ac6e6', 'message': ""[WIP] Improve image squashing\n\nKolla squashes images staring from the first layer (oldest image in history),\nand this have the following drawbacks:\n\n* all meaning of having a chain of containers is lost as after\n  squashing you have one big image that contains only one layer.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit changes this a bit, allowing to specify an image where to\nstart squashing. For this a new option '--squash-from' was added. It has\na format of '<key>:<value>' string. <key> could be either 'tag' or\n'tag-index':\n\nIf 'tag':\n\n  Use '--squash-from tag:<image tag>' to tell docker-squash\n  that image should be squashed starting at layer tagged with <image tag>\n\nIf 'tag-index':\n\n  Use '--squash-from tag-index:<N>' to tell docker-squash\n  that image should be squashed from Nth taggerd layer in image's history.\n  Intermediate layers that are not tagged are ignored.\n  Index '0' refers to current image (newest), index '-1' is oldest one\n  (usually this is OS image). Most useful case is to have index '1',\n  that means 'squash starting from previous tagged image'.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 4, 'created': '2019-03-02 18:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/85ffc8d0e80b911d3f29a4c5ef24a973812d5947', 'message': ""Improve image squashing\n\nKolla squashes images staring from the first layer (oldest image in history),\nand this have the following drawbacks:\n\n* all meaning of having a chain of containers is lost as after\n  squashing you have one big image that contains only one layer.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit changes this a bit, allowing to specify an image where to\nstart squashing. For this a new option '--squash-from' was added. It has\na format of '<key>:<value>' string. <key> could be either 'tag' or\n'tag-index':\n\nIf 'tag':\n\n  Use '--squash-from tag:<image tag>' to tell docker-squash\n  that image should be squashed starting at layer tagged with <image tag>\n\nIf 'tag-index':\n\n  Use '--squash-from tag-index:<N>' to tell docker-squash\n  that image should be squashed from Nth taggerd layer in image's history.\n  Intermediate layers that are not tagged are ignored.\n  Index '0' refers to current image (newest), index '-1' is oldest one\n  (usually this is OS image). Most useful case is to have index '1',\n  that means 'squash starting from previous tagged image'.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 5, 'created': '2019-03-10 10:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cafee4e29725af9fe27202c3be43f7c16275e28', 'message': ""Improve image squashing\n\nKolla squashes images staring from the first layer (oldest image in history),\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit changes this a bit, allowing to specify an image where to\nstart squashing. For this a new option '--squash-from' was added. It has\na format of '<key>:<value>' string. <key> could be either 'tag' or\n'tag-index':\n\nIf 'tag':\n\n  Use '--squash-from tag:<image tag>' to tell docker-squash\n  that image should be squashed starting at layer tagged with <image tag>\n\nIf 'tag-index':\n\n  Use '--squash-from tag-index:<N>' to tell docker-squash\n  that image should be squashed from Nth taggerd layer in image's history.\n  Intermediate layers that are not tagged are ignored. Index could be\n  used the same way as for python lists:\n    0 - index of an oldest layer (at the bottom of 'docker history' output)\n    1 - index of the first tagged image (counting from bottom), usualli this\n        is an operating system image\n    -1 - index of the last tagged image\n  The most typical usage should be '--squash-from tag-index:-1' to squash\n  all layers produced during the build of the current container.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 6, 'created': '2019-03-10 15:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c919464cc6dd724ffea8f50a2f7157c952f5f710', 'message': ""Improve image squashing\n\nKolla squashes images staring from the first layer (oldest image in history),\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit changes this a bit, allowing to specify an image where to\nstart squashing. For this a new option '--squash-from' was added. It has\na format of '<key>:<value>' string. <key> could be either 'tag' or\n'tag-index':\n\nIf 'tag':\n\n  Use '--squash-from tag:<image tag>' to tell docker-squash\n  that image should be squashed starting at layer tagged with <image tag>\n\nIf 'tag-index':\n\n  Use '--squash-from tag-index:<N>' to tell docker-squash\n  that image should be squashed from Nth taggerd layer in image's history.\n  Intermediate layers that are not tagged are ignored. Index could be\n  used the same way as for python lists:\n    0 - index of an oldest layer (at the bottom of 'docker history' output)\n    1 - index of the first tagged image (counting from bottom), usualli this\n        is an operating system image\n    -1 - index of the last tagged image\n  The most typical usage should be '--squash-from tag-index:-1' to squash\n  all layers produced during the build of the current container.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 7, 'created': '2019-03-11 20:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/935b747fd544d964a8688cc3dcc51b8e5c948a5d', 'message': ""Fix image squashing\n\nKolla squashes images staring from the first (oldest in the history) layer,\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit fixes this by selecting previous tagged image as 'starting point'.\nIf there is no such images for some reason then squashing skipped with\nwarning message.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 8, 'created': '2019-03-12 04:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4d8c15c4fd2c58034e91468d6c1ae9c3a8fe37df', 'message': ""Fix image squashing\n\nKolla squashes images staring from the first (oldest in the history) layer,\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit fixes this by selecting previous tagged image as 'starting point'.\nIf there is no such images for some reason then squashing skipped with\nwarning message.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 9, 'created': '2019-03-12 09:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bdefb94f032ad07c5d4599ccb363ebd4816f286c', 'message': ""Fix image squashing\n\nKolla squashes images staring from the first (oldest in the history) layer,\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit fixes this by selecting previous tagged image as 'starting point'.\nIf there is no such images for some reason then squashing skipped with\nwarning message.\n\nIt also disables squashing if 'docker-squash' is not installed instead\nof failure.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 10, 'created': '2019-03-12 10:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da967521b95c37fdc81ce34f677a6b25a787abc7', 'message': ""Fix image squashing\n\nKolla squashes images staring from the first (oldest in the history) layer,\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit fixes this by selecting previous tagged image as 'starting point'.\nIf there is no such images for some reason then squashing skipped with\nwarning message.\n\nIt also disables squashing if 'docker-squash' is not installed instead\nof failure.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}, {'number': 11, 'created': '2019-03-12 10:13:51.000000000', 'files': ['kolla/image/build.py', 'requirements.txt', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2926d6ea1fb53b56b4b6ca1a0f746208e24cfd29', 'message': ""Fix image squashing\n\nKolla squashes images staring from the first (oldest in the history) layer,\nand this have the following drawbacks:\n\n* after squashing you have one big image that contains only one layer,\n  so it's not possible to have a chain of layers to use several relatively\n  big images as common ancestors to multiple small (final) layers.\n\n* this leads to failures when building multiple images at once because\n  docker-squash tryies to remove layers after squashing, but some\n  layers were used when building 'child' images, so docker-squash reports\n  an error.\n\nThis commit fixes this by selecting previous tagged image as 'starting point'.\nIf there is no such images for some reason then squashing skipped with\nwarning message.\n\nIt also adds 'docker-squash' to requirements.txt.\n\nChange-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20\n""}]",3,640099,2926d6ea1fb53b56b4b6ca1a0f746208e24cfd29,39,15,11,7562,,,0,"Fix image squashing

Kolla squashes images staring from the first (oldest in the history) layer,
and this have the following drawbacks:

* after squashing you have one big image that contains only one layer,
  so it's not possible to have a chain of layers to use several relatively
  big images as common ancestors to multiple small (final) layers.

* this leads to failures when building multiple images at once because
  docker-squash tryies to remove layers after squashing, but some
  layers were used when building 'child' images, so docker-squash reports
  an error.

This commit fixes this by selecting previous tagged image as 'starting point'.
If there is no such images for some reason then squashing skipped with
warning message.

It also adds 'docker-squash' to requirements.txt.

Change-Id: Id65d7832298e537c82df214db8fd0d1ae4f81d20
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/640099/5 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,d29c49b8e9961fb7a2d0050422c0e2a9d404f200,640099," squash_from = None count = 0 for item in self.dc.history(self.image.parent_name): count += 1 if item.get('Tags'): squash_from = item.get('Id') break if squash_from: self.logger.info('Squashing from %s (%s layer(s))' % (squash_from, count)) utils.squash(image_id, image_tag, from_layer=squash_from, cleanup=self.conf.squash_cleanup, tmp_dir=self.conf.squash_tmp_dir) self.logger.info('Image squashed successfully') else: self.logger.warning(""Can't find a layer in history that is "" ""tagged, refusing to squash"")"," parent_history = self.dc.history(self.image.parent_name) parent_last_layer = parent_history[0]['Id'] self.logger.info('Parent lastest layer is: %s' % parent_last_layer) utils.squash(image_id, image_tag, from_layer=parent_last_layer, cleanup=self.conf.squash_cleanup, tmp_dir=self.conf.squash_tmp_dir) self.logger.info('Image is squashed successfully')",17,7
openstack%2Fwhereto~master~I74ae3e38f62cb4fd4dc57af39480c6c95e426878,openstack/whereto,master,I74ae3e38f62cb4fd4dc57af39480c6c95e426878,Add Python 3 Train unit tests,MERGED,2019-06-24 13:15:00.000000000,2019-06-24 14:53:18.000000000,2019-06-24 14:53:18.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:15:00.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whereto/commit/fa1c5eb1a10750b9c6ac447f5eeedd542461899f', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I74ae3e38f62cb4fd4dc57af39480c6c95e426878\nStory: #2005924\nTask: #34205\n'}]",0,667084,fa1c5eb1a10750b9c6ac447f5eeedd542461899f,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I74ae3e38f62cb4fd4dc57af39480c6c95e426878
Story: #2005924
Task: #34205
",git fetch https://review.opendev.org/openstack/whereto refs/changes/84/667084/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,fa1c5eb1a10750b9c6ac447f5eeedd542461899f,python3-train,"envlist = py27,py37,pep8","envlist = py35,py27,pep8",4,4
openstack%2Fglance~master~I5841c5633e25d4c50058c2f0b7f0940b7322bbaa,openstack/glance,master,I5841c5633e25d4c50058c2f0b7f0940b7322bbaa,Add Python 3 Train unit tests,ABANDONED,2019-06-24 14:22:17.000000000,2019-06-24 14:33:53.000000000,,[],"[{'number': 1, 'created': '2019-06-24 14:22:17.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/316b552370e6ffc3412bdd7cd334f5a8b0fb3169', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I5841c5633e25d4c50058c2f0b7f0940b7322bbaa\nStory: #2005924\nTask: #34208\n'}]",0,667112,316b552370e6ffc3412bdd7cd334f5a8b0fb3169,2,0,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I5841c5633e25d4c50058c2f0b7f0940b7322bbaa
Story: #2005924
Task: #34208
",git fetch https://review.opendev.org/openstack/glance refs/changes/12/667112/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,316b552370e6ffc3412bdd7cd334f5a8b0fb3169,python3-train,"envlist = functional-py36,functional-py35,py27,py37,functional,pep8","envlist = py36,functional-py36,py35,functional-py35,py27,functional,pep8",5,4
openstack%2Fnova~stable%2Frocky~I51cdcae67be8c68a55bc939de4ea0aba2361dcc4,openstack/nova,stable/rocky,I51cdcae67be8c68a55bc939de4ea0aba2361dcc4,Revert resize: wait for events according to hybrid plug,ABANDONED,2019-06-22 08:24:54.000000000,2019-06-24 14:29:49.000000000,,"[{'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-22 08:24:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5d6fea18e25440e4b76260e3c9141f02e18865b', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: 1832028\nCo-Authored-By: Sean Mooney work@seanmooney.info\nChange-Id: I51cdcae67be8c68a55bc939de4ea0aba2361dcc4\n(cherry picked from commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b)\n(cherry picked from commit 7ee6bf867359b2ff06c0e41b0aec1f80b588ddf3)\n'}]",0,666952,a5d6fea18e25440e4b76260e3c9141f02e18865b,9,8,1,10135,,,0,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

Closes-bug: 1832028
Co-Authored-By: Sean Mooney work@seanmooney.info
Change-Id: I51cdcae67be8c68a55bc939de4ea0aba2361dcc4
(cherry picked from commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b)
(cherry picked from commit 7ee6bf867359b2ff06c0e41b0aec1f80b588ddf3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/666952/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,a5d6fea18e25440e4b76260e3c9141f02e18865b,bug/1832028," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_plug_time_vif), network_model.VIF(id=uuids.hybrid_bind_time_vif, details={'ovs_hybrid_plug': True})]) self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_plug_time_vif)] context.get_admin_context(), ins_ref, network_info, None, power_on) drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False)"," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: vifs_already_plugged=None): context.get_admin_context(), ins_ref, [], None, power_on) drvr.finish_revert_migration(context, ins_ref, []) drvr.finish_revert_migration('', instance, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False)",240,34
openstack%2Fnova~stable%2Fstein~I51cdcae67be8c68a55bc939de4ea0aba2361dcc4,openstack/nova,stable/stein,I51cdcae67be8c68a55bc939de4ea0aba2361dcc4,Revert resize: wait for events according to hybrid plug,ABANDONED,2019-06-22 08:24:10.000000000,2019-06-24 14:29:47.000000000,,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-22 08:24:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ee6bf867359b2ff06c0e41b0aec1f80b588ddf3', 'message': 'Revert resize: wait for events according to hybrid plug\n\nSince 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a\nresized instance back to the source host, the libvirt driver waits for\nvif-plugged events when spawning the instance. When called from\nfinish_revert_resize() in the source compute manager, libvirt\'s\nfinish_revert_migration() does not pass vifs_already_plugged to\n_create_domain_and_network(), making the latter use the default False\nvalue.\n\nWhen the source compute manager calls\nnetwork_api.migrate_instance_finish() in finish_revert_resize(), this\nupdates the port binding back to the source host. If Neutron is\nconfigured to use OVS hybrid plug, it will send the vif-plugged event\nimmediately after completing this request. This happens before the\nvirt driver\'s finish_revert_migration() method is called. This causes\nthe wait in the libvirt driver to time out because the event is\nreceived before Nova starts waiting for it.\n\nThe neutron ovs l2 agent sends vif-plugged events when two conditions\nare met. First the port must be bound to the host managed by the\nl2 agent and second, the agent must have completed configuring the\nport on ovs. This involves assigning the port a local VLAN for tenant\nisolation, applying security group rules if required and applying\nQoS policies or other agent extensions like service function chaining.\n\nDuring the boot process, we bind the port first to the host\nthen plug the interface into ovs which triggers the l2 agent to\nconfigure it resulting in the emission of the vif-plugged event.\nIn the revert case, as noted above, since the vif is already plugged\non the source node when hybrid-plug is used, binding the port to the\nsource node fulfils the second condition to send the vif-plugged event.\n\nEvents sent immediately after port binding update are hereafter known\nas ""bind-time"" events. For ports that do not use OVS hybrid plug,\nNeutron will continue to send vif-plugged events only when Nova\nactually plugs the VIF. These types of events are hereafter known as\n""plug-time"" events. OVS hybrid plug is a per agent setting, so for\na particular host, bind-time events are an all-or-nothing thing for the\novs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports\nhave them. In general, a host will only have one network backend.\nThe only exception to this is SR-IOV. SR-IOV is commonly deployed on\nthe same host as other network backends such as OVS or linuxbridge.\nSR-IOV ports with VNIC_TYPE=direct-physical will always have only\nbind-time events. If an instance mixes OVS ports with hybrid-plug=False\nwith direct physical ports, it will have both kinds of events.\n\nThis patch adds functions to the NetworkInfo model that return what\nkinds of events each VIF has. These are then used in the migration\nrevert logic to decide when to wait for external events: in the\ncompute manager, when binding the port, for bind-time events,\nand/or in libvirt, when plugging the VIFs, for plug-time events.\n\nCloses-bug: 1832028\nCo-Authored-By: Sean Mooney work@seanmooney.info\nChange-Id: I51cdcae67be8c68a55bc939de4ea0aba2361dcc4\n(cherry picked from commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b)\n'}]",0,666951,7ee6bf867359b2ff06c0e41b0aec1f80b588ddf3,16,9,1,10135,,,0,"Revert resize: wait for events according to hybrid plug

Since 4817165fc5938a553fafa1a69c6086f9ebe311af, when reverting a
resized instance back to the source host, the libvirt driver waits for
vif-plugged events when spawning the instance. When called from
finish_revert_resize() in the source compute manager, libvirt's
finish_revert_migration() does not pass vifs_already_plugged to
_create_domain_and_network(), making the latter use the default False
value.

When the source compute manager calls
network_api.migrate_instance_finish() in finish_revert_resize(), this
updates the port binding back to the source host. If Neutron is
configured to use OVS hybrid plug, it will send the vif-plugged event
immediately after completing this request. This happens before the
virt driver's finish_revert_migration() method is called. This causes
the wait in the libvirt driver to time out because the event is
received before Nova starts waiting for it.

The neutron ovs l2 agent sends vif-plugged events when two conditions
are met. First the port must be bound to the host managed by the
l2 agent and second, the agent must have completed configuring the
port on ovs. This involves assigning the port a local VLAN for tenant
isolation, applying security group rules if required and applying
QoS policies or other agent extensions like service function chaining.

During the boot process, we bind the port first to the host
then plug the interface into ovs which triggers the l2 agent to
configure it resulting in the emission of the vif-plugged event.
In the revert case, as noted above, since the vif is already plugged
on the source node when hybrid-plug is used, binding the port to the
source node fulfils the second condition to send the vif-plugged event.

Events sent immediately after port binding update are hereafter known
as ""bind-time"" events. For ports that do not use OVS hybrid plug,
Neutron will continue to send vif-plugged events only when Nova
actually plugs the VIF. These types of events are hereafter known as
""plug-time"" events. OVS hybrid plug is a per agent setting, so for
a particular host, bind-time events are an all-or-nothing thing for the
ovs backend: either all VIF_TYPE=ovs ports have them, or no ovs ports
have them. In general, a host will only have one network backend.
The only exception to this is SR-IOV. SR-IOV is commonly deployed on
the same host as other network backends such as OVS or linuxbridge.
SR-IOV ports with VNIC_TYPE=direct-physical will always have only
bind-time events. If an instance mixes OVS ports with hybrid-plug=False
with direct physical ports, it will have both kinds of events.

This patch adds functions to the NetworkInfo model that return what
kinds of events each VIF has. These are then used in the migration
revert logic to decide when to wait for external events: in the
compute manager, when binding the port, for bind-time events,
and/or in libvirt, when plugging the VIFs, for plug-time events.

Closes-bug: 1832028
Co-Authored-By: Sean Mooney work@seanmooney.info
Change-Id: I51cdcae67be8c68a55bc939de4ea0aba2361dcc4
(cherry picked from commit 19f9b37721d9bc13bc1ed35a4f368b1d21b10a5b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/666951/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,7ee6bf867359b2ff06c0e41b0aec1f80b588ddf3,bug/1832028," power_on=True, events=None): events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and utils.is_neutron() and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif utils.is_neutron() and CONF.vif_plugging_timeout and power_on: @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=False)) def test_create_with_network_events_passed_in_nova_net(self): self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) @mock.patch('nova.utils.is_neutron', new=mock.Mock(return_value=True)) def test_create_with_network_events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_with_network_events( events=[('network-vif-plugged', uuids.fake_vif)]) vifs_already_plugged=None, external_events=None): self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_plug_time_vif), network_model.VIF(id=uuids.hybrid_bind_time_vif, details={'ovs_hybrid_plug': True})]) self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_plug_time_vif)] context.get_admin_context(), ins_ref, network_info, None, power_on) drvr.finish_revert_migration(context, ins_ref, network_model.NetworkInfo()) drvr.finish_revert_migration('', instance, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False) drvr.finish_revert_migration('', ins_ref, network_model.NetworkInfo(), power_on=False)"," power_on=True): power_on=power_on) if utils.is_neutron() and CONF.vif_plugging_timeout and power_on: vifs_already_plugged=None): context.get_admin_context(), ins_ref, [], None, power_on) drvr.finish_revert_migration(context, ins_ref, []) drvr.finish_revert_migration('', instance, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False) drvr.finish_revert_migration('', ins_ref, None, power_on=False)",240,34
openstack%2Fheat~master~Icbdaa0fb70fa377c058240f57f2ceacdbad8bddf,openstack/heat,master,Icbdaa0fb70fa377c058240f57f2ceacdbad8bddf,add python 3.7 unit test job,ABANDONED,2019-02-15 18:53:32.000000000,2019-06-24 14:28:47.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 11805}, {'_account_id': 12404}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-15 18:53:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/f3c9c4e227eb5ce8db3d8837fe8ed442df3e97ff', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Icbdaa0fb70fa377c058240f57f2ceacdbad8bddf\nStory: #2004073\nTask: #27416\n'}]",1,637254,f3c9c4e227eb5ce8db3d8837fe8ed442df3e97ff,22,6,1,11805,,,0,"add python 3.7 unit test job

This is a mechanically generated patch to add a unit test job running
under Python 3.7.

See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html

Change-Id: Icbdaa0fb70fa377c058240f57f2ceacdbad8bddf
Story: #2004073
Task: #27416
",git fetch https://review.opendev.org/openstack/heat refs/changes/54/637254/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f3c9c4e227eb5ce8db3d8837fe8ed442df3e97ff,py37-job, - openstack-python37-jobs,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I52a74c7b5473340e2afd240d7d6af9ad5bc97544,openstack/tripleo-heat-templates,stable/stein,I52a74c7b5473340e2afd240d7d6af9ad5bc97544,Don't create symlink for swift container logs,MERGED,2019-06-21 18:17:23.000000000,2019-06-24 14:26:35.000000000,2019-06-24 14:26:34.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-21 18:17:23.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f6a24f6ade464ccd2d205f23560595b5e173739', 'message': ""Don't create symlink for swift container logs\n\nlogrotate 3.14.0 silently ignores all files when\nthere is a broken symlink in the container.\n\nChange-Id: I52a74c7b5473340e2afd240d7d6af9ad5bc97544\nCloses-Bug: #1833690\n(cherry picked from commit d3a9614d8a631c1d29683d6426f501b88ecc2f85)\n""}]",0,666898,1f6a24f6ade464ccd2d205f23560595b5e173739,18,6,1,14985,,,0,"Don't create symlink for swift container logs

logrotate 3.14.0 silently ignores all files when
there is a broken symlink in the container.

Change-Id: I52a74c7b5473340e2afd240d7d6af9ad5bc97544
Closes-Bug: #1833690
(cherry picked from commit d3a9614d8a631c1d29683d6426f501b88ecc2f85)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/666898/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,1f6a24f6ade464ccd2d205f23560595b5e173739,bug/1833690-stable/stein," - /var/log/containers/swift:/var/log/swift:z - { 'path': /var/log/containers/swift, 'setype': svirt_sandbox_file_t } local2.* /var/log/containers/swift/swift.log", - stat: path=/var/log/swift register: swift_log_stat - name: Create swift logging symlink file: src: /var/log/swift dest: /var/log/containers/swift state: link when: swift_log_stat.stat.exists local2.* /var/log/swift/swift.log,20,19
openstack%2Fneutron-lib~master~I7786516672af795ac7f192504102a7388c6b7d80,openstack/neutron-lib,master,I7786516672af795ac7f192504102a7388c6b7d80,Add new vif_details parameters,MERGED,2019-03-21 18:05:09.000000000,2019-06-24 14:18:25.000000000,2019-06-24 14:18:25.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-03-21 18:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f7a82a4246e7a705cd8e3ff425194e67613ccd3b', 'message': 'Add new vif_details parameters\n\nAdded three new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n  - network_events: will map the network-* events tracked.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}, {'number': 2, 'created': '2019-03-26 12:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a544eb137f3cebe7a0858371d14272154024134b', 'message': 'Add new vif_details parameters\n\nAdded three new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n  - network_events: will map the network-* events tracked.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}, {'number': 3, 'created': '2019-03-26 20:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b2c26b18a924ffb1feaa630fafb646387729b810', 'message': 'Add new vif_details parameters\n\nAdded three new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n  - network_events: will map the network-* events tracked.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}, {'number': 4, 'created': '2019-03-27 12:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f1f68b25a0ce9b291f0165c7c29147bb0bf37f0b', 'message': 'Add new vif_details parameters\n\nAdded three new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n  - network_events: will map the network-* events tracked.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}, {'number': 5, 'created': '2019-06-18 14:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b3359061ffb274544c98e382eafe75ac06f8af6b', 'message': 'Add new vif_details parameters\n\nAdded three new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n  - network_events: will map the network-* events tracked.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}, {'number': 6, 'created': '2019-06-18 14:28:40.000000000', 'files': ['releasenotes/notes/new-vif-details-parameters-71e70ab5e7c26c45.yaml', 'neutron_lib/api/definitions/portbindings.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c26573f847958fc090ba55b9c086a1cc5756b15d', 'message': 'Add new vif_details parameters\n\nAdded two new vif_details parameters:\n  - connectivity: informs about the back-end connectivity level (l2,\n    l3 or not specified).\n  - bound_drivers: a dict of binding level to driver name.\n\nChange-Id: I7786516672af795ac7f192504102a7388c6b7d80\nRelated-Bug: #1821058\n'}]",0,645288,c26573f847958fc090ba55b9c086a1cc5756b15d,27,8,6,16688,,,0,"Add new vif_details parameters

Added two new vif_details parameters:
  - connectivity: informs about the back-end connectivity level (l2,
    l3 or not specified).
  - bound_drivers: a dict of binding level to driver name.

Change-Id: I7786516672af795ac7f192504102a7388c6b7d80
Related-Bug: #1821058
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/88/645288/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/portbindings.py'],1,f7a82a4246e7a705cd8e3ff425194e67613ccd3b,bug/1821058,"VIF_DETAILS_CONNECTIVITY = 'connectivity' VIF_DETAILS_BOUND_DRIVERS = 'bound_drivers' VIF_DETAILS_NETWORK_EVENTS = 'network_events'# VIF_DETAILS_CONNECTIVITY: Indicates what kind of connectivity the network # back-end provides: L2, L3 or not specified. CONNECTIVITY_L2 = 'l2' CONNECTIVITY_L3 = 'l3' CONNECTIVITY_LEGACY = 'legacy'",,8,0
openstack%2Freleases~master~Ibefd2b96cb3409267a8ed6b5e68b5b52255577b6,openstack/releases,master,Ibefd2b96cb3409267a8ed6b5e68b5b52255577b6,Modify Queens Extended Maintenance date,MERGED,2019-05-03 22:20:01.000000000,2019-06-24 14:15:42.000000000,2019-06-24 14:15:42.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 22:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1aff1d12f2c6fbee5dd577e59b02669a1d0fd5d6', 'message': 'Modify Queens Extended Maintenance date\n\nAs it was discussed during Release Team meeting @ PTG the EM release\nshould happen somewhere around post release time.\n\nChange-Id: Ibefd2b96cb3409267a8ed6b5e68b5b52255577b6\n'}, {'number': 2, 'created': '2019-06-20 12:58:28.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/be797b61677b1eafc0162bd664f09db54287ac81', 'message': 'Modify Queens Extended Maintenance date\n\nAs it was discussed during Release Team meeting @ PTG the EM release\nshould happen somewhere around post release time.\n\nChange-Id: Ibefd2b96cb3409267a8ed6b5e68b5b52255577b6\n'}]",0,657072,be797b61677b1eafc0162bd664f09db54287ac81,13,6,2,17685,,,0,"Modify Queens Extended Maintenance date

As it was discussed during Release Team meeting @ PTG the EM release
should happen somewhere around post release time.

Change-Id: Ibefd2b96cb3409267a8ed6b5e68b5b52255577b6
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/657072/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/series_status.yaml'],1,1aff1d12f2c6fbee5dd577e59b02669a1d0fd5d6,idle-time-em, date: 2019-10-25, date: 2019-08-25,1,1
openstack%2Fcharm-neutron-openvswitch~master~I224e778de0ed6e279b2de7f4f46781df33121165,openstack/charm-neutron-openvswitch,master,I224e778de0ed6e279b2de7f4f46781df33121165,dpdk: misc fixes for EAL initialization,MERGED,2019-06-24 09:17:03.000000000,2019-06-24 13:59:06.000000000,2019-06-24 13:59:06.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 09:17:03.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_utils.py', 'hooks/neutron_ovs_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/3c66c48bbd11922aa4740e752dfdb5e4f35a959d', 'message': ""dpdk: misc fixes for EAL initialization\n\nFor OpenStack Queens and later instances are setup with vhostuser\nports in server mode, with the OVS side of the port connecting\nas a client to the vhostuser socket on disk; as a result we no\nlonger need to pass permissions information via dpdk-extra (the\ntwo passed options are not valid in later OVS versions).\n\nIn addition, we should also whitelist the devices we're going to\nuse; this ensures that EAL initialization does not take an extended\nperiod of time reducing the amount of time taken to restart OVS.\n\nChange-Id: I224e778de0ed6e279b2de7f4f46781df33121165\nCloses-Bug: 1833734\nCloses-Bug: 1793729\n""}]",0,667046,3c66c48bbd11922aa4740e752dfdb5e4f35a959d,11,4,1,935,,,0,"dpdk: misc fixes for EAL initialization

For OpenStack Queens and later instances are setup with vhostuser
ports in server mode, with the OVS side of the port connecting
as a client to the vhostuser socket on disk; as a result we no
longer need to pass permissions information via dpdk-extra (the
two passed options are not valid in later OVS versions).

In addition, we should also whitelist the devices we're going to
use; this ensures that EAL initialization does not take an extended
period of time reducing the amount of time taken to restart OVS.

Change-Id: I224e778de0ed6e279b2de7f4f46781df33121165
Closes-Bug: 1833734
Closes-Bug: 1793729
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/46/667046/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py', 'hooks/neutron_ovs_utils.py']",4,3c66c48bbd11922aa4740e752dfdb5e4f35a959d,bug/1833734," ('dpdk-lcore-mask', dpdk_context.cpu_mask()), if not ovs_vhostuser_client(): other_config['dpdk-extra'] = ( '--vhost-owner libvirt-qemu:kvm --vhost-perm 0660 ' + dpdk_context.pci_whitelist() ) else: other_config['dpdk-extra'] = ( dpdk_context.pci_whitelist() ) other_config['dpdk-init'] = 'true'def ovs_vhostuser_client(): ''' Determine whether OVS will act as a client on the vhostuser socket @returns boolean indicating whether OVS will act as a client ''' import apt_pkg ovs_version = get_upstream_version(""openvswitch-switch"") return apt_pkg.version_compare(ovs_version, '2.9.0') >= 0 "," ('pmd-cpu-mask', dpdk_context.cpu_mask()), ('dpdk-extra', '--vhost-owner libvirt-qemu:kvm --vhost-perm 0660'),",136,18
openstack%2Fproject-config~master~Idbfdeb74baa9053073bb9c430285fd884217fc7b,openstack/project-config,master,Idbfdeb74baa9053073bb9c430285fd884217fc7b,Set the tripleo-ansible project to use storyboard,MERGED,2019-06-20 17:51:41.000000000,2019-06-24 13:55:50.000000000,2019-06-24 13:55:50.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 17:51:41.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e21f87fa92ffb10b407ec99a432878f2b05d1812', 'message': 'Set the tripleo-ansible project to use storyboard\n\nAs an action item from our more recent meeting, the tripleo-ansible\nproject will use storyboard to track work items. This change should\nenable us to use storyboard.\n\nMeeting minutes:\nhttp://eavesdrop.openstack.org/meetings/tripleo/2019/tripleo.2019-06-20-13.01.html\n\nChange-Id: Idbfdeb74baa9053073bb9c430285fd884217fc7b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,666655,e21f87fa92ffb10b407ec99a432878f2b05d1812,7,3,1,7353,,,0,"Set the tripleo-ansible project to use storyboard

As an action item from our more recent meeting, the tripleo-ansible
project will use storyboard to track work items. This change should
enable us to use storyboard.

Meeting minutes:
http://eavesdrop.openstack.org/meetings/tripleo/2019/tripleo.2019-06-20-13.01.html

Change-Id: Idbfdeb74baa9053073bb9c430285fd884217fc7b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/666655/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,e21f87fa92ffb10b407ec99a432878f2b05d1812,, use-storyboard: true,,1,0
openstack%2Fkolla-ansible~master~I053c4a47e657effe25e8d75a3ef55477635729d2,openstack/kolla-ansible,master,I053c4a47e657effe25e8d75a3ef55477635729d2,link kolla_logs volume to docker_runtime_directory if docker_runtime_directory variable exists,MERGED,2019-05-16 08:35:21.000000000,2019-06-24 13:35:45.000000000,2019-06-24 13:35:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27420}, {'_account_id': 29657}]","[{'number': 1, 'created': '2019-05-16 08:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7df6a6b051eff25690672a498421baebffec9bc7', 'message': 'link kolla_logs volume to docker_runtime_directory if docker_runtime_directory variable exists\n\nChange-Id: I053c4a47e657effe25e8d75a3ef55477635729d2\n'}, {'number': 2, 'created': '2019-05-16 09:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24d728bd0bb4650ef2fd5d8b752226d16afaf1b6', 'message': 'link kolla_logs volume to docker_runtime_directory if docker_runtime_directory variable exists\n\nChange-Id: I053c4a47e657effe25e8d75a3ef55477635729d2\n'}, {'number': 3, 'created': '2019-05-16 11:23:19.000000000', 'files': ['ansible/roles/common/tasks/bootstrap.yml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4ebd990301c997ecf25959df8ae3f0da6471f89', 'message': 'link kolla_logs volume to docker_runtime_directory if docker_runtime_directory variable exists\n\nChange-Id: I053c4a47e657effe25e8d75a3ef55477635729d2\n'}]",2,659496,c4ebd990301c997ecf25959df8ae3f0da6471f89,22,5,3,29657,,,0,"link kolla_logs volume to docker_runtime_directory if docker_runtime_directory variable exists

Change-Id: I053c4a47e657effe25e8d75a3ef55477635729d2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/659496/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/tasks/bootstrap.yml'],1,7df6a6b051eff25690672a498421baebffec9bc7,," src: ""{{ docker_runtime_directory | default('/var/lib/docker') }}/volumes/kolla_logs/_data""", src: /var/lib/docker/volumes/kolla_logs/_data,1,1
openstack%2Fnova~master~I7055104d0b9dbd7efdef6d02c18541172059724f,openstack/nova,master,I7055104d0b9dbd7efdef6d02c18541172059724f,Mention [cinder]/cross_az_attach in the AZ docs,MERGED,2019-04-05 21:50:34.000000000,2019-06-24 13:34:01.000000000,2019-06-24 13:34:01.000000000,"[{'_account_id': 3031}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-05 21:50:34.000000000', 'files': ['doc/source/user/aggregates.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/3482daf56bce925b75c6b2f038c4a2a4653fb9ad', 'message': 'Mention [cinder]/cross_az_attach in the AZ docs\n\nSince the [cinder]/cross_az_attach configuration is all\nabout availability zones matching between servers and volumes,\nwe should mention it in the AZ documentation.\n\nChange-Id: I7055104d0b9dbd7efdef6d02c18541172059724f\n'}]",1,650456,3482daf56bce925b75c6b2f038c4a2a4653fb9ad,16,12,1,6873,,,0,"Mention [cinder]/cross_az_attach in the AZ docs

Since the [cinder]/cross_az_attach configuration is all
about availability zones matching between servers and volumes,
we should mention it in the AZ documentation.

Change-Id: I7055104d0b9dbd7efdef6d02c18541172059724f
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/650456/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/aggregates.rst'],1,3482daf56bce925b75c6b2f038c4a2a4653fb9ad,bug/1823043,"Resource affinity ~~~~~~~~~~~~~~~~~ The :oslo.config:option:`cinder.cross_az_attach` configuration option can be used to restrict servers and the volumes attached to servers to the same availability zone. A typical use case for setting ``cross_az_attach=False`` is to enforce compute and block storage affinity, for example in a High Performance Compute cluster. By default ``cross_az_attach`` is True meaning that the volumes attached to a server can be in a different availability zone than the server. If set to False, then when creating a server with pre-existing volumes or attaching a volume to a server, the server and volume zone must match otherwise the request will fail. In addition, if the nova-compute service creates the volumes to attach to the server during server create, it will request that those volumes are created in the same availability zone as the server, which must exist in the block storage (cinder) service. As noted in the `Implications for moving servers`_ section, forcefully moving a server to another zone could also break affinity with attached volumes. .. note:: ``cross_az_attach=False`` is not widely used nor tested extensively and thus suffers from some known issues: * `Bug 1694844 <https://bugs.launchpad.net/nova/+bug/1694844>`_ * `Bug 1781421 <https://bugs.launchpad.net/nova/+bug/1781421>`_ ",,28,0
openstack%2Fnova~master~I6263b4ec648b9c76353e4f4cbbb46beae52f6ff3,openstack/nova,master,I6263b4ec648b9c76353e4f4cbbb46beae52f6ff3,[FUP] fix backleveling unit test for video models,MERGED,2019-06-21 20:45:26.000000000,2019-06-24 13:33:51.000000000,2019-06-24 13:33:50.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-21 20:45:26.000000000', 'files': ['nova/tests/unit/objects/test_image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/224d9d3306756ca1aef9bdd2426582376fa1c0bb', 'message': '[FUP] fix backleveling unit test for video models\n\nThis change addresses some minor nits in\ntest_obj_make_compatible_video_model that\nwere not addressed in\nI2830ccfc81cfa9654cfeac7ad5effc294f523552\n\nChange-Id: I6263b4ec648b9c76353e4f4cbbb46beae52f6ff3\n'}]",1,666919,224d9d3306756ca1aef9bdd2426582376fa1c0bb,14,10,1,11604,,,0,"[FUP] fix backleveling unit test for video models

This change addresses some minor nits in
test_obj_make_compatible_video_model that
were not addressed in
I2830ccfc81cfa9654cfeac7ad5effc294f523552

Change-Id: I6263b4ec648b9c76353e4f4cbbb46beae52f6ff3
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/666919/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_image_meta.py'],1,224d9d3306756ca1aef9bdd2426582376fa1c0bb,bp/libvirt-video-device-models,"import six # assert that older video models are preserved. hw_video_model=objects.fields.VideoModel.QXL, hw_disk_bus=objects.fields.DiskBus.VIRTIO ) primitive = obj.obj_to_primitive('1.21') self.assertEqual(objects.fields.VideoModel.QXL, primitive['nova_object.data']['hw_video_model']) self.assertIn(""hw_disk_bus"", primitive['nova_object.data']) self.assertEqual(objects.fields.DiskBus.VIRTIO, primitive['nova_object.data']['hw_disk_bus']) # Virtio, GOP and None were added in 1.22 and should raise an ex = self.assertRaises(exception.ObjectActionError, obj.obj_to_primitive, '1.21') self.assertIn('hw_video_model', six.text_type(ex))"," # assert that older video models are not preserved. hw_video_model=objects.fields.VideoModel.QXL) primitive = obj.obj_to_primitive('1.0') # Virtio, GOP and None were added in 1.22 and should raise and self.assertRaises(exception.ObjectActionError, obj.obj_to_primitive, '1.0')",15,6
openstack%2Fwatcher~master~I5e0e88d7b2dd1a69117ab03e0e66851c687606da,openstack/watcher,master,I5e0e88d7b2dd1a69117ab03e0e66851c687606da,Optimize hypervisor API calls,MERGED,2019-05-23 21:11:31.000000000,2019-06-24 13:31:10.000000000,2019-06-14 02:28:51.000000000,"[{'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 15888}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-23 21:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0cf53c057ec61196e4748e4f826ef9925c073871', 'message': ""WIP: Optimize hypervisor API calls\n\nThe nova CDM builder code and notification handling\ncode had some inefficiencies when it came to looking\nup a hypevisor to get details. The general pattern\nused before was:\n\n1. get the minimal hypervisor information by hypervisor_hostname\n2. make another query to get the hypervisor details by id\n\nIn the notifications case, it was actually three calls because\nthe first is listing hyprvisors to filter client-side by service\nhost.\n\nThis change collapses 1 and 2 above into a single API call\nto get the hypervisor by hypervisor_hostname with details\nwhich will include the service (compute) host information\nwhich is what get_compute_node_by_id() was being used for.\nNow that nothing is using get_compute_node_by_id it is removed.\n\nThere is more work we could do in get_compute_node_by_hostname\nif the compute API allowed filtering hypervisors by service\nhost so a TODO is left for that.\n\nOne final thing: the TODO in get_compute_node_by_hostname about\nthere being more than one hypervisor per compute service host\nfor vmware vcenter is not accurate - nova's vcenter driver\nhasn't supported a host:node 1:M topology like that since the\nLiberty release [1]. The only in-tree driver in nova that supports\n1:M is the ironic baremetal driver, so the comment is updated.\n\n[1] Ifc17c5049e3ed29c8dd130339207907b00433960\n\nDepends-On: https://review.opendev.org/659886/\nChange-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da\n""}, {'number': 2, 'created': '2019-05-23 21:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ef8c69c8c84ee0c2c53e0c78318cca32a986c75f', 'message': ""WIP: Optimize hypervisor API calls\n\nThe nova CDM builder code and notification handling\ncode had some inefficiencies when it came to looking\nup a hypevisor to get details. The general pattern\nused before was:\n\n1. get the minimal hypervisor information by hypervisor_hostname\n2. make another query to get the hypervisor details by id\n\nIn the notifications case, it was actually three calls because\nthe first is listing hyprvisors to filter client-side by service\nhost.\n\nThis change collapses 1 and 2 above into a single API call\nto get the hypervisor by hypervisor_hostname with details\nwhich will include the service (compute) host information\nwhich is what get_compute_node_by_id() was being used for.\nNow that nothing is using get_compute_node_by_id it is removed.\n\nThere is more work we could do in get_compute_node_by_hostname\nif the compute API allowed filtering hypervisors by service\nhost so a TODO is left for that.\n\nOne final thing: the TODO in get_compute_node_by_hostname about\nthere being more than one hypervisor per compute service host\nfor vmware vcenter is not accurate - nova's vcenter driver\nhasn't supported a host:node 1:M topology like that since the\nLiberty release [1]. The only in-tree driver in nova that supports\n1:M is the ironic baremetal driver, so the comment is updated.\n\n[1] Ifc17c5049e3ed29c8dd130339207907b00433960\n\nDepends-On: https://review.opendev.org/659886/\nChange-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da\n""}, {'number': 3, 'created': '2019-05-28 20:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0394005b91102ce5afc467782180b6899d244dc4', 'message': ""Optimize hypervisor API calls\n\nThe nova CDM builder code and notification handling\ncode had some inefficiencies when it came to looking\nup a hypevisor to get details. The general pattern\nused before was:\n\n1. get the minimal hypervisor information by hypervisor_hostname\n2. make another query to get the hypervisor details by id\n\nIn the notifications case, it was actually three calls because\nthe first is listing hyprvisors to filter client-side by service\nhost.\n\nThis change collapses 1 and 2 above into a single API call\nto get the hypervisor by hypervisor_hostname with details\nwhich will include the service (compute) host information\nwhich is what get_compute_node_by_id() was being used for.\nNow that nothing is using get_compute_node_by_id it is removed.\n\nThere is more work we could do in get_compute_node_by_hostname\nif the compute API allowed filtering hypervisors by service\nhost so a TODO is left for that.\n\nOne final thing: the TODO in get_compute_node_by_hostname about\nthere being more than one hypervisor per compute service host\nfor vmware vcenter is not accurate - nova's vcenter driver\nhasn't supported a host:node 1:M topology like that since the\nLiberty release [1]. The only in-tree driver in nova that supports\n1:M is the ironic baremetal driver, so the comment is updated.\n\n[1] Ifc17c5049e3ed29c8dd130339207907b00433960\n\nDepends-On: https://review.opendev.org/661785/\nChange-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da\n""}, {'number': 4, 'created': '2019-06-01 06:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3091b587518d21c8c2835408389c935d4df29905', 'message': ""Optimize hypervisor API calls\n\nThe nova CDM builder code and notification handling\ncode had some inefficiencies when it came to looking\nup a hypevisor to get details. The general pattern\nused before was:\n\n1. get the minimal hypervisor information by hypervisor_hostname\n2. make another query to get the hypervisor details by id\n\nIn the notifications case, it was actually three calls because\nthe first is listing hyprvisors to filter client-side by service\nhost.\n\nThis change collapses 1 and 2 above into a single API call\nto get the hypervisor by hypervisor_hostname with details\nwhich will include the service (compute) host information\nwhich is what get_compute_node_by_id() was being used for.\nNow that nothing is using get_compute_node_by_id it is removed.\n\nThere is more work we could do in get_compute_node_by_hostname\nif the compute API allowed filtering hypervisors by service\nhost so a TODO is left for that.\n\nOne final thing: the TODO in get_compute_node_by_hostname about\nthere being more than one hypervisor per compute service host\nfor vmware vcenter is not accurate - nova's vcenter driver\nhasn't supported a host:node 1:M topology like that since the\nLiberty release [1]. The only in-tree driver in nova that supports\n1:M is the ironic baremetal driver, so the comment is updated.\n\n[1] Ifc17c5049e3ed29c8dd130339207907b00433960\n\nDepends-On: https://review.opendev.org/661785/\nChange-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da\n""}, {'number': 5, 'created': '2019-06-03 16:30:32.000000000', 'files': ['watcher/common/nova_helper.py', 'requirements.txt', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/tests/common/test_nova_helper.py', 'lower-constraints.txt', 'watcher/tests/decision_engine/cluster/test_model_builder.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/3f76f9cfdb6a1ce4dd120fa3de6c7fb05761102a', 'message': ""Optimize hypervisor API calls\n\nThe nova CDM builder code and notification handling\ncode had some inefficiencies when it came to looking\nup a hypevisor to get details. The general pattern\nused before was:\n\n1. get the minimal hypervisor information by hypervisor_hostname\n2. make another query to get the hypervisor details by id\n\nIn the notifications case, it was actually three calls because\nthe first is listing hyprvisors to filter client-side by service\nhost.\n\nThis change collapses 1 and 2 above into a single API call\nto get the hypervisor by hypervisor_hostname with details\nwhich will include the service (compute) host information\nwhich is what get_compute_node_by_id() was being used for.\nNow that nothing is using get_compute_node_by_id it is removed.\n\nThere is more work we could do in get_compute_node_by_hostname\nif the compute API allowed filtering hypervisors by service\nhost so a TODO is left for that.\n\nOne final thing: the TODO in get_compute_node_by_hostname about\nthere being more than one hypervisor per compute service host\nfor vmware vcenter is not accurate - nova's vcenter driver\nhasn't supported a host:node 1:M topology like that since the\nLiberty release [1]. The only in-tree driver in nova that supports\n1:M is the ironic baremetal driver, so the comment is updated.\n\n[1] Ifc17c5049e3ed29c8dd130339207907b00433960\n\nDepends-On: https://review.opendev.org/661785/\nChange-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da\n""}]",19,661121,3f76f9cfdb6a1ce4dd120fa3de6c7fb05761102a,35,7,5,6873,,,0,"Optimize hypervisor API calls

The nova CDM builder code and notification handling
code had some inefficiencies when it came to looking
up a hypevisor to get details. The general pattern
used before was:

1. get the minimal hypervisor information by hypervisor_hostname
2. make another query to get the hypervisor details by id

In the notifications case, it was actually three calls because
the first is listing hyprvisors to filter client-side by service
host.

This change collapses 1 and 2 above into a single API call
to get the hypervisor by hypervisor_hostname with details
which will include the service (compute) host information
which is what get_compute_node_by_id() was being used for.
Now that nothing is using get_compute_node_by_id it is removed.

There is more work we could do in get_compute_node_by_hostname
if the compute API allowed filtering hypervisors by service
host so a TODO is left for that.

One final thing: the TODO in get_compute_node_by_hostname about
there being more than one hypervisor per compute service host
for vmware vcenter is not accurate - nova's vcenter driver
hasn't supported a host:node 1:M topology like that since the
Liberty release [1]. The only in-tree driver in nova that supports
1:M is the ironic baremetal driver, so the comment is updated.

[1] Ifc17c5049e3ed29c8dd130339207907b00433960

Depends-On: https://review.opendev.org/661785/
Change-Id: I5e0e88d7b2dd1a69117ab03e0e66851c687606da
",git fetch https://review.opendev.org/openstack/watcher refs/changes/21/661121/3 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/common/nova_helper.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py', 'watcher/tests/common/test_nova_helper.py', 'watcher/tests/decision_engine/cluster/test_model_builder.py']",5,0cf53c057ec61196e4748e4f826ef9925c073871,compute-cdm-perf-server-list-host-filter," 'hostone', servers=True, detailed=True) 'hosttwo', servers=True, detailed=True)"," 'hostone', servers=True) 'hosttwo', servers=True)",34,25
openstack%2Frally-openstack~master~I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8,openstack/rally-openstack,master,I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8,Removes unnecessary clear of DHCP agents.,MERGED,2019-06-06 13:56:51.000000000,2019-06-24 13:25:23.000000000,2019-06-24 13:25:23.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 29738}]","[{'number': 1, 'created': '2019-06-06 13:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bdb03c439f1147d8811e56b237736fc194d4d769', 'message': 'Removes unnecessary clear of DHCP agents.\n\nDHCP agents are automatically removed with network.\n\nChange-Id: I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8\nCloses-Bug: #1831900\n'}, {'number': 2, 'created': '2019-06-07 09:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/415d78ea27bf5d9a13bd3308c877a6db0096410b', 'message': 'Removes unnecessary clear of DHCP agents.\n\nDHCP agents are automatically removed with network.\n\nChange-Id: I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8\nCloses-Bug: #1831900\n'}, {'number': 3, 'created': '2019-06-13 11:35:40.000000000', 'files': ['rally_openstack/wrappers/network.py', 'tests/unit/wrappers/test_network.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/afe0455be7dac6f969db42d3340a146521725787', 'message': 'Removes unnecessary clear of DHCP agents.\n\nDHCP agents are automatically removed with network.\n\nChange-Id: I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8\nCloses-Bug: #1831900\n'}]",0,663678,afe0455be7dac6f969db42d3340a146521725787,20,3,3,29738,,,0,"Removes unnecessary clear of DHCP agents.

DHCP agents are automatically removed with network.

Change-Id: I339e1886e3480d7a73a34d52c7eb3432ab7c1aa8
Closes-Bug: #1831900
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/78/663678/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/wrappers/network.py'],1,bdb03c439f1147d8811e56b237736fc194d4d769,bug/1831900,," if self.supports_extension(""dhcp_agent_scheduler"")[0]: net_dhcps = self.client.list_dhcp_agent_hosting_networks( network[""id""])[""agents""] for net_dhcp in net_dhcps: self.client.remove_network_from_dhcp_agent(net_dhcp[""id""], network[""id""])",0,6
openstack%2Fos-traits~master~I17945e8ad6ea5349f46c26e427a0f539ca5eba8b,openstack/os-traits,master,I17945e8ad6ea5349f46c26e427a0f539ca5eba8b,"add GOP, NONE and VIRTIO grapics models",MERGED,2019-06-17 23:51:28.000000000,2019-06-24 13:25:16.000000000,2019-06-24 13:25:16.000000000,"[{'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 23:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/80a5a476f0319ca8d21df0b9baac874a4cddf8cf', 'message': 'add GOP, NONE and VIRTIO grapics models\n\nThis change extends the COMPUTE_GRAPHICS\nmodule with 3 new traits for the GOP, NONE and\nVIRTIO models.\n\nDepends-On: https://review.opendev.org/#/c/647733/\nChange-Id: I17945e8ad6ea5349f46c26e427a0f539ca5eba8b\nTask: 30526\nStory: 2005447\n'}, {'number': 2, 'created': '2019-06-20 01:11:08.000000000', 'files': ['os_traits/compute/graphics.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/95668fdd59bf526277874ca50c4800ebd3aafb26', 'message': 'add GOP, NONE and VIRTIO grapics models\n\nThis change extends the COMPUTE_GRAPHICS\nmodule with 3 new traits for the GOP, NONE and\nVIRTIO models.\n\nDepends-On: https://review.opendev.org/#/c/647733/\nChange-Id: I17945e8ad6ea5349f46c26e427a0f539ca5eba8b\nTask: 30526\nStory: 2005447\n'}]",0,665830,95668fdd59bf526277874ca50c4800ebd3aafb26,10,4,2,11604,,,0,"add GOP, NONE and VIRTIO grapics models

This change extends the COMPUTE_GRAPHICS
module with 3 new traits for the GOP, NONE and
VIRTIO models.

Depends-On: https://review.opendev.org/#/c/647733/
Change-Id: I17945e8ad6ea5349f46c26e427a0f539ca5eba8b
Task: 30526
Story: 2005447
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/30/665830/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/graphics.py'],1,80a5a476f0319ca8d21df0b9baac874a4cddf8cf,bp/image-metadata-prefiltering," 'MODEL_GOP', 'MODEL_NONE', 'MODEL_VIRTIO',",,3,0
openstack%2Fos-traits~master~I42237b196644bfa87701f978a1519941d447b450,openstack/os-traits,master,I42237b196644bfa87701f978a1519941d447b450,add libvirt image metadata traits,MERGED,2019-04-16 13:43:38.000000000,2019-06-24 13:25:12.000000000,2019-06-24 13:25:12.000000000,"[{'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-16 13:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/d483b89071741c5b44d1740e252afafe27e7b02a', 'message': 'add libvirt image metadata traits\n\n- This change introduces standard traits for the\n  well defiend hw_disk_model, hw_cdrom_model, hw_video_model\n  and hw_vif_model image metadata properties.\n- This spec defines all of the new traits in the compute\n  namespace as they represent the ablity of a hypervisor to\n  emulate a specifc virtual device model, not the presence\n  of the respectiv hardware device on the host.\n\nChange-Id: I42237b196644bfa87701f978a1519941d447b450\nTask: 30526\nStory: 2005447\n'}, {'number': 2, 'created': '2019-05-01 19:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/b22117170bbf347d2f3b0030436f5e3910506fc2', 'message': 'add libvirt image metadata traits\n\n- This change introduces standard traits for the\n  well defiend hw_disk_model, hw_cdrom_model, hw_video_model\n  and hw_vif_model image metadata properties.\n- This spec defines all of the new traits in the compute\n  namespace as they represent the ablity of a hypervisor to\n  emulate a specifc virtual device model, not the presence\n  of the respectiv hardware device on the host.\n\nChange-Id: I42237b196644bfa87701f978a1519941d447b450\nTask: 30526\nStory: 2005447\n'}, {'number': 3, 'created': '2019-06-17 23:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/cda9e13f6efdd38a20f047634a20b008509c0178', 'message': 'add libvirt image metadata traits\n\n- This change introduces standard traits for the\n  well defined hw_disk_model, hw_cdrom_model, hw_video_model\n  and hw_vif_model image metadata properties.\n- This spec defines all of the new traits in the compute\n  namespace as they represent the ability of a hypervisor to\n  emulate a specific virtual device model, not the presence\n  of the respective hardware device on the host.\n\nChange-Id: I42237b196644bfa87701f978a1519941d447b450\nTask: 30526\nStory: 2005447\n'}, {'number': 4, 'created': '2019-06-20 01:07:16.000000000', 'files': ['os_traits/compute/net.py', 'os_traits/compute/graphics.py', 'os_traits/compute/storage.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/21f232bd1c78459fc79c19fd2b4f2defdb758a63', 'message': 'add libvirt image metadata traits\n\n- This change introduces standard traits for the\n  well defined hw_disk_model, hw_cdrom_model, hw_video_model\n  and hw_vif_model image metadata properties.\n- This spec defines all of the new traits in the compute\n  namespace as they represent the ability of a hypervisor to\n  emulate a specific virtual device model, not the presence\n  of the respective hardware device on the host.\n\nChange-Id: I42237b196644bfa87701f978a1519941d447b450\nTask: 30526\nStory: 2005447\n'}]",22,652996,21f232bd1c78459fc79c19fd2b4f2defdb758a63,21,5,4,11604,,,0,"add libvirt image metadata traits

- This change introduces standard traits for the
  well defined hw_disk_model, hw_cdrom_model, hw_video_model
  and hw_vif_model image metadata properties.
- This spec defines all of the new traits in the compute
  namespace as they represent the ability of a hypervisor to
  emulate a specific virtual device model, not the presence
  of the respective hardware device on the host.

Change-Id: I42237b196644bfa87701f978a1519941d447b450
Task: 30526
Story: 2005447
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/96/652996/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_traits/compute/net.py', 'os_traits/compute/graphics.py', 'os_traits/compute/removable_media.py', 'os_traits/compute/disk.py']",4,d483b89071741c5b44d1740e252afafe27e7b02a,bp/image-metadata-prefiltering,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ # traits corresponding to the allowed values of ""hw_disk_bus"" # image metadata property 'BUS_MODEL_FDC', 'BUS_MODEL_IDE', 'BUS_MODEL_SATA', 'BUS_MODEL_SCSI', 'BUS_MODEL_USB', 'BUS_MODEL_VIRTIO', 'BUS_MODEL_XEN', 'BUS_MODEL_LXC', 'BUS_MODEL_UML', ] ",,95,0
openstack%2Fkolla-ansible~master~Id3c006df00c1e2d66472c2195781e01c640cab22,openstack/kolla-ansible,master,Id3c006df00c1e2d66472c2195781e01c640cab22,Replace merge_configs with merge_yaml for merge mongodb.conf,MERGED,2019-06-21 14:46:33.000000000,2019-06-24 13:22:37.000000000,2019-06-24 10:53:59.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-21 14:46:33.000000000', 'files': ['ansible/roles/mongodb/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7c4a4f2b98c48e4c95ec853717a11d309f5cf6b', 'message': ""Replace merge_configs with merge_yaml for merge mongodb.conf\n\nActually, 'mongodb.conf' is a yaml format configuration file. Do not use\nmerge_configs to merge it.\n\nChange-Id: Id3c006df00c1e2d66472c2195781e01c640cab22\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n""}]",0,666855,d7c4a4f2b98c48e4c95ec853717a11d309f5cf6b,9,4,1,28367,,,0,"Replace merge_configs with merge_yaml for merge mongodb.conf

Actually, 'mongodb.conf' is a yaml format configuration file. Do not use
merge_configs to merge it.

Change-Id: Id3c006df00c1e2d66472c2195781e01c640cab22
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/666855/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mongodb/tasks/config.yml'],1,d7c4a4f2b98c48e4c95ec853717a11d309f5cf6b,fix-merge-mongodb-conf, merge_yaml:, merge_configs:,1,1
openstack%2Fkolla-ansible~master~I9fb4151261fba227dda09241bc141826589ad169,openstack/kolla-ansible,master,I9fb4151261fba227dda09241bc141826589ad169,Use'openstack_region_name' in cloudkitty collectors and fetchers,MERGED,2019-05-17 17:19:57.000000000,2019-06-24 13:08:30.000000000,2019-06-24 13:08:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 24072}, {'_account_id': 28356}]","[{'number': 1, 'created': '2019-05-17 17:19:57.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a01294a4de278f36bb574c0e1e912e89942a0312', 'message': ""Use'openstack_region_name' in cloudkitty collectors and fetchers\n\nChange-Id: I9fb4151261fba227dda09241bc141826589ad169\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n""}]",0,659844,a01294a4de278f36bb574c0e1e912e89942a0312,12,5,1,28356,,,0,"Use'openstack_region_name' in cloudkitty collectors and fetchers

Change-Id: I9fb4151261fba227dda09241bc141826589ad169
Signed-off-by: Rafael Weingrtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/659844/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,a01294a4de278f36bb574c0e1e912e89942a0312,useRegionNameCloudKittyFetchersAndCollectors,region_name = {{ openstack_region_name }}region_name = {{ openstack_region_name }},,2,0
openstack%2Fkolla-ansible~master~I712edcf39bfdb64887e25437f0aff30a45a829dd,openstack/kolla-ansible,master,I712edcf39bfdb64887e25437f0aff30a45a829dd,Method to override the default ceilometer meters.yaml via Kolla-ansible,MERGED,2019-05-03 16:39:19.000000000,2019-06-24 13:08:28.000000000,2019-06-24 13:08:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28356}]","[{'number': 1, 'created': '2019-05-03 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d51aa016ef6522ee1f54f98cb0ebd31423426f0c', 'message': 'Method for Kolla-ansible to override the default ceilometer meters.yaml\n\nSimilar to what we did here: https://review.opendev.org/#/c/655276/\nbut, for ceilometer/data/meters.d/meters.yaml file.\n\nThe idea is to create a method for operators to manage custom meters YAML files via Kolla-ansible. To do that, we enable them (operators) to use a folder called by default ""meters.d"" in their local ceilometer configurations, where all of the custom meters YAML files will be read from. If this folder exist and has YAML files in it, we copy them for the default ""/etc/ceilometer/meters.d"" path in the containers. We do not inject things in the container though. We copy the files for the control node, and then we map them via ceilometer*.json container configuration files.\n\nChange-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd\n'}, {'number': 2, 'created': '2019-05-03 16:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51b0428fef1b0e3083dd0bebee90d9de682f366a', 'message': 'Method to override the default ceilometer meters.yaml via Kolla-ansible\n\nSimilar to what we did here: https://review.opendev.org/#/c/655276 but,\n for ceilometer/data/meters.d/meters.yaml file.\n\nThe idea is to create a method for operators to manage custom meters\n YAML files via Kolla-ansible. To do that, we enable them (operators)\n to use a folder called by default ""meters.d"" in their local\n ceilometer configurations, where all of the custom meters YAML files\n will be read from. If this folder exist and has YAML files in it, we\n copy them for the default ""/etc/ceilometer/meters.d"" path in the\n containers. We do not inject things in the container though. We copy\n the files for the control node, and then we map them via\n ceilometer*.json container configuration files.\n\nChange-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 3, 'created': '2019-05-03 18:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7cc6594f704b7d986276a57e3b63a3693b3d1a7b', 'message': 'Method to override the default ceilometer meters.yaml via Kolla-ansible\n\nSimilar to what we did here: https://review.opendev.org/#/c/655276 but,\n for ceilometer/data/meters.d/meters.yaml file.\n\nThe idea is to create a method for operators to manage custom meters\n YAML files via Kolla-ansible. To do that, we enable them (operators)\n to use a folder called by default ""meters.d"" in their local\n ceilometer configurations, where all of the custom meters YAML files\n will be read from. If this folder exist and has YAML files in it, we\n copy them for the default ""/etc/ceilometer/meters.d"" path in the\n containers. We do not inject things in the container though. We copy\n the files for the control node, and then we map them via\n ceilometer*.json container configuration files.\n\nChange-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 4, 'created': '2019-05-21 11:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b6b14742a020fdc5a989f71be740652fa757d21c', 'message': 'Method to override the default ceilometer meters.yaml via Kolla-ansible\n\nSimilar to what we did here: https://review.opendev.org/#/c/655276 but,\n for ceilometer/data/meters.d/meters.yaml file.\n\nThe idea is to create a method for operators to manage custom meters\n YAML files via Kolla-ansible. To do that, we enable them (operators)\n to use a folder called by default ""meters.d"" in their local\n ceilometer configurations, where all of the custom meters YAML files\n will be read from. If this folder exist and has YAML files in it, we\n copy them for the default ""/etc/ceilometer/meters.d"" path in the\n containers. We do not inject things in the container though. We copy\n the files for the control node, and then we map them via\n ceilometer*.json container configuration files.\n\nChange-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}, {'number': 5, 'created': '2019-05-21 13:55:30.000000000', 'files': ['ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/templates/ceilometer-central.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-compute.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-ipmi.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0e19ba6476937350115ff2189449e0b00e5ded5', 'message': 'Method to override the default ceilometer meters.yaml via Kolla-ansible\n\nSimilar to what we did here: https://review.opendev.org/#/c/655276 but,\n for ceilometer/data/meters.d/meters.yaml file.\n\nThe idea is to create a method for operators to manage custom meters\n YAML files via Kolla-ansible. To do that, we enable them (operators)\n to use a folder called by default ""meters.d"" in their local\n ceilometer configurations, where all of the custom meters YAML files\n will be read from. If this folder exist and has YAML files in it, we\n copy them for the default ""/etc/ceilometer/meters.d"" path in the\n containers. We do not inject things in the container though. We copy\n the files for the control node, and then we map them via\n ceilometer*.json container configuration files.\n\nChange-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n'}]",12,656981,f0e19ba6476937350115ff2189449e0b00e5ded5,32,4,5,28356,,,0,"Method to override the default ceilometer meters.yaml via Kolla-ansible

Similar to what we did here: https://review.opendev.org/#/c/655276 but,
 for ceilometer/data/meters.d/meters.yaml file.

The idea is to create a method for operators to manage custom meters
 YAML files via Kolla-ansible. To do that, we enable them (operators)
 to use a folder called by default ""meters.d"" in their local
 ceilometer configurations, where all of the custom meters YAML files
 will be read from. If this folder exist and has YAML files in it, we
 copy them for the default ""/etc/ceilometer/meters.d"" path in the
 containers. We do not inject things in the container though. We copy
 the files for the control node, and then we map them via
 ceilometer*.json container configuration files.

Change-Id: I712edcf39bfdb64887e25437f0aff30a45a829dd
Signed-off-by: Rafael Weingrtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/81/656981/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/ceilometer/templates/ceilometer-central.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-compute.json.j2', 'ansible/roles/ceilometer/templates/ceilometer-ipmi.json.j2']",5,d51aa016ef6522ee1f54f98cb0ebd31423426f0c,ceilometerMetersYamlOverrideMethod," }{% endif %}{% if should_copy_custom_meter_definitions %}, { ""source"": ""{{ container_config_directory }}/meters.d"", ""dest"": ""/etc/ceilometer/meters.d"", ""owner"": ""ceilometer"", ""perm"": ""0700""",,68,1
openstack%2Fkolla-ansible~master~I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419,openstack/kolla-ansible,master,I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419,Use 'openstack_service_workers' as the nb of Cloudkitty workers,MERGED,2019-05-16 15:32:36.000000000,2019-06-24 13:08:26.000000000,2019-06-24 13:08:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 24072}, {'_account_id': 28356}]","[{'number': 1, 'created': '2019-05-16 15:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ef0474ca69a68f799b441a9feeae5feb64763bc', 'message': ""Externalize the maximum number of workers\n\nAdd the ability to Kolla-ansible to manage the 'max_workers' parameter in Cloudkitty.\n\nChange-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419\n""}, {'number': 2, 'created': '2019-05-16 18:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93fffb949bddfa2313c445ee056aad8e44c97f0a', 'message': ""Use 'openstack_service_workers' to define the nb of Cloudkitty workers\n\nAdd the ability to Kolla-ansible to manage the 'max_workers' parameter in Cloudkitty.\nWe will use the 'openstack_service_workers' variable to control the number of workers\n that Cloudkitty is able to use.\n\nChange-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n""}, {'number': 3, 'created': '2019-05-16 18:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dd227de8e178f5fc651ba7c5e3d5c3410d5c2e7', 'message': ""Use 'openstack_service_workers' as the nb of Cloudkitty workers\n\nAdd the ability to Kolla-ansible to manage the 'max_workers' parameter in Cloudkitty.\nWe will use the 'openstack_service_workers' variable to control the number of workers\n that Cloudkitty is able to use.\n\nChange-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n""}, {'number': 4, 'created': '2019-05-16 18:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37331423ee1543b30af93878de32623c20ed7c25', 'message': ""Use 'openstack_service_workers' as the nb of Cloudkitty workers\n\nAdd the ability to Kolla-ansible to manage the 'max_workers' parameter\n in Cloudkitty. We will use the 'openstack_service_workers' variable\n to control the number of workers that Cloudkitty is able to use.\n\nChange-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n""}, {'number': 5, 'created': '2019-05-17 15:53:29.000000000', 'files': ['ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f359dc9cb410e9c1ec9adac0faafde926d893b5', 'message': ""Use 'openstack_service_workers' as the nb of Cloudkitty workers\n\nAdd the ability to Kolla-ansible to manage the 'max_workers' parameter\n in Cloudkitty. We will use the 'openstack_service_workers' variable\n to control the number of workers that Cloudkitty is able to use.\n\nChange-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419\nSigned-off-by: Rafael Weingrtner <rafael@apache.org>\n""}]",1,659602,0f359dc9cb410e9c1ec9adac0faafde926d893b5,28,5,5,28356,,,0,"Use 'openstack_service_workers' as the nb of Cloudkitty workers

Add the ability to Kolla-ansible to manage the 'max_workers' parameter
 in Cloudkitty. We will use the 'openstack_service_workers' variable
 to control the number of workers that Cloudkitty is able to use.

Change-Id: I2f4e7e5c45d71a7e01d1b743d2eb4850cc339419
Signed-off-by: Rafael Weingrtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/02/659602/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2']",2,8ef0474ca69a68f799b441a9feeae5feb64763bc,externalizeNumberOfWorkers, {% if cloudkitty_max_workers is defined %} max_workers = {{ cloudkitty_max_workers }} {% endif %} ,,9,0
openstack%2Fkolla-ansible~master~I1a25789374fddaefc57bc59badec06f91ee6a52a,openstack/kolla-ansible,master,I1a25789374fddaefc57bc59badec06f91ee6a52a,Remove ``hnas_iscsi`` from the supported storage backends list of Cinder,MERGED,2019-06-14 08:14:45.000000000,2019-06-24 13:08:24.000000000,2019-06-24 13:08:24.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-14 08:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/355da4ace1769e0d36e77bde0e46a56bfa7e0fd5', 'message': 'Remove ``hnas_iscsi`` from the supported storage backends list of Cinder\n\nChange-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a\nCloses-Bug: #1832821\n'}, {'number': 2, 'created': '2019-06-14 08:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a8f4005f31a5d2c0faa0500146e84b0d464adea8', 'message': 'Remove ``hnas_iscsi`` from the supported storage backends list of Cinder\n\nThe Hitachi NAS Platform iSCSI driver was marked as not supported by\nCinder in the Ocata realease[1].\n\n[1] https://review.opendev.org/#/c/444287/\n\nChange-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a\nCloses-Bug: #1832821\n'}, {'number': 3, 'created': '2019-06-24 02:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76d5655382f6c01d52d9be32d6b4467e0cc72fd5', 'message': 'Remove ``hnas_iscsi`` from the supported storage backends list of Cinder\n\nThe Hitachi NAS Platform iSCSI driver was marked as not supported by\nCinder in the Ocata realease[1].\n\n[1] https://review.opendev.org/#/c/444287/\n\nChange-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a\nCloses-Bug: #1832821\n'}, {'number': 4, 'created': '2019-06-24 07:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bafc5da357c6d956c9d4be7e121c303824e9ae12', 'message': 'Remove ``hnas_iscsi`` from the supported storage backends list of Cinder\n\nThe Hitachi NAS Platform iSCSI driver was marked as not supported by\nCinder in the Ocata realease[1].\n\n[1] https://review.opendev.org/#/c/444287/\n\nChange-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a\nCloses-Bug: #1832821\n'}, {'number': 5, 'created': '2019-06-24 09:04:17.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml', 'doc/source/reference/storage/cinder-guide.rst', 'ansible/roles/cinder/tasks/precheck.yml', 'etc/kolla/passwords.yml', 'releasenotes/notes/remove-cinder-hnas_iscsi-backend-03e6242227b9184c.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'etc/kolla/globals.yml', 'doc/source/reference/storage/cinder-guide-hnas.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7ca065edf11d0c4ee8e911c7316cec87bd10d08', 'message': 'Remove ``hnas_iscsi`` from the supported storage backends list of Cinder\n\nThe Hitachi NAS Platform iSCSI driver was marked as not supported by\nCinder in the Ocata realease[1].\n\n[1] https://review.opendev.org/#/c/444287/\n\nChange-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a\nCloses-Bug: #1832821\n'}]",1,665325,b7ca065edf11d0c4ee8e911c7316cec87bd10d08,18,5,5,19779,,,0,"Remove ``hnas_iscsi`` from the supported storage backends list of Cinder

The Hitachi NAS Platform iSCSI driver was marked as not supported by
Cinder in the Ocata realease[1].

[1] https://review.opendev.org/#/c/444287/

Change-Id: I1a25789374fddaefc57bc59badec06f91ee6a52a
Closes-Bug: #1832821
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/665325/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/storage/cinder-guide.rst'],1,355da4ace1769e0d36e77bde0e46a56bfa7e0fd5,bug/1832821,,* hnas_iscsi,0,1
openstack%2Fkolla-ansible~master~I3128472f028a2dbd7ace02abc179a9629ad74ceb,openstack/kolla-ansible,master,I3128472f028a2dbd7ace02abc179a9629ad74ceb,Avoid parallel discover_hosts (nova-related race condition),MERGED,2019-06-16 18:47:25.000000000,2019-06-24 13:08:22.000000000,2019-06-24 13:08:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-16 18:47:25.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce680bcfe2208f19a23630ee3feff4b9bd40c595', 'message': 'Avoid parallel discover_hosts (nova-related race condition)\n\nIn a rare event both kolla-ansible and nova-scheduler try to do\nthe mapping at the same time and one of them fails.\nSince kolla-ansible runs host discovery on each deployment,\nthere is no need to change the default of no periodic host discovery.\n\nI added some notes for future. They are not critical.\nI made the decision explicit in the comments.\nI changed the task name to satisfy recommendations.\nI removed the variable because it is not used (to avoid future doubts).\n\nCloses-Bug: #1832987\n\nChange-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",4,665554,ce680bcfe2208f19a23630ee3feff4b9bd40c595,26,4,1,30491,,,0,"Avoid parallel discover_hosts (nova-related race condition)

In a rare event both kolla-ansible and nova-scheduler try to do
the mapping at the same time and one of them fails.
Since kolla-ansible runs host discovery on each deployment,
there is no need to change the default of no periodic host discovery.

I added some notes for future. They are not critical.
I made the decision explicit in the comments.
I changed the task name to satisfy recommendations.
I removed the variable because it is not used (to avoid future doubts).

Closes-Bug: #1832987

Change-Id: I3128472f028a2dbd7ace02abc179a9629ad74ceb
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/665554/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/templates/nova.conf.j2']",2,ce680bcfe2208f19a23630ee3feff4b9bd40c595,bug/1832987,# NOTE(yoctozepto): kolla-ansible handles cell mapping by itself on each deploy # periodic run must be disabled to avoid random failures (where both try to map) # -1 is default and means periodic discovery is disabled discover_hosts_in_cells_interval = -1,discover_hosts_in_cells_interval = 60,7,3
openstack%2Fkolla-ansible~master~I79051cca27178c3cf1671f5c603e38baf929c55c,openstack/kolla-ansible,master,I79051cca27178c3cf1671f5c603e38baf929c55c,Add some notes for users Migrating to Kolla Monasca,MERGED,2019-06-20 15:35:08.000000000,2019-06-24 13:08:19.000000000,2019-06-24 13:08:19.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-20 15:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ba00c8c0be8aab7487d338c7f7a1d6cd3ebdbc7', 'message': 'Add some notes for users Migrating to Kolla Monasca\n\nThis commit should help guide people migrating to Kolla Monasca\nthrough the murky depths of the migration process. Since Kolla\ndid not support Monasca in Queens, some of these steps which\ncould be automated are not.\n\nChange-Id: I79051cca27178c3cf1671f5c603e38baf929c55c\n'}, {'number': 2, 'created': '2019-06-20 16:30:45.000000000', 'files': ['doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4f488adcf726040e535b9a45ffe92fa4cb900db', 'message': 'Add some notes for users Migrating to Kolla Monasca\n\nThis commit should help guide people migrating to Kolla Monasca\nthrough the murky depths of the migration process. Since Kolla\ndid not support Monasca in Queens, some of these steps which\ncould be automated are not.\n\nChange-Id: I79051cca27178c3cf1671f5c603e38baf929c55c\n'}]",2,666614,c4f488adcf726040e535b9a45ffe92fa4cb900db,11,4,2,17669,,,0,"Add some notes for users Migrating to Kolla Monasca

This commit should help guide people migrating to Kolla Monasca
through the murky depths of the migration process. Since Kolla
did not support Monasca in Queens, some of these steps which
could be automated are not.

Change-Id: I79051cca27178c3cf1671f5c603e38baf929c55c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/666614/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/logging-and-monitoring/monasca-guide.rst'],1,9ba00c8c0be8aab7487d338c7f7a1d6cd3ebdbc7,,"Migrating state from an existing Monasca deployment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ These steps should be considered after Monasca has been deployed by Kolla. The aim here is to provide some general guidelines on how to migrate service databases. Migration of time series or log data is not considered. Migrating service databases ^^^^^^^^^^^^^^^^^^^^^^^^^^^ The first step is to dump copies of the existing databases from wherever they are deployed. For example: .. code-block:: console mysqldump -h 10.0.0.1 -u grafana_db_user -p grafana_db > grafana_db.sql mysqldump -h 10.0.0.1 -u monasca_db_user -p monasca_db > monasca_db.sql These can then be loaded into the Kolla managed databases. Note that it simplest to get the database password, IP and port from the Monasca API Kolla config file in `/etc/kolla/monasca-api`. Note that the commands below drop and recreate each database before loading in the existing database. .. code-block:: console mysql -h 192.168.0.1 -u monasca -p -e ""drop database monasca_grafana; create database monasca_grafana;"" mysql -h 192.168.0.1 -u monasca -p monasca_grafana < grafana_db.sql A similar procedure is used to load the Monasca service database: .. code-block:: console mysql -h 192.168.0.1 -u monasca -p -e ""drop database monasca; create database monasca;"" mysql -h 192.198.0.1 -u monasca -p monasca < monasca_db.sql Migrating passwords ^^^^^^^^^^^^^^^^^^^ The next step is to set the Kolla Ansible service passwords so that they match the legacy services. The alternative of changing the passwords to match the passwords generated by Kolla Ansible is not considered here. The passwords which you may wish to set to match the original passwords are: .. code-block:: console monasca_agent_password: monasca_grafana_admin_password: These can be found in the Kolla Ansible passwords file. Stamping the database with an Alembic revision ID (migrations from pre-Rocky) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Kolla Ansible supports deploying Monasca from the Rocky release onwards. If you are migrating from Queens or below, your database will not have been stamped with a revision ID by Alembic, and this will not be automatic. Support for Alembic migrations was added to Monasca in the Rocky release. You will first need to make sure that the database you have loaded in has been manually migrated to the Queens schema. You can then stamp the database from any Monasca API container running the Rocky release onwards. An example of how this can be done is given below: .. code-block:: console sudo docker exec -it monasca_api monasca_db stamp --from-fingerprint Applying the configuration ^^^^^^^^^^^^^^^^^^^^^^^^^^ Restart Monasca services on all nodes, for example: .. code-block:: console for service in `docker ps | grep monasca_ | awk '{print $11}'`; do docker restart $service; done Apply the password changes by running the following command: .. code-block:: console kayobe overcloud service reconfigure --kolla-tags monasca ",,82,0
openstack%2Fkolla-ansible~stable%2Fqueens~I10c82dc5f83653beb60ddb86d558c5602153341a,openstack/kolla-ansible,stable/queens,I10c82dc5f83653beb60ddb86d558c5602153341a,Fix keystone fernet key rotation scheduling,MERGED,2019-06-18 18:09:14.000000000,2019-06-24 13:08:18.000000000,2019-06-24 13:08:17.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 18:09:14.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py', 'doc/source/reference/keystone-guide.rst', 'doc/source/reference/index.rst', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5cef35a7fbb8349ed6cbd5862b24caed52ff7a4', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_token_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nThis change also fixes the fernet cron job generator, which was broken\nin the following cases:\n\n* requesting an interval of more than 1 day resulted in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, resulted in no jobs\n\nIt should now be possible to request any interval up to a week divided\nby the number of hosts.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n(cherry picked from commit 6c1442c385450004dd253f3f464fe4336194be99)\n""}]",0,666095,d5cef35a7fbb8349ed6cbd5862b24caed52ff7a4,8,4,1,14826,,,0,"Fix keystone fernet key rotation scheduling

Right now every controller rotates fernet keys. This is nice because
should any controller die, we know the remaining ones will rotate the
keys. However, we are currently over-rotating the keys.

When we over rotate keys, we get logs like this:

 This is not a recognized Fernet token <token> TokenNotFound

Most clients can recover and get a new token, but some clients (like
Nova passing tokens to other services) can't do that because it doesn't
have the password to regenerate a new token.

With three controllers, in crontab in keystone-fernet we see the once a day
correctly staggered across the three controllers:

ssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab
0 0 * * * /usr/bin/fernet-rotate.sh
ssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab
0 8 * * * /usr/bin/fernet-rotate.sh
ssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab
0 16 * * * /usr/bin/fernet-rotate.sh

Currently with three controllers we have this keystone config:

[token]
expiration = 86400 (although, keystone default is one hour)
allow_expired_window = 172800 (this is the keystone default)

[fernet_tokens]
max_active_keys = 4

Currently, kolla-ansible configures key rotation according to the following:

   rotation_interval = token_expiration / num_hosts

This means we rotate keys more quickly the more hosts we have, which doesn't
make much sense.

Keystone docs state:

   max_active_keys =
     ((token_expiration + allow_expired_window) / rotation_interval) + 2

For details see:
https://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html

Rotation is based on pushing out a staging key, so should any server
start using that key, other servers will consider that valid. Then each
server in turn starts using the staging key, each in term demoting the
existing primary key to a secondary key. Eventually you prune the
secondary keys when there is no token in the wild that would need to be
decrypted using that key. So this all makes sense.

This change adds new variables for fernet_token_allow_expired_window and
fernet_key_rotation_interval, so that we can correctly calculate the
correct number of active keys. We now set the default rotation interval
so as to minimise the number of active keys to 3 - one primary, one
secondary, one buffer.

This change also fixes the fernet cron job generator, which was broken
in the following cases:

* requesting an interval of more than 1 day resulted in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, resulted in no jobs

It should now be possible to request any interval up to a week divided
by the number of hosts.

Change-Id: I10c82dc5f83653beb60ddb86d558c5602153341a
Closes-Bug: #1809469
(cherry picked from commit 6c1442c385450004dd253f3f464fe4336194be99)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/666095/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_fernet_rotate_cron_generator.py', 'doc/source/reference/keystone-guide.rst', 'doc/source/reference/index.rst', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml']",8,d5cef35a7fbb8349ed6cbd5862b24caed52ff7a4,bug/1809469,"--- upgrade: - | The Keystone fernet key rotation scheduling algorithm has been modified to avoid issues with over-rotation of keys. The variables ``fernet_token_expiry``, ``fernet_token_allow_expired_window`` and ``fernet_key_rotation_interval`` may be set to configure the token expiry and key rotation schedule. By default, ``fernet_token_expiry`` is 86400, ``fernet_token_allow_expired_window`` is 172800, and ``fernet_key_rotation_interval`` is the sum of these two variables. This allows for the minimum number of active keys - 3. See `bug 1809469 <https://launchpad.net/bugs/1809469>`__ for details. ",,239,98
openstack%2Fkolla-ansible~stable%2Fqueens~I655da1102dfb4ca12437b7db0b79c9a61568f79e,openstack/kolla-ansible,stable/queens,I655da1102dfb4ca12437b7db0b79c9a61568f79e,Add unit test for keystone fernet cron generator,MERGED,2019-06-18 18:02:39.000000000,2019-06-24 13:08:17.000000000,2019-06-24 13:08:16.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 18:02:39.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec2aa48c1713187dcb4ebfc836e45b8cfe5329c4', 'message': 'Add unit test for keystone fernet cron generator\n\nBefore making changes to this script, document its behaviour with a unit\ntest.\n\nThere are two major issues:\n\n* requesting an interval of more than 1 day results in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, results in no jobs\n\nChange-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e\nRelated-Bug: #1809469\n(cherry picked from commit 25ac955a4e2645da29f8c7b807f0bac5afb43838)\n'}]",0,666088,ec2aa48c1713187dcb4ebfc836e45b8cfe5329c4,8,4,1,14826,,,0,"Add unit test for keystone fernet cron generator

Before making changes to this script, document its behaviour with a unit
test.

There are two major issues:

* requesting an interval of more than 1 day results in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, results in no jobs

Change-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e
Related-Bug: #1809469
(cherry picked from commit 25ac955a4e2645da29f8c7b807f0bac5afb43838)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/666088/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_fernet_rotate_cron_generator.py'],1,ec2aa48c1713187dcb4ebfc836e45b8cfe5329c4,bug/1809469-stable/queens,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import imp import os import sys from oslotest import base this_dir = os.path.dirname(sys.modules[__name__].__file__) file_under_test = os.path.join(this_dir, '..', 'ansible', 'roles', 'keystone', 'files', 'fernet_rotate_cron_generator.py') generator = imp.load_source('generator', file_under_test) class FernetRotateCronGeneratorTest(base.BaseTestCase): def _test(self, host_index, total_hosts, total_rotation_mins, expected): result = generator.generate(host_index, total_hosts, total_rotation_mins) self.assertEqual(expected, result) def test_invalid_index(self): expected = [] self._test(1, 0, 0, expected) # total_rotation_mins == WEEK_SPAN: def test_1_week_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 1, 7 * 24 * 60, expected) def test_1_week_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 2, 7 * 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": 3}] self._test(1, 2, 7 * 24 * 60, expected) # total_rotation_mins == DAY_SPAN: def test_1_day_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 1, 24 * 60, expected) def test_1_day_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 2, 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": ""*""}] self._test(1, 2, 24 * 60, expected) # total_rotation_mins % HOUR_SPAN == 0: def test_1_hour_1_host(self): # nit: This could be a single hour: '*'. expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 1, 60, expected) def test_1_hour_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 2, 60, expected) expected = [{""min"": 30, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(1, 2, 60, expected) def test_2_hours_1_host(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 1, 2 * 60, expected) def test_2_hours_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 2, 2 * 60, expected) expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(1, 24, 2)] self._test(1, 2, 2 * 60, expected) def test_2_days_1_host(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 1, 2 * 24 * 60, expected) def test_2_days_2_hosts(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 2, 2 * 24 * 60, expected) expected = [] self._test(1, 2, 2 * 24 * 60, expected) # total_rotation_mins % MINUTE_SPAN == 0: def test_1_minute_1_host(self): # This could be a single hour: '*'. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 1, 1, expected) def test_1_minute_2_hosts(self): # This is kind of broken, but its an edge case so nevermind. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 2, 1, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(1, 2, 1, expected) def test_2_minutes_1_host(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 1, 2, expected) def test_2_minutes_2_hosts(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 2, 2, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(1, 60, 2)] self._test(1, 2, 2, expected) def test_61_minutes_1_host(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) def test_61_minutes_2_hosts(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) expected = [] self._test(1, 2, 61, expected) ",,154,0
openstack%2Fkolla-ansible~stable%2Frocky~I10c82dc5f83653beb60ddb86d558c5602153341a,openstack/kolla-ansible,stable/rocky,I10c82dc5f83653beb60ddb86d558c5602153341a,Fix keystone fernet key rotation scheduling,MERGED,2019-06-18 18:06:36.000000000,2019-06-24 13:08:16.000000000,2019-06-24 13:08:16.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 18:06:36.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py', 'doc/source/reference/keystone-guide.rst', 'doc/source/reference/index.rst', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d66e95d1d96c9f5aee52740df53d6e784c7b8194', 'message': ""Fix keystone fernet key rotation scheduling\n\nRight now every controller rotates fernet keys. This is nice because\nshould any controller die, we know the remaining ones will rotate the\nkeys. However, we are currently over-rotating the keys.\n\nWhen we over rotate keys, we get logs like this:\n\n This is not a recognized Fernet token <token> TokenNotFound\n\nMost clients can recover and get a new token, but some clients (like\nNova passing tokens to other services) can't do that because it doesn't\nhave the password to regenerate a new token.\n\nWith three controllers, in crontab in keystone-fernet we see the once a day\ncorrectly staggered across the three controllers:\n\nssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab\n0 0 * * * /usr/bin/fernet-rotate.sh\nssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab\n0 8 * * * /usr/bin/fernet-rotate.sh\nssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab\n0 16 * * * /usr/bin/fernet-rotate.sh\n\nCurrently with three controllers we have this keystone config:\n\n[token]\nexpiration = 86400 (although, keystone default is one hour)\nallow_expired_window = 172800 (this is the keystone default)\n\n[fernet_tokens]\nmax_active_keys = 4\n\nCurrently, kolla-ansible configures key rotation according to the following:\n\n   rotation_interval = token_expiration / num_hosts\n\nThis means we rotate keys more quickly the more hosts we have, which doesn't\nmake much sense.\n\nKeystone docs state:\n\n   max_active_keys =\n     ((token_expiration + allow_expired_window) / rotation_interval) + 2\n\nFor details see:\nhttps://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html\n\nRotation is based on pushing out a staging key, so should any server\nstart using that key, other servers will consider that valid. Then each\nserver in turn starts using the staging key, each in term demoting the\nexisting primary key to a secondary key. Eventually you prune the\nsecondary keys when there is no token in the wild that would need to be\ndecrypted using that key. So this all makes sense.\n\nThis change adds new variables for fernet_token_allow_expired_window and\nfernet_key_rotation_interval, so that we can correctly calculate the\ncorrect number of active keys. We now set the default rotation interval\nso as to minimise the number of active keys to 3 - one primary, one\nsecondary, one buffer.\n\nThis change also fixes the fernet cron job generator, which was broken\nin the following cases:\n\n* requesting an interval of more than 1 day resulted in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, resulted in no jobs\n\nIt should now be possible to request any interval up to a week divided\nby the number of hosts.\n\nChange-Id: I10c82dc5f83653beb60ddb86d558c5602153341a\nCloses-Bug: #1809469\n(cherry picked from commit 6c1442c385450004dd253f3f464fe4336194be99)\n""}]",0,666093,d66e95d1d96c9f5aee52740df53d6e784c7b8194,8,4,1,14826,,,0,"Fix keystone fernet key rotation scheduling

Right now every controller rotates fernet keys. This is nice because
should any controller die, we know the remaining ones will rotate the
keys. However, we are currently over-rotating the keys.

When we over rotate keys, we get logs like this:

 This is not a recognized Fernet token <token> TokenNotFound

Most clients can recover and get a new token, but some clients (like
Nova passing tokens to other services) can't do that because it doesn't
have the password to regenerate a new token.

With three controllers, in crontab in keystone-fernet we see the once a day
correctly staggered across the three controllers:

ssh ctrl1 sudo cat /etc/kolla/keystone-fernet/crontab
0 0 * * * /usr/bin/fernet-rotate.sh
ssh ctrl2 sudo cat /etc/kolla/keystone-fernet/crontab
0 8 * * * /usr/bin/fernet-rotate.sh
ssh ctrl3 sudo cat /etc/kolla/keystone-fernet/crontab
0 16 * * * /usr/bin/fernet-rotate.sh

Currently with three controllers we have this keystone config:

[token]
expiration = 86400 (although, keystone default is one hour)
allow_expired_window = 172800 (this is the keystone default)

[fernet_tokens]
max_active_keys = 4

Currently, kolla-ansible configures key rotation according to the following:

   rotation_interval = token_expiration / num_hosts

This means we rotate keys more quickly the more hosts we have, which doesn't
make much sense.

Keystone docs state:

   max_active_keys =
     ((token_expiration + allow_expired_window) / rotation_interval) + 2

For details see:
https://docs.openstack.org/keystone/stein/admin/fernet-token-faq.html

Rotation is based on pushing out a staging key, so should any server
start using that key, other servers will consider that valid. Then each
server in turn starts using the staging key, each in term demoting the
existing primary key to a secondary key. Eventually you prune the
secondary keys when there is no token in the wild that would need to be
decrypted using that key. So this all makes sense.

This change adds new variables for fernet_token_allow_expired_window and
fernet_key_rotation_interval, so that we can correctly calculate the
correct number of active keys. We now set the default rotation interval
so as to minimise the number of active keys to 3 - one primary, one
secondary, one buffer.

This change also fixes the fernet cron job generator, which was broken
in the following cases:

* requesting an interval of more than 1 day resulted in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, resulted in no jobs

It should now be possible to request any interval up to a week divided
by the number of hosts.

Change-Id: I10c82dc5f83653beb60ddb86d558c5602153341a
Closes-Bug: #1809469
(cherry picked from commit 6c1442c385450004dd253f3f464fe4336194be99)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/666093/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_fernet_rotate_cron_generator.py', 'doc/source/reference/keystone-guide.rst', 'doc/source/reference/index.rst', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/keystone/files/fernet_rotate_cron_generator.py', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fernet-key-rotation-8d40041d7d783dc7.yaml']",8,d66e95d1d96c9f5aee52740df53d6e784c7b8194,bug/1809469,"--- upgrade: - | The Keystone fernet key rotation scheduling algorithm has been modified to avoid issues with over-rotation of keys. The variables ``fernet_token_expiry``, ``fernet_token_allow_expired_window`` and ``fernet_key_rotation_interval`` may be set to configure the token expiry and key rotation schedule. By default, ``fernet_token_expiry`` is 86400, ``fernet_token_allow_expired_window`` is 172800, and ``fernet_key_rotation_interval`` is the sum of these two variables. This allows for the minimum number of active keys - 3. See `bug 1809469 <https://launchpad.net/bugs/1809469>`__ for details. ",,239,98
openstack%2Fhorizon~master~Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3,openstack/horizon,master,Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3,"Auto refresh, part2",ABANDONED,2019-05-27 08:36:13.000000000,2019-06-24 13:04:06.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30474}]","[{'number': 1, 'created': '2019-05-27 08:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d385c9810585370d00e8544cca26bbc993c8e984', 'message': '[WIP]auto refresh, part 2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 2, 'created': '2019-05-27 09:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/057cfd67c1284ccb4b28bd8dc5bbc8453482c830', 'message': '[WIP]auto refresh, part 2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 3, 'created': '2019-05-27 09:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6e13713afa351579678804a7a4b9ce4830eacfda', 'message': '[WIP]auto refresh, part 2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 4, 'created': '2019-05-28 02:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9e51d3f78a1fac9f6e7526e5c6873bbfd02e5aed', 'message': '[WIP]auto refresh, part 2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 5, 'created': '2019-05-28 03:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a31f12e52d9caa2d6b83c9e82624a5eb8fa9ed31', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 6, 'created': '2019-05-28 04:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bbf9f22ef19c1d3e501d334dda7b84d3157175c0', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 7, 'created': '2019-05-28 05:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/256353e2b90719b2eb0a30b86266588c8a1f9077', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 8, 'created': '2019-05-28 06:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/be2bb863b1a9b5859bf5989d79e07fd9261e4c1e', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 9, 'created': '2019-05-28 08:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/35d16ce14448a0944c6b83fde7e876659a60a2b8', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 10, 'created': '2019-05-28 09:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9f23d1235fd58fbaff5f11f817b6d46ebe4bf25c', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 11, 'created': '2019-05-30 03:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3fb4711be107e2c4f0f862557859e65c5bfb0096', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 12, 'created': '2019-05-30 03:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/81b0322aaa914467c3d77c4348214e2025338030', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 13, 'created': '2019-05-31 02:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/00bb33843db8bf952e08d59d42382ec024360b16', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 14, 'created': '2019-06-03 05:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e17bbe8709c103af10c60cd9ef736d39ac9d31ed', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 15, 'created': '2019-06-03 06:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/78269124aeee658a474bedba980104134a967ad7', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 16, 'created': '2019-06-03 09:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6790543fb1e88938fa27092d50b6288fb7c44e36', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 17, 'created': '2019-06-04 04:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/249ec2fccfa72e6eccd33260a91b1283f54b7e2c', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 18, 'created': '2019-06-04 06:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/099d93502643d5114fcf29b2f8a4c36fbfc9b922', 'message': '[WIP]auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 19, 'created': '2019-06-15 06:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e57bb7bb681f974288a3aac3d1c599fe09e9d261', 'message': 'Auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 20, 'created': '2019-06-21 14:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/142358486416b4ca08e62beda5a416bfe3d77de9', 'message': 'Auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 21, 'created': '2019-06-22 04:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/72ad057ba2232eab728f7be0ae9e26d5cbb9ec73', 'message': 'Auto refresh table, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 22, 'created': '2019-06-22 06:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f64c746d8737ad5677ed614c10f4cd76076530cf', 'message': 'Auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}, {'number': 23, 'created': '2019-06-22 08:18:41.000000000', 'files': ['horizon/static/horizon/js/horizon.tables.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4b3485b8800ee89a9afc1acabd45dbeca890231b', 'message': 'Auto refresh, part2\n\nChange-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3\n'}]",2,661564,4b3485b8800ee89a9afc1acabd45dbeca890231b,70,4,23,30474,,,0,"Auto refresh, part2

Change-Id: Id1fa5bf70f58c33cea82b5cc2c2fe74bea8fcdc3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/661564/19 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.tables.js'],1,d385c9810585370d00e8544cca26bbc993c8e984,bp/auto-refresh,"horizon.datatables.replace_row = function (old_row, new_row) { // Directly accessing the checked property of the element // is MUCH faster than using jQuery's helper method var $checkbox = old_row.find('.table-row-multi-select'); if($checkbox.length && $checkbox[0].checked) { // Preserve the checkbox if it's already clicked new_row.find('.table-row-multi-select').prop('checked', true); } new_row.addClass(""updated""); old_row.replaceWith(new_row); }; horizon.datatables.qs = {};horizon.datatables.refresh = function (html) { var refreshed = true; refresh_start_time = new Date().getTime(); $(html).find('table.datatable').each(function() { var $new_table = $(this); var $old_table = $('table#' + $new_table.attr('id')); var changed = false; var row_changed = false; // Do not update the table if an action column is expanded if ($old_table.find('.actions_column .btn-group.open').length) { return true; } if (horizon.modals.confirm && horizon.modals.confirm.is("":visible"")) { return true; } // Cleanup updated state $old_table.find('tr.updated').removeClass('updated flash'); no_results_row_removed = false; // Remove old entries that no longer exist $old_table.find('tbody > tr[id]').not('.empty').each(function() { var $old_row = $(this); var $new_row = $new_table.find('tr#' + $old_row.attr('id').replace(/[!""#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, ""\\$&"")); if (!$new_row.length) { // Remove stale entry from table $old_row.remove(); changed = true; } }); // Insert or update new entries $($new_table.find('tbody > tr[id]').get().reverse()).not('.empty').each(function() { row_changed = false; var $new_row = $(this); var $old_row = $old_table.find('tr#' + $new_row.attr('id').replace(/[!""#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g, ""\\$&"")); if ($old_row.length) { // Only replace row if the html content has changed, or it is in the warning state if($new_row.text() != $old_row.text() || $new_row.hasClass('warning')) { horizon.datatables.replace_row($old_row, $new_row); changed = true; row_changed = true; } } else { // Append the new row since it does not exist in the current table if (!no_results_row_removed) { no_results_row_removed = true; horizon.datatables.remove_no_results_row($old_table); } $new_row.addClass(""updated""); $old_table.find('tbody').prepend($new_row); changed = true; row_changed = true; } if (row_changed) { // CGCS: The following code is from the upstream row update // functionality and must be kept up to date if ($new_row.hasClass('warning')) { var $container = $(document.createElement('div')) .addClass('progress-text horizon-loading-bar'); var $progress = $(document.createElement('div')) .addClass('progress progress-striped active') .appendTo($container); // CGCS: incomplete progress bar addition $width = $new_row.find('[percent]:first').attr('percent') || ""100%""; $(document.createElement('div')) .addClass('progress-bar') .css(""width"", $width) .appendTo($progress); // if action/confirm is required, show progress-bar with ""?"" // icon to indicate user action is required if ($new_row.find('.btn-action-required').length > 0) { $(document.createElement('span')) .addClass('fa fa-question-circle progress-bar-text') .appendTo($container); } $new_row.find(""td.warning:last"").prepend($container); } } }); // Update the table actions (which can be affected by system state or quotas) $new_table.find('.table_actions').children('.btn').each(function() { var $new_action = $(this); var $old_action = $old_table.find('#' + $new_action.attr('id')); if (!$new_action.length || !$old_action.length) { return true; } if ($new_action[0].outerHTML != $old_action[0].outerHTML) { $old_action.replaceWith($new_action); changed = true; } }); // Update table state if the table has been modified if (changed) { row_count = horizon.datatables.update_footer_count($old_table); if (row_count==0) { horizon.datatables.add_no_results_row($old_table); } // Reset tablesorter's data cache. $old_table.trigger(""update""); horizon.datatables.fix_row_striping($old_table); // Reset quicksearch filter cache. if ($new_table.attr('id') in horizon.datatables.qs) { horizon.datatables.qs[$new_table.attr('id')].cache(); } // Revalidate the button check for the updated table horizon.datatables.validate_button(); if($old_table.find('[ng-controller]').length) { recompileAngularContent($old_table); } // Flash updated rows $old_table.find('tr.updated').addClass(""flash""); } }); refreshed_elapsed_time = new Date().getTime() - refresh_start_time; // uncomment to debug performance on browser log // Don't let this method take more than 1.5 sec 1500 millisecs // console.log(""refresh elapsed time = ""+ refreshed_elapsed_time); return refreshed; }; if ($('table.datatable').length > 0) { // Register callback handler to update the tables on page refresh horizon.refresh.addRefreshFunction(horizon.datatables.refresh); } else { horizon.tabs.addTabLoadFunction(function() { if ($('table.datatable').length > 0) { // Register callback handler to update the tables on page refresh horizon.refresh.addRefreshFunction(horizon.datatables.refresh); } }); } "," if (typeof horizon.datatables.qs === ""undefined""){ horizon.datatables.qs = {}; }",169,3
openstack%2Fopenstack-ansible-os_glance~stable%2Frocky~I146148e195269435fcf6175e0b5f0df5b077900a,openstack/openstack-ansible-os_glance,stable/rocky,I146148e195269435fcf6175e0b5f0df5b077900a,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:00:41.000000000,2019-06-24 12:57:06.000000000,2019-06-24 12:57:06.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:00:41.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/82f5bfb87260d673fd2935e1e25db09376478cd3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I146148e195269435fcf6175e0b5f0df5b077900a\n'}]",0,666681,82f5bfb87260d673fd2935e1e25db09376478cd3,12,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I146148e195269435fcf6175e0b5f0df5b077900a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/81/666681/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,82f5bfb87260d673fd2935e1e25db09376478cd3,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fcinder~master~Ib25fe9e1cbb827c959cfe4e3bd1c98a65a953a70,openstack/cinder,master,Ib25fe9e1cbb827c959cfe4e3bd1c98a65a953a70,Add Python 3 Train unit tests,ABANDONED,2019-06-21 21:17:57.000000000,2019-06-24 12:53:30.000000000,,"[{'_account_id': 9008}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-21 21:17:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb881f04fbd37a0fbe5d2805d5852c33ea1f29ee', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib25fe9e1cbb827c959cfe4e3bd1c98a65a953a70\nStory: #2005924\nTask: #34200\n'}]",0,666928,eb881f04fbd37a0fbe5d2805d5852c33ea1f29ee,12,9,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib25fe9e1cbb827c959cfe4e3bd1c98a65a953a70
Story: #2005924
Task: #34200
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/666928/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb881f04fbd37a0fbe5d2805d5852c33ea1f29ee,python3-train,"envlist = py27,py36,py37,compliance,pep8","envlist = py37,py27,compliance,pep8",1,1
openstack%2Fkolla-ansible~stable%2Frocky~I655da1102dfb4ca12437b7db0b79c9a61568f79e,openstack/kolla-ansible,stable/rocky,I655da1102dfb4ca12437b7db0b79c9a61568f79e,Add unit test for keystone fernet cron generator,MERGED,2019-06-18 18:02:31.000000000,2019-06-24 12:39:18.000000000,2019-06-24 12:39:17.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-18 18:02:31.000000000', 'files': ['tests/test_fernet_rotate_cron_generator.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3e5ab0dc3b87c6ddae78a8f29d268ebe840638d', 'message': 'Add unit test for keystone fernet cron generator\n\nBefore making changes to this script, document its behaviour with a unit\ntest.\n\nThere are two major issues:\n\n* requesting an interval of more than 1 day results in no jobs\n* requesting an interval of more than 60 minutes, unless an exact\n  multiple of 60 minutes, results in no jobs\n\nChange-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e\nRelated-Bug: #1809469\n(cherry picked from commit 25ac955a4e2645da29f8c7b807f0bac5afb43838)\n'}]",0,666087,c3e5ab0dc3b87c6ddae78a8f29d268ebe840638d,8,4,1,14826,,,0,"Add unit test for keystone fernet cron generator

Before making changes to this script, document its behaviour with a unit
test.

There are two major issues:

* requesting an interval of more than 1 day results in no jobs
* requesting an interval of more than 60 minutes, unless an exact
  multiple of 60 minutes, results in no jobs

Change-Id: I655da1102dfb4ca12437b7db0b79c9a61568f79e
Related-Bug: #1809469
(cherry picked from commit 25ac955a4e2645da29f8c7b807f0bac5afb43838)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/666087/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_fernet_rotate_cron_generator.py'],1,c3e5ab0dc3b87c6ddae78a8f29d268ebe840638d,bug/1809469-stable/rocky,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import imp import os import sys from oslotest import base this_dir = os.path.dirname(sys.modules[__name__].__file__) file_under_test = os.path.join(this_dir, '..', 'ansible', 'roles', 'keystone', 'files', 'fernet_rotate_cron_generator.py') generator = imp.load_source('generator', file_under_test) class FernetRotateCronGeneratorTest(base.BaseTestCase): def _test(self, host_index, total_hosts, total_rotation_mins, expected): result = generator.generate(host_index, total_hosts, total_rotation_mins) self.assertEqual(expected, result) def test_invalid_index(self): expected = [] self._test(1, 0, 0, expected) # total_rotation_mins == WEEK_SPAN: def test_1_week_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 1, 7 * 24 * 60, expected) def test_1_week_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": 0}] self._test(0, 2, 7 * 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": 3}] self._test(1, 2, 7 * 24 * 60, expected) # total_rotation_mins == DAY_SPAN: def test_1_day_1_host(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 1, 24 * 60, expected) def test_1_day_2_hosts(self): expected = [{""min"": 0, ""hour"": 0, ""day"": ""*""}] self._test(0, 2, 24 * 60, expected) expected = [{""min"": 0, ""hour"": 12, ""day"": ""*""}] self._test(1, 2, 24 * 60, expected) # total_rotation_mins % HOUR_SPAN == 0: def test_1_hour_1_host(self): # nit: This could be a single hour: '*'. expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 1, 60, expected) def test_1_hour_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(0, 2, 60, expected) expected = [{""min"": 30, ""hour"": hour, ""day"": ""*""} for hour in range(24)] self._test(1, 2, 60, expected) def test_2_hours_1_host(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 1, 2 * 60, expected) def test_2_hours_2_hosts(self): expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(0, 24, 2)] self._test(0, 2, 2 * 60, expected) expected = [{""min"": 0, ""hour"": hour, ""day"": ""*""} for hour in range(1, 24, 2)] self._test(1, 2, 2 * 60, expected) def test_2_days_1_host(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 1, 2 * 24 * 60, expected) def test_2_days_2_hosts(self): # FIXME: Anything greater than 1 day (except 1 week) returns no jobs. expected = [] self._test(0, 2, 2 * 24 * 60, expected) expected = [] self._test(1, 2, 2 * 24 * 60, expected) # total_rotation_mins % MINUTE_SPAN == 0: def test_1_minute_1_host(self): # This could be a single hour: '*'. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 1, 1, expected) def test_1_minute_2_hosts(self): # This is kind of broken, but its an edge case so nevermind. expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(0, 2, 1, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(60)] self._test(1, 2, 1, expected) def test_2_minutes_1_host(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 1, 2, expected) def test_2_minutes_2_hosts(self): expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(0, 60, 2)] self._test(0, 2, 2, expected) expected = [{""min"": min, ""hour"": ""*"", ""day"": ""*""} for min in range(1, 60, 2)] self._test(1, 2, 2, expected) def test_61_minutes_1_host(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) def test_61_minutes_2_hosts(self): # FIXME: Anything greater than 1 hour (unless an integer number of # hours) returns no jobs. expected = [] self._test(0, 1, 61, expected) expected = [] self._test(1, 2, 61, expected) ",,154,0
openstack%2Frally-openstack~master~I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb,openstack/rally-openstack,master,I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb,Adds support for choosing first network created in context.,MERGED,2019-05-31 14:03:15.000000000,2019-06-24 12:33:49.000000000,2019-06-24 12:33:49.000000000,"[{'_account_id': 9545}, {'_account_id': 10068}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 29738}]","[{'number': 1, 'created': '2019-05-31 14:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/72511d2a1e4001fec45d36c34fb71ee43e6c60af', 'message': ""Adds support for choosing first network created in context.\n\nIf scenario doesn't accept parameter 'auto_assign_nic' it will choose first available network created in context.\n\nChange-Id: I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb\nCloses-Bug: #1831247\n""}, {'number': 2, 'created': '2019-06-03 11:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d640866dac00f0e47dcecf97ea0f0cc59008920a', 'message': ""Adds support for choosing first network created in context.\n\nIf scenario doesn't accept parameter 'auto_assign_nic'\nit will choose first available network created in context.\n\nChange-Id: I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb\nCloses-Bug: #1831247\n""}, {'number': 3, 'created': '2019-06-03 13:42:00.000000000', 'files': ['rally_openstack/scenarios/nova/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d63de4bdb0d8653e2fb36e8a9499dcfbce0f9a3f', 'message': ""Adds support for choosing first network created in context.\n\nIf scenario doesn't accept parameter 'auto_assign_nic'\nit will choose first available network created in context.\n\nChange-Id: I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb\nCloses-Bug: #1831247\n""}]",0,662475,d63de4bdb0d8653e2fb36e8a9499dcfbce0f9a3f,27,5,3,29738,,,0,"Adds support for choosing first network created in context.

If scenario doesn't accept parameter 'auto_assign_nic'
it will choose first available network created in context.

Change-Id: I3aa8bb2d400abb593f5a2110b5aab82e3d08fcdb
Closes-Bug: #1831247
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/75/662475/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/nova/utils.py'],1,72511d2a1e4001fec45d36c34fb71ee43e6c60af,bug/1831247," if ""nics"" not in kwargs and ""networks"" in self.context[""tenant""]: kwargs[""nics""] = [{""net-id"": self.context[""tenant""][""networks""][0][""id""]}] ",,3,0
openstack%2Frally-openstack~master~If900a48e5b307d4fc12538eae959694840e6aa24,openstack/rally-openstack,master,If900a48e5b307d4fc12538eae959694840e6aa24,Fix :param: in docstring,MERGED,2019-06-17 02:58:34.000000000,2019-06-24 12:20:09.000000000,2019-06-24 12:20:09.000000000,"[{'_account_id': 9545}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-17 02:58:34.000000000', 'files': ['rally_openstack/scenarios/neutron/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b9c4a13c5d0e81d951aef93b6b5ac5633bc2a1c4', 'message': 'Fix :param: in docstring\n\n:param should be used in docstring, instead of :param:.\n\nChange-Id: If900a48e5b307d4fc12538eae959694840e6aa24\n'}]",0,665571,b9c4a13c5d0e81d951aef93b6b5ac5633bc2a1c4,10,3,1,20190,,,0,"Fix :param: in docstring

:param should be used in docstring, instead of :param:.

Change-Id: If900a48e5b307d4fc12538eae959694840e6aa24
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/71/665571/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/scenarios/neutron/utils.py'],1,b9c4a13c5d0e81d951aef93b6b5ac5633bc2a1c4,param," :param network: str, network name/id :param kwargs: dict, network options :returns: str, Neutron network-id :param subnet: Subnet object :param kwargs: Optional additional arguments for subnet show :param floating_network: str, external network to create floating IP :param floating_ip_args: dict, POST /floatingips create options :returns: dict, neutron floating IP :param dict, floating IP object :param security_group_create_args: dict, POST /v2.0/security-groups :returns: dict, neutron security-group :param security_group: dict, neutron security_group :param security_group: dict, neutron security_group :param kwargs: Optional additional arguments for security_group show :param security_group: dict, neutron security_group :param security_group_update_args: dict, POST /v2.0/security-groups :returns: dict, updated neutron security-group :param security_group_id: id of neutron security_group :param security_group_rule_args: dict, POST /v2.0/security-group-rules request options :returns: dict, neutron security-group-rule"," param network: str, network name/id param kwargs: dict, network options returns: str, Neutron network-id :param: subnet: Subnet object :param: kwargs: Optional additional arguments for subnet show param: floating_network: str, external network to create floating IP param: floating_ip_args: dict, POST /floatingips create options returns: dict, neutron floating IP :param: dict, floating IP object param: security_group_create_args: dict, POST /v2.0/security-groups return: dict, neutron security-group param: security_group: dict, neutron security_group :param: security_group: dict, neutron security_group :param: kwargs: Optional additional arguments for security_group show param: security_group: dict, neutron security_group param: security_group_update_args: dict, POST /v2.0/security-groups return: dict, updated neutron security-group param: security_group_id: id of neutron security_group param: security_group_rule_args: dict, POST /v2.0/security-group-rules request options return: dict, neutron security-group-rule",21,21
openstack%2Frequirements~master~I836a6218ff5fccf4aab74b37a5a682601a388106,openstack/requirements,master,I836a6218ff5fccf4aab74b37a5a682601a388106,Use UTF-8 to decode subprocess output on py3,MERGED,2019-06-19 03:39:58.000000000,2019-06-24 12:14:52.000000000,2019-06-24 12:14:52.000000000,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 03:39:58.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f094c78968ad746d1785cbcc20acb00c4c6acf21', 'message': 'Use UTF-8 to decode subprocess output on py3\n\nOtherwise, you get output like\n\n    Branch: master\n    Source: src/opendev.org/openstack/swift\n    Requirements: /home/zuul/src/opendev.org/openstack/requirements\n    git log -n 1 --format=%H\n    Patch under test: b\'f683ca84318da31492f214f978a55bdc1be70c2c\'\n    git --git-dir /home/zuul/src/opendev.org/openstack/requirements/.git rev-parse HEAD\n    requirements git sha: b\'9ebc858033d7998a167941f1b7b060de60d17244\'\n    virtualenv /tmp/tmp9l32_z5b/venv\n    /tmp/tmp9l32_z5b/venv/bin/pip install /home/zuul/src/opendev.org/openstack/requirements\n    Checking b\'f683ca84318da31492f214f978a55bdc1be70c2c\'\n\n(Note the bytes getting interpolated in the ""Patch under test"",\n""requirements git sha"", and ""Checking"" lines.)\n\nChange-Id: I836a6218ff5fccf4aab74b37a5a682601a388106\n'}]",3,666206,f094c78968ad746d1785cbcc20acb00c4c6acf21,24,5,1,15343,,,0,"Use UTF-8 to decode subprocess output on py3

Otherwise, you get output like

    Branch: master
    Source: src/opendev.org/openstack/swift
    Requirements: /home/zuul/src/opendev.org/openstack/requirements
    git log -n 1 --format=%H
    Patch under test: b'f683ca84318da31492f214f978a55bdc1be70c2c'
    git --git-dir /home/zuul/src/opendev.org/openstack/requirements/.git rev-parse HEAD
    requirements git sha: b'9ebc858033d7998a167941f1b7b060de60d17244'
    virtualenv /tmp/tmp9l32_z5b/venv
    /tmp/tmp9l32_z5b/venv/bin/pip install /home/zuul/src/opendev.org/openstack/requirements
    Checking b'f683ca84318da31492f214f978a55bdc1be70c2c'

(Note the bytes getting interpolated in the ""Patch under test"",
""requirements git sha"", and ""Checking"" lines.)

Change-Id: I836a6218ff5fccf4aab74b37a5a682601a388106
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/666206/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,f094c78968ad746d1785cbcc20acb00c4c6acf21,," kwargs = {} if sys.version_info >= (3, ): kwargs = { 'encoding': 'utf-8', 'errors': 'surrogateescape', } stderr=subprocess.PIPE, **kwargs)", stderr=subprocess.PIPE),7,1
openstack%2Fkolla-ansible~stable%2Fstein~I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,openstack/kolla-ansible,stable/stein,I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2,Make Ceph upgrade check Ceph release to avoid EPERM,MERGED,2019-06-19 10:33:01.000000000,2019-06-24 12:09:54.000000000,2019-06-24 12:09:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-19 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/578457af39484970ec3994faf40e8795c11a0749', 'message': 'Make Ceph upgrade check Ceph release to avoid EPERM\n\nSince we have different upgrade paths, we must use the actually\ninstalled Ceph release name when doing require-osd-release\n\nCloses-Bug: #1832989\n\nChange-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446)\n'}, {'number': 2, 'created': '2019-06-19 10:34:13.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7eb9e80235c385dd0b48e02215b1f2a24d63a649', 'message': 'Make Ceph upgrade check Ceph release to avoid EPERM\n\nSince we have different upgrade paths, we must use the actually\ninstalled Ceph release name when doing require-osd-release\n\nCloses-Bug: #1832989\n\nChange-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446)\n'}]",0,666260,7eb9e80235c385dd0b48e02215b1f2a24d63a649,10,3,2,30491,,,0,"Make Ceph upgrade check Ceph release to avoid EPERM

Since we have different upgrade paths, we must use the actually
installed Ceph release name when doing require-osd-release

Closes-Bug: #1832989

Change-Id: I6aaa4b4ac0fb739f7ad885c13f55b6db969996a2
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 0ea991e4d2c633ec97c1c9e9b7c96ee3b053a446)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/666260/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/upgrade.yml'],1,578457af39484970ec3994faf40e8795c11a0749,,"<<<<<<< HEAD======= - name: Check final release (as running on MONs) become: true shell: docker exec ceph_mon ceph version | cut -d' ' -f5 changed_when: false register: ceph_release_command >>>>>>> 0ea991e4d... Make Ceph upgrade check Ceph release to avoid EPERM run_once: true - name: Finalize the upgrade by disallowing older OSDs become: true command: docker exec ceph_mon ceph osd require-osd-release {{ ceph_release_command.stdout }} changed_when: false delegate_to: ""{{ groups['ceph-mon'][0] }}"" run_once: true", changed_when: False run_once: True,16,2
openstack%2Fpython-cinderclient~master~Ica5d278cb7455befe1db4be0ab65114fd606ea0a,openstack/python-cinderclient,master,Ica5d278cb7455befe1db4be0ab65114fd606ea0a,Add missed 'Server ID' output in attachment-list,MERGED,2019-05-14 02:51:02.000000000,2019-06-24 12:07:33.000000000,2019-06-24 12:07:33.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 8037}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-14 02:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/e1d317b27cf8ab23f66516effa854df3279c2bd2', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}, {'number': 2, 'created': '2019-05-15 07:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/15727bc012e07315309469d4164a0bd9842f1e9b', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}, {'number': 3, 'created': '2019-05-15 09:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/6adb654bc886b56725cef4a5e821c9af7fe45504', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}, {'number': 4, 'created': '2019-05-24 11:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/1ac3afa55e4ae11735d2b0de93c722a25cffd75d', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}, {'number': 5, 'created': '2019-05-31 01:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/db9152a61c3ddd5944e415ff8da8ec9303bd5fcf', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}, {'number': 6, 'created': '2019-06-04 10:11:02.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/tests/unit/v3/test_shell.py', 'cinderclient/tests/unit/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/03f228c11e0d88dcc396b30b7544b5cfde894750', 'message': 'Add missed \'Server ID\' output in attachment-list\n\n\'server_id\' is not Attachment attribute, should be\nset by \'instance\' attribute.\n\nv3/attachments respond body:\n\n{""attachments"":\n   [{""status"": ""attached"",\n     ""instance"": INSTANCE_UUID,\n     ""id"": ATTACHMENT_UUID,\n     ""volume_id"": VOLUME_UUID,\n    },\n    ...\n    ]\n}\n\nChange-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a\n'}]",0,658948,03f228c11e0d88dcc396b30b7544b5cfde894750,22,5,6,8037,,,0,"Add missed 'Server ID' output in attachment-list

'server_id' is not Attachment attribute, should be
set by 'instance' attribute.

v3/attachments respond body:

{""attachments"":
   [{""status"": ""attached"",
     ""instance"": INSTANCE_UUID,
     ""id"": ATTACHMENT_UUID,
     ""volume_id"": VOLUME_UUID,
    },
    ...
    ]
}

Change-Id: Ica5d278cb7455befe1db4be0ab65114fd606ea0a
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/48/658948/6 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/v3/shell.py'],1,e1d317b27cf8ab23f66516effa854df3279c2bd2,fix_attachment_cli," for attachment in attachments: setattr(attachment, 'server_id', getattr(attachment, 'instance', None))",,2,0
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Frocky~I156c376d16268e820fb7aad97cdf3272c43cb1ba,openstack/openstack-ansible-os_ceilometer,stable/rocky,I156c376d16268e820fb7aad97cdf3272c43cb1ba,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:00:07.000000000,2019-06-24 12:06:07.000000000,2019-06-24 12:06:06.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:00:07.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/891d49b92831d2f9c0eaa502906e67089e1caab0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I156c376d16268e820fb7aad97cdf3272c43cb1ba\n'}]",0,666676,891d49b92831d2f9c0eaa502906e67089e1caab0,9,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I156c376d16268e820fb7aad97cdf3272c43cb1ba
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/76/666676/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,891d49b92831d2f9c0eaa502906e67089e1caab0,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fstein~If0de68878d0325e6fef9c0a4e700c2fd4c3e9e60,openstack/openstack-ansible-os_octavia,stable/stein,If0de68878d0325e6fef9c0a4e700c2fd4c3e9e60,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:06:14.000000000,2019-06-24 12:04:09.000000000,2019-06-24 12:04:09.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:06:14.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/ace8b076a5cb4b2a9e36a6cc1a86a1f809d5da0e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If0de68878d0325e6fef9c0a4e700c2fd4c3e9e60\n'}]",0,666715,ace8b076a5cb4b2a9e36a6cc1a86a1f809d5da0e,11,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If0de68878d0325e6fef9c0a4e700c2fd4c3e9e60
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/15/666715/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,ace8b076a5cb4b2a9e36a6cc1a86a1f809d5da0e,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~I8c5e8c57bbb513a39cab0b7784c544e9937cae6b,openstack/openstack-ansible-os_nova,stable/stein,I8c5e8c57bbb513a39cab0b7784c544e9937cae6b,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:06:07.000000000,2019-06-24 11:56:00.000000000,2019-06-24 11:56:00.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:06:07.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/285705d079e3d726078920b48ebd8db3d8cc6502', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8c5e8c57bbb513a39cab0b7784c544e9937cae6b\n'}]",0,666714,285705d079e3d726078920b48ebd8db3d8cc6502,12,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I8c5e8c57bbb513a39cab0b7784c544e9937cae6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/14/666714/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,285705d079e3d726078920b48ebd8db3d8cc6502,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fsenlin~master~I35ade4973fef3286e566b1d6b411cea92c022187,openstack/senlin,master,I35ade4973fef3286e566b1d6b411cea92c022187,Fix wrong assert function name,MERGED,2019-06-24 04:14:19.000000000,2019-06-24 11:46:20.000000000,2019-06-24 11:46:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}]","[{'number': 1, 'created': '2019-06-24 04:14:19.000000000', 'files': ['senlin/tests/unit/engine/service/test_clusters.py', 'senlin/tests/unit/engine/test_health_manager.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/faf42a890b18925f522327332deb1e55ef58de78', 'message': 'Fix wrong assert function name\n\nThis is to fix the wrong assert function names of asset_called_once_with\nand asset_not_called.\n\nChange-Id: I35ade4973fef3286e566b1d6b411cea92c022187\n'}]",0,667007,faf42a890b18925f522327332deb1e55ef58de78,7,3,1,20190,,,0,"Fix wrong assert function name

This is to fix the wrong assert function names of asset_called_once_with
and asset_not_called.

Change-Id: I35ade4973fef3286e566b1d6b411cea92c022187
",git fetch https://review.opendev.org/openstack/senlin refs/changes/07/667007/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/engine/service/test_clusters.py', 'senlin/tests/unit/engine/test_health_manager.py']",2,faf42a890b18925f522327332deb1e55ef58de78,asset, self.mock_tg.thread_done.assert_not_called() self.mock_tg.timer_done.assert_not_called(), self.mock_tg.thread_done.asset_not_called() self.mock_tg.timer_done.asset_not_called(),3,3
openstack%2Fneutron~stable%2Fpike~I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,openstack/neutron,stable/pike,I99d01d7bf29f236eff0f80d1ae8659f64ac55d39,DVR: on new port only send router update on port's host,MERGED,2019-06-18 04:29:47.000000000,2019-06-24 11:39:30.000000000,2019-06-24 11:39:30.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-18 04:29:47.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/249549379cdb2d43ebde061b76acb07fa4274146', 'message': ""DVR: on new port only send router update on port's host\n\nWhen new DVR serviceable port appears on new node we need\nto update node's l3 agent with all routers which have the\nport's subnets, including connected routers.\nWe don't need to update all nodes hosting these routers.\nIt costs us much as all l3 agents then go back to neutron server\nand request routers info for no good reason.\nThis was one of the main issues with DVR at scale fixed in Mitaka.\n\nChange-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39\nRelated-Bug: #1830456\n(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)\n""}]",0,665858,249549379cdb2d43ebde061b76acb07fa4274146,32,6,1,5948,,,0,"DVR: on new port only send router update on port's host

When new DVR serviceable port appears on new node we need
to update node's l3 agent with all routers which have the
port's subnets, including connected routers.
We don't need to update all nodes hosting these routers.
It costs us much as all l3 agents then go back to neutron server
and request routers info for no good reason.
This was one of the main issues with DVR at scale fixed in Mitaka.

Change-Id: I99d01d7bf29f236eff0f80d1ae8659f64ac55d39
Related-Bug: #1830456
(cherry picked from commit 52529bc949acff9a3454abd44925342468064b78)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/665858/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py']",3,249549379cdb2d43ebde061b76acb07fa4274146,bug/1830456-stable/pike," 2, l3_notifier.routers_updated_on_host.call_count)"," mock.call(self.context, mock.ANY, HOST1), 3, l3_notifier.routers_updated_on_host.call_count) mock.call(self.context, mock.ANY, HOST1),",15,34
openstack%2Fopenstack-ansible-os_swift~stable%2Frocky~I817124f6c31739b9ddc04a285afa885e76a4de86,openstack/openstack-ansible-os_swift,stable/rocky,I817124f6c31739b9ddc04a285afa885e76a4de86,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:02:55.000000000,2019-06-24 11:38:46.000000000,2019-06-24 11:38:46.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:02:55.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/7f94abb6502c0678228530ed9b3c07238ded1ca9', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I817124f6c31739b9ddc04a285afa885e76a4de86\n'}]",0,666692,7f94abb6502c0678228530ed9b3c07238ded1ca9,14,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I817124f6c31739b9ddc04a285afa885e76a4de86
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/92/666692/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,7f94abb6502c0678228530ed9b3c07238ded1ca9,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fkolla-ansible~master~I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb,openstack/kolla-ansible,master,I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb,Implement Apache WSGI for Qinling,MERGED,2019-06-20 17:10:44.000000000,2019-06-24 11:30:59.000000000,2019-06-24 11:30:59.000000000,"[{'_account_id': 14826}, {'_account_id': 16006}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 17:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc4bbcabc888ab8a17911390ecbc18bea52651c3', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\nQinling Docker image review[2] has ben created,\n\n[1] https://review.opendev.org/661851\n[2] https://review.opendev.org/666647\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}, {'number': 2, 'created': '2019-06-20 17:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d83fef8099ad149a9acd2154f3f358ae9e8ee7bc', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\nQinling Docker image review[2] has ben created.\n\n[1] https://review.opendev.org/661851\n[2] https://review.opendev.org/666647\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}, {'number': 3, 'created': '2019-06-20 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d56ef9ae797e8d0a2a8f2bdb6db21869754452e', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\nQinling Docker image review[2] has ben created.\n\n[1] https://review.opendev.org/661851\n[2] https://review.opendev.org/666647\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}, {'number': 4, 'created': '2019-06-21 13:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b7120b748676e224730e40f559dd3b3628a26ab', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\n""api_worker"" option is not needed anymore because processes will\nbe handle by Apache mod_wsgi.\n\nQinling Docker image review[2] has ben created.\n\n[1] https://review.opendev.org/661851\n[2] https://review.opendev.org/666647\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}, {'number': 5, 'created': '2019-06-21 13:46:09.000000000', 'files': ['ansible/roles/qinling/handlers/main.yml', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/qinling/templates/qinling-api.json.j2', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/qinling/templates/qinling.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f867c471fbfbcca02144cc619b6edb4d9144e73a', 'message': 'Implement Apache WSGI for Qinling\n\nSince this review[1], Qinling supports WSGI execution.\n\nFrom a production perspective, Qinling should be deployed\nusing Apache and mod_wsgi.\n\n""api_worker"" option is not needed anymore because processes will\nbe handle by Apache mod_wsgi.\n\nQinling Docker image review[2] has ben created.\n\n[1] https://review.opendev.org/661851\n[2] https://review.opendev.org/666647\n\nChange-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb\nStory: 2005920\nTask: 34181\n'}]",2,666649,f867c471fbfbcca02144cc619b6edb4d9144e73a,17,4,5,16006,,,0,"Implement Apache WSGI for Qinling

Since this review[1], Qinling supports WSGI execution.

From a production perspective, Qinling should be deployed
using Apache and mod_wsgi.

""api_worker"" option is not needed anymore because processes will
be handle by Apache mod_wsgi.

Qinling Docker image review[2] has ben created.

[1] https://review.opendev.org/661851
[2] https://review.opendev.org/666647

Change-Id: I9aaee4c2932f1e4ea9fe780a64e96a28fa6bccfb
Story: 2005920
Task: 34181
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/666649/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/qinling/handlers/main.yml', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/qinling/templates/qinling-api.json.j2', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/qinling/templates/qinling.conf.j2']",5,cc4bbcabc888ab8a17911390ecbc18bea52651c3,2005920/34181, {% if service_name == 'qinling-api' %} # Force qinling-api.log or will use wsgi.py log_file = /var/log/kolla/qinling/qinling-api.log {% endif %} ,,59,1
openstack%2Ftripleo-heat-templates~master~If4bc4ed0e9fa31e11a5a701dc57ffdf67aade861,openstack/tripleo-heat-templates,master,If4bc4ed0e9fa31e11a5a701dc57ffdf67aade861,Re-enable manila dashboard,MERGED,2019-06-11 06:37:27.000000000,2019-06-24 11:27:49.000000000,2019-06-12 05:44:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29455}, {'_account_id': 30025}]","[{'number': 1, 'created': '2019-06-11 06:37:27.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1de24c49624049787cbd290d11b1eecefc4d62df', 'message': 'Re-enable manila dashboard\n\nThe Shared File Systems service (manila) provides\na dashboard plugin that needs to be enabled by\ntripleo. It appears that it was disabled inadvertently\nwhile triaging a bug with the dashboard and sqlite.\n\nSee: Launchpad bug #1766184\nand associated commit: https://review.opendev.org/#/c/613186/\n\nChange-Id: If4bc4ed0e9fa31e11a5a701dc57ffdf67aade861\nCloses-Bug: #1832302\n'}]",0,664505,1de24c49624049787cbd290d11b1eecefc4d62df,18,9,1,16643,,,0,"Re-enable manila dashboard

The Shared File Systems service (manila) provides
a dashboard plugin that needs to be enabled by
tripleo. It appears that it was disabled inadvertently
while triaging a bug with the dashboard and sqlite.

See: Launchpad bug #1766184
and associated commit: https://review.opendev.org/#/c/613186/

Change-Id: If4bc4ed0e9fa31e11a5a701dc57ffdf67aade861
Closes-Bug: #1832302
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/664505/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,1de24c49624049787cbd290d11b1eecefc4d62df,bug/1832302, - ENABLE_MANILA=yes, - ENABLE_MANILA=no,1,1
openstack%2Fopenstack-ansible-os_barbican~stable%2Frocky~Id14fa9286a49d39d8d37d447ce2f8550042e3ccb,openstack/openstack-ansible-os_barbican,stable/rocky,Id14fa9286a49d39d8d37d447ce2f8550042e3ccb,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 19:59:54.000000000,2019-06-24 11:26:43.000000000,2019-06-24 11:26:43.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 19:59:54.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/c0f45f93d4ab5c25c094783bdcb3db5db5e82479', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id14fa9286a49d39d8d37d447ce2f8550042e3ccb\n'}]",0,666674,c0f45f93d4ab5c25c094783bdcb3db5db5e82479,9,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id14fa9286a49d39d8d37d447ce2f8550042e3ccb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/74/666674/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,c0f45f93d4ab5c25c094783bdcb3db5db5e82479,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Frocky~I150505b24584bd6ffdc134402bf6061df1e7b411,openstack/openstack-ansible-os_neutron,stable/rocky,I150505b24584bd6ffdc134402bf6061df1e7b411,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:02:09.000000000,2019-06-24 11:24:23.000000000,2019-06-24 11:24:23.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:02:09.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/deaa4f36c53886050c9fa336e5d1730d99134517', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I150505b24584bd6ffdc134402bf6061df1e7b411\n'}]",0,666687,deaa4f36c53886050c9fa336e5d1730d99134517,14,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I150505b24584bd6ffdc134402bf6061df1e7b411
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/87/666687/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,deaa4f36c53886050c9fa336e5d1730d99134517,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fmonasca-ceilometer~master~Idcedcf7f1629d7b462692270d4345e52e23d3e32,openstack/monasca-ceilometer,master,Idcedcf7f1629d7b462692270d4345e52e23d3e32,Switch python3 versions of test jobs to match Train PTI,MERGED,2019-06-24 06:48:57.000000000,2019-06-24 11:15:24.000000000,2019-06-24 11:15:23.000000000,"[{'_account_id': 8556}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-24 06:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/fe2d41c8bf095fb6b87a803413c2607c1938047a', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Idcedcf7f1629d7b462692270d4345e52e23d3e32\n'}, {'number': 2, 'created': '2019-06-24 08:19:07.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/6e5217a0c391548e0de2c59a8e84c313e5b8566a', 'message': 'Switch python3 versions of test jobs to match Train PTI\n\nIn Train, we will use python 3.6 and 3.7 for python3 runtime\nin our gate jobs [1]. This commit also adds python 3.7.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/train.html\n\nChange-Id: Idcedcf7f1629d7b462692270d4345e52e23d3e32\n'}]",3,667024,6e5217a0c391548e0de2c59a8e84c313e5b8566a,14,4,2,19457,,,0,"Switch python3 versions of test jobs to match Train PTI

In Train, we will use python 3.6 and 3.7 for python3 runtime
in our gate jobs [1]. This commit also adds python 3.7.

[1] https://governance.openstack.org/tc/reference/runtimes/train.html

Change-Id: Idcedcf7f1629d7b462692270d4345e52e23d3e32
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/24/667024/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,fe2d41c8bf095fb6b87a803413c2607c1938047a,python3-train,"envlist = py36,pep8,py27,py3,py37","envlist = py36,pep8,py27",3,2
openstack%2Fkolla-ansible~master~I48ed6c1c71c4162a3ab28ab2b51dc1e02932dfef,openstack/kolla-ansible,master,I48ed6c1c71c4162a3ab28ab2b51dc1e02932dfef,Designate - remove obsolete task,MERGED,2019-06-21 19:23:03.000000000,2019-06-24 11:08:44.000000000,2019-06-24 11:08:44.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 19:23:03.000000000', 'files': ['ansible/roles/designate/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/957f6dd453a811f6c94a32bf443d09e356a4be50', 'message': 'Designate - remove obsolete task\n\n""Check if policies shall be overwritten"" already exists in its\nnewer form. The removed one had no effect on play.\n\nChange-Id: I48ed6c1c71c4162a3ab28ab2b51dc1e02932dfef\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666906,957f6dd453a811f6c94a32bf443d09e356a4be50,7,3,1,30491,,,0,"Designate - remove obsolete task

""Check if policies shall be overwritten"" already exists in its
newer form. The removed one had no effect on play.

Change-Id: I48ed6c1c71c4162a3ab28ab2b51dc1e02932dfef
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/666906/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/designate/tasks/config.yml'],1,957f6dd453a811f6c94a32bf443d09e356a4be50,designate-obsolete-task,,"- name: Check if policies shall be overwritten local_action: stat path=""{{ node_custom_config }}/designate/policy.json"" run_once: True register: designate_policy ",0,5
openstack%2Fopenstack-ansible-os_masakari~stable%2Frocky~I19635542929580992b7a6c3b7aa33cb332c39d7e,openstack/openstack-ansible-os_masakari,stable/rocky,I19635542929580992b7a6c3b7aa33cb332c39d7e,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:01:38.000000000,2019-06-24 10:46:22.000000000,2019-06-24 10:46:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:01:38.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/db43893f494c7249be05650b23575b1e6fc3cebd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I19635542929580992b7a6c3b7aa33cb332c39d7e\n'}]",0,666685,db43893f494c7249be05650b23575b1e6fc3cebd,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I19635542929580992b7a6c3b7aa33cb332c39d7e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/85/666685/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,db43893f494c7249be05650b23575b1e6fc3cebd,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fopenstack-ansible-os_blazar~stable%2Frocky~I14908196dfa269b0bff8bdc1f00dad6d7dbec39b,openstack/openstack-ansible-os_blazar,stable/rocky,I14908196dfa269b0bff8bdc1f00dad6d7dbec39b,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:00:00.000000000,2019-06-24 10:38:12.000000000,2019-06-24 10:38:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 20:00:00.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/7faba5e2e962163fa2e9b7aa097c7899f4170abc', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I14908196dfa269b0bff8bdc1f00dad6d7dbec39b\n'}]",0,666675,7faba5e2e962163fa2e9b7aa097c7899f4170abc,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I14908196dfa269b0bff8bdc1f00dad6d7dbec39b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/75/666675/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,7faba5e2e962163fa2e9b7aa097c7899f4170abc,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fopenstack-ansible-os_mistral~stable%2Fstein~I98bd89e0388e759c94d430def87455111b014650,openstack/openstack-ansible-os_mistral,stable/stein,I98bd89e0388e759c94d430def87455111b014650,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 20:05:39.000000000,2019-06-24 10:36:46.000000000,2019-06-24 10:36:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-20 20:05:39.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/d6eb66eb6a6ed96811de16acdd47db6ec93f35bf', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I98bd89e0388e759c94d430def87455111b014650\n'}]",0,666712,d6eb66eb6a6ed96811de16acdd47db6ec93f35bf,8,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I98bd89e0388e759c94d430def87455111b014650
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/12/666712/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,d6eb66eb6a6ed96811de16acdd47db6ec93f35bf,openstack/openstack-ansible-tests/sync-tests, update_password: always, force: true,1,1
openstack%2Fnova~master~I0193784ac177b260d2aed626fac6ad34de96ad2f,openstack/nova,master,I0193784ac177b260d2aed626fac6ad34de96ad2f,DNM: Tester for grenade job,ABANDONED,2018-08-29 15:24:40.000000000,2019-06-24 10:36:36.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-08-29 15:24:40.000000000', 'files': ['nova/context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b3b8d07b5a9d9fac5603d319f693b8483e53153b', 'message': 'DNM: Tester for grenade job\n\nChange-Id: I0193784ac177b260d2aed626fac6ad34de96ad2f\nDepends-On: https://review.openstack.org/#/c/597206\n'}]",0,597566,b3b8d07b5a9d9fac5603d319f693b8483e53153b,43,16,1,4393,,,0,"DNM: Tester for grenade job

Change-Id: I0193784ac177b260d2aed626fac6ad34de96ad2f
Depends-On: https://review.openstack.org/#/c/597206
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/597566/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/context.py'],1,b3b8d07b5a9d9fac5603d319f693b8483e53153b,tester,# poop,,1,0
openstack%2Fopenstack-ansible-os_aodh~stable%2Frocky~I1ab2dabf290555bb278b6c61ec745f51fb0d450a,openstack/openstack-ansible-os_aodh,stable/rocky,I1ab2dabf290555bb278b6c61ec745f51fb0d450a,Updated from OpenStack Ansible Tests,MERGED,2019-06-20 19:59:48.000000000,2019-06-24 10:33:38.000000000,2019-06-24 10:33:38.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-20 19:59:48.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/fde216d7e4c39adc7fa955ad8bd3a42bb0625dfa', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I1ab2dabf290555bb278b6c61ec745f51fb0d450a\n'}]",0,666673,fde216d7e4c39adc7fa955ad8bd3a42bb0625dfa,15,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I1ab2dabf290555bb278b6c61ec745f51fb0d450a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/73/666673/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,fde216d7e4c39adc7fa955ad8bd3a42bb0625dfa,openstack/openstack-ansible-tests/sync-tests," failed_when: false force: false - name: Verify password changed command: ""rabbitmqctl authenticate_user {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" register: notify_password_changed failed_when: false when: _oslomsg_notify_userid != _oslomsg_rpc_userid - name: Set password when changed command: ""rabbitmqctl change_password {{ _oslomsg_notify_userid }} {{ _oslomsg_notify_password }}"" when: - notify_password_changed.rc | default(0) != 0 - _oslomsg_notify_userid != _oslomsg_rpc_userid ", force: true,14,1
openstack%2Fnova~master~I6d4c02025cf84572f2f62ac63dd706db9394849e,openstack/nova,master,I6d4c02025cf84572f2f62ac63dd706db9394849e,"hacking: Resolve E731 (do not assign a lambda expression, use a def)",ABANDONED,2019-04-10 14:26:02.000000000,2019-06-24 10:24:25.000000000,,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-10 14:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c138cb845e8371b14f52b8148d33e32576fa058d', 'message': ""hacking: Resolve E731 issues\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-04-12 09:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57a0234aa1f4db346d149fefc6ff7e9ba49f131d', 'message': ""hacking: Resolve E731 issues\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-04-12 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c74496d19beed40521def14a878e9c15d5e4a99', 'message': ""hacking: Resolve E731 issues\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-04-15 10:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a37738e65dca62e5890d0abfa3661c8767365ef3', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-05-20 10:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f6b9f6503e007b9f3426a32259fd9c939cc9f55', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-05-29 16:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62ce7dcc3534270a0a9603991e57d46b650df4ab', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-06-13 15:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7863bcf6941007b3ec942a561aef856c038c07ea', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2019-06-17 16:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbfa4331b9b5614bcdcc8092dfaf032990129213', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2019-06-21 17:54:02.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/cmd/manage.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/unit/objects/test_instance_numa_topology.py', 'nova/objects/host_mapping.py', 'nova/objects/request_spec.py', 'nova/virt/libvirt/driver.py', 'nova/tests/fixtures.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'tox.ini', 'nova/compute/api.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6942237212c67792be1e494b3016c3f67e7a7b82', 'message': ""hacking: Resolve E731 (do not assign a lambda expression, use a def)\n\nMost of these were introduced in\nI1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they\nweren't picked up before. Fix them now anyway.\n\nChange-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",12,651554,6942237212c67792be1e494b3016c3f67e7a7b82,89,15,9,15334,,,0,"hacking: Resolve E731 (do not assign a lambda expression, use a def)

Most of these were introduced in
I1ef4a23aa2bf5cb46b481045f3d968f62f74606d though I don't know how they
weren't picked up before. Fix them now anyway.

Change-Id: I6d4c02025cf84572f2f62ac63dd706db9394849e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/651554/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/functional/db/test_host_mapping.py', 'nova/tests/unit/virt/libvirt/storage/test_rbd.py', 'nova/db/sqlalchemy/api.py', 'nova/objects/host_mapping.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/api/openstack/placement/direct.py', 'nova/compute/api.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/objects/test_build_request.py', 'nova/cmd/manage.py', 'nova/cells/messaging.py', 'nova/tests/unit/objects/test_flavor.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/objects/test_instance_numa_topology.py', 'nova/objects/request_spec.py', 'nova/tests/fixtures.py', 'nova/objects/instance.py', 'tox.ini', 'nova/tests/unit/db/test_db_api.py']",24,c138cb845e8371b14f52b8148d33e32576fa058d,hacking-update," def obj_to_dict(o): return self._dict_from_object(o, ignored_keys) def sort_key(d): return [d[k] for k in sorted(d)] def conv_and_sort(obj): return sorted(map(obj_to_dict, obj), key=sort_key) def obj_to_dict(o): return self._dict_from_object(o, ignored_keys) def conv(objs): return[obj_to_dict(obj) for obj in objs] def prepare_ips(x): return {'address': x}"," obj_to_dict = lambda o: self._dict_from_object(o, ignored_keys) sort_key = lambda d: [d[k] for k in sorted(d)] conv_and_sort = lambda obj: sorted(map(obj_to_dict, obj), key=sort_key) obj_to_dict = lambda o: self._dict_from_object(o, ignored_keys) conv = lambda objs: [obj_to_dict(obj) for obj in objs] prepare_ips = lambda x: {'address': x}",231,170
openstack%2Fpython-novaclient~master~Ifa5cf9820be29f498c218105272837cac50cb643,openstack/python-novaclient,master,Ifa5cf9820be29f498c218105272837cac50cb643,Fix duplicate object description error,MERGED,2019-06-19 02:35:21.000000000,2019-06-24 10:20:18.000000000,2019-06-24 10:20:18.000000000,"[{'_account_id': 679}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-06-19 02:35:21.000000000', 'files': ['doc/source/reference/api/index.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/763898687d67c0818f80428f21ca5f321951a052', 'message': 'Fix duplicate object description error\n\nAdd a directive option flag :noindex:\nin reference/api/index.rst.\n\nChange-Id: Ifa5cf9820be29f498c218105272837cac50cb643\nCloses-Bug: #1833327\n'}]",0,666203,763898687d67c0818f80428f21ca5f321951a052,8,4,1,7634,,,0,"Fix duplicate object description error

Add a directive option flag :noindex:
in reference/api/index.rst.

Change-Id: Ifa5cf9820be29f498c218105272837cac50cb643
Closes-Bug: #1833327
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/03/666203/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/api/index.rst'],1,763898687d67c0818f80428f21ca5f321951a052,bug/1833327, :noindex:,,1,0
openstack%2Foslo.log~master~Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77,openstack/oslo.log,master,Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77,Create volume with Chinese character raise error in debug mode,ABANDONED,2018-01-19 10:31:09.000000000,2019-06-24 10:02:44.000000000,,"[{'_account_id': 2472}, {'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 27567}]","[{'number': 1, 'created': '2018-01-19 10:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/cb85842dd7a182a722af05a30a1b6389e799119e', 'message': 'Create volume with Chinese character raise error in debug mode\n\nWhen set debug=True in cinder.conf, Create a volume with Chinese\ncharacter will raise error\n\nChange-Id: Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77\nCloses-Bug: #1703493\n'}, {'number': 2, 'created': '2018-01-19 13:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/eb3227254bc62929c402532accf96bda58fdb794', 'message': 'Create volume with Chinese character raise error in debug mode\n\nWhen set debug True in cinder.conf, Create a volume with Chinese\ncharacter will raise error\n\nChange-Id: Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77\nCloses-Bug: #1703493\n'}, {'number': 3, 'created': '2018-01-26 04:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b1dd7976ed8a1b54b559e2d936511e3604092fd6', 'message': 'Create volume with Chinese character raise error in debug mode\n\nWhen set debug True in cinder.conf, Create a volume with Chinese\ncharacter will raise error\n\nChange-Id: Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77\nCloses-Bug: #1703493\n'}, {'number': 4, 'created': '2018-01-26 04:48:18.000000000', 'files': ['oslo_log/formatters.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/1059ea2087c477572503095f7a4161df9d07990f', 'message': 'Create volume with Chinese character raise error in debug mode\n\nWhen set debug True in cinder.conf, Create a volume with Chinese\ncharacter will raise error\n\nChange-Id: Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77\nCloses-Bug: #1703493\n'}]",0,535721,1059ea2087c477572503095f7a4161df9d07990f,11,4,4,27567,,,0,"Create volume with Chinese character raise error in debug mode

When set debug True in cinder.conf, Create a volume with Chinese
character will raise error

Change-Id: Ie1f26d24adaf0957de16ff37c5b2aecda2af2e77
Closes-Bug: #1703493
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/21/535721/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/formatters.py'],1,cb85842dd7a182a722af05a30a1b6389e799119e,bug/1703493, reload(sys) sys.setdefaultencoding('utf-8') ,,5,0
openstack%2Fnetworking-ovn~master~I5b5196cddcd27a43f37b5d0aff153520588bb298,openstack/networking-ovn,master,I5b5196cddcd27a43f37b5d0aff153520588bb298,[DNM]Add support to enable Public Network during Devstack setup,ABANDONED,2019-05-20 11:01:48.000000000,2019-06-24 10:02:38.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-20 11:01:48.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ad1b8564b7758c905ed53c55d71ca7dc5bdc0926', 'message': '[DNM]Add support to enable Public Network during Devstack setup\n\nChange-Id: I5b5196cddcd27a43f37b5d0aff153520588bb298\n'}]",3,660092,ad1b8564b7758c905ed53c55d71ca7dc5bdc0926,6,4,1,17776,,,0,"[DNM]Add support to enable Public Network during Devstack setup

Change-Id: I5b5196cddcd27a43f37b5d0aff153520588bb298
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/660092/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/networking-ovn', 'devstack/plugin.sh']",2,ad1b8564b7758c905ed53c55d71ca7dc5bdc0926,test_branch, enable_public_network,,14,1
openstack%2Foslo.policy~master~I89990ab33e5b1675f058e8571e9bc8099cd64cf7,openstack/oslo.policy,master,I89990ab33e5b1675f058e8571e9bc8099cd64cf7,Implement base for pluggable policy drivers,ABANDONED,2018-06-25 12:53:02.000000000,2019-06-24 10:00:39.000000000,,"[{'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 11589}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-06-25 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b05e9670009743d619fe3f6acee20c68751d567b', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 2, 'created': '2018-06-25 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/1892b7283e0a8dec6797819fc002e4507b9e929c', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 3, 'created': '2018-06-25 15:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4e37e499e57b1c0cc8f5aeac4d0e7eb74c318cd2', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 4, 'created': '2018-06-25 15:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/0a959066d9c0a8e05a955fda90747d4b32102bd2', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 5, 'created': '2018-06-26 08:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f23c2d37a4d4e3ebcd4140158d66bf966cd65fdb', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nDepends-On: https://review.openstack.org/578024\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 6, 'created': '2018-06-26 08:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f4504cd2988465720bee8e729b54866a912f6c87', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a function which returns the driver, this\n  way the projects don't need to change anything.\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nDepends-On: https://review.openstack.org/578024\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 7, 'created': '2018-06-26 13:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/37c6fa991764e4eb05e66ad3ebbb5dbfaccc12c0', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 8, 'created': '2018-06-27 04:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2ba7175f5fd09614f043d6d7b98833c4f125e344', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 9, 'created': '2018-06-27 05:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/22f9aee95199bec9058195ea6249eba16622c085', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 10, 'created': '2018-06-27 05:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/bd12cfb1c302b6af4a9ad91ef3e733913e04999f', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 11, 'created': '2018-06-27 06:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ba8db160378e795058c5c59c395454032f4cbd03', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The primary implementation is the default enforcer returned by our\n  driver mechanism.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 12, 'created': '2018-06-27 09:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a3f87e746d79e6e7a2eaf927709a4b709f3a1e2d', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 13, 'created': '2018-06-27 09:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/18313b9f3600fd07aa69fc7f754ad230d8c09c01', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected. This is because objects returned by\n  the super() call, are not the parent objects themselves, but a proxy\n  object which implements its own __getattribute__ function.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 14, 'created': '2018-06-28 07:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/d5525999b55b1ea5912bcfb5c815178884ec4006', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected. This is because objects returned by\n  the super() call, are not the parent objects themselves, but a proxy\n  object which implements its own __getattribute__ function.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 15, 'created': '2018-07-26 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a696745ac5fc47873616e91b089bec97dfcbc704', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected. This is because objects returned by\n  the super() call, are not the parent objects themselves, but a proxy\n  object which implements its own __getattribute__ function.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 16, 'created': '2018-09-19 11:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/9f4a67901b5af6e73de01fcba07d4d472c294cc4', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* An `enforcer` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.enforcer`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected. This is because objects returned by\n  the super() call, are not the parent objects themselves, but a proxy\n  object which implements its own __getattribute__ function.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 17, 'created': '2018-10-10 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a9db04c4020730d083b0ce3357b7537f7350ebb9', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* In order for classes that inherit from this to be able to use the\n  super() call, the Enforcer interface has to define some base functions\n  to be exposed. Attributes that are gotten by a regular way\n  (self.<attr>) work as expected. This is because objects returned by\n  the super() call, are not the parent objects themselves, but a proxy\n  object which implements its own __getattribute__ function.\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 18, 'created': '2018-10-10 13:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/ae9d02e7c6f5f93bc5201857a52baae791cccb6a', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 19, 'created': '2018-10-10 14:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/7b60cbae2a0ecf5fce87e9b9c2777585346466e0', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 20, 'created': '2018-10-10 16:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/538ced7639b356f6c327985162cc05fbad06c453', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 21, 'created': '2018-10-11 05:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/eac493d4725ed46064cd160298005ca91d58f2d7', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 22, 'created': '2018-10-11 05:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/81c7e2dd08fd89cc4766966bf81778a372a60e2b', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 23, 'created': '2018-10-11 05:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/66bd75bdfe1b19f563a49e89ab46f4b439b2183e', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 24, 'created': '2018-10-11 07:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/06090a90adffa718da70a2fbf9bde9401a775b5a', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nDepends-On: I9f04f8b8770b15ac24f9f1cd57a58c7e98b24d48\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}, {'number': 25, 'created': '2018-11-19 13:41:27.000000000', 'files': ['oslo_policy/tests/test_generator.py', 'releasenotes/notes/pluggable-policy-drivers-20688e195fe3160c.yaml', 'oslo_policy/_enforcers/base.py', 'oslo_policy/tests/base.py', 'oslo_policy/generator.py', 'oslo_policy/opts.py', 'oslo_policy/policy.py', 'oslo_policy/_enforcers/__init__.py', 'oslo_policy/_enforcers/default.py', 'setup.cfg', 'oslo_policy/tests/test_policy.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/320e21bb52f86f5942b37d2e4188ddc325ff3f9a', 'message': ""Implement base for pluggable policy drivers\n\nThis implements the base for pluggable drivers for policy enforcement.\nIt introduces several things:\n\n* A `driver` configuration option which allows you to specify the\n  named entry point from where to load the driver.\n\n* An entry point called `oslo.policy.drivers`, that's used by the\n  stevedore driver loader to load the enforcer class.\n\n* The Enforcer class is now a meta-class contains the driver, this\n  way the projects don't need to change anything and it also allows for\n  inheritance (which projects like Glance do).\n\n* The enforcer plugins will be located in the _enforcers/ directory\n\nbp pluggable-policy-drivers\n\nDepends-On: I9f04f8b8770b15ac24f9f1cd57a58c7e98b24d48\nChange-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7\n""}]",32,577807,320e21bb52f86f5942b37d2e4188ddc325ff3f9a,63,7,25,10873,,,0,"Implement base for pluggable policy drivers

This implements the base for pluggable drivers for policy enforcement.
It introduces several things:

* A `driver` configuration option which allows you to specify the
  named entry point from where to load the driver.

* An entry point called `oslo.policy.drivers`, that's used by the
  stevedore driver loader to load the enforcer class.

* The Enforcer class is now a meta-class contains the driver, this
  way the projects don't need to change anything and it also allows for
  inheritance (which projects like Glance do).

* The enforcer plugins will be located in the _enforcers/ directory

bp pluggable-policy-drivers

Depends-On: I9f04f8b8770b15ac24f9f1cd57a58c7e98b24d48
Change-Id: I89990ab33e5b1675f058e8571e9bc8099cd64cf7
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/07/577807/24 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pluggable-policy-drivers-20688e195fe3160c.yaml', 'oslo_policy/opts.py', 'oslo_policy/policy.py', 'setup.cfg']",4,b05e9670009743d619fe3f6acee20c68751d567b,bp/pluggable-policy-drivers,oslo.policy.enforcer = oslo_policy = oslo_policy.policy:_Enforcer ,,120,7
openstack%2Foslo.policy~master~I3b157764d0f010f139aca2f06d9c5620e5074094,openstack/oslo.policy,master,I3b157764d0f010f139aca2f06d9c5620e5074094,POC: Add Open Policy Agent driver,ABANDONED,2018-09-20 11:06:58.000000000,2019-06-24 10:00:34.000000000,,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-09-20 11:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/2f3a5d8ceb1f634f6b85ee66a14fb7a35e9b2c15', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 2, 'created': '2018-09-20 11:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/f14d670f8d31ce6b3bf48b22ff641af3b1dd31c1', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 3, 'created': '2018-09-20 11:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/8001df40e65b2f6f31ec9ce24ad938209a56dae2', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 4, 'created': '2018-09-20 11:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/e14da7a57ef8f6f0ae2e7d25c7e7d7792662feef', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 5, 'created': '2018-09-20 11:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/18be0c05c87e2d3f537742373ee755e5f4e86790', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 6, 'created': '2018-09-21 05:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5dbd69d3fd9946e2a0438850036a09c1d0c6d1b8', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 7, 'created': '2018-10-11 05:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4bfcf72f5656fcd5116ff83896b7e5168306f779', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 8, 'created': '2018-10-11 05:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/531c313b309d1faa8f3812c578b231431c331c2f', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 9, 'created': '2018-10-11 05:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4a063ca2a73fd55a0daaaa6576ae9484ac5f2600', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}, {'number': 10, 'created': '2018-10-11 07:04:51.000000000', 'files': ['oslo_policy/_enforcers/opa.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/0c347377872ae6f5fcf1ebd37cb260f2ea604cc3', 'message': ""POC: Add Open Policy Agent driver\n\nThis adds the OPA driver for oslo.policy. Since the agent itself handles\npolicy, a lot of operations (such as reloading the rules or loding new\nrules) are noop's instead.\n\nChange-Id: I3b157764d0f010f139aca2f06d9c5620e5074094\n""}]",11,604038,0c347377872ae6f5fcf1ebd37cb260f2ea604cc3,20,4,10,10873,,,0,"POC: Add Open Policy Agent driver

This adds the OPA driver for oslo.policy. Since the agent itself handles
policy, a lot of operations (such as reloading the rules or loding new
rules) are noop's instead.

Change-Id: I3b157764d0f010f139aca2f06d9c5620e5074094
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/38/604038/6 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/_enforcers/opa.py', 'setup.cfg']",2,2f3a5d8ceb1f634f6b85ee66a14fb7a35e9b2c15,bp/pluggable-policy-drivers, opa = oslo_policy._enforcers.opa:Enforcer,,191,0
openstack%2Foslo-specs~master~I7c3bdf8c5263a848c878b72a6c07eb1194f261a6,openstack/oslo-specs,master,I7c3bdf8c5263a848c878b72a6c07eb1194f261a6,Pluggable oslo.policy drivers,ABANDONED,2018-06-28 07:54:52.000000000,2019-06-24 10:00:28.000000000,,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 11589}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-06-28 07:54:52.000000000', 'files': ['specs/stein/oslo-policy-pluggable-drivers.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/1c14a4c32896604810e8123cf22b3c18128129e6', 'message': 'Pluggable oslo.policy drivers\n\nThis adds the spec to enable oslo.policy enforcers to be pluggable.\n\nbp pluggable-policy-drivers\n\nChange-Id: I7c3bdf8c5263a848c878b72a6c07eb1194f261a6\n'}]",6,578719,1c14a4c32896604810e8123cf22b3c18128129e6,10,6,1,10873,,,0,"Pluggable oslo.policy drivers

This adds the spec to enable oslo.policy enforcers to be pluggable.

bp pluggable-policy-drivers

Change-Id: I7c3bdf8c5263a848c878b72a6c07eb1194f261a6
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/19/578719/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/oslo-policy-pluggable-drivers.rst'],1,1c14a4c32896604810e8123cf22b3c18128129e6,bp/pluggable-policy-drivers,".. ================================= Pluggable Drivers for oslo.policy ================================= https://blueprints.launchpad.net/oslo.policy/+spec/pluggable-policy-drivers Having pluggable drivers for oslo.policy will enable us to use external policy engines. Using an external engine could help us solve the long-standing issue of not having a centralized place to store/update policies for OpenStack. Problem description =================== The current way that folks enable the usage of external policy engines is to overwrite the oslo.policy file for each service and call that engine using HTTP calls. While this solves the issue, it doesn't enable a lot of flexibility regarding communication to that external engine. For instance, it is not trivial to configure authentication with any method but mutual TLS. Proposed change =============== We could enable pluggable drivers by making the current enforcer (which is the oslo_policy.policy.Enforcer class) an interface class. This interface would then take care of all the logic of loading the relevant driver and exposing the functions and methods from that driver. This way, no OpenStack project has to be changed and it would automatically enable this capability for everyone. We would then enable an extra configuration option where deployers would be able to set the desired driver through its identifier coming from python entry-points. This would all be handled by stevedore. The current enforcer would then be the first driver, and would be what oslo.policy loads by default. Alternatives ------------ Keep the current approach of calling HTTP endpoints explicitly in the policy files. Impact on Existing APIs ----------------------- The current oslo_policy.policy.Enforcer would need to change to become an interface that exposes the driver, special care has to be taken to still enable all the attributes from the classic enforcer in such a way that projects won't notice the change. We would need to have an abstract enforcer class, from which enforcers should inherit and implement the relevant functions. Security impact --------------- This enhances security in the sense that it potentially enables easier ways for deployers to manage their policies. However, this can also be problematic for security, since it could allow deployers to use faulty policy engines. Performance Impact ------------------ Regarding the default policy engine, everything should stay the same, as calls to it should be direct. Performance per-driver will vary. Configuration Impact -------------------- This will enable a new configuration option to configure the oslo.policy driver. Configurations specific to the drivers will then move towards section corresponding to each driver. The default driver will keep its current configurations under the oslo_policy section of the configuration file, but should eventually move to its own section. Developer Impact ---------------- This should be seamless for other developers, as the interfaces will stay the same. Testing Impact -------------- For each driver that is created and maintained in the oslo_policy repository, there has to be relevant tests created. Implementation ============== Assignee(s) ----------- Primary assignee: juan-osorio-robles Work Items ---------- * Create pluggable interface for the policy enforcer * Move the current enforcer to its own file * Write documentation on this interface .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,116,0
